{"items":[{"tags":["java","spring-boot","docker","jackson","openshift"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682711742,"creation_date":1682710501,"answer_id":76132770,"question_id":76131144,"body_markdown":"# tl;dr\r\n\r\nUse [`java.time.Instant`][1], not [`java.time.LocalDateTime`][2]. No issue with time zone.\r\n\r\n# Use `Instant`, not `LocalDateTime`\r\n\r\n&gt; uses java.util.Date on it&#39;s entity and dto objects and we are working to change to LocalDateTime\r\n\r\n`LocalDateTime` is the wrong class to use here. That class purposely lacks any concept of time zone or offset-from-UTC. Therefore, objects of that class cannot represent a moment, a specific point on the timeline. With just a date and a time-of-day, we have know way to know if you mean that time in Tokyo, Toulouse, or Toledo, for example ‚Äî three very different moments several hours apart.\r\n\r\nThe class replacing `java.util.Date` is [`java.time.Instant`][1]. Both represent a moment, a specific point on the timeline, as seen with an offset of zero hours-minutes-seconds from UTC.\r\n\r\n&#128073; So **use `Instant`**. Your time zone issue goes away entirely. \r\n\r\n# ISO 8601\r\n\r\nWhen serializing textually to JSON, XML, etc., use only standard [ISO 8601][3] formats. For a moment in UTC, that would like this: `2023-04-28T19:31:41.078125Z`. The `Z` on the end is an abbreviation of `+00:00`, an offset of zero; pronounced ‚ÄúZulu‚Äù. \r\n\r\nThe *java.time* classes use ISO 8601 formats by default when parsing/generating text. No need to specify a formatting pattern.\r\n\r\n    String output = myInstant.toString() ;\r\n\r\n‚Ä¶ and:\r\n\r\n    Instant myInstant = Instant.parse( input ) ;\r\n\r\n\r\n# Applying a time zone\r\n\r\n\r\nTo view that moment through the wall-clock time of a particular time zone, apply a `ZoneId` to get a `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Vancouver&quot; ) ;\r\n    ZonedDateTime zdt = myInstant.atZone( z ) ;  // Same moment as the `Instant` object, but different wall-clock time &amp; possibly different date.\r\n\r\nIn this code, both `myInstant` and `zdt` represent the very same moment, the same simultaneous point on the timeline. Like two people calling each other in Vancouver BC and Reykjav&#237;k [Iceland][4], if both persons simultaneously look up at the calendar and clock on their respective walls, they will see a different time of day and possibly a different date.\r\n\r\n\r\n# Avoid default zone\r\n\r\n\r\n&gt; We are naturally having timezone issues when Jackson serializes our dto\r\n\r\nYou are **unnecessarily introducing time zone** where it is not needed.\r\n\r\nNotice how **none of the code above depends on a default** time zone. Write your code to avoid implicitly depending on the JVM‚Äôs current default time zone. Always pass the optional time zone argument. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://en.wikipedia.org/wiki/Time_in_Iceland","title":"Jackson time-zone property in Spring Boot application.yaml works in IDE but not in docker container","body":"<h1>tl;dr</h1>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>, not <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDateTime</code></a>. No issue with time zone.</p>\n<h1>Use <code>Instant</code>, not <code>LocalDateTime</code></h1>\n<blockquote>\n<p>uses java.util.Date on it's entity and dto objects and we are working to change to LocalDateTime</p>\n</blockquote>\n<p><code>LocalDateTime</code> is the wrong class to use here. That class purposely lacks any concept of time zone or offset-from-UTC. Therefore, objects of that class cannot represent a moment, a specific point on the timeline. With just a date and a time-of-day, we have know way to know if you mean that time in Tokyo, Toulouse, or Toledo, for example ‚Äî three very different moments several hours apart.</p>\n<p>The class replacing <code>java.util.Date</code> is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>java.time.Instant</code></a>. Both represent a moment, a specific point on the timeline, as seen with an offset of zero hours-minutes-seconds from UTC.</p>\n<p>üëâ So <strong>use <code>Instant</code></strong>. Your time zone issue goes away entirely.</p>\n<h1>ISO 8601</h1>\n<p>When serializing textually to JSON, XML, etc., use only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats. For a moment in UTC, that would like this: <code>2023-04-28T19:31:41.078125Z</code>. The <code>Z</code> on the end is an abbreviation of <code>+00:00</code>, an offset of zero; pronounced ‚ÄúZulu‚Äù.</p>\n<p>The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text. No need to specify a formatting pattern.</p>\n<pre><code>String output = myInstant.toString() ;\n</code></pre>\n<p>‚Ä¶ and:</p>\n<pre><code>Instant myInstant = Instant.parse( input ) ;\n</code></pre>\n<h1>Applying a time zone</h1>\n<p>To view that moment through the wall-clock time of a particular time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Vancouver&quot; ) ;\nZonedDateTime zdt = myInstant.atZone( z ) ;  // Same moment as the `Instant` object, but different wall-clock time &amp; possibly different date.\n</code></pre>\n<p>In this code, both <code>myInstant</code> and <code>zdt</code> represent the very same moment, the same simultaneous point on the timeline. Like two people calling each other in Vancouver BC and Reykjav√≠k <a href=\"https://en.wikipedia.org/wiki/Time_in_Iceland\" rel=\"nofollow noreferrer\">Iceland</a>, if both persons simultaneously look up at the calendar and clock on their respective walls, they will see a different time of day and possibly a different date.</p>\n<h1>Avoid default zone</h1>\n<blockquote>\n<p>We are naturally having timezone issues when Jackson serializes our dto</p>\n</blockquote>\n<p>You are <strong>unnecessarily introducing time zone</strong> where it is not needed.</p>\n<p>Notice how <strong>none of the code above depends on a default</strong> time zone. Write your code to avoid implicitly depending on the JVM‚Äôs current default time zone. Always pass the optional time zone argument.</p>\n"}],"owner":{"account_id":2279697,"reputation":358,"user_id":2005109,"display_name":"cditcher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682711742,"creation_date":1682696153,"question_id":76131144,"body_markdown":"Ok, full disclosure first. I am working on a project that uses java.util.Date on it&#39;s entity and dto objects and we are working to change to LocalDateTime. We are naturally having timezone issues when Jackson serializes our dto objects to JSON at the controller layer. We are working to change the Date to LocalDateTime, but in the interim, setting the following property:\r\n\r\n      jackson:\r\n        time-zone: Canada/Pacific\r\n\r\nworks to convert the date/time to the correct value. However, our application is deployed as a docker container hosted on Openshift. Once in docker, even on my local machine, I can change this value to anything and the date never changes. I have tried checking the TZ value in the linux container and it matches our timezone, etc. Any thoughts?","title":"Jackson time-zone property in Spring Boot application.yaml works in IDE but not in docker container","body":"<p>Ok, full disclosure first. I am working on a project that uses java.util.Date on it's entity and dto objects and we are working to change to LocalDateTime. We are naturally having timezone issues when Jackson serializes our dto objects to JSON at the controller layer. We are working to change the Date to LocalDateTime, but in the interim, setting the following property:</p>\n<pre><code>  jackson:\n    time-zone: Canada/Pacific\n</code></pre>\n<p>works to convert the date/time to the correct value. However, our application is deployed as a docker container hosted on Openshift. Once in docker, even on my local machine, I can change this value to anything and the date never changes. I have tried checking the TZ value in the linux container and it matches our timezone, etc. Any thoughts?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1549723452,"post_id":54607294,"comment_id":96009671,"body_markdown":"Well you&#39;re setting the ID of each from 1-5, so, try `findViewById(1)`?","body":"Well you&#39;re setting the ID of each from 1-5, so, try <code>findViewById(1)</code>?"},{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1549724000,"post_id":54607294,"comment_id":96009795,"body_markdown":"`setId(i)` don&#39;t do this. Those IDs might already been taken. You can store them in variables","body":"<code>setId(i)</code> don&#39;t do this. Those IDs might already been taken. You can store them in variables"},{"owner":{"account_id":4740119,"reputation":153,"user_id":3833192,"display_name":"FatalError"},"score":0,"creation_date":1549724806,"post_id":54607294,"comment_id":96010019,"body_markdown":"@TheWanderer yes it&#39;s work, thank u :)","body":"@TheWanderer yes it&#39;s work, thank u :)"},{"owner":{"account_id":4740119,"reputation":153,"user_id":3833192,"display_name":"FatalError"},"score":0,"creation_date":1549724850,"post_id":54607294,"comment_id":96010039,"body_markdown":"@VladyslavMatviienko how can I? I &#39;m new on Android, can u share your idea?","body":"@VladyslavMatviienko how can I? I &#39;m new on Android, can u share your idea?"},{"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"score":0,"creation_date":1549724985,"post_id":54607294,"comment_id":96010078,"body_markdown":"@VladyslavMatviienko guaranteed, IDs 0x1 to 0x5 aren&#39;t used. The resource ID format prevents IDs from being smaller than 0x10000000.","body":"@VladyslavMatviienko guaranteed, IDs 0x1 to 0x5 aren&#39;t used. The resource ID format prevents IDs from being smaller than 0x10000000."},{"owner":{"account_id":4740119,"reputation":153,"user_id":3833192,"display_name":"FatalError"},"score":0,"creation_date":1549725342,"post_id":54607294,"comment_id":96010162,"body_markdown":"yeah I see, I will do it.","body":"yeah I see, I will do it."}],"answers":[{"comments":[{"owner":{"account_id":10898766,"reputation":4116,"user_id":8011713,"display_name":"Rene Ferrari"},"score":1,"creation_date":1549758544,"post_id":54607311,"comment_id":96018632,"body_markdown":"You&#39;re welcome. If you need anything more just leave a comment and I will hopefully be able to help you out!","body":"You&#39;re welcome. If you need anything more just leave a comment and I will hopefully be able to help you out!"}],"tags":[],"owner":{"account_id":10898766,"reputation":4116,"user_id":8011713,"display_name":"Rene Ferrari"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549723507,"creation_date":1549723507,"answer_id":54607311,"question_id":54607294,"body_markdown":"Either you create a member variable of this TextView which you can then use inside this class or you can use findViewById() on your LinearLayout.","title":"Find TextView which was created programmatically?","body":"<p>Either you create a member variable of this TextView which you can then use inside this class or you can use findViewById() on your LinearLayout.</p>\n"},{"tags":[],"owner":{"account_id":14213575,"reputation":2918,"user_id":10268067,"display_name":"Steve Moretz"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662625751,"creation_date":1549724622,"answer_id":54607486,"question_id":54607294,"body_markdown":"Well you don&#39;t necessarily need to use id here, There are several ways to achieve this:\r\n\r\n1.\r\n\r\n    TextView textView = (TextView) linearLayout.findViewById(i);\r\n\r\n`i` is what you set before from 1 to 5.\r\n\r\n2.\r\n\r\n    TextView textView = (TextView) linearLayout.getChildAt(i);\r\n\r\n`i` here is the number of set item, for instance `i=0` is the first textView you added using addView() method.","title":"Find TextView which was created programmatically?","body":"<p>Well you don't necessarily need to use id here, There are several ways to achieve this:</p>\n<p>1.</p>\n<pre><code>TextView textView = (TextView) linearLayout.findViewById(i);\n</code></pre>\n<p><code>i</code> is what you set before from 1 to 5.</p>\n<p>2.</p>\n<pre><code>TextView textView = (TextView) linearLayout.getChildAt(i);\n</code></pre>\n<p><code>i</code> here is the number of set item, for instance <code>i=0</code> is the first textView you added using addView() method.</p>\n"},{"comments":[{"owner":{"account_id":4740119,"reputation":153,"user_id":3833192,"display_name":"FatalError"},"score":0,"creation_date":1549725808,"post_id":54607580,"comment_id":96010313,"body_markdown":"Wow I&#39;m impressed, that&#39;s look like more systematic. I will try it now.","body":"Wow I&#39;m impressed, that&#39;s look like more systematic. I will try it now."}],"tags":[],"owner":{"account_id":4383501,"reputation":16972,"user_id":5496177,"accept_rate":60,"display_name":"TheWanderer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549725235,"creation_date":1549725235,"answer_id":54607580,"question_id":54607294,"body_markdown":"Use the normal `findViewById()` method. You&#39;re giving the TextViews unique IDs from 1 to 5, so you can find those TextViews by supplying 1-5 to `findViewById()`.\r\n\r\nHowever, you probably shouldn&#39;t be doing it this way, and you shouldn&#39;t have a global `textView` variable (it&#39;ll only hold a reference to the last-created TextView).\r\n\r\nInstead, try using an ArrayList and adding all of your TextViews to it. Then you won&#39;t need to give them IDs that don&#39;t follow the standards.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private LinearLayout linearLayout;\r\n    private ArrayList&lt;TextView&gt; textViews = new ArrayList&lt;&gt;();\r\n\r\n    public void CreateDesign(){\r\n\r\n        linearLayout = (LinearLayout) findById(R.id.linearLayout);\r\n\r\n        for(int i = 1; i &lt;= 5; i++) {\r\n            TextView textView = new TextView(this);\r\n            textView.setText(i + &quot;. TextView&quot;);\r\n\r\n            linearLayout.addView(textView);\r\n            textViews.add(textView); //add it to the ArrayList\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Find TextView which was created programmatically?","body":"<p>Use the normal <code>findViewById()</code> method. You're giving the TextViews unique IDs from 1 to 5, so you can find those TextViews by supplying 1-5 to <code>findViewById()</code>.</p>\n\n<p>However, you probably shouldn't be doing it this way, and you shouldn't have a global <code>textView</code> variable (it'll only hold a reference to the last-created TextView).</p>\n\n<p>Instead, try using an ArrayList and adding all of your TextViews to it. Then you won't need to give them IDs that don't follow the standards.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private LinearLayout linearLayout;\n    private ArrayList&lt;TextView&gt; textViews = new ArrayList&lt;&gt;();\n\n    public void CreateDesign(){\n\n        linearLayout = (LinearLayout) findById(R.id.linearLayout);\n\n        for(int i = 1; i &lt;= 5; i++) {\n            TextView textView = new TextView(this);\n            textView.setText(i + \". TextView\");\n\n            linearLayout.addView(textView);\n            textViews.add(textView); //add it to the ArrayList\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4740119,"reputation":153,"user_id":3833192,"display_name":"FatalError"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54607486,"answer_count":3,"score":1,"last_activity_date":1682711548,"creation_date":1549723395,"question_id":54607294,"body_markdown":"How can I find those TextView&#39;s another function on same class?\r\nI will use `setText()`, `serBackgroundColor()` after create.\r\n\r\nThis code part is on `CreateDesign()` and this func `calling onCreate()`:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private LinearLayout linearLayout;\r\n    private TextView textView;\r\n\r\n    public void CreateDesign(){\r\n\r\n       linearLayout = (LinearLayout) findById(R.id.linearLayout);\r\n\r\n       for(int i = 1; i &lt;= 5; i++){\r\n            textView = new TextView(this);\r\n            textView.setId(i);\r\n            textView.setText(i + &quot;. TextView&quot;);\r\n            \r\n            linearLayout.addView(textView);\r\n        }\r\n    }\r\n","title":"Find TextView which was created programmatically?","body":"<p>How can I find those TextView's another function on same class?\nI will use <code>setText()</code>, <code>serBackgroundColor()</code> after create.</p>\n<p>This code part is on <code>CreateDesign()</code> and this func <code>calling onCreate()</code>:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate LinearLayout linearLayout;\nprivate TextView textView;\n\npublic void CreateDesign(){\n\n   linearLayout = (LinearLayout) findById(R.id.linearLayout);\n\n   for(int i = 1; i &lt;= 5; i++){\n        textView = new TextView(this);\n        textView.setId(i);\n        textView.setText(i + &quot;. TextView&quot;);\n        \n        linearLayout.addView(textView);\n    }\n}\n</code></pre>\n"},{"tags":["java","log4j","log4j2","configure"],"answers":[{"tags":[],"owner":{"account_id":9021418,"reputation":127,"user_id":6722389,"display_name":"Pirax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518598325,"creation_date":1518598325,"answer_id":48783031,"question_id":47454626,"body_markdown":"FYI\r\n\r\nMy approach to solve all requirements: \r\n\r\nI switched back to XML and added some dynamical properties. Some properties are taken from system properties. If they don&#39;t exist, the default value, defined as xml property, will be taken.\r\n\r\nHave a special look to the property &quot;logFile&quot;. It&#39;s a mix of system property(for fix path to log file) and dynamically determined by log4j. This isn&#39;t really thread-safe. But in our case acceptable.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;info&quot; strict=&quot;true&quot; name=&quot;XMLConfig&quot;\r\n                   packages=&quot;org.apache.logging.log4j.test&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;logLevel&quot;&gt;INFO&lt;/Property&gt;\r\n            &lt;Property name=&quot;logFileDir&quot;&gt;log/&lt;/Property&gt;\r\n            &lt;Property name=&quot;logLevelFile&quot;&gt;OFF&lt;/Property&gt;\r\n            &lt;Property name=&quot;logFile&quot;&gt;${sys:logFileDir}ConfigMgmt-${date:yyyyMMdd_HHmmss-SSS}.log&lt;/Property&gt;\r\n            &lt;Property name=&quot;packageName&quot;&gt;com.hamburgsud&lt;/Property&gt;\r\n            &lt;Property name=&quot;messagePattern&quot;&gt;%d{HH:mm:ss.SSS} (Test) %-5level %logger{1.} - %msg%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;!-- Console Logging --&gt;\r\n            &lt;Appender type=&quot;Console&quot; name=&quot;STDOUT&quot;&gt;\r\n                &lt;Filters&gt;\r\n                    &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n                    &lt;Filter type=&quot;ThresholdFilter&quot; level=&quot;${sys:logLevel}&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n                &lt;/Filters&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;${sys:messagePattern}&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n            &lt;!-- LIFECYCLE is analog to gradles lifecycle log level - means always logging\r\n                 When the marker for lifecycle-logging is added, the message will always be logged --&gt;\r\n            &lt;Appender type=&quot;Console&quot; name=&quot;LIFECYCLE&quot;&gt;\r\n                &lt;Filters&gt;\r\n                    &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n                &lt;/Filters&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;%logger{1.} - %msg%n&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n    \r\n    \r\n            &lt;!-- File Logging --&gt;\r\n            &lt;Appender type=&quot;File&quot; name=&quot;FILE&quot; fileName=&quot;${sys:logFile}&quot; createOnDemand=&quot;true&quot;&gt;\r\n                &lt;Filters&gt;\r\n                    &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n                    &lt;Filter type=&quot;ThresholdFilter&quot; level=&quot;${sys:logLevelFile}&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n                &lt;/Filters&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;${sys:messagePattern}&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n            &lt;!-- Counterpart to consoles LIFECYCLE logging. When file logging is activated and a log is marked with\r\n                 lifecycle, the message will be logged to the file too. --&gt;\r\n            &lt;Appender type=&quot;File&quot; name=&quot;FILELIFECYCLE&quot; fileName=&quot;${sys:logFile}&quot; createOnDemand=&quot;true&quot;&gt;\r\n                &lt;Filters&gt;\r\n                    &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n                &lt;/Filters&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;%logger{1.} - %msg%n&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;LIFECYCLE&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;FILE&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;FILELIFECYCLE&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;","title":"Log4j 2.9.1 adding ThresholdFilter to Appender programmatically","body":"<p>FYI</p>\n\n<p>My approach to solve all requirements: </p>\n\n<p>I switched back to XML and added some dynamical properties. Some properties are taken from system properties. If they don't exist, the default value, defined as xml property, will be taken.</p>\n\n<p>Have a special look to the property \"logFile\". It's a mix of system property(for fix path to log file) and dynamically determined by log4j. This isn't really thread-safe. But in our case acceptable.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"info\" strict=\"true\" name=\"XMLConfig\"\n               packages=\"org.apache.logging.log4j.test\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"logLevel\"&gt;INFO&lt;/Property&gt;\n        &lt;Property name=\"logFileDir\"&gt;log/&lt;/Property&gt;\n        &lt;Property name=\"logLevelFile\"&gt;OFF&lt;/Property&gt;\n        &lt;Property name=\"logFile\"&gt;${sys:logFileDir}ConfigMgmt-${date:yyyyMMdd_HHmmss-SSS}.log&lt;/Property&gt;\n        &lt;Property name=\"packageName\"&gt;com.hamburgsud&lt;/Property&gt;\n        &lt;Property name=\"messagePattern\"&gt;%d{HH:mm:ss.SSS} (Test) %-5level %logger{1.} - %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;!-- Console Logging --&gt;\n        &lt;Appender type=\"Console\" name=\"STDOUT\"&gt;\n            &lt;Filters&gt;\n                &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"DENY\" onMismatch=\"NEUTRAL\"/&gt;\n                &lt;Filter type=\"ThresholdFilter\" level=\"${sys:logLevel}\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n            &lt;/Filters&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"${sys:messagePattern}\"/&gt;\n        &lt;/Appender&gt;\n        &lt;!-- LIFECYCLE is analog to gradles lifecycle log level - means always logging\n             When the marker for lifecycle-logging is added, the message will always be logged --&gt;\n        &lt;Appender type=\"Console\" name=\"LIFECYCLE\"&gt;\n            &lt;Filters&gt;\n                &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n            &lt;/Filters&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"%logger{1.} - %msg%n\"/&gt;\n        &lt;/Appender&gt;\n\n\n        &lt;!-- File Logging --&gt;\n        &lt;Appender type=\"File\" name=\"FILE\" fileName=\"${sys:logFile}\" createOnDemand=\"true\"&gt;\n            &lt;Filters&gt;\n                &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"DENY\" onMismatch=\"NEUTRAL\"/&gt;\n                &lt;Filter type=\"ThresholdFilter\" level=\"${sys:logLevelFile}\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n            &lt;/Filters&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"${sys:messagePattern}\"/&gt;\n        &lt;/Appender&gt;\n        &lt;!-- Counterpart to consoles LIFECYCLE logging. When file logging is activated and a log is marked with\n             lifecycle, the message will be logged to the file too. --&gt;\n        &lt;Appender type=\"File\" name=\"FILELIFECYCLE\" fileName=\"${sys:logFile}\" createOnDemand=\"true\"&gt;\n            &lt;Filters&gt;\n                &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n            &lt;/Filters&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"%logger{1.} - %msg%n\"/&gt;\n        &lt;/Appender&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Root level=\"trace\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"STDOUT\"/&gt;\n            &lt;AppenderRef ref=\"LIFECYCLE\"/&gt;\n            &lt;AppenderRef ref=\"FILE\"/&gt;\n            &lt;AppenderRef ref=\"FILELIFECYCLE\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":9021418,"reputation":127,"user_id":6722389,"display_name":"Pirax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2276,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682711365,"creation_date":1511437097,"question_id":47454626,"body_markdown":"I have a serious problem with log4j 2.9.x\r\nI write &quot;serious&quot; because the documentation of log4j is reeeeally crap!\r\nThere is no clear and up-to-date documentation for this version. Even the existing documented code don&#39;t pass the compiler since they did breaking changes every now and then and you can&#39;t be sure which version they have documented. I googled a whole day but what i found is mostly outdated too.  \r\nSo I am a bit confused configuring log4j2 programmatically.\r\n\r\nwhat I want to achieve:\r\n\r\n 1) additional &quot;loglevel&quot; that always prints to console independently of current loglevel (analog to gradles LIFECYCLE)\r\n\r\n 2) log to console and file\r\n\r\n 3) filename determined at runtime\r\n\r\nI found a way to achieve 1) and 2) with XML. I haven&#39;t found a suitable way for 3) . I dont like to use a static context or system variable for the filename since i expect concurrency issues. \r\n\r\nTherefore my approach is to configure log4j programmatically. Here my configuration factory:\r\n\r\n    package my.abc\r\n    \r\n    import org.apache.logging.log4j.Level\r\n    import org.apache.logging.log4j.core.Filter\r\n    import org.apache.logging.log4j.core.LoggerContext\r\n    import org.apache.logging.log4j.core.config.Configuration\r\n    import org.apache.logging.log4j.core.config.ConfigurationFactory\r\n    import org.apache.logging.log4j.core.config.ConfigurationSource\r\n    import org.apache.logging.log4j.core.config.Order\r\n    import org.apache.logging.log4j.core.config.builder.api.AppenderComponentBuilder\r\n    import org.apache.logging.log4j.core.config.builder.api.ConfigurationBuilder\r\n    import org.apache.logging.log4j.core.config.builder.api.LoggerComponentBuilder\r\n    import org.apache.logging.log4j.core.config.builder.impl.BuiltConfiguration\r\n    import org.apache.logging.log4j.core.config.plugins.Plugin\r\n    \r\n    @Plugin(name = &quot;CustomConfigurationFactory&quot;, category = ConfigurationFactory.CATEGORY)\r\n    @Order(50)\r\n    class CustomConfigurationFactory extends ConfigurationFactory {\r\n    \r\n        private static String MESSAGE_PATTERN = &quot;%d{HH:mm:ss.SSS} [%t] %-5level 123 %logger{36} - %msg%n&quot;\r\n    \r\n        Level logLevel\r\n        String packageToScan\r\n    \r\n        CustomConfigurationFactory(Level logLevel, String packageToScan) {\r\n            this.logLevel = logLevel\r\n            this.packageToScan = packageToScan\r\n        }\r\n    \r\n        private Configuration createConfiguration(final String name, ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\r\n            builder.setConfigurationName(name)\r\n            builder.setStatusLevel(Level.ERROR)\r\n    \r\n            //add appender\r\n            builder.add(createConsoleAppender(builder))\r\n            builder.add(createLifecycleAppender(builder))\r\n    \r\n            //add logger\r\n            builder.add(createLogger(builder))\r\n    \r\n    //        builder.add(builder.newFilter(&quot;ThresholdFilter&quot;, Filter.Result.ACCEPT, Filter.Result.DENY)\r\n    //                .addAttribute(&quot;level&quot;, logLevel))\r\n    \r\n            builder.add(builder.newRootLogger(Level.TRACE).add(builder.newAppenderRef(&quot;stdout&quot;)))\r\n            return builder.build()\r\n        }\r\n    \r\n        @Override\r\n        Configuration getConfiguration(final LoggerContext loggerContext, final ConfigurationSource source) {\r\n            return getConfiguration(loggerContext, source.toString(), null)\r\n        }\r\n    \r\n        @Override\r\n        Configuration getConfiguration(final LoggerContext loggerContext, final String name, final URI configLocation) {\r\n            ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = newConfigurationBuilder()\r\n            return createConfiguration(name, builder)\r\n        }\r\n    \r\n        @Override\r\n        protected String[] getSupportedTypes() {\r\n            return [{ &quot;*&quot; }]\r\n        }\r\n    \r\n        private AppenderComponentBuilder createConsoleAppender(ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\r\n            AppenderComponentBuilder appenderBuilder = builder.newAppender(&quot;stdout&quot;, &quot;CONSOLE&quot;)\r\n            appenderBuilder.add(builder.newLayout(&quot;PatternLayout&quot;).\r\n                    addAttribute(&quot;pattern&quot;, MESSAGE_PATTERN))\r\n            appenderBuilder.add(builder.newFilter(&quot;MarkerFilter&quot;, Filter.Result.DENY,\r\n                    Filter.Result.NEUTRAL).addAttribute(&quot;marker&quot;, &quot;lifecycle&quot;))\r\n    //        appenderBuilder.add(builder.newFilter(&quot;ThresholdFilter&quot;, Filter.Result.ACCEPT,\r\n    //                Filter.Result.DENY).addAttribute(&quot;level&quot;, logLevel))\r\n            return appenderBuilder\r\n        }\r\n    \r\n        private AppenderComponentBuilder createLifecycleAppender(ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\r\n            AppenderComponentBuilder appenderBuilder = builder.newAppender(&quot;lifecycle&quot;, &quot;CONSOLE&quot;)\r\n            appenderBuilder.add(builder.newLayout(&quot;PatternLayout&quot;).\r\n                    addAttribute(&quot;pattern&quot;, &quot;%d{HH:mm:ss.SSS} [%t] LIFECYCLE %logger{36} - %msg%n&quot;))\r\n            appenderBuilder.add(builder.newFilter(&quot;MarkerFilter&quot;, Filter.Result.ACCEPT, Filter.Result.DENY)\r\n                    .addAttribute(&quot;marker&quot;, &quot;lifecycle&quot;))\r\n            return appenderBuilder\r\n        }\r\n    \r\n        private LoggerComponentBuilder createLogger(ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\r\n            builder.newLogger(packageToScan, &quot;trace&quot;)\r\n                    .add(builder.newAppenderRef(&quot;stdout&quot;))\r\n                    .add(builder.newAppenderRef(&quot;lifecycle&quot;))\r\n                    .addAttribute(&quot;additivity&quot;, false)\r\n        }\r\n    }\r\n\r\nYou may noticed the 2 outcommented lines. Thats my problem. \r\n\r\nWhen i use `builder.add(builder.newFilter(&quot;ThresholdFilter&quot;...` all logs will be filtered out when they dont fit the loglevel. Even the &quot;lifecycle&quot;-logs that i want to be logged in any case.\r\n\r\nWhen i use \r\n`appenderBuilder.add(builder.newFilter(&quot;ThresholdFilter...` i got the error message `2017-11-23 12:12:34,905 main ERROR appender CONSOLE has no parameter that matches element ThresholdFilter`\r\n\r\nWhat is wierd. Because when i configure everything with xml, i can do exactly that thing(adding thresholdfilter to a single appender) and it works.\r\n\r\n    &lt;Appender type=&quot;Console&quot; name=&quot;STDOUT&quot; &gt;\r\n       &lt;Filters&gt;\r\n          &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n          &lt;Filter type=&quot;ThresholdFilter&quot; level=&quot;${logLevel}&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n       &lt;/Filters&gt;\r\n       &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;${pattern}&quot;/&gt;\r\n    &lt;/Appender&gt;\r\n\r\nTo beeing complete here the whole xml that works for erequirements 1) and 2)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;info&quot; strict=&quot;true&quot; name=&quot;XMLConfigTest&quot;\r\n                   packages=&quot;org.apache.logging.log4j.test&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;logLevel&quot;&gt;error&lt;/Property&gt;\r\n            &lt;Property name=&quot;filename&quot;&gt;target/test.log&lt;/Property&gt;\r\n            &lt;Property name=&quot;pattern&quot;&gt;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n            &lt;Appender type=&quot;Console&quot; name=&quot;STDOUT&quot;&gt;\r\n                &lt;Filters&gt;\r\n                    &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n                    &lt;Filter type=&quot;ThresholdFilter&quot; level=&quot;${logLevel}&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n                &lt;/Filters&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;${pattern}&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n            &lt;Appender type=&quot;Console&quot; name=&quot;LIFECYCLE&quot;&gt;\r\n                &lt;Filters&gt;\r\n                    &lt;Filter type=&quot;MarkerFilter&quot; marker=&quot;lifecycle&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\r\n                &lt;/Filters&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot; pattern=&quot;%d{HH:mm:ss.SSS} [%t] LIFECYCLE %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;/Appender&gt;\r\n            &lt;Appender type=&quot;File&quot; name=&quot;File&quot; fileName=&quot;${filename}&quot;&gt;\r\n                &lt;Layout type=&quot;PatternLayout&quot;&gt;\r\n                    &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n                &lt;/Layout&gt;\r\n            &lt;/Appender&gt;\r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;my.abc&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;LIFECYCLE&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n            &lt;Root level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThere has to be a way to add ThresholdFilter to the appender. I found the class ThresholdFilter. But i have absolutely no idea how to use it. instantiating works `ThresholdFilter.createFilter(...)` but where can I add it? \r\n\r\nTo cut a long story short..\r\n\r\nHow can I add ThresholdFilter to a single Appender without xml?","title":"Log4j 2.9.1 adding ThresholdFilter to Appender programmatically","body":"<p>I have a serious problem with log4j 2.9.x\nI write \"serious\" because the documentation of log4j is reeeeally crap!\nThere is no clear and up-to-date documentation for this version. Even the existing documented code don't pass the compiler since they did breaking changes every now and then and you can't be sure which version they have documented. I googled a whole day but what i found is mostly outdated too.<br>\nSo I am a bit confused configuring log4j2 programmatically.</p>\n\n<p>what I want to achieve:</p>\n\n<p>1) additional \"loglevel\" that always prints to console independently of current loglevel (analog to gradles LIFECYCLE)</p>\n\n<p>2) log to console and file</p>\n\n<p>3) filename determined at runtime</p>\n\n<p>I found a way to achieve 1) and 2) with XML. I haven't found a suitable way for 3) . I dont like to use a static context or system variable for the filename since i expect concurrency issues. </p>\n\n<p>Therefore my approach is to configure log4j programmatically. Here my configuration factory:</p>\n\n<pre><code>package my.abc\n\nimport org.apache.logging.log4j.Level\nimport org.apache.logging.log4j.core.Filter\nimport org.apache.logging.log4j.core.LoggerContext\nimport org.apache.logging.log4j.core.config.Configuration\nimport org.apache.logging.log4j.core.config.ConfigurationFactory\nimport org.apache.logging.log4j.core.config.ConfigurationSource\nimport org.apache.logging.log4j.core.config.Order\nimport org.apache.logging.log4j.core.config.builder.api.AppenderComponentBuilder\nimport org.apache.logging.log4j.core.config.builder.api.ConfigurationBuilder\nimport org.apache.logging.log4j.core.config.builder.api.LoggerComponentBuilder\nimport org.apache.logging.log4j.core.config.builder.impl.BuiltConfiguration\nimport org.apache.logging.log4j.core.config.plugins.Plugin\n\n@Plugin(name = \"CustomConfigurationFactory\", category = ConfigurationFactory.CATEGORY)\n@Order(50)\nclass CustomConfigurationFactory extends ConfigurationFactory {\n\n    private static String MESSAGE_PATTERN = \"%d{HH:mm:ss.SSS} [%t] %-5level 123 %logger{36} - %msg%n\"\n\n    Level logLevel\n    String packageToScan\n\n    CustomConfigurationFactory(Level logLevel, String packageToScan) {\n        this.logLevel = logLevel\n        this.packageToScan = packageToScan\n    }\n\n    private Configuration createConfiguration(final String name, ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\n        builder.setConfigurationName(name)\n        builder.setStatusLevel(Level.ERROR)\n\n        //add appender\n        builder.add(createConsoleAppender(builder))\n        builder.add(createLifecycleAppender(builder))\n\n        //add logger\n        builder.add(createLogger(builder))\n\n//        builder.add(builder.newFilter(\"ThresholdFilter\", Filter.Result.ACCEPT, Filter.Result.DENY)\n//                .addAttribute(\"level\", logLevel))\n\n        builder.add(builder.newRootLogger(Level.TRACE).add(builder.newAppenderRef(\"stdout\")))\n        return builder.build()\n    }\n\n    @Override\n    Configuration getConfiguration(final LoggerContext loggerContext, final ConfigurationSource source) {\n        return getConfiguration(loggerContext, source.toString(), null)\n    }\n\n    @Override\n    Configuration getConfiguration(final LoggerContext loggerContext, final String name, final URI configLocation) {\n        ConfigurationBuilder&lt;BuiltConfiguration&gt; builder = newConfigurationBuilder()\n        return createConfiguration(name, builder)\n    }\n\n    @Override\n    protected String[] getSupportedTypes() {\n        return [{ \"*\" }]\n    }\n\n    private AppenderComponentBuilder createConsoleAppender(ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\n        AppenderComponentBuilder appenderBuilder = builder.newAppender(\"stdout\", \"CONSOLE\")\n        appenderBuilder.add(builder.newLayout(\"PatternLayout\").\n                addAttribute(\"pattern\", MESSAGE_PATTERN))\n        appenderBuilder.add(builder.newFilter(\"MarkerFilter\", Filter.Result.DENY,\n                Filter.Result.NEUTRAL).addAttribute(\"marker\", \"lifecycle\"))\n//        appenderBuilder.add(builder.newFilter(\"ThresholdFilter\", Filter.Result.ACCEPT,\n//                Filter.Result.DENY).addAttribute(\"level\", logLevel))\n        return appenderBuilder\n    }\n\n    private AppenderComponentBuilder createLifecycleAppender(ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\n        AppenderComponentBuilder appenderBuilder = builder.newAppender(\"lifecycle\", \"CONSOLE\")\n        appenderBuilder.add(builder.newLayout(\"PatternLayout\").\n                addAttribute(\"pattern\", \"%d{HH:mm:ss.SSS} [%t] LIFECYCLE %logger{36} - %msg%n\"))\n        appenderBuilder.add(builder.newFilter(\"MarkerFilter\", Filter.Result.ACCEPT, Filter.Result.DENY)\n                .addAttribute(\"marker\", \"lifecycle\"))\n        return appenderBuilder\n    }\n\n    private LoggerComponentBuilder createLogger(ConfigurationBuilder&lt;BuiltConfiguration&gt; builder) {\n        builder.newLogger(packageToScan, \"trace\")\n                .add(builder.newAppenderRef(\"stdout\"))\n                .add(builder.newAppenderRef(\"lifecycle\"))\n                .addAttribute(\"additivity\", false)\n    }\n}\n</code></pre>\n\n<p>You may noticed the 2 outcommented lines. Thats my problem. </p>\n\n<p>When i use <code>builder.add(builder.newFilter(\"ThresholdFilter\"...</code> all logs will be filtered out when they dont fit the loglevel. Even the \"lifecycle\"-logs that i want to be logged in any case.</p>\n\n<p>When i use \n<code>appenderBuilder.add(builder.newFilter(\"ThresholdFilter...</code> i got the error message <code>2017-11-23 12:12:34,905 main ERROR appender CONSOLE has no parameter that matches element ThresholdFilter</code></p>\n\n<p>What is wierd. Because when i configure everything with xml, i can do exactly that thing(adding thresholdfilter to a single appender) and it works.</p>\n\n<pre><code>&lt;Appender type=\"Console\" name=\"STDOUT\" &gt;\n   &lt;Filters&gt;\n      &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"DENY\" onMismatch=\"NEUTRAL\"/&gt;\n      &lt;Filter type=\"ThresholdFilter\" level=\"${logLevel}\" onMatch=\"ACCEPT\" onMismatch=\"DENY\" /&gt;\n   &lt;/Filters&gt;\n   &lt;Layout type=\"PatternLayout\" pattern=\"${pattern}\"/&gt;\n&lt;/Appender&gt;\n</code></pre>\n\n<p>To beeing complete here the whole xml that works for erequirements 1) and 2)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"info\" strict=\"true\" name=\"XMLConfigTest\"\n               packages=\"org.apache.logging.log4j.test\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"logLevel\"&gt;error&lt;/Property&gt;\n        &lt;Property name=\"filename\"&gt;target/test.log&lt;/Property&gt;\n        &lt;Property name=\"pattern\"&gt;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n\n    &lt;Appenders&gt;\n        &lt;Appender type=\"Console\" name=\"STDOUT\"&gt;\n            &lt;Filters&gt;\n                &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"DENY\" onMismatch=\"NEUTRAL\"/&gt;\n                &lt;Filter type=\"ThresholdFilter\" level=\"${logLevel}\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n            &lt;/Filters&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"${pattern}\"/&gt;\n        &lt;/Appender&gt;\n        &lt;Appender type=\"Console\" name=\"LIFECYCLE\"&gt;\n            &lt;Filters&gt;\n                &lt;Filter type=\"MarkerFilter\" marker=\"lifecycle\" onMatch=\"ACCEPT\" onMismatch=\"DENY\"/&gt;\n            &lt;/Filters&gt;\n            &lt;Layout type=\"PatternLayout\" pattern=\"%d{HH:mm:ss.SSS} [%t] LIFECYCLE %logger{36} - %msg%n\"/&gt;\n        &lt;/Appender&gt;\n        &lt;Appender type=\"File\" name=\"File\" fileName=\"${filename}\"&gt;\n            &lt;Layout type=\"PatternLayout\"&gt;\n                &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n            &lt;/Layout&gt;\n        &lt;/Appender&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n        &lt;Logger name=\"my.abc\" level=\"trace\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"STDOUT\"/&gt;\n            &lt;AppenderRef ref=\"LIFECYCLE\"/&gt;\n        &lt;/Logger&gt;\n\n        &lt;Root level=\"error\"&gt;\n            &lt;AppenderRef ref=\"STDOUT\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>There has to be a way to add ThresholdFilter to the appender. I found the class ThresholdFilter. But i have absolutely no idea how to use it. instantiating works <code>ThresholdFilter.createFilter(...)</code> but where can I add it? </p>\n\n<p>To cut a long story short..</p>\n\n<p>How can I add ThresholdFilter to a single Appender without xml?</p>\n"},{"tags":["java","android","android-constraintlayout"],"comments":[{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1532199274,"post_id":51458123,"comment_id":89887716,"body_markdown":"That kinda somewhat difficult but define a group in XML and view through code to that group view","body":"That kinda somewhat difficult but define a group in XML and view through code to that group view"}],"answers":[{"comments":[{"owner":{"account_id":1324323,"reputation":480,"user_id":1269493,"accept_rate":50,"display_name":"Miguel Lasa"},"score":0,"creation_date":1532202857,"post_id":51459485,"comment_id":89888483,"body_markdown":"I&#39;ll give it a go! Would the label move when the animation starts? What would your guess be?","body":"I&#39;ll give it a go! Would the label move when the animation starts? What would your guess be?"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1532203306,"post_id":51459485,"comment_id":89888572,"body_markdown":"@Koopa Can&#39;t say if it would follow in the animation or not.","body":"@Koopa Can&#39;t say if it would follow in the animation or not."},{"owner":{"account_id":1324323,"reputation":480,"user_id":1269493,"accept_rate":50,"display_name":"Miguel Lasa"},"score":0,"creation_date":1532204278,"post_id":51459485,"comment_id":89888815,"body_markdown":"So after applying the translation to the TextView the label is placed correctly underneath the ImageView. However after setting up the animation (which involves a drag and drop of the ImageView) the label doesn&#39;t follow the ImageView. The margins of the label stay at zero the entire time (maybe was &quot;hoping&quot; the margins adapted and somehow I could fix that).","body":"So after applying the translation to the TextView the label is placed correctly underneath the ImageView. However after setting up the animation (which involves a drag and drop of the ImageView) the label doesn&#39;t follow the ImageView. The margins of the label stay at zero the entire time (maybe was &quot;hoping&quot; the margins adapted and somehow I could fix that)."},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1532205910,"post_id":51459485,"comment_id":89889168,"body_markdown":"@Koopa That would be the next problem. If the `TextView` and the `ImageVIew` are always together, you may want to consider a [`compound control&#39;](https://developer.android.com/guide/topics/ui/custom-components#compound).","body":"@Koopa That would be the next problem. If the <code>TextView</code> and the <code>ImageVIew</code> are always together, you may want to consider a <a href=\"https://developer.android.com/guide/topics/ui/custom-components#compound\" rel=\"nofollow noreferrer\">`compound control&#39;</a>."},{"owner":{"account_id":1324323,"reputation":480,"user_id":1269493,"accept_rate":50,"display_name":"Miguel Lasa"},"score":0,"creation_date":1532279484,"post_id":51459485,"comment_id":89903362,"body_markdown":"Hmm, never used them. I&#39;ll take a look and see if it suitable for my case, specially taking into account my views have drag and drop as well as rotation interactions. Cheers.","body":"Hmm, never used them. I&#39;ll take a look and see if it suitable for my case, specially taking into account my views have drag and drop as well as rotation interactions. Cheers."}],"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532201838,"creation_date":1532201838,"answer_id":51459485,"question_id":51458123,"body_markdown":"`setX()` does the following according to the [documentation](https://developer.android.com/reference/android/view/View.html#setX(float)):\r\n\r\n&gt;Sets the visual x position of this view, in pixels. This is equivalent to setting the translationX property to be the difference between the x value passed in and the current left property.\r\n\r\n`setTranslationX()` does this also according to the [documentation](https://developer.android.com/reference/android/view/View.html#setTranslationX(float)):\r\n\r\n&gt;Sets the horizontal location of this view relative to its left position. This effectively positions the object post-layout, in addition to wherever the object&#39;s layout placed it.\r\n\r\n`setY()` and `setTranslationY()` do the same for the y coordinate.\r\n\r\nThe key phrase here is _post-layout_. Your `ImageView` is being placed at the top/left because it has no constraints. The `TextView` is placed on the `ImageView` according to its constraints, so it is also placed in the top/left. Now that both views are laid out in the top/left, the `ImageView` is shifted according to `setX()` and `setY()` leaving the `TextView` behind.\r\n\r\nThere are a couple of approaches to fixing this. Probably the easiest is to apply the same translation that was applied to the `ImageView` to the `TextView`.\r\n","title":"Added View programmatically to Constraint Layout jumps to origin","body":"<p><code>setX()</code> does the following according to the <a href=\"https://developer.android.com/reference/android/view/View.html#setX(float)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Sets the visual x position of this view, in pixels. This is equivalent to setting the translationX property to be the difference between the x value passed in and the current left property.</p>\n</blockquote>\n\n<p><code>setTranslationX()</code> does this also according to the <a href=\"https://developer.android.com/reference/android/view/View.html#setTranslationX(float)\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Sets the horizontal location of this view relative to its left position. This effectively positions the object post-layout, in addition to wherever the object's layout placed it.</p>\n</blockquote>\n\n<p><code>setY()</code> and <code>setTranslationY()</code> do the same for the y coordinate.</p>\n\n<p>The key phrase here is <em>post-layout</em>. Your <code>ImageView</code> is being placed at the top/left because it has no constraints. The <code>TextView</code> is placed on the <code>ImageView</code> according to its constraints, so it is also placed in the top/left. Now that both views are laid out in the top/left, the <code>ImageView</code> is shifted according to <code>setX()</code> and <code>setY()</code> leaving the <code>TextView</code> behind.</p>\n\n<p>There are a couple of approaches to fixing this. Probably the easiest is to apply the same translation that was applied to the <code>ImageView</code> to the <code>TextView</code>.</p>\n"}],"owner":{"account_id":1324323,"reputation":480,"user_id":1269493,"accept_rate":50,"display_name":"Miguel Lasa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682711345,"creation_date":1532191056,"question_id":51458123,"body_markdown":"I&#39;m doing some animations in android and I have players inside a soccer court. For some of the elements I want to add a label, add some constraints to group them with their respective view and when the animation starts have the labels sort of follow them around.\r\n\r\nI&#39;ve tried this two solutions but the textview keeps jumping to the origin of the constraint layout:\r\n\r\nhttps://stackoverflow.com/questions/40275152/how-to-programmatically-add-views-and-constraints-to-a-constraintlayout\r\n\r\nhttps://stackoverflow.com/questions/42844776/add-a-view-programmatically-in-constraintlayout?rq=1\r\n\r\nI&#39;ve tried A LOT of variations for these solutions with no luck. I&#39;m missing something of course...any thoughts would be greatly appreciated!\r\n\r\nMy code where I create the views:\r\n \r\n\r\n       //init imageview\r\n                    ImageView imageView = new ImageView(this);\r\n                    imageView.setId(View.generateViewId());\r\n                    imageView.setTag(key);\r\n                    imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);\r\n                    //buscar el drawable correspondiente\r\n                    imageView.setImageDrawable(setViewDrawable(vista));\r\n                    imageView.setOnLongClickListener(this);\r\n    //set width and height of the view\r\n                    Pair&lt;Integer, Integer&gt; widthAndHeight = getWidthAndHeight(key);\r\n                    //set ancho y alto\r\n                    ViewGroup.LayoutParams params = new ViewGroup.LayoutParams(widthAndHeight.first, widthAndHeight.second);\r\n                    imageView.setLayoutParams(params);\r\n                    mTacticLayout.addView(imageView);\r\n                    //set position\r\n                    if (!isEdit) {\r\n                        Pair&lt;Float, Float&gt; xAndY = getViewXY(key);\r\n                        Float rotation = getViewRotation(key);\r\n                        //account for offsets\r\n                        imageView.setX(xAndY.first - widthAndHeight.first / 2);\r\n                        imageView.setY(xAndY.second - widthAndHeight.second / 2);\r\n                        imageView.setRotation(rotation);\r\n                    }\r\n        \r\n    //HERE HERE HERE LOOK AT ME  \r\n           if(imageView.getTag().toString().equals(r.getString(R.string.ball_tag))){\r\n                        TextView textView = new TextView(this);\r\n                        textView.setId(View.generateViewId());\r\n                        textView.setText(&quot;My View&quot;);\r\n        \r\n                        mTacticLayout.addView(textView);\r\n                        ConstraintSet set = new ConstraintSet();\r\n                        set.clone(mTacticLayout);\r\n                        set.connect(textView.getId(), ConstraintSet.TOP, imageView.getId(), ConstraintSet.BOTTOM, 0);\r\n                        set.connect(textView.getId(), ConstraintSet.RIGHT, imageView.getId(), ConstraintSet.RIGHT, 0);\r\n                        set.connect(textView.getId(), ConstraintSet.LEFT, imageView.getId(), ConstraintSet.LEFT, 0);\r\n                        set.applyTo(mTacticLayout);\r\n                    }","title":"Added View programmatically to Constraint Layout jumps to origin","body":"<p>I'm doing some animations in android and I have players inside a soccer court. For some of the elements I want to add a label, add some constraints to group them with their respective view and when the animation starts have the labels sort of follow them around.</p>\n\n<p>I've tried this two solutions but the textview keeps jumping to the origin of the constraint layout:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40275152/how-to-programmatically-add-views-and-constraints-to-a-constraintlayout\">How to programmatically add views and constraints to a ConstraintLayout?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/42844776/add-a-view-programmatically-in-constraintlayout?rq=1\">Add a view programmatically in ConstraintLayout</a></p>\n\n<p>I've tried A LOT of variations for these solutions with no luck. I'm missing something of course...any thoughts would be greatly appreciated!</p>\n\n<p>My code where I create the views:</p>\n\n<pre><code>   //init imageview\n                ImageView imageView = new ImageView(this);\n                imageView.setId(View.generateViewId());\n                imageView.setTag(key);\n                imageView.setScaleType(ImageView.ScaleType.FIT_CENTER);\n                //buscar el drawable correspondiente\n                imageView.setImageDrawable(setViewDrawable(vista));\n                imageView.setOnLongClickListener(this);\n//set width and height of the view\n                Pair&lt;Integer, Integer&gt; widthAndHeight = getWidthAndHeight(key);\n                //set ancho y alto\n                ViewGroup.LayoutParams params = new ViewGroup.LayoutParams(widthAndHeight.first, widthAndHeight.second);\n                imageView.setLayoutParams(params);\n                mTacticLayout.addView(imageView);\n                //set position\n                if (!isEdit) {\n                    Pair&lt;Float, Float&gt; xAndY = getViewXY(key);\n                    Float rotation = getViewRotation(key);\n                    //account for offsets\n                    imageView.setX(xAndY.first - widthAndHeight.first / 2);\n                    imageView.setY(xAndY.second - widthAndHeight.second / 2);\n                    imageView.setRotation(rotation);\n                }\n\n//HERE HERE HERE LOOK AT ME  \n       if(imageView.getTag().toString().equals(r.getString(R.string.ball_tag))){\n                    TextView textView = new TextView(this);\n                    textView.setId(View.generateViewId());\n                    textView.setText(\"My View\");\n\n                    mTacticLayout.addView(textView);\n                    ConstraintSet set = new ConstraintSet();\n                    set.clone(mTacticLayout);\n                    set.connect(textView.getId(), ConstraintSet.TOP, imageView.getId(), ConstraintSet.BOTTOM, 0);\n                    set.connect(textView.getId(), ConstraintSet.RIGHT, imageView.getId(), ConstraintSet.RIGHT, 0);\n                    set.connect(textView.getId(), ConstraintSet.LEFT, imageView.getId(), ConstraintSet.LEFT, 0);\n                    set.applyTo(mTacticLayout);\n                }\n</code></pre>\n"},{"tags":["java","html","spring-mvc","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1682742942,"post_id":76132824,"comment_id":134267239,"body_markdown":"No, you can&#39;t use `th:checked` with `th:field`.  Why don&#39;t you set the value of `data[__${iStat.index}__].targetIsRestricted = data_set.rawDataMap.get(&#39;isRestricted&#39;)`  in your controller?","body":"No, you can&#39;t use <code>th:checked</code> with <code>th:field</code>.  Why don&#39;t you set the value of <code>data[__${iStat.index}__].targetIsRestricted = data_set.rawDataMap.get(&#39;isRestricted&#39;)</code>  in your controller?"}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682711011,"creation_date":1682711011,"question_id":76132824,"body_markdown":"In my `Java 11`, `Spring Boot 2.7.4` application, I use `Spring MVC` and `Thymeleaf` to bind server objects to HTML pages. This generally works very well but I am struggling with a checkbox issue.\r\n\r\nIn the model, I have a map containing file names (String) and whether the file is restricted or not (boolean). I represent this in a table within a form in the following code snippet, which works fine:\r\n\r\n```\r\n&lt;tr th:each=&quot;data_set, iStat: ${resultSet.data}&quot;&gt;\r\n       &lt;td th:text=&quot;${data_set.rawDataMap.get(&#39;filename&#39;)}&quot; /&gt;\r\n       &lt;td&gt;\r\n              &lt;div class=&quot;form-check&quot;&gt;\r\n                     &lt;input class=&quot;form-check-input&quot;\r\n                            type=&quot;checkbox&quot;\r\n                            th:checked=&quot;${data_set.rawDataMap.get(&#39;isRestricted&#39;) == 1 ? true : false}&quot;\r\n                            value=&quot;permissions-check&quot;\r\n                     &gt;\r\n                     &lt;!--Other fields below--&gt;\r\n              &lt;/div&gt;\r\n       &lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\nHowever, I want the user to be able to check/uncheck the checkbox and submit the form to a controller so that the permissions may be changed. To do this, I want to bind the checkbox to another object on the model in order to capture any changes that the user may make. To do this I added one extra line, the th:field section on line 9 below:\r\n\r\n```\r\n&lt;tr th:each=&quot;data_set, iStat: ${resultSet.data}&quot;&gt;\r\n       &lt;td th:text=&quot;${data_set.rawDataMap.get(&#39;filename&#39;)}&quot; /&gt;\r\n       &lt;td&gt;\r\n              &lt;div class=&quot;form-check&quot;&gt;\r\n                     &lt;input class=&quot;form-check-input&quot;\r\n                            type=&quot;checkbox&quot;\r\n                            th:checked=&quot;${data_set.rawDataMap.get(&#39;isRestricted&#39;) == 1 ? true : false}&quot;\r\n                            value=&quot;permissions-check&quot;\r\n                            th:field=&quot;*{data[__${iStat.index}__].targetIsRestricted}&quot;&gt;\r\n                     &lt;!--Other fields below--&gt;\r\n              &lt;/div&gt;\r\n       &lt;/td&gt;\r\n&lt;/tr&gt;\r\n```\r\n\r\nThis works in capturing the user changes, which are sent correctly to the server. The issue is that the `th:checked` section (line 7) no longer works. All checkboxes now appear unticked. So it appears that I can use either `th:checked` or `th:field`, but not both together. On the server side, I have tried making the targetIsRestricted variable on the model object a String, boolean and Object, but none have worked so far. I would be very grateful to receive any suggestions. Many thanks.","title":"Thymeleaf - can th:checked and th:field be used together?","body":"<p>In my <code>Java 11</code>, <code>Spring Boot 2.7.4</code> application, I use <code>Spring MVC</code> and <code>Thymeleaf</code> to bind server objects to HTML pages. This generally works very well but I am struggling with a checkbox issue.</p>\n<p>In the model, I have a map containing file names (String) and whether the file is restricted or not (boolean). I represent this in a table within a form in the following code snippet, which works fine:</p>\n<pre><code>&lt;tr th:each=&quot;data_set, iStat: ${resultSet.data}&quot;&gt;\n       &lt;td th:text=&quot;${data_set.rawDataMap.get('filename')}&quot; /&gt;\n       &lt;td&gt;\n              &lt;div class=&quot;form-check&quot;&gt;\n                     &lt;input class=&quot;form-check-input&quot;\n                            type=&quot;checkbox&quot;\n                            th:checked=&quot;${data_set.rawDataMap.get('isRestricted') == 1 ? true : false}&quot;\n                            value=&quot;permissions-check&quot;\n                     &gt;\n                     &lt;!--Other fields below--&gt;\n              &lt;/div&gt;\n       &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>However, I want the user to be able to check/uncheck the checkbox and submit the form to a controller so that the permissions may be changed. To do this, I want to bind the checkbox to another object on the model in order to capture any changes that the user may make. To do this I added one extra line, the th:field section on line 9 below:</p>\n<pre><code>&lt;tr th:each=&quot;data_set, iStat: ${resultSet.data}&quot;&gt;\n       &lt;td th:text=&quot;${data_set.rawDataMap.get('filename')}&quot; /&gt;\n       &lt;td&gt;\n              &lt;div class=&quot;form-check&quot;&gt;\n                     &lt;input class=&quot;form-check-input&quot;\n                            type=&quot;checkbox&quot;\n                            th:checked=&quot;${data_set.rawDataMap.get('isRestricted') == 1 ? true : false}&quot;\n                            value=&quot;permissions-check&quot;\n                            th:field=&quot;*{data[__${iStat.index}__].targetIsRestricted}&quot;&gt;\n                     &lt;!--Other fields below--&gt;\n              &lt;/div&gt;\n       &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>This works in capturing the user changes, which are sent correctly to the server. The issue is that the <code>th:checked</code> section (line 7) no longer works. All checkboxes now appear unticked. So it appears that I can use either <code>th:checked</code> or <code>th:field</code>, but not both together. On the server side, I have tried making the targetIsRestricted variable on the model object a String, boolean and Object, but none have worked so far. I would be very grateful to receive any suggestions. Many thanks.</p>\n"},{"tags":["java","gradle","logback","slf4j","modular"],"owner":{"account_id":3523773,"reputation":87,"user_id":2945440,"display_name":"skrenato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682710839,"creation_date":1682710839,"question_id":76132800,"body_markdown":"I&#39;ve been trying to setup SMTP Appender in Logback&#39;s configuration and I keep receiving the following error:\r\n\r\n    java.lang.IllegalAccessError:superclass access check failed: class ch.qos.logback.core.net.LoginAuthenticator (in module ch.qos.logback.core) cannot access class javax.mail.Authenticator (in unnamed module &lt;module&gt;) because module ch.qos.logback.core does not read unnamed module &lt;module&gt;\r\n\r\nThis is the SMTP Appender configuration:\r\n\r\n```\r\n&lt;appender name=&quot;SMTP&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;pattern&gt;%d{dd/MM/yyyy HH:mm:ss} | %-5level | %logger{0} | %thread | %msg%n&lt;/pattern&gt;\r\n        &lt;/layout&gt;\r\n        &lt;smtpHost&gt;smtp_server&lt;/smtpHost&gt;\r\n        &lt;smtpPort&gt;port&lt;/smtpPort&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;\r\n        &lt;STARTTLS&gt;true&lt;/STARTTLS&gt;\r\n        &lt;SSL&gt;true&lt;/SSL&gt;\r\n        &lt;from&gt;sender&lt;/from&gt;\r\n        &lt;to&gt;recipient&lt;/to&gt;\r\n        &lt;subject&gt;subject&lt;/subject&gt;\r\n    &lt;/appender&gt;\r\n```\r\n\r\nGiven that my application is a gradle project, I declared the following dependencies:\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;javax.activation:activation:1.1.1&#39;\r\n    implementation &#39;javax.mail:mail:1.4&#39;\r\n}\r\n```\r\n\r\nFrom the official documentation:\r\n\r\n&gt; The SMTPAppender relies on the JavaMail API. It has been tested with JavaMail API version 1.4. The JavaMail API requires the JavaBeans Activation Framework package. You can download the JavaMail API and the JavaBeans Activation Framework from their respective websites. Make sure to place these two jar files in the classpath before trying the following examples.\r\n\r\nThis is how my application is being instantiated:\r\n\r\n```\r\nCLASSPATH=$APP_HOME/lib/mail-1.4.jar:$APP_HOME/lib/activation-1.1.1.jar:$APP_HOME/etc\r\nMODULE_PATH=$APP_HOME/lib/application.jar:&lt;other_dependencies&gt;\r\n\r\njava $DEFAULT_JVM_OPTS $JAVA_OPTS -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; --module-path &quot;\\&quot;$MODULE_PATH\\&quot;&quot; --module &lt;module&gt;/&lt;main_class&gt; &quot;$APP_ARGS&quot;\r\n\r\n```\r\n\r\n\r\nI think worth to mention that my application is a java 11 implementation, so it uses java modular and runs Logback under SLF4J.\r\n","title":"Logback SMTP Appender under SLF4J + java modular","body":"<p>I've been trying to setup SMTP Appender in Logback's configuration and I keep receiving the following error:</p>\n<pre><code>java.lang.IllegalAccessError:superclass access check failed: class ch.qos.logback.core.net.LoginAuthenticator (in module ch.qos.logback.core) cannot access class javax.mail.Authenticator (in unnamed module &lt;module&gt;) because module ch.qos.logback.core does not read unnamed module &lt;module&gt;\n</code></pre>\n<p>This is the SMTP Appender configuration:</p>\n<pre><code>&lt;appender name=&quot;SMTP&quot; class=&quot;ch.qos.logback.classic.net.SMTPAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{dd/MM/yyyy HH:mm:ss} | %-5level | %logger{0} | %thread | %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n        &lt;smtpHost&gt;smtp_server&lt;/smtpHost&gt;\n        &lt;smtpPort&gt;port&lt;/smtpPort&gt;\n        &lt;username&gt;username&lt;/username&gt;\n        &lt;password&gt;password&lt;/password&gt;\n        &lt;STARTTLS&gt;true&lt;/STARTTLS&gt;\n        &lt;SSL&gt;true&lt;/SSL&gt;\n        &lt;from&gt;sender&lt;/from&gt;\n        &lt;to&gt;recipient&lt;/to&gt;\n        &lt;subject&gt;subject&lt;/subject&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Given that my application is a gradle project, I declared the following dependencies:</p>\n<pre><code>dependencies {\n    implementation 'javax.activation:activation:1.1.1'\n    implementation 'javax.mail:mail:1.4'\n}\n</code></pre>\n<p>From the official documentation:</p>\n<blockquote>\n<p>The SMTPAppender relies on the JavaMail API. It has been tested with JavaMail API version 1.4. The JavaMail API requires the JavaBeans Activation Framework package. You can download the JavaMail API and the JavaBeans Activation Framework from their respective websites. Make sure to place these two jar files in the classpath before trying the following examples.</p>\n</blockquote>\n<p>This is how my application is being instantiated:</p>\n<pre><code>CLASSPATH=$APP_HOME/lib/mail-1.4.jar:$APP_HOME/lib/activation-1.1.1.jar:$APP_HOME/etc\nMODULE_PATH=$APP_HOME/lib/application.jar:&lt;other_dependencies&gt;\n\njava $DEFAULT_JVM_OPTS $JAVA_OPTS -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; --module-path &quot;\\&quot;$MODULE_PATH\\&quot;&quot; --module &lt;module&gt;/&lt;main_class&gt; &quot;$APP_ARGS&quot;\n\n</code></pre>\n<p>I think worth to mention that my application is a java 11 implementation, so it uses java modular and runs Logback under SLF4J.</p>\n"},{"tags":["java","image","pdf","itext"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1387207717,"post_id":20614350,"comment_id":30849292,"body_markdown":"What are you saving the images as?  Have you considered a lossless format like png?","body":"What are you saving the images as?  Have you considered a lossless format like png?"},{"owner":{"account_id":2802171,"reputation":653,"user_id":2410210,"accept_rate":67,"display_name":"Daniel Mulcahy"},"score":0,"creation_date":1387208143,"post_id":20614350,"comment_id":30849541,"body_markdown":"Images are stored in png format and brought into the document using a generator called doc1(3rd party). Thanks for the quick reply :)","body":"Images are stored in png format and brought into the document using a generator called doc1(3rd party). Thanks for the quick reply :)"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1387208256,"post_id":20614350,"comment_id":30849619,"body_markdown":"If the bulk of the pdf size is those images and they&#39;re already compressed, you might be at an impasse.  I did some research in the interim and pdf will store images with compression: https://en.wikipedia.org/wiki/Pdf#Raster_images so you may want to tune how the pdf is assembled.  Not sure much can be done once the pdf is already assembled unless you remove and re-add the images.","body":"If the bulk of the pdf size is those images and they&#39;re already compressed, you might be at an impasse.  I did some research in the interim and pdf will store images with compression: <a href=\"https://en.wikipedia.org/wiki/Pdf#Raster_images\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Pdf#Raster_images</a> so you may want to tune how the pdf is assembled.  Not sure much can be done once the pdf is already assembled unless you remove and re-add the images."},{"owner":{"account_id":2802171,"reputation":653,"user_id":2410210,"accept_rate":67,"display_name":"Daniel Mulcahy"},"score":0,"creation_date":1387209832,"post_id":20614350,"comment_id":30850714,"body_markdown":"Thanks Taylor, I have compressed the pdf&#39;s using tinyPNG. I reckon this will knock around 50% off. It is still probably not enough so I may need to use the 3rd party tool. If anyone knows how to extract and re-add the image I would be interested in giving that a go also...","body":"Thanks Taylor, I have compressed the pdf&#39;s using tinyPNG. I reckon this will knock around 50% off. It is still probably not enough so I may need to use the 3rd party tool. If anyone knows how to extract and re-add the image I would be interested in giving that a go also..."},{"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1387211000,"post_id":20614350,"comment_id":30851577,"body_markdown":"Your iText code looks funny because it doesn&#39;t do anything to reduce the image size! Have you taken a look at this example http://itextpdf.com/examples/iia.php?id=286 and this solution http://support.itextpdf.com/node/23","body":"Your iText code looks funny because it doesn&#39;t do anything to reduce the image size! Have you taken a look at this example <a href=\"http://itextpdf.com/examples/iia.php?id=286\" rel=\"nofollow noreferrer\">itextpdf.com/examples/iia.php?id=286</a> and this solution <a href=\"http://support.itextpdf.com/node/23\" rel=\"nofollow noreferrer\">support.itextpdf.com/node/23</a>"},{"owner":{"account_id":2802171,"reputation":653,"user_id":2410210,"accept_rate":67,"display_name":"Daniel Mulcahy"},"score":1,"creation_date":1387217209,"post_id":20614350,"comment_id":30855575,"body_markdown":"Thanks Bruno. That put me on the right path. With some minor modifications to that code I have exactly what I need. I was able to get the 7546KB down to 408KB. Result! I will post the modified code now :)","body":"Thanks Bruno. That put me on the right path. With some minor modifications to that code I have exactly what I need. I was able to get the 7546KB down to 408KB. Result! I will post the modified code now :)"},{"owner":{"account_id":156901,"reputation":1816,"user_id":374480,"accept_rate":50,"display_name":"steve"},"score":0,"creation_date":1469303848,"post_id":20614350,"comment_id":64483552,"body_markdown":"I dont think setFullCompression and setCompressionLevel should be used together. Also, valid levels are 0 - 9. Not 50;","body":"I dont think setFullCompression and setCompressionLevel should be used together. Also, valid levels are 0 - 9. Not 50;"},{"owner":{"account_id":1529451,"reputation":790,"user_id":1427037,"accept_rate":29,"display_name":"Erum"},"score":0,"creation_date":1511327444,"post_id":20614350,"comment_id":81808915,"body_markdown":"@DanielMulcahy YOUR CODE is using so many classes have u import any library ?","body":"@DanielMulcahy YOUR CODE is using so many classes have u import any library ?"}],"answers":[{"comments":[{"owner":{"account_id":158776,"reputation":6092,"user_id":377657,"accept_rate":86,"display_name":"rwong"},"score":1,"creation_date":1393281360,"post_id":20617824,"comment_id":33344799,"body_markdown":"(Remark: you can actually accept your own answer by clicking on the check mark below the vote count of your own answer.)","body":"(Remark: you can actually accept your own answer by clicking on the check mark below the vote count of your own answer.)"},{"owner":{"account_id":1529451,"reputation":790,"user_id":1427037,"accept_rate":29,"display_name":"Erum"},"score":1,"creation_date":1511328608,"post_id":20617824,"comment_id":81809291,"body_markdown":"i m unable to find these two classes BufferedImage ,Graphics2D","body":"i m unable to find these two classes BufferedImage ,Graphics2D"},{"owner":{"account_id":3101840,"reputation":572,"user_id":2625761,"display_name":"Zoran777"},"score":0,"creation_date":1649089069,"post_id":20617824,"comment_id":126782510,"body_markdown":"The images are not getting reattached to the pdf. Any idea how to debug?","body":"The images are not getting reattached to the pdf. Any idea how to debug?"}],"tags":[],"owner":{"account_id":2802171,"reputation":653,"user_id":2410210,"accept_rate":67,"display_name":"Daniel Mulcahy"},"comment_count":3,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1387217467,"creation_date":1387217467,"answer_id":20617824,"question_id":20614350,"body_markdown":"I used code below for a proof of concept... Works a treat :) Thanks to Bruno for setting me on the right path :)\r\n\r\n    package compressPDF;\r\n\r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n\r\n    import javax.imageio.ImageIO;\r\n\r\n    import com.itextpdf.text.DocumentException;\r\n    import com.itextpdf.text.pdf.PRStream;\r\n    import com.itextpdf.text.pdf.PdfName;\r\n    import com.itextpdf.text.pdf.PdfNumber;\r\n    import com.itextpdf.text.pdf.PdfObject;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.PdfStamper;\r\n    import com.itextpdf.text.pdf.parser.PdfImageObject;\r\n\r\n    public class ResizeImage {\r\n\r\n\t/** The resulting PDF file. */\r\n    //public static String RESULT = &quot;results/part4/chapter16/resized_image.pdf&quot;;\r\n    /** The multiplication factor for the image. */\r\n    public static float FACTOR = 0.5f;\r\n    \r\n    /**\r\n     * Manipulates a PDF file src with the file dest as result\r\n     * @param src the original PDF\r\n     * @param dest the resulting PDF\r\n     * @throws IOException\r\n     * @throws DocumentException \r\n     */\r\n    public void manipulatePdf(String src, String dest) throws IOException, DocumentException {\r\n        PdfName key = new PdfName(&quot;ITXT_SpecialId&quot;);\r\n        PdfName value = new PdfName(&quot;123456789&quot;);\r\n        // Read the file\r\n        PdfReader reader = new PdfReader(src);\r\n        int n = reader.getXrefSize();\r\n        PdfObject object;\r\n        PRStream stream;\r\n        // Look for image and manipulate image stream\r\n        for (int i = 0; i &lt; n; i++) {\r\n            object = reader.getPdfObject(i);\r\n            if (object == null || !object.isStream())\r\n                continue;\r\n            stream = (PRStream)object;\r\n           // if (value.equals(stream.get(key))) {\r\n\t\t    PdfObject pdfsubtype = stream.get(PdfName.SUBTYPE);\r\n\t\t    System.out.println(stream.type());\r\n\t\t    if (pdfsubtype != null &amp;&amp; pdfsubtype.toString().equals(PdfName.IMAGE.toString())) {\r\n                PdfImageObject image = new PdfImageObject(stream);\r\n                BufferedImage bi = image.getBufferedImage();\r\n                if (bi == null) continue;\r\n                int width = (int)(bi.getWidth() * FACTOR);\r\n                int height = (int)(bi.getHeight() * FACTOR);\r\n                BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n                AffineTransform at = AffineTransform.getScaleInstance(FACTOR, FACTOR);\r\n                Graphics2D g = img.createGraphics();\r\n                g.drawRenderedImage(bi, at);\r\n                ByteArrayOutputStream imgBytes = new ByteArrayOutputStream();\r\n                ImageIO.write(img, &quot;JPG&quot;, imgBytes);\r\n                stream.clear();\r\n                stream.setData(imgBytes.toByteArray(), false, PRStream.BEST_COMPRESSION);\r\n                stream.put(PdfName.TYPE, PdfName.XOBJECT);\r\n                stream.put(PdfName.SUBTYPE, PdfName.IMAGE);\r\n                stream.put(key, value);\r\n                stream.put(PdfName.FILTER, PdfName.DCTDECODE);\r\n                stream.put(PdfName.WIDTH, new PdfNumber(width));\r\n                stream.put(PdfName.HEIGHT, new PdfNumber(height));\r\n                stream.put(PdfName.BITSPERCOMPONENT, new PdfNumber(8));\r\n                stream.put(PdfName.COLORSPACE, PdfName.DEVICERGB);\r\n            }\r\n        }\r\n        // Save altered PDF\r\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\r\n        stamper.close();\r\n        reader.close();\r\n    }\r\n\r\n    /**\r\n     * Main method.\r\n     *\r\n     * @param    args    no arguments needed\r\n     * @throws DocumentException \r\n     * @throws IOException\r\n     */\r\n    public static void main(String[] args) throws IOException, DocumentException {\r\n        //createPdf(RESULT);\r\n        new ResizeImage().manipulatePdf(&quot;C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF&quot;, &quot;C:/_dev_env_/TEMP/compressPDF/compressTest.pdf&quot;);\r\n    }\r\n    \r\n    }\r\n","title":"compress pdf with large images via java","body":"<p>I used code below for a proof of concept... Works a treat :) Thanks to Bruno for setting me on the right path :)</p>\n\n<pre><code>package compressPDF;\n\nimport java.awt.Graphics2D;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.pdf.PRStream;\nimport com.itextpdf.text.pdf.PdfName;\nimport com.itextpdf.text.pdf.PdfNumber;\nimport com.itextpdf.text.pdf.PdfObject;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfStamper;\nimport com.itextpdf.text.pdf.parser.PdfImageObject;\n\npublic class ResizeImage {\n\n/** The resulting PDF file. */\n//public static String RESULT = \"results/part4/chapter16/resized_image.pdf\";\n/** The multiplication factor for the image. */\npublic static float FACTOR = 0.5f;\n\n/**\n * Manipulates a PDF file src with the file dest as result\n * @param src the original PDF\n * @param dest the resulting PDF\n * @throws IOException\n * @throws DocumentException \n */\npublic void manipulatePdf(String src, String dest) throws IOException, DocumentException {\n    PdfName key = new PdfName(\"ITXT_SpecialId\");\n    PdfName value = new PdfName(\"123456789\");\n    // Read the file\n    PdfReader reader = new PdfReader(src);\n    int n = reader.getXrefSize();\n    PdfObject object;\n    PRStream stream;\n    // Look for image and manipulate image stream\n    for (int i = 0; i &lt; n; i++) {\n        object = reader.getPdfObject(i);\n        if (object == null || !object.isStream())\n            continue;\n        stream = (PRStream)object;\n       // if (value.equals(stream.get(key))) {\n        PdfObject pdfsubtype = stream.get(PdfName.SUBTYPE);\n        System.out.println(stream.type());\n        if (pdfsubtype != null &amp;&amp; pdfsubtype.toString().equals(PdfName.IMAGE.toString())) {\n            PdfImageObject image = new PdfImageObject(stream);\n            BufferedImage bi = image.getBufferedImage();\n            if (bi == null) continue;\n            int width = (int)(bi.getWidth() * FACTOR);\n            int height = (int)(bi.getHeight() * FACTOR);\n            BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n            AffineTransform at = AffineTransform.getScaleInstance(FACTOR, FACTOR);\n            Graphics2D g = img.createGraphics();\n            g.drawRenderedImage(bi, at);\n            ByteArrayOutputStream imgBytes = new ByteArrayOutputStream();\n            ImageIO.write(img, \"JPG\", imgBytes);\n            stream.clear();\n            stream.setData(imgBytes.toByteArray(), false, PRStream.BEST_COMPRESSION);\n            stream.put(PdfName.TYPE, PdfName.XOBJECT);\n            stream.put(PdfName.SUBTYPE, PdfName.IMAGE);\n            stream.put(key, value);\n            stream.put(PdfName.FILTER, PdfName.DCTDECODE);\n            stream.put(PdfName.WIDTH, new PdfNumber(width));\n            stream.put(PdfName.HEIGHT, new PdfNumber(height));\n            stream.put(PdfName.BITSPERCOMPONENT, new PdfNumber(8));\n            stream.put(PdfName.COLORSPACE, PdfName.DEVICERGB);\n        }\n    }\n    // Save altered PDF\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\n    stamper.close();\n    reader.close();\n}\n\n/**\n * Main method.\n *\n * @param    args    no arguments needed\n * @throws DocumentException \n * @throws IOException\n */\npublic static void main(String[] args) throws IOException, DocumentException {\n    //createPdf(RESULT);\n    new ResizeImage().manipulatePdf(\"C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF\", \"C:/_dev_env_/TEMP/compressPDF/compressTest.pdf\");\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5613712,"reputation":631,"user_id":4445742,"accept_rate":25,"display_name":"Marti P&#224;mies Sol&#224;"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1605446002,"creation_date":1605446002,"answer_id":64844818,"question_id":20614350,"body_markdown":"Just to update the excellent answer from @Daniel, I update his code to be compatible with iText7.\r\n\r\n    package opencde.builder.compresspdf;\r\n    \r\n    import java.awt.Graphics2D;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import com.itextpdf.io.image.ImageDataFactory;\r\n    import com.itextpdf.kernel.pdf.PdfDictionary;\r\n    import com.itextpdf.kernel.pdf.PdfDocument;\r\n    import com.itextpdf.kernel.pdf.PdfName;\r\n    import com.itextpdf.kernel.pdf.PdfPage;\r\n    import com.itextpdf.kernel.pdf.PdfReader;\r\n    import com.itextpdf.kernel.pdf.PdfStream;\r\n    import com.itextpdf.kernel.pdf.PdfWriter;\r\n    import com.itextpdf.kernel.pdf.xobject.PdfImageXObject;\r\n    import com.itextpdf.layout.element.Image;\r\n    \r\n    public class ResizeImageV7 {\r\n    \t\r\n    \t// Logging\r\n    \tprivate static Logger logger = LoggerFactory.getLogger(ResizeImageV7.class);\r\n    \r\n    \t/**\r\n    \t * Manipulates a PDF file src with the file dest as result\r\n    \t * \r\n    \t * @param src  the original PDF\r\n    \t * @param dest the resulting PDF\r\n    \t * @param resizeFactor factor to multiplicate to resize image\r\n    \t * @throws IOException\r\n    \t */\r\n    \tpublic void manipulatePdf(String src, String dest,Float resizeFactor) throws IOException {\r\n            \r\n    \t\t//Get source pdf\r\n    \t\tPdfDocument pdfDoc = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\r\n    \r\n            // Iterate over all pages to get all images.\r\n            for (int i = 1; i &lt;= pdfDoc.getNumberOfPages(); i++)\r\n            {\r\n                PdfPage page = pdfDoc.getPage(i);\r\n                PdfDictionary pageDict = page.getPdfObject();\r\n                PdfDictionary resources = pageDict.getAsDictionary(PdfName.Resources);\r\n                // Get images\r\n                PdfDictionary xObjects = resources.getAsDictionary(PdfName.XObject);\r\n                for (Iterator&lt;PdfName&gt; iter = xObjects.keySet().iterator() ; iter.hasNext(); ) {\r\n                \t// Get image\r\n                \tPdfName imgRef = iter.next();\r\n                \tPdfStream stream = xObjects.getAsStream(imgRef);\r\n                \tPdfImageXObject image = new PdfImageXObject(stream);\r\n     \t\t\t\tBufferedImage bi = image.getBufferedImage();\r\n     \t\t\t\tif (bi == null)\r\n     \t\t\t\t\tcontinue;\r\n     \t\t\t\t\r\n     \t\t\t\t// Create new image\r\n     \t\t\t\tint width = (int) (bi.getWidth() * resizeFactor);\r\n     \t\t\t\tint height = (int) (bi.getHeight() * resizeFactor);\r\n     \t\t\t\tBufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n     \t\t\t\tAffineTransform at = AffineTransform.getScaleInstance(resizeFactor, resizeFactor);\r\n     \t\t\t\tGraphics2D g = img.createGraphics();\r\n     \t\t\t\tg.drawRenderedImage(bi, at);\r\n     \t\t\t\tByteArrayOutputStream imgBytes = new ByteArrayOutputStream();\r\n     \t\t\t\t\r\n     \t\t\t\t// Write new image\r\n     \t\t\t\tImageIO.write(img, &quot;JPG&quot;, imgBytes);\r\n     \t\t\t\tImage imgNew =new Image(ImageDataFactory.create(imgBytes.toByteArray()));\r\n     \t\t\t\t\r\n                    // Replace the original image with the resized image\r\n                    xObjects.put(imgRef, imgNew.getXObject().getPdfObject());\r\n    \t\t\t}          \r\n            }\r\n            \r\n            pdfDoc.close();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Main method.\r\n    \t *\r\n    \t * @param src  the original PDF\r\n    \t * @param dest the resulting PDF\r\n    \t * @param resizeFactor factor to multiplicate to resize image\r\n    \t * @throws IOException\r\n    \t */\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t//Get input parametres\r\n    \t\tif (args.length&lt;3 ) {\r\n    \t\t\tSystem.out.println(&quot;Source PDF, Destination PDF and Resize Factor must be provided as parametres&quot;);\r\n    \t\t} else {\r\n    \t\t\tString sourcePDF=args[0];\r\n    \t\t\tString destPDF=args[1];\r\n    \t\t\tFloat resizeFactor=Float.valueOf(new String(args[2]));\r\n    \t\t\tlogger.info(&quot;Inovking Resize with args, source:&quot; + sourcePDF\r\n    \t\t\t\t\t+ &quot; destination:&quot; + destPDF \r\n    \t\t\t\t\t+ &quot; factor:&quot; + resizeFactor);\r\n    \t\t\t//Call method to resize images\r\n    \t\t\tnew ResizeImageV7().manipulatePdf(sourcePDF,destPDF,resizeFactor);\r\n    \t\t\tlogger.info(&quot;PDF resized&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"compress pdf with large images via java","body":"<p>Just to update the excellent answer from @Daniel, I update his code to be compatible with iText7.</p>\n<pre><code>package opencde.builder.compresspdf;\n\nimport java.awt.Graphics2D;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.Iterator;\n\nimport javax.imageio.ImageIO;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.itextpdf.io.image.ImageDataFactory;\nimport com.itextpdf.kernel.pdf.PdfDictionary;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfName;\nimport com.itextpdf.kernel.pdf.PdfPage;\nimport com.itextpdf.kernel.pdf.PdfReader;\nimport com.itextpdf.kernel.pdf.PdfStream;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.kernel.pdf.xobject.PdfImageXObject;\nimport com.itextpdf.layout.element.Image;\n\npublic class ResizeImageV7 {\n    \n    // Logging\n    private static Logger logger = LoggerFactory.getLogger(ResizeImageV7.class);\n\n    /**\n     * Manipulates a PDF file src with the file dest as result\n     * \n     * @param src  the original PDF\n     * @param dest the resulting PDF\n     * @param resizeFactor factor to multiplicate to resize image\n     * @throws IOException\n     */\n    public void manipulatePdf(String src, String dest,Float resizeFactor) throws IOException {\n        \n        //Get source pdf\n        PdfDocument pdfDoc = new PdfDocument(new PdfReader(src), new PdfWriter(dest));\n\n        // Iterate over all pages to get all images.\n        for (int i = 1; i &lt;= pdfDoc.getNumberOfPages(); i++)\n        {\n            PdfPage page = pdfDoc.getPage(i);\n            PdfDictionary pageDict = page.getPdfObject();\n            PdfDictionary resources = pageDict.getAsDictionary(PdfName.Resources);\n            // Get images\n            PdfDictionary xObjects = resources.getAsDictionary(PdfName.XObject);\n            for (Iterator&lt;PdfName&gt; iter = xObjects.keySet().iterator() ; iter.hasNext(); ) {\n                // Get image\n                PdfName imgRef = iter.next();\n                PdfStream stream = xObjects.getAsStream(imgRef);\n                PdfImageXObject image = new PdfImageXObject(stream);\n                BufferedImage bi = image.getBufferedImage();\n                if (bi == null)\n                    continue;\n                \n                // Create new image\n                int width = (int) (bi.getWidth() * resizeFactor);\n                int height = (int) (bi.getHeight() * resizeFactor);\n                BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n                AffineTransform at = AffineTransform.getScaleInstance(resizeFactor, resizeFactor);\n                Graphics2D g = img.createGraphics();\n                g.drawRenderedImage(bi, at);\n                ByteArrayOutputStream imgBytes = new ByteArrayOutputStream();\n                \n                // Write new image\n                ImageIO.write(img, &quot;JPG&quot;, imgBytes);\n                Image imgNew =new Image(ImageDataFactory.create(imgBytes.toByteArray()));\n                \n                // Replace the original image with the resized image\n                xObjects.put(imgRef, imgNew.getXObject().getPdfObject());\n            }          \n        }\n        \n        pdfDoc.close();\n    }\n\n    /**\n     * Main method.\n     *\n     * @param src  the original PDF\n     * @param dest the resulting PDF\n     * @param resizeFactor factor to multiplicate to resize image\n     * @throws IOException\n     */\n    public static void main(String[] args) throws IOException {\n        //Get input parametres\n        if (args.length&lt;3 ) {\n            System.out.println(&quot;Source PDF, Destination PDF and Resize Factor must be provided as parametres&quot;);\n        } else {\n            String sourcePDF=args[0];\n            String destPDF=args[1];\n            Float resizeFactor=Float.valueOf(new String(args[2]));\n            logger.info(&quot;Inovking Resize with args, source:&quot; + sourcePDF\n                    + &quot; destination:&quot; + destPDF \n                    + &quot; factor:&quot; + resizeFactor);\n            //Call method to resize images\n            new ResizeImageV7().manipulatePdf(sourcePDF,destPDF,resizeFactor);\n            logger.info(&quot;PDF resized&quot;);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2802171,"reputation":653,"user_id":2410210,"accept_rate":67,"display_name":"Daniel Mulcahy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37369,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":20617824,"answer_count":2,"score":20,"last_activity_date":1682709934,"creation_date":1387207241,"question_id":20614350,"body_markdown":"Looking for a way to compress images in a pdf and to output a pdf for archiving. I cannot compress the images before creation as it would compromise the quality of the print. \r\n\r\nThe size of each pdf is around 8MB with the bulk of this being made up of 2 images. Images are in png format and are brought into pdf during generation(3rd party generator used)\r\n\r\nIs there a way to compress these in java without using a 3rd party tool. I have tried with pdfbox, itext and a 3rd party exe(neevia), the 3rd party tool the only one that has given me any results so far(Down to around half a MB) but I do not want to relinquish control to an exe.\r\nSample code is below.\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Arrays;\r\n\r\n    import org.apache.pdfbox.exceptions.COSVisitorException;\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.common.PDStream;\r\n\r\n    import com.itextpdf.text.DocumentException;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.PdfStamper;\r\n    import com.itextpdf.text.pdf.PdfWriter;\r\n\r\n    public class compressPDF {\r\n\r\n\tpublic static void main (String[] args) throws IOException, DocumentException, COSVisitorException {\r\n\t\t\r\n\t\t\r\n\t\t/*\r\n\t\t * Using PDF Box\r\n\t\t */\r\n\t\t\r\n\t\tPDDocument doc; // = new PDDocument();\r\n\t\t\r\n\t\tdoc = PDDocument.load(&quot;C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF&quot;);\r\n\t\t\r\n\t\tPDStream stream= new PDStream(doc);\r\n\t\tstream.addCompression();\r\n\t\t\r\n\t\tdoc.save(&quot;C:/_dev_env_/TEMP/compressPDF/compressed_pdfBox.pdf&quot;);\r\n\t\t\r\n\t\tdoc.close();\r\n\t\t\r\n\t\t/*\r\n\t\t * Using itext\r\n\t\t */\r\n\t\t\r\n\t\tPdfReader reader = new PdfReader(&quot;C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF&quot;);\r\n\t\t\r\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(&quot;C:/_dev_env_/TEMP/compressPDF/compressed_Itext.pdf&quot;), PdfWriter.VERSION_1_5);\r\n        stamper.setFullCompression();\r\n        stamper.getWriter().setCompressionLevel(50);\r\n        int total = reader.getNumberOfPages() + 1;\r\n        for (int i = 1; i &lt; total; i++) {\r\n            reader.setPageContent(i, reader.getPageContent(i));\r\n        }\r\n        stamper.close();\r\n        reader.close();\r\n        \r\n\t\t/*\r\n\t\t * Using 3rd party - Neevia \r\n\t\t */\r\n\t\ttry {\r\n        Process process = new ProcessBuilder(&quot;C:/Program Files (x86)/neeviaPDF.com/PDFcompress/cmdLine/CLcompr.exe&quot;,&quot;C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF&quot;, &quot;C:/_dev_env_/TEMP/compressPDF/compressed_Neevia.pdf&quot;).start();\r\n        InputStream is = process.getInputStream();\r\n        InputStreamReader isr = new InputStreamReader(is);\r\n        BufferedReader br = new BufferedReader(isr);\r\n        String line;\r\n\r\n        System.out.printf(&quot;Output of running %s is:&quot;, Arrays.toString(args));\r\n\r\n        while ((line = br.readLine()) != null) {\r\n          System.out.println(line);\r\n        }\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;Created!!&quot;);\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n    }\r\n","title":"compress pdf with large images via java","body":"<p>Looking for a way to compress images in a pdf and to output a pdf for archiving. I cannot compress the images before creation as it would compromise the quality of the print. </p>\n\n<p>The size of each pdf is around 8MB with the bulk of this being made up of 2 images. Images are in png format and are brought into pdf during generation(3rd party generator used)</p>\n\n<p>Is there a way to compress these in java without using a 3rd party tool. I have tried with pdfbox, itext and a 3rd party exe(neevia), the 3rd party tool the only one that has given me any results so far(Down to around half a MB) but I do not want to relinquish control to an exe.\nSample code is below.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.Arrays;\n\nimport org.apache.pdfbox.exceptions.COSVisitorException;\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.common.PDStream;\n\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfStamper;\nimport com.itextpdf.text.pdf.PdfWriter;\n\npublic class compressPDF {\n\npublic static void main (String[] args) throws IOException, DocumentException, COSVisitorException {\n\n\n    /*\n     * Using PDF Box\n     */\n\n    PDDocument doc; // = new PDDocument();\n\n    doc = PDDocument.load(\"C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF\");\n\n    PDStream stream= new PDStream(doc);\n    stream.addCompression();\n\n    doc.save(\"C:/_dev_env_/TEMP/compressPDF/compressed_pdfBox.pdf\");\n\n    doc.close();\n\n    /*\n     * Using itext\n     */\n\n    PdfReader reader = new PdfReader(\"C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF\");\n\n    PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(\"C:/_dev_env_/TEMP/compressPDF/compressed_Itext.pdf\"), PdfWriter.VERSION_1_5);\n    stamper.setFullCompression();\n    stamper.getWriter().setCompressionLevel(50);\n    int total = reader.getNumberOfPages() + 1;\n    for (int i = 1; i &lt; total; i++) {\n        reader.setPageContent(i, reader.getPageContent(i));\n    }\n    stamper.close();\n    reader.close();\n\n    /*\n     * Using 3rd party - Neevia \n     */\n    try {\n    Process process = new ProcessBuilder(\"C:/Program Files (x86)/neeviaPDF.com/PDFcompress/cmdLine/CLcompr.exe\",\"C:/_dev_env_/TEMP/compressPDF/TRPT_135002_1470_20131212_121423.PDF\", \"C:/_dev_env_/TEMP/compressPDF/compressed_Neevia.pdf\").start();\n    InputStream is = process.getInputStream();\n    InputStreamReader isr = new InputStreamReader(is);\n    BufferedReader br = new BufferedReader(isr);\n    String line;\n\n    System.out.printf(\"Output of running %s is:\", Arrays.toString(args));\n\n    while ((line = br.readLine()) != null) {\n      System.out.println(line);\n    }\n    } catch (Exception e) {\n        System.out.println(e);\n    } finally {\n        System.out.println(\"Created!!\");\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682540073,"post_id":76114600,"comment_id":134234089,"body_markdown":"You can&#39;t pass a null to an  int in the constructor  carCode is an int.  Please include your complete class including constructors and getters.  And why is the car name an int?  If is really a string, any answer provided won&#39;t be of use to you.","body":"You can&#39;t pass a null to an  int in the constructor  carCode is an int.  Please include your complete class including constructors and getters.  And why is the car name an int?  If is really a string, any answer provided won&#39;t be of use to you."},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":1,"creation_date":1682540432,"post_id":76114600,"comment_id":134234171,"body_markdown":"Thanks for pointing it out. I corrected them.","body":"Thanks for pointing it out. I corrected them."},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":1,"creation_date":1682540709,"post_id":76114600,"comment_id":134234227,"body_markdown":"I removed unnecessary properties from the class in the question.","body":"I removed unnecessary properties from the class in the question."}],"answers":[{"comments":[{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1682539897,"post_id":76114695,"comment_id":134234058,"body_markdown":"Thanks for the reply. I am sorry I edited the question couple of minutes back by explaining the scenario in a much detailed way. I should consider engineNonNull condition only if there are more than one carNum else I should just check only for distinctCarNum and return that value irrespective of the value of engine because there is a very good chance of engine being null and only one distinct carNum exists in the list. So, I should be returning that as well in the list.","body":"Thanks for the reply. I am sorry I edited the question couple of minutes back by explaining the scenario in a much detailed way. I should consider engineNonNull condition only if there are more than one carNum else I should just check only for distinctCarNum and return that value irrespective of the value of engine because there is a very good chance of engine being null and only one distinct carNum exists in the list. So, I should be returning that as well in the list."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1682541794,"post_id":76114695,"comment_id":134234427,"body_markdown":"@Vamsi If i understand correctly, you want `engineNonNull` to be applied only if there are at least 2 cars with distinct car numbers?","body":"@Vamsi If i understand correctly, you want <code>engineNonNull</code> to be applied only if there are at least 2 cars with distinct car numbers?"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1682541885,"post_id":76114695,"comment_id":134234432,"body_markdown":"I want engineNonNull condition to be applied only if there are at least two cars with the same carNum. else just distinctkey alone should be applied","body":"I want engineNonNull condition to be applied only if there are at least two cars with the same carNum. else just distinctkey alone should be applied"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1682542322,"post_id":76114695,"comment_id":134234507,"body_markdown":"In simple terms I want the `engineNonNull` condition to be applied only if there are at least two cars with the same carNum else I should just apply distinct Key","body":"In simple terms I want the <code>engineNonNull</code> condition to be applied only if there are at least two cars with the same carNum else I should just apply distinct Key"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1682542335,"post_id":76114695,"comment_id":134234508,"body_markdown":"@Vamsi In that case, what you need is more akin to grouping, not filtering - i don&#39;t think it&#39;s possible with a filter anyway. Refer to the [answer](https://stackoverflow.com/a/76114896/17795888) from shmosel, it does exactly what you need.","body":"@Vamsi In that case, what you need is more akin to grouping, not filtering - i don&#39;t think it&#39;s possible with a filter anyway. Refer to the <a href=\"https://stackoverflow.com/a/76114896/17795888\">answer</a> from shmosel, it does exactly what you need."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682542833,"creation_date":1682539637,"answer_id":76114695,"question_id":76114600,"body_markdown":"Predicates provide the method [`and()`][1], which allows you to combine two predicates with a logical **AND**.\r\n\r\n&gt; Returns a composed predicate that represents a short-circuiting logical AND of this predicate and another. When evaluating the composed predicate, if this predicate is false, then the other predicate is not evaluated.\r\n\r\nExample:\r\n```\r\nPredicate&lt;Car&gt; distinctByCarNum = distinctByKey(Car::getCarNum);\r\nPredicate&lt;Car&gt; engineNonNull = car -&gt; Objects.nonNull(car.getCarEngine());\r\nPredicate&lt;Car&gt; combinedPredicate = distinctByCarNum.and(engineNonNull);\r\nList&lt;Car&gt; filtered = carList.stream()\r\n    .filter(combinedPredicate)\r\n    .collect(Collectors.toList());\r\n```\r\n**Edit:** After requirement update, you need grouping, not filtering. Refer to the [answer from shmosel][2] for correct solution.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#and(java.util.function.Predicate)\r\n  [2]: https://stackoverflow.com/a/76114896/17795888","title":"Filtering data based on two conditions in java streams","body":"<p>Predicates provide the method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Predicate.html#and(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>and()</code></a>, which allows you to combine two predicates with a logical <strong>AND</strong>.</p>\n<blockquote>\n<p>Returns a composed predicate that represents a short-circuiting logical AND of this predicate and another. When evaluating the composed predicate, if this predicate is false, then the other predicate is not evaluated.</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>Predicate&lt;Car&gt; distinctByCarNum = distinctByKey(Car::getCarNum);\nPredicate&lt;Car&gt; engineNonNull = car -&gt; Objects.nonNull(car.getCarEngine());\nPredicate&lt;Car&gt; combinedPredicate = distinctByCarNum.and(engineNonNull);\nList&lt;Car&gt; filtered = carList.stream()\n    .filter(combinedPredicate)\n    .collect(Collectors.toList());\n</code></pre>\n<p><strong>Edit:</strong> After requirement update, you need grouping, not filtering. Refer to the <a href=\"https://stackoverflow.com/a/76114896/17795888\">answer from shmosel</a> for correct solution.</p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682542376,"creation_date":1682541391,"answer_id":76114896,"question_id":76114600,"body_markdown":"I would recommend the `toMap()` collector with a merge function to select the one with a non-null engine:\r\n\r\n    carList.stream()\r\n            .collect(Collectors.collectingAndThen(\r\n                    Collectors.toMap(\r\n                            Car::getCarNum,\r\n                            c -&gt; c,\r\n                            (a, b) -&gt; a.getCarEngine() != null ? a : b),\r\n                    map -&gt; new ArrayList&lt;&gt;(map.values())))\r\n\r\nThis way, if there&#39;s a `carNum` with only null engines, the first one will remain the final result.","title":"Filtering data based on two conditions in java streams","body":"<p>I would recommend the <code>toMap()</code> collector with a merge function to select the one with a non-null engine:</p>\n<pre><code>carList.stream()\n        .collect(Collectors.collectingAndThen(\n                Collectors.toMap(\n                        Car::getCarNum,\n                        c -&gt; c,\n                        (a, b) -&gt; a.getCarEngine() != null ? a : b),\n                map -&gt; new ArrayList&lt;&gt;(map.values())))\n</code></pre>\n<p>This way, if there's a <code>carNum</code> with only null engines, the first one will remain the final result.</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1682545234,"post_id":76115160,"comment_id":134235079,"body_markdown":"You can use `.allMatch(...)` instead of `.filter(...).count() == lst.size()`. But really this would much cleaner as a simple loop and `Map.merge()`.","body":"You can use <code>.allMatch(...)</code> instead of <code>.filter(...).count() == lst.size()</code>. But really this would much cleaner as a simple loop and <code>Map.merge()</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682549205,"post_id":76115160,"comment_id":134235627,"body_markdown":"@shmosel Yeah.  My big stumbling point (imho) was ensuring I took a valid value over null but null if that was the only choice.  You solved that problem rather elegantly using reduce.","body":"@shmosel Yeah.  My big stumbling point (imho) was ensuring I took a valid value over null but null if that was the only choice.  You solved that problem rather elegantly using reduce."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1682563805,"post_id":76115160,"comment_id":134236898,"body_markdown":"I should mention `allMatch()` is also more efficient, since it&#39;ll short-circuit as soon as it finds a mismatch.","body":"I should mention <code>allMatch()</code> is also more efficient, since it&#39;ll short-circuit as soon as it finds a mismatch."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682709850,"creation_date":1682543829,"answer_id":76115160,"question_id":76114600,"body_markdown":"Here is one way.\r\n- first I group by `carNum`.\r\n- then for each collection of same `carNums` I first check that all are null for `carEngine`.  If so, I simply return the first in the collection.\r\n- otherwise, I stream the list and choose the first one that is not null since one **must** be. \r\n```\r\nList&lt;Car&gt; results = carList.stream()\r\n   .collect(Collectors.groupingBy(Car::getCarNum)).values()\r\n   .stream().map(lst -&gt; {\r\n      if (lst.stream().allMatch(car -&gt; car.getCarEngine() == null)) {\r\n          return lst.get(0);\r\n      } else {\r\n          return lst.stream()\r\n                 .filter(car -&gt; car.getCarEngine() != null)\r\n                 .findFirst().get();\r\n            }\r\n        }).toList();\r\n```\r\nprints\r\n```\r\nCar [carNum=1, carEngine=S02K]\r\nCar [carNum=2, carEngine=S9K]\r\nCar [carNum=3, carEngine=null]\r\n","title":"Filtering data based on two conditions in java streams","body":"<p>Here is one way.</p>\n<ul>\n<li>first I group by <code>carNum</code>.</li>\n<li>then for each collection of same <code>carNums</code> I first check that all are null for <code>carEngine</code>.  If so, I simply return the first in the collection.</li>\n<li>otherwise, I stream the list and choose the first one that is not null since one <strong>must</strong> be.</li>\n</ul>\n<pre><code>List&lt;Car&gt; results = carList.stream()\n   .collect(Collectors.groupingBy(Car::getCarNum)).values()\n   .stream().map(lst -&gt; {\n      if (lst.stream().allMatch(car -&gt; car.getCarEngine() == null)) {\n          return lst.get(0);\n      } else {\n          return lst.stream()\n                 .filter(car -&gt; car.getCarEngine() != null)\n                 .findFirst().get();\n            }\n        }).toList();\n</code></pre>\n<p>prints</p>\n<pre><code>Car [carNum=1, carEngine=S02K]\nCar [carNum=2, carEngine=S9K]\nCar [carNum=3, carEngine=null]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1682549338,"post_id":76115521,"comment_id":134235638,"body_markdown":"The asked &quot;2 conditions&quot; are implemented in 2 consecutive steps: (1) order by &quot;carEngine is not null&quot; first, (2) filter by &quot;distinct carNum&quot;.","body":"The asked &quot;2 conditions&quot; are implemented in 2 consecutive steps: (1) order by &quot;carEngine is not null&quot; first, (2) filter by &quot;distinct carNum&quot;."}],"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682550119,"creation_date":1682548177,"answer_id":76115521,"question_id":76114600,"body_markdown":"## Sort with [`nullsLast`][1] before filtering\r\nThe trick is to sort with **nulls last** before the distinct-filter:\r\n```java\r\n// first by number\r\nComparator.comparing(Car::getNum)\r\n  // we prefer with engine before no engine.\r\n  .thenComparing(Car::getEngine, Comparator.nullsLast(Comparator.naturalOrder()))\r\n```\r\nYou can pass this comparator to the `Stream.sorted()` step, before filtering.\r\n\r\n### Solution\r\n```java\r\nimport java.util.*\r\nimport java.util.Comparator;\r\nimport java.util.concurrent.*;\r\nimport java.util.function.*;\r\nimport java.util.stream.*;\r\n\r\nclass Car {\r\n  int num;\r\n  String engine;\r\n\r\n  public Car(int num, String engine) {\r\n    this.num = num;\r\n    this.engine = engine;\r\n  }\r\n\r\n  public Integer getNum() {\r\n    return this.num;\r\n  }\r\n\r\n  public String getEngine() {\r\n    return this.engine;\r\n  }\r\n\r\n  public String toString() {\r\n    return String.format(&quot;Car: %d, %s&quot;, num, engine);\r\n  }\r\n}\r\n\r\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\nclass Ideone {\r\n  public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(\r\n      Function&lt;? super T, ?&gt; keyExtractor) {\r\n    Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\r\n    return t -&gt; seen.add(keyExtractor.apply(t));\r\n  }\r\n\r\n  public static Comparator&lt;Car&gt; withNullEnginesLast() {\r\n    return Comparator.comparing(Car::getNum)\r\n        .thenComparing(\r\n            Car::getEngine, Comparator.nullsLast(Comparator.naturalOrder()));\r\n  }\r\n\r\n  public static void main(String[] args) throws java.lang.Exception {\r\n    // your code goes here\r\n\r\n    var carList = List.of(\r\n        // num, engine\r\n        new Car(1, &quot;S02K&quot;),\r\n        new Car(1, null),  // filter out as duplicate (nulls last)\r\n        new Car(2, null),  // filter out as duplicate (nulls last)\r\n        new Car(2, &quot;S9K&quot;),\r\n        new Car(3, null)  // include because only occurrence for number\r\n    );\r\n\r\n    var result =\r\n        carList.stream()\r\n            .sorted(withNullEnginesLast()) // sort first by num, then engine\r\n                                           // where null-engines last\r\n            .filter(distinctByKey(Car::getNum))\r\n            .collect(Collectors.toList());\r\n\r\n    System.out.println(result);\r\n  }\r\n}\r\n```\r\nPrints the car 2 **with engine**:\r\n```\r\n[Car: 1, S02K, Car: 2, S9K, Car: 3, null]\r\n```\r\nTry it online: [IDEone demo](https://ideone.com/69nfTx)\r\n### See also\r\n* Baeldung Tutorial: [Java 8 - Comparison with Lambdas](https://www.baeldung.com/java-8-sort-lambda)\r\n* Similar Car sorting: https://stackoverflow.com/questions/58332511/how-to-do-stream-sort-based-on-multiple-comparsions-of-nested-object\r\n* JavaDocs for the important decorator: [`Comparator.nullsLast()`][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html#nullsLast(java.util.Comparator)","title":"Filtering data based on two conditions in java streams","body":"<h2>Sort with <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html#nullsLast(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>nullsLast</code></a> before filtering</h2>\n<p>The trick is to sort with <strong>nulls last</strong> before the distinct-filter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// first by number\nComparator.comparing(Car::getNum)\n  // we prefer with engine before no engine.\n  .thenComparing(Car::getEngine, Comparator.nullsLast(Comparator.naturalOrder()))\n</code></pre>\n<p>You can pass this comparator to the <code>Stream.sorted()</code> step, before filtering.</p>\n<h3>Solution</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*\nimport java.util.Comparator;\nimport java.util.concurrent.*;\nimport java.util.function.*;\nimport java.util.stream.*;\n\nclass Car {\n  int num;\n  String engine;\n\n  public Car(int num, String engine) {\n    this.num = num;\n    this.engine = engine;\n  }\n\n  public Integer getNum() {\n    return this.num;\n  }\n\n  public String getEngine() {\n    return this.engine;\n  }\n\n  public String toString() {\n    return String.format(&quot;Car: %d, %s&quot;, num, engine);\n  }\n}\n\n/* Name of the class has to be &quot;Main&quot; only if the class is public. */\nclass Ideone {\n  public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(\n      Function&lt;? super T, ?&gt; keyExtractor) {\n    Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\n    return t -&gt; seen.add(keyExtractor.apply(t));\n  }\n\n  public static Comparator&lt;Car&gt; withNullEnginesLast() {\n    return Comparator.comparing(Car::getNum)\n        .thenComparing(\n            Car::getEngine, Comparator.nullsLast(Comparator.naturalOrder()));\n  }\n\n  public static void main(String[] args) throws java.lang.Exception {\n    // your code goes here\n\n    var carList = List.of(\n        // num, engine\n        new Car(1, &quot;S02K&quot;),\n        new Car(1, null),  // filter out as duplicate (nulls last)\n        new Car(2, null),  // filter out as duplicate (nulls last)\n        new Car(2, &quot;S9K&quot;),\n        new Car(3, null)  // include because only occurrence for number\n    );\n\n    var result =\n        carList.stream()\n            .sorted(withNullEnginesLast()) // sort first by num, then engine\n                                           // where null-engines last\n            .filter(distinctByKey(Car::getNum))\n            .collect(Collectors.toList());\n\n    System.out.println(result);\n  }\n}\n</code></pre>\n<p>Prints the car 2 <strong>with engine</strong>:</p>\n<pre><code>[Car: 1, S02K, Car: 2, S9K, Car: 3, null]\n</code></pre>\n<p>Try it online: <a href=\"https://ideone.com/69nfTx\" rel=\"nofollow noreferrer\">IDEone demo</a></p>\n<h3>See also</h3>\n<ul>\n<li>Baeldung Tutorial: <a href=\"https://www.baeldung.com/java-8-sort-lambda\" rel=\"nofollow noreferrer\">Java 8 - Comparison with Lambdas</a></li>\n<li>Similar Car sorting: <a href=\"https://stackoverflow.com/questions/58332511/how-to-do-stream-sort-based-on-multiple-comparsions-of-nested-object\">How to do stream sort based on multiple comparsions of nested object?</a></li>\n<li>JavaDocs for the important decorator: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Comparator.html#nullsLast(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Comparator.nullsLast()</code></a></li>\n</ul>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1682709850,"creation_date":1682538902,"question_id":76114600,"body_markdown":"I have the following code\r\n\r\n    public class Car {\r\n        Long carNum;\r\n        String carEngine;\r\n    }\r\n\r\n\r\nThe data in List&lt;Car&gt; object is as follows:\r\n\r\n    Car(carNum=1, carEngine=S02K), \r\n    Car(carNum=1, carEngine=null), \r\n    Car(carNum=2, carEngine=null),\r\n    Car(carNum=2, carEngine=S9K),\r\n    Car(carNum=3, carEngine=null)\r\n\r\nHow can I filter out data from the car object where\r\n\r\ncheck for **distinct carNum** If there are more than one similar carNum then check where **carEngine is not null** and return the data in a list.\r\n\r\nI am able to do the distinct carNum using \r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\r\n    \t\tSet&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\r\n    \t\treturn t -&gt; seen.add(keyExtractor.apply(t));\r\n    }\r\n\r\nin the following way:\r\n\r\n    carList.stream().filter(distinctByKey(Car::getCarNum)).collect(Collectors.toList());\r\n\r\nThe above code gets the distinct carNum but there is a very good chance that it will return the results with null carEngine.\r\n\r\nHow can I check where carEngine is not null along with distinct carNum combined.\r\n\r\n**NOTE:** If there is only one distinct carNum without carEngine then I should return that row along with other rows.\r\n\r\nFor example: If the input data looks like this:\r\n\r\n    Car(carNum=1, carEngine=S02K), \r\n    Car(carNum=1, carEngine=null), \r\n    Car(carNum=2, carEngine=null),\r\n    Car(carNum=2, carEngine=S9K),\r\n    Car(carNum=3, carEngine=null)\r\n\r\nthen the output should be:\r\n\r\n    Car(carNum=1, carEngine=S02K), \r\n    Car(carNum=2, carEngine=S9K),\r\n    Car(carNum=3, carEngine=null)\r\n\r\nPlease let me know. Thank you!\r\n","title":"Filtering data based on two conditions in java streams","body":"<p>I have the following code</p>\n<pre><code>public class Car {\n    Long carNum;\n    String carEngine;\n}\n</code></pre>\n<p>The data in List object is as follows:</p>\n<pre><code>Car(carNum=1, carEngine=S02K), \nCar(carNum=1, carEngine=null), \nCar(carNum=2, carEngine=null),\nCar(carNum=2, carEngine=S9K),\nCar(carNum=3, carEngine=null)\n</code></pre>\n<p>How can I filter out data from the car object where</p>\n<p>check for <strong>distinct carNum</strong> If there are more than one similar carNum then check where <strong>carEngine is not null</strong> and return the data in a list.</p>\n<p>I am able to do the distinct carNum using</p>\n<pre><code>public static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\n        Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\n        return t -&gt; seen.add(keyExtractor.apply(t));\n}\n</code></pre>\n<p>in the following way:</p>\n<pre><code>carList.stream().filter(distinctByKey(Car::getCarNum)).collect(Collectors.toList());\n</code></pre>\n<p>The above code gets the distinct carNum but there is a very good chance that it will return the results with null carEngine.</p>\n<p>How can I check where carEngine is not null along with distinct carNum combined.</p>\n<p><strong>NOTE:</strong> If there is only one distinct carNum without carEngine then I should return that row along with other rows.</p>\n<p>For example: If the input data looks like this:</p>\n<pre><code>Car(carNum=1, carEngine=S02K), \nCar(carNum=1, carEngine=null), \nCar(carNum=2, carEngine=null),\nCar(carNum=2, carEngine=S9K),\nCar(carNum=3, carEngine=null)\n</code></pre>\n<p>then the output should be:</p>\n<pre><code>Car(carNum=1, carEngine=S02K), \nCar(carNum=2, carEngine=S9K),\nCar(carNum=3, carEngine=null)\n</code></pre>\n<p>Please let me know. Thank you!</p>\n"},{"tags":["java","google-api","google-oauth"],"answers":[{"tags":[],"owner":{"account_id":6165775,"reputation":1029,"user_id":4805765,"accept_rate":51,"display_name":"Scooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442100937,"creation_date":1442100937,"answer_id":32544849,"question_id":32543510,"body_markdown":"The answer was simple. I had the wrong dependencies the whole time. Make sure that you have gdata-client version 1.47. Here&#39;s a link to the jar file http://mvnrepository.com/artifact/com.google.gdata/core/1.47.1. Once I used that as a library all my problems went away :)","title":"Java Google Sheets API OAuth 2.0","body":"<p>The answer was simple. I had the wrong dependencies the whole time. Make sure that you have gdata-client version 1.47. Here's a link to the jar file <a href=\"http://mvnrepository.com/artifact/com.google.gdata/core/1.47.1\" rel=\"nofollow\">http://mvnrepository.com/artifact/com.google.gdata/core/1.47.1</a>. Once I used that as a library all my problems went away :)</p>\n"},{"tags":[],"owner":{"account_id":2197855,"reputation":889,"user_id":1943085,"accept_rate":100,"display_name":"Lenymm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682709768,"creation_date":1682709768,"answer_id":76132683,"question_id":32543510,"body_markdown":"There&#39;s an updated quickstart guide for this:\r\n\r\nhttps://developers.google.com/sheets/api/quickstart/java\r\n\r\nThe tldr; version is:\r\n 1. set up the desktop app in Google Cloud console (set up the app, authorize credentials, create new credentials.json)\r\n 2. set up the project, hook up the credentials.json (working code example in the link)\r\n 3. run the project and you should already be able to at least read from a specific spreadsheet/sheet\r\n\r\nThe quickstart guide helped me get started, but there was a lot to learn when I wanted to wipe sheets, add values, add conditional formatting or alternating row colors and such. You can follow the next steps in the guide to see the rest of what the API can do. It was a great fun to mess with it as the results can be seen immediatelly &#39;cause the sheets update automatically.\r\n\r\nWhen it comes to dependencies, the current set of dependencies you need is:\r\n\r\nGradle:\r\n\r\n    implementation &#39;com.google.api-client:google-api-client:2.0.0&#39;\r\n    implementation &#39;com.google.oauth-client:google-oauth-client-jetty:1.34.1&#39;\r\n    implementation &#39;com.google.apis:google-api-services-sheets:v4-rev20220927-2.0.0&#39;\r\n\r\nMaven:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n            &lt;version&gt;1.34.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\r\n            &lt;version&gt;v4-rev20220927-2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Java Google Sheets API OAuth 2.0","body":"<p>There's an updated quickstart guide for this:</p>\n<p><a href=\"https://developers.google.com/sheets/api/quickstart/java\" rel=\"nofollow noreferrer\">https://developers.google.com/sheets/api/quickstart/java</a></p>\n<p>The tldr; version is:</p>\n<ol>\n<li>set up the desktop app in Google Cloud console (set up the app, authorize credentials, create new credentials.json)</li>\n<li>set up the project, hook up the credentials.json (working code example in the link)</li>\n<li>run the project and you should already be able to at least read from a specific spreadsheet/sheet</li>\n</ol>\n<p>The quickstart guide helped me get started, but there was a lot to learn when I wanted to wipe sheets, add values, add conditional formatting or alternating row colors and such. You can follow the next steps in the guide to see the rest of what the API can do. It was a great fun to mess with it as the results can be seen immediatelly 'cause the sheets update automatically.</p>\n<p>When it comes to dependencies, the current set of dependencies you need is:</p>\n<p>Gradle:</p>\n<pre><code>implementation 'com.google.api-client:google-api-client:2.0.0'\nimplementation 'com.google.oauth-client:google-oauth-client-jetty:1.34.1'\nimplementation 'com.google.apis:google-api-services-sheets:v4-rev20220927-2.0.0'\n</code></pre>\n<p>Maven:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-client&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n        &lt;version&gt;1.34.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n        &lt;version&gt;v4-rev20220927-2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6165775,"reputation":1029,"user_id":4805765,"accept_rate":51,"display_name":"Scooter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682709768,"creation_date":1442090572,"question_id":32543510,"body_markdown":"I&#39;m having problems setting up my program to make calls to the Google Sheets API. Currently, I&#39;m authorizing my credential this way:\r\n\r\n    public static Credential authorize() throws IOException, GeneralSecurityException {\r\n        InputStream p12 = GoogleUtils.class.getResourceAsStream(&quot;/key.p12&quot;);\r\n\r\n\t\tFile file = new File(&quot;hi&quot;);\r\n\t\tOutputStream outputStream = new FileOutputStream(file);\r\n\t\tIOUtils.copy(p12, outputStream);\r\n\t\toutputStream.close();\r\n\r\n        // Build flow and trigger user authorization request.\r\n       GoogleCredential credential = new GoogleCredential.Builder()\r\n       \t\t.setTransport(HTTP_TRANSPORT)\r\n       \t\t.setJsonFactory(JSON_FACTORY)\r\n       \t\t.setServiceAccountId(&quot;8429209348-1nfuorcfko5pmqh2l0b1au968igchaoq@developer.gserviceaccount.com&quot;)\r\n       \t\t.setServiceAccountScopes(SCOPES)\r\n       \t\t.setServiceAccountPrivateKeyFromP12File(file)\r\n       \t\t.build();\r\n        return credential;\r\n    }\r\n\r\nBut, I don&#39;t know what to do with this credential now that I have it. In another class, I&#39;m opening up a `SpreadsheetService`, but I can&#39;t find the method to actually authorize with the `Credential` object. I remember doing this in one of my older projects:\r\n\r\n    public GoogleDrive() {\r\n\t\t/** Our view of Google Spreadsheets as an authenticated Google user. */\r\n\t\ttry {\r\n\t\t\tInputStream p12 = BotPanel.class.getResourceAsStream(&quot;/key.p12&quot;);\r\n\r\n\t\t\tFile file = new File(&quot;hi&quot;);\r\n\t\t\tOutputStream outputStream = new FileOutputStream(file);\r\n\t\t\tIOUtils.copy(p12, outputStream);\r\n\t\t\toutputStream.close();\r\n\r\n\t\t\tString emailAddress = &quot;81607255786-225dt8i2s8q6qgi0lgg814p27mumqro2@developer.gserviceaccount.com&quot;;\r\n\t\t\tHttpTransport httpTransport = new NetHttpTransport();\r\n\t\t\tJacksonFactory jsonFactory = new JacksonFactory();\r\n\t\t\tString[] SCOPESArray = { &quot;https://spreadsheets.google.com/feeds&quot;, &quot;https://spreadsheets.google.com/feeds/spreadsheets/private/full&quot;, &quot;https://docs.google.com/feeds&quot; };\r\n\t\t\tfinal List&lt;String&gt; SCOPES = Arrays.asList(SCOPESArray);\r\n\t\t\tGoogleCredential credential = new GoogleCredential.Builder()\r\n\t\t\t\t\t\t.setTransport(httpTransport).setJsonFactory(jsonFactory)\r\n\t\t\t\t\t\t.setServiceAccountId(emailAddress).setServiceAccountScopes(SCOPES)\r\n\t\t\t\t\t\t.setServiceAccountPrivateKeyFromP12File(file)\r\n\t\t\t\t\t\t.build();\r\n\r\n\t\t\tfile.delete();\r\n\t\t\tservice = new SpreadsheetService(&quot;Test&quot;);\r\n\t\t\tservice.setOAuth2Credentials(credential);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nAs you can see I get the `Credential` the same way, and at the end I&#39;m able to just call `service.setOAuth2Credentials(credential);`But in my newer project, this is what I&#39;m getting:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tijSk.png\r\n\r\nAs you can see there isn&#39;t a method called `.setOAuth2Credential(...)` anymore.\r\n\r\nDigging into the src code, I found the method in the `GoogleService` class, only it had the annotation @Beta.\r\n\r\n  \r\n\r\n    @Beta\r\n      public void setOAuth2Credentials(Credential credential) {\r\n        GoogleAuthTokenFactory googleAuthTokenFactory = getGoogleAuthTokenFactory();\r\n        googleAuthTokenFactory.setOAuth2Credentials(credential);\r\n        requestFactory.setAuthToken(authTokenFactory.getAuthToken());\r\n      }\r\n\r\nIs there a reason why this code is annotated with @Beta? Is there some other way I&#39;m supposed to authorize calls to the sheets api? Or is there some way to still authorize with this method? (that would be ideal).","title":"Java Google Sheets API OAuth 2.0","body":"<p>I'm having problems setting up my program to make calls to the Google Sheets API. Currently, I'm authorizing my credential this way:</p>\n\n<pre><code>public static Credential authorize() throws IOException, GeneralSecurityException {\n    InputStream p12 = GoogleUtils.class.getResourceAsStream(\"/key.p12\");\n\n    File file = new File(\"hi\");\n    OutputStream outputStream = new FileOutputStream(file);\n    IOUtils.copy(p12, outputStream);\n    outputStream.close();\n\n    // Build flow and trigger user authorization request.\n   GoogleCredential credential = new GoogleCredential.Builder()\n        .setTransport(HTTP_TRANSPORT)\n        .setJsonFactory(JSON_FACTORY)\n        .setServiceAccountId(\"8429209348-1nfuorcfko5pmqh2l0b1au968igchaoq@developer.gserviceaccount.com\")\n        .setServiceAccountScopes(SCOPES)\n        .setServiceAccountPrivateKeyFromP12File(file)\n        .build();\n    return credential;\n}\n</code></pre>\n\n<p>But, I don't know what to do with this credential now that I have it. In another class, I'm opening up a <code>SpreadsheetService</code>, but I can't find the method to actually authorize with the <code>Credential</code> object. I remember doing this in one of my older projects:</p>\n\n<pre><code>public GoogleDrive() {\n    /** Our view of Google Spreadsheets as an authenticated Google user. */\n    try {\n        InputStream p12 = BotPanel.class.getResourceAsStream(\"/key.p12\");\n\n        File file = new File(\"hi\");\n        OutputStream outputStream = new FileOutputStream(file);\n        IOUtils.copy(p12, outputStream);\n        outputStream.close();\n\n        String emailAddress = \"81607255786-225dt8i2s8q6qgi0lgg814p27mumqro2@developer.gserviceaccount.com\";\n        HttpTransport httpTransport = new NetHttpTransport();\n        JacksonFactory jsonFactory = new JacksonFactory();\n        String[] SCOPESArray = { \"https://spreadsheets.google.com/feeds\", \"https://spreadsheets.google.com/feeds/spreadsheets/private/full\", \"https://docs.google.com/feeds\" };\n        final List&lt;String&gt; SCOPES = Arrays.asList(SCOPESArray);\n        GoogleCredential credential = new GoogleCredential.Builder()\n                    .setTransport(httpTransport).setJsonFactory(jsonFactory)\n                    .setServiceAccountId(emailAddress).setServiceAccountScopes(SCOPES)\n                    .setServiceAccountPrivateKeyFromP12File(file)\n                    .build();\n\n        file.delete();\n        service = new SpreadsheetService(\"Test\");\n        service.setOAuth2Credentials(credential);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>As you can see I get the <code>Credential</code> the same way, and at the end I'm able to just call <code>service.setOAuth2Credentials(credential);</code>But in my newer project, this is what I'm getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tijSk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tijSk.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see there isn't a method called <code>.setOAuth2Credential(...)</code> anymore.</p>\n\n<p>Digging into the src code, I found the method in the <code>GoogleService</code> class, only it had the annotation @Beta.</p>\n\n<pre><code>@Beta\n  public void setOAuth2Credentials(Credential credential) {\n    GoogleAuthTokenFactory googleAuthTokenFactory = getGoogleAuthTokenFactory();\n    googleAuthTokenFactory.setOAuth2Credentials(credential);\n    requestFactory.setAuthToken(authTokenFactory.getAuthToken());\n  }\n</code></pre>\n\n<p>Is there a reason why this code is annotated with @Beta? Is there some other way I'm supposed to authorize calls to the sheets api? Or is there some way to still authorize with this method? (that would be ideal).</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"comments":[{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1682681453,"post_id":76128804,"comment_id":134257651,"body_markdown":"For an `Expected Condition - visibility_of` you are passing an `Element` not a `Locator`. So it has to first find the `Element ` to use it for `visibility_of` condition. Its not waiting 15s for finding that `Element`.","body":"For an <code>Expected Condition - visibility_of</code> you are passing an <code>Element</code> not a <code>Locator</code>. So it has to first find the <code>Element </code> to use it for <code>visibility_of</code> condition. Its not waiting 15s for finding that <code>Element</code>."},{"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"score":0,"creation_date":1682681933,"post_id":76128804,"comment_id":134257754,"body_markdown":"Hm. So that will only work if we are checking to see if an existing element is visible or not then?","body":"Hm. So that will only work if we are checking to see if an existing element is visible or not then?"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1682682306,"post_id":76128804,"comment_id":134257845,"body_markdown":"If you are waiting for that element to appear and send text to it and it is also an `input` field, it should be obviously be clickable. Try using `element_to_be_clickable` instead of `visibility_of`.","body":"If you are waiting for that element to appear and send text to it and it is also an <code>input</code> field, it should be obviously be clickable. Try using <code>element_to_be_clickable</code> instead of <code>visibility_of</code>."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682709299,"creation_date":1682709299,"answer_id":76132627,"question_id":76128804,"body_markdown":"Exception is being thrown in `driver.findElement` code , you are  doing `driver.findElement(By.id(&quot;given_name&quot;)` which will throw exception first and you WebDriver wait is not evaluating at all\r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(**driver.findElement(By.id(&quot;given_name&quot;)**))).sendKeys(selectAll + fornavnOgEtternavn.getFornavn());\r\n\r\nuse below instead where we are passing By locator Object \r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;given_name&quot;)))\r\n    \t\t\t.sendKeys(selectAll + fornavnOgEtternavn.getFornavn());","title":"Selenium: Wait and visibilityOf element not working","body":"<p>Exception is being thrown in <code>driver.findElement</code> code , you are  doing <code>driver.findElement(By.id(&quot;given_name&quot;)</code> which will throw exception first and you WebDriver wait is not evaluating at all</p>\n<pre><code>Browser.Wait(15).until(ExpectedConditions.visibilityOf(**driver.findElement(By.id(&quot;given_name&quot;)**))).sendKeys(selectAll + fornavnOgEtternavn.getFornavn());\n</code></pre>\n<p>use below instead where we are passing By locator Object</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;given_name&quot;)))\n            .sendKeys(selectAll + fornavnOgEtternavn.getFornavn());\n</code></pre>\n"}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682709299,"creation_date":1682678750,"question_id":76128804,"body_markdown":"I&#39;ve got this pretty simple piece of code:\r\n\r\n    Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;given_name&quot;)))).sendKeys(selectAll + fornavnOgEtternavn.getFornavn());\r\n\r\nTesting this markup:\r\n\r\n    &lt;&lt;form id=&quot;egendefinert&quot; action=&quot;...method=&quot;post&quot;&gt;\r\n    &lt;h2&gt;Egendefinert bruker&lt;/h2&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;custom&quot; value=&quot;true&quot;&gt;\r\n            &lt;div class=&quot;inputfelt avansertModus&quot; style=&quot;display: none;&quot;&gt;\r\n                &lt;div class=&quot;label-wrapper&quot;&gt;\r\n                    &lt;label for=&quot;preferred_username&quot;&gt;\r\n                        &lt;span&gt;Brukernavn&lt;/span&gt;\r\n                        &lt;span class=&quot;label-description&quot;&gt;(preferred_username)&lt;/span&gt;\r\n                    &lt;/label&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;input name=&quot;preferred_username&quot; id=&quot;preferred_username&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;inputfelt &quot;&gt;\r\n                    &lt;div class=&quot;label-wrapper&quot;&gt;\r\n                        &lt;label for=&quot;given_name&quot;&gt;\r\n                            &lt;span&gt;Fornavn&lt;/span&gt;\r\n                            &lt;span class=&quot;label-description&quot;&gt;(given_name)&lt;/span&gt;\r\n                         &lt;/label&gt;\r\n                     &lt;/div&gt;\r\n                     &lt;input name=&quot;given_name&quot; id=&quot;given_name&quot;&gt;\r\n                    &lt;/div&gt;\r\n    ...\r\n\r\nThis is supposed to wait for up to 15 seconds for an input field to be visible, and then use sendKeys() on it to enter text.\r\n\r\nHowever, when I run the test, it IMMEDIATELY fails with this error:\r\n\r\n    org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#given_name&quot;}   \r\n\r\nIt doesn&#39;t wait for even a second - just concludes with the element not existing immediately.\r\n\r\nHowever, if I put break points in the code and step through each line accessing this and following input fields, it works fine.\r\n\r\nSo, why does Selenium rush ahead and claim that the elements are doesn&#39;t exist, instead of wait for the visibility as specified?","title":"Selenium: Wait and visibilityOf element not working","body":"<p>I've got this pretty simple piece of code:</p>\n<pre><code>Browser.Wait(15).until(ExpectedConditions.visibilityOf(driver.findElement(By.id(&quot;given_name&quot;)))).sendKeys(selectAll + fornavnOgEtternavn.getFornavn());\n</code></pre>\n<p>Testing this markup:</p>\n<pre><code>&lt;&lt;form id=&quot;egendefinert&quot; action=&quot;...method=&quot;post&quot;&gt;\n&lt;h2&gt;Egendefinert bruker&lt;/h2&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;custom&quot; value=&quot;true&quot;&gt;\n        &lt;div class=&quot;inputfelt avansertModus&quot; style=&quot;display: none;&quot;&gt;\n            &lt;div class=&quot;label-wrapper&quot;&gt;\n                &lt;label for=&quot;preferred_username&quot;&gt;\n                    &lt;span&gt;Brukernavn&lt;/span&gt;\n                    &lt;span class=&quot;label-description&quot;&gt;(preferred_username)&lt;/span&gt;\n                &lt;/label&gt;\n             &lt;/div&gt;\n             &lt;input name=&quot;preferred_username&quot; id=&quot;preferred_username&quot;&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;inputfelt &quot;&gt;\n                &lt;div class=&quot;label-wrapper&quot;&gt;\n                    &lt;label for=&quot;given_name&quot;&gt;\n                        &lt;span&gt;Fornavn&lt;/span&gt;\n                        &lt;span class=&quot;label-description&quot;&gt;(given_name)&lt;/span&gt;\n                     &lt;/label&gt;\n                 &lt;/div&gt;\n                 &lt;input name=&quot;given_name&quot; id=&quot;given_name&quot;&gt;\n                &lt;/div&gt;\n...\n</code></pre>\n<p>This is supposed to wait for up to 15 seconds for an input field to be visible, and then use sendKeys() on it to enter text.</p>\n<p>However, when I run the test, it IMMEDIATELY fails with this error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;#given_name&quot;}   \n</code></pre>\n<p>It doesn't wait for even a second - just concludes with the element not existing immediately.</p>\n<p>However, if I put break points in the code and step through each line accessing this and following input fields, it works fine.</p>\n<p>So, why does Selenium rush ahead and claim that the elements are doesn't exist, instead of wait for the visibility as specified?</p>\n"},{"tags":["java","maven","jsf","tomcat7","netbeans-12"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1682879429,"post_id":76132606,"comment_id":134280871,"body_markdown":"How do you deploy your war?","body":"How do you deploy your war?"},{"owner":{"account_id":24492114,"reputation":1,"user_id":18409043,"display_name":"user18409043"},"score":0,"creation_date":1683027333,"post_id":76132606,"comment_id":134300534,"body_markdown":"didn&#39;t. much, beyond, import the maven project, ande the tomcat 7, i also changed some data in context of the tomcat to use my local server, and of course i configuered the maven  settings on java for use my current version  but just that","body":"didn&#39;t. much, beyond, import the maven project, ande the tomcat 7, i also changed some data in context of the tomcat to use my local server, and of course i configuered the maven  settings on java for use my current version  but just that"},{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1683032462,"post_id":76132606,"comment_id":134301732,"body_markdown":"In eclipse you have to add the war to your server, so I suppose NetBeans could have a similar behavior.","body":"In eclipse you have to add the war to your server, so I suppose NetBeans could have a similar behavior."}],"owner":{"account_id":24492114,"reputation":1,"user_id":18409043,"display_name":"user18409043"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682709031,"creation_date":1682709031,"question_id":76132606,"body_markdown":"I tring to deploy a application on my localhost, and even though i can find any significative error message, and also seems like is evrithing is alright with the Deployment when try in my Localhost, the page does not appear\r\n\r\ni seted up the maven and the tomcat on 8084 port as its seted on my tomcat propeties, still i cant get it worked\r\n\r\nhere are the project running in tomcat Log;\r\n\r\nScanning for projects...\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n-` br.com.agapesistemas:AgPortalNew &gt;------------------\r\n- Building AgPortalNew 11.23\r\n- war ]---------------------------------\r\n- The POM for com.lowagie:itext:jar:2.1.7.js2 is missing, no dependency information available\r\n- The POM for org.olap4j:olap4j:jar:0.9.7.309-JS-3 is missing, no dependency information available\r\n- The POM for org.primefaces.sentinel:primefaces-sentinel:jar:2.1.2 is missing, no dependency information available\r\n- \r\n- maven-clean-plugin:2.5:clean (default-clean) @ AgPortalNew ---\r\n- Deleting C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\r\n- \r\n- maven-dependency-plugin:2.1:copy (default)  AgPortalNew ---\r\n- \r\n- maven-resources-plugin:2.6:resources (default-resources) @ AgPortalNew ---\r\n- Using &#39;ISO-8859-1&#39; encoding to copy filtered resources.\r\nCopying 0 resource\r\n\r\n--- maven-compiler-plugin:2.3.2:compile (default-compile) @ AgPortalNew ---\r\nCompiling 570 source files to C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\classes\r\n\r\n--- maven-resources-plugin:2.6:testResources (default-testResources) @ AgPortalNew ---\r\nUsing &#39;ISO-8859-1&#39; encoding to copy filtered resources.\r\nskip non existing resourceDirectory C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\src\\test\\resources\r\n\r\n--- maven-compiler-plugin:2.3.2:testCompile (default-testCompile) @ AgPortalNew ---\r\nNothing to compile - all classes are up to date\r\n\r\n--- maven-surefire-plugin:2.12.4:test (default-test) @ AgPortalNew ---\r\nNo tests to run.\r\n\r\n--- maven-war-plugin:2.1.1:war (default-war) @ AgPortalNew ---\r\nPackaging webapp\r\nAssembling webapp [AgPortalNew] in [C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\AgPortalNew-11.23]\r\nProcessing war project\r\nCopying webapp resources [C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\src\\main\\webapp]\r\nWebapp assembled in [19123 msecs]\r\nBuilding war: C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\AgPortalNew-11.23.war\r\nWarning: selected war files include a WEB-INF/web.xml which will be ignored \r\n(webxml attribute is missing from war task, or ignoreWebxml attribute is specified as &#39;true&#39;)\r\n\r\n--- maven-install-plugin:2.4:install (default-install) @ AgPortalNew ---\r\nInstalling C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\AgPortalNew-11.23.war to C:\\Users\\Agape\\.m2\\repository\\br\\com\\agapesistemas\\AgPortalNew\\11.23\\AgPortalNew-11.23.war\r\nInstalling C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\pom.xml to C:\\Users\\Agape\\.m2\\repository\\br\\com\\agapesistemas\\AgPortalNew\\11.23\\AgPortalNew-11.23.pom\r\n------------------------------------------------------------------------\r\nBUILD SUCCESS\r\n------------------------------------------------------------------------\r\n&lt;/code&gt;&lt;/pre&gt;`\r\n\r\nTotal time:  01:55 min\r\nFinished at: 2023-04-28T14:35:32-03:00\r\n\\---------------------------------------------\\`\r\n\r\n\r\n\r\ni could not see anything that could be reason behind the issue an also i am not finding any error log either\r\n`\r\nthats the link that i am trying to access\r\n\r\nhttp://localhost:8084/AgPortalNew\r\n[that image shows my Web Applications folder completely empty without my project ](https://i.stack.imgur.com/6jqz0.png)\r\n\r\n","title":"I cant get my project working on Tomcat in netbeans","body":"<p>I tring to deploy a application on my localhost, and even though i can find any significative error message, and also seems like is evrithing is alright with the Deployment when try in my Localhost, the page does not appear</p>\n<p>i seted up the maven and the tomcat on 8084 port as its seted on my tomcat propeties, still i cant get it worked</p>\n<p>here are the project running in tomcat Log;</p>\n<p>Scanning for projects...</p>\n<pre><code>\n\n-` br.com.agapesistemas:AgPortalNew >------------------\n- Building AgPortalNew 11.23\n- war ]---------------------------------\n- The POM for com.lowagie:itext:jar:2.1.7.js2 is missing, no dependency information available\n- The POM for org.olap4j:olap4j:jar:0.9.7.309-JS-3 is missing, no dependency information available\n- The POM for org.primefaces.sentinel:primefaces-sentinel:jar:2.1.2 is missing, no dependency information available\n- \n- maven-clean-plugin:2.5:clean (default-clean) @ AgPortalNew ---\n- Deleting C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\n- \n- maven-dependency-plugin:2.1:copy (default)  AgPortalNew ---\n- \n- maven-resources-plugin:2.6:resources (default-resources) @ AgPortalNew ---\n- Using 'ISO-8859-1' encoding to copy filtered resources.\nCopying 0 resource\n\n--- maven-compiler-plugin:2.3.2:compile (default-compile) @ AgPortalNew ---\nCompiling 570 source files to C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\classes\n\n--- maven-resources-plugin:2.6:testResources (default-testResources) @ AgPortalNew ---\nUsing 'ISO-8859-1' encoding to copy filtered resources.\nskip non existing resourceDirectory C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\src\\test\\resources\n\n--- maven-compiler-plugin:2.3.2:testCompile (default-testCompile) @ AgPortalNew ---\nNothing to compile - all classes are up to date\n\n--- maven-surefire-plugin:2.12.4:test (default-test) @ AgPortalNew ---\nNo tests to run.\n\n--- maven-war-plugin:2.1.1:war (default-war) @ AgPortalNew ---\nPackaging webapp\nAssembling webapp [AgPortalNew] in [C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\AgPortalNew-11.23]\nProcessing war project\nCopying webapp resources [C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\src\\main\\webapp]\nWebapp assembled in [19123 msecs]\nBuilding war: C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\AgPortalNew-11.23.war\nWarning: selected war files include a WEB-INF/web.xml which will be ignored \n(webxml attribute is missing from war task, or ignoreWebxml attribute is specified as 'true')\n\n--- maven-install-plugin:2.4:install (default-install) @ AgPortalNew ---\nInstalling C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\target\\AgPortalNew-11.23.war to C:\\Users\\Agape\\.m2\\repository\\br\\com\\agapesistemas\\AgPortalNew\\11.23\\AgPortalNew-11.23.war\nInstalling C:\\Agape\\AgSistemas\\branches\\Sprint 6 - Desenv\\AgPortal\\Fontes\\Aplicacao\\Maven\\AgPortalNew\\pom.xml to C:\\Users\\Agape\\.m2\\repository\\br\\com\\agapesistemas\\AgPortalNew\\11.23\\AgPortalNew-11.23.pom\n------------------------------------------------------------------------\nBUILD SUCCESS\n------------------------------------------------------------------------\n</code></pre>`\n<p>Total time:  01:55 min\nFinished at: 2023-04-28T14:35:32-03:00\n---------------------------------------------`</p>\n<p>i could not see anything that could be reason behind the issue an also i am not finding any error log either\n`\nthats the link that i am trying to access</p>\n<p>http://localhost:8084/AgPortalNew\n<a href=\"https://i.stack.imgur.com/6jqz0.png\" rel=\"nofollow noreferrer\">that image shows my Web Applications folder completely empty without my project </a></p>\n"},{"tags":["java","spring","spring-boot","okta"],"answers":[{"tags":[],"owner":{"account_id":1777687,"reputation":169,"user_id":1621147,"display_name":"Arvind Krishnakumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682705968,"creation_date":1682705968,"answer_id":76132275,"question_id":76131704,"body_markdown":"Please use okta-sdk-api version 8.2.3 or lower, the 10.x version of the SDK has breaking changes which are not fully compatible with okta-spring-boot 3.0.3 yet.","title":"Okta Java/Spring API generating ClassNotFoundException","body":"<p>Please use okta-sdk-api version 8.2.3 or lower, the 10.x version of the SDK has breaking changes which are not fully compatible with okta-spring-boot 3.0.3 yet.</p>\n"}],"owner":{"account_id":10970180,"reputation":31,"user_id":8060734,"display_name":"Filipe Dias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682708506,"creation_date":1682700898,"question_id":76131704,"body_markdown":"I&#39;m trying to connect my local Okta server to a Spring Boot application, but I&#39;m getting &quot;The following method did not exist:\r\n\r\n    &#39;void org.springframework.http.client.HttpComponentsClientHttpRequestFactory.setHttpClient(org.apache.http.client.HttpClient)&#39;\r\n&quot; error \r\n\r\nI&#39;ve tried connect my local Okta server to a Spring Boot application, but a more detailed error is being thrown when trying to add Okta ApiClient to my Spring service: \r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    com.okta.sdk.impl.client.DefaultClientBuilder.requestFactory(DefaultClientBuilder.java:471)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.springframework.http.client.HttpComponentsClientHttpRequestFactory.setHttpClient(org.apache.http.client.HttpClient)&#39;\r\n\r\nThe calling method&#39;s class, com.okta.sdk.impl.client.DefaultClientBuilder, was loaded from the following location:\r\n\r\n    jar:file:/Users/filipe-lima/.m2/repository/com/okta/sdk/okta-sdk-impl/10.3.0/okta-sdk-impl-10.3.0.jar!/com/okta/sdk/impl/client/DefaultClientBuilder.class\r\n\r\nThe called method&#39;s class, org.springframework.http.client.HttpComponentsClientHttpRequestFactory, is available from the following locations:\r\n\r\n    jar:file:/Users/filipe-lima/.m2/repository/org/springframework/spring-web/6.0.8/spring-web-6.0.8.jar!/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    org.springframework.http.client.HttpComponentsClientHttpRequestFactory: file:/Users/user/.m2/repository/org/springframework/spring-web/6.0.8/spring-web-6.0.8.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes com.okta.sdk.impl.client.DefaultClientBuilder and org.springframework.http.client.HttpComponentsClientHttpRequestFactory\r\n```\r\n\r\nIn my pom.xml there&#39;s the following configuration:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.cision&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;okta-spring-integration&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;okta-spring-integration&lt;/name&gt;\r\n\t&lt;description&gt;Okta Proof of Concept for Spring App&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.okta.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okta-sdk-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.okta.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okta-sdk-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.3.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okta-spring-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAlready tried to update HttpClient libs on POM, change Okta-SDK versions, and even looked at [Okta SDK Java Github Repository](https://github.com/okta/okta-sdk-java/issues/794), but still got no success.","title":"Okta Java/Spring API generating ClassNotFoundException","body":"<p>I'm trying to connect my local Okta server to a Spring Boot application, but I'm getting &quot;The following method did not exist:</p>\n<pre><code>'void org.springframework.http.client.HttpComponentsClientHttpRequestFactory.setHttpClient(org.apache.http.client.HttpClient)'\n</code></pre>\n<p>&quot; error</p>\n<p>I've tried connect my local Okta server to a Spring Boot application, but a more detailed error is being thrown when trying to add Okta ApiClient to my Spring service:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    com.okta.sdk.impl.client.DefaultClientBuilder.requestFactory(DefaultClientBuilder.java:471)\n\nThe following method did not exist:\n\n    'void org.springframework.http.client.HttpComponentsClientHttpRequestFactory.setHttpClient(org.apache.http.client.HttpClient)'\n\nThe calling method's class, com.okta.sdk.impl.client.DefaultClientBuilder, was loaded from the following location:\n\n    jar:file:/Users/filipe-lima/.m2/repository/com/okta/sdk/okta-sdk-impl/10.3.0/okta-sdk-impl-10.3.0.jar!/com/okta/sdk/impl/client/DefaultClientBuilder.class\n\nThe called method's class, org.springframework.http.client.HttpComponentsClientHttpRequestFactory, is available from the following locations:\n\n    jar:file:/Users/filipe-lima/.m2/repository/org/springframework/spring-web/6.0.8/spring-web-6.0.8.jar!/org/springframework/http/client/HttpComponentsClientHttpRequestFactory.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    org.springframework.http.client.HttpComponentsClientHttpRequestFactory: file:/Users/user/.m2/repository/org/springframework/spring-web/6.0.8/spring-web-6.0.8.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes com.okta.sdk.impl.client.DefaultClientBuilder and org.springframework.http.client.HttpComponentsClientHttpRequestFactory\n</code></pre>\n<p>In my pom.xml there's the following configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cision&lt;/groupId&gt;\n    &lt;artifactId&gt;okta-spring-integration&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;okta-spring-integration&lt;/name&gt;\n    &lt;description&gt;Okta Proof of Concept for Spring App&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.okta.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;okta-sdk-api&lt;/artifactId&gt;\n            &lt;version&gt;10.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.okta.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;okta-sdk-impl&lt;/artifactId&gt;\n            &lt;version&gt;10.3.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;okta-spring-sdk&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.core5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore5&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Already tried to update HttpClient libs on POM, change Okta-SDK versions, and even looked at <a href=\"https://github.com/okta/okta-sdk-java/issues/794\" rel=\"nofollow noreferrer\">Okta SDK Java Github Repository</a>, but still got no success.</p>\n"},{"tags":["java","twilio","totp","authy"],"comments":[{"owner":{"account_id":4177313,"reputation":282,"user_id":3423442,"accept_rate":75,"display_name":"Michal Hene≈°"},"score":0,"creation_date":1682594349,"post_id":75995658,"comment_id":134242155,"body_markdown":"I have exactly the same issue. No matter how fast I am, its always unverified... Tried to downgrade twilio-java library but to no avail... Getting a little bit frustrated at this point, answer would be nice","body":"I have exactly the same issue. No matter how fast I am, its always unverified... Tried to downgrade twilio-java library but to no avail... Getting a little bit frustrated at this point, answer would be nice"}],"answers":[{"comments":[{"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"score":0,"creation_date":1682693469,"post_id":76129863,"comment_id":134260663,"body_markdown":"I can confirm that it&#39;s &quot;something in this direction&quot;.  I also reverted everything back to defaults. And now it works. I even saw, that when you change the TimeStep to 60 in Java code, it actually stays 30secs in the Authenticator App on the mobile. So yes, seems to be necessary to leave these defaults.","body":"I can confirm that it&#39;s &quot;something in this direction&quot;.  I also reverted everything back to defaults. And now it works. I even saw, that when you change the TimeStep to 60 in Java code, it actually stays 30secs in the Authenticator App on the mobile. So yes, seems to be necessary to leave these defaults."}],"tags":[],"owner":{"account_id":4177313,"reputation":282,"user_id":3423442,"accept_rate":75,"display_name":"Michal Hene≈°"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682687022,"creation_date":1682687022,"answer_id":76129863,"question_id":75995658,"body_markdown":"So I had the same exact issue and I was in contact with the devs.\r\nYou need to keep the default values in the Twilio console in the Verify Service settings of the TOTP. The defaults seems to be:\r\n\r\nCode length = 6&lt;br/&gt;\r\nTime step = 30&lt;br/&gt;\r\nSkew = 1\r\n\r\nI have changed these values in my case, and everything started working again.\r\nAlso keep in mind, some authentication apps like google have in the settings possibility to &quot;Sync&quot; time and that was really needed in my case in order to have working solution.\r\n\r\nHope it will work for you aswell.","title":"Cannot validate Authy TOTP via Java API","body":"<p>So I had the same exact issue and I was in contact with the devs.\nYou need to keep the default values in the Twilio console in the Verify Service settings of the TOTP. The defaults seems to be:</p>\n<p>Code length = 6<br/>\nTime step = 30<br/>\nSkew = 1</p>\n<p>I have changed these values in my case, and everything started working again.\nAlso keep in mind, some authentication apps like google have in the settings possibility to &quot;Sync&quot; time and that was really needed in my case in order to have working solution.</p>\n<p>Hope it will work for you aswell.</p>\n"},{"tags":[],"owner":{"account_id":2197855,"reputation":889,"user_id":1943085,"accept_rate":100,"display_name":"Lenymm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682707732,"creation_date":1682707732,"answer_id":76132459,"question_id":75995658,"body_markdown":"One way to debug this is to check the creation date when working with the API and compare that to your local time. If there&#39;s a difference between the client and server time, you&#39;re most likely only going to produce unverified results (kind of like an immediate timeout). Change your phone&#39;s time to the server time and test it again. If it works, you&#39;ve found your issue. \r\n\r\nThe core of the problem still most likely lies in the default values messing with the API like @MichalHene≈° mentioned, but I wanted to provide another way of debugging this.\r\n\r\nIt might look like you can change the timezone in your user settings, but that&#39;s only for the console and it won&#39;t affect your API responses as all dates are given in [RFC 2822][1] format.\r\n\r\n\r\n  [1]: http://www.ietf.org/rfc/rfc2822.txt","title":"Cannot validate Authy TOTP via Java API","body":"<p>One way to debug this is to check the creation date when working with the API and compare that to your local time. If there's a difference between the client and server time, you're most likely only going to produce unverified results (kind of like an immediate timeout). Change your phone's time to the server time and test it again. If it works, you've found your issue.</p>\n<p>The core of the problem still most likely lies in the default values messing with the API like @MichalHene≈° mentioned, but I wanted to provide another way of debugging this.</p>\n<p>It might look like you can change the timezone in your user settings, but that's only for the console and it won't affect your API responses as all dates are given in <a href=\"http://www.ietf.org/rfc/rfc2822.txt\" rel=\"nofollow noreferrer\">RFC 2822</a> format.</p>\n"}],"owner":{"account_id":8114023,"reputation":1631,"user_id":6113110,"accept_rate":62,"display_name":"Robert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682707732,"creation_date":1681303842,"question_id":75995658,"body_markdown":"I would like to authenticate my users with the Authy Mobile App and TOTP.\r\n\r\nI created these two test cases, besed on this guide https://www.twilio.com/docs/verify/quickstarts/totp#verify-a-user\r\n\r\nI can create a `Factor`. But no matter what I do, I cannot *verify* that factor.\r\n\r\n### Step 1: Create a new factor for a new user\r\n\r\n````\r\n    @Test\r\n\tpublic void testCreateTotpFactor() {\r\n\t\tlog.info(&quot;Twilio ACCOUNT_SID=&quot; + ACCOUNT_SID);\r\n\t\tlong now = new Date().getTime();\r\n\t\tString userUUID = UUID.randomUUID().toString();\r\n\t\tString username = &quot;TwilioUser&quot; + now;\r\n\r\n\t\tTwilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n\t\t// 1. Create a new TOTP Factor  https://www.twilio.com/docs/verify/quickstarts/totp#create-a-new-totp-factor\r\n\t\tNewFactor newFactor = NewFactor.creator(\r\n\t\t\t\t\t\tSERVICE_SID,\r\n\t\t\t\t\t\tuserUUID,\r\n\t\t\t\t\t\tusername,\r\n\t\t\t\t\t\tNewFactor.FactorTypes.TOTP)\r\n\t\t\t\t.setConfigAppId(&quot;org.liquido&quot;)\r\n\t\t\t\t//.setConfigCodeLength(6)\r\n\t\t\t\t//.setConfigSkew(1)\r\n\t\t\t\t//.setConfigTimeStep(60)\r\n\t\t\t\t.create();\r\n\r\n\t\tSystem.out.println(&quot;========================&quot;);\r\n\t\tSystem.out.println(newFactor);\r\n\t\tSystem.out.println(&quot;========================&quot;);\r\n\t\tSystem.out.println(&quot;TOTP URL           &quot; + newFactor.getBinding().get(&quot;uri&quot;));\r\n\t\tSystem.out.println(&quot;Twilio Username:   &quot; + username);\r\n\t\tSystem.out.println(&quot;Twilio userUUID:   &quot; + userUUID);\r\n\t\tSystem.out.println(&quot;Twilio Factor_SID: &quot; + newFactor.getSid());\r\n\t\tSystem.out.println(&quot;========================&quot;);\r\n\t}\r\n````\r\n\r\n### Step 2 - Create QR code from TOTP URL\r\n\r\nThis step work, I can scan the QR code in the authy app. But for example the ConfigTimeStep is not adapted if I set it to 60 by uncommenting the line above. It is always 30. &lt;= I am not absolutely sure if this step works correctly.   What can I check/test/debug??\r\n\r\n### Step 3 - Validate this Factor by entering the first TOTP\r\n\r\nOf course the data in this test case needs to be manually adapted from the returned values from above. And the authToken must be entered from the authy app\r\n\r\n````\r\n    @Test  // &lt;==== This CANNOT be tested automatically. (That&#39;s the whole reason for 2FA in the first place! :-) I adapt the values and run this manually.\r\n\tpublic void testVerifyTotpFactor() {\r\n\t\t// Manually set these parameters as returned by the previous test:  testCreateTotpFactor()\r\n\t\tString userUUID    = &quot;&lt;userUUID from above&gt;&quot;;\r\n\t\tString FACTOR_SID  = &quot;&lt;factorSID from above&gt;&quot;;\r\n\t\tString authToken   = &quot;123456&quot;;    // &lt;==== the current token as shown in the Authy App\r\n\r\n\t\tTwilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n\t\tSystem.out.println(&quot;===========================&quot;);\r\n\t\tSystem.out.println(&quot;Available TOTP Factors (FACTOR_SID) for Twilio authentication:&quot;);\r\n\t\t// List available factors\r\n\t\tResourceSet&lt;Factor&gt; factors = Factor.reader(\r\n\t\t\t\t\tSERVICE_SID,\r\n\t\t\t\t\tuserUUID)\r\n\t\t\t//.limit(20)\r\n\t\t  .read();\r\n\t\tfor(Factor record : factors) {\r\n\t\t\tSystem.out.println(record);    // &lt;== this works. I see my one factor\r\n\t\t}\r\n\t\tSystem.out.println(&quot;===========================&quot;);\r\n\r\n\t\t// Update a factor\r\n\t\tFactor factor = Factor.updater(\r\n\t\t\t\t\t\tSERVICE_SID,\r\n\t\t\t\t\t\tuserUUID,\r\n\t\t\t\t\t\tFACTOR_SID)\r\n\t\t\t\t.setAuthPayload(authToken).update();\r\n\t\tSystem.out.println(factor);\r\n\r\n\t\tassertEquals(Factor.FactorStatuses.VERIFIED, factor.getStatus(), &quot;Factor should  now be verified&quot;);   // &lt;============ THIS ALWAYS FAILS!!!\r\n\r\n\t\tlog.info(&quot;Successfully verified TOTP factor&quot;);\r\n\t}\r\n````\r\n\r\nThe factor is always returned as &quot;unverified&quot;.  What am I missing? Are my parameters for all methods correct?","title":"Cannot validate Authy TOTP via Java API","body":"<p>I would like to authenticate my users with the Authy Mobile App and TOTP.</p>\n<p>I created these two test cases, besed on this guide <a href=\"https://www.twilio.com/docs/verify/quickstarts/totp#verify-a-user\" rel=\"nofollow noreferrer\">https://www.twilio.com/docs/verify/quickstarts/totp#verify-a-user</a></p>\n<p>I can create a <code>Factor</code>. But no matter what I do, I cannot <em>verify</em> that factor.</p>\n<h3>Step 1: Create a new factor for a new user</h3>\n<pre><code>    @Test\n    public void testCreateTotpFactor() {\n        log.info(&quot;Twilio ACCOUNT_SID=&quot; + ACCOUNT_SID);\n        long now = new Date().getTime();\n        String userUUID = UUID.randomUUID().toString();\n        String username = &quot;TwilioUser&quot; + now;\n\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n        // 1. Create a new TOTP Factor  https://www.twilio.com/docs/verify/quickstarts/totp#create-a-new-totp-factor\n        NewFactor newFactor = NewFactor.creator(\n                        SERVICE_SID,\n                        userUUID,\n                        username,\n                        NewFactor.FactorTypes.TOTP)\n                .setConfigAppId(&quot;org.liquido&quot;)\n                //.setConfigCodeLength(6)\n                //.setConfigSkew(1)\n                //.setConfigTimeStep(60)\n                .create();\n\n        System.out.println(&quot;========================&quot;);\n        System.out.println(newFactor);\n        System.out.println(&quot;========================&quot;);\n        System.out.println(&quot;TOTP URL           &quot; + newFactor.getBinding().get(&quot;uri&quot;));\n        System.out.println(&quot;Twilio Username:   &quot; + username);\n        System.out.println(&quot;Twilio userUUID:   &quot; + userUUID);\n        System.out.println(&quot;Twilio Factor_SID: &quot; + newFactor.getSid());\n        System.out.println(&quot;========================&quot;);\n    }\n</code></pre>\n<h3>Step 2 - Create QR code from TOTP URL</h3>\n<p>This step work, I can scan the QR code in the authy app. But for example the ConfigTimeStep is not adapted if I set it to 60 by uncommenting the line above. It is always 30. &lt;= I am not absolutely sure if this step works correctly.   What can I check/test/debug??</p>\n<h3>Step 3 - Validate this Factor by entering the first TOTP</h3>\n<p>Of course the data in this test case needs to be manually adapted from the returned values from above. And the authToken must be entered from the authy app</p>\n<pre><code>    @Test  // &lt;==== This CANNOT be tested automatically. (That's the whole reason for 2FA in the first place! :-) I adapt the values and run this manually.\n    public void testVerifyTotpFactor() {\n        // Manually set these parameters as returned by the previous test:  testCreateTotpFactor()\n        String userUUID    = &quot;&lt;userUUID from above&gt;&quot;;\n        String FACTOR_SID  = &quot;&lt;factorSID from above&gt;&quot;;\n        String authToken   = &quot;123456&quot;;    // &lt;==== the current token as shown in the Authy App\n\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n        System.out.println(&quot;===========================&quot;);\n        System.out.println(&quot;Available TOTP Factors (FACTOR_SID) for Twilio authentication:&quot;);\n        // List available factors\n        ResourceSet&lt;Factor&gt; factors = Factor.reader(\n                    SERVICE_SID,\n                    userUUID)\n            //.limit(20)\n          .read();\n        for(Factor record : factors) {\n            System.out.println(record);    // &lt;== this works. I see my one factor\n        }\n        System.out.println(&quot;===========================&quot;);\n\n        // Update a factor\n        Factor factor = Factor.updater(\n                        SERVICE_SID,\n                        userUUID,\n                        FACTOR_SID)\n                .setAuthPayload(authToken).update();\n        System.out.println(factor);\n\n        assertEquals(Factor.FactorStatuses.VERIFIED, factor.getStatus(), &quot;Factor should  now be verified&quot;);   // &lt;============ THIS ALWAYS FAILS!!!\n\n        log.info(&quot;Successfully verified TOTP factor&quot;);\n    }\n</code></pre>\n<p>The factor is always returned as &quot;unverified&quot;.  What am I missing? Are my parameters for all methods correct?</p>\n"},{"tags":["java","artificial-intelligence","neural-network"],"comments":[{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":1,"creation_date":1270829166,"post_id":2608944,"comment_id":2619322,"body_markdown":"Some topics are taught at advanced levels because they require a grasp of more basic topics before one can approach them properly.  I suspect that ANN should only be attacked by someone who does grasp summation and vectors.  So I&#39;ll be intrigued by any answers you get.","body":"Some topics are taught at advanced levels because they require a grasp of more basic topics before one can approach them properly.  I suspect that ANN should only be attacked by someone who does grasp summation and vectors.  So I&#39;ll be intrigued by any answers you get."},{"owner":{"account_id":18923,"reputation":6184,"user_id":43851,"accept_rate":64,"display_name":"Carlos Rendon"},"score":1,"creation_date":1270829373,"post_id":2608944,"comment_id":2619354,"body_markdown":"Maybe it would be helpful to look for tutorials on solving the problem that you want to solve instead of focusing specifically on neural networks.  I find that concrete examples can really make a solution strategy more clear.","body":"Maybe it would be helpful to look for tutorials on solving the problem that you want to solve instead of focusing specifically on neural networks.  I find that concrete examples can really make a solution strategy more clear."},{"owner":{"display_name":"user263078"},"score":0,"creation_date":1270830941,"post_id":2608944,"comment_id":2619572,"body_markdown":"Okay, thanks.  FrustratedWithFormsDesigner&#39;s answer helped me with a lot of things, so I&#39;ll probably give him a check soon.","body":"Okay, thanks.  FrustratedWithFormsDesigner&#39;s answer helped me with a lot of things, so I&#39;ll probably give him a check soon."},{"owner":{"account_id":14153,"reputation":18311,"user_id":28875,"accept_rate":74,"display_name":"Kylotan"},"score":0,"creation_date":1271685147,"post_id":2608944,"comment_id":2685911,"body_markdown":"@High Performance Mark: I believe addition and multiplication are taught at reasonably young ages these days...\n\nTo put it another way - simple feedforward networks are unbelievably trivial. There&#39;s no reason why there couldn&#39;t be a very simple tutorial for them.","body":"@High Performance Mark: I believe addition and multiplication are taught at reasonably young ages these days...  To put it another way - simple feedforward networks are unbelievably trivial. There&#39;s no reason why there couldn&#39;t be a very simple tutorial for them."}],"answers":[{"comments":[{"owner":{"display_name":"user263078"},"score":0,"creation_date":1270833440,"post_id":2609010,"comment_id":2619873,"body_markdown":"Okay, I&#39;m doing fine so far in a tutorial with your help, but on this page in it, (http://www.ai-junkie.com/ann/evolved/nnt5.html) it talks about a vector containing two values *pointing* to the closest land mine.  Does that mean it&#39;s a vector containing the coordinates of the closest land mine?  And it also mentions a second vector, also containing two values, that represents the direction the minesweeper is pointing.  What are these?  Wouldn&#39;t you need only one value to represent the angle of the minesweeper, just a value in radians?  I&#39;m confused.","body":"Okay, I&#39;m doing fine so far in a tutorial with your help, but on this page in it, (<a href=\"http://www.ai-junkie.com/ann/evolved/nnt5.html\" rel=\"nofollow noreferrer\">ai-junkie.com/ann/evolved/nnt5.html</a>) it talks about a vector containing two values <i>pointing</i> to the closest land mine.  Does that mean it&#39;s a vector containing the coordinates of the closest land mine?  And it also mentions a second vector, also containing two values, that represents the direction the minesweeper is pointing.  What are these?  Wouldn&#39;t you need only one value to represent the angle of the minesweeper, just a value in radians?  I&#39;m confused."},{"owner":{"display_name":"user263078"},"score":0,"creation_date":1270835155,"post_id":2609010,"comment_id":2620067,"body_markdown":"Wait a second, I burrowed through the internet and I think I may have discovered that vectors are angle as well as distance.  Is this true?  If it is, then it would all make sense.","body":"Wait a second, I burrowed through the internet and I think I may have discovered that vectors are angle as well as distance.  Is this true?  If it is, then it would all make sense."},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1270835216,"post_id":2609010,"comment_id":2620072,"body_markdown":"@Stuart: In this context, I think vector is being used slightly differently than what I had said. I think they are talking about two numeric values that represent a vector. This vector is sort of like a line between the minesweeper and the nearest mine, assuming that the minesweeper is at location (0,0) (it isn&#39;t but that&#39;s OK since the vector is *relative to the minesweeper&#39;s position*).","body":"@Stuart: In this context, I think vector is being used slightly differently than what I had said. I think they are talking about two numeric values that represent a vector. This vector is sort of like a line between the minesweeper and the nearest mine, assuming that the minesweeper is at location (0,0) (it isn&#39;t but that&#39;s OK since the vector is <i>relative to the minesweeper&#39;s position</i>)."},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1270835306,"post_id":2609010,"comment_id":2620076,"body_markdown":"@Stuart: ...The other vector that represents which direction the minesweeper is pointing is ALSO 2 probably numeric values (x and y coordinate), and you are probably right, an angle from the x-axis *probably8 could be used instead - but they chose to use a vector. I didn&#39;t read it in too much detail so they might have had a good reason to use a vector rather than an angle. Both methods will probably work fine, and it might just be a matter of preference.","body":"@Stuart: ...The other vector that represents which direction the minesweeper is pointing is ALSO 2 probably numeric values (x and y coordinate), and you are probably right, an angle from the x-axis *probably8 could be used instead - but they chose to use a vector. I didn&#39;t read it in too much detail so they might have had a good reason to use a vector rather than an angle. Both methods will probably work fine, and it might just be a matter of preference."},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1270835372,"post_id":2609010,"comment_id":2620082,"body_markdown":"@Stuart: Basically: when I last worked with neural nets, I used the term &quot;vector&quot; to refer to a whole set of inputs to a neuron. In this case, &quot;vector&quot; is actual geomtric data that is input as seperate values into the neuron. Both uses of the word seem correct, though yes, a bit confusing. ;)\n(In fact, if each input to the neuron was a whole vector rather than a scalar, you would have an input vector made up of vectors!)","body":"@Stuart: Basically: when I last worked with neural nets, I used the term &quot;vector&quot; to refer to a whole set of inputs to a neuron. In this case, &quot;vector&quot; is actual geomtric data that is input as seperate values into the neuron. Both uses of the word seem correct, though yes, a bit confusing. ;) (In fact, if each input to the neuron was a whole vector rather than a scalar, you would have an input vector made up of vectors!)"},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":0,"creation_date":1270836246,"post_id":2609010,"comment_id":2620169,"body_markdown":"@Stuart: The angle between a vector and an axis can be easily found (but a vector is NOT an angle). A vector represents a line to a point at (x,y) from the origin (at (0,0)). The length of the vector is easily calculated (and the other lengths are known), and you can use the properties of a right-angled triangle to calculate the angle between the vector and an axis.","body":"@Stuart: The angle between a vector and an axis can be easily found (but a vector is NOT an angle). A vector represents a line to a point at (x,y) from the origin (at (0,0)). The length of the vector is easily calculated (and the other lengths are known), and you can use the properties of a right-angled triangle to calculate the angle between the vector and an axis."}],"tags":[],"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1270830602,"creation_date":1270829433,"answer_id":2609010,"question_id":2608944,"body_markdown":"Summation is just adding up a bunch of things. So,\r\n\r\n    Summation(1,2,3,4,5) = 1+2+3+4+5 = 15\r\n\r\n(note: it&#39;s *always* adding: if you want to subtract, do a summation with negative numbers)\r\n\r\nThat was easy, right? ;) \r\n\r\nA vector is an ordered tuple, which really just means it&#39;s bunch of numbers in a specific order. Most often seen in physics to describe position, force, velocity, etc... it&#39;s really nothing special, just some ordered numbers, where the ordering is significant:\r\n\r\n    v = &lt;1,2,3&gt;\r\nIf we are talking about geometry, then this vector represents a point in 3-dimensional space where the x coordinate is 1, the y coordinate is 2, and the z coordinate is 3 (See that was easy too, right)?\r\n\r\nIn neural nets, the vector is usually the vector of inputs to a neuron, so it&#39;s really just a list of numeric values. The summation of the vector would be nothing more than adding up all of the values in the vector and getting a single number as a result (which may be referred to as as &quot;scalar&quot; value).\r\n\r\n(this was rushed and simplified - I&#39;m sure someone else will help me refine it ;) )\r\n\r\nPS. Kudos to you for diving into this stuff at the middle school level! :)","title":"Simple explanation on artificial neural networks?","body":"<p>Summation is just adding up a bunch of things. So,</p>\n\n<pre><code>Summation(1,2,3,4,5) = 1+2+3+4+5 = 15\n</code></pre>\n\n<p>(note: it's <em>always</em> adding: if you want to subtract, do a summation with negative numbers)</p>\n\n<p>That was easy, right? ;) </p>\n\n<p>A vector is an ordered tuple, which really just means it's bunch of numbers in a specific order. Most often seen in physics to describe position, force, velocity, etc... it's really nothing special, just some ordered numbers, where the ordering is significant:</p>\n\n<pre><code>v = &lt;1,2,3&gt;\n</code></pre>\n\n<p>If we are talking about geometry, then this vector represents a point in 3-dimensional space where the x coordinate is 1, the y coordinate is 2, and the z coordinate is 3 (See that was easy too, right)?</p>\n\n<p>In neural nets, the vector is usually the vector of inputs to a neuron, so it's really just a list of numeric values. The summation of the vector would be nothing more than adding up all of the values in the vector and getting a single number as a result (which may be referred to as as \"scalar\" value).</p>\n\n<p>(this was rushed and simplified - I'm sure someone else will help me refine it ;) )</p>\n\n<p>PS. Kudos to you for diving into this stuff at the middle school level! :)</p>\n"},{"tags":[],"owner":{"account_id":2445684,"reputation":1555,"user_id":2133137,"accept_rate":91,"display_name":"Hovestar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376151463,"creation_date":1376151463,"answer_id":18163851,"question_id":2608944,"body_markdown":"I&#39;ve had the same problem for a while. I&#39;m a high school student, so you&#39;re a little ahead of me. I got a vacation and I used it to learn all I could on backpropagation, and I&#39;ve found almost no resources that really help too much unless you want to read so much calculus that you want to die. My advice is to first write a perceptron, which is a network with only input layers and output layers. This inspired me o write a post, so hopefully within half an hour of my posting here there should be a tutorial on http://certioraomnia.blogspot.com/. It may be a little late as this question was asked three years ago, but it may help others later.\r\n","title":"Simple explanation on artificial neural networks?","body":"<p>I've had the same problem for a while. I'm a high school student, so you're a little ahead of me. I got a vacation and I used it to learn all I could on backpropagation, and I've found almost no resources that really help too much unless you want to read so much calculus that you want to die. My advice is to first write a perceptron, which is a network with only input layers and output layers. This inspired me o write a post, so hopefully within half an hour of my posting here there should be a tutorial on <a href=\"http://certioraomnia.blogspot.com/\" rel=\"nofollow\">http://certioraomnia.blogspot.com/</a>. It may be a little late as this question was asked three years ago, but it may help others later.</p>\n"}],"owner":{"display_name":"user263078"},"comment_count":4,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2968,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"closed_date":1376675146,"accepted_answer_id":2609010,"answer_count":2,"score":4,"last_activity_date":1682707501,"creation_date":1270828928,"question_id":2608944,"body_markdown":"I&#39;ve Googled, StackOverflowed, everything, and I cannot seem to find a tutorial I can understand.  I understand the concept of genetic algorithms, and how to implement them, (Though I haven&#39;t tried) but I cannot grasp the concept of neural networks.\r\n\r\nI know vaguely how they work... And that&#39;s about it.  Could someone give an explanation that can help someone who has not even graduated middle school yet?\r\n","title":"Simple explanation on artificial neural networks?","body":"<p>I've Googled, StackOverflowed, everything, and I cannot seem to find a tutorial I can understand.  I understand the concept of genetic algorithms, and how to implement them, (Though I haven't tried) but I cannot grasp the concept of neural networks.</p>\n<p>I know vaguely how they work... And that's about it.  Could someone give an explanation that can help someone who has not even graduated middle school yet?</p>\n"},{"tags":["java","string","macos","unicode","macos-ventura"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1682708123,"post_id":76132390,"comment_id":134263630,"body_markdown":"`\\u022` == `&quot;`. What you have is equivalent to `&quot;Hello, &quot; + &quot;world!&quot;` (i.e., concatenating two strings).","body":"<code>\\u022</code> == <code>&quot;</code>. What you have is equivalent to <code>&quot;Hello, &quot; + &quot;world!&quot;</code> (i.e., concatenating two strings)."}],"owner":{"account_id":28448230,"reputation":19,"user_id":21766667,"display_name":"Cinimod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1682707361,"answer_count":0,"score":1,"last_activity_date":1682707321,"creation_date":1682707031,"question_id":76132390,"body_markdown":"I was trying to use unicode to insert quotes around the &quot;world&quot; in a java hello world program. \r\nI forgot to save it and it just worked anyway. I&#39;m just super confused about this. \r\n\r\nI use a MacBook Pro with macOS Ventura 13.2.1, and openJDK 19.0.1.\r\n\r\nThis is the code that I ran.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, \\u0022 + &quot;world!&quot;);\r\n    }\r\n}\r\n```","title":"why does this java string not cause an compiler error?","body":"<p>I was trying to use unicode to insert quotes around the &quot;world&quot; in a java hello world program.\nI forgot to save it and it just worked anyway. I'm just super confused about this.</p>\n<p>I use a MacBook Pro with macOS Ventura 13.2.1, and openJDK 19.0.1.</p>\n<p>This is the code that I ran.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, \\u0022 + &quot;world!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","spotbugs"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1657892125,"post_id":72994814,"comment_id":128924263,"body_markdown":"https://openjdk.org/jeps/411","body":"<a href=\"https://openjdk.org/jeps/411\" rel=\"nofollow noreferrer\">openjdk.org/jeps/411</a>"},{"owner":{"display_name":"user11255252"},"score":0,"creation_date":1657892178,"post_id":72994814,"comment_id":128924280,"body_markdown":"shouldn&#39;t be on jdk 11 afaik","body":"shouldn&#39;t be on jdk 11 afaik"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657894298,"post_id":72994814,"comment_id":128925141,"body_markdown":"What is the output of `mvn -v`. Also, please replace the screenshot with actual text. The error suggests you&#39;re using Java 12 or higher, with `-Djava.security.manager=disallow` specified, or with Java 18 where that behaviour has become the default.","body":"What is the output of <code>mvn -v</code>. Also, please replace the screenshot with actual text. The error suggests you&#39;re using Java 12 or higher, with <code>-Djava.security.manager=disallow</code> specified, or with Java 18 where that behaviour has become the default."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657895603,"post_id":72994814,"comment_id":128925708,"body_markdown":"I strongly recommend to upgrade your spotbugs-maven-plugin to most recent version","body":"I strongly recommend to upgrade your spotbugs-maven-plugin to most recent version"}],"answers":[{"tags":[],"owner":{"account_id":14402163,"reputation":39,"user_id":10779932,"display_name":"Anist Plenitud Mampuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682706516,"creation_date":1682706516,"answer_id":76132334,"question_id":72994814,"body_markdown":"Had the same issue. Simply add JAVA_HOME to your system environment variables and point it to your jdk-11 folder e.g C:\\Users\\Program Files\\Java\\jdk-11. This resolved it for me","title":"spotbugs failed: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release","body":"<p>Had the same issue. Simply add JAVA_HOME to your system environment variables and point it to your jdk-11 folder e.g C:\\Users\\Program Files\\Java\\jdk-11. This resolved it for me</p>\n"}],"owner":{"display_name":"user11255252"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682706516,"creation_date":1657891884,"question_id":72994814,"body_markdown":"I&#39;m getting an error while running mvn clean install. Locally, I have jdk 11 installed. The project is also using jdk 11. \r\n[![Here is the error I get. On most threads on internet I saw it only on JDK 17+.][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QyuDd.png\r\n\r\nI am using a Macbook pro with an M1 chip.","title":"spotbugs failed: java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release","body":"<p>I'm getting an error while running mvn clean install. Locally, I have jdk 11 installed. The project is also using jdk 11.\n<a href=\"https://i.stack.imgur.com/QyuDd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyuDd.png\" alt=\"Here is the error I get. On most threads on internet I saw it only on JDK 17+.\" /></a></p>\n<p>I am using a Macbook pro with an M1 chip.</p>\n"},{"tags":["java","multithreading","kotlin","opencv","javafx"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1682704973,"post_id":76132068,"comment_id":134263094,"body_markdown":"If it&#39;s a large chunk of code, you know what to do: form a [mcve]. And you also know that&#39;s not even so much &quot;for us&quot;, but primarily &quot;for yourself&quot;: forcing  yourself to run through the MCVE exercise in order to put it in a post almost always lets you find the problem all on your own because you&#39;re _forcing_ yourself to be critical what what happens where (and what is irrelevant). With the upside that if your minimal code _still_ has that problem, now you have the perfect code for putting in a question.","body":"If it&#39;s a large chunk of code, you know what to do: form a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. And you also know that&#39;s not even so much &quot;for us&quot;, but primarily &quot;for yourself&quot;: forcing  yourself to run through the MCVE exercise in order to put it in a post almost always lets you find the problem all on your own because you&#39;re <i>forcing</i> yourself to be critical what what happens where (and what is irrelevant). With the upside that if your minimal code <i>still</i> has that problem, now you have the perfect code for putting in a question."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1682850016,"post_id":76132068,"comment_id":134277151,"body_markdown":"https://learn.microsoft.com/en-us/shows/inside/c0000409","body":"<a href=\"https://learn.microsoft.com/en-us/shows/inside/c0000409\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/shows/inside/c0000409</a>"},{"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"score":0,"creation_date":1682943570,"post_id":76132068,"comment_id":134287398,"body_markdown":"Wow, so it&#39;s basically an exit code saying &quot;There has been an exception&quot;... Thank you Microsoft, I would not have guessed that a non-zero-exit code means that something went wrong...","body":"Wow, so it&#39;s basically an exit code saying &quot;There has been an exception&quot;... Thank you Microsoft, I would not have guessed that a non-zero-exit code means that something went wrong..."}],"answers":[{"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682705920,"creation_date":1682705920,"answer_id":76132272,"question_id":76132068,"body_markdown":"As I mentioned in my edit, OpenCV suddenly spat out this message in the log:\r\n\r\n    OpenCL error CL_MEM_OBJECT_ALLOCATION_FAILURE (-4) during call: clEnqueueNDRangeKernel(&#39;warpAffine&#39;, dims=2, globalsize=6656x6424x1, localsize=NULL) sync=false\r\n\r\nThis basically confirms my theory that it is indeed an issue with OpenCV corrupting the VM. The issue is [already known](https://github.com/opencv/opencv_contrib/issues/2114) and the proposed solution is to disable OpenCL. To do so, one of the following steps can be used:\r\n\r\n- Set an environment variable like so: `export OPENCV_OPENCL_DEVICE=disabled`\r\n- `cv2.ocl.setUseOpenCL(False)` (on python).","title":"Meaning of exit code -1073740791 (0xC0000409) in Java","body":"<p>As I mentioned in my edit, OpenCV suddenly spat out this message in the log:</p>\n<pre><code>OpenCL error CL_MEM_OBJECT_ALLOCATION_FAILURE (-4) during call: clEnqueueNDRangeKernel('warpAffine', dims=2, globalsize=6656x6424x1, localsize=NULL) sync=false\n</code></pre>\n<p>This basically confirms my theory that it is indeed an issue with OpenCV corrupting the VM. The issue is <a href=\"https://github.com/opencv/opencv_contrib/issues/2114\" rel=\"nofollow noreferrer\">already known</a> and the proposed solution is to disable OpenCL. To do so, one of the following steps can be used:</p>\n<ul>\n<li>Set an environment variable like so: <code>export OPENCV_OPENCL_DEVICE=disabled</code></li>\n<li><code>cv2.ocl.setUseOpenCL(False)</code> (on python).</li>\n</ul>\n"}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76132272,"answer_count":1,"score":1,"last_activity_date":1682705920,"creation_date":1682703982,"question_id":76132068,"body_markdown":"I am facing a weird issue in my Java/Kotlin project where the JVM just exits without any stacktrace or crash dump. The only debugging information I have is that it exits with exit code -1073740791 (0xC0000409), which is also why this question is very vague.\r\n\r\nI am trying to detect chessboards in images using OpenCV using the code below, but before I show you the code, here&#39;s what I found out so far:\r\n- When I run the code in a single thread, it works fine\r\n- When I try to process multiple frames in parallel on different threads (which are in theory independent of each other), the code randomly crashes as described above (This happens as soon as I add just a 2nd thread).\r\n\r\nHere&#39;s the code in question. Unfortunately, it is a rather large chunk of code since I could not really narrow down the exact location where it crashes.\r\n\r\n```kotlin\r\noverride fun track(\r\n    frameToTrackIn: Mat,\r\n    options: Options\r\n): Map&lt;Key, KeyFrame&gt; = manageResources {\r\n    // Prepare some input arguments\r\n    val corners = MatOfPoint2f().releaseLater()\r\n    val patternSize = Size(\r\n        options.minimumNumberOfInternalCornerCols.toDouble(),\r\n        options.minimumNumberOfInternalCornerRows.toDouble()\r\n    )\r\n\r\n    // Remove the alpha channel if the image has one\r\n    val rgbFrame = if (frameToTrackIn.channels() &lt;= 3) frameToTrackIn\r\n    else Mat().releaseLater().also { rgbFrame -&gt;\r\n        Imgproc.cvtColor(frameToTrackIn, rgbFrame, Imgproc.COLOR_RGBA2RGB)\r\n    }\r\n\r\n    // Set some flags for OpenCV\r\n    var flags = CALIB_CB_NORMALIZE_IMAGE or CALIB_CB_EXHAUSTIVE or CALIB_CB_ACCURACY\r\n    if (options.patternHasMarker)\r\n        flags = flags or CALIB_CB_MARKER or CALIB_CB_LARGER\r\n\r\n    val metadata = Mat().releaseLater()\r\n    // Actually call OpenCV to search for chess boards\r\n    val colorPatternFound = findChessboardCornersSBWithMeta(rgbFrame, patternSize, corners, flags, metadata)\r\n\r\n    if (colorPatternFound) {\r\n        val actualPatternSize = Key(metadata.rows(), metadata.cols())\r\n        return mapOf(actualPatternSize to corners.toKeyFrame())\r\n    }\r\n\r\n    return mapOf()\r\n}\r\n\r\n```\r\n\r\nOther, maybe noteworthy details:\r\n- OpenCV version 4.6.0\r\n- JDK 19\r\n- JavaFX 19.0.2.1\r\n- Nvidia GPU driver v531.68\r\n\r\nHere are the hypothesis which I have come up so far:\r\n- To rule out the obvious: No, I am not calling `System.exit()` or `exitProcess()` myself.\r\n- Other questions (a couple of years old) mention that there has been a bug in the Nvidia driver that caused JavaFX applications to crash at startup. While I don&#39;t think that this is the case, as my app is starting up, and it works when running the code in a single thread, I don&#39;t want to rule it out completely.\r\n- Since OpenCV is native code, it could try to allocate some weird chunks of memory when being called from multiple threads, thus corrupting the JVM (unlikely, since OpenCV developers are usually pretty skilled)\r\n- I have a race condition in some other place of my code that causes JavaFX and/or OpenCV to glitch out.\r\n\r\nEither way, knowing the possible meanings of this exit code would be very helpful to find the culprit.\r\n\r\nEdit: After adding lots of print statements, I found out two more things:\r\n- When executing the code, all threads get stuck for a while waiting for the call to OpenCV to return and then crash, indicating that there is indeed something wrong with OpenCV.\r\n- During one of my test runs, I suddenly also got the following log output from somewhere: `OpenCL error CL_MEM_OBJECT_ALLOCATION_FAILURE (-4) during call: clEnqueueNDRangeKernel(&#39;warpAffine&#39;, dims=2, globalsize=6656x6424x1, localsize=NULL) sync=false`\r\n","title":"Meaning of exit code -1073740791 (0xC0000409) in Java","body":"<p>I am facing a weird issue in my Java/Kotlin project where the JVM just exits without any stacktrace or crash dump. The only debugging information I have is that it exits with exit code -1073740791 (0xC0000409), which is also why this question is very vague.</p>\n<p>I am trying to detect chessboards in images using OpenCV using the code below, but before I show you the code, here's what I found out so far:</p>\n<ul>\n<li>When I run the code in a single thread, it works fine</li>\n<li>When I try to process multiple frames in parallel on different threads (which are in theory independent of each other), the code randomly crashes as described above (This happens as soon as I add just a 2nd thread).</li>\n</ul>\n<p>Here's the code in question. Unfortunately, it is a rather large chunk of code since I could not really narrow down the exact location where it crashes.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun track(\n    frameToTrackIn: Mat,\n    options: Options\n): Map&lt;Key, KeyFrame&gt; = manageResources {\n    // Prepare some input arguments\n    val corners = MatOfPoint2f().releaseLater()\n    val patternSize = Size(\n        options.minimumNumberOfInternalCornerCols.toDouble(),\n        options.minimumNumberOfInternalCornerRows.toDouble()\n    )\n\n    // Remove the alpha channel if the image has one\n    val rgbFrame = if (frameToTrackIn.channels() &lt;= 3) frameToTrackIn\n    else Mat().releaseLater().also { rgbFrame -&gt;\n        Imgproc.cvtColor(frameToTrackIn, rgbFrame, Imgproc.COLOR_RGBA2RGB)\n    }\n\n    // Set some flags for OpenCV\n    var flags = CALIB_CB_NORMALIZE_IMAGE or CALIB_CB_EXHAUSTIVE or CALIB_CB_ACCURACY\n    if (options.patternHasMarker)\n        flags = flags or CALIB_CB_MARKER or CALIB_CB_LARGER\n\n    val metadata = Mat().releaseLater()\n    // Actually call OpenCV to search for chess boards\n    val colorPatternFound = findChessboardCornersSBWithMeta(rgbFrame, patternSize, corners, flags, metadata)\n\n    if (colorPatternFound) {\n        val actualPatternSize = Key(metadata.rows(), metadata.cols())\n        return mapOf(actualPatternSize to corners.toKeyFrame())\n    }\n\n    return mapOf()\n}\n\n</code></pre>\n<p>Other, maybe noteworthy details:</p>\n<ul>\n<li>OpenCV version 4.6.0</li>\n<li>JDK 19</li>\n<li>JavaFX 19.0.2.1</li>\n<li>Nvidia GPU driver v531.68</li>\n</ul>\n<p>Here are the hypothesis which I have come up so far:</p>\n<ul>\n<li>To rule out the obvious: No, I am not calling <code>System.exit()</code> or <code>exitProcess()</code> myself.</li>\n<li>Other questions (a couple of years old) mention that there has been a bug in the Nvidia driver that caused JavaFX applications to crash at startup. While I don't think that this is the case, as my app is starting up, and it works when running the code in a single thread, I don't want to rule it out completely.</li>\n<li>Since OpenCV is native code, it could try to allocate some weird chunks of memory when being called from multiple threads, thus corrupting the JVM (unlikely, since OpenCV developers are usually pretty skilled)</li>\n<li>I have a race condition in some other place of my code that causes JavaFX and/or OpenCV to glitch out.</li>\n</ul>\n<p>Either way, knowing the possible meanings of this exit code would be very helpful to find the culprit.</p>\n<p>Edit: After adding lots of print statements, I found out two more things:</p>\n<ul>\n<li>When executing the code, all threads get stuck for a while waiting for the call to OpenCV to return and then crash, indicating that there is indeed something wrong with OpenCV.</li>\n<li>During one of my test runs, I suddenly also got the following log output from somewhere: <code>OpenCL error CL_MEM_OBJECT_ALLOCATION_FAILURE (-4) during call: clEnqueueNDRangeKernel('warpAffine', dims=2, globalsize=6656x6424x1, localsize=NULL) sync=false</code></li>\n</ul>\n"},{"tags":["java","concurrency","one-liner"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682610551,"post_id":76122045,"comment_id":134246396,"body_markdown":"Explain ‚Äúconcurrent/thread-safe alter ego of the used DSs‚Äù. And what is ‚ÄúDS‚Äù?","body":"Explain ‚Äúconcurrent/thread-safe alter ego of the used DSs‚Äù. And what is ‚ÄúDS‚Äù?"},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1682613568,"post_id":76122045,"comment_id":134247156,"body_markdown":"@BasilBourque: I thought he refers to the Distributed Systems = DS, better to clarify like you said :)","body":"@BasilBourque: I thought he refers to the Distributed Systems = DS, better to clarify like you said :)"},{"owner":{"account_id":22905355,"reputation":53,"user_id":17043505,"display_name":"Gabriele Passoni"},"score":0,"creation_date":1682662613,"post_id":76122045,"comment_id":134253843,"body_markdown":"@BasilBourque I&#39;m referring to Data Structure. And with the final s is just obviously the plural. I&#39;m gonna make it clear by editing the question","body":"@BasilBourque I&#39;m referring to Data Structure. And with the final s is just obviously the plural. I&#39;m gonna make it clear by editing the question"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682705810,"creation_date":1682610737,"answer_id":76122387,"question_id":76122045,"body_markdown":"&gt; So the underlying question is: single line of codes are thread safe or not?\r\n\r\nThat really isn&#39;t how it works. Interactions are &#39;safe&#39; or &#39;unsafe&#39;; single lines are not individually so.\r\n\r\nHowever, in general the rule: It&#39;s never safe.\r\n\r\nIf you fail to synchronize on a `.size()` call, that may return a size that is wildly wrong. Here&#39;s the simple rule:\r\n\r\n* If a field, of any object, is being accessed by 2 or more threads, at least one of which is writing it, __that code is broken__.\r\n\r\nThe only way it isn&#39;t broken is if you take care to write a so-called Happens-Before relationship across __all__ such accesses. An HB relationship is a thing described in the Java Memory Model documentation that establishes the following notion:\r\n\r\n* If line A has a happens-before relationship relative to line B, then when B executes, it is not possible to observe state as it was _before_ A finished execution.\r\n\r\nThat&#39;s all you get.\r\n\r\nThus, if you fail to establish HB, The JVM is free to feed you state that has long since passed on. However, the JVM is not __obligated__ either - the JMM is the one place in the java documentation where the term &#39;may&#39; shows up a ton. That&#39;s because java has to run on many, many platforms and they just don&#39;t behave the same in regards to on-core caches and other such hardware concerns. In order to ensure a JVM can run code speedily instead of having to slow everything down to a crawl with e.g. global interpreter locks the way python and co have to do it, the JMM instead claims sizable swaths of &quot;the JVM is free to do this thing, or not do this thing - it is on you, the coder, to ensure this &#39;I may or may not do that thing&#39; does not affect the output of your program&quot;.\r\n\r\nTo establish HB, there are a few strategies:\r\n\r\n* &quot;Natural&quot;: Within one thread, obvious lexical rules. Given: `foo(); bar();` in a single method, foo() is HB relative to bar(). This one is the obvious one.\r\n* Thread starting. `thread.start();` is HB relative to the first line that thread&#39;s `run()`.\r\n* `synchronized`. The line exiting a sync block is HB relative to any entering of a sync block, so long as these sync blocks are syncing on the same object of course.\r\n* access to a `volatile` field, but note that it tends to be difficult to know which line was HB and which one is HA, with `volatilez`.\r\n\r\nThere are a few more, but those are the basics.\r\n\r\nThus, here you want the last time this object is modified by some thread to be HB relative to invoking `size()`, because otherwise `size()` might as well be telling you what the size() was 18 hours ago.\r\n","title":"Thread safety of single line in Java","body":"<blockquote>\n<p>So the underlying question is: single line of codes are thread safe or not?</p>\n</blockquote>\n<p>That really isn't how it works. Interactions are 'safe' or 'unsafe'; single lines are not individually so.</p>\n<p>However, in general the rule: It's never safe.</p>\n<p>If you fail to synchronize on a <code>.size()</code> call, that may return a size that is wildly wrong. Here's the simple rule:</p>\n<ul>\n<li>If a field, of any object, is being accessed by 2 or more threads, at least one of which is writing it, <strong>that code is broken</strong>.</li>\n</ul>\n<p>The only way it isn't broken is if you take care to write a so-called Happens-Before relationship across <strong>all</strong> such accesses. An HB relationship is a thing described in the Java Memory Model documentation that establishes the following notion:</p>\n<ul>\n<li>If line A has a happens-before relationship relative to line B, then when B executes, it is not possible to observe state as it was <em>before</em> A finished execution.</li>\n</ul>\n<p>That's all you get.</p>\n<p>Thus, if you fail to establish HB, The JVM is free to feed you state that has long since passed on. However, the JVM is not <strong>obligated</strong> either - the JMM is the one place in the java documentation where the term 'may' shows up a ton. That's because java has to run on many, many platforms and they just don't behave the same in regards to on-core caches and other such hardware concerns. In order to ensure a JVM can run code speedily instead of having to slow everything down to a crawl with e.g. global interpreter locks the way python and co have to do it, the JMM instead claims sizable swaths of &quot;the JVM is free to do this thing, or not do this thing - it is on you, the coder, to ensure this 'I may or may not do that thing' does not affect the output of your program&quot;.</p>\n<p>To establish HB, there are a few strategies:</p>\n<ul>\n<li>&quot;Natural&quot;: Within one thread, obvious lexical rules. Given: <code>foo(); bar();</code> in a single method, foo() is HB relative to bar(). This one is the obvious one.</li>\n<li>Thread starting. <code>thread.start();</code> is HB relative to the first line that thread's <code>run()</code>.</li>\n<li><code>synchronized</code>. The line exiting a sync block is HB relative to any entering of a sync block, so long as these sync blocks are syncing on the same object of course.</li>\n<li>access to a <code>volatile</code> field, but note that it tends to be difficult to know which line was HB and which one is HA, with <code>volatilez</code>.</li>\n</ul>\n<p>There are a few more, but those are the basics.</p>\n<p>Thus, here you want the last time this object is modified by some thread to be HB relative to invoking <code>size()</code>, because otherwise <code>size()</code> might as well be telling you what the size() was 18 hours ago.</p>\n"},{"comments":[{"owner":{"account_id":22905355,"reputation":53,"user_id":17043505,"display_name":"Gabriele Passoni"},"score":0,"creation_date":1682663608,"post_id":76122409,"comment_id":134254032,"body_markdown":"Thank you for the answer. I&#39;ve read it carefully and as a result I think you&#39;re basically saying that one-liners are not safe most of the time and also the reading ones should be synchronized. The thing I&#39;ve understood less is about using an external Object as a lock. I know it&#39;s used (I&#39;ve tried it myself) but in this case why is it wrong/is it worse locking on the data structure itself?","body":"Thank you for the answer. I&#39;ve read it carefully and as a result I think you&#39;re basically saying that one-liners are not safe most of the time and also the reading ones should be synchronized. The thing I&#39;ve understood less is about using an external Object as a lock. I know it&#39;s used (I&#39;ve tried it myself) but in this case why is it wrong/is it worse locking on the data structure itself?"}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682610924,"creation_date":1682610924,"answer_id":76122409,"question_id":76122045,"body_markdown":"&gt; while I&#39;m working (iterating/reading multiple times) on that DS I don&#39;t want anyone to write it externally.\r\n\r\nMay I suggest a different way of thinking about `synchronized`? In most programs, we deal with _structured_ data. At a low-level we have general-purpose, reusable structures such as your `HashMap`, and at higher levels we have structures that are narrowly specified to meet the needs of a specific application.\r\n\r\nIt frequently is impossible for any single thread to update data without _temporarily_ putting some structure into an invalid or inconsistent state. This is because the thread can only update the data piece-by-piece. It cannot _atomically_ make all of the changes in a single instant. So, if a structure is shared by two or more threads, then how can any thread make a change without the risk of letting some other thread see the structure as inconsistent/invalid?\r\n\r\nThe `synchronized` keyword rescues us. If we make sure that every thread that updates _or even just looks at_ a certain structure only ever does it from inside a block that is `synchronized` on some certain object,&#160;O,\\* then we can create the _illusion_ (as seen by threads&#160;B, C, D, E, and F) that the changes made by thread&#160;A happened atomically (I.e., all in a single instant.)\r\n\r\n------------\r\n\r\n\\* For best results, declare the variable that refers to object, O, as `final`, and put it somewhere close to the declarations of the variables that refer to the data it protects.  E.g., If the data are members of some class, then you might declare `final&#160;Object&#160;lock=new&#160;Object()` in that class. Or, if the data are `static` members, then you&#39;d have `static&#160;final&#160;Object&#160;lock=new&#160;Object()`, etc.\r\n ","title":"Thread safety of single line in Java","body":"<blockquote>\n<p>while I'm working (iterating/reading multiple times) on that DS I don't want anyone to write it externally.</p>\n</blockquote>\n<p>May I suggest a different way of thinking about <code>synchronized</code>? In most programs, we deal with <em>structured</em> data. At a low-level we have general-purpose, reusable structures such as your <code>HashMap</code>, and at higher levels we have structures that are narrowly specified to meet the needs of a specific application.</p>\n<p>It frequently is impossible for any single thread to update data without <em>temporarily</em> putting some structure into an invalid or inconsistent state. This is because the thread can only update the data piece-by-piece. It cannot <em>atomically</em> make all of the changes in a single instant. So, if a structure is shared by two or more threads, then how can any thread make a change without the risk of letting some other thread see the structure as inconsistent/invalid?</p>\n<p>The <code>synchronized</code> keyword rescues us. If we make sure that every thread that updates <em>or even just looks at</em> a certain structure only ever does it from inside a block that is <code>synchronized</code> on some certain object,¬†O,* then we can create the <em>illusion</em> (as seen by threads¬†B, C, D, E, and F) that the changes made by thread¬†A happened atomically (I.e., all in a single instant.)</p>\n<hr />\n<p>* For best results, declare the variable that refers to object, O, as <code>final</code>, and put it somewhere close to the declarations of the variables that refer to the data it protects.  E.g., If the data are members of some class, then you might declare <code>final¬†Object¬†lock=new¬†Object()</code> in that class. Or, if the data are <code>static</code> members, then you'd have <code>static¬†final¬†Object¬†lock=new¬†Object()</code>, etc.</p>\n"}],"owner":{"account_id":22905355,"reputation":53,"user_id":17043505,"display_name":"Gabriele Passoni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76122387,"answer_count":2,"score":0,"last_activity_date":1682705810,"creation_date":1682608589,"question_id":76122045,"body_markdown":"Since I&#39;m implementing for the first time a quite complex multi-threaded application in java, I was wondering about thread safety on data structures. Obviously my first goal is to achieve thread safety but I would like also to achieve a good performance avoiding useless extra locks. The hypothesis is that I&#39;m not using concurrent/thread-safe alter ego of the used DSs (I&#39;m going to use DS as &quot;data structure&quot; from now on).\r\n\r\nMy general approach is this one:\r\n\r\nWhen the same data structure is used for more than one line or there&#39;s an iteration on it in the same method/code block I&#39;m going to synchronize that block on the DS. Even if it&#39;s a read only block. For example this code:\r\n\r\n    synchronized (networkView) {\r\n        for (int othersID : networkView.keySet()) {\r\n            networkView.get(othersID).send(new CloseConnectionMessage(ID));\r\n            networkView.get(othersID).close();\r\n            networkView.get(othersID).join();\r\n        }\r\n    }\r\nWhere `networkView` is a classic HashMap. This is because while I&#39;m working (iterating/reading multiple times) on that DS I don&#39;t want anyone to write it externally. Now every time I&#39;m writing `networkView` I&#39;m going to synchronize that block even if it&#39;s a one-liner to avoid concurrent modification like this other example:\r\n\r\n    public void clearNetwork() {\r\n        synchronized (networkView) {\r\n            networkView.clear();\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the first question: is it also necessary to synchronize on one-liners that only read the structure? For example if a method returns the lenght of this data structure, is it thread safe without a synchronized block? like this one:\r\n\r\n    public int getNetworkView() {\r\n        return networkView.size();\r\n    }\r\n\r\nSo the underlying question is: single line of codes are thread safe or not? As I said before modification one-liners should anyway be synchronized because they should not interfere with mutliple read blocks (like the first example) but can they also interfere with one-liner reads and write? If example 2 and 3 methods are executed concurrently, is it thread safe?\r\n\r\nAnother question is this one: with DS used only with one-liners I would say it&#39;s enough to use their thread-safe counterparts (like ConcurrentHashMap), while they&#39;re not enough in a case like the first example without the synchronized block. Am I right about this?","title":"Thread safety of single line in Java","body":"<p>Since I'm implementing for the first time a quite complex multi-threaded application in java, I was wondering about thread safety on data structures. Obviously my first goal is to achieve thread safety but I would like also to achieve a good performance avoiding useless extra locks. The hypothesis is that I'm not using concurrent/thread-safe alter ego of the used DSs (I'm going to use DS as &quot;data structure&quot; from now on).</p>\n<p>My general approach is this one:</p>\n<p>When the same data structure is used for more than one line or there's an iteration on it in the same method/code block I'm going to synchronize that block on the DS. Even if it's a read only block. For example this code:</p>\n<pre><code>synchronized (networkView) {\n    for (int othersID : networkView.keySet()) {\n        networkView.get(othersID).send(new CloseConnectionMessage(ID));\n        networkView.get(othersID).close();\n        networkView.get(othersID).join();\n    }\n}\n</code></pre>\n<p>Where <code>networkView</code> is a classic HashMap. This is because while I'm working (iterating/reading multiple times) on that DS I don't want anyone to write it externally. Now every time I'm writing <code>networkView</code> I'm going to synchronize that block even if it's a one-liner to avoid concurrent modification like this other example:</p>\n<pre><code>public void clearNetwork() {\n    synchronized (networkView) {\n        networkView.clear();\n    }\n}\n</code></pre>\n<p>And here's the first question: is it also necessary to synchronize on one-liners that only read the structure? For example if a method returns the lenght of this data structure, is it thread safe without a synchronized block? like this one:</p>\n<pre><code>public int getNetworkView() {\n    return networkView.size();\n}\n</code></pre>\n<p>So the underlying question is: single line of codes are thread safe or not? As I said before modification one-liners should anyway be synchronized because they should not interfere with mutliple read blocks (like the first example) but can they also interfere with one-liner reads and write? If example 2 and 3 methods are executed concurrently, is it thread safe?</p>\n<p>Another question is this one: with DS used only with one-liners I would say it's enough to use their thread-safe counterparts (like ConcurrentHashMap), while they're not enough in a case like the first example without the synchronized block. Am I right about this?</p>\n"},{"tags":["java","kotlin","file","zip4j"],"answers":[{"comments":[{"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"score":0,"creation_date":1682705908,"post_id":76132235,"comment_id":134263265,"body_markdown":"I wonder what would happen if there&#39;s an error throw before reaching zipFile.close().  would this cause memory leak?","body":"I wonder what would happen if there&#39;s an error throw before reaching zipFile.close().  would this cause memory leak?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682709455,"post_id":76132235,"comment_id":134263865,"body_markdown":"@Patrick Not necessarily a &quot;memory leak&quot; _per se_, but it could lead to other issues. That&#39;s why you should always use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) in such cases (Java). The equivalent in Kotlin is [`use`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html). However, neither are strictly needed in this case because you&#39;re writing to a `ByteArrayOutputStream`.","body":"@Patrick Not necessarily a &quot;memory leak&quot; <i>per se</i>, but it could lead to other issues. That&#39;s why you should always use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> in such cases (Java). The equivalent in Kotlin is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/use.html\" rel=\"nofollow noreferrer\"><code>use</code></a>. However, neither are strictly needed in this case because you&#39;re writing to a <code>ByteArrayOutputStream</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682732636,"post_id":76132235,"comment_id":134266648,"body_markdown":"Patrick: No, why would it? You just have some object that will eventually be garbage collected. strings don&#39;t have a `close()` method at all, for example. Neither `zipFile` nor that instance of `ByteArrayOutputStream` holds anything at all except memory. Ignore @Slaw &#39;s comment. Making vague overtures to undefined &quot;other issues&quot;? It&#39;s meaningless.","body":"Patrick: No, why would it? You just have some object that will eventually be garbage collected. strings don&#39;t have a <code>close()</code> method at all, for example. Neither <code>zipFile</code> nor that instance of <code>ByteArrayOutputStream</code> holds anything at all except memory. Ignore @Slaw &#39;s comment. Making vague overtures to undefined &quot;other issues&quot;? It&#39;s meaningless."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682732795,"post_id":76132235,"comment_id":134266652,"body_markdown":"@Patrick try-with is for e.g. `new FileOutputStream()`, or `socket.getInputStream()`, or `Class.myClass.getResourceAsStream()`, or `Files.newBufferedReader` or `jdbcDriverManager.getConnection()` - things that make an actual not-in-java &#39;handle&#39; object (OS-level file handle, Database connection, that sort of thing). Java garbage collects its own stuff but can&#39;t garbage collect your DB or your OS file handles for you. Hence, the need to always close them, hence, `try (var x = new resource()) {}` syntax. Here there are no such objects at all, and therefore, no need.","body":"@Patrick try-with is for e.g. <code>new FileOutputStream()</code>, or <code>socket.getInputStream()</code>, or <code>Class.myClass.getResourceAsStream()</code>, or <code>Files.newBufferedReader</code> or <code>jdbcDriverManager.getConnection()</code> - things that make an actual not-in-java &#39;handle&#39; object (OS-level file handle, Database connection, that sort of thing). Java garbage collects its own stuff but can&#39;t garbage collect your DB or your OS file handles for you. Hence, the need to always close them, hence, <code>try (var x = new resource()) {}</code> syntax. Here there are no such objects at all, and therefore, no need."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682741796,"post_id":76132235,"comment_id":134267190,"body_markdown":"I disagree that I made &quot;vague overtures&quot;, or more specifically, I disagree that they&#39;re meaningless. I simply didn&#39;t go into details. Your second comment addresses the other issues I mentioned. They&#39;re important to keep in mind, as you&#39;ve explained. And I did state that these other issues don&#39;t need to be worried about in this case, _specifically because the OP is writing to memory_. Though perhaps that could have been clearer. Anyway, my comment was addressing the OP&#39;s question in a more general sense rather than specifically `zipFile.close()` in the example code.","body":"I disagree that I made &quot;vague overtures&quot;, or more specifically, I disagree that they&#39;re meaningless. I simply didn&#39;t go into details. Your second comment addresses the other issues I mentioned. They&#39;re important to keep in mind, as you&#39;ve explained. And I did state that these other issues don&#39;t need to be worried about in this case, <i>specifically because the OP is writing to memory</i>. Though perhaps that could have been clearer. Anyway, my comment was addressing the OP&#39;s question in a more general sense rather than specifically <code>zipFile.close()</code> in the example code."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682705579,"creation_date":1682705579,"answer_id":76132235,"question_id":76132160,"body_markdown":"The crucial thing you&#39;re missing is that you have heard an oversimplification that is incorrect and has now led you astray. What you think you know/heard is:\r\n\r\n* `finally` blocks run _before the return statement_.\r\n\r\nBut that is __incorrect__. The correct thought is:\r\n\r\n* `finally` blocks run _before returning_.\r\n\r\nAs in, _first_ `out.toByteArray()` is evaluated, _then_ the finally block runs (closing the zip stream, which causes it to write the zip header, because in zip files, those are at the end), _then_ the evaluated-before-running-the-finally byte array is returned. Which doesn&#39;t have that header because it didn&#39;t yet when it was created. Whereas in your second snippet, the zip stream writes its header out prior to evaluating `out.toByteArray()`.\r\n\r\nFor what its worth, `try/finally` is useless here - none of these things are system resources that demand that you safely close them. The code is a lot simpler to read if you just make it:\r\n\r\n```\r\nfun createZipFile(filename: String, vararg containers: Pair&lt;String, ByteArray?&gt;): ByteArray {\r\n     val out = ByteArrayOutputStream()\r\n     val zipFile = ZipOutputStream(out, passwordGenerator.generate());\r\n     for ((name, file) in containers.toList()) {\r\n         if (file != null) {\r\n             val parameters = createZipParameters(name)\r\n             zipFile.putNextEntry(parameters)\r\n             zipFile.write(file)\r\n             zipFile.closeEntry()\r\n         }\r\n     }\r\n     zipFile.close()\r\n     return out.toByteArray()\r\n }\r\n```\r\n\r\nA few notes on the above:\r\n\r\n* There is no need to `out.close()` - closing a wrapper stream also closing the thing it wraps.\r\n* If your linter complains, fix your linter, don&#39;t fix your code. A linter exists to make your code easier to read. If you write harder to read code to avoid it, you need to ask yourself some serious questions.\r\n","title":"Got error &quot;inappropriate format&quot; when returning a file inside of a try block","body":"<p>The crucial thing you're missing is that you have heard an oversimplification that is incorrect and has now led you astray. What you think you know/heard is:</p>\n<ul>\n<li><code>finally</code> blocks run <em>before the return statement</em>.</li>\n</ul>\n<p>But that is <strong>incorrect</strong>. The correct thought is:</p>\n<ul>\n<li><code>finally</code> blocks run <em>before returning</em>.</li>\n</ul>\n<p>As in, <em>first</em> <code>out.toByteArray()</code> is evaluated, <em>then</em> the finally block runs (closing the zip stream, which causes it to write the zip header, because in zip files, those are at the end), <em>then</em> the evaluated-before-running-the-finally byte array is returned. Which doesn't have that header because it didn't yet when it was created. Whereas in your second snippet, the zip stream writes its header out prior to evaluating <code>out.toByteArray()</code>.</p>\n<p>For what its worth, <code>try/finally</code> is useless here - none of these things are system resources that demand that you safely close them. The code is a lot simpler to read if you just make it:</p>\n<pre><code>fun createZipFile(filename: String, vararg containers: Pair&lt;String, ByteArray?&gt;): ByteArray {\n     val out = ByteArrayOutputStream()\n     val zipFile = ZipOutputStream(out, passwordGenerator.generate());\n     for ((name, file) in containers.toList()) {\n         if (file != null) {\n             val parameters = createZipParameters(name)\n             zipFile.putNextEntry(parameters)\n             zipFile.write(file)\n             zipFile.closeEntry()\n         }\n     }\n     zipFile.close()\n     return out.toByteArray()\n }\n</code></pre>\n<p>A few notes on the above:</p>\n<ul>\n<li>There is no need to <code>out.close()</code> - closing a wrapper stream also closing the thing it wraps.</li>\n<li>If your linter complains, fix your linter, don't fix your code. A linter exists to make your code easier to read. If you write harder to read code to avoid it, you need to ask yourself some serious questions.</li>\n</ul>\n"}],"owner":{"account_id":13467469,"reputation":778,"user_id":9740664,"display_name":"Patrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76132235,"answer_count":1,"score":0,"last_activity_date":1682705579,"creation_date":1682704832,"question_id":76132160,"body_markdown":"I am trying to create a password-protected zip file using zip4j that contains several files. This is the code I have so far\r\n\r\n    fun createZipFile(filename: String, vararg containers: Pair&lt;String, ByteArray?&gt;): ByteArray {\r\n         val out = ByteArrayOutputStream()\r\n         val zipFile = ZipOutputStream(out, passwordGenerator.generate());\r\n         try {\r\n             for ((name, file) in containers.toList()) {\r\n                 if (file != null) {\r\n                     val parameters = createZipParameters(name)\r\n                     zipFile.putNextEntry(parameters)\r\n                     zipFile.write(file)\r\n                     zipFile.closeEntry()\r\n                 }\r\n             }\r\n             // return here cause error\r\n             return out.toByteArray()\r\n         }\r\n         finally {\r\n             zipFile.close()\r\n             out.close()\r\n         }\r\n     }\r\n\r\nI received an &quot;inappropriate format&quot; error when I tried to open the file. However, when I made a small change and moved the return statement after the finally block, it worked fine\r\n\r\n       // return out.toByteArray()\r\n    }\r\n    finally {\r\n       zipFile.close()\r\n       out.close()\r\n    }\r\n    return out.toByteArray()\r\n\r\nCan you explain why this change made a difference and why the original code did not work?","title":"Got error &quot;inappropriate format&quot; when returning a file inside of a try block","body":"<p>I am trying to create a password-protected zip file using zip4j that contains several files. This is the code I have so far</p>\n<pre><code>fun createZipFile(filename: String, vararg containers: Pair&lt;String, ByteArray?&gt;): ByteArray {\n     val out = ByteArrayOutputStream()\n     val zipFile = ZipOutputStream(out, passwordGenerator.generate());\n     try {\n         for ((name, file) in containers.toList()) {\n             if (file != null) {\n                 val parameters = createZipParameters(name)\n                 zipFile.putNextEntry(parameters)\n                 zipFile.write(file)\n                 zipFile.closeEntry()\n             }\n         }\n         // return here cause error\n         return out.toByteArray()\n     }\n     finally {\n         zipFile.close()\n         out.close()\n     }\n }\n</code></pre>\n<p>I received an &quot;inappropriate format&quot; error when I tried to open the file. However, when I made a small change and moved the return statement after the finally block, it worked fine</p>\n<pre><code>   // return out.toByteArray()\n}\nfinally {\n   zipFile.close()\n   out.close()\n}\nreturn out.toByteArray()\n</code></pre>\n<p>Can you explain why this change made a difference and why the original code did not work?</p>\n"},{"tags":["java","kubernetes","kubernetes-helm","apache-pulsar"],"owner":{"account_id":17891954,"reputation":138,"user_id":12998229,"display_name":"Thomas Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682705573,"creation_date":1682675741,"question_id":76128386,"body_markdown":"We have recently been working on migrating our Pulsar cluster to run on Kubernetes. We have successfully moved over basic functionality as well as our sinks, however we have been struggling with our functions.\r\nWe have two functions, both use state values, however when they are called, we get the following error when they try to access their state:\r\n\r\n```\r\n2023-04-28T07:58:33,565+0000 [public/tracking/playStartFunction-0] ERROR function-playStartFunction - Failed to process multi-cam message\r\njava.lang.IllegalStateException: State public/tracking/playStartFunction is not enabled.\r\n```\r\n\r\nOur current cluster runs on EC2 instances and we configure Pulsar using Ansible. In this set up we define the following value:\r\n\r\n```\r\n# the service url points to bookkeeper table service\r\nstateStorageServiceUrl: bk://{{ bookie_url }}:4181\r\n```\r\n\r\nWe can&#39;t, however, seem to find an equivalent for this in our new K8s deployment.\r\n\r\nDoes anyone have experience running stateful functions on a K8s Pulsar cluster that could help?\r\n\r\nWe have looked through the official HELM chart but were unable to find any properties which seemed relevant.","title":"How to configure function state storage for Pulsar running on Kubernetes","body":"<p>We have recently been working on migrating our Pulsar cluster to run on Kubernetes. We have successfully moved over basic functionality as well as our sinks, however we have been struggling with our functions.\nWe have two functions, both use state values, however when they are called, we get the following error when they try to access their state:</p>\n<pre><code>2023-04-28T07:58:33,565+0000 [public/tracking/playStartFunction-0] ERROR function-playStartFunction - Failed to process multi-cam message\njava.lang.IllegalStateException: State public/tracking/playStartFunction is not enabled.\n</code></pre>\n<p>Our current cluster runs on EC2 instances and we configure Pulsar using Ansible. In this set up we define the following value:</p>\n<pre><code># the service url points to bookkeeper table service\nstateStorageServiceUrl: bk://{{ bookie_url }}:4181\n</code></pre>\n<p>We can't, however, seem to find an equivalent for this in our new K8s deployment.</p>\n<p>Does anyone have experience running stateful functions on a K8s Pulsar cluster that could help?</p>\n<p>We have looked through the official HELM chart but were unable to find any properties which seemed relevant.</p>\n"},{"tags":["java","redirect","console","java.util.scanner","stdin"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682693612,"post_id":76130348,"comment_id":134260699,"body_markdown":"I&#39;m not sure it&#39;s a good use of time commenting on &#39;surprising&#39; results when the *code itself* is surprising. Why, for instance, would you read the user name *twice* from a redirected file?","body":"I&#39;m not sure it&#39;s a good use of time commenting on &#39;surprising&#39; results when the <i>code itself</i> is surprising. Why, for instance, would you read the user name <i>twice</i> from a redirected file?"},{"owner":{"account_id":28445954,"reputation":13,"user_id":21764659,"display_name":"Siva"},"score":0,"creation_date":1682703313,"post_id":76130348,"comment_id":134262759,"body_markdown":"So, when teaching (usually Python), I often ask students to take a piece of functionality and move it to a separate method. In this case, we take user interaction, move it to a method, then add more stuff (like input validation). This serves as a little piece of encapsulation. I build auto graders to test student code, and typically feed input from files for rapid testing.","body":"So, when teaching (usually Python), I often ask students to take a piece of functionality and move it to a separate method. In this case, we take user interaction, move it to a method, then add more stuff (like input validation). This serves as a little piece of encapsulation. I build auto graders to test student code, and typically feed input from files for rapid testing."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682701466,"post_id":76131712,"comment_id":134262395,"body_markdown":"It&#39;s a pity you removed the comment about the redirect, as now, the problem has been cast in quite a different light","body":"It&#39;s a pity you removed the comment about the redirect, as now, the problem has been cast in quite a different light"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682702156,"post_id":76131712,"comment_id":134262547,"body_markdown":"@g00se Actually, I don&#39;t remember making any comments.  I did alter some text in my answer regarding that it doesn&#39;t make sense to prompt for input when reading from a file.  But then I realized that the getUserName method could also be used for regular user input requests.  Probably would be best to just not prompt in the method.","body":"@g00se Actually, I don&#39;t remember making any comments.  I did alter some text in my answer regarding that it doesn&#39;t make sense to prompt for input when reading from a file.  But then I realized that the getUserName method could also be used for regular user input requests.  Probably would be best to just not prompt in the method."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682702166,"post_id":76131712,"comment_id":134262549,"body_markdown":"afaicr you said something along the lines of &quot;you don&#39;t need to prompt if you&#39;re going to read from a redirect&quot;. Lack of a prompt otherwise would just cause confusion in the user.","body":"afaicr you said something along the lines of &quot;you don&#39;t need to prompt if you&#39;re going to read from a redirect&quot;. Lack of a prompt otherwise would just cause confusion in the user."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682702228,"post_id":76131712,"comment_id":134262556,"body_markdown":"@g00se Yes I said that.  But the method could be used for interactive input too so I removed it.  Since you considered it meaningful I have put the text back in my answer.","body":"@g00se Yes I said that.  But the method could be used for interactive input too so I removed it.  Since you considered it meaningful I have put the text back in my answer."},{"owner":{"account_id":28445954,"reputation":13,"user_id":21764659,"display_name":"Siva"},"score":0,"creation_date":1682703471,"post_id":76131712,"comment_id":134262796,"body_markdown":"It&#39;s just a small example for students to learn basics. I am redirecting input from files for auto grading purposes.","body":"It&#39;s just a small example for students to learn basics. I am redirecting input from files for auto grading purposes."},{"owner":{"account_id":28445954,"reputation":13,"user_id":21764659,"display_name":"Siva"},"score":0,"creation_date":1682703579,"post_id":76131712,"comment_id":134262820,"body_markdown":"What does &quot;essentially discarding the input stream&quot; mean. Stdin should never be closed. The garbage collector shouldn&#39;t run for such a small program. I don&#39;t get why it fails. There are obviously much better ways to too this, but we educators like to start simple.","body":"What does &quot;essentially discarding the input stream&quot; mean. Stdin should never be closed. The garbage collector shouldn&#39;t run for such a small program. I don&#39;t get why it fails. There are obviously much better ways to too this, but we educators like to start simple."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682704284,"post_id":76131712,"comment_id":134262951,"body_markdown":"@Siva At the command line, you redirect once so it has started. You prompt for username which works once. Then when you open a new Scanner for the second username. That is a different stream, not the redirected one. So it hits an eof and throws an exception. If you kept on using the same instance of scanner it would have worked.  I modified my answer to provide a better explanation.","body":"@Siva At the command line, you redirect once so it has started. You prompt for username which works once. Then when you open a new Scanner for the second username. That is a different stream, not the redirected one. So it hits an eof and throws an exception. If you kept on using the same instance of scanner it would have worked.  I modified my answer to provide a better explanation."},{"owner":{"account_id":28445954,"reputation":13,"user_id":21764659,"display_name":"Siva"},"score":0,"creation_date":1682705067,"post_id":76131712,"comment_id":134263110,"body_markdown":"@WSJ &quot;I presume that since the input was buffered, it was already in the current streams input buffer&quot; is the answer I was looking for. This explanation makes sense. Thanks for your input. I will simply find a different example for students at the beginning of the semester (as class variables come later). Thanks!","body":"@WSJ &quot;I presume that since the input was buffered, it was already in the current streams input buffer&quot; is the answer I was looking for. This explanation makes sense. Thanks for your input. I will simply find a different example for students at the beginning of the semester (as class variables come later). Thanks!"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682705766,"post_id":76131712,"comment_id":134263244,"body_markdown":"Just to be clear, `System.in` is an `InputStream` which isn&#39;t buffered.  But subsequent underpinnings of the Scanner class do create a buffer.","body":"Just to be clear, <code>System.in</code> is an <code>InputStream</code> which isn&#39;t buffered.  But subsequent underpinnings of the Scanner class do create a buffer."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682706022,"post_id":76131712,"comment_id":134263285,"body_markdown":"@Siva *`will simply find a different example for students at the beginning of the semester (as class variables come later).`*  Well, you could create a local scanner instance in main and then pass that instance to the `getUserName` method.","body":"@Siva <i><code>will simply find a different example for students at the beginning of the semester (as class variables come later).</code></i>  Well, you could create a local scanner instance in main and then pass that instance to the <code>getUserName</code> method."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682705004,"creation_date":1682700932,"answer_id":76131712,"question_id":76130348,"body_markdown":"The problem is that you reopen scanner each time, essentially using a different input stream each time.  So subsequent streams would hit an end of file. Open the scanner only once and not in `getUserName`.  And in general I don&#39;t usually prompt in input methods.  As in this case it doesn&#39;t make sense to prompt when taking input from a file.\r\n```\r\nimport java.util.Scanner;\r\nclass Broken {\r\n    static Scanner s = new Scanner(System.in);\r\n    public static String getUserName() {\r\n       \r\n        System.out.print(&quot;Enter Name: &quot;);\r\n        return s.nextLine();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        String a = getUserName();\r\n        String b = getUserName();\r\n        System.out.println(a);\r\n        System.out.println(b);\r\n    }\r\n}\r\n```\r\nWhen run as `java Broken &lt; names.txt`\r\nprints\r\n```\r\nEnter Name: Bob\r\nEnter Name: Lisa\r\n","title":"Java Scanner and console input redirect","body":"<p>The problem is that you reopen scanner each time, essentially using a different input stream each time.  So subsequent streams would hit an end of file. Open the scanner only once and not in <code>getUserName</code>.  And in general I don't usually prompt in input methods.  As in this case it doesn't make sense to prompt when taking input from a file.</p>\n<pre><code>import java.util.Scanner;\nclass Broken {\n    static Scanner s = new Scanner(System.in);\n    public static String getUserName() {\n       \n        System.out.print(&quot;Enter Name: &quot;);\n        return s.nextLine();\n    }\n    \n    public static void main(String[] args) {\n        String a = getUserName();\n        String b = getUserName();\n        System.out.println(a);\n        System.out.println(b);\n    }\n}\n</code></pre>\n<p>When run as <code>java Broken &lt; names.txt</code>\nprints</p>\n<pre><code>Enter Name: Bob\nEnter Name: Lisa\n</code></pre>\n"}],"owner":{"account_id":28445954,"reputation":13,"user_id":21764659,"display_name":"Siva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76131712,"answer_count":1,"score":0,"last_activity_date":1682705004,"creation_date":1682690434,"question_id":76130348,"body_markdown":"Stdin redirect breaks with simple Java (20.0.1) program using Scanner on Mac.\r\n\r\nError: java.util.NoSuchElementException: No line found\r\n\r\n*Broken.java*\r\n\r\n``` lang-java\r\nimport java.util.Scanner;\r\nclass Broken {\r\n\tpublic static String getUserName() {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter Name: &quot;);\r\n\t\treturn s.nextLine();\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString a = getUserName();\r\n\t\tString b = getUserName();\r\n\t}\r\n}\r\n```\r\n\r\n*names.txt*\r\n\r\n```\r\nBob\r\nLisa\r\n```\r\n\r\n*Bash Command Line*\r\n\r\n```\r\njavac Broken.java \r\njava Broken &lt; names.txt \r\n```\r\n\r\nThis shouldn&#39;t crash, but it does with a NoSuchElementException. I don&#39;t want to know other ways of solving this problem. I want to know why this fails. Is the stdin steam being closed by Scanner? What else could it be?","title":"Java Scanner and console input redirect","body":"<p>Stdin redirect breaks with simple Java (20.0.1) program using Scanner on Mac.</p>\n<p>Error: java.util.NoSuchElementException: No line found</p>\n<p><em>Broken.java</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nclass Broken {\n    public static String getUserName() {\n        Scanner s = new Scanner(System.in);\n        System.out.print(&quot;Enter Name: &quot;);\n        return s.nextLine();\n    }\n    \n    public static void main(String[] args) {\n        String a = getUserName();\n        String b = getUserName();\n    }\n}\n</code></pre>\n<p><em>names.txt</em></p>\n<pre><code>Bob\nLisa\n</code></pre>\n<p><em>Bash Command Line</em></p>\n<pre><code>javac Broken.java \njava Broken &lt; names.txt \n</code></pre>\n<p>This shouldn't crash, but it does with a NoSuchElementException. I don't want to know other ways of solving this problem. I want to know why this fails. Is the stdin steam being closed by Scanner? What else could it be?</p>\n"},{"tags":["java","cucumber","rest-assured"],"answers":[{"comments":[{"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"score":0,"creation_date":1682520821,"post_id":76107955,"comment_id":134229765,"body_markdown":"Not working. I tried all of your suggested solutions","body":"Not working. I tried all of your suggested solutions"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1682527959,"post_id":76107955,"comment_id":134231813,"body_markdown":"what version are you using?","body":"what version are you using?"},{"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"score":0,"creation_date":1682695321,"post_id":76107955,"comment_id":134261102,"body_markdown":"Sorry for replying late. I used 4.X","body":"Sorry for replying late. I used 4.X"},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1682704614,"post_id":76107955,"comment_id":134263008,"body_markdown":"can you once try with above latest version","body":"can you once try with above latest version"}],"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682704599,"creation_date":1682492256,"answer_id":76107955,"question_id":76106562,"body_markdown":"First thing is to make sure that you are using same version for below ,if you are using rest-assured of version `4.2.0` then you should keep all the related version for json-path ,rest-assured-common and  xml-path \r\n\r\n    rest-assured-4.2.0\r\n    json-path-4.2.0\r\n    xml-path-4.2.0\r\n    rest-assured-common- 4.2.0\r\n\r\nif it doesn&#39;t work Try to exclude the conflicting dependency by adding the exclusion tag in your pom.xml file. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf this doesn&#39;t work then you need to run command `mvn dependency:tree`\r\nIt might be related to conflicting dependencies or different versions of dependencies, you can use the mvn dependency:tree command to generate a tree-like structure of all the dependencies required to build the project. This structure includes information about the group ID, artifact ID, and version of each dependency, as well as their transitive dependencies. By examining the output of this command, you can identify any conflicts or duplication of dependencies that might be causing the issue.\r\n\r\nYou can also see read detailed info [here][1]\r\n\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/maven-dependency-tree-resolving-conflicts\r\n\r\nUpdated - Give this version a try\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured-all&lt;/artifactId&gt;\r\n        &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Getting &quot;NoSuchMethodError&quot; error when trying to set up restassured framework using cucumber bdd","body":"<p>First thing is to make sure that you are using same version for below ,if you are using rest-assured of version <code>4.2.0</code> then you should keep all the related version for json-path ,rest-assured-common and  xml-path</p>\n<pre><code>rest-assured-4.2.0\njson-path-4.2.0\nxml-path-4.2.0\nrest-assured-common- 4.2.0\n</code></pre>\n<p>if it doesn't work Try to exclude the conflicting dependency by adding the exclusion tag in your pom.xml file.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If this doesn't work then you need to run command <code>mvn dependency:tree</code>\nIt might be related to conflicting dependencies or different versions of dependencies, you can use the mvn dependency:tree command to generate a tree-like structure of all the dependencies required to build the project. This structure includes information about the group ID, artifact ID, and version of each dependency, as well as their transitive dependencies. By examining the output of this command, you can identify any conflicts or duplication of dependencies that might be causing the issue.</p>\n<p>You can also see read detailed info <a href=\"https://www.digitalocean.com/community/tutorials/maven-dependency-tree-resolving-conflicts\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Updated - Give this version a try</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured-all&lt;/artifactId&gt;\n    &lt;version&gt;5.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3506599,"reputation":357,"user_id":2932012,"accept_rate":35,"display_name":"nikhil udgirkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682704599,"creation_date":1682473105,"question_id":76106562,"body_markdown":"I am trying to setup API automation framework with rest-assured library and cucumber BDD. Previously I had setup but never encountered this error. I got this error\r\n\r\n    java.lang.NoSuchMethodError: &#39;boolean io.restassured.common.mapper.resolver.ObjectMapperResolver.isJakartaEEInClassPath()&#39;\r\n\r\nBelow is my code \r\n\r\n    public class ReqResApi implements AutoCloseable {\r\n    \r\n        private String baseUri;\r\n        private String basePath;\r\n        private static RequestSpecification requestSpecification;\r\n    \r\n        public ReqResApi(String baseUri, String basePath) {\r\n            this.baseUri = baseUri;\r\n            this.basePath = basePath;\r\n        }\r\n    \r\n        public RequestSpecification getRequestSpecification() {\r\n            return requestSpecification = new RequestSpecBuilder()\r\n                    .setBaseUri(baseUri)\r\n                    .setBasePath(basePath)\r\n                    .build();\r\n    \r\n        }\r\n    }\r\n\r\nAnd this is my step definition code\r\n\r\n    public class AssignmentDefinition {\r\n    \r\n        private HashMap&lt;String, String&gt; map;\r\n        private RequestSpecification requestSpecification;\r\n        private String baseUri;\r\n        private Response response;\r\n        private ReqResApi reqResApi;\r\n        private String endpoint;\r\n    \r\n        public AssignmentDefinition() {\r\n            this.baseUri = ReqResConstants.propertiesConfig.baseUri();\r\n            this.endpoint = ReqResConstants.propertiesConfig.endpoint();\r\n            reqResApi = new ReqResApi(this.baseUri, endpoint);\r\n        }\r\n    \r\n        @Given(&quot;user should be able to list users&quot;)\r\n        public void userShouldBeAbleToListUsers() {\r\n            response = given()\r\n                    .spec(reqResApi.getRequestSpecification())\r\n                    .when().get().then().statusCode(200).extract().response();\r\n    \r\n            System.out.println(response.getStatusLine());\r\n    \r\n        }\r\n    }\r\n\r\nThis is the first time I have received an error. Can anyone provide some pointers?\r\n","title":"Getting &quot;NoSuchMethodError&quot; error when trying to set up restassured framework using cucumber bdd","body":"<p>I am trying to setup API automation framework with rest-assured library and cucumber BDD. Previously I had setup but never encountered this error. I got this error</p>\n<pre><code>java.lang.NoSuchMethodError: 'boolean io.restassured.common.mapper.resolver.ObjectMapperResolver.isJakartaEEInClassPath()'\n</code></pre>\n<p>Below is my code</p>\n<pre><code>public class ReqResApi implements AutoCloseable {\n\n    private String baseUri;\n    private String basePath;\n    private static RequestSpecification requestSpecification;\n\n    public ReqResApi(String baseUri, String basePath) {\n        this.baseUri = baseUri;\n        this.basePath = basePath;\n    }\n\n    public RequestSpecification getRequestSpecification() {\n        return requestSpecification = new RequestSpecBuilder()\n                .setBaseUri(baseUri)\n                .setBasePath(basePath)\n                .build();\n\n    }\n}\n</code></pre>\n<p>And this is my step definition code</p>\n<pre><code>public class AssignmentDefinition {\n\n    private HashMap&lt;String, String&gt; map;\n    private RequestSpecification requestSpecification;\n    private String baseUri;\n    private Response response;\n    private ReqResApi reqResApi;\n    private String endpoint;\n\n    public AssignmentDefinition() {\n        this.baseUri = ReqResConstants.propertiesConfig.baseUri();\n        this.endpoint = ReqResConstants.propertiesConfig.endpoint();\n        reqResApi = new ReqResApi(this.baseUri, endpoint);\n    }\n\n    @Given(&quot;user should be able to list users&quot;)\n    public void userShouldBeAbleToListUsers() {\n        response = given()\n                .spec(reqResApi.getRequestSpecification())\n                .when().get().then().statusCode(200).extract().response();\n\n        System.out.println(response.getStatusLine());\n\n    }\n}\n</code></pre>\n<p>This is the first time I have received an error. Can anyone provide some pointers?</p>\n"},{"tags":["java","log4j2","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1540828761,"post_id":53049346,"comment_id":92998435,"body_markdown":"anything that you&#39;ve observed changing from Java10 to Java11? Looks strange.","body":"anything that you&#39;ve observed changing from Java10 to Java11? Looks strange."},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1540828825,"post_id":53049346,"comment_id":92998482,"body_markdown":"I didn&#39;t change anything, same jar, same env., different JVMs.","body":"I didn&#39;t change anything, same jar, same env., different JVMs."},{"owner":{"account_id":35077,"reputation":28118,"user_id":99256,"accept_rate":89,"display_name":"MartyIX"},"score":0,"creation_date":1541149278,"post_id":53049346,"comment_id":93125270,"body_markdown":"@nullpointer I can see the same warning when running my app on JDK 11 (with 2.11.1 and 2.11.0). There is no warning on JDK 10. My project is large so it&#39;s hard to create a reproducible example.","body":"@nullpointer I can see the same warning when running my app on JDK 11 (with 2.11.1 and 2.11.0). There is no warning on JDK 10. My project is large so it&#39;s hard to create a reproducible example."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1548894014,"post_id":53049346,"comment_id":95711493,"body_markdown":"*&quot;Seems like this part is no longer work with Java 11.&quot;* - The warning doesn&#39;t say it is not working.  It says it is working ... slowly.","body":"<i>&quot;Seems like this part is no longer work with Java 11.&quot;</i> - The warning doesn&#39;t say it is not working.  It says it is working ... slowly."},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1548923371,"post_id":53049346,"comment_id":95720602,"body_markdown":"Yes, but those code is no longer works with Java 11.","body":"Yes, but those code is no longer works with Java 11."}],"answers":[{"comments":[{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":1,"creation_date":1548923553,"post_id":54451212,"comment_id":95720712,"body_markdown":"Thanks. However, the multi-release jar is not a must. I don&#39;t need it so I don&#39;t pack it as multi-release. Why log4j2 just can&#39;t check is the required class is available and proceed if it is? What the point to rely on the manifest? That could be wrong configured or misleading. Seem like log4j2 bug to me.","body":"Thanks. However, the multi-release jar is not a must. I don&#39;t need it so I don&#39;t pack it as multi-release. Why log4j2 just can&#39;t check is the required class is available and proceed if it is? What the point to rely on the manifest? That could be wrong configured or misleading. Seem like log4j2 bug to me."},{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1548946973,"post_id":54451212,"comment_id":95734831,"body_markdown":"You are right that it is not a must. If you don&#39;t care that the performance of your application will be impacted and can live with the warning then there is no problem. The point of relying on the manifest is that is the standard way libraries are supposed to support multiple Java versions from Java 9 on. If you don&#39;t like the way it works I am afraid you will have to take that up with the OpenJDK folks. Using other methods to determine the correct implementation to use would have caused other problems as having classes built for multiple java versions on the classpath can cause tools to fail.","body":"You are right that it is not a must. If you don&#39;t care that the performance of your application will be impacted and can live with the warning then there is no problem. The point of relying on the manifest is that is the standard way libraries are supposed to support multiple Java versions from Java 9 on. If you don&#39;t like the way it works I am afraid you will have to take that up with the OpenJDK folks. Using other methods to determine the correct implementation to use would have caused other problems as having classes built for multiple java versions on the classpath can cause tools to fail."},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":0,"creation_date":1548947829,"post_id":54451212,"comment_id":95735405,"body_markdown":"Sorry. I still do not understand the problem. There is System.getProperty(&quot;java.version&quot;) that could be used by log4j2 in runtime. Am I wrong?","body":"Sorry. I still do not understand the problem. There is System.getProperty(&quot;java.version&quot;) that could be used by log4j2 in runtime. Am I wrong?"},{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":1,"creation_date":1548948121,"post_id":54451212,"comment_id":95735629,"body_markdown":"Yes, you are wrong. The StackWalker API can only be compiled with a Java 9+ compiler and will have a class version number for Java 9. The rest of Log4j is compiled for Java 7. If a Java 9 class is located alongside classes targeted for Java 7 many tools will fail when they encounter the class. They won&#39;t fail when they are packaged in the multi-release location since that was invalid prior to Java 9. So the problem has nothing to do with just being able to detect a version.","body":"Yes, you are wrong. The StackWalker API can only be compiled with a Java 9+ compiler and will have a class version number for Java 9. The rest of Log4j is compiled for Java 7. If a Java 9 class is located alongside classes targeted for Java 7 many tools will fail when they encounter the class. They won&#39;t fail when they are packaged in the multi-release location since that was invalid prior to Java 9. So the problem has nothing to do with just being able to detect a version."},{"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"score":3,"creation_date":1548949772,"post_id":54451212,"comment_id":95736723,"body_markdown":"Aha, so log4j2 is packed as multijar... That&#39;s bad news. Maybe it was better and simpler just to porvide different builds for java7+ and for java9+. Just thoughts.","body":"Aha, so log4j2 is packed as multijar... That&#39;s bad news. Maybe it was better and simpler just to porvide different builds for java7+ and for java9+. Just thoughts."},{"owner":{"account_id":2494278,"reputation":5150,"user_id":2171120,"display_name":"mirabilos"},"score":0,"creation_date":1593376858,"post_id":54451212,"comment_id":110752695,"body_markdown":"What does that even mean?","body":"What does that even mean?"},{"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"score":0,"creation_date":1593377236,"post_id":54451212,"comment_id":110752811,"body_markdown":"@mirabilos What does what mean?  Multi-release jar?  See https://www.baeldung.com/java-multi-release-jar for a decent explanation. The formal documentation is at https://openjdk.java.net/jeps/238.","body":"@mirabilos What does what mean?  Multi-release jar?  See <a href=\"https://www.baeldung.com/java-multi-release-jar\" rel=\"nofollow noreferrer\">baeldung.com/java-multi-release-jar</a> for a decent explanation. The formal documentation is at <a href=\"https://openjdk.java.net/jeps/238\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/238</a>."}],"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"comment_count":7,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1548891398,"creation_date":1548891398,"answer_id":54451212,"question_id":53049346,"body_markdown":"If you are getting this message then your application is not setup to use multi-release jars. Log4j supports Java 9+ by using Stackwalker in a version of StackLocator that is located in META-INF/versions/9. Depending on how your application works, you may need to  have Multi-Release set to true in the jar manifest. This is true for Spring Boot jars. Without multi-release support you will use the pre-Java 9 version of StackLocator which tries to use Reflection.getCallerClass(). That class was removed in Java 9. Log4j will fall back to a slower way to calculate stack locations but it will still work. Hence the warning.","title":"Is log4j2 compatible with Java 11?","body":"<p>If you are getting this message then your application is not setup to use multi-release jars. Log4j supports Java 9+ by using Stackwalker in a version of StackLocator that is located in META-INF/versions/9. Depending on how your application works, you may need to  have Multi-Release set to true in the jar manifest. This is true for Spring Boot jars. Without multi-release support you will use the pre-Java 9 version of StackLocator which tries to use Reflection.getCallerClass(). That class was removed in Java 9. Log4j will fall back to a slower way to calculate stack locations but it will still work. Hence the warning.</p>\n"},{"comments":[{"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"score":0,"creation_date":1573043862,"post_id":54713830,"comment_id":103751249,"body_markdown":"This fixed mine. I have `&lt;Root level=&quot;DEBUG&quot;&gt;` in my `log4j2.xml`.","body":"This fixed mine. I have <code>&lt;Root level=&quot;DEBUG&quot;&gt;</code> in my <code>log4j2.xml</code>."},{"owner":{"account_id":14348426,"reputation":131,"user_id":10364676,"display_name":"petarov"},"score":11,"creation_date":1579869697,"post_id":54713830,"comment_id":105920801,"body_markdown":"Works for me as well. Using Gradle, I&#39;ve added `&quot;Multi-Release&quot;: true` to `jar { manifest.attributes`.","body":"Works for me as well. Using Gradle, I&#39;ve added <code>&quot;Multi-Release&quot;: true</code> to <code>jar { manifest.attributes</code>."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":3,"creation_date":1588002127,"post_id":54713830,"comment_id":108725068,"body_markdown":"This fixed my logging problem but created a host of other problems with Jackson in AWS version 1 jars.  After several hours of trying to fix it, I had to roll it back.","body":"This fixed my logging problem but created a host of other problems with Jackson in AWS version 1 jars.  After several hours of trying to fix it, I had to roll it back."},{"owner":{"account_id":483453,"reputation":317,"user_id":898514,"accept_rate":62,"display_name":"KS Kian Seng"},"score":1,"creation_date":1615533987,"post_id":54713830,"comment_id":117725151,"body_markdown":"for gradle i did this\n\njar {\n    manifest {\n        attributes(\n                &quot;Manifest-Version&quot;: &quot;1.0&quot;,\n                &quot;Multi-Release&quot;: true\n        )\n    }\n    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n}","body":"for gradle i did this  jar {     manifest {         attributes(                 &quot;Manifest-Version&quot;: &quot;1.0&quot;,                 &quot;Multi-Release&quot;: true         )     }     from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } } }"},{"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"score":0,"creation_date":1624627335,"post_id":54713830,"comment_id":120417454,"body_markdown":"I placed the &lt;manifestEntries&gt; &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;                      &lt;/manifestEntries&gt; in the assembly plugin and it worked.","body":"I placed the &lt;manifestEntries&gt; &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;                      &lt;/manifestEntries&gt; in the assembly plugin and it worked."},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1643212193,"post_id":54713830,"comment_id":125280374,"body_markdown":"but can you exaplain the reason(why this syntax can fix, and does the warning performance issue goes away?)","body":"but can you exaplain the reason(why this syntax can fix, and does the warning performance issue goes away?)"}],"tags":[],"owner":{"account_id":1391655,"reputation":14169,"user_id":1432281,"display_name":"dadoonet"},"comment_count":6,"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1550249810,"creation_date":1550249810,"answer_id":54713830,"question_id":53049346,"body_markdown":"If someone is using Maven and is having the same issue while assembling a flat jar, here is what I did to fix the same issue:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                        &lt;mainClass&gt;foo.bar.Generate&lt;/mainClass&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe important part is `&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;`.\r\n\r\nNote that the Java code I&#39;m using now to change loggers level is:\r\n\r\n```\r\nConfigurator.setAllLevels(&quot;foo.bar&quot;, Level.DEBUG);\r\n```\r\n","title":"Is log4j2 compatible with Java 11?","body":"<p>If someone is using Maven and is having the same issue while assembling a flat jar, here is what I did to fix the same issue:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                        &lt;mainClass&gt;foo.bar.Generate&lt;/mainClass&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The important part is <code>&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;</code>.</p>\n\n<p>Note that the Java code I'm using now to change loggers level is:</p>\n\n<pre><code>Configurator.setAllLevels(\"foo.bar\", Level.DEBUG);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15853174,"reputation":71,"user_id":11438407,"display_name":"Damien"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1556735220,"creation_date":1556735220,"answer_id":55940859,"question_id":53049346,"body_markdown":"&gt; Seems like this part is no longer work with Java 11.\r\n\r\nI ran into the same problem with programmatically updating LogLevel settings using the LoggerContext after upgrading to JDK 11 from JDK 8. If the ```LogManager.getContext(boolean)``` can&#39;t find the LoggerContext it will create and return a new instance ‚Äî changing that new object will have no effect. Specifying the classloader of Log4j&#39;s LogManager class fixed the issue in our case:\r\n\r\n```\r\nLoggerContext ctx = (LoggerContext) LogManager.getContext(LogManager.class.getClassLoader(), false);\r\n```\r\n","title":"Is log4j2 compatible with Java 11?","body":"<blockquote>\n  <p>Seems like this part is no longer work with Java 11.</p>\n</blockquote>\n\n<p>I ran into the same problem with programmatically updating LogLevel settings using the LoggerContext after upgrading to JDK 11 from JDK 8. If the <code>LogManager.getContext(boolean)</code> can't find the LoggerContext it will create and return a new instance ‚Äî changing that new object will have no effect. Specifying the classloader of Log4j's LogManager class fixed the issue in our case:</p>\n\n<pre><code>LoggerContext ctx = (LoggerContext) LogManager.getContext(LogManager.class.getClassLoader(), false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3017633,"reputation":789,"user_id":2559317,"accept_rate":50,"display_name":"Vortex"},"score":0,"creation_date":1624079886,"post_id":57616897,"comment_id":120265276,"body_markdown":"this is the right answer for java 11. log4j never stops to surprise me.","body":"this is the right answer for java 11. log4j never stops to surprise me."},{"owner":{"account_id":1360923,"reputation":143,"user_id":1298321,"display_name":"daifei4321"},"score":0,"creation_date":1670923283,"post_id":57616897,"comment_id":131979583,"body_markdown":"Thanks a lot! Your code added that into &quot;&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;&quot;, and your code resolved my problem. One other answer which added it to &quot;&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;&quot; does not resolve my problem.","body":"Thanks a lot! Your code added that into &quot;&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;&quot;, and your code resolved my problem. One other answer which added it to &quot;&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;&quot; does not resolve my problem."},{"owner":{"account_id":9609070,"reputation":96,"user_id":8959387,"display_name":"Gordon Tytler"},"score":0,"creation_date":1700511896,"post_id":57616897,"comment_id":136661419,"body_markdown":"I found it was only necessary to add `&lt;archive&gt;&lt;manifestEntries&gt;&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;` to the pom.xml,  after `descriptorRefs`","body":"I found it was only necessary to add <code>&lt;archive&gt;&lt;manifestEntries&gt;&lt;Multi-Release&gt;true&lt;&#47;Multi-Release&zwnj;&#8203;&gt;</code> to the pom.xml,  after <code>descriptorRefs</code>"}],"tags":[],"owner":{"account_id":10370797,"reputation":361,"user_id":7919834,"display_name":"Svante Schubert"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1566507143,"creation_date":1566507143,"answer_id":57616897,"question_id":53049346,"body_markdown":"Log4J2 is of course compatible it uses the [JDK Multi-Release feature][1] or in [more detail][2].\r\n\r\n\r\nBUT...\r\n\r\n1) First, when you are using - like me - the slf4j interface, you need to use a different Maven artefact, see http://logging.apache.org/log4j/2.x/log4j-slf4j-impl/index.html\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-slf4j18-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwhich adds all dependencies as &#39;mvn dependency:tree&#39; reveals:\r\n\r\n    \\- org.apache.logging.log4j:log4j-slf4j18-impl:jar:2.12.1:compile\r\n    [INFO] +- org.slf4j:slf4j-api:jar:1.8.0-alpha2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.12.1:compile\r\n    [INFO] \\- org.apache.logging.log4j:log4j-core:jar:2.12.1:runtime\r\n\r\n2) And second, when you are creating - like me - one single JAR, which includes all dependencies, you need to add the Multi-Release manifest entry as well, see https://issues.apache.org/jira/browse/LOG4J2-2537\r\nor in my project&#39;s [pom.xml][3] and search for\r\n\r\n    &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/238\r\n  [2]: https://blog.codefx.org/tools/multi-release-jars-multiple-java-versions/\r\n  [3]: https://github.com/svanteschubert/en16931-data-extractor/blob/master/en16931-3-reader/pom.xml","title":"Is log4j2 compatible with Java 11?","body":"<p>Log4J2 is of course compatible it uses the <a href=\"https://openjdk.java.net/jeps/238\" rel=\"noreferrer\">JDK Multi-Release feature</a> or in <a href=\"https://blog.codefx.org/tools/multi-release-jars-multiple-java-versions/\" rel=\"noreferrer\">more detail</a>.</p>\n\n<p>BUT...</p>\n\n<p>1) First, when you are using - like me - the slf4j interface, you need to use a different Maven artefact, see <a href=\"http://logging.apache.org/log4j/2.x/log4j-slf4j-impl/index.html\" rel=\"noreferrer\">http://logging.apache.org/log4j/2.x/log4j-slf4j-impl/index.html</a></p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-slf4j18-impl&lt;/artifactId&gt;\n&lt;version&gt;2.12.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>which adds all dependencies as 'mvn dependency:tree' reveals:</p>\n\n<pre><code>\\- org.apache.logging.log4j:log4j-slf4j18-impl:jar:2.12.1:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.8.0-alpha2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.12.1:compile\n[INFO] \\- org.apache.logging.log4j:log4j-core:jar:2.12.1:runtime\n</code></pre>\n\n<p>2) And second, when you are creating - like me - one single JAR, which includes all dependencies, you need to add the Multi-Release manifest entry as well, see <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2537\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-2537</a>\nor in my project's <a href=\"https://github.com/svanteschubert/en16931-data-extractor/blob/master/en16931-3-reader/pom.xml\" rel=\"noreferrer\">pom.xml</a> and search for</p>\n\n<pre><code>&lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2455794,"reputation":1764,"user_id":2141064,"display_name":"Lorinczy Zsigmond"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1583732593,"creation_date":1583732593,"answer_id":60595238,"question_id":53049346,"body_markdown":"This message comes from `org/apache/logging/log4j/util/StackLocator.&lt;classconstructor&gt;` which is part of `log4j2-api.jar` (or `log4j-api-2.x.y.jar` etc).\r\n\r\nYou get this message because some smart guys decided  `sun.reflect.Reflection.getCallerClass` has to be removed from JRE (guess they pulled a page from Herostratus&#39;s book or something). This actually happened in Openjdk11.\r\n\r\nMind you, you shouldn&#39;t get this message if you have a not-too-old version of `log4j2-api.jar`, as it is a [multi-release-jar][1] meaning it contains another implementation of this class for Java9+ (`META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class`) which doesn&#39;t give this message.\r\n\r\nBut, if you use some Helping Product(TM), such as Spring Boot, that has its own classloader, it might not be multi-relase-jar compatible, so it loads the Java8 compatible `StackLocator.class` instead of the Java9+ compatible, and you still get this message.\r\n\r\n  [1]: https://openjdk.java.net/jeps/238","title":"Is log4j2 compatible with Java 11?","body":"<p>This message comes from <code>org/apache/logging/log4j/util/StackLocator.&lt;classconstructor&gt;</code> which is part of <code>log4j2-api.jar</code> (or <code>log4j-api-2.x.y.jar</code> etc).</p>\n\n<p>You get this message because some smart guys decided  <code>sun.reflect.Reflection.getCallerClass</code> has to be removed from JRE (guess they pulled a page from Herostratus's book or something). This actually happened in Openjdk11.</p>\n\n<p>Mind you, you shouldn't get this message if you have a not-too-old version of <code>log4j2-api.jar</code>, as it is a <a href=\"https://openjdk.java.net/jeps/238\" rel=\"noreferrer\">multi-release-jar</a> meaning it contains another implementation of this class for Java9+ (<code>META-INF/versions/9/org/apache/logging/log4j/util/StackLocator.class</code>) which doesn't give this message.</p>\n\n<p>But, if you use some Helping Product(TM), such as Spring Boot, that has its own classloader, it might not be multi-relase-jar compatible, so it loads the Java8 compatible <code>StackLocator.class</code> instead of the Java9+ compatible, and you still get this message.</p>\n"},{"tags":[],"owner":{"account_id":28447087,"reputation":11,"user_id":21765670,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682704234,"creation_date":1682703076,"answer_id":76131961,"question_id":53049346,"body_markdown":"Similar problem with Java 17.  I&#39;ve tried several solutions above (editing pom.xml to include manifestEntries tags, log4j.xml, etc) with no success in creating a runnable JAR from within Eclipse without the error.  The POM for whatever reason would not create the multi-release tag inside the ANT build script.  \r\n\r\nThe workarounds were to either select &quot;Copy required libraries into a sub-folder next to the generated JAR&quot; or, \r\n\r\n&quot;Extract required libraries into generated JAR&quot; and choose the &quot;Save as ANT script&quot; option into the project. Edit the script by adding the Multi-Release attribute to the manifest tag: \r\n\r\n    &lt;manifest&gt;\r\n       ...\r\n       &lt;attribute name=&quot;Multi-Release&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/manifest&gt;\r\n\r\nWithin Eclipse, right-click the updated script and select Run-As ANT-build.  The new runnable JAR worked after that. ","title":"Is log4j2 compatible with Java 11?","body":"<p>Similar problem with Java 17.  I've tried several solutions above (editing pom.xml to include manifestEntries tags, log4j.xml, etc) with no success in creating a runnable JAR from within Eclipse without the error.  The POM for whatever reason would not create the multi-release tag inside the ANT build script.</p>\n<p>The workarounds were to either select &quot;Copy required libraries into a sub-folder next to the generated JAR&quot; or,</p>\n<p>&quot;Extract required libraries into generated JAR&quot; and choose the &quot;Save as ANT script&quot; option into the project. Edit the script by adding the Multi-Release attribute to the manifest tag:</p>\n<pre><code>&lt;manifest&gt;\n   ...\n   &lt;attribute name=&quot;Multi-Release&quot; value=&quot;true&quot;/&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Within Eclipse, right-click the updated script and select Run-As ANT-build.  The new runnable JAR worked after that.</p>\n"}],"owner":{"account_id":9573991,"reputation":11935,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60866,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":54713830,"answer_count":6,"score":76,"last_activity_date":1682704234,"creation_date":1540828635,"question_id":53049346,"body_markdown":"I tried to run my project on the latest Java 11. Everything works, except the specific file logger. Logging works fine on previous Java versions - 10, 9, 8, but not on Java 11.\r\n\r\nDuring server run I see only 1 warning:\r\n\r\n&gt; WARNING: sun.reflect.Reflection.getCallerClass is not supported. This\r\n&gt; will impact performance.\r\n\r\nHere is my configuration:\r\n\r\n    &lt;Configuration&gt;\r\n    \r\n        &lt;Appenders&gt;\r\n    \r\n            &lt;RollingFile name=&quot;postgresDBLog&quot; fileName=&quot;${sys:logs.folder}/postgres.log&quot;\r\n                  filePattern=&quot;${sys:logs.folder}/archive/postgres.log.%d{yyyy-MM-dd}&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;pattern&gt;%d{HH:mm:ss.SSS} - %msg%n&lt;/pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;workersLog&quot; fileName=&quot;${sys:logs.folder}/worker.log&quot;\r\n                         filePattern=&quot;${sys:logs.folder}/archive/worker.log.%d{yyyy-MM-dd}&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;pattern&gt;%d{HH:mm:ss.SSS} - %msg%n&lt;/pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;statsLog&quot; fileName=&quot;${sys:logs.folder}/stats.log&quot;\r\n                         filePattern=&quot;${sys:logs.folder}/archive/stats.log.%d{yyyy-MM-dd}&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n            &lt;RollingFile name=&quot;userLog&quot; fileName=&quot;${sys:logs.folder}/blynk.log&quot;\r\n                         filePattern=&quot;${sys:logs.folder}/archive/blynk.log.%d{yyyy-MM-dd}&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level- %msg%n&lt;/pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;TimeBasedTriggeringPolicy/&gt;\r\n                &lt;/Policies&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n    \r\n            &lt;Logger name=&quot;cc.blynk.server.workers&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;workersLog&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;cc.blynk.server.workers.StatsWorker&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;statsLog&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;cc.blynk.server.db&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;postgresDBLog&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;com.zaxxer.hikari&quot; level=&quot;OFF&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;/Logger&gt;\r\n    \r\n            &lt;Logger name=&quot;org.asynchttpclient.netty.channel&quot; level=&quot;OFF&quot; additivity=&quot;false&quot; /&gt;\r\n    \r\n            &lt;!-- turn off netty errors in debug mode for native library loading\r\n             https://github.com/blynkkk/blynk-server/issues/751 --&gt;\r\n            &lt;Logger name=&quot;io.netty&quot; level=&quot;INFO&quot; additivity=&quot;false&quot; /&gt;\r\n    \r\n            &lt;Root&gt;\r\n                &lt;AppenderRef ref=&quot;userLog&quot;/&gt;\r\n            &lt;/Root&gt;\r\n    \r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nAll loggers, except `userLog` works fine. However, `userLog` is empty.\r\n\r\n    log4j2 version 2.11.1\r\n\r\n    Ubuntu 16.04.5 LTS\r\n\r\n    java version &quot;11.0.1&quot; 2018-10-16 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\r\n\r\n**Update:**\r\n\r\nAdding `level=&quot;info&quot;` to the root level fixes the issue.\r\n\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;userLog&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\nHowever, in my project I was using a code that was setting a log level based on properties file. Here is a code:\r\n\r\n    private static void changeLogLevel(String level) {\r\n        Level newLevel = Level.valueOf(level);\r\n        LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n        Configuration conf = ctx.getConfiguration();\r\n        conf.getLoggerConfig(LogManager.ROOT_LOGGER_NAME).setLevel(newLevel);\r\n        ctx.updateLoggers(conf);\r\n    }\r\n\r\nSeems like this part is no longer work with Java 11.\r\n\r\n","title":"Is log4j2 compatible with Java 11?","body":"<p>I tried to run my project on the latest Java 11. Everything works, except the specific file logger. Logging works fine on previous Java versions - 10, 9, 8, but not on Java 11.</p>\n\n<p>During server run I see only 1 warning:</p>\n\n<blockquote>\n  <p>WARNING: sun.reflect.Reflection.getCallerClass is not supported. This\n  will impact performance.</p>\n</blockquote>\n\n<p>Here is my configuration:</p>\n\n<pre><code>&lt;Configuration&gt;\n\n    &lt;Appenders&gt;\n\n        &lt;RollingFile name=\"postgresDBLog\" fileName=\"${sys:logs.folder}/postgres.log\"\n              filePattern=\"${sys:logs.folder}/archive/postgres.log.%d{yyyy-MM-dd}\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} - %msg%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"workersLog\" fileName=\"${sys:logs.folder}/worker.log\"\n                     filePattern=\"${sys:logs.folder}/archive/worker.log.%d{yyyy-MM-dd}\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} - %msg%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"statsLog\" fileName=\"${sys:logs.folder}/stats.log\"\n                     filePattern=\"${sys:logs.folder}/archive/stats.log.%d{yyyy-MM-dd}\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n        &lt;RollingFile name=\"userLog\" fileName=\"${sys:logs.folder}/blynk.log\"\n                     filePattern=\"${sys:logs.folder}/archive/blynk.log.%d{yyyy-MM-dd}\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level- %msg%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n\n        &lt;Logger name=\"cc.blynk.server.workers\" level=\"debug\" additivity=\"false\"&gt;\n            &lt;appender-ref ref=\"workersLog\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"cc.blynk.server.workers.StatsWorker\" level=\"debug\" additivity=\"false\"&gt;\n            &lt;appender-ref ref=\"statsLog\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"cc.blynk.server.db\" level=\"debug\" additivity=\"false\"&gt;\n            &lt;appender-ref ref=\"postgresDBLog\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"com.zaxxer.hikari\" level=\"OFF\" additivity=\"false\"&gt;\n        &lt;/Logger&gt;\n\n        &lt;Logger name=\"org.asynchttpclient.netty.channel\" level=\"OFF\" additivity=\"false\" /&gt;\n\n        &lt;!-- turn off netty errors in debug mode for native library loading\n         https://github.com/blynkkk/blynk-server/issues/751 --&gt;\n        &lt;Logger name=\"io.netty\" level=\"INFO\" additivity=\"false\" /&gt;\n\n        &lt;Root&gt;\n            &lt;AppenderRef ref=\"userLog\"/&gt;\n        &lt;/Root&gt;\n\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>All loggers, except <code>userLog</code> works fine. However, <code>userLog</code> is empty.</p>\n\n<pre><code>log4j2 version 2.11.1\n\nUbuntu 16.04.5 LTS\n\njava version \"11.0.1\" 2018-10-16 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Adding <code>level=\"info\"</code> to the root level fixes the issue.</p>\n\n<pre><code>    &lt;Root level=\"info\"&gt;\n        &lt;AppenderRef ref=\"userLog\"/&gt;\n    &lt;/Root&gt;\n</code></pre>\n\n<p>However, in my project I was using a code that was setting a log level based on properties file. Here is a code:</p>\n\n<pre><code>private static void changeLogLevel(String level) {\n    Level newLevel = Level.valueOf(level);\n    LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\n    Configuration conf = ctx.getConfiguration();\n    conf.getLoggerConfig(LogManager.ROOT_LOGGER_NAME).setLevel(newLevel);\n    ctx.updateLoggers(conf);\n}\n</code></pre>\n\n<p>Seems like this part is no longer work with Java 11.</p>\n"},{"tags":["java","android","fm-radio"],"answers":[{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384336522,"creation_date":1384336522,"answer_id":19950607,"question_id":19950469,"body_markdown":"The Android device can communicate with the FM transmitter via the USB. See [USB Host Documentation][1].\r\n\r\nAnother alternative is to connect the FM transmitter to a micro-controller, or a ready kit like Arduino, which is also connected to a Wi-Fi or Bluetooth module, then communication would be occurred through that channel.\r\n\r\n\r\n  [1]: http://developer.android.com/guide/topics/connectivity/usb/host.html","title":"Transmit FM via android","body":"<p>The Android device can communicate with the FM transmitter via the USB. See <a href=\"http://developer.android.com/guide/topics/connectivity/usb/host.html\" rel=\"nofollow\">USB Host Documentation</a>.</p>\n\n<p>Another alternative is to connect the FM transmitter to a micro-controller, or a ready kit like Arduino, which is also connected to a Wi-Fi or Bluetooth module, then communication would be occurred through that channel.</p>\n"}],"owner":{"account_id":933648,"reputation":153,"user_id":963005,"accept_rate":25,"display_name":"Asaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1384347249,"answer_count":1,"score":2,"last_activity_date":1682703869,"creation_date":1384336135,"question_id":19950469,"body_markdown":"I want to buy FM transmitter such as &lt;a href=&quot;http://www.ebay.com/itm/New-Portable-Car-FM-Radio-Transmitter-For-iPhone-4-5-Samsung-Galaxy-S-2-3-II-III-/261300615584&quot;&gt;this one&lt;/a&gt;. Is it possible to communicate with the transmitter from Android device using Android API? change freq. etc.\r\n\r\nIf not - Is there any FM hardware that can communicate with android API? \r\nThanks.","title":"Transmit FM via android","body":"<p>I want to buy FM transmitter such as <a href=\"http://www.ebay.com/itm/New-Portable-Car-FM-Radio-Transmitter-For-iPhone-4-5-Samsung-Galaxy-S-2-3-II-III-/261300615584\" rel=\"nofollow\">this one</a>. Is it possible to communicate with the transmitter from Android device using Android API? change freq. etc.</p>\n\n<p>If not - Is there any FM hardware that can communicate with android API? \nThanks.</p>\n"},{"tags":["java","jsp","session","radio-button","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1401005828,"post_id":23848618,"comment_id":36710199,"body_markdown":"Why do you need to set this variable?","body":"Why do you need to set this variable?"},{"owner":{"account_id":3737960,"reputation":109,"user_id":3108460,"accept_rate":25,"display_name":"Abhishek Raj"},"score":0,"creation_date":1401008830,"post_id":23848618,"comment_id":36710871,"body_markdown":"There are set of `questions` like ques1, ques2, ques3 and so on..as given above.  \nSo I need to keep the `answers` in session, so as to evaluate and calculate the marks(how many of them are `right`) at the end based on these `answers`.","body":"There are set of <code>questions</code> like ques1, ques2, ques3 and so on..as given above.   So I need to keep the <code>answers</code> in session, so as to evaluate and calculate the marks(how many of them are <code>right</code>) at the end based on these <code>answers</code>."},{"owner":{"account_id":3737960,"reputation":109,"user_id":3108460,"accept_rate":25,"display_name":"Abhishek Raj"},"score":0,"creation_date":1401009396,"post_id":23848618,"comment_id":36711003,"body_markdown":"I know that I can set these answer values using `getModel()` of `ModelDriven` interface, but I want to set these values on jsp itself.\nI can also use jstl tags **&lt;c:set var=&quot;ans_submit&quot; value=&quot;${param.ans1}&quot; scope=&quot;session&quot;/&gt;**. But it can be set only after submit button is pressed and that too on the next jsp page. `I want to set the value of this variable as soon as one changes the option immediately`.","body":"I know that I can set these answer values using <code>getModel()</code> of <code>ModelDriven</code> interface, but I want to set these values on jsp itself. I can also use jstl tags <b>&lt;c:set var=&quot;ans_submit&quot; value=&quot;${param.ans1}&quot; scope=&quot;session&quot;/&gt;</b>. But it can be set only after submit button is pressed and that too on the next jsp page. <code>I want to set the value of this variable as soon as one changes the option immediately</code>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1401009777,"post_id":23848618,"comment_id":36711095,"body_markdown":"What do you mean by immediately? Do you submit the value as soon as one changes the option?","body":"What do you mean by immediately? Do you submit the value as soon as one changes the option?"},{"owner":{"account_id":3737960,"reputation":109,"user_id":3108460,"accept_rate":25,"display_name":"Abhishek Raj"},"score":0,"creation_date":1401010203,"post_id":23848618,"comment_id":36711199,"body_markdown":"I want to give back button functionality.\nSo when the back button is pressed, the question moves to previous page and when one wants to change the previous answer, he can do this only by changing the option. And This `change of option` should reflect in my session variable.","body":"I want to give back button functionality. So when the back button is pressed, the question moves to previous page and when one wants to change the previous answer, he can do this only by changing the option. And This <code>change of option</code> should reflect in my session variable."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401012025,"creation_date":1401012025,"answer_id":23854112,"question_id":23848618,"body_markdown":"Use a map to populate a radio tag. \r\n\r\n    &lt;s:radio name=&quot;ans1&quot; list=&quot;#{&#39;option1&#39;: &#39;1. &#39;,&#39;option2&#39;: &#39;2. &#39;,&#39;option3&#39;: &#39;3. &#39;,&#39;option4&#39;: &#39;4. &#39;}&quot; /&gt;\r\n\r\nIn the action class you should have a property for `ans1` where the value would be set when you submit the form. This property is local to the action instance which is created every time when you make a new request. So, you need to save the value in the session.\r\n\r\n    session.put(&quot;ans1&quot;, ans1);  \r\n\r\nNow to retrieve this value from session in another action you can initialize the `ans1` property\r\n\r\n    ans1 = (String) session.get(&quot;ans1&quot;);\r\n\r\nor you can preset the value in the radio tag using a `value` attribute.\r\n\r\n    &lt;s:radio name=&quot;ans1&quot; list=&quot;#{&#39;option1&#39;: &#39;1. &#39;,&#39;option2&#39;: &#39;2. &#39;,&#39;option3&#39;: &#39;3. &#39;,&#39;option4&#39;: &#39;4. &#39;}&quot; value=&quot;%{#session.ans1}&quot;/&gt;\r\n","title":"How to assign value of &lt;s:radio&gt; to another variable using &lt;s:set&gt; in struts2","body":"<p>Use a map to populate a radio tag. </p>\n\n<pre><code>&lt;s:radio name=\"ans1\" list=\"#{'option1': '1. ','option2': '2. ','option3': '3. ','option4': '4. '}\" /&gt;\n</code></pre>\n\n<p>In the action class you should have a property for <code>ans1</code> where the value would be set when you submit the form. This property is local to the action instance which is created every time when you make a new request. So, you need to save the value in the session.</p>\n\n<pre><code>session.put(\"ans1\", ans1);  \n</code></pre>\n\n<p>Now to retrieve this value from session in another action you can initialize the <code>ans1</code> property</p>\n\n<pre><code>ans1 = (String) session.get(\"ans1\");\n</code></pre>\n\n<p>or you can preset the value in the radio tag using a <code>value</code> attribute.</p>\n\n<pre><code>&lt;s:radio name=\"ans1\" list=\"#{'option1': '1. ','option2': '2. ','option3': '3. ','option4': '4. '}\" value=\"%{#session.ans1}\"/&gt;\n</code></pre>\n"}],"owner":{"account_id":3737960,"reputation":109,"user_id":3108460,"accept_rate":25,"display_name":"Abhishek Raj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":770,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682703630,"creation_date":1400957999,"question_id":23848618,"body_markdown":"I&#39;m trying to assign the value of radio button `ans1` to another variable `ans_submit`.\r\n\r\n    &lt;s:form action=&quot;ques2&quot; namespace=&quot;/questions&quot; theme=&quot;simple&quot;&gt;\r\n\r\n        Question 1: &lt;s:property value=&quot;#session.ques1.question&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\r\n\r\n    &lt;s:radio list=&quot;#session.ques1.option1&quot; name=&quot;ans1&quot; value=&quot;%{&#39;option1&#39;}&quot; label=&quot;1. &quot;/&gt;&lt;br/&gt;\r\n    &lt;s:radio list=&quot;#session.ques1.option2&quot; name=&quot;ans1&quot; value=&quot;%{&#39;option2&#39;}&quot; label=&quot;2. &quot;/&gt;&lt;br/&gt;\r\n    &lt;s:radio list=&quot;#session.ques1.option3&quot; name=&quot;ans1&quot; value=&quot;%{&#39;option3&#39;}&quot; label=&quot;3. &quot;/&gt;&lt;br/&gt;\r\n    &lt;s:radio list=&quot;#session.ques1.option4&quot; name=&quot;ans1&quot; value=&quot;%{&#39;option4&#39;}&quot; label=&quot;4. &quot;/&gt;&lt;br/&gt;\r\n\r\n        &lt;s:submit name=&quot;submit&quot; value=&quot; Next&quot;/&gt;\r\n    \r\n    &lt;/s:form&gt;\r\n\r\n    &lt;s:set var=&quot;ans_submit&quot; value=&quot;%{#ans1}&quot; scope=&quot;session&quot; /&gt;\r\n    \r\nBut when I retrieve `ans_submit` in action class, it is giving `null`.  \r\nI have to keep `&lt;s:set&gt;` tag outside of `&lt;s:form&gt;` tag. Because there is no variable defined as such in my model.\r\nI don&#39;t want to use javascript!","title":"How to assign value of &lt;s:radio&gt; to another variable using &lt;s:set&gt; in struts2","body":"<p>I'm trying to assign the value of radio button <code>ans1</code> to another variable <code>ans_submit</code>.</p>\n\n<pre><code>&lt;s:form action=\"ques2\" namespace=\"/questions\" theme=\"simple\"&gt;\n\n    Question 1: &lt;s:property value=\"#session.ques1.question\"/&gt;&lt;br/&gt;&lt;br/&gt;\n\n&lt;s:radio list=\"#session.ques1.option1\" name=\"ans1\" value=\"%{'option1'}\" label=\"1. \"/&gt;&lt;br/&gt;\n&lt;s:radio list=\"#session.ques1.option2\" name=\"ans1\" value=\"%{'option2'}\" label=\"2. \"/&gt;&lt;br/&gt;\n&lt;s:radio list=\"#session.ques1.option3\" name=\"ans1\" value=\"%{'option3'}\" label=\"3. \"/&gt;&lt;br/&gt;\n&lt;s:radio list=\"#session.ques1.option4\" name=\"ans1\" value=\"%{'option4'}\" label=\"4. \"/&gt;&lt;br/&gt;\n\n    &lt;s:submit name=\"submit\" value=\" Next\"/&gt;\n\n&lt;/s:form&gt;\n\n&lt;s:set var=\"ans_submit\" value=\"%{#ans1}\" scope=\"session\" /&gt;\n</code></pre>\n\n<p>But when I retrieve <code>ans_submit</code> in action class, it is giving <code>null</code>.<br>\nI have to keep <code>&lt;s:set&gt;</code> tag outside of <code>&lt;s:form&gt;</code> tag. Because there is no variable defined as such in my model.\nI don't want to use javascript!</p>\n"},{"tags":["java","android","fm-radio"],"answers":[{"tags":[],"owner":{"account_id":351236,"reputation":10182,"user_id":687572,"display_name":"Jim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416385761,"creation_date":1416385761,"answer_id":27012110,"question_id":27011688,"body_markdown":"The &quot;radio&quot; on a phone is not the same as &quot;broadcast radio&quot; or what most people simply refer to as &quot;radio&quot;. Radio is band of frequencies that is regulated by different nations for different purposes. Cellular &quot;radio&quot; is actually a similar band as UHF TV, WiFi and Bluetooth (http://en.wikipedia.org/wiki/Cellular_frequencies) These are 800MHz to about 5 GHz.\r\n\r\nAM/FM Radio frequencies are not even close. \r\n\r\nFM operates at about 60-90MHz (http://en.wikipedia.org/wiki/FM_broadcasting)\r\n\r\nAM operates at about 150 - 1600 kHz or 0.15 - 1.6 MHz (http://en.wikipedia.org/wiki/AM_broadcasting) although &quot;short wave radio&quot; operates at lightly higher frequencies.\r\n\r\nIn other words, the &quot;radio&quot; on an Android device (or cellular phone) doesn&#39;t detect the &quot;radio&quot; that you tune into with a car or home stereo/radio system. They both use a form of light called &quot;radio&quot; but it&#39;s like using blue shaded glasses to see red light - it doesn&#39;t work. (Like the old 3D glasses, they are colored so you can only see certain wavelengths.)","title":"Radio app For Android","body":"<p>The \"radio\" on a phone is not the same as \"broadcast radio\" or what most people simply refer to as \"radio\". Radio is band of frequencies that is regulated by different nations for different purposes. Cellular \"radio\" is actually a similar band as UHF TV, WiFi and Bluetooth (<a href=\"http://en.wikipedia.org/wiki/Cellular_frequencies\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Cellular_frequencies</a>) These are 800MHz to about 5 GHz.</p>\n\n<p>AM/FM Radio frequencies are not even close. </p>\n\n<p>FM operates at about 60-90MHz (<a href=\"http://en.wikipedia.org/wiki/FM_broadcasting\" rel=\"nofollow\">http://en.wikipedia.org/wiki/FM_broadcasting</a>)</p>\n\n<p>AM operates at about 150 - 1600 kHz or 0.15 - 1.6 MHz (<a href=\"http://en.wikipedia.org/wiki/AM_broadcasting\" rel=\"nofollow\">http://en.wikipedia.org/wiki/AM_broadcasting</a>) although \"short wave radio\" operates at lightly higher frequencies.</p>\n\n<p>In other words, the \"radio\" on an Android device (or cellular phone) doesn't detect the \"radio\" that you tune into with a car or home stereo/radio system. They both use a form of light called \"radio\" but it's like using blue shaded glasses to see red light - it doesn't work. (Like the old 3D glasses, they are colored so you can only see certain wavelengths.)</p>\n"}],"owner":{"account_id":4967386,"reputation":1,"user_id":3996222,"display_name":"venkatesh waran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1416385898,"answer_count":1,"score":-2,"last_activity_date":1682703487,"creation_date":1416383866,"question_id":27011688,"body_markdown":"Am trying to develop Android application for radio app without streaming process. which means i would like to bring all fm frequency into my app where users can search frequency and can listen to their fav radio. so is it possible to bring radio app into my app ","title":"Radio app For Android","body":"<p>Am trying to develop Android application for radio app without streaming process. which means i would like to bring all fm frequency into my app where users can search frequency and can listen to their fav radio. so is it possible to bring radio app into my app </p>\n"},{"tags":["java","spring","postgresql","spring-boot","jdbctemplate"],"comments":[{"owner":{"account_id":16499925,"reputation":1286,"user_id":11921495,"display_name":"Sanket Singh"},"score":0,"creation_date":1682702879,"post_id":76131901,"comment_id":134262683,"body_markdown":"Could you please add some code snippets to analyse?","body":"Could you please add some code snippets to analyse?"},{"owner":{"account_id":20101747,"reputation":1,"user_id":14740068,"display_name":"qwoke"},"score":0,"creation_date":1682703463,"post_id":76131901,"comment_id":134262789,"body_markdown":"@SanketSingh, added some more info","body":"@SanketSingh, added some more info"}],"owner":{"account_id":20101747,"reputation":1,"user_id":14740068,"display_name":"qwoke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682703441,"creation_date":1682702522,"question_id":76131901,"body_markdown":"I have spring application where I&#39;m using JdbcTemplate to perform sql queries to Postgres. I need to execute several sql statements in a row and some of the statements (randomly) make jdbcTemplate method hangs for about 30 minutes (sql return ~90 rows and executes in DBeaver for 1 sec).\r\n\r\nWhy this happens? Why Connection works fine and jdbcTemplate not?\r\n\r\nI&#39;m using such construction:\r\n\r\n```\r\ntransactionTemplate.executeWithoutResult {\r\n    try {\r\n        jdbcTemplate.execute(sql)\r\n    } catch (ex: Exception) {\r\n        log.error(&quot;...&quot;)\r\n    }\r\n}\r\n```\r\n\r\nAnd exactly the same code, replacing `jdbcTemplate.execute(sql)` with defined Connection works fine\r\n\r\n```\r\nval cur = DriverManager.getConnection(...).createStatement()\r\n\r\ntransactionTemplate.executeWithoutResult {\r\n    try {\r\n        cur.execute(sql)\r\n    } catch (ex: Exception) {\r\n        log.error(&quot;...&quot;)\r\n    }\r\n}\r\n```\r\n\r\nSql is something like `INSERT INTO table SELECT * FROM (select ...) t`\r\n\r\nBy the way, project is written in kotlin","title":"JdbcTemplate.execute or update hangs while simple Connection.createStatement().execute works fine","body":"<p>I have spring application where I'm using JdbcTemplate to perform sql queries to Postgres. I need to execute several sql statements in a row and some of the statements (randomly) make jdbcTemplate method hangs for about 30 minutes (sql return ~90 rows and executes in DBeaver for 1 sec).</p>\n<p>Why this happens? Why Connection works fine and jdbcTemplate not?</p>\n<p>I'm using such construction:</p>\n<pre><code>transactionTemplate.executeWithoutResult {\n    try {\n        jdbcTemplate.execute(sql)\n    } catch (ex: Exception) {\n        log.error(&quot;...&quot;)\n    }\n}\n</code></pre>\n<p>And exactly the same code, replacing <code>jdbcTemplate.execute(sql)</code> with defined Connection works fine</p>\n<pre><code>val cur = DriverManager.getConnection(...).createStatement()\n\ntransactionTemplate.executeWithoutResult {\n    try {\n        cur.execute(sql)\n    } catch (ex: Exception) {\n        log.error(&quot;...&quot;)\n    }\n}\n</code></pre>\n<p>Sql is something like <code>INSERT INTO table SELECT * FROM (select ...) t</code></p>\n<p>By the way, project is written in kotlin</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1682701621,"post_id":76131500,"comment_id":134262429,"body_markdown":"If the data is static, then why have it in the annotation at all? Or why not expose the map as static field on a public class? I&#39;m not sure if annotations are the best way to go here","body":"If the data is static, then why have it in the annotation at all? Or why not expose the map as static field on a public class? I&#39;m not sure if annotations are the best way to go here"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682703064,"creation_date":1682701847,"answer_id":76131818,"question_id":76131500,"body_markdown":"Using Enums with properties might be a viable workaround:\r\n\r\n```\r\npublic enum DataMap {\r\n  EMPTY(Map.of()),\r\n  X(Map.of(&quot;A&quot;, &quot;X1&quot;, &quot;B&quot;, &quot;X2&quot;, &quot;C&quot;, &quot;X3&quot;));\r\n\r\n  private final Map&lt;String, String&gt; map;\r\n  public DataMap(final Map&lt;String, String&gt; map) { this.map = map; }\r\n\r\n  public Map&lt;String, String&gt; getMap() { return map; }\r\n}\r\n\r\n@Data(data = DataMap.X)\r\nprivate String property;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface Data {\r\n    DataMap data() default DataMap.EMPTY;\r\n}\r\n```\r\n\r\nThis has the additional advantage of using immutable maps, so the values can never be changed once created.\r\n\r\n****\r\n\r\nAlternatively, set a plain enum value and use it to look up your map from another map which is keyed with the enum:\r\n\r\n```\r\npublic Map&lt;DataMap, Map&lt;String, String&gt;&gt; dataMaps = Map.ofEntries(\r\n    Map.entry(DataMap.EMPTY, Map.of()),\r\n    Map.entry(DataMap.X, Map.of(&quot;A&quot;, &quot;X1&quot;, &quot;B&quot;, &quot;X2&quot;, &quot;C&quot;, &quot;X3&quot;))\r\n);\r\n\r\npublic enum DataMap {\r\n  EMPTY,\r\n  X;\r\n}\r\n\r\n@Data(data = DataMap.X)\r\nprivate String property;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface Data {\r\n    DataMap data() default DataMap.EMPTY;\r\n}\r\n```","title":"HashMap as Value for custom Annotation","body":"<p>Using Enums with properties might be a viable workaround:</p>\n<pre><code>public enum DataMap {\n  EMPTY(Map.of()),\n  X(Map.of(&quot;A&quot;, &quot;X1&quot;, &quot;B&quot;, &quot;X2&quot;, &quot;C&quot;, &quot;X3&quot;));\n\n  private final Map&lt;String, String&gt; map;\n  public DataMap(final Map&lt;String, String&gt; map) { this.map = map; }\n\n  public Map&lt;String, String&gt; getMap() { return map; }\n}\n\n@Data(data = DataMap.X)\nprivate String property;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Data {\n    DataMap data() default DataMap.EMPTY;\n}\n</code></pre>\n<p>This has the additional advantage of using immutable maps, so the values can never be changed once created.</p>\n<hr />\n<p>Alternatively, set a plain enum value and use it to look up your map from another map which is keyed with the enum:</p>\n<pre><code>public Map&lt;DataMap, Map&lt;String, String&gt;&gt; dataMaps = Map.ofEntries(\n    Map.entry(DataMap.EMPTY, Map.of()),\n    Map.entry(DataMap.X, Map.of(&quot;A&quot;, &quot;X1&quot;, &quot;B&quot;, &quot;X2&quot;, &quot;C&quot;, &quot;X3&quot;))\n);\n\npublic enum DataMap {\n  EMPTY,\n  X;\n}\n\n@Data(data = DataMap.X)\nprivate String property;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Data {\n    DataMap data() default DataMap.EMPTY;\n}\n</code></pre>\n"}],"owner":{"account_id":9147861,"reputation":159,"user_id":6803365,"display_name":"Hans FooBar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76131818,"answer_count":1,"score":1,"last_activity_date":1682703064,"creation_date":1682699068,"question_id":76131500,"body_markdown":"I would like to be able to define a hash map as a parameter value for an annotation because I want to use this hash map within the application. The idea is not to maintain the data multiple times. The data is static and only needs to be adjusted when a new key-value pair is added.\r\n\r\nOf course, the following definition does not work because HashMap is not allowed as a type in an annotation.\r\n\r\n\r\n```java\r\npublic static final HashMap&lt;String, String&gt; dataX = new HashMap&lt;&gt;() {\r\n    {\r\n        put(&quot;A&quot;, &quot;X1&quot;);\r\n        put(&quot;B&quot;, &quot;X2&quot;);\r\n        put(&quot;C&quot;, &quot;X3&quot;);\r\n    };\r\n};\r\n\r\n@Data(data = dataX)\r\nprivate String property;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface Data {\r\n    Map&lt;Integer, String&gt; data() default new HashMap&lt;&gt;();\r\n}\r\n```\r\n\r\nThe only thing I could think of is to mask the data as JSON. \r\n\r\n\r\n```javascript\r\n\r\n@Data(data = &quot;{\\&quot;A\\&quot;: \\&quot;X1\\&quot;, \\&quot;B\\&quot;: \\&quot;X2\\&quot;, \\&quot;C\\&quot;: \\&quot;X3\\&quot;}&quot;)\r\nprivate String property;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface Data {\r\n    String data() default &quot;{}&quot;;\r\n}\r\n```\r\n\r\nDoes anyone have an idea how to solve this elegantly?","title":"HashMap as Value for custom Annotation","body":"<p>I would like to be able to define a hash map as a parameter value for an annotation because I want to use this hash map within the application. The idea is not to maintain the data multiple times. The data is static and only needs to be adjusted when a new key-value pair is added.</p>\n<p>Of course, the following definition does not work because HashMap is not allowed as a type in an annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final HashMap&lt;String, String&gt; dataX = new HashMap&lt;&gt;() {\n    {\n        put(&quot;A&quot;, &quot;X1&quot;);\n        put(&quot;B&quot;, &quot;X2&quot;);\n        put(&quot;C&quot;, &quot;X3&quot;);\n    };\n};\n\n@Data(data = dataX)\nprivate String property;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Data {\n    Map&lt;Integer, String&gt; data() default new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>The only thing I could think of is to mask the data as JSON.</p>\n<pre class=\"lang-js prettyprint-override\"><code>\n@Data(data = &quot;{\\&quot;A\\&quot;: \\&quot;X1\\&quot;, \\&quot;B\\&quot;: \\&quot;X2\\&quot;, \\&quot;C\\&quot;: \\&quot;X3\\&quot;}&quot;)\nprivate String property;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface Data {\n    String data() default &quot;{}&quot;;\n}\n</code></pre>\n<p>Does anyone have an idea how to solve this elegantly?</p>\n"},{"tags":["java","android","opencv"],"owner":{"account_id":21204475,"reputation":11,"user_id":15594412,"display_name":"oscar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682702606,"creation_date":1682702606,"question_id":76131915,"body_markdown":"i am learning to write a object detection app\r\ni want to capture a photo and save in phone when i click on a button\r\n\r\nHowever,when it run to &quot;Utils.matToBitmap(mRgba, newbitmap);&quot;\r\n\r\nthe app crash!why?i do a research that mRgba is CV_8UC4,it should be able to do &quot;matToBitmap&quot;\r\n\r\nhere is my code\r\n``` \r\n\r\npublic void onCameraViewStarted(int width ,int height){\r\n        mRgba=new Mat(height,width, CvType.CV_8UC4);\r\n        \r\n        mGray =new Mat(height,width,CvType.CV_8UC1);\r\n    }\r\n    public void onCameraViewStopped(){\r\n        mRgba.release();\r\n    }\r\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\r\n        mRgba=inputFrame.rgba();\r\n        mGray=inputFrame.gray();\r\n\r\n\r\n        // now call that function\r\n        Mat out=new Mat();\r\n        out=objectDetectorClass.recognizeImage(mRgba);\r\n\r\n        return out;\r\n    }\r\n    public void takePicture(View view) {\r\n        // Create a Bitmap from the camera preview frame\r\n        Bitmap newbitmap = Bitmap.createBitmap(mOpenCvCameraView.getWidth(), mOpenCvCameraView.getHeight(), Bitmap.Config.ARGB_8888);\r\n       Utils.matToBitmap(mRgba, newbitmap);//app crash here\r\n\r\n\r\n\r\n\r\n  // Save the bitmap to the device&#39;s gallery\r\n       MediaStore.Images.Media.insertImage(getContentResolver(), newbitmap, &quot;Image&quot;, &quot;Image captured using Image&quot;);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nThe error code is \r\n```\r\n\r\n\r\n\r\njava.lang.IllegalStateException: Could not execute method for android:onClick\r\n                                                                                                    \tat android.view.View$DeclaredOnClickListener.onClick(View.java:6113)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7259)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7236)\r\n                                                                                                    \tat android.view.View.access$3600(View.java:801)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:27892)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:883)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n```\r\n","title":"how to capture a photo and save in phone using opencv?","body":"<p>i am learning to write a object detection app\ni want to capture a photo and save in phone when i click on a button</p>\n<p>However,when it run to &quot;Utils.matToBitmap(mRgba, newbitmap);&quot;</p>\n<p>the app crash!why?i do a research that mRgba is CV_8UC4,it should be able to do &quot;matToBitmap&quot;</p>\n<p>here is my code</p>\n<pre><code>\npublic void onCameraViewStarted(int width ,int height){\n        mRgba=new Mat(height,width, CvType.CV_8UC4);\n        \n        mGray =new Mat(height,width,CvType.CV_8UC1);\n    }\n    public void onCameraViewStopped(){\n        mRgba.release();\n    }\n    public Mat onCameraFrame(CameraBridgeViewBase.CvCameraViewFrame inputFrame){\n        mRgba=inputFrame.rgba();\n        mGray=inputFrame.gray();\n\n\n        // now call that function\n        Mat out=new Mat();\n        out=objectDetectorClass.recognizeImage(mRgba);\n\n        return out;\n    }\n    public void takePicture(View view) {\n        // Create a Bitmap from the camera preview frame\n        Bitmap newbitmap = Bitmap.createBitmap(mOpenCvCameraView.getWidth(), mOpenCvCameraView.getHeight(), Bitmap.Config.ARGB_8888);\n       Utils.matToBitmap(mRgba, newbitmap);//app crash here\n\n\n\n\n  // Save the bitmap to the device's gallery\n       MediaStore.Images.Media.insertImage(getContentResolver(), newbitmap, &quot;Image&quot;, &quot;Image captured using Image&quot;);\n\n    }\n\n\n\n\n</code></pre>\n<p>The error code is</p>\n<pre><code>\n\n\njava.lang.IllegalStateException: Could not execute method for android:onClick\n                                                                                                        at android.view.View$DeclaredOnClickListener.onClick(View.java:6113)\n                                                                                                        at android.view.View.performClick(View.java:7259)\n                                                                                                        at android.view.View.performClickInternal(View.java:7236)\n                                                                                                        at android.view.View.access$3600(View.java:801)\n                                                                                                        at android.view.View$PerformClick.run(View.java:27892)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:883)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:100)\n</code></pre>\n"},{"tags":["java","algorithm","data-structures","nearest-neighbor","greedy"],"answers":[{"comments":[{"owner":{"account_id":13866774,"reputation":61,"user_id":10011120,"display_name":"&#199;aƒüatay ≈ûen"},"score":0,"creation_date":1589038341,"post_id":61698903,"comment_id":109135824,"body_markdown":"Well i kinda understand but i have an assingmnet and it says implement two different algorithms which are greedy and nearest neighbor algorithm so what is the point here then","body":"Well i kinda understand but i have an assingmnet and it says implement two different algorithms which are greedy and nearest neighbor algorithm so what is the point here then"},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1589044267,"post_id":61698903,"comment_id":109138529,"body_markdown":"I would go to the setter of the assignment and ask clarification!","body":"I would go to the setter of the assignment and ask clarification!"}],"tags":[],"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589036837,"creation_date":1589036837,"answer_id":61698903,"question_id":61698720,"body_markdown":"Check out this link here:\r\nhttps://en.wikipedia.org/wiki/Travelling_salesman_problem\r\nIt gives an in depth description of the problem. There are many different solutions to the TSP, the Nearest Neighbour solution is a Greedy Solution, so these are indeed the same.\r\n","title":"What are the differences between Nearest Neighbor Algorithm and Greedy Algorithm?","body":"<p>Check out this link here:\n<a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Travelling_salesman_problem</a>\nIt gives an in depth description of the problem. There are many different solutions to the TSP, the Nearest Neighbour solution is a Greedy Solution, so these are indeed the same.</p>\n"},{"tags":[],"owner":{"account_id":13866774,"reputation":61,"user_id":10011120,"display_name":"&#199;aƒüatay ≈ûen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601037914,"creation_date":1601037914,"answer_id":64064459,"question_id":61698720,"body_markdown":"Answer is NN Algorithm basically creates segments to closest nodes that it can reach, Greedy is the method of it but it directly takes the node which is the closest to current node. ","title":"What are the differences between Nearest Neighbor Algorithm and Greedy Algorithm?","body":"<p>Answer is NN Algorithm basically creates segments to closest nodes that it can reach, Greedy is the method of it but it directly takes the node which is the closest to current node.</p>\n"}],"owner":{"account_id":13866774,"reputation":61,"user_id":10011120,"display_name":"&#199;aƒüatay ≈ûen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64064459,"answer_count":2,"score":2,"last_activity_date":1682702559,"creation_date":1589036109,"question_id":61698720,"body_markdown":"I&#39;m trying to develop 2 different algorithms for Travelling Salesman Algorithm (TSP) which are Nearest Neighbor and Greedy. I can&#39;t figure out the differences between them while thinking about cities. \r\n\r\nI think they will follow the same way because shortest path between two cities is greedy and the nearest at the same time. which part am i wrong? Can you explain with a few cities example thank you!","title":"What are the differences between Nearest Neighbor Algorithm and Greedy Algorithm?","body":"<p>I'm trying to develop 2 different algorithms for Travelling Salesman Algorithm (TSP) which are Nearest Neighbor and Greedy. I can't figure out the differences between them while thinking about cities. </p>\n\n<p>I think they will follow the same way because shortest path between two cities is greedy and the nearest at the same time. which part am i wrong? Can you explain with a few cities example thank you!</p>\n"},{"tags":["java","parsing","antlr4","lexer","parse-tree"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682702704,"post_id":76130894,"comment_id":134262647,"body_markdown":"Is it only the graphic or is it really parsing that way? Have you verified?","body":"Is it only the graphic or is it really parsing that way? Have you verified?"},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1682707077,"post_id":76130894,"comment_id":134263448,"body_markdown":"`BOOL: &#39;true&#39; | &#39;false&#39;;`. You really should make `true` and `false` as individual tokens because these are keywords. Make `BOOL` and `COLLISION` both parser symbols (a symbol name that begins with a lowercase letter).","body":"<code>BOOL: &#39;true&#39; | &#39;false&#39;;</code>. You really should make <code>true</code> and <code>false</code> as individual tokens because these are keywords. Make <code>BOOL</code> and <code>COLLISION</code> both parser symbols (a symbol name that begins with a lowercase letter)."}],"answers":[{"comments":[{"owner":{"account_id":28446539,"reputation":23,"user_id":21765174,"display_name":"cluelessButTrying"},"score":0,"creation_date":1682704801,"post_id":76131852,"comment_id":134263051,"body_markdown":"Thanks alot jon-hanson, that was exactly the problem, works now!","body":"Thanks alot jon-hanson, that was exactly the problem, works now!"}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682702149,"creation_date":1682702149,"answer_id":76131852,"question_id":76130894,"body_markdown":"The problem is that your `COLLISION` rule is a *lex* rule, but the `true` token in your input is already being tokenised as a `BOOL` token. If you rename the `COLLISION` rule in your grammar to `collision`, like this:\r\n\r\n    move: Movetype collision Attacktype direction moveExtra;\r\n    collision: BOOL;\r\n\r\nThen it becomes a *parse* rule, and the parsing works for your test input:\r\n\r\n    (program (line (statement (assignment la = (moveList (move Path (collision true) ATTACK (direction UP) (moveExtra 5)))) ;)) &lt;EOF&gt;)","title":"ANTLR4 doesnt parse the .g4 file the way I expected","body":"<p>The problem is that your <code>COLLISION</code> rule is a <em>lex</em> rule, but the <code>true</code> token in your input is already being tokenised as a <code>BOOL</code> token. If you rename the <code>COLLISION</code> rule in your grammar to <code>collision</code>, like this:</p>\n<pre><code>move: Movetype collision Attacktype direction moveExtra;\ncollision: BOOL;\n</code></pre>\n<p>Then it becomes a <em>parse</em> rule, and the parsing works for your test input:</p>\n<pre><code>(program (line (statement (assignment la = (moveList (move Path (collision true) ATTACK (direction UP) (moveExtra 5)))) ;)) &lt;EOF&gt;)\n</code></pre>\n"}],"owner":{"account_id":28446539,"reputation":23,"user_id":21765174,"display_name":"cluelessButTrying"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76131852,"answer_count":1,"score":2,"last_activity_date":1682702149,"creation_date":1682694427,"question_id":76130894,"body_markdown":"We are a couple of guys doing a University project, which led us to play around with ANTLR4. We are just trying to figure it out as we go, but have stumbled upon a issue we can‚Äôt seem to fix. \r\n\r\nWe were currently trying to figure out the &quot;moveList&quot; in the grammar, and we have been running a simple test.txt `la = Path true ATTACK UP 5;`.\r\n\r\nCurrently we are working with this .g4 file: \r\n\r\n```\r\ngrammar hess;\r\n\r\nprogram: line* EOF;\r\n\r\ndefineBoard: &#39;BOARD&#39; &#39;(&#39; BOARDPOSITION &#39;)&#39;;\r\n\r\nline: statement | ifBlock | whileBlock | defineBoard;\r\n\r\nstatement: (assignment | functionCall) &#39;;&#39;;\r\n\r\nifBlock: &#39;if&#39; expression block (&#39;else&#39; elseIfBlock);\r\n\r\nelseIfBlock: block | ifBlock;\r\n\r\nwhileBlock: &#39;while&#39; expression block (&#39;else&#39; elseIfBlock);\r\n\r\nassignment: IDENTIFIER &#39;=&#39; moveList | IDENTIFIER &#39;=&#39; expression;\r\n\r\nfunctionCall: IDENTIFIER &#39;(&#39; (expression (&#39;,&#39; expression))? &#39;)&#39;;\r\n\r\nexpression:\r\n\tconstant\t\t\t\t\t\t\t# constantExpression\r\n\t| IDENTIFIER\t\t\t\t\t\t# identifierExpression\r\n\t| &#39;(&#39; expression &#39;)&#39;\t\t\t\t# parenthesizedExpression\r\n\t| &#39;!&#39; expression\t\t\t\t\t# notExpression\r\n\t| expression multOp expression\t\t# multiplicativeExpression\r\n\t| expression addOp expression\t\t# additiveExpression\r\n\t| expression compareOp expression\t# comparisonExpression\r\n\t| expression boolOp expression\t\t# booleanExpression;\r\n\r\nmoveList: move | move moveTail;\r\nmoveTail: &#39;,&#39; move moveTail;\r\nmoveExtra:\r\n\tINTEGER\r\n\t| INTEGER direction INTEGER\r\n\t| direction INTEGER;\r\nmove: Movetype COLLISION Attacktype direction moveExtra;\r\n\r\nIDENTIFIER: [a-zA-Z][a-zA-Z0-9];\r\nconstant:\r\n\tBOARDPOSITION\r\n\t| INTEGER\r\n\t| FLOAT\r\n\t| LETTER\r\n\t| STRING\r\n\t| BOOL\r\n\t| NULL;\r\nBOARDPOSITION: LETTER INTEGER;\r\nINTEGER: [1-9][0-9]* | [0];\r\nFLOAT: [0-9]+ &#39;.&#39; [0-9]+;\r\nSTRING: (&#39;&quot;&#39; ~&#39;&quot;&#39;* &#39;&quot;&#39;) | (&#39;\\&#39;&#39; ~&#39;\\&#39;&#39;* &#39;\\&#39;&#39;);\r\nLETTER: [a-zA-Z];\r\n\r\nBOOL: &#39;true&#39; | &#39;false&#39;;\r\nCOLLISION: BOOL;\r\nNULL: &#39;null&#39;;\r\n\r\nblock: &#39;{&#39; line* &#39;}&#39;;\r\n\r\nWS: [ \\t\\r\\n]+ -&gt; skip;\r\n\r\nmultOp: &#39;*&#39; | &#39;/&#39; | &#39;%&#39;;\r\naddOp: &#39;+&#39; | &#39;-&#39;;\r\nboolOp: &#39;and&#39; | &#39;or&#39; | &#39;xor&#39;;\r\ncompareOp: &#39;==&#39; | &#39;!=&#39; | &#39;&gt;&#39; | &#39;&lt;&#39; | &#39;&gt;=&#39; | &#39;&lt;=&#39;;\r\ndirection: &#39;UP&#39; | &#39;LEFT&#39; | &#39;RIGHT&#39; | &#39;DOWN&#39;;\r\nMovetype: &#39;Direct&#39; | &#39;Path&#39;;\r\nAttacktype: &#39;ATTACK&#39; | &#39;MOVE&#39; | &#39;ATKMOVE&#39;;\r\n```\r\n\r\nOur thought process, regarding the grammar, would be like so:\r\n\r\n`line -&gt; statement -&gt; assigment -&gt; moveList`\r\n\r\nand then\r\n\r\n```\r\n&quot;la&quot; = IDENTIFIER\r\n&quot;Path&quot; = Movetype\r\n&quot;ATTACK&quot; = Attacktype\r\n&quot;UP&quot; = Direction\r\n&quot;5&quot; = INTEGER\r\n```\r\n\r\nWe get the following Parse Tree when we debug/run the .g4 file: [Parse Tree](https://i.stack.imgur.com/r4FG0.png)\r\n\r\nAs you can see in the Parse Tree it says unexpected values, for what in my eyes look like an expected value. \r\n","title":"ANTLR4 doesnt parse the .g4 file the way I expected","body":"<p>We are a couple of guys doing a University project, which led us to play around with ANTLR4. We are just trying to figure it out as we go, but have stumbled upon a issue we can‚Äôt seem to fix.</p>\n<p>We were currently trying to figure out the &quot;moveList&quot; in the grammar, and we have been running a simple test.txt <code>la = Path true ATTACK UP 5;</code>.</p>\n<p>Currently we are working with this .g4 file:</p>\n<pre><code>grammar hess;\n\nprogram: line* EOF;\n\ndefineBoard: 'BOARD' '(' BOARDPOSITION ')';\n\nline: statement | ifBlock | whileBlock | defineBoard;\n\nstatement: (assignment | functionCall) ';';\n\nifBlock: 'if' expression block ('else' elseIfBlock);\n\nelseIfBlock: block | ifBlock;\n\nwhileBlock: 'while' expression block ('else' elseIfBlock);\n\nassignment: IDENTIFIER '=' moveList | IDENTIFIER '=' expression;\n\nfunctionCall: IDENTIFIER '(' (expression (',' expression))? ')';\n\nexpression:\n    constant                            # constantExpression\n    | IDENTIFIER                        # identifierExpression\n    | '(' expression ')'                # parenthesizedExpression\n    | '!' expression                    # notExpression\n    | expression multOp expression      # multiplicativeExpression\n    | expression addOp expression       # additiveExpression\n    | expression compareOp expression   # comparisonExpression\n    | expression boolOp expression      # booleanExpression;\n\nmoveList: move | move moveTail;\nmoveTail: ',' move moveTail;\nmoveExtra:\n    INTEGER\n    | INTEGER direction INTEGER\n    | direction INTEGER;\nmove: Movetype COLLISION Attacktype direction moveExtra;\n\nIDENTIFIER: [a-zA-Z][a-zA-Z0-9];\nconstant:\n    BOARDPOSITION\n    | INTEGER\n    | FLOAT\n    | LETTER\n    | STRING\n    | BOOL\n    | NULL;\nBOARDPOSITION: LETTER INTEGER;\nINTEGER: [1-9][0-9]* | [0];\nFLOAT: [0-9]+ '.' [0-9]+;\nSTRING: ('&quot;' ~'&quot;'* '&quot;') | ('\\'' ~'\\''* '\\'');\nLETTER: [a-zA-Z];\n\nBOOL: 'true' | 'false';\nCOLLISION: BOOL;\nNULL: 'null';\n\nblock: '{' line* '}';\n\nWS: [ \\t\\r\\n]+ -&gt; skip;\n\nmultOp: '*' | '/' | '%';\naddOp: '+' | '-';\nboolOp: 'and' | 'or' | 'xor';\ncompareOp: '==' | '!=' | '&gt;' | '&lt;' | '&gt;=' | '&lt;=';\ndirection: 'UP' | 'LEFT' | 'RIGHT' | 'DOWN';\nMovetype: 'Direct' | 'Path';\nAttacktype: 'ATTACK' | 'MOVE' | 'ATKMOVE';\n</code></pre>\n<p>Our thought process, regarding the grammar, would be like so:</p>\n<p><code>line -&gt; statement -&gt; assigment -&gt; moveList</code></p>\n<p>and then</p>\n<pre><code>&quot;la&quot; = IDENTIFIER\n&quot;Path&quot; = Movetype\n&quot;ATTACK&quot; = Attacktype\n&quot;UP&quot; = Direction\n&quot;5&quot; = INTEGER\n</code></pre>\n<p>We get the following Parse Tree when we debug/run the .g4 file: <a href=\"https://i.stack.imgur.com/r4FG0.png\" rel=\"nofollow noreferrer\">Parse Tree</a></p>\n<p>As you can see in the Parse Tree it says unexpected values, for what in my eyes look like an expected value.</p>\n"},{"tags":["java","configuration","ini"],"answers":[{"comments":[{"owner":{"account_id":390562,"reputation":5376,"user_id":750711,"accept_rate":100,"display_name":"sealz"},"score":0,"creation_date":1313514492,"post_id":7082035,"comment_id":8476393,"body_markdown":"but would this work for a user. For example if I hand someone my app and the config, I want them to just run it, without moving the config file to the proper place.","body":"but would this work for a user. For example if I hand someone my app and the config, I want them to just run it, without moving the config file to the proper place."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1313516206,"post_id":7082035,"comment_id":8476937,"body_markdown":"You would want to include it in your bundle, be it your jar file or zip file or what have you.","body":"You would want to include it in your bundle, be it your jar file or zip file or what have you."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1313518802,"post_id":7082035,"comment_id":8477727,"body_markdown":"In all honesty, I feel @Duffymo has the best answer","body":"In all honesty, I feel @Duffymo has the best answer"}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313514267,"creation_date":1313514267,"answer_id":7082035,"question_id":7081994,"body_markdown":"make an ini folder in your root directory, and put it in there. Then when you start your program, it&#39;s all relative to where you start from.\r\n\r\n    Properties p = new Properties();\r\n    p.load(new FileInputStream(&quot;.\\\\ini\\\\myconfigfile.ini&quot;);\r\n\r\n","title":"Java Config File not specific to directory","body":"<p>make an ini folder in your root directory, and put it in there. Then when you start your program, it's all relative to where you start from.</p>\n\n<pre><code>Properties p = new Properties();\np.load(new FileInputStream(\".\\\\ini\\\\myconfigfile.ini\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313514271,"creation_date":1313514271,"answer_id":7082036,"question_id":7081994,"body_markdown":"Put it in the CLASSPATH and load resource as stream using the class loader.  That&#39;ll always work, even for web apps in WAR files or JARs.","title":"Java Config File not specific to directory","body":"<p>Put it in the CLASSPATH and load resource as stream using the class loader.  That'll always work, even for web apps in WAR files or JARs.</p>\n"},{"comments":[{"owner":{"account_id":390562,"reputation":5376,"user_id":750711,"accept_rate":100,"display_name":"sealz"},"score":0,"creation_date":1313518718,"post_id":7082060,"comment_id":8477708,"body_markdown":"You win due to the tutorial, for some reason I couldn&#39;t find one. Thanks","body":"You win due to the tutorial, for some reason I couldn&#39;t find one. Thanks"}],"tags":[],"owner":{"account_id":292185,"reputation":7185,"user_id":594793,"display_name":"Jon7"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682701650,"creation_date":1313514327,"answer_id":7082060,"question_id":7081994,"body_markdown":"You should put your ini in a resources folder and load them as resources. Here&#39;s an [excellent tutorial](https://www.infoworld.com/article/2077352/smartly-load-your-properties.html) to get you started.","title":"Java Config File not specific to directory","body":"<p>You should put your ini in a resources folder and load them as resources. Here's an <a href=\"https://www.infoworld.com/article/2077352/smartly-load-your-properties.html\" rel=\"nofollow noreferrer\">excellent tutorial</a> to get you started.</p>\n"},{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313514454,"creation_date":1313514454,"answer_id":7082080,"question_id":7081994,"body_markdown":"Have a look at [Apache Commons Configuration][1].\r\nIt is solving many issues around configuration files. It also supports having individual configs for each user what is imho very important for development in a team.\r\n\r\n\r\n  [1]: http://commons.apache.org/configuration/","title":"Java Config File not specific to directory","body":"<p>Have a look at <a href=\"http://commons.apache.org/configuration/\" rel=\"nofollow\">Apache Commons Configuration</a>.\nIt is solving many issues around configuration files. It also supports having individual configs for each user what is imho very important for development in a team.</p>\n"}],"owner":{"account_id":390562,"reputation":5376,"user_id":750711,"accept_rate":100,"display_name":"sealz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7082060,"answer_count":4,"score":0,"last_activity_date":1682701650,"creation_date":1313514073,"question_id":7081994,"body_markdown":"I am using a configuration (.ini) file with my java app. At the moment I am specifically calling the location of the dll like this.\r\n\r\n    Properties p = new Properties();\r\n    p.load(new FileInputStream(&quot;C:\\\\myconfigfile.ini&quot;);\r\n\r\nI would like to have it so the user does not have to put it into a certain directory before the program operates.\r\n\r\nIs there a way to implement this or is this just the best practice to go with.\r\n","title":"Java Config File not specific to directory","body":"<p>I am using a configuration (.ini) file with my java app. At the moment I am specifically calling the location of the dll like this.</p>\n\n<pre><code>Properties p = new Properties();\np.load(new FileInputStream(\"C:\\\\myconfigfile.ini\");\n</code></pre>\n\n<p>I would like to have it so the user does not have to put it into a certain directory before the program operates.</p>\n\n<p>Is there a way to implement this or is this just the best practice to go with.</p>\n"},{"tags":["java","garbage-collection","weak-references"],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1682703393,"post_id":76131795,"comment_id":134262774,"body_markdown":"thanks, actually I was considering that option as well, however, is it possible the result of `#compute` method may differ from objects seen by remapping function? i.e. may `strongReference` contain not the latest version?","body":"thanks, actually I was considering that option as well, however, is it possible the result of <code>#compute</code> method may differ from objects seen by remapping function? i.e. may <code>strongReference</code> contain not the latest version?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1682706114,"post_id":76131795,"comment_id":134263300,"body_markdown":"that &quot;possible&quot;, was actually caught as a real defect in the JVM code [a while ago](https://bugs.openjdk.org/browse/JDK-8212178)","body":"that &quot;possible&quot;, was actually caught as a real defect in the JVM code <a href=\"https://bugs.openjdk.org/browse/JDK-8212178\" rel=\"nofollow noreferrer\">a while ago</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1682706630,"post_id":76131795,"comment_id":134263384,"body_markdown":"@AndreyB.Panfilov in this answer‚Äôs code, the result of the `compute` method will always be in sync with the reference stored in `strongReference`. However, your use of `ConcurrentHashMap` suggests that multiple threads are involved. When other threads update the same key after the `compute` completed, there is no guaranty that this method returns the most recent version. But this is not fixable anyway; even if you make the entire `getCached` method `synchronized`, the return value may become outdated the next nanosecond after returning from `getCached`.","body":"@AndreyB.Panfilov in this answer‚Äôs code, the result of the <code>compute</code> method will always be in sync with the reference stored in <code>strongReference</code>. However, your use of <code>ConcurrentHashMap</code> suggests that multiple threads are involved. When other threads update the same key after the <code>compute</code> completed, there is no guaranty that this method returns the most recent version. But this is not fixable anyway; even if you make the entire <code>getCached</code> method <code>synchronized</code>, the return value may become outdated the next nanosecond after returning from <code>getCached</code>."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1682710437,"post_id":76131795,"comment_id":134264035,"body_markdown":"@Holger Hmmm... according to `ConcurrentMap#compute` default implementation it could call remapping function multiple times, so, upon the return of `#compute` method `strongReference` list may contain multiple entries and the first one (0&#39;s) will be the most outdated.","body":"@Holger Hmmm... according to <code>ConcurrentMap#compute</code> default implementation it could call remapping function multiple times, so, upon the return of <code>#compute</code> method <code>strongReference</code> list may contain multiple entries and the first one (0&#39;s) will be the most outdated."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1682782132,"post_id":76131795,"comment_id":134270983,"body_markdown":"`ConcurrentMap` is the interface which describes the minimum guarantees all implementation must provide. The actual implementation `ConcurrentHashMap` offers stronger guarantees. [It‚Äôs `compute` method states](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)): ‚Äú*The entire method invocation is performed atomically. The supplied function is invoked exactly once per invocation of this method.*‚Äù My previous comment was made under the assumption that you keep using `ConcurrentHashMap`.","body":"<code>ConcurrentMap</code> is the interface which describes the minimum guarantees all implementation must provide. The actual implementation <code>ConcurrentHashMap</code> offers stronger guarantees. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#compute(K,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">It‚Äôs <code>compute</code> method states</a>: ‚Äú<i>The entire method invocation is performed atomically. The supplied function is invoked exactly once per invocation of this method.</i>‚Äù My previous comment was made under the assumption that you keep using <code>ConcurrentHashMap</code>."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1682831911,"post_id":76131795,"comment_id":134275567,"body_markdown":"@Eugene thanks for the link, that really proves even for soft references the busy loop is not a good idea.","body":"@Eugene thanks for the link, that really proves even for soft references the busy loop is not a good idea."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682701617,"creation_date":1682701617,"answer_id":76131795,"question_id":76109525,"body_markdown":"Yes, it‚Äôs possible that your method returns `null`. In principle, when you have code like this\r\n\r\n```java\r\nWeakReference&lt;Object&gt; ref = new WeakReference&lt;&gt;(new Object());\r\nObject o = ref.get();\r\n```\r\n\r\nit‚Äôs already possible that `o` is `null`.\r\n\r\nInstead of creating a loop, you should ensure that there is no phase where the result object is only weakly reachable between the check for an existing object or the creation of a new object and the final return statement.\r\n\r\nOr, in other words, enforce that the object is strongly reachable throughout the operation.\r\n\r\nFor example\r\n\r\n```java\r\npublic V getCached(int id, int version) {\r\n    // do not abuse assertions for argument checking\r\n    if(version &lt; 0) throw new IllegalArgumentException();\r\n\r\n    VAR&lt;V&gt; ref = cache.get(id);\r\n    V storedData = ref == null? null: ref.get();\r\n\r\n    if(storedData != null &amp;&amp; ref.getVersion() &gt;= version) {\r\n        return storedData;\r\n    }\r\n\r\n    List&lt;V&gt; strongReference = new ArrayList&lt;&gt;(1);\r\n\r\n    cache.compute(id, (key, existing) -&gt; {\r\n        V data = existing == null? null: existing.get();\r\n        if(data != null &amp;&amp; existing.getVersion() &gt;= version) {\r\n            strongReference.add(data);\r\n            return existing;\r\n        }\r\n        data = factory.apply(key);\r\n        strongReference.add(data);\r\n        return new WeakVAR(data, key, version);\r\n    });\r\n\r\n    return strongReference.get(0);\r\n}\r\n```\r\n\r\nThe fast path at the beginning does not need additional effort, as the `storedData` variable is already a strong reference, which is consistently used for checking the presence of an old object and returning it.\r\n\r\nThe function passed to the `compute` method must return the weak reference to conform to the map‚Äôs type, hence, it needs an additional storage to keep a strong reference while returning through the `compute` method. The example uses an `ArrayList` but any local object with a reference variable would do.\r\n\r\nOften, a single element array is used for such a purpose, but Java doesn‚Äôt support creating a `V[]` array. In the end, the overhead doesn‚Äôt matter much, as long as the code succeeds in the fast path with the optimistic `get()` often enough.\r\n","title":"Adding WeakReferences into HashMap via #compute - may I get null or not?","body":"<p>Yes, it‚Äôs possible that your method returns <code>null</code>. In principle, when you have code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>WeakReference&lt;Object&gt; ref = new WeakReference&lt;&gt;(new Object());\nObject o = ref.get();\n</code></pre>\n<p>it‚Äôs already possible that <code>o</code> is <code>null</code>.</p>\n<p>Instead of creating a loop, you should ensure that there is no phase where the result object is only weakly reachable between the check for an existing object or the creation of a new object and the final return statement.</p>\n<p>Or, in other words, enforce that the object is strongly reachable throughout the operation.</p>\n<p>For example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public V getCached(int id, int version) {\n    // do not abuse assertions for argument checking\n    if(version &lt; 0) throw new IllegalArgumentException();\n\n    VAR&lt;V&gt; ref = cache.get(id);\n    V storedData = ref == null? null: ref.get();\n\n    if(storedData != null &amp;&amp; ref.getVersion() &gt;= version) {\n        return storedData;\n    }\n\n    List&lt;V&gt; strongReference = new ArrayList&lt;&gt;(1);\n\n    cache.compute(id, (key, existing) -&gt; {\n        V data = existing == null? null: existing.get();\n        if(data != null &amp;&amp; existing.getVersion() &gt;= version) {\n            strongReference.add(data);\n            return existing;\n        }\n        data = factory.apply(key);\n        strongReference.add(data);\n        return new WeakVAR(data, key, version);\n    });\n\n    return strongReference.get(0);\n}\n</code></pre>\n<p>The fast path at the beginning does not need additional effort, as the <code>storedData</code> variable is already a strong reference, which is consistently used for checking the presence of an old object and returning it.</p>\n<p>The function passed to the <code>compute</code> method must return the weak reference to conform to the map‚Äôs type, hence, it needs an additional storage to keep a strong reference while returning through the <code>compute</code> method. The example uses an <code>ArrayList</code> but any local object with a reference variable would do.</p>\n<p>Often, a single element array is used for such a purpose, but Java doesn‚Äôt support creating a <code>V[]</code> array. In the end, the overhead doesn‚Äôt matter much, as long as the code succeeds in the fast path with the optimistic <code>get()</code> often enough.</p>\n"}],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76131795,"answer_count":1,"score":1,"last_activity_date":1682701617,"creation_date":1682503591,"question_id":76109525,"body_markdown":"Let&#39;s say I have following implementation of cache, purposed to associate some data (connection pool in my case) with the latest state/version of another object:\r\n\r\n```\r\npublic class Demo&lt;V&gt; {\r\n\r\n    private final Map&lt;Integer, VAR&lt;V&gt;&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    private final ReferenceQueue&lt;V&gt; refq = new ReferenceQueue&lt;&gt;();\r\n\r\n    private final Function&lt;Integer, V&gt; factory;\r\n\r\n    public Demo(Function&lt;Integer, V&gt; factory) {\r\n        this.factory = factory;\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Demo&lt;Object&gt; demo = new Demo&lt;&gt;(id -&gt; new Object());\r\n\r\n        Object data = demo.getCached(1, 0);\r\n        assert data != null;\r\n\r\n        WeakReference&lt;Object&gt; keyReference = new WeakReference&lt;&gt;(data);\r\n        data = null;\r\n        while (keyReference.get() != null) {\r\n            System.gc();\r\n            Thread.sleep(1_000);\r\n        }\r\n\r\n    }\r\n\r\n    public V getCached(int id, int version) {\r\n        assert version &gt;= 0;\r\n        VAR&lt;V&gt; ref = cache.get(id);\r\n        V storedData = ref == null ? null : ref.get();\r\n        int storedVersion = storedData == null ? -1 : ref.getVersion();\r\n\r\n        if (storedData == null) {\r\n            cache.remove(id, ref);\r\n        }\r\n\r\n        if (storedVersion &gt;= version) {\r\n            return storedData;\r\n        }\r\n\r\n        Supplier&lt;VAR&lt;V&gt;&gt; varFactory = () -&gt; {\r\n            V data = factory.apply(id);\r\n            return new WeakVAR(data, id, version);\r\n        };\r\n\r\n        BiFunction&lt;Integer, VAR&lt;V&gt;, VAR&lt;V&gt;&gt; replaceFunction = (key, existing) -&gt; {\r\n            V data = existing == null ? null : existing.get();\r\n            if (data == null) {\r\n                return varFactory.get();\r\n            }\r\n            if (existing.getVersion() &gt;= version) {\r\n                return existing;\r\n            }\r\n            return varFactory.get();\r\n        };\r\n\r\n        Supplier&lt;V&gt; vFactory = () -&gt; cache.compute(id, replaceFunction).get();\r\n\r\n/*\r\n        V result;\r\n        while ((result = vFactory.get()) == null) {\r\n            // nop\r\n        }\r\n        return result;\r\n*/\r\n\r\n        return vFactory.get();\r\n    }\r\n\r\n\r\n    interface VAR&lt;V&gt; {\r\n\r\n        int getVersion();\r\n\r\n        int getId();\r\n\r\n        V get();\r\n\r\n    }\r\n\r\n    class WeakVAR extends WeakReference&lt;V&gt;\r\n            implements VAR&lt;V&gt; {\r\n\r\n        private final int id;\r\n\r\n        private final int version;\r\n\r\n        public WeakVAR(V referent, int id, int version) {\r\n            super(referent, refq);\r\n            this.id = id;\r\n            this.version = version;\r\n        }\r\n\r\n        @Override\r\n        public int getVersion() {\r\n            return version;\r\n        }\r\n\r\n        @Override\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe question is: is it possible that `public V getCached(int id, int version)` method may return null when dereferencing `WeakReference` returned from `Map#compute`? If so, what is the best way to overcome this issue? Is busy loop a felicitous solution?","title":"Adding WeakReferences into HashMap via #compute - may I get null or not?","body":"<p>Let's say I have following implementation of cache, purposed to associate some data (connection pool in my case) with the latest state/version of another object:</p>\n<pre><code>public class Demo&lt;V&gt; {\n\n    private final Map&lt;Integer, VAR&lt;V&gt;&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\n    private final ReferenceQueue&lt;V&gt; refq = new ReferenceQueue&lt;&gt;();\n\n    private final Function&lt;Integer, V&gt; factory;\n\n    public Demo(Function&lt;Integer, V&gt; factory) {\n        this.factory = factory;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Demo&lt;Object&gt; demo = new Demo&lt;&gt;(id -&gt; new Object());\n\n        Object data = demo.getCached(1, 0);\n        assert data != null;\n\n        WeakReference&lt;Object&gt; keyReference = new WeakReference&lt;&gt;(data);\n        data = null;\n        while (keyReference.get() != null) {\n            System.gc();\n            Thread.sleep(1_000);\n        }\n\n    }\n\n    public V getCached(int id, int version) {\n        assert version &gt;= 0;\n        VAR&lt;V&gt; ref = cache.get(id);\n        V storedData = ref == null ? null : ref.get();\n        int storedVersion = storedData == null ? -1 : ref.getVersion();\n\n        if (storedData == null) {\n            cache.remove(id, ref);\n        }\n\n        if (storedVersion &gt;= version) {\n            return storedData;\n        }\n\n        Supplier&lt;VAR&lt;V&gt;&gt; varFactory = () -&gt; {\n            V data = factory.apply(id);\n            return new WeakVAR(data, id, version);\n        };\n\n        BiFunction&lt;Integer, VAR&lt;V&gt;, VAR&lt;V&gt;&gt; replaceFunction = (key, existing) -&gt; {\n            V data = existing == null ? null : existing.get();\n            if (data == null) {\n                return varFactory.get();\n            }\n            if (existing.getVersion() &gt;= version) {\n                return existing;\n            }\n            return varFactory.get();\n        };\n\n        Supplier&lt;V&gt; vFactory = () -&gt; cache.compute(id, replaceFunction).get();\n\n/*\n        V result;\n        while ((result = vFactory.get()) == null) {\n            // nop\n        }\n        return result;\n*/\n\n        return vFactory.get();\n    }\n\n\n    interface VAR&lt;V&gt; {\n\n        int getVersion();\n\n        int getId();\n\n        V get();\n\n    }\n\n    class WeakVAR extends WeakReference&lt;V&gt;\n            implements VAR&lt;V&gt; {\n\n        private final int id;\n\n        private final int version;\n\n        public WeakVAR(V referent, int id, int version) {\n            super(referent, refq);\n            this.id = id;\n            this.version = version;\n        }\n\n        @Override\n        public int getVersion() {\n            return version;\n        }\n\n        @Override\n        public int getId() {\n            return id;\n        }\n    }\n\n}\n</code></pre>\n<p>The question is: is it possible that <code>public V getCached(int id, int version)</code> method may return null when dereferencing <code>WeakReference</code> returned from <code>Map#compute</code>? If so, what is the best way to overcome this issue? Is busy loop a felicitous solution?</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","spring-framework-beans"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672991705,"post_id":75025944,"comment_id":132401853,"body_markdown":"Why are you even refreshing the context, that is pretty dangerous actually...","body":"Why are you even refreshing the context, that is pretty dangerous actually..."},{"owner":{"account_id":12099367,"reputation":31,"user_id":12734082,"display_name":"FireBreather"},"score":0,"creation_date":1673375977,"post_id":75025944,"comment_id":132483299,"body_markdown":"When our service starts up right after being installed we configure it at run time with things like database configuration. Our beans rely on that configuration and so we start up with dummy beans and swap them out once configuration input is added.","body":"When our service starts up right after being installed we configure it at run time with things like database configuration. Our beans rely on that configuration and so we start up with dummy beans and swap them out once configuration input is added."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673376304,"post_id":75025944,"comment_id":132483390,"body_markdown":"Which seems wrong as you now have doubled the amount of beans. Why isn&#39;t this part of the startup process or regular configuration phase. What is so special about it?","body":"Which seems wrong as you now have doubled the amount of beans. Why isn&#39;t this part of the startup process or regular configuration phase. What is so special about it?"}],"answers":[{"tags":[],"owner":{"account_id":14451450,"reputation":87,"user_id":10438820,"display_name":"sina zarei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682701344,"creation_date":1682701344,"answer_id":76131759,"question_id":75025944,"body_markdown":"I am not sure about Injecting ApplicationContext in that way that you have done,i think it could be error prone; if you want to Inject ApplicationContaxt in your beans, its better to  implements ApplicationContextAware with target bean and let to spring container do that.","title":"Intermittent occurrences of: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available","body":"<p>I am not sure about Injecting ApplicationContext in that way that you have done,i think it could be error prone; if you want to Inject ApplicationContaxt in your beans, its better to  implements ApplicationContextAware with target bean and let to spring container do that.</p>\n"}],"owner":{"account_id":12099367,"reputation":31,"user_id":12734082,"display_name":"FireBreather"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1682701344,"creation_date":1672966881,"question_id":75025944,"body_markdown":"Our application somehow gets into an unusable state very intermittently and in a hard to reproduce fashion. We found it follows a path that uses this code that we think is likely the cause of the issue but aren&#39;t sure why or how to fix it. We don&#39;t see this around specific if statements so it doesn&#39;t seem like it&#39;s going down a different path of code but rather more likely a timing issue. \r\n\r\n    `import org.springframework.context.ApplicationContext;\r\n    import org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\r\n\r\n    ((AnnotationConfigWebApplicationContext) applicationContext).refresh();`\r\n\r\nIt seems like the refresh triggers the following error so the next time we try and go through normal code paths spring is in a bad state. \r\n\r\n    `Unsatisfied dependency expressed through constructor parameter 0; nested exception is     org.springframework.beans.factory.BeanCreationException:Error creating bean with name &#39;MyCodeClass&#39; defined in URL [jar:file:/path/repo-version.jar!/com/mypathtoMyCodeClassImpl.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.cache.annotation.ProxyCachingConfiguration&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available`\r\n    \r\n\r\n\r\nMyCodeClass semi looks like \r\n\r\n    `import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component(&quot;MyCodeClass&quot;)\r\n    public class MyCodeClassImpl implements MyCodeClass, AnotherInterface {\r\n    \r\n        @Autowired\r\n        @Lazy\r\n        private ApplicationContext applicationContext;\r\n    \r\n    ... Other code\r\n    }`\r\n","title":"Intermittent occurrences of: No bean named &#39;org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry&#39; available","body":"<p>Our application somehow gets into an unusable state very intermittently and in a hard to reproduce fashion. We found it follows a path that uses this code that we think is likely the cause of the issue but aren't sure why or how to fix it. We don't see this around specific if statements so it doesn't seem like it's going down a different path of code but rather more likely a timing issue.</p>\n<pre><code>`import org.springframework.context.ApplicationContext;\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\n\n((AnnotationConfigWebApplicationContext) applicationContext).refresh();`\n</code></pre>\n<p>It seems like the refresh triggers the following error so the next time we try and go through normal code paths spring is in a bad state.</p>\n<pre><code>`Unsatisfied dependency expressed through constructor parameter 0; nested exception is     org.springframework.beans.factory.BeanCreationException:Error creating bean with name 'MyCodeClass' defined in URL [jar:file:/path/repo-version.jar!/com/mypathtoMyCodeClassImpl.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.cache.annotation.ProxyCachingConfiguration': Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry' available`\n</code></pre>\n<p>MyCodeClass semi looks like</p>\n<pre><code>`import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.stereotype.Component;\n\n@Component(&quot;MyCodeClass&quot;)\npublic class MyCodeClassImpl implements MyCodeClass, AnotherInterface {\n\n    @Autowired\n    @Lazy\n    private ApplicationContext applicationContext;\n\n... Other code\n}`\n</code></pre>\n"},{"tags":["java","android","gradle","jgit"],"comments":[{"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"score":0,"creation_date":1682700085,"post_id":76126240,"comment_id":134262112,"body_markdown":"This looks incorrect, Android is more strict and thus complains but it is not a good idea to have duplicate classes in different jars. I&#39;d report a bug at https://www.eclipse.org/jgit/, maybe they need to remove some dependency or exclude the transitive dependency on sshd-common or Apache SSHD needs fixing to not include duplicate stuff in sshd-osgi","body":"This looks incorrect, Android is more strict and thus complains but it is not a good idea to have duplicate classes in different jars. I&#39;d report a bug at <a href=\"https://www.eclipse.org/jgit/\" rel=\"nofollow noreferrer\">eclipse.org/jgit</a>, maybe they need to remove some dependency or exclude the transitive dependency on sshd-common or Apache SSHD needs fixing to not include duplicate stuff in sshd-osgi"}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682700488,"creation_date":1682700488,"answer_id":76131661,"question_id":76126240,"body_markdown":"Dependencies of JGit should be adjusted to not contain duplicate classes in different jars.\r\n\r\nAs a workaround you could try to exclude the duplicate transitive dependency on `org.apache.sshd:sshd-common:2.7.0` via the following in `build.gradle`:\r\n\r\n    configurations {\r\n\t    all*.exclude group: &#39;org.apache.sshd&#39;, module: &#39;sshd-common&#39;\r\n    }\r\n\r\n","title":"JGit is causing duplicate classes error out of the box","body":"<p>Dependencies of JGit should be adjusted to not contain duplicate classes in different jars.</p>\n<p>As a workaround you could try to exclude the duplicate transitive dependency on <code>org.apache.sshd:sshd-common:2.7.0</code> via the following in <code>build.gradle</code>:</p>\n<pre><code>configurations {\n    all*.exclude group: 'org.apache.sshd', module: 'sshd-common'\n}\n</code></pre>\n"}],"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682700488,"creation_date":1682655685,"question_id":76126240,"body_markdown":"Attempting to integrate JGit into an Android project and getting lots of duplicate classes ERRORs all coming from JGit transitive dependency:\r\n\r\n\r\nDuplicate class detect shows among others:\r\n\r\n```md\r\n    - org/apache/sshd/common/util/closeable/SequentialCloseable.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/closeable/SimpleCloseable.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/functors/Int2IntFunction.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/functors/UnaryEquator.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/helper/LazyIterablesConcatenator$1.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/helper/LazyIterablesConcatenator.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/helper/LazyMatchingTypeIterable.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/helper/LazyMatchingTypeIterator.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n    - org/apache/sshd/common/util/io/CloseableEmptyInputStream.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\r\n```\r\n\r\nBoth sshd-osgi-2.7.0.jar AND sshd-common-2.7.0.jar are coming from `org.eclipse.jgit:org.eclipse.jgit.ssh.apache` showed here when running `gradle dependencies`:\r\n\r\n```md\r\n    |    +--- org.eclipse.jgit:org.eclipse.jgit.ssh.apache:5.13.1.202206130422-r\r\n    |    |    +--- org.eclipse.jgit:org.eclipse.jgit:5.13.1.202206130422-r (*)\r\n    |    |    +--- org.apache.sshd:sshd-osgi:2.7.0\r\n    |    |    |    +--- org.slf4j:slf4j-api:1.7.30\r\n    |    |    |    \\--- org.slf4j:jcl-over-slf4j:1.7.30\r\n    |    |    |         \\--- org.slf4j:slf4j-api:1.7.30\r\n    |    |    +--- org.apache.sshd:sshd-sftp:2.7.0\r\n    |    |    |    +--- org.apache.sshd:sshd-core:2.7.0\r\n    |    |    |    |    +--- org.apache.sshd:sshd-common:2.7.0\r\n```\r\n\r\nAm I missing something or is this fairly commonly used package actually has duplicate classes in its dependencies that are breaking usage of it within Android platform out of the box??\r\n","title":"JGit is causing duplicate classes error out of the box","body":"<p>Attempting to integrate JGit into an Android project and getting lots of duplicate classes ERRORs all coming from JGit transitive dependency:</p>\n<p>Duplicate class detect shows among others:</p>\n<pre><code>    - org/apache/sshd/common/util/closeable/SequentialCloseable.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/closeable/SimpleCloseable.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/functors/Int2IntFunction.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/functors/UnaryEquator.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/helper/LazyIterablesConcatenator$1.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/helper/LazyIterablesConcatenator.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/helper/LazyMatchingTypeIterable.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/helper/LazyMatchingTypeIterator.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n    - org/apache/sshd/common/util/io/CloseableEmptyInputStream.class is in [sshd-osgi-2.7.0.jar, sshd-common-2.7.0.jar]\n</code></pre>\n<p>Both sshd-osgi-2.7.0.jar AND sshd-common-2.7.0.jar are coming from <code>org.eclipse.jgit:org.eclipse.jgit.ssh.apache</code> showed here when running <code>gradle dependencies</code>:</p>\n<pre><code>    |    +--- org.eclipse.jgit:org.eclipse.jgit.ssh.apache:5.13.1.202206130422-r\n    |    |    +--- org.eclipse.jgit:org.eclipse.jgit:5.13.1.202206130422-r (*)\n    |    |    +--- org.apache.sshd:sshd-osgi:2.7.0\n    |    |    |    +--- org.slf4j:slf4j-api:1.7.30\n    |    |    |    \\--- org.slf4j:jcl-over-slf4j:1.7.30\n    |    |    |         \\--- org.slf4j:slf4j-api:1.7.30\n    |    |    +--- org.apache.sshd:sshd-sftp:2.7.0\n    |    |    |    +--- org.apache.sshd:sshd-core:2.7.0\n    |    |    |    |    +--- org.apache.sshd:sshd-common:2.7.0\n</code></pre>\n<p>Am I missing something or is this fairly commonly used package actually has duplicate classes in its dependencies that are breaking usage of it within Android platform out of the box??</p>\n"},{"tags":["java","security","certificate","code-signing","pki"],"comments":[{"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"score":1,"creation_date":1283840905,"post_id":3655263,"comment_id":3845785,"body_markdown":"You know, dealing with certificates closely (we develop and sell PKI library), I have the same questions and no response. This seems marketing BS, cause as you correctly noticed, key usage is the same and from technical point of view the certificates are the same. Maybe they try to fool some users into buying several different certificates, or issue them directly in applicable format (PKCS#7/PKCS#8, JKS, PKCS#12).","body":"You know, dealing with certificates closely (we develop and sell PKI library), I have the same questions and no response. This seems marketing BS, cause as you correctly noticed, key usage is the same and from technical point of view the certificates are the same. Maybe they try to fool some users into buying several different certificates, or issue them directly in applicable format (PKCS#7/PKCS#8, JKS, PKCS#12)."},{"owner":{"account_id":647863,"reputation":113,"user_id":441024,"display_name":"Daniel Marschall"},"score":0,"creation_date":1283892922,"post_id":3655263,"comment_id":3853660,"body_markdown":"Thank you for your comment. Well, what do you think? Might a CA revoke my certificate if they find out that I also sign JAR software? I am very unsure if it is according to their legal terms, since there are these &quot;products&quot;.","body":"Thank you for your comment. Well, what do you think? Might a CA revoke my certificate if they find out that I also sign JAR software? I am very unsure if it is according to their legal terms, since there are these &quot;products&quot;."},{"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"score":0,"creation_date":1288798589,"post_id":3655263,"comment_id":4397670,"body_markdown":"Sorry for not answering before - your question was not noticed . I am investigating this question again now and for GlobalSign CA there&#39;s no indication in their documents that explicitly prohibits use of say Authenticode certificates for Adobe AIR. It can happen, though, that they treat it as violation of Subscriber Agreement (though there&#39;s no such restriction set there). So I am having this problem myself now (trying to decide if I need to buy another certificates for different signing types) and have no solution.","body":"Sorry for not answering before - your question was not noticed . I am investigating this question again now and for GlobalSign CA there&#39;s no indication in their documents that explicitly prohibits use of say Authenticode certificates for Adobe AIR. It can happen, though, that they treat it as violation of Subscriber Agreement (though there&#39;s no such restriction set there). So I am having this problem myself now (trying to decide if I need to buy another certificates for different signing types) and have no solution."}],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681591863,"creation_date":1337030160,"answer_id":10591180,"question_id":3655263,"body_markdown":"There is no technical difference as you guessed, the certificate provided works for any code signing context (except macOS/iOS which use certificates issued by Apple). The CAs just try to deliver the certificate in a format suitable for the developer environment. For example a JKS file for Java developers signing JAR files, a SPC file (i.e. a DER encoded PKCS#7 certificate) or a PKCS#12 file for Authenticode.\r\n\r\nThe code signing tools often accept various key and certificate formats:\r\n* [signtool][1] can use PKCS#12 keystores and PKV+SPC files for Authenticode signing\r\n* [keytool][2] can use PKCS#12 and JKS keystores for signing JAR files\r\n* [Jsign][3] can use PKCS#12 and JKS keystores, or PKV+SPC files  for Authenticode signing (disclaimer: I&#39;m the author)\r\n* [osslsigncode][4] PKCS#12 keystores or PKV+SPC files\r\n\r\nRegardless of the format used, these tools will produce the same signature for a given file (except for the signing time and the timestamp of course).\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/seccrypto/signtool\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html\r\n  [3]: https://ebourg.github.io/jsign/\r\n  [4]: https://github.com/mtrojnar/osslsigncode","title":"Difference between Authenticode, SPC and Java CodeSign?","body":"<p>There is no technical difference as you guessed, the certificate provided works for any code signing context (except macOS/iOS which use certificates issued by Apple). The CAs just try to deliver the certificate in a format suitable for the developer environment. For example a JKS file for Java developers signing JAR files, a SPC file (i.e. a DER encoded PKCS#7 certificate) or a PKCS#12 file for Authenticode.</p>\n<p>The code signing tools often accept various key and certificate formats:</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/seccrypto/signtool\" rel=\"nofollow noreferrer\">signtool</a> can use PKCS#12 keystores and PKV+SPC files for Authenticode signing</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/keytool.html\" rel=\"nofollow noreferrer\">keytool</a> can use PKCS#12 and JKS keystores for signing JAR files</li>\n<li><a href=\"https://ebourg.github.io/jsign/\" rel=\"nofollow noreferrer\">Jsign</a> can use PKCS#12 and JKS keystores, or PKV+SPC files  for Authenticode signing (disclaimer: I'm the author)</li>\n<li><a href=\"https://github.com/mtrojnar/osslsigncode\" rel=\"nofollow noreferrer\">osslsigncode</a> PKCS#12 keystores or PKV+SPC files</li>\n</ul>\n<p>Regardless of the format used, these tools will produce the same signature for a given file (except for the signing time and the timestamp of course).</p>\n"}],"owner":{"account_id":647863,"reputation":113,"user_id":441024,"display_name":"Daniel Marschall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2280,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1682700347,"creation_date":1283824267,"question_id":3655263,"body_markdown":"Most CAs are selling code signing certificates in different &quot;products&quot;, like Verisign or Certum:\r\n\r\n- Microsoft Authenticode - &quot;Allows you to sign EXE, OCX, DLL, bla...&quot;\r\n\r\n- Java CodeSign - &quot;Allows you to sign Java code&quot;\r\n\r\n- Software Publisher Certificate - &quot;Allows you to sign software&quot;\r\n\r\nWell, I am REALLY confused about this. What is the difference between all these products - except the PRICE? I asked Verisign and other CAs a few times since I am curious, but got no answer.\r\n\r\nI got a Authenticode certificate from Certum CA. I enrolled it in Internet Explorer, exported it as PKCS#12 PFX and could sign EXE, DLL, ... as promised.\r\n\r\nNow... I tried to import this PFX into Java with keytool, then I tried to sign a JAR. And it worked!\r\n\r\nAnd then there is the mysterious &quot;Software Publisher certificate&quot; as product. I don&#39;t know what I can/should sign with that... Mac? Linux? Isn&#39;t &quot;Microsoft Authenticode&quot; a Software publisher certificate too? Isn&#39;t a EXE &quot;software&quot;? That really confuses me.\r\n\r\n\r\nSo, my question is now: When I have ordered a Microsoft Authenticode cert, is it then illegal to use it to sign e.g. JAR files or if possible any other content? There seems to be no technical difference between these certificates. All of those products should have the same codesigning EKU-OID &quot;1.3.6.1.5.5.7.3.3&quot;, which does not make any differences between EXE, JAR, Adobe Air and what the hell also exists around there. So, if all &quot;CodeSigning&quot; certificates are technically equal, why do I have to decide then if I want to be a &quot;Java Developer&quot; or &quot;Windows Developer&quot; or &quot;Software Developer&quot;?\r\n\r\nMaybe there are still differences in the certificate? Maybe I get not enough rights in JARs when I use Authenticode-certs for signing?\r\n\r\n(PS: I do not use my software commercially!)","title":"Difference between Authenticode, SPC and Java CodeSign?","body":"<p>Most CAs are selling code signing certificates in different \"products\", like Verisign or Certum:</p>\n\n<ul>\n<li><p>Microsoft Authenticode - \"Allows you to sign EXE, OCX, DLL, bla...\"</p></li>\n<li><p>Java CodeSign - \"Allows you to sign Java code\"</p></li>\n<li><p>Software Publisher Certificate - \"Allows you to sign software\"</p></li>\n</ul>\n\n<p>Well, I am REALLY confused about this. What is the difference between all these products - except the PRICE? I asked Verisign and other CAs a few times since I am curious, but got no answer.</p>\n\n<p>I got a Authenticode certificate from Certum CA. I enrolled it in Internet Explorer, exported it as PKCS#12 PFX and could sign EXE, DLL, ... as promised.</p>\n\n<p>Now... I tried to import this PFX into Java with keytool, then I tried to sign a JAR. And it worked!</p>\n\n<p>And then there is the mysterious \"Software Publisher certificate\" as product. I don't know what I can/should sign with that... Mac? Linux? Isn't \"Microsoft Authenticode\" a Software publisher certificate too? Isn't a EXE \"software\"? That really confuses me.</p>\n\n<p>So, my question is now: When I have ordered a Microsoft Authenticode cert, is it then illegal to use it to sign e.g. JAR files or if possible any other content? There seems to be no technical difference between these certificates. All of those products should have the same codesigning EKU-OID \"1.3.6.1.5.5.7.3.3\", which does not make any differences between EXE, JAR, Adobe Air and what the hell also exists around there. So, if all \"CodeSigning\" certificates are technically equal, why do I have to decide then if I want to be a \"Java Developer\" or \"Windows Developer\" or \"Software Developer\"?</p>\n\n<p>Maybe there are still differences in the certificate? Maybe I get not enough rights in JARs when I use Authenticode-certs for signing?</p>\n\n<p>(PS: I do not use my software commercially!)</p>\n"},{"tags":["java","apache-kafka","avro","confluent-schema-registry","jackson-dataformat-avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682610494,"post_id":76122258,"comment_id":134246386,"body_markdown":"Confluent&#39;s KafkaAvroSerializer already supports Avro ReflectDatum types. You shouldn&#39;t need Jackson. Otherwise, you should use Avro schema to generate a POJO, not the other way around","body":"Confluent&#39;s KafkaAvroSerializer already supports Avro ReflectDatum types. You shouldn&#39;t need Jackson. Otherwise, you should use Avro schema to generate a POJO, not the other way around"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682610539,"post_id":76122258,"comment_id":134246393,"body_markdown":"Also, `writeValueAsBytes` doesn&#39;t encode the data correctly for the Schema Registry","body":"Also, <code>writeValueAsBytes</code> doesn&#39;t encode the data correctly for the Schema Registry"},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":0,"creation_date":1682615944,"post_id":76122258,"comment_id":134247758,"body_markdown":"@OneCricketeer the DTO are already existing. I would like to reuse it. I see no need to create extra avro files and then regenerate the same classes and then need a mapping between DTO and Avro DTOs. You see in the Link how you can generate a Schema during runtime from an Object. That&#39;s the idea what Jackson supports\n\n&quot;Also, writeValueAsBytes doesn&#39;t encode the data correctly for the Schema Registry&quot; --&gt; Thats the message payload from the DTO and not the schema.\n\nFor the schema registry it&#39;s the line before the return. And this ist just a Schema","body":"@OneCricketeer the DTO are already existing. I would like to reuse it. I see no need to create extra avro files and then regenerate the same classes and then need a mapping between DTO and Avro DTOs. You see in the Link how you can generate a Schema during runtime from an Object. That&#39;s the idea what Jackson supports  &quot;Also, writeValueAsBytes doesn&#39;t encode the data correctly for the Schema Registry&quot; --&gt; Thats the message payload from the DTO and not the schema.  For the schema registry it&#39;s the line before the return. And this ist just a Schema"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682617385,"post_id":76122258,"comment_id":134248089,"body_markdown":"Okay fine. Your error is with the HTTP response, anyway. So, what url are you using? What version of the registry client and server?","body":"Okay fine. Your error is with the HTTP response, anyway. So, what url are you using? What version of the registry client and server?"},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":0,"creation_date":1682666135,"post_id":76122258,"comment_id":134254527,"body_markdown":"@OneCricketeer added the information in the Post.","body":"@OneCricketeer added the information in the Post."},{"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"score":1,"creation_date":1682680852,"post_id":76122258,"comment_id":134257532,"body_markdown":"@OneCricketeer ok its a general issue, because json schema also not work to register","body":"@OneCricketeer ok its a general issue, because json schema also not work to register"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1682685111,"post_id":76122258,"comment_id":134258517,"body_markdown":"Can you verify things work without using testcontainers with the same image? And just using kafka-avro-console-producer, for example? Also, do you really need Docker / Integration tests, when there are mocks available?","body":"Can you verify things work without using testcontainers with the same image? And just using kafka-avro-console-producer, for example? Also, do you really need Docker / Integration tests, when there are mocks available?"}],"answers":[{"tags":[],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682700247,"creation_date":1682700247,"answer_id":76131638,"question_id":76122258,"body_markdown":"The env for the Schema Registry Testcontainer was wrong\r\nchanged from\r\n  \r\n\r\n    withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;localhost&quot; );\r\n\r\nto\r\n\r\n \r\n\r\n    withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;cp-schema-registry&quot; );","title":"Error register jackson avro schema with confluent cloud schema registry client","body":"<p>The env for the Schema Registry Testcontainer was wrong\nchanged from</p>\n<pre><code>withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;localhost&quot; );\n</code></pre>\n<p>to</p>\n<pre><code>withEnv( &quot;SCHEMA_REGISTRY_HOST_NAME&quot;, &quot;cp-schema-registry&quot; );\n</code></pre>\n"}],"owner":{"account_id":7568933,"reputation":695,"user_id":5743485,"display_name":"MelleD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76131638,"answer_count":1,"score":1,"last_activity_date":1682700247,"creation_date":1682609878,"question_id":76122258,"body_markdown":"I generate an Avro schema from a POJO using [Jackson][1] and serialize it. This works quite well so far with the help of Jackson.\r\n\r\nHowever, I cannot upload this schema to the schema registry using the Cached Schema registry.\r\n\r\nTest setup is with Testcontainer see [here][2]:\r\n\r\n\r\n\r\n      SchemaRegistryClient schemaRegistryClient( final String url ) {\r\n         return new CachedSchemaRegistryClient( url, 100 );\r\n      }\r\n\r\n     public byte[] serialize( final Optional&lt;Object&gt; root ) {\r\n          if ( root.isEmpty() ) {\r\n             return new byte[0];\r\n          }\r\n          final Object rootObject = root.get();\r\n          final String subjectName = rootObject.getClass().getSimpleName();\r\n    \r\n          try {\r\n             // Jackson Avro Schema\r\n             final AvroSchema schema = getAvroSchema( rootObject );\r\n             final io.confluent.kafka.schemaregistry.avro.AvroSchema avroSchema = new io.confluent.kafka.schemaregistry.avro.AvroSchema( schema.getAvroSchema(),\r\n                   1 );\r\n             schemaRegistryClient.register( subjectName, avroSchema, false );\r\n             return avroMapper.writer( schema ).writeValueAsBytes( rootObject );\r\n          } catch ( final IOException | RuntimeException e ) {\r\n             throw new SerializationException( &quot;Error serializing Avro message&quot;, e );\r\n          } catch ( final RestClientException e ) {\r\n             throw toKafkaException( e );\r\n          }\r\n    \r\n       }\r\n\r\n\r\nError is:\r\n\r\n    java.net.SocketException: Unexpected end of file from server\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:900)\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n    \tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:384)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:561)\r\n    \tat io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:549)\r\n    \tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.registerAndGetId(CachedSchemaRegistryClient.java:290)\r\n    \tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:397)\r\n    \tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:370)\r\n\r\nAnyone know experience with this?\r\n\r\n\r\nEDIT\r\n\r\nClient is 7.3.3 and the Container is confluentinc/cp-schema-registry:7.3.3.\r\n\r\nInteresting is the url. Reused the idea from KafkaContainer, but maybe I need another port?\r\n\r\nFirst try:\r\n\r\n       public String getClientUrl() {\r\n          return String.format( &quot;http://%s:%s&quot;, getHost(), getMappedPort( SCHEMA_REGISTRY_PORT ) );\r\n       }\r\n\r\nError:\r\n\r\n    Caused by: java.net.SocketException: Unexpected end of file from server\r\n\r\nSecond try:\r\n\r\n           public String getClientUrl() {\r\n              return String.format( &quot;http://%s:%s&quot;, getHost(), getExposedPorts().get( 0 ) );\r\n           }\r\n    \r\nError:\r\n\r\n    Caused by: java.net.ConnectException: Connection refused\r\n\r\n\r\nAvro Schema looks like this:\r\n\r\n    {\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;TestDto&quot;,\r\n      &quot;namespace&quot;: &quot;test.model&quot;,\r\n      &quot;fields&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;id&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n              &quot;type&quot;: &quot;long&quot;,\r\n              &quot;java-class&quot;: &quot;java.lang.Long&quot;\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;name&quot;: &quot;labels&quot;,\r\n          &quot;type&quot;: [\r\n            &quot;null&quot;,\r\n            {\r\n              &quot;type&quot;: &quot;array&quot;,\r\n              &quot;items&quot;: &quot;string&quot;,\r\n              &quot;java-class&quot;: &quot;java.util.Set&quot;\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n\r\nI&#39;m a little puzzled as to why all the java types are in there, but I guess that&#39;s another topic.\r\n\r\n\r\nNext try, was to take the confluent user avro example:\r\n\r\n          final io.confluent.kafka.schemaregistry.avro.AvroSchema schema1 = new io.confluent.kafka.schemaregistry.avro.AvroSchema( new Schema.Parser().parse( &quot;{\\n&quot;\r\n                + &quot;  \\&quot;namespace\\&quot;: \\&quot;io.confluent.developer\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;type\\&quot;: \\&quot;record\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;name\\&quot;: \\&quot;User\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;fields\\&quot;: [\\n&quot;\r\n                + &quot;    {\\n&quot;\r\n                + &quot;      \\&quot;name\\&quot;: \\&quot;name\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;type\\&quot;: \\&quot;string\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;avro.java.string\\&quot;: \\&quot;String\\&quot;\\n&quot;\r\n                + &quot;    },\\n&quot;\r\n                + &quot;    {\\n&quot;\r\n                + &quot;      \\&quot;name\\&quot;: \\&quot;age\\&quot;,\\n&quot;\r\n                + &quot;      \\&quot;type\\&quot;: \\&quot;int\\&quot;\\n&quot;\r\n                + &quot;    }\\n&quot;\r\n                + &quot;  ]\\n&quot;\r\n                + &quot;}&quot;));\r\n    schemaRegistryClient.register( subjectName, schema1, false );\r\n\r\nJson Schema register is also not working right now. So looks for a general issue with the schema registry.\r\n\r\nTried with:\r\n\r\n    spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\r\n\r\n    Caused by: java.net.SocketException: Unexpected end of file from server\r\n    \tat java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\r\n\r\n  [1]: https://github.com/FasterXML/jackson-dataformats-binary/tree/master/avro#generating-avro-schema-from-pojo-definition\r\n  [2]: https://stackoverflow.com/questions/76119369/containers-schemaregistry-cant-connect-to-kafka-container/76121640#76121640\r\n\r\n\r\n\r\n\r\n","title":"Error register jackson avro schema with confluent cloud schema registry client","body":"<p>I generate an Avro schema from a POJO using <a href=\"https://github.com/FasterXML/jackson-dataformats-binary/tree/master/avro#generating-avro-schema-from-pojo-definition\" rel=\"nofollow noreferrer\">Jackson</a> and serialize it. This works quite well so far with the help of Jackson.</p>\n<p>However, I cannot upload this schema to the schema registry using the Cached Schema registry.</p>\n<p>Test setup is with Testcontainer see <a href=\"https://stackoverflow.com/questions/76119369/containers-schemaregistry-cant-connect-to-kafka-container/76121640#76121640\">here</a>:</p>\n<pre><code>  SchemaRegistryClient schemaRegistryClient( final String url ) {\n     return new CachedSchemaRegistryClient( url, 100 );\n  }\n\n public byte[] serialize( final Optional&lt;Object&gt; root ) {\n      if ( root.isEmpty() ) {\n         return new byte[0];\n      }\n      final Object rootObject = root.get();\n      final String subjectName = rootObject.getClass().getSimpleName();\n\n      try {\n         // Jackson Avro Schema\n         final AvroSchema schema = getAvroSchema( rootObject );\n         final io.confluent.kafka.schemaregistry.avro.AvroSchema avroSchema = new io.confluent.kafka.schemaregistry.avro.AvroSchema( schema.getAvroSchema(),\n               1 );\n         schemaRegistryClient.register( subjectName, avroSchema, false );\n         return avroMapper.writer( schema ).writeValueAsBytes( rootObject );\n      } catch ( final IOException | RuntimeException e ) {\n         throw new SerializationException( &quot;Error serializing Avro message&quot;, e );\n      } catch ( final RestClientException e ) {\n         throw toKafkaException( e );\n      }\n\n   }\n</code></pre>\n<p>Error is:</p>\n<pre><code>java.net.SocketException: Unexpected end of file from server\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:900)\n    at java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:726)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1688)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:294)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:384)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:561)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.registerSchema(RestService.java:549)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.registerAndGetId(CachedSchemaRegistryClient.java:290)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:397)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.register(CachedSchemaRegistryClient.java:370)\n</code></pre>\n<p>Anyone know experience with this?</p>\n<p>EDIT</p>\n<p>Client is 7.3.3 and the Container is confluentinc/cp-schema-registry:7.3.3.</p>\n<p>Interesting is the url. Reused the idea from KafkaContainer, but maybe I need another port?</p>\n<p>First try:</p>\n<pre><code>   public String getClientUrl() {\n      return String.format( &quot;http://%s:%s&quot;, getHost(), getMappedPort( SCHEMA_REGISTRY_PORT ) );\n   }\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.net.SocketException: Unexpected end of file from server\n</code></pre>\n<p>Second try:</p>\n<pre><code>       public String getClientUrl() {\n          return String.format( &quot;http://%s:%s&quot;, getHost(), getExposedPorts().get( 0 ) );\n       }\n</code></pre>\n<p>Error:</p>\n<pre><code>Caused by: java.net.ConnectException: Connection refused\n</code></pre>\n<p>Avro Schema looks like this:</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;TestDto&quot;,\n  &quot;namespace&quot;: &quot;test.model&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;id&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;type&quot;: &quot;long&quot;,\n          &quot;java-class&quot;: &quot;java.lang.Long&quot;\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;labels&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        {\n          &quot;type&quot;: &quot;array&quot;,\n          &quot;items&quot;: &quot;string&quot;,\n          &quot;java-class&quot;: &quot;java.util.Set&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I'm a little puzzled as to why all the java types are in there, but I guess that's another topic.</p>\n<p>Next try, was to take the confluent user avro example:</p>\n<pre><code>      final io.confluent.kafka.schemaregistry.avro.AvroSchema schema1 = new io.confluent.kafka.schemaregistry.avro.AvroSchema( new Schema.Parser().parse( &quot;{\\n&quot;\n            + &quot;  \\&quot;namespace\\&quot;: \\&quot;io.confluent.developer\\&quot;,\\n&quot;\n            + &quot;  \\&quot;type\\&quot;: \\&quot;record\\&quot;,\\n&quot;\n            + &quot;  \\&quot;name\\&quot;: \\&quot;User\\&quot;,\\n&quot;\n            + &quot;  \\&quot;fields\\&quot;: [\\n&quot;\n            + &quot;    {\\n&quot;\n            + &quot;      \\&quot;name\\&quot;: \\&quot;name\\&quot;,\\n&quot;\n            + &quot;      \\&quot;type\\&quot;: \\&quot;string\\&quot;,\\n&quot;\n            + &quot;      \\&quot;avro.java.string\\&quot;: \\&quot;String\\&quot;\\n&quot;\n            + &quot;    },\\n&quot;\n            + &quot;    {\\n&quot;\n            + &quot;      \\&quot;name\\&quot;: \\&quot;age\\&quot;,\\n&quot;\n            + &quot;      \\&quot;type\\&quot;: \\&quot;int\\&quot;\\n&quot;\n            + &quot;    }\\n&quot;\n            + &quot;  ]\\n&quot;\n            + &quot;}&quot;));\nschemaRegistryClient.register( subjectName, schema1, false );\n</code></pre>\n<p>Json Schema register is also not working right now. So looks for a general issue with the schema registry.</p>\n<p>Tried with:</p>\n<pre><code>spring.kafka.producer.value-serializer=io.confluent.kafka.serializers.json.KafkaJsonSchemaSerializer\n\nCaused by: java.net.SocketException: Unexpected end of file from server\n    at java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:903)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ldap","rbac"],"answers":[{"tags":[],"owner":{"account_id":7994008,"reputation":82,"user_id":6030990,"display_name":"S Mayer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682699811,"creation_date":1682699811,"answer_id":76131588,"question_id":76131098,"body_markdown":"Turns out all I needed to do was call `factory.setLdapAuthoritiesPopulator(ldapAuthoritiesPopulator(contextSource));` within `authenticationManager()`.\r\n\r\nThe POC repo has been updated with [these changes](https://github.com/samayer12/spring-ldap-poc/commit/6deea476c71afe96ca3267317542abcf046ef816), you can clone and run that to see the desired outcome.","title":"LDAP-based RBAC using newer versions of spring-security","body":"<p>Turns out all I needed to do was call <code>factory.setLdapAuthoritiesPopulator(ldapAuthoritiesPopulator(contextSource));</code> within <code>authenticationManager()</code>.</p>\n<p>The POC repo has been updated with <a href=\"https://github.com/samayer12/spring-ldap-poc/commit/6deea476c71afe96ca3267317542abcf046ef816\" rel=\"nofollow noreferrer\">these changes</a>, you can clone and run that to see the desired outcome.</p>\n"}],"owner":{"account_id":7994008,"reputation":82,"user_id":6030990,"display_name":"S Mayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76131588,"answer_count":1,"score":0,"last_activity_date":1682699811,"creation_date":1682695795,"question_id":76131098,"body_markdown":"## Goal\r\n\r\nGiven a `/secure` endpoint that requires an LDAP user to be in the `admin` group, how do I check their granted authorities using more current versions of spring security?\r\n\r\n## Background\r\n\r\nHere&#39;s a [github repo](https://github.com/samayer12/spring-ldap-poc) with a reproducible example of LDAP authentication with an openLDAP container. At tag [pre-upgrade](https://github.com/samayer12/spring-ldap-poc/tree/pre-upgrade), you can authenticate as `unauthorized` but cannot view the `/secure` endpoint. At the current commit on [main](https://github.com/samayer12/spring-ldap-poc/tree/995f0aca09480da4dce85c8262dfb958f0ca9c96), `unauthorized` can authenticate and view `/secure`, which it not desired.\r\n\r\nIn the upgrade, changes to the `ldapAuthoritiesPopulator()` probably cause the issue. You can view the diff between `main` and `pre-upgrade` [here](https://github.com/samayer12/spring-ldap-poc/compare/7bf69c3e..main#diff-8aea6551c0dd1ff124ff9a78088484ed6feb579c988802bcb4c54ab844cc20a3), take a look at `SecurityConfig.java`.\r\n\r\nAn internal method (`getGroupMembershipRoles()`) for `ldapAuthoritiesPopulator()` did the roles check, but after upgrading it looks like that function was [removed](https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/ldap/userdetails/LdapAuthoritiesPopulator.html). _Where should the logic for securing endpoints based upon LDAP group membership go instead?_\r\n\r\n## Related Resources\r\n\r\n* [Document how to publish an AuthenticationManager @Bean without WebSecurityConfigurerAdapter - #11926](https://github.com/spring-projects/spring-security/issues/11926)\r\n* [LDAP Authentication with Embedded server](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication)\r\n* [Spring LDAP Docs - Attribute Access with DirContextAdapter](https://docs.spring.io/spring-ldap/docs/2.3.0.BUILD-SNAPSHOT/reference/html/dirobjectfactory.html)\r\n\r\n\r\n## Authentication Log Output\r\n\r\n* Pre-Upgrade - `authorized` user logs in, followed by `unauthorized` user\r\n\r\n```\r\n10:22:07.156 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event AuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\r\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\r\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\r\n10:23:43.668 [http-nio-8080-exec-8] WARN  org.example.LoggerListener - Authentication event AuthenticationFailureBadCredentialsEvent: unauthorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=65900F1284AA62D158BCA96A22D3744A]; exception: User must be a member of ROLE_ADMIN\r\n```\r\n\r\n* Post-Upgrade - `authorized` user logs in, followed by `unauthorized` user\r\n\r\n```\r\n10:15:24.101 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\r\n10:15:24.102 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\r\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]\r\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]","title":"LDAP-based RBAC using newer versions of spring-security","body":"<h2>Goal</h2>\n<p>Given a <code>/secure</code> endpoint that requires an LDAP user to be in the <code>admin</code> group, how do I check their granted authorities using more current versions of spring security?</p>\n<h2>Background</h2>\n<p>Here's a <a href=\"https://github.com/samayer12/spring-ldap-poc\" rel=\"nofollow noreferrer\">github repo</a> with a reproducible example of LDAP authentication with an openLDAP container. At tag <a href=\"https://github.com/samayer12/spring-ldap-poc/tree/pre-upgrade\" rel=\"nofollow noreferrer\">pre-upgrade</a>, you can authenticate as <code>unauthorized</code> but cannot view the <code>/secure</code> endpoint. At the current commit on <a href=\"https://github.com/samayer12/spring-ldap-poc/tree/995f0aca09480da4dce85c8262dfb958f0ca9c96\" rel=\"nofollow noreferrer\">main</a>, <code>unauthorized</code> can authenticate and view <code>/secure</code>, which it not desired.</p>\n<p>In the upgrade, changes to the <code>ldapAuthoritiesPopulator()</code> probably cause the issue. You can view the diff between <code>main</code> and <code>pre-upgrade</code> <a href=\"https://github.com/samayer12/spring-ldap-poc/compare/7bf69c3e..main#diff-8aea6551c0dd1ff124ff9a78088484ed6feb579c988802bcb4c54ab844cc20a3\" rel=\"nofollow noreferrer\">here</a>, take a look at <code>SecurityConfig.java</code>.</p>\n<p>An internal method (<code>getGroupMembershipRoles()</code>) for <code>ldapAuthoritiesPopulator()</code> did the roles check, but after upgrading it looks like that function was <a href=\"https://docs.spring.io/spring-security/site/docs/3.0.x/apidocs/org/springframework/security/ldap/userdetails/LdapAuthoritiesPopulator.html\" rel=\"nofollow noreferrer\">removed</a>. <em>Where should the logic for securing endpoints based upon LDAP group membership go instead?</em></p>\n<h2>Related Resources</h2>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-security/issues/11926\" rel=\"nofollow noreferrer\">Document how to publish an AuthenticationManager @Bean without WebSecurityConfigurerAdapter - #11926</a></li>\n<li><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter#ldap-authentication\" rel=\"nofollow noreferrer\">LDAP Authentication with Embedded server</a></li>\n<li><a href=\"https://docs.spring.io/spring-ldap/docs/2.3.0.BUILD-SNAPSHOT/reference/html/dirobjectfactory.html\" rel=\"nofollow noreferrer\">Spring LDAP Docs - Attribute Access with DirContextAdapter</a></li>\n</ul>\n<h2>Authentication Log Output</h2>\n<ul>\n<li>Pre-Upgrade - <code>authorized</code> user logs in, followed by <code>unauthorized</code> user</li>\n</ul>\n<pre><code>10:22:07.156 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event AuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\n10:22:07.157 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=A978FE05724BD750548AD8148347D665]\n10:23:43.668 [http-nio-8080-exec-8] WARN  org.example.LoggerListener - Authentication event AuthenticationFailureBadCredentialsEvent: unauthorized; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=65900F1284AA62D158BCA96A22D3744A]; exception: User must be a member of ROLE_ADMIN\n</code></pre>\n<ul>\n<li>Post-Upgrade - <code>authorized</code> user logs in, followed by <code>unauthorized</code> user</li>\n</ul>\n<pre><code>10:15:24.101 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\n10:15:24.102 [http-nio-8080-exec-4] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: authorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=E3CDB4A1CF9B3766A5DB70F9D7C50586]\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event SessionFixationProtectionEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]\n10:25:38.098 [http-nio-8080-exec-3] WARN  org.example.LoggerListener - Authentication event InteractiveAuthenticationSuccessEvent: unauthorized; authorities: []; details: WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=10D2AD100DDFF5CB15FDE5526BE85722]\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-mvc"],"owner":{"account_id":26458049,"reputation":11,"user_id":20100381,"display_name":"LoZTwilight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682699789,"creation_date":1682699789,"question_id":76131583,"body_markdown":"So i am currently doing tests for my controllers starting with the register controller. I want to mock a post that creates a user and sends back the intended response (this is not in the code yet since i hit a brick wall)\r\n\r\nWhenever i run the test it keeps saying :\r\n\r\n```Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.appdiabetic.application.models.Role.getRoleName()&quot; because &quot;role&quot; is null```\r\n\r\nThe code where this is happening is in the UserImpl.java:\r\n```\r\n@Service\r\n@Transactional\r\n@RequiredArgsConstructor\r\npublic class UserImpl implements UserService {\r\n\r\n    private final AuthenticationManager authenticationManager ;\r\n    private final UserRepo userRepo;\r\n    private final RoleRepo roleRepo;\r\n    private final PasswordEncoder passwordEncoder ;\r\n    private final JwtUtilities jwtUtilities ;\r\n\r\n    //some more functions\r\n\r\n    @Override\r\n    public ResponseEntity&lt;?&gt; register(RegisterDto registerDto) {\r\n        if(userRepo.existsByEmail(registerDto.getEmail()))\r\n        { return  new ResponseEntity&lt;&gt;(&quot;email is already taken !&quot;, HttpStatus.SEE_OTHER); }\r\n        else\r\n        { User user = new User();\r\n            user.setEmail(registerDto.getEmail());\r\n            user.setFirstName(registerDto.getFirstName());\r\n            user.setLastName(registerDto.getLastName());\r\n            user.setPassword(passwordEncoder.encode(registerDto.getPassword()));\r\n            //By Default , he/she is a simple user\r\n            Role role = roleRepo.findByRoleName(RoleName.USER);\r\n            user.setRoles(Collections.singletonList(role));\r\n            userRepo.save(user);\r\n            String token = jwtUtilities.generateToken(registerDto.getEmail(),Collections.singletonList(role.getRoleName())); &lt;--- this part is the error\r\n            return new ResponseEntity&lt;&gt;(new BearerToken(token , &quot;Bearer &quot;),HttpStatus.OK);\r\n\r\n        }\r\n     }\r\n```\r\nWhen i change the ```role.getRoleName()``` into ```Collections.singletonList(&quot;USER&quot;))``` It works fine and i get the expected 200 return. But that is because i am manually adding the USER to the List and dont make the request call anymore, therefor the Role role = .. Is obselete.\r\n\r\nNow my question is:  Why is it returning null. Is it because it cant get anything out of a database that it cannot connect to since i dont have a mock DB in place yet (And if so how would i go about it to implement it?)\r\n\r\nThe test is as follows:\r\n```package com.appdiabetic.application.database;\r\n\r\nimport com.appdiabetic.application.Application;\r\nimport com.appdiabetic.application.businessLogic.UserImpl;\r\nimport com.appdiabetic.application.security.JwtAuthenticationFilter;\r\nimport com.appdiabetic.application.security.JwtUtilities;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = Application.class)\r\npublic class registerUserTest{\r\n    @Autowired\r\n    private UserImpl userImpl;\r\n    @MockBean\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    @MockBean\r\n    private JwtUtilities jwtUtilities;\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n    private MockMvc mockMvc;\r\n    @Before\r\n    public void setUp() {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    }\r\n    @Test\r\n    public void createEmployeeAPI() throws Exception\r\n    {\r\n        mockMvc.perform( MockMvcRequestBuilders\r\n                        .post(&quot;/api/user/register&quot;)\r\n                        .content(&quot;{\\&quot;email\\&quot;: \\&quot;mockFirstName@name.com\\&quot;,\\&quot;password\\&quot;: \\&quot;mockPassword\\&quot;}&quot;)\r\n                        .contentType(MediaType.APPLICATION_JSON)\r\n                        .accept(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isOk());\r\n    }\r\n\r\n}\r\n```","title":"Issue with testing SpringBoot mockMvc for user authentication, the &quot;role&quot; keeps returning null","body":"<p>So i am currently doing tests for my controllers starting with the register controller. I want to mock a post that creates a user and sends back the intended response (this is not in the code yet since i hit a brick wall)</p>\n<p>Whenever i run the test it keeps saying :</p>\n<p><code>Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;com.appdiabetic.application.models.Role.getRoleName()&quot; because &quot;role&quot; is null</code></p>\n<p>The code where this is happening is in the UserImpl.java:</p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class UserImpl implements UserService {\n\n    private final AuthenticationManager authenticationManager ;\n    private final UserRepo userRepo;\n    private final RoleRepo roleRepo;\n    private final PasswordEncoder passwordEncoder ;\n    private final JwtUtilities jwtUtilities ;\n\n    //some more functions\n\n    @Override\n    public ResponseEntity&lt;?&gt; register(RegisterDto registerDto) {\n        if(userRepo.existsByEmail(registerDto.getEmail()))\n        { return  new ResponseEntity&lt;&gt;(&quot;email is already taken !&quot;, HttpStatus.SEE_OTHER); }\n        else\n        { User user = new User();\n            user.setEmail(registerDto.getEmail());\n            user.setFirstName(registerDto.getFirstName());\n            user.setLastName(registerDto.getLastName());\n            user.setPassword(passwordEncoder.encode(registerDto.getPassword()));\n            //By Default , he/she is a simple user\n            Role role = roleRepo.findByRoleName(RoleName.USER);\n            user.setRoles(Collections.singletonList(role));\n            userRepo.save(user);\n            String token = jwtUtilities.generateToken(registerDto.getEmail(),Collections.singletonList(role.getRoleName())); &lt;--- this part is the error\n            return new ResponseEntity&lt;&gt;(new BearerToken(token , &quot;Bearer &quot;),HttpStatus.OK);\n\n        }\n     }\n</code></pre>\n<p>When i change the <code>role.getRoleName()</code> into <code>Collections.singletonList(&quot;USER&quot;))</code> It works fine and i get the expected 200 return. But that is because i am manually adding the USER to the List and dont make the request call anymore, therefor the Role role = .. Is obselete.</p>\n<p>Now my question is:  Why is it returning null. Is it because it cant get anything out of a database that it cannot connect to since i dont have a mock DB in place yet (And if so how would i go about it to implement it?)</p>\n<p>The test is as follows:</p>\n<pre><code>\nimport com.appdiabetic.application.Application;\nimport com.appdiabetic.application.businessLogic.UserImpl;\nimport com.appdiabetic.application.security.JwtAuthenticationFilter;\nimport com.appdiabetic.application.security.JwtUtilities;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class registerUserTest{\n    @Autowired\n    private UserImpl userImpl;\n    @MockBean\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n    @MockBean\n    private JwtUtilities jwtUtilities;\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n    private MockMvc mockMvc;\n    @Before\n    public void setUp() {\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n    }\n    @Test\n    public void createEmployeeAPI() throws Exception\n    {\n        mockMvc.perform( MockMvcRequestBuilders\n                        .post(&quot;/api/user/register&quot;)\n                        .content(&quot;{\\&quot;email\\&quot;: \\&quot;mockFirstName@name.com\\&quot;,\\&quot;password\\&quot;: \\&quot;mockPassword\\&quot;}&quot;)\n                        .contentType(MediaType.APPLICATION_JSON)\n                        .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json","list"],"answers":[{"comments":[{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":0,"creation_date":1570188491,"post_id":58230772,"comment_id":102844073,"body_markdown":"if it works for you then please accept this as your answer","body":"if it works for you then please accept this as your answer"},{"owner":{"account_id":4466071,"reputation":949,"user_id":3633680,"accept_rate":6,"display_name":"vidalbenjoe"},"score":0,"creation_date":1570192004,"post_id":58230772,"comment_id":102845687,"body_markdown":"It works! Thank you very much @trinadh! You&#39;re a lifesaver, is it also possible to convert the string to object? TIA","body":"It works! Thank you very much @trinadh! You&#39;re a lifesaver, is it also possible to convert the string to object? TIA"}],"tags":[],"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570169186,"creation_date":1570169186,"answer_id":58230772,"question_id":58229124,"body_markdown":"I have taken your source json and tried to convert it as per your specification and this is the solution which is working, pass your source JSON as string and you will get the desired output\r\n\r\n    private String parseJson(String source) {\r\n        JSONArray result = new JSONArray();\r\n        List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\r\n        HashMap&lt;Integer,JSONObject&gt; programs = new HashMap&lt;&gt;();\r\n        try {\r\n            JSONObject jSource = new JSONObject(source);\r\n            JSONArray orderDetails = jSource.getJSONArray(&quot;order_details&quot;);\r\n            if (orderDetails.length() &gt; 0) {\r\n                for (int i = 0; i &lt; orderDetails.length(); i++) {\r\n                    JSONObject jsonObject = orderDetails.getJSONObject(i);\r\n                    JSONObject item = jsonObject.getJSONObject(&quot;item&quot;);\r\n                    JSONObject program = jsonObject.getJSONObject(&quot;program&quot;);\r\n                    int programId = jsonObject.getJSONObject(&quot;program&quot;).getInt(&quot;id&quot;);\r\n                    if (!ids.contains(programId)) {\r\n                        ids.add(programId);\r\n                        program.put(&quot;item&quot;,new JSONArray().put(item));\r\n                        programs.put(programId,program);\r\n                    }else{\r\n                        program.put(&quot;item&quot;,programs.get(programId).getJSONArray(&quot;item&quot;).put(item));\r\n                    }\r\n                }\r\n\r\n                for(int k :programs.keySet()){\r\n                    result.put(programs.get(k));\r\n                }\r\n\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return result.toString();\r\n    }","title":"Group a list of json object by property inside the common Array in Java","body":"<p>I have taken your source json and tried to convert it as per your specification and this is the solution which is working, pass your source JSON as string and you will get the desired output</p>\n\n<pre><code>private String parseJson(String source) {\n    JSONArray result = new JSONArray();\n    List&lt;Integer&gt; ids = new ArrayList&lt;&gt;();\n    HashMap&lt;Integer,JSONObject&gt; programs = new HashMap&lt;&gt;();\n    try {\n        JSONObject jSource = new JSONObject(source);\n        JSONArray orderDetails = jSource.getJSONArray(\"order_details\");\n        if (orderDetails.length() &gt; 0) {\n            for (int i = 0; i &lt; orderDetails.length(); i++) {\n                JSONObject jsonObject = orderDetails.getJSONObject(i);\n                JSONObject item = jsonObject.getJSONObject(\"item\");\n                JSONObject program = jsonObject.getJSONObject(\"program\");\n                int programId = jsonObject.getJSONObject(\"program\").getInt(\"id\");\n                if (!ids.contains(programId)) {\n                    ids.add(programId);\n                    program.put(\"item\",new JSONArray().put(item));\n                    programs.put(programId,program);\n                }else{\n                    program.put(\"item\",programs.get(programId).getJSONArray(\"item\").put(item));\n                }\n            }\n\n            for(int k :programs.keySet()){\n                result.put(programs.get(k));\n            }\n\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682699612,"creation_date":1682699612,"answer_id":76131560,"question_id":58229124,"body_markdown":"JSON library _Josson_ can transform the JSON by a simple expression.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;\\&quot;id\\&quot;: \\&quot;\\&quot;,&quot; +\r\n        &quot;\\&quot;ordered_by\\&quot;: 64,&quot; +\r\n        &quot;\\&quot;order_details\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\r\n        &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\r\n        &quot;        \\&quot;item\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 6,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Copper Gloves\\&quot;,&quot; +\r\n        &quot;            \\&quot;code\\&quot;: \\&quot;51537661-C\\&quot;,&quot; +\r\n        &quot;            \\&quot;enabled\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;generic_name\\&quot;: \\&quot;Mediocre Steel Wallet\\&quot;,&quot; +\r\n        &quot;            \\&quot;price_cents\\&quot;: 200000&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;program\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 12,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\r\n        &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\r\n        &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\r\n        &quot;        \\&quot;required_prescription\\&quot;: true,&quot; +\r\n        &quot;        \\&quot;item\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 7,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Rustic Leather Table\\&quot;,&quot; +\r\n        &quot;            \\&quot;code\\&quot;: \\&quot;74283131-P\\&quot;,&quot; +\r\n        &quot;            \\&quot;enabled\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Bronze Clock\\&quot;,&quot; +\r\n        &quot;            \\&quot;price_cents\\&quot;: 8994&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;program\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 12,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\r\n        &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\r\n        &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\r\n        &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\r\n        &quot;        \\&quot;item\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 116,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Ergonomic Marble Hat\\&quot;,&quot; +\r\n        &quot;            \\&quot;code\\&quot;: \\&quot;98845056-A\\&quot;,&quot; +\r\n        &quot;            \\&quot;enabled\\&quot;: true,&quot; +\r\n        &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Granite Lamp\\&quot;,&quot; +\r\n        &quot;            \\&quot;price_cents\\&quot;: 8267&quot; +\r\n        &quot;        },&quot; +\r\n        &quot;        \\&quot;program\\&quot;: {&quot; +\r\n        &quot;            \\&quot;id\\&quot;: 10,&quot; +\r\n        &quot;            \\&quot;name\\&quot;: \\&quot;Durable Rubber Bag\\&quot;,&quot; +\r\n        &quot;            \\&quot;provider\\&quot;: \\&quot;Aerodynamic Steel Chair\\&quot;,&quot; +\r\n        &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;]}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;order_details.group(program, item).field(program:, **:program)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;item&quot; : [ {\r\n        &quot;id&quot; : 6,\r\n        &quot;name&quot; : &quot;Synergistic Copper Gloves&quot;,\r\n        &quot;code&quot; : &quot;51537661-C&quot;,\r\n        &quot;enabled&quot; : true,\r\n        &quot;generic_name&quot; : &quot;Mediocre Steel Wallet&quot;,\r\n        &quot;price_cents&quot; : 200000\r\n      }, {\r\n        &quot;id&quot; : 7,\r\n        &quot;name&quot; : &quot;Rustic Leather Table&quot;,\r\n        &quot;code&quot; : &quot;74283131-P&quot;,\r\n        &quot;enabled&quot; : true,\r\n        &quot;generic_name&quot; : &quot;Incredible Bronze Clock&quot;,\r\n        &quot;price_cents&quot; : 8994\r\n      } ],\r\n      &quot;id&quot; : 12,\r\n      &quot;name&quot; : &quot;Synergistic Wooden Shoes&quot;,\r\n      &quot;provider&quot; : &quot;Synergistic Rubber Coat&quot;,\r\n      &quot;discount_type&quot; : &quot;fixed&quot;\r\n    }, {\r\n      &quot;item&quot; : [ {\r\n        &quot;id&quot; : 116,\r\n        &quot;name&quot; : &quot;Ergonomic Marble Hat&quot;,\r\n        &quot;code&quot; : &quot;98845056-A&quot;,\r\n        &quot;enabled&quot; : true,\r\n        &quot;generic_name&quot; : &quot;Incredible Granite Lamp&quot;,\r\n        &quot;price_cents&quot; : 8267\r\n      } ],\r\n      &quot;id&quot; : 10,\r\n      &quot;name&quot; : &quot;Durable Rubber Bag&quot;,\r\n      &quot;provider&quot; : &quot;Aerodynamic Steel Chair&quot;,\r\n      &quot;discount_type&quot; : &quot;fixed&quot;\r\n    } ]","title":"Group a list of json object by property inside the common Array in Java","body":"<p>JSON library <em>Josson</em> can transform the JSON by a simple expression.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;\\&quot;id\\&quot;: \\&quot;\\&quot;,&quot; +\n    &quot;\\&quot;ordered_by\\&quot;: 64,&quot; +\n    &quot;\\&quot;order_details\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\n    &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\n    &quot;        \\&quot;item\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 6,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Copper Gloves\\&quot;,&quot; +\n    &quot;            \\&quot;code\\&quot;: \\&quot;51537661-C\\&quot;,&quot; +\n    &quot;            \\&quot;enabled\\&quot;: true,&quot; +\n    &quot;            \\&quot;generic_name\\&quot;: \\&quot;Mediocre Steel Wallet\\&quot;,&quot; +\n    &quot;            \\&quot;price_cents\\&quot;: 200000&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;program\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 12,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\n    &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\n    &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\n    &quot;        \\&quot;required_prescription\\&quot;: true,&quot; +\n    &quot;        \\&quot;item\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 7,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Rustic Leather Table\\&quot;,&quot; +\n    &quot;            \\&quot;code\\&quot;: \\&quot;74283131-P\\&quot;,&quot; +\n    &quot;            \\&quot;enabled\\&quot;: true,&quot; +\n    &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Bronze Clock\\&quot;,&quot; +\n    &quot;            \\&quot;price_cents\\&quot;: 8994&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;program\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 12,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Synergistic Wooden Shoes\\&quot;,&quot; +\n    &quot;            \\&quot;provider\\&quot;: \\&quot;Synergistic Rubber Coat\\&quot;,&quot; +\n    &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;        \\&quot;resource\\&quot;: \\&quot;Product\\&quot;,&quot; +\n    &quot;        \\&quot;required_prescription\\&quot;: false,&quot; +\n    &quot;        \\&quot;item\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 116,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Ergonomic Marble Hat\\&quot;,&quot; +\n    &quot;            \\&quot;code\\&quot;: \\&quot;98845056-A\\&quot;,&quot; +\n    &quot;            \\&quot;enabled\\&quot;: true,&quot; +\n    &quot;            \\&quot;generic_name\\&quot;: \\&quot;Incredible Granite Lamp\\&quot;,&quot; +\n    &quot;            \\&quot;price_cents\\&quot;: 8267&quot; +\n    &quot;        },&quot; +\n    &quot;        \\&quot;program\\&quot;: {&quot; +\n    &quot;            \\&quot;id\\&quot;: 10,&quot; +\n    &quot;            \\&quot;name\\&quot;: \\&quot;Durable Rubber Bag\\&quot;,&quot; +\n    &quot;            \\&quot;provider\\&quot;: \\&quot;Aerodynamic Steel Chair\\&quot;,&quot; +\n    &quot;            \\&quot;discount_type\\&quot;: \\&quot;fixed\\&quot;&quot; +\n    &quot;        }&quot; +\n    &quot;    }&quot; +\n    &quot;]}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;order_details.group(program, item).field(program:, **:program)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;item&quot; : [ {\n    &quot;id&quot; : 6,\n    &quot;name&quot; : &quot;Synergistic Copper Gloves&quot;,\n    &quot;code&quot; : &quot;51537661-C&quot;,\n    &quot;enabled&quot; : true,\n    &quot;generic_name&quot; : &quot;Mediocre Steel Wallet&quot;,\n    &quot;price_cents&quot; : 200000\n  }, {\n    &quot;id&quot; : 7,\n    &quot;name&quot; : &quot;Rustic Leather Table&quot;,\n    &quot;code&quot; : &quot;74283131-P&quot;,\n    &quot;enabled&quot; : true,\n    &quot;generic_name&quot; : &quot;Incredible Bronze Clock&quot;,\n    &quot;price_cents&quot; : 8994\n  } ],\n  &quot;id&quot; : 12,\n  &quot;name&quot; : &quot;Synergistic Wooden Shoes&quot;,\n  &quot;provider&quot; : &quot;Synergistic Rubber Coat&quot;,\n  &quot;discount_type&quot; : &quot;fixed&quot;\n}, {\n  &quot;item&quot; : [ {\n    &quot;id&quot; : 116,\n    &quot;name&quot; : &quot;Ergonomic Marble Hat&quot;,\n    &quot;code&quot; : &quot;98845056-A&quot;,\n    &quot;enabled&quot; : true,\n    &quot;generic_name&quot; : &quot;Incredible Granite Lamp&quot;,\n    &quot;price_cents&quot; : 8267\n  } ],\n  &quot;id&quot; : 10,\n  &quot;name&quot; : &quot;Durable Rubber Bag&quot;,\n  &quot;provider&quot; : &quot;Aerodynamic Steel Chair&quot;,\n  &quot;discount_type&quot; : &quot;fixed&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":4466071,"reputation":949,"user_id":3633680,"accept_rate":6,"display_name":"vidalbenjoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1999,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58230772,"answer_count":2,"score":0,"last_activity_date":1682699612,"creation_date":1570155942,"question_id":58229124,"body_markdown":"I would like to ask if it is possible to group the object by another object inside its common array.\r\n\r\nHere&#39;s the JSON response, I need to group the list of **item** by **program id**.\r\nI&#39;m trying to put it on the HashMap but it didn&#39;t work well. \r\n\r\n\r\n    {\r\n    &quot;id&quot;: &quot;&quot;,\r\n    &quot;ordered_by&quot;: 64,\r\n    &quot;order_details&quot;: [\r\n        {\r\n            &quot;resource&quot;: &quot;Product&quot;,\r\n            &quot;required_prescription&quot;: false,\r\n            &quot;item&quot;: {\r\n                &quot;id&quot;: 6,\r\n                &quot;name&quot;: &quot;Synergistic Copper Gloves&quot;,\r\n                &quot;code&quot;: &quot;51537661-C&quot;,\r\n                &quot;enabled&quot;: true,\r\n                &quot;generic_name&quot;: &quot;Mediocre Steel Wallet&quot;,\r\n                &quot;price_cents&quot;: 200000\r\n            },\r\n            &quot;program&quot;: {\r\n                &quot;id&quot;: 12,\r\n                &quot;name&quot;: &quot;Synergistic Wooden Shoes&quot;,\r\n                &quot;provider&quot;: &quot;Synergistic Rubber Coat&quot;,\r\n                &quot;discount_type&quot;: &quot;fixed&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;resource&quot;: &quot;Product&quot;,\r\n            &quot;required_prescription&quot;: true,\r\n            &quot;item&quot;: {\r\n                &quot;id&quot;: 7,\r\n                &quot;name&quot;: &quot;Rustic Leather Table&quot;,\r\n                &quot;code&quot;: &quot;74283131-P&quot;,\r\n                &quot;enabled&quot;: true,\r\n                &quot;generic_name&quot;: &quot;Incredible Bronze Clock&quot;,\r\n                &quot;price_cents&quot;: 8994\r\n            },\r\n            &quot;program&quot;: {\r\n                &quot;id&quot;: 12,\r\n                &quot;name&quot;: &quot;Synergistic Wooden Shoes&quot;,\r\n                &quot;provider&quot;: &quot;Synergistic Rubber Coat&quot;,\r\n                &quot;discount_type&quot;: &quot;fixed&quot;\r\n            }\r\n        },\r\n        {\r\n            &quot;resource&quot;: &quot;Product&quot;,\r\n            &quot;required_prescription&quot;: false,\r\n            &quot;item&quot;: {\r\n                &quot;id&quot;: 116,\r\n                &quot;name&quot;: &quot;Ergonomic Marble Hat&quot;,\r\n                &quot;code&quot;: &quot;98845056-A&quot;,\r\n                &quot;enabled&quot;: true,\r\n                &quot;generic_name&quot;: &quot;Incredible Granite Lamp&quot;,\r\n                &quot;price_cents&quot;: 8267\r\n            },\r\n            &quot;program&quot;: {\r\n                &quot;id&quot;: 10,\r\n                &quot;name&quot;: &quot;Durable Rubber Bag&quot;,\r\n                &quot;provider&quot;: &quot;Aerodynamic Steel Chair&quot;,\r\n                &quot;discount_type&quot;: &quot;fixed&quot;\r\n            }\r\n        }\r\n    ]}\r\n\r\nThis should be the expected object after grouping. The item was grouped by program id 12 &amp; 10.\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 12,\r\n        &quot;name&quot;: &quot;Synergistic Wooden Shoes&quot;,\r\n        &quot;provider&quot;: &quot;Synergistic Rubber Coat&quot;,\r\n        &quot;discount_type&quot;: &quot;fixed&quot;,\r\n        &quot;item&quot;: [\r\n          {\r\n            &quot;id&quot;: 6,\r\n            &quot;name&quot;: &quot;Synergistic Copper Gloves&quot;,\r\n            &quot;code&quot;: &quot;51537661-C&quot;,\r\n            &quot;enabled&quot;: true,\r\n            &quot;generic_name&quot;: &quot;Mediocre Steel Wallet&quot;,\r\n            &quot;price_cents&quot;: 200000\r\n          },\r\n          {\r\n            &quot;id&quot;: 7,\r\n            &quot;name&quot;: &quot;Rustic Leather Table&quot;,\r\n            &quot;code&quot;: &quot;74283131-P&quot;,\r\n            &quot;enabled&quot;: true,\r\n            &quot;generic_name&quot;: &quot;Incredible Bronze Clock&quot;,\r\n            &quot;price_cents&quot;: 8994\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;id&quot;: 10,\r\n        &quot;name&quot;: &quot;Durable Rubber Bag&quot;,\r\n        &quot;provider&quot;: &quot;Aerodynamic Steel Chair&quot;,\r\n        &quot;discount_type&quot;: &quot;fixed&quot;,\r\n        &quot;item&quot;: [\r\n          {\r\n            &quot;id&quot;: 116,\r\n            &quot;name&quot;: &quot;Ergonomic Marble Hat&quot;,\r\n            &quot;code&quot;: &quot;98845056-A&quot;,\r\n            &quot;enabled&quot;: true,\r\n            &quot;generic_name&quot;: &quot;Incredible Granite Lamp&quot;,\r\n            &quot;price_cents&quot;: 8267\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n\r\nAll comments would be highly appreciated. Thanks in advance!\r\n","title":"Group a list of json object by property inside the common Array in Java","body":"<p>I would like to ask if it is possible to group the object by another object inside its common array.</p>\n\n<p>Here's the JSON response, I need to group the list of <strong>item</strong> by <strong>program id</strong>.\nI'm trying to put it on the HashMap but it didn't work well. </p>\n\n<pre><code>{\n\"id\": \"\",\n\"ordered_by\": 64,\n\"order_details\": [\n    {\n        \"resource\": \"Product\",\n        \"required_prescription\": false,\n        \"item\": {\n            \"id\": 6,\n            \"name\": \"Synergistic Copper Gloves\",\n            \"code\": \"51537661-C\",\n            \"enabled\": true,\n            \"generic_name\": \"Mediocre Steel Wallet\",\n            \"price_cents\": 200000\n        },\n        \"program\": {\n            \"id\": 12,\n            \"name\": \"Synergistic Wooden Shoes\",\n            \"provider\": \"Synergistic Rubber Coat\",\n            \"discount_type\": \"fixed\"\n        }\n    },\n    {\n        \"resource\": \"Product\",\n        \"required_prescription\": true,\n        \"item\": {\n            \"id\": 7,\n            \"name\": \"Rustic Leather Table\",\n            \"code\": \"74283131-P\",\n            \"enabled\": true,\n            \"generic_name\": \"Incredible Bronze Clock\",\n            \"price_cents\": 8994\n        },\n        \"program\": {\n            \"id\": 12,\n            \"name\": \"Synergistic Wooden Shoes\",\n            \"provider\": \"Synergistic Rubber Coat\",\n            \"discount_type\": \"fixed\"\n        }\n    },\n    {\n        \"resource\": \"Product\",\n        \"required_prescription\": false,\n        \"item\": {\n            \"id\": 116,\n            \"name\": \"Ergonomic Marble Hat\",\n            \"code\": \"98845056-A\",\n            \"enabled\": true,\n            \"generic_name\": \"Incredible Granite Lamp\",\n            \"price_cents\": 8267\n        },\n        \"program\": {\n            \"id\": 10,\n            \"name\": \"Durable Rubber Bag\",\n            \"provider\": \"Aerodynamic Steel Chair\",\n            \"discount_type\": \"fixed\"\n        }\n    }\n]}\n</code></pre>\n\n<p>This should be the expected object after grouping. The item was grouped by program id 12 &amp; 10.</p>\n\n<pre><code>[\n  {\n    \"id\": 12,\n    \"name\": \"Synergistic Wooden Shoes\",\n    \"provider\": \"Synergistic Rubber Coat\",\n    \"discount_type\": \"fixed\",\n    \"item\": [\n      {\n        \"id\": 6,\n        \"name\": \"Synergistic Copper Gloves\",\n        \"code\": \"51537661-C\",\n        \"enabled\": true,\n        \"generic_name\": \"Mediocre Steel Wallet\",\n        \"price_cents\": 200000\n      },\n      {\n        \"id\": 7,\n        \"name\": \"Rustic Leather Table\",\n        \"code\": \"74283131-P\",\n        \"enabled\": true,\n        \"generic_name\": \"Incredible Bronze Clock\",\n        \"price_cents\": 8994\n      }\n    ]\n  },\n  {\n    \"id\": 10,\n    \"name\": \"Durable Rubber Bag\",\n    \"provider\": \"Aerodynamic Steel Chair\",\n    \"discount_type\": \"fixed\",\n    \"item\": [\n      {\n        \"id\": 116,\n        \"name\": \"Ergonomic Marble Hat\",\n        \"code\": \"98845056-A\",\n        \"enabled\": true,\n        \"generic_name\": \"Incredible Granite Lamp\",\n        \"price_cents\": 8267\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>All comments would be highly appreciated. Thanks in advance!</p>\n"},{"tags":["java","generics","java-17"],"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1682736968,"post_id":76131324,"comment_id":134266894,"body_markdown":"It seems from your question that you don&#39;t really understand what this code is for. This code can only obtain information that is hard-coded at compile-time (e.g. the hard-coded generic superclass of an anonymous class). This code can never get generic arguments for an instance, because such information does not exist.","body":"It seems from your question that you don&#39;t really understand what this code is for. This code can only obtain information that is hard-coded at compile-time (e.g. the hard-coded generic superclass of an anonymous class). This code can never get generic arguments for an instance, because such information does not exist."},{"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"score":1,"creation_date":1682768178,"post_id":76131324,"comment_id":134269352,"body_markdown":"Yep, It was. Thank you guys I have a little more understanding of this now. So the only one way to achieve my intention is to pass the class as a constructor argument","body":"Yep, It was. Thank you guys I have a little more understanding of this now. So the only one way to achieve my intention is to pass the class as a constructor argument"}],"answers":[{"comments":[{"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"score":0,"creation_date":1682703724,"post_id":76131510,"comment_id":134262849,"body_markdown":"I see! But I don&#39;t need an abstract class at all. Is it possible to get Type of &quot;this&quot; class?","body":"I see! But I don&#39;t need an abstract class at all. Is it possible to get Type of &quot;this&quot; class?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1682707879,"post_id":76131510,"comment_id":134263594,"body_markdown":"No. You need to do it like I&#39;ve described (which is the same way that Guava type tokens work).","body":"No. You need to do it like I&#39;ve described (which is the same way that Guava type tokens work)."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1682715037,"post_id":76131510,"comment_id":134264825,"body_markdown":"The error is pretty clear: `this.getClass()` is not an instance of `ParameterizedType`.  The `Type` hierarchy can be used to reflect over the generics of class and member _declarations_, but you cannot use it to determine the parameterization of an individual object, because that information is erased by the time you get to run time.","body":"The error is pretty clear: <code>this.getClass()</code> is not an instance of <code>ParameterizedType</code>.  The <code>Type</code> hierarchy can be used to reflect over the generics of class and member <i>declarations</i>, but you cannot use it to determine the parameterization of an individual object, because that information is erased by the time you get to run time."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683011568,"post_id":76131510,"comment_id":134297536,"body_markdown":"If you just want to get a particular `ParameterizedType` instance without creating subclasses, you can declare fields of the intended type and retrieve their declared type. But with the subclass approach you have an object whose compile-time type matches the `ParameterizedType` which is what solutions like Guava‚Äôs type token are about; they allow to create generic methods with type token parameter matching their generic signature with the runtime (reflection) operation. In theory, we could eliminate the overhead with a bytecode transformer after compilation, but it‚Äôs not worth the effort.","body":"If you just want to get a particular <code>ParameterizedType</code> instance without creating subclasses, you can declare fields of the intended type and retrieve their declared type. But with the subclass approach you have an object whose compile-time type matches the <code>ParameterizedType</code> which is what solutions like Guava‚Äôs type token are about; they allow to create generic methods with type token parameter matching their generic signature with the runtime (reflection) operation. In theory, we could eliminate the overhead with a bytecode transformer after compilation, but it‚Äôs not worth the effort."}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682699143,"creation_date":1682699143,"answer_id":76131510,"question_id":76131324,"body_markdown":"The superclass of `Generic&lt;T&gt;` is `Object`, which isn&#39;t generic.\r\n\r\nYou need to subclass `Generic` for this to work:\r\n\r\n```\r\nGeneric&lt;String&gt; g = new Generic&lt;&gt;() {};\r\n```\r\n\r\nConsider making `Generic` `abstract` in order to force it to be subclassed in order to instantiate it.","title":"Can&#39;t cast to ParameterizedType","body":"<p>The superclass of <code>Generic&lt;T&gt;</code> is <code>Object</code>, which isn't generic.</p>\n<p>You need to subclass <code>Generic</code> for this to work:</p>\n<pre><code>Generic&lt;String&gt; g = new Generic&lt;&gt;() {};\n</code></pre>\n<p>Consider making <code>Generic</code> <code>abstract</code> in order to force it to be subclassed in order to instantiate it.</p>\n"}],"owner":{"account_id":8736919,"reputation":129,"user_id":6535239,"display_name":"Elegant.Obj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76131510,"answer_count":1,"score":0,"last_activity_date":1682699143,"creation_date":1682697571,"question_id":76131324,"body_markdown":"I am trying to get a Class&lt;?&gt; instance for the generic type. There is a lot of answers how to do that, but I am getting the error:\r\n```\r\njava.lang.ClassCastException: class java.lang.Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType are in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nI use Java 17. The code to reproduce the error:\r\n```java\r\nclass GenericTypeTest {\r\n    @Test\r\n    void showsTheError() {\r\n        Generic&lt;String&gt; g = new Generic&lt;&gt;();\r\n        assertEquals(String.class, g.getType());\r\n    }\r\n\r\n    static class Generic&lt;T&gt; {\r\n        Class&lt;?&gt; getType() {\r\n            Type type = getClass().getGenericSuperclass();\r\n            ParameterizedType paramType = (ParameterizedType) type;\r\n            return (Class&lt;?&gt;) paramType.getActualTypeArguments()[0];\r\n        }\r\n    }\r\n}\r\n```","title":"Can&#39;t cast to ParameterizedType","body":"<p>I am trying to get a Class&lt;?&gt; instance for the generic type. There is a lot of answers how to do that, but I am getting the error:</p>\n<pre><code>java.lang.ClassCastException: class java.lang.Class cannot be cast to class java.lang.reflect.ParameterizedType (java.lang.Class and java.lang.reflect.ParameterizedType are in module java.base of loader 'bootstrap')\n</code></pre>\n<p>I use Java 17. The code to reproduce the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class GenericTypeTest {\n    @Test\n    void showsTheError() {\n        Generic&lt;String&gt; g = new Generic&lt;&gt;();\n        assertEquals(String.class, g.getType());\n    }\n\n    static class Generic&lt;T&gt; {\n        Class&lt;?&gt; getType() {\n            Type type = getClass().getGenericSuperclass();\n            ParameterizedType paramType = (ParameterizedType) type;\n            return (Class&lt;?&gt;) paramType.getActualTypeArguments()[0];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","hook","picocontainer"],"owner":{"account_id":17447487,"reputation":29,"user_id":12648202,"display_name":"Poo M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682699136,"creation_date":1682699136,"question_id":76131509,"body_markdown":"I want to use single instance of WebDriver across multiple classes.\r\n\r\nI have `pageObject.java` class that contains web elements and actions ex: click links, send value, etc.\r\n\r\n```\r\npublic class pageObject {\r\n\r\n\tprivate WebDriver driver;\r\n\r\n\tprivate BaseTest baseTest;\r\n\r\npublic pageObject(BaseTest baseTest) {\r\n\t\tthis.driver = baseTest.driver;\r\n\t}\r\n```\r\n\r\nI have another class `stepDefinitionTest.java` that contains BDD glue code.\r\n\r\n```\r\npublic class stepDefinitionTest {\r\n\r\n\tpageObject homepage;\r\n\r\n\tprivate BaseTest baseTest;\r\n\tprivate WebDriver driver;\r\n\r\n\tpublic stepDefinitionTest(BaseTest baseTest) {\r\n\t\tthis.baseTest = baseTest;\r\n\t\tdriver = baseTest.driver;\r\n\t}\r\n\r\n```\r\nI have third class `BaseStep.java` that contain @Before and @After method for setup and close browser.\r\n\r\n```\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\n\r\npublic class BaseTest {\r\n\r\n    public WebDriver driver;\r\n@Before\r\n    public void before(){\r\ncode\r\n}\r\n@After\r\n    public void after(){\r\ncode\r\n}\r\n```\r\n\r\nThis isn&#39;t working and I&#39;m failing to understand the root cause.\r\n\r\nerror message\r\n\r\n```\r\nStep failed\r\norg.picocontainer.injectors.AbstractInjector$UnsatisfiableDependenciesException: StepDefinitions.stepDefinition has unsatisfied dependency &#39;interface org.openqa.selenium.WebDriver&#39; for constructor &#39;public StepDefinitions.stepDefinition(org.openqa.selenium.WebDriver)&#39; from org.picocontainer.DefaultPicoContainer@2fb0623e:2&lt;|\r\n```\r\n\r\n\r\n ","title":"How to use single instance of Selenium WebDriver in multiple java classes including hooks?","body":"<p>I want to use single instance of WebDriver across multiple classes.</p>\n<p>I have <code>pageObject.java</code> class that contains web elements and actions ex: click links, send value, etc.</p>\n<pre><code>public class pageObject {\n\n    private WebDriver driver;\n\n    private BaseTest baseTest;\n\npublic pageObject(BaseTest baseTest) {\n        this.driver = baseTest.driver;\n    }\n</code></pre>\n<p>I have another class <code>stepDefinitionTest.java</code> that contains BDD glue code.</p>\n<pre><code>public class stepDefinitionTest {\n\n    pageObject homepage;\n\n    private BaseTest baseTest;\n    private WebDriver driver;\n\n    public stepDefinitionTest(BaseTest baseTest) {\n        this.baseTest = baseTest;\n        driver = baseTest.driver;\n    }\n\n</code></pre>\n<p>I have third class <code>BaseStep.java</code> that contain @Before and @After method for setup and close browser.</p>\n<pre><code>import org.junit.After;\nimport org.junit.Before;\n\npublic class BaseTest {\n\n    public WebDriver driver;\n@Before\n    public void before(){\ncode\n}\n@After\n    public void after(){\ncode\n}\n</code></pre>\n<p>This isn't working and I'm failing to understand the root cause.</p>\n<p>error message</p>\n<pre><code>Step failed\norg.picocontainer.injectors.AbstractInjector$UnsatisfiableDependenciesException: StepDefinitions.stepDefinition has unsatisfied dependency 'interface org.openqa.selenium.WebDriver' for constructor 'public StepDefinitions.stepDefinition(org.openqa.selenium.WebDriver)' from org.picocontainer.DefaultPicoContainer@2fb0623e:2&lt;|\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":13807809,"reputation":420,"user_id":9966240,"display_name":"KSs"},"score":0,"creation_date":1682712840,"post_id":76131486,"comment_id":134264457,"body_markdown":"Probably something is missing in your jpa configuration. Try to add @EnableJpaRepositories annotation in your configuration class","body":"Probably something is missing in your jpa configuration. Try to add @EnableJpaRepositories annotation in your configuration class"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1682714454,"post_id":76131486,"comment_id":134264731,"body_markdown":"is the package of the repository also scanned by Spring DI?","body":"is the package of the repository also scanned by Spring DI?"}],"owner":{"account_id":28447433,"reputation":1,"user_id":21765970,"display_name":"Rares Burghelea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682698915,"creation_date":1682698915,"question_id":76131486,"body_markdown":"I have this starter application with spring and javaFX, and I can&#39;t seem to get past this issue where I&#39;m trying to get information from my JPA repository. I get the following error: \r\n`Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;server.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}`\r\n\r\nHere is what I tried to do: \r\n```java\r\npackage server.controller;\r\n//...imports\r\n@Controller\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(&quot;/{userId}&quot;)\r\n    public ResponseEntity&lt;User&gt; getById(@PathVariable(&quot;userId&quot;) Long userId) {\r\n        return ResponseEntity.ok(userService.getUserById(userId));\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere is the repository\r\n```java\r\npackage server.repository;\r\n//...imports\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    User findUserById(long userId);\r\n}\r\n```\r\nAnd here is the User Service that is supposed to handle my requests\r\n```java\r\npackage server.service;\r\n//...imports\r\n@Service\r\npublic class UserService {\r\n    private final UserRepository users;\r\n\r\n    public UserService(UserRepository users) {\r\n        this.users = users;\r\n    }\r\n\r\n    public User getUserById(long id) {\r\n        if(id &lt; 0 || !users.existsById(id)) {\r\n            return null;\r\n        }\r\n        return users.findUserById(id);\r\n    }\r\n}\r\n```","title":"No qualifying bean of type... Error ( Spring + JavaFX )","body":"<p>I have this starter application with spring and javaFX, and I can't seem to get past this issue where I'm trying to get information from my JPA repository. I get the following error:\n<code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'server.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</code></p>\n<p>Here is what I tried to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package server.controller;\n//...imports\n@Controller\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping(&quot;/{userId}&quot;)\n    public ResponseEntity&lt;User&gt; getById(@PathVariable(&quot;userId&quot;) Long userId) {\n        return ResponseEntity.ok(userService.getUserById(userId));\n    }\n}\n\n</code></pre>\n<p>Here is the repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>package server.repository;\n//...imports\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findUserById(long userId);\n}\n</code></pre>\n<p>And here is the User Service that is supposed to handle my requests</p>\n<pre class=\"lang-java prettyprint-override\"><code>package server.service;\n//...imports\n@Service\npublic class UserService {\n    private final UserRepository users;\n\n    public UserService(UserRepository users) {\n        this.users = users;\n    }\n\n    public User getUserById(long id) {\n        if(id &lt; 0 || !users.existsById(id)) {\n            return null;\n        }\n        return users.findUserById(id);\n    }\n}\n</code></pre>\n"},{"tags":["java","precision","java-time","platform"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1535314701,"post_id":52029920,"comment_id":91010281,"body_markdown":"[`LocalDateTime.now()`](https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()) uses the [system `Clock`](https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()) which means whatever precision the system clock has that&#39;s how much precision `LocalDateTime.now()` will have.","body":"<a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\" rel=\"nofollow noreferrer\"><code>LocalDateTime.now()</code></a> uses the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()\" rel=\"nofollow noreferrer\">system <code>Clock</code></a> which means whatever precision the system clock has that&#39;s how much precision <code>LocalDateTime.now()</code> will have."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1535314706,"post_id":52029920,"comment_id":91010282,"body_markdown":"&quot;milliseconds precision of 6&quot; is that the same as microsecond precision? (Perhaps better phrased as &quot;subsecond precision&quot;).","body":"&quot;milliseconds precision of 6&quot; is that the same as microsecond precision? (Perhaps better phrased as &quot;subsecond precision&quot;)."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":0,"creation_date":1535314873,"post_id":52029920,"comment_id":91010319,"body_markdown":"Sorry! It&#180;s actually called &quot;nano&quot;.","body":"Sorry! It&#180;s actually called &quot;nano&quot;."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":0,"creation_date":1535315038,"post_id":52029920,"comment_id":91010345,"body_markdown":"@Slaw Running `System.currentTimeMillis()` provides the same level of precision on both machines.","body":"@Slaw Running <code>System.currentTimeMillis()</code> provides the same level of precision on both machines."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1535315262,"post_id":52029920,"comment_id":91010401,"body_markdown":"@TobiasMarschall because that&#39;s the time with *milli*second precision.","body":"@TobiasMarschall because that&#39;s the time with <i>milli</i>second precision."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1535315290,"post_id":52029920,"comment_id":91010407,"body_markdown":"The system `Clock` may use `System.currentTimeMillis()` _or a higher resolution clock if available_. It looks like your Mac has a clock with microsecond precision.","body":"The system <code>Clock</code> may use <code>System.currentTimeMillis()</code> <i>or a higher resolution clock if available</i>. It looks like your Mac has a clock with microsecond precision."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":0,"creation_date":1535315394,"post_id":52029920,"comment_id":91010433,"body_markdown":"Is there some kind of &quot;default clock&quot; that can provide the same level of presicion on both machines?","body":"Is there some kind of &quot;default clock&quot; that can provide the same level of presicion on both machines?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1535319502,"post_id":52029920,"comment_id":91011269,"body_markdown":"By the way, `LocalDateTime` is the wrong class when your intention is to track moments. Use `Instant`, `OffsetDateTime`, or `ZonedDateTime` instead. Lacking any concept of time zone or offset-from-UTC, the `LocalDateTime` *cannot* track moments.","body":"By the way, <code>LocalDateTime</code> is the wrong class when your intention is to track moments. Use <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code> instead. Lacking any concept of time zone or offset-from-UTC, the <code>LocalDateTime</code> <i>cannot</i> track moments."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1535319945,"post_id":52029920,"comment_id":91011358,"body_markdown":"Whose implementation of Java 8 are you using on macOS? I do not know of any that can capture current moment in microseconds. See OpenJDK issue ticket `JDK-8068730`, [*Increase the precision of the implementation of java.time.Clock.systemUTC()*](https://bugs.openjdk.java.net/browse/JDK-8068730)  Discussed [here](https://stackoverflow.com/q/33477695/642706).","body":"Whose implementation of Java 8 are you using on macOS? I do not know of any that can capture current moment in microseconds. See OpenJDK issue ticket <code>JDK-8068730</code>, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"nofollow noreferrer\"><i>Increase the precision of the implementation of java.time.Clock.systemUTC()</i></a>  Discussed <a href=\"https://stackoverflow.com/q/33477695/642706\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1535315668,"post_id":52030034,"comment_id":91010489,"body_markdown":"is ZoneID needed? maybe a bit confusing, at least it is kind of hiding the important part (laptop)","body":"is ZoneID needed? maybe a bit confusing, at least it is kind of hiding the important part (laptop)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":6,"creation_date":1535315793,"post_id":52030034,"comment_id":91010517,"body_markdown":"A good habit if you want to control what you get, @CarlosHeuberger. If you want the JVM‚Äôs default time zone in that moment, I still prefer `ZoneId.systemDefault()` over leaving it out. It reads the intention more clearly, though the result is the same. You are correct that this discussion is not relevant to the question asked.","body":"A good habit if you want to control what you get, @CarlosHeuberger. If you want the JVM‚Äôs default time zone in that moment, I still prefer <code>ZoneId.systemDefault()</code> over leaving it out. It reads the intention more clearly, though the result is the same. You are correct that this discussion is not relevant to the question asked."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1535316100,"post_id":52030034,"comment_id":91010588,"body_markdown":"sure, there are a lot of &#39;good habits&#39;... like having a constant for such? like avoiding too long lines?","body":"sure, there are a lot of &#39;good habits&#39;... like having a constant for such? like avoiding too long lines?"}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1535320137,"creation_date":1535315414,"answer_id":52030034,"question_id":52029920,"body_markdown":"I don‚Äôt think you can get any better precision than the one you are already getting. If you want to reduce the precision to match that of the other system, it‚Äôs straightforward (when you know how):\r\n\r\n    LocalDateTime.now(ZoneId.of(&quot;Europe/Berlin&quot;)).truncatedTo(ChronoUnit.MILLIS);\r\n\r\nThe precision you get depends on the hardware, the settings, the OS and the integration of the JVM with all of those. It‚Äôs well known that Mac generally offers better precision than Windows (though I was under the impression that this was only the case from Java 9, per OpenJDK issue # [JDK‚Äë8068730](https://bugs.openjdk.java.net/browse/JDK-8068730)).","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>I don‚Äôt think you can get any better precision than the one you are already getting. If you want to reduce the precision to match that of the other system, it‚Äôs straightforward (when you know how):</p>\n\n<pre><code>LocalDateTime.now(ZoneId.of(\"Europe/Berlin\")).truncatedTo(ChronoUnit.MILLIS);\n</code></pre>\n\n<p>The precision you get depends on the hardware, the settings, the OS and the integration of the JVM with all of those. It‚Äôs well known that Mac generally offers better precision than Windows (though I was under the impression that this was only the case from Java 9, per OpenJDK issue # <a href=\"https://bugs.openjdk.java.net/browse/JDK-8068730\" rel=\"noreferrer\">JDK‚Äë8068730</a>).</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1535320338,"post_id":52030157,"comment_id":91011422,"body_markdown":"In other words, resolution of current moment is an implementation detail.","body":"In other words, resolution of current moment is an implementation detail."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1682698819,"creation_date":1535316579,"answer_id":52030157,"question_id":52029920,"body_markdown":"The precision is different because [`LocalDateTime.now()`][1] uses a system default [`Clock`][2].\r\n\r\n&gt;Obtains the current date-time from the system clock in the default time-zone.\r\n&gt;\r\n&gt;This will query the [system clock][3] in the default time-zone to obtain the current date-time. \r\n&gt;\r\n&gt;...\r\n\r\nThe link in this Javadoc takes you to `Clock.systemDefaultZone()` which states (**emphasis** mine):\r\n\r\n&gt;Obtains a clock that returns the current instant using the best available system clock, converting to date and time using the default time-zone.\r\n&gt;\r\n&gt;This clock is based on the best available system clock. **This may use [System.currentTimeMillis()][4], or a higher resolution clock if one is available.**\r\n&gt;\r\n&gt;...\r\n\r\nWhich clock Java uses can depend on a lot of things and it looks like your Mac computer has a clock with &lt;i&gt;micro&lt;/i&gt;second precision whereas your Windows computer has a clock with &lt;i&gt;milli&lt;/i&gt;second precision. I&#39;m not aware of any way to _increase_ the precision of a clock but you can definitely _decrease_ the precision so that it matches across platforms.\r\n\r\nOne option is to use [`LocalDateTime.truncatedTo(TemporalUnit)`][6]:\r\n\r\n```lang-java\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    Instant original = Instant.now();\r\n    System.out.printf(&quot;Original instant  : %s%n&quot;, original);\r\n\r\n    Instant truncated = original.truncatedTo(ChronoUnit.MILLIS);\r\n    System.out.printf(&quot;Truncated instant : %s%n&quot;, truncated);\r\n  }\r\n}\r\n```\r\n\r\n&lt;sup&gt;_-[Also see answer by Ole V.V.][5]_&lt;/sup&gt;\r\n\r\nAnother option is to plug in your own `Clock` and use [`LocalDateTime.now(Clock)`][7]. If possible, I would use [`Clock.tickMillis(ZoneId)`][8] since this method returns a `Clock` that truncates to milliseconds.\r\n\r\n&gt;Obtains a clock that returns the current instant ticking in whole milliseconds using the best available system clock.\r\n&gt;\r\n&gt;This clock will always have the nano-of-second field truncated to milliseconds. This ensures that the visible time ticks in whole milliseconds. The underlying clock is the best available system clock, equivalent to using system(ZoneId).\r\n&gt;\r\n&gt;...\r\n&gt;\r\n&gt;**Since:**&lt;br&gt;\r\n&gt;9\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.time.Clock;\r\n// import java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.time.ZoneId;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) {\r\n    // Java 8\r\n    // Clock clock = Clock.tick(Clock.systemDefaultZone(), Duration.ofMillis(1));\r\n\r\n    // Java 9+\r\n    Clock clock = Clock.tickMillis(ZoneId.systemDefault());\r\n\r\n    Instant instant = Instant.now(clock);\r\n    System.out.printf(&quot;Instant : %s%n&quot;, instant);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\r\n[2]: https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html\r\n[3]: https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()\r\n[4]: https://docs.oracle.com/javase/10/docs/api/java/lang/System.html#currentTimeMillis()\r\n[5]: https://stackoverflow.com/a/52030034/6395627\r\n[6]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\r\n[7]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now(java.time.Clock)\r\n[8]: https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#tickMillis(java.time.ZoneId)","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>The precision is different because <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now()\" rel=\"nofollow noreferrer\"><code>LocalDateTime.now()</code></a> uses a system default <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a>.</p>\n<blockquote>\n<p>Obtains the current date-time from the system clock in the default time-zone.</p>\n<p>This will query the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#systemDefaultZone()\" rel=\"nofollow noreferrer\">system clock</a> in the default time-zone to obtain the current date-time.</p>\n<p>...</p>\n</blockquote>\n<p>The link in this Javadoc takes you to <code>Clock.systemDefaultZone()</code> which states (<strong>emphasis</strong> mine):</p>\n<blockquote>\n<p>Obtains a clock that returns the current instant using the best available system clock, converting to date and time using the default time-zone.</p>\n<p>This clock is based on the best available system clock. <strong>This may use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/System.html#currentTimeMillis()\" rel=\"nofollow noreferrer\">System.currentTimeMillis()</a>, or a higher resolution clock if one is available.</strong></p>\n<p>...</p>\n</blockquote>\n<p>Which clock Java uses can depend on a lot of things and it looks like your Mac computer has a clock with <i>micro</i>second precision whereas your Windows computer has a clock with <i>milli</i>second precision. I'm not aware of any way to <em>increase</em> the precision of a clock but you can definitely <em>decrease</em> the precision so that it matches across platforms.</p>\n<p>One option is to use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>LocalDateTime.truncatedTo(TemporalUnit)</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Instant;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Instant original = Instant.now();\n    System.out.printf(&quot;Original instant  : %s%n&quot;, original);\n\n    Instant truncated = original.truncatedTo(ChronoUnit.MILLIS);\n    System.out.printf(&quot;Truncated instant : %s%n&quot;, truncated);\n  }\n}\n</code></pre>\n<p><sup><em>-<a href=\"https://stackoverflow.com/a/52030034/6395627\">Also see answer by Ole V.V.</a></em></sup></p>\n<p>Another option is to plug in your own <code>Clock</code> and use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDateTime.html#now(java.time.Clock)\" rel=\"nofollow noreferrer\"><code>LocalDateTime.now(Clock)</code></a>. If possible, I would use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Clock.html#tickMillis(java.time.ZoneId)\" rel=\"nofollow noreferrer\"><code>Clock.tickMillis(ZoneId)</code></a> since this method returns a <code>Clock</code> that truncates to milliseconds.</p>\n<blockquote>\n<p>Obtains a clock that returns the current instant ticking in whole milliseconds using the best available system clock.</p>\n<p>This clock will always have the nano-of-second field truncated to milliseconds. This ensures that the visible time ticks in whole milliseconds. The underlying clock is the best available system clock, equivalent to using system(ZoneId).</p>\n<p>...</p>\n<p><strong>Since:</strong><br>\n9</p>\n</blockquote>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.Clock;\n// import java.time.Duration;\nimport java.time.Instant;\nimport java.time.ZoneId;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    // Java 8\n    // Clock clock = Clock.tick(Clock.systemDefaultZone(), Duration.ofMillis(1));\n\n    // Java 9+\n    Clock clock = Clock.tickMillis(ZoneId.systemDefault());\n\n    Instant instant = Instant.now(clock);\n    System.out.printf(&quot;Instant : %s%n&quot;, instant);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603268334,"creation_date":1603268334,"answer_id":64459488,"question_id":52029920,"body_markdown":"You can set the precision using a formatter, without resorting to `truncatedTo` or `Clock.tickMillis`: \r\n\r\n```\r\njshell&gt; OffsetDateTime.now().format(ISO_DATE_TIME)\r\n$5 ==&gt; &quot;2020-10-21T10:13:48.57776451+02:00&quot;\r\n\r\njshell&gt; OffsetDateTime.now().format(ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSZ&quot;))\r\n$8 ==&gt; &quot;2020-10-21T10:15:31.27+0200&quot;\r\n```\r\n\r\nI realized this after discovering that [JDK 15 has different precision on macOS and Linux][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64444357/why-does-jdk-15s-time-api-have-increased-precision-on-linux-but-not-on-macos?noredirect=1&amp;lq=1","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>You can set the precision using a formatter, without resorting to <code>truncatedTo</code> or <code>Clock.tickMillis</code>:</p>\n<pre><code>jshell&gt; OffsetDateTime.now().format(ISO_DATE_TIME)\n$5 ==&gt; &quot;2020-10-21T10:13:48.57776451+02:00&quot;\n\njshell&gt; OffsetDateTime.now().format(ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSZ&quot;))\n$8 ==&gt; &quot;2020-10-21T10:15:31.27+0200&quot;\n</code></pre>\n<p>I realized this after discovering that <a href=\"https://stackoverflow.com/questions/64444357/why-does-jdk-15s-time-api-have-increased-precision-on-linux-but-not-on-macos?noredirect=1&amp;lq=1\">JDK 15 has different precision on macOS and Linux</a>.</p>\n"},{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1615458124,"creation_date":1615458124,"answer_id":66580584,"question_id":52029920,"body_markdown":"If anyone had the same issue with `Instant` precision on `mac` or `ubuntu` on Java 15 that I want to show the difference:\r\n\r\nmac Instant precision: `2021-03-10T12:28:19.228816Z`\r\n\r\nubuntu Instant precision: `2021-03-10T12:28:19.228816800Z`\r\n\r\nSolution: please add `.truncatedTo(ChronoUnit.MILLIS)` to `Instant` variable if You want to have the same precision on this OS","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>If anyone had the same issue with <code>Instant</code> precision on <code>mac</code> or <code>ubuntu</code> on Java 15 that I want to show the difference:</p>\n<p>mac Instant precision: <code>2021-03-10T12:28:19.228816Z</code></p>\n<p>ubuntu Instant precision: <code>2021-03-10T12:28:19.228816800Z</code></p>\n<p>Solution: please add <code>.truncatedTo(ChronoUnit.MILLIS)</code> to <code>Instant</code> variable if You want to have the same precision on this OS</p>\n"}],"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11258,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":52030157,"answer_count":4,"score":30,"last_activity_date":1682698819,"creation_date":1535314512,"question_id":52029920,"body_markdown":"When creating a new `LocalDateTime` using `LocalDateTime.now()` on my Mac and Windows machine i get a nano **precision of 6** on my Mac and a nano **precision of 3** on my Windows machine. Both are running `jdk-1.8.0-172`. \r\n\r\n - Is it possible to limit or increase the precision on one of the\r\n   machines?\r\n - And why is the precision actually different?","title":"LocalDateTime.now() has different levels of precision on Windows and Mac machine","body":"<p>When creating a new <code>LocalDateTime</code> using <code>LocalDateTime.now()</code> on my Mac and Windows machine i get a nano <strong>precision of 6</strong> on my Mac and a nano <strong>precision of 3</strong> on my Windows machine. Both are running <code>jdk-1.8.0-172</code>. </p>\n\n<ul>\n<li>Is it possible to limit or increase the precision on one of the\nmachines?</li>\n<li>And why is the precision actually different?</li>\n</ul>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":22151019,"reputation":431,"user_id":16399561,"display_name":"ojonasplima"},"score":0,"creation_date":1641481451,"post_id":70607225,"comment_id":124819187,"body_markdown":"I think that&#39;s not a error on your selenium, as the trace `java.net.SocketException: Connection reset` shows. It&#39;s a server problem like you can check [here](http://net-informations.com/java/err/reset.htm).","body":"I think that&#39;s not a error on your selenium, as the trace <code>java.net.SocketException: Connection reset</code> shows. It&#39;s a server problem like you can check <a href=\"http://net-informations.com/java/err/reset.htm\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1651120096,"post_id":72025774,"comment_id":127288280,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72025774/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25113330,"reputation":1,"user_id":18962685,"display_name":"–ü–∞–≤–µ–ª –õ–∏—Ç–≤–∏–Ω–µ–Ω–∫–æ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651048888,"creation_date":1651048888,"answer_id":72025774,"question_id":70607225,"body_markdown":"I think you should change driver.close to .quit","title":"Chromedriver Selenium getting &#39;Connection Reset&#39; when versions match","body":"<p>I think you should change driver.close to .quit</p>\n"},{"comments":[{"owner":{"account_id":17770522,"reputation":89,"user_id":12904248,"display_name":"NoNoNo"},"score":0,"creation_date":1686740434,"post_id":76131420,"comment_id":134839835,"body_markdown":"When using options.addArguments(&quot;--user-data-dir=&quot; + System.getProperty(&quot;java.io.tmpdir&quot;));, I see Chrome Didn&#39;t Shut Down Correctly message.","body":"When using options.addArguments(&quot;--user-data-dir=&quot; + System.getProperty(&quot;java.io.tmpdir&quot;));, I see Chrome Didn&#39;t Shut Down Correctly message."}],"tags":[],"owner":{"account_id":5165021,"reputation":108,"user_id":4135343,"display_name":"PVDM"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682698324,"creation_date":1682698324,"answer_id":76131420,"question_id":70607225,"body_markdown":"I&#39;ve struggled with this for a bit and finally figured out what the problem was. When you see a &quot;java.net.SocketException: Connection reset&quot;, it&#39;s (as far as I&#39;ve seen) an issue specific to Chrome and ChromeDriver.\r\n\r\nChromeDriver uses a WebSocket to communicate with Chrome and when the quit() method is called and ChromeDriver tells Chrome to shut down ChromeDriver does not always close the browser process gracefully. Specifically, ChromeDriver does not disconnect/close the WebSocket before closing/quitting browser. This causes the error.\r\n\r\nThe (hopefully temporary) work-around is to add an argument to the ChromeOptions:\r\n`--user-data-dir=/tmp/your_tmp_folder`\r\n\r\nIn Java, you can do:\r\n```\r\noptions.addArguments(&quot;--user-data-dir=&quot; + System.getProperty(&quot;java.io.tmpdir&quot;));\r\n```\r\n\r\nThis will make ChromeDriver send a SIGTERM first to Chrome.\r\n\r\nSource for this solution:\r\nhttps://bugs.chromium.org/p/chromedriver/issues/detail?id=3689&amp;q=websocket&amp;can=2","title":"Chromedriver Selenium getting &#39;Connection Reset&#39; when versions match","body":"<p>I've struggled with this for a bit and finally figured out what the problem was. When you see a &quot;java.net.SocketException: Connection reset&quot;, it's (as far as I've seen) an issue specific to Chrome and ChromeDriver.</p>\n<p>ChromeDriver uses a WebSocket to communicate with Chrome and when the quit() method is called and ChromeDriver tells Chrome to shut down ChromeDriver does not always close the browser process gracefully. Specifically, ChromeDriver does not disconnect/close the WebSocket before closing/quitting browser. This causes the error.</p>\n<p>The (hopefully temporary) work-around is to add an argument to the ChromeOptions:\n<code>--user-data-dir=/tmp/your_tmp_folder</code></p>\n<p>In Java, you can do:</p>\n<pre><code>options.addArguments(&quot;--user-data-dir=&quot; + System.getProperty(&quot;java.io.tmpdir&quot;));\n</code></pre>\n<p>This will make ChromeDriver send a SIGTERM first to Chrome.</p>\n<p>Source for this solution:\n<a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=3689&amp;q=websocket&amp;can=2\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromedriver/issues/detail?id=3689&amp;q=websocket&amp;can=2</a></p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682790181,"answer_count":2,"score":0,"last_activity_date":1682698324,"creation_date":1641472765,"question_id":70607225,"body_markdown":"I am using chromedriver but am sometimes getting the following errors:\r\n```\r\n03:34:09.188 [AsyncHttpClient-1-2] WARN org.openqa.selenium.remote.http.WebSocket - Connection reset\r\n2022-01-05 21:34:09java.net.SocketException: Connection reset\r\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\r\n2022-01-05 21:34:0903:34:09.180 [AsyncHttpClient-1-2] WARN org.asynchttpclient.netty.handler.WebSocketHandler - onError\r\n2022-01-05 21:34:09java.net.SocketException: Connection reset\r\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\r\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:398)\r\n2022-01-05 21:34:09at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\r\n2022-01-05 21:34:09at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)\r\n2022-01-05 21:34:09at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\r\n2022-01-05 21:34:09at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n2022-01-05 21:34:09at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n2022-01-05 21:34:09at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n2022-01-05 21:34:09at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n2022-01-05 21:34:09at java.base/java.lang.Thread.run(Thread.java:832)\r\n```\r\n\r\nI have:\r\n```\r\nARG CHROME_VERSION=96.0.4664.45-1\r\nARG CHROME_DRIVER_VERSION=96.0.4664.45\r\n```\r\n\r\nand I am using selenium 4:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nNote selenium 4 supports CDP up to v96 per https://github.com/SeleniumHQ/selenium/blob/201fad38296f9ea47ac1b1b59c160963dc7b2907/java/CHANGELOG\r\n\r\nSo I think the chromedriver and chrome version match. Does anyone know what could be causing the connection reset?","title":"Chromedriver Selenium getting &#39;Connection Reset&#39; when versions match","body":"<p>I am using chromedriver but am sometimes getting the following errors:</p>\n<pre><code>03:34:09.188 [AsyncHttpClient-1-2] WARN org.openqa.selenium.remote.http.WebSocket - Connection reset\n2022-01-05 21:34:09java.net.SocketException: Connection reset\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\n2022-01-05 21:34:0903:34:09.180 [AsyncHttpClient-1-2] WARN org.asynchttpclient.netty.handler.WebSocketHandler - onError\n2022-01-05 21:34:09java.net.SocketException: Connection reset\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:367)\n2022-01-05 21:34:09at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:398)\n2022-01-05 21:34:09at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:253)\n2022-01-05 21:34:09at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1134)\n2022-01-05 21:34:09at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:350)\n2022-01-05 21:34:09at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n2022-01-05 21:34:09at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n2022-01-05 21:34:09at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n2022-01-05 21:34:09at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n2022-01-05 21:34:09at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n2022-01-05 21:34:09at java.base/java.lang.Thread.run(Thread.java:832)\n</code></pre>\n<p>I have:</p>\n<pre><code>ARG CHROME_VERSION=96.0.4664.45-1\nARG CHROME_DRIVER_VERSION=96.0.4664.45\n</code></pre>\n<p>and I am using selenium 4:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Note selenium 4 supports CDP up to v96 per <a href=\"https://github.com/SeleniumHQ/selenium/blob/201fad38296f9ea47ac1b1b59c160963dc7b2907/java/CHANGELOG\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/201fad38296f9ea47ac1b1b59c160963dc7b2907/java/CHANGELOG</a></p>\n<p>So I think the chromedriver and chrome version match. Does anyone know what could be causing the connection reset?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1682690033,"post_id":76130250,"comment_id":134259691,"body_markdown":"How would this 1 function determine which return type to use?","body":"How would this 1 function determine which return type to use?"},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":1,"creation_date":1682690273,"post_id":76130250,"comment_id":134259782,"body_markdown":"Will you already know which type to cast to, at the call site?","body":"Will you already know which type to cast to, at the call site?"}],"answers":[{"comments":[{"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"score":1,"creation_date":1682692250,"post_id":76130399,"comment_id":134260360,"body_markdown":"thanks. Currently, I already have existing code with &gt; 10 functions that are calling getFlag(&quot;argument&quot;) and they all return String. \n\nIt&#39;s my new code of calling some new arguments that&#39;ll return Integer and Boolean. \n\nDoing what you mentioned means I need to go to all 10 functions and add the return type argument (String) there. May I ask if you think it&#39;s a good idea or is there some better way to do it? \n\nThanks","body":"thanks. Currently, I already have existing code with &gt; 10 functions that are calling getFlag(&quot;argument&quot;) and they all return String.   It&#39;s my new code of calling some new arguments that&#39;ll return Integer and Boolean.   Doing what you mentioned means I need to go to all 10 functions and add the return type argument (String) there. May I ask if you think it&#39;s a good idea or is there some better way to do it?   Thanks"}],"tags":[],"owner":{"account_id":16037279,"reputation":135,"user_id":11574636,"display_name":"Fabian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682690726,"creation_date":1682690726,"answer_id":76130399,"question_id":76130250,"body_markdown":"You can use Java Generics for this. Here is a link to a good dokumentation:\r\n\r\nhttps://www.baeldung.com/java-generics\r\n\r\n```java\r\nprivate &lt;T&gt; T getFlag(String argument, Class&lt;T&gt; returnType) {\r\nObject[][] code = restConnector.getCodes(argument);\r\nreturn returnType.cast(code[0][0]);\r\n}\r\n```\r\n\r\nWith this modification, you can call the function with different return types as follows:\r\n\r\n```java\r\nBoolean bool = getFlag(&quot;argument&quot;, Boolean.class);\r\nString text = getFlag(&quot;argument&quot;, String.class);\r\nInteger num = getFlag(&quot;argument&quot;, Integer.class);\r\n```","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>You can use Java Generics for this. Here is a link to a good dokumentation:</p>\n<p><a href=\"https://www.baeldung.com/java-generics\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-generics</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private &lt;T&gt; T getFlag(String argument, Class&lt;T&gt; returnType) {\nObject[][] code = restConnector.getCodes(argument);\nreturn returnType.cast(code[0][0]);\n}\n</code></pre>\n<p>With this modification, you can call the function with different return types as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Boolean bool = getFlag(&quot;argument&quot;, Boolean.class);\nString text = getFlag(&quot;argument&quot;, String.class);\nInteger num = getFlag(&quot;argument&quot;, Integer.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682692136,"creation_date":1682692136,"answer_id":76130600,"question_id":76130250,"body_markdown":"Write type-specific methods that call a common method:\r\n\r\n```\r\npublic boolean getBooleanFlag(String argument) {\r\n   return (boolean) getFlag(argument);\r\n}\r\n\r\npublic String getStringFlag(String argument) {\r\n   return (String) getFlag(argument);\r\n}\r\n\r\npublic int getIntFlag(String argument) {\r\n   return (int) getFlag(argument);\r\n}\r\n\r\nprivate Object getFlag(String argument) {\r\n   Object [][] code = restConnector.getCodes(argument);\r\n   return code[0][0]\r\n}\r\n```","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>Write type-specific methods that call a common method:</p>\n<pre><code>public boolean getBooleanFlag(String argument) {\n   return (boolean) getFlag(argument);\n}\n\npublic String getStringFlag(String argument) {\n   return (String) getFlag(argument);\n}\n\npublic int getIntFlag(String argument) {\n   return (int) getFlag(argument);\n}\n\nprivate Object getFlag(String argument) {\n   Object [][] code = restConnector.getCodes(argument);\n   return code[0][0]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682698031,"creation_date":1682698031,"answer_id":76131384,"question_id":76130250,"body_markdown":"Although not safe, you can use generics like so:\r\n\r\n```\r\npublic class Main {\r\n    \r\n    private static Object match(final String argument) {\r\n        if (&quot;boolean&quot;.equals(argument))\r\n            return true;\r\n        if (&quot;integer&quot;.equals(argument))\r\n            return 0;\r\n        if (&quot;string&quot;.equals(argument))\r\n            return &quot;str&quot;;\r\n        return null;\r\n    }\r\n    \r\n    public static &lt;T&gt; T getFlag(final String argument) {\r\n        final Object[][] code = new Object[][]{new Object[]{ match(argument) }}; //restConnector.getCodes(argument);\r\n        return (T) code[0][0];\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\r\n        final int integerFlag = getFlag(&quot;integer&quot;);\r\n        final String stringFlag = getFlag(&quot;string&quot;);\r\n        final Object randomFlag = getFlag(&quot;random&quot;);\r\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\r\n        System.out.println(&quot;Integer: &quot; + integerFlag);\r\n        System.out.println(&quot;String:  &quot; + stringFlag);\r\n        System.out.println(&quot;Random:  &quot; + randomFlag);\r\n    }\r\n}\r\n```\r\n\r\nprints:\r\n\r\n&gt; Boolean: true  \r\n&gt; Integer: 0  \r\n&gt; String:  str  \r\n&gt; Random:  null\r\n\r\nBut when the type cannot be inferred, then it will not work. For example the following is a compilation error:\r\n\r\n    System.out.println(getFlag(&quot;any&quot;));\r\n\r\nThis is because `println` is overloaded (accepts different types).\r\n\r\nNote that with this method, you are also running the risk of a `java.lang.ClassCastException` if you don&#39;t known what type your `getCodes` will return. Take for example the following code:\r\n\r\n```\r\npublic class Main {\r\n    \r\n    public static &lt;T&gt; T getFlag(final String argument) {\r\n        final Object[][] code = new Object[][]{new Object[]{&quot;Always a string!&quot;}}; //restConnector.getCodes(argument);\r\n        return (T) code[0][0];\r\n    }\r\n    \r\n    public static void main(final String[] args) {\r\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\r\n        final int integerFlag = getFlag(&quot;integer&quot;);\r\n        final String stringFlag = getFlag(&quot;string&quot;);\r\n        final Object randomFlag = getFlag(&quot;random&quot;);\r\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\r\n        System.out.println(&quot;Integer: &quot; + integerFlag);\r\n        System.out.println(&quot;String:  &quot; + stringFlag);\r\n        System.out.println(&quot;Random:  &quot; + randomFlag);\r\n    }\r\n}\r\n```\r\n\r\n... which throws a `java.lang.ClassCastException` in the first call.\r\n\r\nFinally note that you are also running the risk of a `java.lang.NullPointerException` if you don&#39;t known if your `getCodes` will return `null`. Replace for example `&quot;Always a string!&quot;` with `null` in the above code, and you will get a `java.lang.NullPointerException` in the *second* call.\r\n","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>Although not safe, you can use generics like so:</p>\n<pre><code>public class Main {\n    \n    private static Object match(final String argument) {\n        if (&quot;boolean&quot;.equals(argument))\n            return true;\n        if (&quot;integer&quot;.equals(argument))\n            return 0;\n        if (&quot;string&quot;.equals(argument))\n            return &quot;str&quot;;\n        return null;\n    }\n    \n    public static &lt;T&gt; T getFlag(final String argument) {\n        final Object[][] code = new Object[][]{new Object[]{ match(argument) }}; //restConnector.getCodes(argument);\n        return (T) code[0][0];\n    }\n    \n    public static void main(final String[] args) {\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\n        final int integerFlag = getFlag(&quot;integer&quot;);\n        final String stringFlag = getFlag(&quot;string&quot;);\n        final Object randomFlag = getFlag(&quot;random&quot;);\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\n        System.out.println(&quot;Integer: &quot; + integerFlag);\n        System.out.println(&quot;String:  &quot; + stringFlag);\n        System.out.println(&quot;Random:  &quot; + randomFlag);\n    }\n}\n</code></pre>\n<p>prints:</p>\n<blockquote>\n<p>Boolean: true<br />\nInteger: 0<br />\nString:  str<br />\nRandom:  null</p>\n</blockquote>\n<p>But when the type cannot be inferred, then it will not work. For example the following is a compilation error:</p>\n<pre><code>System.out.println(getFlag(&quot;any&quot;));\n</code></pre>\n<p>This is because <code>println</code> is overloaded (accepts different types).</p>\n<p>Note that with this method, you are also running the risk of a <code>java.lang.ClassCastException</code> if you don't known what type your <code>getCodes</code> will return. Take for example the following code:</p>\n<pre><code>public class Main {\n    \n    public static &lt;T&gt; T getFlag(final String argument) {\n        final Object[][] code = new Object[][]{new Object[]{&quot;Always a string!&quot;}}; //restConnector.getCodes(argument);\n        return (T) code[0][0];\n    }\n    \n    public static void main(final String[] args) {\n        final Boolean booleanFlag = getFlag(&quot;boolean&quot;);\n        final int integerFlag = getFlag(&quot;integer&quot;);\n        final String stringFlag = getFlag(&quot;string&quot;);\n        final Object randomFlag = getFlag(&quot;random&quot;);\n        System.out.println(&quot;Boolean: &quot; + booleanFlag);\n        System.out.println(&quot;Integer: &quot; + integerFlag);\n        System.out.println(&quot;String:  &quot; + stringFlag);\n        System.out.println(&quot;Random:  &quot; + randomFlag);\n    }\n}\n</code></pre>\n<p>... which throws a <code>java.lang.ClassCastException</code> in the first call.</p>\n<p>Finally note that you are also running the risk of a <code>java.lang.NullPointerException</code> if you don't known if your <code>getCodes</code> will return <code>null</code>. Replace for example <code>&quot;Always a string!&quot;</code> with <code>null</code> in the above code, and you will get a <code>java.lang.NullPointerException</code> in the <em>second</em> call.</p>\n"}],"owner":{"account_id":17197306,"reputation":119,"user_id":12449753,"display_name":"w97802"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682698031,"creation_date":1682689733,"question_id":76130250,"body_markdown":"I have a function that will:\r\n 1. make a REST call to an endpoint. The endpoint might return a String, Integer or Boolean depending on the field I want to query the endpoint for. \r\n 2. accordingly, we will cast the result to String/ Boolean/ Integer to be returned from the function.\r\n\r\nThe simplified version of the function is similar to this: \r\n```\r\nprivate Boolean getFlag (String argument) {\r\n   Object [][] code = restConnector.getCodes(argument);\r\n   return (Boolean) code[0][0]\r\n}\r\n```\r\n\r\nExcept for the return type, the code for the function is the same.\r\n\r\nThe simple way will be to have 3 functions, each have different return type, but this means a lot of boilerplate code (because except for return type, everything else is the same for 3 functions).\r\n\r\nI am wondering if there is a better way to design the code so that I only have 1 function / the boilerplate code could be minimal?\r\n\r\nThanks in advance.\r\n\r\n\r\n ","title":"Same method that could return 3 different types depending on REST call&#39;s result","body":"<p>I have a function that will:</p>\n<ol>\n<li>make a REST call to an endpoint. The endpoint might return a String, Integer or Boolean depending on the field I want to query the endpoint for.</li>\n<li>accordingly, we will cast the result to String/ Boolean/ Integer to be returned from the function.</li>\n</ol>\n<p>The simplified version of the function is similar to this:</p>\n<pre><code>private Boolean getFlag (String argument) {\n   Object [][] code = restConnector.getCodes(argument);\n   return (Boolean) code[0][0]\n}\n</code></pre>\n<p>Except for the return type, the code for the function is the same.</p>\n<p>The simple way will be to have 3 functions, each have different return type, but this means a lot of boilerplate code (because except for return type, everything else is the same for 3 functions).</p>\n<p>I am wondering if there is a better way to design the code so that I only have 1 function / the boilerplate code could be minimal?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apache-zookeeper"],"answers":[{"tags":[],"owner":{"account_id":2360600,"reputation":669,"user_id":2067335,"display_name":"Lagrang"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1610634649,"creation_date":1610634649,"answer_id":65720928,"question_id":65709722,"body_markdown":"Binary release of Zookeeper contains `bin` directory with following files in which you interested in:\r\n- zkServer.sh\r\n- zkEnv.sh\r\n\r\n`zkEnv.sh` defines location of all config files and some JVM tuning knobs, such as JVM heap size. JVM heap size can be changed by shell variable `ZK_SERVER_HEAP`(in MB).   \r\nUse following command to set custom heap size: \r\n```\r\ncd bin/\r\nZK_SERVER_HEAP=128 ./zkServer.sh start-foreground\r\n``` \r\n\r\nIn output of recent versions of Zookeeper you can find following lines: \r\n```\r\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=114MB\r\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=128MB\r\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=128MB\r\n```\r\n\r\nOther JVM opts can be set using `SERVER_JVMFLAGS`, for instance, use non default GC:\r\n```\r\nZK_SERVER_HEAP=128 SERVER_JVMFLAGS=&quot;-XX:+UseShenandoahGC&quot; ./zkServer.sh start-foreground\r\n```","title":"How do you configure the java heap size for zookeeper?","body":"<p>Binary release of Zookeeper contains <code>bin</code> directory with following files in which you interested in:</p>\n<ul>\n<li>zkServer.sh</li>\n<li>zkEnv.sh</li>\n</ul>\n<p><code>zkEnv.sh</code> defines location of all config files and some JVM tuning knobs, such as JVM heap size. JVM heap size can be changed by shell variable <code>ZK_SERVER_HEAP</code>(in MB).<br />\nUse following command to set custom heap size:</p>\n<pre><code>cd bin/\nZK_SERVER_HEAP=128 ./zkServer.sh start-foreground\n</code></pre>\n<p>In output of recent versions of Zookeeper you can find following lines:</p>\n<pre><code>2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.free=114MB\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.max=128MB\n2021-01-14 17:24:18,400 [myid:] - INFO  [main:Environment@98] - Server environment:os.memory.total=128MB\n</code></pre>\n<p>Other JVM opts can be set using <code>SERVER_JVMFLAGS</code>, for instance, use non default GC:</p>\n<pre><code>ZK_SERVER_HEAP=128 SERVER_JVMFLAGS=&quot;-XX:+UseShenandoahGC&quot; ./zkServer.sh start-foreground\n</code></pre>\n"}],"owner":{"account_id":17150251,"reputation":55,"user_id":12412339,"display_name":"CodifiedChaos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65720928,"answer_count":1,"score":1,"last_activity_date":1682697813,"creation_date":1610571713,"question_id":65709722,"body_markdown":"I am trying to set up Zookeeper 3.4.10 on an Ubuntu 18.04LTS Azure VM. \r\n\r\nPer the [ZooKeeper Administrator&#39;s Guide](https://zookeeper.apache.org/doc/r3.4.10/zookeeperAdmin.html#sc_maintenance)\r\n&quot;incorrect Java heap size\r\nYou should take special care to set your Java max heap size correctly. In particular, you should not create a situation in which ZooKeeper swaps to disk...&quot;\r\n\r\nThe guide does not give instructions on how to set the max heap size. I&#39;ve already done a little searching and found suggestions to create a java.env in the zookeeper/conf directory. I&#39;ve done this and have tried setting the variable using two different methods I&#39;ve found during research:\r\n\r\nAttempt #1:\r\n```\r\nexport JVMFLAGS=&quot;-Xmx6144m&quot;\r\n```\r\nAttempt #2\r\n```\r\n#!/bin/bash\r\nexport CLASSPATH=&quot;~/zookeeper-3.4.10/conf/log4j.properties&quot;\r\nexport JVMFLAGS=&quot;-Xmx6144m&quot;\r\n```\r\nAfter making these changes, and restarting zookeeper, I checked the java heap size with:\r\n```\r\njava -XshowSettings:vm\r\n```\r\nAnd the max heap size is not changing.\r\n\r\nWhat are the proper steps for configuring the max heap for zookeeper?\r\n","title":"How do you configure the java heap size for zookeeper?","body":"<p>I am trying to set up Zookeeper 3.4.10 on an Ubuntu 18.04LTS Azure VM.</p>\n<p>Per the <a href=\"https://zookeeper.apache.org/doc/r3.4.10/zookeeperAdmin.html#sc_maintenance\" rel=\"nofollow noreferrer\">ZooKeeper Administrator's Guide</a>\n&quot;incorrect Java heap size\nYou should take special care to set your Java max heap size correctly. In particular, you should not create a situation in which ZooKeeper swaps to disk...&quot;</p>\n<p>The guide does not give instructions on how to set the max heap size. I've already done a little searching and found suggestions to create a java.env in the zookeeper/conf directory. I've done this and have tried setting the variable using two different methods I've found during research:</p>\n<p>Attempt #1:</p>\n<pre><code>export JVMFLAGS=&quot;-Xmx6144m&quot;\n</code></pre>\n<p>Attempt #2</p>\n<pre><code>#!/bin/bash\nexport CLASSPATH=&quot;~/zookeeper-3.4.10/conf/log4j.properties&quot;\nexport JVMFLAGS=&quot;-Xmx6144m&quot;\n</code></pre>\n<p>After making these changes, and restarting zookeeper, I checked the java heap size with:</p>\n<pre><code>java -XshowSettings:vm\n</code></pre>\n<p>And the max heap size is not changing.</p>\n<p>What are the proper steps for configuring the max heap for zookeeper?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":4,"creation_date":1682697086,"post_id":76131152,"comment_id":134261471,"body_markdown":"Very complex topic. It doesn&#39;t has a simple answer.","body":"Very complex topic. It doesn&#39;t has a simple answer."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1682697156,"post_id":76131152,"comment_id":134261498,"body_markdown":"&quot;However many your CPU supports, minus however many seem to be persistently in use already&quot;. Less than that, you&#39;re leaving the CPU underutilized, more than that and you&#39;ll slowing down the work because of threads execution scheduling. So it depends entirely on both the hardware you&#39;re running on, and the software that hardware&#39;s already running, which will be different for every computer.","body":"&quot;However many your CPU supports, minus however many seem to be persistently in use already&quot;. Less than that, you&#39;re leaving the CPU underutilized, more than that and you&#39;ll slowing down the work because of threads execution scheduling. So it depends entirely on both the hardware you&#39;re running on, and the software that hardware&#39;s already running, which will be different for every computer."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1682698198,"post_id":76131152,"comment_id":134261697,"body_markdown":"OTOH, in order to deal with varying loads, the Fork-Join system in Java by default uses 4 x the number of CPU cores so that the system doesn&#39;t get starved for threads.  600 total threads is probably too much but some number less than 100 is probably acceptable.  I&#39;d be more concerned about why you have 600 threads in the first place, it seems like something is generating too many threads and needs a different strategy.","body":"OTOH, in order to deal with varying loads, the Fork-Join system in Java by default uses 4 x the number of CPU cores so that the system doesn&#39;t get starved for threads.  600 total threads is probably too much but some number less than 100 is probably acceptable.  I&#39;d be more concerned about why you have 600 threads in the first place, it seems like something is generating too many threads and needs a different strategy."},{"owner":{"account_id":23229984,"reputation":27,"user_id":17320905,"display_name":"sion"},"score":0,"creation_date":1682699075,"post_id":76131152,"comment_id":134261883,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans I just want to find a suitable pool size under the idea condition  .","body":"@Mike&#39;Pomax&#39;Kamermans I just want to find a suitable pool size under the idea condition  ."},{"owner":{"account_id":23229984,"reputation":27,"user_id":17320905,"display_name":"sion"},"score":0,"creation_date":1682699078,"post_id":76131152,"comment_id":134261884,"body_markdown":"@markspace 600 threads are created because the thread pool size is set to 600 now, and the QPS of this service is more than 1000. It seems like reducing the pool size to some number around 50 is a good idea.","body":"@markspace 600 threads are created because the thread pool size is set to 600 now, and the QPS of this service is more than 1000. It seems like reducing the pool size to some number around 50 is a good idea."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1682700230,"post_id":76131152,"comment_id":134262142,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans, What do you mean by &quot;However many your CPU supports?&quot; Do you mean, however many your CPU can execute in parallel? That&#39;s great advice if the threads are working cooperatively to perform a massive calculation, but there are other reasons for using threads. In a web crawler, for example, it might make sense if, for every thread that actually was running on a CPU, there were ten other threads that were blocked, awaiting replies from different web sites.","body":"@Mike&#39;Pomax&#39;Kamermans, What do you mean by &quot;However many your CPU supports?&quot; Do you mean, however many your CPU can execute in parallel? That&#39;s great advice if the threads are working cooperatively to perform a massive calculation, but there are other reasons for using threads. In a web crawler, for example, it might make sense if, for every thread that actually was running on a CPU, there were ten other threads that were blocked, awaiting replies from different web sites."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1682700509,"post_id":76131152,"comment_id":134262203,"body_markdown":"@SolomonSlow tying back into the first comment.","body":"@SolomonSlow tying back into the first comment."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1682700622,"post_id":76131152,"comment_id":134262230,"body_markdown":"@sion There are no ideal conditions, you&#39;re always going to have to juggle your own threads around whatever the rest of the system&#39;s doing, so figure out how many threads you absolutely need at minimum, and benchmark your project in terms of when adding more threads leads to diminishing returns. Ideally in a way that lets you do that analysis while your project&#39;s running so it can limit or expand the number of threads it&#39;s using. There are no simple solutions here, you picked one of the hardest problems to ask about.","body":"@sion There are no ideal conditions, you&#39;re always going to have to juggle your own threads around whatever the rest of the system&#39;s doing, so figure out how many threads you absolutely need at minimum, and benchmark your project in terms of when adding more threads leads to diminishing returns. Ideally in a way that lets you do that analysis while your project&#39;s running so it can limit or expand the number of threads it&#39;s using. There are no simple solutions here, you picked one of the hardest problems to ask about."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1682756738,"post_id":76131152,"comment_id":134268303,"body_markdown":"Add details on which thread pool are you talking about, and what do those thread do - that may help you decide on more suitable balance.","body":"Add details on which thread pool are you talking about, and what do those thread do - that may help you decide on more suitable balance."}],"owner":{"account_id":23229984,"reputation":27,"user_id":17320905,"display_name":"sion"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682696843,"creation_date":1682696216,"question_id":76131152,"body_markdown":"I am digging into the stack dumped by jstack to find out the reason why CPU usage is quite high. According to the stack, there are more than 200 threads RUNNABLE and 400 threads WAITING. Should I reduce the thread pool until RUNNABLE threads reducing to 8, which is the number of cores.\r\n\r\nIs there any good documents about how to adjust the thread pool size.\r\n\r\nThere are many blogs suggesting to set thread pool size according to the time cost by waiting time and cpu time, but there is no idea tool to testing them. I am not quite familiar tuning java application, but it is common sense that only 8 thread can be executed at the same time in a machine with 8 cores.\r\n","title":"How many runnable thread is suitable in jvm?","body":"<p>I am digging into the stack dumped by jstack to find out the reason why CPU usage is quite high. According to the stack, there are more than 200 threads RUNNABLE and 400 threads WAITING. Should I reduce the thread pool until RUNNABLE threads reducing to 8, which is the number of cores.</p>\n<p>Is there any good documents about how to adjust the thread pool size.</p>\n<p>There are many blogs suggesting to set thread pool size according to the time cost by waiting time and cpu time, but there is no idea tool to testing them. I am not quite familiar tuning java application, but it is common sense that only 8 thread can be executed at the same time in a machine with 8 cores.</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":2664162,"reputation":538,"user_id":2303116,"accept_rate":82,"display_name":"Julia"},"score":0,"creation_date":1512046656,"post_id":47574061,"comment_id":82104800,"body_markdown":"I want to choose it during runtime. If it&#39;s possible, I would like to have two different @GetMapping methods, and each one execute one different job. How can I do it?","body":"I want to choose it during runtime. If it&#39;s possible, I would like to have two different @GetMapping methods, and each one execute one different job. How can I do it?"},{"owner":{"account_id":8104502,"reputation":48,"user_id":6106524,"display_name":"Anatolie Lupacescu"},"score":0,"creation_date":1512046810,"post_id":47574061,"comment_id":82104894,"body_markdown":"you don&#39;t actually need that, just use one: `@GetMapping(&quot;/invokejob/{jobId}/{strFecha}&quot;)` and then in the method have an ```if (&quot;job1&quot;.equals(jobId) {} else {}``` statement that would choose which job to run. Just a reminder - you need to autowire both your beans (and using the @Qualifier to allow the container to distinguish between them)","body":"you don&#39;t actually need that, just use one: <code>@GetMapping(&quot;&#47;invokejob&#47;{jobId}&#47;{strFecha}&quot;)</code> and then in the method have an <code>if (&quot;job1&quot;.equals(jobId) {} else {}</code> statement that would choose which job to run. Just a reminder - you need to autowire both your beans (and using the @Qualifier to allow the container to distinguish between them)"},{"owner":{"account_id":8104502,"reputation":48,"user_id":6106524,"display_name":"Anatolie Lupacescu"},"score":0,"creation_date":1512048112,"post_id":47574061,"comment_id":82105741,"body_markdown":"Here&#39;s what I am trying to say: https://gist.github.com/anatollupacescu/924bb63326e4f6d845bdc8be772149ed, feel free to comment directly on github.","body":"Here&#39;s what I am trying to say: <a href=\"https://gist.github.com/anatollupacescu/924bb63326e4f6d845bdc8be772149ed\" rel=\"nofollow noreferrer\">gist.github.com/anatollupacescu/&hellip;</a>, feel free to comment directly on github."}],"tags":[],"owner":{"account_id":8104502,"reputation":48,"user_id":6106524,"display_name":"Anatolie Lupacescu"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1512046542,"creation_date":1512046542,"answer_id":47574061,"question_id":47573521,"body_markdown":"When do you want to choose the job you want to run?\r\nIf it&#39;s before the application starts I would recommend using profiles and then activating the profile for the job you want to run (`-Dspring.profiles.active=job1`)\r\nOr if you want to choose during run-time then just @Autowire both of your jobs you can use qualifiers like described here: https://stackoverflow.com/questions/40830548/spring-autowired-and-qualifier","title":"Have multiple jobs and choose which one I want to run in Spring","body":"<p>When do you want to choose the job you want to run?\nIf it's before the application starts I would recommend using profiles and then activating the profile for the job you want to run (<code>-Dspring.profiles.active=job1</code>)\nOr if you want to choose during run-time then just @Autowire both of your jobs you can use qualifiers like described here: <a href=\"https://stackoverflow.com/questions/40830548/spring-autowired-and-qualifier\">Spring @Autowired and @Qualifier</a></p>\n"}],"owner":{"account_id":2664162,"reputation":538,"user_id":2303116,"accept_rate":82,"display_name":"Julia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47574061,"answer_count":1,"score":0,"last_activity_date":1682696814,"creation_date":1512044913,"question_id":47573521,"body_markdown":"I need to implement two different jobs, and choose which one of them I want to run, but I currently can&#39;t, it is giving me the following error:\r\n\r\n&gt;Field processJob in JobInvokerController required a single bean, but 2 were found:  \r\n&gt;- procesaClientesJob: defined by method &#39;procesaClientesJob&#39; in class path resource [BatchConfig.class]  \r\n&gt;- procesaParcialClientesJob: defined by method &#39;procesaParcialClientesJob&#39; in class path resource [BatchConfig.class]\r\n\r\n\r\nAction:\r\n\r\nConsider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed\r\n\r\nMy BatchConfig.java is like:\r\n\r\n[....]\r\n\r\n    @Bean\r\n    \tJob procesaClientesJob(JobBuilderFactory jobBuilderFactory,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaIdsClientes&quot;) Flow flowCargaIdsClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaDatosClientes&quot;) Flow flowCargaDatosClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\r\n    \t\t\t\t\t\t   ) {\r\n    \t\treturn jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\r\n    \t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t.start(flowCargaIdsClientes).next(flowCargaDatosClientes).end()\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t\r\n    \t@Bean\r\n    \tJob procesaParcialClientesJob(JobBuilderFactory jobBuilderFactory,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\r\n    \t\t\t\t\t\t   @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\r\n    \t\t\t\t\t\t   ) {\r\n    \t\treturn jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\r\n    \t\t\t\t\t\t\t\t.incrementer(new RunIdIncrementer())\r\n    \t\t\t\t\t\t\t\t.start(flowCargaParcialIdsClientes).next(flowCargaParcialDatosClientes).end()\r\n    \t\t\t\t\t\t\t\t.build();\r\n    \t}\r\n\r\nMy class JobInvokeController.java is like:\r\n\r\n    @RestController\r\n    public class JobInvokerController {\r\n    \tprivate static final Logger log = Logger.getLogger(JobInvokerController.class);\r\n    \t\r\n        @Autowired\r\n        JobLauncher jobLauncher;\r\n     \r\n        @Autowired\r\n        Job processJob;\r\n     \r\n        @GetMapping(&quot;/invokejob/{strFecha}&quot;)\r\n        public String invokejob(@PathVariable String strFecha) throws Exception {\r\n        \tDate fecha;\r\n        \tif (log.isDebugEnabled()) {\r\n        \t\tlog.debug(&quot;Procesamos el par&#225;metro de entrada &quot; + strFecha);\r\n        \t}\r\n    \r\n        \ttry {\r\n        \t\tif (!StringUtils.isEmpty(strFecha)) {\r\n        \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n            \t\tfecha = sdf.parse(strFecha);\r\n            \t} else {\r\n            \t\tfecha = new Date();\r\n            \t}\r\n        \t} catch (Exception e) {\r\n        \t\tfecha = new Date();\r\n        \t}\r\n    \r\n        \tif (log.isDebugEnabled()) {\r\n        \t\tlog.debug(&quot;Invocamos al batch con la fecha: &quot; + fecha);\r\n        \t}\r\n        \t\r\n        \tJobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;,System.currentTimeMillis()).addDate(&quot;fecha&quot;, fecha).toJobParameters();\r\n            jobLauncher.run(processJob, jobParameters);\r\n     \r\n            return &quot;Batch job has been invoked&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nAnd I also have a SpringBatchApplication.java:\r\n\r\n    @SpringBootApplication\r\n    public class SpringBatchApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringBatchApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nHow can I have two simultaneous jobs and choose what I want to run?","title":"Have multiple jobs and choose which one I want to run in Spring","body":"<p>I need to implement two different jobs, and choose which one of them I want to run, but I currently can't, it is giving me the following error:</p>\n<blockquote>\n<p>Field processJob in JobInvokerController required a single bean, but 2 were found:</p>\n<ul>\n<li>procesaClientesJob: defined by method 'procesaClientesJob' in class path resource [BatchConfig.class]</li>\n<li>procesaParcialClientesJob: defined by method 'procesaParcialClientesJob' in class path resource [BatchConfig.class]</li>\n</ul>\n</blockquote>\n<p>Action:</p>\n<p>Consider marking one of the beans as @Primary, updating the consumer to accept multiple beans, or using @Qualifier to identify the bean that should be consumed</p>\n<p>My BatchConfig.java is like:</p>\n<p>[....]</p>\n<pre><code>@Bean\n    Job procesaClientesJob(JobBuilderFactory jobBuilderFactory,\n                           @Qualifier(&quot;flowCargaIdsClientes&quot;) Flow flowCargaIdsClientes,\n                           @Qualifier(&quot;flowCargaDatosClientes&quot;) Flow flowCargaDatosClientes,\n                           @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\n                           @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\n                           ) {\n        return jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(flowCargaIdsClientes).next(flowCargaDatosClientes).end()\n                .build();\n    }\n\n    \n    @Bean\n    Job procesaParcialClientesJob(JobBuilderFactory jobBuilderFactory,\n                           @Qualifier(&quot;flowCargaParcialIdsClientes&quot;) Flow flowCargaParcialIdsClientes,\n                           @Qualifier(&quot;flowCargaParcialDatosClientes&quot;) Flow flowCargaParcialDatosClientes\n                           ) {\n        return jobBuilderFactory.get(&quot;procesaClientesJob&quot;)\n                                .incrementer(new RunIdIncrementer())\n                                .start(flowCargaParcialIdsClientes).next(flowCargaParcialDatosClientes).end()\n                                .build();\n    }\n</code></pre>\n<p>My class JobInvokeController.java is like:</p>\n<pre><code>@RestController\npublic class JobInvokerController {\n    private static final Logger log = Logger.getLogger(JobInvokerController.class);\n    \n    @Autowired\n    JobLauncher jobLauncher;\n \n    @Autowired\n    Job processJob;\n \n    @GetMapping(&quot;/invokejob/{strFecha}&quot;)\n    public String invokejob(@PathVariable String strFecha) throws Exception {\n        Date fecha;\n        if (log.isDebugEnabled()) {\n            log.debug(&quot;Procesamos el par√°metro de entrada &quot; + strFecha);\n        }\n\n        try {\n            if (!StringUtils.isEmpty(strFecha)) {\n                SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\n                fecha = sdf.parse(strFecha);\n            } else {\n                fecha = new Date();\n            }\n        } catch (Exception e) {\n            fecha = new Date();\n        }\n\n        if (log.isDebugEnabled()) {\n            log.debug(&quot;Invocamos al batch con la fecha: &quot; + fecha);\n        }\n        \n        JobParameters jobParameters = new JobParametersBuilder().addLong(&quot;time&quot;,System.currentTimeMillis()).addDate(&quot;fecha&quot;, fecha).toJobParameters();\n        jobLauncher.run(processJob, jobParameters);\n \n        return &quot;Batch job has been invoked&quot;;\n    }\n    \n}\n</code></pre>\n<p>And I also have a SpringBatchApplication.java:</p>\n<pre><code>@SpringBootApplication\npublic class SpringBatchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBatchApplication.class, args);\n    }\n}\n</code></pre>\n<p>How can I have two simultaneous jobs and choose what I want to run?</p>\n"},{"tags":["java","android","kotlin","datetime"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1682695223,"post_id":76130927,"comment_id":134261073,"body_markdown":"What is `DateUtils`?","body":"What is <code>DateUtils</code>?"},{"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"score":1,"creation_date":1682695963,"post_id":76130927,"comment_id":134261232,"body_markdown":"I think it&#39;s from Android: https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(android.content.Context,%20long,%20boolean)","body":"I think it&#39;s from Android: <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(android.content.Context,%20long,%20boolean)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/text/format/&hellip;</a>"},{"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":1,"creation_date":1682696074,"post_id":76130927,"comment_id":134261253,"body_markdown":"@SedJ601 I am sorry, I didn&#39;t include it in the question. I added the fully qualified path, hopefully its more clear now!","body":"@SedJ601 I am sorry, I didn&#39;t include it in the question. I added the fully qualified path, hopefully its more clear now!"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682696277,"post_id":76130927,"comment_id":134261308,"body_markdown":"I think you are using [this](https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)) method. It&#39;s not going to show any time. It is going to show time as a time relative to now, according to the document. Things like `42 minutes ago`, `Yesterday`, `Tomorrow`, etc.","body":"I think you are using <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)\" rel=\"nofollow noreferrer\">this</a> method. It&#39;s not going to show any time. It is going to show time as a time relative to now, according to the document. Things like <code>42 minutes ago</code>, <code>Yesterday</code>, <code>Tomorrow</code>, etc."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682696551,"post_id":76130927,"comment_id":134261364,"body_markdown":"It&#39;s clearer now.","body":"It&#39;s clearer now."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1682696672,"post_id":76130927,"comment_id":134261393,"body_markdown":"I think this method only takes one of two flags, `FORMAT_NUMERIC_DATE` or `FORMAT_ABBREV_RELATIVE`. I am not 100% sure about this, though. My Android is very limited.","body":"I think this method only takes one of two flags, <code>FORMAT_NUMERIC_DATE</code> or <code>FORMAT_ABBREV_RELATIVE</code>. I am not 100% sure about this, though. My Android is very limited."}],"answers":[{"tags":[],"owner":{"account_id":2712514,"reputation":10118,"user_id":2340612,"accept_rate":83,"display_name":"user2340612"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682696630,"creation_date":1682696630,"answer_id":76131214,"question_id":76130927,"body_markdown":"According to the documentation, `FORMAT_SHOW_TIME` is only relevant to method [`formatDateRange`][1]. The documentation for [`getRelativeTimeSpanString`][2] says the only valid flags are `FORMAT_NUMERIC_DATE or FORMAT_ABBREV_RELATIVE` so I&#39;d say it&#39;s working as intended\r\n \r\n[1]: https://developer.android.com/reference/android/text/format/DateUtils#formatDateRange(android.content.Context,%20java.util.Formatter,%20long,%20long,%20int,%20java.lang.String)\r\n[2]: https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)","title":"Why does FORMAT_SHOW_TIME doesn&#39;t show the time when using getRelativeTimeSpanString?","body":"<p>According to the documentation, <code>FORMAT_SHOW_TIME</code> is only relevant to method <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#formatDateRange(android.content.Context,%20java.util.Formatter,%20long,%20long,%20int,%20java.lang.String)\" rel=\"nofollow noreferrer\"><code>formatDateRange</code></a>. The documentation for <a href=\"https://developer.android.com/reference/android/text/format/DateUtils#getRelativeTimeSpanString(long,%20long,%20long,%20int)\" rel=\"nofollow noreferrer\"><code>getRelativeTimeSpanString</code></a> says the only valid flags are <code>FORMAT_NUMERIC_DATE or FORMAT_ABBREV_RELATIVE</code> so I'd say it's working as intended</p>\n"}],"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682696630,"creation_date":1682694702,"question_id":76130927,"body_markdown":"This just gives me `Yesterday`, however I would expect `Yesterday, 11:00 AM` because I used the `FORMAT_SHOW_TIME` flag. Why doesn&#39;t this work?\r\n\r\n```\r\nandroid.text.format.DateUtils.getRelativeTimeSpanString(\r\n    currentTimeInMilliseconds() - 1_000 * 60 * 60 * 25,\r\n    System.currentTimeMillis(),\r\n    MINUTE_IN_MILLIS,\r\n    FORMAT_SHOW_TIME\r\n)\r\n```","title":"Why does FORMAT_SHOW_TIME doesn&#39;t show the time when using getRelativeTimeSpanString?","body":"<p>This just gives me <code>Yesterday</code>, however I would expect <code>Yesterday, 11:00 AM</code> because I used the <code>FORMAT_SHOW_TIME</code> flag. Why doesn't this work?</p>\n<pre><code>android.text.format.DateUtils.getRelativeTimeSpanString(\n    currentTimeInMilliseconds() - 1_000 * 60 * 60 * 25,\n    System.currentTimeMillis(),\n    MINUTE_IN_MILLIS,\n    FORMAT_SHOW_TIME\n)\n</code></pre>\n"},{"tags":["java","mysql","jdbc","precision"],"comments":[{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1682702103,"post_id":76130901,"comment_id":134262536,"body_markdown":"`float` is an approximate numeric data type all the time, so you shouldn&#39;t rely on it not rounding off. Read https://dev.mysql.com/doc/refman/8.0/en/problems-with-float.html","body":"<code>float</code> is an approximate numeric data type all the time, so you shouldn&#39;t rely on it not rounding off. Read <a href=\"https://dev.mysql.com/doc/refman/8.0/en/problems-with-float.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/8.0/en/problems-with-float.html</a>"}],"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682696576,"creation_date":1682694525,"question_id":76130901,"body_markdown":"In our application recently we had to change the Mysql connection param `useServerPrepStmts` from `true` to `false` for various reason.\r\n\r\nAfter the change, we found that, this started affecting the precision of the value of `float` columns queried from DB. When the param was `true`, we were exactly getting what we were setting. After it is set to `false`, the float values are rounded off to 5 digits. \r\n\r\nAny idea why is this happening and what&#39;s the right way to fix it?","title":"Mysql useServerPrepStmts affects the precision of queried float value","body":"<p>In our application recently we had to change the Mysql connection param <code>useServerPrepStmts</code> from <code>true</code> to <code>false</code> for various reason.</p>\n<p>After the change, we found that, this started affecting the precision of the value of <code>float</code> columns queried from DB. When the param was <code>true</code>, we were exactly getting what we were setting. After it is set to <code>false</code>, the float values are rounded off to 5 digits.</p>\n<p>Any idea why is this happening and what's the right way to fix it?</p>\n"},{"tags":["java","eclipse","class","object","superclass"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1682694192,"post_id":76130827,"comment_id":134260837,"body_markdown":"Navigate &gt; Open Type... and type in Object. It is not all that interesting as a lot of methods are `native`","body":"Navigate &gt; Open Type... and type in Object. It is not all that interesting as a lot of methods are <code>native</code>"}],"answers":[{"tags":[],"owner":{"account_id":11986209,"reputation":1,"user_id":8770656,"display_name":"user8770656"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682696563,"creation_date":1682696563,"answer_id":76131200,"question_id":76130827,"body_markdown":"Hold on ctrl key and right click on any class you want see source code.","title":"How to open Object class of java.lang package in eclipse ide?","body":"<p>Hold on ctrl key and right click on any class you want see source code.</p>\n"}],"owner":{"account_id":28446559,"reputation":1,"user_id":21765193,"display_name":"Hema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682696563,"creation_date":1682693899,"question_id":76130827,"body_markdown":"How to open the Object class of java.lang package in eclipse ide? Every class in java is directly or indirectly derived from the Object class, hence it is a child of the Object class. So how do I view this Object class in eclipse ide? \r\n\r\nObject class is the default parent class of all the classes in java but I just want to open this class file in eclipse ide. I&#39;m unable to do it. How to open this class file?","title":"How to open Object class of java.lang package in eclipse ide?","body":"<p>How to open the Object class of java.lang package in eclipse ide? Every class in java is directly or indirectly derived from the Object class, hence it is a child of the Object class. So how do I view this Object class in eclipse ide?</p>\n<p>Object class is the default parent class of all the classes in java but I just want to open this class file in eclipse ide. I'm unable to do it. How to open this class file?</p>\n"},{"tags":["java","android","android-package-managers"],"owner":{"account_id":22534564,"reputation":1,"user_id":16726070,"display_name":"Kira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682696472,"creation_date":1682696472,"question_id":76131189,"body_markdown":"Im trying to get all apps and separate it to User Installed and System apps using PackageManager.I can get all apps but I can&#39;t figure out how to separate them.\r\n\r\nThis is my current approach:\r\n```java\r\npublic List&lt;ApplicationInfo&gt; getApps(String s) {\r\n\t\tList&lt;ApplicationInfo&gt; list = getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\r\n\t\tList&lt;ApplicationInfo&gt; userApps = new ArrayList&lt;&gt;();\r\n\t\tList&lt;ApplicationInfo&gt; sysApps = new ArrayList&lt;&gt;();\r\n\r\n\t\tfor (ApplicationInfo app : list) {\r\n\r\n\t\t\tif (getPackageManager().getLaunchIntentForPackage(app.packageName)==null) {\r\n\t\t\t\t\r\n\t\t\t\tsysApps.add(app);\r\n\t\t\t} else {\r\n\t\t\t\tuserApps.add(app);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(s.equals(USER_APPS)){\r\n\t\t\treturn userApps;\r\n\t\t}else {\r\n\t\t\treturn sysApps;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nThis returns user apps but there are still some pre installed apps like clock, calendar, weather etc, which are not safe to close. Any app that is preinstalled should be considered a system app and not a user app.\r\n\r\nI need this in order to automatically force-stop apps.","title":"How To Get System Apps And User Installed Apps separately","body":"<p>Im trying to get all apps and separate it to User Installed and System apps using PackageManager.I can get all apps but I can't figure out how to separate them.</p>\n<p>This is my current approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;ApplicationInfo&gt; getApps(String s) {\n        List&lt;ApplicationInfo&gt; list = getPackageManager().getInstalledApplications(PackageManager.GET_META_DATA);\n        List&lt;ApplicationInfo&gt; userApps = new ArrayList&lt;&gt;();\n        List&lt;ApplicationInfo&gt; sysApps = new ArrayList&lt;&gt;();\n\n        for (ApplicationInfo app : list) {\n\n            if (getPackageManager().getLaunchIntentForPackage(app.packageName)==null) {\n                \n                sysApps.add(app);\n            } else {\n                userApps.add(app);\n            }\n        }\n\n        if(s.equals(USER_APPS)){\n            return userApps;\n        }else {\n            return sysApps;\n        }\n    }\n</code></pre>\n<p>This returns user apps but there are still some pre installed apps like clock, calendar, weather etc, which are not safe to close. Any app that is preinstalled should be considered a system app and not a user app.</p>\n<p>I need this in order to automatically force-stop apps.</p>\n"},{"tags":["java","binary-search-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682626450,"post_id":76124245,"comment_id":134249836,"body_markdown":"Your code is never returning a node from the tree. It returns a newly constructed node. This is not what is expected.","body":"Your code is never returning a node from the tree. It returns a newly constructed node. This is not what is expected."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682626832,"post_id":76124245,"comment_id":134249909,"body_markdown":"When two nodes have values that are not in the expected BST order, then which of the two nodes are the one to return? Can you quote the code challenge literally?","body":"When two nodes have values that are not in the expected BST order, then which of the two nodes are the one to return? Can you quote the code challenge literally?"},{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1682627686,"post_id":76124245,"comment_id":134250050,"body_markdown":"You don&#39;t need maxValue or minValue methods. Just keep checking the left and right nodes at each node for BST property and recurse. And your code probably should return rootNode instead of rootNode.left or rootNode.right if the BST property is broken.","body":"You don&#39;t need maxValue or minValue methods. Just keep checking the left and right nodes at each node for BST property and recurse. And your code probably should return rootNode instead of rootNode.left or rootNode.right if the BST property is broken."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682628820,"post_id":76124245,"comment_id":134250250,"body_markdown":"@SomeDude, how do you know they *&quot;probably should return rootNode instead of rooNode.left or rootNode.right&quot;*? Do you have access to the original code challenge where this is specified?","body":"@SomeDude, how do you know they <i>&quot;probably should return rootNode instead of rooNode.left or rootNode.right&quot;</i>? Do you have access to the original code challenge where this is specified?"},{"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"score":0,"creation_date":1682628982,"post_id":76124245,"comment_id":134250272,"body_markdown":"@trincot I don&#39;t know the code challenge. It is my guess that it should return rootNode because you don&#39;t know whether it is left or right that breaks the property , it could be both in which case we don&#39;t know what to return. And that could be one of the reasons why OP&#39;s code is returning so many incorrect values (it is inefficient nonetheless and incorrect too as it returns new Node)","body":"@trincot I don&#39;t know the code challenge. It is my guess that it should return rootNode because you don&#39;t know whether it is left or right that breaks the property , it could be both in which case we don&#39;t know what to return. And that could be one of the reasons why OP&#39;s code is returning so many incorrect values (it is inefficient nonetheless and incorrect too as it returns new Node)"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1682630034,"post_id":76124245,"comment_id":134250464,"body_markdown":"Well, yes the new Node is the main issue, which I raised at the first comment here, but the argument that there could be more violations doesn&#39;t really work, as there may be other locations in the tree that have violations too. The point is that even when there is only a single violation there are still two nodes involved, and it is not specified which one to return.","body":"Well, yes the new Node is the main issue, which I raised at the first comment here, but the argument that there could be more violations doesn&#39;t really work, as there may be other locations in the tree that have violations too. The point is that even when there is only a single violation there are still two nodes involved, and it is not specified which one to return."},{"owner":{"account_id":28438549,"reputation":7,"user_id":21758270,"display_name":"MissMidg"},"score":0,"creation_date":1682633352,"post_id":76124245,"comment_id":134250942,"body_markdown":"For the challenge it says to implement checkBSTValidity() that takes the tree&#39;s root node as a parameter and returns the node that violating node. A violating node will be one of three things:\nA node in the left subtree of an ancestor with a lesser key\nA node in the right subtree of an ancestor with a greater key\nA node with the left or right field referencing an ancestor","body":"For the challenge it says to implement checkBSTValidity() that takes the tree&#39;s root node as a parameter and returns the node that violating node. A violating node will be one of three things: A node in the left subtree of an ancestor with a lesser key A node in the right subtree of an ancestor with a greater key A node with the left or right field referencing an ancestor"}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1682664941,"creation_date":1682628584,"answer_id":76124548,"question_id":76124245,"body_markdown":"The main issue is that your function is creating a new Node instance and returns that, while the task is to return a node that already exists in the tree.\r\n\r\nBut in comments you also mention that the function should check whether a child node is the same node reference as one of its ancestors. There is no provision for that in your code. I would suggest to use a HashSet for that purpose, to which you can add a node each time you recur to one of the sub trees.\r\n\r\nFinally, it is not efficient to call `minValue` and `maxValue` on every node, as this way you&#39;ll visit nodes multiple times, giving the whole process a time complexity of O(&#119899;log&#119899;), while this can be done with O(&#119899;) time complexity.\r\n\r\nOne idea is to pass to the recursive call a &quot;window&quot; that must contain all values in the subtree. Initially this window is unbounded. If the data type for the keys is `int`, we could use `Integer.MIN_VALUE` and `Integer.MAX_VALUE` as boundaries of the window.\r\n\r\nHere is how it could be coded:\r\n\r\n```\r\nprivate static Node checkBSTValidity(Node rootNode, int low, int high,\r\n                                     HashSet&lt;Node&gt; ancestors) {\r\n    if (rootNode == null) {\r\n        return null;\r\n    }\r\n    // Track each ancestor as we traverse down the tree\r\n    ancestors.add(rootNode);\r\n    // Any violation?\r\n    if (rootNode.key &lt; low || rootNode.key &gt; high \r\n            || ancestors.contains(rootNode.left) \r\n            || ancestors.contains(rootNode.right)) {\r\n        return rootNode;\r\n    }\r\n    // Check the sub trees\r\n    Node node = checkBSTValidity(rootNode.left, low, rootNode.key, ancestors);\r\n    if (node == null) {\r\n        node = checkBSTValidity(rootNode.right, rootNode.key, high, ancestors);\r\n    }\r\n    ancestors.remove(rootNode); // Backtrack\r\n    return node;\r\n}\r\n\r\npublic static Node checkBSTValidity(Node rootNode) {\r\n    HashSet&lt;Node&gt; ancestors = new HashSet&lt;&gt;();\r\n    return checkBSTValidity(rootNode, Integer.MIN_VALUE, Integer.MAX_VALUE,\r\n                            ancestors);\r\n}\r\n```\r\n\r\nTo collect all ancestors in a set may seem overkill, but it is needed to track all of them in case duplicate keys are allowed in the tree. We could have a path down the tree with nodes that all have the same keys, and where a child is a reference to one of those ancestors. In that case the key would not violate the BST property, but the back reference should still be detected.\r\n","title":"Java: How to return the node the breaks a binary search tree?","body":"<p>The main issue is that your function is creating a new Node instance and returns that, while the task is to return a node that already exists in the tree.</p>\n<p>But in comments you also mention that the function should check whether a child node is the same node reference as one of its ancestors. There is no provision for that in your code. I would suggest to use a HashSet for that purpose, to which you can add a node each time you recur to one of the sub trees.</p>\n<p>Finally, it is not efficient to call <code>minValue</code> and <code>maxValue</code> on every node, as this way you'll visit nodes multiple times, giving the whole process a time complexity of O(ùëõlogùëõ), while this can be done with O(ùëõ) time complexity.</p>\n<p>One idea is to pass to the recursive call a &quot;window&quot; that must contain all values in the subtree. Initially this window is unbounded. If the data type for the keys is <code>int</code>, we could use <code>Integer.MIN_VALUE</code> and <code>Integer.MAX_VALUE</code> as boundaries of the window.</p>\n<p>Here is how it could be coded:</p>\n<pre><code>private static Node checkBSTValidity(Node rootNode, int low, int high,\n                                     HashSet&lt;Node&gt; ancestors) {\n    if (rootNode == null) {\n        return null;\n    }\n    // Track each ancestor as we traverse down the tree\n    ancestors.add(rootNode);\n    // Any violation?\n    if (rootNode.key &lt; low || rootNode.key &gt; high \n            || ancestors.contains(rootNode.left) \n            || ancestors.contains(rootNode.right)) {\n        return rootNode;\n    }\n    // Check the sub trees\n    Node node = checkBSTValidity(rootNode.left, low, rootNode.key, ancestors);\n    if (node == null) {\n        node = checkBSTValidity(rootNode.right, rootNode.key, high, ancestors);\n    }\n    ancestors.remove(rootNode); // Backtrack\n    return node;\n}\n\npublic static Node checkBSTValidity(Node rootNode) {\n    HashSet&lt;Node&gt; ancestors = new HashSet&lt;&gt;();\n    return checkBSTValidity(rootNode, Integer.MIN_VALUE, Integer.MAX_VALUE,\n                            ancestors);\n}\n</code></pre>\n<p>To collect all ancestors in a set may seem overkill, but it is needed to track all of them in case duplicate keys are allowed in the tree. We could have a path down the tree with nodes that all have the same keys, and where a child is a reference to one of those ancestors. In that case the key would not violate the BST property, but the back reference should still be detected.</p>\n"}],"owner":{"account_id":28438549,"reputation":7,"user_id":21758270,"display_name":"MissMidg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76124548,"answer_count":1,"score":-2,"last_activity_date":1682696226,"creation_date":1682625957,"question_id":76124245,"body_markdown":"Working on a method that is supposed to return the node that breaks a binary search tree, or null if none of them do. A few of the test cases pass but some of them are failing and I&#39;m not sure why. \r\nHere&#39;s my code so far:\r\n\r\n\tpublic static Node checkBSTValidity(Node rootNode) {\r\n\t\t// Your code here (remove the placeholder line below)\r\n\t\tif (rootNode == null) {\r\n\t\t   return null;\r\n\t\t}\r\n\t\t\r\n\t\t// Check if left child node is greater than root node\r\n\t\tif (rootNode.left != null &amp;&amp; maxValue(rootNode.left) &gt;= rootNode.key) {\r\n\t\t   Node node = new Node(maxValue(rootNode.left));\r\n\t\t   return node;\r\n\t\t}\r\n\t\t\r\n\t\t// Check if right child node is less than root node\r\n\t\tif (rootNode.right != null &amp;&amp; minValue(rootNode.right) &lt;= rootNode.key) {\r\n\t\t   Node node = new Node(minValue(rootNode.right));\r\n\t\t   return node;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tNode leftResult = checkBSTValidity(rootNode.left);\r\n\t\t\r\n\t\tif (leftResult != null) {\r\n\t\t   return leftResult;\r\n\t\t}\r\n\t\t\r\n\t\treturn checkBSTValidity(rootNode.right);\r\n\t\t\r\n\t}\r\n\r\nAfter submitting the code above, it says: Invalid tree with left/right child linking to ancestor, and my program produces no output. It also says: Invalid tree with left child&#39;s key greater than parent&#39;s key doesn&#39;t return the correct node. Any help would be appreciated!\r\n\r\nEdit: For the challenge it says to implement checkBSTValidity() that takes the tree&#39;s root node as a parameter and returns the node that is violating tree. A violating node will be one of three things: \r\n\r\n1. A node in the left subtree of an ancestor with a lesser key \r\n2. A node in the right subtree of an ancestor with a greater key \r\n3. A node with the left or right field referencing an ancestor","title":"Java: How to return the node the breaks a binary search tree?","body":"<p>Working on a method that is supposed to return the node that breaks a binary search tree, or null if none of them do. A few of the test cases pass but some of them are failing and I'm not sure why.\nHere's my code so far:</p>\n<pre><code>public static Node checkBSTValidity(Node rootNode) {\n    // Your code here (remove the placeholder line below)\n    if (rootNode == null) {\n       return null;\n    }\n    \n    // Check if left child node is greater than root node\n    if (rootNode.left != null &amp;&amp; maxValue(rootNode.left) &gt;= rootNode.key) {\n       Node node = new Node(maxValue(rootNode.left));\n       return node;\n    }\n    \n    // Check if right child node is less than root node\n    if (rootNode.right != null &amp;&amp; minValue(rootNode.right) &lt;= rootNode.key) {\n       Node node = new Node(minValue(rootNode.right));\n       return node;\n    }\n    \n    \n    Node leftResult = checkBSTValidity(rootNode.left);\n    \n    if (leftResult != null) {\n       return leftResult;\n    }\n    \n    return checkBSTValidity(rootNode.right);\n    \n}\n</code></pre>\n<p>After submitting the code above, it says: Invalid tree with left/right child linking to ancestor, and my program produces no output. It also says: Invalid tree with left child's key greater than parent's key doesn't return the correct node. Any help would be appreciated!</p>\n<p>Edit: For the challenge it says to implement checkBSTValidity() that takes the tree's root node as a parameter and returns the node that is violating tree. A violating node will be one of three things:</p>\n<ol>\n<li>A node in the left subtree of an ancestor with a lesser key</li>\n<li>A node in the right subtree of an ancestor with a greater key</li>\n<li>A node with the left or right field referencing an ancestor</li>\n</ol>\n"},{"tags":["java","jol"],"answers":[{"tags":[],"owner":{"account_id":13840921,"reputation":31,"user_id":9991282,"display_name":"SvenJu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682694184,"creation_date":1682693131,"answer_id":76130740,"question_id":76130264,"body_markdown":"Gradle 7.4.1 with java 17/19 via intellij-plugin no problem with record-sizes.\r\n[![intellij-plugin with size][1]][1]\r\n\r\nopenjdk 19.0.2: Unsafe.java\r\n[![Unsafe.java with UOE for Record][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Euevc.png\r\n  [2]: https://i.stack.imgur.com/TULGf.png","title":"Does Java Object Layout work with Java Records?","body":"<p>Gradle 7.4.1 with java 17/19 via intellij-plugin no problem with record-sizes.\n<a href=\"https://i.stack.imgur.com/Euevc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Euevc.png\" alt=\"intellij-plugin with size\" /></a></p>\n<p>openjdk 19.0.2: Unsafe.java\n<a href=\"https://i.stack.imgur.com/TULGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TULGf.png\" alt=\"Unsafe.java with UOE for Record\" /></a></p>\n"},{"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1682695248,"post_id":76130970,"comment_id":134261081,"body_markdown":"This is the related issue https://bugs.openjdk.org/browse/CODETOOLS-7902931","body":"This is the related issue <a href=\"https://bugs.openjdk.org/browse/CODETOOLS-7902931\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/CODETOOLS-7902931</a>"}],"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682695952,"creation_date":1682695047,"answer_id":76130970,"question_id":76130264,"body_markdown":"The answer is **Yes**, Java Object Layout does work with Java Records and requires the option `-Djol.magicFieldOffset=true` to be passed on the command line. According to Aleksey, this option was added specifically to work with records.\r\n\r\nI was running the code from IntelliJ and was setting the option in program arguments text box instead of vmoptions text box (which I had to add first). Adding the option to vmoptions in Run/Debug Configurations fixed the issue.","title":"Does Java Object Layout work with Java Records?","body":"<p>The answer is <strong>Yes</strong>, Java Object Layout does work with Java Records and requires the option <code>-Djol.magicFieldOffset=true</code> to be passed on the command line. According to Aleksey, this option was added specifically to work with records.</p>\n<p>I was running the code from IntelliJ and was setting the option in program arguments text box instead of vmoptions text box (which I had to add first). Adding the option to vmoptions in Run/Debug Configurations fixed the issue.</p>\n"}],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":76130970,"answer_count":2,"score":5,"last_activity_date":1682695952,"creation_date":1682689849,"question_id":76130264,"body_markdown":"I&#39;m attempting to use Java Object Layout ([JOL](https://github.com/openjdk/jol)) to measure the instance size of an object that holds onto instances of some Java Records. I am getting an `UnsupportedOperationException` with a description &quot;can&#39;t get field offset on a record class&quot; when using `GraphLayout.parseInstance`. I get the same error when using `ClassLayout.parseClass`. \r\n\r\nI was initially using Java 20, but have downgraded to Java 17. I tried the last two versions of JOL (0.17 and 0.16). I tried the recommendation from the stack trace &quot;Cannot get the field offset, try with -Djol.magicFieldOffset=true&quot;. It looks like Records are not supported in `HotspotUnsafe.fieldOffset` and specifically at line 647 in Unsafe.\r\n\r\nHere&#39;s an example of a class that passes and similar record that throws the exception.\r\n\r\n```\r\npublic class Outer {\r\n    public static void main(String[] args) {\r\n        // Passes - outputs 72\r\n        System.out.println(GraphLayout.parseInstance(new A(1, &quot;one&quot;)).totalSize());\r\n\r\n        // Fails with UnsupportedOperationException\r\n        // &quot;can&#39;t get field offset on a record class: private final int Outer$B.value&quot;\r\n        // sun.misc.Unsafe.objectFieldOffset - line 648\r\n        System.out.println(GraphLayout.parseInstance(new B(1, &quot;one&quot;)).totalSize());\r\n    }\r\n\r\n    public static class A {\r\n        int value;\r\n        String name;\r\n\r\n        public A(int value, String name) {\r\n            this.value = value;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    public static record B(int value, String name) {\r\n    }\r\n}\r\n```\r\n\r\nI did some searching to find examples of using JOL with Java Records but did not find anything. Is this possible with JOL currently, using some configuration settings I may have missed?\r\n","title":"Does Java Object Layout work with Java Records?","body":"<p>I'm attempting to use Java Object Layout (<a href=\"https://github.com/openjdk/jol\" rel=\"noreferrer\">JOL</a>) to measure the instance size of an object that holds onto instances of some Java Records. I am getting an <code>UnsupportedOperationException</code> with a description &quot;can't get field offset on a record class&quot; when using <code>GraphLayout.parseInstance</code>. I get the same error when using <code>ClassLayout.parseClass</code>.</p>\n<p>I was initially using Java 20, but have downgraded to Java 17. I tried the last two versions of JOL (0.17 and 0.16). I tried the recommendation from the stack trace &quot;Cannot get the field offset, try with -Djol.magicFieldOffset=true&quot;. It looks like Records are not supported in <code>HotspotUnsafe.fieldOffset</code> and specifically at line 647 in Unsafe.</p>\n<p>Here's an example of a class that passes and similar record that throws the exception.</p>\n<pre><code>public class Outer {\n    public static void main(String[] args) {\n        // Passes - outputs 72\n        System.out.println(GraphLayout.parseInstance(new A(1, &quot;one&quot;)).totalSize());\n\n        // Fails with UnsupportedOperationException\n        // &quot;can't get field offset on a record class: private final int Outer$B.value&quot;\n        // sun.misc.Unsafe.objectFieldOffset - line 648\n        System.out.println(GraphLayout.parseInstance(new B(1, &quot;one&quot;)).totalSize());\n    }\n\n    public static class A {\n        int value;\n        String name;\n\n        public A(int value, String name) {\n            this.value = value;\n            this.name = name;\n        }\n    }\n\n    public static record B(int value, String name) {\n    }\n}\n</code></pre>\n<p>I did some searching to find examples of using JOL with Java Records but did not find anything. Is this possible with JOL currently, using some configuration settings I may have missed?</p>\n"},{"tags":["java","request-queueing"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1682686678,"post_id":76129793,"comment_id":134258906,"body_markdown":"Remove the `static` keyword. You cannot access `this` when your function is static.","body":"Remove the <code>static</code> keyword. You cannot access <code>this</code> when your function is static."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":1,"creation_date":1682687771,"post_id":76129793,"comment_id":134259165,"body_markdown":"Note that JavaScript and Java aren&#39;t related, so have removed the tag for the former.","body":"Note that JavaScript and Java aren&#39;t related, so have removed the tag for the former."},{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1682688309,"post_id":76129793,"comment_id":134259286,"body_markdown":"Does this answer your question? [Why can&#39;t we use &#39;this&#39; keyword in a static method](https://stackoverflow.com/questions/11664522/why-cant-we-use-this-keyword-in-a-static-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11664522/why-cant-we-use-this-keyword-in-a-static-method\">Why can&#39;t we use &#39;this&#39; keyword in a static method</a>"}],"owner":{"account_id":28445455,"reputation":1,"user_id":21764229,"display_name":"Adrian Mos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682850365,"answer_count":0,"score":0,"last_activity_date":1682695618,"creation_date":1682686451,"question_id":76129793,"body_markdown":"```java\r\npublic static List&lt;GasType&gt; getGasTypeList() {\r\n    RequestQueue queue = Volley.newRequestQueue(this);\r\n}\r\n```\r\n\r\nthis can not be referenced from a static context\r\n\r\nI tried everything I know but still no result.","title":"how to create a Request Queue in a static function","body":"<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;GasType&gt; getGasTypeList() {\n    RequestQueue queue = Volley.newRequestQueue(this);\n}\n</code></pre>\n<p>this can not be referenced from a static context</p>\n<p>I tried everything I know but still no result.</p>\n"},{"tags":["java","sqlite","jdbc"],"comments":[{"owner":{"account_id":75156,"reputation":12077,"user_id":215651,"accept_rate":50,"display_name":"lreeder"},"score":2,"creation_date":1391830769,"post_id":21641398,"comment_id":32706451,"body_markdown":"sqlite-jdbc4-3.8.2-SNAPSHOT.jar is not in your classpath","body":"sqlite-jdbc4-3.8.2-SNAPSHOT.jar is not in your classpath"},{"owner":{"account_id":9074441,"reputation":833,"user_id":6756523,"display_name":"Paul"},"score":0,"creation_date":1491403594,"post_id":21641398,"comment_id":73539189,"body_markdown":"http://stackoverflow.com/a/43234518/6756523","body":"<a href=\"http://stackoverflow.com/a/43234518/6756523\">stackoverflow.com/a/43234518/6756523</a>"}],"answers":[{"tags":[],"owner":{"account_id":3495598,"reputation":1675,"user_id":2923929,"accept_rate":61,"display_name":"safaiyeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426610663,"creation_date":1391835739,"answer_id":21642148,"question_id":21641398,"body_markdown":"You have to add the .jar to your project. You can simply do that by opening Eclipse, right click the .jar files, then add to project.","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>You have to add the .jar to your project. You can simply do that by opening Eclipse, right click the .jar files, then add to project.</p>\n"},{"tags":[],"owner":{"account_id":17580707,"reputation":11,"user_id":12754592,"display_name":"Javu Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615544606,"creation_date":1615544606,"answer_id":66598116,"question_id":21641398,"body_markdown":"You can directly add sqlite-jdbcXXX.jar to your tomcat/lib.","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>You can directly add sqlite-jdbcXXX.jar to your tomcat/lib.</p>\n"},{"tags":[],"owner":{"account_id":4666386,"reputation":664,"user_id":3779344,"display_name":"Calvin Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682695504,"creation_date":1682695504,"answer_id":76131053,"question_id":21641398,"body_markdown":"in my case I was using gradle and needed to add\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.sqlite:sqlite-jdbc:3.25.2&#39;\r\n    }","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>in my case I was using gradle and needed to add</p>\n<pre><code>dependencies {\n    implementation 'org.sqlite:sqlite-jdbc:3.25.2'\n}\n</code></pre>\n"}],"owner":{"account_id":3985463,"reputation":1,"user_id":3286170,"display_name":"user3286170"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11795,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1682695504,"creation_date":1391828815,"question_id":21641398,"body_markdown":"I&#39;m trying to set up a simple database for an Android app using sqlite but got the following error:\r\n\r\n    java.lang.ClassNotFoundException: org.sqlite.JDBC\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:171)\r\n    \tat testDB.main(testDB.java:16)\r\n    \r\nHere is my code:\r\n    \r\n    public class testDB {\r\n        public static void main(String args[]) {\r\n            Connection c = null;\r\n            try {\r\n            \tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n                c = DriverManager.getConnection(&quot;jdbc:sqlite:/Users/Dropbox/csProject/test.db&quot;, &quot;&quot;, &quot;&quot;);\r\n            } \r\n        }\r\n\r\nI have added sqlite-jdbc4-3.8.2-SNAPSHOT.jar in the library and I also tried to create a path in my home directory but am still getting the same error..","title":"ClassNotFoundException: org.sqlite.JDBC","body":"<p>I'm trying to set up a simple database for an Android app using sqlite but got the following error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.sqlite.JDBC\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:171)\n    at testDB.main(testDB.java:16)\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>public class testDB {\n    public static void main(String args[]) {\n        Connection c = null;\n        try {\n            Class.forName(\"org.sqlite.JDBC\");\n            c = DriverManager.getConnection(\"jdbc:sqlite:/Users/Dropbox/csProject/test.db\", \"\", \"\");\n        } \n    }\n</code></pre>\n\n<p>I have added sqlite-jdbc4-3.8.2-SNAPSHOT.jar in the library and I also tried to create a path in my home directory but am still getting the same error..</p>\n"},{"tags":["java","regex","unicode","coldfusion"],"comments":[{"owner":{"account_id":2054462,"reputation":20774,"user_id":1832636,"accept_rate":67,"display_name":"Dan Bracuk"},"score":0,"creation_date":1682597594,"post_id":76120058,"comment_id":134242893,"body_markdown":"Check cflib.org to see if there is an existing UDF that meets your needs.","body":"Check cflib.org to see if there is an existing UDF that meets your needs."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1682599366,"post_id":76120058,"comment_id":134243386,"body_markdown":"The occurrence between each character makes me wonder if you&#39;re source isn&#39;t actually UTF-16 instead of UTF-8.","body":"The occurrence between each character makes me wonder if you&#39;re source isn&#39;t actually UTF-16 instead of UTF-8."},{"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"score":0,"creation_date":1682601305,"post_id":76120058,"comment_id":134243955,"body_markdown":"My apologies. It is UTF-16. The other album I was testing was UTF-8 ---- ID3v2.30 82242\ncompression        = false\nunsynchronization  = false\ncrcData            = 0\ncrcDataFlag        = false\nexperimental       = false\nextended           = false\npaddingSize        = 0\nTRCK\nText Encoding = UTF-16\nText = &#255;&#254;1/6","body":"My apologies. It is UTF-16. The other album I was testing was UTF-8 ---- ID3v2.30 82242 compression        = false unsynchronization  = false crcData            = 0 crcDataFlag        = false experimental       = false extended           = false paddingSize        = 0 TRCK Text Encoding = UTF-16 Text = &#255;&#254;1/6"},{"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"score":0,"creation_date":1682607886,"post_id":76120058,"comment_id":134245725,"body_markdown":"Thanks for the suggestions. After looking all over, I finally found the solution, and it was simple like I thought. Update in the post.","body":"Thanks for the suggestions. After looking all over, I finally found the solution, and it was simple like I thought. Update in the post."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1682698804,"post_id":76120058,"comment_id":134261830,"body_markdown":"@upgrad3 Please remove the update to your question that provides your solution. The appropriate way to post a resolution is to post an answer, and you have already done that. As a separate matter, could you also accept your answer, because questions with an accepted answer are more helpful for the community.","body":"@upgrad3 Please remove the update to your question that provides your solution. The appropriate way to post a resolution is to post an answer, and you have already done that. As a separate matter, could you also accept your answer, because questions with an accepted answer are more helpful for the community."}],"answers":[{"tags":[],"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682607969,"creation_date":1682607969,"answer_id":76121947,"question_id":76120058,"body_markdown":"Here is the simple Regex that worked for me:\r\n\r\n    &lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;","title":"Removing Unicode/invalid characters from string","body":"<p>Here is the simple Regex that worked for me:</p>\n<pre><code>&lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354610,"reputation":4370,"user_id":693068,"display_name":"James Moberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682695242,"creation_date":1682695242,"answer_id":76131008,"question_id":76120058,"body_markdown":"The regex &quot;word&quot; filter may work, but some non-decorative, international UTF-8 characters could be dropped.\r\n\r\nI&#39;ve used a lot of different methods. If you want to convert Unicode to ASCII7 using ColdFusion, I highly recommend checking out [Junidecode](https://github.com/gcardone/junidecode). (I shared some proof-of-concept code [here](https://stackoverflow.com/a/56600717/693068).)\r\n\r\nThere are couple different methods other than the third-party JAR library, but your mileage will vary. I highly recommend performing a unit test with a large sample to ensure that it is doing what you expect.\r\n\r\nHere&#39;s a [gist](https://gist.github.com/JamoCA/ae63641dc0fdd5138cc8b2f5ee92f032) that you can test at [TryCF.com](https://www.trycf.com/).\r\n\r\n## rereplace (strip all high ASCII characters) \r\n```java\r\nk = &quot;EÔøΩlÔøΩeÔøΩcÔøΩtÔøΩrÔøΩoÔøΩnÔøΩiÔøΩc&quot;;\r\nk2 = rereplace(k, &quot;[^\\x20-\\x7E]&quot;, &quot;&quot;, &quot;ALL&quot;);\r\n// k2 is now &quot;Electronic&quot;\r\n```\r\n\r\n## Java (convert if possible. if not, strip)\r\nUse `java.text.Normalizer`, but be aware that it may strip anything it doesn&#39;t understand. ([source](https://stackoverflow.com/a/11642205/693068))\r\n```java\r\nk = &quot;EÔøΩlÔøΩeÔøΩcÔøΩtÔøΩrÔøΩoÔøΩnÔøΩiÔøΩc&quot;;\r\nk2 = createObject( &#39;java&#39;, &#39;java.text.Normalizer&#39; ).normalize( k, createObject( &#39;java&#39;, &#39;java.text.Normalizer$Form&#39; ).valueOf(&#39;NFD&#39;) ).replaceAll(&#39;\\p{InCombiningDiacriticalMarks}+&#39;,&#39;&#39;).replaceAll(&#39;[^\\p{ASCII}]+&#39;,&#39;&#39;);\r\n// k2 is now &quot;Electronic&quot;\r\n```\r\n","title":"Removing Unicode/invalid characters from string","body":"<p>The regex &quot;word&quot; filter may work, but some non-decorative, international UTF-8 characters could be dropped.</p>\n<p>I've used a lot of different methods. If you want to convert Unicode to ASCII7 using ColdFusion, I highly recommend checking out <a href=\"https://github.com/gcardone/junidecode\" rel=\"nofollow noreferrer\">Junidecode</a>. (I shared some proof-of-concept code <a href=\"https://stackoverflow.com/a/56600717/693068\">here</a>.)</p>\n<p>There are couple different methods other than the third-party JAR library, but your mileage will vary. I highly recommend performing a unit test with a large sample to ensure that it is doing what you expect.</p>\n<p>Here's a <a href=\"https://gist.github.com/JamoCA/ae63641dc0fdd5138cc8b2f5ee92f032\" rel=\"nofollow noreferrer\">gist</a> that you can test at <a href=\"https://www.trycf.com/\" rel=\"nofollow noreferrer\">TryCF.com</a>.</p>\n<h2>rereplace (strip all high ASCII characters)</h2>\n<pre class=\"lang-java prettyprint-override\"><code>k = &quot;EÔøΩlÔøΩeÔøΩcÔøΩtÔøΩrÔøΩoÔøΩnÔøΩiÔøΩc&quot;;\nk2 = rereplace(k, &quot;[^\\x20-\\x7E]&quot;, &quot;&quot;, &quot;ALL&quot;);\n// k2 is now &quot;Electronic&quot;\n</code></pre>\n<h2>Java (convert if possible. if not, strip)</h2>\n<p>Use <code>java.text.Normalizer</code>, but be aware that it may strip anything it doesn't understand. (<a href=\"https://stackoverflow.com/a/11642205/693068\">source</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>k = &quot;EÔøΩlÔøΩeÔøΩcÔøΩtÔøΩrÔøΩoÔøΩnÔøΩiÔøΩc&quot;;\nk2 = createObject( 'java', 'java.text.Normalizer' ).normalize( k, createObject( 'java', 'java.text.Normalizer$Form' ).valueOf('NFD') ).replaceAll('\\p{InCombiningDiacriticalMarks}+','').replaceAll('[^\\p{ASCII}]+','');\n// k2 is now &quot;Electronic&quot;\n</code></pre>\n"}],"owner":{"account_id":28433839,"reputation":41,"user_id":21754183,"display_name":"upgrad3"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1682695242,"creation_date":1682596245,"question_id":76120058,"body_markdown":"I&#39;ve had this problem before, and finally wrote some code to fix it (I remember it was an easy fix). But, I had to revert to a version of code from a few weeks back, and lost what I wrote.\r\n\r\nI&#39;m dealing with ID3 tags using &#39;org.farng.mp3&#39; and I run into invalid characters like the &#39;Replacement Character&#39;, char 65533, \\u25AF, etc. in some tags. \r\n\r\nInput: **Electronic**\r\nWhich output like this:**EÔøΩlÔøΩeÔøΩcÔøΩtÔøΩrÔøΩoÔøΩnÔøΩiÔøΩc**\r\n\r\nI know they are UTF-8 encoded, so I&#39;m not sure if I need to try to encode them into some other char set.\r\n\r\nHere are some of the replacements I&#39;ve used (and variations of the below):\r\n\r\n\t&lt;cfset tag = REReplace(tag,&quot;\\\\p{C}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\r\n\t&lt;cfset tag = REReplace(tag,&quot;\\p{Cf}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\r\n\t&lt;cfset tag = ReReplace(tag,&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;, &quot;All&quot;)&gt;\t\r\n\t&lt;cfset tag = Replace(tag, &quot;[\\\\u25AF]&quot;, &quot;&quot;, &quot;All&quot;)&gt;\r\n\t&lt;cfset tag = ReplaceNoCase(tag,chr(65533),&quot;&quot;,&quot;All&quot;)&gt;\r\n\r\nI&#39;ve looked through all old resolutions I&#39;ve found previously, and nothing is working, but I know it&#39;s something I am doing wrong.\r\n\r\n**UPDATE/Resolved**\r\n\r\nHere is what worked for me:\r\n\r\n    &lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;","title":"Removing Unicode/invalid characters from string","body":"<p>I've had this problem before, and finally wrote some code to fix it (I remember it was an easy fix). But, I had to revert to a version of code from a few weeks back, and lost what I wrote.</p>\n<p>I'm dealing with ID3 tags using 'org.farng.mp3' and I run into invalid characters like the 'Replacement Character', char 65533, \\u25AF, etc. in some tags.</p>\n<p>Input: <strong>Electronic</strong>\nWhich output like this:<strong>EÔøΩlÔøΩeÔøΩcÔøΩtÔøΩrÔøΩoÔøΩnÔøΩiÔøΩc</strong></p>\n<p>I know they are UTF-8 encoded, so I'm not sure if I need to try to encode them into some other char set.</p>\n<p>Here are some of the replacements I've used (and variations of the below):</p>\n<pre><code>&lt;cfset tag = REReplace(tag,&quot;\\\\p{C}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\n&lt;cfset tag = REReplace(tag,&quot;\\p{Cf}&quot;, &quot;&quot;, &quot;All&quot;)&gt;\n&lt;cfset tag = ReReplace(tag,&quot;[^\\\\x00-\\\\x7F]&quot;, &quot;&quot;, &quot;All&quot;)&gt;    \n&lt;cfset tag = Replace(tag, &quot;[\\\\u25AF]&quot;, &quot;&quot;, &quot;All&quot;)&gt;\n&lt;cfset tag = ReplaceNoCase(tag,chr(65533),&quot;&quot;,&quot;All&quot;)&gt;\n</code></pre>\n<p>I've looked through all old resolutions I've found previously, and nothing is working, but I know it's something I am doing wrong.</p>\n<p><strong>UPDATE/Resolved</strong></p>\n<p>Here is what worked for me:</p>\n<pre><code>&lt;cfset tag = REReplace(tag,&quot;[^\\w ]&quot;,&quot;&quot;,&quot;All&quot;)&gt;\n</code></pre>\n"},{"tags":["java","android","google-maps","model-view-controller"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682692710,"post_id":76129919,"comment_id":134260475,"body_markdown":"Why MVC? That&#39;s not standard practice in Android. / &quot;i&#39;ve read some articles with examples&quot; - what did you learn from those articles? What have you tried? What isn&#39;t working? What specifically don&#39;t you understand? You need to ask focused, detailed questions. It&#39;s unlikely anyone will come through to rewrite your code for you.","body":"Why MVC? That&#39;s not standard practice in Android. / &quot;i&#39;ve read some articles with examples&quot; - what did you learn from those articles? What have you tried? What isn&#39;t working? What specifically don&#39;t you understand? You need to ask focused, detailed questions. It&#39;s unlikely anyone will come through to rewrite your code for you."}],"owner":{"account_id":28307293,"reputation":1,"user_id":21645094,"display_name":"Dina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682695158,"creation_date":1682687403,"question_id":76129919,"body_markdown":"I don&#39;t understand how to implement MVC (Model - View - Controller) pattern within an android application.\r\n\r\nCould someone please advise me how to divide my code according to MVC pattern. \r\n\r\nI&#39;m working with google maps api. I&#39;ve read some articles with examples but it would help me to see on my real example. I would be really glad if someone could explain\r\n\r\nMy MapsActivity class is included below.\r\n```\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleMap.OnMapLoadedCallback {\r\n\r\n    private RequestQueue queue;\r\n    private View mapView;\r\n    private SupportMapFragment supportMapFragment;\r\n    public LatLng pnt;\r\n    private GoogleMap mMap;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        queue = Volley.newRequestQueue(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.map);\r\n        assert mapFragment != null;\r\n        mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        setUpMap();\r\n    }\r\n\r\n    public void setUpMap() {\r\n        mMap.setOnMapLoadedCallback(this);\r\n\r\n        LatLng spb = new LatLng(59.93, 30.36);\r\n        mMap.addMarker(new MarkerOptions().position(spb).title(&quot;me&quot;));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(spb));\r\n\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n            return;\r\n        }\r\n        mMap.setMyLocationEnabled(true);\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);\r\n    }\r\n\r\n    public void onArrowClick(View view) {\r\n\r\n    }\r\n\r\n\r\n    public void getBounds() {\r\n        LatLngBounds b = mMap.getProjection().getVisibleRegion().latLngBounds;\r\n        Toast.makeText(this, b.toString(), Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n    public void OnAddMarkClick(View view) {\r\n        Intent intent = new Intent(this, SendForm.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void getRequest() {\r\n//sending request here to place marks according to location\r\n        String url =&quot;&quot;;\r\n        \r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try {\r\n                            JSONObject data = response.getJSONObject(&quot;data&quot;);\r\n                            JSONArray points = data.getJSONArray(&quot;points&quot;);\r\n                            for (int i = 0; i &lt; points.length(); i++) {\r\n                                JSONObject point = points.getJSONObject(i);\r\n                                String id = point.getString(&quot;pointId&quot;);\r\n                                String title = point.getString(&quot;title&quot;);\r\n                                String geom = point.getString(&quot;geom&quot;);\r\n                                geom = geom.replaceAll((&quot;[\\\\[\\\\](){}]&quot;),&quot;&quot;);\r\n                                geom = geom.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;);\r\n\r\n                                String[] coord = geom.split(&quot; &quot;);\r\n\r\n                                pnt = new LatLng(Double.parseDouble(coord[1]), Double.parseDouble(coord[0]));\r\n\r\n                                Marker marker = mMap.addMarker(new MarkerOptions().position(pnt).title(&quot;&quot;).\r\n                                        icon(BitmapDescriptorFactory.fromResource(R.drawable.mark)));\r\n                            }\r\n\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                error.printStackTrace();\r\n            }\r\n        });\r\n        queue.add(request);\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onMapLoaded() {\r\n        getRequest();\r\n    }\r\n\r\n   }\r\n```\r\n","title":"how to make my maps activity as MVC architecture in android app java?","body":"<p>I don't understand how to implement MVC (Model - View - Controller) pattern within an android application.</p>\n<p>Could someone please advise me how to divide my code according to MVC pattern.</p>\n<p>I'm working with google maps api. I've read some articles with examples but it would help me to see on my real example. I would be really glad if someone could explain</p>\n<p>My MapsActivity class is included below.</p>\n<pre><code>public class MapsActivity extends FragmentActivity implements OnMapReadyCallback, GoogleMap.OnMapLoadedCallback {\n\n    private RequestQueue queue;\n    private View mapView;\n    private SupportMapFragment supportMapFragment;\n    public LatLng pnt;\n    private GoogleMap mMap;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        queue = Volley.newRequestQueue(this);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        assert mapFragment != null;\n        mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        mMap = googleMap;\n        setUpMap();\n    }\n\n    public void setUpMap() {\n        mMap.setOnMapLoadedCallback(this);\n\n        LatLng spb = new LatLng(59.93, 30.36);\n        mMap.addMarker(new MarkerOptions().position(spb).title(&quot;me&quot;));\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(spb));\n\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n            return;\n        }\n        mMap.setMyLocationEnabled(true);\n        mMap.getUiSettings().setZoomControlsEnabled(true);\n    }\n\n    public void onArrowClick(View view) {\n\n    }\n\n\n    public void getBounds() {\n        LatLngBounds b = mMap.getProjection().getVisibleRegion().latLngBounds;\n        Toast.makeText(this, b.toString(), Toast.LENGTH_LONG).show();\n    }\n\n    public void OnAddMarkClick(View view) {\n        Intent intent = new Intent(this, SendForm.class);\n        startActivity(intent);\n    }\n\n    private void getRequest() {\n//sending request here to place marks according to location\n        String url =&quot;&quot;;\n        \n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        try {\n                            JSONObject data = response.getJSONObject(&quot;data&quot;);\n                            JSONArray points = data.getJSONArray(&quot;points&quot;);\n                            for (int i = 0; i &lt; points.length(); i++) {\n                                JSONObject point = points.getJSONObject(i);\n                                String id = point.getString(&quot;pointId&quot;);\n                                String title = point.getString(&quot;title&quot;);\n                                String geom = point.getString(&quot;geom&quot;);\n                                geom = geom.replaceAll((&quot;[\\\\[\\\\](){}]&quot;),&quot;&quot;);\n                                geom = geom.replaceAll(&quot;[a-zA-Z]&quot;, &quot;&quot;);\n\n                                String[] coord = geom.split(&quot; &quot;);\n\n                                pnt = new LatLng(Double.parseDouble(coord[1]), Double.parseDouble(coord[0]));\n\n                                Marker marker = mMap.addMarker(new MarkerOptions().position(pnt).title(&quot;&quot;).\n                                        icon(BitmapDescriptorFactory.fromResource(R.drawable.mark)));\n                            }\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                error.printStackTrace();\n            }\n        });\n        queue.add(request);\n\n    }\n\n\n    @Override\n    public void onMapLoaded() {\n        getRequest();\n    }\n\n   }\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1357296641,"creation_date":1357296641,"answer_id":14155703,"question_id":14155423,"body_markdown":"Take a look at [my answer to a previous question](https://stackoverflow.com/questions/14053055/how-to-get-the-value-of-a-cell-at-a-specified-position-in-an-excel-sheet-using-j/14062181#14062181):\r\n\r\nYou probably want to use the [CellReference](http://poi.apache.org/apidocs/org/apache/poi/ss/util/CellReference.html) utility class to help you out. It offers conversion between Excel style letter+number references, and POI style 0-based rows+columns. When using it, you can do something like:\r\n\r\n     Sheet sheet = workbook.getSheet(&quot;MyInterestingSheet&quot;);\r\n\r\n     CellReference ref = new CellReference(&quot;B12&quot;);\r\n     Row r = sheet.getRow(ref.getRow());\r\n     if (r != null) {\r\n        Cell c = r.getCell(ref.getCol());\r\n     }\r\n\r\nThat will let you find the cell at a given Excel-style reference (if it&#39;s defined, else null)","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>Take a look at <a href=\"https://stackoverflow.com/questions/14053055/how-to-get-the-value-of-a-cell-at-a-specified-position-in-an-excel-sheet-using-j/14062181#14062181\">my answer to a previous question</a>:</p>\n\n<p>You probably want to use the <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/util/CellReference.html\" rel=\"noreferrer\">CellReference</a> utility class to help you out. It offers conversion between Excel style letter+number references, and POI style 0-based rows+columns. When using it, you can do something like:</p>\n\n<pre><code> Sheet sheet = workbook.getSheet(\"MyInterestingSheet\");\n\n CellReference ref = new CellReference(\"B12\");\n Row r = sheet.getRow(ref.getRow());\n if (r != null) {\n    Cell c = r.getCell(ref.getCol());\n }\n</code></pre>\n\n<p>That will let you find the cell at a given Excel-style reference (if it's defined, else null)</p>\n"},{"tags":[],"owner":{"account_id":2152350,"reputation":13,"user_id":1908358,"display_name":"user1908358"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682689955,"creation_date":1682689955,"answer_id":76130272,"question_id":14155423,"body_markdown":"for getting multiple rows/columns: \r\n\r\n      CellReference ref1 = new CellReference(&quot;A36&quot;); // First LINE 1\r\n      CellReference ref2 = new CellReference(&quot;B36&quot;); \r\n      CellReference ref3 = new CellReference(&quot;C36&quot;); \r\n      CellReference ref4 = new CellReference(&quot;D36&quot;);\r\n\r\n      XSSFRow r1 = sheet.getRow(ref1.getRow()); \r\n        if (r1 != null) {\r\n                Cell a36 = r1.getCell(ref1.getCol());\r\n                Cell b36 = r1.getCell(ref2.getCol());\r\n                Cell c36 = r1.getCell(ref3.getCol());\r\n                Cell d36 = r1.getCell(ref4.getCol());\r\n                Cell e36 = r1.getCell(ref5.getCol());\r\n                                \r\n                AMT1 = a36.getStringCellValue();\r\n                AMT2 = b36.getStringCellValue();\r\n                AMT3 = c36.getStringCellValue();\r\n                AMT4 = d36.getNumericCellValue();\r\n                AMT5 = e36.getNumericCellValue();\r\n                AMT5A = AMT5.intValue();\r\n               }           \r\n\r\nwhere r1 is the first row. This takes the xlsx entry in the first designated row and assigns it to a variable (AMTx ) as shown below. Place the variable designations right after the &quot;public class ........&quot; line of the java file. \r\n\r\n   \r\n      public static String AMT1;//Line 1 \r\n      public static String AMT2;  \r\n      public static String AMT3; \r\n      public static Double AMT4;  \r\n      public static Double AMT5;  \r\n      public static Integer AMT5A;  \r\n\r\nNote that Excel xlsx files store numbers as Double within cells -hence the conversion to integer in AMT5A. \r\n \r\n","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>for getting multiple rows/columns:</p>\n<pre><code>  CellReference ref1 = new CellReference(&quot;A36&quot;); // First LINE 1\n  CellReference ref2 = new CellReference(&quot;B36&quot;); \n  CellReference ref3 = new CellReference(&quot;C36&quot;); \n  CellReference ref4 = new CellReference(&quot;D36&quot;);\n\n  XSSFRow r1 = sheet.getRow(ref1.getRow()); \n    if (r1 != null) {\n            Cell a36 = r1.getCell(ref1.getCol());\n            Cell b36 = r1.getCell(ref2.getCol());\n            Cell c36 = r1.getCell(ref3.getCol());\n            Cell d36 = r1.getCell(ref4.getCol());\n            Cell e36 = r1.getCell(ref5.getCol());\n                            \n            AMT1 = a36.getStringCellValue();\n            AMT2 = b36.getStringCellValue();\n            AMT3 = c36.getStringCellValue();\n            AMT4 = d36.getNumericCellValue();\n            AMT5 = e36.getNumericCellValue();\n            AMT5A = AMT5.intValue();\n           }           \n</code></pre>\n<p>where r1 is the first row. This takes the xlsx entry in the first designated row and assigns it to a variable (AMTx ) as shown below. Place the variable designations right after the &quot;public class ........&quot; line of the java file.</p>\n<pre><code>  public static String AMT1;//Line 1 \n  public static String AMT2;  \n  public static String AMT3; \n  public static Double AMT4;  \n  public static Double AMT5;  \n  public static Integer AMT5A;  \n</code></pre>\n<p>Note that Excel xlsx files store numbers as Double within cells -hence the conversion to integer in AMT5A.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1682772649,"post_id":76130935,"comment_id":134269820,"body_markdown":"please edit your previous answer to add details (vs. adding a new one) - while doing so, you can also fix the naming violations :)","body":"please edit your previous answer to add details (vs. adding a new one) - while doing so, you can also fix the naming violations :)"}],"tags":[],"owner":{"account_id":2152350,"reputation":13,"user_id":1908358,"display_name":"user1908358"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682694812,"creation_date":1682694812,"answer_id":76130935,"question_id":14155423,"body_markdown":"All: The code requires that the r1 (row 1) be exactly like the actual row number where the cells are located. In this case, it&#39;s r36 and not r1. Please change all the r1 to r36. Please excuse this oversight on my part. ","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>All: The code requires that the r1 (row 1) be exactly like the actual row number where the cells are located. In this case, it's r36 and not r1. Please change all the r1 to r36. Please excuse this oversight on my part.</p>\n"}],"owner":{"display_name":"user1759136"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31107,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14155703,"answer_count":3,"score":17,"last_activity_date":1682694812,"creation_date":1357295591,"question_id":14155423,"body_markdown":"I am trying to get the Cell from the Row by a Cell reference and I have a problem. For example I have:\r\n\r\n    row.getCell(CellReference.convertColStringToIndex(&quot;B&quot;));\r\n\r\nThat works fine if the Column index is `1`, but if Column was deleted so the `B` Column index became `2` and the method: `CellReference.convertColStringToIndex(&quot;B&quot;)` is still converting it to `1` in which case I can&#39;t get my Column, I am getting `null`.\r\n\r\nSo the question is how can I get the Column from the Row depending on Cell identifier which is a letter?","title":"Get Cell by a Cell reference letter identifier with Apache POI","body":"<p>I am trying to get the Cell from the Row by a Cell reference and I have a problem. For example I have:</p>\n\n<pre><code>row.getCell(CellReference.convertColStringToIndex(\"B\"));\n</code></pre>\n\n<p>That works fine if the Column index is <code>1</code>, but if Column was deleted so the <code>B</code> Column index became <code>2</code> and the method: <code>CellReference.convertColStringToIndex(\"B\")</code> is still converting it to <code>1</code> in which case I can't get my Column, I am getting <code>null</code>.</p>\n\n<p>So the question is how can I get the Column from the Row depending on Cell identifier which is a letter?</p>\n"},{"tags":["java","selenium-webdriver","ui-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682855425,"post_id":76125898,"comment_id":134277732,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682676973,"creation_date":1682676973,"answer_id":76128587,"question_id":76125898,"body_markdown":"Try these ways to set value\r\n\r\n#1 Clear, enter value and Send tab key to move control out of input\r\n\r\n    element.clear()\r\n    element.sendKeys(&quot;value&quot;+ Keys.TAB);\r\n\r\n#2 using Javascript\r\n\r\n    driver.execute_script(&quot;arguments[0].value=&#39;arguments[1]&#39;;&quot;, element,value)\r\n\r\n#3 using Actions\r\n\r\n    new Actions(driver).moveToElement(element).click().sendKeys(&quot;text to set&quot;).perform();\r\n","title":"Selenium driver is entering value in the text box but it is getting cleared","body":"<p>Try these ways to set value</p>\n<p>#1 Clear, enter value and Send tab key to move control out of input</p>\n<pre><code>element.clear()\nelement.sendKeys(&quot;value&quot;+ Keys.TAB);\n</code></pre>\n<p>#2 using Javascript</p>\n<pre><code>driver.execute_script(&quot;arguments[0].value='arguments[1]';&quot;, element,value)\n</code></pre>\n<p>#3 using Actions</p>\n<pre><code>new Actions(driver).moveToElement(element).click().sendKeys(&quot;text to set&quot;).perform();\n</code></pre>\n"}],"owner":{"account_id":21996793,"reputation":1,"user_id":16269173,"display_name":"ahmad_aftab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682694740,"creation_date":1682649480,"question_id":76125898,"body_markdown":"I am stuck in this issue. Webdriver is able to enter the value in the text box and then the value is getting cleared\r\n\r\nI tried this to resolve this issue with the below logic but unfortunately this one is even not working.Any help regarding this will be highly appreciated\r\n\r\n\r\n    var count =0;\r\n    \r\n    do {\r\n    \r\n    _webHelper.PerformWebDriverAction(getTxtBox_ProductionDate(), INPUT, ProductionDate);\r\n    \r\n    count++;\r\n    \r\n    } while (!_webHelper.IsTextBoxFilled(getTxtBox_ProductionDate()) &amp;&amp; count&lt;10);","title":"Selenium driver is entering value in the text box but it is getting cleared","body":"<p>I am stuck in this issue. Webdriver is able to enter the value in the text box and then the value is getting cleared</p>\n<p>I tried this to resolve this issue with the below logic but unfortunately this one is even not working.Any help regarding this will be highly appreciated</p>\n<pre><code>var count =0;\n\ndo {\n\n_webHelper.PerformWebDriverAction(getTxtBox_ProductionDate(), INPUT, ProductionDate);\n\ncount++;\n\n} while (!_webHelper.IsTextBoxFilled(getTxtBox_ProductionDate()) &amp;&amp; count&lt;10);\n</code></pre>\n"},{"tags":["java","web-services","wsdl","ibm-rad","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":11176723,"reputation":37,"user_id":8202069,"display_name":"Simon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682694303,"creation_date":1682694303,"answer_id":76130882,"question_id":75632068,"body_markdown":"I had this exact problem and fixed it by passing the following JVM arg to the JUnit test (e.g. in Run Configurations):\r\n\r\n    -Dcom.ibm.xml.xlxp.jaxb.opti.level=0\r\n\r\nThis will force the use of the JRE JAXB library (instead of the IBM one). I never got to the root cause but I guessed it was some JRE/IBM library version incompatibility. ","title":"AssertionError calling a webservice from junit in IBM RAD","body":"<p>I had this exact problem and fixed it by passing the following JVM arg to the JUnit test (e.g. in Run Configurations):</p>\n<pre><code>-Dcom.ibm.xml.xlxp.jaxb.opti.level=0\n</code></pre>\n<p>This will force the use of the JRE JAXB library (instead of the IBM one). I never got to the root cause but I guessed it was some JRE/IBM library version incompatibility.</p>\n"}],"owner":{"account_id":1221072,"reputation":1229,"user_id":1187719,"accept_rate":37,"display_name":"Entropy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682694303,"creation_date":1677879223,"question_id":75632068,"body_markdown":"We have a webservice that works and has been working fine. We call it from our EAR project and it works fine in localhost in RAD as well as from the server. However, now I&#39;m trying to call it from a junit project and it&#39;s failing with an AssertionError with no message to help me debug it.  \r\n\r\nCode:\r\n```\r\n    public ReportServiceGeneratedClient(String url) throws MalformedURLException {\r\n\t\tSubmissionWSService service = new SubmissionWSService(new URL(url), new QName(&quot;http://wsdl.report.changed.for.privacy/&quot;, &quot;SubmissionWSService&quot;));\r\n\t\treportService = service.getSubmissionWSPort(); //kaboom here\r\n\t}\r\n```\r\n\r\n```\r\njava.lang.AssertionError\r\n\tat com.ibm.xml.xlxp2.runtime.VMContext.stopSchemaAssessment(VMContext.java:609)\r\n\tat com.ibm.xml.xlxp2.api.jaxb.JAXBXMLStreamReader.unmarshal(JAXBXMLStreamReader.java:127)\r\n\tat com.ibm.xml.xlxp2.jaxb.unmarshal.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:256)\r\n\tat com.sun.xml.internal.ws.assembler.MetroConfigLoader.loadMetroConfig(MetroConfigLoader.java:256)\r\n\tat com.sun.xml.internal.ws.assembler.MetroConfigLoader.init(MetroConfigLoader.java:143)\r\n\tat com.sun.xml.internal.ws.assembler.MetroConfigLoader.&lt;init&gt;(MetroConfigLoader.java:116)\r\n\tat com.sun.xml.internal.ws.assembler.TubelineAssemblyController.getTubeCreators(TubelineAssemblyController.java:90)\r\n\tat com.sun.xml.internal.ws.assembler.MetroTubelineAssembler.createClient(MetroTubelineAssembler.java:115)\r\n\tat com.sun.xml.internal.ws.client.Stub.createPipeline(Stub.java:340)\r\n\tat com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:307)\r\n\tat com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:240)\r\n\tat com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:255)\r\n\tat com.sun.xml.internal.ws.client.sei.SEIStub.&lt;init&gt;(SEIStub.java:96)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getStubHandler(WSServiceDelegate.java:827)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.createEndpointIFBaseProxy(WSServiceDelegate.java:816)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:449)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:417)\r\n\tat com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:399)\r\n\tat javax.xml.ws.Service.getPort(Service.java:130)\r\n```\r\n\r\nI found a stackoverflow claiming that a property was needed, but I tried both of these and neither solved my problem, though I also didn&#39;t get the message that poster was getting.\r\n\r\n```\r\n\t\tSystem.setProperty(&quot;javax.xml.accessExternalSchema&quot;, &quot;all&quot;);\r\n\t\tSystem.setProperty(&quot;javax.xml.accessExternalDTD&quot;, &quot;all&quot;);\r\n```\r\n\r\nThe code and webservice work in other contexts, so I&#39;m sure it&#39;s that I&#39;m not setting the environment right, but the lack of message leaves me with no real clues. Anyone know anything that can help me here?","title":"AssertionError calling a webservice from junit in IBM RAD","body":"<p>We have a webservice that works and has been working fine. We call it from our EAR project and it works fine in localhost in RAD as well as from the server. However, now I'm trying to call it from a junit project and it's failing with an AssertionError with no message to help me debug it.</p>\n<p>Code:</p>\n<pre><code>    public ReportServiceGeneratedClient(String url) throws MalformedURLException {\n        SubmissionWSService service = new SubmissionWSService(new URL(url), new QName(&quot;http://wsdl.report.changed.for.privacy/&quot;, &quot;SubmissionWSService&quot;));\n        reportService = service.getSubmissionWSPort(); //kaboom here\n    }\n</code></pre>\n<pre><code>java.lang.AssertionError\n    at com.ibm.xml.xlxp2.runtime.VMContext.stopSchemaAssessment(VMContext.java:609)\n    at com.ibm.xml.xlxp2.api.jaxb.JAXBXMLStreamReader.unmarshal(JAXBXMLStreamReader.java:127)\n    at com.ibm.xml.xlxp2.jaxb.unmarshal.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:256)\n    at com.sun.xml.internal.ws.assembler.MetroConfigLoader.loadMetroConfig(MetroConfigLoader.java:256)\n    at com.sun.xml.internal.ws.assembler.MetroConfigLoader.init(MetroConfigLoader.java:143)\n    at com.sun.xml.internal.ws.assembler.MetroConfigLoader.&lt;init&gt;(MetroConfigLoader.java:116)\n    at com.sun.xml.internal.ws.assembler.TubelineAssemblyController.getTubeCreators(TubelineAssemblyController.java:90)\n    at com.sun.xml.internal.ws.assembler.MetroTubelineAssembler.createClient(MetroTubelineAssembler.java:115)\n    at com.sun.xml.internal.ws.client.Stub.createPipeline(Stub.java:340)\n    at com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:307)\n    at com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:240)\n    at com.sun.xml.internal.ws.client.Stub.&lt;init&gt;(Stub.java:255)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.&lt;init&gt;(SEIStub.java:96)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getStubHandler(WSServiceDelegate.java:827)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.createEndpointIFBaseProxy(WSServiceDelegate.java:816)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:449)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:417)\n    at com.sun.xml.internal.ws.client.WSServiceDelegate.getPort(WSServiceDelegate.java:399)\n    at javax.xml.ws.Service.getPort(Service.java:130)\n</code></pre>\n<p>I found a stackoverflow claiming that a property was needed, but I tried both of these and neither solved my problem, though I also didn't get the message that poster was getting.</p>\n<pre><code>        System.setProperty(&quot;javax.xml.accessExternalSchema&quot;, &quot;all&quot;);\n        System.setProperty(&quot;javax.xml.accessExternalDTD&quot;, &quot;all&quot;);\n</code></pre>\n<p>The code and webservice work in other contexts, so I'm sure it's that I'm not setting the environment right, but the lack of message leaves me with no real clues. Anyone know anything that can help me here?</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":3112422,"reputation":741,"user_id":2633917,"display_name":"tobifasc"},"score":1,"creation_date":1682692696,"post_id":76120040,"comment_id":134260469,"body_markdown":"Pretty abvious but just to be sure because it&#39;s not in your question: How does your package declaration in `FilePrepareApplication` look like?","body":"Pretty abvious but just to be sure because it&#39;s not in your question: How does your package declaration in <code>FilePrepareApplication</code> look like?"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1682693282,"post_id":76120040,"comment_id":134260619,"body_markdown":"package com.example.fileutil    I updated my code-snipped","body":"package com.example.fileutil    I updated my code-snipped"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682693393,"post_id":76120040,"comment_id":134260643,"body_markdown":"https://spring.io/guides/gs/spring-boot/","body":"<a href=\"https://spring.io/guides/gs/spring-boot/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/spring-boot</a>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1682693397,"post_id":76120040,"comment_id":134260644,"body_markdown":"I can&#39;t reproduce your error using the code provided. But for your case, better use gradle springboot plugin, take a look https://docs.spring.io/spring-boot/docs/2.7.x/gradle-plugin/reference/htmlsingle/","body":"I can&#39;t reproduce your error using the code provided. But for your case, better use gradle springboot plugin, take a look <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/gradle-plugin/reference/htmlsingle/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.7.x/gradle-plugin/referenc&zwnj;&#8203;e/&hellip;</a>"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682693257,"creation_date":1682596150,"question_id":76120040,"body_markdown":"My gradle file contains:\r\n\r\n      plugins {\r\n           id &#39;java&#39;\r\n       }\r\n\r\n      configurations {\r\n           compileOnly {\r\n               extendsFrom annotationProcessor\r\n           }\r\n      }\r\n\r\n      jar {\r\n          duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n          project.configurations.getByName(&quot;implementation&quot;).setCanBeResolved(true)\r\n          manifest {\r\n               attributes &#39;Main-Class&#39;: &#39;com.example.fileutil.FilePrepareApplication&#39;\r\n          }\r\n\r\n          from { configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) } }\r\n         }\r\n\r\n        repositories {\r\n           mavenLocal()\r\n           gradlePluginPortal()\r\n           mavenCentral()\r\n        }\r\n\r\n        dependencies {\r\n           implementation (&#39;org.springframework.boot:spring-boot-starter:2.7.10&#39;){\r\n               exclude module: &quot;spring-boot-starter-logging&quot;\r\n               exclude module: &quot;logback-classic&quot;\r\n           }\r\n       }\r\n\r\nAnd Main SpringBoot class contains:\r\n\r\n      package com.example.fileutil\r\n\r\n      @SpringBootApplication\r\n      @ComponentScan(basePackages = &quot;com.example.fileutil.service&quot;)\r\n      public class FilePrepareApplication implements CommandLineRunner {\r\n\r\n            public static void main(String[] args) throws Exception {\r\n                   SpringApplication.run(FilePrepareApplication.class, args);\r\n            }\r\n\r\n            @Override\r\n            public void run(String... args) throws Exception { \r\n                       System.out.println(&quot;checkResult&quot;);\r\n             }          \r\n        }\r\n\r\nAfter clean build, I run my application with: \r\n\r\n       java -jar build/libs/file_util.jar -cp build/classes/java/main/ com.example.fileutil.FilePrepareApplication\r\n\r\nAnd receive the error:  java.lang.NoClassDefFoundError: com.example.fileutil.FilePrepareApplication\r\n\r\n","title":"Gradle SpringBoot: Could not find main class","body":"<p>My gradle file contains:</p>\n<pre><code>  plugins {\n       id 'java'\n   }\n\n  configurations {\n       compileOnly {\n           extendsFrom annotationProcessor\n       }\n  }\n\n  jar {\n      duplicatesStrategy = DuplicatesStrategy.INCLUDE\n      project.configurations.getByName(&quot;implementation&quot;).setCanBeResolved(true)\n      manifest {\n           attributes 'Main-Class': 'com.example.fileutil.FilePrepareApplication'\n      }\n\n      from { configurations.implementation.collect { it.isDirectory() ? it : zipTree(it) } }\n     }\n\n    repositories {\n       mavenLocal()\n       gradlePluginPortal()\n       mavenCentral()\n    }\n\n    dependencies {\n       implementation ('org.springframework.boot:spring-boot-starter:2.7.10'){\n           exclude module: &quot;spring-boot-starter-logging&quot;\n           exclude module: &quot;logback-classic&quot;\n       }\n   }\n</code></pre>\n<p>And Main SpringBoot class contains:</p>\n<pre><code>  package com.example.fileutil\n\n  @SpringBootApplication\n  @ComponentScan(basePackages = &quot;com.example.fileutil.service&quot;)\n  public class FilePrepareApplication implements CommandLineRunner {\n\n        public static void main(String[] args) throws Exception {\n               SpringApplication.run(FilePrepareApplication.class, args);\n        }\n\n        @Override\n        public void run(String... args) throws Exception { \n                   System.out.println(&quot;checkResult&quot;);\n         }          \n    }\n</code></pre>\n<p>After clean build, I run my application with:</p>\n<pre><code>   java -jar build/libs/file_util.jar -cp build/classes/java/main/ com.example.fileutil.FilePrepareApplication\n</code></pre>\n<p>And receive the error:  java.lang.NoClassDefFoundError: com.example.fileutil.FilePrepareApplication</p>\n"},{"tags":["java","apache-poi","subscript","superscript"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":2,"creation_date":1682647455,"post_id":76122277,"comment_id":134252390,"body_markdown":"I don&#39;t know how to do it, but I&#39;d suggest watching [How to write a superscript and subscript at the same time in Word](https://www.youtube.com/watch?v=_Ztgn3neikY) and then make a Word doc just containing your desired result. Then, use POI to read that file and investigate how it was encoded.","body":"I don&#39;t know how to do it, but I&#39;d suggest watching <a href=\"https://www.youtube.com/watch?v=_Ztgn3neikY\" rel=\"nofollow noreferrer\">How to write a superscript and subscript at the same time in Word</a> and then make a Word doc just containing your desired result. Then, use POI to read that file and investigate how it was encoded."}],"answers":[{"comments":[{"owner":{"account_id":17064150,"reputation":13,"user_id":12346801,"display_name":"Sharana Avali"},"score":0,"creation_date":1683021648,"post_id":76130307,"comment_id":134299493,"body_markdown":"Hello, How do i change font family of that 3 values ?","body":"Hello, How do i change font family of that 3 values ?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1683040795,"post_id":76130307,"comment_id":134303953,"body_markdown":"@Sharana Avali: You won&#39;t. At least not compatible with all word processing applications which are able to open `*.docx` files. Microsoft Word is able to interpret word processing markup language run properties for the officeDocument math markup language text run. But that is Microsoft only. Per default officeDocument math only has one font. That is Cambria Math for Microsoft Word and Liberation for Libreoffice Writer.","body":"@Sharana Avali: You won&#39;t. At least not compatible with all word processing applications which are able to open <code>*.docx</code> files. Microsoft Word is able to interpret word processing markup language run properties for the officeDocument math markup language text run. But that is Microsoft only. Per default officeDocument math only has one font. That is Cambria Math for Microsoft Word and Liberation for Libreoffice Writer."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682693084,"creation_date":1682690202,"answer_id":76130307,"question_id":76122277,"body_markdown":"The only possibility to have something like this [![enter image description here][1]][1] in a Word document is inserting an equation of form **&lt;i&gt;e&lt;/i&gt;&lt;sup&gt;x&lt;/sup&gt;**.\r\n\r\nIn Word GUI one would select **Insert** &gt; **Equation** &gt; **&lt;i&gt;e&lt;/i&gt;&lt;sup&gt;x&lt;/sup&gt;**.\r\n\r\nUsing Apache POI this can be done using following code:\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTSSubSup;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTOMathArg;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTR;\r\n    import org.openxmlformats.schemas.officeDocument.x2006.math.CTText;\r\n    \r\n    public class CreateWordFormulaSubSup {\r\n        \r\n     static CTOMath createOMathSupSub(String eText, String supText, String subText) {\r\n      CTOMath ctOMath = CTOMath.Factory.newInstance();\r\n      CTSSubSup ctSSubSup = ctOMath.addNewSSubSup();\r\n      \r\n      CTOMathArg ctOMathArg = ctSSubSup.addNewE();\r\n      CTR ctR = ctOMathArg.addNewR();\r\n      CTText ctText = ctR.addNewT2();\r\n      ctText.setStringValue(eText);\r\n      \r\n      ctOMathArg = ctSSubSup.addNewSup();\r\n      ctR = ctOMathArg.addNewR();\r\n      ctText = ctR.addNewT2();\r\n      ctText.setStringValue(supText);\r\n      \r\n      ctOMathArg = ctSSubSup.addNewSub();\r\n      ctR = ctOMathArg.addNewR();\r\n      ctText = ctR.addNewT2();\r\n      ctText.setStringValue(subText);\r\n    \r\n      return ctOMath;\r\n     }\r\n    \r\n     static void createOMathInParagraph(XWPFParagraph paragraph, CTOMath ctOMath) {\r\n      CTOMath ctOMathTemp = paragraph.getCTP().addNewOMath();\r\n      paragraph.getCTP().setOMathArray(paragraph.getCTP().getOMathArray().length-1, ctOMath);\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;Formula: &quot;);\r\n        \r\n      createOMathInParagraph(paragraph, createOMathSupSub(&quot;2000&quot;, &quot;+2000&quot;, &quot;-180&quot;));\r\n      \r\n      run = paragraph.createRun();\r\n      run.setText(&quot; text after formula.&quot;);\r\n      \r\n      paragraph = document.createParagraph();\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordFormulaSubSup.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/XclqV.png\r\n  [2]: https://i.stack.imgur.com/Dd7cT.png\r\n","title":"How to set superscript and subscript position in same vertical line in word document using apache poi","body":"<p>The only possibility to have something like this <a href=\"https://i.stack.imgur.com/XclqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XclqV.png\" alt=\"enter image description here\" /></a> in a Word document is inserting an equation of form <strong><i>e</i><sup>x</sup></strong>.</p>\n<p>In Word GUI one would select <strong>Insert</strong> &gt; <strong>Equation</strong> &gt; <strong><i>e</i><sup>x</sup></strong>.</p>\n<p>Using Apache POI this can be done using following code:</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTOMath;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTSSubSup;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTOMathArg;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTR;\nimport org.openxmlformats.schemas.officeDocument.x2006.math.CTText;\n\npublic class CreateWordFormulaSubSup {\n    \n static CTOMath createOMathSupSub(String eText, String supText, String subText) {\n  CTOMath ctOMath = CTOMath.Factory.newInstance();\n  CTSSubSup ctSSubSup = ctOMath.addNewSSubSup();\n  \n  CTOMathArg ctOMathArg = ctSSubSup.addNewE();\n  CTR ctR = ctOMathArg.addNewR();\n  CTText ctText = ctR.addNewT2();\n  ctText.setStringValue(eText);\n  \n  ctOMathArg = ctSSubSup.addNewSup();\n  ctR = ctOMathArg.addNewR();\n  ctText = ctR.addNewT2();\n  ctText.setStringValue(supText);\n  \n  ctOMathArg = ctSSubSup.addNewSub();\n  ctR = ctOMathArg.addNewR();\n  ctText = ctR.addNewT2();\n  ctText.setStringValue(subText);\n\n  return ctOMath;\n }\n\n static void createOMathInParagraph(XWPFParagraph paragraph, CTOMath ctOMath) {\n  CTOMath ctOMathTemp = paragraph.getCTP().addNewOMath();\n  paragraph.getCTP().setOMathArray(paragraph.getCTP().getOMathArray().length-1, ctOMath);\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n\n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;Formula: &quot;);\n    \n  createOMathInParagraph(paragraph, createOMathSupSub(&quot;2000&quot;, &quot;+2000&quot;, &quot;-180&quot;));\n  \n  run = paragraph.createRun();\n  run.setText(&quot; text after formula.&quot;);\n  \n  paragraph = document.createParagraph();\n\n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordFormulaSubSup.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/Dd7cT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dd7cT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17064150,"reputation":13,"user_id":12346801,"display_name":"Sharana Avali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76130307,"answer_count":1,"score":0,"last_activity_date":1682693084,"creation_date":1682610017,"question_id":76122277,"body_markdown":"I am trying to add superscript and subscripts using apache poi in word file but not getting in same like below\r\n\r\n\r\ngetting like this \r\nbut i need proper like this\r\n  [1]: https://i.stack.imgur.com/ZhWyX.png","title":"How to set superscript and subscript position in same vertical line in word document using apache poi","body":"<p>I am trying to add superscript and subscripts using apache poi in word file but not getting in same like below</p>\n<p>getting like this\nbut i need proper like this\n[1]: <a href=\"https://i.stack.imgur.com/ZhWyX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ZhWyX.png</a></p>\n"},{"tags":["java","kotlin","xml-parsing"],"answers":[{"comments":[{"owner":{"account_id":8081567,"reputation":307,"user_id":6090578,"display_name":"quinn"},"score":0,"creation_date":1665495158,"post_id":74020155,"comment_id":130710227,"body_markdown":"Very simple. I&#39;m surprised how fast it got answered. Thanks.","body":"Very simple. I&#39;m surprised how fast it got answered. Thanks."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665432060,"creation_date":1665432060,"answer_id":74020155,"question_id":74020121,"body_markdown":"Yes, you can just use a `StringReader`.  If you like, you can even make it a little more Kotliny by writing `setInput(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;.reader())`, using the [`reader()`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/reader.html) extension function.","title":"how to parse xml string in kotlin (not from a file)","body":"<p>Yes, you can just use a <code>StringReader</code>.  If you like, you can even make it a little more Kotliny by writing <code>setInput(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;.reader())</code>, using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/reader.html\" rel=\"nofollow noreferrer\"><code>reader()</code></a> extension function.</p>\n"},{"tags":[],"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682692950,"creation_date":1682692950,"answer_id":76130719,"question_id":74020121,"body_markdown":"Maybe you&#39;ll like https://gitlab.com/mvysny/konsume-xml :\r\n\r\n```kotlin\r\n&quot;&quot;&quot;\r\n&lt;employee&gt;\r\n    &lt;id&gt;1&lt;/id&gt;\r\n    &lt;name&gt;Alba&lt;/name&gt;\r\n    &lt;salary&gt;100&lt;/salary&gt;\r\n&lt;/employee&gt;\r\n&quot;&quot;&quot;.konsumeXml().apply {\r\n    child(&quot;employee&quot;) { \r\n        println(childInt(&quot;id&quot;))\r\n        println(childText(&quot;name&quot;))\r\n        println(childInt(&quot;salary&quot;))\r\n    }\r\n}\r\n```\r\n","title":"how to parse xml string in kotlin (not from a file)","body":"<p>Maybe you'll like <a href=\"https://gitlab.com/mvysny/konsume-xml\" rel=\"nofollow noreferrer\">https://gitlab.com/mvysny/konsume-xml</a> :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>&quot;&quot;&quot;\n&lt;employee&gt;\n    &lt;id&gt;1&lt;/id&gt;\n    &lt;name&gt;Alba&lt;/name&gt;\n    &lt;salary&gt;100&lt;/salary&gt;\n&lt;/employee&gt;\n&quot;&quot;&quot;.konsumeXml().apply {\n    child(&quot;employee&quot;) { \n        println(childInt(&quot;id&quot;))\n        println(childText(&quot;name&quot;))\n        println(childInt(&quot;salary&quot;))\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8081567,"reputation":307,"user_id":6090578,"display_name":"quinn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74020155,"answer_count":2,"score":0,"last_activity_date":1682692950,"creation_date":1665431887,"question_id":74020121,"body_markdown":"I have Kotlin code that others have written that parses an xml file. The code is here: https://www.javatpoint.com/kotlin-android-xmlpullparser-tutorial.  I would like to change it so that it parses a string, say from textview for example. I have code in Java that pareses a string, but it&#39;s not in Kotlin. That code is here: https://developer.android.com/reference/kotlin/org/xmlpull/v1/XmlPullParser\r\n\r\nThe key difference seems to be on setting the input stream. The Kotlin code snippet looks like:\r\n\r\n    fun parse(inputStream: InputStream): List&lt;Employee&gt; {  \r\n            try {  \r\n                val factory = XmlPullParserFactory.newInstance()  \r\n                factory.isNamespaceAware = true  \r\n                val parser = factory.newPullParser()  \r\n                parser.setInput(inputStream, null)  \r\n\r\nwhereas the java code looks like:\r\n\r\n    public static void main (String args[])\r\n            ‚Äãthrows XmlPullParserException, IOException\r\n        ‚Äã{\r\n            ‚ÄãXmlPullParserFactory factory = XmlPullParserFactory.newInstance();\r\n            ‚Äãfactory.setNamespaceAware(true);\r\n            ‚ÄãXmlPullParser xpp = factory.newPullParser();\r\n    \r\n            ‚Äãxpp.setInput( new StringReader ( &quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot; ) );\r\n\r\nso I guess the question boils to where .setInput is done. That is, does Kotlin have a StringReader? or similar function? I tried to using Android Studio to convert the java code to Kotlin and it looks like still wants to use Java libraries. Is that ok if one wants a true Kotlin app? The conversion is here:\r\n\r\n    \r\n    \r\n    import kotlin.Throws\r\n    import org.xmlpull.v1.XmlPullParserException\r\n    import kotlin.jvm.JvmStatic\r\n    import org.xmlpull.v1.XmlPullParserFactory\r\n    import org.xmlpull.v1.XmlPullParser\r\n    import java.io.IOException\r\n    import java.io.StringReader\r\n    \r\n    object SimpleXmlPullApp {\r\n        @Throws(XmlPullParserException::class, IOException::class)\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n            val factory = XmlPullParserFactory.newInstance()\r\n            factory.isNamespaceAware = true\r\n            val xpp = factory.newPullParser()\r\n            xpp.setInput(StringReader(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;))\r\n            var eventType = xpp.eventType\r\n            while (eventType != XmlPullParser.END_DOCUMENT) {\r\n                if (eventType == XmlPullParser.START_DOCUMENT) {\r\n                    println(&quot;Start document&quot;)\r\n                } else if (eventType == XmlPullParser.END_DOCUMENT) {\r\n                    println(&quot;End document&quot;)\r\n                } else if (eventType == XmlPullParser.START_TAG) {\r\n                    println(&quot;Start tag &quot; + xpp.name)\r\n                } else if (eventType == XmlPullParser.END_TAG) {\r\n                    println(&quot;End tag &quot; + xpp.name)\r\n                } else if (eventType == XmlPullParser.TEXT) {\r\n                    println(&quot;Text &quot; + xpp.text)\r\n                }\r\n                eventType = xpp.next()\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"how to parse xml string in kotlin (not from a file)","body":"<p>I have Kotlin code that others have written that parses an xml file. The code is here: <a href=\"https://www.javatpoint.com/kotlin-android-xmlpullparser-tutorial\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/kotlin-android-xmlpullparser-tutorial</a>.  I would like to change it so that it parses a string, say from textview for example. I have code in Java that pareses a string, but it's not in Kotlin. That code is here: <a href=\"https://developer.android.com/reference/kotlin/org/xmlpull/v1/XmlPullParser\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/kotlin/org/xmlpull/v1/XmlPullParser</a></p>\n<p>The key difference seems to be on setting the input stream. The Kotlin code snippet looks like:</p>\n<pre><code>fun parse(inputStream: InputStream): List&lt;Employee&gt; {  \n        try {  \n            val factory = XmlPullParserFactory.newInstance()  \n            factory.isNamespaceAware = true  \n            val parser = factory.newPullParser()  \n            parser.setInput(inputStream, null)  \n</code></pre>\n<p>whereas the java code looks like:</p>\n<pre><code>public static void main (String args[])\n        ‚Äãthrows XmlPullParserException, IOException\n    ‚Äã{\n        ‚ÄãXmlPullParserFactory factory = XmlPullParserFactory.newInstance();\n        ‚Äãfactory.setNamespaceAware(true);\n        ‚ÄãXmlPullParser xpp = factory.newPullParser();\n\n        ‚Äãxpp.setInput( new StringReader ( &quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot; ) );\n</code></pre>\n<p>so I guess the question boils to where .setInput is done. That is, does Kotlin have a StringReader? or similar function? I tried to using Android Studio to convert the java code to Kotlin and it looks like still wants to use Java libraries. Is that ok if one wants a true Kotlin app? The conversion is here:</p>\n<pre><code>import kotlin.Throws\nimport org.xmlpull.v1.XmlPullParserException\nimport kotlin.jvm.JvmStatic\nimport org.xmlpull.v1.XmlPullParserFactory\nimport org.xmlpull.v1.XmlPullParser\nimport java.io.IOException\nimport java.io.StringReader\n\nobject SimpleXmlPullApp {\n    @Throws(XmlPullParserException::class, IOException::class)\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val factory = XmlPullParserFactory.newInstance()\n        factory.isNamespaceAware = true\n        val xpp = factory.newPullParser()\n        xpp.setInput(StringReader(&quot;&lt;foo&gt;Hello World!&lt;/foo&gt;&quot;))\n        var eventType = xpp.eventType\n        while (eventType != XmlPullParser.END_DOCUMENT) {\n            if (eventType == XmlPullParser.START_DOCUMENT) {\n                println(&quot;Start document&quot;)\n            } else if (eventType == XmlPullParser.END_DOCUMENT) {\n                println(&quot;End document&quot;)\n            } else if (eventType == XmlPullParser.START_TAG) {\n                println(&quot;Start tag &quot; + xpp.name)\n            } else if (eventType == XmlPullParser.END_TAG) {\n                println(&quot;End tag &quot; + xpp.name)\n            } else if (eventType == XmlPullParser.TEXT) {\n                println(&quot;Text &quot; + xpp.text)\n            }\n            eventType = xpp.next()\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature"],"answers":[{"comments":[{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1682699534,"post_id":76130695,"comment_id":134261993,"body_markdown":"Currently, I am using the PDFBox example to sign documents, which can be found at: https://github.com/apache/pdfbox/tree/3.0.0-alpha3/examples/src/main/java/org/apache/pdfbox/examples/signature.\n\nWhat steps should I take to differentiate between an approval signature and a certification signature?","body":"Currently, I am using the PDFBox example to sign documents, which can be found at: <a href=\"https://github.com/apache/pdfbox/tree/3.0.0-alpha3/examples/src/main/java/org/apache/pdfbox/examples/signature\" rel=\"nofollow noreferrer\">github.com/apache/pdfbox/tree/3.0.0-alpha3/examples/src/main&zwnj;&#8203;/&hellip;</a>.  What steps should I take to differentiate between an approval signature and a certification signature?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682756722,"post_id":76130695,"comment_id":134268299,"body_markdown":"You create a certification signature if you set MDP permissions to 1, 2, or 3.","body":"You create a certification signature if you set MDP permissions to 1, 2, or 3."},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1682808270,"post_id":76130695,"comment_id":134274037,"body_markdown":"Despite using the same code example to create both signatures, the first one being a certification and the second being an approval. I am wondering why the PDFBox code example handles signature requests in this way. Thank you in advance for your help!","body":"Despite using the same code example to create both signatures, the first one being a certification and the second being an approval. I am wondering why the PDFBox code example handles signature requests in this way. Thank you in advance for your help!"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1682845522,"post_id":76130695,"comment_id":134276730,"body_markdown":"First of all, a PDF may not have more than one certification signature, and if it has one, it must be the first signature. And the code example, being an example, wants to cover a number of use cases, so it creates both certification and approval signatures.","body":"First of all, a PDF may not have more than one certification signature, and if it has one, it must be the first signature. And the code example, being an example, wants to cover a number of use cases, so it creates both certification and approval signatures."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682692780,"creation_date":1682692780,"answer_id":76130695,"question_id":76129996,"body_markdown":"For Acrobat 9.0 Adobe had this cheat sheet for the meaning of the symbols in the signature panel:\r\n\r\n[![Acrobat Signature Validation Cheat Sheet][1]][1]\r\n\r\nThe exact appearance of those symbols changed a bit over time but the _Certifi&#233;_ icon can be recognized as\r\n\r\n[![Certified entry of table][2]][2]\r\n\r\nThus, just like the second signature in your example it is a successfully verified signature. In contrast, though, it is a &quot;certification&quot; (aka &quot;author&quot;) signature while the other is an &quot;approval&quot; signature.\r\n\r\nPDFBox creates certification signatures as first signatures only if you ask it to. E.g. the signing example code for that contains this code:\r\n\r\n```\r\n        // Optional: certify \r\n        if (accessPermissions == 0)\r\n        {\r\n            SigUtils.setMDPPermission(document, signature, 2);\r\n        }        \r\n```\r\n\r\nIf you don&#39;t want a certification signature, drop the `SigUtils.setMDPPermission` call.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xld3X.png\r\n  [2]: https://i.stack.imgur.com/2eRFZ.png","title":"What is the significance of the certificate in a PDF document signed using PDFBox?","body":"<p>For Acrobat 9.0 Adobe had this cheat sheet for the meaning of the symbols in the signature panel:</p>\n<p><a href=\"https://i.stack.imgur.com/xld3X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xld3X.png\" alt=\"Acrobat Signature Validation Cheat Sheet\" /></a></p>\n<p>The exact appearance of those symbols changed a bit over time but the <em>Certifi√©</em> icon can be recognized as</p>\n<p><a href=\"https://i.stack.imgur.com/2eRFZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2eRFZ.png\" alt=\"Certified entry of table\" /></a></p>\n<p>Thus, just like the second signature in your example it is a successfully verified signature. In contrast, though, it is a &quot;certification&quot; (aka &quot;author&quot;) signature while the other is an &quot;approval&quot; signature.</p>\n<p>PDFBox creates certification signatures as first signatures only if you ask it to. E.g. the signing example code for that contains this code:</p>\n<pre><code>        // Optional: certify \n        if (accessPermissions == 0)\n        {\n            SigUtils.setMDPPermission(document, signature, 2);\n        }        \n</code></pre>\n<p>If you don't want a certification signature, drop the <code>SigUtils.setMDPPermission</code> call.</p>\n"}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76130695,"answer_count":1,"score":0,"last_activity_date":1682692780,"creation_date":1682687940,"question_id":76129996,"body_markdown":"How can I interpret the left icon in the first signature of a signed PDF document using PDFBox 3? The right icon is displaying correctly in the second signature, but I am unsure about the meaning of the left icon.\r\n\r\nHere is a screenshot for reference:\r\n\r\n![screenshot ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nAKnj.png\r\n\r\n","title":"What is the significance of the certificate in a PDF document signed using PDFBox?","body":"<p>How can I interpret the left icon in the first signature of a signed PDF document using PDFBox 3? The right icon is displaying correctly in the second signature, but I am unsure about the meaning of the left icon.</p>\n<p>Here is a screenshot for reference:</p>\n<p><img src=\"https://i.stack.imgur.com/nAKnj.png\" alt=\"screenshot \" /></p>\n"},{"tags":["java","formatting"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":0,"creation_date":1355374472,"post_id":13851743,"comment_id":19072441,"body_markdown":"possible duplicate of [How to get hex value from integer in java](http://stackoverflow.com/questions/5258415/how-to-get-hex-value-from-integer-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5258415/how-to-get-hex-value-from-integer-in-java\">How to get hex value from integer in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1355364073,"creation_date":1355364073,"answer_id":13851784,"question_id":13851743,"body_markdown":"You can use the String.format to format an integer as a hex string.\r\n\r\n       System.out.println(String.format(&quot;0x%08X&quot;, 1));\r\n\r\nThat is, pad with zeros, and make the total width 8. The 1 is converted to hex for you. The above line gives: `0x00000001` and \r\n\r\n       System.out.println(String.format(&quot;0x%08X&quot;, 234));\r\n\r\ngives: `0x000000EA`","title":"How to format numbers to a hex strings?","body":"<p>You can use the String.format to format an integer as a hex string.</p>\n\n<pre><code>   System.out.println(String.format(\"0x%08X\", 1));\n</code></pre>\n\n<p>That is, pad with zeros, and make the total width 8. The 1 is converted to hex for you. The above line gives: <code>0x00000001</code> and </p>\n\n<pre><code>   System.out.println(String.format(\"0x%08X\", 234));\n</code></pre>\n\n<p>gives: <code>0x000000EA</code></p>\n"},{"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355364087,"creation_date":1355364087,"answer_id":13851787,"question_id":13851743,"body_markdown":"You can use a [java.util.Formatter](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html) or [the printf method](http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29) on a PrintStream.","title":"How to format numbers to a hex strings?","body":"<p>You can use a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\" rel=\"nofollow\">java.util.Formatter</a> or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/PrintStream.html#printf%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\">the printf method</a> on a PrintStream.</p>\n"},{"comments":[{"owner":{"account_id":6395225,"reputation":1133,"user_id":4959801,"display_name":"dotrinh DM"},"score":1,"creation_date":1655780631,"post_id":13851790,"comment_id":128406800,"body_markdown":"this works, with this method we can print long (8 bytes)\nlike: 0xFFFFFFFF8DF6AE78","body":"this works, with this method we can print long (8 bytes) like: 0xFFFFFFFF8DF6AE78"}],"tags":[],"owner":{"account_id":1926927,"reputation":4206,"user_id":1737130,"accept_rate":77,"display_name":"Drogba"},"comment_count":1,"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1355364097,"creation_date":1355364097,"answer_id":13851790,"question_id":13851743,"body_markdown":"Try this\r\n\r\n    System.out.println(String.format(&quot;0x%08X&quot;, 1));","title":"How to format numbers to a hex strings?","body":"<p>Try this</p>\n\n<pre><code>System.out.println(String.format(\"0x%08X\", 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":316802,"reputation":10754,"user_id":633150,"display_name":"Brent Worden"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1355364124,"creation_date":1355364124,"answer_id":13851792,"question_id":13851743,"body_markdown":"From formatting syntax documented on Java&#39;s [Formatter][1] class:\r\n\r\n    Integer intObject = Integer.valueOf(1);\r\n    String s = String.format(&quot;0x%08x&quot;, intObject);\r\n    System.out.println(s);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"How to format numbers to a hex strings?","body":"<p>From formatting syntax documented on Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">Formatter</a> class:</p>\n\n<pre><code>Integer intObject = Integer.valueOf(1);\nString s = String.format(\"0x%08x\", intObject);\nSystem.out.println(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2140965,"reputation":21,"user_id":1899609,"display_name":"esteban"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1355364299,"creation_date":1355364299,"answer_id":13851818,"question_id":13851743,"body_markdown":"I don&#39;t know Java too intimately, but there must be a way you can pad the output from the toHexString function with a &#39;0&#39; to a length of 8.  If &quot;0x&quot; will always be at the beginning, just tack on that string to the beginning.","title":"How to format numbers to a hex strings?","body":"<p>I don't know Java too intimately, but there must be a way you can pad the output from the toHexString function with a '0' to a length of 8.  If \"0x\" will always be at the beginning, just tack on that string to the beginning.</p>\n"},{"tags":[],"owner":{"account_id":3522245,"reputation":174,"user_id":2944221,"display_name":"pratyahara"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627299103,"creation_date":1626382244,"answer_id":68400627,"question_id":13851743,"body_markdown":"Less verbose:\r\n\r\n    System.out.printf(&quot;0x%08x&quot;, 1); //&quot;Use %0X for upper case letters","title":"How to format numbers to a hex strings?","body":"<p>Less verbose:</p>\n<pre><code>System.out.printf(&quot;0x%08x&quot;, 1); //&quot;Use %0X for upper case letters\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1633613655,"post_id":69454370,"comment_id":122810775,"body_markdown":"Good to know this new addition in Java-17. It shows how strongly Java has been evolving.","body":"Good to know this new addition in Java-17. It shows how strongly Java has been evolving."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633452419,"creation_date":1633452419,"answer_id":69454370,"question_id":13851743,"body_markdown":"&lt;h4&gt;Java 17+&lt;/h4&gt;\r\n\r\nThere is a new immutable class dedicated to conversion into and formatting hexadecimal numbers. The easiest way to go is using [`HexFormat::toHexDigits`][1] which includes leading zeroes:\r\n\r\n```\r\nString hex = &quot;0x&quot; + HexFormat.of().toHexDigits(1);\r\n// 0x00000001\r\n```\r\n\r\n**Beware**, one has to concatenate with the `&quot;0x&quot;` prefix as such method ignores defined prefixes and suffixes, so the following snippet doesn&#39;t work as expected (only [`HexFormat::formatHex`][2] methods work with them):\r\n\r\n```\r\nString hex = HexFormat.of().withPrefix(&quot;0x&quot;).toHexDigits(1);\r\n// 00000001\r\n```\r\n\r\n&gt; Returns the eight hexadecimal characters for the int value. Each nibble `(4 bits)` from most significant to least significant of the value is formatted as if by `toLowHexDigit(nibble)`. **The delimiter, prefix and suffix are not used.**\r\n\r\n**Alternatively** use the advantage of [`HexFormat::formatHex`][2] formatting to two hexadecimal characters, and a `StringBuilder` as an `Appendable` prefix containing `&quot;0x&quot;`:\r\n\r\n&gt; Each byte value is formatted as the prefix, **two hexadecimal characters** selected from uppercase or lowercase digits, and the suffix.\r\n\r\n```\r\nStringBuilder hex = HexFormat.of()\r\n    .formatHex(new StringBuilder(&quot;0x&quot;), new byte[] {0, 0, 0, 1});\r\n// 0x00000001\r\n```\r\n```\r\nStringBuilder hex = HexFormat.of()\r\n    .formatHex(new StringBuilder(&quot;0x&quot;), ByteBuffer.allocate(4).putInt(1).array());\r\n// 0x00000001\r\n```\r\n\r\n  [1]: https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#toHexDigits(int)\r\n  [2]: https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#formatHex(byte%5B%5D)","title":"How to format numbers to a hex strings?","body":"<h4>Java 17+</h4>\n<p>There is a new immutable class dedicated to conversion into and formatting hexadecimal numbers. The easiest way to go is using <a href=\"https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#toHexDigits(int)\" rel=\"nofollow noreferrer\"><code>HexFormat::toHexDigits</code></a> which includes leading zeroes:</p>\n<pre><code>String hex = &quot;0x&quot; + HexFormat.of().toHexDigits(1);\n// 0x00000001\n</code></pre>\n<p><strong>Beware</strong>, one has to concatenate with the <code>&quot;0x&quot;</code> prefix as such method ignores defined prefixes and suffixes, so the following snippet doesn't work as expected (only <a href=\"https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#formatHex(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>HexFormat::formatHex</code></a> methods work with them):</p>\n<pre><code>String hex = HexFormat.of().withPrefix(&quot;0x&quot;).toHexDigits(1);\n// 00000001\n</code></pre>\n<blockquote>\n<p>Returns the eight hexadecimal characters for the int value. Each nibble <code>(4 bits)</code> from most significant to least significant of the value is formatted as if by <code>toLowHexDigit(nibble)</code>. <strong>The delimiter, prefix and suffix are not used.</strong></p>\n</blockquote>\n<p><strong>Alternatively</strong> use the advantage of <a href=\"https://download.java.net/java/early_access/jdk18/docs/api/java.base/java/util/HexFormat.html#formatHex(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>HexFormat::formatHex</code></a> formatting to two hexadecimal characters, and a <code>StringBuilder</code> as an <code>Appendable</code> prefix containing <code>&quot;0x&quot;</code>:</p>\n<blockquote>\n<p>Each byte value is formatted as the prefix, <strong>two hexadecimal characters</strong> selected from uppercase or lowercase digits, and the suffix.</p>\n</blockquote>\n<pre><code>StringBuilder hex = HexFormat.of()\n    .formatHex(new StringBuilder(&quot;0x&quot;), new byte[] {0, 0, 0, 1});\n// 0x00000001\n</code></pre>\n<pre><code>StringBuilder hex = HexFormat.of()\n    .formatHex(new StringBuilder(&quot;0x&quot;), ByteBuffer.allocate(4).putInt(1).array());\n// 0x00000001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4489693,"reputation":399,"user_id":3651090,"accept_rate":50,"display_name":"donmj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656384869,"creation_date":1656384869,"answer_id":72780256,"question_id":13851743,"body_markdown":"This is String extension for Kotlin\r\n\r\n    //if lengthOfResultTextNeeded = 3 and input String is &quot;AC&quot;, the result is = &quot;0AC&quot;\r\n    //if lengthOfResultTextNeeded = 4 and input String is &quot;AC&quot;, the result is = &quot;00AC&quot;\r\n\r\n    fun String.unSignedHex(lengthOfResultTextNeeded: Int): String {\r\n        val count =\r\n            lengthOfResultTextNeeded - this.length \r\n        val buildHex4DigitString = StringBuilder()\r\n        var i = 1\r\n        while (i &lt;= count) {\r\n            buildHex4DigitString.append(&quot;0&quot;)\r\n            ++i\r\n        }\r\n        return buildHex4DigitString.toString() + this\r\n    }","title":"How to format numbers to a hex strings?","body":"<p>This is String extension for Kotlin</p>\n<pre><code>//if lengthOfResultTextNeeded = 3 and input String is &quot;AC&quot;, the result is = &quot;0AC&quot;\n//if lengthOfResultTextNeeded = 4 and input String is &quot;AC&quot;, the result is = &quot;00AC&quot;\n\nfun String.unSignedHex(lengthOfResultTextNeeded: Int): String {\n    val count =\n        lengthOfResultTextNeeded - this.length \n    val buildHex4DigitString = StringBuilder()\n    var i = 1\n    while (i &lt;= count) {\n        buildHex4DigitString.append(&quot;0&quot;)\n        ++i\n    }\n    return buildHex4DigitString.toString() + this\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17001418,"reputation":23,"user_id":15434673,"display_name":"Mister Sir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682692684,"creation_date":1682692684,"answer_id":76130683,"question_id":13851743,"body_markdown":"Just use &quot;Integer.toString(n,x).toUpperCase()&quot; where n=Number, x= the Base\r\n\r\n    Integer.toString(123,16).toUpperCase()  //7B\r\n\r\n","title":"How to format numbers to a hex strings?","body":"<p>Just use &quot;Integer.toString(n,x).toUpperCase()&quot; where n=Number, x= the Base</p>\n<pre><code>Integer.toString(123,16).toUpperCase()  //7B\n</code></pre>\n"}],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101778,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":13851790,"answer_count":9,"score":38,"last_activity_date":1682692684,"creation_date":1355363666,"question_id":13851743,"body_markdown":"I want to format int numbers as hex strings.  `System.out.println(Integer.toHexString(1));` prints `1` but I want it as `0x00000001`. How do I do that?\r\n\r\n","title":"How to format numbers to a hex strings?","body":"<p>I want to format int numbers as hex strings.  <code>System.out.println(Integer.toHexString(1));</code> prints <code>1</code> but I want it as <code>0x00000001</code>. How do I do that?</p>\n"},{"tags":["java","docker"],"owner":{"account_id":1519247,"reputation":582,"user_id":1419420,"accept_rate":60,"display_name":"Joel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682733253,"answer_count":0,"score":0,"last_activity_date":1682692383,"creation_date":1682692383,"question_id":76130637,"body_markdown":"\r\nI&#39;m running a single docker container locally - it&#39;s running a spring boot java microservice.  \r\nThat service must connect to a windows hosted server at 9037. I&#39;m getting this exception stack trace:\r\n\r\n    Caused by: com.companyname.security.wam.util.WebClientException: Error executing request http://localhost:9037/services/policySvc/policy/All\r\n        at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:110)\r\n        at com.companyname.security.wam.util.WebClient.callPost(WebClient.java:61)\r\n        at com.companyname.security.wam.policy.client.ZoneAndPolicyClient.getAllPolicies(ZoneAndPolicyClient.java:37)\r\n        ... 14 common frames omitted\r\n    Caused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:9037 [localhost/127.0.0.1] failed: Connection refused\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n        at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:105)\r\n        ... 16 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused\r\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n        at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\r\n        at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\r\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\r\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n        at java.base/java.net.Socket.connect(Socket.java:633)\r\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n         26 common frames omitted\r\n\r\nThis works fine when run directly from Intellij.\r\n\r\n","title":"Docker connection refused to host service on port 9037","body":"<p>I'm running a single docker container locally - it's running a spring boot java microservice.<br />\nThat service must connect to a windows hosted server at 9037. I'm getting this exception stack trace:</p>\n<pre><code>Caused by: com.companyname.security.wam.util.WebClientException: Error executing request http://localhost:9037/services/policySvc/policy/All\n    at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:110)\n    at com.companyname.security.wam.util.WebClient.callPost(WebClient.java:61)\n    at com.companyname.security.wam.policy.client.ZoneAndPolicyClient.getAllPolicies(ZoneAndPolicyClient.java:37)\n    ... 14 common frames omitted\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:9037 [localhost/127.0.0.1] failed: Connection refused\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at com.companyname.security.wam.util.WebClient.createAndCallHttpPost(WebClient.java:105)\n    ... 16 common frames omitted\nCaused by: java.net.ConnectException: Connection refused\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n     26 common frames omitted\n</code></pre>\n<p>This works fine when run directly from Intellij.</p>\n"},{"tags":["java","gremlin","rdbms","tinkerpop3"],"comments":[{"owner":{"account_id":22385601,"reputation":1411,"user_id":16598470,"display_name":"HadoopMarc"},"score":0,"creation_date":1682675673,"post_id":76128111,"comment_id":134256484,"body_markdown":"SO did not let me edit for lack of capacity, so upvoted to 0. Question can be understood by TinkerPop experts, but not by the general audience.","body":"SO did not let me edit for lack of capacity, so upvoted to 0. Question can be understood by TinkerPop experts, but not by the general audience."}],"answers":[{"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682684021,"creation_date":1682684021,"answer_id":76129470,"question_id":76128111,"body_markdown":"This doc linked below discusses the main points of converting from a traditional, tabular RDBMS schema into a graph model and writing data into a TinkerPop-compatible datastore using Grmelin:\r\n\r\nhttps://aws-samples.github.io/aws-dbs-refarch-graph/src/converting-to-graph/\r\n\r\n","title":"How to load data from RDBMS to Tinkergraph using Gremlin using java code?","body":"<p>This doc linked below discusses the main points of converting from a traditional, tabular RDBMS schema into a graph model and writing data into a TinkerPop-compatible datastore using Grmelin:</p>\n<p><a href=\"https://aws-samples.github.io/aws-dbs-refarch-graph/src/converting-to-graph/\" rel=\"nofollow noreferrer\">https://aws-samples.github.io/aws-dbs-refarch-graph/src/converting-to-graph/</a></p>\n"}],"owner":{"account_id":7776395,"reputation":19,"user_id":5884381,"display_name":"Riya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1682691978,"creation_date":1682673760,"question_id":76128111,"body_markdown":"I need to load data from RDBMS to Tinkergraph using Gremlin using java code. \r\n\r\nEx: Select name,age from employee. There are 1000 rows. How to construct tinkergraph for such data?\r\n\r\n\r\nTried going through content available online but did not get to load data from rdbms table to graph for hundreds of thousands of rows","title":"How to load data from RDBMS to Tinkergraph using Gremlin using java code?","body":"<p>I need to load data from RDBMS to Tinkergraph using Gremlin using java code.</p>\n<p>Ex: Select name,age from employee. There are 1000 rows. How to construct tinkergraph for such data?</p>\n<p>Tried going through content available online but did not get to load data from rdbms table to graph for hundreds of thousands of rows</p>\n"},{"tags":["java","android","android-layout","scroll","datepicker"],"answers":[{"tags":[],"owner":{"account_id":22402825,"reputation":46,"user_id":16612929,"display_name":"ginger_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682691349,"creation_date":1682691349,"answer_id":76130486,"question_id":76093247,"body_markdown":"I guess your problem is that you have your datepicker inside scrollview. Can you check [this][1] answer?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42294154/16612929\r\n\r\n","title":"Unable to scroll to choose the year in DatePicker widget in android java","body":"<p>I guess your problem is that you have your datepicker inside scrollview. Can you check <a href=\"https://stackoverflow.com/a/42294154/16612929\">this</a> answer?</p>\n"}],"owner":{"account_id":27384334,"reputation":1,"user_id":20888445,"display_name":"muzammil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682691349,"creation_date":1682348233,"question_id":76093247,"body_markdown":"your text I have a datepicker view in android java that is used in a registration form so that users can give their date of birth, now when the year option is selected to scroll and choose the year user was born in, the year refuses to scroll an inch either up or down so i cannot select the birth year due to this.\r\n\r\nI expected the year list to be scrollable so user can easily scroll and select but it isn&#39;t, i have tried some stuff chatgpt told me but they didn&#39;t work\r\n\r\nHere is the xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.ECMainActivity&quot;&gt;\r\n\r\n    &lt;ScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:fillViewport=&quot;true&quot;\r\n        &gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            android:padding=&quot;5dp&quot;&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:cardElevation=&quot;10dp&quot;\r\n                app:contentPadding=&quot;10dp&quot;\r\n                app:cardCornerRadius=&quot;5dp&quot;\r\n                app:cardMaxElevation=&quot;12dp&quot;\r\n                app:cardPreventCornerOverlap=&quot;true&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;\r\n                    android:gravity=&quot;center_vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:text=&quot;Enter Details&quot;/&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldFirstName&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter First Name&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/firstName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldLastName&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter Last Name&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/lastName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldPartyName&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter Party Name&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/partyName&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                    &lt;RadioGroup\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:id=&quot;@+id/genderGrp&quot;&gt;\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n                            &lt;RadioButton\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:id=&quot;@+id/male&quot;\r\n                                android:text=&quot;Male&quot;/&gt;\r\n\r\n                            &lt;RadioButton\r\n                                android:id=&quot;@+id/female&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:text=&quot;Female&quot; /&gt;\r\n                            &lt;RadioButton\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:id=&quot;@+id/others&quot;\r\n                                android:text=&quot;Others&quot;/&gt;\r\n                        &lt;/LinearLayout&gt;\r\n                    &lt;/RadioGroup&gt;\r\n                    &lt;com.google.android.material.textfield.TextInputLayout\r\n                        android:id=&quot;@+id/filledTextFieldAN&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginEnd=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;10dp&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:hint=&quot;Enter Aadhar Number&quot;&gt;\r\n\r\n                        &lt;!--this is the actual edit text which takes the input--&gt;\r\n                        &lt;com.google.android.material.textfield.TextInputEditText\r\n                            android:id=&quot;@+id/aadharNumber&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:cardElevation=&quot;10dp&quot;\r\n                app:contentPadding=&quot;10dp&quot;\r\n                app:cardCornerRadius=&quot;5dp&quot;\r\n                app:cardMaxElevation=&quot;12dp&quot;\r\n                app:cardPreventCornerOverlap=&quot;true&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:text=&quot;Choose Date of Birth&quot;/&gt;\r\n\r\n                    &lt;DatePicker\r\n                        android:id=&quot;@+id/datePicker&quot;\r\n                        android:layout_width=&quot;fill_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:headerBackground=&quot;@android:color/holo_blue_dark&quot;\r\n                        android:padding=&quot;10px&quot; /&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n            &lt;androidx.cardview.widget.CardView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:cardElevation=&quot;10dp&quot;\r\n                app:contentPadding=&quot;10dp&quot;\r\n                app:cardCornerRadius=&quot;5dp&quot;\r\n                app:cardMaxElevation=&quot;12dp&quot;\r\n                app:cardPreventCornerOverlap=&quot;true&quot;\r\n                android:layout_gravity=&quot;center_vertical&quot;\r\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n                    &lt;TextView\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:textStyle=&quot;bold&quot;\r\n                        android:textSize=&quot;20dp&quot;\r\n                        android:text=&quot;Add Aadhar Card Picture&quot;/&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                        &lt;Button\r\n                            android:id=&quot;@+id/chooseFileBtn&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginRight=&quot;10dp&quot;\r\n                            android:text=&quot;Choose File&quot;\r\n                            app:backgroundTint=&quot;#4CAF50&quot; /&gt;\r\n\r\n                        &lt;Button\r\n                            android:id=&quot;@+id/submitBtn&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center&quot;\r\n                            android:text=&quot;Submit Details&quot;\r\n                            app:backgroundTint=&quot;#FF5722&quot; /&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:gravity=&quot;center_vertical&quot;\r\n                        android:visibility=&quot;gone&quot;\r\n                        android:id=&quot;@+id/uploadEC&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;\r\n                            android:text=&quot;Processing...&quot;/&gt;\r\n                        &lt;ProgressBar\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center_horizontal&quot;/&gt;\r\n                    &lt;/LinearLayout&gt;\r\n                &lt;/LinearLayout&gt;\r\n            &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n            &lt;Button\r\n                android:id=&quot;@+id/goBackToInfoPage&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:text=&quot;Go Back To Info&quot;\r\n                android:visibility=&quot;invisible&quot;\r\n                app:backgroundTint=&quot;#2196F3&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"Unable to scroll to choose the year in DatePicker widget in android java","body":"<p>your text I have a datepicker view in android java that is used in a registration form so that users can give their date of birth, now when the year option is selected to scroll and choose the year user was born in, the year refuses to scroll an inch either up or down so i cannot select the birth year due to this.</p>\n<p>I expected the year list to be scrollable so user can easily scroll and select but it isn't, i have tried some stuff chatgpt told me but they didn't work</p>\n<p>Here is the xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.ECMainActivity&quot;&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scrollbars=&quot;vertical&quot;\n        android:fillViewport=&quot;true&quot;\n        &gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:padding=&quot;5dp&quot;&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:cardElevation=&quot;10dp&quot;\n                app:contentPadding=&quot;10dp&quot;\n                app:cardCornerRadius=&quot;5dp&quot;\n                app:cardMaxElevation=&quot;12dp&quot;\n                app:cardPreventCornerOverlap=&quot;true&quot;\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;vertical&quot;\n                    android:gravity=&quot;center_vertical&quot;&gt;\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;20dp&quot;\n                        android:text=&quot;Enter Details&quot;/&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldFirstName&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter First Name&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/firstName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldLastName&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter Last Name&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/lastName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldPartyName&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter Party Name&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/partyName&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                    &lt;RadioGroup\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:id=&quot;@+id/genderGrp&quot;&gt;\n                        &lt;LinearLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n                            &lt;RadioButton\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:id=&quot;@+id/male&quot;\n                                android:text=&quot;Male&quot;/&gt;\n\n                            &lt;RadioButton\n                                android:id=&quot;@+id/female&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:text=&quot;Female&quot; /&gt;\n                            &lt;RadioButton\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:id=&quot;@+id/others&quot;\n                                android:text=&quot;Others&quot;/&gt;\n                        &lt;/LinearLayout&gt;\n                    &lt;/RadioGroup&gt;\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=&quot;@+id/filledTextFieldAN&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginEnd=&quot;10dp&quot;\n                        android:layout_marginRight=&quot;10dp&quot;\n                        android:layout_marginLeft=&quot;10dp&quot;\n                        android:hint=&quot;Enter Aadhar Number&quot;&gt;\n\n                        &lt;!--this is the actual edit text which takes the input--&gt;\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=&quot;@+id/aadharNumber&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot; /&gt;\n\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:cardElevation=&quot;10dp&quot;\n                app:contentPadding=&quot;10dp&quot;\n                app:cardCornerRadius=&quot;5dp&quot;\n                app:cardMaxElevation=&quot;12dp&quot;\n                app:cardPreventCornerOverlap=&quot;true&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;20dp&quot;\n                        android:text=&quot;Choose Date of Birth&quot;/&gt;\n\n                    &lt;DatePicker\n                        android:id=&quot;@+id/datePicker&quot;\n                        android:layout_width=&quot;fill_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:headerBackground=&quot;@android:color/holo_blue_dark&quot;\n                        android:padding=&quot;10px&quot; /&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n            &lt;androidx.cardview.widget.CardView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                app:cardElevation=&quot;10dp&quot;\n                app:contentPadding=&quot;10dp&quot;\n                app:cardCornerRadius=&quot;5dp&quot;\n                app:cardMaxElevation=&quot;12dp&quot;\n                app:cardPreventCornerOverlap=&quot;true&quot;\n                android:layout_gravity=&quot;center_vertical&quot;\n                app:cardUseCompatPadding=&quot;true&quot;&gt;\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;&gt;\n                    &lt;TextView\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:textStyle=&quot;bold&quot;\n                        android:textSize=&quot;20dp&quot;\n                        android:text=&quot;Add Aadhar Card Picture&quot;/&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;horizontal&quot;&gt;\n\n                        &lt;Button\n                            android:id=&quot;@+id/chooseFileBtn&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginRight=&quot;10dp&quot;\n                            android:text=&quot;Choose File&quot;\n                            app:backgroundTint=&quot;#4CAF50&quot; /&gt;\n\n                        &lt;Button\n                            android:id=&quot;@+id/submitBtn&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center&quot;\n                            android:text=&quot;Submit Details&quot;\n                            app:backgroundTint=&quot;#FF5722&quot; /&gt;\n                    &lt;/LinearLayout&gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:gravity=&quot;center_vertical&quot;\n                        android:visibility=&quot;gone&quot;\n                        android:id=&quot;@+id/uploadEC&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center_horizontal&quot;\n                            android:text=&quot;Processing...&quot;/&gt;\n                        &lt;ProgressBar\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center_horizontal&quot;/&gt;\n                    &lt;/LinearLayout&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/androidx.cardview.widget.CardView&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/goBackToInfoPage&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:text=&quot;Go Back To Info&quot;\n                android:visibility=&quot;invisible&quot;\n                app:backgroundTint=&quot;#2196F3&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","jpa","configuration"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1682813890,"post_id":76129845,"comment_id":134274442,"body_markdown":"You can&#39;t disable the EntityListener, but you can inject a property into your listener and carry out the listener logic conditionally.","body":"You can&#39;t disable the EntityListener, but you can inject a property into your listener and carry out the listener logic conditionally."}],"answers":[{"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682691332,"creation_date":1682691332,"answer_id":76130484,"question_id":76129845,"body_markdown":"An easy way to achieve this is by using a `@Value` and test if post-update should be executed.\r\n\r\n```java\r\n\r\n@Service\r\nclass MyListener {\r\n\r\n\t@Value(&quot;${my-listener-update:false}&quot;)\r\n\tboolean update;\r\n\r\n\t@PostUpdate\r\n\tvoid updated(Object entity){\r\n\t\tif(update) { // check if post update should be used\r\n\t\t\tSystem.out.println(&quot;updated &quot; + entity);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nmy-listener-update = true\r\n```\r\n\r\nBest to provide a default value, in the example it&#39;s set to `false`\r\n\r\n","title":"Spring - conditionally disable EntityListener","body":"<p>An easy way to achieve this is by using a <code>@Value</code> and test if post-update should be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\nclass MyListener {\n\n    @Value(&quot;${my-listener-update:false}&quot;)\n    boolean update;\n\n    @PostUpdate\n    void updated(Object entity){\n        if(update) { // check if post update should be used\n            System.out.println(&quot;updated &quot; + entity);\n        }\n    }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>my-listener-update = true\n</code></pre>\n<p>Best to provide a default value, in the example it's set to <code>false</code></p>\n"}],"owner":{"account_id":15910003,"reputation":531,"user_id":11480186,"display_name":"Nickname11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682691332,"creation_date":1682686896,"question_id":76129845,"body_markdown":"```\r\n@Entity\r\n@EntityListeners({MyListener.class})\r\npublic class MyEntityClass {\r\n...\r\n}\r\n```\r\n```\r\n@Service\r\npublic class MyListener {\r\n   @PostUpdate\r\n   public void myPostUpdate() {\r\n   ...\r\n   }\r\n}\r\n\r\n```\r\nI would like to conditionally (the best would by based on ```application.properties``` property) disable EntityListener. **Is it possible to achieve?**","title":"Spring - conditionally disable EntityListener","body":"<pre><code>@Entity\n@EntityListeners({MyListener.class})\npublic class MyEntityClass {\n...\n}\n</code></pre>\n<pre><code>@Service\npublic class MyListener {\n   @PostUpdate\n   public void myPostUpdate() {\n   ...\n   }\n}\n\n</code></pre>\n<p>I would like to conditionally (the best would by based on <code>application.properties</code> property) disable EntityListener. <strong>Is it possible to achieve?</strong></p>\n"},{"tags":["java","android","android-activity","recreate"],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682690731,"creation_date":1433638741,"answer_id":30689024,"question_id":30688976,"body_markdown":"Yes it will. \r\n\r\nOne simple way to test this is to rotate the screen when the receiving activity is running, it will be will be destroyed and recreated, and you will notice that you can still get the extras. \r\n\r\nTry it and see by your own.","title":"Does a recreated activity remember the original intent started it?","body":"<p>Yes it will.</p>\n<p>One simple way to test this is to rotate the screen when the receiving activity is running, it will be will be destroyed and recreated, and you will notice that you can still get the extras.</p>\n<p>Try it and see by your own.</p>\n"},{"tags":[],"owner":{"account_id":1672480,"reputation":431,"user_id":1538674,"display_name":"queencodemonkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433639300,"creation_date":1433639300,"answer_id":30689078,"question_id":30688976,"body_markdown":"Yes, it will be the same intent.\r\n\r\nAlso just to clarify, when you leave Activity B to answer the call, and go back, Activity B is not necessarily re-created. It is only re-created if the process containing it was killed to reclaim resources. It happens often that in the scenario you describe, Activity B still exists.\r\n\r\nFor a similar discussion see:\r\nhttps://stackoverflow.com/questions/15414093/android-is-the-intent-preserved-during-activity-recreation","title":"Does a recreated activity remember the original intent started it?","body":"<p>Yes, it will be the same intent.</p>\n\n<p>Also just to clarify, when you leave Activity B to answer the call, and go back, Activity B is not necessarily re-created. It is only re-created if the process containing it was killed to reclaim resources. It happens often that in the scenario you describe, Activity B still exists.</p>\n\n<p>For a similar discussion see:\n<a href=\"https://stackoverflow.com/questions/15414093/android-is-the-intent-preserved-during-activity-recreation\">Android - Is the intent preserved during activity recreation?</a></p>\n"}],"owner":{"account_id":3534015,"reputation":781,"user_id":2952782,"accept_rate":74,"display_name":"Jacob.B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30689024,"answer_count":2,"score":3,"last_activity_date":1682690731,"creation_date":1433638190,"question_id":30688976,"body_markdown":"While checking the documentation about using onSaveInstanceState, a question popped up.\r\n\r\nLet&#39;s say I&#39;m using an app with several activities and now I&#39;m in a specific activity that got started by a previous one. The current activity accepts extra values from the previous one. \r\n\r\nIf I get a phone call and then navigate back to the activity, it&#39;s recreated. But will it remember the original intent of the previous activity that started it? will it be able to get the extra variables from it after recreating itself?\r\n\r\nTo simplify things:\r\n\r\nActivity A starts Activity B (and passing extras to it). Then (while in B) there&#39;s an incoming call. \r\nI go back to the app so B is recreated- will I still be able to get the extras passed from original the original activity A ?","title":"Does a recreated activity remember the original intent started it?","body":"<p>While checking the documentation about using onSaveInstanceState, a question popped up.</p>\n<p>Let's say I'm using an app with several activities and now I'm in a specific activity that got started by a previous one. The current activity accepts extra values from the previous one.</p>\n<p>If I get a phone call and then navigate back to the activity, it's recreated. But will it remember the original intent of the previous activity that started it? will it be able to get the extra variables from it after recreating itself?</p>\n<p>To simplify things:</p>\n<p>Activity A starts Activity B (and passing extras to it). Then (while in B) there's an incoming call.\nI go back to the app so B is recreated- will I still be able to get the extras passed from original the original activity A ?</p>\n"},{"tags":["java","android","kotlin","imageview"],"owner":{"account_id":18955587,"reputation":135,"user_id":13832244,"display_name":"Sanket Bhangale"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682690661,"creation_date":1682690661,"question_id":76130388,"body_markdown":"I am working on an app that supports zoomable images\r\n\r\nCurrently, I am stuck at a point where I can not find a solution on how to programmatically scale (or zoom in) the image in an image view so that, in the resultant scaled image the object of interest is not cut off.\r\n\r\nThe app is receiving the coordinates of objects of interest relative to the original image&#39;s resolution.\r\n\r\nFrom the coordinates of objects, I can calculate the bounding box for an object of interest\r\n\r\nFor Example\r\n\r\n[![Image with different objects][1]][1]\r\n\r\n**Image with different objects**\r\n\r\n\r\n[![Object of interest][2]][2]\r\n\r\n**Object of interest (Marked with blue color bounding box)**\r\n\r\n\r\n[![Programmatically scaled image inside image view][3]][3]\r\n\r\n**Programmatically scaled image inside image view**\r\n\r\n\r\n\r\n\r\n\r\nI have tried this github library\r\nhttps://github.com/jsibbold/zoomage\r\n\r\n\r\nIn the above-mentioned library, I tried doing some changes\r\nThis library provides double tap to zoom\r\nI have abstracted those lines of code and put them in a function\r\n\r\nAs I am already getting a bounding box of object of interest, I have calculated the center of that\r\nand then called the same function with center x and center y \r\n\r\n\r\n    public void scaleAt(float x, float y) {\r\n            matrix.set(getImageMatrix());\r\n            matrix.getValues(matrixValues);\r\n            updateBounds(matrixValues);\r\n            Matrix zoomMatrix = new Matrix(matrix);\r\n            zoomMatrix.postScale(doubleTapToZoomScaleFactor, doubleTapToZoomScaleFactor, x, y);\r\n            animateScaleAndTranslationToMatrix(zoomMatrix, RESET_DURATION);\r\n    }\r\n\r\n\r\n    private void updateBounds(final float[] values) {\r\n            if (getDrawable() != null) {\r\n                bounds.set(values[Matrix.MTRANS_X],\r\n                        values[Matrix.MTRANS_Y],\r\n                        getDrawable().getIntrinsicWidth() * values[Matrix.MSCALE_X] + values[Matrix.MTRANS_X],\r\n                        getDrawable().getIntrinsicHeight() * values[Matrix.MSCALE_Y] + values[Matrix.MTRANS_Y]);\r\n            }\r\n        }\r\n\r\n\r\n    private void animateScaleAndTranslationToMatrix(final Matrix targetMatrix, final int duration) {\r\n    \r\n            final float[] targetValues = new float[9];\r\n            targetMatrix.getValues(targetValues);\r\n    \r\n            final Matrix beginMatrix = new Matrix(getImageMatrix());\r\n            beginMatrix.getValues(matrixValues);\r\n    \r\n            //difference in current and original values\r\n            final float xsdiff = targetValues[Matrix.MSCALE_X] - matrixValues[Matrix.MSCALE_X];\r\n            final float ysdiff = targetValues[Matrix.MSCALE_Y] - matrixValues[Matrix.MSCALE_Y];\r\n            final float xtdiff = targetValues[Matrix.MTRANS_X] - matrixValues[Matrix.MTRANS_X];\r\n            final float ytdiff = targetValues[Matrix.MTRANS_Y] - matrixValues[Matrix.MTRANS_Y];\r\n    \r\n            resetAnimator = ValueAnimator.ofFloat(0, 1f);\r\n            resetAnimator.addUpdateListener(new AnimatorUpdateListener() {\r\n    \r\n                final Matrix activeMatrix = new Matrix(getImageMatrix());\r\n                final float[] values = new float[9];\r\n    \r\n                @Override\r\n                public void onAnimationUpdate(ValueAnimator animation) {\r\n                    float val = (Float) animation.getAnimatedValue();\r\n                    activeMatrix.set(beginMatrix);\r\n                    activeMatrix.getValues(values);\r\n                    values[Matrix.MTRANS_X] = values[Matrix.MTRANS_X] + xtdiff * val;\r\n                    values[Matrix.MTRANS_Y] = values[Matrix.MTRANS_Y] + ytdiff * val;\r\n                    values[Matrix.MSCALE_X] = values[Matrix.MSCALE_X] + xsdiff * val;\r\n                    values[Matrix.MSCALE_Y] = values[Matrix.MSCALE_Y] + ysdiff * val;\r\n                    activeMatrix.setValues(values);\r\n                    setImageMatrix(activeMatrix);\r\n                }\r\n            });\r\n    \r\n            resetAnimator.addListener(new SimpleAnimatorListener() {\r\n                @Override\r\n                public void onAnimationEnd(Animator animation) {\r\n                    setImageMatrix(targetMatrix);\r\n                }\r\n            });\r\n    \r\n            resetAnimator.setDuration(duration);\r\n            resetAnimator.start();\r\n        }\r\n\r\n\r\nIt produces this type of result\r\n\r\n[![Custom try][4]][4]\r\n\r\n\r\nPlease help me solve this issue\r\n\r\nThank you\r\n\r\n  [1]: https://i.stack.imgur.com/jcFT6.jpg\r\n  [2]: https://i.stack.imgur.com/wDwpR.jpg\r\n  [3]: https://i.stack.imgur.com/AUF64.jpg\r\n  [4]: https://i.stack.imgur.com/L2eFN.jpg","title":"Native android - Preset the zoom on the basis of a bounding box for a object in image","body":"<p>I am working on an app that supports zoomable images</p>\n<p>Currently, I am stuck at a point where I can not find a solution on how to programmatically scale (or zoom in) the image in an image view so that, in the resultant scaled image the object of interest is not cut off.</p>\n<p>The app is receiving the coordinates of objects of interest relative to the original image's resolution.</p>\n<p>From the coordinates of objects, I can calculate the bounding box for an object of interest</p>\n<p>For Example</p>\n<p><a href=\"https://i.stack.imgur.com/jcFT6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jcFT6.jpg\" alt=\"Image with different objects\" /></a></p>\n<p><strong>Image with different objects</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wDwpR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wDwpR.jpg\" alt=\"Object of interest\" /></a></p>\n<p><strong>Object of interest (Marked with blue color bounding box)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/AUF64.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AUF64.jpg\" alt=\"Programmatically scaled image inside image view\" /></a></p>\n<p><strong>Programmatically scaled image inside image view</strong></p>\n<p>I have tried this github library\n<a href=\"https://github.com/jsibbold/zoomage\" rel=\"nofollow noreferrer\">https://github.com/jsibbold/zoomage</a></p>\n<p>In the above-mentioned library, I tried doing some changes\nThis library provides double tap to zoom\nI have abstracted those lines of code and put them in a function</p>\n<p>As I am already getting a bounding box of object of interest, I have calculated the center of that\nand then called the same function with center x and center y</p>\n<pre><code>public void scaleAt(float x, float y) {\n        matrix.set(getImageMatrix());\n        matrix.getValues(matrixValues);\n        updateBounds(matrixValues);\n        Matrix zoomMatrix = new Matrix(matrix);\n        zoomMatrix.postScale(doubleTapToZoomScaleFactor, doubleTapToZoomScaleFactor, x, y);\n        animateScaleAndTranslationToMatrix(zoomMatrix, RESET_DURATION);\n}\n\n\nprivate void updateBounds(final float[] values) {\n        if (getDrawable() != null) {\n            bounds.set(values[Matrix.MTRANS_X],\n                    values[Matrix.MTRANS_Y],\n                    getDrawable().getIntrinsicWidth() * values[Matrix.MSCALE_X] + values[Matrix.MTRANS_X],\n                    getDrawable().getIntrinsicHeight() * values[Matrix.MSCALE_Y] + values[Matrix.MTRANS_Y]);\n        }\n    }\n\n\nprivate void animateScaleAndTranslationToMatrix(final Matrix targetMatrix, final int duration) {\n\n        final float[] targetValues = new float[9];\n        targetMatrix.getValues(targetValues);\n\n        final Matrix beginMatrix = new Matrix(getImageMatrix());\n        beginMatrix.getValues(matrixValues);\n\n        //difference in current and original values\n        final float xsdiff = targetValues[Matrix.MSCALE_X] - matrixValues[Matrix.MSCALE_X];\n        final float ysdiff = targetValues[Matrix.MSCALE_Y] - matrixValues[Matrix.MSCALE_Y];\n        final float xtdiff = targetValues[Matrix.MTRANS_X] - matrixValues[Matrix.MTRANS_X];\n        final float ytdiff = targetValues[Matrix.MTRANS_Y] - matrixValues[Matrix.MTRANS_Y];\n\n        resetAnimator = ValueAnimator.ofFloat(0, 1f);\n        resetAnimator.addUpdateListener(new AnimatorUpdateListener() {\n\n            final Matrix activeMatrix = new Matrix(getImageMatrix());\n            final float[] values = new float[9];\n\n            @Override\n            public void onAnimationUpdate(ValueAnimator animation) {\n                float val = (Float) animation.getAnimatedValue();\n                activeMatrix.set(beginMatrix);\n                activeMatrix.getValues(values);\n                values[Matrix.MTRANS_X] = values[Matrix.MTRANS_X] + xtdiff * val;\n                values[Matrix.MTRANS_Y] = values[Matrix.MTRANS_Y] + ytdiff * val;\n                values[Matrix.MSCALE_X] = values[Matrix.MSCALE_X] + xsdiff * val;\n                values[Matrix.MSCALE_Y] = values[Matrix.MSCALE_Y] + ysdiff * val;\n                activeMatrix.setValues(values);\n                setImageMatrix(activeMatrix);\n            }\n        });\n\n        resetAnimator.addListener(new SimpleAnimatorListener() {\n            @Override\n            public void onAnimationEnd(Animator animation) {\n                setImageMatrix(targetMatrix);\n            }\n        });\n\n        resetAnimator.setDuration(duration);\n        resetAnimator.start();\n    }\n</code></pre>\n<p>It produces this type of result</p>\n<p><a href=\"https://i.stack.imgur.com/L2eFN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L2eFN.jpg\" alt=\"Custom try\" /></a></p>\n<p>Please help me solve this issue</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":10648335,"reputation":66,"user_id":7840215,"display_name":"nogalo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682684192,"creation_date":1682684192,"answer_id":76129494,"question_id":76127544,"body_markdown":"Maybe you can try adding \r\n\r\n    @EnableJpaRepositories(basePackages = &quot;path.toservice.repository&quot;)\r\nto the configuration. If that solves your problem, then probably something is wrong with your packages structure.","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>Maybe you can try adding</p>\n<pre><code>@EnableJpaRepositories(basePackages = &quot;path.toservice.repository&quot;)\n</code></pre>\n<p>to the configuration. If that solves your problem, then probably something is wrong with your packages structure.</p>\n"},{"tags":[],"owner":{"account_id":23183409,"reputation":69,"user_id":17280912,"display_name":"lvbartow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682684491,"creation_date":1682684491,"answer_id":76129523,"question_id":76127544,"body_markdown":"In your class &quot;SomeComponentClass&quot;, you could try putting the annotation @Autowired above your private repo, and remove it from your constructor.\r\n\r\n```java\r\n@Autowired\r\nprivate final SomeJpaRepository repository;\r\n\r\npublic Constructor(prop1, prop2, someMapper){\r\n      this.property_1 = prop1;\r\n      this.property_2 = prop2;\r\n      this.someMapper = someMapper;\r\n}\r\n```\r\n","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>In your class &quot;SomeComponentClass&quot;, you could try putting the annotation @Autowired above your private repo, and remove it from your constructor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate final SomeJpaRepository repository;\n\npublic Constructor(prop1, prop2, someMapper){\n      this.property_1 = prop1;\n      this.property_2 = prop2;\n      this.someMapper = someMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3022615,"reputation":320,"user_id":2563277,"display_name":"Toufic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682690595,"creation_date":1682690595,"answer_id":76130376,"question_id":76127544,"body_markdown":"The issue is related to the order of beans creation, so it is better to create SomeJpaRepository in the context file to avoid similar issues\r\nCheck this [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7868335/spring-make-sure-a-particular-bean-gets-initialized-first","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<p>The issue is related to the order of beans creation, so it is better to create SomeJpaRepository in the context file to avoid similar issues\nCheck this <a href=\"https://stackoverflow.com/questions/7868335/spring-make-sure-a-particular-bean-gets-initialized-first\">answer</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76129494,"answer_count":3,"score":0,"last_activity_date":1682690595,"creation_date":1682669629,"question_id":76127544,"body_markdown":"```\r\n@Repository\r\npublic interface SomeJpaRepository extends JpaRepository&lt;SomeEntity, String&gt;\r\n{\r\n   @Modifying\r\n  //....\r\n}\r\n```\r\n\r\nmy component:\r\n```\r\n@Component\r\n@Slf4j\r\npublic class SomeComponentClass\r\n{\r\n   private final SomeJpaRepository repository;\r\n   private final SomeMapper someMapper;\r\n   private final int property_1;\r\n   private final int property_2;\r\n\r\n   public SapRequestQueue(SomeJpaRepository somejpaRepository, SomeMapper someMapper,\r\n                          @Value(&quot;${xxx.property_1}&quot;) int property_1, @Value(&quot;${xxx.property_2}&quot;) int property_2)\r\n   {\r\n      this.property_1 = property_1;\r\n      this.property_2 = property_2;\r\n      this.someMapper = someMapper;\r\n      this.somejpaRepository = somejpaRepository;\r\n   }\r\n```\r\n\r\nMy error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023.04.28 10:01:02.622 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter:40 - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in path.service.SomeComponentClass required a bean of type &#39;path.service.repository.SomeJpaRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;path.service.repository.SomeJpaRepository &#39; in your configuration.\r\n\r\nDisconnected from the target VM, address: &#39;127.0.0.1:61815&#39;, transport: &#39;socket&#39;\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nMy code structure\r\nModule:\r\n \r\n\r\n - src    \r\n - main\r\n - java\r\n - path.toserviceSomeComponentClass\r\n - path.toservice.repository.SomeJpaRepository\r\n  \r\n\r\n   ","title":"Parameter 0 of constructor in ComponentClass required a bean of type &#39;JpaRepository&#39; that could not be found","body":"<pre><code>@Repository\npublic interface SomeJpaRepository extends JpaRepository&lt;SomeEntity, String&gt;\n{\n   @Modifying\n  //....\n}\n</code></pre>\n<p>my component:</p>\n<pre><code>@Component\n@Slf4j\npublic class SomeComponentClass\n{\n   private final SomeJpaRepository repository;\n   private final SomeMapper someMapper;\n   private final int property_1;\n   private final int property_2;\n\n   public SapRequestQueue(SomeJpaRepository somejpaRepository, SomeMapper someMapper,\n                          @Value(&quot;${xxx.property_1}&quot;) int property_1, @Value(&quot;${xxx.property_2}&quot;) int property_2)\n   {\n      this.property_1 = property_1;\n      this.property_2 = property_2;\n      this.someMapper = someMapper;\n      this.somejpaRepository = somejpaRepository;\n   }\n</code></pre>\n<p>My error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023.04.28 10:01:02.622 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter:40 - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in path.service.SomeComponentClass required a bean of type 'path.service.repository.SomeJpaRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'path.service.repository.SomeJpaRepository ' in your configuration.\n\nDisconnected from the target VM, address: '127.0.0.1:61815', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n<p>My code structure\nModule:</p>\n<ul>\n<li>src</li>\n<li>main</li>\n<li>java</li>\n<li>path.toserviceSomeComponentClass</li>\n<li>path.toservice.repository.SomeJpaRepository</li>\n</ul>\n"},{"tags":["java","spring-boot","google-app-engine","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1669123230,"post_id":74533039,"comment_id":131568213,"body_markdown":"While native starts faster you loose some of the runtime optimizations that can be done, so eventually running a native app can have slower runtime performance (although will start faster). I also wonder what factor Google App Engine plays here.","body":"While native starts faster you loose some of the runtime optimizations that can be done, so eventually running a native app can have slower runtime performance (although will start faster). I also wonder what factor Google App Engine plays here."},{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1682064090,"post_id":74533039,"comment_id":134159980,"body_markdown":"Any news on this topic?","body":"Any news on this topic?"}],"owner":{"account_id":26985788,"reputation":41,"user_id":20549480,"display_name":"Aedious"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1682690275,"creation_date":1669122099,"question_id":74533039,"body_markdown":"Hi I&#39;ve done a PoC to test out SpringBoot v2.7.5 Native with GraalVM v22.3.0.\r\n\r\nThe purpose of the project was to run native SpringBoot on GCP AppEngine.\r\n\r\nTo test the performances I&#39;ve implemented a basic Fibonacci sequence.\r\n\r\nGoing native makes heavy process taking twice time than normal ones.\r\n\r\nDid somebody know why ?\r\n\r\nHere is the results I had during my tests sessions :\r\n\r\nStarting time:\r\n\r\n| Starting time | AppEngine | Locally |\r\n|---------------|-----------|---------|\r\n| Native        | 4 245ms   | 8ms     |\r\n| Classic       | 10 220ms  | 2115ms  |\r\n\r\nLocal tests:\r\n\r\n*Quarkus Native tests was also made by using GraalVM*\r\n\r\n| Fibonacci  | SpringBoot | SpringBoot Native | Quarkus | Quarkus Native |\r\n|------------|------------|-------------------|---------|----------------|\r\n| 1 000 000  | 77ms       | 125ms             | 103ms   | 110ms          |\r\n| 5 000 000  | 204ms      | 426ms             | 363ms   | 356ms          |\r\n| 10 000 000 | 327ms      | 854ms             | 435ms   | 663ms          |\r\n| 30 000 000 | 894ms      | 2 495ms           | 1 523ms | 1 960ms        |\r\n| 90 000 000 | 3 571ms    | 7 026ms           | 4 464ms | 6 161ms        |\r\n\r\nIf you want to check the code i&#39;m using to make this test here it is :\r\n\r\nhttps://github.com/tal0si/spring-boot-native-on-gcp-appengine","title":"SpringBoot Native with GraalVM have expecting starting time but is really slow for heavy calculations","body":"<p>Hi I've done a PoC to test out SpringBoot v2.7.5 Native with GraalVM v22.3.0.</p>\n<p>The purpose of the project was to run native SpringBoot on GCP AppEngine.</p>\n<p>To test the performances I've implemented a basic Fibonacci sequence.</p>\n<p>Going native makes heavy process taking twice time than normal ones.</p>\n<p>Did somebody know why ?</p>\n<p>Here is the results I had during my tests sessions :</p>\n<p>Starting time:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Starting time</th>\n<th>AppEngine</th>\n<th>Locally</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Native</td>\n<td>4 245ms</td>\n<td>8ms</td>\n</tr>\n<tr>\n<td>Classic</td>\n<td>10 220ms</td>\n<td>2115ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Local tests:</p>\n<p><em>Quarkus Native tests was also made by using GraalVM</em></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Fibonacci</th>\n<th>SpringBoot</th>\n<th>SpringBoot Native</th>\n<th>Quarkus</th>\n<th>Quarkus Native</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1 000 000</td>\n<td>77ms</td>\n<td>125ms</td>\n<td>103ms</td>\n<td>110ms</td>\n</tr>\n<tr>\n<td>5 000 000</td>\n<td>204ms</td>\n<td>426ms</td>\n<td>363ms</td>\n<td>356ms</td>\n</tr>\n<tr>\n<td>10 000 000</td>\n<td>327ms</td>\n<td>854ms</td>\n<td>435ms</td>\n<td>663ms</td>\n</tr>\n<tr>\n<td>30 000 000</td>\n<td>894ms</td>\n<td>2 495ms</td>\n<td>1 523ms</td>\n<td>1 960ms</td>\n</tr>\n<tr>\n<td>90 000 000</td>\n<td>3 571ms</td>\n<td>7 026ms</td>\n<td>4 464ms</td>\n<td>6 161ms</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If you want to check the code i'm using to make this test here it is :</p>\n<p><a href=\"https://github.com/tal0si/spring-boot-native-on-gcp-appengine\" rel=\"nofollow noreferrer\">https://github.com/tal0si/spring-boot-native-on-gcp-appengine</a></p>\n"},{"tags":["java","hibernate","hql"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1682671570,"post_id":76124487,"comment_id":134255655,"body_markdown":"What database is this? *Which* posts recommend this?","body":"What database is this? <i>Which</i> posts recommend this?"},{"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"score":0,"creation_date":1682687566,"post_id":76124487,"comment_id":134259116,"body_markdown":"using postgreSql. And poste like these: https://stackoverflow.com/questions/17813492/postgres-not-in-performance, https://stackoverflow.com/questions/24647503/performance-issue-in-update-query","body":"using postgreSql. And poste like these: <a href=\"https://stackoverflow.com/questions/17813492/postgres-not-in-performance\" title=\"postgres not in performance\">stackoverflow.com/questions/17813492/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/24647503/performance-issue-in-update-query\" title=\"performance issue in update query\">stackoverflow.com/questions/24647503/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682689966,"creation_date":1682689966,"answer_id":76130277,"question_id":76124487,"body_markdown":"I mean, look, you *can* in principle do this extremely easily by just passing a native SQL query to `createNativeQuery()`.\r\n\r\nBut you really need to ask yourself:\r\n\r\n&gt; what am I even doing here?\r\n\r\nIf you have such a huge quantity of ids that there are too many for Postgres to handle them efficiently in an `in` predicate, then it&#39;s highly unlikely that pulling all that state into the JVM and materializing entity objects to represent all those rows is an efficient or reasonable thing to do.\r\n\r\nIf you absolutely *have* to do this, make sure you use `StatelessSession`.\r\n\r\nBut have you considered using a stored procedure or something like that?","title":"Hibernate run IN (VALUES ...) rather than IN query","body":"<p>I mean, look, you <em>can</em> in principle do this extremely easily by just passing a native SQL query to <code>createNativeQuery()</code>.</p>\n<p>But you really need to ask yourself:</p>\n<blockquote>\n<p>what am I even doing here?</p>\n</blockquote>\n<p>If you have such a huge quantity of ids that there are too many for Postgres to handle them efficiently in an <code>in</code> predicate, then it's highly unlikely that pulling all that state into the JVM and materializing entity objects to represent all those rows is an efficient or reasonable thing to do.</p>\n<p>If you absolutely <em>have</em> to do this, make sure you use <code>StatelessSession</code>.</p>\n<p>But have you considered using a stored procedure or something like that?</p>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682689966,"creation_date":1682628091,"question_id":76124487,"body_markdown":"I have a huge number of entities i need to load from the DB, i have a query like this\r\n```\r\nFROM ${entityName} x WHERE x.id IN :ids\r\n```\r\nthe above generates SQL queries like this: `... where EntityName.id in (? , ? , ? , ? , ? , ? , ? , ? , ...)`\r\nThis is incredibly slow for large `ids` sets. Multiple posts here have suggested instead to run an `IN VALUES` query like this:\r\n```\r\n... where EntityName.id in (VALUES (?) , (?) , (?) , (?) , (?) , (?) , (?) , (?) , ...)\r\n```\r\n\r\nHere is my Java:\r\n```\r\nList&lt;T&gt; result = entityManager.createQuery(queryString, queryEntity)\r\n    .setParameter(&quot;ids&quot;, batch)\r\n    .getResultList()\r\n```\r\n\r\nWondering how i can get hibernate to do that?\r\nDo i need to specify that in the HQL somehow?\r\nI tried this not expecting it to work, and it didn&#39;t.\r\n`SELECT x FROM ${entityName} x WHERE x.id IN (VALUES :ids)`\r\n\r\nIs this even possible in HQL, or do i need to write a native query?","title":"Hibernate run IN (VALUES ...) rather than IN query","body":"<p>I have a huge number of entities i need to load from the DB, i have a query like this</p>\n<pre><code>FROM ${entityName} x WHERE x.id IN :ids\n</code></pre>\n<p>the above generates SQL queries like this: <code>... where EntityName.id in (? , ? , ? , ? , ? , ? , ? , ? , ...)</code>\nThis is incredibly slow for large <code>ids</code> sets. Multiple posts here have suggested instead to run an <code>IN VALUES</code> query like this:</p>\n<pre><code>... where EntityName.id in (VALUES (?) , (?) , (?) , (?) , (?) , (?) , (?) , (?) , ...)\n</code></pre>\n<p>Here is my Java:</p>\n<pre><code>List&lt;T&gt; result = entityManager.createQuery(queryString, queryEntity)\n    .setParameter(&quot;ids&quot;, batch)\n    .getResultList()\n</code></pre>\n<p>Wondering how i can get hibernate to do that?\nDo i need to specify that in the HQL somehow?\nI tried this not expecting it to work, and it didn't.\n<code>SELECT x FROM ${entityName} x WHERE x.id IN (VALUES :ids)</code></p>\n<p>Is this even possible in HQL, or do i need to write a native query?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682688780,"post_id":76129892,"comment_id":134259393,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":8346376,"reputation":389,"user_id":6269962,"display_name":"Alexandr Ivanov"},"score":1,"creation_date":1682689469,"post_id":76129892,"comment_id":134259551,"body_markdown":"You generate one key pair in Server, and then you generate another key pair in Client. There is no chance you can decrypt by a key from one pair a message encrypted by a key from another pair.","body":"You generate one key pair in Server, and then you generate another key pair in Client. There is no chance you can decrypt by a key from one pair a message encrypted by a key from another pair."},{"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":"–†–æ–º–∞–Ω –î–≤–æ—Ä–Ω–∏—á–µ–Ω–∫–æ"},"score":0,"creation_date":1682689677,"post_id":76129892,"comment_id":134259601,"body_markdown":"But shouldn&#39;t the private key for decryption be created inside the client, and not sent? How else? Thanks","body":"But shouldn&#39;t the private key for decryption be created inside the client, and not sent? How else? Thanks"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682695032,"post_id":76129892,"comment_id":134261036,"body_markdown":"You should be encrypting the message you want to send with the public key of your counter party. And try RSA/ECB/PKCS1Padding, although RSA is regarded as insecure afaik","body":"You should be encrypting the message you want to send with the public key of your counter party. And try RSA/ECB/PKCS1Padding, although RSA is regarded as insecure afaik"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1682703392,"post_id":76129892,"comment_id":134262772,"body_markdown":"The privatekey should be created by the decrypter and kept private (not sent); the publickey should _also_ be created by the decrypter and _must_ be sent at least to the encrypter(s); often it is sent to everybody, because you don&#39;t always know in advance who will be sending encrypted messages to a given party. See the first two graphics at the right-side of https://en.wikipedia.org/wiki/Public-key_cryptography .","body":"The privatekey should be created by the decrypter and kept private (not sent); the publickey should <i>also</i> be created by the decrypter and <i>must</i> be sent at least to the encrypter(s); often it is sent to everybody, because you don&#39;t always know in advance who will be sending encrypted messages to a given party. See the first two graphics at the right-side of <a href=\"https://en.wikipedia.org/wiki/Public-key_cryptography\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Public-key_cryptography</a> ."}],"owner":{"account_id":23929393,"reputation":3,"user_id":18223315,"display_name":"–†–æ–º–∞–Ω –î–≤–æ—Ä–Ω–∏—á–µ–Ω–∫–æ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682689481,"creation_date":1682687264,"question_id":76129892,"body_markdown":"Im testing: Server encrypting of public key message and sending to client, that should decrypting message, but called Exception.\r\n\r\nServer\r\n```\r\n            Socket socket = serverSocket.accept();\r\n            System.out.println(&quot;New client connected&quot;);\r\n            output = socket.getOutputStream();\r\n            DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\r\n\r\n            String message = &quot;Hello there?&quot;;\r\n            byte[] encbyte = rsa.encryptByPublicKey(message.getBytes(), publickey);\r\n            String enc = new BigInteger(1, encbyte).toString(); \r\n            System.out.println(&quot;enc &quot; + enc );\r\n\r\n            dOut.writeInt(encbyte.length);\r\n            dOut.write(encbyte);\r\n\r\n            byte[] decodebyte = rsa.decryptByPrivateKey(encbyte, privatekey); //test\r\n            String decodedata = new String(decodebyte);\r\n            System.out.println(&quot;decodedata &quot; + decodedata);\r\n\r\n            while (true);\r\n```\r\nClient\r\n```\r\n            socket = new Socket(&quot;127.0.0.1&quot;, 5556);\r\n            key = rsa.initKey();\r\n            publickey = rsa.getPublicKey(key);\r\n            privatekey = rsa.getPrivateKey(key);\r\n\r\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\r\n            inputStream = socket.getInputStream();\r\n            DataInputStream dIn = new DataInputStream(socket.getInputStream());\r\n\r\n            Thread.sleep(300);\r\n            System.out.println(&quot;connected&quot;);\r\n\r\n            byte[] array = null;\r\n            int length = dIn.readInt(); // read length of incoming message\r\n            if(length&gt;0) {\r\n                array = new byte[length];\r\n                dIn.readFully(array, 0, array.length); // read the message\r\n            }\r\n\r\n            String enc = new BigInteger(1, array).toString();\r\n            byte[] decodebyte = rsa.decryptByPrivateKey(array, privatekey); //error\r\n            String decodedata = new String(decodebyte);\r\n            System.out.println(&quot;decodedata &quot; + decodedata);\r\n\r\n```\r\nI use this library (rsa decrypting and encrypting)\r\n```\r\npublic class rsa {\r\n    public static final String KEY_ALGORITHM = &quot;RSA&quot;;\r\n    public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;;\r\n\r\n    private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; //RSAPublicKey\r\n    private static final String PRIVATE_KEY = &quot;rsa&quot;; //RSAPrivateKey\r\n\r\n    public static byte[] decryptBASE64(String key) throws Exception {\r\n        return Base64.getDecoder().decode(key);\r\n    }\r\n\r\n    public static String encryptBASE64(byte[] key) throws Exception {\r\n        return Base64.getEncoder().encodeToString(key);\r\n    }\r\n\r\n    public static byte[] decryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n        // ÂØπÂØÜÈí•Ëß£ÂØÜ\r\n        byte[] keyBytes = decryptBASE64(key);\r\n        \r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        \r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] decryptByPublicKey(byte[] data, String key)\r\n            throws Exception {\r\n        // ÂØπÂØÜÈí•Ëß£ÂØÜ\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        // ÂèñÂæóÂÖ¨Èí•\r\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\r\n\r\n        // ÂØπÊï∞ÊçÆËß£ÂØÜ\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.DECRYPT_MODE, publicKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] encryptByPublicKey(byte[] data, String key)\r\n            throws Exception {\r\n        // ÂØπÂÖ¨Èí•Ëß£ÂØÜ\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        // ÂèñÂæóÂÖ¨Èí•\r\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\r\n\r\n        // ÂØπÊï∞ÊçÆÂä†ÂØÜ\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static byte[] encryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n\r\n    public static String getPrivateKey(Map&lt;String, Object&gt; keyMap)\r\n            throws Exception {\r\n        Key key = (Key) keyMap.get(PRIVATE_KEY);\r\n\r\n        return encryptBASE64(key.getEncoded());\r\n    }\r\n\r\n    public static String getPublicKey(Map&lt;String, Object&gt; keyMap)\r\n            throws Exception {\r\n        Key key = (Key) keyMap.get(PUBLIC_KEY);\r\n\r\n        return encryptBASE64(key.getEncoded());\r\n    }\r\n\r\n    public static Map&lt;String, Object&gt; initKey() throws Exception {\r\n        KeyPairGenerator keyPairGen = KeyPairGenerator\r\n                .getInstance(KEY_ALGORITHM);\r\n        keyPairGen.initialize(1024);\r\n\r\n        KeyPair keyPair = keyPairGen.generateKeyPair();\r\n\r\n        // ÂÖ¨Èí•\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\n        // ÁßÅÈí•\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n\r\n        Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2);\r\n\r\n        keyMap.put(PUBLIC_KEY, publicKey);\r\n        keyMap.put(PRIVATE_KEY, privateKey);\r\n        return keyMap;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhat could be the problem? Library? Message? I checked message, and length on client and server same \r\nWorked great on one project.\r\nThank for the help.","title":"javax.crypto.BadPaddingException: Decryption error rsa encryption","body":"<p>Im testing: Server encrypting of public key message and sending to client, that should decrypting message, but called Exception.</p>\n<p>Server</p>\n<pre><code>            Socket socket = serverSocket.accept();\n            System.out.println(&quot;New client connected&quot;);\n            output = socket.getOutputStream();\n            DataOutputStream dOut = new DataOutputStream(socket.getOutputStream());\n\n            String message = &quot;Hello there?&quot;;\n            byte[] encbyte = rsa.encryptByPublicKey(message.getBytes(), publickey);\n            String enc = new BigInteger(1, encbyte).toString(); \n            System.out.println(&quot;enc &quot; + enc );\n\n            dOut.writeInt(encbyte.length);\n            dOut.write(encbyte);\n\n            byte[] decodebyte = rsa.decryptByPrivateKey(encbyte, privatekey); //test\n            String decodedata = new String(decodebyte);\n            System.out.println(&quot;decodedata &quot; + decodedata);\n\n            while (true);\n</code></pre>\n<p>Client</p>\n<pre><code>            socket = new Socket(&quot;127.0.0.1&quot;, 5556);\n            key = rsa.initKey();\n            publickey = rsa.getPublicKey(key);\n            privatekey = rsa.getPrivateKey(key);\n\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));\n            inputStream = socket.getInputStream();\n            DataInputStream dIn = new DataInputStream(socket.getInputStream());\n\n            Thread.sleep(300);\n            System.out.println(&quot;connected&quot;);\n\n            byte[] array = null;\n            int length = dIn.readInt(); // read length of incoming message\n            if(length&gt;0) {\n                array = new byte[length];\n                dIn.readFully(array, 0, array.length); // read the message\n            }\n\n            String enc = new BigInteger(1, array).toString();\n            byte[] decodebyte = rsa.decryptByPrivateKey(array, privatekey); //error\n            String decodedata = new String(decodebyte);\n            System.out.println(&quot;decodedata &quot; + decodedata);\n\n</code></pre>\n<p>I use this library (rsa decrypting and encrypting)</p>\n<pre><code>public class rsa {\n    public static final String KEY_ALGORITHM = &quot;RSA&quot;;\n    public static final String SIGNATURE_ALGORITHM = &quot;MD5withRSA&quot;;\n\n    private static final String PUBLIC_KEY = &quot;RSAPublicKey&quot;; //RSAPublicKey\n    private static final String PRIVATE_KEY = &quot;rsa&quot;; //RSAPrivateKey\n\n    public static byte[] decryptBASE64(String key) throws Exception {\n        return Base64.getDecoder().decode(key);\n    }\n\n    public static String encryptBASE64(byte[] key) throws Exception {\n        return Base64.getEncoder().encodeToString(key);\n    }\n\n    public static byte[] decryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n        // ÂØπÂØÜÈí•Ëß£ÂØÜ\n        byte[] keyBytes = decryptBASE64(key);\n        \n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        \n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] decryptByPublicKey(byte[] data, String key)\n            throws Exception {\n        // ÂØπÂØÜÈí•Ëß£ÂØÜ\n        byte[] keyBytes = decryptBASE64(key);\n\n        // ÂèñÂæóÂÖ¨Èí•\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\n\n        // ÂØπÊï∞ÊçÆËß£ÂØÜ\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.DECRYPT_MODE, publicKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] encryptByPublicKey(byte[] data, String key)\n            throws Exception {\n        // ÂØπÂÖ¨Èí•Ëß£ÂØÜ\n        byte[] keyBytes = decryptBASE64(key);\n\n        // ÂèñÂæóÂÖ¨Èí•\n        X509EncodedKeySpec x509KeySpec = new X509EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key publicKey = keyFactory.generatePublic(x509KeySpec);\n\n        // ÂØπÊï∞ÊçÆÂä†ÂØÜ\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.ENCRYPT_MODE, publicKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static byte[] encryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n        byte[] keyBytes = decryptBASE64(key);\n\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n\n    public static String getPrivateKey(Map&lt;String, Object&gt; keyMap)\n            throws Exception {\n        Key key = (Key) keyMap.get(PRIVATE_KEY);\n\n        return encryptBASE64(key.getEncoded());\n    }\n\n    public static String getPublicKey(Map&lt;String, Object&gt; keyMap)\n            throws Exception {\n        Key key = (Key) keyMap.get(PUBLIC_KEY);\n\n        return encryptBASE64(key.getEncoded());\n    }\n\n    public static Map&lt;String, Object&gt; initKey() throws Exception {\n        KeyPairGenerator keyPairGen = KeyPairGenerator\n                .getInstance(KEY_ALGORITHM);\n        keyPairGen.initialize(1024);\n\n        KeyPair keyPair = keyPairGen.generateKeyPair();\n\n        // ÂÖ¨Èí•\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n\n        // ÁßÅÈí•\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n\n        Map&lt;String, Object&gt; keyMap = new HashMap&lt;String, Object&gt;(2);\n\n        keyMap.put(PUBLIC_KEY, publicKey);\n        keyMap.put(PRIVATE_KEY, privateKey);\n        return keyMap;\n    }\n}\n</code></pre>\n<p>What could be the problem? Library? Message? I checked message, and length on client and server same\nWorked great on one project.\nThank for the help.</p>\n"},{"tags":["java","rx-java2","vert.x"],"comments":[{"owner":{"account_id":12617245,"reputation":522,"user_id":9256127,"display_name":"Lukas Weber"},"score":0,"creation_date":1683089419,"post_id":76130199,"comment_id":134311190,"body_markdown":"You want to use the vertx-web-openapi module. The [docs](https://vertx.io/docs/vertx-web-openapi/java/) are really good","body":"You want to use the vertx-web-openapi module. The <a href=\"https://vertx.io/docs/vertx-web-openapi/java/\" rel=\"nofollow noreferrer\">docs</a> are really good"},{"owner":{"display_name":"user20405467"},"score":0,"creation_date":1683104900,"post_id":76130199,"comment_id":134314000,"body_markdown":"No sorry that don&#39;t respond to my problem, and already saw it before questionning ... sorry, is for 4.4.1 version and not precise something for schemaParser","body":"No sorry that don&#39;t respond to my problem, and already saw it before questionning ... sorry, is for 4.4.1 version and not precise something for schemaParser"}],"owner":{"display_name":"user20405467"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682689415,"creation_date":1682689415,"question_id":76130199,"body_markdown":"I&#39;m in Vertx 4.3.4 with RX java, and I want to initialize my routes with a openapiv3.yaml and especially (the main purpose) validate user input of each declared route in yaml (with the input model too in file).\r\n\r\nI use a code like that:\r\n\r\n    router.get(&quot;/configs&quot;).handler(this.handlers.configHandler::getAll));\r\n\r\nand I would like to add something like this:\r\n\r\n      .handler(\r\n        ValidationHandlerBuilder\r\n          .create(schemaParser)\r\n          .build()\r\n      );\r\n\r\nbut I didn&#39;t found anything to get a &quot;schemaParser&quot; in the documentation or to create it, and all the API of the 4.3.4 was deprecated without any example to use it.\r\nI precise that I don&#39;t have a json file for validation but a yaml and a  io.vertx.reactivex.ext.web.Route of:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.vertx&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;vertx-rx-java2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThank a lot and best regards","title":"Use OpenApi v3 yaml to generate route and validator with Vertx","body":"<p>I'm in Vertx 4.3.4 with RX java, and I want to initialize my routes with a openapiv3.yaml and especially (the main purpose) validate user input of each declared route in yaml (with the input model too in file).</p>\n<p>I use a code like that:</p>\n<pre><code>router.get(&quot;/configs&quot;).handler(this.handlers.configHandler::getAll));\n</code></pre>\n<p>and I would like to add something like this:</p>\n<pre><code>  .handler(\n    ValidationHandlerBuilder\n      .create(schemaParser)\n      .build()\n  );\n</code></pre>\n<p>but I didn't found anything to get a &quot;schemaParser&quot; in the documentation or to create it, and all the API of the 4.3.4 was deprecated without any example to use it.\nI precise that I don't have a json file for validation but a yaml and a  io.vertx.reactivex.ext.web.Route of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-rx-java2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thank a lot and best regards</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"comments":[{"owner":{"account_id":250515,"reputation":29,"user_id":2519543,"display_name":"user2519543"},"score":0,"creation_date":1587749630,"post_id":61367061,"comment_id":108641760,"body_markdown":"hi, why when I downgrade spring-boot back to 1.5.x  the test passes and INSERT is logged  without changing any code.","body":"hi, why when I downgrade spring-boot back to 1.5.x  the test passes and INSERT is logged  without changing any code."}],"tags":[],"owner":{"account_id":6840438,"reputation":1508,"user_id":5261030,"display_name":"Dmitrii Cheremisin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587564163,"creation_date":1587564163,"answer_id":61367061,"question_id":61366276,"body_markdown":"It happens because findAll method triggers flush of all changes from memory(persistence context) to database.\r\n\r\nYou can see in my screen the place where it all happens:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EyQJW.png\r\n\r\nThere is also a corresponding method in JpaRepository:\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--  \r\nIt may be used to flush changes immediately.\r\n\r\nAdditionally, you may use saveAndFlush method:\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>It happens because findAll method triggers flush of all changes from memory(persistence context) to database.</p>\n\n<p>You can see in my screen the place where it all happens:\n<a href=\"https://i.stack.imgur.com/EyQJW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EyQJW.png\" alt=\"enter image description here\"></a></p>\n\n<p>There is also a corresponding method in JpaRepository:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#flush--</a><br>\nIt may be used to flush changes immediately.</p>\n\n<p>Additionally, you may use saveAndFlush method:</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html#saveAndFlush-S-</a></p>\n"},{"tags":[],"owner":{"account_id":6121205,"reputation":442,"user_id":4774683,"display_name":"Youness HARDI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682689328,"creation_date":1682689014,"answer_id":76130149,"question_id":61366276,"body_markdown":"This will not work because JPA does not flush immediately after `save(entity)`. This means that the JdbcTemplate would not be able to retreive what you saved using JPA without the **flush**. So you could use the `repository.saveAndFlush(entity)` to make saved data available immediately for jdbcTemplate.\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @DataJpaTest\r\n    public class SomeTest {\r\n\r\n        @Autowired\r\n        private SomeRepository repository;\r\n        @Autowired\r\n        private JdbcTemplate template;\r\n\r\n\r\n        @Test\r\n        public void save() {\r\n\r\n            String number = &quot;123&quot;;\r\n\r\n            SomeEntity entity = SomeEntity.builder()\r\n                .number(number)\r\n                //some attributes here\r\n                .build();\r\n\r\n            repository.saveAndFlush(entity);\r\n\r\n\r\n            //that line fails because SELECT returns nothing back\r\n            Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\r\n\r\n    }","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>This will not work because JPA does not flush immediately after <code>save(entity)</code>. This means that the JdbcTemplate would not be able to retreive what you saved using JPA without the <strong>flush</strong>. So you could use the <code>repository.saveAndFlush(entity)</code> to make saved data available immediately for jdbcTemplate.</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class SomeTest {\n\n    @Autowired\n    private SomeRepository repository;\n    @Autowired\n    private JdbcTemplate template;\n\n\n    @Test\n    public void save() {\n\n        String number = &quot;123&quot;;\n\n        SomeEntity entity = SomeEntity.builder()\n            .number(number)\n            //some attributes here\n            .build();\n\n        repository.saveAndFlush(entity);\n\n\n        //that line fails because SELECT returns nothing back\n        Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\n\n}\n</code></pre>\n"}],"owner":{"account_id":250515,"reputation":29,"user_id":2519543,"display_name":"user2519543"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682689328,"creation_date":1587561898,"question_id":61366276,"body_markdown":"I am migrating from spring-boot 1.5.x to 2.0.4 and noticed an interesting case/behaviour with @DataJpaTest\r\n\r\nI have a test\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class SomeTest {\r\n\r\n    @Autowired\r\n    private SomeRepository repository;\r\n    @Autowired\r\n    private JdbcTemplate template;\r\n\r\n\r\n    @Test\r\n    public void save() {\r\n       \r\n        String number = &quot;123&quot;;\r\n\r\n        SomeEntity entity = SomeEntity.builder()\r\n                .number(number)\r\n                //some attributes here\r\n                .build();\r\n\r\n        repository.save(entity);\r\n\r\n\r\n//that line fails because SELECT returns nothing back\r\n        Map&lt;String, Object&gt; result = template.queryForMap(&quot;select id, version from some_entity where number=?&quot;, number);\r\n\r\n}\r\n```\r\nThis test above fails because nothing is returned from the template. I can&#39;t see even INSERT statement fired in the logs. \r\nBut with old version of spring-boot of 1.5.x I can see the INSERT been fired and test passes.\r\n\r\n\r\n\r\n\r\nBut the interesting thing with upgraded version is if I add a line `repository.findAll` (not `repository.findById(id)` -&gt; that one won&#39;t help)  before `repository.save(entity)` it all works good and in the logs, I can see and INSERT statement fired.\r\n\r\n\r\nCan someone please help me to understand what&#39;s going on and how it works under the hood.\r\nWhy the entity has not been persisted? and why `repository.findAll` is so special that makes it to persist the data.\r\n\r\nThanks.\r\n","title":"@DataJpaTest saving entity using repository, can&#39;t retrieve the data using JdbcTemplate","body":"<p>I am migrating from spring-boot 1.5.x to 2.0.4 and noticed an interesting case/behaviour with @DataJpaTest</p>\n\n<p>I have a test</p>\n\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class SomeTest {\n\n    @Autowired\n    private SomeRepository repository;\n    @Autowired\n    private JdbcTemplate template;\n\n\n    @Test\n    public void save() {\n\n        String number = \"123\";\n\n        SomeEntity entity = SomeEntity.builder()\n                .number(number)\n                //some attributes here\n                .build();\n\n        repository.save(entity);\n\n\n//that line fails because SELECT returns nothing back\n        Map&lt;String, Object&gt; result = template.queryForMap(\"select id, version from some_entity where number=?\", number);\n\n}\n</code></pre>\n\n<p>This test above fails because nothing is returned from the template. I can't see even INSERT statement fired in the logs. \nBut with old version of spring-boot of 1.5.x I can see the INSERT been fired and test passes.</p>\n\n<p>But the interesting thing with upgraded version is if I add a line <code>repository.findAll</code> (not <code>repository.findById(id)</code> -> that one won't help)  before <code>repository.save(entity)</code> it all works good and in the logs, I can see and INSERT statement fired.</p>\n\n<p>Can someone please help me to understand what's going on and how it works under the hood.\nWhy the entity has not been persisted? and why <code>repository.findAll</code> is so special that makes it to persist the data.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1682688296,"post_id":76129962,"comment_id":134259284,"body_markdown":"Your fat jar most likely isn‚Äôt. Go inside and investigate with the jar command.","body":"Your fat jar most likely isn‚Äôt. Go inside and investigate with the jar command."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682689371,"post_id":76129962,"comment_id":134259524,"body_markdown":"If the answer isn&#39;t correct ( I suspect it is) you can check your manifest and look at the classpath. The classpath might reference a lib folder with more jar files that you are not including. A fat jar file should include all of the other jar files, but the way you are copying makes me suspicious.","body":"If the answer isn&#39;t correct ( I suspect it is) you can check your manifest and look at the classpath. The classpath might reference a lib folder with more jar files that you are not including. A fat jar file should include all of the other jar files, but the way you are copying makes me suspicious."}],"answers":[{"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1682689287,"post_id":76130108,"comment_id":134259500,"body_markdown":"This seems like the type of action that should fail. They&#39;re copying a bunch of files to a single file.","body":"This seems like the type of action that should fail. They&#39;re copying a bunch of files to a single file."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1682689955,"post_id":76130108,"comment_id":134259673,"body_markdown":"The copies are created sequentially, and all are copied to `./app.jar`, so the last one copied is `./app.jar`.","body":"The copies are created sequentially, and all are copied to <code>.&#47;app.jar</code>, so the last one copied is <code>.&#47;app.jar</code>."},{"owner":{"account_id":3700863,"reputation":33,"user_id":3080662,"display_name":"Simone Brigante"},"score":0,"creation_date":1682692364,"post_id":76130108,"comment_id":134260400,"body_markdown":"Thanks! You both were entirely correct. Indeed in the target directory I had 2 .jar files: the fat appname-0.0.1-SNAPSHOT.jar and the lightweight original-appname-0.0.1-SNAPSHOT.jar. I have now edited the Dockerfile not to copy ./target/*.jar but ./target/appname-0.0.1-SNAPSHOT.jar and it works perfectly. Thanks again.","body":"Thanks! You both were entirely correct. Indeed in the target directory I had 2 .jar files: the fat appname-0.0.1-SNAPSHOT.jar and the lightweight original-appname-0.0.1-SNAPSHOT.jar. I have now edited the Dockerfile not to copy ./target/*.jar but ./target/appname-0.0.1-SNAPSHOT.jar and it works perfectly. Thanks again."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682688690,"creation_date":1682688690,"answer_id":76130108,"question_id":76129962,"body_markdown":"In your Dockerfile you have:\r\n\r\n    COPY ./target/*.jar ./app.jar\r\n\r\nThis is (probably) copying your original jar **AND** the fat jar (`*.jar`) to /app/.\r\n\r\nOnly copy the jar you need.","title":"Fat Jar runs in host machine but fails in Docker Container","body":"<p>In your Dockerfile you have:</p>\n<pre><code>COPY ./target/*.jar ./app.jar\n</code></pre>\n<p>This is (probably) copying your original jar <strong>AND</strong> the fat jar (<code>*.jar</code>) to /app/.</p>\n<p>Only copy the jar you need.</p>\n"}],"owner":{"account_id":3700863,"reputation":33,"user_id":3080662,"display_name":"Simone Brigante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76130108,"answer_count":1,"score":1,"last_activity_date":1682688690,"creation_date":1682687707,"question_id":76129962,"body_markdown":"I have fat .jar file created using Maven that runs correctly when executed on many laptops (I tried it on 3 machines) using the command \r\n\r\n    java -jar target/appname.jar\r\n\r\nbut whenever I try to dockerize it, it fails with the following error:\r\n\r\n    Error: unable to initialize main class mypackage.MyMainClass\r\n    Caused by: java.lang.NoClassDefFoundError: externaljarname/src/MyOtherClass\r\n\r\nI can&#39;t understand why on three different machines, that I have never used, I can run easily the .jar file but in Docker no.\r\n\r\nMore info:\r\n\r\nThe fat .jar that fails is an application that makes use of a custom library that I have created. This means, initially I had a custom Java library exported as jar, then my new project imports this Library to perform some operations. \r\n\r\nFor generating the current fat .jar, I firstly installed it using\r\n\r\n    mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&quot;mylibrary.jar&quot;\r\n\r\nthen I packaged everything:\r\n\r\n    mvn clean package\r\n\r\nMy current fat .jar, in the pom.xml, has a dependency to my library and I use the Maven Shade Plugin to generate the fat .jar as follows:\r\n\r\n    &lt;plugin&gt; \r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      \t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;executions&gt; \r\n                    &lt;execution&gt; \r\n                        &lt;phase&gt;package&lt;/phase&gt; \r\n                        &lt;goals&gt; \r\n                            &lt;goal&gt;shade&lt;/goal&gt; \r\n                        &lt;/goals&gt; \r\n                        &lt;configuration&gt; \r\n                            &lt;transformers&gt; \r\n                                 &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; \r\n                                    &lt;mainClass&gt;\r\n                                        mypackage.MyMainClass\r\n                                    &lt;/mainClass&gt; \r\n                                &lt;/transformer&gt; \r\n                            &lt;/transformers&gt; \r\n                            &lt;createDependencyReducedPom&gt;\r\n                                false\r\n                            &lt;/createDependencyReducedPom&gt;     \r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt; \r\n                &lt;/executions&gt; \r\n            &lt;/plugin&gt;\r\n\r\nDo you have any idea why this happens?\r\n\r\nP.S: The JDK used is the 11 and the Dockerfile looks as follows:\r\n\r\n    FROM openjdk:11-jre-slim\r\n    MAINTAINER &quot;Docker App &lt;docker@app.com&gt;&quot;\r\n    WORKDIR /app\r\n    \r\n    COPY ./target/*.jar ./app.jar\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n\r\nThanks.","title":"Fat Jar runs in host machine but fails in Docker Container","body":"<p>I have fat .jar file created using Maven that runs correctly when executed on many laptops (I tried it on 3 machines) using the command</p>\n<pre><code>java -jar target/appname.jar\n</code></pre>\n<p>but whenever I try to dockerize it, it fails with the following error:</p>\n<pre><code>Error: unable to initialize main class mypackage.MyMainClass\nCaused by: java.lang.NoClassDefFoundError: externaljarname/src/MyOtherClass\n</code></pre>\n<p>I can't understand why on three different machines, that I have never used, I can run easily the .jar file but in Docker no.</p>\n<p>More info:</p>\n<p>The fat .jar that fails is an application that makes use of a custom library that I have created. This means, initially I had a custom Java library exported as jar, then my new project imports this Library to perform some operations.</p>\n<p>For generating the current fat .jar, I firstly installed it using</p>\n<pre><code>mvn clean org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=&quot;mylibrary.jar&quot;\n</code></pre>\n<p>then I packaged everything:</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>My current fat .jar, in the pom.xml, has a dependency to my library and I use the Maven Shade Plugin to generate the fat .jar as follows:</p>\n<pre><code>&lt;plugin&gt; \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n            &lt;executions&gt; \n                &lt;execution&gt; \n                    &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt; \n                        &lt;goal&gt;shade&lt;/goal&gt; \n                    &lt;/goals&gt; \n                    &lt;configuration&gt; \n                        &lt;transformers&gt; \n                             &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt; \n                                &lt;mainClass&gt;\n                                    mypackage.MyMainClass\n                                &lt;/mainClass&gt; \n                            &lt;/transformer&gt; \n                        &lt;/transformers&gt; \n                        &lt;createDependencyReducedPom&gt;\n                            false\n                        &lt;/createDependencyReducedPom&gt;     \n                    &lt;/configuration&gt; \n                &lt;/execution&gt; \n            &lt;/executions&gt; \n        &lt;/plugin&gt;\n</code></pre>\n<p>Do you have any idea why this happens?</p>\n<p>P.S: The JDK used is the 11 and the Dockerfile looks as follows:</p>\n<pre><code>FROM openjdk:11-jre-slim\nMAINTAINER &quot;Docker App &lt;docker@app.com&gt;&quot;\nWORKDIR /app\n\nCOPY ./target/*.jar ./app.jar\nENTRYPOINT [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":["java","amazon-web-services","gradle","karate","aws-device-farm"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1682688282,"post_id":76129429,"comment_id":134259282,"body_markdown":"stop() also has to be implemented as explained here: https://github.com/karatelabs/karate/tree/master/karate-core#configure-drivertarget","body":"stop() also has to be implemented as explained here: <a href=\"https://github.com/karatelabs/karate/tree/master/karate-core#configure-drivertarget\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/tree/master/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":28445060,"reputation":31,"user_id":21763890,"display_name":"Faizil Mohammed Eliyas"},"score":1,"creation_date":1682761682,"post_id":76130083,"comment_id":134268718,"body_markdown":"Yep. Using ScenarioRuntime argument instead of Logger solves the problem.","body":"Yep. Using ScenarioRuntime argument instead of Logger solves the problem."}],"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682688483,"creation_date":1682688483,"answer_id":76130083,"question_id":76129429,"body_markdown":"You seem to be moving from a very old version, and this part of the 1.0 upgrade guide has details: https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui\r\n\r\n    &gt; if you implemented a custom Target, the method signature for start() and stop() takes a com.intuit.karate.core.ScenarioRuntime as the single argument instead of a Logger.\r\n\r\nI strongly suggest you move to 1.3.0 which is the latest, but yes you need to read all the release notes. If still stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue","title":"Issue when Integrate Karate with AWS Device farm","body":"<p>You seem to be moving from a very old version, and this part of the 1.0 upgrade guide has details: <a href=\"https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/1.0-upgrade-guide#karate-ui</a></p>\n<pre><code>&gt; if you implemented a custom Target, the method signature for start() and stop() takes a com.intuit.karate.core.ScenarioRuntime as the single argument instead of a Logger.\n</code></pre>\n<p>I strongly suggest you move to 1.3.0 which is the latest, but yes you need to read all the release notes. If still stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a></p>\n"}],"owner":{"account_id":28445060,"reputation":31,"user_id":21763890,"display_name":"Faizil Mohammed Eliyas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682688483,"creation_date":1682683684,"question_id":76129429,"body_markdown":"Trying to integrate Karate with AWS Device Farm and implement the **Target** Interface throws Class is not abstract and does not override abstract method stop(ScenarioRuntime) in Target.\r\nKarate version: 1.2.0\r\n\r\n\r\nJava application not compiled because of this and the build should work without this error\r\n\r\n```\r\nimport com.intuit.karate.driver.Target;\r\n\r\npublic class DeviceFarmTarget implements Target {\r\n @Override\r\n    public Map&lt;String, Object&gt; start(Logger logger) {\r\n    // implementation\r\n    }\r\n\r\n}\r\n```","title":"Issue when Integrate Karate with AWS Device farm","body":"<p>Trying to integrate Karate with AWS Device Farm and implement the <strong>Target</strong> Interface throws Class is not abstract and does not override abstract method stop(ScenarioRuntime) in Target.\nKarate version: 1.2.0</p>\n<p>Java application not compiled because of this and the build should work without this error</p>\n<pre><code>import com.intuit.karate.driver.Target;\n\npublic class DeviceFarmTarget implements Target {\n @Override\n    public Map&lt;String, Object&gt; start(Logger logger) {\n    // implementation\n    }\n\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682688735,"post_id":76130014,"comment_id":134259386,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"score":0,"creation_date":1682689126,"post_id":76130014,"comment_id":134259472,"body_markdown":"I depolyee two project [application] in one Tomcat\nTomcat&#39;s memory is 4 gb.\nI want to give specific memory to one project [application] \nFor example : \n1 application with 1 gb memory\nand \n2 application with 3 gb memory\nwhat should i do regarding same ?","body":"I depolyee two project [application] in one Tomcat Tomcat&#39;s memory is 4 gb. I want to give specific memory to one project [application]  For example :  1 application with 1 gb memory and  2 application with 3 gb memory what should i do regarding same ?"}],"answers":[{"comments":[{"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"score":0,"creation_date":1682688506,"post_id":76130061,"comment_id":134259332,"body_markdown":"thank you for answering ,is it possible somehow i can do that ? any lead towards it ?","body":"thank you for answering ,is it possible somehow i can do that ? any lead towards it ?"},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1682690218,"post_id":76130061,"comment_id":134259757,"body_markdown":"...possible that you do what? What you&#39;ve asked in your original question: No. As I answered. What I suggested instead: Yes, as I answered. And, IMHO, the steps to do that are also contained in the answer.","body":"...possible that you do what? What you&#39;ve asked in your original question: No. As I answered. What I suggested instead: Yes, as I answered. And, IMHO, the steps to do that are also contained in the answer."}],"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682688370,"creation_date":1682688370,"answer_id":76130061,"question_id":76130014,"body_markdown":"No. There is no such option _within a single process_. All webapplications share the memory that is allocated to their common JVM.\r\n\r\nThere is an option to start multiple processes from the same installation - `CATALINA_HOME` vs `CATALINA_BASE` are the configuration options from the command line, and you can also install with different service-names (if I&#39;m not misremembering) and configure the individual services to deploy different web applications.","title":"In one tomcat, project wise memory","body":"<p>No. There is no such option <em>within a single process</em>. All webapplications share the memory that is allocated to their common JVM.</p>\n<p>There is an option to start multiple processes from the same installation - <code>CATALINA_HOME</code> vs <code>CATALINA_BASE</code> are the configuration options from the command line, and you can also install with different service-names (if I'm not misremembering) and configure the individual services to deploy different web applications.</p>\n"}],"owner":{"account_id":27452549,"reputation":1,"user_id":20944538,"display_name":"Jayesh Vani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682688383,"creation_date":1682688033,"question_id":76130014,"body_markdown":"how i can give specific amount of memory to my web application,i deployed more than one project in single instance of tomcat ,i want to allocate memory to my each web application specific amount of memory \r\n\r\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -Xms512m -Xmx1024m&quot;\r\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -DT247ApiAnalytics.heap.size=512m&quot;\r\n\r\ni tried this command to set in setenv.bat file catalina.bat file but i want to start my tocat as a window services not from the bat file  and i want it for permanet is there any way to allocate specific amount of memory to my each web application deployed on single instance of tomcat. its working but it setting the jvm memoty not web application memory ,i want to set the specific amount of memory ,\r\n\r\nalso this command too \r\nset &quot;CATALINA_OPTS=&quot;-Xms512m -Xmx512m&quot; &amp;&amp; [ &quot;$APP_NAME&quot; == &quot;&lt;Project_Name&gt;&quot; ] &amp;&amp; CATALINA_OPTS=&quot;$CATALINA_OPTS -Dapp.name=&lt;Project_Name&gt;&quot;\r\n\r\nbut this also not worked for me .if u have any solution please help me","title":"In one tomcat, project wise memory","body":"<p>how i can give specific amount of memory to my web application,i deployed more than one project in single instance of tomcat ,i want to allocate memory to my each web application specific amount of memory</p>\n<p>set &quot;CATALINA_OPTS=%CATALINA_OPTS% -Xms512m -Xmx1024m&quot;\nset &quot;CATALINA_OPTS=%CATALINA_OPTS% -DT247ApiAnalytics.heap.size=512m&quot;</p>\n<p>i tried this command to set in setenv.bat file catalina.bat file but i want to start my tocat as a window services not from the bat file  and i want it for permanet is there any way to allocate specific amount of memory to my each web application deployed on single instance of tomcat. its working but it setting the jvm memoty not web application memory ,i want to set the specific amount of memory ,</p>\n<p>also this command too\nset &quot;CATALINA_OPTS=&quot;-Xms512m -Xmx512m&quot; &amp;&amp; [ &quot;$APP_NAME&quot; == &quot;&lt;Project_Name&gt;&quot; ] &amp;&amp; CATALINA_OPTS=&quot;$CATALINA_OPTS -Dapp.name=&lt;Project_Name&gt;&quot;</p>\n<p>but this also not worked for me .if u have any solution please help me</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":11564221,"reputation":5963,"user_id":8473028,"accept_rate":94,"display_name":"DodgyCodeException"},"score":1,"creation_date":1546517068,"post_id":54021754,"comment_id":94879776,"body_markdown":"What&#39;s a typical value for the &#39;file&#39; argument you are using?","body":"What&#39;s a typical value for the &#39;file&#39; argument you are using?"},{"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"score":0,"creation_date":1546517122,"post_id":54021754,"comment_id":94879813,"body_markdown":"Please check [this](https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location) question out","body":"Please check <a href=\"https://stackoverflow.com/questions/48673769/java-9-module-system-resources-files-location\">this</a> question out"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":5,"creation_date":1546519693,"post_id":54021754,"comment_id":94881210,"body_markdown":"Class.class.getResourceAsStream(...) will attempt to locate the resource in the java.base module. Replace &quot;Class.class&quot; with the name of your class so that it finds it in your module (or on the class path).","body":"Class.class.getResourceAsStream(...) will attempt to locate the resource in the java.base module. Replace &quot;Class.class&quot; with the name of your class so that it finds it in your module (or on the class path)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1547134149,"post_id":54021754,"comment_id":95095081,"body_markdown":"Further, it‚Äôs worth learning about the [try-with-resources statement](https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html)‚Ä¶","body":"Further, it‚Äôs worth learning about the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/try-with-resources.html\" rel=\"nofollow noreferrer\">try-with-resources statement</a>‚Ä¶"},{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1570298236,"post_id":54021754,"comment_id":102872215,"body_markdown":"Possible duplicate of [Accessing resource files from external modules](https://stackoverflow.com/questions/46861589/accessing-resource-files-from-external-modules)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/46861589/accessing-resource-files-from-external-modules\">Accessing resource files from external modules</a>"},{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1588155381,"post_id":54021754,"comment_id":108789055,"body_markdown":"@Holger I agree, its good, for super-sonic coding of simple modules, on small programs. Bad for: a) self explanatory code; b) backwards-compatibility; c) debug using stack trace.","body":"@Holger I agree, its good, for super-sonic coding of simple modules, on small programs. Bad for: a) self explanatory code; b) backwards-compatibility; c) debug using stack trace."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1588156612,"post_id":54021754,"comment_id":108789655,"body_markdown":"@Alexey **a)** try-with-resource is part of the language for a decade and should be understood by Java developers without further explanation. It‚Äôs not different to any other high level language construct, e.g. for-each loop or string concatenation, or using OOP concepts. Verbosity doesn‚Äôt imply ‚Äúself explanatory‚Äù. **b)** Backward compatibility to what? You are asking a question about Java&#160;11 but insist on compatibility to Java&#160;6 or even older? **c)** in which regard does using try-with-resource hinder debugging?","body":"@Alexey <b>a)</b> try-with-resource is part of the language for a decade and should be understood by Java developers without further explanation. It‚Äôs not different to any other high level language construct, e.g. for-each loop or string concatenation, or using OOP concepts. Verbosity doesn‚Äôt imply ‚Äúself explanatory‚Äù. <b>b)</b> Backward compatibility to what? You are asking a question about Java 11 but insist on compatibility to Java 6 or even older? <b>c)</b> in which regard does using try-with-resource hinder debugging?"}],"answers":[{"comments":[{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1546519176,"post_id":54022205,"comment_id":94880908,"body_markdown":"I&#39;m sorry if I am confused you. Yes, the path is absolute. TXT file in the package folder with Java class files and included in the Build Path. File Path: /configuration/options.txt","body":"I&#39;m sorry if I am confused you. Yes, the path is absolute. TXT file in the package folder with Java class files and included in the Build Path. File Path: /configuration/options.txt"},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1546519287,"post_id":54022205,"comment_id":94880984,"body_markdown":"Ok, then it&#39;s because of the java modules. I&#39;ll update my answer","body":"Ok, then it&#39;s because of the java modules. I&#39;ll update my answer"},{"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"score":0,"creation_date":1546520370,"post_id":54022205,"comment_id":94881609,"body_markdown":"Thanks for explanation. Changing from Class.class.getResourceAsStream(file) to TextTools.class.getResourceAsStream(file) solve Error.","body":"Thanks for explanation. Changing from Class.class.getResourceAsStream(file) to TextTools.class.getResourceAsStream(file) solve Error."},{"owner":{"account_id":564775,"reputation":2435,"user_id":196405,"display_name":"Christopher"},"score":1,"creation_date":1564183333,"post_id":54022205,"comment_id":100960177,"body_markdown":"Ugh, this is a strange behavior with modules in Java 9 and later. Changing to `getClass().getResourceXXX` worked for me.","body":"Ugh, this is a strange behavior with modules in Java 9 and later. Changing to <code>getClass().getResourceXXX</code> worked for me."},{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1570219952,"post_id":54022205,"comment_id":102857504,"body_markdown":"The update here is the correct answer.  We were using Classloader.class.getResourceAsStream() and it didn&#39;t work.  We changed it to a class we wrote in our packages and it worked fine.  Bingo!","body":"The update here is the correct answer.  We were using Classloader.class.getResourceAsStream() and it didn&#39;t work.  We changed it to a class we wrote in our packages and it worked fine.  Bingo!"},{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":1,"creation_date":1570265527,"post_id":54022205,"comment_id":102864773,"body_markdown":"@markthegrea both are correct, it depends on which java version you are using","body":"@markthegrea both are correct, it depends on which java version you are using"}],"tags":[],"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"comment_count":6,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1546837796,"creation_date":1546518046,"answer_id":54022205,"question_id":54021754,"body_markdown":"I&#39;ve tried your application with both openjdk 8 and 11 on MacOS and it does not work with both. I think you need to look at [1] and [2] in order to understand how `getResourceAsStream` works. \r\n\r\nTLDR:\r\n \r\n1. If the path is absolute (i.e. starts with a slash - `/`), then `class.getResourceAsStream()` searches in the provided path\r\n\r\n2. If the path is NOT absolute (i.e. does not start with a slash) , then `class.getResourceAsStream()` searches in a constructed path that corresponds to the package name, where the dots are replaced with slashes\r\n\r\n\r\nSo whether it works or not depends on 2 things:\r\n\r\n1. Is your path absolute or not ? \r\n2. Is the `file` located in the same package as the class or not ? \r\n\r\nBasically in your exaple as is provided, it can never work if the path is not absolute, because `Class.class.getResourceAsStream()` will always resolve the path to `java/lang/&lt;file&gt;`, so your file must be in a system package. So instead you must use `&lt;MyClass&gt;.class.getResourceAsStream()` or alternatively use an absolute path\r\n\r\n[1] https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\r\n\r\n[2] https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\r\n\r\n\r\n----\r\n### Update\r\n\r\nSince Java SE 9, invoking getResourceXXX on a class in a named module will only locate the resource in that module, it will not search the class path as it did in previous release. So when you use `Class.class.getResourceAsStream()` it will attempt to locate the resource in module containing `java.lang.Class`, which is the `java.base` module. Obviously your resource is not in that module, so it returns null. \r\n\r\nYou have to make java 9+ search for the file in your module, which most probably is an &quot;unnamed module&quot;. You can do that by changing `Class` to any class defined in your module in order to make java use the proper class loader.","title":"Why does the getResource() method return null in JDK 11?","body":"<p>I've tried your application with both openjdk 8 and 11 on MacOS and it does not work with both. I think you need to look at [1] and [2] in order to understand how <code>getResourceAsStream</code> works. </p>\n\n<p>TLDR:</p>\n\n<ol>\n<li><p>If the path is absolute (i.e. starts with a slash - <code>/</code>), then <code>class.getResourceAsStream()</code> searches in the provided path</p></li>\n<li><p>If the path is NOT absolute (i.e. does not start with a slash) , then <code>class.getResourceAsStream()</code> searches in a constructed path that corresponds to the package name, where the dots are replaced with slashes</p></li>\n</ol>\n\n<p>So whether it works or not depends on 2 things:</p>\n\n<ol>\n<li>Is your path absolute or not ? </li>\n<li>Is the <code>file</code> located in the same package as the class or not ? </li>\n</ol>\n\n<p>Basically in your exaple as is provided, it can never work if the path is not absolute, because <code>Class.class.getResourceAsStream()</code> will always resolve the path to <code>java/lang/&lt;file&gt;</code>, so your file must be in a system package. So instead you must use <code>&lt;MyClass&gt;.class.getResourceAsStream()</code> or alternatively use an absolute path</p>\n\n<p>[1] <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResource(java.lang.String)</a></p>\n\n<p>[2] <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getResource%28java.lang.String%29</a></p>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>Since Java SE 9, invoking getResourceXXX on a class in a named module will only locate the resource in that module, it will not search the class path as it did in previous release. So when you use <code>Class.class.getResourceAsStream()</code> it will attempt to locate the resource in module containing <code>java.lang.Class</code>, which is the <code>java.base</code> module. Obviously your resource is not in that module, so it returns null. </p>\n\n<p>You have to make java 9+ search for the file in your module, which most probably is an \"unnamed module\". You can do that by changing <code>Class</code> to any class defined in your module in order to make java use the proper class loader.</p>\n"},{"tags":[],"owner":{"account_id":1225414,"reputation":3180,"user_id":1191058,"accept_rate":100,"display_name":"j123b567"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1597223004,"creation_date":1597223004,"answer_id":63373260,"question_id":54021754,"body_markdown":"There is another solution using `ClassLoader`\r\n\r\n```java\r\nClassLoader.getSystemResourceAsStream(file)\r\n```\r\n\r\nloads from all locations. I&#39;m using it to load resources from JAR file which holds just resources and no executable code so the previous trick can&#39;t work because there is no `SomeClass` in the JAR to do `SomeClass.class.getResourceAsStream()`\r\n\r\nI just don&#39;t understand the internals and I must change also the path of the file.\r\n\r\nI have JAR file with file &quot;my-file.txt&quot; in the root of the JAR archive.\r\n\r\nFor java 8, this worked\r\n```java\r\nClass.class.getResourceAsStream(&quot;/my-file.txt&quot;);\r\n```\r\n\r\nFor java 11, I must remove the leading `/` even when the file is in the root path\r\n```\r\nClassLoader.getSystemResourceAsStream(&quot;my-file.txt&quot;);\r\n```","title":"Why does the getResource() method return null in JDK 11?","body":"<p>There is another solution using <code>ClassLoader</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader.getSystemResourceAsStream(file)\n</code></pre>\n<p>loads from all locations. I'm using it to load resources from JAR file which holds just resources and no executable code so the previous trick can't work because there is no <code>SomeClass</code> in the JAR to do <code>SomeClass.class.getResourceAsStream()</code></p>\n<p>I just don't understand the internals and I must change also the path of the file.</p>\n<p>I have JAR file with file &quot;my-file.txt&quot; in the root of the JAR archive.</p>\n<p>For java 8, this worked</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.class.getResourceAsStream(&quot;/my-file.txt&quot;);\n</code></pre>\n<p>For java 11, I must remove the leading <code>/</code> even when the file is in the root path</p>\n<pre><code>ClassLoader.getSystemResourceAsStream(&quot;my-file.txt&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672159408,"post_id":74927458,"comment_id":132232678,"body_markdown":"This is a Spring specific solution which is not generally applicable for Java itself.","body":"This is a Spring specific solution which is not generally applicable for Java itself."}],"tags":[],"owner":{"account_id":22029257,"reputation":1,"user_id":16296787,"display_name":"Pascal Mika"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672159069,"creation_date":1672132164,"answer_id":74927458,"question_id":54021754,"body_markdown":"I ran into that same problem. The solution is to use the `ClassPathResource` in Java versions later than 8.\r\n\r\n```java\r\nClassPathResource resource = new ClassPathResource(&quot;/path/to/file.txt&quot;);\r\n```\r\n\r\n- v1 as file:\r\n\r\n```java\r\nURL url = resource.getURL();\r\n```\r\n \r\n- v2 as Stream:\r\n\r\n```java\r\nin = resource.getInputStream();\r\n```\r\n","title":"Why does the getResource() method return null in JDK 11?","body":"<p>I ran into that same problem. The solution is to use the <code>ClassPathResource</code> in Java versions later than 8.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPathResource resource = new ClassPathResource(&quot;/path/to/file.txt&quot;);\n</code></pre>\n<ul>\n<li>v1 as file:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = resource.getURL();\n</code></pre>\n<ul>\n<li>v2 as Stream:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>in = resource.getInputStream();\n</code></pre>\n"}],"owner":{"account_id":15050330,"reputation":119,"user_id":10862228,"display_name":"Alexey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12087,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54022205,"answer_count":3,"score":11,"last_activity_date":1682688254,"creation_date":1546516332,"question_id":54021754,"body_markdown":"Simple Java program:\r\n\r\n    public static String loadText(String file) {\r\n    \tStringBuilder finalString = new StringBuilder();\r\n    \t\t\r\n    \tInputStream in = null;\r\n    \tBufferedReader reader = null;\r\n    \tInputStreamReader isr = null;\r\n    \r\n    \ttry{\r\n    \t\tSystem.out.println(&quot;Text File: &quot; + file);\r\n    \t\t\t\r\n    \t\t// Version 1\r\n    \t\t//URL url = Thread.currentThread().getClass().getResource(file); \r\n    \t\t//in = url.openStream();\r\n\r\n    \t\t// Version 2\r\n    \t\tin = Class.class.getResourceAsStream(file);\r\n\r\n    \t\tisr = new InputStreamReader(in);\r\n    \t\treader = new BufferedReader(isr);\r\n    \t\tString line;\r\n    \t\twhile((line = reader.readLine()) != null) {\r\n    \t\t\tfinalString.append(line).append(&quot;//\\n&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tcatch(IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\tSystem.exit(-1);\r\n    \t}\r\n    \tfinally {\r\n    \t\ttry {\r\n    \t\t\tif (isr != null) { isr.close(); }\r\n    \t\t\tif (reader != null) { reader.close(); }\r\n    \t\t\tif (in != null) { in.close(); }\r\n    \t\t\t} catch (IOException e) { e.printStackTrace(); }\r\n    \t\t}\r\n    \treturn finalString.toString();\r\n    }\r\n\r\n\r\nThe `getResource` and `getResourceAsStream` methods works fine in JDK 8 (java-8-openjdk-amd64) but they always return `null` in JDK 11.\r\n\r\nQuestions: Why? And how can I fix this?\r\n\r\n - Operation System: Linux Mint 19 Tara x64\r\n - IDE: Eclipse 2018-12 (4.10.0)\r\n","title":"Why does the getResource() method return null in JDK 11?","body":"<p>Simple Java program:</p>\n\n<pre><code>public static String loadText(String file) {\n    StringBuilder finalString = new StringBuilder();\n\n    InputStream in = null;\n    BufferedReader reader = null;\n    InputStreamReader isr = null;\n\n    try{\n        System.out.println(\"Text File: \" + file);\n\n        // Version 1\n        //URL url = Thread.currentThread().getClass().getResource(file); \n        //in = url.openStream();\n\n        // Version 2\n        in = Class.class.getResourceAsStream(file);\n\n        isr = new InputStreamReader(in);\n        reader = new BufferedReader(isr);\n        String line;\n        while((line = reader.readLine()) != null) {\n            finalString.append(line).append(\"//\\n\");\n        }\n    }\n    catch(IOException e) {\n        e.printStackTrace();\n        System.exit(-1);\n    }\n    finally {\n        try {\n            if (isr != null) { isr.close(); }\n            if (reader != null) { reader.close(); }\n            if (in != null) { in.close(); }\n            } catch (IOException e) { e.printStackTrace(); }\n        }\n    return finalString.toString();\n}\n</code></pre>\n\n<p>The <code>getResource</code> and <code>getResourceAsStream</code> methods works fine in JDK 8 (java-8-openjdk-amd64) but they always return <code>null</code> in JDK 11.</p>\n\n<p>Questions: Why? And how can I fix this?</p>\n\n<ul>\n<li>Operation System: Linux Mint 19 Tara x64</li>\n<li>IDE: Eclipse 2018-12 (4.10.0)</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","maven","wildfly"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1635231395,"post_id":69718194,"comment_id":123233777,"body_markdown":"Is there more to the log?  Can you see which port wildfly is using?  I dont think it is the same 8080","body":"Is there more to the log?  Can you see which port wildfly is using?  I dont think it is the same 8080"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635246406,"post_id":69718194,"comment_id":123239749,"body_markdown":"Is there a good reason why you use SNAPSHOT versions of spring boot instead of releases?","body":"Is there a good reason why you use SNAPSHOT versions of spring boot instead of releases?"},{"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"score":0,"creation_date":1635254848,"post_id":69718194,"comment_id":123243589,"body_markdown":"I&#39;m using this version because is the last one available, nothing special, also on the question i added the log of wildfly","body":"I&#39;m using this version because is the last one available, nothing special, also on the question i added the log of wildfly"},{"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"score":0,"creation_date":1635258299,"post_id":69718194,"comment_id":123245381,"body_markdown":"the port of wildfly is default (8080) also added part of standalone.xml file","body":"the port of wildfly is default (8080) also added part of standalone.xml file"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635324730,"post_id":69718194,"comment_id":123264348,"body_markdown":"The current available version for 2.6.X is [2.6.0-RC1](https://spring.io/blog/2021/10/21/spring-boot-2-6-0-rc1-is-available-now) furthermore there had several milestones before (m1...m3)...which is available from central repository. I would always to recommend to use those instead of SNAPSHOT&#39;s... Furthermore there are releases of 2.5.X line available (2.5.4, 2.5.5).. so I don&#39;t understand the usage of SNAPSHOT..","body":"The current available version for 2.6.X is <a href=\"https://spring.io/blog/2021/10/21/spring-boot-2-6-0-rc1-is-available-now\" rel=\"nofollow noreferrer\">2.6.0-RC1</a> furthermore there had several milestones before (m1...m3)...which is available from central repository. I would always to recommend to use those instead of SNAPSHOT&#39;s... Furthermore there are releases of 2.5.X line available (2.5.4, 2.5.5).. so I don&#39;t understand the usage of SNAPSHOT.."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635334047,"creation_date":1635334047,"answer_id":69737807,"question_id":69718194,"body_markdown":"Could you try the following maven dependency changes:\r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- We need to include the javax.servlet API specs, the implementation \r\n             will be provided by Wildfly / JBoss / Tomcat --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    ...\r\n\r\nInstead of\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provide&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot 2.6 App on WildFly 19 - Can&#39;t reach my app","body":"<p>Could you try the following maven dependency changes:</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- We need to include the javax.servlet API specs, the implementation \n         will be provided by Wildfly / JBoss / Tomcat --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n<p>Instead of</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provide&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682688203,"creation_date":1635228741,"question_id":69718194,"body_markdown":"I have a Java API Spring Boot application (2.6.0-SNAPSHOT) without any context, also have a FrontEnd written in VueJS on path `/src/main/resources/static`, in my local development environment when i run the project, i can view the FrontEnd app over the url `localhost:8080` and can access to my API project in Spring Boot over the url for example `localhost:8080/security/myEndpoint`, and everything works well.\r\n\r\nNow i need to deploy my project on WildFly 19 application server (wildfly-19.0.0.Final), first i&#39;m using maven to build the war file and then put it into `\\standalone\\deployments\\` path to deploy.\r\n\r\nWhen i&#39;m execute `standalone` file to start the deploy the server do all the process and starts ok, but i&#39;m trying to access to my front app or my API Endpoints and get 404 error.\r\n\r\nWhat is missing on this configuration to get the same functioning that on my development environment?\r\n\r\nMy pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.co.myapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;RED&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;RED&lt;/name&gt;\r\n\t&lt;description&gt;My app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t      &lt;version&gt;1.5.10&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nMain Class\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n    @PropertySource(value = &quot;file:${spring.config.location}/applicationconfig.properties&quot;)\r\n    @PropertySource(value = &quot;file:${spring.config.location}/propiedades.properties&quot;)\r\n    public class BackRedApplication extends SpringBootServletInitializer {\r\n\t\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(BackRedApplication.class);\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BackRedApplication.class, args);\r\n\t}\r\n\t\r\n\t@Bean\r\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n       return new PropertySourcesPlaceholderConfigurer();\r\n    }\r\n    }\r\n\r\nMy application.properties\r\n\r\n    spring.servlet.multipart.max-file-size=250MB\r\n    spring.servlet.multipart.max-request-size=250MB\r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\r\n    #spring.profiles.active=dev\r\n    #spring.profiles.active=test\r\n    #spring.config.location=path_to_my_spring_configuration\r\n    #server.servlet.context-path=/api-red\r\n\r\n    #\r\n    #spring.mvc.static-path-pattern=/uploads/**\r\n    #spring.web.resources.static-locations=file:/opt/files\r\n\r\n\r\nMy applicationconfig.properties (defined on main class)\r\n\r\n    #\r\n    spring.datasource.jdbc-url=jdbc:mysql://mydb.com:3306/MYDB\r\n    spring.datasource.username=user\r\n    spring.datasource.password=password\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    server.port = 8080\r\n\r\n    springdoc.packagesToScan=the_package_to_scan\r\n    #springdoc.pathsToMatch=/v1, /api/balance/**\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n\r\n    #Generate camelCase columns names in DB as delcared in Entities\r\n    spring.jpa.hibernate.naming.physical- \r\n    strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    #logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n\r\nPart of WildFly Log\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    \r\n    2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n    \r\n    2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\r\n    \r\n    2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\r\n    \r\n    2021-10-26 00:47:21,144 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:21,146 INFO  [org.hibernate.validator.internal.util.Version] (background-preinit) HV000001: Hibernate Validator 6.0.18.Final\r\n    2021-10-26 00:47:21,186 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Starting BackRedApplication using Java 11.0.12 on DAVID-DESKTOP with PID 4500 (started by david in C:\\Users\\david\\Documents\\Emprendimiento\\CLIENTES_EXTERNOS\\UTADEO\\wildfly-19.0.0.Final\\bin)\r\n    2021-10-26 00:47:21,187 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\r\n    2021-10-26 00:47:21,635 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:21,637 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2021-10-26 00:47:21,706 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 62 ms. Found 8 JPA repository interfaces.\r\n    2021-10-26 00:47:21,712 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:21,713 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\r\n    2021-10-26 00:47:21,725 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,728 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 15 ms. Found 0 LDAP repository interfaces.\r\n    2021-10-26 00:47:21,978 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\r\n    2021-10-26 00:47:21,979 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 773 ms\r\n    2021-10-26 00:47:22,145 ERROR [stderr] (ServerService Thread Pool -- 92) Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\r\n    \r\n    2021-10-26 00:47:22,253 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 92) HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2021-10-26 00:47:22,301 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 92) HHH000412: Hibernate ORM core version 5.6.0.Final\r\n    2021-10-26 00:47:22,424 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 92) HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2021-10-26 00:47:22,493 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Starting...\r\n    2021-10-26 00:47:22,497 WARN  [com.zaxxer.hikari.util.DriverDataSource] (ServerService Thread Pool -- 92) Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\r\n    2021-10-26 00:47:23,851 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Start completed.\r\n    2021-10-26 00:47:23,862 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 92) HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n    2021-10-26 00:47:23,988 INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator] (ServerService Thread Pool -- 92) HHH000490: Using JtaPlatform implementation: [org.springframework.boot.orm.jpa.hibernate.SpringJtaPlatform]\r\n    2021-10-26 00:47:30,064 INFO  [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] (ServerService Thread Pool -- 92) Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2021-10-26 00:47:30,896 WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration] (ServerService Thread Pool -- 92) spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2021-10-26 00:47:31,104 INFO  [org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping] (ServerService Thread Pool -- 92) Adding welcome page: class path resource [static/index.html]\r\n    2021-10-26 00:47:32,432 INFO  [org.springframework.ldap.core.support.AbstractContextSource] (ServerService Thread Pool -- 92) Property &#39;userDn&#39; not set - anonymous context will be used for read-write operations\r\n    2021-10-26 00:47:32,481 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Using default implementation for ThreadExecutor\r\n    2021-10-26 00:47:32,494 INFO  [org.quartz.core.SchedulerSignalerImpl] (ServerService Thread Pool -- 92) Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\r\n    2021-10-26 00:47:32,495 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Quartz Scheduler v.2.3.2 created.\r\n    2021-10-26 00:47:32,496 INFO  [org.quartz.simpl.RAMJobStore] (ServerService Thread Pool -- 92) RAMJobStore initialized.\r\n    2021-10-26 00:47:32,497 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler meta-data: Quartz Scheduler (v2.3.2) &#39;quartzScheduler&#39; with instanceId &#39;NON_CLUSTERED&#39;\r\n      Scheduler class: &#39;org.quartz.core.QuartzScheduler&#39; - running locally.\r\n      NOT STARTED.\r\n      Currently in standby mode.\r\n      Number of jobs executed: 0\r\n      Using thread pool &#39;org.quartz.simpl.SimpleThreadPool&#39; - with 10 threads.\r\n      Using job-store &#39;org.quartz.simpl.RAMJobStore&#39; - which does not support persistence. and is not clustered.\r\n    \r\n    2021-10-26 00:47:32,497 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler &#39;quartzScheduler&#39; initialized from an externally provided properties instance.\r\n    2021-10-26 00:47:32,498 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler version: 2.3.2\r\n    2021-10-26 00:47:32,498 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@435e5276\r\n    2021-10-26 00:47:32,527 INFO  [org.springframework.scheduling.quartz.SchedulerFactoryBean] (ServerService Thread Pool -- 92) Starting Quartz Scheduler now\r\n    2021-10-26 00:47:32,528 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler quartzScheduler_$_NON_CLUSTERED started.\r\n    2021-10-26 00:47:32,542 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Started BackRedApplication in 11.605 seconds (JVM running for 19.378)\r\n    2021-10-26 00:47:32,545 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Root context already created (using as parent).\r\n    2021-10-26 00:47:32,582 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:32,583 INFO  [stdout] (ServerService Thread Pool -- 92)   .   ____          _            __ _ _\r\n    \r\n    2021-10-26 00:47:32,585 INFO  [stdout] (ServerService Thread Pool -- 92)  /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:32,590 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n    \r\n    2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n    \r\n    2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)   &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n    \r\n    2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\r\n    \r\n    2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\r\n    \r\n    2021-10-26 00:47:32,593 INFO  [stdout] (ServerService Thread Pool -- 92) \r\n    \r\n    2021-10-26 00:47:32,596 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\r\n    2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\r\n    2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\r\n    2021-10-26 00:47:32,791 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,792 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\r\n    2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 16 ms. Found 0 LDAP repository interfaces.\r\n    2021-10-26 00:47:32,823 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\r\n    2021-10-26 00:47:32,823 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 221 ms\r\n    2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter errorPageFilter was not registered (possibly already registered?)\r\n    2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter vueRoutePathFilter was not registered (possibly already registered?)\r\n    2021-10-26 00:47:32,915 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Started ServletInitializer in 0.368 seconds (JVM running for 19.751)\r\n    2021-10-26 00:47:32,957 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 92) Initializing Mojarra 2.3.9.SP06 for context &#39;/api-red&#39;\r\n    2021-10-26 00:47:34,146 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 92) WFLYUT0021: Registered web context: &#39;/api-red&#39; for server &#39;default-server&#39;\r\n    2021-10-26 00:47:34,177 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;RED-0.0.1-SNAPSHOT.war&quot; (runtime-name : &quot;RED-0.0.1-SNAPSHOT.war&quot;)\r\n    2021-10-26 00:47:34,204 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    2021-10-26 00:47:34,206 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\r\n    2021-10-26 00:47:34,207 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\r\n    2021-10-26 00:47:34,208 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 19.0.0.Final (WildFly Core 11.0.0.Final) started in 20962ms - Started 539 of 768 services (379 services are lazy, passive or on-demand)\r\n\r\n\r\nWildFly standalone.xml\r\n\r\n[![enter image description here][1]][1]\r\n\r\nVueJS App path on Spring Boot Project:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nFrontEnd on my Local Development Environment\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBackEnd on my Local Development Environment\r\n\r\n[![enter image description here][4]][4]\r\n\r\nWildFly Environment Execution\r\n\r\n[![enter image description here][5]][5]\r\n\r\nFrontEnd over WildFly Environment Execution\r\n\r\n[![enter image description here][6]][6]\r\n\r\nBackEnd over WildFly Environment Execution\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BnXT3.png\r\n  [2]: https://i.stack.imgur.com/2uEdU.png\r\n  [3]: https://i.stack.imgur.com/aYfIU.png\r\n  [4]: https://i.stack.imgur.com/lfZJV.png\r\n  [5]: https://i.stack.imgur.com/OAvDA.png\r\n  [6]: https://i.stack.imgur.com/Q5Ozc.png\r\n  [7]: https://i.stack.imgur.com/vtM3e.png","title":"Spring Boot 2.6 App on WildFly 19 - Can&#39;t reach my app","body":"<p>I have a Java API Spring Boot application (2.6.0-SNAPSHOT) without any context, also have a FrontEnd written in VueJS on path <code>/src/main/resources/static</code>, in my local development environment when i run the project, i can view the FrontEnd app over the url <code>localhost:8080</code> and can access to my API project in Spring Boot over the url for example <code>localhost:8080/security/myEndpoint</code>, and everything works well.</p>\n<p>Now i need to deploy my project on WildFly 19 application server (wildfly-19.0.0.Final), first i'm using maven to build the war file and then put it into <code>\\standalone\\deployments\\</code> path to deploy.</p>\n<p>When i'm execute <code>standalone</code> file to start the deploy the server do all the process and starts ok, but i'm trying to access to my front app or my API Endpoints and get 404 error.</p>\n<p>What is missing on this configuration to get the same functioning that on my development environment?</p>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.co.myapp&lt;/groupId&gt;\n&lt;artifactId&gt;RED&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;RED&lt;/name&gt;\n&lt;description&gt;My app&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-ldap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.5.10&lt;/version&gt;\n   &lt;/dependency&gt;\n    \n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>Main Class</p>\n<pre><code>@SpringBootApplication\n@EnableScheduling\n@PropertySource(value = &quot;file:${spring.config.location}/applicationconfig.properties&quot;)\n@PropertySource(value = &quot;file:${spring.config.location}/propiedades.properties&quot;)\npublic class BackRedApplication extends SpringBootServletInitializer {\n\n@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(BackRedApplication.class);\n}\n\npublic static void main(String[] args) {\n    SpringApplication.run(BackRedApplication.class, args);\n}\n\n@Bean\npublic static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n   return new PropertySourcesPlaceholderConfigurer();\n}\n}\n</code></pre>\n<p>My application.properties</p>\n<pre><code>spring.servlet.multipart.max-file-size=250MB\nspring.servlet.multipart.max-request-size=250MB\nspring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n#spring.profiles.active=dev\n#spring.profiles.active=test\n#spring.config.location=path_to_my_spring_configuration\n#server.servlet.context-path=/api-red\n\n#\n#spring.mvc.static-path-pattern=/uploads/**\n#spring.web.resources.static-locations=file:/opt/files\n</code></pre>\n<p>My applicationconfig.properties (defined on main class)</p>\n<pre><code>#\nspring.datasource.jdbc-url=jdbc:mysql://mydb.com:3306/MYDB\nspring.datasource.username=user\nspring.datasource.password=password\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nserver.port = 8080\n\nspringdoc.packagesToScan=the_package_to_scan\n#springdoc.pathsToMatch=/v1, /api/balance/**\n\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.format_sql=true\n\n#Generate camelCase columns names in DB as delcared in Entities\nspring.jpa.hibernate.naming.physical- \nstrategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nlogging.level.org.hibernate.SQL=DEBUG\n#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>Part of WildFly Log</p>\n<pre><code>2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\n2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\n2021-10-26 00:47:21,142 INFO  [stdout] (ServerService Thread Pool -- 92)   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\n2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\n\n2021-10-26 00:47:21,143 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\n\n2021-10-26 00:47:21,144 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:21,146 INFO  [org.hibernate.validator.internal.util.Version] (background-preinit) HV000001: Hibernate Validator 6.0.18.Final\n2021-10-26 00:47:21,186 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Starting BackRedApplication using Java 11.0.12 on DAVID-DESKTOP with PID 4500 (started by david in C:\\Users\\david\\Documents\\Emprendimiento\\CLIENTES_EXTERNOS\\UTADEO\\wildfly-19.0.0.Final\\bin)\n2021-10-26 00:47:21,187 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\n2021-10-26 00:47:21,635 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:21,637 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2021-10-26 00:47:21,706 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 62 ms. Found 8 JPA repository interfaces.\n2021-10-26 00:47:21,712 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:21,713 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\n2021-10-26 00:47:21,725 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,726 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,727 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,728 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:21,729 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 15 ms. Found 0 LDAP repository interfaces.\n2021-10-26 00:47:21,978 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\n2021-10-26 00:47:21,979 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 773 ms\n2021-10-26 00:47:22,145 ERROR [stderr] (ServerService Thread Pool -- 92) Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.\n\n2021-10-26 00:47:22,253 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 92) HHH000204: Processing PersistenceUnitInfo [name: default]\n2021-10-26 00:47:22,301 INFO  [org.hibernate.Version] (ServerService Thread Pool -- 92) HHH000412: Hibernate ORM core version 5.6.0.Final\n2021-10-26 00:47:22,424 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool -- 92) HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2021-10-26 00:47:22,493 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Starting...\n2021-10-26 00:47:22,497 WARN  [com.zaxxer.hikari.util.DriverDataSource] (ServerService Thread Pool -- 92) Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.\n2021-10-26 00:47:23,851 INFO  [com.zaxxer.hikari.HikariDataSource] (ServerService Thread Pool -- 92) HikariPool-1 - Start completed.\n2021-10-26 00:47:23,862 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 92) HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n2021-10-26 00:47:23,988 INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator] (ServerService Thread Pool -- 92) HHH000490: Using JtaPlatform implementation: [org.springframework.boot.orm.jpa.hibernate.SpringJtaPlatform]\n2021-10-26 00:47:30,064 INFO  [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] (ServerService Thread Pool -- 92) Initialized JPA EntityManagerFactory for persistence unit 'default'\n2021-10-26 00:47:30,896 WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration] (ServerService Thread Pool -- 92) spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2021-10-26 00:47:31,104 INFO  [org.springframework.boot.autoconfigure.web.servlet.WelcomePageHandlerMapping] (ServerService Thread Pool -- 92) Adding welcome page: class path resource [static/index.html]\n2021-10-26 00:47:32,432 INFO  [org.springframework.ldap.core.support.AbstractContextSource] (ServerService Thread Pool -- 92) Property 'userDn' not set - anonymous context will be used for read-write operations\n2021-10-26 00:47:32,481 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Using default implementation for ThreadExecutor\n2021-10-26 00:47:32,494 INFO  [org.quartz.core.SchedulerSignalerImpl] (ServerService Thread Pool -- 92) Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl\n2021-10-26 00:47:32,495 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Quartz Scheduler v.2.3.2 created.\n2021-10-26 00:47:32,496 INFO  [org.quartz.simpl.RAMJobStore] (ServerService Thread Pool -- 92) RAMJobStore initialized.\n2021-10-26 00:47:32,497 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler meta-data: Quartz Scheduler (v2.3.2) 'quartzScheduler' with instanceId 'NON_CLUSTERED'\n  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.\n  NOT STARTED.\n  Currently in standby mode.\n  Number of jobs executed: 0\n  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.\n  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.\n\n2021-10-26 00:47:32,497 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.\n2021-10-26 00:47:32,498 INFO  [org.quartz.impl.StdSchedulerFactory] (ServerService Thread Pool -- 92) Quartz scheduler version: 2.3.2\n2021-10-26 00:47:32,498 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@435e5276\n2021-10-26 00:47:32,527 INFO  [org.springframework.scheduling.quartz.SchedulerFactoryBean] (ServerService Thread Pool -- 92) Starting Quartz Scheduler now\n2021-10-26 00:47:32,528 INFO  [org.quartz.core.QuartzScheduler] (ServerService Thread Pool -- 92) Scheduler quartzScheduler_$_NON_CLUSTERED started.\n2021-10-26 00:47:32,542 INFO  [com.co.dejsoftware.red.BackRedApplication] (ServerService Thread Pool -- 92) Started BackRedApplication in 11.605 seconds (JVM running for 19.378)\n2021-10-26 00:47:32,545 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Root context already created (using as parent).\n2021-10-26 00:47:32,582 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:32,583 INFO  [stdout] (ServerService Thread Pool -- 92)   .   ____          _            __ _ _\n\n2021-10-26 00:47:32,585 INFO  [stdout] (ServerService Thread Pool -- 92)  /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n\n2021-10-26 00:47:32,590 INFO  [stdout] (ServerService Thread Pool -- 92) ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n\n2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)  \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n\n2021-10-26 00:47:32,591 INFO  [stdout] (ServerService Thread Pool -- 92)   '  |____| .__|_| |_|_| |_\\__, | / / / /\n\n2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  =========|_|==============|___/=/_/_/_/\n\n2021-10-26 00:47:32,592 INFO  [stdout] (ServerService Thread Pool -- 92)  :: Spring Boot ::       (v2.6.0-SNAPSHOT)\n\n2021-10-26 00:47:32,593 INFO  [stdout] (ServerService Thread Pool -- 92) \n\n2021-10-26 00:47:32,596 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) No active profile set, falling back to default profiles: default\n2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Multiple Spring Data modules found, entering strict repository configuration mode!\n2021-10-26 00:47:32,777 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Bootstrapping Spring Data LDAP repositories in DEFAULT mode.\n2021-10-26 00:47:32,791 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.job.RepositorioCampaniasImportadas. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,792 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioDomain. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioRol. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,793 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurvey. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestion. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,794 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAnswer. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioSurveyQuestionAttribute. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport] (ServerService Thread Pool -- 92) Spring Data LDAP - Could not safely identify store assignment for repository candidate interface com.co.dejsoftware.red.repositorios.RepositorioUsers. If you want this repository to be a LDAP repository, consider annotating your entities with one of these annotations: org.springframework.ldap.odm.annotations.Entry (preferred), or consider extending one of the following types with your repository: org.springframework.data.ldap.repository.LdapRepository.\n2021-10-26 00:47:32,795 INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate] (ServerService Thread Pool -- 92) Finished Spring Data repository scanning in 16 ms. Found 0 LDAP repository interfaces.\n2021-10-26 00:47:32,823 INFO  [io.undertow.servlet] (ServerService Thread Pool -- 92) Initializing Spring embedded WebApplicationContext\n2021-10-26 00:47:32,823 INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] (ServerService Thread Pool -- 92) Root WebApplicationContext: initialization completed in 221 ms\n2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter errorPageFilter was not registered (possibly already registered?)\n2021-10-26 00:47:32,830 INFO  [org.springframework.boot.web.servlet.RegistrationBean] (ServerService Thread Pool -- 92) Filter vueRoutePathFilter was not registered (possibly already registered?)\n2021-10-26 00:47:32,915 INFO  [com.co.dejsoftware.red.ServletInitializer] (ServerService Thread Pool -- 92) Started ServletInitializer in 0.368 seconds (JVM running for 19.751)\n2021-10-26 00:47:32,957 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 92) Initializing Mojarra 2.3.9.SP06 for context '/api-red'\n2021-10-26 00:47:34,146 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 92) WFLYUT0021: Registered web context: '/api-red' for server 'default-server'\n2021-10-26 00:47:34,177 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 45) WFLYSRV0010: Deployed &quot;RED-0.0.1-SNAPSHOT.war&quot; (runtime-name : &quot;RED-0.0.1-SNAPSHOT.war&quot;)\n2021-10-26 00:47:34,204 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n2021-10-26 00:47:34,206 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management\n2021-10-26 00:47:34,207 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990\n2021-10-26 00:47:34,208 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Full 19.0.0.Final (WildFly Core 11.0.0.Final) started in 20962ms - Started 539 of 768 services (379 services are lazy, passive or on-demand)\n</code></pre>\n<p>WildFly standalone.xml</p>\n<p><a href=\"https://i.stack.imgur.com/BnXT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BnXT3.png\" alt=\"enter image description here\" /></a></p>\n<p>VueJS App path on Spring Boot Project:</p>\n<p><a href=\"https://i.stack.imgur.com/2uEdU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uEdU.png\" alt=\"enter image description here\" /></a></p>\n<p>FrontEnd on my Local Development Environment</p>\n<p><a href=\"https://i.stack.imgur.com/aYfIU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aYfIU.png\" alt=\"enter image description here\" /></a></p>\n<p>BackEnd on my Local Development Environment</p>\n<p><a href=\"https://i.stack.imgur.com/lfZJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfZJV.png\" alt=\"enter image description here\" /></a></p>\n<p>WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/OAvDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OAvDA.png\" alt=\"enter image description here\" /></a></p>\n<p>FrontEnd over WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/Q5Ozc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q5Ozc.png\" alt=\"enter image description here\" /></a></p>\n<p>BackEnd over WildFly Environment Execution</p>\n<p><a href=\"https://i.stack.imgur.com/vtM3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vtM3e.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682630513,"post_id":76124728,"comment_id":134250546,"body_markdown":"This `setBackground(new java.awt.Color(0,0,0,1));` is suspious - Swing doesn&#39;t support alpha based colors, instead, use `Color.BLACK`","body":"This <code>setBackground(new java.awt.Color(0,0,0,1));</code> is suspious - Swing doesn&#39;t support alpha based colors, instead, use <code>Color.BLACK</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682630612,"post_id":76124728,"comment_id":134250560,"body_markdown":"I would also make `setVisible(true);` the last thing you do, in fact, I&#39;d remove it from the constructor and have the caller do it, for example `Login login = new Login(); login.setVisible(true);` as it provides the caller the control","body":"I would also make <code>setVisible(true);</code> the last thing you do, in fact, I&#39;d remove it from the constructor and have the caller do it, for example <code>Login login = new Login(); login.setVisible(true);</code> as it provides the caller the control"},{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682631199,"post_id":76124728,"comment_id":134250654,"body_markdown":"@MadProgrammer if I change this tho `Color.BLACK` the text field background will not be transparent, I want it to be transparent that is the point, and tried to remove those from the constructor and call it from the main method no luck.","body":"@MadProgrammer if I change this tho <code>Color.BLACK</code> the text field background will not be transparent, I want it to be transparent that is the point, and tried to remove those from the constructor and call it from the main method no luck."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1682631500,"post_id":76124728,"comment_id":134250695,"body_markdown":"Not sure why you want the text fields to be be transparent - but you should use `setOpaque` instead, as stated, Swing components can&#39;t handle transparent colors - they are either fully opaque or fully transparent, which is controlled via the opaque property","body":"Not sure why you want the text fields to be be transparent - but you should use <code>setOpaque</code> instead, as stated, Swing components can&#39;t handle transparent colors - they are either fully opaque or fully transparent, which is controlled via the opaque property"},{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682633424,"post_id":76124728,"comment_id":134250949,"body_markdown":"@MadProgrammer transparent background looks cool and more modern, anyway thanks for your suggestion man.","body":"@MadProgrammer transparent background looks cool and more modern, anyway thanks for your suggestion man."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682633863,"post_id":76124728,"comment_id":134251011,"body_markdown":"But you seem to be placing it over a white background, so not really seeing the difference  &#129335;‚Äç‚ôÇÔ∏è . As a user, I‚Äôd prefer to see common over cool, but that‚Äôs me","body":"But you seem to be placing it over a white background, so not really seeing the difference  ü§∑‚Äç‚ôÇÔ∏è . As a user, I‚Äôd prefer to see common over cool, but that‚Äôs me"}],"answers":[{"comments":[{"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"score":0,"creation_date":1682688055,"post_id":76125267,"comment_id":134259233,"body_markdown":"Thanks for your time and your well-made explanation bro.","body":"Thanks for your time and your well-made explanation bro."}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682688134,"creation_date":1682637631,"answer_id":76125267,"question_id":76124728,"body_markdown":"Swing components do not support alpha based colors, a Swing component is either full opaque or fully transparent.\r\n\r\nYou should be using `setOpaque(false)` over `setBackground(new java.awt.Color(0,0,0,1))`\r\n\r\nI would also recommend against extending directly from `JFrame`, it&#39;s locking you into a single use case.  You should also avoid calling `setVisible` in the constructor, this is generally consider a &quot;side effect&quot; and isn&#39;t something you always want do.  Instead, allow the caller to decide when it&#39;s best to do this.\r\n\r\nAs a side note, updating the UI update it&#39;s been made visible will require you to call `revalidate` and `repaint` to ensure that a new layout and paint pass are executed, which is why I suggest not doing it in the constructor.\r\n\r\nAlso, beware, not all look and feels may support setting a text component to transparent (they may choose to ignore it) and getting around this won&#39;t be easy.\r\n\r\nIf you prefer to support translucent backgrounds, then you&#39;re going to need to fake it, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.CompoundBorder;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.border.LineBorder;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() throws IOException {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                FancyPancyTextField tf = new FancyPancyTextField();\r\n                tf.setColumns(20);\r\n                tf.setText(&quot;This is some text&quot;);\r\n\r\n                JSlider slider = new JSlider(0, 100, 100);\r\n\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(tf, gbc);\r\n                add(slider, gbc);\r\n\r\n                slider.addChangeListener(new ChangeListener() {\r\n                    @Override\r\n                    public void stateChanged(ChangeEvent e) {\r\n                        float value = (float)slider.getValue() / 100f;\r\n                        tf.setAlpha(value);\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        public class FancyPancyTextField extends JTextField {\r\n\r\n            private float alpha = 1;\r\n            private Color desiredBackgroundColor;\r\n\r\n            public FancyPancyTextField() {\r\n                setOpaque(false);\r\n                desiredBackgroundColor = getBackground();\r\n                setBorder(new CompoundBorder(new LineBorder(Color.LIGHT_GRAY), new EmptyBorder(2, 2, 2, 2)));\r\n            }\r\n\r\n            public void setAlpha(float alpha) {\r\n                if (alpha == this.alpha) {\r\n                    return;\r\n                }\r\n                this.alpha = alpha;\r\n                Color background = getBackground();\r\n                desiredBackgroundColor = new Color(\r\n                        background.getRed(), \r\n                        background.getGreen(), \r\n                        background.getBlue(), \r\n                        (int)(255 * alpha)\r\n                );\r\n                repaint();\r\n            }\r\n\r\n            public float getAlpha() {\r\n                return alpha;\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setColor(desiredBackgroundColor);\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n                super.paintComponent(g);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nNow, please beware, &quot;user acceptance&quot; is a hard thing to achieve.  Users don&#39;t care about what you think is &quot;cool&quot;, they care about how easy your UI is to use.  Spend more time focusing on making your interface intuitive, easy to understand and navigable, users will find that more &quot;cool&quot; then most of what you &quot;visually&quot; consider cool.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i74DI.gif","title":"GUI Artifacts when trying to run a form from main method in Java","body":"<p>Swing components do not support alpha based colors, a Swing component is either full opaque or fully transparent.</p>\n<p>You should be using <code>setOpaque(false)</code> over <code>setBackground(new java.awt.Color(0,0,0,1))</code></p>\n<p>I would also recommend against extending directly from <code>JFrame</code>, it's locking you into a single use case.  You should also avoid calling <code>setVisible</code> in the constructor, this is generally consider a &quot;side effect&quot; and isn't something you always want do.  Instead, allow the caller to decide when it's best to do this.</p>\n<p>As a side note, updating the UI update it's been made visible will require you to call <code>revalidate</code> and <code>repaint</code> to ensure that a new layout and paint pass are executed, which is why I suggest not doing it in the constructor.</p>\n<p>Also, beware, not all look and feels may support setting a text component to transparent (they may choose to ignore it) and getting around this won't be easy.</p>\n<p>If you prefer to support translucent backgrounds, then you're going to need to fake it, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/i74DI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i74DI.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.JTextField;\nimport javax.swing.border.CompoundBorder;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() throws IOException {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            FancyPancyTextField tf = new FancyPancyTextField();\n            tf.setColumns(20);\n            tf.setText(&quot;This is some text&quot;);\n\n            JSlider slider = new JSlider(0, 100, 100);\n\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(tf, gbc);\n            add(slider, gbc);\n\n            slider.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent e) {\n                    float value = (float)slider.getValue() / 100f;\n                    tf.setAlpha(value);\n                }\n            });\n        }\n\n    }\n\n    public class FancyPancyTextField extends JTextField {\n\n        private float alpha = 1;\n        private Color desiredBackgroundColor;\n\n        public FancyPancyTextField() {\n            setOpaque(false);\n            desiredBackgroundColor = getBackground();\n            setBorder(new CompoundBorder(new LineBorder(Color.LIGHT_GRAY), new EmptyBorder(2, 2, 2, 2)));\n        }\n\n        public void setAlpha(float alpha) {\n            if (alpha == this.alpha) {\n                return;\n            }\n            this.alpha = alpha;\n            Color background = getBackground();\n            desiredBackgroundColor = new Color(\n                    background.getRed(), \n                    background.getGreen(), \n                    background.getBlue(), \n                    (int)(255 * alpha)\n            );\n            repaint();\n        }\n\n        public float getAlpha() {\n            return alpha;\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setColor(desiredBackgroundColor);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n            super.paintComponent(g);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p>Now, please beware, &quot;user acceptance&quot; is a hard thing to achieve.  Users don't care about what you think is &quot;cool&quot;, they care about how easy your UI is to use.  Spend more time focusing on making your interface intuitive, easy to understand and navigable, users will find that more &quot;cool&quot; then most of what you &quot;visually&quot; consider cool.</p>\n"}],"owner":{"account_id":16351685,"reputation":3,"user_id":11810035,"display_name":"Sahand"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76125267,"answer_count":1,"score":-1,"last_activity_date":1682688134,"creation_date":1682630122,"question_id":76124728,"body_markdown":"I want to run a form from another package in the default packages main method.\r\n```\r\n// default package\r\npackage com.salesmanagement.system\r\n\r\n// imported package\r\nimport loginForm.*;\r\n\r\n// Main class\r\npublic class SalesManagementSystem {\r\n    public static void main(String[] args) {\r\n    Login login = new Login();\r\n    }\r\n}\r\n\r\n// the other package\r\npackage LoginForm;\r\nimport com.salesmanagement.system\r\n\r\npublic class Login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form loginForm\r\n     */\r\n    public Login() {\r\n        initComponents();\r\n        setVisible(true);\r\n        setLocationRelativeTo(null);\r\n        emailtxt.setBackground(new java.awt.Color(0,0,0,1));\r\n        passwordtxt.setBackground(new java.awt.Color(0,0,0,1));\r\n    }\r\n}\r\n\r\n```\r\n\r\nwhen I run the form from the default package main method I will have UI artifacts:\r\n[running the code from the main method of default package](https://i.stack.imgur.com/Fnp7Y.png)\r\n\r\nwhen I set the `loginForum` package as the main class it doesn&#39;t have any problem:\r\n[running the code from package&#39;s main method](https://i.stack.imgur.com/vkLH9.png)\r\n\r\nany idea?\r\n\r\nthanks.","title":"GUI Artifacts when trying to run a form from main method in Java","body":"<p>I want to run a form from another package in the default packages main method.</p>\n<pre><code>// default package\npackage com.salesmanagement.system\n\n// imported package\nimport loginForm.*;\n\n// Main class\npublic class SalesManagementSystem {\n    public static void main(String[] args) {\n    Login login = new Login();\n    }\n}\n\n// the other package\npackage LoginForm;\nimport com.salesmanagement.system\n\npublic class Login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form loginForm\n     */\n    public Login() {\n        initComponents();\n        setVisible(true);\n        setLocationRelativeTo(null);\n        emailtxt.setBackground(new java.awt.Color(0,0,0,1));\n        passwordtxt.setBackground(new java.awt.Color(0,0,0,1));\n    }\n}\n\n</code></pre>\n<p>when I run the form from the default package main method I will have UI artifacts:\n<a href=\"https://i.stack.imgur.com/Fnp7Y.png\" rel=\"nofollow noreferrer\">running the code from the main method of default package</a></p>\n<p>when I set the <code>loginForum</code> package as the main class it doesn't have any problem:\n<a href=\"https://i.stack.imgur.com/vkLH9.png\" rel=\"nofollow noreferrer\">running the code from package's main method</a></p>\n<p>any idea?</p>\n<p>thanks.</p>\n"},{"tags":["java","arrays","string","netbeans","jframe"],"comments":[{"owner":{"account_id":28443234,"reputation":9,"user_id":21762311,"display_name":"brithy carvajal"},"score":0,"creation_date":1682670503,"post_id":76127677,"comment_id":134255448,"body_markdown":"Well, I just noticed that I can&#39;t leave the code later","body":"Well, I just noticed that I can&#39;t leave the code later"}],"owner":{"account_id":28443234,"reputation":9,"user_id":21762311,"display_name":"brithy carvajal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1077,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682688115,"creation_date":1682670416,"question_id":76127677,"body_markdown":"I&#39;m developing an object-oriented Netbeans application. \r\n\r\nMy J Internal Frame is giving a problem that says: \r\n\r\n&gt; class `java.util.ArrayList` cannot be cast to class `model.servicecls` (`java.util.ArrayList` is in module `java.base` of loader &#39;bootstrap&#39;; `model.servicecls` is in unnamed module of loader &#39;app&#39;)&quot; \r\n\r\nI&#39;m just trying to log and save information to a Jtable but doing so doesn&#39;t save or project anything to that Jtable. \r\n\r\nIn other Form it does work, so I have the assumption that it is because of the combo box but I can&#39;t solve it. I will leave my jframe code and its respective save class to which it is linked.\r\n\r\n","title":"java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; model.servicecls is in unnamed module of loader &#39;app&#39;","body":"<p>I'm developing an object-oriented Netbeans application.</p>\n<p>My J Internal Frame is giving a problem that says:</p>\n<blockquote>\n<p>class <code>java.util.ArrayList</code> cannot be cast to class <code>model.servicecls</code> (<code>java.util.ArrayList</code> is in module <code>java.base</code> of loader 'bootstrap'; <code>model.servicecls</code> is in unnamed module of loader 'app')&quot;</p>\n</blockquote>\n<p>I'm just trying to log and save information to a Jtable but doing so doesn't save or project anything to that Jtable.</p>\n<p>In other Form it does work, so I have the assumption that it is because of the combo box but I can't solve it. I will leave my jframe code and its respective save class to which it is linked.</p>\n"},{"tags":["java","maven","dependencies","jlink"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1682690582,"post_id":76129911,"comment_id":134259871,"body_markdown":"You might want to consider using the [java.net.http](https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/package-summary.html) package instead of Apache httpcore.","body":"You might want to consider using the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/package-summary.html\" rel=\"nofollow noreferrer\">java.net.http</a> package instead of Apache httpcore."}],"owner":{"account_id":13705919,"reputation":23,"user_id":9889547,"display_name":"void"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682687381,"creation_date":1682687381,"question_id":76129911,"body_markdown":"I&#39;m trying to use jlink to create a custom JRE for my Maven project using the following command:\r\n\r\n```\r\nmvn clean javafx:jlink\r\n```\r\nHowever, I&#39;m getting the following error:\r\n```\r\nError: automatic module cannot be used with jlink: org.apache.httpcomponents.httpcore from file:///C:/Users/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\r\n```\r\nI have already tried adding the following to my pom.xml file, but it didn&#39;t help:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;automaticModuleName&gt;true&lt;/automaticModuleName&gt;\r\n&lt;/configuration&gt;\r\n```\r\nMy pom file looks like this:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.project&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;com.project&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Project&lt;/name&gt;\r\n\t&lt;description&gt;project&lt;/description&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0-alpha.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;okio&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-alpha.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.8&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;com.project.gui.Main&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-httpcore&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;artifactItems&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactItem&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;version&gt;4.4.13&lt;/version&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;overWrite&gt;true&lt;/overWrite&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/jlinkbase/lib&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t\t&lt;/artifactItem&gt;\r\n\t\t\t\t\t\t\t&lt;/artifactItems&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nthis is my module-info.java:\r\n```\r\nmodule project {\r\n\trequires transitive java.desktop;\r\n\trequires javafx.base;\r\n\trequires javafx.controls;\r\n\trequires javafx.fxml;\r\n\trequires transitive javafx.graphics;\r\n\trequires javafx.swing;\r\n\trequires okhttp3;\r\n\trequires okio;\r\n\trequires com.fasterxml.jackson.databind;\r\n\trequires org.apache.httpcomponents.httpcore;\r\n\trequires org.apache.httpcomponents.httpclient;\r\n\trequires java.base;\r\n\trequires org.apache.httpcomponents.httpmime;\r\n\trequires org.apache.commons.codec;\r\n\trequires java.xml;\r\n\trequires java.net.http;\r\n\t\r\n\topens com.project.gui;\r\n\topens com.project.gui.controllers;\r\n\topens com.project.utils;\r\n\topens com.project.logic;\r\n\topens com.project.pojos;\r\n\topens com.project.pojos.actions;\r\n}\r\n```\r\nHow can I resolve this issue and successfully create a custom JRE for my Maven project using jlink?","title":"Error using jlink with automatic module in Maven project","body":"<p>I'm trying to use jlink to create a custom JRE for my Maven project using the following command:</p>\n<pre><code>mvn clean javafx:jlink\n</code></pre>\n<p>However, I'm getting the following error:</p>\n<pre><code>Error: automatic module cannot be used with jlink: org.apache.httpcomponents.httpcore from file:///C:/Users/user/.m2/repository/org/apache/httpcomponents/httpcore/4.4.13/httpcore-4.4.13.jar\n</code></pre>\n<p>I have already tried adding the following to my pom.xml file, but it didn't help:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;automaticModuleName&gt;true&lt;/automaticModuleName&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My pom file looks like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.project&lt;/groupId&gt;\n    &lt;artifactId&gt;com.project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Project&lt;/name&gt;\n    &lt;description&gt;project&lt;/description&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-alpha.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okio&lt;/groupId&gt;\n            &lt;artifactId&gt;okio&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-alpha.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n            &lt;version&gt;5.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.project.gui.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-httpcore&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                                    &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n                                    &lt;version&gt;4.4.13&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                    &lt;overWrite&gt;true&lt;/overWrite&gt;\n                                    &lt;outputDirectory&gt;${project.build.directory}/jlinkbase/lib&lt;/outputDirectory&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>this is my module-info.java:</p>\n<pre><code>module project {\n    requires transitive java.desktop;\n    requires javafx.base;\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires transitive javafx.graphics;\n    requires javafx.swing;\n    requires okhttp3;\n    requires okio;\n    requires com.fasterxml.jackson.databind;\n    requires org.apache.httpcomponents.httpcore;\n    requires org.apache.httpcomponents.httpclient;\n    requires java.base;\n    requires org.apache.httpcomponents.httpmime;\n    requires org.apache.commons.codec;\n    requires java.xml;\n    requires java.net.http;\n    \n    opens com.project.gui;\n    opens com.project.gui.controllers;\n    opens com.project.utils;\n    opens com.project.logic;\n    opens com.project.pojos;\n    opens com.project.pojos.actions;\n}\n</code></pre>\n<p>How can I resolve this issue and successfully create a custom JRE for my Maven project using jlink?</p>\n"},{"tags":["java","spotbugs"],"comments":[{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":0,"creation_date":1682662508,"post_id":76126709,"comment_id":134253816,"body_markdown":"Seems reasonable approach as you know the use-case.","body":"Seems reasonable approach as you know the use-case."},{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":1,"creation_date":1682662785,"post_id":76126709,"comment_id":134253874,"body_markdown":"Suggestion: You can use concurrent hashmap for multi-threaded environment.","body":"Suggestion: You can use concurrent hashmap for multi-threaded environment."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1682665183,"post_id":76126709,"comment_id":134254357,"body_markdown":"@doptimusprime: It&#39;s absolutely *not* a reasonable approach, given that `LinkedHashMap` isn&#39;t thread-safe.","body":"@doptimusprime: It&#39;s absolutely <i>not</i> a reasonable approach, given that <code>LinkedHashMap</code> isn&#39;t thread-safe."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1682665623,"post_id":76126709,"comment_id":134254449,"body_markdown":"i think there was some library that offered a concurrentlinkedhashmap you can check it out and see if it fits your needs https://cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/concurrentlinkedhashmap/ConcurrentLinkedHashMap.html","body":"i think there was some library that offered a concurrentlinkedhashmap you can check it out and see if it fits your needs <a href=\"https://cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/concurrentlinkedhashmap/ConcurrentLinkedHashMap.html\" rel=\"nofollow noreferrer\">cayenne.apache.org/docs/3.1/api/org/apache/cayenne/util/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1682664369,"post_id":76126748,"comment_id":134254176,"body_markdown":"Suppressing the warning and exposing a reference to a shared instance of a mutable object is dangerous, because it separates the information that locking is required (and which lock needs to be held) from the thing that needs to be protected before use. Every caller needs to know that all uses need to be wrapped in synchronized blocks, and they need a reference to the monitor object/lock as well as a reference to the map. This is tricky to get right, even if it is documented precisely.","body":"Suppressing the warning and exposing a reference to a shared instance of a mutable object is dangerous, because it separates the information that locking is required (and which lock needs to be held) from the thing that needs to be protected before use. Every caller needs to know that all uses need to be wrapped in synchronized blocks, and they need a reference to the monitor object/lock as well as a reference to the map. This is tricky to get right, even if it is documented precisely."}],"tags":[],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682686862,"creation_date":1682662676,"answer_id":76126748,"question_id":76126709,"body_markdown":"IMHO you can suppress the warning.\r\n\r\nAlternatively, you can do the following:\r\n\r\nInstead of providing `getter` to this instance, you can provide public methods like `get` or `add` which will use this `Map`. It means, threads will not have direct access to your hashmap, but only through the method. In this way, you need not to suppress the warning.","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>IMHO you can suppress the warning.</p>\n<p>Alternatively, you can do the following:</p>\n<p>Instead of providing <code>getter</code> to this instance, you can provide public methods like <code>get</code> or <code>add</code> which will use this <code>Map</code>. It means, threads will not have direct access to your hashmap, but only through the method. In this way, you need not to suppress the warning.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1682664058,"post_id":76126806,"comment_id":134254096,"body_markdown":"Better add the synchronistation to the example instead of mentioning that it needs to be added - with `LinkedHashMap` (or other non-concurrent Maps), &quot;may need&quot; can be replaced with &quot;needs&quot; ;)","body":"Better add the synchronistation to the example instead of mentioning that it needs to be added - with <code>LinkedHashMap</code> (or other non-concurrent Maps), &quot;may need&quot; can be replaced with &quot;needs&quot; ;)"}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682686788,"creation_date":1682663371,"answer_id":76126806,"question_id":76126709,"body_markdown":"The whole approach is faulty!\r\n\r\nYou synchronised the creation of the map, but then your getter returns it to the wild, where the access to it is not forced to be synchronised ‚Äì knowing that it is used by different threads!! Bad idea!\r\n\r\nYou need to omit the getter and setter; instead you create the map in the constructor and provide methods that modify it ‚Äì this way you have always full control about the manipulation of the map.\r\n\r\nIf you need the contents of the map somewhere, you write a &#39;getter&#39; like this:\r\n```Java\r\npublic final Map&lt;Long,String&gt; obtainMapContents()\r\n{\r\n  return new LinkedHashMap&lt;&gt;( myMap );\r\n\r\n  // Or if you do not need the semantics of LinkedHashMap:\r\n  // return Map.copyOf( myMap );\r\n}\r\n```\r\nOf course, this may need synchronisation, too. So if you always use the instance as monitor (`this`), you *can* write\r\n```Java\r\npublic synchronized final Map&lt;Long,String&gt; obtainMapContents()\r\n{\r\n  return new LinkedHashMap&lt;&gt;( myMap );\r\n\r\n  // Or if you do not need the semantics of LinkedHashMap:\r\n  // return Map.copyOf( myMap );\r\n}\r\n```\r\nbut this has other drawbacks.\r\n\r\nThe most sophisticated solution would use `ReentrantReadWriteLock` instances and looks like this:\r\n```Java\r\npublic final class MyClassWithAMap\r\n{\r\n  private final Map&lt;Long,String&gt; m_Map = new LinkedHashMap&lt;&gt;();\r\n  private final ReadLock m_ReadLock;\r\n  private final WriteLock m_WriteLock;\r\n\r\n  public MyClassWithAMap()\r\n  {\r\n    final var lock = new ReentrantReadWriteLock();\r\n    m_ReadLock = lock.readLock();\r\n    m_WriteLock = lock.writeLock();\r\n  }\r\n\r\n  public final void addEntry( final Long long, final String string )\r\n  {\r\n    m_WriteLock.lock();\r\n    try\r\n    {\r\n      m_Map.put( long, string );\r\n      m_WriteLock.unlock();\r\n    }\r\n  }\r\n\r\n  public final String getEntry( final Long long )\r\n  {\r\n    String retValue = null;\r\n    m_ReadLock.lock();\r\n    try\r\n    {\r\n      retValue = m_Map.get( long );\r\n      m_ReadLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  public final Map&lt;Long,String&gt; getEntries()\r\n  {\r\n    final Map&lt;Long,String&gt; retValue;\r\n    m_ReadLock.lock();\r\n    try\r\n    {\r\n      retValue = new LinkedHashMap&lt;&gt;( m_Map );\r\n      m_ReadLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n\r\n  public final String removeEntry( final Long long )\r\n  {\r\n    String retValue = null;\r\n    m_WriteLock.lock();\r\n    try\r\n    {\r\n      retValue = m_Map.delete( long );\r\n      m_WriteLock.unlock();\r\n    }\r\n    return retValue;\r\n  }\r\n}\r\n```\r\nbut it also might be overkill for your use case.","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>The whole approach is faulty!</p>\n<p>You synchronised the creation of the map, but then your getter returns it to the wild, where the access to it is not forced to be synchronised ‚Äì knowing that it is used by different threads!! Bad idea!</p>\n<p>You need to omit the getter and setter; instead you create the map in the constructor and provide methods that modify it ‚Äì this way you have always full control about the manipulation of the map.</p>\n<p>If you need the contents of the map somewhere, you write a 'getter' like this:</p>\n<pre><code>public final Map&lt;Long,String&gt; obtainMapContents()\n{\n  return new LinkedHashMap&lt;&gt;( myMap );\n\n  // Or if you do not need the semantics of LinkedHashMap:\n  // return Map.copyOf( myMap );\n}\n</code></pre>\n<p>Of course, this may need synchronisation, too. So if you always use the instance as monitor (<code>this</code>), you <em>can</em> write</p>\n<pre><code>public synchronized final Map&lt;Long,String&gt; obtainMapContents()\n{\n  return new LinkedHashMap&lt;&gt;( myMap );\n\n  // Or if you do not need the semantics of LinkedHashMap:\n  // return Map.copyOf( myMap );\n}\n</code></pre>\n<p>but this has other drawbacks.</p>\n<p>The most sophisticated solution would use <code>ReentrantReadWriteLock</code> instances and looks like this:</p>\n<pre><code>public final class MyClassWithAMap\n{\n  private final Map&lt;Long,String&gt; m_Map = new LinkedHashMap&lt;&gt;();\n  private final ReadLock m_ReadLock;\n  private final WriteLock m_WriteLock;\n\n  public MyClassWithAMap()\n  {\n    final var lock = new ReentrantReadWriteLock();\n    m_ReadLock = lock.readLock();\n    m_WriteLock = lock.writeLock();\n  }\n\n  public final void addEntry( final Long long, final String string )\n  {\n    m_WriteLock.lock();\n    try\n    {\n      m_Map.put( long, string );\n      m_WriteLock.unlock();\n    }\n  }\n\n  public final String getEntry( final Long long )\n  {\n    String retValue = null;\n    m_ReadLock.lock();\n    try\n    {\n      retValue = m_Map.get( long );\n      m_ReadLock.unlock();\n    }\n    return retValue;\n  }\n\n  public final Map&lt;Long,String&gt; getEntries()\n  {\n    final Map&lt;Long,String&gt; retValue;\n    m_ReadLock.lock();\n    try\n    {\n      retValue = new LinkedHashMap&lt;&gt;( m_Map );\n      m_ReadLock.unlock();\n    }\n    return retValue;\n  }\n\n  public final String removeEntry( final Long long )\n  {\n    String retValue = null;\n    m_WriteLock.lock();\n    try\n    {\n      retValue = m_Map.delete( long );\n      m_WriteLock.unlock();\n    }\n    return retValue;\n  }\n}\n</code></pre>\n<p>but it also might be overkill for your use case.</p>\n"},{"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1682669286,"post_id":76127448,"comment_id":134255198,"body_markdown":"returning a wrapper is another possibility, yes - but the wrapper needs to provide the synchronization. But I have no idea what your example is about - how do you suggest to use this?","body":"returning a wrapper is another possibility, yes - but the wrapper needs to provide the synchronization. But I have no idea what your example is about - how do you suggest to use this?"}],"tags":[],"owner":{"account_id":2557352,"reputation":361,"user_id":2219041,"display_name":"Abhinaba Basu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682668848,"creation_date":1682668848,"answer_id":76127448,"question_id":76126709,"body_markdown":"You can use a wrapper over the map instead of returning the map directly. This way you wont expose the map. \r\n\r\n    Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\r\n    \r\n    public String get(String key){\r\n    \treturn test.get(key);\r\n    }\r\n(just a example test code w/o null or any other checks)","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>You can use a wrapper over the map instead of returning the map directly. This way you wont expose the map.</p>\n<pre><code>Map&lt;String, String&gt; test = new HashMap&lt;&gt;();\n\npublic String get(String key){\n    return test.get(key);\n}\n</code></pre>\n<p>(just a example test code w/o null or any other checks)</p>\n"}],"owner":{"account_id":28442148,"reputation":21,"user_id":21761363,"display_name":"neha chawla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1682686862,"creation_date":1682662276,"question_id":76126709,"body_markdown":"I need to initialize a single instance of `LinkedHashMap` while starting my `SpringBoot` application .I tried to initialize the same in the following way\r\n\r\n```\r\n@Getter\r\n private Map&lt;Long, String&gt; myMap;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) {\r\n            synchronized (this) {\r\n                if (null == myMap) {\r\n                    myMap = new LinkedHashMap&lt;&gt;();\r\n                }\r\n            }\r\n\r\n    }\r\n```\r\n My static code analysis tool ` spotbugs` reported the following  \r\n`EI: May expose internal representation by returning reference to mutable object`\r\n\r\n\r\n\r\nI cannot return the copy of `LinkedHashMap` since it needs to be shared among all the threads. So I decided to supress warning . Is this approach correct or is there any other efficient way?","title":"Share a single instance of LinkedHashMap in Multithreaded environiment","body":"<p>I need to initialize a single instance of <code>LinkedHashMap</code> while starting my <code>SpringBoot</code> application .I tried to initialize the same in the following way</p>\n<pre><code>@Getter\n private Map&lt;Long, String&gt; myMap;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n            synchronized (this) {\n                if (null == myMap) {\n                    myMap = new LinkedHashMap&lt;&gt;();\n                }\n            }\n\n    }\n</code></pre>\n<p>My static code analysis tool <code> spotbugs</code> reported the following<br />\n<code>EI: May expose internal representation by returning reference to mutable object</code></p>\n<p>I cannot return the copy of <code>LinkedHashMap</code> since it needs to be shared among all the threads. So I decided to supress warning . Is this approach correct or is there any other efficient way?</p>\n"},{"tags":["java","spring-boot","jpa","junit","h2"],"owner":{"account_id":15062579,"reputation":396,"user_id":10870798,"display_name":"kinnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682686652,"creation_date":1682671967,"question_id":76127866,"body_markdown":"I&#39;m trying to write `JUnit` using embedded `h2` in memory `db`. We are using `MS SQL` for live connection.\r\n\r\nBelow are the files.\r\n\r\n*application.properties*:\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.user=sa\r\n    spring.datasource.password=\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=true;MODE=MySQL\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n*test class*:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {SqlServerConfig.class },loader = AnnotationConfigContextLoader.class)\r\n    @Transactional\r\n    @AutoConfigureTestDatabase\r\n    @Rollback\r\n    public class JPACriteriaQueryTest {\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        private Category category;\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void givenFirstAndLastName_whenGettingListOfUsers_thenCorrect() {\r\n            Category category=new Category();\r\n            category.id(&quot;10&quot;);\r\n            category.setDeptId(&quot;21031&quot;);\r\n            category.repType(&quot;7&quot;);\r\n            category.save(category);\r\n    \r\n    }}\r\n\r\n\r\nsave method over here is throwing exception \r\n\r\n\r\n    org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\r\n    \tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\r\n    \tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\r\n    \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:956)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:327)\r\n    \tat org.hibernate.loader.Loader.loadEntity(Loader.java:2440)\r\n            \r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CATEGORY&quot; not found (this database is empty); SQL statement:\r\n\r\nI have checked my entity and there is no usage of any reserved `SQL` keyword.\r\n\r\nCan anyone, please, help on this.","title":"Spring Boot H2 db for testing throws &quot;Table not found(this database is empty)&quot; and &quot;SQLGrammarException&quot;","body":"<p>I'm trying to write <code>JUnit</code> using embedded <code>h2</code> in memory <code>db</code>. We are using <code>MS SQL</code> for live connection.</p>\n<p>Below are the files.</p>\n<p><em>application.properties</em>:</p>\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.user=sa\nspring.datasource.password=\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=true;MODE=MySQL\nspring.h2.console.enabled=true\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n<p><em>test class</em>:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {SqlServerConfig.class },loader = AnnotationConfigContextLoader.class)\n@Transactional\n@AutoConfigureTestDatabase\n@Rollback\npublic class JPACriteriaQueryTest {\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    private Category category;\n\n\n\n    @Test\n    public void givenFirstAndLastName_whenGettingListOfUsers_thenCorrect() {\n        Category category=new Category();\n        category.id(&quot;10&quot;);\n        category.setDeptId(&quot;21031&quot;);\n        category.repType(&quot;7&quot;);\n        category.save(category);\n\n}}\n</code></pre>\n<p>save method over here is throwing exception</p>\n<pre><code>org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2122)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2059)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:956)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:327)\n    at org.hibernate.loader.Loader.loadEntity(Loader.java:2440)\n        \nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;CATEGORY&quot; not found (this database is empty); SQL statement:\n</code></pre>\n<p>I have checked my entity and there is no usage of any reserved <code>SQL</code> keyword.</p>\n<p>Can anyone, please, help on this.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1682081562,"post_id":76073296,"comment_id":134163765,"body_markdown":"You want to create multiple schools? Grouped by students? So ... `.groupBy`?","body":"You want to create multiple schools? Grouped by students? So ... <code>.groupBy</code>?"},{"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"score":0,"creation_date":1682081624,"post_id":76073296,"comment_id":134163778,"body_markdown":"I want to create just one school object finally","body":"I want to create just one school object finally"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1682083960,"post_id":76073296,"comment_id":134164356,"body_markdown":"Just an aside: I think code readability is more important/useful than avoiding that `forEach`.","body":"Just an aside: I think code readability is more important/useful than avoiding that <code>forEach</code>."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1682084800,"post_id":76073296,"comment_id":134164563,"body_markdown":"I think what you want is a collect, not a reduce.","body":"I think what you want is a collect, not a reduce."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1682085070,"post_id":76073296,"comment_id":134164647,"body_markdown":"Create the filtered list and then do `MySchool.getStudents().addAll(theFilteredList);` What am I missing?","body":"Create the filtered list and then do <code>MySchool.getStudents().addAll(theFilteredList);</code> What am I missing?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1682086567,"post_id":76073296,"comment_id":134165038,"body_markdown":"Not exactly related, but keeping count in instance variable `studentCount` is unnecessary complication. You can always get the count using `this.students.size()`.","body":"Not exactly related, but keeping count in instance variable <code>studentCount</code> is unnecessary complication. You can always get the count using <code>this.students.size()</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1682332741,"post_id":76073296,"comment_id":134193054,"body_markdown":"@Chaosfire indeed and even if the OP insists on maintaing the redundant counter, the `addStudent` method should take care to increment the counter, instead of relying on the caller to always perform matching `addStudent` and `addStudentCount` calls.","body":"@Chaosfire indeed and even if the OP insists on maintaing the redundant counter, the <code>addStudent</code> method should take care to increment the counter, instead of relying on the caller to always perform matching <code>addStudent</code> and <code>addStudentCount</code> calls."}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682085572,"creation_date":1682085572,"answer_id":76073907,"question_id":76073296,"body_markdown":"**DISCLAIMER**: I&#39;d not use this method in production code. I&#39;d favor readability and maintainability over anything else. Use with caution.\r\n\r\nI&#39;d also look at the design of the MySchool class to make it more flexible for example. It can for example accept a `Stream` or a `List` in its constructor.\r\n\r\n---\r\n\r\n\r\nYou can use a `Collector` for this. It only creates an intermediary `List`.\r\n\r\n```java\r\npublic static class MySchoolCollector implements Collector&lt;Student, List&lt;Student&gt;, MySchool&gt; {\r\n\r\n    private static final MySchoolCollector INSTANCE = new MySchoolCollector();\r\n\r\n    @Override\r\n    public Supplier&lt;List&lt;Student&gt;&gt; supplier() {\r\n        return ArrayList::new;\r\n    }\r\n\r\n    @Override\r\n    public BiConsumer&lt;List&lt;Student&gt;, Student&gt; accumulator() {\r\n        return List::add;\r\n    }\r\n\r\n    @Override\r\n    public BinaryOperator&lt;List&lt;Student&gt;&gt; combiner() {\r\n        return (l1, l2) -&gt; {\r\n            l1.addAll(l2);\r\n            return l1;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Function&lt;List&lt;Student&gt;, MySchool&gt; finisher() {\r\n        return studentsList -&gt; {\r\n            MySchool mySchool = new MySchool();\r\n            studentsList.forEach(mySchool::addStudent);\r\n            studentsList.forEach(student -&gt; mySchool.addStudentCount());\r\n            return mySchool;\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Set.of(UNORDERED);\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhich you can use like this\r\n\r\n```\r\nMySchool school = students.stream()\r\n        .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n        .collect(MySchoolCollector.INSTANCE);\r\n\r\nSystem.out.println(school);\r\n```","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p><strong>DISCLAIMER</strong>: I'd not use this method in production code. I'd favor readability and maintainability over anything else. Use with caution.</p>\n<p>I'd also look at the design of the MySchool class to make it more flexible for example. It can for example accept a <code>Stream</code> or a <code>List</code> in its constructor.</p>\n<hr />\n<p>You can use a <code>Collector</code> for this. It only creates an intermediary <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class MySchoolCollector implements Collector&lt;Student, List&lt;Student&gt;, MySchool&gt; {\n\n    private static final MySchoolCollector INSTANCE = new MySchoolCollector();\n\n    @Override\n    public Supplier&lt;List&lt;Student&gt;&gt; supplier() {\n        return ArrayList::new;\n    }\n\n    @Override\n    public BiConsumer&lt;List&lt;Student&gt;, Student&gt; accumulator() {\n        return List::add;\n    }\n\n    @Override\n    public BinaryOperator&lt;List&lt;Student&gt;&gt; combiner() {\n        return (l1, l2) -&gt; {\n            l1.addAll(l2);\n            return l1;\n        };\n    }\n\n    @Override\n    public Function&lt;List&lt;Student&gt;, MySchool&gt; finisher() {\n        return studentsList -&gt; {\n            MySchool mySchool = new MySchool();\n            studentsList.forEach(mySchool::addStudent);\n            studentsList.forEach(student -&gt; mySchool.addStudentCount());\n            return mySchool;\n        };\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Set.of(UNORDERED);\n    }\n}\n</code></pre>\n<p>Which you can use like this</p>\n<pre><code>MySchool school = students.stream()\n        .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n        .collect(MySchoolCollector.INSTANCE);\n\nSystem.out.println(school);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682686548,"creation_date":1682686548,"answer_id":76129802,"question_id":76073296,"body_markdown":"I was able to achieve this by using [`Collectors.teeing()`][1] API\r\n\r\n```java\r\nMySchool mySchool = allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .collect(\r\n                        Collectors.teeing(\r\n                                Collectors.toList(),\r\n                                Collectors.counting(),\r\n                                mySchool()\r\n                        ));\r\n```\r\n\r\nAnd this is my Merger Bi-Function\r\n\r\n```java\r\nprivate BiFunction&lt;List&lt;Student&gt;, Long, MySchool&gt; mySchool() {\r\n\r\n        return (students, count) -&gt; {\r\n            var mySchool = new MySchool();\r\n            mySchool.addAllStudents(students);\r\n            mySchool.addStudentCount(count.intValue());\r\n            return mySchool;\r\n        };\r\n    }\r\n```\r\n\r\nTeeing is where I get two inputs and giving a merger function will merge and give back the desired result.\r\n\r\nAbsolutely excellent !!\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p>I was able to achieve this by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing()</code></a> API</p>\n<pre class=\"lang-java prettyprint-override\"><code>MySchool mySchool = allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .collect(\n                        Collectors.teeing(\n                                Collectors.toList(),\n                                Collectors.counting(),\n                                mySchool()\n                        ));\n</code></pre>\n<p>And this is my Merger Bi-Function</p>\n<pre class=\"lang-java prettyprint-override\"><code>private BiFunction&lt;List&lt;Student&gt;, Long, MySchool&gt; mySchool() {\n\n        return (students, count) -&gt; {\n            var mySchool = new MySchool();\n            mySchool.addAllStudents(students);\n            mySchool.addStudentCount(count.intValue());\n            return mySchool;\n        };\n    }\n</code></pre>\n<p>Teeing is where I get two inputs and giving a merger function will merge and give back the desired result.</p>\n<p>Absolutely excellent !!</p>\n"}],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76129802,"answer_count":2,"score":1,"last_activity_date":1682686548,"creation_date":1682081083,"question_id":76073296,"body_markdown":"I want to create an aggregate object after streaming a collection of incoming object. But what I want is to not create a reference outside the stream and mutate that object &quot;explicitly&quot;. \r\n\r\nLet&#39;s take this scenario. I get a list of students. I want to stream the list and collect only certain elements and form a aggregate object named `MySchool`\r\n\r\n```java\r\npublic record Student(String name, String section, String schoolName) {\r\n}\r\n\r\nList&lt;Student&gt; students =\r\n\r\n                List.of(\r\n                        new Student(&quot;John&quot;, &quot;2&quot;, &quot;Holy school&quot;),\r\n                        new Student(&quot;Raghav&quot;, &quot;8&quot;, &quot;California school&quot;),\r\n                        new Student(&quot;Prem&quot;, &quot;5&quot;, &quot;Holy school&quot;),\r\n                        new Student(&quot;Peter&quot;, &quot;7&quot;, &quot;California school&quot;),\r\n                        new Student(&quot;Akbar&quot;, &quot;9&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Ashok&quot;, &quot;6&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Arun&quot;, &quot;4&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;Ram&quot;, &quot;2&quot;, &quot;Arun school&quot;),\r\n                        new Student(&quot;James&quot;, &quot;2&quot;, &quot;California school&quot;)\r\n                );\r\n\r\npublic class MySchool {\r\n\r\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\r\n\r\n    private int studentCount = 0;\r\n\r\n    public MySchool addStudent(Student student) {\r\n        this.students.add(student);\r\n        return this;\r\n    }\r\n\r\n    public List&lt;Student&gt; getStudents () {\r\n        return this.students;\r\n    }\r\n\r\n    public void addStudentCount() {\r\n        this.studentCount++;\r\n    }\r\n\r\n    public int getStudentCount() {\r\n        return this.studentCount;\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n**I don&#39;t want to do like below, where I mutate an external reference**\r\n\r\n```java\r\npublic void getMySchoolData(List&lt;Student&gt; allStudents) {\r\n\r\n        MySchool mySchool = new MySchool();\r\n\r\n        allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .forEach(student -&gt; {\r\n                    mySchool.addStudent(student);\r\n                    mySchool.addStudentCount();\r\n                });\r\n\r\n\r\n        System.out.println(mySchool);\r\n```\r\n\r\nTo avoid doing like above, I used `reduce()` method of streams, but I ended up creating lot of `MySchool` objects\r\n\r\n```java\r\npublic void getMySchoolData1(List&lt;Student&gt; allStudents) {\r\n        Optional&lt;MySchool&gt; mySchool = allStudents.stream()\r\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\r\n                .map(this::addStudentsToSchool)\r\n                .reduce((mySchool1, mySchool2) -&gt; {\r\n                    mySchool1.combineMySchool(mySchool2);\r\n                    return mySchool1;\r\n                });\r\n\r\n        var sss = mySchool.get();\r\n\r\n        System.out.println(sss);\r\n\r\n    }\r\n\r\n\r\nprivate MySchool addStudentsToSchool(Student student) {\r\n\r\n        var mySchool = new MySchool();\r\n        mySchool.addStudent(student);\r\n        mySchool.addStudentCount();\r\n\r\n        return mySchool;\r\n    }\r\n\r\n// added this method to MySchool class\r\n\r\npublic void combineMySchool (MySchool otherSchoolObject) {\r\n        this.studentCount+= otherSchoolObject.getStudentCount();\r\n        this.students.addAll(otherSchoolObject.getStudents());\r\n\r\n    }\r\n```\r\n\r\nAs you can clearly see, I am able to successfully avoid external mutation after using `reduce()`, but I end up creating multiple objects and finally combine them and reduce\r\n\r\nIs there anyway where I can avoid multiple object creation, rather just create one object and have streams fill that for me and give back ? \r\n","title":"Reduce a stream to single object without multiple object creation and explicit mutation","body":"<p>I want to create an aggregate object after streaming a collection of incoming object. But what I want is to not create a reference outside the stream and mutate that object &quot;explicitly&quot;.</p>\n<p>Let's take this scenario. I get a list of students. I want to stream the list and collect only certain elements and form a aggregate object named <code>MySchool</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Student(String name, String section, String schoolName) {\n}\n\nList&lt;Student&gt; students =\n\n                List.of(\n                        new Student(&quot;John&quot;, &quot;2&quot;, &quot;Holy school&quot;),\n                        new Student(&quot;Raghav&quot;, &quot;8&quot;, &quot;California school&quot;),\n                        new Student(&quot;Prem&quot;, &quot;5&quot;, &quot;Holy school&quot;),\n                        new Student(&quot;Peter&quot;, &quot;7&quot;, &quot;California school&quot;),\n                        new Student(&quot;Akbar&quot;, &quot;9&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Ashok&quot;, &quot;6&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Arun&quot;, &quot;4&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;Ram&quot;, &quot;2&quot;, &quot;Arun school&quot;),\n                        new Student(&quot;James&quot;, &quot;2&quot;, &quot;California school&quot;)\n                );\n\npublic class MySchool {\n\n    private List&lt;Student&gt; students = new ArrayList&lt;Student&gt;();\n\n    private int studentCount = 0;\n\n    public MySchool addStudent(Student student) {\n        this.students.add(student);\n        return this;\n    }\n\n    public List&lt;Student&gt; getStudents () {\n        return this.students;\n    }\n\n    public void addStudentCount() {\n        this.studentCount++;\n    }\n\n    public int getStudentCount() {\n        return this.studentCount;\n    }\n\n    \n}\n</code></pre>\n<p><strong>I don't want to do like below, where I mutate an external reference</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getMySchoolData(List&lt;Student&gt; allStudents) {\n\n        MySchool mySchool = new MySchool();\n\n        allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .forEach(student -&gt; {\n                    mySchool.addStudent(student);\n                    mySchool.addStudentCount();\n                });\n\n\n        System.out.println(mySchool);\n</code></pre>\n<p>To avoid doing like above, I used <code>reduce()</code> method of streams, but I ended up creating lot of <code>MySchool</code> objects</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void getMySchoolData1(List&lt;Student&gt; allStudents) {\n        Optional&lt;MySchool&gt; mySchool = allStudents.stream()\n                .filter(student -&gt; student.schoolName().equals(&quot;Arun school&quot;))\n                .map(this::addStudentsToSchool)\n                .reduce((mySchool1, mySchool2) -&gt; {\n                    mySchool1.combineMySchool(mySchool2);\n                    return mySchool1;\n                });\n\n        var sss = mySchool.get();\n\n        System.out.println(sss);\n\n    }\n\n\nprivate MySchool addStudentsToSchool(Student student) {\n\n        var mySchool = new MySchool();\n        mySchool.addStudent(student);\n        mySchool.addStudentCount();\n\n        return mySchool;\n    }\n\n// added this method to MySchool class\n\npublic void combineMySchool (MySchool otherSchoolObject) {\n        this.studentCount+= otherSchoolObject.getStudentCount();\n        this.students.addAll(otherSchoolObject.getStudents());\n\n    }\n</code></pre>\n<p>As you can clearly see, I am able to successfully avoid external mutation after using <code>reduce()</code>, but I end up creating multiple objects and finally combine them and reduce</p>\n<p>Is there anyway where I can avoid multiple object creation, rather just create one object and have streams fill that for me and give back ?</p>\n"},{"tags":["java","android","android-studio","listview","adapter"],"answers":[{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682685413,"creation_date":1682685413,"answer_id":76129666,"question_id":76125298,"body_markdown":"You need to call `startActivity(intent)` after creating an intent to go there. You could do this with a series of if-else statements, a switch-case, or a list of destination classes. Remember that the `position` index starts at 0.\r\n\r\n```java\r\nIntent intent = null;\r\nif( position == 0 ) {\r\n    intent = new Intent(MainActivity.this, Foo.class);\r\n}\r\nelse if( position == 1 ) {\r\n    intent = new Intent(MainActivity.this, Bar.class);\r\n}\r\n\r\nif( intent != null ) {\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n```java\r\nIntent intent = null;\r\nswitch(position) {\r\n    case 0:\r\n        intent = new Intent(MainActivity.this, Foo.class);\r\n        break;\r\n    case 1:\r\n        intent = new Intent(MainActivity.this, Bar.class);\r\n        break;\r\n}\r\n\r\nif( intent != null ) {\r\n    startActivity(intent);\r\n}\r\n```\r\n\r\n```java\r\nList&lt;Class&lt;?&gt;&gt; destinations = Arrays.asList(\r\n    Foo.class, \r\n    Bar.class\r\n);\r\n\r\nif( position &lt; destinations.size() ) {\r\n    Intent i = new Intent(MainActivity.this, destinations.get(0));\r\n    startActivity(i);\r\n}\r\n```","title":"New activity with ListView and adapter","body":"<p>You need to call <code>startActivity(intent)</code> after creating an intent to go there. You could do this with a series of if-else statements, a switch-case, or a list of destination classes. Remember that the <code>position</code> index starts at 0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = null;\nif( position == 0 ) {\n    intent = new Intent(MainActivity.this, Foo.class);\n}\nelse if( position == 1 ) {\n    intent = new Intent(MainActivity.this, Bar.class);\n}\n\nif( intent != null ) {\n    startActivity(intent);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = null;\nswitch(position) {\n    case 0:\n        intent = new Intent(MainActivity.this, Foo.class);\n        break;\n    case 1:\n        intent = new Intent(MainActivity.this, Bar.class);\n        break;\n}\n\nif( intent != null ) {\n    startActivity(intent);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Class&lt;?&gt;&gt; destinations = Arrays.asList(\n    Foo.class, \n    Bar.class\n);\n\nif( position &lt; destinations.size() ) {\n    Intent i = new Intent(MainActivity.this, destinations.get(0));\n    startActivity(i);\n}\n</code></pre>\n"}],"owner":{"account_id":25873542,"reputation":1,"user_id":19604011,"display_name":"Patrick Kossik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682685413,"creation_date":1682638306,"question_id":76125298,"body_markdown":"So, I want to start a new activity every time a person clicks on a child from the listView, but I don&#39;t know how. Firstly, I created string\r\n```\r\n&lt;string-array name=&quot;title&quot;&gt;\r\n        &lt;item&gt;eeeeee &lt;/item&gt;\r\n        &lt;item&gt;wwwww &lt;/item&gt;\r\n        &lt;item&gt;qqqqq &lt;/item&gt;\r\n        &lt;item&gt;aaaaa &lt;/item&gt;\r\n        &lt;item&gt;nnnnn &lt;/item&gt;\r\n        &lt;item&gt;ccccc &lt;/item&gt;\r\n        \r\n\r\n\r\n    &lt;/string-array&gt;\r\n```\r\n\r\nAfter that I created one layout for the list, and one layout for the appearance of items in the listview.\r\nI created an adapter, that looks like this : \r\n\r\n```\r\npublic class InformatiiAdapter extends BaseAdapter {\r\n    Informatii informatii;\r\n    String[] title;\r\n    Animation animation;\r\n\r\n    public InformatiiAdapter(Informatii informatii, String[] title) {\r\n        this.informatii = informatii;\r\n        this.title = title;\r\n    }\r\n    public static int getRandom(int max)\r\n    {\r\n        return (int )(Math.random()*max);\r\n    }\r\n    @Override\r\n    public int getCount() {\r\n        return title.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        convertView= LayoutInflater.from(informatii).inflate(R.layout.new_item_layout, parent, false);\r\n        animation= AnimationUtils.loadAnimation(informatii, R.anim.animation1);\r\n        TextView textView;\r\n        LinearLayout ll_bg;\r\n        ll_bg=convertView.findViewById(R.id.ll_bg);\r\n        textView=convertView.findViewById(R.id.textView);\r\n        int number=getRandom(8);\r\n        if(number==1)\r\n        {\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\r\n        } else if(number==2){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_2));\r\n        } else if(number==3){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_3));\r\n        } else if(number==4){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_4));\r\n        } else if(number==5){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_5));\r\n        } else if(number==6){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_6));\r\n        } else if(number==7){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_7));\r\n        } else if(number==8){\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_8));\r\n        } else {\r\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\r\n        }\r\n\r\n        textView.setText(title[position]);\r\n        textView.setAnimation(animation);\r\n        return convertView;\r\n    }\r\n}\r\n\r\n```\r\nAnd a mainactivity like this : \r\n\r\n```\r\npublic class Informatii extends AppCompatActivity {\r\n    ListView listView;\r\n    Animation animation;\r\n    String[] title;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_informatii);\r\n        getSupportActionBar().setTitle(&quot;Informa»õii anxietate&quot;);\r\n\r\n        listView=findViewById(R.id.list_view);\r\n        title=getResources().getStringArray(R.array.title);\r\n        InformatiiAdapter adapter=new InformatiiAdapter(Informatii.this, title);\r\n        animation= AnimationUtils.loadAnimation(this,R.anim.animation1);\r\n        listView.setAdapter(adapter);\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                if(position==1){\r\n                    Intent intent= new Intent(Informatii.this, Anxietate.class);\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nAs you see, I tried at onItemClick something like if position of the array is 1 , to go to another class, I will have 6-7 childs in the listview and I want to start a new activity for each one.","title":"New activity with ListView and adapter","body":"<p>So, I want to start a new activity every time a person clicks on a child from the listView, but I don't know how. Firstly, I created string</p>\n<pre><code>&lt;string-array name=&quot;title&quot;&gt;\n        &lt;item&gt;eeeeee &lt;/item&gt;\n        &lt;item&gt;wwwww &lt;/item&gt;\n        &lt;item&gt;qqqqq &lt;/item&gt;\n        &lt;item&gt;aaaaa &lt;/item&gt;\n        &lt;item&gt;nnnnn &lt;/item&gt;\n        &lt;item&gt;ccccc &lt;/item&gt;\n        \n\n\n    &lt;/string-array&gt;\n</code></pre>\n<p>After that I created one layout for the list, and one layout for the appearance of items in the listview.\nI created an adapter, that looks like this :</p>\n<pre><code>public class InformatiiAdapter extends BaseAdapter {\n    Informatii informatii;\n    String[] title;\n    Animation animation;\n\n    public InformatiiAdapter(Informatii informatii, String[] title) {\n        this.informatii = informatii;\n        this.title = title;\n    }\n    public static int getRandom(int max)\n    {\n        return (int )(Math.random()*max);\n    }\n    @Override\n    public int getCount() {\n        return title.length;\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return position;\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        convertView= LayoutInflater.from(informatii).inflate(R.layout.new_item_layout, parent, false);\n        animation= AnimationUtils.loadAnimation(informatii, R.anim.animation1);\n        TextView textView;\n        LinearLayout ll_bg;\n        ll_bg=convertView.findViewById(R.id.ll_bg);\n        textView=convertView.findViewById(R.id.textView);\n        int number=getRandom(8);\n        if(number==1)\n        {\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\n        } else if(number==2){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_2));\n        } else if(number==3){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_3));\n        } else if(number==4){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_4));\n        } else if(number==5){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_5));\n        } else if(number==6){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_6));\n        } else if(number==7){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_7));\n        } else if(number==8){\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_8));\n        } else {\n            ll_bg.setBackground(ContextCompat.getDrawable(informatii,R.drawable.gradient_1));\n        }\n\n        textView.setText(title[position]);\n        textView.setAnimation(animation);\n        return convertView;\n    }\n}\n\n</code></pre>\n<p>And a mainactivity like this :</p>\n<pre><code>public class Informatii extends AppCompatActivity {\n    ListView listView;\n    Animation animation;\n    String[] title;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_informatii);\n        getSupportActionBar().setTitle(&quot;Informa»õii anxietate&quot;);\n\n        listView=findViewById(R.id.list_view);\n        title=getResources().getStringArray(R.array.title);\n        InformatiiAdapter adapter=new InformatiiAdapter(Informatii.this, title);\n        animation= AnimationUtils.loadAnimation(this,R.anim.animation1);\n        listView.setAdapter(adapter);\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                if(position==1){\n                    Intent intent= new Intent(Informatii.this, Anxietate.class);\n                }\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>As you see, I tried at onItemClick something like if position of the array is 1 , to go to another class, I will have 6-7 childs in the listview and I want to start a new activity for each one.</p>\n"},{"tags":["java","maven","directory","jar"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1682686148,"post_id":76129658,"comment_id":134258782,"body_markdown":"You cannot write to resources in a JAR. You need to use a directory outside the resources to store the data of your game.","body":"You cannot write to resources in a JAR. You need to use a directory outside the resources to store the data of your game."},{"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"score":0,"creation_date":1682689093,"post_id":76129658,"comment_id":134259464,"body_markdown":"Have you tried using java.nio.file.DirectoryStream to load the files within jar as suggested in one of the below reference answers https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file","body":"Have you tried using java.nio.file.DirectoryStream to load the files within jar as suggested in one of the below reference answers <a href=\"https://stackoverflow.com/questions/11012819/how-can-i-access-a-folder-inside-of-a-resource-folder-from-inside-my-jar-file\" title=\"how can i access a folder inside of a resource folder from inside my jar file\">stackoverflow.com/questions/11012819/&hellip;</a>"}],"owner":{"account_id":27348771,"reputation":19,"user_id":20858275,"display_name":"ASDQWERTYUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1682685376,"creation_date":1682685376,"question_id":76129658,"body_markdown":"I created a game in Java, and for the game I need to save gaming configurations in files, and all files are in resources/team/. In order to open, create and delete teams I get all filenames in this directory using listFiles() and &quot;src/main/resources/team/&quot; as directory path.\r\n\r\nThe problem is that in Intellij IDEA it works perfectly both from Main and from JAR-file, but if I try to run it in console ```java -jar Game.jar``` or open it from folder with Java, I get NullPointer from Scanner, because in directory /team/ is simply in root of JAR, without src/main. \r\n\r\n\r\nI tried to replace it with Directory Streams and some other solutions for getting filenames, but they all use File, so I still need to write &quot;src/main&quot; for it to work in IDEA. \r\nIs there any possible way to change it with relative paths for /team/ in JAR or different way to get filenames using getResourceAsStream, so I could use only this with directories in resources, without listFiles()? \r\nAlso I use Maven, I supposed, It&#39;s possible to solve it in pom.xml, but I couldnt find any information about it.","title":"How can I configure maven and directories in jar to open files and get filenames in direcotries correctly?","body":"<p>I created a game in Java, and for the game I need to save gaming configurations in files, and all files are in resources/team/. In order to open, create and delete teams I get all filenames in this directory using listFiles() and &quot;src/main/resources/team/&quot; as directory path.</p>\n<p>The problem is that in Intellij IDEA it works perfectly both from Main and from JAR-file, but if I try to run it in console <code>java -jar Game.jar</code> or open it from folder with Java, I get NullPointer from Scanner, because in directory /team/ is simply in root of JAR, without src/main.</p>\n<p>I tried to replace it with Directory Streams and some other solutions for getting filenames, but they all use File, so I still need to write &quot;src/main&quot; for it to work in IDEA.\nIs there any possible way to change it with relative paths for /team/ in JAR or different way to get filenames using getResourceAsStream, so I could use only this with directories in resources, without listFiles()?\nAlso I use Maven, I supposed, It's possible to solve it in pom.xml, but I couldnt find any information about it.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1682684653,"post_id":76127994,"comment_id":134258393,"body_markdown":"Your stacktrace shows you&#39;re using Junit. Please show all code as a [mcve] along with your Gradle dependencies","body":"Your stacktrace shows you&#39;re using Junit. Please show all code as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> along with your Gradle dependencies"}],"owner":{"account_id":27963688,"reputation":1,"user_id":21354969,"display_name":"redisLearner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682684707,"creation_date":1682672847,"question_id":76127994,"body_markdown":"I am reading data from s3 in the below schema:\r\n\r\n```\r\npublic static final StructType DATA_SCHEMA =  new StructType()\r\n            .add(KEY, StringType, false)\r\n            .add(DATASETS, createArrayType(StringType), true);\r\n```\r\n\r\nand converting the data into this JAVA Object:\r\n\r\n```\r\npublic class Request {\r\n    private String key;\r\n    private List&lt;Input&gt; input;\r\n}\r\n\r\npublic class Input {\r\n    private String key;\r\n    private List&lt;String&gt; datasets;\r\n}\r\n```\r\n\r\nusing the below method :\r\n\r\n```\r\npublic Request get(final Dataset&lt;Row&gt; dataset) {\r\n        final List&lt;Input&gt; result = dataset.map((MapFunction&lt;Row, Input&gt;) row -&gt; {\r\n\r\n            final String key = row.getAs(&quot;key&quot;);\r\n\r\n            List&lt;String&gt; datasets = getListFromColumnName(row, &quot;datasets&quot;);\r\n\r\n            Input input = new Input();\r\n            input(key);\r\n            input.setDatasets(datasets);\r\n            return input;\r\n        }, Encoders.bean(Input)).collectAsList();\r\n\r\n        Request request = new Request();\r\n        request.setInput(result);\r\n        request.setKey(key);\r\n\r\n        return request;\r\n    }\r\n\r\nprivate List&lt;String&gt; getListFromColumnName(final Row row, final String columnName) {\r\n        final Object datasetsObj = row.getAs(columnName);\r\n\r\n        if (datasetsObj != null) {\r\n            if (datasetsObj instanceof scala.collection.mutable.WrappedArray&lt;?&gt;) {\r\n                scala.collection.mutable.WrappedArray&lt;String&gt; wrappedArray = (scala.collection.mutable.WrappedArray&lt;String&gt;) datasetsObj;\r\n                return JavaConverters.seqAsJavaListConverter(wrappedArray).asJava();\r\n            } else if (datasetsObj instanceof List&lt;?&gt;) {\r\n                return (List&lt;String&gt;) datasetsObj;\r\n            }\r\n        }\r\n        return null;\r\n}\r\n```\r\n\r\nIm getting \r\n\r\n```\r\nTask not serializable\r\norg.apache.spark.SparkException: Task not serializable\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\r\n\tat org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\r\n\tat org.apache.spark.SparkContext.clean(SparkContext.scala:2459)\r\n\tat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\r\n\tat org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:749)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:321)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:387)\r\n\tat org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2977)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\r\n\tat org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2976)\r\n\tat RequestTransformer.get(RequestTransformer.java:32)\r\n\tat RequestTransformerTest.testGet(RequestTransformerTest.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.io.NotSerializableException: RequestTransformer\r\nSerialization stack:\r\n\t- object not serializable (class: RequestTransformer, value: RequestTransformer@69753056)\r\n\t- element of array (index: 0)\r\n\t- array (class [Ljava.lang.Object;, size 1)\r\n\t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n\t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class RequestTransformer, functionalInterfaceMethod=org/apache/spark/api/java/function/MapFunction.call:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeSpecial RequestTransformer.lambda$get$483224b0$1:(Lorg/apache/spark/sql/Row;)LInput;, instantiatedMethodType=(Lorg/apache/spark/sql/Row;)LInput;, numCaptured=1])\r\n\t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n\t- object (class RequestTransformer$$Lambda$1534/0x0000000800c2c440, RequestTransformer$$Lambda$1534/0x0000000800c2c440@4ee6cbba)\r\n\t- element of array (index: 2)\r\n\t- array (class [Ljava.lang.Object;, size 8)\r\n\t- element of array (index: 1)\r\n\t- array (class [Ljava.lang.Object;, size 3)\r\n\t- field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\r\n\t- object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\r\n\t- writeReplace data (class: java.lang.invoke.SerializedLambda)\r\n\t- object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040@6d611c54)\r\n\tat org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\r\n\tat org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\r\n\tat org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\r\n\t... 120 more\r\n```\r\n\r\nCan someone help me understand what I am doing wrong here? \r\n\r\nIm getting  `Task not serializable for converting a Scala column to JAVA list&lt;String&gt;`","title":"Caused by: java.io.NotSerializableException: when converting spark ArrayType to java List&lt;String&gt;","body":"<p>I am reading data from s3 in the below schema:</p>\n<pre><code>public static final StructType DATA_SCHEMA =  new StructType()\n            .add(KEY, StringType, false)\n            .add(DATASETS, createArrayType(StringType), true);\n</code></pre>\n<p>and converting the data into this JAVA Object:</p>\n<pre><code>public class Request {\n    private String key;\n    private List&lt;Input&gt; input;\n}\n\npublic class Input {\n    private String key;\n    private List&lt;String&gt; datasets;\n}\n</code></pre>\n<p>using the below method :</p>\n<pre><code>public Request get(final Dataset&lt;Row&gt; dataset) {\n        final List&lt;Input&gt; result = dataset.map((MapFunction&lt;Row, Input&gt;) row -&gt; {\n\n            final String key = row.getAs(&quot;key&quot;);\n\n            List&lt;String&gt; datasets = getListFromColumnName(row, &quot;datasets&quot;);\n\n            Input input = new Input();\n            input(key);\n            input.setDatasets(datasets);\n            return input;\n        }, Encoders.bean(Input)).collectAsList();\n\n        Request request = new Request();\n        request.setInput(result);\n        request.setKey(key);\n\n        return request;\n    }\n\nprivate List&lt;String&gt; getListFromColumnName(final Row row, final String columnName) {\n        final Object datasetsObj = row.getAs(columnName);\n\n        if (datasetsObj != null) {\n            if (datasetsObj instanceof scala.collection.mutable.WrappedArray&lt;?&gt;) {\n                scala.collection.mutable.WrappedArray&lt;String&gt; wrappedArray = (scala.collection.mutable.WrappedArray&lt;String&gt;) datasetsObj;\n                return JavaConverters.seqAsJavaListConverter(wrappedArray).asJava();\n            } else if (datasetsObj instanceof List&lt;?&gt;) {\n                return (List&lt;String&gt;) datasetsObj;\n            }\n        }\n        return null;\n}\n</code></pre>\n<p>Im getting</p>\n<pre><code>Task not serializable\norg.apache.spark.SparkException: Task not serializable\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:416)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:406)\n    at org.apache.spark.util.ClosureCleaner$.clean(ClosureCleaner.scala:162)\n    at org.apache.spark.SparkContext.clean(SparkContext.scala:2459)\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$1(RDD.scala:912)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:414)\n    at org.apache.spark.rdd.RDD.mapPartitionsWithIndex(RDD.scala:911)\n    at org.apache.spark.sql.execution.WholeStageCodegenExec.doExecute(WholeStageCodegenExec.scala:749)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.SparkPlan.getByteArrayRdd(SparkPlan.scala:321)\n    at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:387)\n    at org.apache.spark.sql.Dataset.collectFromPlan(Dataset.scala:3696)\n    at org.apache.spark.sql.Dataset.$anonfun$collectAsList$1(Dataset.scala:2977)\n    at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3687)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3685)\n    at org.apache.spark.sql.Dataset.collectAsList(Dataset.scala:2976)\n    at RequestTransformer.get(RequestTransformer.java:32)\n    at RequestTransformerTest.testGet(RequestTransformerTest.java:47)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.io.NotSerializableException: RequestTransformer\nSerialization stack:\n    - object not serializable (class: RequestTransformer, value: RequestTransformer@69753056)\n    - element of array (index: 0)\n    - array (class [Ljava.lang.Object;, size 1)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class RequestTransformer, functionalInterfaceMethod=org/apache/spark/api/java/function/MapFunction.call:(Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeSpecial RequestTransformer.lambda$get$483224b0$1:(Lorg/apache/spark/sql/Row;)LInput;, instantiatedMethodType=(Lorg/apache/spark/sql/Row;)LInput;, numCaptured=1])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class RequestTransformer$$Lambda$1534/0x0000000800c2c440, RequestTransformer$$Lambda$1534/0x0000000800c2c440@4ee6cbba)\n    - element of array (index: 2)\n    - array (class [Ljava.lang.Object;, size 8)\n    - element of array (index: 1)\n    - array (class [Ljava.lang.Object;, size 3)\n    - field (class: java.lang.invoke.SerializedLambda, name: capturedArgs, type: class [Ljava.lang.Object;)\n    - object (class java.lang.invoke.SerializedLambda, SerializedLambda[capturingClass=class org.apache.spark.sql.execution.WholeStageCodegenExec, functionalInterfaceMethod=scala/Function2.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;, implementation=invokeStatic org/apache/spark/sql/execution/WholeStageCodegenExec.$anonfun$doExecute$4$adapted:(Lorg/apache/spark/sql/catalyst/expressions/codegen/CodeAndComment;[Ljava/lang/Object;Lorg/apache/spark/sql/execution/metric/SQLMetric;Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, instantiatedMethodType=(Ljava/lang/Object;Lscala/collection/Iterator;)Lscala/collection/Iterator;, numCaptured=3])\n    - writeReplace data (class: java.lang.invoke.SerializedLambda)\n    - object (class org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040, org.apache.spark.sql.execution.WholeStageCodegenExec$$Lambda$1956/0x0000000800eba040@6d611c54)\n    at org.apache.spark.serializer.SerializationDebugger$.improveException(SerializationDebugger.scala:41)\n    at org.apache.spark.serializer.JavaSerializationStream.writeObject(JavaSerializer.scala:47)\n    at org.apache.spark.serializer.JavaSerializerInstance.serialize(JavaSerializer.scala:101)\n    at org.apache.spark.util.ClosureCleaner$.ensureSerializable(ClosureCleaner.scala:413)\n    ... 120 more\n</code></pre>\n<p>Can someone help me understand what I am doing wrong here?</p>\n<p>Im getting  <code>Task not serializable for converting a Scala column to JAVA list&lt;String&gt;</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1682683185,"post_id":76128738,"comment_id":134258046,"body_markdown":"Take the warning for what it is: a warning. Understand what they are saying, and realise that &quot;normally&quot; you&#39;d not do it this way. I think for what you are trying to do, this is a perfectly valid approach. A good naming convention for these related strings would be very helpful to decide on early.","body":"Take the warning for what it is: a warning. Understand what they are saying, and realise that &quot;normally&quot; you&#39;d not do it this way. I think for what you are trying to do, this is a perfectly valid approach. A good naming convention for these related strings would be very helpful to decide on early."},{"owner":{"account_id":162140,"reputation":29525,"user_id":383414,"accept_rate":85,"display_name":"Richard Le Mesurier"},"score":0,"creation_date":1682683255,"post_id":76128738,"comment_id":134258052,"body_markdown":"I would also suggest, for maintainability, that you consider moving these dynamic strings into a separate strings resource file; your normal strings in `strings.xml` and these ones in something like `recipe_details.xml`.","body":"I would also suggest, for maintainability, that you consider moving these dynamic strings into a separate strings resource file; your normal strings in <code>strings.xml</code> and these ones in something like <code>recipe_details.xml</code>."}],"answers":[{"comments":[{"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"score":0,"creation_date":1682680886,"post_id":76128824,"comment_id":134257538,"body_markdown":"I thought this works passing the ids in the intent, but there is still a problem: The recipe names are also stored in the `strings.xml`. So when I load the `RecyclerView` with the recipe names it loads it from the `strings.xml`. So I can&#39;t actually find the ids without `getIdentifier()`, and hence can&#39;t pass them in the intent.","body":"I thought this works passing the ids in the intent, but there is still a problem: The recipe names are also stored in the <code>strings.xml</code>. So when I load the <code>RecyclerView</code> with the recipe names it loads it from the <code>strings.xml</code>. So I can&#39;t actually find the ids without <code>getIdentifier()</code>, and hence can&#39;t pass them in the intent."},{"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"score":0,"creation_date":1682680935,"post_id":76128824,"comment_id":134257551,"body_markdown":"If you will attach the code of your Adapter and Activity it will help.","body":"If you will attach the code of your Adapter and Activity it will help."},{"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"score":0,"creation_date":1682685575,"post_id":76128824,"comment_id":134258637,"body_markdown":"It works and if implemented as array can actually be `O(1)` W.C to find the id so might be worth the extra coding","body":"It works and if implemented as array can actually be <code>O(1)</code> W.C to find the id so might be worth the extra coding"}],"tags":[],"owner":{"account_id":16796825,"reputation":1274,"user_id":12143126,"display_name":"Mikhail Guliaev"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682684652,"creation_date":1682678931,"answer_id":76128824,"question_id":76128738,"body_markdown":"If I correctly understood your problem, you have several options:\r\n\r\n 1. Pass all data you need on the `RecipeActivity` in Intent. Not only recipe name. Something like this:\r\n\r\n\r\n        val intent = Intent(activity, RecipeActivity::class)\r\n        intent.extras = Bundle().apply {\r\n            KEY_NAME = R.string.recipe_name\r\n            KEY_COOKING_TIME = R.string.recipe_cooking_time\r\n            ...\r\n        }\r\nIn this case you can also **create a Data class** (if you use Kotlin) which implements Parcelable, and put just this Parcelable to intent.\r\n\r\n2. Put the recipe id in Intent and create some `RecipesProvider` which will return strings by id of a recipe:\r\n\r\n        class RecipesProvider {\r\n            \r\n            fun getCookingTimeById(id: Int) {\r\n                when (id) {\r\n                    R.string.recipe_1 -&gt; return ...\r\n                    else -&gt; return ...\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        class RecipeActivity: AppCompatActivity() {\r\n\r\n            private val recipesProvider = RecipesProvider()\r\n            \r\n            override fun onCreate(bundle: Bundle?) {\r\n                ...\r\n                cookingTimeTextView.text = recipesProvider.getCookingTimeById(intent?.extras?.getInt(RECIPE_ID))\r\n            }\r\n\r\n        }\r\n\r\n\r\n**Update:**\r\nI&#39;m not sure that the approach you&#39;re using with string array is valid, because it&#39;s really confusing to lean to text which is stored there and build some logic based on these strings.\r\n\r\nWhy don&#39;t you create some class `Recipes` which will contain the list with all recipes?\r\n\r\n    object Recipes {\r\n        private val recipes = listOf(\r\n            Recipe(\r\n                name = R.string.recipe1_name,\r\n                cookingTime = R.string.recipe1_cooking_time,\r\n                .....\r\n            )\r\n        )\r\n\r\n        fun getRecipe(position: Int): Recipe {}\r\n    }\r\n\r\nAnd then you can rewrite your adapter like this:\r\n\r\n\r\n    public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\r\n        ....\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return Recipes.Companion.size();\r\n        }\r\n\r\n        private void onReceiptClick(int adapterPosition) {\r\n             Receipt receipt = Recipes.Companion.getRecipe(adapterPosition)\r\n             // Start activity with this receipt\r\n        }\r\n    }\r\n\r\n","title":"Using R.string.&lt;string-name&gt; dynamically","body":"<p>If I correctly understood your problem, you have several options:</p>\n<ol>\n<li><p>Pass all data you need on the <code>RecipeActivity</code> in Intent. Not only recipe name. Something like this:</p>\n<pre><code>val intent = Intent(activity, RecipeActivity::class)\nintent.extras = Bundle().apply {\n    KEY_NAME = R.string.recipe_name\n    KEY_COOKING_TIME = R.string.recipe_cooking_time\n    ...\n}\n</code></pre>\n</li>\n</ol>\n<p>In this case you can also <strong>create a Data class</strong> (if you use Kotlin) which implements Parcelable, and put just this Parcelable to intent.</p>\n<ol start=\"2\">\n<li><p>Put the recipe id in Intent and create some <code>RecipesProvider</code> which will return strings by id of a recipe:</p>\n<pre><code> class RecipesProvider {\n\n     fun getCookingTimeById(id: Int) {\n         when (id) {\n             R.string.recipe_1 -&gt; return ...\n             else -&gt; return ...\n         }\n     }\n\n }\n\n class RecipeActivity: AppCompatActivity() {\n\n     private val recipesProvider = RecipesProvider()\n\n     override fun onCreate(bundle: Bundle?) {\n         ...\n         cookingTimeTextView.text = recipesProvider.getCookingTimeById(intent?.extras?.getInt(RECIPE_ID))\n     }\n\n }\n</code></pre>\n</li>\n</ol>\n<p><strong>Update:</strong>\nI'm not sure that the approach you're using with string array is valid, because it's really confusing to lean to text which is stored there and build some logic based on these strings.</p>\n<p>Why don't you create some class <code>Recipes</code> which will contain the list with all recipes?</p>\n<pre><code>object Recipes {\n    private val recipes = listOf(\n        Recipe(\n            name = R.string.recipe1_name,\n            cookingTime = R.string.recipe1_cooking_time,\n            .....\n        )\n    )\n\n    fun getRecipe(position: Int): Recipe {}\n}\n</code></pre>\n<p>And then you can rewrite your adapter like this:</p>\n<pre><code>public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\n    ....\n\n    @Override\n    public int getItemCount() {\n        return Recipes.Companion.size();\n    }\n\n    private void onReceiptClick(int adapterPosition) {\n         Receipt receipt = Recipes.Companion.getRecipe(adapterPosition)\n         // Start activity with this receipt\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27469504,"reputation":23,"user_id":20958695,"display_name":"user20958695"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76128824,"answer_count":1,"score":0,"last_activity_date":1682684652,"creation_date":1682678200,"question_id":76128738,"body_markdown":"My app uses a single activity to load multiple different contents by the user choice. If the user presses `recipe1` button from a Recyclerview from the *main activity* it should start the *recipes activity* and load the details matching this specific recipe. \r\n\r\nSince I don&#39;t want to create an activity for each recipe, I need to load the details dynamically. The main activity starts the recipe activity with an intent containing the recipe name, e.g. `recipe1`, and using this data I want to load the details from my `strings.xml` file, e.g. `cooking_time_recipe1`, `ingredients_recipe1` and so on.\r\n\r\nI found the function `getIdentifier()` and it works perfectly, although Android Studio shows a warning: `\r\nUse of this function is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code. It is much more efficient to retrieve resources by identifier (e.g. R.foo.bar) than by name (e.g. getIdentifier(&quot;bar&quot;, &quot;foo&quot;, null)).`\r\n\r\nIs there any way to avoid using this function?\r\n\r\nI can write a function that recieves a recipe name and retrieves all its details&#39; names from the `string.xml`, i.e. \r\n\r\ninput: `recipe1`, output: `cooking_time_recipe1, ingredients_recipe1, ...`\r\n\r\nalthough I couldn&#39;t find a way to avoid the finding process of the id. I could manually maintain a HashMap to match strings to ids but I was thinking `getIdentifier()` is probably using a HashMap anyway, so no use to implement the same thing myself but not sure.\r\n\r\nThe adapter code (excluding the ViewHolder subclass):\r\n\r\n    public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;String&gt; recipes;\r\n\r\n    public RecipesViewPagerAdapter(Context context, ArrayList&lt;String&gt; recipes) {\r\n    this.context = context;\r\n    this.recipes = recipes;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.item_recipes_pager, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        CardTriplet currentRecipes = recipes.get(position);\r\n        holder.cardRecipe1.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 0));\r\n        if (currentRecipes.get(1) != null) {\r\n            holder.textRecipe2.setText(currentRecipes.get(1).getName());\r\n            holder.cardRecipe2.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 1));\r\n        } else {\r\n            holder.cardRecipe2.setVisibility(View.INVISIBLE);\r\n        }\r\n        if (currentRecipes.get(2) != null) {\r\n            holder.textRecipe3.setText(currentRecipes.get(2).getName());\r\n            holder.cardRecipe3.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 2));\r\n        } else {\r\n            holder.cardRecipe3.setVisibility(View.INVISIBLE);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return Recipes.size();\r\n    }\r\n    \r\n    private void onCardClick(int tripletNumber, int cardNumber) {\r\n        Card card = Recipes.get(tripletNumber).get(cardNumber);\r\n        Intent intent = new Intent(context, RecipeActivity.class);\r\n        intent.putExtra(&quot;name&quot;, card.getName());\r\n        context.startActivity(intent);\r\n        }\r\n    }\r\n\r\nAnd the main activity gets the recipes for the adapter with:\r\n\r\n    String[] recipeNames = getResources().getStringArray(R.string.recipes)\r\n\r\nAnd initializes the `ArrayList&lt;CardTriplet&gt; recipes` by looping over the `recipeNames` array and putting the values in `CardTriplet` objects\r\n\r\n\r\n","title":"Using R.string.&lt;string-name&gt; dynamically","body":"<p>My app uses a single activity to load multiple different contents by the user choice. If the user presses <code>recipe1</code> button from a Recyclerview from the <em>main activity</em> it should start the <em>recipes activity</em> and load the details matching this specific recipe.</p>\n<p>Since I don't want to create an activity for each recipe, I need to load the details dynamically. The main activity starts the recipe activity with an intent containing the recipe name, e.g. <code>recipe1</code>, and using this data I want to load the details from my <code>strings.xml</code> file, e.g. <code>cooking_time_recipe1</code>, <code>ingredients_recipe1</code> and so on.</p>\n<p>I found the function <code>getIdentifier()</code> and it works perfectly, although Android Studio shows a warning: <code> Use of this function is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code. It is much more efficient to retrieve resources by identifier (e.g. R.foo.bar) than by name (e.g. getIdentifier(&quot;bar&quot;, &quot;foo&quot;, null)).</code></p>\n<p>Is there any way to avoid using this function?</p>\n<p>I can write a function that recieves a recipe name and retrieves all its details' names from the <code>string.xml</code>, i.e.</p>\n<p>input: <code>recipe1</code>, output: <code>cooking_time_recipe1, ingredients_recipe1, ...</code></p>\n<p>although I couldn't find a way to avoid the finding process of the id. I could manually maintain a HashMap to match strings to ids but I was thinking <code>getIdentifier()</code> is probably using a HashMap anyway, so no use to implement the same thing myself but not sure.</p>\n<p>The adapter code (excluding the ViewHolder subclass):</p>\n<pre><code>public class RecipesViewPagerAdapter extends RecyclerView.Adapter&lt;RecipesViewPagerAdapter.ViewHolder&gt; {\n\nContext context;\nArrayList&lt;String&gt; recipes;\n\npublic RecipesViewPagerAdapter(Context context, ArrayList&lt;String&gt; recipes) {\nthis.context = context;\nthis.recipes = recipes;\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.item_recipes_pager, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    CardTriplet currentRecipes = recipes.get(position);\n    holder.cardRecipe1.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 0));\n    if (currentRecipes.get(1) != null) {\n        holder.textRecipe2.setText(currentRecipes.get(1).getName());\n        holder.cardRecipe2.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 1));\n    } else {\n        holder.cardRecipe2.setVisibility(View.INVISIBLE);\n    }\n    if (currentRecipes.get(2) != null) {\n        holder.textRecipe3.setText(currentRecipes.get(2).getName());\n        holder.cardRecipe3.setOnClickListener(view -&gt; onCardClick(holder.getAdapterPosition(), 2));\n    } else {\n        holder.cardRecipe3.setVisibility(View.INVISIBLE);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return Recipes.size();\n}\n\nprivate void onCardClick(int tripletNumber, int cardNumber) {\n    Card card = Recipes.get(tripletNumber).get(cardNumber);\n    Intent intent = new Intent(context, RecipeActivity.class);\n    intent.putExtra(&quot;name&quot;, card.getName());\n    context.startActivity(intent);\n    }\n}\n</code></pre>\n<p>And the main activity gets the recipes for the adapter with:</p>\n<pre><code>String[] recipeNames = getResources().getStringArray(R.string.recipes)\n</code></pre>\n<p>And initializes the <code>ArrayList&lt;CardTriplet&gt; recipes</code> by looping over the <code>recipeNames</code> array and putting the values in <code>CardTriplet</code> objects</p>\n"},{"tags":["java","sql-server","prepared-statement","always-encrypted"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684819,"post_id":76129343,"comment_id":134258438,"body_markdown":"This is by no means an answer - but if I were in your position I&#39;d try just running the insert statement (just `.execute()`, not`.addBatch()`), and commit every ~1000 inserts or so (committing too often _and_ creating too-large transactions both can be performance issues, so, split the difference, commit every 1000).","body":"This is by no means an answer - but if I were in your position I&#39;d try just running the insert statement (just <code>.execute()</code>, not<code>.addBatch()</code>), and commit every ~1000 inserts or so (committing too often <i>and</i> creating too-large transactions both can be performance issues, so, split the difference, commit every 1000)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682684822,"post_id":76129343,"comment_id":134258440,"body_markdown":"you could run each batch in own thread.","body":"you could run each batch in own thread."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684875,"post_id":76129343,"comment_id":134258456,"body_markdown":"The thing is, JDBC&#39;s various peculiarities, such as `addBatch`, exist _because_ some DB engines need code structured that way to do a thing unique to them or provide the best performance. However, that doesn&#39;t mean all JDBC drivers are _required_ to be more performant. They just need to implement it. As a consequence, sometimes just rewriting to another JDBC &#39;way&#39; solves the problem. We don&#39;t have your test setup to test any of this.","body":"The thing is, JDBC&#39;s various peculiarities, such as <code>addBatch</code>, exist <i>because</i> some DB engines need code structured that way to do a thing unique to them or provide the best performance. However, that doesn&#39;t mean all JDBC drivers are <i>required</i> to be more performant. They just need to implement it. As a consequence, sometimes just rewriting to another JDBC &#39;way&#39; solves the problem. We don&#39;t have your test setup to test any of this."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684917,"post_id":76129343,"comment_id":134258468,"body_markdown":"@siggemannen Answering &#39;my code that pretty much _just_ interacts with the DB is running slowly&#39; with: &quot;Did you try threading?&quot; is.. not appropriate advice, to say the least. That never works.","body":"@siggemannen Answering &#39;my code that pretty much <i>just</i> interacts with the DB is running slowly&#39; with: &quot;Did you try threading?&quot; is.. not appropriate advice, to say the least. That never works."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1682684935,"post_id":76129343,"comment_id":134258472,"body_markdown":"In general trying to answer performance questions with wild stabs in the dark is bad. Please don&#39;t do that.","body":"In general trying to answer performance questions with wild stabs in the dark is bad. Please don&#39;t do that."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682685088,"post_id":76129343,"comment_id":134258511,"body_markdown":"Lol, the comments ARE for wild stabs in the dark @rzwitserloot, but thanks for playing. Obviously it might help otherwise there would be no point of using multi-threaded built-in in bulk imports etc.","body":"Lol, the comments ARE for wild stabs in the dark @rzwitserloot, but thanks for playing. Obviously it might help otherwise there would be no point of using multi-threaded built-in in bulk imports etc."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1682685175,"post_id":76129343,"comment_id":134258531,"body_markdown":"@OP, another thing you can speed up your code is using raw sql + VALUES construct, batched up 1000 rows or so. The jdbc binding methods are usually always slower. Of course, i don&#39;t know if always encrypted thing supports that, but maybe rzwitserloot does","body":"@OP, another thing you can speed up your code is using raw sql + VALUES construct, batched up 1000 rows or so. The jdbc binding methods are usually always slower. Of course, i don&#39;t know if always encrypted thing supports that, but maybe rzwitserloot does"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1682690300,"post_id":76129343,"comment_id":134259792,"body_markdown":"So have you tried to race your horses using this code without Always Encrypted? I don&#39;t think it would be any/much faster because although you&#39;re sending a single batch with 1,000 insert statements it&#39;s still inserting RBAR (Row-By-Agonizing Row), not a single insert with 1,000 rows. Batching only serves to reduce communication overhead (round-tripping between client and server), it doesn&#39;t make the statements execute any faster on the server.","body":"So have you tried to race your horses using this code without Always Encrypted? I don&#39;t think it would be any/much faster because although you&#39;re sending a single batch with 1,000 insert statements it&#39;s still inserting RBAR (Row-By-Agonizing Row), not a single insert with 1,000 rows. Batching only serves to reduce communication overhead (round-tripping between client and server), it doesn&#39;t make the statements execute any faster on the server."},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1682704120,"post_id":76129343,"comment_id":134262923,"body_markdown":"I tested execute() using 1000 rows with always encrypted on it took  52 min without always encrypted 22 min \nso, using addBatch() is still better\n@siggemannen usinf spark I&#39;m already in parallel execution","body":"I tested execute() using 1000 rows with always encrypted on it took  52 min without always encrypted 22 min  so, using addBatch() is still better @siggemannen usinf spark I&#39;m already in parallel execution"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1682712478,"post_id":76129343,"comment_id":134264403,"body_markdown":"How many columns is it? And are you really in parallell? jdbcConnection.getConnection looks suspiciously like shared connection to me, but i don&#39;t know anything about spark","body":"How many columns is it? And are you really in parallell? jdbcConnection.getConnection looks suspiciously like shared connection to me, but i don&#39;t know anything about spark"},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1682789203,"post_id":76129343,"comment_id":134271767,"body_markdown":"There&#39;s 241 columns. Yes, you&#39;re right it was a shared connexion. While spark manages the parallel execution, all the process was using a single connexion. By fixing this, the execution time was improved (now about 4 min for 60K/ 44min for 1M) but still not like before.","body":"There&#39;s 241 columns. Yes, you&#39;re right it was a shared connexion. While spark manages the parallel execution, all the process was using a single connexion. By fixing this, the execution time was improved (now about 4 min for 60K/ 44min for 1M) but still not like before."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1683054422,"post_id":76129343,"comment_id":134306967,"body_markdown":"That&#39;s not bad of an improvement! But i&#39;m still not sure why you can&#39;t use bulk import: https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver16#bulk-copy-with-always-encrypted-columns","body":"That&#39;s not bad of an improvement! But i&#39;m still not sure why you can&#39;t use bulk import: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/using-bulk-copy-with-the-jdbc-driver?view=sql-server-ver16#bulk-copy-with-always-encrypted-columns\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1683116776,"post_id":76129343,"comment_id":134316691,"body_markdown":"@siggemannen I will check this again, but from what I remember this is valid only to copy from a file / table to another table.","body":"@siggemannen I will check this again, but from what I remember this is valid only to copy from a file / table to another table."},{"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"score":0,"creation_date":1683116857,"post_id":76129343,"comment_id":134316711,"body_markdown":"update : I did test the new solution in the server, the performance now it&#39;s almost like before 32min for 7M rows. \nAs a conclusion using the multiple connexion with spark (or any multi threads solution), give me a good result. I hope this will help someone and thanks all for your time and support.","body":"update : I did test the new solution in the server, the performance now it&#39;s almost like before 32min for 7M rows.  As a conclusion using the multiple connexion with spark (or any multi threads solution), give me a good result. I hope this will help someone and thanks all for your time and support."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1683118288,"post_id":76129343,"comment_id":134317052,"body_markdown":"Excellent! Glad you gave an update","body":"Excellent! Glad you gave an update"}],"owner":{"account_id":6124534,"reputation":411,"user_id":4776987,"accept_rate":25,"display_name":"M-BNCH"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682684547,"creation_date":1682683065,"question_id":76129343,"body_markdown":"I have a spring boot application, with SQL server as database. One of the services that the app offer is a function who will insert data in a table (staging database). For more clarity, I will describe the solution before and after the problem.\r\n\r\nBefore : \r\n\r\nThe injection will be done using spark bulk inject, so everything was managed by spark, I needed only to add the connexion configuration for spark. Everything was fine using this solution, the insert took about 30 min for 7M row.\r\n\r\nAfter:\r\n\r\nWe need to add the encryption for some columns (always encryption) in the table. so the bulk inject wasn&#39;t a possible solution anymore. \r\n\r\nThe new solution was to keep using spark but the insertion itself will be done using statement, the idea is to repartition the spark RDD (the data that will be inserted) in a small partition, each partition will be injected using a batch statement.\r\n\r\nFor example : \r\n\r\nI have a file with 60K rows, I want to insert 1000 each time, I will repartition the input into 6K partition and each partition will be injected in a batch.\r\n\r\nBelow the code who will manage the insertion:\r\n\r\n\r\n```\r\n    @Override\r\n    public void call(Iterator&lt;String&gt; partition) {\r\n\r\n        try {\r\n            PreparedStatement preparedStatement = jdbcConnection.getConnection().prepareStatement(compiledQuery.toString());\r\n            jdbcConnection.getConnection().setAutoCommit(false);\r\n            long start = System.currentTimeMillis();\r\n            while (partition.hasNext()) {\r\n\r\n                String row = partition.next();\r\n                Object[] rowValidated = controlRow(row);\r\n\r\n                for (int index = 0; index &lt; rowValidated.length; index++) {\r\n\r\n                    PremiumTableFormat refColumn = getElementByIndexFromFixedSchema(index);\r\n                    if (refColumn.isEncrypted()) {\r\n\r\n                        if (!refColumn.getType().equalsIgnoreCase(&quot;date&quot;)) {\r\n                            preparedStatement.setObject(index + 1, rowValidated[index], java.sql.Types.NVARCHAR, 264);\r\n                        } else {\r\n                            preparedStatement.setDate(index + 1, (Date) rowValidated[index]);\r\n                        }\r\n                    } else {\r\n                        preparedStatement.setObject(index + 1, rowValidated[index]);\r\n                    }\r\n                }\r\n                preparedStatement.addBatch();\r\n            }\r\n            long end = System.currentTimeMillis();\r\n            log.info(&quot;prepare batch data take = &quot; + ((end - start)) + &quot; ms&quot;);\r\n\r\n            start = System.currentTimeMillis();\r\n            preparedStatement.executeBatch();\r\n            jdbcConnection.getConnection().commit();\r\n            preparedStatement.clearBatch();\r\n            end = System.currentTimeMillis();\r\n            log.info(&quot;total time taken to insert the batch = &quot; + ((end - start)) + &quot; ms&quot;);\r\n\r\n        } catch (SQLServerException e) {\r\n            e.printStackTrace();\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe problem is the executeBatch() take too much time, 30min for 60K rows.\r\n\r\nI used different batch size, 10, 50, 10, 1000 and 5000 row the small number work better but still slow (best time 28 min for 60K using 50 rows)\r\n\r\nPlease note :\r\n - controlRow (row) don&#39;t take too much 20ms for each partition with 1000 rows. \r\n - When the connection string doesn&#39;t contain always encrypted params, the insert is better (4.7 min) \r\n - connexion string with always encytpted ``` &quot;jdbc:sqlserver://&quot; + parameters.server + &quot;;encrypt=true;databaseName=&quot; + parameters.getDatabase() + &quot;;encrypt=true;trustServerCertificate=true;columnEncryptionSetting=Enabled;&quot; ```\r\n\r\n\r\nDo you think that something is missing or not in the corrected way?\r\n\r\n\r\nThank you in adavnce.\r\n","title":"inserting is very slow using statement when always encrypted is on","body":"<p>I have a spring boot application, with SQL server as database. One of the services that the app offer is a function who will insert data in a table (staging database). For more clarity, I will describe the solution before and after the problem.</p>\n<p>Before :</p>\n<p>The injection will be done using spark bulk inject, so everything was managed by spark, I needed only to add the connexion configuration for spark. Everything was fine using this solution, the insert took about 30 min for 7M row.</p>\n<p>After:</p>\n<p>We need to add the encryption for some columns (always encryption) in the table. so the bulk inject wasn't a possible solution anymore.</p>\n<p>The new solution was to keep using spark but the insertion itself will be done using statement, the idea is to repartition the spark RDD (the data that will be inserted) in a small partition, each partition will be injected using a batch statement.</p>\n<p>For example :</p>\n<p>I have a file with 60K rows, I want to insert 1000 each time, I will repartition the input into 6K partition and each partition will be injected in a batch.</p>\n<p>Below the code who will manage the insertion:</p>\n<pre><code>    @Override\n    public void call(Iterator&lt;String&gt; partition) {\n\n        try {\n            PreparedStatement preparedStatement = jdbcConnection.getConnection().prepareStatement(compiledQuery.toString());\n            jdbcConnection.getConnection().setAutoCommit(false);\n            long start = System.currentTimeMillis();\n            while (partition.hasNext()) {\n\n                String row = partition.next();\n                Object[] rowValidated = controlRow(row);\n\n                for (int index = 0; index &lt; rowValidated.length; index++) {\n\n                    PremiumTableFormat refColumn = getElementByIndexFromFixedSchema(index);\n                    if (refColumn.isEncrypted()) {\n\n                        if (!refColumn.getType().equalsIgnoreCase(&quot;date&quot;)) {\n                            preparedStatement.setObject(index + 1, rowValidated[index], java.sql.Types.NVARCHAR, 264);\n                        } else {\n                            preparedStatement.setDate(index + 1, (Date) rowValidated[index]);\n                        }\n                    } else {\n                        preparedStatement.setObject(index + 1, rowValidated[index]);\n                    }\n                }\n                preparedStatement.addBatch();\n            }\n            long end = System.currentTimeMillis();\n            log.info(&quot;prepare batch data take = &quot; + ((end - start)) + &quot; ms&quot;);\n\n            start = System.currentTimeMillis();\n            preparedStatement.executeBatch();\n            jdbcConnection.getConnection().commit();\n            preparedStatement.clearBatch();\n            end = System.currentTimeMillis();\n            log.info(&quot;total time taken to insert the batch = &quot; + ((end - start)) + &quot; ms&quot;);\n\n        } catch (SQLServerException e) {\n            e.printStackTrace();\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n</code></pre>\n<p>The problem is the executeBatch() take too much time, 30min for 60K rows.</p>\n<p>I used different batch size, 10, 50, 10, 1000 and 5000 row the small number work better but still slow (best time 28 min for 60K using 50 rows)</p>\n<p>Please note :</p>\n<ul>\n<li>controlRow (row) don't take too much 20ms for each partition with 1000 rows.</li>\n<li>When the connection string doesn't contain always encrypted params, the insert is better (4.7 min)</li>\n<li>connexion string with always encytpted <code>&quot;jdbc:sqlserver://&quot; + parameters.server + &quot;;encrypt=true;databaseName=&quot; + parameters.getDatabase() + &quot;;encrypt=true;trustServerCertificate=true;columnEncryptionSetting=Enabled;&quot;</code></li>\n</ul>\n<p>Do you think that something is missing or not in the corrected way?</p>\n<p>Thank you in adavnce.</p>\n"},{"tags":["java","unit-testing","junit","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682669345,"creation_date":1682669345,"answer_id":76127507,"question_id":76124016,"body_markdown":"I suggest you use a `@MethodSource` to wrap your constant:\r\n\r\n```java\r\nprivate static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\nstatic List&lt;String&gt; myParameters() {\r\n    return Arrays.asList(myParameters);\r\n}\r\n\r\n@ParameterizedTest\r\n@MethodSource(&quot;myParameters&quot;)\r\npublic void myTestWithMethodSource(String param) {\r\n    System.out.println(param);\r\n}\r\n```\r\n","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I suggest you use a <code>@MethodSource</code> to wrap your constant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n\nstatic List&lt;String&gt; myParameters() {\n    return Arrays.asList(myParameters);\n}\n\n@ParameterizedTest\n@MethodSource(&quot;myParameters&quot;)\npublic void myTestWithMethodSource(String param) {\n    System.out.println(param);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1682683161,"post_id":76127687,"comment_id":134258041,"body_markdown":"Dynamic tests come with a few disadvantages. Most importantly they do not follow Jupiter&#39;s standard lifecycle (eg BeforeEach, AfterEach) whereas parameterized tests do. Moreover, you&#39;ll have to come up with your own naming mechanism; in paramterized tests you can use Jupiter&#39;s standard display name policies and generators.","body":"Dynamic tests come with a few disadvantages. Most importantly they do not follow Jupiter&#39;s standard lifecycle (eg BeforeEach, AfterEach) whereas parameterized tests do. Moreover, you&#39;ll have to come up with your own naming mechanism; in paramterized tests you can use Jupiter&#39;s standard display name policies and generators."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682670490,"creation_date":1682670490,"answer_id":76127687,"question_id":76124016,"body_markdown":"I am not sure if you can achieve this with `@ValueSource`, but it can be done with `@MethodSource` and `DynamicTests` for sure: \r\n\r\n```java\r\n@ParameterizedTest\r\n@MethodSource(&quot;myParameters&quot;)\r\npublic void myTest(String param) {\r\n\tSystem.out.println(param);\r\n\r\n}\r\n\r\nStream&lt;String&gt; myParameters() {\r\n\treturn Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n}\r\n```\r\nAlternatively, this is how you&#39;d do it with Dynamic tests. It is a cool feature of junit5 that allows you to dynamically create unit tests:\r\n\r\n\r\n    static Stream&lt;String&gt; myParameters() {\r\n\t\treturn Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n\t}\r\n\r\n\t@TestFactory\r\n\tStream&lt;DynamicTest&gt; myTests() {\r\n\t\treturn myParameters()\r\n            .map(p -&gt; DynamicTest.dynamicTest(\r\n                 &quot;testing for: &quot; + p, \r\n                  () -&gt; myTest(p)\r\n            ));\r\n\t}\r\n\r\n\tvoid myTest(String param) {\r\n\t\tSystem.out.println(param);\r\n\t\tassertEquals(1, param.length());\r\n\t}\r\n\r\nif you find this interesting, read more about it here:  https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I am not sure if you can achieve this with <code>@ValueSource</code>, but it can be done with <code>@MethodSource</code> and <code>DynamicTests</code> for sure:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ParameterizedTest\n@MethodSource(&quot;myParameters&quot;)\npublic void myTest(String param) {\n    System.out.println(param);\n\n}\n\nStream&lt;String&gt; myParameters() {\n    return Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n}\n</code></pre>\n<p>Alternatively, this is how you'd do it with Dynamic tests. It is a cool feature of junit5 that allows you to dynamically create unit tests:</p>\n<pre><code>static Stream&lt;String&gt; myParameters() {\n    return Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n}\n\n@TestFactory\nStream&lt;DynamicTest&gt; myTests() {\n    return myParameters()\n        .map(p -&gt; DynamicTest.dynamicTest(\n             &quot;testing for: &quot; + p, \n              () -&gt; myTest(p)\n        ));\n}\n\nvoid myTest(String param) {\n    System.out.println(param);\n    assertEquals(1, param.length());\n}\n</code></pre>\n<p>if you find this interesting, read more about it here:  <a href=\"https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/streamline-your-testing-workflow-with-junit-5-dynamic-tests-66787740f39c?sk=b10eacd4e6f6b85c51f194b240555895</a></p>\n"}],"owner":{"account_id":10775582,"reputation":1190,"user_id":7927748,"accept_rate":67,"display_name":"Torc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76127507,"answer_count":2,"score":1,"last_activity_date":1682684250,"creation_date":1682623863,"question_id":76124016,"body_markdown":"I have an array of strings that I would like to use for multiple unit tests. In an effort to de-duplicate my code and to minimize the number of changes I would need to make to my test parameters in the future, I have tried defining a variable within my JUnit test class and then re-using this variable as the input parameter for each of my `@ValueSource` annotations. Is this even possible or am I overlooking a simple mistake?\r\n\r\n\r\n```java\r\nprivate static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n\r\n// This fails with the message that `myParameters` isn&#39;t a recognized symbol, probably because it&#39;s not a valid Element for @ValueSource\r\n@ParameterizedTest\r\n@ValueSource(myParameters)\r\npublic void myTest(String param) {\r\n  // doesn&#39;t compile\r\n}\r\n\r\n// This fails with the message that &quot;incompatible types: String[] cannot be converted to String&quot;\r\n@ParameterizedTest\r\n@ValueSource(strings = myParameters)\r\npublic void myTest(String param) {\r\n  // doesn&#39;t compile\r\n}\r\n\r\n// This works fine, but I would need to duplicate the values of `strings` for each test\r\n@ParameterizedTest\r\n@ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})\r\npublic void myTest(String param) {\r\n  // works fine, but its duplicative in terms of the @ValueSource parameter\r\n}\r\n```\r\n\r\n\r\nReferences:\r\n- [Annotation Type ValueSource][1]\r\n- [JUnit GitHub][2]\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/ValueSource.html\r\n  [2]: https://github.com/jashburn8020/junit-5-user-guide#valuesource","title":"Pass externally defined variable to JUnit @ValueSource annotation in a @ParameterizedTest","body":"<p>I have an array of strings that I would like to use for multiple unit tests. In an effort to de-duplicate my code and to minimize the number of changes I would need to make to my test parameters in the future, I have tried defining a variable within my JUnit test class and then re-using this variable as the input parameter for each of my <code>@ValueSource</code> annotations. Is this even possible or am I overlooking a simple mistake?</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final String[] myParameters = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\n\n// This fails with the message that `myParameters` isn't a recognized symbol, probably because it's not a valid Element for @ValueSource\n@ParameterizedTest\n@ValueSource(myParameters)\npublic void myTest(String param) {\n  // doesn't compile\n}\n\n// This fails with the message that &quot;incompatible types: String[] cannot be converted to String&quot;\n@ParameterizedTest\n@ValueSource(strings = myParameters)\npublic void myTest(String param) {\n  // doesn't compile\n}\n\n// This works fine, but I would need to duplicate the values of `strings` for each test\n@ParameterizedTest\n@ValueSource(strings = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;})\npublic void myTest(String param) {\n  // works fine, but its duplicative in terms of the @ValueSource parameter\n}\n</code></pre>\n<p>References:</p>\n<ul>\n<li><a href=\"https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.params/org/junit/jupiter/params/provider/ValueSource.html\" rel=\"nofollow noreferrer\">Annotation Type ValueSource</a></li>\n<li><a href=\"https://github.com/jashburn8020/junit-5-user-guide#valuesource\" rel=\"nofollow noreferrer\">JUnit GitHub</a></li>\n</ul>\n"},{"tags":["java","rest","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"score":0,"creation_date":1682684445,"post_id":76129483,"comment_id":134258339,"body_markdown":"there is no toD method under rest. I am using apache camel 3.20.3","body":"there is no toD method under rest. I am using apache camel 3.20.3"},{"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"score":0,"creation_date":1682684948,"post_id":76129483,"comment_id":134258474,"body_markdown":"it s basic dsl definition of camel , I think all version have toD","body":"it s basic dsl definition of camel , I think all version have toD"},{"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"score":0,"creation_date":1682685446,"post_id":76129483,"comment_id":134258591,"body_markdown":"when I change &quot;to&quot; to &quot;toD&quot; it gives error  Cannot resolve method &#39;toD&#39; in &#39;RestDefinition&#39;","body":"when I change &quot;to&quot; to &quot;toD&quot; it gives error  Cannot resolve method &#39;toD&#39; in &#39;RestDefinition&#39;"},{"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"score":0,"creation_date":1682685719,"post_id":76129483,"comment_id":134258677,"body_markdown":"understood u should just change for this line  weather:foo?location=${header.city},${header.country}&amp;appid=8b...","body":"understood u should just change for this line  weather:foo?location=${header.city},${header.country}&amp;appid=&zwnj;&#8203;8b..."},{"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"score":0,"creation_date":1682686347,"post_id":76129483,"comment_id":134258835,"body_markdown":"yea it solved changeing &quot;to&quot; to toD in &quot;from&quot; part","body":"yea it solved changeing &quot;to&quot; to toD in &quot;from&quot; part"}],"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682684135,"creation_date":1682684135,"answer_id":76129483,"question_id":76128911,"body_markdown":"U must use &#39;toD&#39; (to Dynamic )instead of &#39;to&#39; \r\n\r\n    .toD(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\r\n\r\n","title":"apache camel rest dsl parameter passing","body":"<p>U must use 'toD' (to Dynamic )instead of 'to'</p>\n<pre><code>.toD(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\n</code></pre>\n"}],"owner":{"account_id":2232350,"reputation":72,"user_id":1969611,"accept_rate":86,"display_name":"cihad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76129483,"answer_count":1,"score":1,"last_activity_date":1682684135,"creation_date":1682679652,"question_id":76128911,"body_markdown":"I want to get whether information by city via apache camel weather api.\r\nI can get whether information from api but when I want to pass cirt and country information to rest api I got error. \r\n\r\nI couldnt find any example that shows how to pass a header information from consumer to processor.\r\n\r\nHere is my code\r\n\r\n      @Override\r\n    public void configure() throws Exception {\r\n\r\n        rest(&quot;/api&quot;).description(&quot;Weather api&quot;)\r\n                .consumes(MediaType.APPLICATION_JSON_VALUE)\r\n                .produces(MediaType.APPLICATION_JSON_VALUE)\r\n                .get(&quot;/weather&quot;).description(&quot;Get weather by city&quot;)\r\n                .param().name(&quot;city&quot;).type(RestParamType.header).description(&quot;The city name&quot;).dataType(&quot;string&quot;).endParam()\r\n                .param().name(&quot;country&quot;).type(RestParamType.header).description(&quot;The country name&quot;).dataType(&quot;string&quot;).endParam()\r\n                .to(&quot;direct:weather&quot;);\r\n\r\n        from(&quot;direct:weather&quot;)\r\n                .log(&quot;Get weather by city&quot;)\r\n                .to(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\r\n                .log(&quot;Weather: ${body}&quot;);\r\n    }\r\nas you can see I got 2 parameters in rest api and I want to use these parameters in &quot;from&quot; part to pass these parameters to my camel weather api\r\n\r\nhave any idea","title":"apache camel rest dsl parameter passing","body":"<p>I want to get whether information by city via apache camel weather api.\nI can get whether information from api but when I want to pass cirt and country information to rest api I got error.</p>\n<p>I couldnt find any example that shows how to pass a header information from consumer to processor.</p>\n<p>Here is my code</p>\n<pre><code>  @Override\npublic void configure() throws Exception {\n\n    rest(&quot;/api&quot;).description(&quot;Weather api&quot;)\n            .consumes(MediaType.APPLICATION_JSON_VALUE)\n            .produces(MediaType.APPLICATION_JSON_VALUE)\n            .get(&quot;/weather&quot;).description(&quot;Get weather by city&quot;)\n            .param().name(&quot;city&quot;).type(RestParamType.header).description(&quot;The city name&quot;).dataType(&quot;string&quot;).endParam()\n            .param().name(&quot;country&quot;).type(RestParamType.header).description(&quot;The country name&quot;).dataType(&quot;string&quot;).endParam()\n            .to(&quot;direct:weather&quot;);\n\n    from(&quot;direct:weather&quot;)\n            .log(&quot;Get weather by city&quot;)\n            .to(&quot;weather:foo?location=${header.city},${header.country}&amp;appid=8bb3bc2e4efb92992ed3e7190&amp;units=metric&quot;)\n            .log(&quot;Weather: ${body}&quot;);\n}\n</code></pre>\n<p>as you can see I got 2 parameters in rest api and I want to use these parameters in &quot;from&quot; part to pass these parameters to my camel weather api</p>\n<p>have any idea</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1682681123,"post_id":76128880,"comment_id":134257582,"body_markdown":"Reference: https://rules.sonarsource.com/java/RSPEC-5845","body":"Reference: <a href=\"https://rules.sonarsource.com/java/RSPEC-5845\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-5845</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1682681992,"post_id":76128880,"comment_id":134257769,"body_markdown":"Lombok transforms your code into `Object transformedValue = engine.eval(script, bindings);`. And SonarQube warns when &quot;_comparing an object with an unrelated primitive (E.G. a string with an int)_&quot;. A possible fix on your side might be to change the assertion to `assertEquals(Boolean.TRUE, transformedValue);`","body":"Lombok transforms your code into <code>Object transformedValue = engine.eval(script, bindings);</code>. And SonarQube warns when &quot;<i>comparing an object with an unrelated primitive (E.G. a string with an int)</i>&quot;. A possible fix on your side might be to change the assertion to <code>assertEquals(Boolean.TRUE, transformedValue);</code>"}],"answers":[{"comments":[{"owner":{"account_id":5031571,"reputation":805,"user_id":4528799,"accept_rate":81,"display_name":"Kevin"},"score":0,"creation_date":1682682014,"post_id":76129185,"comment_id":134257775,"body_markdown":"of course this is possible but doing such changes in a lot of places in the code is not what we really want to do to be honest","body":"of course this is possible but doing such changes in a lot of places in the code is not what we really want to do to be honest"},{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1682683894,"post_id":76129185,"comment_id":134258197,"body_markdown":"@Kevin you can create custom void function for that for less changes.","body":"@Kevin you can create custom void function for that for less changes."}],"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682683842,"creation_date":1682681753,"answer_id":76129185,"question_id":76128880,"body_markdown":"I assume value of `transformedValue` is `&quot;true&quot;`, so I recommend changing:\r\n```java\r\nassertEquals(true, transformedValue);\r\n```\r\nto\r\n```java\r\nassertEquals(true, new Boolean(transformedValue.toString()));\r\n```\r\nfor getting the same type.\r\n\r\n---\r\n\r\n**Edit**\r\n\r\nYou can also create custom function:\r\n```java\r\npublic void myAssertEquals(boolean bool, Object obj) {\r\n  assertEquals(bool, new Boolean(obj.toString()));\r\n}\r\n```\r\n\r\nUsage:\r\n```java\r\nmyAssertEquals(true, transformedValue);\r\n```","title":"SonarQube recognize Lombok Val as Bug","body":"<p>I assume value of <code>transformedValue</code> is <code>&quot;true&quot;</code>, so I recommend changing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(true, transformedValue);\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertEquals(true, new Boolean(transformedValue.toString()));\n</code></pre>\n<p>for getting the same type.</p>\n<hr />\n<p><strong>Edit</strong></p>\n<p>You can also create custom function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void myAssertEquals(boolean bool, Object obj) {\n  assertEquals(bool, new Boolean(obj.toString()));\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myAssertEquals(true, transformedValue);\n</code></pre>\n"}],"owner":{"account_id":5031571,"reputation":805,"user_id":4528799,"accept_rate":81,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682683842,"creation_date":1682679444,"question_id":76128880,"body_markdown":"I have a java program with a line of code like this in the corresponding test file:\r\n\r\n```java\r\nval transformedValue = engine.eval(script, bindings);\r\nassertEquals(true, transformedValue);\r\n```\r\n\r\nWe are using the `Lombok::val` here but SonarQube Report says this is a bug.\r\n\r\n```\r\nChange the assertion arguments to not compare dissimilar types.\r\n```\r\n\r\nIs there a flag which could be used so that sonar get the right datatype?","title":"SonarQube recognize Lombok Val as Bug","body":"<p>I have a java program with a line of code like this in the corresponding test file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>val transformedValue = engine.eval(script, bindings);\nassertEquals(true, transformedValue);\n</code></pre>\n<p>We are using the <code>Lombok::val</code> here but SonarQube Report says this is a bug.</p>\n<pre><code>Change the assertion arguments to not compare dissimilar types.\n</code></pre>\n<p>Is there a flag which could be used so that sonar get the right datatype?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1682683697,"post_id":76129403,"comment_id":134258157,"body_markdown":"Did you add the correct permission into the manifest? https://developer.android.com/guide/topics/permissions/overview","body":"Did you add the correct permission into the manifest? <a href=\"https://developer.android.com/guide/topics/permissions/overview\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/permissions/overview</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682683857,"post_id":76129403,"comment_id":134258188,"body_markdown":"@GabeRAMturn, please tell which permissions. This is too vague. There are no permissions needed to my knowledge.","body":"@GabeRAMturn, please tell which permissions. This is too vague. There are no permissions needed to my knowledge."},{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1682683933,"post_id":76129403,"comment_id":134258209,"body_markdown":"Well, considering you‚Äòre trying to access files, you‚Äòd probably need to add file system permissions into the manifest.","body":"Well, considering you‚Äòre trying to access files, you‚Äòd probably need to add file system permissions into the manifest."},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682683986,"post_id":76129403,"comment_id":134258222,"body_markdown":"I am checking it right now","body":"I am checking it right now"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682684198,"post_id":76129403,"comment_id":134258274,"body_markdown":"I added the permissions internet into the manifest file","body":"I added the permissions internet into the manifest file"},{"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"score":0,"creation_date":1682687620,"post_id":76129403,"comment_id":134259126,"body_markdown":"https://developer.android.com/training/data-storage/shared/photopicker\nhttps://android-developers.googleblog.com/2023/04/photo-picker-everywhere.html","body":"<a href=\"https://developer.android.com/training/data-storage/shared/photopicker\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared/photopick&zwnj;&#8203;er</a> <a href=\"https://android-developers.googleblog.com/2023/04/photo-picker-everywhere.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2023/04/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1682688994,"post_id":76129403,"comment_id":134259439,"body_markdown":"@GabeRAMturn, No, certainly not if you let the user pick files. No permissions needed. Please dont confuse poster.","body":"@GabeRAMturn, No, certainly not if you let the user pick files. No permissions needed. Please dont confuse poster."},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1682689341,"post_id":76129403,"comment_id":134259518,"body_markdown":"Why isn&#39;t my activitylauncher working?? i ve been stuck to it for 2 days. Please help, where am i mistaking","body":"Why isn&#39;t my activitylauncher working?? i ve been stuck to it for 2 days. Please help, where am i mistaking"},{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682752415,"post_id":76129403,"comment_id":134267916,"body_markdown":"I think you would need permissions to read the contents of the device for selecting image from the device. Refer to the below link.  https://stackoverflow.com/a/32617585/5362509","body":"I think you would need permissions to read the contents of the device for selecting image from the device. Refer to the below link.  <a href=\"https://stackoverflow.com/a/32617585/5362509\">stackoverflow.com/a/32617585/5362509</a>"},{"owner":{"display_name":"user18540930"},"score":0,"creation_date":1683374016,"post_id":76129403,"comment_id":134359007,"body_markdown":"I cannot use permission inside the fragment either. Program says &#39;cannot resolve symbol READ_EXTERNAL_STORAGE&#39; , even though it is in my manifests file.","body":"I cannot use permission inside the fragment either. Program says &#39;cannot resolve symbol READ_EXTERNAL_STORAGE&#39; , even though it is in my manifests file."}],"owner":{"display_name":"user18540930"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682683757,"creation_date":1682683526,"question_id":76129403,"body_markdown":"[![Login page][1]][1]I am coding the add fragment. That is on the right of the bottom navigation menu. But when i press add on the navigation it keeps navigating to the home page. And when it works properly i can not add a photo picker to users to pick image from gallery. My code is below[![enter image description here][2]][2]\r\n\r\n```\r\npackage com.example.uninotes;\r\n\r\nimport static android.app.Activity.RESULT_OK;\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class AddFragment extends Fragment {\r\n\r\n    ImageView imgGallery;\r\n    Button btnGallery;\r\n\r\n\r\n    ActivityResultLauncher&lt;Intent&gt; activitylauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    Log.d(TAG, &quot;onActivityResult: &quot;);\r\n                }\r\n            }\r\n    );\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_add,container,false);\r\n        btnGallery = getView().findViewById(R.id.clickable);\r\n        imgGallery = getView().findViewById(R.id.imageView2);\r\n\r\n        btnGallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                activitylauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI was trying to make the user pick image from the gallery.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rBMT9.png\r\n  [2]: https://i.stack.imgur.com/atxlV.png","title":"I cannot add images from gallery Android Studio","body":"<p><a href=\"https://i.stack.imgur.com/rBMT9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rBMT9.png\" alt=\"Login page\" /></a>I am coding the add fragment. That is on the right of the bottom navigation menu. But when i press add on the navigation it keeps navigating to the home page. And when it works properly i can not add a photo picker to users to pick image from gallery. My code is below<a href=\"https://i.stack.imgur.com/atxlV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/atxlV.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.example.uninotes;\n\nimport static android.app.Activity.RESULT_OK;\nimport static android.content.ContentValues.TAG;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.Fragment;\n\npublic class AddFragment extends Fragment {\n\n    ImageView imgGallery;\n    Button btnGallery;\n\n\n    ActivityResultLauncher&lt;Intent&gt; activitylauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    Log.d(TAG, &quot;onActivityResult: &quot;);\n                }\n            }\n    );\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_add,container,false);\n        btnGallery = getView().findViewById(R.id.clickable);\n        imgGallery = getView().findViewById(R.id.imageView2);\n\n        btnGallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                activitylauncher.launch(intent);\n            }\n        });\n\n        return view;\n    }\n}\n</code></pre>\n<p>I was trying to make the user pick image from the gallery.</p>\n"},{"tags":["java","android","kotlin","surfaceview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1682530546,"post_id":76113178,"comment_id":134232358,"body_markdown":"You&#39;d need to show us the actual code you&#39;re trying to optimize.  There&#39;s too many things you could be doing wrong to guess from a description","body":"You&#39;d need to show us the actual code you&#39;re trying to optimize.  There&#39;s too many things you could be doing wrong to guess from a description"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1682530590,"post_id":76113178,"comment_id":134232369,"body_markdown":"But if 565 gets your 60fps and 8888 gets your 25, and 565 doesn&#39;t display correctly, odds are it&#39;s not actually doing any work.","body":"But if 565 gets your 60fps and 8888 gets your 25, and 565 doesn&#39;t display correctly, odds are it&#39;s not actually doing any work."},{"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"score":0,"creation_date":1682533296,"post_id":76113178,"comment_id":134232885,"body_markdown":"Hi @GabeSechan I added the important code. I hope it is quite understandable...","body":"Hi @GabeSechan I added the important code. I hope it is quite understandable..."}],"owner":{"account_id":17147295,"reputation":87,"user_id":21172734,"display_name":"mnietuniema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682683294,"creation_date":1682527237,"question_id":76113178,"body_markdown":"I am trying to improve speed of my drawing bitmap (bitmaps are made in Tiled application). I read that I can try to use RGB_565 option instead of ARGB_8888 when it comes to `createBitmap(...)` last argument. I also set `getHolder().setFormat(PixelFormat.RGB_565)` in the constructors of my custom SurfaceView class like somebody said in this post https://stackoverflow.com/a/14615533/21172734. \r\n\r\nNow **what I want is** to display all tiles on the screen because now only one of them shows up (because of changing Bitmap option from ARGB_8888 to RGB_565).\r\n\r\n&lt;s&gt;The problem is that when I set this RGB_565 in all those places the bitmaps are not drawing and I get blank screen but when there is ARGB_8888 set I have my bitmaps correctly displayed but slow. According to TinyDancer library with RGB_565 (empty screen) I get 60FPS while with ARGB_8888  I get only 20FPS so I want to improve it as much as possible.&lt;/s&gt;\r\n\r\n**EDIT**\r\n\r\nIt turned out my map somehow displays but only one layer, and this layer is even displayed partialy (only one tile). The majority of tiles don&#39;t show up. Before, I didn&#39;t notice that simply because my map was quite big. Now I reduce its size almost to minimum (8x8) and this map visual might makes no sense but it is for learning purposes and then later on making a tiled based game. \r\n\r\nNow, how it should looks like (screenshot from Tiled app). &#39;Grass&#39; layer is static layer of grass but layer &#39;anim&#39; is located in two places this tree  and moshrooms and they animate, tree - three frames of anim, moshrooms - two frames of anim:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the only one tile that is displayed in phone when Bitmap.Config.RGB_565 is set. I bordered it with yellow circle \r\n\r\n\r\n[![enter image description here][2]][2]:\r\n\r\n\r\n\r\n\r\nARGB_8888 displays all tiles correctly, but as I said before I want RGB_565 because of better performance:\r\n\r\n**EDIT2**\r\n\r\nHere is my code.\r\n\r\nGameMainSurface.java\r\n\r\n    public class GameMainSurface extends GameSurface implements SurfaceHolder.Callback {\r\n\r\n    (...)\r\n    \r\n        public GameMainSurface(Context context) {\r\n            super(context);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        public GameMainSurface(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        public GameMainSurface(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n            this.context = context;\r\n            getHolder().setFormat(PixelFormat.RGB_565);\r\n            getHolder().addCallback(this);\r\n            setWillNotDraw(false);\r\n        }\r\n    \r\n        @Override\r\n        public void draw(Canvas canvas) {\r\n            super.draw(canvas);\r\n    \r\n            Loader.drawTmxMaps(canvas, getContext());\r\n    \r\n            invalidate();\r\n        }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder holder) {\r\n        this.holder = holder;\r\n        (...)\r\n        initMaps();\r\n    }\r\n\r\n    protected void initMaps() {\r\n        TileMapData tileMainMapData = TmxLoader.readTMX(&quot;map_main4.tmx&quot;, context);\r\n        TmxLoader.createBitmaps(tileMainMapData, 0, 4, this);\r\n     } \r\n    }\r\n\r\n  \r\n\r\nLoader.java\r\n\r\n    public class Loader {\r\n\r\n    private static final String TAG = TmxLoader.class.getSimpleName();\r\n\r\n    private static final Map&lt;Integer, Bitmap[]&gt; framesMap = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Canvas[]&gt; canvasesMap = new HashMap&lt;&gt;();\r\n    private static final Map&lt;Integer, Long&gt; animsDuration = new HashMap&lt;&gt;();\r\n    private static final List&lt;Runnable&gt; runnables = new ArrayList&lt;&gt;();\r\n    private static final Handler handler = new Handler();\r\n\r\n    private static boolean isIterStarted = false;\r\n\r\n    (...)\r\n\r\n    public static TileMapData readTMX(String filename, Context c) {\r\n        TileMapData tileMapData = null;\r\n\r\n        // Initialize SAX\r\n        try {\r\n\r\n            SAXParserFactory spf = SAXParserFactory.newInstance();\r\n            SAXParser parser = spf.newSAXParser();\r\n            XMLReader reader = parser.getXMLReader();\r\n\r\n            // Create an instance of the TMX XML handler\r\n            // that will create a TileMapData object\r\n            TmxHandler handler = new TmxHandler();\r\n\r\n            reader.setContentHandler(handler);\r\n\r\n            AssetManager assetManager = c.getAssets();\r\n\r\n            reader.parse((new InputSource(assetManager.open(filename))));\r\n\r\n            // Extract the created object\r\n            tileMapData = handler.getData();\r\n\r\n\r\n        } catch (ParserConfigurationException pce) {\r\n            Log.e(TAG, &quot;SAX XML parse error&quot;, pce);\r\n        } catch (SAXException se) {\r\n            Log.e(TAG, &quot;SAX XML error&quot;, se);\r\n        } catch (IOException ioe) {\r\n            Log.e(TAG, &quot;SAX XML parse io error&quot;, ioe);\r\n        }\r\n\r\n        return tileMapData;\r\n    }\r\n\r\n    public static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\r\n\r\n        try {\r\n            AssetManager assetManager = gameSurface.getContext().getAssets();\r\n\r\n            Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\r\n\r\n            for (int i = 0; i &lt; tilesets.length; i++) {\r\n                tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\r\n            }\r\n\r\n            long currentGID;\r\n            Long localGID;\r\n            Integer currentTileSetIndex;\r\n            Rect source = new Rect(0, 0, 0, 0);\r\n            Rect dest = new Rect(0, 0, 0, 0);\r\n\r\n            boolean isAfterInit = false;\r\n            List&lt;Integer&gt; animFrames = new ArrayList&lt;&gt;();\r\n\r\n            for (int i = startLayer; i &lt; endLayer; i++) {\r\n                // endlessblow_main4.tmx = 12\r\n                for (int j = 0; j &lt; t.layers.get(i).height; j++) {\r\n                    // endlessblow_main4.tmx = 8\r\n                    for (int k = 0; k &lt; t.layers.get(i).width; k++) {\r\n\r\n                        currentGID = t.getGIDAt(k, j, i);\r\n                        localGID = t.getLocalID(currentGID);\r\n                        currentTileSetIndex = t.getTileSetIndex(currentGID);\r\n\r\n\r\n\r\n                        if (!isAfterInit) {\r\n                            animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations).map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\r\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n                                for (int m = 0; m &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); m++) {\r\n                                    animsDuration.put(l, t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(m).getDuration());\r\n                                }\r\n                            }\r\n                            init(animFrames, t);\r\n                            isAfterInit = true;\r\n                        }\r\n\r\n                        if (localGID != null) {\r\n                            if (i == startLayer) {\r\n                                source.top = (((localGID).intValue()) / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight;\r\n                                source.left = (((localGID).intValue()) % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth;\r\n                                source.bottom = source.top + t.tileheight;\r\n                                source.right = source.left + t.tilewidth;\r\n\r\n                                dest.top = j * t.tileheight;\r\n                                dest.left = k * t.tilewidth;\r\n                                dest.bottom = dest.top + t.tileheight;\r\n                                dest.right = dest.left + t.tilewidth;\r\n\r\n                                for (Canvas canvas : canvasesMap.get(0)) {\r\n                                    canvas.drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n                                }\r\n                            } else {\r\n                                for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\r\n\r\n                                    if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\r\n                                        for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\r\n\r\n                                            source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\r\n                                            source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\r\n                                            source.bottom = source.top + t.tileheight;\r\n                                            source.right = source.left + t.tilewidth;\r\n\r\n                                            dest.top = j * t.tileheight;\r\n                                            dest.left = k * t.tilewidth;\r\n                                            dest.bottom = dest.top + t.tileheight;\r\n                                            dest.right = dest.left + t.tilewidth;\r\n\r\n                                            canvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (int i = 0; i &lt; framesMap.size(); i++) {\r\n                for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                    framesMap.get(i)[j] = Bitmap.createScaledBitmap(framesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            Log.e(TAG, e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n    private static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\r\n        for (int i = 0; i &lt; animFrames.size(); i++) {\r\n            runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\r\n            framesMap.put(i, new Bitmap[animFrames.get(i)]);\r\n            canvasesMap.put(i, new Canvas[animFrames.get(i)]);\r\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\r\n                framesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.RGB_565);\r\n                canvasesMap.get(i)[j] = new Canvas(framesMap.get(i)[j]);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void drawTmxMaps(Canvas canvas, Context context) {\r\n        for (int i = 0; i &lt; framesMap.size(); i++) {\r\n            canvas.drawBitmap(framesMap.get(i)[((FrameDurationRunnable) runnables.get(i)).iter], 0, 0, null);\r\n        }\r\n\r\n        if (!isIterStarted) {\r\n            iterTmxFrames();\r\n            isIterStarted = true;\r\n        }\r\n    }\r\n\r\n\r\n    private static void iterTmxFrames() {\r\n        for (int i = 0; i &lt; runnables.size(); i++) {\r\n            handler.postDelayed(runnables.get(i), animsDuration.get(i));\r\n        }\r\n    }\r\n\r\n    private static class FrameDurationRunnable implements Runnable {\r\n        private final int animMaxIter;\r\n        private final long frameDuration;\r\n\r\n        private int iter;\r\n\r\n        FrameDurationRunnable(final int animMaxIter, final long frameDuration) {\r\n            this.animMaxIter = animMaxIter;\r\n            this.frameDuration = frameDuration;\r\n        }\r\n\r\n        public void run() {\r\n            iter++;\r\n            if (iter == animMaxIter) iter = 0;\r\n            handler.postDelayed(this, frameDuration);\r\n        }\r\n    }\r\n    }\r\n\r\nWhat solutions do you see?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ttqon.png\r\n  [2]: https://i.stack.imgur.com/fKmww.png","title":"Android createBitmap(...) with RGB_565 option instead of ARGB_8888 do not show most of tiles","body":"<p>I am trying to improve speed of my drawing bitmap (bitmaps are made in Tiled application). I read that I can try to use RGB_565 option instead of ARGB_8888 when it comes to <code>createBitmap(...)</code> last argument. I also set <code>getHolder().setFormat(PixelFormat.RGB_565)</code> in the constructors of my custom SurfaceView class like somebody said in this post <a href=\"https://stackoverflow.com/a/14615533/21172734\">https://stackoverflow.com/a/14615533/21172734</a>.</p>\n<p>Now <strong>what I want is</strong> to display all tiles on the screen because now only one of them shows up (because of changing Bitmap option from ARGB_8888 to RGB_565).</p>\n<p><s>The problem is that when I set this RGB_565 in all those places the bitmaps are not drawing and I get blank screen but when there is ARGB_8888 set I have my bitmaps correctly displayed but slow. According to TinyDancer library with RGB_565 (empty screen) I get 60FPS while with ARGB_8888  I get only 20FPS so I want to improve it as much as possible.</s></p>\n<p><strong>EDIT</strong></p>\n<p>It turned out my map somehow displays but only one layer, and this layer is even displayed partialy (only one tile). The majority of tiles don't show up. Before, I didn't notice that simply because my map was quite big. Now I reduce its size almost to minimum (8x8) and this map visual might makes no sense but it is for learning purposes and then later on making a tiled based game.</p>\n<p>Now, how it should looks like (screenshot from Tiled app). 'Grass' layer is static layer of grass but layer 'anim' is located in two places this tree  and moshrooms and they animate, tree - three frames of anim, moshrooms - two frames of anim:</p>\n<p><a href=\"https://i.stack.imgur.com/ttqon.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ttqon.png\" alt=\"enter image description here\" /></a></p>\n<p>And the only one tile that is displayed in phone when Bitmap.Config.RGB_565 is set. I bordered it with yellow circle</p>\n<p><a href=\"https://i.stack.imgur.com/fKmww.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fKmww.png\" alt=\"enter image description here\" /></a>:</p>\n<p>ARGB_8888 displays all tiles correctly, but as I said before I want RGB_565 because of better performance:</p>\n<p><strong>EDIT2</strong></p>\n<p>Here is my code.</p>\n<p>GameMainSurface.java</p>\n<pre><code>public class GameMainSurface extends GameSurface implements SurfaceHolder.Callback {\n\n(...)\n\n    public GameMainSurface(Context context) {\n        super(context);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    public GameMainSurface(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    public GameMainSurface(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        this.context = context;\n        getHolder().setFormat(PixelFormat.RGB_565);\n        getHolder().addCallback(this);\n        setWillNotDraw(false);\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        super.draw(canvas);\n\n        Loader.drawTmxMaps(canvas, getContext());\n\n        invalidate();\n    }\n\n@Override\npublic void surfaceCreated(SurfaceHolder holder) {\n    this.holder = holder;\n    (...)\n    initMaps();\n}\n\nprotected void initMaps() {\n    TileMapData tileMainMapData = TmxLoader.readTMX(&quot;map_main4.tmx&quot;, context);\n    TmxLoader.createBitmaps(tileMainMapData, 0, 4, this);\n } \n}\n</code></pre>\n<p>Loader.java</p>\n<pre><code>public class Loader {\n\nprivate static final String TAG = TmxLoader.class.getSimpleName();\n\nprivate static final Map&lt;Integer, Bitmap[]&gt; framesMap = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Canvas[]&gt; canvasesMap = new HashMap&lt;&gt;();\nprivate static final Map&lt;Integer, Long&gt; animsDuration = new HashMap&lt;&gt;();\nprivate static final List&lt;Runnable&gt; runnables = new ArrayList&lt;&gt;();\nprivate static final Handler handler = new Handler();\n\nprivate static boolean isIterStarted = false;\n\n(...)\n\npublic static TileMapData readTMX(String filename, Context c) {\n    TileMapData tileMapData = null;\n\n    // Initialize SAX\n    try {\n\n        SAXParserFactory spf = SAXParserFactory.newInstance();\n        SAXParser parser = spf.newSAXParser();\n        XMLReader reader = parser.getXMLReader();\n\n        // Create an instance of the TMX XML handler\n        // that will create a TileMapData object\n        TmxHandler handler = new TmxHandler();\n\n        reader.setContentHandler(handler);\n\n        AssetManager assetManager = c.getAssets();\n\n        reader.parse((new InputSource(assetManager.open(filename))));\n\n        // Extract the created object\n        tileMapData = handler.getData();\n\n\n    } catch (ParserConfigurationException pce) {\n        Log.e(TAG, &quot;SAX XML parse error&quot;, pce);\n    } catch (SAXException se) {\n        Log.e(TAG, &quot;SAX XML error&quot;, se);\n    } catch (IOException ioe) {\n        Log.e(TAG, &quot;SAX XML parse io error&quot;, ioe);\n    }\n\n    return tileMapData;\n}\n\npublic static void createBitmaps(TileMapData t, int startLayer, int endLayer, GameSurface gameSurface) {\n\n    try {\n        AssetManager assetManager = gameSurface.getContext().getAssets();\n\n        Bitmap[] tilesets = new Bitmap[t.tilesets.size()];\n\n        for (int i = 0; i &lt; tilesets.length; i++) {\n            tilesets[i] = BitmapFactory.decodeStream(assetManager.open(t.tilesets.get(i).ImageFilename));\n        }\n\n        long currentGID;\n        Long localGID;\n        Integer currentTileSetIndex;\n        Rect source = new Rect(0, 0, 0, 0);\n        Rect dest = new Rect(0, 0, 0, 0);\n\n        boolean isAfterInit = false;\n        List&lt;Integer&gt; animFrames = new ArrayList&lt;&gt;();\n\n        for (int i = startLayer; i &lt; endLayer; i++) {\n            // endlessblow_main4.tmx = 12\n            for (int j = 0; j &lt; t.layers.get(i).height; j++) {\n                // endlessblow_main4.tmx = 8\n                for (int k = 0; k &lt; t.layers.get(i).width; k++) {\n\n                    currentGID = t.getGIDAt(k, j, i);\n                    localGID = t.getLocalID(currentGID);\n                    currentTileSetIndex = t.getTileSetIndex(currentGID);\n\n\n\n                    if (!isAfterInit) {\n                        animFrames = Stream.of(t.tilesets.get(currentTileSetIndex).tileAnimations).map(tileAnimation -&gt; tileAnimation.getTileFrames().size()).collect(Collectors.toList());\n                        for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n                            for (int m = 0; m &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); m++) {\n                                animsDuration.put(l, t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(m).getDuration());\n                            }\n                        }\n                        init(animFrames, t);\n                        isAfterInit = true;\n                    }\n\n                    if (localGID != null) {\n                        if (i == startLayer) {\n                            source.top = (((localGID).intValue()) / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight;\n                            source.left = (((localGID).intValue()) % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth;\n                            source.bottom = source.top + t.tileheight;\n                            source.right = source.left + t.tilewidth;\n\n                            dest.top = j * t.tileheight;\n                            dest.left = k * t.tilewidth;\n                            dest.bottom = dest.top + t.tileheight;\n                            dest.right = dest.left + t.tilewidth;\n\n                            for (Canvas canvas : canvasesMap.get(0)) {\n                                canvas.drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n                            }\n                        } else {\n                            for (int l = 0; l &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.size(); l++) {\n\n                                if (localGID == t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getLocalGID()) {\n                                    for (int frame = 0; frame &lt; t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().size(); frame++) {\n\n                                        source.top = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() / ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tileheight);\n                                        source.left = (int) ((t.tilesets.get(currentTileSetIndex).tileAnimations.get(l).getTileFrames().get(frame).getTileId() % ((t.tilesets.get(currentTileSetIndex).imageWidth) / t.tilewidth)) * t.tilewidth);\n                                        source.bottom = source.top + t.tileheight;\n                                        source.right = source.left + t.tilewidth;\n\n                                        dest.top = j * t.tileheight;\n                                        dest.left = k * t.tilewidth;\n                                        dest.bottom = dest.top + t.tileheight;\n                                        dest.right = dest.left + t.tilewidth;\n\n                                        canvasesMap.get(l)[frame].drawBitmap(tilesets[currentTileSetIndex], source, dest, null);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        for (int i = 0; i &lt; framesMap.size(); i++) {\n            for (int j = 0; j &lt; animFrames.get(i); j++) {\n                framesMap.get(i)[j] = Bitmap.createScaledBitmap(framesMap.get(i)[j], gameSurface.getCellWidth() * t.width, gameSurface.getCellHeight() * t.height, false);\n            }\n        }\n    } catch (IOException e) {\n        Log.e(TAG, e.getMessage());\n    }\n}\n\n\nprivate static void init(List&lt;Integer&gt; animFrames, TileMapData t) {\n    for (int i = 0; i &lt; animFrames.size(); i++) {\n        runnables.add(new FrameDurationRunnable(animFrames.get(i), animsDuration.get(i)));\n        framesMap.put(i, new Bitmap[animFrames.get(i)]);\n        canvasesMap.put(i, new Canvas[animFrames.get(i)]);\n        for (int j = 0; j &lt; animFrames.get(i); j++) {\n            framesMap.get(i)[j] = Bitmap.createBitmap(t.width * t.tilewidth, t.height * t.tileheight, Bitmap.Config.RGB_565);\n            canvasesMap.get(i)[j] = new Canvas(framesMap.get(i)[j]);\n        }\n    }\n}\n\n\npublic static void drawTmxMaps(Canvas canvas, Context context) {\n    for (int i = 0; i &lt; framesMap.size(); i++) {\n        canvas.drawBitmap(framesMap.get(i)[((FrameDurationRunnable) runnables.get(i)).iter], 0, 0, null);\n    }\n\n    if (!isIterStarted) {\n        iterTmxFrames();\n        isIterStarted = true;\n    }\n}\n\n\nprivate static void iterTmxFrames() {\n    for (int i = 0; i &lt; runnables.size(); i++) {\n        handler.postDelayed(runnables.get(i), animsDuration.get(i));\n    }\n}\n\nprivate static class FrameDurationRunnable implements Runnable {\n    private final int animMaxIter;\n    private final long frameDuration;\n\n    private int iter;\n\n    FrameDurationRunnable(final int animMaxIter, final long frameDuration) {\n        this.animMaxIter = animMaxIter;\n        this.frameDuration = frameDuration;\n    }\n\n    public void run() {\n        iter++;\n        if (iter == animMaxIter) iter = 0;\n        handler.postDelayed(this, frameDuration);\n    }\n}\n}\n</code></pre>\n<p>What solutions do you see?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9756,"page":469,"page_size":100}
