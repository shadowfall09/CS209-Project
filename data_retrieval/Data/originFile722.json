{"items":[{"tags":["java","kotlin","testing","gradle","multiplatform"],"answers":[{"tags":[],"owner":{"account_id":2162564,"reputation":996,"user_id":1916413,"accept_rate":75,"display_name":"Danilo Pianini"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673993087,"creation_date":1629992152,"answer_id":68941496,"question_id":68940966,"body_markdown":"I think I worked out the root cause of the issues I was experiencing, I&#39;m posting the solution in case someone else runs into similar issues.\r\nI had the following tests configuration:\r\n\r\n```kotlin\r\ntasks.test {\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        showStandardStreams = true\r\n        showCauses = true\r\n        showStackTraces = true\r\n        events(*org.gradle.api.tasks.testing.logging.TestLogEvent.values())\r\n        exceptionFormat = org.gradle.api.tasks.testing.logging.TestExceptionFormat.FULL\r\n    }\r\n}\r\n```\r\n\r\nWhich was instructing the task called `test` to `useJunitPlatform()`. This setting does not get automatically propagated to all subsequent `Test` tasks (of course). So, in this case, the solution is simply to use instead:\r\n\r\n```kotlin\r\ntasks.withType&lt;Test&gt; { \r\n    // Same configuration as above\r\n}\r\n```\r\n\r\n## Update 2022-03-16\r\n\r\nI decided to create a [multi-JVM testing plugin for Gradle](https://github.com/DanySK/multi-jvm-test-plugin), so that all the test tasks get created and much less boilerplate is required across projects.\r\n\r\n## Update 2023-01-17\r\n\r\nGradle recommends using the [task configuration avoidance API](https://docs.gradle.org/current/userguide/task_configuration_avoidance.html).\r\n\r\n```kotlin\r\ntasks.withType&lt;Test&gt;().configureEach { \r\n    // Same configuration as above\r\n}\r\n```","title":"Run Gradle tests with multiple Java toolchains","body":"<p>I think I worked out the root cause of the issues I was experiencing, I'm posting the solution in case someone else runs into similar issues.\nI had the following tests configuration:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.test {\n    useJUnitPlatform()\n    testLogging {\n        showStandardStreams = true\n        showCauses = true\n        showStackTraces = true\n        events(*org.gradle.api.tasks.testing.logging.TestLogEvent.values())\n        exceptionFormat = org.gradle.api.tasks.testing.logging.TestExceptionFormat.FULL\n    }\n}\n</code></pre>\n<p>Which was instructing the task called <code>test</code> to <code>useJunitPlatform()</code>. This setting does not get automatically propagated to all subsequent <code>Test</code> tasks (of course). So, in this case, the solution is simply to use instead:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Test&gt; { \n    // Same configuration as above\n}\n</code></pre>\n<h2>Update 2022-03-16</h2>\n<p>I decided to create a <a href=\"https://github.com/DanySK/multi-jvm-test-plugin\" rel=\"nofollow noreferrer\">multi-JVM testing plugin for Gradle</a>, so that all the test tasks get created and much less boilerplate is required across projects.</p>\n<h2>Update 2023-01-17</h2>\n<p>Gradle recommends using the <a href=\"https://docs.gradle.org/current/userguide/task_configuration_avoidance.html\" rel=\"nofollow noreferrer\">task configuration avoidance API</a>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Test&gt;().configureEach { \n    // Same configuration as above\n}\n</code></pre>\n"}],"owner":{"account_id":2162564,"reputation":996,"user_id":1916413,"accept_rate":75,"display_name":"Danilo Pianini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68941496,"answer_count":1,"score":3,"last_activity_date":1673993087,"creation_date":1629989961,"question_id":68940966,"body_markdown":"I&#39;ve got a Gradle project which uses a Java version specified with the toolchain API:\r\n\r\n```kotlin\r\nval minimumJava = JavaLanguageVersion.of(8)\r\nval maximumJava = JavaLanguageVersion.of(16)\r\njava {\r\n    toolchain {\r\n        languageVersion.set(minimumJava)\r\n        vendor.set(JvmVendorSpec.ADOPTOPENJDK)\r\n    }\r\n}\r\n```\r\n\r\nI would like to be able to **compile with the minimum supported Java version, then run the tests with all the JDKs the project supports**.\r\nI tried the following, but apparently only the original tests get executed, all other tests don&#39;t, even though the required JDKs get correctly downloaded and set up:\r\n\r\n```\r\nfor (javaVersion in JavaLanguageVersion.of(minimumJava.asInt() + 1)..maximumJava) {\r\n    val base = tasks.test.get()\r\n    val testTask = tasks.register&lt;Test&gt;(&quot;testUnderJava${javaVersion.asInt()}&quot;) {\r\n        javaLauncher.set(\r\n            javaToolchains.launcherFor {\r\n                languageVersion.set(javaVersion)\r\n            }\r\n        )\r\n        classpath = base.classpath\r\n        testClassesDirs = base.testClassesDirs\r\n        isScanForTestClasses = true\r\n    }\r\n    tasks.test.configure { finalizedBy(testTask) }\r\n}\r\n```\r\n\r\nHere is a run in a dumb terminal:\r\n\r\n```\r\n❯ TERM=dumb ./gradlew test testUnderJava10 --rerun-tasks --scan\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on\r\n\r\n&lt;&lt;&lt;SNIP&gt;&gt;&gt;\r\n\r\n&gt; Task :testClasses\r\n\r\n&gt; Task :test\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on\r\n\r\nGradle Test Executor 4 STANDARD_OUT\r\n    ~~~ Kotest Configuration ~~~\r\n    -&gt; Parallelization factor: 1\r\n    -&gt; Concurrent specs: null\r\n    -&gt; Global concurrent tests: 1\r\n    -&gt; Dispatcher affinity: true\r\n    -&gt; Default test timeout: 600000ms\r\n    -&gt; Default test order: Sequential\r\n    -&gt; Default isolation mode: SingleInstance\r\n    -&gt; Global soft assertions: false\r\n    -&gt; Write spec failure file: false\r\n    -&gt; Fail on ignored tests: false\r\n    -&gt; Spec execution order: SpecExecutionOrder\r\n    -&gt; Remove test name whitespace: false\r\n    -&gt; Append tags to test names: false\r\n    -&gt; Extensions\r\n      - io.kotest.engine.extensions.SystemPropertyTagExtension\r\n      - io.kotest.core.extensions.RuntimeTagExtension\r\n      - io.kotest.engine.extensions.RuntimeTagExpressionExtension\r\n\r\n\r\norg.danilopianini.template.test.Tests &gt; A greeting should get printed STARTED\r\n\r\norg.danilopianini.template.test.Tests &gt; A greeting should get printed STANDARD_OUT\r\n    [:hello=SUCCESS]\r\n\r\n    &gt; Task :hello\r\n    Hello from Danilo Pianini\r\n\r\n    BUILD SUCCESSFUL in 2s\r\n    1 actionable task: 1 executed\r\n\r\n\r\norg.danilopianini.template.test.Tests &gt; A greeting should get printed PASSED\r\n\r\n&lt;&lt;&lt;Other tests have no output!&gt;&gt;&gt;\r\n\r\n&gt; Task :testUnderJava9\r\n&gt; Task :testUnderJava8\r\n&gt; Task :testUnderJava16\r\n&gt; Task :testUnderJava15\r\n&gt; Task :testUnderJava14\r\n&gt; Task :testUnderJava13\r\n&gt; Task :testUnderJava12\r\n&gt; Task :testUnderJava11\r\n&gt; Task :testUnderJava10\r\n\r\nBUILD SUCCESSFUL in 23s\r\n36 actionable tasks: 36 executed\r\n\r\n&lt;&lt;&lt;SNIP&gt;&gt;&gt;\r\n```\r\n\r\nFrom the [build scan](https://gradle.com/s/3qsca4clw2ilc), it appears that tests are not executed but those with JDK8. I&#39;m puzzled, [the docs](https://docs.gradle.org/current/userguide/toolchains.html) say that this should be straightforward:\r\n\r\n```kotlin\r\ntasks.register&lt;Test&gt;(&quot;testsOn14&quot;) {\r\n    javaLauncher.set(javaToolchains.launcherFor {\r\n        languageVersion.set(JavaLanguageVersion.of(14))\r\n    })\r\n}\r\n```","title":"Run Gradle tests with multiple Java toolchains","body":"<p>I've got a Gradle project which uses a Java version specified with the toolchain API:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val minimumJava = JavaLanguageVersion.of(8)\nval maximumJava = JavaLanguageVersion.of(16)\njava {\n    toolchain {\n        languageVersion.set(minimumJava)\n        vendor.set(JvmVendorSpec.ADOPTOPENJDK)\n    }\n}\n</code></pre>\n<p>I would like to be able to <strong>compile with the minimum supported Java version, then run the tests with all the JDKs the project supports</strong>.\nI tried the following, but apparently only the original tests get executed, all other tests don't, even though the required JDKs get correctly downloaded and set up:</p>\n<pre><code>for (javaVersion in JavaLanguageVersion.of(minimumJava.asInt() + 1)..maximumJava) {\n    val base = tasks.test.get()\n    val testTask = tasks.register&lt;Test&gt;(&quot;testUnderJava${javaVersion.asInt()}&quot;) {\n        javaLauncher.set(\n            javaToolchains.launcherFor {\n                languageVersion.set(javaVersion)\n            }\n        )\n        classpath = base.classpath\n        testClassesDirs = base.testClassesDirs\n        isScanForTestClasses = true\n    }\n    tasks.test.configure { finalizedBy(testTask) }\n}\n</code></pre>\n<p>Here is a run in a dumb terminal:</p>\n<pre><code>❯ TERM=dumb ./gradlew test testUnderJava10 --rerun-tasks --scan\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on\n\n&lt;&lt;&lt;SNIP&gt;&gt;&gt;\n\n&gt; Task :testClasses\n\n&gt; Task :test\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on\n\nGradle Test Executor 4 STANDARD_OUT\n    ~~~ Kotest Configuration ~~~\n    -&gt; Parallelization factor: 1\n    -&gt; Concurrent specs: null\n    -&gt; Global concurrent tests: 1\n    -&gt; Dispatcher affinity: true\n    -&gt; Default test timeout: 600000ms\n    -&gt; Default test order: Sequential\n    -&gt; Default isolation mode: SingleInstance\n    -&gt; Global soft assertions: false\n    -&gt; Write spec failure file: false\n    -&gt; Fail on ignored tests: false\n    -&gt; Spec execution order: SpecExecutionOrder\n    -&gt; Remove test name whitespace: false\n    -&gt; Append tags to test names: false\n    -&gt; Extensions\n      - io.kotest.engine.extensions.SystemPropertyTagExtension\n      - io.kotest.core.extensions.RuntimeTagExtension\n      - io.kotest.engine.extensions.RuntimeTagExpressionExtension\n\n\norg.danilopianini.template.test.Tests &gt; A greeting should get printed STARTED\n\norg.danilopianini.template.test.Tests &gt; A greeting should get printed STANDARD_OUT\n    [:hello=SUCCESS]\n\n    &gt; Task :hello\n    Hello from Danilo Pianini\n\n    BUILD SUCCESSFUL in 2s\n    1 actionable task: 1 executed\n\n\norg.danilopianini.template.test.Tests &gt; A greeting should get printed PASSED\n\n&lt;&lt;&lt;Other tests have no output!&gt;&gt;&gt;\n\n&gt; Task :testUnderJava9\n&gt; Task :testUnderJava8\n&gt; Task :testUnderJava16\n&gt; Task :testUnderJava15\n&gt; Task :testUnderJava14\n&gt; Task :testUnderJava13\n&gt; Task :testUnderJava12\n&gt; Task :testUnderJava11\n&gt; Task :testUnderJava10\n\nBUILD SUCCESSFUL in 23s\n36 actionable tasks: 36 executed\n\n&lt;&lt;&lt;SNIP&gt;&gt;&gt;\n</code></pre>\n<p>From the <a href=\"https://gradle.com/s/3qsca4clw2ilc\" rel=\"nofollow noreferrer\">build scan</a>, it appears that tests are not executed but those with JDK8. I'm puzzled, <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">the docs</a> say that this should be straightforward:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.register&lt;Test&gt;(&quot;testsOn14&quot;) {\n    javaLauncher.set(javaToolchains.launcherFor {\n        languageVersion.set(JavaLanguageVersion.of(14))\n    })\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","jdbc"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1673981676,"post_id":75150751,"comment_id":132616290,"body_markdown":"What are you doing to get your database.properties file parsed and put into the environment?","body":"What are you doing to get your database.properties file parsed and put into the environment?"},{"owner":{"account_id":10845175,"reputation":1,"user_id":7974958,"display_name":"Sabir Ali"},"score":0,"creation_date":1673984112,"post_id":75150751,"comment_id":132617041,"body_markdown":"Nothing. It works automatically. It is normal practice to keep static data, such as database configuration, in files like database.configuration. The IDE takes it and even automatically highlights the fields in the file, which means it sees them.","body":"Nothing. It works automatically. It is normal practice to keep static data, such as database configuration, in files like database.configuration. The IDE takes it and even automatically highlights the fields in the file, which means it sees them."}],"answers":[{"comments":[{"owner":{"account_id":10845175,"reputation":1,"user_id":7974958,"display_name":"Sabir Ali"},"score":0,"creation_date":1674012820,"post_id":75152685,"comment_id":132622377,"body_markdown":"Yes! It helped! Only after renaming ALL the fields it could detect the right parameter. And the interesting fact is that renaming only one (username) field did not help. And it confused me. That is why I had to write this post. So, Thank you very much @Cristian !","body":"Yes! It helped! Only after renaming ALL the fields it could detect the right parameter. And the interesting fact is that renaming only one (username) field did not help. And it confused me. That is why I had to write this post. So, Thank you very much @Cristian !"}],"tags":[],"owner":{"account_id":14259382,"reputation":561,"user_id":10300663,"display_name":"Cristian Riță"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673993045,"creation_date":1673993045,"answer_id":75152685,"question_id":75150751,"body_markdown":"So there is a collision with another environment variable, &quot;username&quot;. So you either rename the &quot;username&quot; in the properties or, even better, you can use a namespace:\r\n\r\n```properties\r\ndatabase.driver=org.postgresql.Driver \r\ndatabase.url=jdbc:postgresql://172.17.0.2:5432/first_db\r\ndatabase.username=postgres\r\ndatabase.password=mypassword\r\n```\r\n\r\n```java\r\nBean\r\npublic DataSource dataSource() {\r\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\r\n    dataSource.setDriverClassName(Objects.requireNonNull(environment.getProperty(&quot;database.driver&quot;)));\r\n    dataSource.setUrl(environment.getProperty(&quot;database.url&quot;));\r\n    dataSource.setUsername(environment.getProperty(&quot;database.username&quot;));\r\n    dataSource.setPassword(environment.getProperty(&quot;database.password&quot;));\r\n\r\n    return dataSource;\r\n```","title":"dataSource.setUsername(environment.getProperty(&quot;username&quot;) from file database.properties returns host user name","body":"<p>So there is a collision with another environment variable, &quot;username&quot;. So you either rename the &quot;username&quot; in the properties or, even better, you can use a namespace:</p>\n<pre><code>database.driver=org.postgresql.Driver \ndatabase.url=jdbc:postgresql://172.17.0.2:5432/first_db\ndatabase.username=postgres\ndatabase.password=mypassword\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Bean\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n    dataSource.setDriverClassName(Objects.requireNonNull(environment.getProperty(&quot;database.driver&quot;)));\n    dataSource.setUrl(environment.getProperty(&quot;database.url&quot;));\n    dataSource.setUsername(environment.getProperty(&quot;database.username&quot;));\n    dataSource.setPassword(environment.getProperty(&quot;database.password&quot;));\n\n    return dataSource;\n</code></pre>\n"}],"owner":{"account_id":10845175,"reputation":1,"user_id":7974958,"display_name":"Sabir Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673993045,"creation_date":1673980178,"question_id":75150751,"body_markdown":"I have a simple dataSource() method to set datasource in Spring MVC using JDBC for PostgreSQL. I read database configuration from the resources.database.properties file. But it cannot read database username.\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\r\n        dataSource.setDriverClassName(Objects.requireNonNull(environment.getProperty(&quot;driver&quot;)));\r\n        dataSource.setUrl(environment.getProperty(&quot;url&quot;));\r\n        dataSource.setUsername(environment.getProperty(&quot;username&quot;)); // - returns host username\r\n        dataSource.setPassword(environment.getProperty(&quot;password&quot;));\r\n\r\n        return dataSource;\r\n    }\r\n\r\nThe resources.database.properties contains this:\r\n\r\n    driver=org.postgresql.Driver \r\n    url=jdbc:postgresql://172.17.0.2:5432/first_db\r\n    username=postgres\r\n    password=mypassword\r\n\r\nIf I hardcode the user name it works fine. \r\n\r\nI just need to get my PostgreSQL user name (witch is running on my Docker container). What is wrong with this? ","title":"dataSource.setUsername(environment.getProperty(&quot;username&quot;) from file database.properties returns host user name","body":"<p>I have a simple dataSource() method to set datasource in Spring MVC using JDBC for PostgreSQL. I read database configuration from the resources.database.properties file. But it cannot read database username.</p>\n<pre><code>@Bean\npublic DataSource dataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n    dataSource.setDriverClassName(Objects.requireNonNull(environment.getProperty(&quot;driver&quot;)));\n    dataSource.setUrl(environment.getProperty(&quot;url&quot;));\n    dataSource.setUsername(environment.getProperty(&quot;username&quot;)); // - returns host username\n    dataSource.setPassword(environment.getProperty(&quot;password&quot;));\n\n    return dataSource;\n}\n</code></pre>\n<p>The resources.database.properties contains this:</p>\n<pre><code>driver=org.postgresql.Driver \nurl=jdbc:postgresql://172.17.0.2:5432/first_db\nusername=postgres\npassword=mypassword\n</code></pre>\n<p>If I hardcode the user name it works fine.</p>\n<p>I just need to get my PostgreSQL user name (witch is running on my Docker container). What is wrong with this?</p>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1144312,"reputation":25594,"user_id":1127428,"accept_rate":79,"display_name":"Dale K"},"score":0,"creation_date":1673989950,"post_id":75152231,"comment_id":132618681,"body_markdown":"As per the question guide, please do not post images of code, data, error messages, etc. - copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text.","body":"As per the question guide, please do not post images of code, data, error messages, etc. - copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text."},{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":2,"creation_date":1673990042,"post_id":75152231,"comment_id":132618704,"body_markdown":"https://stackoverflow.com/questions/25283198/spring-boot-jpa-column-name-annotation-ignored may this be the issue?","body":"<a href=\"https://stackoverflow.com/questions/25283198/spring-boot-jpa-column-name-annotation-ignored\" title=\"spring boot jpa column name annotation ignored\">stackoverflow.com/questions/25283198/&hellip;</a> may this be the issue?"},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":1,"creation_date":1673990624,"post_id":75152231,"comment_id":132618855,"body_markdown":"@uylmz i tried same as above post given @Column(name=&quot;UserId&quot;) and added properties in application.properties file but now getting error as &quot;h.engine.jdbc.spi.SqlExceptionHelper   : The column name UsreId is not valid.&quot;","body":"@uylmz i tried same as above post given @Column(name=&quot;UserId&quot;) and added properties in application.properties file but now getting error as &quot;h.engine.jdbc.spi.SqlExceptionHelper   : The column name UsreId is not valid.&quot;"},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":1,"creation_date":1673992901,"post_id":75152231,"comment_id":132619474,"body_markdown":"@uylmz thanks for providing the link, that post provide partials fix and in the same post there is one more link which is second part of fix.","body":"@uylmz thanks for providing the link, that post provide partials fix and in the same post there is one more link which is second part of fix."}],"answers":[{"tags":[],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673992783,"creation_date":1673992783,"answer_id":75152649,"question_id":75152231,"body_markdown":"there are multiple fixes for this\r\n\r\n**we have to annotate @column for each column**\r\n\r\nand have to use below properties on application.properties\r\n\r\n    spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\nand also we have to use **mixedcase columne names in hyphens**\r\n\r\n    @Column(name=&quot;\\&quot;UserId\\&quot;&quot;)\r\n\r\nProvide links to posts that helped me [@column and properties][1]\r\n\r\n\r\n[Mixed case cloumn name][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25283198/spring-boot-jpa-column-name-annotation-ignored\r\n  [2]: https://stackoverflow.com/questions/35697121/jpa-hibernate-camelcase-field/35708531#35708531","title":"application is not using user_id and table also doesnt have user_id in users table, but getting error as The column name user_id is not valid","body":"<p>there are multiple fixes for this</p>\n<p><strong>we have to annotate @column for each column</strong></p>\n<p>and have to use below properties on application.properties</p>\n<pre><code>spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n<p>and also we have to use <strong>mixedcase columne names in hyphens</strong></p>\n<pre><code>@Column(name=&quot;\\&quot;UserId\\&quot;&quot;)\n</code></pre>\n<p>Provide links to posts that helped me <a href=\"https://stackoverflow.com/questions/25283198/spring-boot-jpa-column-name-annotation-ignored\">@column and properties</a></p>\n<p><a href=\"https://stackoverflow.com/questions/35697121/jpa-hibernate-camelcase-field/35708531#35708531\">Mixed case cloumn name</a></p>\n"}],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75152649,"answer_count":1,"score":-2,"last_activity_date":1673992783,"creation_date":1673989763,"question_id":75152231,"body_markdown":"application is not using user_id column and table also doesn&#39;t have user_id in users table, but getting error as **o.h.engine.jdbc.spi.SqlExceptionHelper   : The column name user_id is not valid.**\r\n\r\n     Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to find column position by name: user_id] with root cause\r\n\r\n**Dao interface**\r\n\r\n     @Query(value=&quot;Select * from Users u WHERE u.UserName=:username&quot;, nativeQuery = true)\r\n    User findByUsername(@Param(&quot;username&quot;) String username) throws SQLException;\r\n\r\n**Table data**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**User Model class**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/475gE.png\r\n  [2]: https://i.stack.imgur.com/IHBIo.png\r\n\r\nPlease help on this","title":"application is not using user_id and table also doesnt have user_id in users table, but getting error as The column name user_id is not valid","body":"<p>application is not using user_id column and table also doesn't have user_id in users table, but getting error as <strong>o.h.engine.jdbc.spi.SqlExceptionHelper   : The column name user_id is not valid.</strong></p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to find column position by name: user_id] with root cause\n</code></pre>\n<p><strong>Dao interface</strong></p>\n<pre><code> @Query(value=&quot;Select * from Users u WHERE u.UserName=:username&quot;, nativeQuery = true)\nUser findByUsername(@Param(&quot;username&quot;) String username) throws SQLException;\n</code></pre>\n<p><strong>Table data</strong></p>\n<p><a href=\"https://i.stack.imgur.com/475gE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/475gE.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>User Model class</strong></p>\n<p><a href=\"https://i.stack.imgur.com/IHBIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHBIo.png\" alt=\"enter image description here\" /></a></p>\n<p>Please help on this</p>\n"},{"tags":["java","json","jaxb","jersey","glassfish-5"],"answers":[{"comments":[{"owner":{"account_id":4571972,"reputation":936,"user_id":3711445,"accept_rate":50,"display_name":"kaizokun"},"score":0,"creation_date":1527064040,"post_id":50475609,"comment_id":87979790,"body_markdown":"Thanks for your answer. I have a manyToMany relationship with another class, on that class the User collection is transient but maybe it &#39;s ignored. I need to try. Thanks for the documentation.","body":"Thanks for your answer. I have a manyToMany relationship with another class, on that class the User collection is transient but maybe it &#39;s ignored. I need to try. Thanks for the documentation."}],"tags":[],"owner":{"account_id":13611000,"reputation":1818,"user_id":9818506,"display_name":"Rene Knop"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527019189,"creation_date":1527019189,"answer_id":50475609,"question_id":50471818,"body_markdown":"Maybe your &quot;strange stack overflow exception&quot; is caused by an infinite recursion with Jackson, like in [this][1] post. So `@JsonIgnore`, `@JsonManagedReference` or `@JsonBackReference` could be an option for you.\r\n\r\n - http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n - https://stackoverflow.com/questions/31319358/jsonmanagedreference-vs-jsonbackreference\r\n\r\n  [1]: https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue","title":"Parse a pojo into JSON with Jersey","body":"<p>Maybe your \"strange stack overflow exception\" is caused by an infinite recursion with Jackson, like in <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">this</a> post. So <code>@JsonIgnore</code>, <code>@JsonManagedReference</code> or <code>@JsonBackReference</code> could be an option for you.</p>\n\n<ul>\n<li><a href=\"http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></li>\n<li><a href=\"https://stackoverflow.com/questions/31319358/jsonmanagedreference-vs-jsonbackreference\">JsonManagedReference vs JsonBackReference</a></li>\n</ul>\n"}],"owner":{"account_id":4571972,"reputation":936,"user_id":3711445,"accept_rate":50,"display_name":"kaizokun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673992705,"creation_date":1527004188,"question_id":50471818,"body_markdown":"I&#39;m trying to convert an object into JSON format but it doesn&#39;t work (I get a strange stack overflow exception). It works perfectly from object to XML. I have a simple entity class User and another class with a manyToMany relationship.\r\n\r\n    @Entity\r\n    @XmlRootElement\r\n    public class User extends Person {\r\n    \r\n        @Column(length = 60)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;PSEUDO&quot;, length = 50)\r\n        protected String pseudo;\r\n       \r\n        @ManyToMany(fetch = FetchType.LAZY ,targetEntity = Group.class)\r\n        @OrderBy(&quot;group_name ASC&quot;)\r\n        protected List&lt;ItGroup&gt; groups = new LinkedList&lt;ItGroup&gt;();\r\n\r\n        ...\r\n\r\n        getters\r\n    \r\n    }\r\n \r\nthe related class\r\n\r\n    @Entity\r\n    @Table(name = &quot;groups&quot;)\r\n    public class Group implements ItGroup, Serializable {\r\n    \r\n    ...\r\n        @XmlTransient\r\n        @ManyToMany(fetch = FetchType.LAZY,mappedBy = &quot;groups&quot;,targetEntity = User.class)\r\n        @OrderBy(&quot;email ASC&quot;)\r\n        private List&lt;ItUser&gt; users = new LinkedList&lt;ItUser&gt;();\r\n    ...\r\n    \r\n    }\r\n\r\nI put the @XmlTransient annotations on getters I want to ignore.\r\n\r\nHere is a method in my rest service that return an user from his nickname\r\n\r\n        @GET\r\n        @Path(&quot;{nickname}&quot;)\r\n        @Produces({&quot;application/json&quot;})\r\n       // @Produces({&quot;application/xml&quot;})\r\n        public ItUser getUserFromPseudo(@PathParam(&quot;nickname&quot;) String pseudo){\r\n    \r\n            ItUser user = this.daoUser.getUserFromPseudo(pseudo);\r\n    \r\n            return user;\r\n        }\r\n\r\nSo it works with @Produces({&quot;application/xml&quot;}) not with @Produces({&quot;application/json&quot;})\r\n\r\nI&#39;m using Glassfish 5 and the modules are included this way in the parent POM of my application split into different modules. The fact is that I don&#39;t even know which implementation of jersey I&#39;m using... I read that moxy was the best and it could read the jaxb annotations.\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\nHow can I fix that problem?","title":"Parse a pojo into JSON with Jersey","body":"<p>I'm trying to convert an object into JSON format but it doesn't work (I get a strange stack overflow exception). It works perfectly from object to XML. I have a simple entity class User and another class with a manyToMany relationship.</p>\n<pre><code>@Entity\n@XmlRootElement\npublic class User extends Person {\n\n    @Column(length = 60)\n    private String email;\n\n    @Column(name = &quot;PSEUDO&quot;, length = 50)\n    protected String pseudo;\n   \n    @ManyToMany(fetch = FetchType.LAZY ,targetEntity = Group.class)\n    @OrderBy(&quot;group_name ASC&quot;)\n    protected List&lt;ItGroup&gt; groups = new LinkedList&lt;ItGroup&gt;();\n\n    ...\n\n    getters\n\n}\n</code></pre>\n<p>the related class</p>\n<pre><code>@Entity\n@Table(name = &quot;groups&quot;)\npublic class Group implements ItGroup, Serializable {\n\n...\n    @XmlTransient\n    @ManyToMany(fetch = FetchType.LAZY,mappedBy = &quot;groups&quot;,targetEntity = User.class)\n    @OrderBy(&quot;email ASC&quot;)\n    private List&lt;ItUser&gt; users = new LinkedList&lt;ItUser&gt;();\n...\n\n}\n</code></pre>\n<p>I put the @XmlTransient annotations on getters I want to ignore.</p>\n<p>Here is a method in my rest service that return an user from his nickname</p>\n<pre><code>    @GET\n    @Path(&quot;{nickname}&quot;)\n    @Produces({&quot;application/json&quot;})\n   // @Produces({&quot;application/xml&quot;})\n    public ItUser getUserFromPseudo(@PathParam(&quot;nickname&quot;) String pseudo){\n\n        ItUser user = this.daoUser.getUserFromPseudo(pseudo);\n\n        return user;\n    }\n</code></pre>\n<p>So it works with @Produces({&quot;application/xml&quot;}) not with @Produces({&quot;application/json&quot;})</p>\n<p>I'm using Glassfish 5 and the modules are included this way in the parent POM of my application split into different modules. The fact is that I don't even know which implementation of jersey I'm using... I read that moxy was the best and it could read the jaxb annotations.</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;8.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>How can I fix that problem?</p>\n"},{"tags":["java","csv","pojo","protobuf-java"],"owner":{"account_id":20229662,"reputation":1,"user_id":14836544,"display_name":"abdou khadre ndour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673992004,"creation_date":1673969561,"question_id":75148733,"body_markdown":"I have a classa java class a pojo defnit with csv files that I want to transform into a protobuf format message. Here is the class:\r\n\r\n```\r\n@CsvRecord(separator = &quot;\\\\|&quot;)\r\npublic class ServalMvtr2Pojo extends AbstractServalPojo {\r\n    private final List&lt;String&gt; authorizedFlagMateriel = Arrays.asList(AbstractServalPojo.CONST_FLAG_MATERIEL_C, AbstractServalPojo.CONST_FLAG_MATERIEL_D, AbstractServalPojo.CONST_FLAG_MATERIEL_K);\r\n    private final List&lt;String&gt; authorizedNatureMouvement = Arrays.asList(AbstractServalPojo.CONST_NATURE_MOUVEMENT_A, AbstractServalPojo.CONST_NATURE_MOUVEMENT_E);\r\n\r\n    // on d&#233;sactive checkstyle pour &#233;viter les magic numbers sur les positions des champs\r\n    //CHECKSTYLE:OFF\r\n    @DataField(pos = 1, defaultValue = EmptyStringConverter.EMPTY_DEFAULT_VALUE)\r\n    @BindyConverter(EmptyStringConverter.class)\r\n    private String reference;\r\n\r\n    @DataField(pos = 2, defaultValue = EmptyStringConverter.EMPTY_DEFAULT_VALUE)\r\n    @BindyConverter(EmptyStringConverter.class)\r\n    private String numSerieFormatServal;\r\n\r\n    @DataField(pos = 3, defaultValue = EmptyStringConverter.EMPTY_DEFAULT_VALUE)\r\n    @BindyConverter(EmptyStringConverter.class)\r\n    private String pfRecept;\r\n\r\n    @DataField(pos = 4, pattern = &quot;dd/MM/yyyy&quot;)\r\n    private Date dateReception;\r\n```\r\n\r\nI want to create the file.proto in protobuf format of this pojo","title":"class pojo with csv vs protobuf format","body":"<p>I have a classa java class a pojo defnit with csv files that I want to transform into a protobuf format message. Here is the class:</p>\n<pre><code>@CsvRecord(separator = &quot;\\\\|&quot;)\npublic class ServalMvtr2Pojo extends AbstractServalPojo {\n    private final List&lt;String&gt; authorizedFlagMateriel = Arrays.asList(AbstractServalPojo.CONST_FLAG_MATERIEL_C, AbstractServalPojo.CONST_FLAG_MATERIEL_D, AbstractServalPojo.CONST_FLAG_MATERIEL_K);\n    private final List&lt;String&gt; authorizedNatureMouvement = Arrays.asList(AbstractServalPojo.CONST_NATURE_MOUVEMENT_A, AbstractServalPojo.CONST_NATURE_MOUVEMENT_E);\n\n    // on désactive checkstyle pour éviter les magic numbers sur les positions des champs\n    //CHECKSTYLE:OFF\n    @DataField(pos = 1, defaultValue = EmptyStringConverter.EMPTY_DEFAULT_VALUE)\n    @BindyConverter(EmptyStringConverter.class)\n    private String reference;\n\n    @DataField(pos = 2, defaultValue = EmptyStringConverter.EMPTY_DEFAULT_VALUE)\n    @BindyConverter(EmptyStringConverter.class)\n    private String numSerieFormatServal;\n\n    @DataField(pos = 3, defaultValue = EmptyStringConverter.EMPTY_DEFAULT_VALUE)\n    @BindyConverter(EmptyStringConverter.class)\n    private String pfRecept;\n\n    @DataField(pos = 4, pattern = &quot;dd/MM/yyyy&quot;)\n    private Date dateReception;\n</code></pre>\n<p>I want to create the file.proto in protobuf format of this pojo</p>\n"},{"tags":["java","spring","oop"],"comments":[{"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"score":0,"creation_date":1673976941,"post_id":75149526,"comment_id":132614827,"body_markdown":"Do you use Spring Boot? If you don&#39;t, do you have `ComponentScan` annotation, which include this class location?","body":"Do you use Spring Boot? If you don&#39;t, do you have <code>ComponentScan</code> annotation, which include this class location?"}],"answers":[{"tags":[],"owner":{"account_id":14259382,"reputation":561,"user_id":10300663,"display_name":"Cristian Riță"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673991847,"creation_date":1673991847,"answer_id":75152538,"question_id":75149526,"body_markdown":"If this is a Spring Boot project, one easy way to fix the issue is to put this class under the same package as your main class. It works because the @SpringBootApplication implies the @Configuration and @ComponentScan annotations.\r\n\r\nIf this is not a SpringBoot project, you have to put the bean in the configuration class. This is a class annotated with @Configuration.","title":"How to solve the problem, related to the lack of visibility of the bean?","body":"<p>If this is a Spring Boot project, one easy way to fix the issue is to put this class under the same package as your main class. It works because the @SpringBootApplication implies the @Configuration and @ComponentScan annotations.</p>\n<p>If this is not a SpringBoot project, you have to put the bean in the configuration class. This is a class annotated with @Configuration.</p>\n"}],"owner":{"account_id":27554732,"reputation":11,"user_id":21029172,"display_name":"Emil Kowalczyk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673991847,"creation_date":1673973468,"question_id":75149526,"body_markdown":"I&#39;m writing an api in which I wanted to check the performance of the registration, while the application does not want to start because it does not see Bean -&gt; PasswordEncoder.\r\n\r\nDo you have any idea what I can do to make it work?\r\n\r\n**Problem**:\r\n\r\n&gt; Parameter 0 of constructor in com.example.socialplatform.service.AuthorizationService required a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; that could not be found.\r\n&gt; Consider defining a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; in your configuration.`\r\n\r\n\r\n***My classes:***\r\n\r\n**SecuritySettings**\r\n\r\n```\r\n@EnableWebSecurity\r\npublic class SecuritySettings extends WebSecurityConfigurerAdapter {   \r\n/* base class security, provides all the default security configuration  \r\nwhich i can override and customize */\r\n\r\n    @Override\r\n    public void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable()                                   \r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/authorization/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nI tried rebuilding the project, and maven.","title":"How to solve the problem, related to the lack of visibility of the bean?","body":"<p>I'm writing an api in which I wanted to check the performance of the registration, while the application does not want to start because it does not see Bean -&gt; PasswordEncoder.</p>\n<p>Do you have any idea what I can do to make it work?</p>\n<p><strong>Problem</strong>:</p>\n<blockquote>\n<p>Parameter 0 of constructor in com.example.socialplatform.service.AuthorizationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.\nConsider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.`</p>\n</blockquote>\n<p><em><strong>My classes:</strong></em></p>\n<p><strong>SecuritySettings</strong></p>\n<pre><code>@EnableWebSecurity\npublic class SecuritySettings extends WebSecurityConfigurerAdapter {   \n/* base class security, provides all the default security configuration  \nwhich i can override and customize */\n\n    @Override\n    public void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()                                   \n                .authorizeRequests()\n                .antMatchers(&quot;/api/authorization/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n    }\n\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>I tried rebuilding the project, and maven.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1343398420,"post_id":11689549,"comment_id":15499338,"body_markdown":"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1343398521,"post_id":11689549,"comment_id":15499405,"body_markdown":"Also, a char is meant to represent a char. What&#39;s the meaning of a char with a negative value?","body":"Also, a char is meant to represent a char. What&#39;s the meaning of a char with a negative value?"}],"answers":[{"comments":[{"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"score":1,"creation_date":1343400193,"post_id":11689587,"comment_id":15500213,"body_markdown":"Is boolean a signed data type?","body":"Is boolean a signed data type?"},{"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"score":1,"creation_date":1343400930,"post_id":11689587,"comment_id":15500575,"body_markdown":"@JaynathanLeung Please elaborate. Is false negative and true positive? and where is zero in that scheme?","body":"@JaynathanLeung Please elaborate. Is false negative and true positive? and where is zero in that scheme?"},{"owner":{"account_id":268035,"reputation":1147,"user_id":556562,"accept_rate":85,"display_name":"Jainathan Leung"},"score":1,"creation_date":1343401070,"post_id":11689587,"comment_id":15500661,"body_markdown":"a boolean is 1-bit. Either a 1 or a 0, denoting true or false.","body":"a boolean is 1-bit. Either a 1 or a 0, denoting true or false."},{"owner":{"account_id":1299431,"reputation":6587,"user_id":1249664,"accept_rate":85,"display_name":"auser"},"score":0,"creation_date":1343401297,"post_id":11689587,"comment_id":15500775,"body_markdown":"I see you&#39;ve changed your comment from yes it is to no it isn&#39;t.","body":"I see you&#39;ve changed your comment from yes it is to no it isn&#39;t."},{"owner":{"account_id":1531623,"reputation":3743,"user_id":1428695,"display_name":"yhyrcanus"},"score":3,"creation_date":1343401299,"post_id":11689587,"comment_id":15500777,"body_markdown":"you mean -1 or 0. It&#39;s a 2&#39;s complement bit. But in all seriousness, a boolean can only be &quot;true&quot; or &quot;false&quot; in java. It&#39;s probably implemented in bytecode as a signed 8 bit integer, but its not well defined. So it&#39;s not really worth bothering about.","body":"you mean -1 or 0. It&#39;s a 2&#39;s complement bit. But in all seriousness, a boolean can only be &quot;true&quot; or &quot;false&quot; in java. It&#39;s probably implemented in bytecode as a signed 8 bit integer, but its not well defined. So it&#39;s not really worth bothering about."},{"owner":{"account_id":501769,"reputation":9256,"user_id":1022707,"accept_rate":63,"display_name":"clankill3r"},"score":0,"creation_date":1595085676,"post_id":11689587,"comment_id":111355640,"body_markdown":"@JainathanLeung a boolean is larger then 1 bit cause a computer can not point to a single bit.","body":"@JainathanLeung a boolean is larger then 1 bit cause a computer can not point to a single bit."}],"tags":[],"owner":{"account_id":1531623,"reputation":3743,"user_id":1428695,"display_name":"yhyrcanus"},"comment_count":6,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1343398387,"creation_date":1343398387,"answer_id":11689587,"question_id":11689549,"body_markdown":"Char is the one data type that isn&#39;t signed in java. Its a 16 bit unsigned integer.","title":"Range of char in java","body":"<p>Char is the one data type that isn't signed in java. Its a 16 bit unsigned integer.</p>\n"},{"tags":[],"owner":{"account_id":1617529,"reputation":15129,"user_id":1494802,"accept_rate":100,"display_name":"munyengm"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1343398581,"creation_date":1343398416,"answer_id":11689598,"question_id":11689549,"body_markdown":"Straight from the Oracle tutorial for [Java datatypes.][1]\r\n&gt; `char`: The `char` data type is a single 16-bit Unicode character. It has a minimum value of \r\n`&#39;\\u0000&#39;` (or 0) and a maximum value of `&#39;\\uffff&#39;` (or 65,535 inclusive).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Range of char in java","body":"<p>Straight from the Oracle tutorial for <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">Java datatypes.</a></p>\n\n<blockquote>\n  <p><code>char</code>: The <code>char</code> data type is a single 16-bit Unicode character. It has a minimum value of \n  <code>'\\u0000'</code> (or 0) and a maximum value of <code>'\\uffff'</code> (or 65,535 inclusive).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343398442,"creation_date":1343398442,"answer_id":11689609,"question_id":11689549,"body_markdown":"It has a minimum value of `&#39;\\u0000&#39; (or 0)` and a maximum value of` &#39;\\uffff&#39; (or 65,535 inclusive)`.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Range of char in java","body":"<p>It has a minimum value of <code>'\\u0000' (or 0)</code> and a maximum value of<code>'\\uffff' (or 65,535 inclusive)</code>.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n"},{"tags":[],"owner":{"account_id":1692104,"reputation":3160,"user_id":1554255,"display_name":"Andrey Borisov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673991364,"creation_date":1343398467,"answer_id":11689619,"question_id":11689549,"body_markdown":"this is because -128 is int. you need to cast to char. please be aware that char is unsigned type, so after \r\n\r\n    char c = (char) -1;\r\n    System.out.print(Integer.valueOf(c).toString());\r\n\r\nyou will get \r\n **65535**","title":"Range of char in java","body":"<p>this is because -128 is int. you need to cast to char. please be aware that char is unsigned type, so after</p>\n<pre><code>char c = (char) -1;\nSystem.out.print(Integer.valueOf(c).toString());\n</code></pre>\n<p>you will get\n<strong>65535</strong></p>\n"},{"tags":[],"owner":{"account_id":1576271,"reputation":13026,"user_id":1462604,"accept_rate":80,"display_name":"Wug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343398479,"creation_date":1343398479,"answer_id":11689623,"question_id":11689549,"body_markdown":"Cast it:\r\n\r\n    char c = (char) -128;  \r\n\r\nThough this will probably not behave like you expect.  Perhaps a byte would be better?","title":"Range of char in java","body":"<p>Cast it:</p>\n\n<pre><code>char c = (char) -128;  \n</code></pre>\n\n<p>Though this will probably not behave like you expect.  Perhaps a byte would be better?</p>\n"},{"tags":[],"owner":{"account_id":425393,"reputation":1372,"user_id":805976,"display_name":"Mason Bryant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343407189,"creation_date":1343407189,"answer_id":11692079,"question_id":11689549,"body_markdown":"If you ever find yourself confused about min or max values of primitives, find their object equivalent and look for the MIN_VALUE or MAX_VALUE constant. Eg:\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#MIN_VALUE\r\n","title":"Range of char in java","body":"<p>If you ever find yourself confused about min or max values of primitives, find their object equivalent and look for the MIN_VALUE or MAX_VALUE constant. Eg:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#MIN_VALUE\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#MIN_VALUE</a></p>\n"},{"tags":[],"owner":{"account_id":6464024,"reputation":46,"user_id":5006727,"display_name":"Smiles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437348112,"creation_date":1437348112,"answer_id":31506969,"question_id":11689549,"body_markdown":"char holds 16 bit unsigned value.We can assign integer to char but positive upto 2 raise to the power 16 which is 65536-1 as we start from 0.\r\n\r\nif we need to assign -ve values that some of the bit will be loose and we will need to typecast.In this situation compiler will store the sign bit along with the actual value and the last bits will be dropped.\r\nchar c=(char) -128 will not give compile error but you will get absurd results\r\n","title":"Range of char in java","body":"<p>char holds 16 bit unsigned value.We can assign integer to char but positive upto 2 raise to the power 16 which is 65536-1 as we start from 0.</p>\n\n<p>if we need to assign -ve values that some of the bit will be loose and we will need to typecast.In this situation compiler will store the sign bit along with the actual value and the last bits will be dropped.\nchar c=(char) -128 will not give compile error but you will get absurd results</p>\n"},{"tags":[],"owner":{"account_id":3449301,"reputation":2732,"user_id":2889297,"display_name":"Devendra Lattu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492283412,"creation_date":1492283412,"answer_id":43430194,"question_id":11689549,"body_markdown":"As per Oracle Java [doc][1]\r\n\r\n&gt; char: The char data type is a single 16-bit Unicode character. It has\r\n&gt; a minimum value of &#39;\\u0000&#39; (or 0) and a maximum value of &#39;\\uffff&#39; (or\r\n&gt; 65,535 inclusive).\r\n\r\nTherefore, you cannot really assign negative values to `char` and `char c = -128` will result in error.\r\n&lt;br&gt;\r\nWhen you try to assign negative values to a char and type-cast it , it will rotate that value through the other (max) end.\r\n\r\n    char c;\r\n    c = (char) 65;    // &#39;A&#39;\r\n    c = (char) -100;  // &#39;ﾜ&#39; and it results in 65,535(inclusive) - 100 = (char) 65,436\r\n    c = (char) 65436; // &#39;ﾜ&#39;\r\n    \r\n    int i;\r\n    i = (char) 65;    // 65\r\n    i = (char) -1;    // 65535 : notice how the char value cycles through the other end\r\n    i = (char) -100;  // 65436 : same as (char) -100. Here, int returns 65,436.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Range of char in java","body":"<p>As per Oracle Java <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">doc</a></p>\n\n<blockquote>\n  <p>char: The char data type is a single 16-bit Unicode character. It has\n  a minimum value of '\\u0000' (or 0) and a maximum value of '\\uffff' (or\n  65,535 inclusive).</p>\n</blockquote>\n\n<p>Therefore, you cannot really assign negative values to <code>char</code> and <code>char c = -128</code> will result in error.\n<br>\nWhen you try to assign negative values to a char and type-cast it , it will rotate that value through the other (max) end.</p>\n\n<pre><code>char c;\nc = (char) 65;    // 'A'\nc = (char) -100;  // 'ﾜ' and it results in 65,535(inclusive) - 100 = (char) 65,436\nc = (char) 65436; // 'ﾜ'\n\nint i;\ni = (char) 65;    // 65\ni = (char) -1;    // 65535 : notice how the char value cycles through the other end\ni = (char) -100;  // 65436 : same as (char) -100. Here, int returns 65,436.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1105689,"reputation":14055,"user_id":1097123,"accept_rate":56,"display_name":"kimbaudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673991378,"creation_date":1559796849,"answer_id":56471066,"question_id":11689549,"body_markdown":"You can also check whether an int value is valid as a character code by using `Character.isValidCodePoint(int codePoint)` method:\r\n\r\n```java\r\nboolean isValid = Character.isValidCodePoint(-128); // false\r\n```","title":"Range of char in java","body":"<p>You can also check whether an int value is valid as a character code by using <code>Character.isValidCodePoint(int codePoint)</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isValid = Character.isValidCodePoint(-128); // false\n</code></pre>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30422,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":11689587,"answer_count":9,"score":4,"last_activity_date":1673991378,"creation_date":1343398283,"question_id":11689549,"body_markdown":"The following line of Java code produce error.   \r\nEven though datatypes in java are signed? \r\n\r\n    char c = -128;  \r\n\r\n\r\n \r\n   ","title":"Range of char in java","body":"<p>The following line of Java code produce error.<br />\nEven though datatypes in java are signed?</p>\n<pre><code>char c = -128;  \n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1674054591,"post_id":75152470,"comment_id":132633555,"body_markdown":"Try using `findDistinctByOrders_OrderStatus`","body":"Try using <code>findDistinctByOrders_OrderStatus</code>"},{"owner":{"account_id":27557071,"reputation":1,"user_id":21031058,"display_name":"DMIT"},"score":0,"creation_date":1674062167,"post_id":75152470,"comment_id":132636393,"body_markdown":"Thank you, Eric. It helped, I think it works as I wanted now.","body":"Thank you, Eric. It helped, I think it works as I wanted now."}],"owner":{"account_id":27557071,"reputation":1,"user_id":21031058,"display_name":"DMIT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673991347,"creation_date":1673991347,"question_id":75152470,"body_markdown":"I have two entities in my project User and Order, they are linked as ManyToOne, when I&#39;m trying to get all Users with specific Order status I get multiple copies of the same User. What am I doing wrong here?\r\n\r\nUser.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;t_user&quot;)\r\npublic class User {\r\n    @Id\r\n    private UUID id;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    Set&lt;Order&gt; orders = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nOrder.java\r\n\r\n```\r\npublic class Order {\r\n    @Id\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;order_status&quot;, nullable = false)\r\n    OrderStatus orderStatus;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    public void addUser(User user) {\r\n        this.user = user;\r\n        user.getOrders().add(this);\r\n    }\r\n\r\n    public void removeUser() {\r\n        if (user != null) {\r\n            user.getOrders().remove(this);\r\n            this.user = null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOrderStatus.java\r\n\r\n```\r\npublic enum OrderStatus {\r\n    PAYMENT, PAID, CAR_IN_USE, CAR_RETURNED, CLOSED;\r\n}\r\n```\r\n\r\nUserDao.java\r\n\r\n```\r\n@Repository\r\npublic interface UserDao extends JpaRepository&lt;User, UUID&gt; {\r\n    Page&lt;User&gt; findAllByOrders_OrderStatus(OrderStatus orderStatus, Pageable pageable);\r\n}\r\n```\r\n\r\nfindAllByOrders_OrderStatus always return multiple copies of User (if I have 6 orders, I&#39;ll have 6 User copies). What should I change here?","title":"Spring JPA query returns multiple copies of the same entity","body":"<p>I have two entities in my project User and Order, they are linked as ManyToOne, when I'm trying to get all Users with specific Order status I get multiple copies of the same User. What am I doing wrong here?</p>\n<p>User.java</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;t_user&quot;)\npublic class User {\n    @Id\n    private UUID id;\n\n    @OneToMany(mappedBy = &quot;user&quot;)\n    Set&lt;Order&gt; orders = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>Order.java</p>\n<pre><code>public class Order {\n    @Id\n    private UUID id;\n\n    @Column(name = &quot;order_status&quot;, nullable = false)\n    OrderStatus orderStatus;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    public void addUser(User user) {\n        this.user = user;\n        user.getOrders().add(this);\n    }\n\n    public void removeUser() {\n        if (user != null) {\n            user.getOrders().remove(this);\n            this.user = null;\n        }\n    }\n}\n</code></pre>\n<p>OrderStatus.java</p>\n<pre><code>public enum OrderStatus {\n    PAYMENT, PAID, CAR_IN_USE, CAR_RETURNED, CLOSED;\n}\n</code></pre>\n<p>UserDao.java</p>\n<pre><code>@Repository\npublic interface UserDao extends JpaRepository&lt;User, UUID&gt; {\n    Page&lt;User&gt; findAllByOrders_OrderStatus(OrderStatus orderStatus, Pageable pageable);\n}\n</code></pre>\n<p>findAllByOrders_OrderStatus always return multiple copies of User (if I have 6 orders, I'll have 6 User copies). What should I change here?</p>\n"},{"tags":["java","spring-data-jpa","hql","localtime"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669217427,"post_id":74548579,"comment_id":131595391,"body_markdown":"By the way, usually best to *not* use SQL `BETWEEN` for date-time ranges. Search Stack Overflow to learn about Half-Open approach.","body":"By the way, usually best to <i>not</i> use SQL <code>BETWEEN</code> for date-time ranges. Search Stack Overflow to learn about Half-Open approach."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669217527,"post_id":74548579,"comment_id":131595444,"body_markdown":"You have a query there. So what are you trying to ask? What exactly is the “problem” you spoke of?","body":"You have a query there. So what are you trying to ask? What exactly is the “problem” you spoke of?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669217633,"post_id":74548579,"comment_id":131595486,"body_markdown":"What *exactly* is the data type of your column? What database engine?","body":"What <i>exactly</i> is the data type of your column? What database engine?"},{"owner":{"account_id":12863257,"reputation":73,"user_id":9304362,"display_name":"Gabor"},"score":0,"creation_date":1669803529,"post_id":74548579,"comment_id":131724257,"body_markdown":"It is a postresql timestamp. But here I want to use hql. I just wanted to filter those localDateTime variables which time part is between two localTime variables.\nBtw I found the solution `CAST(endTime AS java.lang.Time)`","body":"It is a postresql timestamp. But here I want to use hql. I just wanted to filter those localDateTime variables which time part is between two localTime variables. Btw I found the solution <code>CAST(endTime AS java.lang.Time)</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669829979,"post_id":74548579,"comment_id":131734103,"body_markdown":"You mean `TIMESTAMP WITHOUT TIME ZONE`? You need to be quite clear on which of the two kinds of timestamp is your column. Also, this detail should be posted as an edit to your Question rather than as a Comment.","body":"You mean <code>TIMESTAMP WITHOUT TIME ZONE</code>? You need to be quite clear on which of the two kinds of timestamp is your column. Also, this detail should be posted as an edit to your Question rather than as a Comment."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669830073,"post_id":74548579,"comment_id":131734140,"body_markdown":"If you have a solution, here on Stack Overflow you are encouraged to post and accept your own Answer to your own Question.","body":"If you have a solution, here on Stack Overflow you are encouraged to post and accept your own Answer to your own Question."},{"owner":{"account_id":12863257,"reputation":73,"user_id":9304362,"display_name":"Gabor"},"score":0,"creation_date":1669910955,"post_id":74548579,"comment_id":131755236,"body_markdown":"I think it is irrelevant, how it is stored in db, because I use hql which should map (read and write) on db, by property type. The property time here is LocalDateTime; and I just wanted to read the Time part of that property in query. \n\nAlso I just wanted to know how to cast LocalDateTime to Time in hql query","body":"I think it is irrelevant, how it is stored in db, because I use hql which should map (read and write) on db, by property type. The property time here is LocalDateTime; and I just wanted to read the Time part of that property in query.   Also I just wanted to know how to cast LocalDateTime to Time in hql query"},{"owner":{"account_id":12863257,"reputation":73,"user_id":9304362,"display_name":"Gabor"},"score":0,"creation_date":1669912788,"post_id":74548579,"comment_id":131755895,"body_markdown":"@Basil Bourque in the database, the property type is a simple timestamp. (PostreSQL)","body":"@Basil Bourque in the database, the property type is a simple timestamp. (PostreSQL)"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670196117,"post_id":74644834,"comment_id":131813562,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74644834/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":12863257,"reputation":73,"user_id":9304362,"display_name":"Gabor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669910655,"creation_date":1669910655,"answer_id":74644834,"question_id":74548579,"body_markdown":"CAST(endTime AS java.lang.Time)","title":"HQL query: filtering LocalDateTime property by LocalTime","body":"<p>CAST(endTime AS java.lang.Time)</p>\n"}],"owner":{"account_id":12863257,"reputation":73,"user_id":9304362,"display_name":"Gabor"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673990453,"creation_date":1669214408,"question_id":74548579,"body_markdown":"I have a problem to create a query which gives back all value where time is between two parameter.\r\n\r\nHow can I get back those works where endTime time part is between the given LocalTime-s?\r\n\r\n    public class Work {\r\n   \r\n      private Long id;\r\n      private LocalDateTime endTime;\r\n\r\n      //getters setters \r\n    } \r\n\r\n    @Query(&quot;SELECT new package.dto(w.id) FROM Work w WHERE TIME(w.endTime) BETWEEN :from AND :to)\r\n    List&lt;Dto&gt; createDtoList(LocalTime from, LocalTime to);","title":"HQL query: filtering LocalDateTime property by LocalTime","body":"<p>I have a problem to create a query which gives back all value where time is between two parameter.</p>\n<p>How can I get back those works where endTime time part is between the given LocalTime-s?</p>\n<pre><code>public class Work {\n\n  private Long id;\n  private LocalDateTime endTime;\n\n  //getters setters \n} \n\n@Query(&quot;SELECT new package.dto(w.id) FROM Work w WHERE TIME(w.endTime) BETWEEN :from AND :to)\nList&lt;Dto&gt; createDtoList(LocalTime from, LocalTime to);\n</code></pre>\n"},{"tags":["java","sql","postgresql","criteria","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":14815625,"reputation":93,"user_id":10699764,"display_name":"Алексей"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670568974,"creation_date":1670568974,"answer_id":74739792,"question_id":74702004,"body_markdown":"It appears to be quite trivial, i just forgot that i can do that.\r\nIn @TABLE annotation i just added &quot;schema&quot; parameter\r\n```@Table(name = &#39;CLASS2&#39; shema=&#39;db2&#39;)```","title":"How to exclude db name from criteria builder?","body":"<p>It appears to be quite trivial, i just forgot that i can do that.\nIn @TABLE annotation i just added &quot;schema&quot; parameter\n<code>@Table(name = 'CLASS2' shema='db2')</code></p>\n"}],"owner":{"account_id":14815625,"reputation":93,"user_id":10699764,"display_name":"Алексей"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74739792,"answer_count":1,"score":0,"last_activity_date":1673990246,"creation_date":1670327326,"question_id":74702004,"body_markdown":"I am trying to get data from msSQLDB (if this is relevant) and while doing it I encountered an issue. What I want is to exclude db name from a query, it should look like that:\r\n```\r\nSelect ... from CLASS2 ...\r\n```\r\n\r\nBut what I am getting is:\r\n```\r\nSelect ... from db1.CLASS2 ...\r\n```\r\n\r\nThis is somewhat legacy project, so it is not possible to change architecture.\r\n\r\nIt worked on Oracle -&gt; WL -&gt; SQL Server database\r\nbut on current spec: PostgreSQL -&gt; Tomcat -&gt; SQL Server database it does not. Not sure if I provided enough data to work with, so I can provide more details if needed.\r\n```\r\n@Table(name = &#39;CLASS&#39;) //table from db1\r\nclass CLASS1 exstends SUPERCLASS {\r\n //empty\r\n}\r\n@Table(name = &#39;CLASS2&#39;) //table from db2\r\nclass CLASS2 exstends SUPERCLASS {\r\n//empty\r\n}\r\n\r\n@MappedSuperclass\r\nclass SUPERLASS {\r\n//fields here\r\n\r\npublic static List&lt;CLASS1&gt; getData(ConnectionToken ct) {\r\nCriteriaBuilder cb = ct.getCriteriaBuilder();\r\nCriteriaQuery query = cb.createQuery(CLASS1.class);\r\nRoot&lt;CLASS2.class) = query.from(CLASS2.class)\r\nquery.where ...\r\nreturn ...\r\n\r\n}\r\n}\r\n","title":"How to exclude db name from criteria builder?","body":"<p>I am trying to get data from msSQLDB (if this is relevant) and while doing it I encountered an issue. What I want is to exclude db name from a query, it should look like that:</p>\n<pre><code>Select ... from CLASS2 ...\n</code></pre>\n<p>But what I am getting is:</p>\n<pre><code>Select ... from db1.CLASS2 ...\n</code></pre>\n<p>This is somewhat legacy project, so it is not possible to change architecture.</p>\n<p>It worked on Oracle -&gt; WL -&gt; SQL Server database\nbut on current spec: PostgreSQL -&gt; Tomcat -&gt; SQL Server database it does not. Not sure if I provided enough data to work with, so I can provide more details if needed.</p>\n<pre><code>@Table(name = 'CLASS') //table from db1\nclass CLASS1 exstends SUPERCLASS {\n //empty\n}\n@Table(name = 'CLASS2') //table from db2\nclass CLASS2 exstends SUPERCLASS {\n//empty\n}\n\n@MappedSuperclass\nclass SUPERLASS {\n//fields here\n\npublic static List&lt;CLASS1&gt; getData(ConnectionToken ct) {\nCriteriaBuilder cb = ct.getCriteriaBuilder();\nCriteriaQuery query = cb.createQuery(CLASS1.class);\nRoot&lt;CLASS2.class) = query.from(CLASS2.class)\nquery.where ...\nreturn ...\n\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673963197,"post_id":75147371,"comment_id":132609836,"body_markdown":"Is the user the table name that doesn&#39;t create?","body":"Is the user the table name that doesn&#39;t create?"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1673963735,"post_id":75147371,"comment_id":132610056,"body_markdown":"@K.Nicholas the table name should be `_user` and this is not getting created.","body":"@K.Nicholas the table name should be <code>_user</code> and this is not getting created."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673963950,"post_id":75147371,"comment_id":132610138,"body_markdown":"I&#39;m pretty sure `User` has a table name will give you endless problems.","body":"I&#39;m pretty sure <code>User</code> has a table name will give you endless problems."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1673964183,"post_id":75147371,"comment_id":132610233,"body_markdown":"@K.Nicholas that&#39;s correct. `user` is a table name and that&#39;s why I use `_user`. However, I also tried it with many other names. Still the same issue.","body":"@K.Nicholas that&#39;s correct. <code>user</code> is a table name and that&#39;s why I use <code>_user</code>. However, I also tried it with many other names. Still the same issue."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673964405,"post_id":75147371,"comment_id":132610296,"body_markdown":"assign it to the correct data source and database connection works fine.","body":"assign it to the correct data source and database connection works fine."},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673964732,"post_id":75147371,"comment_id":132610412,"body_markdown":"Is it an error when your spring application starts up or just an IDE error? For the later this post might help - https://stackoverflow.com/questions/58666411/cannot-resolve-table-xx-in-spring-boot-application","body":"Is it an error when your spring application starts up or just an IDE error? For the later this post might help - <a href=\"https://stackoverflow.com/questions/58666411/cannot-resolve-table-xx-in-spring-boot-application\" title=\"cannot resolve table xx in spring boot application\">stackoverflow.com/questions/58666411/&hellip;</a>"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1673965315,"post_id":75147371,"comment_id":132610685,"body_markdown":"@Neeraj no there is no error when I run the application. IntelliJ shows the error on `_user` and this is assigned to the data source `postgres@localhost`, which is correct.","body":"@Neeraj no there is no error when I run the application. IntelliJ shows the error on <code>_user</code> and this is assigned to the data source <code>postgres@localhost</code>, which is correct."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1673966752,"post_id":75147371,"comment_id":132611231,"body_markdown":"did you run the spring application and seen anything regarding sql ddl in the logs? It won&#39;t exist until that happened and there&#39;s obviously no way to resolve a table in the intellij db browser when it doesn&#39;t exist yet","body":"did you run the spring application and seen anything regarding sql ddl in the logs? It won&#39;t exist until that happened and there&#39;s obviously no way to resolve a table in the intellij db browser when it doesn&#39;t exist yet"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1673968620,"post_id":75147371,"comment_id":132612002,"body_markdown":"@zapl I don&#39;t get any logs at all. I have just manually created the table. Now the error is gone but my table remains empty and I don&#39;t even get the SQL code. Seems like application.properties.yml is getting entirely ignored.","body":"@zapl I don&#39;t get any logs at all. I have just manually created the table. Now the error is gone but my table remains empty and I don&#39;t even get the SQL code. Seems like application.properties.yml is getting entirely ignored."},{"owner":{"account_id":16831616,"reputation":208,"user_id":12169433,"display_name":"Saurabh Singh"},"score":0,"creation_date":1673969903,"post_id":75147371,"comment_id":132612447,"body_markdown":"Can you remove spring.jpa.database and spring.jpa.database-platform as these properties are auto injected by default as per connection. and add debug=true as additional property. Then try","body":"Can you remove spring.jpa.database and spring.jpa.database-platform as these properties are auto injected by default as per connection. and add debug=true as additional property. Then try"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1673973900,"post_id":75147371,"comment_id":132613899,"body_markdown":"@SaurabhSingh I tried the same but I see no changes.","body":"@SaurabhSingh I tried the same but I see no changes."},{"owner":{"account_id":16831616,"reputation":208,"user_id":12169433,"display_name":"Saurabh Singh"},"score":0,"creation_date":1673975603,"post_id":75147371,"comment_id":132614406,"body_markdown":"What about logs on enabling debug, did you find any error/warning?","body":"What about logs on enabling debug, did you find any error/warning?"},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1673979774,"post_id":75147371,"comment_id":132615756,"body_markdown":"@xRay did you try the stackoverflow  link which tries to resolve the intellij error... I think this is more a ide feature which is not working properly?","body":"@xRay did you try the stackoverflow  link which tries to resolve the intellij error... I think this is more a ide feature which is not working properly?"}],"answers":[{"tags":[],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673989997,"creation_date":1673989997,"answer_id":75152269,"question_id":75147371,"body_markdown":"Ok, I finally got the solution and it seems like, I made the following mistakes.\r\n\r\n1. The file `application.properties.yml` was entirely ignored because the file name should be `application.yml` instead.\r\n2. My main class was using the annotation `@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })` (I did not mention this in my question, my bad!) caused the issue. Instead, it should be `@SpringBootApplication` only.\r\n3. IDE showed me the error because the table was not created yet. After running the app, the table will be created and then also the error will be removed. However, to avoid this error, although the table has not been created yet, you can use `@Entity(name = &quot;_user&quot;)` instead. It works the same.","title":"JPA cannot create table automatically","body":"<p>Ok, I finally got the solution and it seems like, I made the following mistakes.</p>\n<ol>\n<li>The file <code>application.properties.yml</code> was entirely ignored because the file name should be <code>application.yml</code> instead.</li>\n<li>My main class was using the annotation <code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })</code> (I did not mention this in my question, my bad!) caused the issue. Instead, it should be <code>@SpringBootApplication</code> only.</li>\n<li>IDE showed me the error because the table was not created yet. After running the app, the table will be created and then also the error will be removed. However, to avoid this error, although the table has not been created yet, you can use <code>@Entity(name = &quot;_user&quot;)</code> instead. It works the same.</li>\n</ol>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673989997,"creation_date":1673963124,"question_id":75147371,"body_markdown":"I have an entity and I want JPA to create a table for me.\r\n\r\n```java\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Entity\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;_user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue\r\n    private Integer id;\r\n    private String firstname;\r\n    private String lastname;\r\n    private String email;\r\n    private String password;\r\n}\r\n```\r\nIntelliJ gives me the error: *Cannot resolve table &#39;_user&#39;*\r\n\r\nI have assigned it to the correct data source and my database connection works fine.\r\n\r\n**application.properties.yml** \r\n```yaml\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://localhost:5432/jwt_security\r\n    username: postgres\r\n    password: password\r\n    driver-class-name: org.postgresql.Driver\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        format_sql: true\r\n    database: postgresql\r\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\r\n```\r\nThis is how it looks like:\r\n\r\n[![enter image description here][1]][1]\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vc6yi.png","title":"JPA cannot create table automatically","body":"<p>I have an entity and I want JPA to create a table for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;_user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue\n    private Integer id;\n    private String firstname;\n    private String lastname;\n    private String email;\n    private String password;\n}\n</code></pre>\n<p>IntelliJ gives me the error: <em>Cannot resolve table '_user'</em></p>\n<p>I have assigned it to the correct data source and my database connection works fine.</p>\n<p><strong>application.properties.yml</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:postgresql://localhost:5432/jwt_security\n    username: postgres\n    password: password\n    driver-class-name: org.postgresql.Driver\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: true\n    properties:\n      hibernate:\n        format_sql: true\n    database: postgresql\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>This is how it looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/Vc6yi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vc6yi.png\" alt=\"enter image description here\" /></a>\nWhat am I doing wrong?</p>\n"},{"tags":["java","spring","asynchronous","jakarta-ee"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1571488896,"post_id":58463602,"comment_id":103262937,"body_markdown":"If you&#39;re registering your `@Configuration` class in and refreshing your `ApplicationContext`, it&#39;ll pick up the `@EnableAsync` and set up what&#39;s needed. Are you worried Spring isn&#39;t doing that?","body":"If you&#39;re registering your <code>@Configuration</code> class in and refreshing your <code>ApplicationContext</code>, it&#39;ll pick up the <code>@EnableAsync</code> and set up what&#39;s needed. Are you worried Spring isn&#39;t doing that?"},{"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"score":1,"creation_date":1571490907,"post_id":58463602,"comment_id":103263409,"body_markdown":"I am worried that I might forget to add `@EnableAsync` and not be aware of that. ;-)","body":"I am worried that I might forget to add <code>@EnableAsync</code> and not be aware of that. ;-)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1571491439,"post_id":58463602,"comment_id":103263513,"body_markdown":"The tldr is check if `ctx.getBean(AbstractAsyncConfiguration.class)` throws a `NoSuchBeanDefinitionException`. The longer story is that Spring infrastructure registers one of those when it sees `@EnableAsync`. However, you might have registered one yourself (for whatever reason) so it&#39;s not 100% accurate.","body":"The tldr is check if <code>ctx.getBean(AbstractAsyncConfiguration.class)</code> throws a <code>NoSuchBeanDefinitionException</code>. The longer story is that Spring infrastructure registers one of those when it sees <code>@EnableAsync</code>. However, you might have registered one yourself (for whatever reason) so it&#39;s not 100% accurate."},{"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"score":0,"creation_date":1571492840,"post_id":58463602,"comment_id":103263818,"body_markdown":"@SotiriosDelimanolis like your approach. Will give it a try. Thanks!","body":"@SotiriosDelimanolis like your approach. Will give it a try. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":441792,"reputation":377,"user_id":832091,"display_name":"marcel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673989771,"creation_date":1673989771,"answer_id":75152235,"question_id":58463602,"body_markdown":"Thanks Pablo for your excellent question!\r\n\r\nIndeed, we should have a clear error when we start using Async without enabling it. I don&#39;t know if in Spring (boot) there is a clear way to enforce this but I found at least a clear way to check explicitly if async is enabled. Unfortunately the check on existence of the AbstractAsyncConfiguration bean didn&#39;t work in my case (Spring 4 application?). So I had to figure out another way. And this might be more reliable because it actually uses the behaviour, instead of checking the machinery.\r\n\r\nFor this you can create a bean with one async method that returns a value, say a String. When async is enabled it will always return null since it cannot return the actual value that is returned from the asynchronously called method implementation. When called synchronously it will in fact return that value, which indicates async is not enabled.\r\n\r\nHere is the code example for the check (obviously either way, but here I use the check from a postconstruct somewhere before using actual async stuff in my application):\r\n\r\n    private void check() {\r\n        if (&quot;sync&quot;.equals(asyncCheck.check())){\r\n            throw new RuntimeException(&quot;Async should be enabled.&quot;);\r\n        }\r\n    }\r\n\r\nAnd then the code of the AsyncCheck interface.\r\n\r\n    public interface AsyncCheck {\r\n        String check();\r\n    }\r\n\r\nAnd the AsyncCheckImpl bean.\r\n\r\n    @Component\r\n    public class AsyncCheckImpl implements AsyncCheck {\r\n\r\n       @Override\r\n       @Async\r\n       public String check() {\r\n           return &quot;sync&quot;;\r\n       }\r\n    }\r\n\r\nSide note is that obviously it is not recommended to return anything from a asynchronous method, but in this rare case it is kind of what you actually want.","title":"How to tell if `async` is enabled in Spring","body":"<p>Thanks Pablo for your excellent question!</p>\n<p>Indeed, we should have a clear error when we start using Async without enabling it. I don't know if in Spring (boot) there is a clear way to enforce this but I found at least a clear way to check explicitly if async is enabled. Unfortunately the check on existence of the AbstractAsyncConfiguration bean didn't work in my case (Spring 4 application?). So I had to figure out another way. And this might be more reliable because it actually uses the behaviour, instead of checking the machinery.</p>\n<p>For this you can create a bean with one async method that returns a value, say a String. When async is enabled it will always return null since it cannot return the actual value that is returned from the asynchronously called method implementation. When called synchronously it will in fact return that value, which indicates async is not enabled.</p>\n<p>Here is the code example for the check (obviously either way, but here I use the check from a postconstruct somewhere before using actual async stuff in my application):</p>\n<pre><code>private void check() {\n    if (&quot;sync&quot;.equals(asyncCheck.check())){\n        throw new RuntimeException(&quot;Async should be enabled.&quot;);\n    }\n}\n</code></pre>\n<p>And then the code of the AsyncCheck interface.</p>\n<pre><code>public interface AsyncCheck {\n    String check();\n}\n</code></pre>\n<p>And the AsyncCheckImpl bean.</p>\n<pre><code>@Component\npublic class AsyncCheckImpl implements AsyncCheck {\n\n   @Override\n   @Async\n   public String check() {\n       return &quot;sync&quot;;\n   }\n}\n</code></pre>\n<p>Side note is that obviously it is not recommended to return anything from a asynchronous method, but in this rare case it is kind of what you actually want.</p>\n"}],"owner":{"account_id":26091,"reputation":178014,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75152235,"answer_count":1,"score":2,"last_activity_date":1673989771,"creation_date":1571487467,"question_id":58463602,"body_markdown":"Straightforward question. Is there a way to tell in a Spring Application (ApplicationContext or similar) if `async`  is enabled?\r\n\r\nI have a configuration bean:\r\n\r\n     @Configuration\r\n     @EnableAsync\r\n     public class MyConfig {}\r\n\r\n\r\nI would like to know, in my code, if `async` is actually enabled.","title":"How to tell if `async` is enabled in Spring","body":"<p>Straightforward question. Is there a way to tell in a Spring Application (ApplicationContext or similar) if <code>async</code>  is enabled?</p>\n\n<p>I have a configuration bean:</p>\n\n<pre><code> @Configuration\n @EnableAsync\n public class MyConfig {}\n</code></pre>\n\n<p>I would like to know, in my code, if <code>async</code> is actually enabled.</p>\n"},{"tags":["java","selenium","nosuchelementexception","selenium4","relative-locators"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1673983014,"post_id":75150974,"comment_id":132616709,"body_markdown":"might need another ) maybe: driver.findElement(RelativeLocator.with(By.xpath(&quot;//div[contains(@class , &#39;oxd-sheet--rounded&#39;)]/p[1]&quot;)).below(loginPageTitle)));  Probably easier to create the By... so By locator = RelativeLocator.with(By.xpath(&quot;//div[contains(@class , &#39;oxd-sheet--rounded&#39;)]/p[1]&quot;)).below(loginPageTitle));  And then use that in findElement.","body":"might need another ) maybe: driver.findElement(RelativeLocator.with(By.xpath(&quot;//div[cont&zwnj;&#8203;ains(@class , &#39;oxd-sheet--rounded&#39;)]/p[1]&quot;)).below(loginPageTitle)));  Probably easier to create the By... so By locator = RelativeLocator.with(By.xpath(&quot;//div[contains(@class , &#39;oxd-sheet--rounded&#39;)]/p[1]&quot;)).below(loginPageTitle));  And then use that in findElement."},{"owner":{"account_id":24536873,"reputation":3,"user_id":18447844,"display_name":"Ali Eleish"},"score":0,"creation_date":1673983917,"post_id":75150974,"comment_id":132616988,"body_markdown":"Tried but the same error is still reproduced.","body":"Tried but the same error is still reproduced."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1673986709,"post_id":75150974,"comment_id":132617759,"body_markdown":"not real sure if these are supported by the drivers... (I&#39;ve never used them myself...)  You can always create an XPATH to do essentially the same thing... it&#39;s just relative to the DOM structure instead of view.  (using things like parent, child, etc...)  The W3C webdriver standard doesn&#39;t mention anything about these relative locators: https://www.w3.org/TR/webdriver/#locator-strategies","body":"not real sure if these are supported by the drivers... (I&#39;ve never used them myself...)  You can always create an XPATH to do essentially the same thing... it&#39;s just relative to the DOM structure instead of view.  (using things like parent, child, etc...)  The W3C webdriver standard doesn&#39;t mention anything about these relative locators: <a href=\"https://www.w3.org/TR/webdriver/#locator-strategies\" rel=\"nofollow noreferrer\">w3.org/TR/webdriver/#locator-strategies</a>"}],"answers":[{"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1673988511,"post_id":75151954,"comment_id":132618264,"body_markdown":"Great to know these are supported.  Is it only chromedriver that supports these?  Also, is there a significant speed difference vs. using XPATH?  Seems like the browser would have to get all the bounding rectangles in the current DOM?","body":"Great to know these are supported.  Is it only chromedriver that supports these?  Also, is there a significant speed difference vs. using XPATH?  Seems like the browser would have to get all the bounding rectangles in the current DOM?"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1673988627,"post_id":75151954,"comment_id":132618294,"body_markdown":"@pcalkins Yeap, the browser would have to get all the bounding rectangles of the referenced element in the current DOM.","body":"@pcalkins Yeap, the browser would have to get all the bounding rectangles of the referenced element in the current DOM."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673987905,"creation_date":1673987905,"answer_id":75151954,"question_id":75150974,"body_markdown":"You seem to be pretty close using [**Below**](https://www.selenium.dev/documentation/webdriver/elements/locators/#below) as a [Relative Locator](https://stackoverflow.com/a/73052590/7429447) within the [OrangeHRM](https://opensource-demo.orangehrmlive.com/web/index.php/auth/login) website.\r\n\r\nHowever instead of using the `&lt;div&gt;` with the text **Username : Admin** and **Password : admin123** as [Relative Locators](https://www.selenium.dev/documentation/webdriver/elements/locators/#relative-locators) you can use the `&lt;label&gt;` with text as _**Username**_ and _**Password**_.\r\n\r\nCode Block:\r\n\r\n\tpackage AwesomeDay;\r\n\r\n\timport java.time.Duration;\r\n\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.WebElement;\r\n\timport org.openqa.selenium.chrome.ChromeDriver;\r\n\timport org.openqa.selenium.chrome.ChromeOptions;\r\n\timport org.openqa.selenium.support.locators.RelativeLocator;\r\n\timport org.openqa.selenium.support.ui.ExpectedConditions;\r\n\timport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n\tpublic class RelativeLocators2 {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\t\t\tdriver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\r\n\r\n\t\t\t//WebElement userNameLabel =  driver.findElement(By.xpath(&quot;//label[text()=&#39;Username&#39;]&quot;));\r\n\t\t\tWebElement userNameLabel = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//label[text()=&#39;Username&#39;]&quot;)));\r\n\t\t\tBy userName = RelativeLocator.with(By.tagName(&quot;input&quot;)).below(userNameLabel);\r\n\t\t\tdriver.findElement(userName).sendKeys(&quot;Ali&quot;);\r\n\r\n\t\t\tWebElement passwordLabel =  driver.findElement(By.xpath(&quot;//label[text()=&#39;Password&#39;]&quot;)); \r\n\t\t\tBy password = RelativeLocator.with(By.tagName(&quot;input&quot;)).below(passwordLabel);\r\n\t\t\tdriver.findElement(password).sendKeys(&quot;Eleish&quot;);\r\n\t\t}\r\n\t}\r\n\t\t\t\r\nBrowser Snapshot:\r\n\r\n![Relative_Java](https://i.stack.imgur.com/Emmyl.png)","title":"Using Relative Locators results in org.openqa.selenium.NoSuchElementException: Cannot locate an element using [unknown locator] with Selenium Java","body":"<p>You seem to be pretty close using <a href=\"https://www.selenium.dev/documentation/webdriver/elements/locators/#below\" rel=\"nofollow noreferrer\"><strong>Below</strong></a> as a <a href=\"https://stackoverflow.com/a/73052590/7429447\">Relative Locator</a> within the <a href=\"https://opensource-demo.orangehrmlive.com/web/index.php/auth/login\" rel=\"nofollow noreferrer\">OrangeHRM</a> website.</p>\n<p>However instead of using the <code>&lt;div&gt;</code> with the text <strong>Username : Admin</strong> and <strong>Password : admin123</strong> as <a href=\"https://www.selenium.dev/documentation/webdriver/elements/locators/#relative-locators\" rel=\"nofollow noreferrer\">Relative Locators</a> you can use the <code>&lt;label&gt;</code> with text as <em><strong>Username</strong></em> and <em><strong>Password</strong></em>.</p>\n<p>Code Block:</p>\n<pre><code>package AwesomeDay;\n\nimport java.time.Duration;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.locators.RelativeLocator;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class RelativeLocators2 {\n\n    public static void main(String[] args) {\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--start-maximized&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/web/index.php/auth/login&quot;);\n\n        //WebElement userNameLabel =  driver.findElement(By.xpath(&quot;//label[text()='Username']&quot;));\n        WebElement userNameLabel = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//label[text()='Username']&quot;)));\n        By userName = RelativeLocator.with(By.tagName(&quot;input&quot;)).below(userNameLabel);\n        driver.findElement(userName).sendKeys(&quot;Ali&quot;);\n\n        WebElement passwordLabel =  driver.findElement(By.xpath(&quot;//label[text()='Password']&quot;)); \n        By password = RelativeLocator.with(By.tagName(&quot;input&quot;)).below(passwordLabel);\n        driver.findElement(password).sendKeys(&quot;Eleish&quot;);\n    }\n}\n        \n</code></pre>\n<p>Browser Snapshot:</p>\n<p><img src=\"https://i.stack.imgur.com/Emmyl.png\" alt=\"Relative_Java\" /></p>\n"}],"owner":{"account_id":24536873,"reputation":3,"user_id":18447844,"display_name":"Ali Eleish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673988105,"creation_date":1673981376,"question_id":75150974,"body_markdown":"I&#39;m using selenium 4 and trying to locate some elements (Username and password credentials) &quot;Username : Admin\r\nPassword : admin123&quot; using Relative Locators selenium 4 new feature but the Code throws org.openqa.selenium.NoSuchElementException: Cannot locate an element using \\[unknown locator\\] but when I debugged the code to test it, it passed successfully ,found the elements and printed the values on the console. anyone has a proposed solution?\r\n\r\n    org.openqa.selenium.NoSuchElementException: Cannot locate an element using \\[unknown locator\\]\r\n    For documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\n    Build info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\n    System info: host: &#39;DESKTOP-M0R33E6&#39;, ip: &#39;192.168.1.4&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;13.0.2&#39;\r\n    Driver info: driver.version: RemoteWebDriver\r\n    \r\n        at org.openqa.selenium.By.findElement(By.java:124)\r\n        at org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:136)\r\n        at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:80)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:365)\r\n        at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:357)\r\n        at OrangeHrm.Pages.LoginPage.getUsernameUsingRelativeLocator(LoginPage.java:29)\r\n        at OrangeHrm_Tests.Login.LoginTests.test_GetUserCredentials(LoginTests.java:10)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n        at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:135)\r\n        at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:673)\r\n        at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:220)\r\n        at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n        at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:945)\r\n        at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:193)\r\n        at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n        at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\r\n        at org.testng.TestRunner.privateRun(TestRunner.java:808)\r\n        at org.testng.TestRunner.run(TestRunner.java:603)\r\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\r\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\r\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\r\n        at org.testng.SuiteRunner.run(SuiteRunner.java:326)\r\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\r\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n        at org.testng.TestNG.runSuites(TestNG.java:1092)\r\n        at org.testng.TestNG.run(TestNG.java:1060)\r\n        at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n        at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n\r\nWebsite URL: https://opensource-demo.orangehrmlive.com/web/index.php/auth/login\r\n\r\n```\r\nLoginPage.java\r\n\r\npackage OrangeHrm.Pages;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.locators.RelativeLocator;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\n\r\n\r\npublic class LoginPage {\r\n\r\n    private WebDriver driver;\r\n    private By loginPageTitle = By.tagName(&quot;h5&quot;);\r\n    WebElement usernameCredential;\r\n    WebElement passwordCredential;\r\n\r\n    public LoginPage(WebDriver driver){\r\n        this.driver = driver;\r\n    }\r\n\r\n    public String getUsernameUsingRelativeLocator(){\r\n        usernameCredential = driver.findElement(RelativeLocator.with(By.xpath(&quot;//div[contains(@class , &#39;oxd-sheet--rounded&#39;)]/p[1]&quot;))\r\n                .below(loginPageTitle));\r\n        System.out.println(usernameCredential.getText());\r\n        return  usernameCredential.getText();\r\n    }\r\n\r\n    public String getPasswordUsingRelativeLocator(){\r\n\r\n        passwordCredential = driver.findElement(RelativeLocator.with(By.xpath(&quot;//div[contains(@class , &#39;oxd-sheet--rounded&#39;)]/p[2]&quot;))\r\n               .below(username));\r\n        System.out.println(passwordCredential.getText());\r\n        return  passwordCredential.getText();\r\n    }\r\n}\r\n```\r\n\r\nOrangeHrmWebTestBase.java\r\n\r\n```\r\npackage OrangeHrm_Tests.Base;\r\n\r\nimport OrangeHrm.Pages.LoginPage;\r\nimport io.github.bonigarcia.wdm.WebDriverManager;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.testng.annotations.AfterClass;\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\n\r\nimport java.time.Duration;\r\n\r\npublic class OrangeHrmWebTestBase {\r\n\r\n    private WebDriver driver;\r\n    protected LoginPage loginPageObj;\r\n\r\n    @BeforeClass\r\n    public void setUp(){\r\n        WebDriverManager.chromedriver().setup();\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/&quot;);\r\n        loginPageObj = new LoginPage(driver);\r\n\r\n    }\r\n\r\n    @AfterClass\r\n    public void teatDown(){\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nLoginTests.java\r\n\r\n```\r\npackage OrangeHrm_Tests.Login;\r\n\r\nimport OrangeHrm_Tests.Base.OrangeHrmWebTestBase;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class LoginTests extends OrangeHrmWebTestBase {\r\n\r\n    @Test\r\n    public void test_GetUserCredentials(){\r\n        loginPageObj.getUsernameUsingRelativeLocator();\r\n        loginPageObj.getPasswordUsingRelativeLocator();\r\n    }\r\n}\r\n```","title":"Using Relative Locators results in org.openqa.selenium.NoSuchElementException: Cannot locate an element using [unknown locator] with Selenium Java","body":"<p>I'm using selenium 4 and trying to locate some elements (Username and password credentials) &quot;Username : Admin\nPassword : admin123&quot; using Relative Locators selenium 4 new feature but the Code throws org.openqa.selenium.NoSuchElementException: Cannot locate an element using [unknown locator] but when I debugged the code to test it, it passed successfully ,found the elements and printed the values on the console. anyone has a proposed solution?</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: Cannot locate an element using \\[unknown locator\\]\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'DESKTOP-M0R33E6', ip: '192.168.1.4', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '13.0.2'\nDriver info: driver.version: RemoteWebDriver\n\n    at org.openqa.selenium.By.findElement(By.java:124)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$1.findElement(ElementLocation.java:136)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:80)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:365)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:357)\n    at OrangeHrm.Pages.LoginPage.getUsernameUsingRelativeLocator(LoginPage.java:29)\n    at OrangeHrm_Tests.Login.LoginTests.test_GetUserCredentials(LoginTests.java:10)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:135)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:673)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:220)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:945)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:193)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1507)\n    at org.testng.TestRunner.privateRun(TestRunner.java:808)\n    at org.testng.TestRunner.run(TestRunner.java:603)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:326)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n    at org.testng.TestNG.runSuites(TestNG.java:1092)\n    at org.testng.TestNG.run(TestNG.java:1060)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n</code></pre>\n<p>Website URL: <a href=\"https://opensource-demo.orangehrmlive.com/web/index.php/auth/login\" rel=\"nofollow noreferrer\">https://opensource-demo.orangehrmlive.com/web/index.php/auth/login</a></p>\n<pre><code>LoginPage.java\n\npackage OrangeHrm.Pages;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.locators.RelativeLocator;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\n\npublic class LoginPage {\n\n    private WebDriver driver;\n    private By loginPageTitle = By.tagName(&quot;h5&quot;);\n    WebElement usernameCredential;\n    WebElement passwordCredential;\n\n    public LoginPage(WebDriver driver){\n        this.driver = driver;\n    }\n\n    public String getUsernameUsingRelativeLocator(){\n        usernameCredential = driver.findElement(RelativeLocator.with(By.xpath(&quot;//div[contains(@class , 'oxd-sheet--rounded')]/p[1]&quot;))\n                .below(loginPageTitle));\n        System.out.println(usernameCredential.getText());\n        return  usernameCredential.getText();\n    }\n\n    public String getPasswordUsingRelativeLocator(){\n\n        passwordCredential = driver.findElement(RelativeLocator.with(By.xpath(&quot;//div[contains(@class , 'oxd-sheet--rounded')]/p[2]&quot;))\n               .below(username));\n        System.out.println(passwordCredential.getText());\n        return  passwordCredential.getText();\n    }\n}\n</code></pre>\n<p>OrangeHrmWebTestBase.java</p>\n<pre><code>package OrangeHrm_Tests.Base;\n\nimport OrangeHrm.Pages.LoginPage;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.AfterClass;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\n\nimport java.time.Duration;\n\npublic class OrangeHrmWebTestBase {\n\n    private WebDriver driver;\n    protected LoginPage loginPageObj;\n\n    @BeforeClass\n    public void setUp(){\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(&quot;https://opensource-demo.orangehrmlive.com/&quot;);\n        loginPageObj = new LoginPage(driver);\n\n    }\n\n    @AfterClass\n    public void teatDown(){\n        driver.quit();\n    }\n}\n</code></pre>\n<p>LoginTests.java</p>\n<pre><code>package OrangeHrm_Tests.Login;\n\nimport OrangeHrm_Tests.Base.OrangeHrmWebTestBase;\nimport org.testng.annotations.Test;\n\npublic class LoginTests extends OrangeHrmWebTestBase {\n\n    @Test\n    public void test_GetUserCredentials(){\n        loginPageObj.getUsernameUsingRelativeLocator();\n        loginPageObj.getPasswordUsingRelativeLocator();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","autowired","multi-module","spring-repositories"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1673984662,"post_id":75151334,"comment_id":132617210,"body_markdown":"If those services are null, they might not be in your component scanning. Have you specified the path to those services in your component scan correctly?","body":"If those services are null, they might not be in your component scanning. Have you specified the path to those services in your component scan correctly?"},{"owner":{"account_id":23058102,"reputation":11,"user_id":17173862,"display_name":"Kacper Rydzyński"},"score":0,"creation_date":1673984845,"post_id":75151334,"comment_id":132617264,"body_markdown":"All of my modules are in &quot;com.rydzwr.tictactoe&quot;.\nRepositories/services are in &quot;com.rydzwr.tictactoe.database&quot; and I need them in &quot;com.rydzwr.tictactoe.game&quot;","body":"All of my modules are in &quot;com.rydzwr.tictactoe&quot;. Repositories/services are in &quot;com.rydzwr.tictactoe.database&quot; and I need them in &quot;com.rydzwr.tictactoe.game&quot;"},{"owner":{"account_id":23058102,"reputation":11,"user_id":17173862,"display_name":"Kacper Rydzyński"},"score":0,"creation_date":1673985944,"post_id":75151334,"comment_id":132617564,"body_markdown":"Even if I&#39;m trying to @Autowire repositoryAdapter, implemented in same module with repository in constructor, still can&#39;t","body":"Even if I&#39;m trying to @Autowire repositoryAdapter, implemented in same module with repository in constructor, still can&#39;t"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1674006796,"post_id":75151334,"comment_id":132621721,"body_markdown":"Have you implemented the GameService、UserService &amp;  PlayerService  class, in rigth package?Sometimes, copying other codes will ignore the correctness of the package path.Also, your service needs to be managed by spring (plus @service or @Component). \nBecause you only give a partial code, you can&#39;t guess the reason in detail","body":"Have you implemented the GameService、UserService &amp;  PlayerService  class, in rigth package?Sometimes, copying other codes will ignore the correctness of the package path.Also, your service needs to be managed by spring (plus @service or @Component).  Because you only give a partial code, you can&#39;t guess the reason in detail"}],"answers":[{"comments":[{"owner":{"account_id":23058102,"reputation":11,"user_id":17173862,"display_name":"Kacper Rydzyński"},"score":0,"creation_date":1674068830,"post_id":75151956,"comment_id":132638527,"body_markdown":"Injected Worked","body":"Injected Worked"}],"tags":[],"owner":{"account_id":4245893,"reputation":540,"user_id":3474594,"display_name":"szymon_prz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673987917,"creation_date":1673987917,"answer_id":75151956,"question_id":75151334,"body_markdown":"You can&#39;t create `new` instances of `LocalPlayerGameStrategy` and `MultiPlayerGameStrategy` inside `GameStrategySelector` they won&#39;t be spring beans so they can&#39;t @Autowire other beans.\r\n\r\nModify your `GameStrategySelector` to inject all `BuildGameStrategy` instead of creating them manually\r\n\r\n    @Service\r\n    public class GameStrategySelector {\r\n        private final List&lt;BuildGameStrategy&gt; strategyList;\r\n        \r\n        public GameStrategySelector(List&lt;BuildGameStrategy&gt; allStrategies){\r\n            strategyList = allStrategies;\r\n        }\r\n    \r\n        public BuildGameStrategy chooseStrategy(GameDto gameDto) {\r\n            return strategyList\r\n                    .stream()\r\n                    .filter(strategy -&gt; strategy.applies(gameDto))\r\n                    .findFirst()\r\n                    .orElse(new ErrorGameTypeStrategy());\r\n        }\r\n    }","title":"@Autowired not working in multi-module application","body":"<p>You can't create <code>new</code> instances of <code>LocalPlayerGameStrategy</code> and <code>MultiPlayerGameStrategy</code> inside <code>GameStrategySelector</code> they won't be spring beans so they can't @Autowire other beans.</p>\n<p>Modify your <code>GameStrategySelector</code> to inject all <code>BuildGameStrategy</code> instead of creating them manually</p>\n<pre><code>@Service\npublic class GameStrategySelector {\n    private final List&lt;BuildGameStrategy&gt; strategyList;\n    \n    public GameStrategySelector(List&lt;BuildGameStrategy&gt; allStrategies){\n        strategyList = allStrategies;\n    }\n\n    public BuildGameStrategy chooseStrategy(GameDto gameDto) {\n        return strategyList\n                .stream()\n                .filter(strategy -&gt; strategy.applies(gameDto))\n                .findFirst()\n                .orElse(new ErrorGameTypeStrategy());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23058102,"reputation":11,"user_id":17173862,"display_name":"Kacper Rydzyński"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673987917,"creation_date":1673983460,"question_id":75151334,"body_markdown":"I need to @Autowire database services or repositores form &quot;database&quot; module in &quot;game&quot; module.\r\nAlready added those annotations in main &quot;Application&quot; class:\r\n\r\n```\r\n@Configuration\r\n@EnableMethodSecurity\r\n@SpringBootApplication\r\n@EnableAutoConfiguration\r\n@EntityScan(basePackages=&quot;com.rydzwr.tictactoe&quot;)\r\n@ComponentScan(basePackages=&quot;com.rydzwr.tictactoe&quot;)\r\n@EnableJpaRepositories(basePackages=&quot;com.rydzwr.tictactoe&quot;)\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\nAdding them in constructor is much more difficult, becouse I&#39;m need to create list of instances of those classes in StrategySelector:\r\n\r\n```\r\n@Service\r\npublic class GameStrategySelector {\r\n    private final List&lt;BuildGameStrategy&gt; strategyList = asList(\r\n           new LocalPlayerGameStrategy(),\r\n            new MultiPlayerGameStrategy()\r\n    );\r\n\r\n    public BuildGameStrategy chooseStrategy(GameDto gameDto) {\r\n        return strategyList\r\n                .stream()\r\n                .filter(strategy -&gt; strategy.applies(gameDto))\r\n                .findFirst()\r\n                .orElse(new ErrorGameTypeStrategy());\r\n    }\r\n}\r\n```\r\nOr, maybe someone has better idea, for StrategySelector logic?\r\n\r\nHere is class with given problem:\r\n\r\n\r\n```\r\n@Component\r\npublic class LocalPlayerGameStrategy implements BuildGameStrategy {\r\n    @Autowired\r\n    private GameService gameService;\r\n    @Autowired\r\n    private UserService userService;\r\n    @Autowired\r\n    private PlayerService playerService;\r\n\r\n    @Override\r\n    @Transactional\r\n    public void buildGame(GameDto gameDto) {\r\n        Game game = new GameBuilder(gameDto.getGameSize(), gameDto.getGameDifficulty()).build();\r\n        gameService.save(game);\r\n\r\n        User caller = userService.findByName(SecurityContextHolder.getContext().getAuthentication().getName());\r\n        assert caller != null;\r\n\r\n        for (PlayerDto playerDto : gameDto.getPlayers()) {\r\n            Player player = new PlayerBuilder().setGame(game).setUser(caller).setPlayerDetails(playerDto).build();\r\n            playerService.save(player);\r\n        }\r\n\r\n        game.setState(GameState.IN_PROGRESS);\r\n\r\n        gameService.save(game);\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean applies(GameDto gameDto) {\r\n        return gameDto.getPlayers().stream().allMatch(p -&gt; p.getPlayerType().equals(PlayerType.LOCAL.name()));\r\n    }\r\n}\r\n\r\n```\r\nI tried to autowire repositores and services with implemented logic as well.\r\nEvery time all of them:\r\n\r\n\r\n```\r\n@Autowired\r\n    private GameService gameService;\r\n    @Autowired\r\n    private UserService userService;\r\n    @Autowired\r\n    private PlayerService playerService;\r\n```\r\nARE NULL\r\n\r\n\r\n\r\nI tried everything I found on google","title":"@Autowired not working in multi-module application","body":"<p>I need to @Autowire database services or repositores form &quot;database&quot; module in &quot;game&quot; module.\nAlready added those annotations in main &quot;Application&quot; class:</p>\n<pre><code>@Configuration\n@EnableMethodSecurity\n@SpringBootApplication\n@EnableAutoConfiguration\n@EntityScan(basePackages=&quot;com.rydzwr.tictactoe&quot;)\n@ComponentScan(basePackages=&quot;com.rydzwr.tictactoe&quot;)\n@EnableJpaRepositories(basePackages=&quot;com.rydzwr.tictactoe&quot;)\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Adding them in constructor is much more difficult, becouse I'm need to create list of instances of those classes in StrategySelector:</p>\n<pre><code>@Service\npublic class GameStrategySelector {\n    private final List&lt;BuildGameStrategy&gt; strategyList = asList(\n           new LocalPlayerGameStrategy(),\n            new MultiPlayerGameStrategy()\n    );\n\n    public BuildGameStrategy chooseStrategy(GameDto gameDto) {\n        return strategyList\n                .stream()\n                .filter(strategy -&gt; strategy.applies(gameDto))\n                .findFirst()\n                .orElse(new ErrorGameTypeStrategy());\n    }\n}\n</code></pre>\n<p>Or, maybe someone has better idea, for StrategySelector logic?</p>\n<p>Here is class with given problem:</p>\n<pre><code>@Component\npublic class LocalPlayerGameStrategy implements BuildGameStrategy {\n    @Autowired\n    private GameService gameService;\n    @Autowired\n    private UserService userService;\n    @Autowired\n    private PlayerService playerService;\n\n    @Override\n    @Transactional\n    public void buildGame(GameDto gameDto) {\n        Game game = new GameBuilder(gameDto.getGameSize(), gameDto.getGameDifficulty()).build();\n        gameService.save(game);\n\n        User caller = userService.findByName(SecurityContextHolder.getContext().getAuthentication().getName());\n        assert caller != null;\n\n        for (PlayerDto playerDto : gameDto.getPlayers()) {\n            Player player = new PlayerBuilder().setGame(game).setUser(caller).setPlayerDetails(playerDto).build();\n            playerService.save(player);\n        }\n\n        game.setState(GameState.IN_PROGRESS);\n\n        gameService.save(game);\n    }\n\n\n    @Override\n    public boolean applies(GameDto gameDto) {\n        return gameDto.getPlayers().stream().allMatch(p -&gt; p.getPlayerType().equals(PlayerType.LOCAL.name()));\n    }\n}\n\n</code></pre>\n<p>I tried to autowire repositores and services with implemented logic as well.\nEvery time all of them:</p>\n<pre><code>@Autowired\n    private GameService gameService;\n    @Autowired\n    private UserService userService;\n    @Autowired\n    private PlayerService playerService;\n</code></pre>\n<p>ARE NULL</p>\n<p>I tried everything I found on google</p>\n"},{"tags":["java","visualvm"],"comments":[{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1673344376,"post_id":75061438,"comment_id":132472253,"body_markdown":"Can you take a screenshot and attach it here? VisualVM log would be also useful.","body":"Can you take a screenshot and attach it here? VisualVM log would be also useful."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1673459347,"post_id":75061438,"comment_id":132505960,"body_markdown":"@TomasHurka edited to add screenshot.  Log file here: https://www.dropbox.com/s/fsrn388fnxk1443/visualvm_logfile.zip?dl=0","body":"@TomasHurka edited to add screenshot.  Log file here: <a href=\"https://www.dropbox.com/s/fsrn388fnxk1443/visualvm_logfile.zip?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/fsrn388fnxk1443/visualvm_logfile.zip?dl=0</a>"},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1673517888,"post_id":75061438,"comment_id":132518941,"body_markdown":"Thanks. The &lt;unknown&gt; usage is caused by error in JMX communication. It was OK when you opened the application and failed some time after that. I was hoping to see some JMX exception in log file, but there is none. So I have more questions. Does the CPU monitoring worked when you opened the application in VisualVM? Are you able to reproduce it? If so, try to close the application tab in VisualVM and open it again. Does it solve the problem?","body":"Thanks. The &lt;unknown&gt; usage is caused by error in JMX communication. It was OK when you opened the application and failed some time after that. I was hoping to see some JMX exception in log file, but there is none. So I have more questions. Does the CPU monitoring worked when you opened the application in VisualVM? Are you able to reproduce it? If so, try to close the application tab in VisualVM and open it again. Does it solve the problem?"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1673535989,"post_id":75061438,"comment_id":132525413,"body_markdown":"@TomasHurka No, the CPU monitoring was never working.  Closing the tab and re-opening shows exactly the same &quot;unknown&quot;.  I even re-launched VisualVm and it is still the same.","body":"@TomasHurka No, the CPU monitoring was never working.  Closing the tab and re-opening shows exactly the same &quot;unknown&quot;.  I even re-launched VisualVm and it is still the same."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1673542024,"post_id":75061438,"comment_id":132527722,"body_markdown":"OK, this is interesting. Do the threads view and CPU sampling work?","body":"OK, this is interesting. Do the threads view and CPU sampling work?"},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1673546897,"post_id":75061438,"comment_id":132529334,"body_markdown":"Cau you try to run VisualVM with `-J-Dorg.graalvm.visualvm.jvm.level=100` and see if there are any jmx related exception in log file?","body":"Cau you try to run VisualVM with <code>-J-Dorg.graalvm.visualvm.jvm.level=100</code> and see if there are any jmx related exception in log file?"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1673620230,"post_id":75061438,"comment_id":132546441,"body_markdown":"@TomasHurka The CPU Sampling works for a while (1-15 minutes, it varies) and then just stops updating.  I then need to close the tab and re-open it for CPU sampling to work again.  There are no jmx related exceptions in the log when I run with that property and connect to the application.","body":"@TomasHurka The CPU Sampling works for a while (1-15 minutes, it varies) and then just stops updating.  I then need to close the tab and re-open it for CPU sampling to work again.  There are no jmx related exceptions in the log when I run with that property and connect to the application."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1673620430,"post_id":75061438,"comment_id":132546511,"body_markdown":"@TomasHurka When i activate CPU Sampling I do see a  NoSuchMethodException in the log file about getThreadCpuTime.  Caused by a signature mismatch for operation getThreadCpuTime: ([J) should be (long)","body":"@TomasHurka When i activate CPU Sampling I do see a  NoSuchMethodException in the log file about getThreadCpuTime.  Caused by a signature mismatch for operation getThreadCpuTime: ([J) should be (long)"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1673625429,"post_id":75061438,"comment_id":132548318,"body_markdown":"@TomasHurka Sorry, I just realized I&#39;m mixing two different results.  The system that stops sampling after a few minutes is a different one that does report the CPU usage.  However the one with the unknown CPU is the one that gets the exception mentioned above, when starting CPU sampling (that doesn&#39;t spontaneously stop).","body":"@TomasHurka Sorry, I just realized I&#39;m mixing two different results.  The system that stops sampling after a few minutes is a different one that does report the CPU usage.  However the one with the unknown CPU is the one that gets the exception mentioned above, when starting CPU sampling (that doesn&#39;t spontaneously stop)."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1673877640,"post_id":75061438,"comment_id":132588940,"body_markdown":"I guess we are off-topic here. Can you plese file an issue (github.com/oracle/visualvm/issues) for this problem and we can continue discuss the problem there. Thanks.","body":"I guess we are off-topic here. Can you plese file an issue (github.com/oracle/visualvm/issues) for this problem and we can continue discuss the problem there. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673987469,"creation_date":1673901733,"answer_id":75139463,"question_id":75061438,"body_markdown":"As it turns out, the JRE that the application was running on was an image made with ```jlink``` that lacked the ```jdk.management``` module.  When that module was added to the JRE, the CPU usage was reported properly.\r\n\r\nMore details at [GH-479][1].\r\n\r\n\r\n  [1]: https://github.com/oracle/visualvm/issues/479","title":"What causes VisualVM to report &quot;CPU usage: unknown&quot;?","body":"<p>As it turns out, the JRE that the application was running on was an image made with <code>jlink</code> that lacked the <code>jdk.management</code> module.  When that module was added to the JRE, the CPU usage was reported properly.</p>\n<p>More details at <a href=\"https://github.com/oracle/visualvm/issues/479\" rel=\"nofollow noreferrer\">GH-479</a>.</p>\n"}],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673987469,"creation_date":1673288330,"question_id":75061438,"body_markdown":"I am running a Java application on Java 17.0.0 from Azul - Zulu17.28+13-CA, with bundled JavaFX. Everything is working fine, except that the CPU usage simply says &quot;unknown&quot;.  I&#39;ve seen messages before about &quot;unavailable with this JVM&quot; or something similar to that, when I ran VisualVM on older JDKs, but this is different.\r\n\r\nVisualVM itself is running on JDK 19.0.1.\r\nAbout box reports: Azul 19.0.1; OpenJDK 64-Bit Server VM (19.0.1+10, mixed mode, sharing)\r\n\r\nThe same version of VisualVM running on JDK 19.0.1 on a different system is able to get CPU usage for an application running on Oracle JDK 8u60 (ancient, I know).\r\n\r\nDoes the Azul JVM that I am trying to monitor not support something to do with CPU monitoring that Oracle Java does?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lKWNc.png","title":"What causes VisualVM to report &quot;CPU usage: unknown&quot;?","body":"<p>I am running a Java application on Java 17.0.0 from Azul - Zulu17.28+13-CA, with bundled JavaFX. Everything is working fine, except that the CPU usage simply says &quot;unknown&quot;.  I've seen messages before about &quot;unavailable with this JVM&quot; or something similar to that, when I ran VisualVM on older JDKs, but this is different.</p>\n<p>VisualVM itself is running on JDK 19.0.1.\nAbout box reports: Azul 19.0.1; OpenJDK 64-Bit Server VM (19.0.1+10, mixed mode, sharing)</p>\n<p>The same version of VisualVM running on JDK 19.0.1 on a different system is able to get CPU usage for an application running on Oracle JDK 8u60 (ancient, I know).</p>\n<p>Does the Azul JVM that I am trying to monitor not support something to do with CPU monitoring that Oracle Java does?</p>\n<p><a href=\"https://i.stack.imgur.com/lKWNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lKWNc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","bluetooth"],"answers":[{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673986584,"creation_date":1673986584,"answer_id":75151795,"question_id":71015483,"body_markdown":"On Android API 33, all of these are available:\r\n\r\nhttps://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_A2DP\r\n\r\nhttps://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_HEADSET\r\n\r\nhttps://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_HID\r\n\r\nI wonder though what it can be used for.\r\n\r\nIt&#39;s not what&#39;s used on the Android OS to determine the icon for each, like here:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nright?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1m6k.png","title":"how can access to android system level api. (ex. &quot;BluetoothClass.PROFILE_A2DP&quot; and others (function, const, variables))","body":"<p>On Android API 33, all of these are available:</p>\n<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_A2DP\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_A2DP</a></p>\n<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_HEADSET\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_HEADSET</a></p>\n<p><a href=\"https://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_HID\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/bluetooth/BluetoothClass#PROFILE_HID</a></p>\n<p>I wonder though what it can be used for.</p>\n<p>It's not what's used on the Android OS to determine the icon for each, like here:</p>\n<p><a href=\"https://i.stack.imgur.com/I1m6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1m6k.png\" alt=\"enter image description here\" /></a></p>\n<p>right?</p>\n"}],"owner":{"account_id":24078484,"reputation":1,"user_id":18053438,"display_name":"Studio DF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673986584,"creation_date":1644222484,"question_id":71015483,"body_markdown":"```\r\nprivate boolean isAudio(BluetoothDevice device) {\r\n        boolean isAudio = false;\r\n        BluetoothClass bluetoothClass = device.getBluetoothClass();\r\n\r\n        isAudio = (bluetoothClass.doesClassMatch(BluetoothClass.PROFILE_A2DP) ||\r\n                bluetoothClass.doesClassMatch(BluetoothClass.PROFILE_HEADSET) ||\r\n                bluetoothClass.doesClassMatch(BluetoothClass.PROFILE_HID))\r\n                &amp;&amp; !BluetoothA2dpConnection.isRemoconDevice(device);\r\n        return isAudio;\r\n}\r\n```\r\n\r\nThis is not just a normally java&#39;s reference error question.\r\n\r\nnow i developing for android launcher application. \r\nit&#39;s not third party app. \r\nit&#39;s for provide android device&#39;s default launcher.\r\n\r\nso i need to access to system level apis.\r\nmy app is own system permissions.\r\nprevious version&#39;s developer is resign already. i can&#39;t ask him.\r\nprevious version launcher did access to system level apis.(ex bluetooth)\r\nbut when i open this project, android stuido say to me &quot;can not resolve method&quot;.\r\n\r\nBluetoothClass.PROFILE_A2DP(and others) is android system level api&#39;s constants!\r\nhow can i access it?\r\nand doesClassMatch method is can&#39;t access too.\r\n\r\nBluetoothClass and BluetoothDevice Class&#39;s package is `android.bluetooth`\r\n(`android.bluetooth.BluetoothClass`)\r\n(`android.bluetooth.BluetoothDevice`)","title":"how can access to android system level api. (ex. &quot;BluetoothClass.PROFILE_A2DP&quot; and others (function, const, variables))","body":"<pre><code>private boolean isAudio(BluetoothDevice device) {\n        boolean isAudio = false;\n        BluetoothClass bluetoothClass = device.getBluetoothClass();\n\n        isAudio = (bluetoothClass.doesClassMatch(BluetoothClass.PROFILE_A2DP) ||\n                bluetoothClass.doesClassMatch(BluetoothClass.PROFILE_HEADSET) ||\n                bluetoothClass.doesClassMatch(BluetoothClass.PROFILE_HID))\n                &amp;&amp; !BluetoothA2dpConnection.isRemoconDevice(device);\n        return isAudio;\n}\n</code></pre>\n<p>This is not just a normally java's reference error question.</p>\n<p>now i developing for android launcher application.\nit's not third party app.\nit's for provide android device's default launcher.</p>\n<p>so i need to access to system level apis.\nmy app is own system permissions.\nprevious version's developer is resign already. i can't ask him.\nprevious version launcher did access to system level apis.(ex bluetooth)\nbut when i open this project, android stuido say to me &quot;can not resolve method&quot;.</p>\n<p>BluetoothClass.PROFILE_A2DP(and others) is android system level api's constants!\nhow can i access it?\nand doesClassMatch method is can't access too.</p>\n<p>BluetoothClass and BluetoothDevice Class's package is <code>android.bluetooth</code>\n(<code>android.bluetooth.BluetoothClass</code>)\n(<code>android.bluetooth.BluetoothDevice</code>)</p>\n"},{"tags":["java","google-cloud-platform","filter","google-cloud-pubsub","terraform-provider-gcp"],"answers":[{"comments":[{"owner":{"account_id":2674428,"reputation":151,"user_id":2311141,"accept_rate":32,"display_name":"jammer"},"score":0,"creation_date":1652991580,"post_id":72294515,"comment_id":127748552,"body_markdown":"I cant restructure the code formats, it will be like that only. so unfortunately hasPrefix will not help.\nCodes can be starting from 54 or 64 or 53 so its not fixed.","body":"I cant restructure the code formats, it will be like that only. so unfortunately hasPrefix will not help. Codes can be starting from 54 or 64 or 53 so its not fixed."}],"tags":[],"owner":{"account_id":15929747,"reputation":864,"user_id":11494461,"display_name":"Lauren"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652899714,"creation_date":1652899714,"answer_id":72294515,"question_id":72142978,"body_markdown":"There&#39;s currently no support for regexes in Pub/Sub filters. You can follow updates on these filtering features on their public issue trackers:\r\n\r\n- [Supporting regexes in filters](https://issuetracker.google.com/issues/219765440)\r\n- [Increasing the 256 byte limit on filter length](https://issuetracker.google.com/issues/185219609)\r\n\r\nIn the meantime, could you potentially restructure your code formats to make use of the [`hasPrefix()` function](https://cloud.google.com/pubsub/docs/filtering#filtering_syntax)? If you know in advance that you want to handle certain codes together in the same subscription, you could add common prefixes for them that you can later capture using `hasPrefix()`.","title":"Google Cloud: Pubsub subscription filter expression options","body":"<p>There's currently no support for regexes in Pub/Sub filters. You can follow updates on these filtering features on their public issue trackers:</p>\n<ul>\n<li><a href=\"https://issuetracker.google.com/issues/219765440\" rel=\"nofollow noreferrer\">Supporting regexes in filters</a></li>\n<li><a href=\"https://issuetracker.google.com/issues/185219609\" rel=\"nofollow noreferrer\">Increasing the 256 byte limit on filter length</a></li>\n</ul>\n<p>In the meantime, could you potentially restructure your code formats to make use of the <a href=\"https://cloud.google.com/pubsub/docs/filtering#filtering_syntax\" rel=\"nofollow noreferrer\"><code>hasPrefix()</code> function</a>? If you know in advance that you want to handle certain codes together in the same subscription, you could add common prefixes for them that you can later capture using <code>hasPrefix()</code>.</p>\n"},{"tags":[],"owner":{"account_id":27547067,"reputation":21,"user_id":21022830,"display_name":"Uday"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673986546,"creation_date":1673986546,"answer_id":75151790,"question_id":72142978,"body_markdown":"You can also try as below. It works for me good. It was less than 256 bytes in my case.\r\n\r\n```\r\nfilter = &lt;&lt;EOT\r\nattributes.code=\\&quot;5426\\&quot; OR attributes.code=\\&quot;5427\\&quot;\r\nEOT\r\n```\r\n\r\nI used the same for mine like below and it worked well.\r\n\r\n```\r\nfilter = &lt;&lt;EOT\r\nattributes.IS_LATEST = &quot;true&quot; AND attributes.ITEM_LIFECYCLE_PHASE != &quot;Preliminary&quot; AND ( attributes.OBJECT_TYPE = &quot;Part&quot; OR attributes.ITEM_TYPE= &quot;Product Specification&quot;  ) AND attributes.REVISION_RELEASE_DATE != &quot;0&quot;\r\nEOT\r\n```\r\n\r\nHope it helps.\r\n\r\nThanks\r\n\r\nMacOS.\r\n","title":"Google Cloud: Pubsub subscription filter expression options","body":"<p>You can also try as below. It works for me good. It was less than 256 bytes in my case.</p>\n<pre><code>filter = &lt;&lt;EOT\nattributes.code=\\&quot;5426\\&quot; OR attributes.code=\\&quot;5427\\&quot;\nEOT\n</code></pre>\n<p>I used the same for mine like below and it worked well.</p>\n<pre><code>filter = &lt;&lt;EOT\nattributes.IS_LATEST = &quot;true&quot; AND attributes.ITEM_LIFECYCLE_PHASE != &quot;Preliminary&quot; AND ( attributes.OBJECT_TYPE = &quot;Part&quot; OR attributes.ITEM_TYPE= &quot;Product Specification&quot;  ) AND attributes.REVISION_RELEASE_DATE != &quot;0&quot;\nEOT\n</code></pre>\n<p>Hope it helps.</p>\n<p>Thanks</p>\n<p>MacOS.</p>\n"}],"owner":{"account_id":2674428,"reputation":151,"user_id":2311141,"accept_rate":32,"display_name":"jammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673986546,"creation_date":1651846646,"question_id":72142978,"body_markdown":"I am trying to put filter in the GCP pubsub subscription. My requirement is to add number of codes in the filter. \r\nI am using terraform for that.\r\n\r\nHere is something that I want to create :\r\n```\r\nfilter = &quot;attributes.code=(\\&quot;5426\\&quot;,\\&quot;5427\\&quot;,\\&quot;5428\\&quot;,\\&quot;5429\\&quot;,\\&quot;5430\\&quot;)&quot;\r\n```\r\n\r\nI checked the above will not work but the google docs have references to syntax something like:\r\n\r\n```\r\nfilter = &quot;attributes.code=\\&quot;5426\\&quot; OR attributes.code=\\&quot;5427\\&quot;&quot;\r\n```\r\nThis one works, but there is a limit on the filter which is 256 bytes if I add all my codes like this then it is not going to work as it throws character limit error.\r\n\r\nIs it possible to use RegEx in filter?\r\n\r\nI can&#39;t do hit and trial as the code is in production so checking with the experts.\r\n","title":"Google Cloud: Pubsub subscription filter expression options","body":"<p>I am trying to put filter in the GCP pubsub subscription. My requirement is to add number of codes in the filter.\nI am using terraform for that.</p>\n<p>Here is something that I want to create :</p>\n<pre><code>filter = &quot;attributes.code=(\\&quot;5426\\&quot;,\\&quot;5427\\&quot;,\\&quot;5428\\&quot;,\\&quot;5429\\&quot;,\\&quot;5430\\&quot;)&quot;\n</code></pre>\n<p>I checked the above will not work but the google docs have references to syntax something like:</p>\n<pre><code>filter = &quot;attributes.code=\\&quot;5426\\&quot; OR attributes.code=\\&quot;5427\\&quot;&quot;\n</code></pre>\n<p>This one works, but there is a limit on the filter which is 256 bytes if I add all my codes like this then it is not going to work as it throws character limit error.</p>\n<p>Is it possible to use RegEx in filter?</p>\n<p>I can't do hit and trial as the code is in production so checking with the experts.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673986346,"creation_date":1673986346,"answer_id":75151765,"question_id":75151373,"body_markdown":"The error has nothing to do with the handler class,\r\n\r\nthe error is\r\n\r\n&gt; Binary XML file line #10: Error inflating class android.widget.ScrollView\r\n\r\nIt cannot inflate your layout so you should check it for errors","title":"How to fix errors android.annotation. in Handler.java?","body":"<p>The error has nothing to do with the handler class,</p>\n<p>the error is</p>\n<blockquote>\n<p>Binary XML file line #10: Error inflating class android.widget.ScrollView</p>\n</blockquote>\n<p>It cannot inflate your layout so you should check it for errors</p>\n"}],"owner":{"account_id":26833472,"reputation":3,"user_id":20421073,"display_name":"PageUp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75151765,"answer_count":1,"score":-1,"last_activity_date":1673986346,"creation_date":1673983709,"question_id":75151373,"body_markdown":"This is what is constantly in the log, when I try to run my application on Android lolipop 5. On later versions of android it runs without any problems.\r\n\r\nIt refers to ``Handler.java`` and other files, which are all in error by default.\r\n\r\nEven reinstalling the program and SDK from scratch didn&#39;t help.\r\n\r\nHow to solve this problem? I even tried rewriting Import under Androidx, doesn&#39;t help.\r\n\r\n[Handler.java](https://i.stack.imgur.com/kh42F.png)\r\n[Handler.java (2)](https://i.stack.imgur.com/IQ1DI.png)\r\n\r\n`at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n     Caused by: android.view.InflateException: Binary XML file line #10: Error inflating class android.widget.ScrollView\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:633)\r\n        at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:55)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:682)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:741)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:482)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)`\r\n\r\n\r\n\r\nI do not understand why Android Studio, installed by default, immediately comes with errors that need to be corrected","title":"How to fix errors android.annotation. in Handler.java?","body":"<p>This is what is constantly in the log, when I try to run my application on Android lolipop 5. On later versions of android it runs without any problems.</p>\n<p>It refers to <code>Handler.java</code> and other files, which are all in error by default.</p>\n<p>Even reinstalling the program and SDK from scratch didn't help.</p>\n<p>How to solve this problem? I even tried rewriting Import under Androidx, doesn't help.</p>\n<p><a href=\"https://i.stack.imgur.com/kh42F.png\" rel=\"nofollow noreferrer\">Handler.java</a>\n<a href=\"https://i.stack.imgur.com/IQ1DI.png\" rel=\"nofollow noreferrer\">Handler.java (2)</a></p>\n<p><code>at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387) at android.app.ActivityThread.access$800(ActivityThread.java:151) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:135) at android.app.ActivityThread.main(ActivityThread.java:5254) at java.lang.reflect.Method.invoke(Native Method) at java.lang.reflect.Method.invoke(Method.java:372) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698) Caused by: android.view.InflateException: Binary XML file line #10: Error inflating class android.widget.ScrollView at android.view.LayoutInflater.createView(LayoutInflater.java:633) at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:55) at android.view.LayoutInflater.onCreateView(LayoutInflater.java:682) at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:741) at android.view.LayoutInflater.inflate(LayoutInflater.java:482) at android.view.LayoutInflater.inflate(LayoutInflater.java:414) at android.view.LayoutInflater.inflate(LayoutInflater.java:365) at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:775) at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:197)</code></p>\n<p>I do not understand why Android Studio, installed by default, immediately comes with errors that need to be corrected</p>\n"},{"tags":["java","floating-point","initialization","double"],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673986726,"answer_count":0,"score":0,"last_activity_date":1673986118,"creation_date":1673986118,"question_id":75151725,"body_markdown":"Today… I simply tried to peacefully initialize a double from a float. It wasn’t a peaceful exercise \r\n\r\n    double number = -5.1829932E-8F;\r\n    System.out.println(“number = “+number); //produces -5.182993234598143E-8F every time\r\n\r\nMeanwhile \r\n\r\n    double number = -5.1829932E-8;\r\n    System.out.println(“number = “+number); //produces -5.1829932E-8F as expected \r\n\r\nPlease kindly help me understand how the extra digits “34598143” came about earlier + in what way can I initialize double from floats without bringing extra digits onboard (I tried casting, it made no difference)?","title":"Java initialize doubles from floats","body":"<p>Today… I simply tried to peacefully initialize a double from a float. It wasn’t a peaceful exercise</p>\n<pre><code>double number = -5.1829932E-8F;\nSystem.out.println(“number = “+number); //produces -5.182993234598143E-8F every time\n</code></pre>\n<p>Meanwhile</p>\n<pre><code>double number = -5.1829932E-8;\nSystem.out.println(“number = “+number); //produces -5.1829932E-8F as expected \n</code></pre>\n<p>Please kindly help me understand how the extra digits “34598143” came about earlier + in what way can I initialize double from floats without bringing extra digits onboard (I tried casting, it made no difference)?</p>\n"},{"tags":["java","minecraft","spigot"],"owner":{"account_id":27556410,"reputation":9,"user_id":21030545,"display_name":"Freestyler431"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673985890,"creation_date":1673985471,"question_id":75151639,"body_markdown":"I have a plugin where I made a custom recipe for mending, everything works great, but I can&#39;t use this custom crafted book in the anvil. I think it&#39;s because of the ItemMeta, I&#39;m relatively clueless and have already googled, but no result. I ask for help and thanks in advance.\r\n\r\n```java\r\nItemStack mending = new ItemStack(Material.ENCHANTED_BOOK, 1);\r\nEnchantmentStorageMeta esm = (EnchantmentStorageMeta)mending.getItemMeta();\r\nesm.addStoredEnchant(Enchantment.MENDING, 1, false);\r\nmending.setItemMeta(esm);\r\nShapedRecipe mendingRecipe = new ShapedRecipe(mending);\r\nmendingRecipe.shape(new String[]{&quot;ABA&quot;, &quot;CDC&quot;, &quot;ABA&quot;});\r\nmendingRecipe.setIngredient(&#39;A&#39;, Material.BOOK);\r\nmendingRecipe.setIngredient(&#39;B&#39;, Material.DIAMOND_BLOCK);\r\nmendingRecipe.setIngredient(&#39;C&#39;, Material.EMERALD_BLOCK);\r\nmendingRecipe.setIngredient(&#39;D&#39;, Material.NETHER_STAR);\r\nBukkit.getServer().addRecipe(mendingRecipe);\r\n```\r\n\r\nI&#39;ve already tried to make an extra Anvil recipe but that didn&#39;t work.","title":"CustomCrafting does not Combine","body":"<p>I have a plugin where I made a custom recipe for mending, everything works great, but I can't use this custom crafted book in the anvil. I think it's because of the ItemMeta, I'm relatively clueless and have already googled, but no result. I ask for help and thanks in advance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ItemStack mending = new ItemStack(Material.ENCHANTED_BOOK, 1);\nEnchantmentStorageMeta esm = (EnchantmentStorageMeta)mending.getItemMeta();\nesm.addStoredEnchant(Enchantment.MENDING, 1, false);\nmending.setItemMeta(esm);\nShapedRecipe mendingRecipe = new ShapedRecipe(mending);\nmendingRecipe.shape(new String[]{&quot;ABA&quot;, &quot;CDC&quot;, &quot;ABA&quot;});\nmendingRecipe.setIngredient('A', Material.BOOK);\nmendingRecipe.setIngredient('B', Material.DIAMOND_BLOCK);\nmendingRecipe.setIngredient('C', Material.EMERALD_BLOCK);\nmendingRecipe.setIngredient('D', Material.NETHER_STAR);\nBukkit.getServer().addRecipe(mendingRecipe);\n</code></pre>\n<p>I've already tried to make an extra Anvil recipe but that didn't work.</p>\n"},{"tags":["java","spring","completable-future"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673644340,"post_id":75114369,"comment_id":132553567,"body_markdown":"Where&#39;s the code for the `getData()` methods which return the futures?","body":"Where&#39;s the code for the <code>getData()</code> methods which return the futures?"},{"owner":{"account_id":406165,"reputation":2268,"user_id":775513,"accept_rate":82,"display_name":"cproinger"},"score":0,"creation_date":1673645318,"post_id":75114369,"comment_id":132553799,"body_markdown":"SimpleDateFormat is not thread-safe altough i do not think its the reason for your problem","body":"SimpleDateFormat is not thread-safe altough i do not think its the reason for your problem"},{"owner":{"account_id":15851975,"reputation":1,"user_id":11437553,"display_name":"paukyducky"},"score":0,"creation_date":1673647023,"post_id":75114369,"comment_id":132554153,"body_markdown":"Thank you so much for your help I have added the getData() code in the post","body":"Thank you so much for your help I have added the getData() code in the post"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1673715879,"post_id":75114369,"comment_id":132562040,"body_markdown":"There is a bit too much code, you should provide a [mre] instead. This might even lead you to the cause of the problem. If I had to guess, there is an exception thrown by your `DateUtilities`, and since you let the program terminate, it just does not have the time to print anything before stopping. Also, you should have a single `ApplicationContext` and you should properly rely on dependency injection. Usually tests don’t even need to create the `ApplicationContext` as they just rely on some kind of `@SpringBootTest`.","body":"There is a bit too much code, you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead. This might even lead you to the cause of the problem. If I had to guess, there is an exception thrown by your <code>DateUtilities</code>, and since you let the program terminate, it just does not have the time to print anything before stopping. Also, you should have a single <code>ApplicationContext</code> and you should properly rely on dependency injection. Usually tests don’t even need to create the <code>ApplicationContext</code> as they just rely on some kind of <code>@SpringBootTest</code>."}],"answers":[{"tags":[],"owner":{"account_id":11533982,"reputation":3,"user_id":8452071,"display_name":"Roman Abakumov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673962030,"creation_date":1673962030,"answer_id":75147133,"question_id":75114369,"body_markdown":"Try to replace those 2 lines \r\n```\r\nCompletableFuture&lt;String&gt; billingRevenueVsExpensesDataServiceThreadCompletableFutureJsonString = billingRevenueVsExpensesDataServiceThread.getData();\r\nCompletableFuture&lt;String&gt; topLevelOwnerDataServiceThreadCompletableFutureJsonString = topLevelOwnerDataServiceThread.getData();\r\n\r\n```\r\nWith\r\n```\r\nbillingRevenueVsExpensesDataServiceThread.getData().get();\r\nCompletableFuture&lt;String&gt; topLevelOwnerDataServiceThread.getData().get();\r\n```\r\n\r\nLooks like CompletableFutures created, but not executed.","title":"CompletableFuture not calling static methods in other Beans","body":"<p>Try to replace those 2 lines</p>\n<pre><code>CompletableFuture&lt;String&gt; billingRevenueVsExpensesDataServiceThreadCompletableFutureJsonString = billingRevenueVsExpensesDataServiceThread.getData();\nCompletableFuture&lt;String&gt; topLevelOwnerDataServiceThreadCompletableFutureJsonString = topLevelOwnerDataServiceThread.getData();\n\n</code></pre>\n<p>With</p>\n<pre><code>billingRevenueVsExpensesDataServiceThread.getData().get();\nCompletableFuture&lt;String&gt; topLevelOwnerDataServiceThread.getData().get();\n</code></pre>\n<p>Looks like CompletableFutures created, but not executed.</p>\n"},{"tags":[],"owner":{"account_id":15851975,"reputation":1,"user_id":11437553,"display_name":"paukyducky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673985599,"creation_date":1673985599,"answer_id":75151656,"question_id":75114369,"body_markdown":"Ok, so I think I got it. I went through each class and made sure I had the minimal annotations. I removed all of them and then added each of them testing to make sure it worked. And since I am trying to run everything in parallel. It looks like in order to use Completeable.allOf, I just converted the getData functions into a String return as opposed to a CompletableFuture and removed the @Async annotation:\r\n\r\n        public TopLevelOwnerDataServiceThread(String viewName, String viewID, String timePeriod) {\r\n        LOGGER.info(&quot;3 Setting Thread Parameters: &quot; + viewName + &quot; &quot; + viewID);\r\n        this.viewName = viewName;\r\n        this.viewID = viewID;\r\n        this.timePeriod = timePeriod;\r\n    }\r\n\r\nI followed this to get the rest working and it is working in parallel now. Thank you all for the help!\r\n\r\nhttps://dzone.com/articles/java-8-parallel-processing-with-completable-future\r\n","title":"CompletableFuture not calling static methods in other Beans","body":"<p>Ok, so I think I got it. I went through each class and made sure I had the minimal annotations. I removed all of them and then added each of them testing to make sure it worked. And since I am trying to run everything in parallel. It looks like in order to use Completeable.allOf, I just converted the getData functions into a String return as opposed to a CompletableFuture and removed the @Async annotation:</p>\n<pre><code>    public TopLevelOwnerDataServiceThread(String viewName, String viewID, String timePeriod) {\n    LOGGER.info(&quot;3 Setting Thread Parameters: &quot; + viewName + &quot; &quot; + viewID);\n    this.viewName = viewName;\n    this.viewID = viewID;\n    this.timePeriod = timePeriod;\n}\n</code></pre>\n<p>I followed this to get the rest working and it is working in parallel now. Thank you all for the help!</p>\n<p><a href=\"https://dzone.com/articles/java-8-parallel-processing-with-completable-future\" rel=\"nofollow noreferrer\">https://dzone.com/articles/java-8-parallel-processing-with-completable-future</a></p>\n"}],"owner":{"account_id":15851975,"reputation":1,"user_id":11437553,"display_name":"paukyducky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75151656,"answer_count":2,"score":0,"last_activity_date":1673985599,"creation_date":1673643104,"question_id":75114369,"body_markdown":"This is one of my first posts, please forgive me if it is not formatted properly or giving the correct information, but I have been searching for the answer for days and still cannot figure it out.\r\n\r\nI have a test where I am using Spring to inject beans. I need to run multiple API calls simultaneously, so I used CompletableFuture to do it. But when I do that, it seems that all static methods in a Utility class that are called in other components don&#39;t get called at all. The thread just stops and no error messages or anything, but using logging, I traced it to when the static method is being called.\r\n\r\nI see that in all the beans, everything is being injected properly, but just when it his that static method, it just stops. If I test without CompletableFuture, it works just fine. I have been spending days trying to figure this out and I just can&#39;t find a good way to seemingly test the code using unit testing. \r\n\r\n\r\nI have a thread that calls a service bean that is injected with properties which works fine, then it calls another service bean &quot;JobService&quot;\r\n\r\nTest class:\r\n\r\n\r\n```\r\n@EnableAsync\r\nclass BillingRevenueVsExpensesServiceTest {\r\n    private final Logger LOGGER = LogManager.getLogger(this.getClass().getName());\r\n\r\n    @Test\r\n    public void getBillingRevenueVsExpenses() {\r\n        LOGGER.info(&quot;1 Starting Thread&quot;);\r\n        ApplicationContext billingRevenueVsExpensesServiceThreadContext = new AnnotationConfigApplicationContext(billingRevenueVsExpensesDataServiceThreadConfig.class);\r\n        ApplicationContext topLevelOwnerDataServiceThreadContext = new AnnotationConfigApplicationContext(TopLevelOwnerDataServiceThreadConfig.class);\r\n\r\n        BillingRevenueVsExpensesDataServiceThread billingRevenueVsExpensesDataServiceThread = billingRevenueVsExpensesServiceThreadContext.getBean(BillingRevenueVsExpensesDataServiceThread.class);\r\n        TopLevelOwnerDataServiceThread topLevelOwnerDataServiceThread = topLevelOwnerDataServiceThreadContext.getBean(TopLevelOwnerDataServiceThread.class);\r\n        try {\r\n            CompletableFuture&lt;String&gt; billingRevenueVsExpensesDataServiceThreadCompletableFutureJsonString = billingRevenueVsExpensesDataServiceThread.getData();\r\n            CompletableFuture&lt;String&gt; topLevelOwnerDataServiceThreadCompletableFutureJsonString = topLevelOwnerDataServiceThread.getData();\r\n        } catch (Exception e) {\r\n            LOGGER.error(e);\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Service(&quot;jobService&quot;)\r\npublic class JobService {\r\n\r\n    private final Logger LOGGER = LogManager.getLogger(this.getClass().getName());\r\n\r\n    int spacesToIndentEachLevel = 2;\r\n\r\n    //Injected Fields\r\n    private final String baseURL;\r\n    private final String portfolioID;\r\n    private final String portfolioType;\r\n....\r\n    public String getJobID(String viewName, String viewID,  String timePeriod) {\r\n        LOGGER.info(&quot;7 Starting job name: &quot; + viewName + &quot; view ID: &quot; + viewID);\r\n// CALLS BELOW METHOD IN THE SAME CLASS\r\n        String[] timePeriodList = timePeriodCreator(timePeriod);\r\n        //DOES NOT CONTINUE IN THE ABOVE\r\n\r\n....\r\n    private String[] timePeriodCreator (String timePeriod) {\r\n        String[] timePeriodList = new String[2];\r\n        Date date = new Date();\r\n        LOGGER.info(&quot;Todays Date: &quot; + date);\r\n\r\n        switch (timePeriod) {\r\n            case &quot;previousEndOfMonthCurrentEndOfMonth&quot; -&gt; {\r\n                LOGGER.debug(&quot;In the timeperiod utlity&quot;);\r\n                timePeriodList[0] = DateUtilities.getPreviousYearMonthDate(date);\r\n                timePeriodList[1] = DateUtilities.getEndCurrentYearMonthDate(date);\r\n                LOGGER.debug(&quot;9 Timeperiod produced: &quot; + timePeriodList[0] + &quot; to &quot; + timePeriodList[1]);\r\n....\r\n\r\n        return timePeriodList;\r\n    }\r\n```\r\n\r\nHere is my Date Utilities class:\r\n\r\n\r\n```\r\npublic final class DateUtilities {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger(DateUtilities.class.getName());\r\n\r\n    final static DateFormat yearMonthDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n    // Gets the previous months end date\r\n    public static String getPreviousYearMonthDate(Date date) {\r\n        LOGGER.info(&quot;Getting Previous Month Date&quot;);\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n        cal.add(Calendar.MONTH, -1);\r\n        cal.set(Calendar.DAY_OF_MONTH, cal.getActualMaximum(Calendar.DAY_OF_MONTH));\r\n        Date previousYearMonthDate = cal.getTime();\r\n        return yearMonthDateFormat.format(previousYearMonthDate);\r\n    }\r\n....\r\n}\r\n```\r\n\r\nConsoleOutput\r\n\r\n    15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 7 Starting job name: billingRevenueVsExpensesView view ID: 386839\r\n    15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 7 Starting job name: topLevelOwnerView view ID: 392697\r\n    15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 8 Generating job for view ID: 386839\r\n    15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 8 Generating job for view ID: 392697\r\n    15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - Todays Date: Fri Jan 13 15:24:29 EST 2023\r\n    15:24:29.847 [poolThread-1] DEBUG com.operations.backend.services.JobService - In the timeperiod utlity\r\n    15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - Todays Date: Fri Jan 13 15:24:29 EST 2023\r\n    15:24:29.847 [poolThread-1] DEBUG com.operations.backend.services.JobService - In the timeperiod utlity\r\n    Process finished with exit code 0\r\n\r\n\r\nIt basically stops when its calling the static date method. If I just do a regular call as opposed to the CompletableFuture, it works fine. I changed some names around for the sake of posting.\r\n\r\nEDIT: Here is my Thread Class that has the get data:\r\n```\r\n@Service(&quot;billingRevenueVsExpensesDataServiceThread&quot;)\r\npublic class BillingRevenueVsExpensesDataServiceThread extends AddeparJobsAPICallService {\r\n\r\n...\r\n\r\n    public BillingRevenueVsExpensesDataServiceThread(String viewName, String viewID, String timePeriod) {\r\n        LOGGER.info(&quot;3 Thread Setting Thread Parameters: &quot; + viewName + &quot; &quot; + viewID);\r\n        this.viewName = viewName;\r\n        this.viewID = viewID;\r\n        this.timePeriod = timePeriod;\r\n    }\r\n\r\n    @Async\r\n    public CompletableFuture&lt;String&gt; getData() {\r\n        try {\r\n            LOGGER.info(&quot;4 Starting Addepar Jobs API Call Service: &quot; + viewName + &quot; &quot; + viewID);\r\n            jsonStringOutput = runJob(viewName, viewID, timePeriod);\r\n            return CompletableFuture.completedFuture(jsonStringOutput);\r\n        } catch (Exception e) {\r\n            LOGGER.error(e);\r\n            return CompletableFuture.completedFuture(&quot;ERROR&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nHere is the AddeparCallService\r\n```\r\n@ContextConfiguration(classes = {JobServiceConfig.class})\r\npublic class AddeparJobsAPICallService {\r\n\r\n\r\n\r\n\r\n    public String runJob(String viewName, String viewID, String timePeriod) {\r\n        LOGGER.info(&quot;5 Running Addepar API Jobs Call Service: &quot; + viewName);\r\n        ApplicationContext jobServiceContext = new AnnotationConfigApplicationContext(JobServiceConfig.class);\r\n        JobService jobService = jobServiceContext.getBean(JobService.class);\r\n\r\n//        LOGGER.info(&quot;Generating view: &quot; + viewName + &quot; job ID for: &quot; + viewID + &quot; for timeperiod:&quot; + timePeriod);\r\n        String jobID = jobService.getJobID(viewName, viewID, timePeriod);\r\n        LOGGER.info(&quot;Generated Job ID: &quot; + jobID + &quot; for view: &quot; + viewName + &quot; job ID for: &quot; + viewID + &quot; for timeperiod:&quot; + timePeriod);\r\n        try {\r\n            LOGGER.info(&quot;Waiting for job generation 10 minutes&quot;);\r\n            Thread.sleep(600000);\r\n            //Puts the json output into the key: billingRevenueVsExpenses\r\n            return jobService.getJobResults(jobID, viewName);\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Issue with: &quot; + AddeparJobsAPICallService.class.getName() + &quot; : &quot; + e);\r\n            return &quot;Loading&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"CompletableFuture not calling static methods in other Beans","body":"<p>This is one of my first posts, please forgive me if it is not formatted properly or giving the correct information, but I have been searching for the answer for days and still cannot figure it out.</p>\n<p>I have a test where I am using Spring to inject beans. I need to run multiple API calls simultaneously, so I used CompletableFuture to do it. But when I do that, it seems that all static methods in a Utility class that are called in other components don't get called at all. The thread just stops and no error messages or anything, but using logging, I traced it to when the static method is being called.</p>\n<p>I see that in all the beans, everything is being injected properly, but just when it his that static method, it just stops. If I test without CompletableFuture, it works just fine. I have been spending days trying to figure this out and I just can't find a good way to seemingly test the code using unit testing.</p>\n<p>I have a thread that calls a service bean that is injected with properties which works fine, then it calls another service bean &quot;JobService&quot;</p>\n<p>Test class:</p>\n<pre><code>@EnableAsync\nclass BillingRevenueVsExpensesServiceTest {\n    private final Logger LOGGER = LogManager.getLogger(this.getClass().getName());\n\n    @Test\n    public void getBillingRevenueVsExpenses() {\n        LOGGER.info(&quot;1 Starting Thread&quot;);\n        ApplicationContext billingRevenueVsExpensesServiceThreadContext = new AnnotationConfigApplicationContext(billingRevenueVsExpensesDataServiceThreadConfig.class);\n        ApplicationContext topLevelOwnerDataServiceThreadContext = new AnnotationConfigApplicationContext(TopLevelOwnerDataServiceThreadConfig.class);\n\n        BillingRevenueVsExpensesDataServiceThread billingRevenueVsExpensesDataServiceThread = billingRevenueVsExpensesServiceThreadContext.getBean(BillingRevenueVsExpensesDataServiceThread.class);\n        TopLevelOwnerDataServiceThread topLevelOwnerDataServiceThread = topLevelOwnerDataServiceThreadContext.getBean(TopLevelOwnerDataServiceThread.class);\n        try {\n            CompletableFuture&lt;String&gt; billingRevenueVsExpensesDataServiceThreadCompletableFutureJsonString = billingRevenueVsExpensesDataServiceThread.getData();\n            CompletableFuture&lt;String&gt; topLevelOwnerDataServiceThreadCompletableFutureJsonString = topLevelOwnerDataServiceThread.getData();\n        } catch (Exception e) {\n            LOGGER.error(e);\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<pre><code>@Service(&quot;jobService&quot;)\npublic class JobService {\n\n    private final Logger LOGGER = LogManager.getLogger(this.getClass().getName());\n\n    int spacesToIndentEachLevel = 2;\n\n    //Injected Fields\n    private final String baseURL;\n    private final String portfolioID;\n    private final String portfolioType;\n....\n    public String getJobID(String viewName, String viewID,  String timePeriod) {\n        LOGGER.info(&quot;7 Starting job name: &quot; + viewName + &quot; view ID: &quot; + viewID);\n// CALLS BELOW METHOD IN THE SAME CLASS\n        String[] timePeriodList = timePeriodCreator(timePeriod);\n        //DOES NOT CONTINUE IN THE ABOVE\n\n....\n    private String[] timePeriodCreator (String timePeriod) {\n        String[] timePeriodList = new String[2];\n        Date date = new Date();\n        LOGGER.info(&quot;Todays Date: &quot; + date);\n\n        switch (timePeriod) {\n            case &quot;previousEndOfMonthCurrentEndOfMonth&quot; -&gt; {\n                LOGGER.debug(&quot;In the timeperiod utlity&quot;);\n                timePeriodList[0] = DateUtilities.getPreviousYearMonthDate(date);\n                timePeriodList[1] = DateUtilities.getEndCurrentYearMonthDate(date);\n                LOGGER.debug(&quot;9 Timeperiod produced: &quot; + timePeriodList[0] + &quot; to &quot; + timePeriodList[1]);\n....\n\n        return timePeriodList;\n    }\n</code></pre>\n<p>Here is my Date Utilities class:</p>\n<pre><code>public final class DateUtilities {\n\n    private static final Logger LOGGER = LogManager.getLogger(DateUtilities.class.getName());\n\n    final static DateFormat yearMonthDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n\n    // Gets the previous months end date\n    public static String getPreviousYearMonthDate(Date date) {\n        LOGGER.info(&quot;Getting Previous Month Date&quot;);\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        cal.add(Calendar.MONTH, -1);\n        cal.set(Calendar.DAY_OF_MONTH, cal.getActualMaximum(Calendar.DAY_OF_MONTH));\n        Date previousYearMonthDate = cal.getTime();\n        return yearMonthDateFormat.format(previousYearMonthDate);\n    }\n....\n}\n</code></pre>\n<p>ConsoleOutput</p>\n<pre><code>15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 7 Starting job name: billingRevenueVsExpensesView view ID: 386839\n15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 7 Starting job name: topLevelOwnerView view ID: 392697\n15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 8 Generating job for view ID: 386839\n15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - 8 Generating job for view ID: 392697\n15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - Todays Date: Fri Jan 13 15:24:29 EST 2023\n15:24:29.847 [poolThread-1] DEBUG com.operations.backend.services.JobService - In the timeperiod utlity\n15:24:29.847 [poolThread-1] INFO com.operations.backend.services.JobService - Todays Date: Fri Jan 13 15:24:29 EST 2023\n15:24:29.847 [poolThread-1] DEBUG com.operations.backend.services.JobService - In the timeperiod utlity\nProcess finished with exit code 0\n</code></pre>\n<p>It basically stops when its calling the static date method. If I just do a regular call as opposed to the CompletableFuture, it works fine. I changed some names around for the sake of posting.</p>\n<p>EDIT: Here is my Thread Class that has the get data:</p>\n<pre><code>@Service(&quot;billingRevenueVsExpensesDataServiceThread&quot;)\npublic class BillingRevenueVsExpensesDataServiceThread extends AddeparJobsAPICallService {\n\n...\n\n    public BillingRevenueVsExpensesDataServiceThread(String viewName, String viewID, String timePeriod) {\n        LOGGER.info(&quot;3 Thread Setting Thread Parameters: &quot; + viewName + &quot; &quot; + viewID);\n        this.viewName = viewName;\n        this.viewID = viewID;\n        this.timePeriod = timePeriod;\n    }\n\n    @Async\n    public CompletableFuture&lt;String&gt; getData() {\n        try {\n            LOGGER.info(&quot;4 Starting Addepar Jobs API Call Service: &quot; + viewName + &quot; &quot; + viewID);\n            jsonStringOutput = runJob(viewName, viewID, timePeriod);\n            return CompletableFuture.completedFuture(jsonStringOutput);\n        } catch (Exception e) {\n            LOGGER.error(e);\n            return CompletableFuture.completedFuture(&quot;ERROR&quot;);\n        }\n    }\n</code></pre>\n<p>Here is the AddeparCallService</p>\n<pre><code>@ContextConfiguration(classes = {JobServiceConfig.class})\npublic class AddeparJobsAPICallService {\n\n\n\n\n    public String runJob(String viewName, String viewID, String timePeriod) {\n        LOGGER.info(&quot;5 Running Addepar API Jobs Call Service: &quot; + viewName);\n        ApplicationContext jobServiceContext = new AnnotationConfigApplicationContext(JobServiceConfig.class);\n        JobService jobService = jobServiceContext.getBean(JobService.class);\n\n//        LOGGER.info(&quot;Generating view: &quot; + viewName + &quot; job ID for: &quot; + viewID + &quot; for timeperiod:&quot; + timePeriod);\n        String jobID = jobService.getJobID(viewName, viewID, timePeriod);\n        LOGGER.info(&quot;Generated Job ID: &quot; + jobID + &quot; for view: &quot; + viewName + &quot; job ID for: &quot; + viewID + &quot; for timeperiod:&quot; + timePeriod);\n        try {\n            LOGGER.info(&quot;Waiting for job generation 10 minutes&quot;);\n            Thread.sleep(600000);\n            //Puts the json output into the key: billingRevenueVsExpenses\n            return jobService.getJobResults(jobID, viewName);\n        } catch (Exception e) {\n            LOGGER.error(&quot;Issue with: &quot; + AddeparJobsAPICallService.class.getName() + &quot; : &quot; + e);\n            return &quot;Loading&quot;;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","installation","homebrew","jenv"],"comments":[{"owner":{"account_id":13635622,"reputation":2750,"user_id":9836706,"display_name":"Francesco Iapicca"},"score":0,"creation_date":1677160584,"post_id":75151573,"comment_id":133285723,"body_markdown":"I&#39;m in the same exact situation","body":"I&#39;m in the same exact situation"}],"owner":{"account_id":1002576,"reputation":7185,"user_id":1017111,"accept_rate":94,"display_name":"WowBow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673985547,"creation_date":1673984986,"question_id":75151573,"body_markdown":"I have installed Java 8 &amp; 19 using Homebrew Jenv on MacOS Monterey following their [instruction][1]. I wanted to use jenv for two different projects that I need to switch b/n the two versions.\r\n\r\nOnce I added the Home env&#39;t variable using \r\n\r\n    $ echo &#39;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bash_profile\r\n    $ echo &#39;eval &quot;$(jenv init -)&quot;&#39; &gt;&gt; ~/.bash_profile\r\n\r\nthen I went to add this command:\r\n\r\n    jenv add /Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home and\r\n\r\n     jenv add /Library/Java/JavaVirtualMachines/jdk17011.jdk/Contents/Home\r\n\r\nThe result I got is: **/Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home is not a valid path to java installation**\r\n\r\nand \r\n\r\n **/Users/docho/.jenv/versions/openjdk64-1.8.0.292: No such file or directory**\r\n\r\nWhat am I missing ? \r\n\r\n**EDIT:**\r\nWhen I run java --version I see: `openjdk version &quot;1.8.0_292&quot;`\r\n\r\nHowever when I run jenv versions I see this:\r\n\r\n     * system (set by /Users/docho/.jenv/version)\r\n\r\nJAVA_HOME also points to: `/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home`\r\n\r\nBut PATH variable has no Java related content:\r\n\r\n    /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/docho/.local/share/solana/install/active_release/bin:/Library/Apple/usr/bin:/Users/docho/.cargo/bin\r\n\r\n  [1]: https://jenv.be","title":"Java installation(Java 8 &amp; 19) not recognized by Homebrew Jenv","body":"<p>I have installed Java 8 &amp; 19 using Homebrew Jenv on MacOS Monterey following their <a href=\"https://jenv.be\" rel=\"nofollow noreferrer\">instruction</a>. I wanted to use jenv for two different projects that I need to switch b/n the two versions.</p>\n<p>Once I added the Home env't variable using</p>\n<pre><code>$ echo 'export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;' &gt;&gt; ~/.bash_profile\n$ echo 'eval &quot;$(jenv init -)&quot;' &gt;&gt; ~/.bash_profile\n</code></pre>\n<p>then I went to add this command:</p>\n<pre><code>jenv add /Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home and\n\n jenv add /Library/Java/JavaVirtualMachines/jdk17011.jdk/Contents/Home\n</code></pre>\n<p>The result I got is: <strong>/Library/Java/JavaVirtualMachines/jdk-19.0.1.jdk/Contents/Home is not a valid path to java installation</strong></p>\n<p>and</p>\n<p><strong>/Users/docho/.jenv/versions/openjdk64-1.8.0.292: No such file or directory</strong></p>\n<p>What am I missing ?</p>\n<p><strong>EDIT:</strong>\nWhen I run java --version I see: <code>openjdk version &quot;1.8.0_292&quot;</code></p>\n<p>However when I run jenv versions I see this:</p>\n<pre><code> * system (set by /Users/docho/.jenv/version)\n</code></pre>\n<p>JAVA_HOME also points to: <code>/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</code></p>\n<p>But PATH variable has no Java related content:</p>\n<pre><code>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/docho/.local/share/solana/install/active_release/bin:/Library/Apple/usr/bin:/Users/docho/.cargo/bin\n</code></pre>\n"},{"tags":["java","android","flutter","https","ssl-certificate"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673979737,"post_id":75150509,"comment_id":132615748,"body_markdown":"Frame challenge: why are you self-signing in the first place? Just use certs from a trusted root authority. Did you ever see any app ask you to accept some random certificate?","body":"Frame challenge: why are you self-signing in the first place? Just use certs from a trusted root authority. Did you ever see any app ask you to accept some random certificate?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1673984858,"post_id":75150509,"comment_id":132617266,"body_markdown":"I have both used self-signed and certs signed by my own CA. Unless my root certificate is not installed in the truststore, some apps do ask whether they should trust the server. Unfortunately Android is annoying to warn that someone has hacked my phone just because I added my own root certificate.","body":"I have both used self-signed and certs signed by my own CA. Unless my root certificate is not installed in the truststore, some apps do ask whether they should trust the server. Unfortunately Android is annoying to warn that someone has hacked my phone just because I added my own root certificate."},{"owner":{"account_id":27555539,"reputation":1,"user_id":21029828,"display_name":"Wab"},"score":0,"creation_date":1674006111,"post_id":75150509,"comment_id":132621636,"body_markdown":"@Michael Well because users can connect to custom servers they made and host themselves, in which case I would not have access to their certs","body":"@Michael Well because users can connect to custom servers they made and host themselves, in which case I would not have access to their certs"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673985098,"creation_date":1673985098,"answer_id":75151582,"question_id":75150509,"body_markdown":"You have several ways that you can go:\r\n\r\n- Either you add your self-signed certificate to your client&#39;s truststore.\r\n- Or you use your own certificate authority to sign the server&#39;s certificate signing request (CSR) and add that certificate authority&#39;s certificate to the truststore of your client. Even here you could decide to just add the server&#39;s certificate to the truststore directly, but then why did you use the CA?\r\n- Or you use an official certificate authority (let&#39;s encrypt, geocerts, digicert, ...) to sign the certificate. Since the official certificate authorities are already installed in your client&#39;s truststore, no additional step would be necessary.\r\n\r\nShort answer: You will not succeed without a certificate. But it does not have to be a `.cer` file.\r\n\r\nSince you are denying the &#39;no certificate check/trust all&#39;: checking certificates is the better way, even if you use a self-signed certificate. But the client needs something to check against, and that data usually is transported in certificates. You can store such a certificate in different file formats. Check this page: https://www.ssls.com/knowledgebase/what-are-certificate-formats-and-what-is-the-difference-between-them/","title":"Trust a self signed certificate without a cer file?","body":"<p>You have several ways that you can go:</p>\n<ul>\n<li>Either you add your self-signed certificate to your client's truststore.</li>\n<li>Or you use your own certificate authority to sign the server's certificate signing request (CSR) and add that certificate authority's certificate to the truststore of your client. Even here you could decide to just add the server's certificate to the truststore directly, but then why did you use the CA?</li>\n<li>Or you use an official certificate authority (let's encrypt, geocerts, digicert, ...) to sign the certificate. Since the official certificate authorities are already installed in your client's truststore, no additional step would be necessary.</li>\n</ul>\n<p>Short answer: You will not succeed without a certificate. But it does not have to be a <code>.cer</code> file.</p>\n<p>Since you are denying the 'no certificate check/trust all': checking certificates is the better way, even if you use a self-signed certificate. But the client needs something to check against, and that data usually is transported in certificates. You can store such a certificate in different file formats. Check this page: <a href=\"https://www.ssls.com/knowledgebase/what-are-certificate-formats-and-what-is-the-difference-between-them/\" rel=\"nofollow noreferrer\">https://www.ssls.com/knowledgebase/what-are-certificate-formats-and-what-is-the-difference-between-them/</a></p>\n"}],"owner":{"account_id":27555539,"reputation":1,"user_id":21029828,"display_name":"Wab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673985098,"creation_date":1673978865,"question_id":75150509,"body_markdown":"So this mobile app I&#39;m working on is primarily in flutter but I have some API callbacks in native Android and Swift that I would like to keep, however the thing is the actual api calls can be to custom servers. After realizing that Flutter cannot read manually installed user certificates on Android, I tried to figure out a way to do it like chrome and ask the user &quot;Do you want to trust this certificate y/n&quot;, however I can&#39;t figure out a way to do it on Java.\r\n\r\nOn the flutter side, theres a callback part of HttpClient called badCertificateCallback, where if anywhere in the app a certificate is unsafe it will automatically refer to there no matter where the certificate is called, currently on the flutter side I have it set so that if the user trusts a certain link, it will trust that certificates information, is there something similar on Android I can do? Most of the other solutions I found wanted to either trust all certificates which isn&#39;t ideal or required the user to have a cer file somewhere.","title":"Trust a self signed certificate without a cer file?","body":"<p>So this mobile app I'm working on is primarily in flutter but I have some API callbacks in native Android and Swift that I would like to keep, however the thing is the actual api calls can be to custom servers. After realizing that Flutter cannot read manually installed user certificates on Android, I tried to figure out a way to do it like chrome and ask the user &quot;Do you want to trust this certificate y/n&quot;, however I can't figure out a way to do it on Java.</p>\n<p>On the flutter side, theres a callback part of HttpClient called badCertificateCallback, where if anywhere in the app a certificate is unsafe it will automatically refer to there no matter where the certificate is called, currently on the flutter side I have it set so that if the user trusts a certain link, it will trust that certificates information, is there something similar on Android I can do? Most of the other solutions I found wanted to either trust all certificates which isn't ideal or required the user to have a cer file somewhere.</p>\n"},{"tags":["java","winapi","visibility","jna"],"answers":[{"comments":[{"owner":{"account_id":23421599,"reputation":33,"user_id":17481728,"display_name":"Noah Fraiture"},"score":0,"creation_date":1673895551,"post_id":75128982,"comment_id":132594857,"body_markdown":"Thank you for you answer. In fact it doesn&#39;t work as I want. It says every windows open in my computer (and even more, like two parameter window ?). What I want is to know which windows is really visible to hide the overlay when it is not necessary. Like if it was part of the original window","body":"Thank you for you answer. In fact it doesn&#39;t work as I want. It says every windows open in my computer (and even more, like two parameter window ?). What I want is to know which windows is really visible to hide the overlay when it is not necessary. Like if it was part of the original window"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1673897323,"post_id":75128982,"comment_id":132595313,"body_markdown":"@NoahFraiture Window &quot;visibility&quot; is also impacted by Z-order and location.  For any given pixel on the screen you find the frontmost (Z order) window which contains the pixel in its `locAndSize`.  You may want to iterate over the windows in order from front to back, checking the pixels.","body":"@NoahFraiture Window &quot;visibility&quot; is also impacted by Z-order and location.  For any given pixel on the screen you find the frontmost (Z order) window which contains the pixel in its <code>locAndSize</code>.  You may want to iterate over the windows in order from front to back, checking the pixels."}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673984879,"creation_date":1673823662,"answer_id":75128982,"question_id":75128321,"body_markdown":"Your intuition to use `IsWindowVisible` from `User32` is good. JNA has actually implemented this in its [WindowUtils][1] class.  \r\n```jna\r\nList&lt;DesktopWindow&gt; windows = WindowUtils.getAllWindows(true);\r\n```\r\nThe boolean parameter is `onlyVisibleWindows`.\r\n\r\nNote that &quot;visible&quot; here refers to the state of the window itself, not whether it is minimized (may have off-screen or &quot;zero&quot; coordinate) or &quot;behind&quot; vs. &quot;on top&quot; of other windows and thus visible to the user.  From the [`IsWindowVisible`][2] documentation (note the second paragraph):\r\n&gt; If the specified window, its parent window, its parent&#39;s parent window, and so forth, have the **WS_VISIBLE** style, the return value is nonzero. Otherwise, the return value is zero.\r\n&gt; \r\n&gt; Because the return value specifies whether the window has the **WS_VISIBLE** style, it may be nonzero even if the window is totally obscured by other windows.\r\n\r\nIn order to determine whether the window is partially or fully obscured, you would have to evaluate its `locAndSize` rectangle relative to all windows &quot;in front&quot; of it using Z-order.  You could do this on a pixel-by-pixel basis or just evaluate the corner points, depending on how you want to handle partially obscured windows.\r\n\r\nThe JNA `getAllWindows()` method returns a list (filtered by visibility) of JNA `DesktopWindow`s encapsulating these fields:\r\n```\r\nprivate HWND hwnd;\r\nprivate String title;\r\nprivate String filePath;\r\nprivate Rectangle locAndSize;\r\n```\r\n\r\nInternally you can see [the implementation][3] in the inner class `W32WindowUtils`, which uses a callback function sent to `User32`&#39;s `EnumWindows` function:\r\n```java\r\n@Override\r\npublic List&lt;DesktopWindow&gt; getAllWindows(final boolean onlyVisibleWindows) {\r\n    final List&lt;DesktopWindow&gt; result = new LinkedList&lt;DesktopWindow&gt;();\r\n\r\n    final WNDENUMPROC lpEnumFunc = new WNDENUMPROC() {\r\n        @Override\r\n        public boolean callback(final HWND hwnd, final Pointer arg1) {\r\n            try {\r\n                final boolean visible = !onlyVisibleWindows\r\n                    || User32.INSTANCE.IsWindowVisible(hwnd);\r\n                if (visible) {\r\n                    final String title = getWindowTitle(hwnd);\r\n                    final String filePath = getProcessFilePath(hwnd);\r\n                    final Rectangle locAndSize = getWindowLocationAndSize(hwnd);\r\n                    result.add(new DesktopWindow(hwnd, title, filePath,\r\n                                                 locAndSize));\r\n                }\r\n            } catch (final Exception e) {\r\n                // FIXME properly handle whatever error is raised\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return true;\r\n        }\r\n    };\r\n\r\n    if (!User32.INSTANCE.EnumWindows(lpEnumFunc, null))\r\n        throw new Win32Exception(Kernel32.INSTANCE.GetLastError());\r\n\r\n    return result;\r\n}\r\n```\r\n\r\nI maintain the JNA-based [OSHI][4] project, and have implemented this cross-platform via `new SystemInfo().getOperatingSystem().getDesktopWindows()`, which uses the above implementation on Windows and adds information from other functions to get the window ordering. OSHI&#39;s return list includes these fields and the returned list is already sorted in `order` to aid you in determining user visibility:\r\n```\r\nprivate final long windowId;\r\nprivate final String title;\r\nprivate final String command;\r\nprivate final Rectangle locAndSize;\r\nprivate final long owningProcessId;\r\nprivate final int order;\r\nprivate final boolean visible;\r\n```\r\n\r\n\r\n  [1]: https://github.com/java-native-access/jna/blob/master/contrib/platform/src/com/sun/jna/platform/WindowUtils.java\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-iswindowvisible\r\n  [3]: https://github.com/java-native-access/jna/blob/8f9886fb766b43700941c878a264a9d0302f7517/contrib/platform/src/com/sun/jna/platform/WindowUtils.java#L1240-L1270\r\n  [4]: https://github.com/oshi/oshi","title":"Get all visible windows with JNA","body":"<p>Your intuition to use <code>IsWindowVisible</code> from <code>User32</code> is good. JNA has actually implemented this in its <a href=\"https://github.com/java-native-access/jna/blob/master/contrib/platform/src/com/sun/jna/platform/WindowUtils.java\" rel=\"nofollow noreferrer\">WindowUtils</a> class.</p>\n<pre><code>List&lt;DesktopWindow&gt; windows = WindowUtils.getAllWindows(true);\n</code></pre>\n<p>The boolean parameter is <code>onlyVisibleWindows</code>.</p>\n<p>Note that &quot;visible&quot; here refers to the state of the window itself, not whether it is minimized (may have off-screen or &quot;zero&quot; coordinate) or &quot;behind&quot; vs. &quot;on top&quot; of other windows and thus visible to the user.  From the <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-iswindowvisible\" rel=\"nofollow noreferrer\"><code>IsWindowVisible</code></a> documentation (note the second paragraph):</p>\n<blockquote>\n<p>If the specified window, its parent window, its parent's parent window, and so forth, have the <strong>WS_VISIBLE</strong> style, the return value is nonzero. Otherwise, the return value is zero.</p>\n<p>Because the return value specifies whether the window has the <strong>WS_VISIBLE</strong> style, it may be nonzero even if the window is totally obscured by other windows.</p>\n</blockquote>\n<p>In order to determine whether the window is partially or fully obscured, you would have to evaluate its <code>locAndSize</code> rectangle relative to all windows &quot;in front&quot; of it using Z-order.  You could do this on a pixel-by-pixel basis or just evaluate the corner points, depending on how you want to handle partially obscured windows.</p>\n<p>The JNA <code>getAllWindows()</code> method returns a list (filtered by visibility) of JNA <code>DesktopWindow</code>s encapsulating these fields:</p>\n<pre><code>private HWND hwnd;\nprivate String title;\nprivate String filePath;\nprivate Rectangle locAndSize;\n</code></pre>\n<p>Internally you can see <a href=\"https://github.com/java-native-access/jna/blob/8f9886fb766b43700941c878a264a9d0302f7517/contrib/platform/src/com/sun/jna/platform/WindowUtils.java#L1240-L1270\" rel=\"nofollow noreferrer\">the implementation</a> in the inner class <code>W32WindowUtils</code>, which uses a callback function sent to <code>User32</code>'s <code>EnumWindows</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic List&lt;DesktopWindow&gt; getAllWindows(final boolean onlyVisibleWindows) {\n    final List&lt;DesktopWindow&gt; result = new LinkedList&lt;DesktopWindow&gt;();\n\n    final WNDENUMPROC lpEnumFunc = new WNDENUMPROC() {\n        @Override\n        public boolean callback(final HWND hwnd, final Pointer arg1) {\n            try {\n                final boolean visible = !onlyVisibleWindows\n                    || User32.INSTANCE.IsWindowVisible(hwnd);\n                if (visible) {\n                    final String title = getWindowTitle(hwnd);\n                    final String filePath = getProcessFilePath(hwnd);\n                    final Rectangle locAndSize = getWindowLocationAndSize(hwnd);\n                    result.add(new DesktopWindow(hwnd, title, filePath,\n                                                 locAndSize));\n                }\n            } catch (final Exception e) {\n                // FIXME properly handle whatever error is raised\n                e.printStackTrace();\n            }\n\n            return true;\n        }\n    };\n\n    if (!User32.INSTANCE.EnumWindows(lpEnumFunc, null))\n        throw new Win32Exception(Kernel32.INSTANCE.GetLastError());\n\n    return result;\n}\n</code></pre>\n<p>I maintain the JNA-based <a href=\"https://github.com/oshi/oshi\" rel=\"nofollow noreferrer\">OSHI</a> project, and have implemented this cross-platform via <code>new SystemInfo().getOperatingSystem().getDesktopWindows()</code>, which uses the above implementation on Windows and adds information from other functions to get the window ordering. OSHI's return list includes these fields and the returned list is already sorted in <code>order</code> to aid you in determining user visibility:</p>\n<pre><code>private final long windowId;\nprivate final String title;\nprivate final String command;\nprivate final Rectangle locAndSize;\nprivate final long owningProcessId;\nprivate final int order;\nprivate final boolean visible;\n</code></pre>\n"}],"owner":{"account_id":23421599,"reputation":33,"user_id":17481728,"display_name":"Noah Fraiture"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75128982,"answer_count":1,"score":2,"last_activity_date":1673984879,"creation_date":1673815882,"question_id":75128321,"body_markdown":"I am programming an overlay in Java showing information for multiple windows.\r\n\r\nI need it to follow the window that it is tracking, and to do this I regularly take information about the current windows to update the position of my overlay. But I would also need to know if the windows are visible to hide the overlay if not. Ideally I should be able to do all this in real time but I&#39;m afraid it&#39;s too performance-intensive.\r\n\r\nI do all of this with JNA \r\n\r\n```java\r\npublic interface User32 extends StdCallLibrary {\r\n    User32 INSTANCE = (User32) Native.load(&quot;user32&quot;, User32.class, W32APIOptions.DEFAULT_OPTIONS);\r\n    HWND FindWindow(String lpClassName, String lpWindowName);\r\n    int GetWindowRect(HWND handle, int[] rect);\r\n    boolean IsWindowVisible(HWND handle); // always true if window exist\r\n}\r\n\r\npublic static int[] getWindowInformation(String windowName) {\r\n\r\n    int[] rectangle = {0,0,0,0};\r\n\r\n    HWND hwnd = User32.INSTANCE.FindWindow(null, windowName);\r\n\r\n    User32.INSTANCE.GetWindowRect(hwnd, rectangle);\r\n    boolean res = User32.INSTANCE.IsWindowVisible(hwnd);\r\n    System.out.println(windowName + &quot; is visible ? &quot; + res);\r\n\r\n    return rectangle;\r\n}\r\n```\r\n\r\nHere is my code, you can see that I tried &quot;IsWindowVisible&quot; after read entirely the User32 API of JNA, but it doesn&#39;t do what I want. ","title":"Get all visible windows with JNA","body":"<p>I am programming an overlay in Java showing information for multiple windows.</p>\n<p>I need it to follow the window that it is tracking, and to do this I regularly take information about the current windows to update the position of my overlay. But I would also need to know if the windows are visible to hide the overlay if not. Ideally I should be able to do all this in real time but I'm afraid it's too performance-intensive.</p>\n<p>I do all of this with JNA</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface User32 extends StdCallLibrary {\n    User32 INSTANCE = (User32) Native.load(&quot;user32&quot;, User32.class, W32APIOptions.DEFAULT_OPTIONS);\n    HWND FindWindow(String lpClassName, String lpWindowName);\n    int GetWindowRect(HWND handle, int[] rect);\n    boolean IsWindowVisible(HWND handle); // always true if window exist\n}\n\npublic static int[] getWindowInformation(String windowName) {\n\n    int[] rectangle = {0,0,0,0};\n\n    HWND hwnd = User32.INSTANCE.FindWindow(null, windowName);\n\n    User32.INSTANCE.GetWindowRect(hwnd, rectangle);\n    boolean res = User32.INSTANCE.IsWindowVisible(hwnd);\n    System.out.println(windowName + &quot; is visible ? &quot; + res);\n\n    return rectangle;\n}\n</code></pre>\n<p>Here is my code, you can see that I tried &quot;IsWindowVisible&quot; after read entirely the User32 API of JNA, but it doesn't do what I want.</p>\n"},{"tags":["java","compression","deflate","inflate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1673959407,"post_id":75146538,"comment_id":132608544,"body_markdown":"Note that base64 is used for encoding and not compression. In fact, base 64 will add about 1/3 of the size. You might want to look for a proper [compression algorithm](https://en.wikipedia.org/wiki/Lossless_compression#General_purpose).","body":"Note that base64 is used for encoding and not compression. In fact, base 64 will add about 1/3 of the size. You might want to look for a proper <a href=\"https://en.wikipedia.org/wiki/Lossless_compression#General_purpose\" rel=\"nofollow noreferrer\">compression algorithm</a>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1673959413,"post_id":75146538,"comment_id":132608546,"body_markdown":"Do you understand that a) compression can result in a smaller size of data on *every* input; b) base64 will result in a larger size (in characters) than the original size (in bytes) - 4 characters for every 3 bytes - so the deflation part would have to reduce the size by at least 25% for this scheme to be effective.","body":"Do you understand that a) compression can result in a smaller size of data on <i>every</i> input; b) base64 will result in a larger size (in characters) than the original size (in bytes) - 4 characters for every 3 bytes - so the deflation part would have to reduce the size by at least 25% for this scheme to be effective."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1673960502,"post_id":75146538,"comment_id":132608942,"body_markdown":"I also hope you realise that compressing small strings (especially if their content is  random), is unlikely to compress well. Most compression algorithms work well with natural text or at least bytes with repeating patterns.","body":"I also hope you realise that compressing small strings (especially if their content is  random), is unlikely to compress well. Most compression algorithms work well with natural text or at least bytes with repeating patterns."},{"owner":{"account_id":13616324,"reputation":39,"user_id":10609480,"display_name":"Adam G"},"score":0,"creation_date":1673961290,"post_id":75146538,"comment_id":132609193,"body_markdown":"@Thomas Even without the base64 encoding, the &#39;compressed&#39; string is larger than the decompressed string.","body":"@Thomas Even without the base64 encoding, the &#39;compressed&#39; string is larger than the decompressed string."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1675336593,"post_id":75146538,"comment_id":132908877,"body_markdown":"*compression can result in a smaller size of data on every input* - I suspect a missing `&#39;t` there, @JonSkeet.","body":"<i>compression can result in a smaller size of data on every input</i> - I suspect a missing <code>&#39;t</code> there, @JonSkeet."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1675336965,"post_id":75146538,"comment_id":132909027,"body_markdown":"@tevemadar: Yes, that was certainly the intent. Shame I can&#39;t still edit it :(","body":"@tevemadar: Yes, that was certainly the intent. Shame I can&#39;t still edit it :("}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673984550,"creation_date":1673984550,"answer_id":75151513,"question_id":75146538,"body_markdown":"First off, you aren&#39;t going to get much or any compression on short strings. Compressors need more data to both collect statistics on the data and to have previous data in which to look for repeated strings.\r\n\r\nSecond, if you&#39;re testing with _random_ data, you are further crippling the compressor, since now there are no repeated strings. For your test case with random alphanumeric strings, the only compression you can get is to take advantage of the fact that there are only 62 possible values for each byte. That can be compressed by a factor of log(62)/log(256) = 0.744. Even then, you need to have enough input to cancel the overhead of the code description. Your test case of 71 characters will always be compressed to 73 bytes by deflate, which is essentially just copying the data with a small overhead. There isn&#39;t enough input to justify the code description to take advantage of the limited character set. If I have 1,000,000 random characters from that set of 62, then deflate can compress that to about 752,000 bytes.\r\n\r\nThird, you are then _expanding_ the resulting compressed data by a factor of 1.333 by encoding it using Base64. So if I take that compression by a factor of 0.752 and then expand it by 1.333, I get an overall _expansion_ of 1.002! You won&#39;t get anywhere that way on random characters from a set of 62, no matter how long the input is.\r\n\r\nGiven all that, you need to do your testing on real-world inputs. I suspect that your application does not have randomly-generated data. Don&#39;t attempt compression on short strings. Combine your strings into much longer input, so that the compressor has something to work with. If you must encode with Base64, then you must. But expect that there may be expansion instead of compression. You could include in your output format an option for chunks to be compressed or not compressed, indicated by a leading byte. Then when compressing, if it doesn&#39;t compress, send it without compression instead. You can also try a more efficient encoding, e.g. Base85, or whatever number of characters you can transmit transparently.","title":"Java Deflater for large set of random strings","body":"<p>First off, you aren't going to get much or any compression on short strings. Compressors need more data to both collect statistics on the data and to have previous data in which to look for repeated strings.</p>\n<p>Second, if you're testing with <em>random</em> data, you are further crippling the compressor, since now there are no repeated strings. For your test case with random alphanumeric strings, the only compression you can get is to take advantage of the fact that there are only 62 possible values for each byte. That can be compressed by a factor of log(62)/log(256) = 0.744. Even then, you need to have enough input to cancel the overhead of the code description. Your test case of 71 characters will always be compressed to 73 bytes by deflate, which is essentially just copying the data with a small overhead. There isn't enough input to justify the code description to take advantage of the limited character set. If I have 1,000,000 random characters from that set of 62, then deflate can compress that to about 752,000 bytes.</p>\n<p>Third, you are then <em>expanding</em> the resulting compressed data by a factor of 1.333 by encoding it using Base64. So if I take that compression by a factor of 0.752 and then expand it by 1.333, I get an overall <em>expansion</em> of 1.002! You won't get anywhere that way on random characters from a set of 62, no matter how long the input is.</p>\n<p>Given all that, you need to do your testing on real-world inputs. I suspect that your application does not have randomly-generated data. Don't attempt compression on short strings. Combine your strings into much longer input, so that the compressor has something to work with. If you must encode with Base64, then you must. But expect that there may be expansion instead of compression. You could include in your output format an option for chunks to be compressed or not compressed, indicated by a leading byte. Then when compressing, if it doesn't compress, send it without compression instead. You can also try a more efficient encoding, e.g. Base85, or whatever number of characters you can transmit transparently.</p>\n"}],"owner":{"account_id":13616324,"reputation":39,"user_id":10609480,"display_name":"Adam G"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673984550,"creation_date":1673959154,"question_id":75146538,"body_markdown":"I am using the Deflater class to try to compress a large set of random strings. My compression and decompression methods look like this:\r\n\r\n    public static String compressAndEncodeBase64(String text) {\r\n            try {\r\n                ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n                try (DeflaterOutputStream dos = new DeflaterOutputStream(os)) {\r\n                    dos.write(text.getBytes());\r\n                }\r\n                byte[] bytes = os.toByteArray();\r\n    \r\n                return new String(Base64.getEncoder().encode(bytes));\r\n            } catch (Exception e){\r\n                log.info(&quot;Caught exception when trying to compress {}: &quot;, text, e);\r\n            }\r\n            return null;\r\n        }\r\n\r\n    public static String decompressB64(String compressedAndEncodedText) {\r\n        try {\r\n            byte[] decodedText = Base64.getDecoder().decode(compressedAndEncodedText);\r\n\r\n            ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n            try (OutputStream ios = new InflaterOutputStream(os)) {\r\n                ios.write(decodedText);\r\n            }\r\n            byte[] decompressedBArray = os.toByteArray();\r\n            return new String(decompressedBArray, StandardCharsets.UTF_8);\r\n        } catch (Exception e){\r\n            log.error(&quot;Caught following exception when trying to decode and decompress text {}: &quot;, compressedAndEncodedText, e);\r\n            throw new BadRequestException(Constants.ErrorMessages.COMPRESSED_GROUPS_HEADER_ERROR);\r\n        }\r\n    }\r\n\r\nHowever, when I test this on a large set of random strings, my &quot;compressed&quot; string is larger than the original string. Even for a relatively small random string, the compressed data is longer. For example, this unit test fails:\r\n\r\n    @Test\r\n        public void testCompressDecompressRandomString(){\r\n            String orig = RandomStringUtils.random(71, true, true);\r\n            String compressedString = compressAndEncodeBase64(orig.toString());\r\n            Assertions.assertTrue((orig.toString().length() - compressedString.length()) &gt; 0, &quot;The decompressed string has length &quot; + orig.toString().length() + &quot;, while compressed string has length &quot; + compressedString.length());\r\n        }\r\n\r\nAnyone can explain what&#39;s going on and a possible alternative?\r\n\r\n**Note**: I tried using the deflater without the base64 encoding:\r\n\r\n    public static String compress(String data)  {\r\n            Deflater new_deflater = new Deflater();\r\n            new_deflater.setInput(data.getBytes(StandardCharsets.UTF_8));\r\n            new_deflater.finish();\r\n            byte compressed_string[] = new byte[1024];\r\n            int compressed_size = new_deflater.deflate(compressed_string);\r\n            byte[] returnValues = new byte[compressed_size];\r\n            System.arraycopy(compressed_string, 0, returnValues, 0, compressed_size);\r\n            log.info(&quot;The Original String: &quot; + data + &quot;\\n Size: &quot; + data.length());\r\n            log.info(&quot;The Compressed String Output: &quot; + new String(compressed_string) + &quot;\\n Size: &quot; + compressed_size);\r\n            return new String(returnValues, StandardCharsets.UTF_8);\r\n        }\r\n\r\nMy test still fails however.","title":"Java Deflater for large set of random strings","body":"<p>I am using the Deflater class to try to compress a large set of random strings. My compression and decompression methods look like this:</p>\n<pre><code>public static String compressAndEncodeBase64(String text) {\n        try {\n            ByteArrayOutputStream os = new ByteArrayOutputStream();\n            try (DeflaterOutputStream dos = new DeflaterOutputStream(os)) {\n                dos.write(text.getBytes());\n            }\n            byte[] bytes = os.toByteArray();\n\n            return new String(Base64.getEncoder().encode(bytes));\n        } catch (Exception e){\n            log.info(&quot;Caught exception when trying to compress {}: &quot;, text, e);\n        }\n        return null;\n    }\n\npublic static String decompressB64(String compressedAndEncodedText) {\n    try {\n        byte[] decodedText = Base64.getDecoder().decode(compressedAndEncodedText);\n\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        try (OutputStream ios = new InflaterOutputStream(os)) {\n            ios.write(decodedText);\n        }\n        byte[] decompressedBArray = os.toByteArray();\n        return new String(decompressedBArray, StandardCharsets.UTF_8);\n    } catch (Exception e){\n        log.error(&quot;Caught following exception when trying to decode and decompress text {}: &quot;, compressedAndEncodedText, e);\n        throw new BadRequestException(Constants.ErrorMessages.COMPRESSED_GROUPS_HEADER_ERROR);\n    }\n}\n</code></pre>\n<p>However, when I test this on a large set of random strings, my &quot;compressed&quot; string is larger than the original string. Even for a relatively small random string, the compressed data is longer. For example, this unit test fails:</p>\n<pre><code>@Test\n    public void testCompressDecompressRandomString(){\n        String orig = RandomStringUtils.random(71, true, true);\n        String compressedString = compressAndEncodeBase64(orig.toString());\n        Assertions.assertTrue((orig.toString().length() - compressedString.length()) &gt; 0, &quot;The decompressed string has length &quot; + orig.toString().length() + &quot;, while compressed string has length &quot; + compressedString.length());\n    }\n</code></pre>\n<p>Anyone can explain what's going on and a possible alternative?</p>\n<p><strong>Note</strong>: I tried using the deflater without the base64 encoding:</p>\n<pre><code>public static String compress(String data)  {\n        Deflater new_deflater = new Deflater();\n        new_deflater.setInput(data.getBytes(StandardCharsets.UTF_8));\n        new_deflater.finish();\n        byte compressed_string[] = new byte[1024];\n        int compressed_size = new_deflater.deflate(compressed_string);\n        byte[] returnValues = new byte[compressed_size];\n        System.arraycopy(compressed_string, 0, returnValues, 0, compressed_size);\n        log.info(&quot;The Original String: &quot; + data + &quot;\\n Size: &quot; + data.length());\n        log.info(&quot;The Compressed String Output: &quot; + new String(compressed_string) + &quot;\\n Size: &quot; + compressed_size);\n        return new String(returnValues, StandardCharsets.UTF_8);\n    }\n</code></pre>\n<p>My test still fails however.</p>\n"},{"tags":["java","string","formatting","string-formatting"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1581069191,"post_id":60110980,"comment_id":106314479,"body_markdown":"did you read the documentation? https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","body":"did you read the documentation? <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Formatter.html</a>"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1581069290,"post_id":60110980,"comment_id":106314542,"body_markdown":"Adding an [MCVE] would help explaining what you observe","body":"Adding an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help explaining what you observe"}],"answers":[{"tags":[],"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1581069949,"creation_date":1581069949,"answer_id":60111196,"question_id":60110980,"body_markdown":"`%20s` means your String will be left-padded if its length is less than 20.\r\n\r\n - If your String is `length` characters long with length&lt;20, then it will add  `(20-length)` space characters to the left.\r\n - If your String is more than 20 characters, then nothing is added (and the String is not truncated)\r\n\r\nExamples:\r\n\r\n    System.out.println(&quot;:&quot; + String.format(&quot;%20s&quot;, &quot;HelloWorld&quot;) + &quot;:&quot;);\r\n    :          HelloWorld:\r\n\r\n    System.out.println(&quot;:&quot; + String.format(&quot;%20s&quot;, &quot;Damn this is a long string&quot;) + &quot;:&quot;);\r\n    :Damn this is a long string:\r\n\r\n","title":"formatting a string :%20s","body":"<p><code>%20s</code> means your String will be left-padded if its length is less than 20.</p>\n\n<ul>\n<li>If your String is <code>length</code> characters long with length&lt;20, then it will add  <code>(20-length)</code> space characters to the left.</li>\n<li>If your String is more than 20 characters, then nothing is added (and the String is not truncated)</li>\n</ul>\n\n<p>Examples:</p>\n\n<pre><code>System.out.println(\":\" + String.format(\"%20s\", \"HelloWorld\") + \":\");\n:          HelloWorld:\n\nSystem.out.println(\":\" + String.format(\"%20s\", \"Damn this is a long string\") + \":\");\n:Damn this is a long string:\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12718840,"reputation":474,"user_id":10015362,"display_name":"Ojasv singh"},"score":0,"creation_date":1581070726,"post_id":60111268,"comment_id":106315302,"body_markdown":"@jhamon well, thanks for update. I added **almost**. And who downvoted my answer? I think, I answered correctly?","body":"@jhamon well, thanks for update. I added <b>almost</b>. And who downvoted my answer? I think, I answered correctly?"}],"tags":[],"owner":{"account_id":12718840,"reputation":474,"user_id":10015362,"display_name":"Ojasv singh"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581417165,"creation_date":1581070269,"answer_id":60111268,"question_id":60110980,"body_markdown":"When we format the string using\r\n\r\n    String.format(&quot;%*some_no* s&quot;, &quot;*some_string*&quot;)\r\n\r\nit will give *some_no* - *length of some_string* of spaces before printing the string.\r\n\r\n&gt; What this means is that your string will be padded with spaces until the length of the final string is equal to *some_no*\r\n\r\nCheck out https://www.javatpoint.com/java-string-format","title":"formatting a string :%20s","body":"<p>When we format the string using</p>\n\n<pre><code>String.format(\"%*some_no* s\", \"*some_string*\")\n</code></pre>\n\n<p>it will give <em>some_no</em> - <em>length of some_string</em> of spaces before printing the string.</p>\n\n<blockquote>\n  <p>What this means is that your string will be padded with spaces until the length of the final string is equal to <em>some_no</em></p>\n</blockquote>\n\n<p>Check out <a href=\"https://www.javatpoint.com/java-string-format\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-string-format</a></p>\n"},{"tags":[],"owner":{"account_id":6492183,"reputation":11,"user_id":5025908,"display_name":"Leandro Pais"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673984369,"creation_date":1673982706,"answer_id":75151194,"question_id":60110980,"body_markdown":"Assuming you have an object called client with getId, getName, and getSurname methods (all strings):\r\n\r\n    System.out.format(&quot; id:       %1$5s | \\t&quot; +\r\n                      &quot; First Name: %2$-12s | \\t&quot; +\r\n                      &quot; Last Name: %3$14s \\n&quot;, client.getId(), client.getName(), client.getSurname());\r\n\r\n\r\nExplanation:\r\n\r\n%1\r\n\r\n%2\r\n\r\n%3\r\n\r\nthose are the number of the argument that follows\r\n\r\n$5s     states 5 spaces and a string is spected\r\n\r\n$-12s   states 12 spaces and the string will be shown to the left\r\n\r\n$14s   states 14 spaces and the string will be shown to the right\r\n\r\nHope it helps!&quot;","title":"formatting a string :%20s","body":"<p>Assuming you have an object called client with getId, getName, and getSurname methods (all strings):</p>\n<pre><code>System.out.format(&quot; id:       %1$5s | \\t&quot; +\n                  &quot; First Name: %2$-12s | \\t&quot; +\n                  &quot; Last Name: %3$14s \\n&quot;, client.getId(), client.getName(), client.getSurname());\n</code></pre>\n<p>Explanation:</p>\n<p>%1</p>\n<p>%2</p>\n<p>%3</p>\n<p>those are the number of the argument that follows</p>\n<p>$5s     states 5 spaces and a string is spected</p>\n<p>$-12s   states 12 spaces and the string will be shown to the left</p>\n<p>$14s   states 14 spaces and the string will be shown to the right</p>\n<p>Hope it helps!&quot;</p>\n"}],"owner":{"account_id":17709783,"reputation":23,"user_id":12857560,"display_name":"Bahareh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7269,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":60111196,"answer_count":3,"score":1,"last_activity_date":1673984369,"creation_date":1581069137,"question_id":60110980,"body_markdown":"Hi I&#39;m new to java programming \r\nwhile trying to write some simple codes I saw this formatted string \r\nI know how it works but my question is about the integer we put between **%** and **s** ...\r\nat first i thought it might be about the length of the blank field like if it is 5 we will see 5 space characters but i was wrong\r\n\r\nif we put any integer smaller than 20 it wont work at all and when i put 20 the field length was 9 space characters...\r\n\r\ni would appreciate if you could help me ","title":"formatting a string :%20s","body":"<p>Hi I'm new to java programming \nwhile trying to write some simple codes I saw this formatted string \nI know how it works but my question is about the integer we put between <strong>%</strong> and <strong>s</strong> ...\nat first i thought it might be about the length of the blank field like if it is 5 we will see 5 space characters but i was wrong</p>\n\n<p>if we put any integer smaller than 20 it wont work at all and when i put 20 the field length was 9 space characters...</p>\n\n<p>i would appreciate if you could help me </p>\n"},{"tags":["java","android","android-studio","components"],"owner":{"account_id":27544931,"reputation":21,"user_id":21021052,"display_name":"Netbull"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673983634,"creation_date":1673983634,"question_id":75151364,"body_markdown":" Could not get unknown property &#39;release&#39; for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.\r\n**How can i fix it? **\r\n\r\n\r\n```\r\nafterEvaluate {\r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                from components.release\r\n                artifactId = &#39;code-scanner&#39;\r\n                groupId = publishedGroupId\r\n                version = libraryVersion\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nFull code: \r\n\r\n\r\n```\r\nbuildscript {\r\n\r\n    repositories {\r\n\r\n        google()\r\n\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\r\n        classpath &#39;com.android.tools.build:gradle:7.2.2&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n\r\n    repositories {\r\n\r\n        google()\r\n\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\napply plugin: &#39;com.android.library&#39;\r\napply plugin: &#39;maven-publish&#39;\r\n\r\next {\r\n    libraryVersion = &#39;2.3.2&#39;\r\n    publishedGroupId = &#39;com.budiyev.android&#39;\r\n}\r\n\r\ngroup = publishedGroupId\r\nversion = libraryVersion\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &#39;32.0.0&#39;\r\n\r\n    defaultConfig {\r\n        minSdkVersion 21\r\n        targetSdkVersion 33\r\n        versionCode 63\r\n        versionName libraryVersion\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_7\r\n        targetCompatibility JavaVersion.VERSION_1_7\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    api &#39;com.google.zxing:core:3.4.1&#39;\r\n    api &#39;androidx.annotation:annotation:1.5.0&#39;\r\n}\r\n\r\ntask sourcesJar(type: Jar) {\r\n    archiveClassifier.set(&#39;sources&#39;)\r\n    from android.sourceSets.main.java.srcDirs\r\n}\r\n\r\ntask javadoc(type: Javadoc) {\r\n    options.charSet = &#39;UTF-8&#39;\r\n    failOnError false\r\n    source = android.sourceSets.main.java.sourceFiles\r\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\r\n}\r\n\r\ntask javadocJar(type: Jar, dependsOn: javadoc) {\r\n    archiveClassifier.set(&#39;javadoc&#39;)\r\n    from javadoc.destinationDir\r\n}\r\n\r\nartifacts {\r\n    archives sourcesJar\r\n    archives javadocJar\r\n}\r\n\r\nafterEvaluate {\r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                from components.release\r\n                artifactId = &#39;code-scanner&#39;\r\n                groupId = publishedGroupId\r\n                version = libraryVersion\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI try fix the error\r\n","title":"Could not get unknown property &#39;release&#39; for SoftwareComponentInternal","body":"<p>Could not get unknown property 'release' for SoftwareComponentInternal set of type org.gradle.api.internal.component.DefaultSoftwareComponentContainer.\n**How can i fix it? **</p>\n<pre><code>afterEvaluate {\n    publishing {\n        publications {\n            release(MavenPublication) {\n                from components.release\n                artifactId = 'code-scanner'\n                groupId = publishedGroupId\n                version = libraryVersion\n            }\n        }\n    }\n}\n</code></pre>\n<p>Full code:</p>\n<pre><code>buildscript {\n\n    repositories {\n\n        google()\n\n        mavenCentral()\n    }\n\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:7.2.2'\n    }\n}\n\nallprojects {\n\n    repositories {\n\n        google()\n\n        mavenCentral()\n    }\n}\n\napply plugin: 'com.android.library'\napply plugin: 'maven-publish'\n\next {\n    libraryVersion = '2.3.2'\n    publishedGroupId = 'com.budiyev.android'\n}\n\ngroup = publishedGroupId\nversion = libraryVersion\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion '32.0.0'\n\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 33\n        versionCode 63\n        versionName libraryVersion\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    api 'com.google.zxing:core:3.4.1'\n    api 'androidx.annotation:annotation:1.5.0'\n}\n\ntask sourcesJar(type: Jar) {\n    archiveClassifier.set('sources')\n    from android.sourceSets.main.java.srcDirs\n}\n\ntask javadoc(type: Javadoc) {\n    options.charSet = 'UTF-8'\n    failOnError false\n    source = android.sourceSets.main.java.sourceFiles\n    classpath += project.files(android.getBootClasspath().join(File.pathSeparator))\n}\n\ntask javadocJar(type: Jar, dependsOn: javadoc) {\n    archiveClassifier.set('javadoc')\n    from javadoc.destinationDir\n}\n\nartifacts {\n    archives sourcesJar\n    archives javadocJar\n}\n\nafterEvaluate {\n    publishing {\n        publications {\n            release(MavenPublication) {\n                from components.release\n                artifactId = 'code-scanner'\n                groupId = publishedGroupId\n                version = libraryVersion\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>I try fix the error</p>\n"},{"tags":["java","spring","http","compression","gzip"],"comments":[{"owner":{"account_id":2918489,"reputation":689,"user_id":2501230,"accept_rate":82,"display_name":"Aryan Venkat"},"score":1,"creation_date":1533722946,"post_id":20507007,"comment_id":90447856,"body_markdown":"The github link is broken!","body":"The github link is broken!"},{"owner":{"account_id":1042688,"reputation":536,"user_id":1048373,"display_name":"Eric Pabst"},"score":3,"creation_date":1548263480,"post_id":20507007,"comment_id":95482540,"body_markdown":"It looks like it was renamed: https://github.com/ohmage/server/blob/master/src/org/ohmage/jee/filter/GzipFilter.java","body":"It looks like it was renamed: <a href=\"https://github.com/ohmage/server/blob/master/src/org/ohmage/jee/filter/GzipFilter.java\" rel=\"nofollow noreferrer\">github.com/ohmage/server/blob/master/src/org/ohmage/jee/filt&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"score":0,"creation_date":1386861188,"post_id":20507559,"comment_id":30725696,"body_markdown":"First, thanks for responding! This is what I&#39;m getting at. The Connector will allow my Servlet and all of my code to act as if there was no compression and then Tomcat, on the way out the door, will compress it. I was wondering if there was something similar in the other direction. The &quot;Server Code&quot; above requires that I do this in my code. This means things like Spring and Jackson&#39;s auto-deserialization are lost. It&#39;s not hard to emulate on my own, but given that it happens on the way out, why isn&#39;t there something similar on the way in.","body":"First, thanks for responding! This is what I&#39;m getting at. The Connector will allow my Servlet and all of my code to act as if there was no compression and then Tomcat, on the way out the door, will compress it. I was wondering if there was something similar in the other direction. The &quot;Server Code&quot; above requires that I do this in my code. This means things like Spring and Jackson&#39;s auto-deserialization are lost. It&#39;s not hard to emulate on my own, but given that it happens on the way out, why isn&#39;t there something similar on the way in."},{"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"score":0,"creation_date":1386867395,"post_id":20507559,"comment_id":30729991,"body_markdown":"Interesting. This is another case of someone GZIP&#39;ing on the way out (not in), but it has given me an idea. I will use a custom Filter that will continue the chain with a custom ServletRequest (not response) class. I want to keep this unchecked until I have implemented the solution, but I will be sure to check it once I have.","body":"Interesting. This is another case of someone GZIP&#39;ing on the way out (not in), but it has given me an idea. I will use a custom Filter that will continue the chain with a custom ServletRequest (not response) class. I want to keep this unchecked until I have implemented the solution, but I will be sure to check it once I have."},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1503648577,"post_id":20507559,"comment_id":78712343,"body_markdown":"This code will fail to properly handle more complex versions of Content-Encoding, such as &quot;gzip, gzip&quot;.","body":"This code will fail to properly handle more complex versions of Content-Encoding, such as &quot;gzip, gzip&quot;."},{"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"score":0,"creation_date":1503657268,"post_id":20507559,"comment_id":78717186,"body_markdown":"@JulianReschke can you help me to improve the answer?","body":"@JulianReschke can you help me to improve the answer?"},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1503658126,"post_id":20507559,"comment_id":78717660,"body_markdown":"Well, you&#39;ll need to do more work in parsing. 1) Combine all field values using &quot;,&quot; as separator, 2) split the resulting value on &quot;,&quot;, 3) ensure you understand *all* tokens and process them in the right order.","body":"Well, you&#39;ll need to do more work in parsing. 1) Combine all field values using &quot;,&quot; as separator, 2) split the resulting value on &quot;,&quot;, 3) ensure you understand <i>all</i> tokens and process them in the right order."},{"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"score":0,"creation_date":1503658944,"post_id":20507559,"comment_id":78718122,"body_markdown":"@JulianReschke do you think that all this can be summarised in check where encoding contains &quot;gzip&quot; word? It is a dirty, but I am quite sure that can cover most of the cases.","body":"@JulianReschke do you think that all this can be summarised in check where encoding contains &quot;gzip&quot; word? It is a dirty, but I am quite sure that can cover most of the cases."},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1503747831,"post_id":20507559,"comment_id":78748821,"body_markdown":"No, it, for instance, when the field value is &quot;gzip, gzip&quot;, you would have to ungzip twice.","body":"No, it, for instance, when the field value is &quot;gzip, gzip&quot;, you would have to ungzip twice."},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1504005625,"post_id":20507559,"comment_id":78833302,"body_markdown":"You only check one header field instance, and you have hard-wired the number of gzip tokens you support...","body":"You only check one header field instance, and you have hard-wired the number of gzip tokens you support..."},{"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"score":0,"creation_date":1504032608,"post_id":20507559,"comment_id":78851109,"body_markdown":"@JulianReschke I really have no clue about header instances. Can you give me an example that this snippet wan&#39;t work?","body":"@JulianReschke I really have no clue about header instances. Can you give me an example that this snippet wan&#39;t work?"},{"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"score":0,"creation_date":1504103037,"post_id":20507559,"comment_id":78884566,"body_markdown":"For instance: &quot;...Content-Encoding: gzip\\nContent-Encoding: foo\\n...&quot; - your code would ignore the second header field.","body":"For instance: &quot;...Content-Encoding: gzip\\nContent-Encoding: foo\\n...&quot; - your code would ignore the second header field."},{"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"score":0,"creation_date":1559236846,"post_id":20507559,"comment_id":99365925,"body_markdown":"The complex encoding fix looks backwards to me. They are supposed to be used &quot;in the order in which they were applied&quot; (https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding), so wouldn&#39;t they need to be unencoded in reverse order? (obviously &quot;gzip,gzip&quot; doesn&#39;t matter, but it would matter if the value was &quot;gzip,defalte,compress&quot; instead)","body":"The complex encoding fix looks backwards to me. They are supposed to be used &quot;in the order in which they were applied&quot; (<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Encoding\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/&hellip;</a>), so wouldn&#39;t they need to be unencoded in reverse order? (obviously &quot;gzip,gzip&quot; doesn&#39;t matter, but it would matter if the value was &quot;gzip,defalte,compress&quot; instead)"}],"tags":[],"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"comment_count":11,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1503991639,"creation_date":1386718198,"answer_id":20507559,"question_id":20507007,"body_markdown":"Add to your header when you are sending:\r\n\r\n    JSON : &quot;Accept-Encoding&quot; : &quot;gzip, deflate&quot;\r\n\r\nClient code :\r\n\r\n    HttpUriRequest request = new HttpGet(url);\r\n    request.addHeader(&quot;Accept-Encoding&quot;, &quot;gzip&quot;);\r\n\r\n@JulianReschke pointed out that there can be a case of:\r\n\r\n    &quot;Content-Encoding&quot; : &quot;gzip, gzip&quot;\r\n\r\nso extended server code will be:\r\n\r\n    InputStream in = response.getEntity().getContent();\r\n    Header encodingHeader = response.getFirstHeader(&quot;Content-Encoding&quot;);\r\n\r\n    String gzip = &quot;gzip&quot;;\r\n    if (encodingHeader != null) {\r\n        String encoding = encodingHeader.getValue().toLowerCase();\r\n        int firstGzip = encoding.indexOf(gzip);\r\n        if (firstGzip &gt; -1) {\r\n          in = new GZIPInputStream(in);\r\n          int secondGzip = encoding.indexOf(gzip, firstGzip + gzip.length());\r\n          if (secondGzip &gt; -1) {\r\n            in = new GZIPInputStream(in);\r\n          }\r\n        }\r\n    }\r\n\r\nI suppose that nginx is used as load balancer or proxy, so you need to set tomcat to do decompression.\r\n\r\nAdd following attributes to the Connector in server.xml on Tomcat,\r\n\r\n    &lt;Connector \r\n    compression=&quot;on&quot;\r\n    compressionMinSize=&quot;2048&quot;\r\n    compressableMimeType=&quot;text/html,application/json&quot;\r\n    ... /&gt;\r\n\r\nAccepting gziped requests in tomcat is a different story. You&#39;ll have to put a filter in front of your servlets to enable request decompression. You can find more about that [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4755302/which-compression-is-gzip-the-most-popular-servlet-filter-would-you-suggest","title":"HTTP request compression","body":"<p>Add to your header when you are sending:</p>\n\n<pre><code>JSON : \"Accept-Encoding\" : \"gzip, deflate\"\n</code></pre>\n\n<p>Client code :</p>\n\n<pre><code>HttpUriRequest request = new HttpGet(url);\nrequest.addHeader(\"Accept-Encoding\", \"gzip\");\n</code></pre>\n\n<p>@JulianReschke pointed out that there can be a case of:</p>\n\n<pre><code>\"Content-Encoding\" : \"gzip, gzip\"\n</code></pre>\n\n<p>so extended server code will be:</p>\n\n<pre><code>InputStream in = response.getEntity().getContent();\nHeader encodingHeader = response.getFirstHeader(\"Content-Encoding\");\n\nString gzip = \"gzip\";\nif (encodingHeader != null) {\n    String encoding = encodingHeader.getValue().toLowerCase();\n    int firstGzip = encoding.indexOf(gzip);\n    if (firstGzip &gt; -1) {\n      in = new GZIPInputStream(in);\n      int secondGzip = encoding.indexOf(gzip, firstGzip + gzip.length());\n      if (secondGzip &gt; -1) {\n        in = new GZIPInputStream(in);\n      }\n    }\n}\n</code></pre>\n\n<p>I suppose that nginx is used as load balancer or proxy, so you need to set tomcat to do decompression.</p>\n\n<p>Add following attributes to the Connector in server.xml on Tomcat,</p>\n\n<pre><code>&lt;Connector \ncompression=\"on\"\ncompressionMinSize=\"2048\"\ncompressableMimeType=\"text/html,application/json\"\n... /&gt;\n</code></pre>\n\n<p>Accepting gziped requests in tomcat is a different story. You'll have to put a filter in front of your servlets to enable request decompression. You can find more about that <a href=\"https://stackoverflow.com/questions/4755302/which-compression-is-gzip-the-most-popular-servlet-filter-would-you-suggest\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"score":0,"creation_date":1387295213,"post_id":20576628,"comment_id":30892805,"body_markdown":"Interesting. So, the lack of support is what was confusing me. It kind of makes sense the more I think about it. It&#39;s one thing to tell the server to respond in a way you understand, but it&#39;s completely different to just start speaking that way in hopes that the server will understand. Although, who doesn&#39;t have a GZIP implementation these days?","body":"Interesting. So, the lack of support is what was confusing me. It kind of makes sense the more I think about it. It&#39;s one thing to tell the server to respond in a way you understand, but it&#39;s completely different to just start speaking that way in hopes that the server will understand. Although, who doesn&#39;t have a GZIP implementation these days?"},{"owner":{"account_id":3611519,"reputation":6338,"user_id":3012385,"display_name":"DaSourcerer"},"score":0,"creation_date":1387295607,"post_id":20576628,"comment_id":30893087,"body_markdown":"&quot;it&#39;s completely different to just start speaking that way in hopes that the server will understand.&quot; Well, there is the `Expect: 100-continue` for that. But that&#39;s an entirely different story ...","body":"&quot;it&#39;s completely different to just start speaking that way in hopes that the server will understand.&quot; Well, there is the <code>Expect: 100-continue</code> for that. But that&#39;s an entirely different story ..."},{"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"score":0,"creation_date":1387301692,"post_id":20576628,"comment_id":30897400,"body_markdown":"Yeah! That makes perfect sense. I like it. The lack of support still saddens me, but I can do that on my own. Thanks!","body":"Yeah! That makes perfect sense. I like it. The lack of support still saddens me, but I can do that on my own. Thanks!"},{"owner":{"account_id":3611519,"reputation":6338,"user_id":3012385,"display_name":"DaSourcerer"},"score":0,"creation_date":1387303261,"post_id":20576628,"comment_id":30898343,"body_markdown":"Hm, per [this post](http://stackoverflow.com/a/1184122/3012385) (see first answer), some webservers seem to have deliberately chosen not to implement this for security reasons. Would make sense, tbh.","body":"Hm, per <a href=\"http://stackoverflow.com/a/1184122/3012385\">this post</a> (see first answer), some webservers seem to have deliberately chosen not to implement this for security reasons. Would make sense, tbh."},{"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"score":0,"creation_date":1387399276,"post_id":20576628,"comment_id":30946388,"body_markdown":"Thanks for the heads up! Based on sections [7](http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html) and [3.7.2](http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7.2), it seems that the parts of a multipart request are considered to be their own entities; therefore, they should get their own headers. Therefore, I feel like I should be allowed to have a `Content-Encoding` (along with the `Content-Type`) on each part. However, most libraries that I am trying to use seem to make this very difficult if not impossible. :(","body":"Thanks for the heads up! Based on sections <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html\" rel=\"nofollow noreferrer\">7</a> and <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7.2\" rel=\"nofollow noreferrer\">3.7.2</a>, it seems that the parts of a multipart request are considered to be their own entities; therefore, they should get their own headers. Therefore, I feel like I should be allowed to have a <code>Content-Encoding</code> (along with the <code>Content-Type</code>) on each part. However, most libraries that I am trying to use seem to make this very difficult if not impossible. :("},{"owner":{"account_id":3611519,"reputation":6338,"user_id":3012385,"display_name":"DaSourcerer"},"score":0,"creation_date":1387401695,"post_id":20576628,"comment_id":30947646,"body_markdown":"Well, compressing *parts* of a request is even more rare than compressed requests as a whole. Leaving the world of Java, I think [Guzzle](http://docs.guzzlephp.org/en/latest/) supports compressing selected parts of a multipart request. Then again, webserver support for this is pretty much nil.","body":"Well, compressing <i>parts</i> of a request is even more rare than compressed requests as a whole. Leaving the world of Java, I think <a href=\"http://docs.guzzlephp.org/en/latest/\" rel=\"nofollow noreferrer\">Guzzle</a> supports compressing selected parts of a multipart request. Then again, webserver support for this is pretty much nil."},{"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"score":0,"creation_date":1387404270,"post_id":20576628,"comment_id":30949013,"body_markdown":"That makes sense. The compressing of parts is/was my original problem, but when I posted this question I decided to simplify it and make it more general. Thanks for all the info! I implemented a solution that seems to be working for now and will update my question.","body":"That makes sense. The compressing of parts is/was my original problem, but when I posted this question I decided to simplify it and make it more general. Thanks for all the info! I implemented a solution that seems to be working for now and will update my question."},{"owner":{"account_id":1044212,"reputation":3002,"user_id":1049542,"accept_rate":36,"display_name":"Sergey Ponomarev"},"score":0,"creation_date":1594560754,"post_id":20576628,"comment_id":111162522,"body_markdown":"There is a spec draft [RFC7694 Client-Initiated Content-Encoding](https://httpwg.org/specs/rfc7694.html). Maybe one day it will be accepted as recomended","body":"There is a spec draft <a href=\"https://httpwg.org/specs/rfc7694.html\" rel=\"nofollow noreferrer\">RFC7694 Client-Initiated Content-Encoding</a>. Maybe one day it will be accepted as recomended"},{"owner":{"account_id":3611519,"reputation":6338,"user_id":3012385,"display_name":"DaSourcerer"},"score":0,"creation_date":1601411700,"post_id":20576628,"comment_id":113398804,"body_markdown":"@SergeyPonomarev that is more than a mere draft. It is a fully-blown RFC.","body":"@SergeyPonomarev that is more than a mere draft. It is a fully-blown RFC."}],"tags":[],"owner":{"account_id":3611519,"reputation":6338,"user_id":3012385,"display_name":"DaSourcerer"},"comment_count":9,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1386971435,"creation_date":1386971435,"answer_id":20576628,"question_id":20507007,"body_markdown":"&gt; It appears [Content-Encoding] is not a valid request header.\r\n\r\nThat is actually not quite true. As per [RFC 2616, sec 14.11](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11), `Content-Encoding` is an *entity* header which means it can be applied on the entities of both, http responses and requests. Through the powers of multipart MIME messages, even selected *parts* of a request (or response) can be compressed.\r\n\r\nHowever, webserver support for compressed request bodies is rather slim. Apache supports it to a degree via the [`mod_deflate` module](http://httpd.apache.org/docs/2.2/mod/mod_deflate.html#input). It&#39;s not entirely clear to me if [nginx can handle compressed requests](https://serverfault.com/questions/334215/how-do-i-configure-nginx-to-accept-gzip-requests).","title":"HTTP request compression","body":"<blockquote>\n  <p>It appears [Content-Encoding] is not a valid request header.</p>\n</blockquote>\n\n<p>That is actually not quite true. As per <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11\" rel=\"noreferrer\">RFC 2616, sec 14.11</a>, <code>Content-Encoding</code> is an <em>entity</em> header which means it can be applied on the entities of both, http responses and requests. Through the powers of multipart MIME messages, even selected <em>parts</em> of a request (or response) can be compressed.</p>\n\n<p>However, webserver support for compressed request bodies is rather slim. Apache supports it to a degree via the <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html#input\" rel=\"noreferrer\"><code>mod_deflate</code> module</a>. It's not entirely clear to me if <a href=\"https://serverfault.com/questions/334215/how-do-i-configure-nginx-to-accept-gzip-requests\">nginx can handle compressed requests</a>.</p>\n"},{"comments":[{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1525015717,"post_id":29096025,"comment_id":87192290,"body_markdown":"Very nice. In Spring Boot, this is put inside a simple Bean Filter","body":"Very nice. In Spring Boot, this is put inside a simple Bean Filter"}],"tags":[],"owner":{"account_id":427415,"reputation":838,"user_id":809164,"display_name":"Happier"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1426586122,"creation_date":1426586122,"answer_id":29096025,"question_id":20507007,"body_markdown":"Because the original code is not available any more. In case someone come here need it.\r\nI use &quot;Content-Encoding: gzip&quot; to identify the filter need to decompression or not.\r\n\r\nHere&#39;s the codes.\r\n\r\n     @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\r\n    {\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n\r\n        String contentEncoding = httpServletRequest.getHeader(&quot;Content-Encoding&quot;);\r\n        if (contentEncoding != null &amp;&amp; contentEncoding.indexOf(&quot;gzip&quot;) &gt; -1)\r\n        {\r\n            try\r\n            {\r\n                final InputStream decompressStream = StreamHelper.decompressStream(httpServletRequest.getInputStream());\r\n\r\n                httpServletRequest = new HttpServletRequestWrapper(httpServletRequest)\r\n                {\r\n\r\n                    @Override\r\n                    public ServletInputStream getInputStream() throws IOException\r\n                    {\r\n                        return new DecompressServletInputStream(decompressStream);\r\n                    }\r\n\r\n                    @Override\r\n                    public BufferedReader getReader() throws IOException\r\n                    {\r\n                        return new BufferedReader(new InputStreamReader(decompressStream));\r\n                    }\r\n                };\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                mLogger.error(&quot;error while handling the request&quot;, e);\r\n            }\r\n        }\r\n\r\n        chain.doFilter(httpServletRequest, response);\r\n    }\r\n\r\n\r\nSimple ServletInputStream wrapper class\r\n\r\n    public static class DecompressServletInputStream extends ServletInputStream\r\n    {\r\n        private InputStream inputStream;\r\n    \r\n        public DecompressServletInputStream(InputStream input)\r\n        {\r\n            inputStream = input;\r\n    \r\n        }\r\n\r\n        @Override\r\n        public int read() throws IOException\r\n        {\r\n            return inputStream.read();\r\n        }\r\n    \r\n    }\r\n\r\nDecompression stream code\r\n\r\n    public class StreamHelper\r\n    {\r\n    \r\n        /**\r\n         * Gzip magic number, fixed values in the beginning to identify the gzip\r\n         * format &lt;br&gt;\r\n         * http://www.gzip.org/zlib/rfc-gzip.html#file-format\r\n         */\r\n        private static final byte GZIP_ID1 = 0x1f;\r\n        /**\r\n         * Gzip magic number, fixed values in the beginning to identify the gzip\r\n         * format &lt;br&gt;\r\n         * http://www.gzip.org/zlib/rfc-gzip.html#file-format\r\n         */\r\n        private static final byte GZIP_ID2 = (byte) 0x8b;\r\n    \r\n        /**\r\n         * Return decompression input stream if needed.\r\n         * \r\n         * @param input\r\n         *            original stream\r\n         * @return decompression stream\r\n         * @throws IOException\r\n         *             exception while reading the input\r\n         */\r\n        public static InputStream decompressStream(InputStream input) throws IOException\r\n        {\r\n            PushbackInputStream pushbackInput = new PushbackInputStream(input, 2);\r\n            \r\n            byte[] signature = new byte[2];\r\n            pushbackInput.read(signature);\r\n            pushbackInput.unread(signature);\r\n            \r\n            if (signature[0] == GZIP_ID1 &amp;&amp; signature[1] == GZIP_ID2)\r\n            {\r\n                return new GZIPInputStream(pushbackInput);\r\n            }\r\n            return pushbackInput;\r\n        }\r\n    }","title":"HTTP request compression","body":"<p>Because the original code is not available any more. In case someone come here need it.\nI use \"Content-Encoding: gzip\" to identify the filter need to decompression or not.</p>\n\n<p>Here's the codes.</p>\n\n<pre><code> @Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException\n{\n    HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n    String contentEncoding = httpServletRequest.getHeader(\"Content-Encoding\");\n    if (contentEncoding != null &amp;&amp; contentEncoding.indexOf(\"gzip\") &gt; -1)\n    {\n        try\n        {\n            final InputStream decompressStream = StreamHelper.decompressStream(httpServletRequest.getInputStream());\n\n            httpServletRequest = new HttpServletRequestWrapper(httpServletRequest)\n            {\n\n                @Override\n                public ServletInputStream getInputStream() throws IOException\n                {\n                    return new DecompressServletInputStream(decompressStream);\n                }\n\n                @Override\n                public BufferedReader getReader() throws IOException\n                {\n                    return new BufferedReader(new InputStreamReader(decompressStream));\n                }\n            };\n        }\n        catch (IOException e)\n        {\n            mLogger.error(\"error while handling the request\", e);\n        }\n    }\n\n    chain.doFilter(httpServletRequest, response);\n}\n</code></pre>\n\n<p>Simple ServletInputStream wrapper class</p>\n\n<pre><code>public static class DecompressServletInputStream extends ServletInputStream\n{\n    private InputStream inputStream;\n\n    public DecompressServletInputStream(InputStream input)\n    {\n        inputStream = input;\n\n    }\n\n    @Override\n    public int read() throws IOException\n    {\n        return inputStream.read();\n    }\n\n}\n</code></pre>\n\n<p>Decompression stream code</p>\n\n<pre><code>public class StreamHelper\n{\n\n    /**\n     * Gzip magic number, fixed values in the beginning to identify the gzip\n     * format &lt;br&gt;\n     * http://www.gzip.org/zlib/rfc-gzip.html#file-format\n     */\n    private static final byte GZIP_ID1 = 0x1f;\n    /**\n     * Gzip magic number, fixed values in the beginning to identify the gzip\n     * format &lt;br&gt;\n     * http://www.gzip.org/zlib/rfc-gzip.html#file-format\n     */\n    private static final byte GZIP_ID2 = (byte) 0x8b;\n\n    /**\n     * Return decompression input stream if needed.\n     * \n     * @param input\n     *            original stream\n     * @return decompression stream\n     * @throws IOException\n     *             exception while reading the input\n     */\n    public static InputStream decompressStream(InputStream input) throws IOException\n    {\n        PushbackInputStream pushbackInput = new PushbackInputStream(input, 2);\n\n        byte[] signature = new byte[2];\n        pushbackInput.read(signature);\n        pushbackInput.unread(signature);\n\n        if (signature[0] == GZIP_ID1 &amp;&amp; signature[1] == GZIP_ID2)\n        {\n            return new GZIPInputStream(pushbackInput);\n        }\n        return pushbackInput;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3575928,"reputation":245,"user_id":2985183,"accept_rate":100,"display_name":"jojenki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28191,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":20576628,"answer_count":3,"score":10,"last_activity_date":1673983117,"creation_date":1386715758,"question_id":20507007,"body_markdown":"**General Use-Case**\r\n\r\nImagine a client that is uploading large amounts of JSON. The Content-Type should remain `application/json` because that describes the actual data. Accept-Encoding and Transfer-Encoding seem to be for telling the server how it should format the response. It appears that *responses* use the Content-Encoding header explicitly for this purpose, but it is not a valid *request* header.\r\n\r\nIs there something I am missing? Has anyone found an elegant solution?\r\n\r\n**Specific Use-Case**\r\n\r\nMy use-case is that I have a mobile app that is generating large amounts of JSON (and some binary data in some cases but to a lesser extent) and compressing the requests saves a **large** amount of bandwidth. I am using Tomcat as my Servlet container. I am using Spring for its MVC annotations primarily just to abstract away some of the JEE stuff into a much cleaner, annotation-based interface. I also use Jackson for auto (de)serialization.\r\n\r\nI also use nginx, but I am not sure if thats where I want the decompression to take place. The nginx nodes simply balance the requests which are then distributed through the data center. It would be just as nice to keep it compressed until it actually got to the node that was going to process it.\r\n\r\nThanks in advance,\r\n\r\nJohn\r\n\r\nEDIT:\r\n\r\nThe discussion between myself and @DaSourcerer was really helpful for those that are curious about the state of things at the time of writing this.\r\n\r\nI ended up implementing a solution of my own. Note that this specifies the branch &quot;ohmage-3.0&quot;, but it will soon be merged into the master branch. You might want to check there to see if I have made any updates/fixes.\r\n\r\nhttps://github.com/ohmage/server/blob/ohmage-3.0/src/org/ohmage/servlet/filter/DecompressionFilter.java","title":"HTTP request compression","body":"<p><strong>General Use-Case</strong></p>\n<p>Imagine a client that is uploading large amounts of JSON. The Content-Type should remain <code>application/json</code> because that describes the actual data. Accept-Encoding and Transfer-Encoding seem to be for telling the server how it should format the response. It appears that <em>responses</em> use the Content-Encoding header explicitly for this purpose, but it is not a valid <em>request</em> header.</p>\n<p>Is there something I am missing? Has anyone found an elegant solution?</p>\n<p><strong>Specific Use-Case</strong></p>\n<p>My use-case is that I have a mobile app that is generating large amounts of JSON (and some binary data in some cases but to a lesser extent) and compressing the requests saves a <strong>large</strong> amount of bandwidth. I am using Tomcat as my Servlet container. I am using Spring for its MVC annotations primarily just to abstract away some of the JEE stuff into a much cleaner, annotation-based interface. I also use Jackson for auto (de)serialization.</p>\n<p>I also use nginx, but I am not sure if thats where I want the decompression to take place. The nginx nodes simply balance the requests which are then distributed through the data center. It would be just as nice to keep it compressed until it actually got to the node that was going to process it.</p>\n<p>Thanks in advance,</p>\n<p>John</p>\n<p>EDIT:</p>\n<p>The discussion between myself and @DaSourcerer was really helpful for those that are curious about the state of things at the time of writing this.</p>\n<p>I ended up implementing a solution of my own. Note that this specifies the branch &quot;ohmage-3.0&quot;, but it will soon be merged into the master branch. You might want to check there to see if I have made any updates/fixes.</p>\n<p><a href=\"https://github.com/ohmage/server/blob/ohmage-3.0/src/org/ohmage/servlet/filter/DecompressionFilter.java\" rel=\"nofollow noreferrer\">https://github.com/ohmage/server/blob/ohmage-3.0/src/org/ohmage/servlet/filter/DecompressionFilter.java</a></p>\n"},{"tags":["java","cluster-computing","messaging","lmax","aeron"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1664997274,"post_id":73964045,"comment_id":130598791,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":3116681,"reputation":51,"user_id":2637297,"display_name":"Vahid Sadeghi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673981871,"creation_date":1664990119,"question_id":73964045,"body_markdown":"We have an Aeron cluster with three nodes, after starting the cluster two of the nodes throw the following error on startup. Because we take a snapshot from states, they should load the snapshot first.\r\n\r\nConsensus Module\r\n\r\n    io.aeron.exceptions.TimeoutException: WARN - failed to join live log\r\n    \r\n    at io.aeron.cluster.Election.followerLogAwait(Election.java:1041)\r\n    \r\n    at io.aeron.cluster.Election.doWork(Election.java:219)\r\n    \r\n    at io.aeron.cluster.ConsensusModuleAgent.doWork(ConsensusModuleAgent.java:344)\r\n    \r\n    at org.agrona.concurrent.AgentRunner.doWork(AgentRunner.java:304)\r\n    \r\n    at org.agrona.concurrent.AgentRunner.workLoop(AgentRunner.java:296)\r\n    \r\n    at org.agrona.concurrent.AgentRunner.run(AgentRunner.java:162)\r\n    \r\n    at java.base/java.lang.Thread.run(Thread.java:829)","title":"Aeron cluster nodes failed to join and throw timeout exception","body":"<p>We have an Aeron cluster with three nodes, after starting the cluster two of the nodes throw the following error on startup. Because we take a snapshot from states, they should load the snapshot first.</p>\n<p>Consensus Module</p>\n<pre><code>io.aeron.exceptions.TimeoutException: WARN - failed to join live log\n\nat io.aeron.cluster.Election.followerLogAwait(Election.java:1041)\n\nat io.aeron.cluster.Election.doWork(Election.java:219)\n\nat io.aeron.cluster.ConsensusModuleAgent.doWork(ConsensusModuleAgent.java:344)\n\nat org.agrona.concurrent.AgentRunner.doWork(AgentRunner.java:304)\n\nat org.agrona.concurrent.AgentRunner.workLoop(AgentRunner.java:296)\n\nat org.agrona.concurrent.AgentRunner.run(AgentRunner.java:162)\n\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","io","message","subscriber"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674198191,"post_id":75150972,"comment_id":132666563,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75150972/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27505525,"reputation":16,"user_id":20988343,"display_name":"Zara Marks"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673981358,"creation_date":1673981358,"answer_id":75150972,"question_id":75150698,"body_markdown":"Have you tried seing if the class SubscriberIdAndMessage is public?\r\n\r\nIf you put class SubscriberIdAndMessage, it is not the same as public class SubscriberIdAndMessage. \r\n\r\nIf this is not the issue, can you post a screenshot of the error?","title":"Cannot find class SubscriberIdAndMessage","body":"<p>Have you tried seing if the class SubscriberIdAndMessage is public?</p>\n<p>If you put class SubscriberIdAndMessage, it is not the same as public class SubscriberIdAndMessage.</p>\n<p>If this is not the issue, can you post a screenshot of the error?</p>\n"}],"owner":{"account_id":21922598,"reputation":53,"user_id":16205646,"display_name":"WillUpdate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673981358,"creation_date":1673979889,"question_id":75150698,"body_markdown":"I&#39;m trying to use the SubscriberIdAndMessage from io.eventuate.tram.consumer.common, but when I try to import it, the compiler doesn&#39;t found it. However, it finds other classes from the io.eventuate.tram.consumer.common package, like MessageHandlerDecoratorChain or MessageHandlerDecorator. Do you know what might be the problem here?","title":"Cannot find class SubscriberIdAndMessage","body":"<p>I'm trying to use the SubscriberIdAndMessage from io.eventuate.tram.consumer.common, but when I try to import it, the compiler doesn't found it. However, it finds other classes from the io.eventuate.tram.consumer.common package, like MessageHandlerDecoratorChain or MessageHandlerDecorator. Do you know what might be the problem here?</p>\n"},{"tags":["javascript","python","java","windows","desktop"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674002555,"post_id":75150953,"comment_id":132621103,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27488155,"reputation":1,"user_id":20974044,"display_name":"Iago Andrade do Nascimento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673981228,"creation_date":1673981228,"question_id":75150953,"body_markdown":"I wanted to know how to make fixed squares on top of windows applications, &quot;as if it were a motion detector around the image&quot;\r\n\r\nI wanted to know if this is possible sorry for the bad english!","title":"fixed markup on top of windows programs","body":"<p>I wanted to know how to make fixed squares on top of windows applications, &quot;as if it were a motion detector around the image&quot;</p>\n<p>I wanted to know if this is possible sorry for the bad english!</p>\n"},{"tags":["java","spring-boot","spring-cloud-feign","feign","openfeign"],"owner":{"account_id":13509087,"reputation":103,"user_id":10441922,"display_name":"Markos Tzetzis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673981187,"creation_date":1673981187,"question_id":75150939,"body_markdown":"I am trying to access an external API from spring boots using the OpenFeign with *OkHttpClient* as the client.\r\n\r\n    @FeignClient(name = &quot;CamptClient&quot;,  configuration = {FeignConfigurationProxy.class}, url = CAMPTFileConstants.EXTERNAL_BASE_URL)\r\n    public interface JSONPlaceHolderClient {\r\n\r\n    @Headers({&quot;Content-Type: application/json&quot;})\r\n    @PostMapping(value = &quot;/token-auth&quot;)\r\n    Response postAuthCredentials(@RequestBody CAMPTCredentials camptCredentials);\r\n    \r\n     \r\n\r\nThis is my configuration class in which i set the proxy:\r\n\r\n    @Bean\r\n    public feign.Client feignClient() {\r\n        OkHttpClient okHttpClient;\r\n        Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(HOST_PROXY, PORT_PROXY));\r\n        okHttpClient = new OkHttpClient.Builder().proxy(proxy).proxyAuthenticator(authenticator()).build();\r\n        return new feign.okhttp.OkHttpClient(okHttpClient);\r\n    }\r\n\r\n    private okhttp3.Authenticator authenticator() {\r\n        return (route, response) -&gt; {\r\n            String credential = okhttp3.Credentials.basic(username, password);\r\n            return response.request().newBuilder()\r\n                    .header(&quot;Proxy-Authorization&quot;, credential)\r\n                    .build();\r\n        };\r\n    }\r\n\r\n\r\nthe okhttpclient is enabled via the application.properties **feign.okhttp.enabled=true**  \r\n\r\nI get back a time out after some sec, without any further message.\r\n\r\nI can access the endpoint with this curl request from the tomcat server :\r\n\r\n    curl --request POST \r\n         --header &#39;Content-Type: application/json&#39; \r\n         --url &#39;https://xxx.api.tm.complyadvantage.com/external/token-auth&#39; \r\n         --data &#39;{&quot;username&quot;:&quot;xxx&quot;,&quot;password&quot;:&quot;xxx&quot;}&#39; \r\n         -x proxy.local:8080\r\n\r\n\r\nI have tried with all the different clients and the error is the same.\r\nI have tried with WebClient but still getting the time out.\r\nThis is not a problem of changing the time out timer, for some reason the request never reaches the external API.\r\nWhat am i missing?","title":"FeignClient proxy time out","body":"<p>I am trying to access an external API from spring boots using the OpenFeign with <em>OkHttpClient</em> as the client.</p>\n<pre><code>@FeignClient(name = &quot;CamptClient&quot;,  configuration = {FeignConfigurationProxy.class}, url = CAMPTFileConstants.EXTERNAL_BASE_URL)\npublic interface JSONPlaceHolderClient {\n\n@Headers({&quot;Content-Type: application/json&quot;})\n@PostMapping(value = &quot;/token-auth&quot;)\nResponse postAuthCredentials(@RequestBody CAMPTCredentials camptCredentials);\n\n \n</code></pre>\n<p>This is my configuration class in which i set the proxy:</p>\n<pre><code>@Bean\npublic feign.Client feignClient() {\n    OkHttpClient okHttpClient;\n    Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(HOST_PROXY, PORT_PROXY));\n    okHttpClient = new OkHttpClient.Builder().proxy(proxy).proxyAuthenticator(authenticator()).build();\n    return new feign.okhttp.OkHttpClient(okHttpClient);\n}\n\nprivate okhttp3.Authenticator authenticator() {\n    return (route, response) -&gt; {\n        String credential = okhttp3.Credentials.basic(username, password);\n        return response.request().newBuilder()\n                .header(&quot;Proxy-Authorization&quot;, credential)\n                .build();\n    };\n}\n</code></pre>\n<p>the okhttpclient is enabled via the application.properties <strong>feign.okhttp.enabled=true</strong></p>\n<p>I get back a time out after some sec, without any further message.</p>\n<p>I can access the endpoint with this curl request from the tomcat server :</p>\n<pre><code>curl --request POST \n     --header 'Content-Type: application/json' \n     --url 'https://xxx.api.tm.complyadvantage.com/external/token-auth' \n     --data '{&quot;username&quot;:&quot;xxx&quot;,&quot;password&quot;:&quot;xxx&quot;}' \n     -x proxy.local:8080\n</code></pre>\n<p>I have tried with all the different clients and the error is the same.\nI have tried with WebClient but still getting the time out.\nThis is not a problem of changing the time out timer, for some reason the request never reaches the external API.\nWhat am i missing?</p>\n"},{"tags":["java","soap","unmarshalling","maven-jaxb2-plugin"],"owner":{"account_id":14049933,"reputation":355,"user_id":10149027,"display_name":"JavaGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673981015,"creation_date":1673974005,"question_id":75149639,"body_markdown":"When making a soap call I get an Unmarshalling error. And I am not sure what is causing it. I am using a WSDL that is provided by the organization. \r\n\r\n\r\nUnmarshalling Error: unexpected element (uri:&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot;, local:&quot;data&quot;). Expected elements are &lt;{}data&gt; \r\n\r\njavax.xml.bind.UnmarshalException\r\n - with linked exception:\r\n[com.sun.istack.SAXParseException2; lineNumber: 2; columnNumber: 499; unexpected element (uri:&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot;, local:&quot;data&quot;). Expected elements are &lt;{}data&gt;]\r\n\r\nHere is the WSDL: \r\n\r\n\r\n    &lt;definitions xmlns:tns=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.wsdl&quot; xmlns:Session=&quot;http://ws.info.ss/xml/Admin/Session/2006-07-07/Session.xsd&quot; xmlns:Operation=&quot;http://ws.info.ss/xml/Admin/Operation/2006-07-07/Operation.xsd&quot; xmlns:feil=&quot;http://ws.info.ss/xml/Feil/Feil.xsd&quot; xmlns:mvd=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot; xmlns:soapbind=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; name=&quot;FuglData&quot; targetNamespace=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.wsdl&quot;&gt;\r\n      \r\n      &lt;types&gt;\r\n        &lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n          &lt;import namespace=&quot;http://ws.info.ss/xml/Admin/Session/2006-07-07/Session.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/Admin/Session/2006-07-07/Session.xsd&quot;/&gt;\r\n          &lt;import namespace=&quot;http://ws.info.ss/xml/Admin/Operation/2006-07-07/Operation.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/Admin/Operation/2006-07-07/Operation.xsd&quot;/&gt;\r\n          &lt;import namespace=&quot;http://ws.info.ss/xml/Feil/Feil.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/Feil/Feil.xsd&quot;/&gt;\r\n          &lt;import namespace=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot;/&gt;\r\n        &lt;/schema&gt;\r\n      &lt;/types&gt;\r\n      &lt;message name=&quot;spoerring&quot;&gt;\r\n        &lt;part name=&quot;Session&quot; element=&quot;Session:Session&quot;/&gt;\r\n        &lt;part name=&quot;Operation&quot; element=&quot;Operation:Operation&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;svar&quot;&gt;\r\n        &lt;part name=&quot;Session&quot; element=&quot;Session:Session&quot;/&gt;\r\n        &lt;part name=&quot;Operationsinfo&quot; element=&quot;Operation:Operationsinfo&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;feil&quot;&gt;\r\n        &lt;part name=&quot;feil&quot; element=&quot;feil:feil&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglDataRequest&quot;&gt;\r\n        &lt;part name=&quot;hentFuglData&quot; element=&quot;mvd:hentFuglData&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglDataResponse&quot;&gt;\r\n        &lt;part name=&quot;hentFuglDataResponse&quot; element=&quot;mvd:FuglData&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglEierRequest&quot;&gt;\r\n        &lt;part name=&quot;hentFuglEier&quot; element=&quot;mvd:hentFuglEier&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglEierResponse&quot;&gt;\r\n        &lt;part name=&quot;hentFuglEierResponse&quot; element=&quot;mvd:FuglEier&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglTekniskRequest&quot;&gt;\r\n        &lt;part name=&quot;hentFuglTekniskRequest&quot; element=&quot;mvd:hentFuglTeknisk&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglTekniskResponse&quot;&gt;\r\n        &lt;part name=&quot;hentFuglTekniskResponse&quot; element=&quot;mvd:FuglTeknisk&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglNavneSokRequest&quot;&gt;\r\n        &lt;part name=&quot;hentFuglTekniskRequest&quot; element=&quot;mvd:hentFuglNavneSok&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglNavneSokResponse&quot;&gt;\r\n        &lt;part name=&quot;hentFuglTekniskResponse&quot; element=&quot;mvd:FuglNavneSok&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglOppslagRequest&quot;&gt;\r\n        &lt;part name=&quot;hentFuglOppslagRequest&quot; element=&quot;mvd:hentFuglOppslag&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglOppslagResponse&quot;&gt;\r\n        &lt;part name=&quot;hentFuglOppslagResponse&quot; element=&quot;mvd:FuglOppslag&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglHistoriskRequest&quot;&gt;\r\n        &lt;part name=&quot;hentFuglHistoriskRequest&quot; element=&quot;mvd:hentFuglHistorisk&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;message name=&quot;hentFuglHistoriskResponse&quot;&gt;\r\n        &lt;part name=&quot;hentFuglHistoriskResponse&quot; element=&quot;mvd:FuglHistorisk&quot;/&gt;\r\n      &lt;/message&gt;\r\n      &lt;portType name=&quot;mvdPortType&quot;&gt;\r\n        &lt;operation name=&quot;hentFuglData&quot;&gt;\r\n          &lt;input message=&quot;tns:hentFuglDataRequest&quot;/&gt;\r\n          &lt;output message=&quot;tns:hentFuglDataResponse&quot;/&gt;\r\n          &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglEier&quot;&gt;\r\n          &lt;input message=&quot;tns:hentFuglEierRequest&quot;/&gt;\r\n          &lt;output message=&quot;tns:hentFuglEierResponse&quot;/&gt;\r\n          &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglTeknisk&quot;&gt;\r\n          &lt;input message=&quot;tns:hentFuglTekniskRequest&quot;/&gt;\r\n          &lt;output message=&quot;tns:hentFuglTekniskResponse&quot;/&gt;\r\n          &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglNavneSok&quot;&gt;\r\n          &lt;input message=&quot;tns:hentFuglNavneSokRequest&quot;/&gt;\r\n          &lt;output message=&quot;tns:hentFuglNavneSokResponse&quot;/&gt;\r\n          &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglOppslag&quot;&gt;\r\n          &lt;input message=&quot;tns:hentFuglOppslagRequest&quot;/&gt;\r\n          &lt;output message=&quot;tns:hentFuglOppslagResponse&quot;/&gt;\r\n          &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglHistorisk&quot;&gt;\r\n          &lt;input message=&quot;tns:hentFuglHistoriskRequest&quot;/&gt;\r\n          &lt;output message=&quot;tns:hentFuglHistoriskResponse&quot;/&gt;\r\n          &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\r\n        &lt;/operation&gt;\r\n      &lt;/portType&gt;\r\n      &lt;binding name=&quot;mvdBinding&quot; type=&quot;tns:mvdPortType&quot;&gt;\r\n        &lt;soapbind:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n        &lt;operation name=&quot;hentFuglData&quot;&gt;\r\n          &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n          &lt;fault name=&quot;feil&quot;&gt;\r\n            &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\r\n          &lt;/fault&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglEier&quot;&gt;\r\n          &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n          &lt;fault name=&quot;feil&quot;&gt;\r\n            &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\r\n          &lt;/fault&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglTeknisk&quot;&gt;\r\n          &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n          &lt;fault name=&quot;feil&quot;&gt;\r\n            &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\r\n          &lt;/fault&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglNavneSok&quot;&gt;\r\n          &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n          &lt;fault name=&quot;feil&quot;&gt;\r\n            &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\r\n          &lt;/fault&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglOppslag&quot;&gt;\r\n          &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n          &lt;fault name=&quot;feil&quot;&gt;\r\n            &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\r\n          &lt;/fault&gt;\r\n        &lt;/operation&gt;\r\n        &lt;operation name=&quot;hentFuglHistorisk&quot;&gt;\r\n          &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\r\n          &lt;input&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/input&gt;\r\n          &lt;output&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\r\n            &lt;soapbind:body use=&quot;literal&quot;/&gt;\r\n          &lt;/output&gt;\r\n          &lt;fault name=&quot;feil&quot;&gt;\r\n            &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\r\n          &lt;/fault&gt;\r\n        &lt;/operation&gt;\r\n      &lt;/binding&gt;\r\n      &lt;service name=&quot;FuglData&quot;&gt;\r\n        &lt;port name=&quot;mvdPort&quot; binding=&quot;tns:mvdBinding&quot;&gt;\r\n          &lt;soapbind:address location=&quot;https://ws-test.info.ss/ws/SVV/FuglData.pl&quot;/&gt;\r\n        &lt;/port&gt;\r\n      &lt;/service&gt;\r\n    &lt;/definitions&gt;\r\n\r\n","title":"Unmarshalling Error: unexpected element (uri:&quot;http://ws.info.ss/xml/SVV/Data/2021-02-15/Data.xsd&quot;, local:&quot;data&quot;). Expected elements are &lt;{}data&gt;","body":"<p>When making a soap call I get an Unmarshalling error. And I am not sure what is causing it. I am using a WSDL that is provided by the organization.</p>\n<p>Unmarshalling Error: unexpected element (uri:&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot;, local:&quot;data&quot;). Expected elements are &lt;{}data&gt;</p>\n<p>javax.xml.bind.UnmarshalException</p>\n<ul>\n<li>with linked exception:\n[com.sun.istack.SAXParseException2; lineNumber: 2; columnNumber: 499; unexpected element (uri:&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot;, local:&quot;data&quot;). Expected elements are &lt;{}data&gt;]</li>\n</ul>\n<p>Here is the WSDL:</p>\n<pre><code>&lt;definitions xmlns:tns=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.wsdl&quot; xmlns:Session=&quot;http://ws.info.ss/xml/Admin/Session/2006-07-07/Session.xsd&quot; xmlns:Operation=&quot;http://ws.info.ss/xml/Admin/Operation/2006-07-07/Operation.xsd&quot; xmlns:feil=&quot;http://ws.info.ss/xml/Feil/Feil.xsd&quot; xmlns:mvd=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot; xmlns:soapbind=&quot;http://schemas.xmlsoap.org/wsdl/soap/&quot; xmlns=&quot;http://schemas.xmlsoap.org/wsdl/&quot; name=&quot;FuglData&quot; targetNamespace=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.wsdl&quot;&gt;\n  \n  &lt;types&gt;\n    &lt;schema xmlns=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n      &lt;import namespace=&quot;http://ws.info.ss/xml/Admin/Session/2006-07-07/Session.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/Admin/Session/2006-07-07/Session.xsd&quot;/&gt;\n      &lt;import namespace=&quot;http://ws.info.ss/xml/Admin/Operation/2006-07-07/Operation.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/Admin/Operation/2006-07-07/Operation.xsd&quot;/&gt;\n      &lt;import namespace=&quot;http://ws.info.ss/xml/Feil/Feil.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/Feil/Feil.xsd&quot;/&gt;\n      &lt;import namespace=&quot;http://ws.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot; schemaLocation=&quot;https://ws-test.info.ss/xml/SVV/FuglData/2022-03-15/FuglData.xsd&quot;/&gt;\n    &lt;/schema&gt;\n  &lt;/types&gt;\n  &lt;message name=&quot;spoerring&quot;&gt;\n    &lt;part name=&quot;Session&quot; element=&quot;Session:Session&quot;/&gt;\n    &lt;part name=&quot;Operation&quot; element=&quot;Operation:Operation&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;svar&quot;&gt;\n    &lt;part name=&quot;Session&quot; element=&quot;Session:Session&quot;/&gt;\n    &lt;part name=&quot;Operationsinfo&quot; element=&quot;Operation:Operationsinfo&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;feil&quot;&gt;\n    &lt;part name=&quot;feil&quot; element=&quot;feil:feil&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglDataRequest&quot;&gt;\n    &lt;part name=&quot;hentFuglData&quot; element=&quot;mvd:hentFuglData&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglDataResponse&quot;&gt;\n    &lt;part name=&quot;hentFuglDataResponse&quot; element=&quot;mvd:FuglData&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglEierRequest&quot;&gt;\n    &lt;part name=&quot;hentFuglEier&quot; element=&quot;mvd:hentFuglEier&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglEierResponse&quot;&gt;\n    &lt;part name=&quot;hentFuglEierResponse&quot; element=&quot;mvd:FuglEier&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglTekniskRequest&quot;&gt;\n    &lt;part name=&quot;hentFuglTekniskRequest&quot; element=&quot;mvd:hentFuglTeknisk&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglTekniskResponse&quot;&gt;\n    &lt;part name=&quot;hentFuglTekniskResponse&quot; element=&quot;mvd:FuglTeknisk&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglNavneSokRequest&quot;&gt;\n    &lt;part name=&quot;hentFuglTekniskRequest&quot; element=&quot;mvd:hentFuglNavneSok&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglNavneSokResponse&quot;&gt;\n    &lt;part name=&quot;hentFuglTekniskResponse&quot; element=&quot;mvd:FuglNavneSok&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglOppslagRequest&quot;&gt;\n    &lt;part name=&quot;hentFuglOppslagRequest&quot; element=&quot;mvd:hentFuglOppslag&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglOppslagResponse&quot;&gt;\n    &lt;part name=&quot;hentFuglOppslagResponse&quot; element=&quot;mvd:FuglOppslag&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglHistoriskRequest&quot;&gt;\n    &lt;part name=&quot;hentFuglHistoriskRequest&quot; element=&quot;mvd:hentFuglHistorisk&quot;/&gt;\n  &lt;/message&gt;\n  &lt;message name=&quot;hentFuglHistoriskResponse&quot;&gt;\n    &lt;part name=&quot;hentFuglHistoriskResponse&quot; element=&quot;mvd:FuglHistorisk&quot;/&gt;\n  &lt;/message&gt;\n  &lt;portType name=&quot;mvdPortType&quot;&gt;\n    &lt;operation name=&quot;hentFuglData&quot;&gt;\n      &lt;input message=&quot;tns:hentFuglDataRequest&quot;/&gt;\n      &lt;output message=&quot;tns:hentFuglDataResponse&quot;/&gt;\n      &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglEier&quot;&gt;\n      &lt;input message=&quot;tns:hentFuglEierRequest&quot;/&gt;\n      &lt;output message=&quot;tns:hentFuglEierResponse&quot;/&gt;\n      &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglTeknisk&quot;&gt;\n      &lt;input message=&quot;tns:hentFuglTekniskRequest&quot;/&gt;\n      &lt;output message=&quot;tns:hentFuglTekniskResponse&quot;/&gt;\n      &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglNavneSok&quot;&gt;\n      &lt;input message=&quot;tns:hentFuglNavneSokRequest&quot;/&gt;\n      &lt;output message=&quot;tns:hentFuglNavneSokResponse&quot;/&gt;\n      &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglOppslag&quot;&gt;\n      &lt;input message=&quot;tns:hentFuglOppslagRequest&quot;/&gt;\n      &lt;output message=&quot;tns:hentFuglOppslagResponse&quot;/&gt;\n      &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglHistorisk&quot;&gt;\n      &lt;input message=&quot;tns:hentFuglHistoriskRequest&quot;/&gt;\n      &lt;output message=&quot;tns:hentFuglHistoriskResponse&quot;/&gt;\n      &lt;fault name=&quot;feil&quot; message=&quot;tns:feil&quot;/&gt;\n    &lt;/operation&gt;\n  &lt;/portType&gt;\n  &lt;binding name=&quot;mvdBinding&quot; type=&quot;tns:mvdPortType&quot;&gt;\n    &lt;soapbind:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n    &lt;operation name=&quot;hentFuglData&quot;&gt;\n      &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n      &lt;fault name=&quot;feil&quot;&gt;\n        &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\n      &lt;/fault&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglEier&quot;&gt;\n      &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n      &lt;fault name=&quot;feil&quot;&gt;\n        &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\n      &lt;/fault&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglTeknisk&quot;&gt;\n      &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n      &lt;fault name=&quot;feil&quot;&gt;\n        &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\n      &lt;/fault&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglNavneSok&quot;&gt;\n      &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n      &lt;fault name=&quot;feil&quot;&gt;\n        &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\n      &lt;/fault&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglOppslag&quot;&gt;\n      &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n      &lt;fault name=&quot;feil&quot;&gt;\n        &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\n      &lt;/fault&gt;\n    &lt;/operation&gt;\n    &lt;operation name=&quot;hentFuglHistorisk&quot;&gt;\n      &lt;soapbind:operation soapAction=&quot;&quot;/&gt;\n      &lt;input&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:spoerring&quot; part=&quot;Operation&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/input&gt;\n      &lt;output&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Session&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:header message=&quot;tns:svar&quot; part=&quot;Operationsinfo&quot; use=&quot;literal&quot;/&gt;\n        &lt;soapbind:body use=&quot;literal&quot;/&gt;\n      &lt;/output&gt;\n      &lt;fault name=&quot;feil&quot;&gt;\n        &lt;soapbind:fault name=&quot;feil&quot; use=&quot;literal&quot;/&gt;\n      &lt;/fault&gt;\n    &lt;/operation&gt;\n  &lt;/binding&gt;\n  &lt;service name=&quot;FuglData&quot;&gt;\n    &lt;port name=&quot;mvdPort&quot; binding=&quot;tns:mvdBinding&quot;&gt;\n      &lt;soapbind:address location=&quot;https://ws-test.info.ss/ws/SVV/FuglData.pl&quot;/&gt;\n    &lt;/port&gt;\n  &lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n"},{"tags":["java","arrays","return"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1673973233,"post_id":75149453,"comment_id":132613674,"body_markdown":"There&#39;s no such thing as &quot;an array with its brackets&quot;. There&#39;s just an array. It sounds like you just need to replace the last part of your code with `return array;`","body":"There&#39;s no such thing as &quot;an array with its brackets&quot;. There&#39;s just an array. It sounds like you just need to replace the last part of your code with <code>return array;</code>"},{"owner":{"account_id":22067798,"reputation":3,"user_id":16329372,"display_name":"Abdumutalibov"},"score":0,"creation_date":1673973491,"post_id":75149453,"comment_id":132613768,"body_markdown":"But it outputs like this `[I@5b480cf9`","body":"But it outputs like this <code>[I@5b480cf9</code>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673973842,"post_id":75149453,"comment_id":132613873,"body_markdown":"@Abdumutalibov that is just the String representation of an `Integer[]`. It doesn&#39;t matter what it looks like when you print it, your task is to return it. Does it work when you submit the answer?","body":"@Abdumutalibov that is just the String representation of an <code>Integer[]</code>. It doesn&#39;t matter what it looks like when you print it, your task is to return it. Does it work when you submit the answer?"},{"owner":{"account_id":22067798,"reputation":3,"user_id":16329372,"display_name":"Abdumutalibov"},"score":0,"creation_date":1673974002,"post_id":75149453,"comment_id":132613927,"body_markdown":"@f1sh Unfortunately no","body":"@f1sh Unfortunately no"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1673974149,"post_id":75149453,"comment_id":132613976,"body_markdown":"More specifically, that&#39;s the String representation of an `int[]` (not an `Integer[]`). It seems like this is basically a failing on the part of Leetcode to produce readable output. We can&#39;t easily tell whether it&#39;s actually checking the output correctly and is only displaying poor diagnostics, or whether it&#39;s checking against the string representation.","body":"More specifically, that&#39;s the String representation of an <code>int[]</code> (not an <code>Integer[]</code>). It seems like this is basically a failing on the part of Leetcode to produce readable output. We can&#39;t easily tell whether it&#39;s actually checking the output correctly and is only displaying poor diagnostics, or whether it&#39;s checking against the string representation."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673974902,"post_id":75149453,"comment_id":132614212,"body_markdown":"@JonSkeet you are of course correct regarding the `int[]`, for `Integer` it would be `[Ljava.lang.Integer@abc123`. Did not mean to confuse anyone.","body":"@JonSkeet you are of course correct regarding the <code>int[]</code>, for <code>Integer</code> it would be <code>[Ljava.lang.Integer@abc123</code>. Did not mean to confuse anyone."}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673980903,"creation_date":1673980903,"answer_id":75150889,"question_id":75149453,"body_markdown":"The line `return new int[]{}array;` is not a statement.  You are trying to return a `new int[]`, which doesn&#39;t cause an error by itself, but adding the `array` after the `new int[]{}` does absolutely nothing and causes a compiler error.  Just return the array you created above it.\r\n\r\n```java\r\n    int[] array = list.stream().mapToInt(i-&gt;i).toArray();\r\n    return array;\r\n```\r\n\r\nI tested your response:\r\n\r\n```java\r\n  public static void main(String[] args) throws IOException\r\n  {\r\n    int[] nums1 = {4,1,2};\r\n    int[] nums2 = {1,3,4,2};\r\n    int[] expected = {-1,3,-1};\r\n\r\n    var result = nextGreaterElement(nums1, nums2);\r\n\r\n    if (Arrays.equals(expected, result)){\r\n      System.out.println(&quot;They are the same&quot;);\r\n    } else {\r\n      System.out.println(&quot;They are different&quot;);\r\n    }\r\n  }\r\n```\r\n\r\nThe output was `They are the same`.","title":"Return an array in Java within a function","body":"<p>The line <code>return new int[]{}array;</code> is not a statement.  You are trying to return a <code>new int[]</code>, which doesn't cause an error by itself, but adding the <code>array</code> after the <code>new int[]{}</code> does absolutely nothing and causes a compiler error.  Just return the array you created above it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int[] array = list.stream().mapToInt(i-&gt;i).toArray();\n    return array;\n</code></pre>\n<p>I tested your response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) throws IOException\n  {\n    int[] nums1 = {4,1,2};\n    int[] nums2 = {1,3,4,2};\n    int[] expected = {-1,3,-1};\n\n    var result = nextGreaterElement(nums1, nums2);\n\n    if (Arrays.equals(expected, result)){\n      System.out.println(&quot;They are the same&quot;);\n    } else {\n      System.out.println(&quot;They are different&quot;);\n    }\n  }\n</code></pre>\n<p>The output was <code>They are the same</code>.</p>\n"}],"owner":{"account_id":22067798,"reputation":3,"user_id":16329372,"display_name":"Abdumutalibov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75150889,"answer_count":1,"score":-1,"last_activity_date":1673980903,"creation_date":1673973101,"question_id":75149453,"body_markdown":"I&#39;ve written this code to problem from Leetcode in Java. Question 496 Next Greater Element I. Here I must return an array with its brackets, like output must be for example [-1,3,-1]. I cannot print it, but only return. How to do it?\r\n\r\nLink for question from Leetcode\r\nhttps://leetcode.com/problems/next-greater-element-i/description/?envType=study-plan&amp;id=programming-skills-i\r\n\r\n    public int[] nextGreaterElement(int[] nums1, int[] nums2) {\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0;i&lt;nums1.length;i++){\r\n            for (int j = 0;j&lt;nums2.length;j++){\r\n                if (nums1[i] == nums2[j]){\r\n                    try{\r\n                        if(nums1[i] &lt; nums2[j+1]){\r\n                            list.add(nums2[j+1]);\r\n\r\n                        }else{\r\n                            list.add(-1);\r\n                        }\r\n                    }catch (ArrayIndexOutOfBoundsException e){\r\n                        list.add(-1);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        int[] array = list.stream().mapToInt(i-&gt;i).toArray();\r\n        for (int i = 0; i&lt;array.length;i++){\r\n            System.out.println(array[i]);\r\n        }\r\n        return new int[]{}array; // this is error (should return [-1,3,-1])\r\n    }","title":"Return an array in Java within a function","body":"<p>I've written this code to problem from Leetcode in Java. Question 496 Next Greater Element I. Here I must return an array with its brackets, like output must be for example [-1,3,-1]. I cannot print it, but only return. How to do it?</p>\n<p>Link for question from Leetcode\n<a href=\"https://leetcode.com/problems/next-greater-element-i/description/?envType=study-plan&amp;id=programming-skills-i\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/next-greater-element-i/description/?envType=study-plan&amp;id=programming-skills-i</a></p>\n<pre><code>public int[] nextGreaterElement(int[] nums1, int[] nums2) {\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n    for (int i = 0;i&lt;nums1.length;i++){\n        for (int j = 0;j&lt;nums2.length;j++){\n            if (nums1[i] == nums2[j]){\n                try{\n                    if(nums1[i] &lt; nums2[j+1]){\n                        list.add(nums2[j+1]);\n\n                    }else{\n                        list.add(-1);\n                    }\n                }catch (ArrayIndexOutOfBoundsException e){\n                    list.add(-1);\n                }\n            }\n        }\n    }\n    int[] array = list.stream().mapToInt(i-&gt;i).toArray();\n    for (int i = 0; i&lt;array.length;i++){\n        System.out.println(array[i]);\n    }\n    return new int[]{}array; // this is error (should return [-1,3,-1])\n}\n</code></pre>\n"},{"tags":["java","mysql","sql","model-view-controller"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673980597,"post_id":75150756,"comment_id":132615980,"body_markdown":"This is bad: `throw new RuntimeException(&quot;Erro ao salvar a tarefa&quot; + ex.toString());`. Do  `throw new RuntimeException(&quot;Erro ao salvar a tarefa&quot;, ex)` to preserve the context","body":"This is bad: <code>throw new RuntimeException(&quot;Erro ao salvar a tarefa&quot; + ex.toString());</code>. Do  <code>throw new RuntimeException(&quot;Erro ao salvar a tarefa&quot;, ex)</code> to preserve the context"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673980814,"post_id":75150756,"comment_id":132616033,"body_markdown":"Line 44. We don&#39;t know which one that is.","body":"Line 44. We don&#39;t know which one that is."},{"owner":{"account_id":27531070,"reputation":1,"user_id":21009570,"display_name":"Julian Medeiros"},"score":0,"creation_date":1673980886,"post_id":75150756,"comment_id":132616050,"body_markdown":"Line 44 is :\nstatement.setDate(6, new Date(task.getDeadline().getTime()));","body":"Line 44 is : statement.setDate(6, new Date(task.getDeadline().getTime()));"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673980925,"post_id":75150756,"comment_id":132616064,"body_markdown":"Then `task` doesn&#39;t have a deadline set on it. Set one, or wrap that statement in a `if` statement which checks whether or not there&#39;s a deadline. You can&#39;t call `.getTime()` on nothing.","body":"Then <code>task</code> doesn&#39;t have a deadline set on it. Set one, or wrap that statement in a <code>if</code> statement which checks whether or not there&#39;s a deadline. You can&#39;t call <code>.getTime()</code> on nothing."},{"owner":{"account_id":27531070,"reputation":1,"user_id":21009570,"display_name":"Julian Medeiros"},"score":0,"creation_date":1673981388,"post_id":75150756,"comment_id":132616207,"body_markdown":"I&#39;m sorry i think i didn&#39;t understand\n\nI have a  &quot;private Date deadline;&quot; on my Task.Java and then a constructor and a getter and setter for deadline.\n\nI also have a Date &quot;deadline&quot; set on my MySql DB\n\nWhere exactly should i set the deadline? Also, how should i do that if statement? I&#39;m a bit confused.","body":"I&#39;m sorry i think i didn&#39;t understand  I have a  &quot;private Date deadline;&quot; on my Task.Java and then a constructor and a getter and setter for deadline.  I also have a Date &quot;deadline&quot; set on my MySql DB  Where exactly should i set the deadline? Also, how should i do that if statement? I&#39;m a bit confused."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673981626,"post_id":75150756,"comment_id":132616271,"body_markdown":"I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use for example `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use for example <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"owner":{"account_id":27531070,"reputation":1,"user_id":21009570,"display_name":"Julian Medeiros"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673980508,"answer_count":0,"score":0,"last_activity_date":1673980834,"creation_date":1673980233,"question_id":75150756,"body_markdown":"I was trying to save a task on this JAVA project connected to sql, but this error appeared when i was testing it on my main. \r\nThat&#39;s what i asked the file to do:\r\n\r\n\r\n```\r\n        TaskController taskController = new TaskController();\r\n        Task task = new Task();\r\n        task.setIdProject(2);\r\n        task.setName(&quot;Criar Interface Gr&#225;fica&quot;);\r\n        task.setDescription(&quot;Criar uma GUI para o projeto JAVA &quot;);\r\n       \r\n        \r\n        taskController.save(task);\r\n\r\n```\r\n\r\nand i got this error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Erro ao salvar a tarefa\r\n\tat controller.TaskController.save(TaskController.java:49)\r\n\tat TodoApp.App.main(App.java:27)\r\nCaused by: java.lang.NullPointerException\r\n\tat controller.TaskController.save(TaskController.java:44)\r\n\t... 1 more\r\n```\r\n that&#39;s my TaskController:\r\n\r\n\r\n```\r\n public void save( Task task){\r\n        String sql = &quot;INSERT INTO tasks(IdProject,name,description,status,notes,deadline,createdAt, updatedAt) VALUES (?,?,?,?,?,?,?,?)&quot;;\r\n        \r\n        Connection conn = null;\r\n        PreparedStatement statement = null;\r\n        try {\r\n            conn = ConnectionFactory.getConnection();\r\n            \r\n            statement = conn.prepareStatement(sql);\r\n            \r\n            statement.setInt(1, task.getIdProject());\r\n            statement.setString(2,task.getName());\r\n            statement.setString(3, task.getDescription());\r\n            statement.setBoolean(4, task.isStatus());\r\n            statement.setString(5, task.getNotes());\r\n            statement.setDate(6, new Date(task.getDeadline().getTime()));\r\n            statement.setDate(7, new Date(task.getCreatedAt().getTime()));\r\n            statement.setDate(8, new Date(task.getUpdatedAt().getTime()));\r\n            statement.execute();\r\n        } catch (Exception ex) {\r\n            throw new RuntimeException(&quot;Erro ao salvar a tarefa&quot;\r\n                    + ex.toString());\r\n        } finally { \r\n            ConnectionFactory.closeConnection(conn, statement);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI was trying to save a new task in the MySQL databank by my JAVA file\r\nit resulted in a error called java.lang.NullPointerException","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.NullPointerException","body":"<p>I was trying to save a task on this JAVA project connected to sql, but this error appeared when i was testing it on my main.\nThat's what i asked the file to do:</p>\n<pre><code>        TaskController taskController = new TaskController();\n        Task task = new Task();\n        task.setIdProject(2);\n        task.setName(&quot;Criar Interface Gráfica&quot;);\n        task.setDescription(&quot;Criar uma GUI para o projeto JAVA &quot;);\n       \n        \n        taskController.save(task);\n\n</code></pre>\n<p>and i got this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Erro ao salvar a tarefa\n    at controller.TaskController.save(TaskController.java:49)\n    at TodoApp.App.main(App.java:27)\nCaused by: java.lang.NullPointerException\n    at controller.TaskController.save(TaskController.java:44)\n    ... 1 more\n</code></pre>\n<p>that's my TaskController:</p>\n<pre><code> public void save( Task task){\n        String sql = &quot;INSERT INTO tasks(IdProject,name,description,status,notes,deadline,createdAt, updatedAt) VALUES (?,?,?,?,?,?,?,?)&quot;;\n        \n        Connection conn = null;\n        PreparedStatement statement = null;\n        try {\n            conn = ConnectionFactory.getConnection();\n            \n            statement = conn.prepareStatement(sql);\n            \n            statement.setInt(1, task.getIdProject());\n            statement.setString(2,task.getName());\n            statement.setString(3, task.getDescription());\n            statement.setBoolean(4, task.isStatus());\n            statement.setString(5, task.getNotes());\n            statement.setDate(6, new Date(task.getDeadline().getTime()));\n            statement.setDate(7, new Date(task.getCreatedAt().getTime()));\n            statement.setDate(8, new Date(task.getUpdatedAt().getTime()));\n            statement.execute();\n        } catch (Exception ex) {\n            throw new RuntimeException(&quot;Erro ao salvar a tarefa&quot;\n                    + ex.toString());\n        } finally { \n            ConnectionFactory.closeConnection(conn, statement);\n        }\n    }\n</code></pre>\n<p>I was trying to save a new task in the MySQL databank by my JAVA file\nit resulted in a error called java.lang.NullPointerException</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1597281721,"post_id":63386079,"comment_id":112084174,"body_markdown":"Did you include `spring-boot-starter-mongodb`? I recommend using past projects for _reference_ but generating new ones with https://start.spring.io.","body":"Did you include <code>spring-boot-starter-mongodb</code>? I recommend using past projects for <i>reference</i> but generating new ones with <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>."},{"owner":{"account_id":16579187,"reputation":445,"user_id":11980236,"display_name":"Benjam&#237;n Paolo D&#237;az Garc&#237;a"},"score":0,"creation_date":1597289472,"post_id":63386079,"comment_id":112085603,"body_markdown":"That solved the issue, but now I&#39;m getting this problem: https://justpaste.it/8ermn. Now the post has the pom.xml, just in case.","body":"That solved the issue, but now I&#39;m getting this problem: <a href=\"https://justpaste.it/8ermn\" rel=\"nofollow noreferrer\">justpaste.it/8ermn</a>. Now the post has the pom.xml, just in case."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1597290287,"post_id":63386079,"comment_id":112085767,"body_markdown":"Do not specify versions when using Boot unless absolutely required. You&#39;re _explicitly_ (1) importing the Spring Data Lovelace train (this is fine), (2) specifying 2.2.3 for Commons and JPA, and (3) specifying 3.0.3 for MongoDB. Little surprise if you&#39;re getting incompatibilities.","body":"Do not specify versions when using Boot unless absolutely required. You&#39;re <i>explicitly</i> (1) importing the Spring Data Lovelace train (this is fine), (2) specifying 2.2.3 for Commons and JPA, and (3) specifying 3.0.3 for MongoDB. Little surprise if you&#39;re getting incompatibilities."}],"answers":[{"comments":[{"owner":{"account_id":4085133,"reputation":595,"user_id":3354594,"accept_rate":33,"display_name":"charitha amarasinghe"},"score":10,"creation_date":1650641767,"post_id":65468811,"comment_id":127175064,"body_markdown":"even adding with this lines I m getting the error, any other solutions?","body":"even adding with this lines I m getting the error, any other solutions?"},{"owner":{"account_id":6338072,"reputation":175,"user_id":4920921,"display_name":"Johana Lopez 1327"},"score":2,"creation_date":1666365118,"post_id":65468811,"comment_id":130927026,"body_markdown":"After adding this, I just had to make sure that my mongo service was running:  for OSX `brew services start mongodb-community`","body":"After adding this, I just had to make sure that my mongo service was running:  for OSX <code>brew services start mongodb-community</code>"}],"tags":[],"owner":{"account_id":5609135,"reputation":5780,"user_id":4442606,"accept_rate":0,"display_name":"Or Assayag"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1609092114,"creation_date":1609092114,"answer_id":65468811,"question_id":63386079,"body_markdown":"Try adding this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"No bean named &#39;mongoTemplate&#39; available. Spring Boot + MongoDB","body":"<p>Try adding this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8704620,"reputation":709,"user_id":6513167,"accept_rate":69,"display_name":"Martin Niederl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657230150,"creation_date":1657230150,"answer_id":72904546,"question_id":63386079,"body_markdown":"While this is certainly ***not the reason for the error in most cases***, the fact that it happened to me and I spent a fair amount of time looking for the reason made me want to post &quot;the solution&quot; here.\r\n\r\nIn my case I forgot to remove these lines again after disabling autoconfiguration initially (application.yml):\r\n\r\n```yaml\r\nspring.autoconfigure.exclude:\r\n  - org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration\r\n  - org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\r\n```","title":"No bean named &#39;mongoTemplate&#39; available. Spring Boot + MongoDB","body":"<p>While this is certainly <em><strong>not the reason for the error in most cases</strong></em>, the fact that it happened to me and I spent a fair amount of time looking for the reason made me want to post &quot;the solution&quot; here.</p>\n<p>In my case I forgot to remove these lines again after disabling autoconfiguration initially (application.yml):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring.autoconfigure.exclude:\n  - org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration\n  - org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17001208,"reputation":199,"user_id":12298563,"display_name":"shashika11"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668146804,"creation_date":1668146804,"answer_id":74398606,"question_id":63386079,"body_markdown":"Hopefully, this answer too can help someone.\r\n\r\nIf you have following annotation with the parameter somewhere in your code block remove it.\r\n\r\n    exclude = {MongoAutoConfiguration.class} \r\n\r\nEx: Before\r\n\r\n    @SpringBootApplication(exclude = {MongoAutoConfiguration.class})\r\n\r\n\r\nAfter\r\n\r\n    @SpringBootApplication\r\n\r\n\r\n","title":"No bean named &#39;mongoTemplate&#39; available. Spring Boot + MongoDB","body":"<p>Hopefully, this answer too can help someone.</p>\n<p>If you have following annotation with the parameter somewhere in your code block remove it.</p>\n<pre><code>exclude = {MongoAutoConfiguration.class} \n</code></pre>\n<p>Ex: Before</p>\n<pre><code>@SpringBootApplication(exclude = {MongoAutoConfiguration.class})\n</code></pre>\n<p>After</p>\n<pre><code>@SpringBootApplication\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13159754,"reputation":41,"user_id":9505683,"display_name":"Alan Naicson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673980127,"creation_date":1673980127,"answer_id":75150747,"question_id":63386079,"body_markdown":"I Had \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJust removed the version tag and its worked","title":"No bean named &#39;mongoTemplate&#39; available. Spring Boot + MongoDB","body":"<p>I Had</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Just removed the version tag and its worked</p>\n"}],"owner":{"account_id":16579187,"reputation":445,"user_id":11980236,"display_name":"Benjam&#237;n Paolo D&#237;az Garc&#237;a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26907,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":65468811,"answer_count":4,"score":24,"last_activity_date":1673980127,"creation_date":1597275873,"question_id":63386079,"body_markdown":"I&#39;m building a backend using Spring Boot and MongoDB, first I&#39;m making the user repository, service, and controller, and getting this error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField userRepository in com.package.package.controller.UserController required a bean named &#39;mongoTemplate&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;mongoTemplate&#39; in your configuration.\r\n```\r\n\r\nHere&#39;s the code:\r\n\r\nUserController:\r\n```\r\npackage com.package.package.controller;\r\n\r\nimport com.package.package.entities.User;\r\nimport com.package.package.repositories.UserRepository;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @GetMapping(value = &quot;/&quot;)\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(value = &quot;/{id}&quot;)\r\n    public User getUserById(@PathVariable(&quot;id&quot;) ObjectId id) {\r\n        return userRepository.findBy_id(id);\r\n    }\r\n\r\n    @PutMapping(value = &quot;/{id}&quot;)\r\n    public void modifyUserById(@PathVariable(&quot;id&quot;) ObjectId id, @Valid @RequestBody User user) {\r\n        user.set_id(id);\r\n        userRepository.save(user);\r\n    }\r\n\r\n    @PostMapping(value = &quot;/&quot;)\r\n    public User createUser(@Valid @RequestBody User user) {\r\n        user.set_id(ObjectId.get());\r\n        userRepository.save(user);\r\n        return user;\r\n    }\r\n\r\n    @DeleteMapping(value = &quot;/{id}&quot;)\r\n    public void deleteUser(@PathVariable ObjectId id) {\r\n        userRepository.delete(userRepository.findBy_id(id));\r\n    }\r\n}\r\n\r\n```\r\n\r\nUserRepository:\r\n```\r\npackage com.package.package.repositories;\r\n\r\nimport com.package.package.entities.User;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\r\n    User findBy_id(ObjectId _id);\r\n}\r\n\r\n```\r\n\r\nUserService:\r\n```\r\npackage com.package.package.service;\r\n\r\nimport com.package.package.entities.User;\r\nimport org.bson.types.ObjectId;\r\n\r\nimport java.util.List;\r\n\r\npublic interface UserService {\r\n    User save(User user);\r\n    User findbyid(ObjectId _id);\r\n    List&lt;User&gt; getAll();\r\n    void delete(User user);\r\n}\r\n\r\n```\r\n\r\nMainApplication:\r\n\r\n```\r\npackage com.package.package;\r\n\r\nimport com.package.package.repositories.UserRepository;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableMongoRepositories(basePackageClasses = UserRepository.class)\r\npublic class TestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nI am using as a reference a past project that I made (the difference is that this was done with postgres).\r\nAny other information you want, just tell me.\r\nThanks in advance.\r\n\r\nUPDATE:\r\nHere&#39;s the pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.wazzka&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;wazzka&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;wazzka&lt;/name&gt;\r\n\t&lt;description&gt;WazzkaProject&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;14&lt;/java.version&gt;\r\n\t\t&lt;spring.framework.version&gt;5.2.8.RELEASE&lt;/spring.framework.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;Lovelace-SR9&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestone&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"No bean named &#39;mongoTemplate&#39; available. Spring Boot + MongoDB","body":"<p>I'm building a backend using Spring Boot and MongoDB, first I'm making the user repository, service, and controller, and getting this error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userRepository in com.package.package.controller.UserController required a bean named 'mongoTemplate' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'mongoTemplate' in your configuration.\n</code></pre>\n<p>Here's the code:</p>\n<p>UserController:</p>\n<pre><code>package com.package.package.controller;\n\nimport com.package.package.entities.User;\nimport com.package.package.repositories.UserRepository;\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping(value = &quot;/&quot;)\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public User getUserById(@PathVariable(&quot;id&quot;) ObjectId id) {\n        return userRepository.findBy_id(id);\n    }\n\n    @PutMapping(value = &quot;/{id}&quot;)\n    public void modifyUserById(@PathVariable(&quot;id&quot;) ObjectId id, @Valid @RequestBody User user) {\n        user.set_id(id);\n        userRepository.save(user);\n    }\n\n    @PostMapping(value = &quot;/&quot;)\n    public User createUser(@Valid @RequestBody User user) {\n        user.set_id(ObjectId.get());\n        userRepository.save(user);\n        return user;\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public void deleteUser(@PathVariable ObjectId id) {\n        userRepository.delete(userRepository.findBy_id(id));\n    }\n}\n\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>package com.package.package.repositories;\n\nimport com.package.package.entities.User;\nimport org.bson.types.ObjectId;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends MongoRepository&lt;User, String&gt; {\n    User findBy_id(ObjectId _id);\n}\n\n</code></pre>\n<p>UserService:</p>\n<pre><code>package com.package.package.service;\n\nimport com.package.package.entities.User;\nimport org.bson.types.ObjectId;\n\nimport java.util.List;\n\npublic interface UserService {\n    User save(User user);\n    User findbyid(ObjectId _id);\n    List&lt;User&gt; getAll();\n    void delete(User user);\n}\n\n</code></pre>\n<p>MainApplication:</p>\n<pre><code>package com.package.package;\n\nimport com.package.package.repositories.UserRepository;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\n@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = UserRepository.class)\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>I am using as a reference a past project that I made (the difference is that this was done with postgres).\nAny other information you want, just tell me.\nThanks in advance.</p>\n<p>UPDATE:\nHere's the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.wazzka&lt;/groupId&gt;\n    &lt;artifactId&gt;wazzka&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;wazzka&lt;/name&gt;\n    &lt;description&gt;WazzkaProject&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;spring.framework.version&gt;5.2.8.RELEASE&lt;/spring.framework.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\n            &lt;version&gt;Lovelace-SR9&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestone&lt;/id&gt;\n            &lt;name&gt;Spring Maven MILESTONE Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/libs-milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":0,"creation_date":1527122306,"post_id":50499287,"comment_id":88011369,"body_markdown":"You need to post your concrete class. It can be done easily with stream","body":"You need to post your concrete class. It can be done easily with stream"},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":2,"creation_date":1527122308,"post_id":50499287,"comment_id":88011370,"body_markdown":"Please post your non-working code. It&#39;s easier to fix your code than to explain what to do from the very beginning.","body":"Please post your non-working code. It&#39;s easier to fix your code than to explain what to do from the very beginning."},{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1527122415,"post_id":50499287,"comment_id":88011388,"body_markdown":"My classes are all in a different Language and contain a huge amount of code already... Not sure how would i do it.","body":"My classes are all in a different Language and contain a huge amount of code already... Not sure how would i do it."},{"owner":{"account_id":11583471,"reputation":17797,"user_id":8486518,"display_name":"Mạnh Quyết Nguyễn"},"score":2,"creation_date":1527122452,"post_id":50499287,"comment_id":88011395,"body_markdown":"Post your minimal class, which help you to check for taxPlayer, get the id, get the value. Your input, your output","body":"Post your minimal class, which help you to check for taxPlayer, get the id, get the value. Your input, your output"},{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1527123181,"post_id":50499287,"comment_id":88011540,"body_markdown":"Posted what i have until now, hope it helps, if not i&#39;ll try to post the classes","body":"Posted what i have until now, hope it helps, if not i&#39;ll try to post the classes"}],"answers":[{"comments":[{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1527128300,"post_id":50499742,"comment_id":88012634,"body_markdown":"That&#39;s great! Thank you.","body":"That&#39;s great! Thank you."},{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1527171090,"post_id":50499742,"comment_id":88035320,"body_markdown":"I&#39;m having some trouble making the Comparator. How do i get the Value on each expense to add to the sum? Because what i want to sort is the Taxpayer, but the actual sort parameter belongs to the Expense class.","body":"I&#39;m having some trouble making the Comparator. How do i get the Value on each expense to add to the sum? Because what i want to sort is the Taxpayer, but the actual sort parameter belongs to the Expense class."},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1527194667,"post_id":50499742,"comment_id":88048327,"body_markdown":"You could have a field in your taxpayer for total spent, then after you have looped through the expenses to total them all for that taxpayer, set the total to that taxpayer and then use that for your sorting","body":"You could have a field in your taxpayer for total spent, then after you have looped through the expenses to total them all for that taxpayer, set the total to that taxpayer and then use that for your sorting"},{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1527197852,"post_id":50499742,"comment_id":88049666,"body_markdown":"Sounds good. Also what would i need to do besides putting my class Taxpayer implementing Comparable to get the comparator working?","body":"Sounds good. Also what would i need to do besides putting my class Taxpayer implementing Comparable to get the comparator working?"},{"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"score":0,"creation_date":1527211265,"post_id":50499742,"comment_id":88052904,"body_markdown":"I got a IndexOutOfBoundsException: toIndex = 10. I only have like 4 taxpayers yet on my system, is it because of this?","body":"I got a IndexOutOfBoundsException: toIndex = 10. I only have like 4 taxpayers yet on my system, is it because of this?"},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1527211620,"post_id":50499742,"comment_id":88052977,"body_markdown":"Yes, you will need to first check that your array size is &gt; 10","body":"Yes, you will need to first check that your array size is &gt; 10"}],"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1527126401,"creation_date":1527126401,"answer_id":50499742,"question_id":50499287,"body_markdown":"So if I understand correctly, when you already have 10 `Taxpayers` in your list, you are struggling on how to then add another taxpayer to the list to maintain a only to top 10 &quot;spenders&quot;\r\n\r\nOne way to approach this is to gather the expenses of all your `Taxpayers` and add them **all** to your list. Then sort the list in reverse order by the amount they have spent. Then just get the first 10 entries from the list.\r\n\r\nYou could do this using the [`Collections.sort()`][1] method defining your own custom [`Comparator`][2]\r\n\r\nSomething like:\r\n\r\n    List&lt;Taxpayer&gt; taxpayers =...\r\n\r\n\tCollections.sort(taxpayers, new Comparator&lt;Taxpayer&gt;()\r\n\t{\r\n\t\t@Override\r\n\t\tpublic int compare(Taxpayer o1, Taxpayer o2)\r\n\t\t{\r\n\t\t\treturn o1.sum - o2.sum; // using your correct total spent here\r\n            // or to just sort in reverse order\r\n            // return o2.sum - o1.sum;\r\n\t\t}\r\n\t}); \r\n\r\nOr if `Taxpayer` implements [`Comparable`][3] you can just use\r\n\r\n    Collections.sort(taxpayers) \r\n\r\nThen reverse\r\n\r\n    Collections.reverse(taxpayers)\r\n\r\nThen get top 10\r\n\r\n    List&lt;Taxpayer&gt; top10 = taxpayers.subList(0, 10);\r\n\r\nTo be more efficient though you could just define the comparator to sort the list in reverse order - then you don&#39;t need to reverse the list - just get the top 10.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort(java.util.List)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html","title":"List of 10 Taxpayers who spent the most","body":"<p>So if I understand correctly, when you already have 10 <code>Taxpayers</code> in your list, you are struggling on how to then add another taxpayer to the list to maintain a only to top 10 \"spenders\"</p>\n\n<p>One way to approach this is to gather the expenses of all your <code>Taxpayers</code> and add them <strong>all</strong> to your list. Then sort the list in reverse order by the amount they have spent. Then just get the first 10 entries from the list.</p>\n\n<p>You could do this using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort(java.util.List)\" rel=\"nofollow noreferrer\"><code>Collections.sort()</code></a> method defining your own custom <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a></p>\n\n<p>Something like:</p>\n\n<pre><code>List&lt;Taxpayer&gt; taxpayers =...\n\nCollections.sort(taxpayers, new Comparator&lt;Taxpayer&gt;()\n{\n    @Override\n    public int compare(Taxpayer o1, Taxpayer o2)\n    {\n        return o1.sum - o2.sum; // using your correct total spent here\n        // or to just sort in reverse order\n        // return o2.sum - o1.sum;\n    }\n}); \n</code></pre>\n\n<p>Or if <code>Taxpayer</code> implements <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> you can just use</p>\n\n<pre><code>Collections.sort(taxpayers) \n</code></pre>\n\n<p>Then reverse</p>\n\n<pre><code>Collections.reverse(taxpayers)\n</code></pre>\n\n<p>Then get top 10</p>\n\n<pre><code>List&lt;Taxpayer&gt; top10 = taxpayers.subList(0, 10);\n</code></pre>\n\n<p>To be more efficient though you could just define the comparator to sort the list in reverse order - then you don't need to reverse the list - just get the top 10.</p>\n"}],"owner":{"account_id":13589379,"reputation":109,"user_id":9803166,"display_name":"John Mulaney"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50499742,"answer_count":1,"score":0,"last_activity_date":1673980043,"creation_date":1527122173,"question_id":50499287,"body_markdown":"I need to return a List, or a Collection in general, that gives me the 10 taxpayers who spent the most in the entire system. The classes are divided in User, Taxpayer (which extends User) and Expense, and in my main class Main I have a Map holding every single value for Users and Expenses, respectively a `Map&lt;String, User&gt; users` and a `Map&lt;String, Expense&gt; expenses`.\r\n\r\nThe first step would be to go through the Map of users and check if it&#39;s a Taxpayer , then for that Taxpayer get all the Expenses he has done. Inside each expense there&#39;s a variable called Value with a getValue method to return the Value. \r\n\r\nI&#39;ve tried to do it but I was having a problem in updating the Collection if the next Taxpayer had a higher sum on Expense values than the one on the &quot;end&quot; of the Collection.\r\n\r\nAlso, I would prefer if this wasn&#39;t done in Java 8 since I&#39;m not very comfortable with it and there&#39;s more conditions that I would need to set in the middle of the method.\r\n\r\nEdit (what I have until now): \r\n    \r\n    public List&lt;Taxpayer&gt; getTenTaxpayers(){\r\n\t        List&lt;taxpayer&gt; list = new ArrayList&lt;Taxpayer&gt;();\r\n        \r\n            for(User u: this.users.values()){\r\n\t\t        if(!u.getUserType()){ // if it is a Taxpayer\r\n\t\t\t        Taxpayer t = (Taxpayer) u;\r\n\t\t\t        double sum = 0;\r\n\t\t\t        for(Expense e: this.expenses.values()){\r\n\t\t\t\t        if(t.getNIF().equals(e.getNIFClient())){ //NIF is the code that corresponds to the Taxpayer. If the expense belongs to this Taxpayer, enters the if statement.\r\n\t\t\t\t          sum += e.getValue();\r\n                          if(list.size()&lt;10){\r\n                              list.add(t.clone());\r\n                          }\r\n\t\t\t\t        }\r\n\t\t\t        }\r\n\t\t    }\r\n\t    }\r\n    }","title":"List of 10 Taxpayers who spent the most","body":"<p>I need to return a List, or a Collection in general, that gives me the 10 taxpayers who spent the most in the entire system. The classes are divided in User, Taxpayer (which extends User) and Expense, and in my main class Main I have a Map holding every single value for Users and Expenses, respectively a <code>Map&lt;String, User&gt; users</code> and a <code>Map&lt;String, Expense&gt; expenses</code>.</p>\n<p>The first step would be to go through the Map of users and check if it's a Taxpayer , then for that Taxpayer get all the Expenses he has done. Inside each expense there's a variable called Value with a getValue method to return the Value.</p>\n<p>I've tried to do it but I was having a problem in updating the Collection if the next Taxpayer had a higher sum on Expense values than the one on the &quot;end&quot; of the Collection.</p>\n<p>Also, I would prefer if this wasn't done in Java 8 since I'm not very comfortable with it and there's more conditions that I would need to set in the middle of the method.</p>\n<p>Edit (what I have until now):</p>\n<pre><code>public List&lt;Taxpayer&gt; getTenTaxpayers(){\n        List&lt;taxpayer&gt; list = new ArrayList&lt;Taxpayer&gt;();\n    \n        for(User u: this.users.values()){\n            if(!u.getUserType()){ // if it is a Taxpayer\n                Taxpayer t = (Taxpayer) u;\n                double sum = 0;\n                for(Expense e: this.expenses.values()){\n                    if(t.getNIF().equals(e.getNIFClient())){ //NIF is the code that corresponds to the Taxpayer. If the expense belongs to this Taxpayer, enters the if statement.\n                      sum += e.getValue();\n                      if(list.size()&lt;10){\n                          list.add(t.clone());\n                      }\n                    }\n                }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","itext","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1673944634,"post_id":75140677,"comment_id":132603959,"body_markdown":"Please copy &amp; paste the text into your question body instead of linking screen shot excerpts. If you had done so, you probably would have seen that you have provided no exception, let alone stack trace.","body":"Please copy &amp; paste the text into your question body instead of linking screen shot excerpts. If you had done so, you probably would have seen that you have provided no exception, let alone stack trace."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673967461,"post_id":75140677,"comment_id":132611556,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":7017100,"reputation":9,"user_id":5378041,"display_name":"Cesar Palomino Salas"},"score":0,"creation_date":1673979670,"post_id":75140677,"comment_id":132615726,"body_markdown":"Ok, just edited the question. Regards","body":"Ok, just edited the question. Regards"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1673981016,"post_id":75140677,"comment_id":132616092,"body_markdown":"Ok, indeed `MakeSignature.signExternalContainer` may close the underlying streams. You should use an `ExternalSignatureContainer` implementation that already operates on the given data (which is the range stream _before_ closing), e.g. by calculating the hash, instead of `ExternalBlankSignatureContainer`.","body":"Ok, indeed <code>MakeSignature.signExternalContainer</code> may close the underlying streams. You should use an <code>ExternalSignatureContainer</code> implementation that already operates on the given data (which is the range stream <i>before</i> closing), e.g. by calculating the hash, instead of <code>ExternalBlankSignatureContainer</code>."},{"owner":{"account_id":7017100,"reputation":9,"user_id":5378041,"display_name":"Cesar Palomino Salas"},"score":0,"creation_date":1676067253,"post_id":75140677,"comment_id":133070189,"body_markdown":"I couldn&#39;t solve it, I&#39;ll keep trying another time. In the meantime I&#39;ll keep passing the temp parameter to null to get the bytes of my pdf file with the appearance added. It&#39;s the only solution I found so far. Thanks for the help.","body":"I couldn&#39;t solve it, I&#39;ll keep trying another time. In the meantime I&#39;ll keep passing the temp parameter to null to get the bytes of my pdf file with the appearance added. It&#39;s the only solution I found so far. Thanks for the help."}],"owner":{"account_id":7017100,"reputation":9,"user_id":5378041,"display_name":"Cesar Palomino Salas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673979614,"creation_date":1673911881,"question_id":75140677,"body_markdown":"The following code snippet I use to get the hash of my pdf file.\r\n\r\n       os = new FileOutputStream(rutaDestinoArchivo);\r\n            PdfStamper stamper;\r\n            if (claveEncriptar != null &amp;&amp; !claveEncriptar.isEmpty()) {\r\n                stamper = PdfStamper.createSignature(reader, os, &#39;\\0&#39;, new File(rutaDestinoArchivo + &quot;.tmp&quot;), false);\r\n                stamper.setEncryption(claveEncriptar.getBytes(),\r\n                        claveEncriptar.getBytes(),\r\n                        PdfWriter.ALLOW_PRINTING, PdfWriter.ENCRYPTION_AES_128 | PdfWriter.DO_NOT_ENCRYPT_METADATA);\r\n            } else {\r\n                stamper = PdfStamper.createSignature(reader, os, &#39;\\0&#39;, new File(rutaDestinoArchivo + &quot;.tmp&quot;), true);\r\n            }\r\n            PdfSignatureAppearance appearance = stamper.getSignatureAppearance();\r\n\r\n            if (!seguirFirmando) {\r\n                appearance.setCertificationLevel(PdfSignatureAppearance.CERTIFIED_NO_CHANGES_ALLOWED);\r\n            }\r\n\r\n            motivo = &quot; &quot; + motivo + &quot; &quot;;\r\n            if (motivo.length() &gt; 0) {\r\n                String[] parts = motivo.split(&quot;@motloc@&quot;);\r\n                String part11 = parts[0].trim();\r\n                String part21 = parts[1].trim();\r\n                motivo = &quot;&quot;;\r\n                localidad = &quot;&quot;;\r\n                if (part11.length() &gt; 0) {\r\n                    motivo = part11;\r\n                }\r\n                if (part21.length() &gt; 0) {\r\n                    localidad = part21;\r\n                }\r\n            } else {\r\n                motivo = &quot;&quot;;\r\n                localidad = &quot;&quot;;\r\n            }\r\n            appearance.setReason(motivo);\r\n            appearance.setLocation(localidad);\r\n           \r\n            String ttitulo = tituloFirma;\r\n            if (ttitulo.length() == 0) {\r\n                ttitulo = &quot;FIRMA DIGITAL&quot;;\r\n            }\r\n            Integer ttamletra = tamanoLetra;\r\n            if (ttamletra &gt; 0) {\r\n                appearance.setLayer2Font(new Font(Font.FontFamily.UNDEFINED, ttamletra));\r\n            }\r\n            if (descripcion != null &amp;&amp; !descripcion.trim().isEmpty()) {\r\n                appearance.setLayer2Text(descripcion);\r\n            }\r\n            appearance.setLayer4Text(ttitulo);\r\n            appearance.setAcro6Layers(true);\r\n            appearance.setImageScale(0.5f);\r\n            appearance.setRunDirection(PdfWriter.RUN_DIRECTION_LTR);\r\n            if (firmaVisible) {\r\n                DateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\r\n                Date date = new Date();\r\n                this.nombreFirma = ((nombreFirma != null &amp;&amp; !nombreFirma.trim().isEmpty()) ? nombreFirma : &quot;sig&quot; + dateFormat.format(date));\r\n                if (rutaArchivoImagen == null || rutaArchivoImagen.isEmpty()) {\r\n                    appearance.setRenderingMode(RenderingMode.DESCRIPTION);\r\n                } else {\r\n                    appearance.setRenderingMode(RenderingMode.GRAPHIC_AND_DESCRIPTION);\r\n                    Image watermark = Image.getInstance(rutaArchivoImagen);\r\n                    appearance.setSignatureGraphic(watermark);\r\n                }\r\n                appearance.setVisibleSignature(new Rectangle(x, y, x + ancho, y + alto), pagina, this.nombreFirma);\r\n            }\r\n            ExternalSignatureContainer external = new ExternalBlankSignatureContainer(PdfName.ADOBE_PPKLITE,\r\n                    PdfName.ADBE_PKCS7_DETACHED);\r\n            MakeSignature.signExternalContainer(appearance, external, tamanoFirma);\r\n            \r\n            InputStream inp = appearance.getRangeStream();\r\n\r\nI can&#39;t longer retrieve the rangeStream() from the appearance, it returns the following exception.\r\n\r\n[It returns ioException stream close when I want to get the rangeStream of the appearance.][1]\r\n\r\nWhen I pass the fourth parameter en la function createSignature as null if I can get the rangeStream() of the appearance.\r\n\r\nNaturally I enter the fourth parameter because it allows me to sign large pdf files.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Eeuxc.png","title":"I can&#39;t get getRangeStream of the appearance of the pdf when I put the fourth parameter in PdfStamper.createSignature(reader, os, &#39;\\0&#39;, null, ...)","body":"<p>The following code snippet I use to get the hash of my pdf file.</p>\n<pre><code>   os = new FileOutputStream(rutaDestinoArchivo);\n        PdfStamper stamper;\n        if (claveEncriptar != null &amp;&amp; !claveEncriptar.isEmpty()) {\n            stamper = PdfStamper.createSignature(reader, os, '\\0', new File(rutaDestinoArchivo + &quot;.tmp&quot;), false);\n            stamper.setEncryption(claveEncriptar.getBytes(),\n                    claveEncriptar.getBytes(),\n                    PdfWriter.ALLOW_PRINTING, PdfWriter.ENCRYPTION_AES_128 | PdfWriter.DO_NOT_ENCRYPT_METADATA);\n        } else {\n            stamper = PdfStamper.createSignature(reader, os, '\\0', new File(rutaDestinoArchivo + &quot;.tmp&quot;), true);\n        }\n        PdfSignatureAppearance appearance = stamper.getSignatureAppearance();\n\n        if (!seguirFirmando) {\n            appearance.setCertificationLevel(PdfSignatureAppearance.CERTIFIED_NO_CHANGES_ALLOWED);\n        }\n\n        motivo = &quot; &quot; + motivo + &quot; &quot;;\n        if (motivo.length() &gt; 0) {\n            String[] parts = motivo.split(&quot;@motloc@&quot;);\n            String part11 = parts[0].trim();\n            String part21 = parts[1].trim();\n            motivo = &quot;&quot;;\n            localidad = &quot;&quot;;\n            if (part11.length() &gt; 0) {\n                motivo = part11;\n            }\n            if (part21.length() &gt; 0) {\n                localidad = part21;\n            }\n        } else {\n            motivo = &quot;&quot;;\n            localidad = &quot;&quot;;\n        }\n        appearance.setReason(motivo);\n        appearance.setLocation(localidad);\n       \n        String ttitulo = tituloFirma;\n        if (ttitulo.length() == 0) {\n            ttitulo = &quot;FIRMA DIGITAL&quot;;\n        }\n        Integer ttamletra = tamanoLetra;\n        if (ttamletra &gt; 0) {\n            appearance.setLayer2Font(new Font(Font.FontFamily.UNDEFINED, ttamletra));\n        }\n        if (descripcion != null &amp;&amp; !descripcion.trim().isEmpty()) {\n            appearance.setLayer2Text(descripcion);\n        }\n        appearance.setLayer4Text(ttitulo);\n        appearance.setAcro6Layers(true);\n        appearance.setImageScale(0.5f);\n        appearance.setRunDirection(PdfWriter.RUN_DIRECTION_LTR);\n        if (firmaVisible) {\n            DateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;);\n            Date date = new Date();\n            this.nombreFirma = ((nombreFirma != null &amp;&amp; !nombreFirma.trim().isEmpty()) ? nombreFirma : &quot;sig&quot; + dateFormat.format(date));\n            if (rutaArchivoImagen == null || rutaArchivoImagen.isEmpty()) {\n                appearance.setRenderingMode(RenderingMode.DESCRIPTION);\n            } else {\n                appearance.setRenderingMode(RenderingMode.GRAPHIC_AND_DESCRIPTION);\n                Image watermark = Image.getInstance(rutaArchivoImagen);\n                appearance.setSignatureGraphic(watermark);\n            }\n            appearance.setVisibleSignature(new Rectangle(x, y, x + ancho, y + alto), pagina, this.nombreFirma);\n        }\n        ExternalSignatureContainer external = new ExternalBlankSignatureContainer(PdfName.ADOBE_PPKLITE,\n                PdfName.ADBE_PKCS7_DETACHED);\n        MakeSignature.signExternalContainer(appearance, external, tamanoFirma);\n        \n        InputStream inp = appearance.getRangeStream();\n</code></pre>\n<p>I can't longer retrieve the rangeStream() from the appearance, it returns the following exception.</p>\n<p><a href=\"https://i.stack.imgur.com/Eeuxc.png\" rel=\"nofollow noreferrer\">It returns ioException stream close when I want to get the rangeStream of the appearance.</a></p>\n<p>When I pass the fourth parameter en la function createSignature as null if I can get the rangeStream() of the appearance.</p>\n<p>Naturally I enter the fourth parameter because it allows me to sign large pdf files.</p>\n"},{"tags":["java","ssl-certificate","keystore","truststore"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1673986255,"post_id":75150127,"comment_id":132617643,"body_markdown":"How you tell a SSL/TLS server which key&amp;cert(chain) to use depends on the program if coded explicitly, or the library(s) and/or platform(s) it uses; for example does it use Tomcat/Wildfly? Glassfish/Payara? WebSphere? SpringBoot? Something else? Nothing? In any case, I know of _no_ server that switches automatically upon expiration, rather you switch it manually at a time you select that is after all clients are ready but before the old cert (or chain) expires.","body":"How you tell a SSL/TLS server which key&amp;cert(chain) to use depends on the program if coded explicitly, or the library(s) and/or platform(s) it uses; for example does it use Tomcat/Wildfly? Glassfish/Payara? WebSphere? SpringBoot? Something else? Nothing? In any case, I know of <i>no</i> server that switches automatically upon expiration, rather you switch it manually at a time you select that is after all clients are ready but before the old cert (or chain) expires."}],"owner":{"account_id":9412803,"reputation":269,"user_id":7001312,"accept_rate":25,"display_name":"Sujan Davangere Sunil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1673979500,"creation_date":1673976629,"question_id":75150127,"body_markdown":"We have an application running in Server. There are multiple clients using this application. Server has a **keystore.jks** which has certificate and keypair entry.\r\nThe existing certificate(**old.xyz.com**) is getting expired soon. As a result, we have created a brand new certificate(**new.xyz.com**). We have added the new certificate and key pairs to the existing keystore.jks.\r\n\r\nSo the keystore now has the below 4 entries\r\n\r\n 1. Certificate old.xyz.com - Expiring in 1 March, 2023\r\n 2. Keypair old.xyz.com\r\n 3. Certificate new.xyz.com - Expiring in 1 March, 2024\r\n 4. Keypair new.xyz.com\r\n\r\nSimilarly on the Client **truststore.jks** we have added the servers old certificate and servers new certificate.\r\n\r\n**Question**\r\nHow can we tell the server to present **new.xyz.com** certificate to clients as soon as **old.xyz.com** expires?\r\n\r\nGoal is to not having clients any downtime while we deploy new certificates to Server after old certificates get expired.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iG1Q0.png","title":"Multiple certificates and key pair entries in java keystore","body":"<p>We have an application running in Server. There are multiple clients using this application. Server has a <strong>keystore.jks</strong> which has certificate and keypair entry.\nThe existing certificate(<strong>old.xyz.com</strong>) is getting expired soon. As a result, we have created a brand new certificate(<strong>new.xyz.com</strong>). We have added the new certificate and key pairs to the existing keystore.jks.</p>\n<p>So the keystore now has the below 4 entries</p>\n<ol>\n<li>Certificate old.xyz.com - Expiring in 1 March, 2023</li>\n<li>Keypair old.xyz.com</li>\n<li>Certificate new.xyz.com - Expiring in 1 March, 2024</li>\n<li>Keypair new.xyz.com</li>\n</ol>\n<p>Similarly on the Client <strong>truststore.jks</strong> we have added the servers old certificate and servers new certificate.</p>\n<p><strong>Question</strong>\nHow can we tell the server to present <strong>new.xyz.com</strong> certificate to clients as soon as <strong>old.xyz.com</strong> expires?</p>\n<p>Goal is to not having clients any downtime while we deploy new certificates to Server after old certificates get expired.</p>\n<p><a href=\"https://i.stack.imgur.com/iG1Q0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iG1Q0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","combinatorics"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":3,"creation_date":1673974191,"post_id":75149636,"comment_id":132613997,"body_markdown":"You seem to be missing some `java` code from your question. What have you tried, and where are you stuck? Refer [help] on asking good questions","body":"You seem to be missing some <code>java</code> code from your question. What have you tried, and where are you stuck? Refer <a href=\"https://stackoverflow.com/help\">help center</a> on asking good questions"},{"owner":{"account_id":18472697,"reputation":346,"user_id":13600624,"display_name":"ᴇɴᴅᴇʀᴍᴀɴ"},"score":1,"creation_date":1673974268,"post_id":75149636,"comment_id":132614020,"body_markdown":"Please give some sample code so we can better help answer your question. What did you try, and why did it fail?","body":"Please give some sample code so we can better help answer your question. What did you try, and why did it fail?"},{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":1,"creation_date":1673975355,"post_id":75149636,"comment_id":132614343,"body_markdown":"I believe it is the count of individual strings you can form with the given string without changing the order of the characters. This is the list of substrings I came up with: a,a,b,b,a,b,c,c,c,b,a,aa,bb,ab,aabb,abba,ba,aabbab,abc,bc,cc,ccc,cba,aabbabccc,cc,cb,ba\nwhich is 28. This would also explain why &quot;&quot; returns 0 as no substrings can be created","body":"I believe it is the count of individual strings you can form with the given string without changing the order of the characters. This is the list of substrings I came up with: a,a,b,b,a,b,c,c,c,b,a,aa,bb,ab,aabb,abba,ba,aabbab,abc,bc,cc&zwnj;&#8203;,ccc,cba,aabbabccc,c&zwnj;&#8203;c,cb,ba which is 28. This would also explain why &quot;&quot; returns 0 as no substrings can be created"},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1673976272,"post_id":75149636,"comment_id":132614612,"body_markdown":"@Portal im counting again and again and it&#39;s 27 examples and I can&#39;t seem to find the 28th, altho this would be the logical solution I didnt think of...","body":"@Portal im counting again and again and it&#39;s 27 examples and I can&#39;t seem to find the 28th, altho this would be the logical solution I didnt think of..."},{"owner":{"account_id":1528021,"reputation":1224,"user_id":1425962,"display_name":"Slomo"},"score":0,"creation_date":1673976658,"post_id":75149636,"comment_id":132614745,"body_markdown":"@Bajter I think Portal was missing a second &#39;ab&#39;. Basically, all single characters and all 2-char words are always balanced. Therefore you start with 11 + 10. Then you will find 7 more with more than 2 character lenght.","body":"@Bajter I think Portal was missing a second &#39;ab&#39;. Basically, all single characters and all 2-char words are always balanced. Therefore you start with 11 + 10. Then you will find 7 more with more than 2 character lenght."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1673977267,"post_id":75149636,"comment_id":132614928,"body_markdown":"@Slomo yes! Thank You so much, this has been bugging me literally for almost 1.5week","body":"@Slomo yes! Thank You so much, this has been bugging me literally for almost 1.5week"},{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1673977293,"post_id":75149636,"comment_id":132614943,"body_markdown":"@Slomo correct, I seem to have lost one in the copy paste","body":"@Slomo correct, I seem to have lost one in the copy paste"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1673979396,"post_id":75150594,"comment_id":132615618,"body_markdown":"I wrote this answer because I saw that exercises with balanced words seem to be quite common, also questions related to them in Stack Overflow - so it should help new visitiors searching for this. Thanks to all the commenters on the question, they helped find the solution.","body":"I wrote this answer because I saw that exercises with balanced words seem to be quite common, also questions related to them in Stack Overflow - so it should help new visitiors searching for this. Thanks to all the commenters on the question, they helped find the solution."},{"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"score":0,"creation_date":1673980547,"post_id":75150594,"comment_id":132615965,"body_markdown":"yeah, the thing is I couldnt find anything online for the exact problem I had, all balanced subwords/substring problems where about symmetry, or the amount of true words, or some other similar letter counting and I couldnt deduce anything from them, I hope your answer will help the google algorithm find it when some other noobie like me will need something similar!","body":"yeah, the thing is I couldnt find anything online for the exact problem I had, all balanced subwords/substring problems where about symmetry, or the amount of true words, or some other similar letter counting and I couldnt deduce anything from them, I hope your answer will help the google algorithm find it when some other noobie like me will need something similar!"},{"owner":{"account_id":1528021,"reputation":1224,"user_id":1425962,"display_name":"Slomo"},"score":0,"creation_date":1673981899,"post_id":75150594,"comment_id":132616366,"body_markdown":"To be honest, I believe most of these questions are foggy by design. They most likely want the students to reverse engineer by using the example outputs.","body":"To be honest, I believe most of these questions are foggy by design. They most likely want the students to reverse engineer by using the example outputs."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673979301,"creation_date":1673979301,"answer_id":75150594,"question_id":75149636,"body_markdown":"The question to answer is: how is &quot;subword&quot; defined. Comments to the question suggest that &quot;subword&quot; can be seen as any word you can &quot;cut&quot; from the original input.\r\n\r\nFor the input in question, &quot;aabbabcccba&quot; you can cut these balanced subwords (the word itself is _not_ balanced by the definition given, as it contains 4 * `a`, 4 * `b` but only 3 * `c`)\r\n\r\n``` lang-none\r\naabbabcccba\r\na\r\n a\r\n  b\r\n   b\r\n    a\r\n     b\r\n      c\r\n       c\r\n        c\r\n         b\r\n          a\r\naa\r\n ab\r\n  bb\r\n   ba\r\n    ab\r\n     bc\r\n      cc\r\n       cc\r\n        cb\r\n         ba\r\n    abc\r\n      ccc\r\n        cba\r\naabb\r\n abba\r\naabbab\r\naabbabccc\r\n```\r\n\r\nIn the above list, the original word is on top, and each word below is written at the position where you find it in the original input.\r\nWhen you count the total lines in the text, you get 29, but the first is the original word, which is _not_ balanced as described above, so the result is 28, as expected.","title":"Balanced String Counter","body":"<p>The question to answer is: how is &quot;subword&quot; defined. Comments to the question suggest that &quot;subword&quot; can be seen as any word you can &quot;cut&quot; from the original input.</p>\n<p>For the input in question, &quot;aabbabcccba&quot; you can cut these balanced subwords (the word itself is <em>not</em> balanced by the definition given, as it contains 4 * <code>a</code>, 4 * <code>b</code> but only 3 * <code>c</code>)</p>\n<pre class=\"lang-none prettyprint-override\"><code>aabbabcccba\na\n a\n  b\n   b\n    a\n     b\n      c\n       c\n        c\n         b\n          a\naa\n ab\n  bb\n   ba\n    ab\n     bc\n      cc\n       cc\n        cb\n         ba\n    abc\n      ccc\n        cba\naabb\n abba\naabbab\naabbabccc\n</code></pre>\n<p>In the above list, the original word is on top, and each word below is written at the position where you find it in the original input.\nWhen you count the total lines in the text, you get 29, but the first is the original word, which is <em>not</em> balanced as described above, so the result is 28, as expected.</p>\n"}],"owner":{"account_id":27004584,"reputation":7,"user_id":20565300,"display_name":"Bajter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673979301,"creation_date":1673974001,"question_id":75149636,"body_markdown":"I&#39;m applying for a java internship and one of the tasks to complete goes like this - \r\n\r\n&gt; Balanced words counter - Balanced words definition: The word is balanced if every letter that occurs in it occurs in the same number of time. E.g. the words: “mama”, “ear”, “aabbcbcccbaa” are balanced but the words “dad”, “elephant”, “abcba” are not. Additionally, the balanced word is not empty. \r\n&gt;\r\n&gt; Create a “BalancedWordsCounter” class with one public method called “count” (you can create other private methods) which has to count how many balanced subwords exist in the input word. \r\n&gt;\r\n&gt; * method should receive String (parameter name = “input”) \r\n&gt; * method should return Integer\r\n&gt; * the input should contain the letters only, throw an exception if the text contains other characters. \r\n&gt; * if the input is null then method should throw an exception\r\n&gt;\r\n&gt; Create a “BalancedWordsCounterTest” and create a test methods for below cases: \r\n&gt; * input = “aabbabcccba” result = 28 \r\n&gt; * input = “” result = 0 \r\n&gt; * input = “abababa1” result = RuntimeException \r\n&gt; * input = null result = RuntimeException\r\n\r\nI&#39;m tied at the test case with result 28 - what needs to be done so the number 28 is produced? I tried visualizing the problem before coding the answer, but the only reasonable idea I got was something like this -\r\n```\r\n1 a\t\t\r\n2 ab\t\t\t\r\n3 abc\t\t\r\n4 2a\t\t\r\n5 3a\t\t\t\r\n5 4a\t\t\r\n6 2a2b\t\r\n7 3a3b\t\t\r\n8 4a4b\t\t\r\n9 ac\t\t\r\n10 2a2c\t\r\n11 3a3c\t\t\t\r\n12 4a4c\t\t\r\n13 2b\t\t\r\n14 2b2c\t\t\r\n15 3b3c\t\t\r\n16 4b4c\t\t\r\n17 b\t\r\n18 c\t\t\r\n19 3a\t\r\n20 3b\t\r\n21 3c\t\r\n22 bc\t\r\n23 4b\t\r\n24 4c\t\t\r\n25 2c \t\t\r\n26 2a2b2c\t\r\n27 3a3b3c\t\r\n28 4a4b4c \t\r\n```\r\nbut the case here is that i would have to use 4xC, which isn&#39;t the case.   \r\nWhat am I missing?  \r\nI&#39;m not really asking about ready solutions, but for some insights on what the problem actually is.\r\n\r\n@Edit - \r\nfor questions about the code I already made - I didnt produce any code for this because I don&#39;t really understand the question therefore I was counting on some insight into what the problem is about, because apparently I wasn&#39;t able to come up with other solution that what I specified, but the case is that&#39;s not really 1:1 with the question(it assumes the string has 4 a 4 b and 4c, which isn&#39;t the case) ;/ ","title":"Balanced String Counter","body":"<p>I'm applying for a java internship and one of the tasks to complete goes like this -</p>\n<blockquote>\n<p>Balanced words counter - Balanced words definition: The word is balanced if every letter that occurs in it occurs in the same number of time. E.g. the words: “mama”, “ear”, “aabbcbcccbaa” are balanced but the words “dad”, “elephant”, “abcba” are not. Additionally, the balanced word is not empty.</p>\n<p>Create a “BalancedWordsCounter” class with one public method called “count” (you can create other private methods) which has to count how many balanced subwords exist in the input word.</p>\n<ul>\n<li>method should receive String (parameter name = “input”)</li>\n<li>method should return Integer</li>\n<li>the input should contain the letters only, throw an exception if the text contains other characters.</li>\n<li>if the input is null then method should throw an exception</li>\n</ul>\n<p>Create a “BalancedWordsCounterTest” and create a test methods for below cases:</p>\n<ul>\n<li>input = “aabbabcccba” result = 28</li>\n<li>input = “” result = 0</li>\n<li>input = “abababa1” result = RuntimeException</li>\n<li>input = null result = RuntimeException</li>\n</ul>\n</blockquote>\n<p>I'm tied at the test case with result 28 - what needs to be done so the number 28 is produced? I tried visualizing the problem before coding the answer, but the only reasonable idea I got was something like this -</p>\n<pre><code>1 a     \n2 ab            \n3 abc       \n4 2a        \n5 3a            \n5 4a        \n6 2a2b  \n7 3a3b      \n8 4a4b      \n9 ac        \n10 2a2c \n11 3a3c         \n12 4a4c     \n13 2b       \n14 2b2c     \n15 3b3c     \n16 4b4c     \n17 b    \n18 c        \n19 3a   \n20 3b   \n21 3c   \n22 bc   \n23 4b   \n24 4c       \n25 2c       \n26 2a2b2c   \n27 3a3b3c   \n28 4a4b4c   \n</code></pre>\n<p>but the case here is that i would have to use 4xC, which isn't the case.<br />\nWhat am I missing?<br />\nI'm not really asking about ready solutions, but for some insights on what the problem actually is.</p>\n<p>@Edit -\nfor questions about the code I already made - I didnt produce any code for this because I don't really understand the question therefore I was counting on some insight into what the problem is about, because apparently I wasn't able to come up with other solution that what I specified, but the case is that's not really 1:1 with the question(it assumes the string has 4 a 4 b and 4c, which isn't the case) ;/</p>\n"},{"tags":["java","excel","scripting","excel-2007","apache-poi"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1282683468,"post_id":3560950,"comment_id":3732332,"body_markdown":"Can you open Excel on the files, and ask Excel to do what you need?","body":"Can you open Excel on the files, and ask Excel to do what you need?"},{"owner":{"account_id":190193,"reputation":114,"user_id":429997,"display_name":"arcdrag"},"score":0,"creation_date":1282689408,"post_id":3560950,"comment_id":3733074,"body_markdown":"Well that&#39;s basically what&#39;s done now.  Lots of vlookups and pivot tables that bring a top of the line core i7 machine with 8GB of ram to its knees.","body":"Well that&#39;s basically what&#39;s done now.  Lots of vlookups and pivot tables that bring a top of the line core i7 machine with 8GB of ram to its knees."},{"owner":{"account_id":1851,"reputation":90520,"user_id":2548,"display_name":"Fionnuala"},"score":0,"creation_date":1282693316,"post_id":3560950,"comment_id":3733494,"body_markdown":"Is this of any use? I saw a demo and it seems to be quick: http://www.powerpivot.com/demo.aspx \n It allows you to quickly analyse millions of rows in Excel, the interactive results can be added to Sharepoint and even returned to Reporting Services for further analysis.","body":"Is this of any use? I saw a demo and it seems to be quick: <a href=\"http://www.powerpivot.com/demo.aspx\" rel=\"nofollow noreferrer\">powerpivot.com/demo.aspx</a>   It allows you to quickly analyse millions of rows in Excel, the interactive results can be added to Sharepoint and even returned to Reporting Services for further analysis."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1282699525,"post_id":3560950,"comment_id":3733900,"body_markdown":"Any chance you can query the same database as the boss?","body":"Any chance you can query the same database as the boss?"}],"answers":[{"comments":[{"owner":{"account_id":190193,"reputation":114,"user_id":429997,"display_name":"arcdrag"},"score":0,"creation_date":1282689104,"post_id":3560965,"comment_id":3733045,"body_markdown":"I had tried this today, and it didn&#39;t seem quite as intuitive as everyone makes it sound.  I had no problem working with .xls files, but I kept getting all kinds of weird errors when working with .xlsx files.","body":"I had tried this today, and it didn&#39;t seem quite as intuitive as everyone makes it sound.  I had no problem working with .xls files, but I kept getting all kinds of weird errors when working with .xlsx files."}],"tags":[],"owner":{"account_id":1059,"reputation":8462,"user_id":1406,"accept_rate":85,"display_name":"Thierry Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282683392,"creation_date":1282683392,"answer_id":3560965,"question_id":3560950,"body_markdown":"You could use [Java POI][1] to access the .xlsx directly.\r\n\r\n\r\n  [1]: http://poi.apache.org/","title":"Best language to parse extremely large Excel 2007 files","body":"<p>You could use <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">Java POI</a> to access the .xlsx directly.</p>\n"},{"comments":[{"owner":{"account_id":190193,"reputation":114,"user_id":429997,"display_name":"arcdrag"},"score":0,"creation_date":1282689694,"post_id":3560983,"comment_id":3733099,"body_markdown":"From what I&#39;ve seen Java or Python is my best bet.  The problem I&#39;ve had thus far is interacting with an .xlsx file, which I haven&#39;t been able to do easily with Java.  I might give Python a try sometime this week if I don&#39;t make any more headway with the apache POI.  Its pretty trivial with PowerShell, but I&#39;d just like to narrow it down to a single language if possible.","body":"From what I&#39;ve seen Java or Python is my best bet.  The problem I&#39;ve had thus far is interacting with an .xlsx file, which I haven&#39;t been able to do easily with Java.  I might give Python a try sometime this week if I don&#39;t make any more headway with the apache POI.  Its pretty trivial with PowerShell, but I&#39;d just like to narrow it down to a single language if possible."}],"tags":[],"owner":{"account_id":128504,"reputation":2472,"user_id":326402,"accept_rate":76,"display_name":"Nate"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282683529,"creation_date":1282683529,"answer_id":3560983,"question_id":3560950,"body_markdown":"I personally would use Python for this. I have found that it runs fast enough to not be a noticeable problem.\r\n\r\nIf you don&#39;t want to worry about a new language, why not just use Java for the entire thing? Removing commas and newlines is pretty trivial in Java and it would save you a step.","title":"Best language to parse extremely large Excel 2007 files","body":"<p>I personally would use Python for this. I have found that it runs fast enough to not be a noticeable problem.</p>\n\n<p>If you don't want to worry about a new language, why not just use Java for the entire thing? Removing commas and newlines is pretty trivial in Java and it would save you a step.</p>\n"},{"comments":[{"owner":{"account_id":313265,"reputation":2045,"user_id":627806,"accept_rate":56,"display_name":"Jon Burgess"},"score":0,"creation_date":1344991074,"post_id":3561024,"comment_id":15942811,"body_markdown":"I haven&#39;t had much luck with Talend and &quot;big&quot; excel files, e.g. 10k lines or more.  Getting OutOfMemoryErrors","body":"I haven&#39;t had much luck with Talend and &quot;big&quot; excel files, e.g. 10k lines or more.  Getting OutOfMemoryErrors"}],"tags":[],"owner":{"account_id":46144,"reputation":7024,"user_id":136248,"accept_rate":100,"display_name":"Benoit Courtine"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282683886,"creation_date":1282683886,"answer_id":3561024,"question_id":3560950,"body_markdown":"Your goal is to do &quot;data transformation&quot; on your Excel files.\r\n\r\nTo solve this, I would use a dedicated ETL tool (Extract Transform Load), such as [Talend Open Studio][1].\r\n\r\nYou just have to put a &quot;Excel Input&quot; component, a &quot;data transform&quot; component, and a &quot;CSV output component&quot;. Talend ETL will convert this functional description of your problem into a Java code. Finally, you just have to execute this program...\r\n\r\n  [1]: http://www.talend.com/","title":"Best language to parse extremely large Excel 2007 files","body":"<p>Your goal is to do \"data transformation\" on your Excel files.</p>\n\n<p>To solve this, I would use a dedicated ETL tool (Extract Transform Load), such as <a href=\"http://www.talend.com/\" rel=\"nofollow noreferrer\">Talend Open Studio</a>.</p>\n\n<p>You just have to put a \"Excel Input\" component, a \"data transform\" component, and a \"CSV output component\". Talend ETL will convert this functional description of your problem into a Java code. Finally, you just have to execute this program...</p>\n"},{"tags":[],"owner":{"account_id":45120,"reputation":425,"user_id":132847,"accept_rate":100,"display_name":"Tal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282684213,"creation_date":1282684213,"answer_id":3561058,"question_id":3560950,"body_markdown":"You should always think about the future of your code...\r\n\r\n\r\nWho will maintain your script in the future? \r\nDoes your company have any other developers that are familiar with PowerShell/VBScript?\r\n\r\nI would have to say that you should stick to one language that fits your (and your company&#39;s) needs. As Nathan suggested, Python would be a great choice for creating fast scripts.\r\n\r\nAnd one more thing - If you can control the SQL statements your boss does, you can make him create outputs that will ease your parsers&#39; development and make them much more simple.\r\n\r\nGood luck!\r\n\r\nTal.","title":"Best language to parse extremely large Excel 2007 files","body":"<p>You should always think about the future of your code...</p>\n\n<p>Who will maintain your script in the future? \nDoes your company have any other developers that are familiar with PowerShell/VBScript?</p>\n\n<p>I would have to say that you should stick to one language that fits your (and your company's) needs. As Nathan suggested, Python would be a great choice for creating fast scripts.</p>\n\n<p>And one more thing - If you can control the SQL statements your boss does, you can make him create outputs that will ease your parsers' development and make them much more simple.</p>\n\n<p>Good luck!</p>\n\n<p>Tal.</p>\n"},{"tags":[],"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282684299,"creation_date":1282684299,"answer_id":3561066,"question_id":3560950,"body_markdown":"If you save the file as a [CSV][1], you can use any language you want to parse it.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Comma-separated_values","title":"Best language to parse extremely large Excel 2007 files","body":"<p>If you save the file as a <a href=\"http://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow noreferrer\">CSV</a>, you can use any language you want to parse it.</p>\n"},{"tags":[],"owner":{"account_id":178678,"reputation":7051,"user_id":410823,"accept_rate":78,"display_name":"Skarab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282684427,"creation_date":1282684427,"answer_id":3561089,"question_id":3560950,"body_markdown":"You can import data into an embedded database - e.g., apache derby (or http://hsqldb.org/). Depending on the nature of your queries, it can be a little bit faster. For sure, it will save a lot of your time if your boss requests new features often. You will simply write most of your new  functionality in SQL.","title":"Best language to parse extremely large Excel 2007 files","body":"<p>You can import data into an embedded database - e.g., apache derby (or <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">http://hsqldb.org/</a>). Depending on the nature of your queries, it can be a little bit faster. For sure, it will save a lot of your time if your boss requests new features often. You will simply write most of your new  functionality in SQL.</p>\n"},{"comments":[{"owner":{"account_id":190193,"reputation":114,"user_id":429997,"display_name":"arcdrag"},"score":0,"creation_date":1282746310,"post_id":3562214,"comment_id":3739315,"body_markdown":"I&#39;m getting out of memory errors when book is initialized in your code when passing the 30+ MB spreadsheets that I&#39;m sorting through.  It seems to work just fine for smaller files though.  I think I&#39;m just going to keep with my current method for now.  I am going to keep this in mind for smaller files though.","body":"I&#39;m getting out of memory errors when book is initialized in your code when passing the 30+ MB spreadsheets that I&#39;m sorting through.  It seems to work just fine for smaller files though.  I think I&#39;m just going to keep with my current method for now.  I am going to keep this in mind for smaller files though."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1282747581,"post_id":3562214,"comment_id":3739622,"body_markdown":"@user429997: When the time comes, you can increase the memory allocated to Java using the `-Xms` and `-Xmx` options.","body":"@user429997: When the time comes, you can increase the memory allocated to Java using the <code>-Xms</code> and <code>-Xmx</code> options."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1430942990,"post_id":3562214,"comment_id":48286353,"body_markdown":"See also `DataFormatter`, illustrated [here](http://stackoverflow.com/a/30062075/230513).","body":"See also <code>DataFormatter</code>, illustrated <a href=\"http://stackoverflow.com/a/30062075/230513\">here</a>."}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1673979191,"creation_date":1282699333,"answer_id":3562214,"question_id":3560950,"body_markdown":"&gt;I kept getting all kinds of weird errors when working with .xlsx files.\r\n\r\nHere&#39;s a simple example of using [Apache POI][1] to traverse an `.xlsx` file, updated to POI v5. See also [*Upgrading to POI 3.5, including converting existing HSSF Usermodel code to SS Usermodel (for XSSF and HSSF)*][2].\r\n\r\n[1]:http://poi.apache.org/\r\n[2]:http://poi.apache.org/spreadsheet/converting.html\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\nimport org.apache.poi.ss.usermodel.DateUtil;\r\nimport org.apache.poi.ss.usermodel.FormulaEvaluator;\r\nimport org.apache.poi.ss.usermodel.Row;\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n/** @see https://stackoverflow.com/a/3562214/230513 */\r\npublic class XlsxReader {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        InputStream myxls = new FileInputStream(&quot;test.xlsx&quot;);\r\n        Workbook book = new XSSFWorkbook(myxls);\r\n        FormulaEvaluator eval =\r\n            book.getCreationHelper().createFormulaEvaluator();\r\n        Sheet sheet = book.getSheetAt(0);\r\n        for (Row row : sheet) {\r\n            for (Cell cell : row) {\r\n                printCell(cell, eval);\r\n                System.out.print(&quot;; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n        myxls.close();\r\n    }\r\n\r\n    private static void printCell(Cell cell, FormulaEvaluator eval) {\r\n        switch (cell.getCellType()) {\r\n            case BLANK:\r\n                System.out.print(&quot;EMPTY&quot;);\r\n                break;\r\n            case STRING:\r\n                System.out.print(cell.getStringCellValue());\r\n                break;\r\n            case NUMERIC:\r\n                if (DateUtil.isCellDateFormatted(cell)) {\r\n                    System.out.print(cell.getDateCellValue());\r\n                } else {\r\n                    System.out.print(cell.getNumericCellValue());\r\n                }\r\n                break;\r\n            case BOOLEAN:\r\n                System.out.print(cell.getBooleanCellValue());\r\n                break;\r\n            case FORMULA:\r\n                System.out.print(cell.getCellFormula());\r\n                break;\r\n            default:\r\n                System.out.print(&quot;DEFAULT&quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Best language to parse extremely large Excel 2007 files","body":"<blockquote>\n<p>I kept getting all kinds of weird errors when working with .xlsx files.</p>\n</blockquote>\n<p>Here's a simple example of using <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">Apache POI</a> to traverse an <code>.xlsx</code> file, updated to POI v5. See also <a href=\"http://poi.apache.org/spreadsheet/converting.html\" rel=\"nofollow noreferrer\"><em>Upgrading to POI 3.5, including converting existing HSSF Usermodel code to SS Usermodel (for XSSF and HSSF)</em></a>.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport org.apache.poi.ss.usermodel.Cell;\nimport org.apache.poi.ss.usermodel.DateUtil;\nimport org.apache.poi.ss.usermodel.FormulaEvaluator;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\n/** @see https://stackoverflow.com/a/3562214/230513 */\npublic class XlsxReader {\n\n    public static void main(String[] args) throws IOException {\n        InputStream myxls = new FileInputStream(&quot;test.xlsx&quot;);\n        Workbook book = new XSSFWorkbook(myxls);\n        FormulaEvaluator eval =\n            book.getCreationHelper().createFormulaEvaluator();\n        Sheet sheet = book.getSheetAt(0);\n        for (Row row : sheet) {\n            for (Cell cell : row) {\n                printCell(cell, eval);\n                System.out.print(&quot;; &quot;);\n            }\n            System.out.println();\n        }\n        myxls.close();\n    }\n\n    private static void printCell(Cell cell, FormulaEvaluator eval) {\n        switch (cell.getCellType()) {\n            case BLANK:\n                System.out.print(&quot;EMPTY&quot;);\n                break;\n            case STRING:\n                System.out.print(cell.getStringCellValue());\n                break;\n            case NUMERIC:\n                if (DateUtil.isCellDateFormatted(cell)) {\n                    System.out.print(cell.getDateCellValue());\n                } else {\n                    System.out.print(cell.getNumericCellValue());\n                }\n                break;\n            case BOOLEAN:\n                System.out.print(cell.getBooleanCellValue());\n                break;\n            case FORMULA:\n                System.out.print(cell.getCellFormula());\n                break;\n            default:\n                System.out.print(&quot;DEFAULT&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":178678,"reputation":7051,"user_id":410823,"accept_rate":78,"display_name":"Skarab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282821970,"creation_date":1282821970,"answer_id":3574611,"question_id":3560950,"body_markdown":"If you need an ADVANCE analysis -- beyond grouping, joining, filtering --, just go for free mining tools, such as [Wekka][1]*, [Rapid][2] miner (based on Wekka but nicer GUI), or [knime][3]. These tools have very nice interfaces and provide operators to read cvs files. You can also run rapidminer and wekka libraries inside your java program. If not, go for embedded database as I proposed before. \r\n\r\nUsing Apache POI is not bad idea but I -- personally -- prefer to use it only to read excel before uploading it into e.g., a database.\r\n\r\nRegarding the language. The best language that I have found for adhoc tasks is [groovy][4]. It is scripting language on the top of Java so you can use all Java libs (POI, jdbcs, ...a very looong list) and mix groovy classes with Java classes. \r\n\r\n\r\n  [1]: http://www.cs.waikato.ac.nz/ml/weka/\r\n  [2]: http://rapid-i.com/content/view/181/190/\r\n  [3]: http://www.knime.org/\r\n  [4]: http://groovy.codehaus.org/","title":"Best language to parse extremely large Excel 2007 files","body":"<p>If you need an ADVANCE analysis -- beyond grouping, joining, filtering --, just go for free mining tools, such as <a href=\"http://www.cs.waikato.ac.nz/ml/weka/\" rel=\"nofollow noreferrer\">Wekka</a>*, <a href=\"http://rapid-i.com/content/view/181/190/\" rel=\"nofollow noreferrer\">Rapid</a> miner (based on Wekka but nicer GUI), or <a href=\"http://www.knime.org/\" rel=\"nofollow noreferrer\">knime</a>. These tools have very nice interfaces and provide operators to read cvs files. You can also run rapidminer and wekka libraries inside your java program. If not, go for embedded database as I proposed before. </p>\n\n<p>Using Apache POI is not bad idea but I -- personally -- prefer to use it only to read excel before uploading it into e.g., a database.</p>\n\n<p>Regarding the language. The best language that I have found for adhoc tasks is <a href=\"http://groovy.codehaus.org/\" rel=\"nofollow noreferrer\">groovy</a>. It is scripting language on the top of Java so you can use all Java libs (POI, jdbcs, ...a very looong list) and mix groovy classes with Java classes. </p>\n"},{"tags":[],"owner":{"account_id":96723,"reputation":471,"user_id":262750,"display_name":"ktsujister"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395196007,"creation_date":1328845379,"answer_id":9222393,"question_id":3560950,"body_markdown":"in addition to trashgod&#39;s answer, for large files, I&#39;d suggest POI SXSSF (Since POI 3.8 beta3). (http://poi.apache.org/spreadsheet/)\r\nWith SXSSF, you can handle large files in streams, and that will help avoiding memory errors.\r\n\r\nadding link to SXSSF details: http://poi.apache.org/spreadsheet/how-to.html#sxssf","title":"Best language to parse extremely large Excel 2007 files","body":"<p>in addition to trashgod's answer, for large files, I'd suggest POI SXSSF (Since POI 3.8 beta3). (<a href=\"http://poi.apache.org/spreadsheet/\" rel=\"nofollow\">http://poi.apache.org/spreadsheet/</a>)\nWith SXSSF, you can handle large files in streams, and that will help avoiding memory errors.</p>\n\n<p>adding link to SXSSF details: <a href=\"http://poi.apache.org/spreadsheet/how-to.html#sxssf\" rel=\"nofollow\">http://poi.apache.org/spreadsheet/how-to.html#sxssf</a></p>\n"},{"tags":[],"owner":{"account_id":6806838,"reputation":33,"user_id":5238312,"display_name":"Avdhesh Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470728883,"creation_date":1470728883,"answer_id":38844962,"question_id":3560950,"body_markdown":"I have two options for parsing excel(.xlsx or xls) files.\r\n  1-You can use apache POI api to extract data from it.Now Apache poi has improved and fast.\r\n\r\n2- Convert excel to open xml   then write a xslt file. I think it should do work for a long file excel file.","title":"Best language to parse extremely large Excel 2007 files","body":"<p>I have two options for parsing excel(.xlsx or xls) files.\n  1-You can use apache POI api to extract data from it.Now Apache poi has improved and fast.</p>\n\n<p>2- Convert excel to open xml   then write a xslt file. I think it should do work for a long file excel file.</p>\n"}],"owner":{"account_id":190193,"reputation":114,"user_id":429997,"display_name":"arcdrag"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14744,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"closed_date":1480164211,"accepted_answer_id":3562214,"answer_count":10,"score":5,"last_activity_date":1673979191,"creation_date":1282683253,"question_id":3560950,"body_markdown":"My boss has a habit of performing queries on our databases that return tens of thousands of rows and saving them into excel files.  I, being the intern, constantly have to write scripts that work with the information from these files.  Thus far I&#39;ve tried VBScript and Powershell for my scripting needs.  Both of these can take several minutes to perform even the simplest of tasks, which would mean that the script when finished would take most of an 8 hour day.\r\n\r\nMy workaround right now is simply to write a PowerShell script that removes all of the commas and newline characters from an xlsx file, saves the .xlsx files to .csv, and then have a Java program handle the data gathering and output, and have my script clean up the .csv files when finished.  This runs in a matter of seconds for my current project, but I can&#39;t help but wonder if there&#39;s a more elegant alternative for my next one.  Any suggestions?\r\n\r\n","title":"Best language to parse extremely large Excel 2007 files","body":"<p>My boss has a habit of performing queries on our databases that return tens of thousands of rows and saving them into excel files.  I, being the intern, constantly have to write scripts that work with the information from these files.  Thus far I've tried VBScript and Powershell for my scripting needs.  Both of these can take several minutes to perform even the simplest of tasks, which would mean that the script when finished would take most of an 8 hour day.</p>\n\n<p>My workaround right now is simply to write a PowerShell script that removes all of the commas and newline characters from an xlsx file, saves the .xlsx files to .csv, and then have a Java program handle the data gathering and output, and have my script clean up the .csv files when finished.  This runs in a matter of seconds for my current project, but I can't help but wonder if there's a more elegant alternative for my next one.  Any suggestions?</p>\n"},{"tags":["java","http","url"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1673979336,"post_id":75150555,"comment_id":132615597,"body_markdown":"You can try setting a valid user agent in the request header. Maybe it thinks you&#39;re a bot because you don&#39;t set one. I would aim to replicate all the headers that Chrome sends.","body":"You can try setting a valid user agent in the request header. Maybe it thinks you&#39;re a bot because you don&#39;t set one. I would aim to replicate all the headers that Chrome sends."},{"owner":{"account_id":27528594,"reputation":1,"user_id":21007495,"display_name":"Shept"},"score":0,"creation_date":1674051217,"post_id":75150555,"comment_id":132632220,"body_markdown":"The problem is that I now get a 503 Service Unavailable Error.\n\nHere are my Headers:\nhttps://prnt.sc/Jb8A1-msfmQd","body":"The problem is that I now get a 503 Service Unavailable Error.  Here are my Headers: <a href=\"https://prnt.sc/Jb8A1-msfmQd\" rel=\"nofollow noreferrer\">prnt.sc/Jb8A1-msfmQd</a>"}],"owner":{"account_id":27528594,"reputation":1,"user_id":21007495,"display_name":"Shept"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673979105,"creation_date":1673979105,"question_id":75150555,"body_markdown":"I&#39;ve been afraid for some time that I might be doxxed. For this reason I want to write an automation in Java to not have to manually search all possible keywords every day. However, I always get a 200 response code due to DDoS Protection. Is there any way to get around this?\r\n\r\nHere&#39;s my Code:\r\n\r\n```java\r\nURL u = new URL ( &quot;https://doxbin.org/upload/afafgFsg/&quot;);\r\n        HttpURLConnection huc =  (HttpURLConnection)  u.openConnection ();\r\n        huc.setRequestMethod (&quot;GET&quot;);  //OR  huc.setRequestMethod (&quot;HEAD&quot;);\r\n        huc.connect () ;\r\n        int code = huc.getResponseCode() ;\r\n        System.out.println(code);\r\n        if (code == 200) {\r\n            System.out.println(&quot;Success&quot;);\r\n        } else if (code == 404) {\r\n            System.out.println(&quot;Not Found&quot;);\r\n        } else {\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n```\r\n\r\nThe link is currently still provisional. I just want to get the system working once.\r\n\r\nI have tried every conceivable method so far, but every time it fails due to DDoS protection.","title":"Check if page on d0xbin exists?","body":"<p>I've been afraid for some time that I might be doxxed. For this reason I want to write an automation in Java to not have to manually search all possible keywords every day. However, I always get a 200 response code due to DDoS Protection. Is there any way to get around this?</p>\n<p>Here's my Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL u = new URL ( &quot;https://doxbin.org/upload/afafgFsg/&quot;);\n        HttpURLConnection huc =  (HttpURLConnection)  u.openConnection ();\n        huc.setRequestMethod (&quot;GET&quot;);  //OR  huc.setRequestMethod (&quot;HEAD&quot;);\n        huc.connect () ;\n        int code = huc.getResponseCode() ;\n        System.out.println(code);\n        if (code == 200) {\n            System.out.println(&quot;Success&quot;);\n        } else if (code == 404) {\n            System.out.println(&quot;Not Found&quot;);\n        } else {\n            System.out.println(&quot;Error&quot;);\n        }\n</code></pre>\n<p>The link is currently still provisional. I just want to get the system working once.</p>\n<p>I have tried every conceivable method so far, but every time it fails due to DDoS protection.</p>\n"},{"tags":["java","spring","spring-boot","log4j2"],"comments":[{"owner":{"account_id":11334429,"reputation":1084,"user_id":8310827,"display_name":"Adya"},"score":1,"creation_date":1574060436,"post_id":58909339,"comment_id":104081047,"body_markdown":"What do you mean it doesn&#39;t gives any warning about missing log4j file ? From logs I can see your project runs fine","body":"What do you mean it doesn&#39;t gives any warning about missing log4j file ? From logs I can see your project runs fine"},{"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"score":0,"creation_date":1574060865,"post_id":58909339,"comment_id":104081202,"body_markdown":"I don&#39;t think It&#39;s required the log4j config file. If you wish to provide custom logger level and other configs in that case you need a config file. Spring boot will take care of everything if you don&#39;t wish to. Just add a dependency and you are good to go","body":"I don&#39;t think It&#39;s required the log4j config file. If you wish to provide custom logger level and other configs in that case you need a config file. Spring boot will take care of everything if you don&#39;t wish to. Just add a dependency and you are good to go"},{"owner":{"account_id":5547876,"reputation":65,"user_id":6839278,"display_name":"Gurpreet Singh"},"score":0,"creation_date":1574061786,"post_id":58909339,"comment_id":104081585,"body_markdown":"@Adya -  In logs we can see that it is logging FATAL message as ERROR and it ignored the DEBUG message. Hence it not working as it supposed to be.This can be fixed through the configuration file but spring is completely ignoring the presence or absence of the configuration file.","body":"@Adya -  In logs we can see that it is logging FATAL message as ERROR and it ignored the DEBUG message. Hence it not working as it supposed to be.This can be fixed through the configuration file but spring is completely ignoring the presence or absence of the configuration file."},{"owner":{"account_id":5547876,"reputation":65,"user_id":6839278,"display_name":"Gurpreet Singh"},"score":0,"creation_date":1574061871,"post_id":58909339,"comment_id":104081626,"body_markdown":"@HarshMishra - Yes I want custom log levels and write the logs to a file. But spring is completely ignoring the presence or absence of the configuration file. If I use it with simple Java project I can write logs to a file and change log levels as well.","body":"@HarshMishra - Yes I want custom log levels and write the logs to a file. But spring is completely ignoring the presence or absence of the configuration file. If I use it with simple Java project I can write logs to a file and change log levels as well."}],"answers":[{"comments":[{"owner":{"account_id":5547876,"reputation":65,"user_id":6839278,"display_name":"Gurpreet Singh"},"score":0,"creation_date":1574063524,"post_id":58909835,"comment_id":104082371,"body_markdown":"Thanks :) It provided me enough hint what and where I am missing. However still things are not working as they should but now i know what to look for.","body":"Thanks :) It provided me enough hint what and where I am missing. However still things are not working as they should but now i know what to look for."},{"owner":{"account_id":5547876,"reputation":65,"user_id":6839278,"display_name":"Gurpreet Singh"},"score":0,"creation_date":1574065097,"post_id":58909835,"comment_id":104082972,"body_markdown":"Log4j2 part fixed all my problems. Thanks a lot.","body":"Log4j2 part fixed all my problems. Thanks a lot."}],"tags":[],"owner":{"account_id":11439607,"reputation":2005,"user_id":8385680,"display_name":"Harsh Mishra"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1574062730,"creation_date":1574062427,"answer_id":58909835,"question_id":58909339,"body_markdown":"Hope this is what are looking for    \r\nThis is something that I have used in Spring boot logging\r\nIn application.properties\r\n\r\n    #logging.level.root=WARN\r\n    logging.level.org.springframework=DEBUG\r\n    logging.level.com.appicantion.name=DEBUG\r\n     \r\n    #output to a temp_folder/file\r\n    logging.file=${java.io.tmpdir}/application.log\r\n     \r\n    # Logging pattern for the console\r\n    logging.pattern.console= %d{yyyy-MM-dd HH:mm:ss} - %msg%n\r\n     \r\n    # Logging pattern for file\r\n    logging.pattern.file= %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%\r\n\r\n\r\nYour Answer : In log4j2\r\n\r\nadd log4j2.xml  in src/main/resources folder.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot; monitorInterval=&quot;30&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\r\n            &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;c:/temp&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;/Console&gt;\r\n     \r\n            &lt;RollingFile name=&quot;appLog&quot;\r\n                fileName=&quot;${APP_LOG_ROOT}/SpringBoot2App/application.log&quot;\r\n                filePattern=&quot;${APP_LOG_ROOT}/SpringBoot2App/application-%d{yyyy-MM-dd}-%i.log&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot; /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;1&quot; /&gt;\r\n            &lt;/RollingFile&gt;\r\n     \r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n     \r\n            &lt;Logger name=&quot;com.application.app&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;appLog&quot; /&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;/Logger&gt;\r\n     \r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nhttps://howtodoinjava.com/spring-boot2/logging/spring-boot-log4j2-config/","title":"Spring boot not searching for log4j2 configuration file","body":"<p>Hope this is what are looking for<br>\nThis is something that I have used in Spring boot logging\nIn application.properties</p>\n\n<pre><code>#logging.level.root=WARN\nlogging.level.org.springframework=DEBUG\nlogging.level.com.appicantion.name=DEBUG\n\n#output to a temp_folder/file\nlogging.file=${java.io.tmpdir}/application.log\n\n# Logging pattern for the console\nlogging.pattern.console= %d{yyyy-MM-dd HH:mm:ss} - %msg%n\n\n# Logging pattern for file\nlogging.pattern.file= %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%\n</code></pre>\n\n<p>Your Answer : In log4j2</p>\n\n<p>add log4j2.xml  in src/main/resources folder.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\" monitorInterval=\"30\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"LOG_PATTERN\"&gt;%d{yyyy-MM-dd'T'HH:mm:ss.SSSZ} %p %m%n&lt;/Property&gt;\n        &lt;Property name=\"APP_LOG_ROOT\"&gt;c:/temp&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\" follow=\"true\"&gt;\n            &lt;PatternLayout pattern=\"${LOG_PATTERN}\" /&gt;\n        &lt;/Console&gt;\n\n        &lt;RollingFile name=\"appLog\"\n            fileName=\"${APP_LOG_ROOT}/SpringBoot2App/application.log\"\n            filePattern=\"${APP_LOG_ROOT}/SpringBoot2App/application-%d{yyyy-MM-dd}-%i.log\"&gt;\n            &lt;PatternLayout pattern=\"${LOG_PATTERN}\" /&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"19500KB\" /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=\"1\" /&gt;\n        &lt;/RollingFile&gt;\n\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n\n        &lt;Logger name=\"com.application.app\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"appLog\" /&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Logger&gt;\n\n        &lt;Root level=\"debug\"&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p><a href=\"https://howtodoinjava.com/spring-boot2/logging/spring-boot-log4j2-config/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/spring-boot2/logging/spring-boot-log4j2-config/</a></p>\n"},{"tags":[],"owner":{"account_id":6329455,"reputation":353,"user_id":8770674,"display_name":"Rustam Shafigullin"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1593879681,"creation_date":1593879681,"answer_id":62731566,"question_id":58909339,"body_markdown":"I had the issue, spring boot didn&#39;t search the configuration xml file.\r\nI added this line to application.properties (log4j2.xml is in src/main/resources)\r\n\r\n```\r\nlogging.config=classpath:log4j2.xml\r\n```\r\n","title":"Spring boot not searching for log4j2 configuration file","body":"<p>I had the issue, spring boot didn't search the configuration xml file.\nI added this line to application.properties (log4j2.xml is in src/main/resources)</p>\n<pre><code>logging.config=classpath:log4j2.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3403041,"reputation":81,"user_id":2854806,"display_name":"Raja Wajahat Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1612308876,"creation_date":1612308876,"answer_id":66019125,"question_id":58909339,"body_markdown":"Just sharing as I also faced the same issue with my log4j2 configuration. I got the following solution.\r\n\r\n1) Run command: mvn dependency:tree \r\nThis command will tell you which dependencies are loading before your configuration.\r\n\r\n2) Adding exclusions to the dependency in pom.xml loading before your log dependency, add either of the following mine worked with the option a.\r\n\r\na- \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nb-\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfter this all worked well and my log4j2.xml configuration loaded successfully. Make sure the configuration file is in the classpath.","title":"Spring boot not searching for log4j2 configuration file","body":"<p>Just sharing as I also faced the same issue with my log4j2 configuration. I got the following solution.</p>\n<ol>\n<li><p>Run command: mvn dependency:tree\nThis command will tell you which dependencies are loading before your configuration.</p>\n</li>\n<li><p>Adding exclusions to the dependency in pom.xml loading before your log dependency, add either of the following mine worked with the option a.</p>\n</li>\n</ol>\n<p>a-</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>b-</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After this all worked well and my log4j2.xml configuration loaded successfully. Make sure the configuration file is in the classpath.</p>\n"},{"tags":[],"owner":{"account_id":24780660,"reputation":1,"user_id":18664105,"display_name":"user18664105"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673979079,"creation_date":1673979079,"answer_id":75150550,"question_id":58909339,"body_markdown":"This issue also really annoyed me but solution is close enough:\r\nSpring by default using Logback and if you want to use Log4J2 or other loggers first you need to exclude logback from Spring library in Maven and add to resource folder &quot;log4J2.xml&quot; configuration file. \r\nYou can find instruction here on step 5 - https://www.baeldung.com/spring-boot-logging","title":"Spring boot not searching for log4j2 configuration file","body":"<p>This issue also really annoyed me but solution is close enough:\nSpring by default using Logback and if you want to use Log4J2 or other loggers first you need to exclude logback from Spring library in Maven and add to resource folder &quot;log4J2.xml&quot; configuration file.\nYou can find instruction here on step 5 - <a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-logging</a></p>\n"}],"owner":{"account_id":5547876,"reputation":65,"user_id":6839278,"display_name":"Gurpreet Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10123,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58909835,"answer_count":4,"score":4,"last_activity_date":1673979079,"creation_date":1574060075,"question_id":58909339,"body_markdown":"I am trying to use Apache Log4j 2.12.1 with Spring Boot 2.2.1 but when I run, it doesn&#39;t give any warning about missing log4j 2 configuration file. Below is the code for logging(Simple once class to test if it works or note):\r\n\r\n    package com.example.Log4jdemoSpringboot;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class Log4jDemoSpringBootApplication {\r\n    \r\n    \tstatic Logger logger = LogManager.getLogger(Log4jDemoSpringBootApplication.class);\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Log4jDemoSpringBootApplication.class, args);\r\n    \t\tlogger.info(&quot;info&quot;);\r\n    \t\tlogger.warn(&quot;warn&quot;);\r\n    \t\tlogger.error(&quot;error&quot;);\r\n    \t\tlogger.debug(&quot;debug&quot;);\r\n    \t\tlogger.fatal(&quot;fatal&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nand Below is the output:\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.1.RELEASE)\r\n    \r\n    2019-11-18 12:19:20.844  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : Starting Log4jDemoSpringBootApplication on Gurpreet-PC with PID 13136 (C:\\Development\\eclipse-workspace\\Log4j-demo-Spring-boot\\target\\classes started by Gurpreet in C:\\Development\\eclipse-workspace\\Log4j-demo-Spring-boot)\r\n    2019-11-18 12:19:20.872  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : No active profile set, falling back to default profiles: default\r\n    2019-11-18 12:19:26.946  INFO 13136 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2019-11-18 12:19:27.009  INFO 13136 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2019-11-18 12:19:27.011  INFO 13136 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.27]\r\n    2019-11-18 12:19:27.442  INFO 13136 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2019-11-18 12:19:27.444  INFO 13136 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 6320 ms\r\n    2019-11-18 12:19:28.213  INFO 13136 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2019-11-18 12:19:28.925  INFO 13136 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2019-11-18 12:19:28.937  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : Started Log4jDemoSpringBootApplication in 10.398 seconds (JVM running for 13.269)\r\n    2019-11-18 12:19:28.945  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : info\r\n    2019-11-18 12:19:28.949  WARN 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : warn\r\n    2019-11-18 12:19:28.952 ERROR 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : error\r\n    2019-11-18 12:19:28.953 ERROR 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : fatal\r\n\r\nHowever if I use same configuration with simple java projects, it works.\r\n","title":"Spring boot not searching for log4j2 configuration file","body":"<p>I am trying to use Apache Log4j 2.12.1 with Spring Boot 2.2.1 but when I run, it doesn't give any warning about missing log4j 2 configuration file. Below is the code for logging(Simple once class to test if it works or note):</p>\n\n<pre><code>package com.example.Log4jdemoSpringboot;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Log4jDemoSpringBootApplication {\n\n    static Logger logger = LogManager.getLogger(Log4jDemoSpringBootApplication.class);\n    public static void main(String[] args) {\n        SpringApplication.run(Log4jDemoSpringBootApplication.class, args);\n        logger.info(\"info\");\n        logger.warn(\"warn\");\n        logger.error(\"error\");\n        logger.debug(\"debug\");\n        logger.fatal(\"fatal\");\n    }\n\n}\n</code></pre>\n\n<p>and Below is the output:</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.1.RELEASE)\n\n2019-11-18 12:19:20.844  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : Starting Log4jDemoSpringBootApplication on Gurpreet-PC with PID 13136 (C:\\Development\\eclipse-workspace\\Log4j-demo-Spring-boot\\target\\classes started by Gurpreet in C:\\Development\\eclipse-workspace\\Log4j-demo-Spring-boot)\n2019-11-18 12:19:20.872  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : No active profile set, falling back to default profiles: default\n2019-11-18 12:19:26.946  INFO 13136 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-11-18 12:19:27.009  INFO 13136 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-11-18 12:19:27.011  INFO 13136 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.27]\n2019-11-18 12:19:27.442  INFO 13136 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-11-18 12:19:27.444  INFO 13136 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 6320 ms\n2019-11-18 12:19:28.213  INFO 13136 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-11-18 12:19:28.925  INFO 13136 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-11-18 12:19:28.937  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : Started Log4jDemoSpringBootApplication in 10.398 seconds (JVM running for 13.269)\n2019-11-18 12:19:28.945  INFO 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : info\n2019-11-18 12:19:28.949  WARN 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : warn\n2019-11-18 12:19:28.952 ERROR 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : error\n2019-11-18 12:19:28.953 ERROR 13136 --- [           main] c.e.L.Log4jDemoSpringBootApplication     : fatal\n</code></pre>\n\n<p>However if I use same configuration with simple java projects, it works.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673976039,"post_id":75149964,"comment_id":132614549,"body_markdown":"are you sure you want to map everything on your own and not use something more flexible like [ModelMapper](https://modelmapper.org/)? The task looks predestined for a mapping lib.","body":"are you sure you want to map everything on your own and not use something more flexible like <a href=\"https://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a>? The task looks predestined for a mapping lib."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1674033503,"post_id":75149964,"comment_id":132626314,"body_markdown":"@cyberbrain How to use that mapper to achieve my task? The mapping is not from `C` to `D`, but from `C` to a collection of objects `D`, where these are different permutations of `C` and collections held by `C` and more collections down the object hierarchy. After looking at the documentation I don&#39;t see yet how to achieve that, without defining custom property mappings that are probably more complex than just using `stream` for this specific use case. Can you apply &quot;ModelMapper&quot; to my trivial example (the real classes are even more convoluted)?","body":"@cyberbrain How to use that mapper to achieve my task? The mapping is not from <code>C</code> to <code>D</code>, but from <code>C</code> to a collection of objects <code>D</code>, where these are different permutations of <code>C</code> and collections held by <code>C</code> and more collections down the object hierarchy. After looking at the documentation I don&#39;t see yet how to achieve that, without defining custom property mappings that are probably more complex than just using <code>stream</code> for this specific use case. Can you apply &quot;ModelMapper&quot; to my trivial example (the real classes are even more convoluted)?"}],"answers":[{"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":1,"creation_date":1674033693,"post_id":75150366,"comment_id":132626368,"body_markdown":"This looks exactly like what I am looking for. Going to apply this to my actual model and accept answer if the approach is suitable. Thank you!","body":"This looks exactly like what I am looking for. Going to apply this to my actual model and accept answer if the approach is suitable. Thank you!"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673978737,"creation_date":1673978044,"answer_id":75150366,"question_id":75149964,"body_markdown":"In order to get the same result as with your classical for-loop approach you need to use `flatMap`. Get the list of `B` s from your object and stream over it, flatmap and get every `A` for each `B` by calling `getBList()` and map the data to a new `D` object and finally collect to list of `D` objects. Something like below should give you what you are looking for\r\n\r\n    C c = someGetterForC();\r\n\r\n    List&lt;D&gt; dList = c.getCList()\r\n                     .stream()\r\n                     .flatMap(b -&gt; b.getBList()\r\n                                    .stream()\r\n                                    .map(a -&gt; new D(a.getA1(), b.getB1(), c.getC1(), c.getC2())))\r\n                     .collect(Collectors.toList());","title":"Leverage Java stream API to retrieve data from objects holding streamable collections themselves","body":"<p>In order to get the same result as with your classical for-loop approach you need to use <code>flatMap</code>. Get the list of <code>B</code> s from your object and stream over it, flatmap and get every <code>A</code> for each <code>B</code> by calling <code>getBList()</code> and map the data to a new <code>D</code> object and finally collect to list of <code>D</code> objects. Something like below should give you what you are looking for</p>\n<pre><code>C c = someGetterForC();\n\nList&lt;D&gt; dList = c.getCList()\n                 .stream()\n                 .flatMap(b -&gt; b.getBList()\n                                .stream()\n                                .map(a -&gt; new D(a.getA1(), b.getB1(), c.getC1(), c.getC2())))\n                 .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75150366,"answer_count":1,"score":2,"last_activity_date":1673978737,"creation_date":1673975578,"question_id":75149964,"body_markdown":"### Problem statement\r\n\r\nIn my architecture there are data objects which I intend to display in a structured fashion. These objects look like this:\r\n\r\n```\r\npublic class A\r\n{\r\n   private final String a1;\r\n\r\n   public A( String a1 )\r\n   {\r\n      this.a1 = a1;\r\n   }\r\n\r\n   public String getA1()\r\n   {\r\n      return a1;\r\n   }\r\n}\r\n```\r\n\r\n```\r\npublic class B\r\n{\r\n   private final String b1;\r\n   private final List&lt;A&gt; bList;\r\n\r\n   public B( String b1, List&lt;A&gt; list )\r\n   {\r\n      this.b1 = b1;\r\n      this.bList = list;\r\n   }\r\n\r\n   public String getB1()\r\n   {\r\n      return b1;\r\n   }\r\n\r\n   public List&lt;A&gt; getBList()\r\n   {\r\n      return bList;\r\n   }\r\n}\r\n```\r\n\r\n```\r\npublic class C\r\n{\r\n   private final String c1;\r\n   private final int c2;\r\n   private final List&lt;B&gt; cList;\r\n\r\n   public C( String c1, int c2, List&lt;B&gt; list )\r\n   {\r\n      this.c1 = c1;\r\n      this.c2 = c2;\r\n      this.cList = list;\r\n   }\r\n\r\n   public String getC1()\r\n   {\r\n      return c1;\r\n   }\r\n\r\n   public int getC2()\r\n   {\r\n      return c2;\r\n   }\r\n\r\n   public List&lt;B&gt; getCList()\r\n   {\r\n      return cList;\r\n   }\r\n}\r\n```\r\n\r\nSo an object `C` holds some values, as well as a list of objects `B` and those objects `B` hold some values of their own as well as respectively a list of objects `A`, which in turn hold some values themselves.\r\n\r\nThe requirements I am trying to comply with are **putting these into a JSON structure** and also **create a list of objects, where every entry looks like a collection of all of those data properties in a single object**. The latter is supposed to look like this:\r\n\r\n```\r\npublic class D\r\n{\r\n   public final String a1;\r\n   public final String b1;\r\n   public final String c1;\r\n   public final int c2;\r\n\r\n   public D( String a1, String b1, String c1, int c2 )\r\n   {\r\n      this.a1 = a1;\r\n      this.b1 = b1;\r\n      this.c1 = c1;\r\n      this.c2 = c2;\r\n   }\r\n}\r\n```\r\n\r\nThe declared goal is to have those collected in a `List&lt;D&gt;`.\r\n\r\n### My solutions so far\r\n\r\nThe JSON structuring was easy to accomplish with Jackson:\r\n\r\n```\r\nC c = someGetterForC();\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.enable( SerializationFeature.INDENT_OUTPUT );\r\ntry\r\n{\r\n   return mapper.writeValueAsString( c );\r\n}\r\ncatch( JsonProcessingException e )\r\n{\r\n   // do error handling here\r\n}\r\n```\r\n\r\nThis gives me a well formatted JSON string and complies with the first requirement. For the second requirement I initially used a very trivial approach, *i.e.*  simply to collect all data in `for`-loops, thereby creating instances of `D` and putting them in a list. This looked somewhat like this:\r\n\r\n```\r\nList&lt;D&gt; dList = new ArrayList&lt;&gt;();\r\nC c = someGetterForC();\r\nfor( B b : c.getCList() )\r\n{\r\n   for( A a : b.getBList() )\r\n   {\r\n      D d = new D( a.getA1(), b.getB1(), c.getC1(), c.getC2() )\r\n      dList.add( d );\r\n   }\r\n}\r\n```\r\n\r\nHowever I would like to learn to do this using Java-Streams in order to create instances of `D`, because I am still having trouble with understanding some of its concepts. The struggle I am facing is with\r\n* Streaming the list of objects `A` after streaming lists of object `B`\r\n* Accessing non-list members from `A`, `B` and `C` in the same call and collecting them in instances of `D`\r\n\r\n**Can this be done in a single stream-API call, *i.e.***\r\n\r\n```\r\nC c = someGetterForC();\r\nc.stream()\r\n// how to continue?\r\n```\r\n\r\n**and if so, does it make sense to do so?**\r\n\r\n### Notes\r\n\r\n * Java 11 is mandatory, the project has currently no access to newer Java data structures\r\n * The fact that given the `for`-loops there will be redundant data in the instances of `D` is of no concern and intended\r\n\r\n### Example\r\n\r\nAssume there is an object `C c_alpha` which holds:\r\n\r\n```\r\nc1 = &quot;car&quot;\r\nc2 = 42;\r\ncList = {b_alpha, b_beta}\r\n```\r\n\r\nWhere `B b_alpha` holds:\r\n\r\n```\r\nb1 = &quot;boulder&quot;\r\nbList = {a_alpha}\r\n```\r\n\r\nAnd `B b_beta` holds:\r\n\r\n```\r\nb1 = &quot;bomb&quot;\r\nbList = {a_beta, a_gamma}\r\n```\r\n\r\nLastly there are the type `A` objects left, `A a_alpha` holds:\r\n\r\n```\r\na1 = &quot;ape&quot;\r\n```\r\n\r\n`A a_beta` holds:\r\n\r\n```\r\na1 = &quot;andromeda&quot;\r\n```\r\n\r\nAnd `A a_gamma` holds:\r\n\r\n```\r\na1 = &quot;axe&quot;\r\n```\r\n\r\nThen the collected list of objects `D` that I am trying to get by leveraging the stream-API should look like this:\r\n\r\n```\r\n{ &quot;42&quot;, &quot;car&quot;, &quot;boulder&quot;, &quot;ape&quot; },\r\n{ &quot;42&quot;, &quot;car&quot;, &quot;bomb&quot;, &quot;andromeda&quot; },\r\n{ &quot;42&quot;, &quot;car&quot;, &quot;bomb&quot;, &quot;axe&quot; },\r\n```\r\n\r\n### TL;DR\r\n\r\nGiven objects which hold primitive types + strings as members, as well as lists of objects, which in turn hold primitive types + strings as members as well as lists of objects - how to stream them in a single call to retrieve tuples of the primitive types + strings accross all types in a single call?\r\n\r\nI realize this is hard to properly formulate, the example above should clear things up.","title":"Leverage Java stream API to retrieve data from objects holding streamable collections themselves","body":"<h3>Problem statement</h3>\n<p>In my architecture there are data objects which I intend to display in a structured fashion. These objects look like this:</p>\n<pre><code>public class A\n{\n   private final String a1;\n\n   public A( String a1 )\n   {\n      this.a1 = a1;\n   }\n\n   public String getA1()\n   {\n      return a1;\n   }\n}\n</code></pre>\n<pre><code>public class B\n{\n   private final String b1;\n   private final List&lt;A&gt; bList;\n\n   public B( String b1, List&lt;A&gt; list )\n   {\n      this.b1 = b1;\n      this.bList = list;\n   }\n\n   public String getB1()\n   {\n      return b1;\n   }\n\n   public List&lt;A&gt; getBList()\n   {\n      return bList;\n   }\n}\n</code></pre>\n<pre><code>public class C\n{\n   private final String c1;\n   private final int c2;\n   private final List&lt;B&gt; cList;\n\n   public C( String c1, int c2, List&lt;B&gt; list )\n   {\n      this.c1 = c1;\n      this.c2 = c2;\n      this.cList = list;\n   }\n\n   public String getC1()\n   {\n      return c1;\n   }\n\n   public int getC2()\n   {\n      return c2;\n   }\n\n   public List&lt;B&gt; getCList()\n   {\n      return cList;\n   }\n}\n</code></pre>\n<p>So an object <code>C</code> holds some values, as well as a list of objects <code>B</code> and those objects <code>B</code> hold some values of their own as well as respectively a list of objects <code>A</code>, which in turn hold some values themselves.</p>\n<p>The requirements I am trying to comply with are <strong>putting these into a JSON structure</strong> and also <strong>create a list of objects, where every entry looks like a collection of all of those data properties in a single object</strong>. The latter is supposed to look like this:</p>\n<pre><code>public class D\n{\n   public final String a1;\n   public final String b1;\n   public final String c1;\n   public final int c2;\n\n   public D( String a1, String b1, String c1, int c2 )\n   {\n      this.a1 = a1;\n      this.b1 = b1;\n      this.c1 = c1;\n      this.c2 = c2;\n   }\n}\n</code></pre>\n<p>The declared goal is to have those collected in a <code>List&lt;D&gt;</code>.</p>\n<h3>My solutions so far</h3>\n<p>The JSON structuring was easy to accomplish with Jackson:</p>\n<pre><code>C c = someGetterForC();\nObjectMapper mapper = new ObjectMapper();\nmapper.enable( SerializationFeature.INDENT_OUTPUT );\ntry\n{\n   return mapper.writeValueAsString( c );\n}\ncatch( JsonProcessingException e )\n{\n   // do error handling here\n}\n</code></pre>\n<p>This gives me a well formatted JSON string and complies with the first requirement. For the second requirement I initially used a very trivial approach, <em>i.e.</em>  simply to collect all data in <code>for</code>-loops, thereby creating instances of <code>D</code> and putting them in a list. This looked somewhat like this:</p>\n<pre><code>List&lt;D&gt; dList = new ArrayList&lt;&gt;();\nC c = someGetterForC();\nfor( B b : c.getCList() )\n{\n   for( A a : b.getBList() )\n   {\n      D d = new D( a.getA1(), b.getB1(), c.getC1(), c.getC2() )\n      dList.add( d );\n   }\n}\n</code></pre>\n<p>However I would like to learn to do this using Java-Streams in order to create instances of <code>D</code>, because I am still having trouble with understanding some of its concepts. The struggle I am facing is with</p>\n<ul>\n<li>Streaming the list of objects <code>A</code> after streaming lists of object <code>B</code></li>\n<li>Accessing non-list members from <code>A</code>, <code>B</code> and <code>C</code> in the same call and collecting them in instances of <code>D</code></li>\n</ul>\n<p><strong>Can this be done in a single stream-API call, <em>i.e.</em></strong></p>\n<pre><code>C c = someGetterForC();\nc.stream()\n// how to continue?\n</code></pre>\n<p><strong>and if so, does it make sense to do so?</strong></p>\n<h3>Notes</h3>\n<ul>\n<li>Java 11 is mandatory, the project has currently no access to newer Java data structures</li>\n<li>The fact that given the <code>for</code>-loops there will be redundant data in the instances of <code>D</code> is of no concern and intended</li>\n</ul>\n<h3>Example</h3>\n<p>Assume there is an object <code>C c_alpha</code> which holds:</p>\n<pre><code>c1 = &quot;car&quot;\nc2 = 42;\ncList = {b_alpha, b_beta}\n</code></pre>\n<p>Where <code>B b_alpha</code> holds:</p>\n<pre><code>b1 = &quot;boulder&quot;\nbList = {a_alpha}\n</code></pre>\n<p>And <code>B b_beta</code> holds:</p>\n<pre><code>b1 = &quot;bomb&quot;\nbList = {a_beta, a_gamma}\n</code></pre>\n<p>Lastly there are the type <code>A</code> objects left, <code>A a_alpha</code> holds:</p>\n<pre><code>a1 = &quot;ape&quot;\n</code></pre>\n<p><code>A a_beta</code> holds:</p>\n<pre><code>a1 = &quot;andromeda&quot;\n</code></pre>\n<p>And <code>A a_gamma</code> holds:</p>\n<pre><code>a1 = &quot;axe&quot;\n</code></pre>\n<p>Then the collected list of objects <code>D</code> that I am trying to get by leveraging the stream-API should look like this:</p>\n<pre><code>{ &quot;42&quot;, &quot;car&quot;, &quot;boulder&quot;, &quot;ape&quot; },\n{ &quot;42&quot;, &quot;car&quot;, &quot;bomb&quot;, &quot;andromeda&quot; },\n{ &quot;42&quot;, &quot;car&quot;, &quot;bomb&quot;, &quot;axe&quot; },\n</code></pre>\n<h3>TL;DR</h3>\n<p>Given objects which hold primitive types + strings as members, as well as lists of objects, which in turn hold primitive types + strings as members as well as lists of objects - how to stream them in a single call to retrieve tuples of the primitive types + strings accross all types in a single call?</p>\n<p>I realize this is hard to properly formulate, the example above should clear things up.</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673978973,"post_id":75150465,"comment_id":132615483,"body_markdown":"_&quot;Have done all analysis&quot;_ Please update your question to include this analysis and the results. What&#39;s the full error? What&#39;s the content of `build.gradle`?","body":"<i>&quot;Have done all analysis&quot;</i> Please update your question to include this analysis and the results. What&#39;s the full error? What&#39;s the content of <code>build.gradle</code>?"}],"owner":{"account_id":6844264,"reputation":139,"user_id":5263573,"accept_rate":40,"display_name":"Ahmed Shareef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673978619,"creation_date":1673978619,"question_id":75150465,"body_markdown":"I have upgraded gradle version from 2.12 to 6.9.1, also upgraded spring boot version from 1.3.3.RELEASE to 2.5.14, because of which I have to replace the &quot;spring-boot&quot; plugin with &quot;org.springframework.boot&quot;.\r\nAfter that replaced all compile with implementation, testCompile with testImplementation, and testRuntime with testRuntimeOnly.\r\nWhen I issue build command it is complaining below error:\r\n```\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:activity-service:compileJava&#39;.\r\n&gt; [Lorg.gradle.api.file.FileCollection; cannot be cast to org.gradle.api.internal.file.FileCollectionInternal\r\n```\r\nHave done all analysis but could not understand the cause.\r\n","title":"Gradle build giving error: org.gradle.api.file.FileCollection; cannot be cast to org.gradle.api.internal.file.FileCollectionInternal","body":"<p>I have upgraded gradle version from 2.12 to 6.9.1, also upgraded spring boot version from 1.3.3.RELEASE to 2.5.14, because of which I have to replace the &quot;spring-boot&quot; plugin with &quot;org.springframework.boot&quot;.\nAfter that replaced all compile with implementation, testCompile with testImplementation, and testRuntime with testRuntimeOnly.\nWhen I issue build command it is complaining below error:</p>\n<pre><code>* What went wrong:\nCould not determine the dependencies of task ':activity-service:compileJava'.\n&gt; [Lorg.gradle.api.file.FileCollection; cannot be cast to org.gradle.api.internal.file.FileCollectionInternal\n</code></pre>\n<p>Have done all analysis but could not understand the cause.</p>\n"},{"tags":["java","spring","annotations","web.xml","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1462086482,"post_id":36962024,"comment_id":61484159,"body_markdown":"For the index controller don&#39;t use a `@RestController` but a `@Controller`. Else you get the behavior your describe *just returned a blank page with the String*...","body":"For the index controller don&#39;t use a <code>@RestController</code> but a <code>@Controller</code>. Else you get the behavior your describe <i>just returned a blank page with the String</i>..."},{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1546524310,"post_id":36962024,"comment_id":94883845,"body_markdown":"https://stackoverflow.com/questions/24670327/welcome-file-not-working-with-html-file-in-spring","body":"<a href=\"https://stackoverflow.com/questions/24670327/welcome-file-not-working-with-html-file-in-spring\" title=\"welcome file not working with html file in spring\">stackoverflow.com/questions/24670327/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5377758,"reputation":309,"user_id":4284039,"accept_rate":100,"display_name":"Joris"},"score":0,"creation_date":1462130403,"post_id":36964098,"comment_id":61497321,"body_markdown":"With this configuration, how can I access my stylesheet outside WEB-INF from my JSP inside WEB-INF? I&#39;ve tried `../css/stylesheet.css` as well as `${pageContext.request.contextPath}/css/stylesheet.css`, both with and without `c:url` tag but to no avail.","body":"With this configuration, how can I access my stylesheet outside WEB-INF from my JSP inside WEB-INF? I&#39;ve tried <code>..&#47;css&#47;stylesheet.css</code> as well as <code>${pageContext.request.contextPath}&#47;css&#47;stylesheet.css</code>, both with and without <code>c:url</code> tag but to no avail."},{"owner":{"account_id":5377758,"reputation":309,"user_id":4284039,"accept_rate":100,"display_name":"Joris"},"score":0,"creation_date":1462130658,"post_id":36964098,"comment_id":61497401,"body_markdown":"Apologies, I just found the answer here: http://stackoverflow.com/questions/14861720/annotation-configuration-replacement-for-mvcresources-spring","body":"Apologies, I just found the answer here: <a href=\"http://stackoverflow.com/questions/14861720/annotation-configuration-replacement-for-mvcresources-spring\" title=\"annotation configuration replacement for mvcresources spring\">stackoverflow.com/questions/14861720/&hellip;</a>"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1462086910,"creation_date":1462086910,"answer_id":36964098,"question_id":36962024,"body_markdown":"When specifying a controller to handle your index page you should use a `@Controller` not a `@RestController`. Although the `@RestController` is a `@Controller` it doesn&#39;t resolve to a view but returns the result as is to the client. When using a `@Controller` when returning a `String` it will resolve to the name of a view. \r\n\r\n    @Controller\r\n    public class IndexController {\r\n\r\n        @RequestMapping(&quot;/&quot;)\r\n        public String index() {\r\n            return &quot;index&quot;;\r\n        }\r\n    }\r\n\r\nHowever there is an easier way to configure this and you don&#39;t need a controller for it. Configure a view controller. In your configuration class simply override/implement the `addViewControllers` method.\r\n\r\n\tpublic void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);\r\n    }\r\n\r\nThat way you don&#39;t even need to create a class for it. \r\n","title":"Set a Spring REST Controller welcome-file","body":"<p>When specifying a controller to handle your index page you should use a <code>@Controller</code> not a <code>@RestController</code>. Although the <code>@RestController</code> is a <code>@Controller</code> it doesn't resolve to a view but returns the result as is to the client. When using a <code>@Controller</code> when returning a <code>String</code> it will resolve to the name of a view. </p>\n\n<pre><code>@Controller\npublic class IndexController {\n\n    @RequestMapping(\"/\")\n    public String index() {\n        return \"index\";\n    }\n}\n</code></pre>\n\n<p>However there is an easier way to configure this and you don't need a controller for it. Configure a view controller. In your configuration class simply override/implement the <code>addViewControllers</code> method.</p>\n\n<pre><code>public void addViewControllers(ViewControllerRegistry registry) {\n    registry.addViewController(\"/\").setViewName(\"index\");\n}\n</code></pre>\n\n<p>That way you don't even need to create a class for it. </p>\n"}],"owner":{"account_id":5377758,"reputation":309,"user_id":4284039,"accept_rate":100,"display_name":"Joris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36964098,"answer_count":1,"score":1,"last_activity_date":1673978541,"creation_date":1462065551,"question_id":36962024,"body_markdown":"I&#39;m building a RESTful API and have a Spring REST Controller (@RestController) and an annotation-based configuration. I&#39;d like to have my project&#39;s welcome-file be a .html or .jsp file with the API documentation. \r\n\r\n\r\nIn other web projects I would place a welcome-file-list in my web.xml, but in this particular project I can&#39;t seem to get it to work (preferrably using Java and annotations).\r\n\r\nThis is my WebApplicationInitializer\r\n\r\n    public class WebAppInitializer implements WebApplicationInitializer {\r\n\r\n        public void onStartup(ServletContext servletContext) throws ServletException {\r\n            AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\r\n            context.register(ApplicationConfig.class);\r\n            context.setServletContext(servletContext);\r\n       \r\n            ServletRegistration.Dynamic dynamic = servletContext.addServlet(&quot;dispatcher&quot;, \r\n               new DispatcherServlet(context));\r\n            dynamic.addMapping(&quot;/&quot;);\r\n            dynamic.setLoadOnStartup(1);\r\n        }\r\n    }\r\n\r\nThis is my WebMvcConfigurerAdapter\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;controller&quot;)\r\n    @EnableWebMvc\r\n    public class ApplicationConfig extends WebMvcConfigurerAdapter {\r\n    \r\n        @Bean\r\n        public Application application() {\r\n            return new Application(&quot;Memory&quot;);\r\n        }\r\n     \r\n    }\r\n\r\nAnd this is a small part of my REST Controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/categories&quot;)\r\n    public class CategoryRestController {\r\n    \r\n        @Autowired\r\n        Application application;\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;Map&lt;Integer, Category&gt;&gt; getCategories(){\r\n            if(application.getCategories().isEmpty()) {\r\n                return new ResponseEntity&lt;Map&lt;Integer, Category&gt;&gt;(HttpStatus.NO_CONTENT);\r\n            }\r\n            return new ResponseEntity&lt;Map&lt;Integer, Category&gt;&gt;(application.getCategories(), HttpStatus.OK);\r\n        }\r\n\r\n    }\r\n\r\n\r\nSo far I&#39;ve tried:\r\n\r\n - Adding just a web.xml with a `&lt;welcome-file-list&gt;` with a `&lt;welcome-file&gt;`. (no luck there)\r\n - Moving the `@RequestMapping(&quot;/categories&quot;)` in the Controller from the class level to all of the methods, and adding a new method with `@RequestMapping(&quot;/&quot;)`, which returns either a `String` or a `ModelAndView` with the view name. (the former just returned a blank page with the String, for the latter no mapping could be found)\r\n - As suggested [here][1]: a combination of both, where my web.xml `&lt;welcome-file&gt;` is &quot;/index&quot;, combined with `@RequestMapping(value=&quot;/index&quot;)` returning a `new ModelAndView(&quot;index&quot;)`, and a `ViewResolver` in my configuration class. (returns a `Warning: No mapping found in DispatcherServlet with name &#39;dispatcher&#39;`, even though &quot;/index&quot; is successfully mapped. Manually adding &quot;/index&quot; to the URL successfully resolves it to index.jsp)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31205519/how-can-i-make-welcome-file-list-work-with-spring-servlet?rq=1","title":"Set a Spring REST Controller welcome-file","body":"<p>I'm building a RESTful API and have a Spring REST Controller (@RestController) and an annotation-based configuration. I'd like to have my project's welcome-file be a .html or .jsp file with the API documentation. </p>\n\n<p>In other web projects I would place a welcome-file-list in my web.xml, but in this particular project I can't seem to get it to work (preferrably using Java and annotations).</p>\n\n<p>This is my WebApplicationInitializer</p>\n\n<pre><code>public class WebAppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\n        context.register(ApplicationConfig.class);\n        context.setServletContext(servletContext);\n\n        ServletRegistration.Dynamic dynamic = servletContext.addServlet(\"dispatcher\", \n           new DispatcherServlet(context));\n        dynamic.addMapping(\"/\");\n        dynamic.setLoadOnStartup(1);\n    }\n}\n</code></pre>\n\n<p>This is my WebMvcConfigurerAdapter</p>\n\n<pre><code>@Configuration\n@ComponentScan(\"controller\")\n@EnableWebMvc\npublic class ApplicationConfig extends WebMvcConfigurerAdapter {\n\n    @Bean\n    public Application application() {\n        return new Application(\"Memory\");\n    }\n\n}\n</code></pre>\n\n<p>And this is a small part of my REST Controller</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/categories\")\npublic class CategoryRestController {\n\n    @Autowired\n    Application application;\n\n    @RequestMapping(method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Map&lt;Integer, Category&gt;&gt; getCategories(){\n        if(application.getCategories().isEmpty()) {\n            return new ResponseEntity&lt;Map&lt;Integer, Category&gt;&gt;(HttpStatus.NO_CONTENT);\n        }\n        return new ResponseEntity&lt;Map&lt;Integer, Category&gt;&gt;(application.getCategories(), HttpStatus.OK);\n    }\n\n}\n</code></pre>\n\n<p>So far I've tried:</p>\n\n<ul>\n<li>Adding just a web.xml with a <code>&lt;welcome-file-list&gt;</code> with a <code>&lt;welcome-file&gt;</code>. (no luck there)</li>\n<li>Moving the <code>@RequestMapping(\"/categories\")</code> in the Controller from the class level to all of the methods, and adding a new method with <code>@RequestMapping(\"/\")</code>, which returns either a <code>String</code> or a <code>ModelAndView</code> with the view name. (the former just returned a blank page with the String, for the latter no mapping could be found)</li>\n<li>As suggested <a href=\"https://stackoverflow.com/questions/31205519/how-can-i-make-welcome-file-list-work-with-spring-servlet?rq=1\">here</a>: a combination of both, where my web.xml <code>&lt;welcome-file&gt;</code> is \"/index\", combined with <code>@RequestMapping(value=\"/index\")</code> returning a <code>new ModelAndView(\"index\")</code>, and a <code>ViewResolver</code> in my configuration class. (returns a <code>Warning: No mapping found in DispatcherServlet with name 'dispatcher'</code>, even though \"/index\" is successfully mapped. Manually adding \"/index\" to the URL successfully resolves it to index.jsp)</li>\n</ul>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":6,"creation_date":1673979898,"post_id":75150338,"comment_id":132615787,"body_markdown":"*&quot;Is there any way of getting around this?&quot;*. There&#39;s probably no elegant way. A `ChoiceBox` is designed for the user to make a selection (choice) and the API is designed so you can respond to the user selecting something. You&#39;re trying to use it for something slightly different; responding to user *actions* instead of *selections*. The correct control for this is a `MenuButton`, with a collection of `MenuItem`s. You can then register event handlers for the action events on the menu items.","body":"<i>&quot;Is there any way of getting around this?&quot;</i>. There&#39;s probably no elegant way. A <code>ChoiceBox</code> is designed for the user to make a selection (choice) and the API is designed so you can respond to the user selecting something. You&#39;re trying to use it for something slightly different; responding to user <i>actions</i> instead of <i>selections</i>. The correct control for this is a <code>MenuButton</code>, with a collection of <code>MenuItem</code>s. You can then register event handlers for the action events on the menu items."},{"owner":{"account_id":18842101,"reputation":305,"user_id":13743303,"display_name":"Isiah"},"score":2,"creation_date":1673988682,"post_id":75150338,"comment_id":132618311,"body_markdown":"I have been using Combo Boxes incorrectly. Swapping to the menu item solved my issue and they can be styled to look and behave identically to combo boxes.","body":"I have been using Combo Boxes incorrectly. Swapping to the menu item solved my issue and they can be styled to look and behave identically to combo boxes."}],"owner":{"account_id":18842101,"reputation":305,"user_id":13743303,"display_name":"Isiah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673977924,"creation_date":1673977924,"question_id":75150338,"body_markdown":"I have a choice box with multiple choices, whenever one of them is selected a different method is run. Similar to this here:\r\n```java\r\n        fruitChoice.valueProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n            switch (newValue) {\r\n                case &quot;Apple&quot;:\r\n                    System.out.println(&quot;EWWW!&quot;);\r\n                    break;\r\n                case &quot;Orange&quot;:\r\n                    System.out.println(&quot;Good choice!&quot;);\r\n                    break;\r\n                case &quot;Pear&quot;:\r\n                    System.out.println(&quot;That&#39;s OK&quot;);\r\n                    break;\r\n            }\r\n        });\r\n```\r\n\r\nHowever if the user selects Apple from the dropdown while having already selected Apple, nothing is printed. I haven&#39;t seen any way to get the dropdown Node as a ListView or the Apple option as a button to manually add actions and **I can not use a Combo Box**. My current solution is as follows:\r\n```java\r\n        repeatChoice.showingProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n            if (!newValue) {\r\n                switch (repeatChoice.getValue()) {\r\n                    case &quot;Apple&quot;:\r\n                        System.out.println(&quot;EWWW!&quot;);\r\n                        break;\r\n                    case &quot;Orange&quot;:\r\n                        System.out.println(&quot;Good choice!&quot;);\r\n                        break;\r\n                    case &quot;Pear&quot;:\r\n                        System.out.println(&quot;That&#39;s OK&quot;);\r\n                        break;\r\n                }\r\n            }\r\n\r\n        });\r\n```\r\n\r\nBut this code doesn&#39;t account for ways the ChoiceBox can stop showing that don&#39;t involve selecting Apple again (such as losing focus). Is there any way of getting around this?","title":"How to check when the same option is selected from a Choice box?","body":"<p>I have a choice box with multiple choices, whenever one of them is selected a different method is run. Similar to this here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        fruitChoice.valueProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n            switch (newValue) {\n                case &quot;Apple&quot;:\n                    System.out.println(&quot;EWWW!&quot;);\n                    break;\n                case &quot;Orange&quot;:\n                    System.out.println(&quot;Good choice!&quot;);\n                    break;\n                case &quot;Pear&quot;:\n                    System.out.println(&quot;That's OK&quot;);\n                    break;\n            }\n        });\n</code></pre>\n<p>However if the user selects Apple from the dropdown while having already selected Apple, nothing is printed. I haven't seen any way to get the dropdown Node as a ListView or the Apple option as a button to manually add actions and <strong>I can not use a Combo Box</strong>. My current solution is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        repeatChoice.showingProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n            if (!newValue) {\n                switch (repeatChoice.getValue()) {\n                    case &quot;Apple&quot;:\n                        System.out.println(&quot;EWWW!&quot;);\n                        break;\n                    case &quot;Orange&quot;:\n                        System.out.println(&quot;Good choice!&quot;);\n                        break;\n                    case &quot;Pear&quot;:\n                        System.out.println(&quot;That's OK&quot;);\n                        break;\n                }\n            }\n\n        });\n</code></pre>\n<p>But this code doesn't account for ways the ChoiceBox can stop showing that don't involve selecting Apple again (such as losing focus). Is there any way of getting around this?</p>\n"},{"tags":["java","spring","list","spring-boot","collections"],"comments":[{"owner":{"account_id":24873773,"reputation":102,"user_id":18747955,"display_name":"Nysand"},"score":0,"creation_date":1673975845,"post_id":75149826,"comment_id":132614483,"body_markdown":"your problem is you are not reassigning the filtered list to the allTools variable. allTools = allTools.stream()...continue your code. filter does not modify the original list.","body":"your problem is you are not reassigning the filtered list to the allTools variable. allTools = allTools.stream()...continue your code. filter does not modify the original list."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1673975989,"post_id":75149826,"comment_id":132614530,"body_markdown":"You are returning the unfilterd `allTools`. You should assign what you have filtered above your retun statment to a local variable and use that in your return statement, i.e `List&lt;Tools&gt; filterd =  allTools.stream()....`  and then use it like `return ResponseEntity.ok().body(filterd);`","body":"You are returning the unfilterd <code>allTools</code>. You should assign what you have filtered above your retun statment to a local variable and use that in your return statement, i.e <code>List&lt;Tools&gt; filterd =  allTools.stream()....</code>  and then use it like <code>return ResponseEntity.ok().body(filterd);</code>"},{"owner":{"account_id":4666800,"reputation":195,"user_id":3779674,"accept_rate":61,"display_name":"isaric"},"score":2,"creation_date":1673976445,"post_id":75149826,"comment_id":132614672,"body_markdown":"Also, it looks like this is an entity from the database. You should filter there and not in the java code","body":"Also, it looks like this is an entity from the database. You should filter there and not in the java code"},{"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"score":0,"creation_date":1673977390,"post_id":75149826,"comment_id":132614969,"body_markdown":"@Nysand , hiii! I tried doing it like one of the answers here showed me, the same way you said, but it still doesn&#39;t work! it works like a normal get all not a filtered request","body":"@Nysand , hiii! I tried doing it like one of the answers here showed me, the same way you said, but it still doesn&#39;t work! it works like a normal get all not a filtered request"},{"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"score":0,"creation_date":1673977412,"post_id":75149826,"comment_id":132614980,"body_markdown":"@Eritrean , hello! I tried doing it like one of the answers here showed me, the same way you said, but it still doesn&#39;t work! it works like a normal get all not a filtered request","body":"@Eritrean , hello! I tried doing it like one of the answers here showed me, the same way you said, but it still doesn&#39;t work! it works like a normal get all not a filtered request"}],"answers":[{"comments":[{"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"score":0,"creation_date":1673977275,"post_id":75150133,"comment_id":132614933,"body_markdown":"hiii @Santhosh , unfortunately it still doesn&#39;t work &#128549; it works like a normal get all not a filtered request","body":"hiii @Santhosh , unfortunately it still doesn&#39;t work 😥 it works like a normal get all not a filtered request"}],"tags":[],"owner":{"account_id":9495989,"reputation":1,"user_id":7058986,"display_name":"SanthoshVaddala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673976654,"creation_date":1673976654,"answer_id":75150133,"question_id":75149826,"body_markdown":"You are not assigning the filtered output to a new list. Below modified code would work.\r\n\r\n    @GetMapping(&quot;?tag={tags}&quot;)\r\n    public ResponseEntity&lt;List&lt;Tools&gt;&gt; findByTag(@PathVariable String tags){\r\n        List&lt;Tools&gt; allTools=repo.findAll();\r\n        List&lt;Tools&gt; filteredTools = allTools.stream().filter(t-&gt; t.getTags().contains(tags)).collect(Collectors.toList());\r\n        return ResponseEntity.ok().body(filteredTools);\r\n        \r\n}","title":"How can I filter a Java List based on a list attribute","body":"<p>You are not assigning the filtered output to a new list. Below modified code would work.</p>\n<pre><code>@GetMapping(&quot;?tag={tags}&quot;)\npublic ResponseEntity&lt;List&lt;Tools&gt;&gt; findByTag(@PathVariable String tags){\n    List&lt;Tools&gt; allTools=repo.findAll();\n    List&lt;Tools&gt; filteredTools = allTools.stream().filter(t-&gt; t.getTags().contains(tags)).collect(Collectors.toList());\n    return ResponseEntity.ok().body(filteredTools);\n    \n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"score":1,"creation_date":1673987883,"post_id":75150279,"comment_id":132618081,"body_markdown":"thank you SO MUCH!!!!! This worked perfectly. And thank you for the tip about queries! I really didn&#39;t know that what I was doing was a bad practice. &lt;33333","body":"thank you SO MUCH!!!!! This worked perfectly. And thank you for the tip about queries! I really didn&#39;t know that what I was doing was a bad practice. &lt;33333"}],"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673977618,"creation_date":1673977618,"answer_id":75150279,"question_id":75149826,"body_markdown":"Are you sure that `@GetMapping(&quot;?tag={tags}&quot;)` will get the `?tag=` param into the `@PathVariable String tags` argument? I think this will not work, you have to do plain `@GetMapping` and annotate the argument like `@RequestParam(&quot;tag&quot;) String tags`.\r\n\r\nMoreover, as already mentioned in comments and other answers, `stream()` does not modify the collection it operates on - so you have to return the result of `allTools.stream()...collect(Collectors.toList())`.\r\n\r\n**BUT MOST IMPORTANT OF ALL** (although only indirectly related to the question), what you are doing is fetch everything from the DB and filter in memory. **THIS WILL KILL YOUR REAL APP**, where there may be thousands of tools. Even if this specific application contains only a handful of tools, this is a bad practice and it will most certainly &quot;bite&quot; you in the future. Let the DB handle this operation, e.g. with a JPA query like `SELECT t FROM Tools t WHERE :tag MEMBER OF t.tags`.","title":"How can I filter a Java List based on a list attribute","body":"<p>Are you sure that <code>@GetMapping(&quot;?tag={tags}&quot;)</code> will get the <code>?tag=</code> param into the <code>@PathVariable String tags</code> argument? I think this will not work, you have to do plain <code>@GetMapping</code> and annotate the argument like <code>@RequestParam(&quot;tag&quot;) String tags</code>.</p>\n<p>Moreover, as already mentioned in comments and other answers, <code>stream()</code> does not modify the collection it operates on - so you have to return the result of <code>allTools.stream()...collect(Collectors.toList())</code>.</p>\n<p><strong>BUT MOST IMPORTANT OF ALL</strong> (although only indirectly related to the question), what you are doing is fetch everything from the DB and filter in memory. <strong>THIS WILL KILL YOUR REAL APP</strong>, where there may be thousands of tools. Even if this specific application contains only a handful of tools, this is a bad practice and it will most certainly &quot;bite&quot; you in the future. Let the DB handle this operation, e.g. with a JPA query like <code>SELECT t FROM Tools t WHERE :tag MEMBER OF t.tags</code>.</p>\n"}],"owner":{"account_id":24015114,"reputation":109,"user_id":20077835,"display_name":"vitoriac"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75150279,"answer_count":2,"score":0,"last_activity_date":1673977618,"creation_date":1673974949,"question_id":75149826,"body_markdown":"hello :) I&#39;ve been trying to filter a java list based on one of its attributes and its been really hard!\r\nthis is my model: \r\n\r\n    @Table(name=&quot;tools_table&quot;)\r\n    public class Tools implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate Integer id;\r\n    \t\r\n    \tprivate String title;\r\n    \t\r\n    \tprivate String link;\r\n    \t\r\n    \tprivate String description;\r\n    \t\r\n    \t@ElementCollection(targetClass=String.class)\r\n    \tprivate List&lt;String&gt; tags;\r\n(theres also the getters, setters and constructors)\r\n\r\nand I need to make a method that filters Tools that have, inside the list TAG, a certain tag. Basically, filtering tools by tag. \r\n\r\nfor example, if I have three tools ({name: one, tags:[cake, dogs, pink]},{name: two, tags:[cake, rabbits, blue]},{name: three, tags:[cake, horses, red]}) and I filter them by the tag CAKE, the three of them must come back. But if I filter them by the tag RED, only the third one should be returned. \r\n\r\n\r\nI hope I explained it well :) \r\n\r\nthis is the method I&#39;m trying to work with: \r\n\r\n    @GetMapping(&quot;?tag={tags}&quot;)\r\n    \tpublic ResponseEntity&lt;List&lt;Tools&gt;&gt; findByTag(@PathVariable String tags){\r\n    \t\tList&lt;Tools&gt; allTools=repo.findAll();\r\n    \t\tallTools.stream().filter(t-&gt; t.getTags().contains(tags)).collect(Collectors.toList());\r\n    \t\treturn ResponseEntity.ok().body(allTools);\r\n    \t\t\r\n    }\r\n\r\nbut whenever I make the request passing the desired tag, it returns me all objects, it doesn&#39;t filter them! \r\n\r\nI appreciate anyone who tries to help &lt;3\r\n    \t","title":"How can I filter a Java List based on a list attribute","body":"<p>hello :) I've been trying to filter a java list based on one of its attributes and its been really hard!\nthis is my model:</p>\n<pre><code>@Table(name=&quot;tools_table&quot;)\npublic class Tools implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Integer id;\n    \n    private String title;\n    \n    private String link;\n    \n    private String description;\n    \n    @ElementCollection(targetClass=String.class)\n    private List&lt;String&gt; tags;\n</code></pre>\n<p>(theres also the getters, setters and constructors)</p>\n<p>and I need to make a method that filters Tools that have, inside the list TAG, a certain tag. Basically, filtering tools by tag.</p>\n<p>for example, if I have three tools ({name: one, tags:[cake, dogs, pink]},{name: two, tags:[cake, rabbits, blue]},{name: three, tags:[cake, horses, red]}) and I filter them by the tag CAKE, the three of them must come back. But if I filter them by the tag RED, only the third one should be returned.</p>\n<p>I hope I explained it well :)</p>\n<p>this is the method I'm trying to work with:</p>\n<pre><code>@GetMapping(&quot;?tag={tags}&quot;)\n    public ResponseEntity&lt;List&lt;Tools&gt;&gt; findByTag(@PathVariable String tags){\n        List&lt;Tools&gt; allTools=repo.findAll();\n        allTools.stream().filter(t-&gt; t.getTags().contains(tags)).collect(Collectors.toList());\n        return ResponseEntity.ok().body(allTools);\n        \n}\n</code></pre>\n<p>but whenever I make the request passing the desired tag, it returns me all objects, it doesn't filter them!</p>\n<p>I appreciate anyone who tries to help &lt;3</p>\n"},{"tags":["java","smb","fileshare","netapp","smbj"],"answers":[{"tags":[],"owner":{"account_id":25753612,"reputation":36,"user_id":19505720,"display_name":"Peter Turcsanyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673968604,"creation_date":1673968604,"answer_id":75148523,"question_id":74027564,"body_markdown":"Ran into the same problem using smbj-0.11.5 with Azure NetApp Files.\r\n\r\nThere seems to be an issue related to encryption negotiation between the client and the server when 3.1.1 dialect is used (https://github.com/hierynomus/smbj/issues/747).\r\n\r\nI suggest trying any of the following workarounds:\r\n- downgrade the SMB dialect to 3.0: `SmbConfig.builder().withDialects(SMB2Dialect.SMB_3_0)`\r\n- enable encryption explicitly (and still use 3.1.1 dialect): `SmbConfig.builder().withEncryptData(true)`\r\n\r\nBoth worked for me with smbj-0.11.5 and Azure NetApp Files.","title":"STATUS_ACCESS_DENIED (0xc0000022): Could not connect to - Azure Netapps File Share (Network Drive) access with smbj JAVA library","body":"<p>Ran into the same problem using smbj-0.11.5 with Azure NetApp Files.</p>\n<p>There seems to be an issue related to encryption negotiation between the client and the server when 3.1.1 dialect is used (<a href=\"https://github.com/hierynomus/smbj/issues/747\" rel=\"nofollow noreferrer\">https://github.com/hierynomus/smbj/issues/747</a>).</p>\n<p>I suggest trying any of the following workarounds:</p>\n<ul>\n<li>downgrade the SMB dialect to 3.0: <code>SmbConfig.builder().withDialects(SMB2Dialect.SMB_3_0)</code></li>\n<li>enable encryption explicitly (and still use 3.1.1 dialect): <code>SmbConfig.builder().withEncryptData(true)</code></li>\n</ul>\n<p>Both worked for me with smbj-0.11.5 and Azure NetApp Files.</p>\n"}],"owner":{"account_id":16266450,"reputation":91,"user_id":11746352,"display_name":"Sathishkumar C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148523,"answer_count":1,"score":0,"last_activity_date":1673977273,"creation_date":1665488664,"question_id":74027564,"body_markdown":"Trying to read files from Azure Netapps (Network Drive). We successfully mount and read files with Window File Explorer.\r\n\r\nWith the same credentials, we are trying with JAVA [smbj](https://github.com/hierynomus/smbj) library.\r\n\r\nWhile executing the java code in eclipse, getting following error,\r\n```\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Could not connect to \\\\AZUREANF.com\\imagestorage\r\n.\r\n.\r\nSuppressed: com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Error closing connection to \\\\AZUREANF.com\\IPC$\r\n```\r\n\r\n - Share Server Name - **AZUREANF.com**\r\n - Share Folder - **imagestorage**\r\n\r\nThe complete logs...\r\n```\r\n[main] INFO com.hierynomus.smbj.connection.PacketEncryptor - Initialized PacketEncryptor with Cipher &lt;&lt; AES_128_GCM &gt;&gt;\r\n[main] INFO com.hierynomus.smbj.connection.Connection - Successfully connected to: AZUREANF.com\r\n[main] INFO com.hierynomus.smbj.connection.SMBSessionBuilder - Successfully authenticated TWSpringvale on AZUREANF.com, session is 3250754506031368179\r\n[main] INFO com.hierynomus.smbj.session.Session - Connecting to \\\\AZUREANF.com\\imagestorage on session 3250754506031368179\r\n[main] INFO com.hierynomus.smbj.paths.DFSPathResolver - Attempting to resolve \\\\AZUREANF.com\\imagestorage through DFS\r\n[main] INFO com.hierynomus.smbj.paths.DFSPathResolver - Starting DFS resolution for \\\\AZUREANF.com\\imagestorage\r\n[main] INFO com.hierynomus.smbj.session.Session - Connecting to \\\\AZUREANF.com\\IPC$ on session 3250754506031368179\r\n[main] INFO com.hierynomus.smbj.session.Session - Logging off session 3250754506031368179 from host AZUREANF.com\r\n[main] INFO com.hierynomus.smbj.connection.Connection - Closed connection to AZUREANF.com\r\n[Packet Reader for AZUREANF.com] INFO com.hierynomus.smbj.transport.tcp.direct.DirectTcpPacketReader - Thread[Packet Reader for AZUREANF.com,5,main] stopped.\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Could not connect to \\\\AZUREANF.com\\imagestorage\r\n    at com.hierynomus.smbj.session.Session.connectTree(Session.java:151)\r\n    at com.hierynomus.smbj.session.Session.connectShare(Session.java:113)\r\n    at Reader.NetworkFilereader(Reader.java:70)\r\n    at Reader.main(Reader.java:129)\r\n    Suppressed: com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Error closing connection to \\\\AZUREANF.com\\IPC$\r\n        at com.hierynomus.smbj.share.TreeConnect.close(TreeConnect.java:72)\r\n        at com.hierynomus.smbj.share.Share.close(Share.java:116)\r\n        at com.hierynomus.smbj.session.Session.logoff(Session.java:236)\r\n        at com.hierynomus.smbj.session.Session.close(Session.java:279)\r\n        at com.hierynomus.smbj.connection.Connection.close(Connection.java:178)\r\n        at com.hierynomus.smbj.connection.Connection.close(Connection.java:155)\r\n        at Reader.NetworkFilereader(Reader.java:118)\r\n        ... 1 more\r\n```\r\n\r\nHow to resolve this issue?","title":"STATUS_ACCESS_DENIED (0xc0000022): Could not connect to - Azure Netapps File Share (Network Drive) access with smbj JAVA library","body":"<p>Trying to read files from Azure Netapps (Network Drive). We successfully mount and read files with Window File Explorer.</p>\n<p>With the same credentials, we are trying with JAVA <a href=\"https://github.com/hierynomus/smbj\" rel=\"nofollow noreferrer\">smbj</a> library.</p>\n<p>While executing the java code in eclipse, getting following error,</p>\n<pre><code>com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Could not connect to \\\\AZUREANF.com\\imagestorage\n.\n.\nSuppressed: com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Error closing connection to \\\\AZUREANF.com\\IPC$\n</code></pre>\n<ul>\n<li>Share Server Name - <strong>AZUREANF.com</strong></li>\n<li>Share Folder - <strong>imagestorage</strong></li>\n</ul>\n<p>The complete logs...</p>\n<pre><code>[main] INFO com.hierynomus.smbj.connection.PacketEncryptor - Initialized PacketEncryptor with Cipher &lt;&lt; AES_128_GCM &gt;&gt;\n[main] INFO com.hierynomus.smbj.connection.Connection - Successfully connected to: AZUREANF.com\n[main] INFO com.hierynomus.smbj.connection.SMBSessionBuilder - Successfully authenticated TWSpringvale on AZUREANF.com, session is 3250754506031368179\n[main] INFO com.hierynomus.smbj.session.Session - Connecting to \\\\AZUREANF.com\\imagestorage on session 3250754506031368179\n[main] INFO com.hierynomus.smbj.paths.DFSPathResolver - Attempting to resolve \\\\AZUREANF.com\\imagestorage through DFS\n[main] INFO com.hierynomus.smbj.paths.DFSPathResolver - Starting DFS resolution for \\\\AZUREANF.com\\imagestorage\n[main] INFO com.hierynomus.smbj.session.Session - Connecting to \\\\AZUREANF.com\\IPC$ on session 3250754506031368179\n[main] INFO com.hierynomus.smbj.session.Session - Logging off session 3250754506031368179 from host AZUREANF.com\n[main] INFO com.hierynomus.smbj.connection.Connection - Closed connection to AZUREANF.com\n[Packet Reader for AZUREANF.com] INFO com.hierynomus.smbj.transport.tcp.direct.DirectTcpPacketReader - Thread[Packet Reader for AZUREANF.com,5,main] stopped.\ncom.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Could not connect to \\\\AZUREANF.com\\imagestorage\n    at com.hierynomus.smbj.session.Session.connectTree(Session.java:151)\n    at com.hierynomus.smbj.session.Session.connectShare(Session.java:113)\n    at Reader.NetworkFilereader(Reader.java:70)\n    at Reader.main(Reader.java:129)\n    Suppressed: com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Error closing connection to \\\\AZUREANF.com\\IPC$\n        at com.hierynomus.smbj.share.TreeConnect.close(TreeConnect.java:72)\n        at com.hierynomus.smbj.share.Share.close(Share.java:116)\n        at com.hierynomus.smbj.session.Session.logoff(Session.java:236)\n        at com.hierynomus.smbj.session.Session.close(Session.java:279)\n        at com.hierynomus.smbj.connection.Connection.close(Connection.java:178)\n        at com.hierynomus.smbj.connection.Connection.close(Connection.java:155)\n        at Reader.NetworkFilereader(Reader.java:118)\n        ... 1 more\n</code></pre>\n<p>How to resolve this issue?</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient","reactive"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1673938089,"post_id":75141187,"comment_id":132602393,"body_markdown":"i dont see blockhound saying anything, since you havnt posted the error message with the stack trace.","body":"i dont see blockhound saying anything, since you havnt posted the error message with the stack trace."},{"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1673957648,"post_id":75141187,"comment_id":132607937,"body_markdown":"@Toerktumlare Ive updated the question with stacktrace","body":"@Toerktumlare Ive updated the question with stacktrace"},{"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1673963234,"post_id":75141187,"comment_id":132609850,"body_markdown":"@Alex Unfortunately no, cause the error comes when client send request","body":"@Alex Unfortunately no, cause the error comes when client send request"},{"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"score":0,"creation_date":1673966468,"post_id":75141187,"comment_id":132611133,"body_markdown":"Also interested!","body":"Also interested!"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673969299,"post_id":75141187,"comment_id":132612228,"body_markdown":"Please check comments for https://stackoverflow.com/q/71755344/9068895.","body":"Please check comments for <a href=\"https://stackoverflow.com/q/71755344/9068895\">stackoverflow.com/q/71755344/9068895</a>."},{"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1673971040,"post_id":75141187,"comment_id":132612885,"body_markdown":"@Alex I&#39;ve tried also, no success","body":"@Alex I&#39;ve tried also, no success"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673972097,"post_id":75141187,"comment_id":132613279,"body_markdown":"since this is about `SecureRandom` based on out load tests, it didn&#39;t have much influence on the reactive flow performance. \nYou will face a lot of issues like this while using reactive programming because many libraries have issues. In all such cases your choose is always - ignore or switch to `boundedElastic`. In this case, based on out tests, we just ignored it. \nAlso, I hope you are using `blockhound` in tests. I would not recommend to enable it on prod.","body":"since this is about <code>SecureRandom</code> based on out load tests, it didn&#39;t have much influence on the reactive flow performance.  You will face a lot of issues like this while using reactive programming because many libraries have issues. In all such cases your choose is always - ignore or switch to <code>boundedElastic</code>. In this case, based on out tests, we just ignored it.  Also, I hope you are using <code>blockhound</code> in tests. I would not recommend to enable it on prod."}],"answers":[{"tags":[],"owner":{"account_id":8342701,"reputation":1021,"user_id":6267537,"display_name":"Jonathan Chevalier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673976614,"creation_date":1673976614,"answer_id":75150124,"question_id":75141187,"body_markdown":"             .body(\r\n             BodyInserters.fromProducer(\r\n                 Mono.just(builder.build()).subscribeOn(Schedulers.boundedElastic()),\r\n                 MultiValueMap.class));","title":"Send multipart/form via WebClient [Spring boot]","body":"<pre><code>         .body(\n         BodyInserters.fromProducer(\n             Mono.just(builder.build()).subscribeOn(Schedulers.boundedElastic()),\n             MultiValueMap.class));\n</code></pre>\n"}],"owner":{"account_id":27546149,"reputation":13,"user_id":21022072,"display_name":"Andr&#233; Luiz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75150124,"answer_count":1,"score":0,"last_activity_date":1673976614,"creation_date":1673918707,"question_id":75141187,"body_markdown":"I&#39;m trying to send an multipart/form in a WebClient request that contains files and String fields, but blockhound notify that FileInputStream is blocking the call.\r\n\r\n\r\n```\r\npublic Mono&lt;ResponseEntity&gt; anotherCall(){\r\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n    builder.part(&quot;description&quot;, &quot;description&quot;);\r\n    builder.part(&quot;email&quot;, &quot;email&quot;);\r\n    builder.part(&quot;priority&quot;, 1);\r\n    builder.part(&quot;status&quot;, 2);\r\n    builder.part(&quot;subject&quot;, &quot;subject&quot;);\r\n    builder.part(&quot;company_id&quot;, 150000240766l);\r\n  return Mono.defer(() -&gt; {\r\n             return this.webClient.getWebClient().post().uri(URI)\r\n                     .headers(\r\n                      httpHeaders -&gt; {\r\n                          httpHeaders.setBasicAuth(&quot;API_KEY&quot;, &quot;X&quot;);\r\n                      })\r\n                     .bodyValue(builder.build())\r\n                     .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                     .exchangeToMono(\r\n                             response -&gt; {\r\n                                 final HttpStatus status = response.statusCode();\r\n                                 return response\r\n                                         .bodyToMono(Map.class)\r\n                                         .defaultIfEmpty(Map.of())\r\n                                         .map(\r\n                                                 body -&gt; {\r\n                                                     if (status.is2xxSuccessful()) {\r\n                                                         return ResponseEntity.ok().body(body);\r\n                                                     } else {\r\n                                                         return Error(body);\r\n                                                     }\r\n                                                 });\r\n                             });\r\n\r\n         });\r\n```\r\n\r\n\r\nI&#39;ve tried to use builder.asyncPart(), tried to call Flux.then(),\r\ntried .subscribeOn(Schedulers.boundedElastic())\r\n\r\n\r\nHere is the stacktrace from blockhound, I read that webClient block threads to generate boundary for parts of form, I&#39;ve tried to generate boundary and add to header, but no success.\r\n \r\n```\r\n    reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \tat java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\r\n    \tat java.base/java.io.FileInputStream.read(FileInputStream.java:276)\r\n    \tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\r\n    \tat java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\r\n    \tat java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\r\n    \tat java.base/java.security.SecureRandom.next(SecureRandom.java:815)\r\n    \tat java.base/java.util.Random.nextInt(Random.java:323)\r\n    \tat org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\r\n    \tat org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\r\n    \tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\r\n    \tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\r\n    \tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    \r\n    2023-01-17 09:02:07.040  WARN [,19587802144e28cfd5bee3752b442824,a602a51f0e98a86c]   [nio-8080-exec-6] c.i.p.e.api.GlobalExceptionHandler       : Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \r\n    org.springframework.web.reactive.function.client.WebClientRequestException: Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Request to POST URI[DefaultWebClient]\r\n    Original Stack Trace:\r\n    \t\tat org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\r\n    \t\tat reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\r\n    \t\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\r\n    \t\tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\r\n    \t\tat reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225)\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415)\r\n    \t\tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:89)\r\n    \t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n    \t\tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\r\n    \t\tat reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\r\n    \t\tat reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\r\n    \t\tat reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\r\n    \t\tat reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190)\r\n    \t\tat org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\r\n    \t\tat reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\r\n    \t\tat reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:399)\r\n    \t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670)\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:205)\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454)\r\n    \t\tat reactor.netty.http.client.HttpClientOperations.onOutboundError(HttpClientOperations.java:583)\r\n    \t\tat reactor.netty.channel.ChannelOperations.onError(ChannelOperations.java:254)\r\n    \t\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n    \t\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:161)\r\n    \t\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \t\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n    \t\tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\r\n    \t\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\r\n    \t\tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n    \t\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\r\n    \tat java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\r\n    \tat java.base/java.io.FileInputStream.read(FileInputStream.java:276)\r\n    \tat java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\r\n    \tat java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\r\n    \tat java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\r\n    \tat java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\r\n    \tat java.base/java.security.SecureRandom.next(SecureRandom.java:815)\r\n    \tat java.base/java.util.Random.nextInt(Random.java:323)\r\n    \tat org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\r\n    \tat org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\r\n    \tat org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\r\n    \tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\r\n    \tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\r\n    \tat reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\r\n    \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```","title":"Send multipart/form via WebClient [Spring boot]","body":"<p>I'm trying to send an multipart/form in a WebClient request that contains files and String fields, but blockhound notify that FileInputStream is blocking the call.</p>\n<pre><code>public Mono&lt;ResponseEntity&gt; anotherCall(){\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;description&quot;, &quot;description&quot;);\n    builder.part(&quot;email&quot;, &quot;email&quot;);\n    builder.part(&quot;priority&quot;, 1);\n    builder.part(&quot;status&quot;, 2);\n    builder.part(&quot;subject&quot;, &quot;subject&quot;);\n    builder.part(&quot;company_id&quot;, 150000240766l);\n  return Mono.defer(() -&gt; {\n             return this.webClient.getWebClient().post().uri(URI)\n                     .headers(\n                      httpHeaders -&gt; {\n                          httpHeaders.setBasicAuth(&quot;API_KEY&quot;, &quot;X&quot;);\n                      })\n                     .bodyValue(builder.build())\n                     .contentType(MediaType.MULTIPART_FORM_DATA)\n                     .exchangeToMono(\n                             response -&gt; {\n                                 final HttpStatus status = response.statusCode();\n                                 return response\n                                         .bodyToMono(Map.class)\n                                         .defaultIfEmpty(Map.of())\n                                         .map(\n                                                 body -&gt; {\n                                                     if (status.is2xxSuccessful()) {\n                                                         return ResponseEntity.ok().body(body);\n                                                     } else {\n                                                         return Error(body);\n                                                     }\n                                                 });\n                             });\n\n         });\n</code></pre>\n<p>I've tried to use builder.asyncPart(), tried to call Flux.then(),\ntried .subscribeOn(Schedulers.boundedElastic())</p>\n<p>Here is the stacktrace from blockhound, I read that webClient block threads to generate boundary for parts of form, I've tried to generate boundary and add to header, but no success.</p>\n<pre><code>    reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n        at java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\n        at java.base/java.io.FileInputStream.read(FileInputStream.java:276)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\n        at java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\n        at java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\n        at java.base/java.security.SecureRandom.next(SecureRandom.java:815)\n        at java.base/java.util.Random.nextInt(Random.java:323)\n        at org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\n        at org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n        at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    \n    2023-01-17 09:02:07.040  WARN [,19587802144e28cfd5bee3752b442824,a602a51f0e98a86c]   [nio-8080-exec-6] c.i.p.e.api.GlobalExceptionHandler       : Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n    \n    org.springframework.web.reactive.function.client.WebClientRequestException: Blocking call! java.io.FileInputStream#readBytes; nested exception is reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n        at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n        Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \n    Error has been observed at the following site(s):\n        *__checkpoint ⇢ Request to POST URI[DefaultWebClient]\n    Original Stack Trace:\n            at org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:141)\n            at reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\n            at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n            at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n            at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n            at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n            at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)\n            at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\n            at reactor.core.publisher.MonoFlatMapMany$FlatMapManyMain.onError(MonoFlatMapMany.java:204)\n            at reactor.core.publisher.SerializedSubscriber.onError(SerializedSubscriber.java:124)\n            at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.whenError(FluxRetryWhen.java:225)\n            at reactor.core.publisher.FluxRetryWhen$RetryWhenOtherSubscriber.onError(FluxRetryWhen.java:274)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\n            at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onError(FluxContextWrite.java:121)\n            at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:415)\n            at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onNext(ScopePassingSpanSubscriber.java:89)\n            at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n            at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537)\n            at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343)\n            at reactor.core.publisher.SinkManySerialized.tryEmitNext(SinkManySerialized.java:100)\n            at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27)\n            at reactor.core.publisher.FluxRetryWhen$RetryWhenMainSubscriber.onError(FluxRetryWhen.java:190)\n            at org.springframework.cloud.sleuth.instrument.reactor.ScopePassingSpanSubscriber.onError(ScopePassingSpanSubscriber.java:96)\n            at reactor.core.publisher.MonoCreate$DefaultMonoSink.error(MonoCreate.java:201)\n            at reactor.netty.http.client.HttpClientConnect$HttpObserver.onUncaughtException(HttpClientConnect.java:399)\n            at reactor.netty.ReactorNetty$CompositeConnectionObserver.onUncaughtException(ReactorNetty.java:670)\n            at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.onUncaughtException(DefaultPooledConnectionProvider.java:205)\n            at reactor.netty.resources.DefaultPooledConnectionProvider$PooledConnection.onUncaughtException(DefaultPooledConnectionProvider.java:454)\n            at reactor.netty.http.client.HttpClientOperations.onOutboundError(HttpClientOperations.java:583)\n            at reactor.netty.channel.ChannelOperations.onError(ChannelOperations.java:254)\n            at reactor.core.publisher.Operators.error(Operators.java:198)\n            at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:161)\n            at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n            at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n            at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n            at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\n            at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\n            at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\n            at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n            at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n            at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: reactor.blockhound.BlockingOperationError: Blocking call! java.io.FileInputStream#readBytes\n        at java.base/java.io.FileInputStream.readBytes(FileInputStream.java)\n        at java.base/java.io.FileInputStream.read(FileInputStream.java:276)\n        at java.base/java.io.FilterInputStream.read(FilterInputStream.java:132)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.readFully(NativePRNG.java:425)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.ensureBufferValid(NativePRNG.java:528)\n        at java.base/sun.security.provider.NativePRNG$RandomIO.implNextBytes(NativePRNG.java:547)\n        at java.base/sun.security.provider.NativePRNG.engineNextBytes(NativePRNG.java:221)\n        at java.base/java.security.SecureRandom.nextBytes(SecureRandom.java:758)\n        at java.base/java.security.SecureRandom.next(SecureRandom.java:815)\n        at java.base/java.util.Random.nextInt(Random.java:323)\n        at org.springframework.util.MimeTypeUtils.generateMultipartBoundary(MimeTypeUtils.java:404)\n        at org.springframework.http.codec.multipart.MultipartWriterSupport.generateMultipartBoundary(MultipartWriterSupport.java:105)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.writeMultipart(MultipartHttpMessageWriter.java:185)\n        at org.springframework.http.codec.multipart.MultipartHttpMessageWriter.lambda$write$0(MultipartHttpMessageWriter.java:158)\n        at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:152)\n        at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n        at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:441)\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:677)\n        at reactor.netty.resources.DefaultPooledConnectionProvider$DisposableAcquire.run(DefaultPooledConnectionProvider.java:274)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask$$$capture(AbstractEventExecutor.java:174)\n        at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute$$$capture(AbstractEventExecutor.java:167)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","android","out-of-memory"],"owner":{"account_id":27425678,"reputation":1,"user_id":20923235,"display_name":"Nikolas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673976420,"creation_date":1673968340,"question_id":75148465,"body_markdown":"So I developed an Android application which acts as a server for my Android game(two separated apps), both applications were written in Java. \r\nPreviously I got messages on the Log like: &quot;Skipped 2000 frames. The main thread could be overworking&quot;. \r\nThis is the code of my app, it&#39;s made of only the MainActivity:\r\n\r\nI tried to introduce concurrent Threads in order to make the main thread lighter. Now the skipped n frames message isn&#39;t showed anymore but messages such like the followings are shown anyways.\r\n&quot;Alloc concurrent copying GC freed&quot;, &quot;Starting a blocking GC alloc&quot;, &quot;Waiting for a blocking GC alloc&quot;, &quot;WaitForGcToComplete blocked alloc on HeapTrim&quot; and all of this ends with \r\nThrowing OutOfMemoryError &quot;Failed to allocate a 32 byte allocation with 15604408 free bytes and 14MB until OOM, target footprint 268435456, growth limit 268435456; failed due to fragmentation (largest possible contiguous allocation 0 bytes)&quot; (VmSize 5539048 kB).\r\n\r\nI tried to deallocate some objects (lines of code which contains &quot;x = null&quot;) but it didn&#39;t solve. Furthermore I checked with a log if there is some sort of endless loop but it doesn&#39;t seem to be the case.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static ActivityMainBinding binding;\r\n    private WSocServer server;\r\n    private int port = 8080;\r\n    private boolean isOnline = false;\r\n    private static ArrayList&lt;String&gt; logs = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        setSupportActionBar(binding.toolbar);\r\n\r\n        binding.openConnection.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(!isOnline) {\r\n                    isOnline = true;\r\n                    server = new WSocServer(port);\r\n                    server.start();\r\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is on&quot;, Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                    Log.i(&quot;WebSocket Server&quot;, &quot;Started on port &quot; + server.getPort());\r\n                }\r\n                else{\r\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already online!&quot;, Snackbar.LENGTH_INDEFINITE);\r\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            snack.dismiss();\r\n                        }\r\n                    });\r\n                    snack.show();\r\n                }\r\n            }\r\n        });\r\n\r\n        binding.closeConnection.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(isOnline) {\r\n                    isOnline = false;\r\n                    logs.clear();\r\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is off&quot;, Toast.LENGTH_LONG);\r\n                    toast.show();\r\n                    try {\r\n                        server.stop();\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                else{\r\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already offline!&quot;, Snackbar.LENGTH_INDEFINITE);\r\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            snack.dismiss();\r\n                        }\r\n                    });\r\n                    snack.show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private static void addOnView(){\r\n        ConstraintLayout cl = binding.logsView;\r\n        Handler h = new Handler(Looper.getMainLooper());\r\n        for(int i = 0; i &lt; logs.size(); i++){\r\n            TextView tv = new TextView(binding.getRoot().getContext());\r\n            tv.setTextSize(16);\r\n            tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n            tv.setPadding(40,180*(i+1),40,0);\r\n            tv.setText(logs.get(i));\r\n            Runnable r = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    cl.addView(tv);\r\n\r\n                }\r\n            };\r\n            h.post(r);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        try {\r\n            server.stop();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static class WSocServer extends WebSocketServer {\r\n        private List&lt;String&gt; matchUsers;\r\n        private Integer timerSeconds;\r\n        private UUID matchId;\r\n\r\n        //a key represents a match to which an array of extracted numbers is associated\r\n        private Hashtable&lt;String,Integer[]&gt; matchExtractedNumbers = new Hashtable&lt;&gt;();\r\n        private Hashtable&lt;String, Collection&lt;WebSocket&gt;&gt; matchClients = new Hashtable&lt;&gt;();\r\n        private Hashtable&lt;String,Hashtable&lt;String,ArrayList&lt;String&gt;&gt;&gt; users_scorePerMatch = new Hashtable&lt;&gt;();\r\n        private Hashtable&lt;String,WebSocket&gt; clientConnection = new Hashtable&lt;&gt;();\r\n\r\n        private void initTimer(){\r\n            timerSeconds = 60;\r\n            Timer timer = new Timer();\r\n            TimerTask task = new TimerTask() {\r\n                public void run() {\r\n                    if(timerSeconds &gt; 0) timerSeconds--;\r\n                    else {\r\n                        timerSeconds = 60; timer.cancel(); timer.purge();\r\n                    }\r\n                }\r\n            };\r\n            timer.schedule(task,0L,1000L);\r\n        }\r\n\r\n        private String UsersListToString(List list){\r\n            return list.toString().replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;);\r\n        }\r\n\r\n        private Integer[] generateExtractedNumbers(){\r\n            Integer[] callerBoard = new Integer[90];\r\n            List&lt;Integer&gt; boardPool = new ArrayList&lt;&gt;();\r\n            boardPool.addAll(Arrays.asList(IntStream.rangeClosed(1,90).boxed().toArray(Integer[]::new)));\r\n            for(int i = 0; i &lt; 90; i++){\r\n                int rng = ThreadLocalRandom.current().nextInt(0,90-i);\r\n                callerBoard[i] = boardPool.remove(rng);\r\n            }\r\n            return callerBoard;\r\n        }\r\n\r\n        private void initMatch(){\r\n            matchId = UUID.randomUUID();\r\n            Integer[] matchBoard = generateExtractedNumbers();\r\n            matchExtractedNumbers.put(matchId.toString(),matchBoard);\r\n            matchClients.put(matchId.toString(),clientConnection.values());\r\n            Hashtable&lt;String,ArrayList&lt;String&gt;&gt; matchData = new Hashtable&lt;&gt;();\r\n            for(String user: matchUsers) matchData.put(user,new ArrayList&lt;&gt;());\r\n            users_scorePerMatch.put(matchId.toString(), matchData);\r\n        }\r\n\r\n        private Integer getExtractedNumber(String match, Integer turn){\r\n            if(turn &gt;= 90) return -1;\r\n            Integer[] thisMatchExtractedNumbers = matchExtractedNumbers.get(match);\r\n            Integer returning = thisMatchExtractedNumbers[turn];\r\n            thisMatchExtractedNumbers = null;\r\n            return returning;\r\n        }\r\n\r\n        \r\n\r\n        public WSocServer(int port){\r\n            super(new InetSocketAddress(port));\r\n        }\r\n\r\n        public WSocServer(InetSocketAddress address) {\r\n            super(address);\r\n        }\r\n\r\n        @Override\r\n        public void onOpen(WebSocket conn, ClientHandshake handshake) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket(open)&quot;, conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\r\n                    logs.add(conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\r\n                    matchUsers = new ArrayList&lt;&gt;();\r\n                    matchUsers.addAll(Arrays.asList(&quot;user1&quot;,&quot;user2&quot;,&quot;user3&quot;,&quot;user4&quot;,&quot;user5&quot;));\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n\r\n        @Override\r\n        public void onClose(WebSocket conn, int code, String reason, boolean remote) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket(close)&quot;, conn + &quot; has left the room! Reason: &quot; + reason);\r\n                    logs.add(conn + &quot; has left the room!&quot;);\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n\r\n        @Override\r\n        public void onMessage(WebSocket conn, String message) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    logs.add(message + &quot; from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\r\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message);\r\n                    MainActivity.addOnView();\r\n\r\n                    if(message.startsWith(&quot;username&quot;)){\r\n                        if(matchUsers.size() &lt; 6){\r\n                            String user = message.replace(&quot;username;&quot;,&quot;&quot;);\r\n                            if(!matchUsers.contains(user)) {\r\n                                matchUsers.add(user);\r\n                                clientConnection.put(user,conn);\r\n                            }\r\n                            String sending = &quot;matchUsers;&quot; + UsersListToString(matchUsers);\r\n                            conn.send(sending);\r\n                        }\r\n                        else conn.send(&quot;errorUsername&quot;);\r\n                    }\r\n                    else if(message.equals(&quot;timerStart&quot;)){\r\n                        initTimer();\r\n                        if(matchUsers.size() &lt; 6){\r\n                            String sending = &quot;timeStarter;&quot; + timerSeconds.toString();\r\n                            conn.send(sending);\r\n                        }\r\n                        else conn.send(&quot;errorTimer&quot;);\r\n                    }\r\n                    else if(message.equals(&quot;getMatchId&quot;)){\r\n                        if(!matchUsers.isEmpty()){\r\n                            initMatch();\r\n                            matchUsers.clear();\r\n                        }\r\n                        String sending = &quot;matchId;&quot; + matchId.toString();\r\n                        conn.send(sending);\r\n                    }\r\n                    else if(message.startsWith(&quot;inGame&quot;)){\r\n                        String[] fields = message.split(&quot;;&quot;);\r\n                        String matchId = fields[1].split(&quot;=&quot;)[1];\r\n                        int turn = Integer.parseInt(fields[2].split(&quot;=&quot;)[1]);\r\n                        Integer extraction = getExtractedNumber(matchId,turn);\r\n                        fields = null;\r\n                        conn.send(&quot;extracted=&quot; + extraction.toString());\r\n                    }\r\n                    else if(message.startsWith(&quot;score&quot;)){\r\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\r\n                        String score = message.split(&quot;;&quot;)[0].split(&quot;=&quot;)[1];\r\n                        WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\r\n                        String user = &quot;&quot;;\r\n                        Enumeration&lt;String&gt; keys = clientConnection.keys();\r\n                        String key = keys.nextElement();\r\n                        while(!key.isEmpty()){\r\n                            if(clientConnection.get(key) == conn) {\r\n                                user = key;\r\n                                break;\r\n                            }\r\n                            key = keys.nextElement();\r\n                        }\r\n\r\n                        keys = null;\r\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; tmp = users_scorePerMatch.get(matchId);\r\n                        ArrayList&lt;String&gt; tmp_list = tmp.get(user);\r\n                        tmp_list.add(score);\r\n                        tmp.replace(user,tmp_list);\r\n                        users_scorePerMatch.replace(matchId,tmp);\r\n\r\n                        for(int i = 0; i &lt; clients.length; i++){\r\n                            clients[i].send(&quot;statement;&quot; + user + &quot; got &quot; + score + &quot; with&quot;);\r\n                        }\r\n                        clients = null;\r\n                    }\r\n                    else if(message.startsWith(&quot;endMatchData&quot;)){\r\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\r\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; users_ofMatch = users_scorePerMatch.get(matchId);\r\n                        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\r\n                        Enumeration&lt;String&gt; e = users_ofMatch.keys();\r\n\r\n                        while(e.hasMoreElements()){\r\n                            Log.e(&quot;endmatchdata&quot;,&quot;a&quot;);\r\n                            users.add(e.nextElement());\r\n                        }\r\n                        e = null;\r\n                        String sending = &quot;matchEndData;&quot;;\r\n                        for(String user: users) sending += user + &quot;=&quot; + UsersListToString(users_ofMatch.get(user)) + &quot;:&quot;;\r\n                        users_ofMatch = null;\r\n                        conn.send(sending);\r\n                    }\r\n                    else if(message.startsWith(&quot;totalEnd&quot;)){\r\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\r\n                        if(matchClients.get(matchId)!=null) {\r\n                            WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\r\n                            for (WebSocket client : clients) client.close();\r\n                            Enumeration&lt;String&gt; e = clientConnection.keys();\r\n                            boolean exit = false;\r\n                            while (e.hasMoreElements() &amp;&amp; !exit) {\r\n                                Log.e(&quot;totalend&quot;, &quot;while&quot;);\r\n                                for (WebSocket client : clients) {\r\n                                    Log.e(&quot;totalend&quot;, &quot;for&quot;);\r\n                                    String tmp = e.nextElement();\r\n                                    if (clientConnection.get(tmp) == client) {\r\n                                        clientConnection.remove(tmp);\r\n                                        exit = true;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            e = null; clients = null;\r\n                            matchClients.remove(matchId);\r\n                            users_scorePerMatch.remove(matchId);\r\n                            matchExtractedNumbers.remove(matchId);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            thread.start();\r\n        }\r\n        @Override\r\n        public void onMessage(WebSocket conn, ByteBuffer message) {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message );\r\n\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n\r\n        public static void main(String[] args){\r\n        }\r\n        @Override\r\n        public void onError(WebSocket conn, Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        @Override\r\n        public void onStart() {\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Log.i(&quot;WebSocket&quot;, &quot;Server started!&quot;);\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEDIT: The thing seems to be happening at the end of the match(i.e in the message.startsWith(&quot;totalEnd&quot;) or message.startsWith(&quot;endmatchdata&quot;) if cases in the onMessage method\r\n\r\nEDIT 2: I found out that the addOnView function was badly written.\r\nI changed it into \r\n```\r\nprivate static void addOnView(){\r\n        ConstraintLayout cl = binding.logsView;\r\n        Handler h = new Handler(Looper.getMainLooper());\r\n\r\n        final TextView tv = new TextView(binding.getRoot().getContext());\r\n        tv.setTextSize(16);\r\n        tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n        tv.setPadding(40,180*(logs.size()+1),40,0);\r\n        tv.setText(logs.get(logs.size()-1));\r\n        Runnable r = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                cl.addView(tv);\r\n\r\n            }\r\n        };\r\n        h.post(r);\r\n        h = null;\r\n        r = null;\r\n    }\r\n```\r\nAnd it solved.","title":"OutOfMemory Exception in Android-Java. Allocation failed due to fragmentation","body":"<p>So I developed an Android application which acts as a server for my Android game(two separated apps), both applications were written in Java.\nPreviously I got messages on the Log like: &quot;Skipped 2000 frames. The main thread could be overworking&quot;.\nThis is the code of my app, it's made of only the MainActivity:</p>\n<p>I tried to introduce concurrent Threads in order to make the main thread lighter. Now the skipped n frames message isn't showed anymore but messages such like the followings are shown anyways.\n&quot;Alloc concurrent copying GC freed&quot;, &quot;Starting a blocking GC alloc&quot;, &quot;Waiting for a blocking GC alloc&quot;, &quot;WaitForGcToComplete blocked alloc on HeapTrim&quot; and all of this ends with\nThrowing OutOfMemoryError &quot;Failed to allocate a 32 byte allocation with 15604408 free bytes and 14MB until OOM, target footprint 268435456, growth limit 268435456; failed due to fragmentation (largest possible contiguous allocation 0 bytes)&quot; (VmSize 5539048 kB).</p>\n<p>I tried to deallocate some objects (lines of code which contains &quot;x = null&quot;) but it didn't solve. Furthermore I checked with a log if there is some sort of endless loop but it doesn't seem to be the case.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static ActivityMainBinding binding;\n    private WSocServer server;\n    private int port = 8080;\n    private boolean isOnline = false;\n    private static ArrayList&lt;String&gt; logs = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        setSupportActionBar(binding.toolbar);\n\n        binding.openConnection.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(!isOnline) {\n                    isOnline = true;\n                    server = new WSocServer(port);\n                    server.start();\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is on&quot;, Toast.LENGTH_LONG);\n                    toast.show();\n                    Log.i(&quot;WebSocket Server&quot;, &quot;Started on port &quot; + server.getPort());\n                }\n                else{\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already online!&quot;, Snackbar.LENGTH_INDEFINITE);\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            snack.dismiss();\n                        }\n                    });\n                    snack.show();\n                }\n            }\n        });\n\n        binding.closeConnection.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(isOnline) {\n                    isOnline = false;\n                    logs.clear();\n                    Toast toast = Toast.makeText(view.getContext(),&quot;Server is off&quot;, Toast.LENGTH_LONG);\n                    toast.show();\n                    try {\n                        server.stop();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                else{\n                    Snackbar snack = Snackbar.make(view ,&quot;We are already offline!&quot;, Snackbar.LENGTH_INDEFINITE);\n                    snack.setAction(&quot;Got it&quot;, new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            snack.dismiss();\n                        }\n                    });\n                    snack.show();\n                }\n            }\n        });\n    }\n\n    private static void addOnView(){\n        ConstraintLayout cl = binding.logsView;\n        Handler h = new Handler(Looper.getMainLooper());\n        for(int i = 0; i &lt; logs.size(); i++){\n            TextView tv = new TextView(binding.getRoot().getContext());\n            tv.setTextSize(16);\n            tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n            tv.setPadding(40,180*(i+1),40,0);\n            tv.setText(logs.get(i));\n            Runnable r = new Runnable() {\n                @Override\n                public void run() {\n                    cl.addView(tv);\n\n                }\n            };\n            h.post(r);\n        }\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        try {\n            server.stop();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static class WSocServer extends WebSocketServer {\n        private List&lt;String&gt; matchUsers;\n        private Integer timerSeconds;\n        private UUID matchId;\n\n        //a key represents a match to which an array of extracted numbers is associated\n        private Hashtable&lt;String,Integer[]&gt; matchExtractedNumbers = new Hashtable&lt;&gt;();\n        private Hashtable&lt;String, Collection&lt;WebSocket&gt;&gt; matchClients = new Hashtable&lt;&gt;();\n        private Hashtable&lt;String,Hashtable&lt;String,ArrayList&lt;String&gt;&gt;&gt; users_scorePerMatch = new Hashtable&lt;&gt;();\n        private Hashtable&lt;String,WebSocket&gt; clientConnection = new Hashtable&lt;&gt;();\n\n        private void initTimer(){\n            timerSeconds = 60;\n            Timer timer = new Timer();\n            TimerTask task = new TimerTask() {\n                public void run() {\n                    if(timerSeconds &gt; 0) timerSeconds--;\n                    else {\n                        timerSeconds = 60; timer.cancel(); timer.purge();\n                    }\n                }\n            };\n            timer.schedule(task,0L,1000L);\n        }\n\n        private String UsersListToString(List list){\n            return list.toString().replace(&quot;[&quot;,&quot;&quot;).replace(&quot;]&quot;,&quot;&quot;);\n        }\n\n        private Integer[] generateExtractedNumbers(){\n            Integer[] callerBoard = new Integer[90];\n            List&lt;Integer&gt; boardPool = new ArrayList&lt;&gt;();\n            boardPool.addAll(Arrays.asList(IntStream.rangeClosed(1,90).boxed().toArray(Integer[]::new)));\n            for(int i = 0; i &lt; 90; i++){\n                int rng = ThreadLocalRandom.current().nextInt(0,90-i);\n                callerBoard[i] = boardPool.remove(rng);\n            }\n            return callerBoard;\n        }\n\n        private void initMatch(){\n            matchId = UUID.randomUUID();\n            Integer[] matchBoard = generateExtractedNumbers();\n            matchExtractedNumbers.put(matchId.toString(),matchBoard);\n            matchClients.put(matchId.toString(),clientConnection.values());\n            Hashtable&lt;String,ArrayList&lt;String&gt;&gt; matchData = new Hashtable&lt;&gt;();\n            for(String user: matchUsers) matchData.put(user,new ArrayList&lt;&gt;());\n            users_scorePerMatch.put(matchId.toString(), matchData);\n        }\n\n        private Integer getExtractedNumber(String match, Integer turn){\n            if(turn &gt;= 90) return -1;\n            Integer[] thisMatchExtractedNumbers = matchExtractedNumbers.get(match);\n            Integer returning = thisMatchExtractedNumbers[turn];\n            thisMatchExtractedNumbers = null;\n            return returning;\n        }\n\n        \n\n        public WSocServer(int port){\n            super(new InetSocketAddress(port));\n        }\n\n        public WSocServer(InetSocketAddress address) {\n            super(address);\n        }\n\n        @Override\n        public void onOpen(WebSocket conn, ClientHandshake handshake) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket(open)&quot;, conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\n                    logs.add(conn.getRemoteSocketAddress().getAddress().getHostAddress() + &quot; entered the room!&quot;);\n                    matchUsers = new ArrayList&lt;&gt;();\n                    matchUsers.addAll(Arrays.asList(&quot;user1&quot;,&quot;user2&quot;,&quot;user3&quot;,&quot;user4&quot;,&quot;user5&quot;));\n                }\n            });\n            thread.start();\n        }\n\n        @Override\n        public void onClose(WebSocket conn, int code, String reason, boolean remote) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket(close)&quot;, conn + &quot; has left the room! Reason: &quot; + reason);\n                    logs.add(conn + &quot; has left the room!&quot;);\n                }\n            });\n            thread.start();\n        }\n\n        @Override\n        public void onMessage(WebSocket conn, String message) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    logs.add(message + &quot; from &quot; + conn.getRemoteSocketAddress().getAddress().getHostAddress());\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message);\n                    MainActivity.addOnView();\n\n                    if(message.startsWith(&quot;username&quot;)){\n                        if(matchUsers.size() &lt; 6){\n                            String user = message.replace(&quot;username;&quot;,&quot;&quot;);\n                            if(!matchUsers.contains(user)) {\n                                matchUsers.add(user);\n                                clientConnection.put(user,conn);\n                            }\n                            String sending = &quot;matchUsers;&quot; + UsersListToString(matchUsers);\n                            conn.send(sending);\n                        }\n                        else conn.send(&quot;errorUsername&quot;);\n                    }\n                    else if(message.equals(&quot;timerStart&quot;)){\n                        initTimer();\n                        if(matchUsers.size() &lt; 6){\n                            String sending = &quot;timeStarter;&quot; + timerSeconds.toString();\n                            conn.send(sending);\n                        }\n                        else conn.send(&quot;errorTimer&quot;);\n                    }\n                    else if(message.equals(&quot;getMatchId&quot;)){\n                        if(!matchUsers.isEmpty()){\n                            initMatch();\n                            matchUsers.clear();\n                        }\n                        String sending = &quot;matchId;&quot; + matchId.toString();\n                        conn.send(sending);\n                    }\n                    else if(message.startsWith(&quot;inGame&quot;)){\n                        String[] fields = message.split(&quot;;&quot;);\n                        String matchId = fields[1].split(&quot;=&quot;)[1];\n                        int turn = Integer.parseInt(fields[2].split(&quot;=&quot;)[1]);\n                        Integer extraction = getExtractedNumber(matchId,turn);\n                        fields = null;\n                        conn.send(&quot;extracted=&quot; + extraction.toString());\n                    }\n                    else if(message.startsWith(&quot;score&quot;)){\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\n                        String score = message.split(&quot;;&quot;)[0].split(&quot;=&quot;)[1];\n                        WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\n                        String user = &quot;&quot;;\n                        Enumeration&lt;String&gt; keys = clientConnection.keys();\n                        String key = keys.nextElement();\n                        while(!key.isEmpty()){\n                            if(clientConnection.get(key) == conn) {\n                                user = key;\n                                break;\n                            }\n                            key = keys.nextElement();\n                        }\n\n                        keys = null;\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; tmp = users_scorePerMatch.get(matchId);\n                        ArrayList&lt;String&gt; tmp_list = tmp.get(user);\n                        tmp_list.add(score);\n                        tmp.replace(user,tmp_list);\n                        users_scorePerMatch.replace(matchId,tmp);\n\n                        for(int i = 0; i &lt; clients.length; i++){\n                            clients[i].send(&quot;statement;&quot; + user + &quot; got &quot; + score + &quot; with&quot;);\n                        }\n                        clients = null;\n                    }\n                    else if(message.startsWith(&quot;endMatchData&quot;)){\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\n                        Hashtable&lt;String,ArrayList&lt;String&gt;&gt; users_ofMatch = users_scorePerMatch.get(matchId);\n                        ArrayList&lt;String&gt; users = new ArrayList&lt;&gt;();\n                        Enumeration&lt;String&gt; e = users_ofMatch.keys();\n\n                        while(e.hasMoreElements()){\n                            Log.e(&quot;endmatchdata&quot;,&quot;a&quot;);\n                            users.add(e.nextElement());\n                        }\n                        e = null;\n                        String sending = &quot;matchEndData;&quot;;\n                        for(String user: users) sending += user + &quot;=&quot; + UsersListToString(users_ofMatch.get(user)) + &quot;:&quot;;\n                        users_ofMatch = null;\n                        conn.send(sending);\n                    }\n                    else if(message.startsWith(&quot;totalEnd&quot;)){\n                        String matchId = message.split(&quot;;&quot;)[1].split(&quot;=&quot;)[1];\n                        if(matchClients.get(matchId)!=null) {\n                            WebSocket[] clients = matchClients.get(matchId).toArray(new WebSocket[0]);\n                            for (WebSocket client : clients) client.close();\n                            Enumeration&lt;String&gt; e = clientConnection.keys();\n                            boolean exit = false;\n                            while (e.hasMoreElements() &amp;&amp; !exit) {\n                                Log.e(&quot;totalend&quot;, &quot;while&quot;);\n                                for (WebSocket client : clients) {\n                                    Log.e(&quot;totalend&quot;, &quot;for&quot;);\n                                    String tmp = e.nextElement();\n                                    if (clientConnection.get(tmp) == client) {\n                                        clientConnection.remove(tmp);\n                                        exit = true;\n                                        break;\n                                    }\n                                }\n                            }\n                            e = null; clients = null;\n                            matchClients.remove(matchId);\n                            users_scorePerMatch.remove(matchId);\n                            matchExtractedNumbers.remove(matchId);\n                        }\n                    }\n                }\n            });\n\n            thread.start();\n        }\n        @Override\n        public void onMessage(WebSocket conn, ByteBuffer message) {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket(message)&quot;, conn + &quot;: &quot; + message );\n\n                }\n            });\n            thread.start();\n        }\n\n        public static void main(String[] args){\n        }\n        @Override\n        public void onError(WebSocket conn, Exception ex) {\n            ex.printStackTrace();\n        }\n\n        @Override\n        public void onStart() {\n            Thread thread = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    Log.i(&quot;WebSocket&quot;, &quot;Server started!&quot;);\n                }\n            });\n            thread.start();\n        }\n    }\n}\n</code></pre>\n<p>EDIT: The thing seems to be happening at the end of the match(i.e in the message.startsWith(&quot;totalEnd&quot;) or message.startsWith(&quot;endmatchdata&quot;) if cases in the onMessage method</p>\n<p>EDIT 2: I found out that the addOnView function was badly written.\nI changed it into</p>\n<pre><code>private static void addOnView(){\n        ConstraintLayout cl = binding.logsView;\n        Handler h = new Handler(Looper.getMainLooper());\n\n        final TextView tv = new TextView(binding.getRoot().getContext());\n        tv.setTextSize(16);\n        tv.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n        tv.setPadding(40,180*(logs.size()+1),40,0);\n        tv.setText(logs.get(logs.size()-1));\n        Runnable r = new Runnable() {\n            @Override\n            public void run() {\n                cl.addView(tv);\n\n            }\n        };\n        h.post(r);\n        h = null;\n        r = null;\n    }\n</code></pre>\n<p>And it solved.</p>\n"},{"tags":["java","mysql","sql","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":2544161,"reputation":1883,"user_id":2350344,"accept_rate":40,"display_name":"eleuteron"},"score":7,"creation_date":1575451165,"post_id":21349959,"comment_id":104567308,"body_markdown":"Just to clarify: &quot;SELECT ad.ASCID AS AD_ASCID, cu.ASCID AS CU_ASCID ...&quot; should work.","body":"Just to clarify: &quot;SELECT ad.ASCID AS AD_ASCID, cu.ASCID AS CU_ASCID ...&quot; should work."}],"tags":[],"owner":{"account_id":2435137,"reputation":674,"user_id":2125234,"accept_rate":80,"display_name":"Ashish Mohan"},"comment_count":1,"down_vote_count":1,"up_vote_count":57,"is_accepted":true,"score":56,"last_activity_date":1390649447,"creation_date":1390649447,"answer_id":21349959,"question_id":21348177,"body_markdown":"CREDENTIAL_USER { ASC_ID, name, ITEM}, CREDENTIAL_USER { MONTH, YEAR, ASC_ID} \r\nboth contain ASC_ID so ASC_ID becomes ambiguous in select query.\r\nSelect your data column wise and give separate alias for each column","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>CREDENTIAL_USER { ASC_ID, name, ITEM}, CREDENTIAL_USER { MONTH, YEAR, ASC_ID} \nboth contain ASC_ID so ASC_ID becomes ambiguous in select query.\nSelect your data column wise and give separate alias for each column</p>\n"},{"tags":[],"owner":{"account_id":4195407,"reputation":456,"user_id":3436941,"accept_rate":75,"display_name":"Khasan 24-7"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1613967309,"creation_date":1480168662,"answer_id":40819095,"question_id":21348177,"body_markdown":"When using coalesce for the first time, I also run into this problem. I have solved it by writing:\r\n\r\n    ...\r\n    coalesce(column_name, &#39;default_value&#39;) as key_word,\r\n    ...\r\n\r\nin my query. \r\n\r\nAdding just coalesce(column_name, &#39;default_value&#39;), creates several values with alias `coalesce` and this error occurs.","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>When using coalesce for the first time, I also run into this problem. I have solved it by writing:</p>\n<pre><code>...\ncoalesce(column_name, 'default_value') as key_word,\n...\n</code></pre>\n<p>in my query.</p>\n<p>Adding just coalesce(column_name, 'default_value'), creates several values with alias <code>coalesce</code> and this error occurs.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674108140,"post_id":75150037,"comment_id":132645427,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75150037/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18018725,"reputation":1,"user_id":13096548,"display_name":"Саша Стрельцов"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673976127,"creation_date":1673976101,"answer_id":75150037,"question_id":21348177,"body_markdown":"If you write a query in JpaRepository, then you need to move the query and the method to the repository, which returns this object in your generic","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>If you write a query in JpaRepository, then you need to move the query and the method to the repository, which returns this object in your generic</p>\n"}],"owner":{"account_id":1940935,"reputation":1396,"user_id":1747165,"accept_rate":44,"display_name":"Avinash Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84575,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":21349959,"answer_count":3,"score":35,"last_activity_date":1673976127,"creation_date":1390636824,"question_id":21348177,"body_markdown":"I have three tables `CREDENTIAL_USER`, `CREDENTIAL_EXPIRATION` and `ASC_DETAILS` - whose looks like :\r\n\r\n`CREDENTIAL_USER { ASC_ID, name, ITEM}`, `CREDENTIAL_USER { MONTH, YEAR, ASC_ID}` and  `ASC_DETAILS {ASCID, NAME, ROLE}.` \r\n\r\nI executed a simple native SQL join to select only CREDENTIAL_USER.ASC_ID and ASC_DETAAILS.ASCID as :\r\n\r\n    Query query = entityManager.createNativeQuery(&quot;SELECT ad.ASCID,ad.NAME,ad.CRED_EMPLOYEE_FNAME,ad.CRED_EMPLOYEE_LNAME,ad.CRED_EMPLOYEE_EMAIL,ad.CRED_EMPLOYEE_REMINDER,&quot;+\r\n                                  &quot; cu.*, ce.*, cl.* FROM ASC_DETAILS ad,CREDENTIAL_USER cu, CREDENTIAL_EXPIRATION ce, CREDENTIAL_LICENSE cl WHERE&quot;+ \r\n                                  &quot; cu.IS_CRD_EMPLOYEE = true AND cl.IS_EMPLOYEE = true AND  ce.LICENSE_ID = cl.LICENSE_ID  AND cu.ASC_ID=ad.ASCID&quot;+ \r\n                                  &quot; AND ce.LICENSE_EXP_YR &gt;= &quot;+year+&quot; AND (ce.IS_LICENSE_YES=1 OR ce.IS_LICENSE_YES=3) AND cu.ASC_ID=ce.ASC_ID AND&quot;+\r\n                                  &quot; cu.ID=ce.EMPLOYEE_ID&quot;);\r\n\t\t         List&lt;Object[]&gt; list = query.getResultList();\r\n\r\nIts running fine on local, But getting `org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query` \r\n\r\nexception on `JBoss` server\r\n\r\n**Stack-trace :**\r\n\r\n    23:30:00,300 ERROR [stderr] (pool-10-thread-1) javax.persistence.PersistenceException: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\r\n    23:30:00,301 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361)\r\n    23:30:00,302 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289)\r\n    23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:261)\r\n    23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\r\n    23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:310)\r\n    23:30:00,306 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy42.getResultList(Unknown Source)\r\n     23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at com.asc.dao.UserDAO.getPendingNotificationCredEmployee(UserDAO.java:991)\r\n    23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\r\n    23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\r\n    23:30:00,310 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:196)\r\n    23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy34.getPendingNotificationCredEmployee(Unknown Source)\r\n    23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService.getPendingNotificationCredEmployee(UserService.java:2661)\r\n    23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$FastClassByCGLIB$$de8fbe27.invoke(&lt;generated&gt;)\r\n    23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    23:30:00,313 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:617)\r\n    23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$EnhancerByCGLIB$$d2e7fa8d.getPendingNotificationCredEmployee(&lt;generated&gt;)\r\n    23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.ExpirationNotificationService.sendAlertToAdmin(ExpirationNotificationService.java:47)\r\n    23:30:00,315 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\r\n    23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:273)\r\n    23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.MethodInvokingRunnable.run(MethodInvokingRunnable.java:65)\r\n    23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:51)\r\n    23:30:00,319 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n    23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n    23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n    23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n    23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:165)\r\n    23:30:00,322 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:266)\r\n    23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\r\n    23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    23:30:00,324 ERROR [stderr] (pool-10-thread-1)  at java.lang.Thread.run(Thread.java:679)\r\n    23:30:00,325 ERROR [stderr] (pool-10-thread-1) Caused by: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\r\n    23:30:00,326 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:594)\r\n","title":"NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query","body":"<p>I have three tables <code>CREDENTIAL_USER</code>, <code>CREDENTIAL_EXPIRATION</code> and <code>ASC_DETAILS</code> - whose looks like :</p>\n\n<p><code>CREDENTIAL_USER { ASC_ID, name, ITEM}</code>, <code>CREDENTIAL_USER { MONTH, YEAR, ASC_ID}</code> and  <code>ASC_DETAILS {ASCID, NAME, ROLE}.</code> </p>\n\n<p>I executed a simple native SQL join to select only CREDENTIAL_USER.ASC_ID and ASC_DETAAILS.ASCID as :</p>\n\n<pre><code>Query query = entityManager.createNativeQuery(\"SELECT ad.ASCID,ad.NAME,ad.CRED_EMPLOYEE_FNAME,ad.CRED_EMPLOYEE_LNAME,ad.CRED_EMPLOYEE_EMAIL,ad.CRED_EMPLOYEE_REMINDER,\"+\n                              \" cu.*, ce.*, cl.* FROM ASC_DETAILS ad,CREDENTIAL_USER cu, CREDENTIAL_EXPIRATION ce, CREDENTIAL_LICENSE cl WHERE\"+ \n                              \" cu.IS_CRD_EMPLOYEE = true AND cl.IS_EMPLOYEE = true AND  ce.LICENSE_ID = cl.LICENSE_ID  AND cu.ASC_ID=ad.ASCID\"+ \n                              \" AND ce.LICENSE_EXP_YR &gt;= \"+year+\" AND (ce.IS_LICENSE_YES=1 OR ce.IS_LICENSE_YES=3) AND cu.ASC_ID=ce.ASC_ID AND\"+\n                              \" cu.ID=ce.EMPLOYEE_ID\");\n             List&lt;Object[]&gt; list = query.getResultList();\n</code></pre>\n\n<p>Its running fine on local, But getting <code>org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query</code> </p>\n\n<p>exception on <code>JBoss</code> server</p>\n\n<p><strong>Stack-trace :</strong></p>\n\n<pre><code>23:30:00,300 ERROR [stderr] (pool-10-thread-1) javax.persistence.PersistenceException: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\n23:30:00,301 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1361)\n23:30:00,302 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1289)\n23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:261)\n23:30:00,303 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n23:30:00,304 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\n23:30:00,305 ERROR [stderr] (pool-10-thread-1)  at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:310)\n23:30:00,306 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy42.getResultList(Unknown Source)\n 23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at com.asc.dao.UserDAO.getPendingNotificationCredEmployee(UserDAO.java:991)\n23:30:00,307 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n23:30:00,308 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\n23:30:00,309 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)\n23:30:00,310 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:196)\n23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at sun.proxy.$Proxy34.getPendingNotificationCredEmployee(Unknown Source)\n23:30:00,311 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService.getPendingNotificationCredEmployee(UserService.java:2661)\n23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$FastClassByCGLIB$$de8fbe27.invoke(&lt;generated&gt;)\n23:30:00,312 ERROR [stderr] (pool-10-thread-1)  at net.sf.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n23:30:00,313 ERROR [stderr] (pool-10-thread-1)  at org.springframework.aop.framework.Cglib2AopProxy$DynamicAdvisedInterceptor.intercept(Cglib2AopProxy.java:617)\n23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.UserService$$EnhancerByCGLIB$$d2e7fa8d.getPendingNotificationCredEmployee(&lt;generated&gt;)\n23:30:00,314 ERROR [stderr] (pool-10-thread-1)  at com.asc.service.ExpirationNotificationService.sendAlertToAdmin(ExpirationNotificationService.java:47)\n23:30:00,315 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n23:30:00,316 ERROR [stderr] (pool-10-thread-1)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at java.lang.reflect.Method.invoke(Method.java:616)\n23:30:00,317 ERROR [stderr] (pool-10-thread-1)  at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:273)\n23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.MethodInvokingRunnable.run(MethodInvokingRunnable.java:65)\n23:30:00,318 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:51)\n23:30:00,319 ERROR [stderr] (pool-10-thread-1)  at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n23:30:00,320 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n23:30:00,321 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:165)\n23:30:00,322 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:266)\n23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\n23:30:00,323 ERROR [stderr] (pool-10-thread-1)  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n23:30:00,324 ERROR [stderr] (pool-10-thread-1)  at java.lang.Thread.run(Thread.java:679)\n23:30:00,325 ERROR [stderr] (pool-10-thread-1) Caused by: org.hibernate.loader.custom.NonUniqueDiscoveredSqlAliasException: Encountered a duplicated sql alias [ASC_ID] during auto-discovery of a native-sql query\n23:30:00,326 ERROR [stderr] (pool-10-thread-1)  at org.hibernate.loader.custom.CustomLoader.autoDiscoverTypes(CustomLoader.java:594)\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1550050985,"post_id":54665464,"comment_id":96124185,"body_markdown":"As an aside consider throwing away the long outmoded and notoriously troublesome `SimpleDateFormat` and friends, and adding [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) to your Android project in order to use `java.time`, the modern Java date and time API. It is so much nicer to work with.","body":"As an aside consider throwing away the long outmoded and notoriously troublesome <code>SimpleDateFormat</code> and friends, and adding <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> to your Android project in order to use <code>java.time</code>, the modern Java date and time API. It is so much nicer to work with."}],"answers":[{"tags":[],"owner":{"account_id":8107521,"reputation":1644,"user_id":6108601,"accept_rate":75,"display_name":"Vygintas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550046739,"creation_date":1550046739,"answer_id":54665649,"question_id":54665464,"body_markdown":"One of possible solutions would be to make your first point hold 0 value.\r\n\r\n Basically you need subtract start_timestamp from every new x value of `Entry` so chart will be started from 0 value and not of timestamp.\r\n\r\n**For example**.\r\n\r\nLet&#39;s assume `start_timestamp` variable holds your first timestamp of datapoints.\r\n\r\nTo add new entry use:\r\n\r\n`SensorData.add(new Entry(readingDate - start_timestamp, 1.5);`\r\n\r\n\r\nTo format x value you just add start_timestamp to provided x value.","title":"MPAndroid Date Formatting and Parsing Loses Precision","body":"<p>One of possible solutions would be to make your first point hold 0 value.</p>\n\n<p>Basically you need subtract start_timestamp from every new x value of <code>Entry</code> so chart will be started from 0 value and not of timestamp.</p>\n\n<p><strong>For example</strong>.</p>\n\n<p>Let's assume <code>start_timestamp</code> variable holds your first timestamp of datapoints.</p>\n\n<p>To add new entry use:</p>\n\n<p><code>SensorData.add(new Entry(readingDate - start_timestamp, 1.5);</code></p>\n\n<p>To format x value you just add start_timestamp to provided x value.</p>\n"},{"tags":[],"owner":{"account_id":8665143,"reputation":350,"user_id":6485987,"display_name":"T77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673975817,"creation_date":1663267830,"answer_id":73736080,"question_id":54665464,"body_markdown":"Detailing the great Vygintas B&#39;s solution:\r\n```java\r\nprivate static long timestampStart = 0;\r\n...\r\nfor loop-to-fill-dataset {\r\n  if (MyClass.timestampStart == 0)\r\n    MyClass.timestampStart = readingDate;  // the timestamp/epoch\r\n  readingDate -= MyClass.timestampStart;  // first one will be 0 (following ones, the difference to zeroed)\r\n  // and then add to Entry(readingDate, y_value)\r\n...\r\n\r\nprivate class XAxisValueFormatter ... {\r\n@Override\r\npublic String getFormattedValue(final float value) {\r\n  final long timestamp = (long)value + MyClass.timestampStart;\r\n  ...\r\n```","title":"MPAndroid Date Formatting and Parsing Loses Precision","body":"<p>Detailing the great Vygintas B's solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static long timestampStart = 0;\n...\nfor loop-to-fill-dataset {\n  if (MyClass.timestampStart == 0)\n    MyClass.timestampStart = readingDate;  // the timestamp/epoch\n  readingDate -= MyClass.timestampStart;  // first one will be 0 (following ones, the difference to zeroed)\n  // and then add to Entry(readingDate, y_value)\n...\n\nprivate class XAxisValueFormatter ... {\n@Override\npublic String getFormattedValue(final float value) {\n  final long timestamp = (long)value + MyClass.timestampStart;\n  ...\n</code></pre>\n"}],"owner":{"account_id":14234377,"reputation":43,"user_id":10282591,"display_name":"TheChosenWan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54665649,"answer_count":2,"score":0,"last_activity_date":1673975817,"creation_date":1550045980,"question_id":54665464,"body_markdown":"I&#39;m using the MPAndroid library for the graph of my android app. I have a long value inputted to the entry. My problem is that when I format the values of x axis, it uses float value instead of long so it loses precision.\r\n\r\nHere is my code for the entry to the graph:\r\n\r\n    String dateString = &quot;02/13/2019(11:23:45)&quot;;\r\n    long readingDate = 0;\r\n    try {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy(kk:mm:ss)&quot;, Locale.US);\r\n        Date date = sdf.parse(dateString);\r\n        readingDate = date.getTime();\r\n        } catch (ParseException e) {\r\n             e.printStackTrace();\r\n        }\r\n    SensorData.add(new Entry(readingDate, 1.5);\r\n\r\nHere is my code for formatting the x axis:\r\n\r\n    private class XAxisValueFormatter implements IAxisValueFormatter {\r\n\r\n        @Override\r\n        public String getFormattedValue(float value, AxisBase axis) {\r\n            String dateString = new SimpleDateFormat(&quot;MM/dd/yyyy(kk:mm:ss)&quot;, Locale.US).format(value);\r\n            return dateString;\r\n        }\r\n    }\r\n\r\nHow can I fix this problem?","title":"MPAndroid Date Formatting and Parsing Loses Precision","body":"<p>I'm using the MPAndroid library for the graph of my android app. I have a long value inputted to the entry. My problem is that when I format the values of x axis, it uses float value instead of long so it loses precision.</p>\n\n<p>Here is my code for the entry to the graph:</p>\n\n<pre><code>String dateString = \"02/13/2019(11:23:45)\";\nlong readingDate = 0;\ntry {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"MM/dd/yyyy(kk:mm:ss)\", Locale.US);\n    Date date = sdf.parse(dateString);\n    readingDate = date.getTime();\n    } catch (ParseException e) {\n         e.printStackTrace();\n    }\nSensorData.add(new Entry(readingDate, 1.5);\n</code></pre>\n\n<p>Here is my code for formatting the x axis:</p>\n\n<pre><code>private class XAxisValueFormatter implements IAxisValueFormatter {\n\n    @Override\n    public String getFormattedValue(float value, AxisBase axis) {\n        String dateString = new SimpleDateFormat(\"MM/dd/yyyy(kk:mm:ss)\", Locale.US).format(value);\n        return dateString;\n    }\n}\n</code></pre>\n\n<p>How can I fix this problem?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672639703,"post_id":74977308,"comment_id":132316616,"body_markdown":"Can you please share application.properties file","body":"Can you please share application.properties file"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672640557,"post_id":74977308,"comment_id":132316749,"body_markdown":"I have added it now. Please check","body":"I have added it now. Please check"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672674198,"post_id":74977308,"comment_id":132324900,"body_markdown":"If possible can you please share your code in some repo for debugging?","body":"If possible can you please share your code in some repo for debugging?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672771610,"post_id":74977308,"comment_id":132348001,"body_markdown":"Thanks for sharing the code, please read my answer to know the fix.","body":"Thanks for sharing the code, please read my answer to know the fix."}],"answers":[{"comments":[{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672773257,"post_id":74997498,"comment_id":132348455,"body_markdown":"Thank You for pointing out the mistakes. I made the necessary changes and ran the application. I think it worked but now am getting following errors-  org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 2 in resource=[class path resource [records.csv]], input=[╩L1Xk?7&#228;┴x&#186;C╗≤╖┴1∩&#242;J‼┤&#233;l!B|◄]\n        at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n        at","body":"Thank You for pointing out the mistakes. I made the necessary changes and ran the application. I think it worked but now am getting following errors-  org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 2 in resource=[class path resource [records.csv]], input=[╩L1Xk?7&#228;┴x&#186;C╗≤╖┴1∩&#242;J‼┤&#233;l!B|◄]         at org.springframework.batch.item.file.FlatFileItemReader.doRea&zwnj;&#8203;d(FlatFileItemReader&zwnj;&#8203;.java:189) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]         at"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":1,"creation_date":1672773809,"post_id":74997498,"comment_id":132348587,"body_markdown":"Yes, this is valid error. Make sure file that you are trying to read is present at correct location","body":"Yes, this is valid error. Make sure file that you are trying to read is present at correct location"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672845078,"post_id":74997498,"comment_id":132365021,"body_markdown":"I hope your issue resolved now?","body":"I hope your issue resolved now?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672942110,"post_id":74997498,"comment_id":132392168,"body_markdown":"I checked the location but getting the same error. My excel file has following fields- (Excel Sheet Column No. : Column Name)- (A:S.No., B:Roll No., C:Name of the Student: D: Personal Email ID, E: Email ID , F: MOBILE NO). Also, the resources.csv is placed in the resources folder.","body":"I checked the location but getting the same error. My excel file has following fields- (Excel Sheet Column No. : Column Name)- (A:S.No., B:Roll No., C:Name of the Student: D: Personal Email ID, E: Email ID , F: MOBILE NO). Also, the resources.csv is placed in the resources folder."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1672947085,"post_id":74997498,"comment_id":132393589,"body_markdown":"Please check this, I am facing this problem","body":"Please check this, I am facing this problem"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1673024696,"post_id":74997498,"comment_id":132411785,"body_markdown":"Ok as this is different error so I suggest you to ask this in another question so that it help others as well.","body":"Ok as this is different error so I suggest you to ask this in another question so that it help others as well."}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672772129,"creation_date":1672771583,"answer_id":74997498,"question_id":74977308,"body_markdown":"I have analysed your code, Here are my findings.\r\n\r\n1. Found some issues in ```BatchConfig``` class. You are using ```new JobBuilder()```, ```new StepBuilder()``` while creating Job and Step. The right way is to use ```JobBuilderFactory```, ```StepBuilderFactory```.\r\n2. I can see entity class (user) name is in lower, It should be in camelcase (User). \r\n\r\n*PS: I tested with PostgreSQL database using these properties but I am sure it will work with MySQL database as well*\r\n\r\n**application.properties**\r\n\r\n```\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/batch_db\r\nspring.datasource.username=root\r\nspring.datasource.password=admin\r\n#show the queries in the console\r\nspring.jpa.show-sql=true\r\n#to format the queries for readability\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nserver.port=8081\r\nspring.batch.jdbc.initialize-schema=always\r\n#spring.batch.job.enabled=false\r\n#to initalize the tables\r\n\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ayushsingh&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring_boot_batch_demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring_boot_batch_demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\t  \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;!--\t\t&lt;dependency&gt;--&gt;\r\n&lt;!--\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;--&gt;\r\n&lt;!--\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**BatchConfig**\r\n\r\n```\r\npackage com.ayushsingh.spring_boot_batch_demo.config;\r\n\r\nimport com.ayushsingh.spring_boot_batch_demo.entities.User;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\r\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\r\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\r\nimport org.springframework.batch.item.file.FlatFileItemReader;\r\nimport org.springframework.batch.item.file.LineMapper;\r\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\r\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\r\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\n\r\nimport javax.sql.DataSource;\r\n\r\n@Configuration //this is important- enables batch processing in the project\r\n@EnableBatchProcessing\r\npublic class BatchConfig {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;User&gt; reader(){\r\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\r\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\r\n        reader.setLinesToSkip(1); // skip lines when error occurs\r\n        return reader;\r\n    }\r\n    private LineMapper&lt;User&gt; getLineMapper() {\r\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\r\n\r\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;SMVDU Email ID&quot;,&quot;MOBILE NO&quot;});\r\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\r\n\r\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\r\n        fieldSetMapper.setTargetType(User.class);\r\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\r\n        lineMapper.setFieldSetMapper(fieldSetMapper);\r\n\r\n        return lineMapper;\r\n    }\r\n    @Bean\r\n    public UserItemProcessor processor(){\r\n        return new UserItemProcessor();\r\n    }\r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\r\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\r\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\r\n        writer.setDataSource(dataSource);\r\n        return writer;\r\n    }\r\n\r\n\r\n\r\n    @Bean \r\n    public Job importUserJob(){\r\n\r\n        return jobBuilderFactory.get(&quot;USER_IMPORT_JOB&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .flow(step1())\r\n        .end()\r\n        .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(){\r\n        return stepBuilderFactory.get(&quot;Step 1&quot;)\r\n        .&lt;User,User&gt;chunk(5)\r\n        .reader(reader())\r\n        .writer(writer())\r\n        .build();\r\n    }\r\n}\r\n\r\n```","title":"Problem in Building Spring Boot Batch Application: Spring Boot","body":"<p>I have analysed your code, Here are my findings.</p>\n<ol>\n<li>Found some issues in <code>BatchConfig</code> class. You are using <code>new JobBuilder()</code>, <code>new StepBuilder()</code> while creating Job and Step. The right way is to use <code>JobBuilderFactory</code>, <code>StepBuilderFactory</code>.</li>\n<li>I can see entity class (user) name is in lower, It should be in camelcase (User).</li>\n</ol>\n<p><em>PS: I tested with PostgreSQL database using these properties but I am sure it will work with MySQL database as well</em></p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/batch_db\nspring.datasource.username=root\nspring.datasource.password=admin\n#show the queries in the console\nspring.jpa.show-sql=true\n#to format the queries for readability\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nserver.port=8081\nspring.batch.jdbc.initialize-schema=always\n#spring.batch.job.enabled=false\n#to initalize the tables\n\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ayushsingh&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_boot_batch_demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring_boot_batch_demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;com.mysql&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>BatchConfig</strong></p>\n<pre><code>package com.ayushsingh.spring_boot_batch_demo.config;\n\nimport com.ayushsingh.spring_boot_batch_demo.entities.User;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.support.RunIdIncrementer;\nimport org.springframework.batch.item.database.BeanPropertyItemSqlParameterSourceProvider;\nimport org.springframework.batch.item.database.JdbcBatchItemWriter;\nimport org.springframework.batch.item.file.FlatFileItemReader;\nimport org.springframework.batch.item.file.LineMapper;\nimport org.springframework.batch.item.file.mapping.BeanWrapperFieldSetMapper;\nimport org.springframework.batch.item.file.mapping.DefaultLineMapper;\nimport org.springframework.batch.item.file.transform.DelimitedLineTokenizer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\n\nimport javax.sql.DataSource;\n\n@Configuration //this is important- enables batch processing in the project\n@EnableBatchProcessing\npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader(){\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\n        reader.setLinesToSkip(1); // skip lines when error occurs\n        return reader;\n    }\n    private LineMapper&lt;User&gt; getLineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\n\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;SMVDU Email ID&quot;,&quot;MOBILE NO&quot;});\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n    @Bean\n    public UserItemProcessor processor(){\n        return new UserItemProcessor();\n    }\n    @Bean\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\n        writer.setDataSource(dataSource);\n        return writer;\n    }\n\n\n\n    @Bean \n    public Job importUserJob(){\n\n        return jobBuilderFactory.get(&quot;USER_IMPORT_JOB&quot;)\n        .incrementer(new RunIdIncrementer())\n        .flow(step1())\n        .end()\n        .build();\n    }\n\n    @Bean\n    public Step step1(){\n        return stepBuilderFactory.get(&quot;Step 1&quot;)\n        .&lt;User,User&gt;chunk(5)\n        .reader(reader())\n        .writer(writer())\n        .build();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74997498,"answer_count":1,"score":0,"last_activity_date":1673975732,"creation_date":1672606055,"question_id":74977308,"body_markdown":"I am building a Spring Boot application (version 2.7.7) to dump data from .csv to MySQL db. I am getting several exceptions on building the project.  \r\n**application.properties-**\r\n```\r\nspring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://localhost:3306/batch_db\r\nspring.datasource.username=hbstudent\r\nspring.datasource.password=hbstudent\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\nserver.port=8081\r\n\r\nspring.batch.jdbc.initialize-schema=always \r\n#to initalize the tables\r\n```\r\n**Batch Configuration-**\r\n```\r\n@Configuration\r\n@EnableBatchProcessing \r\npublic class BatchConfig {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;User&gt; reader(){\r\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\r\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\r\n        reader.setLinesToSkip(1); // skip lines when error occurs\r\n        return reader;\r\n    }\r\n    private LineMapper&lt;User&gt; getLineMapper() {\r\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\r\n\r\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;Email ID&quot;,&quot;MOBILE NO&quot;});\r\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\r\n\r\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\r\n        fieldSetMapper.setTargetType(User.class);\r\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\r\n        lineMapper.setFieldSetMapper(fieldSetMapper);\r\n\r\n        return lineMapper;\r\n    }\r\n    @Bean\r\n    public UserItemProcessor processor(){\r\n        return new UserItemProcessor();\r\n    }\r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\r\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\r\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\r\n        writer.setDataSource(dataSource);\r\n        return writer;\r\n    }\r\n\r\n    @Bean \r\n    public Job importUserJob(){\r\n\r\n        return new JobBuilder(&quot;USER_IMPORT_JOB&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .flow(step1())\r\n        .end()\r\n        .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(){\r\n        return new StepBuilder(&quot;Step 1&quot;)\r\n        .&lt;User,User&gt;chunk(5)\r\n        .reader(reader())\r\n        .writer(writer())\r\n        .build();\r\n    }\r\n}\r\n```\r\n\r\nOn building the project I am getting the following exceptions-\r\n```\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:609) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:110) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at java.base/java.util.ArrayList.forEach(Unknown Source) ~[na:na]\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:192) ~[spring-context-5.3.24.jar:5.3.24]     \r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]  \r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication.main(SpringBootBatchDemoApplication.java:10) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\r\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:225) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:371) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:271) ~[spring-context-5.3.24.jar:5.3.24]\r\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.399) ~[spring-context-5.3.24.jar:5.3.24]\r\n        ... 24 common frames omittedCaused by: java.lang.IllegalArgumentException: No enum constant org.springframework.boot.sql.init.DatabaseInitializationMode.ALWAYS\r\n        at java.base/java.lang.Enum.valueOf(Unknown Source) ~[na:na]\r\n        at org.springframework.boot.sql.init.DatabaseInitializationMode.valueOf(DatabaseInitializationMode.java:26) ~[spring-boot-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getDatabaseInitializationMode(OnDatabaseInitializationCondition.java:75) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getMatchOutcome(OnDatabaseInitializationCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n        ... 30 common frames omitted\r\n\r\n```\r\nFor referred several other posts which stated versioning problem, but it didn&#39;t help.\r\nI cannot find the problem with the code, can somebody help me?","title":"Problem in Building Spring Boot Batch Application: Spring Boot","body":"<p>I am building a Spring Boot application (version 2.7.7) to dump data from .csv to MySQL db. I am getting several exceptions on building the project.<br />\n<strong>application.properties-</strong></p>\n<pre><code>spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/batch_db\nspring.datasource.username=hbstudent\nspring.datasource.password=hbstudent\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.globally_quoted_identifiers=true\nserver.port=8081\n\nspring.batch.jdbc.initialize-schema=always \n#to initalize the tables\n</code></pre>\n<p><strong>Batch Configuration-</strong></p>\n<pre><code>@Configuration\n@EnableBatchProcessing \npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader(){\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;records.csv&quot;));\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\n        reader.setLinesToSkip(1); // skip lines when error occurs\n        return reader;\n    }\n    private LineMapper&lt;User&gt; getLineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\n\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;Email ID&quot;,&quot;MOBILE NO&quot;});\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n    @Bean\n    public UserItemProcessor processor(){\n        return new UserItemProcessor();\n    }\n    @Bean\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\n        writer.setDataSource(dataSource);\n        return writer;\n    }\n\n    @Bean \n    public Job importUserJob(){\n\n        return new JobBuilder(&quot;USER_IMPORT_JOB&quot;)\n        .incrementer(new RunIdIncrementer())\n        .flow(step1())\n        .end()\n        .build();\n    }\n\n    @Bean\n    public Step step1(){\n        return new StepBuilder(&quot;Step 1&quot;)\n        .&lt;User,User&gt;chunk(5)\n        .reader(reader())\n        .writer(writer())\n        .build();\n    }\n}\n</code></pre>\n<p>On building the project I am getting the following exceptions-</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication]; nested exception is java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\n        at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:609) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.access$800(ConfigurationClassParser.java:110) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:812) ~[spring-context-5.3.24.jar:5.3.24]\n        at java.base/java.util.ArrayList.forEach(Unknown Source) ~[na:na]\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:809) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:780) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:192) ~[spring-context-5.3.24.jar:5.3.24]     \n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]  \n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n        at com.example.spring_boot_batch_demo.SpringBootBatchDemoApplication.main(SpringBootBatchDemoApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.batch.BatchAutoConfiguration$DataSourceInitializerConfiguration\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:225) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:371) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:271) ~[spring-context-5.3.24.jar:5.3.24]\n        at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:249) ~[spring-context-5.399) ~[spring-context-5.3.24.jar:5.3.24]\n        ... 24 common frames omittedCaused by: java.lang.IllegalArgumentException: No enum constant org.springframework.boot.sql.init.DatabaseInitializationMode.ALWAYS\n        at java.base/java.lang.Enum.valueOf(Unknown Source) ~[na:na]\n        at org.springframework.boot.sql.init.DatabaseInitializationMode.valueOf(DatabaseInitializationMode.java:26) ~[spring-boot-2.7.7.jar:2.7.7]\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getDatabaseInitializationMode(OnDatabaseInitializationCondition.java:75) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        at org.springframework.boot.autoconfigure.sql.init.OnDatabaseInitializationCondition.getMatchOutcome(OnDatabaseInitializationCondition.java:60) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n        ... 30 common frames omitted\n\n</code></pre>\n<p>For referred several other posts which stated versioning problem, but it didn't help.\nI cannot find the problem with the code, can somebody help me?</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jackson"],"comments":[{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":3,"creation_date":1542914949,"post_id":53437011,"comment_id":93747913,"body_markdown":"Don&#39;t add `@EnableWebMvc`. Spring boot sets up spring mvc automatically without it. Similar problems discussed [here](https://stackoverflow.com/questions/53364800/spring-boot-2-not-serializing-localdatetime#comment93640725_53364800) and [here](https://stackoverflow.com/a/51065174/3591528).","body":"Don&#39;t add <code>@EnableWebMvc</code>. Spring boot sets up spring mvc automatically without it. Similar problems discussed <a href=\"https://stackoverflow.com/questions/53364800/spring-boot-2-not-serializing-localdatetime#comment93640725_53364800\">here</a> and <a href=\"https://stackoverflow.com/a/51065174/3591528\">here</a>."},{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1542953252,"post_id":53437011,"comment_id":93755697,"body_markdown":"Add this as en anwser.","body":"Add this as en anwser."}],"answers":[{"tags":[],"owner":{"account_id":15021840,"reputation":51,"user_id":10843049,"display_name":"Shivendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673975272,"creation_date":1673975272,"answer_id":75149902,"question_id":53437011,"body_markdown":"Let&#39;s first understand why we need to use @EnableWebMvc.\r\nSpring traditionally supports two types of configurations:\r\n\r\n[XML based configuration][1]\r\n\r\n[Annotation based configuration][2]\r\n\r\nSo if we want spring to support annotation we add @EnableWebMvc. But\r\nif we are using Spring Boot, it will auto-configure the equivalent of @EnableWebMvc for you. Unless you want to switch off all of Boot&#39;s opinions about how Spring MVC should be configured, you should not use @EnableWebMvc in your application.\r\n\r\nNow in your case by giving a Jackson2ObjectMapperBuilderCustomizer you want jackson to customize the behavior but @EnableWebMvc is switching off any opinion your object mapper is providing. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/2.5.5/reference/xsd-config.html\r\n  [2]: https://www.tutorialspoint.com/spring/spring_annotation_based_configuration.htm","title":"@EnableWebMvc &quot;disables&quot; Jackson2ObjectMapperBuilderCustomizer how to fix?","body":"<p>Let's first understand why we need to use @EnableWebMvc.\nSpring traditionally supports two types of configurations:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/2.5.5/reference/xsd-config.html\" rel=\"nofollow noreferrer\">XML based configuration</a></p>\n<p><a href=\"https://www.tutorialspoint.com/spring/spring_annotation_based_configuration.htm\" rel=\"nofollow noreferrer\">Annotation based configuration</a></p>\n<p>So if we want spring to support annotation we add @EnableWebMvc. But\nif we are using Spring Boot, it will auto-configure the equivalent of @EnableWebMvc for you. Unless you want to switch off all of Boot's opinions about how Spring MVC should be configured, you should not use @EnableWebMvc in your application.</p>\n<p>Now in your case by giving a Jackson2ObjectMapperBuilderCustomizer you want jackson to customize the behavior but @EnableWebMvc is switching off any opinion your object mapper is providing.</p>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673975272,"creation_date":1542914475,"question_id":53437011,"body_markdown":"I have confiured annotation introspector ([source][1])\r\n\r\n    public Jackson2ObjectMapperBuilderCustomizer addCustomBigDecimalDeserialization() {\r\n        return new Jackson2ObjectMapperBuilderCustomizer() {\r\n            @Override\r\n            public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n                jacksonObjectMapperBuilder.annotationIntrospector(\r\n                        new JacksonAnnotationIntrospector() {\r\n                            @Override\r\n                            public JsonPOJOBuilder.Value findPOJOBuilderConfig(AnnotatedClass ac) {\r\n                                if (ac.hasAnnotation(\r\n                                        JsonPOJOBuilder.class)) {//If no annotation present use default as empty prefix\r\n                                    return super.findPOJOBuilderConfig(ac);\r\n                                }\r\n                                return new JsonPOJOBuilder.Value(&quot;build&quot;, &quot;&quot;);\r\n                            }\r\n                        }\r\n                );\r\n            }\r\n        };\r\n    }\r\n\r\nAnd everything works until I added `@EnableWebMvc` to `Applciation` class. Now all dtos which have lombok `@Value` and `@Builder` annotations are fileld with nulls. It seems that my annotation introspector was replaced some where by spring. But where? Spring [boot documentation][2] said that it is enough to define `Jackson2ObjectMapperBuilderCustomizer` bean.\r\n\r\nAny ideas how configure/fix setting annotation introspectors with `@EnableWebMvc`?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/48801237/1251549\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper","title":"@EnableWebMvc &quot;disables&quot; Jackson2ObjectMapperBuilderCustomizer how to fix?","body":"<p>I have confiured annotation introspector (<a href=\"https://stackoverflow.com/a/48801237/1251549\">source</a>)</p>\n\n<pre><code>public Jackson2ObjectMapperBuilderCustomizer addCustomBigDecimalDeserialization() {\n    return new Jackson2ObjectMapperBuilderCustomizer() {\n        @Override\n        public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n            jacksonObjectMapperBuilder.annotationIntrospector(\n                    new JacksonAnnotationIntrospector() {\n                        @Override\n                        public JsonPOJOBuilder.Value findPOJOBuilderConfig(AnnotatedClass ac) {\n                            if (ac.hasAnnotation(\n                                    JsonPOJOBuilder.class)) {//If no annotation present use default as empty prefix\n                                return super.findPOJOBuilderConfig(ac);\n                            }\n                            return new JsonPOJOBuilder.Value(\"build\", \"\");\n                        }\n                    }\n            );\n        }\n    };\n}\n</code></pre>\n\n<p>And everything works until I added <code>@EnableWebMvc</code> to <code>Applciation</code> class. Now all dtos which have lombok <code>@Value</code> and <code>@Builder</code> annotations are fileld with nulls. It seems that my annotation introspector was replaced some where by spring. But where? Spring <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper\" rel=\"nofollow noreferrer\">boot documentation</a> said that it is enough to define <code>Jackson2ObjectMapperBuilderCustomizer</code> bean.</p>\n\n<p>Any ideas how configure/fix setting annotation introspectors with <code>@EnableWebMvc</code>?</p>\n"},{"tags":["java","intellij-idea","gradle"],"comments":[{"owner":{"account_id":261539,"reputation":19938,"user_id":981715,"accept_rate":74,"display_name":"Eugen Martynov"},"score":0,"creation_date":1464515920,"post_id":37490567,"comment_id":62510987,"body_markdown":"What version of idea and kotlin do you use? I would ask quesiton on JetBrains issue tracker","body":"What version of idea and kotlin do you use? I would ask quesiton on JetBrains issue tracker"},{"owner":{"account_id":4356170,"reputation":3164,"user_id":3554721,"accept_rate":50,"display_name":"0x60"},"score":0,"creation_date":1464520557,"post_id":37490567,"comment_id":62512258,"body_markdown":"@EugenMartynov IDEA is 2016.1.2. Kotlin is 1.0.2, I guess... I have `kotlin-gradle-plugin:1.0.2` and `kotlin-stdlib:1.0.2` listed in Gradle dependencies","body":"@EugenMartynov IDEA is 2016.1.2. Kotlin is 1.0.2, I guess... I have <code>kotlin-gradle-plugin:1.0.2</code> and <code>kotlin-stdlib:1.0.2</code> listed in Gradle dependencies"}],"answers":[{"tags":[],"owner":{"account_id":7451588,"reputation":811,"user_id":5666171,"accept_rate":86,"display_name":"CLOVIS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673975197,"creation_date":1673975197,"answer_id":75149884,"question_id":37490567,"body_markdown":"The `test` source set already depends on the `main` source set by default. Something is mostly likely wrong with your IntelliJ configuration, but it&#39;s not possible to know what without looking at the project.","title":"Gradle: Make &quot;test&quot; source set depend on &quot;main&quot; source set","body":"<p>The <code>test</code> source set already depends on the <code>main</code> source set by default. Something is mostly likely wrong with your IntelliJ configuration, but it's not possible to know what without looking at the project.</p>\n"}],"owner":{"account_id":4356170,"reputation":3164,"user_id":3554721,"accept_rate":50,"display_name":"0x60"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673975197,"creation_date":1464375504,"question_id":37490567,"body_markdown":"Here is my project structure:\r\n\r\n[![IDEA Gradle project structure][1]][1]\r\n\r\nIt is the default project structure created by Intellij IDEA for Kotlin projects built with Gradle. For some reason `main` source set is not set as a dependency for `test` source set, making it impossible to write unit tests. I can manually add this dependency in IDEA&#39;s &quot;module settings&quot;, but every time there is a Gradle refresh this setting goes away.\r\n\r\nMy guess is that when Gradle is used, IDEA module settings completely copy Gradle settings, so in order to make the dependency persistent, it has to be added to `build.gradle`. What would the syntax be?\r\n\r\n  [1]: http://i.stack.imgur.com/HBsVU.jpg","title":"Gradle: Make &quot;test&quot; source set depend on &quot;main&quot; source set","body":"<p>Here is my project structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HBsVU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HBsVU.jpg\" alt=\"IDEA Gradle project structure\"></a></p>\n\n<p>It is the default project structure created by Intellij IDEA for Kotlin projects built with Gradle. For some reason <code>main</code> source set is not set as a dependency for <code>test</code> source set, making it impossible to write unit tests. I can manually add this dependency in IDEA's \"module settings\", but every time there is a Gradle refresh this setting goes away.</p>\n\n<p>My guess is that when Gradle is used, IDEA module settings completely copy Gradle settings, so in order to make the dependency persistent, it has to be added to <code>build.gradle</code>. What would the syntax be?</p>\n"},{"tags":["java","date","timestamp","simpledateformat"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1673922875,"post_id":75141361,"comment_id":132600237,"body_markdown":"Timestamp is a thin wrapper around java.util.Date.  Date is a Long.  &quot;20220321211529042 &quot; is a String","body":"Timestamp is a thin wrapper around java.util.Date.  Date is a Long.  &quot;20220321211529042 &quot; is a String"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673934607,"post_id":75141361,"comment_id":132601787,"body_markdown":"I strongly recommend you neither use `SimpleDateFormat` nor `Date`. The latter is poorly designed, the former a notorious troublemaker of a class, you don’t want to struggle with them. Fortunately both are long outdated and replaced by [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). Use `LocalDateTime` and `DateTimeFormatter` from the modern API.","body":"I strongly recommend you neither use <code>SimpleDateFormat</code> nor <code>Date</code>. The latter is poorly designed, the former a notorious troublemaker of a class, you don’t want to struggle with them. Fortunately both are long outdated and replaced by <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Use <code>LocalDateTime</code> and <code>DateTimeFormatter</code> from the modern API."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673934739,"post_id":75141361,"comment_id":132601803,"body_markdown":"`&quot;20220321211529042&quot;` (2022 Match 21 at 21:15:29.042) is in which time zone? In which time zone do you want the date format?","body":"<code>&quot;20220321211529042&quot;</code> (2022 Match 21 at 21:15:29.042) is in which time zone? In which time zone do you want the date format?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673934940,"post_id":75141361,"comment_id":132601833,"body_markdown":"Please give a concrete example of the value and type you are passing to `format()` in your code? Passing a string, whether `&quot;date_column_from_db&quot;` or `&quot;20220321211529042&quot;`, is expected to generate the exception you mention. Passing a number, for example `20220321211529042L`, will not (but will also in this case not give you the expected result).","body":"Please give a concrete example of the value and type you are passing to <code>format()</code> in your code? Passing a string, whether <code>&quot;date_column_from_db&quot;</code> or <code>&quot;20220321211529042&quot;</code>, is expected to generate the exception you mention. Passing a number, for example <code>20220321211529042L</code>, will not (but will also in this case not give you the expected result)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673935298,"post_id":75141361,"comment_id":132601880,"body_markdown":"You likely want `LocalDateTime.parse(&quot;20220321211529042&quot;, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;)).format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;))`. It yields `21/03/2022`.","body":"You likely want <code>LocalDateTime.parse(&quot;20220321211529042&quot;, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;)).format(Dat&zwnj;&#8203;eTimeFormatter.ofPat&zwnj;&#8203;tern(&quot;dd&#47;MM&#47;yyyy&quot;))</code>. It yields <code>21&#47;03&#47;2022</code>."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1673971425,"post_id":75141361,"comment_id":132613041,"body_markdown":"The `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html). Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.","body":"The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673977647,"post_id":75141361,"comment_id":132615039,"body_markdown":"@ArvindKumarAvinash Thanks. I suspect that the OP is keeping the timestamp in a `char` or `varchar` column in their database. Your suggestion would require them to change that to `timestamp` (with or without time zone). Which they should anyway, so it is a very good suggestion.","body":"@ArvindKumarAvinash Thanks. I suspect that the OP is keeping the timestamp in a <code>char</code> or <code>varchar</code> column in their database. Your suggestion would require them to change that to <code>timestamp</code> (with or without time zone). Which they should anyway, so it is a very good suggestion."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1673923082,"post_id":75141499,"comment_id":132600273,"body_markdown":"20220321211529042 is presumably 2022/03/21 21:15:29.042, not an epoch seconds/ms value.","body":"20220321211529042 is presumably 2022/03/21 21:15:29.042, not an epoch seconds/ms value."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1673935230,"post_id":75141499,"comment_id":132601871,"body_markdown":"I get `column = 22/06/642726`. It’s clearly wrong. Also neither the OP nor you nor anyone else should use the notoriously troublesome `SimpleDateFormat` class. Use java.time. See the other answer. But thanks for demonstrating how hard it is to use `SimpleDateFormat` correctly and how easy to get it wrong. Even when reading the source code. I think it supports my point.","body":"I get <code>column = 22&#47;06&#47;642726</code>. It’s clearly wrong. Also neither the OP nor you nor anyone else should use the notoriously troublesome <code>SimpleDateFormat</code> class. Use java.time. See the other answer. But thanks for demonstrating how hard it is to use <code>SimpleDateFormat</code> correctly and how easy to get it wrong. Even when reading the source code. I think it supports my point."}],"tags":[],"owner":{"account_id":5198556,"reputation":90,"user_id":4158858,"display_name":"TYZRPVX"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673923005,"creation_date":1673923005,"answer_id":75141499,"question_id":75141361,"body_markdown":"Just test the below code, `format()` method only allows `Date` or `Number` as an argument, `String` is invalid.\r\n\r\n```\r\nString column = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(20220321211529042L);\r\nSystem.out.println(&quot;column = &quot; + column);\r\n```\r\n\r\n`DateFormat` source may be more detailed https://developer.classpath.org/doc/java/text/DateFormat-source.html\r\n\r\n\r\n\r\n```\r\npublic final StringBuffer format(Object obj, StringBuffer toAppendTo,\r\n                                 FieldPosition fieldPosition)\r\n{\r\n    if (obj instanceof Date)\r\n        return format( (Date)obj, toAppendTo, fieldPosition );\r\n    else if (obj instanceof Number)\r\n        return format( new Date(((Number)obj).longValue()),\r\n                      toAppendTo, fieldPosition );\r\n    else\r\n        throw new IllegalArgumentException(&quot;Cannot format given Object as a Date&quot;);\r\n}\r\n```","title":"Formatting timestamp to Date format","body":"<p>Just test the below code, <code>format()</code> method only allows <code>Date</code> or <code>Number</code> as an argument, <code>String</code> is invalid.</p>\n<pre><code>String column = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(20220321211529042L);\nSystem.out.println(&quot;column = &quot; + column);\n</code></pre>\n<p><code>DateFormat</code> source may be more detailed <a href=\"https://developer.classpath.org/doc/java/text/DateFormat-source.html\" rel=\"nofollow noreferrer\">https://developer.classpath.org/doc/java/text/DateFormat-source.html</a></p>\n<pre><code>public final StringBuffer format(Object obj, StringBuffer toAppendTo,\n                                 FieldPosition fieldPosition)\n{\n    if (obj instanceof Date)\n        return format( (Date)obj, toAppendTo, fieldPosition );\n    else if (obj instanceof Number)\n        return format( new Date(((Number)obj).longValue()),\n                      toAppendTo, fieldPosition );\n    else\n        throw new IllegalArgumentException(&quot;Cannot format given Object as a Date&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673935830,"post_id":75141505,"comment_id":132601975,"body_markdown":"It’s a good step forward compared to the OP’s code and gives the output that the OP says they want. Thanks. Which type has your `parsedTimestamp` got? It’s a `TemporalAccessor`, I type that should not be widely used in application code. I would rather parse into a `LocalDateTime` like this: `LocalDateTime.parse(timestring, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;))`. And then format using for example `parsedTimestamp.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;))`. This is the more conventional way of using java.time.","body":"It’s a good step forward compared to the OP’s code and gives the output that the OP says they want. Thanks. Which type has your <code>parsedTimestamp</code> got? It’s a <code>TemporalAccessor</code>, I type that should not be widely used in application code. I would rather parse into a <code>LocalDateTime</code> like this: <code>LocalDateTime.parse(timestring, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;))</code>. And then format using for example <code>parsedTimestamp.format(DateTimeFormatter.ofPattern(&quot;dd&#47;MM&#47;yy&zwnj;&#8203;yy&quot;))</code>. This is the more conventional way of using java.time."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1673937332,"post_id":75141505,"comment_id":132602238,"body_markdown":"Have added that as an alternative","body":"Have added that as an alternative"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673937449,"creation_date":1673923108,"answer_id":75141505,"question_id":75141361,"body_markdown":"Your use of the term &#39;timestamp&#39; is misleading - it is really an encoded string.\r\n\r\nYou will need to decode the DB string and then recode it in the new format you want. Something like:\r\n\r\n    var timestring = &quot;20220321211529042&quot;;\r\n    var parsedTimestamp = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;).parse(timestring);\r\n    var output = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;).format(parsedTimestamp);\r\n\r\n\r\nAs an alternative, you can use an intermediate `LocalDateTime` variable:\r\n\r\n    var timestring = &quot;20220321211529042&quot;;\r\n    var dateTime = LocalDateTime.parse(timestring, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;));\r\n    var output = dateTime.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n\r\n\r\n","title":"Formatting timestamp to Date format","body":"<p>Your use of the term 'timestamp' is misleading - it is really an encoded string.</p>\n<p>You will need to decode the DB string and then recode it in the new format you want. Something like:</p>\n<pre><code>var timestring = &quot;20220321211529042&quot;;\nvar parsedTimestamp = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;).parse(timestring);\nvar output = DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;).format(parsedTimestamp);\n</code></pre>\n<p>As an alternative, you can use an intermediate <code>LocalDateTime</code> variable:</p>\n<pre><code>var timestring = &quot;20220321211529042&quot;;\nvar dateTime = LocalDateTime.parse(timestring, DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmssSSS&quot;));\nvar output = dateTime.format(DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n</code></pre>\n"}],"owner":{"account_id":23696244,"reputation":1,"user_id":17719934,"display_name":"Syafiza Surani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673973702,"answer_count":2,"score":0,"last_activity_date":1673974785,"creation_date":1673921044,"question_id":75141361,"body_markdown":"I have a question. I need to convert and display the data from database which it&#39;s a timestamp to date format only. *the format is dd/MM/yyyy\r\n\r\nCurrently I writng the code like this but the error says &quot;Cannot format given Object as a Date&quot;\r\n\r\n    xi.setItem(&quot;Dte&quot;,db.getDataAt(i,\r\n               new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(&quot;date_column_from_db&quot;)));\r\n\r\n\r\nthis is the example of the date column in the database:\r\n20220321211529042  (basically it is a timestamp)\r\n\r\nand I want to convert and display the data to date format only, like this:\r\n21/03/2022\r\n\r\n\r\n\r\nHope to get solution. Thank you!","title":"Formatting timestamp to Date format","body":"<p>I have a question. I need to convert and display the data from database which it's a timestamp to date format only. *the format is dd/MM/yyyy</p>\n<p>Currently I writng the code like this but the error says &quot;Cannot format given Object as a Date&quot;</p>\n<pre><code>xi.setItem(&quot;Dte&quot;,db.getDataAt(i,\n           new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(&quot;date_column_from_db&quot;)));\n</code></pre>\n<p>this is the example of the date column in the database:\n20220321211529042  (basically it is a timestamp)</p>\n<p>and I want to convert and display the data to date format only, like this:\n21/03/2022</p>\n<p>Hope to get solution. Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1673973481,"post_id":75149506,"comment_id":132613762,"body_markdown":"The % is the modulo operator. The result is the remainder. So `year%4==0` checks if a year is divisible by 4 without a remainder.","body":"The % is the modulo operator. The result is the remainder. So <code>year%4==0</code> checks if a year is divisible by 4 without a remainder."},{"owner":{"account_id":25936706,"reputation":353,"user_id":19656840,"display_name":"Gabriel Aoki"},"score":0,"creation_date":1673973551,"post_id":75149506,"comment_id":132613788,"body_markdown":"Please read https://www.wikihow.com/Ask-a-Question-on-Stack-Overflow#:~:text=Navigate%20to%20the%20Stack%20Overflow,you%20should%20click%20to%20continue.","body":"Please read <a href=\"https://www.wikihow.com/Ask-a-Question-on-Stack-Overflow#:~:text=Navigate%20to%20the%20Stack%20Overflow,you%20should%20click%20to%20continue\" rel=\"nofollow noreferrer\">wikihow.com/&hellip;</a>."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":2,"creation_date":1673973713,"post_id":75149506,"comment_id":132613830,"body_markdown":"Not a good title: &quot;Can someone explain me what is happening here in the Java code?&quot;. A better title: &quot;Understanding formula for leap years&quot;. Better questions result in better answers!","body":"Not a good title: &quot;Can someone explain me what is happening here in the Java code?&quot;. A better title: &quot;Understanding formula for leap years&quot;. Better questions result in better answers!"},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1673973868,"post_id":75149506,"comment_id":132613887,"body_markdown":"Does this answer your question? [Java Code for calculating Leap Year](https://stackoverflow.com/questions/1021324/java-code-for-calculating-leap-year)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1021324/java-code-for-calculating-leap-year\">Java Code for calculating Leap Year</a>"}],"answers":[{"tags":[],"owner":{"account_id":19933869,"reputation":3,"user_id":14606969,"display_name":"Manu Add1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673974211,"creation_date":1673974211,"answer_id":75149685,"question_id":75149506,"body_markdown":"The &quot;TB&quot; is a Input scanner that gets the input you put in your Console.\r\n\r\n&gt; int year = TB.nextInt();\r\n\r\nConverts your String input into an int\r\n\r\n&gt; boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;\r\n\r\nyou could also wirte it like this\r\n\r\n```\r\nif((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0){\r\n    isLeapYear = true;\r\n}else{isLeapYear = false;}\r\n```\r\n\r\n% opperator takes makes a division and returns the remainder for example 9 % 4 = 1, because 9 / 4 = 2 with a remainder of 1.\r\nAlso called Modulo.\r\n\r\nso basicly if the remainder of &quot;year / 4 = 0&quot; and the remainder of &quot;year / 100 is not 0&quot; or &quot;year / 400 has a remainder of 0&quot; the boolean will be True otherwise its False.\r\n\r\nSystem.out.println(isLeapYear); just prints the result that i just talked about.\r\n","title":"Understanding formula for leap years","body":"<p>The &quot;TB&quot; is a Input scanner that gets the input you put in your Console.</p>\n<blockquote>\n<p>int year = TB.nextInt();</p>\n</blockquote>\n<p>Converts your String input into an int</p>\n<blockquote>\n<p>boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;</p>\n</blockquote>\n<p>you could also wirte it like this</p>\n<pre><code>if((year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0){\n    isLeapYear = true;\n}else{isLeapYear = false;}\n</code></pre>\n<p>% opperator takes makes a division and returns the remainder for example 9 % 4 = 1, because 9 / 4 = 2 with a remainder of 1.\nAlso called Modulo.</p>\n<p>so basicly if the remainder of &quot;year / 4 = 0&quot; and the remainder of &quot;year / 100 is not 0&quot; or &quot;year / 400 has a remainder of 0&quot; the boolean will be True otherwise its False.</p>\n<p>System.out.println(isLeapYear); just prints the result that i just talked about.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673974781,"creation_date":1673974781,"answer_id":75149796,"question_id":75149506,"body_markdown":"You can split your formula into several parts to better understand it:\r\n\r\n```\r\nboolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0\r\n```\r\n\r\nThis creates a `boolean` variable from the `year`, `boolean` can only be `true` or `false`, while `year` is of type `int`, a whole number with a range enough for years (the exact values don&#39;t matter for this answer).\r\n\r\nFirst you can set more parenthesis to make it clearer and separated:\r\n```\r\n(((year % 4) == 0) &amp;&amp; ((year % 100) != 0)) || ((year % 400) == 0)\r\n```\r\n\r\nThen the parts explained:\r\n\r\n* `(year % 4)` calculates the remainder of division by 4\r\n* `((year % 4) == 0)` is `true`, if the remainder of the division by 4 is 0, that means, it is dividable by 4 without remainder =&gt; `dividableBy4`\r\n* `((year % 100) != 0))` similar to above (is `true` if `year` is *not* dividable by 100 without remainder) =&gt; `notDividableBy100`\r\n* `((year % 400) == 0))` the same as with 4 but for division by 400 =&gt; `dividableBy400`\r\n\r\nNow you have: \r\n``` \r\n(dividableBy4 &amp;&amp; notDividableBy100) || dividableBy400\r\n```\r\n\r\n`&amp;&amp;` and `||` are operators for `boolean` variables, `&amp;&amp;` stands for logical AND, `||` is for logical OR, so the expression above means:\r\n\r\neither (dividable by 4 AND not dividable by 100) or dividable by 400","title":"Understanding formula for leap years","body":"<p>You can split your formula into several parts to better understand it:</p>\n<pre><code>boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0\n</code></pre>\n<p>This creates a <code>boolean</code> variable from the <code>year</code>, <code>boolean</code> can only be <code>true</code> or <code>false</code>, while <code>year</code> is of type <code>int</code>, a whole number with a range enough for years (the exact values don't matter for this answer).</p>\n<p>First you can set more parenthesis to make it clearer and separated:</p>\n<pre><code>(((year % 4) == 0) &amp;&amp; ((year % 100) != 0)) || ((year % 400) == 0)\n</code></pre>\n<p>Then the parts explained:</p>\n<ul>\n<li><code>(year % 4)</code> calculates the remainder of division by 4</li>\n<li><code>((year % 4) == 0)</code> is <code>true</code>, if the remainder of the division by 4 is 0, that means, it is dividable by 4 without remainder =&gt; <code>dividableBy4</code></li>\n<li><code>((year % 100) != 0))</code> similar to above (is <code>true</code> if <code>year</code> is <em>not</em> dividable by 100 without remainder) =&gt; <code>notDividableBy100</code></li>\n<li><code>((year % 400) == 0))</code> the same as with 4 but for division by 400 =&gt; <code>dividableBy400</code></li>\n</ul>\n<p>Now you have:</p>\n<pre><code>(dividableBy4 &amp;&amp; notDividableBy100) || dividableBy400\n</code></pre>\n<p><code>&amp;&amp;</code> and <code>||</code> are operators for <code>boolean</code> variables, <code>&amp;&amp;</code> stands for logical AND, <code>||</code> is for logical OR, so the expression above means:</p>\n<p>either (dividable by 4 AND not dividable by 100) or dividable by 400</p>\n"}],"owner":{"account_id":27554722,"reputation":11,"user_id":21029162,"display_name":"Tomas Bernatonis"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1674310846,"accepted_answer_id":75149796,"answer_count":2,"score":-2,"last_activity_date":1673974781,"creation_date":1673973378,"question_id":75149506,"body_markdown":"I&#39;m trying to understand this solution right here:\r\nWhat I don&#39;t understand is what means `== 0` ??? And **why** it is: **if it equals to 0?**.\r\n\r\n**This was my task:**\r\n\r\n&gt; In leap years, February has 29 days instead of the usual 28 days. We can determine leap years by the fact that the year number is divisible by 4. However, the year must not be divisible by 100. If the year is divisible by 400, it is a leap year.\r\nWrite a program in Java that checks whether a given year is a leap year. If the year is a leap year, true is output. If this is not the case, false is output.\r\n\r\nI tried many things and then I wanted to look up from the solution and now I want to understand it.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Leapyear {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner TB = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Type in a year which you want to test if it is a leapyear or not:&quot;);\r\n        int year = TB.nextInt();\r\n\r\n        boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;\r\n\r\n        System.out.println(isLeapYear);\r\n\r\n    }\r\n}\r\n```\r\n","title":"Understanding formula for leap years","body":"<p>I'm trying to understand this solution right here:\nWhat I don't understand is what means <code>== 0</code> ??? And <strong>why</strong> it is: <strong>if it equals to 0?</strong>.</p>\n<p><strong>This was my task:</strong></p>\n<blockquote>\n<p>In leap years, February has 29 days instead of the usual 28 days. We can determine leap years by the fact that the year number is divisible by 4. However, the year must not be divisible by 100. If the year is divisible by 400, it is a leap year.\nWrite a program in Java that checks whether a given year is a leap year. If the year is a leap year, true is output. If this is not the case, false is output.</p>\n</blockquote>\n<p>I tried many things and then I wanted to look up from the solution and now I want to understand it.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Leapyear {\n\n    public static void main(String[] args) {\n\n        Scanner TB = new Scanner(System.in);\n\n        System.out.println(&quot;Type in a year which you want to test if it is a leapyear or not:&quot;);\n        int year = TB.nextInt();\n\n        boolean isLeapYear = (year % 4 == 0 &amp;&amp; year % 100 != 0) || year % 400 == 0;\n\n        System.out.println(isLeapYear);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","azure-cosmosdb","always-encrypted"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674036948,"post_id":75141464,"comment_id":132627471,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":550920,"reputation":8228,"user_id":884931,"display_name":"Mark Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673974101,"creation_date":1673974101,"answer_id":75149660,"question_id":75141464,"body_markdown":"This isn&#39;t currently supported by the Cosmos DB Spring Data SDK. Only the core .NET and Java SDK&#39;s support the always encrypted feature in Azure.","title":"How to implement Always Encrypted into a Spring Boot Application using Azure Cosmos DB?","body":"<p>This isn't currently supported by the Cosmos DB Spring Data SDK. Only the core .NET and Java SDK's support the always encrypted feature in Azure.</p>\n"}],"owner":{"account_id":27488081,"reputation":1,"user_id":20973982,"display_name":"Andy Escobar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673974101,"creation_date":1673922480,"question_id":75141464,"body_markdown":"I wanted to implement an Always Encrypted feature in my SpringBoot application using CosmosDB. I know microsoft dicates to use a Windows Environment or Docker to run MSSQL but I believe there must be a way to implemented inside the application using JDBC.\r\n\r\nI have tried this solution but I could not make it work, even after seing his example he uses gradle and uses Java Keystore instead of Azure Keyvault and with Cosmos DB. I tried replacing and following Microsoft guides but I am confused on the correct implementation.","title":"How to implement Always Encrypted into a Spring Boot Application using Azure Cosmos DB?","body":"<p>I wanted to implement an Always Encrypted feature in my SpringBoot application using CosmosDB. I know microsoft dicates to use a Windows Environment or Docker to run MSSQL but I believe there must be a way to implemented inside the application using JDBC.</p>\n<p>I have tried this solution but I could not make it work, even after seing his example he uses gradle and uses Java Keystore instead of Azure Keyvault and with Cosmos DB. I tried replacing and following Microsoft guides but I am confused on the correct implementation.</p>\n"},{"tags":["java","servlets","cdi","java-ee-8","jsf-2.3"],"answers":[{"comments":[{"owner":{"account_id":16725216,"reputation":184,"user_id":12088967,"display_name":"Diggi55"},"score":0,"creation_date":1631528914,"post_id":69122227,"comment_id":122237664,"body_markdown":"Thanks for your repsonse and insights. Seems like I&#39;ll write my own producer :)","body":"Thanks for your repsonse and insights. Seems like I&#39;ll write my own producer :)"}],"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1631207235,"creation_date":1631207235,"answer_id":69122227,"question_id":69101304,"body_markdown":"There&#39;s not a single good answer here. \r\n\r\nTo start with, `HttpServletRequest` is produced by CDI, not Faces. As for `HttpServletResponse` I&#39;m not sure why it wasn&#39;t original included in CDI, but I do know that all the Servlet artefacts should originally not have been provided by CDI. \r\n\r\nInstead, CDI should have asked Servlet to provide &quot;producers&quot; for them (technically, build-in beans). Jakarta Transactions (JTA back then) did something similar)\r\n\r\nCurrently, CDI doesn&#39;t want to enhance or expand the Servlet artefacts, and with good reason. CDI is focussing on its core bean model and injection.\r\n\r\nHowever, in Servlet there is a huge misunderstanding of what it means to provide producers. At least one person in Servlet thinks it&#39;s about providing integration points, or about Servlet having to become completely CDI based, or about Jetty having to support all 10 CDI implementations out there (there are only 2, but that aside).\r\n\r\nThis discussion has been going on for at least 8 years. Issues have been opened and closed again.\r\n\r\nI&#39;m a Servlet member myself so I hope I have some influence, but still have not been able to get this resolved.\r\n\r\nWe could alternatively have Faces provide `HttpServletResponse`, but Faces also does not own that type, and it would likely only contribute to the confusion.","title":"Why is HTTPServletRequest injectable via CDI but HTTPServletResponse isn&#39;t?","body":"<p>There's not a single good answer here.</p>\n<p>To start with, <code>HttpServletRequest</code> is produced by CDI, not Faces. As for <code>HttpServletResponse</code> I'm not sure why it wasn't original included in CDI, but I do know that all the Servlet artefacts should originally not have been provided by CDI.</p>\n<p>Instead, CDI should have asked Servlet to provide &quot;producers&quot; for them (technically, build-in beans). Jakarta Transactions (JTA back then) did something similar)</p>\n<p>Currently, CDI doesn't want to enhance or expand the Servlet artefacts, and with good reason. CDI is focussing on its core bean model and injection.</p>\n<p>However, in Servlet there is a huge misunderstanding of what it means to provide producers. At least one person in Servlet thinks it's about providing integration points, or about Servlet having to become completely CDI based, or about Jetty having to support all 10 CDI implementations out there (there are only 2, but that aside).</p>\n<p>This discussion has been going on for at least 8 years. Issues have been opened and closed again.</p>\n<p>I'm a Servlet member myself so I hope I have some influence, but still have not been able to get this resolved.</p>\n<p>We could alternatively have Faces provide <code>HttpServletResponse</code>, but Faces also does not own that type, and it would likely only contribute to the confusion.</p>\n"},{"tags":[],"owner":{"account_id":22099310,"reputation":3,"user_id":16356022,"display_name":"orudicKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973872,"creation_date":1673971924,"answer_id":75149207,"question_id":69101304,"body_markdown":"As said already injecting the `HttpServletResponse` is not supported by CDI by default. The [Servlet module from Apache DeltaSpike][2] however allows for injectable servlet objects such as the `HttpServletResponse`. So there is no need for writing a custom CDI `Producer` or `@Produces` method in order to inject the `HttpServletResponse` via CDI.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/472792/arjan-tijms\r\n  [2]: https://deltaspike.apache.org/documentation/servlet.html","title":"Why is HTTPServletRequest injectable via CDI but HTTPServletResponse isn&#39;t?","body":"<p>As said already injecting the <code>HttpServletResponse</code> is not supported by CDI by default. The <a href=\"https://deltaspike.apache.org/documentation/servlet.html\" rel=\"nofollow noreferrer\">Servlet module from Apache DeltaSpike</a> however allows for injectable servlet objects such as the <code>HttpServletResponse</code>. So there is no need for writing a custom CDI <code>Producer</code> or <code>@Produces</code> method in order to inject the <code>HttpServletResponse</code> via CDI.</p>\n"}],"owner":{"account_id":16725216,"reputation":184,"user_id":12088967,"display_name":"Diggi55"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":69122227,"answer_count":2,"score":10,"last_activity_date":1673973872,"creation_date":1631096594,"question_id":69101304,"body_markdown":"This question took off because I read [Arjan Tijms blogpost about JSF 2.3](https://arjan-tijms.omnifaces.org/p/jsf-23.html#cdi). There, he list all JSF artifacts which can be injected via CDI. Although `HttpServletRequest` is mentioned, `HttpServletResponse` doesn&#39;t appear on the said list which I didn&#39;t believe at first. \r\n\r\nTo try things out, I setup a simple Server (JavaEE8, Wildfy22):\r\n\r\n - `@Inject private HttpServletRequest req;` works just fine\r\n - `@Inject private HttpServletResponse res;` throws `DeploymentException: WELD-001408: Unsatisfied dependencies for type HttpServletResponse`\r\n\r\nI don&#39;t see why `HttpServletResponse` should not be injectable. After all, the goal was to replace convulent method chains by a concise injection.\r\nIn case of `HttpServletRequest`, `FacesContext.getCurrentInstance().getExternalContext().getRequest();` can now be shortened to the above injection.\r\n\r\nWell, in case of `HttpServletResponse`, there is no injection candidate to replace `FacesContext.getCurrentInstance().getExternalContext().getResponse();` as shown above.\r\n\r\nSummarized: Why is `HttpServletRequest` injectable via CDI but `HttpServletResponse` isn&#39;t?","title":"Why is HTTPServletRequest injectable via CDI but HTTPServletResponse isn&#39;t?","body":"<p>This question took off because I read <a href=\"https://arjan-tijms.omnifaces.org/p/jsf-23.html#cdi\" rel=\"noreferrer\">Arjan Tijms blogpost about JSF 2.3</a>. There, he list all JSF artifacts which can be injected via CDI. Although <code>HttpServletRequest</code> is mentioned, <code>HttpServletResponse</code> doesn't appear on the said list which I didn't believe at first.</p>\n<p>To try things out, I setup a simple Server (JavaEE8, Wildfy22):</p>\n<ul>\n<li><code>@Inject private HttpServletRequest req;</code> works just fine</li>\n<li><code>@Inject private HttpServletResponse res;</code> throws <code>DeploymentException: WELD-001408: Unsatisfied dependencies for type HttpServletResponse</code></li>\n</ul>\n<p>I don't see why <code>HttpServletResponse</code> should not be injectable. After all, the goal was to replace convulent method chains by a concise injection.\nIn case of <code>HttpServletRequest</code>, <code>FacesContext.getCurrentInstance().getExternalContext().getRequest();</code> can now be shortened to the above injection.</p>\n<p>Well, in case of <code>HttpServletResponse</code>, there is no injection candidate to replace <code>FacesContext.getCurrentInstance().getExternalContext().getResponse();</code> as shown above.</p>\n<p>Summarized: Why is <code>HttpServletRequest</code> injectable via CDI but <code>HttpServletResponse</code> isn't?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","micrometer"],"answers":[{"comments":[{"owner":{"account_id":5598166,"reputation":2293,"user_id":4435214,"accept_rate":78,"display_name":"Omkar"},"score":0,"creation_date":1644238980,"post_id":71013144,"comment_id":125544165,"body_markdown":"Let me test and get back to you on this. Thanks for the quick clarification! New to instrumentation :)","body":"Let me test and get back to you on this. Thanks for the quick clarification! New to instrumentation :)"},{"owner":{"account_id":5598166,"reputation":2293,"user_id":4435214,"accept_rate":78,"display_name":"Omkar"},"score":0,"creation_date":1651164725,"post_id":71013144,"comment_id":127304511,"body_markdown":"You were correct. Thanks for pointing this out. Apologies for late comment.","body":"You were correct. Thanks for pointing this out. Apologies for late comment."}],"tags":[],"owner":{"account_id":4632643,"reputation":543,"user_id":3754710,"display_name":"Tommy Ludwig"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644204209,"creation_date":1644204209,"answer_id":71013144,"question_id":70997020,"body_markdown":"You are using Spring Boot&#39;s configuration properties in `application.yml` but you are also making your own `DatadogMeterRegistry` that doesn&#39;t use those configuration properties, and therefore it will not have the required API key configuration.\r\n\r\nYou can delete the `MeterRegistryConfig` class entirely and instead use the `DatadogMeterRegistry` that Spring Boot will auto-configure from configuration properties because you have the `micrometer-registry-datadog` dependency on your classpath. See [this section][1] of the Spring Boot documentation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.getting-started","title":"datadog.apiKey was &#39;null&#39; but it is required","body":"<p>You are using Spring Boot's configuration properties in <code>application.yml</code> but you are also making your own <code>DatadogMeterRegistry</code> that doesn't use those configuration properties, and therefore it will not have the required API key configuration.</p>\n<p>You can delete the <code>MeterRegistryConfig</code> class entirely and instead use the <code>DatadogMeterRegistry</code> that Spring Boot will auto-configure from configuration properties because you have the <code>micrometer-registry-datadog</code> dependency on your classpath. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#actuator.metrics.getting-started\" rel=\"nofollow noreferrer\">this section</a> of the Spring Boot documentation.</p>\n"},{"tags":[],"owner":{"account_id":5438682,"reputation":850,"user_id":4327319,"accept_rate":100,"display_name":"Almustafa Azhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673973670,"creation_date":1673973670,"answer_id":75149570,"question_id":70997020,"body_markdown":"For me, it was just the hierarchy is changed when updated from Spring boot 2 -&gt; 3.\r\n\r\n**Update the below:** \r\n\r\n    management:\r\n      .....\r\n      metrics: // Changed to datadog\r\n        .....\r\n        export: // Changed to metrics\r\n          datadog: // Changed to export\r\n            step: 30s\r\n            enabled: true\r\n            api-key: xxxxxxx\r\n        .....\r\n\r\n**To :**\r\n\r\n    management:\r\n      .....\r\n      datadog:\r\n        .....\r\n        metrics:\r\n          export:\r\n            step: 30s\r\n            enabled: true\r\n            api-key: xxxxxxx\r\n        .....","title":"datadog.apiKey was &#39;null&#39; but it is required","body":"<p>For me, it was just the hierarchy is changed when updated from Spring boot 2 -&gt; 3.</p>\n<p><strong>Update the below:</strong></p>\n<pre><code>management:\n  .....\n  metrics: // Changed to datadog\n    .....\n    export: // Changed to metrics\n      datadog: // Changed to export\n        step: 30s\n        enabled: true\n        api-key: xxxxxxx\n    .....\n</code></pre>\n<p><strong>To :</strong></p>\n<pre><code>management:\n  .....\n  datadog:\n    .....\n    metrics:\n      export:\n        step: 30s\n        enabled: true\n        api-key: xxxxxxx\n    .....\n</code></pre>\n"}],"owner":{"account_id":5598166,"reputation":2293,"user_id":4435214,"accept_rate":78,"display_name":"Omkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71013144,"answer_count":2,"score":1,"last_activity_date":1673973670,"creation_date":1644056054,"question_id":70997020,"body_markdown":"I am currently using spring boot `2.7.0-M1` and following is my dependencies in `build.gradle`:\r\n\r\n```\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-cache&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-datadog:latest.release&#39;\r\n    datadogagent(&quot;com.datadoghq:dd-java-agent:$datadoghq_dd_version&quot;)\r\n    implementation(&quot;com.datadoghq:dd-trace-api:${datadoghq_dd_version}&quot;)\r\n```\r\nHowever, when i try to set micrometer bean:\r\n```\r\n@Configuration\r\npublic class MeterRegistryConfig {\r\n  @Bean\r\n  MeterRegistry meterRegistry(ApplicationContext context) {\r\n    DatadogConfig config = new DatadogConfig() {\r\n      @Override\r\n      public Duration step() {\r\n        return Duration.ofSeconds(10);\r\n      }\r\n\r\n      @Override\r\n      public String get(String k) {\r\n        return null; // accept the rest of the defaults\r\n      }\r\n    };\r\n\r\n    return new DatadogMeterRegistry(config, Clock.SYSTEM);\r\n  }\r\n}\r\n```\r\n\r\nI am getting a startup error:\r\n```\r\n2022-02-05 05:07:56.457 ERROR 7897 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webMvcMetricsFilter&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;webMvcMetricsFilter&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;compositeMeterRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/CompositeMeterRegistryConfiguration.class]: Unsatisfied dependency expressed through method &#39;compositeMeterRegistry&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;meterRegistry&#39; defined in class path resource [com/hbomax/ml/mlsvc/config/MeterRegistryConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.MeterRegistry]: Factory method &#39;meterRegistry&#39; threw exception; nested exception is io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was &#39;null&#39; but it is required\r\n2022-02-05 05:07:56.504  INFO 7897 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-02-05 05:07:56.520  WARN 7897 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-02-05 05:07:56.541  INFO 7897 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n```\r\n\r\nHere&#39;s my `application.yaml`:\r\n```\r\nmanagement:\r\n  info:\r\n    git:\r\n      mode: full\r\n  metrics:\r\n    distribution:\r\n      percentiles:\r\n        http:\r\n          server:\r\n            requests: 0.5, 0.95, 0.99\r\n      percentiles-histogram:\r\n        http:\r\n          server:\r\n            requests: true\r\n      sla:\r\n        http:\r\n          server:\r\n            requests: 200ms, 400ms, 600ms\r\n    export:\r\n      datadog:\r\n        step: 30s\r\n        enabled: true\r\n        api-key: xxxxxxx\r\n    tags:\r\n      application: ${spring.application.name}\r\n      env: ${spring.profiles}\r\n```\r\nCan someone help me understand what is the issue? I tried searching around but din&#39;t get any solution. I tried replacing `api-key` with `apiKey`(I know it&#39;s silly) but no success.\r\n\r\nAny help folks?","title":"datadog.apiKey was &#39;null&#39; but it is required","body":"<p>I am currently using spring boot <code>2.7.0-M1</code> and following is my dependencies in <code>build.gradle</code>:</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.cloud:spring-cloud-starter-config'\n    implementation 'org.springframework.boot:spring-boot-starter-cache'\n    compileOnly 'org.projectlombok:lombok'\n    implementation 'org.springframework.cloud:spring-cloud-starter-bootstrap'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'io.micrometer:micrometer-registry-datadog:latest.release'\n    datadogagent(&quot;com.datadoghq:dd-java-agent:$datadoghq_dd_version&quot;)\n    implementation(&quot;com.datadoghq:dd-trace-api:${datadoghq_dd_version}&quot;)\n</code></pre>\n<p>However, when i try to set micrometer bean:</p>\n<pre><code>@Configuration\npublic class MeterRegistryConfig {\n  @Bean\n  MeterRegistry meterRegistry(ApplicationContext context) {\n    DatadogConfig config = new DatadogConfig() {\n      @Override\n      public Duration step() {\n        return Duration.ofSeconds(10);\n      }\n\n      @Override\n      public String get(String k) {\n        return null; // accept the rest of the defaults\n      }\n    };\n\n    return new DatadogMeterRegistry(config, Clock.SYSTEM);\n  }\n}\n</code></pre>\n<p>I am getting a startup error:</p>\n<pre><code>2022-02-05 05:07:56.457 ERROR 7897 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'compositeMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/CompositeMeterRegistryConfiguration.class]: Unsatisfied dependency expressed through method 'compositeMeterRegistry' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'meterRegistry' defined in class path resource [com/hbomax/ml/mlsvc/config/MeterRegistryConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.micrometer.core.instrument.MeterRegistry]: Factory method 'meterRegistry' threw exception; nested exception is io.micrometer.core.instrument.config.validate.ValidationException: datadog.apiKey was 'null' but it is required\n2022-02-05 05:07:56.504  INFO 7897 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-02-05 05:07:56.520  WARN 7897 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-02-05 05:07:56.541  INFO 7897 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n</code></pre>\n<p>Here's my <code>application.yaml</code>:</p>\n<pre><code>management:\n  info:\n    git:\n      mode: full\n  metrics:\n    distribution:\n      percentiles:\n        http:\n          server:\n            requests: 0.5, 0.95, 0.99\n      percentiles-histogram:\n        http:\n          server:\n            requests: true\n      sla:\n        http:\n          server:\n            requests: 200ms, 400ms, 600ms\n    export:\n      datadog:\n        step: 30s\n        enabled: true\n        api-key: xxxxxxx\n    tags:\n      application: ${spring.application.name}\n      env: ${spring.profiles}\n</code></pre>\n<p>Can someone help me understand what is the issue? I tried searching around but din't get any solution. I tried replacing <code>api-key</code> with <code>apiKey</code>(I know it's silly) but no success.</p>\n<p>Any help folks?</p>\n"},{"tags":["java","jdbc","hana"],"comments":[{"owner":{"account_id":4954362,"reputation":1595,"user_id":3987417,"accept_rate":100,"display_name":"Hafiz Mujadid"},"score":0,"creation_date":1429088813,"post_id":19527109,"comment_id":47432412,"body_markdown":"Hi Davidson? I want to know how to get started to connect hana with java applications?","body":"Hi Davidson? I want to know how to get started to connect hana with java applications?"}],"answers":[{"tags":[],"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1511814586,"creation_date":1382558649,"answer_id":19551257,"question_id":19527109,"body_markdown":"I was using the incorrect SAP jar.  I was using sapdbc.jar when I needed the HANA client jar (ngdbc.jar).  It all connected after that jar and driver switch.\r\n\r\n\ttry {\r\n\t\tClass.forName(&quot;com.sap.db.jdbc.Driver&quot;);\r\n\t\t\r\n\t\tString url = &quot;jdbc:sap://xx.x.x.xxx:30015/?databaseName=DBNAME&quot;;\r\n\t\tString user = &quot;user&quot;;\r\n\t\tString password = &quot;password&quot;;\r\n\r\n\t\tConnection cn = java.sql.DriverManager.getConnection(url, user, password);\r\n\t\t\r\n\t\tResultSet rs = cn.createStatement().executeQuery(&quot;CALL MY_SCHEMA.STORED_PROC&quot;);\r\n\r\n        // ... do whatever with the results ...\r\n\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n","title":"Trouble connecting to a remote HANA database via JDBC","body":"<p>I was using the incorrect SAP jar.  I was using sapdbc.jar when I needed the HANA client jar (ngdbc.jar).  It all connected after that jar and driver switch.</p>\n\n<pre><code>try {\n    Class.forName(\"com.sap.db.jdbc.Driver\");\n\n    String url = \"jdbc:sap://xx.x.x.xxx:30015/?databaseName=DBNAME\";\n    String user = \"user\";\n    String password = \"password\";\n\n    Connection cn = java.sql.DriverManager.getConnection(url, user, password);\n\n    ResultSet rs = cn.createStatement().executeQuery(\"CALL MY_SCHEMA.STORED_PROC\");\n\n    // ... do whatever with the results ...\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7306330,"reputation":111,"user_id":5567129,"display_name":"Shah Muzaffar"},"score":1,"creation_date":1520940387,"post_id":23403402,"comment_id":85512878,"body_markdown":"where from can we get that ngdbc.jar other. I know we can get it from SAP client installation, but is there any other source to get it","body":"where from can we get that ngdbc.jar other. I know we can get it from SAP client installation, but is there any other source to get it"},{"owner":{"account_id":8727792,"reputation":315,"user_id":6528925,"accept_rate":60,"display_name":"Amresh"},"score":1,"creation_date":1559878215,"post_id":23403402,"comment_id":99564680,"body_markdown":"@ShahMuzaffar You can convert your project to Maven and install below dependency to pom file.\n     &lt;!-- https://mvnrepository.com/artifact/com.sap.cloud.db.jdbc/ngdbc --&gt;\n     &lt;dependency&gt;\n         &lt;groupId&gt;com.sap.cloud.db.jdbc&lt;/groupId&gt;\n         &lt;artifactId&gt;ngdbc&lt;/artifactId&gt;\n          &lt;version&gt;2.4.51&lt;/version&gt;\n         &lt;type&gt;jar&lt;/type&gt;\n     &lt;/dependency&gt;\n\nOr you can directly download the jar files from maven.","body":"@ShahMuzaffar You can convert your project to Maven and install below dependency to pom file.      &lt;!-- <a href=\"https://mvnrepository.com/artifact/com.sap.cloud.db.jdbc/ngdbc\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.sap.cloud.db.jdbc/ngdbc</a> --&gt;      &lt;dependency&gt;          &lt;groupId&gt;com.sap.cloud.db.jdbc&lt;/groupId&gt;          &lt;artifactId&gt;ngdbc&lt;/artifactId&gt;           &lt;version&gt;2.4.51&lt;/version&gt;          &lt;type&gt;jar&lt;/type&gt;      &lt;/dependency&gt;  Or you can directly download the jar files from maven."}],"tags":[],"owner":{"account_id":4254882,"reputation":705,"user_id":3480833,"accept_rate":79,"display_name":"JSNinja"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1398927219,"creation_date":1398927219,"answer_id":23403402,"question_id":19527109,"body_markdown":"Yes you are right you need to use the ngdbc.jar to make the connection.\r\n \r\nThe instance number is included in the port no. that you are connecting to.\r\n\r\ne.g if your port no. is 30015, then 00 is the instance.\r\n\r\nHope this helps. ","title":"Trouble connecting to a remote HANA database via JDBC","body":"<p>Yes you are right you need to use the ngdbc.jar to make the connection.</p>\n\n<p>The instance number is included in the port no. that you are connecting to.</p>\n\n<p>e.g if your port no. is 30015, then 00 is the instance.</p>\n\n<p>Hope this helps. </p>\n"}],"owner":{"account_id":752393,"reputation":1064,"user_id":1068388,"accept_rate":69,"display_name":"Davidson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20579,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":19551257,"answer_count":2,"score":2,"last_activity_date":1673973565,"creation_date":1382471749,"question_id":19527109,"body_markdown":"I&#39;m running a small Java program from my laptop trying to connect via JDBC to our HANA server for a &quot;Can we?&quot; prototype.\r\n\r\nI understand it&#39;s possible to connect via JDBC connection to a remote HANA server.\r\n\r\nHowever, I cannot.  Here&#39;s the methodology I&#39;m using from the Java program using the `sapdbc.jar` file.  I&#39;m just testing a connection here.\r\n\r\n\t\tDataSourceSapDB ds = new DataSourceSapDB();\r\n\t\tds.setServerName(&quot;10.x.x.xxx&quot;);\r\n\t\tds.setPort(30015);\r\n\t\tds.setDatabaseName(&quot;dbNAME&quot;);\r\n\t\tds.setUser(&quot;myUser&quot;);\r\n\t\tds.setPassword(&quot;myPassword&quot;);\r\n\t\tConnection c = ds.getConnection();\r\n\r\n\t\tif (c == null) return;\t\r\n\r\nThe instance is 00 but don&#39;t see where to include it in the connect string, if it is required.  I&#39;ve double-checked all the properties.\r\n\r\nOur HANA server is hosted by another company though access to it is inside our network.  Could this be a reason?  \r\n\r\nThanks for any assinstance.\r\n\r\nThe connection error I get is:\r\n\r\n&gt;    com.sap.dbtech.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: Cannot connect to jdbc:sapdb://10.x.x.xxxx:30015/dbNAME [Connect reply receive failed [Connection reset].].\r\n&gt;\r\n&gt;  at com.sap.dbtech.jdbc.DriverSapDB.connect(DriverSapDB.java:178)\r\n&gt;\r\n&gt;  at com.sap.dbtech.jdbcext.DataSourceSapDBBase.openPhysicalConnection(DataSourceSapDBBase.java:374)\r\n&gt;\r\n&gt;  at com.sap.dbtech.jdbcext.DataSourceSapDB.getConnection(DataSourceSapDB.java:49)\r\n&gt;\r\n&gt;  at com.glazers.hana.utils.HanaStoredProcedure.execute(HanaStoredProcedure.java:37)\r\n&gt;\r\n&gt;  at com.glazers.hana.utils.HanaStoredProcedure.main(HanaStoredProcedure.java:24)\r\n\r\n","title":"Trouble connecting to a remote HANA database via JDBC","body":"<p>I'm running a small Java program from my laptop trying to connect via JDBC to our HANA server for a &quot;Can we?&quot; prototype.</p>\n<p>I understand it's possible to connect via JDBC connection to a remote HANA server.</p>\n<p>However, I cannot.  Here's the methodology I'm using from the Java program using the <code>sapdbc.jar</code> file.  I'm just testing a connection here.</p>\n<pre><code>    DataSourceSapDB ds = new DataSourceSapDB();\n    ds.setServerName(&quot;10.x.x.xxx&quot;);\n    ds.setPort(30015);\n    ds.setDatabaseName(&quot;dbNAME&quot;);\n    ds.setUser(&quot;myUser&quot;);\n    ds.setPassword(&quot;myPassword&quot;);\n    Connection c = ds.getConnection();\n\n    if (c == null) return;  \n</code></pre>\n<p>The instance is 00 but don't see where to include it in the connect string, if it is required.  I've double-checked all the properties.</p>\n<p>Our HANA server is hosted by another company though access to it is inside our network.  Could this be a reason?</p>\n<p>Thanks for any assinstance.</p>\n<p>The connection error I get is:</p>\n<blockquote>\n<p>com.sap.dbtech.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: Cannot connect to jdbc:sapdb://10.x.x.xxxx:30015/dbNAME [Connect reply receive failed [Connection reset].].</p>\n<p>at com.sap.dbtech.jdbc.DriverSapDB.connect(DriverSapDB.java:178)</p>\n<p>at com.sap.dbtech.jdbcext.DataSourceSapDBBase.openPhysicalConnection(DataSourceSapDBBase.java:374)</p>\n<p>at com.sap.dbtech.jdbcext.DataSourceSapDB.getConnection(DataSourceSapDB.java:49)</p>\n<p>at com.glazers.hana.utils.HanaStoredProcedure.execute(HanaStoredProcedure.java:37)</p>\n<p>at com.glazers.hana.utils.HanaStoredProcedure.main(HanaStoredProcedure.java:24)</p>\n</blockquote>\n"},{"tags":["java","maven","pom.xml","project"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673973149,"post_id":75148972,"comment_id":132613650,"body_markdown":"This is not about a pom file - the pom will be created by the `archetype:generate`. The `IOException` has a different cause. Your command works fine on my machine. Can you try running this command in a folder without spaces? The space in &quot;Program Files&quot; has caused some issues for me in the past too.","body":"This is not about a pom file - the pom will be created by the <code>archetype:generate</code>. The <code>IOException</code> has a different cause. Your command works fine on my machine. Can you try running this command in a folder without spaces? The space in &quot;Program Files&quot; has caused some issues for me in the past too."},{"owner":{"account_id":20353987,"reputation":11,"user_id":14929953,"display_name":"Aleks Uher"},"score":0,"creation_date":1674053175,"post_id":75148972,"comment_id":132632993,"body_markdown":"Ok it worked in a different folder","body":"Ok it worked in a different folder"}],"owner":{"account_id":20353987,"reputation":11,"user_id":14929953,"display_name":"Aleks Uher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673973561,"creation_date":1673970736,"question_id":75148972,"body_markdown":"I was able to install Maven on my system (i.e. mvn --version returns the right result). However, I get an error when I try to build a project with mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false. I am including a screenshot of the error as an image[Maven error](https://i.stack.imgur.com/1bxiS.png). I can&#39;t seem to find the pom.xml file to target a Java version. Where is the pom.xml file after I installed Maven? I have the latest version of Maven. Thank you.\r\n\r\nI was able to install Maven, however, I followed the instructions on the site https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html for creating a project and it didn&#39;t work. ","title":"Trouble making a project with Maven","body":"<p>I was able to install Maven on my system (i.e. mvn --version returns the right result). However, I get an error when I try to build a project with mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false. I am including a screenshot of the error as an image<a href=\"https://i.stack.imgur.com/1bxiS.png\" rel=\"nofollow noreferrer\">Maven error</a>. I can't seem to find the pom.xml file to target a Java version. Where is the pom.xml file after I installed Maven? I have the latest version of Maven. Thank you.</p>\n<p>I was able to install Maven, however, I followed the instructions on the site <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html</a> for creating a project and it didn't work.</p>\n"},{"tags":["java","kotlin","gradle"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1673966572,"post_id":75147723,"comment_id":132611170,"body_markdown":"This suggests that you should not use compileOnly: https://tomgregory.com/gradle-implementation-vs-compile-dependencies/","body":"This suggests that you should not use compileOnly: <a href=\"https://tomgregory.com/gradle-implementation-vs-compile-dependencies/\" rel=\"nofollow noreferrer\">tomgregory.com/gradle-implementation-vs-compile-dependencies</a>"}],"owner":{"account_id":27553475,"reputation":11,"user_id":21028111,"display_name":"HEROOSTECH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673973529,"creation_date":1673964668,"question_id":75147723,"body_markdown":"i have a problem with Intellij. I have a dependency in gradle build file, when i use it in class and i will compile it with gradle it works without any problem, but intellij doesn&#39;t recognize classes in this one dependency.\r\n\r\n```\r\nplugins {\r\n    id (&quot;java&quot;)\r\n    id (&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.8.0&quot;\r\n}\r\n\r\ngroup = &quot;org.hypejet.exparkour&quot;\r\nversion = &quot;1.0&quot;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven(&quot;https://jitpack.io&quot;)\r\n}\r\n\r\ndependencies {\r\n    compileOnly(&quot;com.github.Minestom:Minestom:c995f9c3a9&quot;)\r\n    compileOnly(&quot;com.github.HypeJet:HypeStom:4a6bf2a44a&quot;)\r\n    compileOnly(&quot;org.mongodb:mongo-java-driver:3.12.11&quot;)\r\n}\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n    }\r\n}\r\n```\r\n\r\nI tried invalidating cache, removing .idea and .gradle folders, but nothing changed. I use kotlin and gradle kotlin dsl btw.","title":"Intellij doesn&#39;t recognize dependencies","body":"<p>i have a problem with Intellij. I have a dependency in gradle build file, when i use it in class and i will compile it with gradle it works without any problem, but intellij doesn't recognize classes in this one dependency.</p>\n<pre><code>plugins {\n    id (&quot;java&quot;)\n    id (&quot;org.jetbrains.kotlin.jvm&quot;) version &quot;1.8.0&quot;\n}\n\ngroup = &quot;org.hypejet.exparkour&quot;\nversion = &quot;1.0&quot;\n\nrepositories {\n    mavenCentral()\n    maven(&quot;https://jitpack.io&quot;)\n}\n\ndependencies {\n    compileOnly(&quot;com.github.Minestom:Minestom:c995f9c3a9&quot;)\n    compileOnly(&quot;com.github.HypeJet:HypeStom:4a6bf2a44a&quot;)\n    compileOnly(&quot;org.mongodb:mongo-java-driver:3.12.11&quot;)\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n</code></pre>\n<p>I tried invalidating cache, removing .idea and .gradle folders, but nothing changed. I use kotlin and gradle kotlin dsl btw.</p>\n"},{"tags":["java","ios","swift","encryption","public-key-encryption"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1671400425,"post_id":74844528,"comment_id":132086068,"body_markdown":"Java does **not** encode public keys using the PKCS1 format, instead it uses an arguably more common (and better) standard called SubjectPublicKeyInfo (or SPKI) format, specified in [RFC 5280](https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7). This standard is supported by many software packages, not just Java.","body":"Java does <b>not</b> encode public keys using the PKCS1 format, instead it uses an arguably more common (and better) standard called SubjectPublicKeyInfo (or SPKI) format, specified in <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7\" rel=\"nofollow noreferrer\">RFC 5280</a>. This standard is supported by many software packages, not just Java."},{"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"score":0,"creation_date":1671442093,"post_id":74844528,"comment_id":132092231,"body_markdown":"Thanks a lot @PresidentJamesK.Polk .. :) ... This little comment untied a huge knot I was carrying around .. :D","body":"Thanks a lot @PresidentJamesK.Polk .. :) ... This little comment untied a huge knot I was carrying around .. :D"}],"answers":[{"tags":[],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973498,"creation_date":1671744135,"answer_id":74893980,"question_id":74844528,"body_markdown":"# Why ... .. .\r\n\r\nBy today I have at least a **guess WHY** the keys differ.\r\nIf I had to categorize those two types ..\r\n* Public-Key Cryptography Standards (**PKCS**)\r\n* Simple public key infrastructure (**SPKI**)\r\n\r\n.. it would look like follows:\r\n\r\n```\r\nASN.1 object\r\n├── Human readable &amp; File-oriented\r\n│&#160;&#160; ├── base64\r\n│&#160;&#160; │&#160;&#160; └── PEM\r\n│&#160;&#160; └── binary\r\n│&#160;&#160;     ├── BER\r\n│&#160;&#160;     └── DER\r\n└── Compile time-oriented\r\n    └── SPKI\r\n```\r\nThe ASN.1-object is the upper level container ([Definition][1]).\r\n\r\nPEM, DER and BER are file-oriented representations of the key ([Source][2]).\r\n\r\n### PKCS#1 in PEM\r\n\r\n```\r\nTheory:\r\n-----Header----\r\n$ Base65 encoded Key (Here: PKCS#1\r\n-----Footer-----\r\n\r\nPraxis:\r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIHgMIGaAgEBMA0GCSqG...\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\nHeader and Footer contain meta-information about the delivered key, here: *RSA PRIVATE KEY*\r\nThis makes the key more likely to be human-readable - at least regarding the key administration &#39;by hand&#39;.\r\n\r\n### SPKI\r\n\r\nI assume that this meta-information is encoded within the SPKI-format. Therefore there is no further meta-information needed to parse the key. On the other hand this information can not be obtained easily without further knowledge. The human-readability is largely limited.\r\n\r\nHence:\r\n* Choose the key-format regarding your purpose.\r\n** For *machine-to-machine communication* **SPKI** might be the better choice.\r\n** For key administration which include human interaction, PEM seems a good choice.\r\n\r\nAfterall, in terms of security the two formats do not differ.\r\n\r\n\r\n# How ... .. .\r\n\r\nMore specifically, the **HOW** can be answered ...\r\n\r\n... the subsequent analysis stems from Java 17.\r\nThe information provided by Java is seen **here** as the &#39;ground truth&#39;. ... ;-)\r\n\r\n## Analyze keys generated by Java itself\r\n\r\n```java\r\n// Static inputs\r\nString algorithm = &quot;RSA&quot;;\r\nint keySize = 4096;\r\n\r\n// Key generation\r\nKeyPairGenerator generator = KeyPairGenerator.getInstance(algorithm);\r\ngenerator.initialize(keySize);\r\nKeyPair pair = generator.generateKeyPair();\r\n\r\n// Analysis\r\nSystem.out.println(&quot;----- PublicKey information -----&quot;);\r\nSystem.out.println(&quot;PublicKey algorithm: &quot; + pair.getPublic().getAlgorithm());\r\nSystem.out.println(&quot;PublicKey format: &quot; + pair.getPublic().getFormat());\r\n\r\nSystem.out.println(&quot;----- PrivateKey information -----&quot;);\r\nSystem.out.println(&quot;PrivateKey algorithm: &quot; + pair.getPrivate().getAlgorithm());\r\nSystem.out.println(&quot;PrivateKey format: &quot; + pair.getPrivate().getFormat());\r\n```\r\nOutput:\r\n```bash\r\n----- PublicKey information -----\r\nPublicKey algorithm: RSA\r\nPublicKey format: X.509\r\n----- PrivateKey information -----\r\nPrivateKey algorithm: RSA\r\nPrivateKey format: PKCS#8\r\n```\r\n\r\n## Conclusion\r\n\r\n### Java\r\n- Java generates its **PublicKeys** in the **x.509**-format.\r\n- PrivateKeys are generated in the PKCS#8-format.\r\n\r\n### Swift\r\n- Swift generates its **PublicKeys** in the **PKCS#1**-format.\r\n\r\nThese findings match the following answer in the apple-developer forum:\r\n- https://developer.apple.com/forums/thread/85915\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc8017#appendix-A\r\n  [2]: https://www.cryptosys.net/pki/manpki/pki_asn1objects.html","title":"Why do PKCS#1 PublicKeys from &#39;Java17 KeyFactory&#39; and Swift (iOS) differ?","body":"<h1>Why ... .. .</h1>\n<p>By today I have at least a <strong>guess WHY</strong> the keys differ.\nIf I had to categorize those two types ..</p>\n<ul>\n<li>Public-Key Cryptography Standards (<strong>PKCS</strong>)</li>\n<li>Simple public key infrastructure (<strong>SPKI</strong>)</li>\n</ul>\n<p>.. it would look like follows:</p>\n<pre><code>ASN.1 object\n├── Human readable &amp; File-oriented\n│   ├── base64\n│   │   └── PEM\n│   └── binary\n│       ├── BER\n│       └── DER\n└── Compile time-oriented\n    └── SPKI\n</code></pre>\n<p>The ASN.1-object is the upper level container (<a href=\"https://www.rfc-editor.org/rfc/rfc8017#appendix-A\" rel=\"nofollow noreferrer\">Definition</a>).</p>\n<p>PEM, DER and BER are file-oriented representations of the key (<a href=\"https://www.cryptosys.net/pki/manpki/pki_asn1objects.html\" rel=\"nofollow noreferrer\">Source</a>).</p>\n<h3>PKCS#1 in PEM</h3>\n<pre><code>Theory:\n-----Header----\n$ Base65 encoded Key (Here: PKCS#1\n-----Footer-----\n\nPraxis:\n-----BEGIN RSA PRIVATE KEY-----\nMIHgMIGaAgEBMA0GCSqG...\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>Header and Footer contain meta-information about the delivered key, here: <em>RSA PRIVATE KEY</em>\nThis makes the key more likely to be human-readable - at least regarding the key administration 'by hand'.</p>\n<h3>SPKI</h3>\n<p>I assume that this meta-information is encoded within the SPKI-format. Therefore there is no further meta-information needed to parse the key. On the other hand this information can not be obtained easily without further knowledge. The human-readability is largely limited.</p>\n<p>Hence:</p>\n<ul>\n<li>Choose the key-format regarding your purpose.\n** For <em>machine-to-machine communication</em> <strong>SPKI</strong> might be the better choice.\n** For key administration which include human interaction, PEM seems a good choice.</li>\n</ul>\n<p>Afterall, in terms of security the two formats do not differ.</p>\n<h1>How ... .. .</h1>\n<p>More specifically, the <strong>HOW</strong> can be answered ...</p>\n<p>... the subsequent analysis stems from Java 17.\nThe information provided by Java is seen <strong>here</strong> as the 'ground truth'. ... ;-)</p>\n<h2>Analyze keys generated by Java itself</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// Static inputs\nString algorithm = &quot;RSA&quot;;\nint keySize = 4096;\n\n// Key generation\nKeyPairGenerator generator = KeyPairGenerator.getInstance(algorithm);\ngenerator.initialize(keySize);\nKeyPair pair = generator.generateKeyPair();\n\n// Analysis\nSystem.out.println(&quot;----- PublicKey information -----&quot;);\nSystem.out.println(&quot;PublicKey algorithm: &quot; + pair.getPublic().getAlgorithm());\nSystem.out.println(&quot;PublicKey format: &quot; + pair.getPublic().getFormat());\n\nSystem.out.println(&quot;----- PrivateKey information -----&quot;);\nSystem.out.println(&quot;PrivateKey algorithm: &quot; + pair.getPrivate().getAlgorithm());\nSystem.out.println(&quot;PrivateKey format: &quot; + pair.getPrivate().getFormat());\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>----- PublicKey information -----\nPublicKey algorithm: RSA\nPublicKey format: X.509\n----- PrivateKey information -----\nPrivateKey algorithm: RSA\nPrivateKey format: PKCS#8\n</code></pre>\n<h2>Conclusion</h2>\n<h3>Java</h3>\n<ul>\n<li>Java generates its <strong>PublicKeys</strong> in the <strong>x.509</strong>-format.</li>\n<li>PrivateKeys are generated in the PKCS#8-format.</li>\n</ul>\n<h3>Swift</h3>\n<ul>\n<li>Swift generates its <strong>PublicKeys</strong> in the <strong>PKCS#1</strong>-format.</li>\n</ul>\n<p>These findings match the following answer in the apple-developer forum:</p>\n<ul>\n<li><a href=\"https://developer.apple.com/forums/thread/85915\" rel=\"nofollow noreferrer\">https://developer.apple.com/forums/thread/85915</a></li>\n</ul>\n"}],"owner":{"account_id":12986278,"reputation":171,"user_id":9387072,"display_name":"d.braun1991"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1673973498,"creation_date":1671398708,"question_id":74844528,"body_markdown":"# Update (tl;dr)\r\n\r\n- **Swift** (iOS) produces PKCS#1-formatted keys\r\n- **Java** 17 produces keys which look alike but are slightly different using the **SubjectPublicKeyInfo** (or SPKI) specification, following [RFC 5280][1]\r\n\r\n---\r\n\r\n# Objective\r\nCreating equally formatted public keys in PKCS#1-format\r\n\r\n## General approach\r\nI am generating 4096 RSA public keys, in both ...\r\n- Java 17\r\n- Swift in iOS emulator (iPhone 14)\r\n\r\nSamples of the subsequent generated and keys can be found in the **Appendix**.\r\n\r\n\r\n### Sample Code: Generating a KeyPair (Swift - iOS)\r\n```swift\r\n// Keypair attributes\r\nlet tag = &quot;my_personal_keystore_keypair_alias&quot;.data(using: .utf8)!\r\nlet attributes: [String: Any] =\r\n    [kSecAttrKeyType as String:            kSecAttrKeyTypeRSA,\r\n     kSecAttrKeySizeInBits as String:      &quot;4096&quot;,\r\n     kSecPrivateKeyAttrs as String:\r\n        [kSecAttrIsPermanent as String:    true,\r\n         kSecAttrApplicationTag as String: tag]\r\n]\r\nvar error: Unmanaged&lt;CFError&gt;?\r\n\r\n// Generate PrivateKey / Keypair\r\nguard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &amp;error) else {\r\n    throw error!.takeRetainedValue() as Error\r\n}\r\n\r\n// Extract PublicKey\r\nguard let publicKey = SecKeyCopyPublicKey(privateKey),\r\n      let publicKeyOptional = SecKeyCopyExternalRepresentation(publicKey, nil) else {\r\n    return &quot;PublicKey could not be accessed.&quot;\r\n}\r\nlet publicKeyData = publicKeyOptional as Data\r\nlet base64PublicKey = publicKeyData.base64EncodedString()\r\nprint(&quot;PublicKey, base64:   &quot;, base64PublicKey)\r\n```\r\n\r\n\r\n### Sample Code: Generating a KeyPair (Java 17)\r\n\r\n```java\r\nprivate static String getPublicKey() {\r\n    KeyPairGenerator generator;\r\n    try {\r\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n        throw new EncryptionException(e);\r\n    }\r\n    generator.initialize(4096);\r\n    KeyPair pair = generator.generateKeyPair();\r\n    return Base64.getEncoder().encodeToString(pair.getPublic().getEncoded());\r\n}\r\n```\r\n\r\n# Aim - Parsing the keys in Java 17\r\nContrary to the assumption that the keys are formatted equally, the Java-side code is only capable to read the keys generated by Java itself.\r\n\r\n## Solution for keys generated by Java 17\r\n\r\nParsing the key(s) generated by Java 17:\r\n```java\r\npublic Optional&lt;PublicKey&gt; validateKeyFromJava(String publicKey) {\r\n    try {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKey);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\r\n        EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n        return Optional.ofNullable(keyFactory.generatePublic(publicKeySpec));\r\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\n## Problem: Parsing the keys generated via Swift (iOS)\r\n&gt; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: algid parse error, not a sequence\r\n\tat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:241)\r\n\tat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:351)\r\n\r\n\r\n### NOT WANTED - Workaround for keys generated via Swift (iOS)\r\n\r\nUsing an external dependency ..\r\n&gt; import org.bouncycastle.asn1.ASN1Sequence;\r\n\r\n.. it is possible to parse the iOS keys as well.\r\nThe key can thereafter be used to properly encrypt &#39;payload&#39; ...\r\n\r\nParsing the key(s) generated via Swift (iOS):\r\n```java\r\npublic Optional&lt;PublicKey&gt; validateKeyFromIOS (String publicKeyANS1) {\r\n    try {\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyANS1);\r\n\r\n        ASN1Sequence sequence = ASN1Sequence.getInstance(publicKeyBytes);\r\n        ASN1Integer modulus = ASN1Integer.getInstance(sequence.getObjectAt(0));\r\n        ASN1Integer exponent = ASN1Integer.getInstance(sequence.getObjectAt(1));\r\n        RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus.getPositiveValue(),\r\n                exponent.getPositiveValue());\r\n\r\n        KeyFactory factory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\r\n\r\n        return Optional.ofNullable(factory.generatePublic(keySpec));\r\n    } catch (NoSuchAlgorithmException e) {\r\n        String errorInfo = &quot;iOS-PublicKey - Erwarteter Algorithmus: RSA, Retrieved: &quot; +\r\n                e.getMessage();\r\n        sendToErrorQueue(e, errorInfo);\r\n        return Optional.empty();\r\n    } catch (InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\r\n        sendToErrorQueue(e, &quot;Der iOS-PublicKey entspricht nicht der erwarteten Specification.&quot;);\r\n        return Optional.empty();\r\n    }\r\n}\r\n```\r\n\r\n... Still it is a different way to read the keys.\r\nTherefore the keys have to be somehow different.\r\n\r\n\r\n### Wrapping up\r\n\r\nBoth systems produce keys which are PKCS#1-formatted.\r\nThis can be examined (see Appendix)\r\nThe keys are somewhat different.\r\n\r\n# Questions to be answered:\r\n1) What is the difference?\r\n2) Major - is it possible to generate public keys in Swift (iOS) alike those in Java 17?\r\n3) Minor - is it possible for Java 17 to read the keys generated by Swift (iOS) without the BouncyCastle dependency?\r\n- Aim: Reduction of switches in the code for different input paths.\r\n\r\n\r\n# Appendix\r\n\r\nAll keys may be analyzed:\r\n- https://8gwifi.org/PemParserFunctions.jsp\r\n\r\nMultiple keys are given to prevent &#39;lucky shots&#39; ..  ;-)\r\n\r\n\r\n## Sample keys - Swift iOS\r\nFirst:\r\n&gt; MIICCgKCAgEAl0HYn9IdRmexAR9dSh3SxmFazWF0RV2TKmtRxGySvCA+aHZ/Dp+8tC0YDWpQzP+tZdlDWNOBj/D7i1z4b+UZk8F9ZEoi+w61kYQz+KjMkRuYrPBFi4A/gsS2qGeFJ4OvLQzGObZ0C+5/E+wunUWyQCVjgjTHKH8yqfVXeWYFKmaSSZblSZJAObE8Ao5J38DMINF1oWG+GdZt8RTLf35ULLEa8zKvFXrfBkDjiQH90WKPwDxWwvFInqZhjpsFxLytiKW+iBLqa4+0P7uwXVodFXa38RW9dk9mEsLvj6764BKtPAaWym9XZfEZNBu0jwlfO07k0augynGps6bsSIyYglDImlTRagdA/e+1AMBlSxEFVO4NpCjEpMT7rNX/LYPeEaJ8fTC3axOM1yEntcwUfSSCDulVPGlWlFbPxt29y1RrGtMmwfbTlbOQf2okMf0mGx9Ytd9HWadIdWh4FqDVWA8MF82PP1YsOW5TA0hkprK1qJwfkaLRKnmpfL5a7gWn4HWzpdDqrezhbc/zTCeHbX5c61mgWsAIWnB3fyXsJHpR62+QtBEznwhDxafVCQyUmsDqbncBxilEnFIn08G+6ox2PQC8GhNdpFVGsSoqpDfctsm51/tUYLpyeIBdzw/3nMLL1J5jL3yWr7ZKgnzNwjpC8l6c6gpsF3NRodeVhp8CAwEAAQ==\r\n\r\n\r\nSecond:\r\n&gt; MIICCgKCAgEAlSbN7rlX6EMCDGuxQm9G6qqXIWshDvI5VaN4QPNCFcFzPjI/FyaHqi43+mxTyKGycT6TNqvanSu67yoIA80tSlFH2LndWv6sPQeHKxNwwFKU98Y/uL3M6hKIVXDwa6kZGM58dfY9qMWEOPXB4AwZtVaxJ4ePHFAR0kEOAHLCPpQxFkNlkg9FlCwlBzZbhHkI5uhCmlGEiLpLaJNJzjn7yo33m65189J6tIh3vopZ2ahFHb/vo6SVSbtS7Y0YlinJwH3MCGLm5+pKBpE64t5lgEhDPYSF7pKpLhEVqC5ETaya3mYTkXPSCiY/9Mo5zddniUGrxAJaY940jY3QNYeFmWPEEdhhIW2tUbuiM3IlHAqk4Du5p/2o1QcSVZdBsHStSGdcWqs00Z+ooxXwrOpMOUnZeb8Jt5dGDyHwjOmPf0N8dDQwz+5pgOoTkxd/z5cTK9tMv/nC+Mbbt8LRsct16M3LYrRAYnA8unX1ZD3eXTJPOSB/fM9Hmf1ObxQro9tatC5RaJjS0Xg5aepUsey62BW9lj4kHCkRPD4w1OmjDWGUCOSEhwy0KwqFyRBppYUMndEbJb3GKEjpekcQYwjERPtH/vEVxaN5gGYaCORancUaNH+d03zAmi0G830QXQvyohyKUkGw5qljEBH5R5Wqu7YLTlUes0rQEx8DpLVclaMCAwEAAQ==\r\n\r\n\r\n\r\n## Sample keys - Java 17\r\nFirst:\r\n&gt; MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqwMRLS3hhNuVBQTqRT4714fbl4h3PtrSZQ8Ry1qMCefFOLzmLmLD/VdnFoHj3QiqlZMlajvVuJonprhOy911aNW2Qs2VZ+zoMkLRjah9gqg00dLVtdWa2FXjAX6bh/rSR6jmF1hzfLPs/CqOKyDpX003AUF/WvgHkuAizQjZeskEDKawbExs6RSSFHNycrGwB9hBhAwGvyZpC2+fqPN/93W2NZ8xyb5H6CmM7pCpG+sTcsEEYOZjjq2HV8vYdM9KHi7O+nmY0MJxjLJ5JOv5oLqPXFt4Epezz4v2C3oE3Leu4gIy1r1D2xHuxu0pyQ9F2nI7a+6mGZbRAYDA8Yq2oidqBDC9pKogoHcMYhXj/G0WNEhE9ODuHg+GkiiGc3zysuKwfKu1Z5ZmUtlI1kVFqUEEi81smylTXtkU/oEf7P0OX94XcNTq1N3iO+nuFayAhINlvLUXwyO4JQUsmCyu0bH17XuNUfbnSCmOfGhFSjpyU0PthW9Qtf9yY9MmyZz9c9T2kfxoUxBnNRhVUZ+Kg8oA6kkNJp/ac+AdZzkPZFev91ZKYCbyI+rcakJ4KBQ5YoprDtpHmAQZ5E3/rWcq1Tis0yiomE2+natrzaO4aQbrljOHEgB6arbMkeu7/sZHEvYfK7ilH7tsZfDdU2DVOV0yxNReYwOHAFgFMTNQvBsCAwEAAQ==\r\n\r\n\r\nSecond:\r\n&gt; MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs9ywiZnmv9Ewf+dIsmwV8ZlZKQNg4lbVLpNptb3pftnoukvBjak1rDqb6GcxXtM+UuBgr4Wigi0TI+vItzWv6QlBB8HShA4WImKrOCD3+U1fFdDpwCxQO+oHqTqeNKhRcKcM0e0C/c88hJo8l9G2OCjIANW3O+pGeMirB/XjPdcQ+d37TFGpRs83wPR8gUFQsH8qQMkS7uOtTCZHfcK6UzbvJB3Gf/llcCSfPYKUMY9SXIc5K9hpI0E1v5EdEUvdbhiilZI0esntr5BzeO5AxH/m9fFPH9ekZZyc9nXsHY7tPOJMD+wsTad4D9NBGi9x+lzxZRdxyDLote4ix+aHSqMgcdtOyJ69WFym2Ty1VfCgrmG8fhC/PZBEzk6obK5uJD4mO3owrKgYsmJgZHO3CbVkmv04+EEPpQLippQu8uCl+2KO480EvjSco5ryVH3XEsAGokBLCsZviBtntY/Ia0OLXPmy7WWXigxsVQkgPZ1SyZa3FUp/Zuwtoo0BWDI/9JdUZPfKhbQkcxtnKbCe8QXf51YUgIfKXPTBlmk/Zj931EzXdQCZFMvgK+I5p79DqCsD9yKbiUnfK9tXJ4SzMfuiLd4pqB0UIMVMQEj5SZPYn7eHRZyje4v96FDwtj56NQ/kZPYXKqLoOv5nvMALZngzJ6aFaGjkWZX9RNQLfA8CAwEAAQ==\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7","title":"Why do PKCS#1 PublicKeys from &#39;Java17 KeyFactory&#39; and Swift (iOS) differ?","body":"<h1>Update (tl;dr)</h1>\n<ul>\n<li><strong>Swift</strong> (iOS) produces PKCS#1-formatted keys</li>\n<li><strong>Java</strong> 17 produces keys which look alike but are slightly different using the <strong>SubjectPublicKeyInfo</strong> (or SPKI) specification, following <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-4.1.2.7\" rel=\"nofollow noreferrer\">RFC 5280</a></li>\n</ul>\n<hr />\n<h1>Objective</h1>\n<p>Creating equally formatted public keys in PKCS#1-format</p>\n<h2>General approach</h2>\n<p>I am generating 4096 RSA public keys, in both ...</p>\n<ul>\n<li>Java 17</li>\n<li>Swift in iOS emulator (iPhone 14)</li>\n</ul>\n<p>Samples of the subsequent generated and keys can be found in the <strong>Appendix</strong>.</p>\n<h3>Sample Code: Generating a KeyPair (Swift - iOS)</h3>\n<pre class=\"lang-swift prettyprint-override\"><code>// Keypair attributes\nlet tag = &quot;my_personal_keystore_keypair_alias&quot;.data(using: .utf8)!\nlet attributes: [String: Any] =\n    [kSecAttrKeyType as String:            kSecAttrKeyTypeRSA,\n     kSecAttrKeySizeInBits as String:      &quot;4096&quot;,\n     kSecPrivateKeyAttrs as String:\n        [kSecAttrIsPermanent as String:    true,\n         kSecAttrApplicationTag as String: tag]\n]\nvar error: Unmanaged&lt;CFError&gt;?\n\n// Generate PrivateKey / Keypair\nguard let privateKey = SecKeyCreateRandomKey(attributes as CFDictionary, &amp;error) else {\n    throw error!.takeRetainedValue() as Error\n}\n\n// Extract PublicKey\nguard let publicKey = SecKeyCopyPublicKey(privateKey),\n      let publicKeyOptional = SecKeyCopyExternalRepresentation(publicKey, nil) else {\n    return &quot;PublicKey could not be accessed.&quot;\n}\nlet publicKeyData = publicKeyOptional as Data\nlet base64PublicKey = publicKeyData.base64EncodedString()\nprint(&quot;PublicKey, base64:   &quot;, base64PublicKey)\n</code></pre>\n<h3>Sample Code: Generating a KeyPair (Java 17)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>private static String getPublicKey() {\n    KeyPairGenerator generator;\n    try {\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n    } catch (NoSuchAlgorithmException e) {\n        throw new EncryptionException(e);\n    }\n    generator.initialize(4096);\n    KeyPair pair = generator.generateKeyPair();\n    return Base64.getEncoder().encodeToString(pair.getPublic().getEncoded());\n}\n</code></pre>\n<h1>Aim - Parsing the keys in Java 17</h1>\n<p>Contrary to the assumption that the keys are formatted equally, the Java-side code is only capable to read the keys generated by Java itself.</p>\n<h2>Solution for keys generated by Java 17</h2>\n<p>Parsing the key(s) generated by Java 17:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;PublicKey&gt; validateKeyFromJava(String publicKey) {\n    try {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKey);\n        KeyFactory keyFactory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\n        EncodedKeySpec publicKeySpec = new X509EncodedKeySpec(publicKeyBytes);\n        return Optional.ofNullable(keyFactory.generatePublic(publicKeySpec));\n    } catch (NoSuchAlgorithmException | InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\n        return Optional.empty();\n    }\n}\n</code></pre>\n<h2>Problem: Parsing the keys generated via Swift (iOS)</h2>\n<blockquote>\n<p>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: algid parse error, not a sequence\nat java.base/sun.security.rsa.RSAKeyFactory.engineGeneratePublic(RSAKeyFactory.java:241)\nat java.base/java.security.KeyFactory.generatePublic(KeyFactory.java:351)</p>\n</blockquote>\n<h3>NOT WANTED - Workaround for keys generated via Swift (iOS)</h3>\n<p>Using an external dependency ..</p>\n<blockquote>\n<p>import org.bouncycastle.asn1.ASN1Sequence;</p>\n</blockquote>\n<p>.. it is possible to parse the iOS keys as well.\nThe key can thereafter be used to properly encrypt 'payload' ...</p>\n<p>Parsing the key(s) generated via Swift (iOS):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;PublicKey&gt; validateKeyFromIOS (String publicKeyANS1) {\n    try {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyANS1);\n\n        ASN1Sequence sequence = ASN1Sequence.getInstance(publicKeyBytes);\n        ASN1Integer modulus = ASN1Integer.getInstance(sequence.getObjectAt(0));\n        ASN1Integer exponent = ASN1Integer.getInstance(sequence.getObjectAt(1));\n        RSAPublicKeySpec keySpec = new RSAPublicKeySpec(modulus.getPositiveValue(),\n                exponent.getPositiveValue());\n\n        KeyFactory factory = KeyFactory.getInstance(EncryptionProperties.ALGORITHM);\n\n        return Optional.ofNullable(factory.generatePublic(keySpec));\n    } catch (NoSuchAlgorithmException e) {\n        String errorInfo = &quot;iOS-PublicKey - Erwarteter Algorithmus: RSA, Retrieved: &quot; +\n                e.getMessage();\n        sendToErrorQueue(e, errorInfo);\n        return Optional.empty();\n    } catch (InvalidKeySpecException | IllegalArgumentException | NullPointerException e) {\n        sendToErrorQueue(e, &quot;Der iOS-PublicKey entspricht nicht der erwarteten Specification.&quot;);\n        return Optional.empty();\n    }\n}\n</code></pre>\n<p>... Still it is a different way to read the keys.\nTherefore the keys have to be somehow different.</p>\n<h3>Wrapping up</h3>\n<p>Both systems produce keys which are PKCS#1-formatted.\nThis can be examined (see Appendix)\nThe keys are somewhat different.</p>\n<h1>Questions to be answered:</h1>\n<ol>\n<li>What is the difference?</li>\n<li>Major - is it possible to generate public keys in Swift (iOS) alike those in Java 17?</li>\n<li>Minor - is it possible for Java 17 to read the keys generated by Swift (iOS) without the BouncyCastle dependency?</li>\n</ol>\n<ul>\n<li>Aim: Reduction of switches in the code for different input paths.</li>\n</ul>\n<h1>Appendix</h1>\n<p>All keys may be analyzed:</p>\n<ul>\n<li><a href=\"https://8gwifi.org/PemParserFunctions.jsp\" rel=\"nofollow noreferrer\">https://8gwifi.org/PemParserFunctions.jsp</a></li>\n</ul>\n<p>Multiple keys are given to prevent 'lucky shots' ..  ;-)</p>\n<h2>Sample keys - Swift iOS</h2>\n<p>First:</p>\n<blockquote>\n<p>MIICCgKCAgEAl0HYn9IdRmexAR9dSh3SxmFazWF0RV2TKmtRxGySvCA+aHZ/Dp+8tC0YDWpQzP+tZdlDWNOBj/D7i1z4b+UZk8F9ZEoi+w61kYQz+KjMkRuYrPBFi4A/gsS2qGeFJ4OvLQzGObZ0C+5/E+wunUWyQCVjgjTHKH8yqfVXeWYFKmaSSZblSZJAObE8Ao5J38DMINF1oWG+GdZt8RTLf35ULLEa8zKvFXrfBkDjiQH90WKPwDxWwvFInqZhjpsFxLytiKW+iBLqa4+0P7uwXVodFXa38RW9dk9mEsLvj6764BKtPAaWym9XZfEZNBu0jwlfO07k0augynGps6bsSIyYglDImlTRagdA/e+1AMBlSxEFVO4NpCjEpMT7rNX/LYPeEaJ8fTC3axOM1yEntcwUfSSCDulVPGlWlFbPxt29y1RrGtMmwfbTlbOQf2okMf0mGx9Ytd9HWadIdWh4FqDVWA8MF82PP1YsOW5TA0hkprK1qJwfkaLRKnmpfL5a7gWn4HWzpdDqrezhbc/zTCeHbX5c61mgWsAIWnB3fyXsJHpR62+QtBEznwhDxafVCQyUmsDqbncBxilEnFIn08G+6ox2PQC8GhNdpFVGsSoqpDfctsm51/tUYLpyeIBdzw/3nMLL1J5jL3yWr7ZKgnzNwjpC8l6c6gpsF3NRodeVhp8CAwEAAQ==</p>\n</blockquote>\n<p>Second:</p>\n<blockquote>\n<p>MIICCgKCAgEAlSbN7rlX6EMCDGuxQm9G6qqXIWshDvI5VaN4QPNCFcFzPjI/FyaHqi43+mxTyKGycT6TNqvanSu67yoIA80tSlFH2LndWv6sPQeHKxNwwFKU98Y/uL3M6hKIVXDwa6kZGM58dfY9qMWEOPXB4AwZtVaxJ4ePHFAR0kEOAHLCPpQxFkNlkg9FlCwlBzZbhHkI5uhCmlGEiLpLaJNJzjn7yo33m65189J6tIh3vopZ2ahFHb/vo6SVSbtS7Y0YlinJwH3MCGLm5+pKBpE64t5lgEhDPYSF7pKpLhEVqC5ETaya3mYTkXPSCiY/9Mo5zddniUGrxAJaY940jY3QNYeFmWPEEdhhIW2tUbuiM3IlHAqk4Du5p/2o1QcSVZdBsHStSGdcWqs00Z+ooxXwrOpMOUnZeb8Jt5dGDyHwjOmPf0N8dDQwz+5pgOoTkxd/z5cTK9tMv/nC+Mbbt8LRsct16M3LYrRAYnA8unX1ZD3eXTJPOSB/fM9Hmf1ObxQro9tatC5RaJjS0Xg5aepUsey62BW9lj4kHCkRPD4w1OmjDWGUCOSEhwy0KwqFyRBppYUMndEbJb3GKEjpekcQYwjERPtH/vEVxaN5gGYaCORancUaNH+d03zAmi0G830QXQvyohyKUkGw5qljEBH5R5Wqu7YLTlUes0rQEx8DpLVclaMCAwEAAQ==</p>\n</blockquote>\n<h2>Sample keys - Java 17</h2>\n<p>First:</p>\n<blockquote>\n<p>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAqwMRLS3hhNuVBQTqRT4714fbl4h3PtrSZQ8Ry1qMCefFOLzmLmLD/VdnFoHj3QiqlZMlajvVuJonprhOy911aNW2Qs2VZ+zoMkLRjah9gqg00dLVtdWa2FXjAX6bh/rSR6jmF1hzfLPs/CqOKyDpX003AUF/WvgHkuAizQjZeskEDKawbExs6RSSFHNycrGwB9hBhAwGvyZpC2+fqPN/93W2NZ8xyb5H6CmM7pCpG+sTcsEEYOZjjq2HV8vYdM9KHi7O+nmY0MJxjLJ5JOv5oLqPXFt4Epezz4v2C3oE3Leu4gIy1r1D2xHuxu0pyQ9F2nI7a+6mGZbRAYDA8Yq2oidqBDC9pKogoHcMYhXj/G0WNEhE9ODuHg+GkiiGc3zysuKwfKu1Z5ZmUtlI1kVFqUEEi81smylTXtkU/oEf7P0OX94XcNTq1N3iO+nuFayAhINlvLUXwyO4JQUsmCyu0bH17XuNUfbnSCmOfGhFSjpyU0PthW9Qtf9yY9MmyZz9c9T2kfxoUxBnNRhVUZ+Kg8oA6kkNJp/ac+AdZzkPZFev91ZKYCbyI+rcakJ4KBQ5YoprDtpHmAQZ5E3/rWcq1Tis0yiomE2+natrzaO4aQbrljOHEgB6arbMkeu7/sZHEvYfK7ilH7tsZfDdU2DVOV0yxNReYwOHAFgFMTNQvBsCAwEAAQ==</p>\n</blockquote>\n<p>Second:</p>\n<blockquote>\n<p>MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAs9ywiZnmv9Ewf+dIsmwV8ZlZKQNg4lbVLpNptb3pftnoukvBjak1rDqb6GcxXtM+UuBgr4Wigi0TI+vItzWv6QlBB8HShA4WImKrOCD3+U1fFdDpwCxQO+oHqTqeNKhRcKcM0e0C/c88hJo8l9G2OCjIANW3O+pGeMirB/XjPdcQ+d37TFGpRs83wPR8gUFQsH8qQMkS7uOtTCZHfcK6UzbvJB3Gf/llcCSfPYKUMY9SXIc5K9hpI0E1v5EdEUvdbhiilZI0esntr5BzeO5AxH/m9fFPH9ekZZyc9nXsHY7tPOJMD+wsTad4D9NBGi9x+lzxZRdxyDLote4ix+aHSqMgcdtOyJ69WFym2Ty1VfCgrmG8fhC/PZBEzk6obK5uJD4mO3owrKgYsmJgZHO3CbVkmv04+EEPpQLippQu8uCl+2KO480EvjSco5ryVH3XEsAGokBLCsZviBtntY/Ia0OLXPmy7WWXigxsVQkgPZ1SyZa3FUp/Zuwtoo0BWDI/9JdUZPfKhbQkcxtnKbCe8QXf51YUgIfKXPTBlmk/Zj931EzXdQCZFMvgK+I5p79DqCsD9yKbiUnfK9tXJ4SzMfuiLd4pqB0UIMVMQEj5SZPYn7eHRZyje4v96FDwtj56NQ/kZPYXKqLoOv5nvMALZngzJ6aFaGjkWZX9RNQLfA8CAwEAAQ==</p>\n</blockquote>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673903108,"post_id":75137779,"comment_id":132596792,"body_markdown":"Calling partition function on the same key would result in the exact same partition since it&#39;s a hash. Please show your producer code in a [mcve]. Also, just try upgrading and see if it&#39;s fixed. Your clients don&#39;t need to match the broker","body":"Calling partition function on the same key would result in the exact same partition since it&#39;s a hash. Please show your producer code in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also, just try upgrading and see if it&#39;s fixed. Your clients don&#39;t need to match the broker"},{"owner":{"account_id":16412982,"reputation":87,"user_id":11855780,"display_name":"ctimus"},"score":0,"creation_date":1673905116,"post_id":75137779,"comment_id":132597341,"body_markdown":"I have updated the description with further details.","body":"I have updated the description with further details."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673913804,"post_id":75137779,"comment_id":132599031,"body_markdown":"You&#39;ve pointed at source code, sure. But show your actual producer application, proving that offsets are &quot;only written to even partitions&quot;","body":"You&#39;ve pointed at source code, sure. But show your actual producer application, proving that offsets are &quot;only written to even partitions&quot;"},{"owner":{"account_id":16412982,"reputation":87,"user_id":11855780,"display_name":"ctimus"},"score":0,"creation_date":1673934551,"post_id":75137779,"comment_id":132601780,"body_markdown":"Yes updated with code snippets and results","body":"Yes updated with code snippets and results"},{"owner":{"account_id":14472778,"reputation":171,"user_id":10454213,"display_name":"BLUE"},"score":0,"creation_date":1698909094,"post_id":75137779,"comment_id":136464625,"body_markdown":"Bumped into the same situation. I don&#39;t understand why KAFKA is ignoring this issue.","body":"Bumped into the same situation. I don&#39;t understand why KAFKA is ignoring this issue."}],"owner":{"account_id":16412982,"reputation":87,"user_id":11855780,"display_name":"ctimus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673973375,"creation_date":1673890653,"question_id":75137779,"body_markdown":"I have encountered an issue where I found that Kafka is sending to messages only to the even numbered partitions. \r\n\r\nAfter exploring, found that Kafka has this open bug reported wherein partition method gets called twice, leading to skipping odd partitions.\r\n\r\nhttps://issues.apache.org/jira/browse/KAFKA-9965\r\n\r\nThere was PR raised during Oct 2021 and after that couldn&#39;t find any further update.\r\n\r\n**Does anyone know if Kafka has fixed this issue and released any patch ? I am using Kakfa version 2.4.1.**\r\n\r\nPlease see the comment from the ticket\r\n\r\n*RoundRobinPartitioner states that it will provide equal distribution of records across partitions. However with the enhancements made in KIP-480, it may not. In some cases, when a new batch is started, the partitioner may be called a second time for the same record:\r\nhttps://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L909\r\nhttps://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L934\r\nEach time the partitioner is called, it increments a counter in RoundRobinPartitioner, so this can result in unequal distribution.*\r\n\r\n\r\n**Code snippet**\r\n\r\n    package com.example.javakafka;\r\n    \r\n    import org.apache.kafka.clients.producer.KafkaProducer;\r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.clients.producer.ProducerRecord;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class ProducerDemo {\r\n        private static final Logger log = LoggerFactory.getLogger(ProducerDemo.class);\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String bootstrapServers = &quot;127.0.0.1:9092&quot;;\r\n    \r\n            // create Producer properties\r\n            Properties properties = new Properties();\r\n            properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n            properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n            properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n            properties.setProperty(&quot;partitioner.class&quot;, &quot;com.example.javakafka.RoundRobinPartitionerNew&quot;);\r\n    \r\n            // create the producer\r\n            KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n    \r\n            // create a producer record\r\n            ProducerRecord&lt;String, String&gt; producerRecord ;\r\n    \r\n            int counter = 0;\r\n    \r\n            while(counter &lt; 40) {\r\n    \r\n                // create a producer record\r\n                producerRecord =\r\n                        new ProducerRecord&lt;&gt;(&quot;demo-java-topic-10&quot;, &quot;hello world&quot;);\r\n    \r\n                // send data - asynchronous\r\n                producer.send(producerRecord);\r\n                counter++;\r\n            }\r\n    \r\n            // flush data - synchronous\r\n            producer.flush();\r\n            // flush and close producer\r\n            producer.close();\r\n        }\r\n    }\r\n\r\nRoundRobinPartitionerNew Class - Same code as in Kafka API *org.apache.kafka.clients.producer.RoundRobinPartitioner*\r\n\r\n    package com.example.javakafka;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ConcurrentMap;\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    import org.apache.kafka.clients.producer.Partitioner;\r\n    import org.apache.kafka.common.Cluster;\r\n    import org.apache.kafka.common.PartitionInfo;\r\n    import org.apache.kafka.common.utils.Utils;\r\n    \r\n    public class RoundRobinPartitionerNew implements Partitioner {\r\n        private final ConcurrentMap&lt;String, AtomicInteger&gt; topicCounterMap = new ConcurrentHashMap();\r\n    \r\n        public RoundRobinPartitionerNew() {\r\n        }\r\n    \r\n        public void configure(Map&lt;String, ?&gt; configs) {\r\n        }\r\n    \r\n        public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {\r\n            List&lt;PartitionInfo&gt; partitions = cluster.partitionsForTopic(topic);\r\n            int numPartitions = partitions.size();\r\n            int nextValue = this.nextValue(topic);\r\n            List&lt;PartitionInfo&gt; availablePartitions = cluster.availablePartitionsForTopic(topic);\r\n            if (!availablePartitions.isEmpty()) {\r\n                int part = Utils.toPositive(nextValue) % availablePartitions.size();\r\n                return ((PartitionInfo)availablePartitions.get(part)).partition();\r\n            } else {\r\n                return Utils.toPositive(nextValue) % numPartitions;\r\n            }\r\n        }\r\n    \r\n        private int nextValue(String topic) {\r\n            AtomicInteger counter = (AtomicInteger)this.topicCounterMap.computeIfAbsent(topic, (k) -&gt; {\r\n                return new AtomicInteger(0);\r\n            });\r\n            return counter.getAndIncrement();\r\n        }\r\n    \r\n        public void close() {\r\n        }\r\n    }\r\n\r\n\r\nIf I use version 1.0.0 and use the partitioner &quot;org.apache.kafka.clients.producer.RoundRobinPartitionerNew&quot; \r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nit will properly distribute the messages as follows:\r\n\r\n\r\n\r\n    CreateTime:1673933856783\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:9\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:8\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:5\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:4\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:7\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:6\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:1\tnull\thello world\r\n    CreateTime:1673933856781\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:0\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:3\tnull\thello world\r\n    CreateTime:1673933856783\tPartition:2\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:2\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:2\tnull\thello world\r\n    CreateTime:1673933856784\tPartition:2\tnull\thello world\r\n\r\n\r\nIf I use the version 2.4.1 onwards and use the same partitioner \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI get below where only even numbered partitions are assigned\r\n\r\n    CreateTime:1673933438685\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:8\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:4\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:6\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:0\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n    CreateTime:1673933438688\tPartition:2\tnull\thello world\r\n\r\n\r\n","title":"Kafka RoundRobinPartitioner Uneven Distribution in Kakfa 2.4+","body":"<p>I have encountered an issue where I found that Kafka is sending to messages only to the even numbered partitions.</p>\n<p>After exploring, found that Kafka has this open bug reported wherein partition method gets called twice, leading to skipping odd partitions.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/KAFKA-9965\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-9965</a></p>\n<p>There was PR raised during Oct 2021 and after that couldn't find any further update.</p>\n<p><strong>Does anyone know if Kafka has fixed this issue and released any patch ? I am using Kakfa version 2.4.1.</strong></p>\n<p>Please see the comment from the ticket</p>\n<p><em>RoundRobinPartitioner states that it will provide equal distribution of records across partitions. However with the enhancements made in KIP-480, it may not. In some cases, when a new batch is started, the partitioner may be called a second time for the same record:\n<a href=\"https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L909\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L909</a>\n<a href=\"https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L934\" rel=\"nofollow noreferrer\">https://github.com/apache/kafka/blob/2.4/clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java#L934</a>\nEach time the partitioner is called, it increments a counter in RoundRobinPartitioner, so this can result in unequal distribution.</em></p>\n<p><strong>Code snippet</strong></p>\n<pre><code>package com.example.javakafka;\n\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Properties;\n\npublic class ProducerDemo {\n    private static final Logger log = LoggerFactory.getLogger(ProducerDemo.class);\n\n    public static void main(String[] args) {\n\n        String bootstrapServers = &quot;127.0.0.1:9092&quot;;\n\n        // create Producer properties\n        Properties properties = new Properties();\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(&quot;partitioner.class&quot;, &quot;com.example.javakafka.RoundRobinPartitionerNew&quot;);\n\n        // create the producer\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n\n        // create a producer record\n        ProducerRecord&lt;String, String&gt; producerRecord ;\n\n        int counter = 0;\n\n        while(counter &lt; 40) {\n\n            // create a producer record\n            producerRecord =\n                    new ProducerRecord&lt;&gt;(&quot;demo-java-topic-10&quot;, &quot;hello world&quot;);\n\n            // send data - asynchronous\n            producer.send(producerRecord);\n            counter++;\n        }\n\n        // flush data - synchronous\n        producer.flush();\n        // flush and close producer\n        producer.close();\n    }\n}\n</code></pre>\n<p>RoundRobinPartitionerNew Class - Same code as in Kafka API <em>org.apache.kafka.clients.producer.RoundRobinPartitioner</em></p>\n<pre><code>package com.example.javakafka;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\nimport java.util.concurrent.atomic.AtomicInteger;\n\nimport org.apache.kafka.clients.producer.Partitioner;\nimport org.apache.kafka.common.Cluster;\nimport org.apache.kafka.common.PartitionInfo;\nimport org.apache.kafka.common.utils.Utils;\n\npublic class RoundRobinPartitionerNew implements Partitioner {\n    private final ConcurrentMap&lt;String, AtomicInteger&gt; topicCounterMap = new ConcurrentHashMap();\n\n    public RoundRobinPartitionerNew() {\n    }\n\n    public void configure(Map&lt;String, ?&gt; configs) {\n    }\n\n    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {\n        List&lt;PartitionInfo&gt; partitions = cluster.partitionsForTopic(topic);\n        int numPartitions = partitions.size();\n        int nextValue = this.nextValue(topic);\n        List&lt;PartitionInfo&gt; availablePartitions = cluster.availablePartitionsForTopic(topic);\n        if (!availablePartitions.isEmpty()) {\n            int part = Utils.toPositive(nextValue) % availablePartitions.size();\n            return ((PartitionInfo)availablePartitions.get(part)).partition();\n        } else {\n            return Utils.toPositive(nextValue) % numPartitions;\n        }\n    }\n\n    private int nextValue(String topic) {\n        AtomicInteger counter = (AtomicInteger)this.topicCounterMap.computeIfAbsent(topic, (k) -&gt; {\n            return new AtomicInteger(0);\n        });\n        return counter.getAndIncrement();\n    }\n\n    public void close() {\n    }\n}\n</code></pre>\n<p>If I use version 1.0.0 and use the partitioner &quot;org.apache.kafka.clients.producer.RoundRobinPartitionerNew&quot;</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it will properly distribute the messages as follows:</p>\n<pre><code>CreateTime:1673933856783    Partition:9 null    hello world\nCreateTime:1673933856784    Partition:9 null    hello world\nCreateTime:1673933856784    Partition:9 null    hello world\nCreateTime:1673933856784    Partition:9 null    hello world\nCreateTime:1673933856783    Partition:8 null    hello world\nCreateTime:1673933856784    Partition:8 null    hello world\nCreateTime:1673933856784    Partition:8 null    hello world\nCreateTime:1673933856784    Partition:8 null    hello world\nCreateTime:1673933856783    Partition:5 null    hello world\nCreateTime:1673933856784    Partition:5 null    hello world\nCreateTime:1673933856784    Partition:5 null    hello world\nCreateTime:1673933856784    Partition:5 null    hello world\nCreateTime:1673933856783    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:4 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:7 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856784    Partition:6 null    hello world\nCreateTime:1673933856783    Partition:1 null    hello world\nCreateTime:1673933856784    Partition:1 null    hello world\nCreateTime:1673933856784    Partition:1 null    hello world\nCreateTime:1673933856784    Partition:1 null    hello world\nCreateTime:1673933856781    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:0 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856784    Partition:3 null    hello world\nCreateTime:1673933856783    Partition:2 null    hello world\nCreateTime:1673933856784    Partition:2 null    hello world\nCreateTime:1673933856784    Partition:2 null    hello world\nCreateTime:1673933856784    Partition:2 null    hello world\n</code></pre>\n<p>If I use the version 2.4.1 onwards and use the same partitioner</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I get below where only even numbered partitions are assigned</p>\n<pre><code>CreateTime:1673933438685    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:8 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:4 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:6 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:0 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\nCreateTime:1673933438688    Partition:2 null    hello world\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"comments":[{"owner":{"account_id":8860353,"reputation":883,"user_id":6616740,"accept_rate":0,"display_name":"Vikram Pathania"},"score":0,"creation_date":1610924679,"post_id":61789163,"comment_id":116279595,"body_markdown":"Hi Guys,\nI am also facing same issue. Did anybody have any pointers for same.\nRegards,","body":"Hi Guys, I am also facing same issue. Did anybody have any pointers for same. Regards,"},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":0,"creation_date":1613563487,"post_id":61789163,"comment_id":117111550,"body_markdown":"@VikramPathania I&#39;ve added an answer that resolved this for me at least","body":"@VikramPathania I&#39;ve added an answer that resolved this for me at least"},{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1621955612,"post_id":61789163,"comment_id":119647397,"body_markdown":"Did this ever get resolved? Having the same issue at the moment","body":"Did this ever get resolved? Having the same issue at the moment"},{"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"score":0,"creation_date":1635254649,"post_id":61789163,"comment_id":123243493,"body_markdown":"@KleoG in case you have more than one feign client in your application, your issue may be solved in the way I lay out in [my answer](https://stackoverflow.com/a/69715642/9658836)","body":"@KleoG in case you have more than one feign client in your application, your issue may be solved in the way I lay out in <a href=\"https://stackoverflow.com/a/69715642/9658836\">my answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613563458,"creation_date":1613563458,"answer_id":66241604,"question_id":61789163,"body_markdown":"I had this same problem.\r\n\r\nFor me it was a maven issue, it seemed like 2 copies of the same library were being used (not because of a real problem but because maven had &quot;got confused&quot;. I had been maven installing local builds of a library). \r\n\r\nI resolved the problem by deleting my C:\\Users\\{user}\\.m2\\repository and then reimporting the project","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>I had this same problem.</p>\n<p>For me it was a maven issue, it seemed like 2 copies of the same library were being used (not because of a real problem but because maven had &quot;got confused&quot;. I had been maven installing local builds of a library).</p>\n<p>I resolved the problem by deleting my C:\\Users{user}.m2\\repository and then reimporting the project</p>\n"},{"comments":[{"owner":{"account_id":4910831,"reputation":471,"user_id":3956183,"display_name":"LostMage"},"score":0,"creation_date":1643984908,"post_id":67528608,"comment_id":125491232,"body_markdown":"They can have the same name, but then they have to have a different contextId.","body":"They can have the same name, but then they have to have a different contextId."}],"tags":[],"owner":{"account_id":5859376,"reputation":31,"user_id":4615630,"display_name":"karan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652179432,"creation_date":1620961695,"answer_id":67528608,"question_id":61789163,"body_markdown":"This can also happen if you have more than 1 @FeignClients defined with the same name:\r\n[Link][1]\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/81#issuecomment-444771087\r\nGiving unique names in my clients fixed it for me","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>This can also happen if you have more than 1 @FeignClients defined with the same name:\n<a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/81#issuecomment-444771087\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Giving unique names in my clients fixed it for me</p>\n"},{"tags":[],"owner":{"account_id":16562500,"reputation":11,"user_id":11968074,"display_name":"Rajesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633239985,"creation_date":1633239985,"answer_id":69422382,"question_id":61789163,"body_markdown":"Try deleting FeignClient interface(ExampleClient) from your test package and run the test case and I hope it should work now.","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>Try deleting FeignClient interface(ExampleClient) from your test package and run the test case and I hope it should work now.</p>\n"},{"comments":[{"owner":{"account_id":336015,"reputation":626,"user_id":663432,"accept_rate":29,"display_name":"mirec"},"score":2,"creation_date":1636765816,"post_id":69715642,"comment_id":123652307,"body_markdown":"that&#39;s really weird... There could be more endpoints on single server/backend implemented using interfaces shared with feignclients, which are registered with same serviceId(it is &#39;name&#39; attribute in fact)  in Eureka/Consul","body":"that&#39;s really weird... There could be more endpoints on single server/backend implemented using interfaces shared with feignclients, which are registered with same serviceId(it is &#39;name&#39; attribute in fact)  in Eureka/Consul"},{"owner":{"account_id":8827226,"reputation":905,"user_id":6595092,"display_name":"Evan Brooks"},"score":0,"creation_date":1658346261,"post_id":69715642,"comment_id":129031928,"body_markdown":"@mirec, this is exact issue I&#39;m facing. Our API interface for a single microservice is separated into multiple Feign classes because that is what OpenAPI Generator does by default. So now I have an issue where I can&#39;t get service discovery because I need both Feign clients, but have only one service ID for both.","body":"@mirec, this is exact issue I&#39;m facing. Our API interface for a single microservice is separated into multiple Feign classes because that is what OpenAPI Generator does by default. So now I have an issue where I can&#39;t get service discovery because I need both Feign clients, but have only one service ID for both."},{"owner":{"account_id":336015,"reputation":626,"user_id":663432,"accept_rate":29,"display_name":"mirec"},"score":2,"creation_date":1658434590,"post_id":69715642,"comment_id":129057239,"body_markdown":"@EvanBrooks I faced the problem later again and I found solution myself. It is described here https://stackoverflow.com/a/69950859/663432\n\n@FeignClient(name=&quot;MY-SERVER&quot;, contextId = &quot;THIS-SHOULD-BE-UNIQUE&quot;)","body":"@EvanBrooks I faced the problem later again and I found solution myself. It is described here <a href=\"https://stackoverflow.com/a/69950859/663432\">stackoverflow.com/a/69950859/663432</a>  @FeignClient(name=&quot;MY-SERVER&quot;, contextId = &quot;THIS-SHOULD-BE-UNIQUE&quot;)"}],"tags":[],"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1635254688,"creation_date":1635202575,"answer_id":69715642,"question_id":61789163,"body_markdown":"It might not be the OP&#39;s problem since he has only one feign client, but to anyone that got here by googling the same error: \r\n\r\nThe `name` attribute of the `@FeignClient` annotation works as a unique identifier to the client.\r\nIf you want to have multiple feign clients within the same Spring context, each needs to have a unique `name` (or `value`, as [these two attributes are aliases to each other][1])\r\n\r\nFor instance:\r\n\r\n    @RequestMapping(value=&quot;/endpoint/path&quot;)\r\n    @FeignClient(name = &quot;MUST-BE-UNIQUE&quot;)\r\n    public interface MyClient {\r\n    }\r\n\r\n  [1]: https://javadoc.io/doc/org.springframework.cloud/spring-cloud-netflix-core/1.2.1.RELEASE/org/springframework/cloud/netflix/feign/FeignClient.html#value--","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>It might not be the OP's problem since he has only one feign client, but to anyone that got here by googling the same error:</p>\n<p>The <code>name</code> attribute of the <code>@FeignClient</code> annotation works as a unique identifier to the client.\nIf you want to have multiple feign clients within the same Spring context, each needs to have a unique <code>name</code> (or <code>value</code>, as <a href=\"https://javadoc.io/doc/org.springframework.cloud/spring-cloud-netflix-core/1.2.1.RELEASE/org/springframework/cloud/netflix/feign/FeignClient.html#value--\" rel=\"noreferrer\">these two attributes are aliases to each other</a>)</p>\n<p>For instance:</p>\n<pre><code>@RequestMapping(value=&quot;/endpoint/path&quot;)\n@FeignClient(name = &quot;MUST-BE-UNIQUE&quot;)\npublic interface MyClient {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794316,"reputation":1918,"user_id":2403836,"accept_rate":72,"display_name":"mr nooby noob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655881592,"creation_date":1655881592,"answer_id":72711043,"question_id":61789163,"body_markdown":"I had this issue even though my two FeignClients were completely different. The problem went away once I added `@Component` to both of my FeignClient classes","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>I had this issue even though my two FeignClients were completely different. The problem went away once I added <code>@Component</code> to both of my FeignClient classes</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1663656760,"post_id":73728023,"comment_id":130284944,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73728023/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14034584,"reputation":1,"user_id":10137602,"display_name":"Aktion 23"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663231038,"creation_date":1663231038,"answer_id":73728023,"question_id":61789163,"body_markdown":"I hab this problem because i had the same contextId in two FeignClients. I made them unique and it worked","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>I hab this problem because i had the same contextId in two FeignClients. I made them unique and it worked</p>\n"},{"comments":[{"owner":{"account_id":5485475,"reputation":441,"user_id":4360400,"accept_rate":78,"display_name":"zod101"},"score":1,"creation_date":1678714699,"post_id":74489200,"comment_id":133581863,"body_markdown":"This was my problem, thanks for your help.","body":"This was my problem, thanks for your help."}],"tags":[],"owner":{"account_id":7452114,"reputation":326,"user_id":5666521,"display_name":"Rail Yulgutlin"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668772113,"creation_date":1668772113,"answer_id":74489200,"question_id":61789163,"body_markdown":"That might happen if you have two \r\n\r\n    @EnableFeignClients\r\n\r\nannotations, with properties that cover one or more feign clients multiple times, for example\r\n\r\n    @EnableFeignClients(basePackages = {&quot;com.example.feign.api&quot;})\r\n    public class FeignConfigs {\r\n    ...\r\n    }\r\n    @EnableFeignClients(basePackages = {&quot;com.example&quot;})\r\n    public class Application {\r\n    ...\r\n    }\r\nThat was my case. Hope that helps.","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>That might happen if you have two</p>\n<pre><code>@EnableFeignClients\n</code></pre>\n<p>annotations, with properties that cover one or more feign clients multiple times, for example</p>\n<pre><code>@EnableFeignClients(basePackages = {&quot;com.example.feign.api&quot;})\npublic class FeignConfigs {\n...\n}\n@EnableFeignClients(basePackages = {&quot;com.example&quot;})\npublic class Application {\n...\n}\n</code></pre>\n<p>That was my case. Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":6867511,"reputation":345,"user_id":5279345,"display_name":"Katia Savina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973262,"creation_date":1673973262,"answer_id":75149494,"question_id":61789163,"body_markdown":"In my case, it was the simplest typo in the `application.properties`:\r\n```\r\nexamples.api.service.name=example-api\r\nspring.security.oauth2.client.registration.examples-api.provider=examples-api\r\n```\r\nAs you can see, it&#39;s in plural everywhere except for the `service.name`.\r\n\r\nAfter fixing it to be in plural as well, it started working.","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>In my case, it was the simplest typo in the <code>application.properties</code>:</p>\n<pre><code>examples.api.service.name=example-api\nspring.security.oauth2.client.registration.examples-api.provider=examples-api\n</code></pre>\n<p>As you can see, it's in plural everywhere except for the <code>service.name</code>.</p>\n<p>After fixing it to be in plural as well, it started working.</p>\n"}],"owner":{"account_id":4800418,"reputation":231,"user_id":3877207,"display_name":"Pi53"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17581,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":8,"score":11,"last_activity_date":1673973262,"creation_date":1589429352,"question_id":61789163,"body_markdown":"My feign client class is as below along with the Application class.\r\n```\r\n@FeignClient(name = &quot;ExampleService&quot;, configuration = FeignClientConfig.class, url = &quot;http://localhost:8091&quot;)\r\npublic interface ExampleClient {\r\n  @GetMapping(value = &quot;exampleService/exampleDetails/{id}&quot;)\r\n  public List&lt;ExampleDTO&gt; getExampleDetails(@PathVariable(name = &quot;id&quot;) final Long id);\r\n}\r\n\r\n@EnableAutoConfiguration\r\n@EnableScheduling\r\n@SpringBootApplication\r\n@EnableFeignClients(basePackages = {&quot;com.package.example&quot;})\r\n@ComponentScan(basePackages = {&quot;com.package&quot;})\r\npublic class ExampleApplication extends SpringBootServletInitializer {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(ExampleApplication.class, args);\r\n  }\r\n}\r\n```\r\nIn the above code I&#39;m getting the error as given below \r\n```\r\nAPPLICATION FAILED TO START\r\n\r\nDescription:\r\nThe bean &#39;ExampleService.FeignClientSpecification&#39; could not be registered. A bean with that name has already been defined and overriding is disabled.\r\n\r\nAction: \r\nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding = true\r\n```\r\n\r\nFirst of all, there&#39;s only 1 feign client by that name being defined in the project. \r\nSecond I tried giving it a context ID just in case there was a bean with the same name being defined somewhere I must&#39;ve missed.\r\n```\r\n@FeignClient(contextId = &quot;myExampleService&quot;, name=&quot;ExampleService&quot;, configuration = FeignClientConfig.class, url = &quot;http://localhost:8091&quot;)\r\n```\r\nbut again it gave me the same error \r\n```\r\nThe bean &#39;myExampleService.FeignClientSpecification&#39; could not be registered. A bean with that name has already been defined and overriding is disabled.\r\n\r\n```\r\nThird, I also tried by giving the property in application.properties file for overriding the bean \r\n```\r\nspring.main.allow-bean-definition-overriding = true\r\n```\r\nbut still I&#39;m getting the same error. \r\nAny reason why I&#39;m getting this issue even though there is only 1 bean with the name available for Spring&#39;s app context?","title":"The bean &#39;exampleService.FeignClientSpecification&#39; could not be registered. Bean already defined and overriding is disabled","body":"<p>My feign client class is as below along with the Application class.</p>\n\n<pre><code>@FeignClient(name = \"ExampleService\", configuration = FeignClientConfig.class, url = \"http://localhost:8091\")\npublic interface ExampleClient {\n  @GetMapping(value = \"exampleService/exampleDetails/{id}\")\n  public List&lt;ExampleDTO&gt; getExampleDetails(@PathVariable(name = \"id\") final Long id);\n}\n\n@EnableAutoConfiguration\n@EnableScheduling\n@SpringBootApplication\n@EnableFeignClients(basePackages = {\"com.package.example\"})\n@ComponentScan(basePackages = {\"com.package\"})\npublic class ExampleApplication extends SpringBootServletInitializer {\n  public static void main(String[] args) {\n    SpringApplication.run(ExampleApplication.class, args);\n  }\n}\n</code></pre>\n\n<p>In the above code I'm getting the error as given below </p>\n\n<pre><code>APPLICATION FAILED TO START\n\nDescription:\nThe bean 'ExampleService.FeignClientSpecification' could not be registered. A bean with that name has already been defined and overriding is disabled.\n\nAction: \nConsider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding = true\n</code></pre>\n\n<p>First of all, there's only 1 feign client by that name being defined in the project. \nSecond I tried giving it a context ID just in case there was a bean with the same name being defined somewhere I must've missed.</p>\n\n<pre><code>@FeignClient(contextId = \"myExampleService\", name=\"ExampleService\", configuration = FeignClientConfig.class, url = \"http://localhost:8091\")\n</code></pre>\n\n<p>but again it gave me the same error </p>\n\n<pre><code>The bean 'myExampleService.FeignClientSpecification' could not be registered. A bean with that name has already been defined and overriding is disabled.\n\n</code></pre>\n\n<p>Third, I also tried by giving the property in application.properties file for overriding the bean </p>\n\n<pre><code>spring.main.allow-bean-definition-overriding = true\n</code></pre>\n\n<p>but still I'm getting the same error. \nAny reason why I'm getting this issue even though there is only 1 bean with the name available for Spring's app context?</p>\n"},{"tags":["java","android","webview","android-developer-api"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1673976505,"post_id":75149481,"comment_id":132614688,"body_markdown":"Use the CookieManager to get the value of the login cookie.  Store it to shared preferences.  Then when you open the app, read in that shared preference and set the cookie.  That way you will keep the cookie across sessions.","body":"Use the CookieManager to get the value of the login cookie.  Store it to shared preferences.  Then when you open the app, read in that shared preference and set the cookie.  That way you will keep the cookie across sessions."}],"owner":{"account_id":19571342,"reputation":31,"user_id":14322442,"display_name":"BM Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673973230,"creation_date":1673973230,"question_id":75149481,"body_markdown":"I have recently make a food ordering website where people can login and start ordering once user login they can stay 30 days because we have save their cookie for 30 days.\r\n\r\nand recently i have coverted that website to mobile app using android webview. but one once user login on our app and close app and if they re open again they have to again login. so, how i can prevent it and stay logged in user.\r\n\r\nI want to even set cookie in android webview in which once user login they can stay 30 days without re login.\r\n\r\nplease spread your knowledge if you have knowledge about this.\r\n\r\nHere is my mainactivity.java code where we should place your code.\r\n\r\n```\r\npackage com.eatlaza;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.NetworkInfo;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.webkit.CookieManager;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Button;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.RelativeLayout;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView webView;\r\n    ProgressBar progressBarWeb;\r\n\r\n    RelativeLayout relativeLayout;\r\n    Button btnNoConnection;\r\n//cookie allow\r\n\r\n\r\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n        @Override\r\n        protected void onCreate (Bundle savedInstanceState){\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            webView = (WebView) findViewById(R.id.myWebView);\r\n            progressBarWeb = (ProgressBar) findViewById(R.id.progressBar);\r\n            btnNoConnection = (Button) findViewById(R.id.btnNoConnection);\r\n            relativeLayout = (RelativeLayout) findViewById(R.id.relativelayoiut);\r\n\r\n            //javascript enable\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            checkInternetConnection();\r\n\r\n\r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                    view.loadUrl(url);\r\n                    return true;\r\n                }\r\n            });\r\n            webView.setWebChromeClient(new WebChromeClient() {\r\n                @Override\r\n                public void onProgressChanged(WebView view, int newProgress) {\r\n                    progressBarWeb.setVisibility(View.VISIBLE);\r\n                    progressBarWeb.setProgress(newProgress);\r\n                    if (newProgress == 100) {\r\n                        progressBarWeb.setVisibility(View.GONE);\r\n                    }\r\n\r\n\r\n                    super.onProgressChanged(view, newProgress);\r\n                }\r\n            });\r\n            //retry\r\n            btnNoConnection.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    checkInternetConnection();\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onBackPressed () {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                AlertDialog alertDialog = new AlertDialog.Builder(this)\r\n//set message\r\n                        .setMessage(&quot;Are You Sure You want to close it?&quot;)\r\n//set positive button\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                //set what would happen when positive button is clicked\r\n                                finish();\r\n                            }\r\n                        })\r\n//set negative button\r\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialogInterface, int i) {\r\n                                //set what should happen when negative button is clicked\r\n                                // Toast.makeText(getApplicationContext(),&quot;Nothing Happened&quot;,Toast.LENGTH_LONG).show();\r\n                            }\r\n                        })\r\n                        .show();\r\n                //super.onBackPressed();\r\n            }\r\n        }\r\n        //class for check internet connection\r\n        public void checkInternetConnection () {\r\n            ConnectivityManager connectivityManager = (ConnectivityManager)\r\n                    this.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            NetworkInfo wifi = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\r\n            NetworkInfo mobileNetwork = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\r\n            String webUrl = &quot;https://eatlaza.com&quot;;\r\n            if (wifi.isConnected()) {\r\n                webView.loadUrl(webUrl);\r\n                webView.setVisibility(View.VISIBLE);\r\n                relativeLayout.setVisibility(View.GONE);\r\n            } else if (mobileNetwork.isConnected()) {\r\n                webView.loadUrl(webUrl);\r\n                webView.setVisibility(View.VISIBLE);\r\n                relativeLayout.setVisibility(View.GONE);\r\n            } else {\r\n                webView.setVisibility(View.GONE);\r\n                relativeLayout.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n\r\nplease tell me how can we set cookie using android webview.","title":"How to Enable Cookies in Android WebView App (Android Studio - JAVA)","body":"<p>I have recently make a food ordering website where people can login and start ordering once user login they can stay 30 days because we have save their cookie for 30 days.</p>\n<p>and recently i have coverted that website to mobile app using android webview. but one once user login on our app and close app and if they re open again they have to again login. so, how i can prevent it and stay logged in user.</p>\n<p>I want to even set cookie in android webview in which once user login they can stay 30 days without re login.</p>\n<p>please spread your knowledge if you have knowledge about this.</p>\n<p>Here is my mainactivity.java code where we should place your code.</p>\n<pre><code>package com.eatlaza;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.webkit.CookieManager;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Button;\nimport android.widget.ProgressBar;\nimport android.widget.RelativeLayout;\n\npublic class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n    ProgressBar progressBarWeb;\n\n    RelativeLayout relativeLayout;\n    Button btnNoConnection;\n//cookie allow\n\n\n        @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n        @Override\n        protected void onCreate (Bundle savedInstanceState){\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n\n            webView = (WebView) findViewById(R.id.myWebView);\n            progressBarWeb = (ProgressBar) findViewById(R.id.progressBar);\n            btnNoConnection = (Button) findViewById(R.id.btnNoConnection);\n            relativeLayout = (RelativeLayout) findViewById(R.id.relativelayoiut);\n\n            //javascript enable\n            webView.getSettings().setJavaScriptEnabled(true);\n            checkInternetConnection();\n\n\n            webView.setWebViewClient(new WebViewClient() {\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                    view.loadUrl(url);\n                    return true;\n                }\n            });\n            webView.setWebChromeClient(new WebChromeClient() {\n                @Override\n                public void onProgressChanged(WebView view, int newProgress) {\n                    progressBarWeb.setVisibility(View.VISIBLE);\n                    progressBarWeb.setProgress(newProgress);\n                    if (newProgress == 100) {\n                        progressBarWeb.setVisibility(View.GONE);\n                    }\n\n\n                    super.onProgressChanged(view, newProgress);\n                }\n            });\n            //retry\n            btnNoConnection.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    checkInternetConnection();\n                }\n            });\n        }\n\n        @Override\n        public void onBackPressed () {\n            if (webView.canGoBack()) {\n                webView.goBack();\n            } else {\n                AlertDialog alertDialog = new AlertDialog.Builder(this)\n//set message\n                        .setMessage(&quot;Are You Sure You want to close it?&quot;)\n//set positive button\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //set what would happen when positive button is clicked\n                                finish();\n                            }\n                        })\n//set negative button\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //set what should happen when negative button is clicked\n                                // Toast.makeText(getApplicationContext(),&quot;Nothing Happened&quot;,Toast.LENGTH_LONG).show();\n                            }\n                        })\n                        .show();\n                //super.onBackPressed();\n            }\n        }\n        //class for check internet connection\n        public void checkInternetConnection () {\n            ConnectivityManager connectivityManager = (ConnectivityManager)\n                    this.getSystemService(Context.CONNECTIVITY_SERVICE);\n            NetworkInfo wifi = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n            NetworkInfo mobileNetwork = connectivityManager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n            String webUrl = &quot;https://eatlaza.com&quot;;\n            if (wifi.isConnected()) {\n                webView.loadUrl(webUrl);\n                webView.setVisibility(View.VISIBLE);\n                relativeLayout.setVisibility(View.GONE);\n            } else if (mobileNetwork.isConnected()) {\n                webView.loadUrl(webUrl);\n                webView.setVisibility(View.VISIBLE);\n                relativeLayout.setVisibility(View.GONE);\n            } else {\n                webView.setVisibility(View.GONE);\n                relativeLayout.setVisibility(View.VISIBLE);\n            }\n        }\n    }\n\n</code></pre>\n<p>please tell me how can we set cookie using android webview.</p>\n"},{"tags":["java","spring-boot","smtp"],"answers":[{"tags":[],"owner":{"account_id":3569709,"reputation":3532,"user_id":2980345,"accept_rate":75,"display_name":"ndrone"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482871419,"creation_date":1482869507,"answer_id":41351612,"question_id":41351540,"body_markdown":"I believe you got the port wrong. I believe it&#39;s `587`\r\n\r\n**Updated**\r\n\r\nNow we need to set StartTLS\r\n\r\nadd\r\n\r\n    mail:\r\n      host: smtp.gmail.com\r\n      port: 587\r\n      username: myemail@gmail.com\r\n      password: mypassword\r\n      properties:\r\n        starttls.enable: true\r\n\r\n\r\n","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I believe you got the port wrong. I believe it's <code>587</code></p>\n\n<p><strong>Updated</strong></p>\n\n<p>Now we need to set StartTLS</p>\n\n<p>add</p>\n\n<pre><code>mail:\n  host: smtp.gmail.com\n  port: 587\n  username: myemail@gmail.com\n  password: mypassword\n  properties:\n    starttls.enable: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7249701,"reputation":359,"user_id":5530462,"accept_rate":43,"display_name":"Elena Alexandra Dobrescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1482872957,"creation_date":1482872957,"answer_id":41352260,"question_id":41351540,"body_markdown":"I made the following changes and now it works fine:\r\n\r\n     mail:\r\n        host: smtp.gmail.com\r\n        port: 587\r\n        username: mymail@gmail.com\r\n        password: mypassword\r\n        protocol: smtp\r\n        tls: true\r\n        properties.mail.smtp:\r\n            auth: true\r\n            starttls.enable: true\r\n            ssl.trust: smtp.gmail.com\r\n","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I made the following changes and now it works fine:</p>\n\n<pre><code> mail:\n    host: smtp.gmail.com\n    port: 587\n    username: mymail@gmail.com\n    password: mypassword\n    protocol: smtp\n    tls: true\n    properties.mail.smtp:\n        auth: true\n        starttls.enable: true\n        ssl.trust: smtp.gmail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4834459,"reputation":2108,"user_id":3901630,"display_name":"Amol Suryawanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516171732,"creation_date":1516171732,"answer_id":48295146,"question_id":41351540,"body_markdown":"I have used following YAML configuration for sending mail via Gmail\r\n\r\n    spring:\r\n      mail:\r\n        default-encoding: UTF-8\r\n        host: smtp.gmail.com\r\n        username: &lt;Gmail username&gt;\r\n        password: &lt;Gmail password&gt;\r\n        port: 587\r\n        properties:\r\n          mail:\r\n            smtp:\r\n              auth: true\r\n              starttls:\r\n                enable: true\r\n        protocol: smtp\r\n        test-connection: false","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I have used following YAML configuration for sending mail via Gmail</p>\n\n<pre><code>spring:\n  mail:\n    default-encoding: UTF-8\n    host: smtp.gmail.com\n    username: &lt;Gmail username&gt;\n    password: &lt;Gmail password&gt;\n    port: 587\n    properties:\n      mail:\n        smtp:\n          auth: true\n          starttls:\n            enable: true\n    protocol: smtp\n    test-connection: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3146638,"reputation":35,"user_id":2661009,"display_name":"BriniH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673973088,"creation_date":1673973088,"answer_id":75149450,"question_id":41351540,"body_markdown":"you can try the conf below. It&#39;s working in my environment.\r\n\r\n      mail:\r\n        debug: false\r\n        host: host\r\n        port: port_number\r\n        properties:\r\n          mail:\r\n            protocol: smtp\r\n            smtp:\r\n              ssl:\r\n                enable: true\r\n                trust: &quot;*&quot;\r\n              auth: false\r\n              starttls:\r\n                enable: true\r\n                required: false","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>you can try the conf below. It's working in my environment.</p>\n<pre><code>  mail:\n    debug: false\n    host: host\n    port: port_number\n    properties:\n      mail:\n        protocol: smtp\n        smtp:\n          ssl:\n            enable: true\n            trust: &quot;*&quot;\n          auth: false\n          starttls:\n            enable: true\n            required: false\n</code></pre>\n"}],"owner":{"account_id":7249701,"reputation":359,"user_id":5530462,"accept_rate":43,"display_name":"Elena Alexandra Dobrescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21577,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1673973088,"creation_date":1482869191,"question_id":41351540,"body_markdown":"I am trying to configure an SMTP host for my Spring boot application. \r\n\r\nI have this code in my `application-dev.yml` file:\r\n\r\n     mail:\r\n        host: smtp.gmail.com\r\n        port: 465\r\n        username: myemail@gmail.com\r\n        password: mypassword\r\n\r\nHowever, when I am trying to send an email I get this exception:\r\n\r\n    Caused by: javax.mail.MessagingException: Could not connect to \r\n    SMTP host: smtp.gmail.com, \r\n    port: 465, response: -1\r\n\r\nAlso, I have generated this code with JHipster and I am not sure whether I should modify something else or this is enough to configure a SMTP host.\r\n\r\nAfter changing the port to 587, I am getting this:\r\n\r\n    \r\n    org.springframework.mail.MailSendException: \r\n    Failed messages:    com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue \r\n    a STARTTLS command first. jm6sm60863600wjb.27 - gsmtp\r\n\r\n","title":"Configure SMTP host using YAML file in Spring boot","body":"<p>I am trying to configure an SMTP host for my Spring boot application. </p>\n\n<p>I have this code in my <code>application-dev.yml</code> file:</p>\n\n<pre><code> mail:\n    host: smtp.gmail.com\n    port: 465\n    username: myemail@gmail.com\n    password: mypassword\n</code></pre>\n\n<p>However, when I am trying to send an email I get this exception:</p>\n\n<pre><code>Caused by: javax.mail.MessagingException: Could not connect to \nSMTP host: smtp.gmail.com, \nport: 465, response: -1\n</code></pre>\n\n<p>Also, I have generated this code with JHipster and I am not sure whether I should modify something else or this is enough to configure a SMTP host.</p>\n\n<p>After changing the port to 587, I am getting this:</p>\n\n<pre><code>org.springframework.mail.MailSendException: \nFailed messages:    com.sun.mail.smtp.SMTPSendFailedException: 530 5.7.0 Must issue \na STARTTLS command first. jm6sm60863600wjb.27 - gsmtp\n</code></pre>\n"},{"tags":["java","function","collections","anylogic"],"comments":[{"owner":{"account_id":22899823,"reputation":217,"user_id":17038740,"display_name":"Shingston"},"score":0,"creation_date":1673973009,"post_id":75147748,"comment_id":132613616,"body_markdown":"If you&#39;ve explored your functions and collections, I&#39;d suggest saving the start time of an agent&#39;s process duration in a variable within the agent. Then, when the agent exits the process, save the duration within (you can get the current time by calling time(), then just compute the difference) a separate collection/statistics/object of your choice for each agent type. Otherwise, you can do as Benjamin suggested below.","body":"If you&#39;ve explored your functions and collections, I&#39;d suggest saving the start time of an agent&#39;s process duration in a variable within the agent. Then, when the agent exits the process, save the duration within (you can get the current time by calling time(), then just compute the difference) a separate collection/statistics/object of your choice for each agent type. Otherwise, you can do as Benjamin suggested below."},{"owner":{"account_id":27553283,"reputation":3,"user_id":21027953,"display_name":"Simran "},"score":0,"creation_date":1674050288,"post_id":75147748,"comment_id":132631839,"body_markdown":"I did this in the service block, but that gives the average waiting time of all the agent types; please can you suggest how to find it for each patient type (1-6)?","body":"I did this in the service block, but that gives the average waiting time of all the agent types; please can you suggest how to find it for each patient type (1-6)?"},{"owner":{"account_id":22899823,"reputation":217,"user_id":17038740,"display_name":"Shingston"},"score":0,"creation_date":1674067538,"post_id":75147748,"comment_id":132638131,"body_markdown":"As previously mentioned, you should save each patient type&#39;s waiting time in a separate collection object. The way you do this is up to you but I&#39;d assume you have a parameter determining each agent&#39;s type - just sort them into their respective collection object according to that.","body":"As previously mentioned, you should save each patient type&#39;s waiting time in a separate collection object. The way you do this is up to you but I&#39;d assume you have a parameter determining each agent&#39;s type - just sort them into their respective collection object according to that."}],"answers":[{"comments":[{"owner":{"account_id":27553283,"reputation":3,"user_id":21027953,"display_name":"Simran "},"score":0,"creation_date":1674050415,"post_id":75149384,"comment_id":132631896,"body_markdown":"Thank you for your answer. Yes I&#39;ve not used Anylogic much, but I want to get along with functions and collections or any objects that reduces redundant work/ blocks in the model. I&#39;ll once try your suggestion, but it would be helpful, if you also suggest any other way of doing the same. \nThank you.","body":"Thank you for your answer. Yes I&#39;ve not used Anylogic much, but I want to get along with functions and collections or any objects that reduces redundant work/ blocks in the model. I&#39;ll once try your suggestion, but it would be helpful, if you also suggest any other way of doing the same.  Thank you."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1674056730,"post_id":75149384,"comment_id":132634369,"body_markdown":"The others would be a lot more advanced and probably overwhelm you for now, tbh :) (AnyLogic is a deep well :D )","body":"The others would be a lot more advanced and probably overwhelm you for now, tbh :) (AnyLogic is a deep well :D )"}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673972762,"creation_date":1673972762,"answer_id":75149384,"question_id":75147748,"body_markdown":"Looks like you are a beginner. In that case, I&#39;d suggest that you use the &quot;Select output 5&quot; object before the queue and route your patients through different flows, each with its own queue and &quot;time measure&quot; blocks.\r\n\r\nThis way you have full control. You can route your agents in the &quot;select output 5&quot; block using &#39;agent.myPatientType&#39; (or similar) so that they join the right flow (check the help and example models for this)\r\n\r\nHowever, it is also the least elegant choice &#128578;","title":"Waiting time in queue for different types of agents coming from one source and getting served in one service in Anylogic","body":"<p>Looks like you are a beginner. In that case, I'd suggest that you use the &quot;Select output 5&quot; object before the queue and route your patients through different flows, each with its own queue and &quot;time measure&quot; blocks.</p>\n<p>This way you have full control. You can route your agents in the &quot;select output 5&quot; block using 'agent.myPatientType' (or similar) so that they join the right flow (check the help and example models for this)</p>\n<p>However, it is also the least elegant choice 🙂</p>\n"}],"owner":{"account_id":27553283,"reputation":3,"user_id":21027953,"display_name":"Simran "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673972762,"creation_date":1673964750,"question_id":75147748,"body_markdown":"I want to find waiting time of each patient type (agent type) coming from one source and getting served by one machine. I have classified patient types using schedule block and function as shown in photo1[function body for classifying agent types](https://i.stack.imgur.com/4RQVV.png), and now I wish to calculate mean waiting time of each patient type(1-6) in queue of one service block. As of now there are 4 patients scheduled of each type in every two hours ( simulation is run for 12 hours).  \r\nThanks\r\n\r\nI&#39;m not sure whether timeMeasureStart and End blocks will be of some use here. \r\nData and Statistics block (model in photo2[model](https://i.stack.imgur.com/tVJUU.png)) are giving mean waiting time of all the patients and not for each patient type. \r\nI&#39;m struggling from quite some time now, and tried to use function and collection also for the same, but didn&#39;t got anything. Any hint or suggestion to solve this will be of great help. \r\n","title":"Waiting time in queue for different types of agents coming from one source and getting served in one service in Anylogic","body":"<p>I want to find waiting time of each patient type (agent type) coming from one source and getting served by one machine. I have classified patient types using schedule block and function as shown in photo1<a href=\"https://i.stack.imgur.com/4RQVV.png\" rel=\"nofollow noreferrer\">function body for classifying agent types</a>, and now I wish to calculate mean waiting time of each patient type(1-6) in queue of one service block. As of now there are 4 patients scheduled of each type in every two hours ( simulation is run for 12 hours).<br />\nThanks</p>\n<p>I'm not sure whether timeMeasureStart and End blocks will be of some use here.\nData and Statistics block (model in photo2<a href=\"https://i.stack.imgur.com/tVJUU.png\" rel=\"nofollow noreferrer\">model</a>) are giving mean waiting time of all the patients and not for each patient type.\nI'm struggling from quite some time now, and tried to use function and collection also for the same, but didn't got anything. Any hint or suggestion to solve this will be of great help.</p>\n"},{"tags":["java","multithreading","executorservice","callable","countdownlatch"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1673972186,"post_id":75149095,"comment_id":132613317,"body_markdown":"What do you mean with &quot;this implementation is ok?&quot; ? Do you have any problems with it or does it work as intended? If you have problems, which?","body":"What do you mean with &quot;this implementation is ok?&quot; ? Do you have any problems with it or does it work as intended? If you have problems, which?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1673973052,"post_id":75149095,"comment_id":132613627,"body_markdown":"OK? It prints the correct answer, so... OK, Right? But the CountDownLatch is redundant with the Futures. `future1.get()` and `future2.get()` _wait_ until the tasks are finished. `countDownLatch.await()` also waits until the tasks are finished. You could completely get rid of the CountDownLatch, and the program still would behave the same way.","body":"OK? It prints the correct answer, so... OK, Right? But the CountDownLatch is redundant with the Futures. <code>future1.get()</code> and <code>future2.get()</code> <i>wait</i> until the tasks are finished. <code>countDownLatch.await()</code> also waits until the tasks are finished. You could completely get rid of the CountDownLatch, and the program still would behave the same way."}],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673972477,"creation_date":1673972477,"answer_id":75149337,"question_id":75149095,"body_markdown":"&gt; I want to know this implementation is ok?\r\n\r\nThat totally depends on what you are trying to achieve with this code.\r\nAs is, your code is simply adding 5 and 4 together and printing the result of 9 to the console. You could simply do that with:\r\n\r\n    System.out.println(5+4);\r\n\r\nIf the point of your code is to use a CountDownLatch effectively, then yes you are using it correctly to detect that the Call() method has been invoked on both Person objects in an asynchronous manner before continuing the main method/thread.","title":"How to return value from Callable with CountDownLatch?","body":"<blockquote>\n<p>I want to know this implementation is ok?</p>\n</blockquote>\n<p>That totally depends on what you are trying to achieve with this code.\nAs is, your code is simply adding 5 and 4 together and printing the result of 9 to the console. You could simply do that with:</p>\n<pre><code>System.out.println(5+4);\n</code></pre>\n<p>If the point of your code is to use a CountDownLatch effectively, then yes you are using it correctly to detect that the Call() method has been invoked on both Person objects in an asynchronous manner before continuing the main method/thread.</p>\n"}],"owner":{"account_id":20102366,"reputation":23,"user_id":14740582,"display_name":"stewie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673972477,"creation_date":1673971340,"question_id":75149095,"body_markdown":"I want to use `CountDownLatch` with `Callabe` interface. I have `Person` class implements `Callable` interface which has `CountDownLatch` and `Integer`, `Person#call()` method returns integer value and within finally block `countDown()` method called. 2 Threads created by `Executors.newFixedThreadPool(2)` and submitted `Person` objects within `Main class`.I want to know this implementation is ok?\r\n\r\n```\r\npublic class Person implements Callable&lt;Integer&gt; {\r\n    private final CountDownLatch countDownLatch;\r\n    private final Integer count;\r\n\r\n    public Person(CountDownLatch countDownLatch, Integer count) {\r\n        this.countDownLatch = countDownLatch;\r\n        this.count = count;\r\n    }\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        try {\r\n            return count;\r\n        } finally {\r\n            countDownLatch.countDown();\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\r\n        CountDownLatch countDownLatch = new CountDownLatch(2);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n        Future&lt;Integer&gt; future1 = executorService.submit(new Person(countDownLatch, 5));\r\n        Future&lt;Integer&gt; future2 = executorService.submit(new Person(countDownLatch, 4));\r\n        countDownLatch.await();\r\n        executorService.shutdown();\r\n        System.out.println(future1.get() + future2.get());\r\n    }\r\n}\r\n```","title":"How to return value from Callable with CountDownLatch?","body":"<p>I want to use <code>CountDownLatch</code> with <code>Callabe</code> interface. I have <code>Person</code> class implements <code>Callable</code> interface which has <code>CountDownLatch</code> and <code>Integer</code>, <code>Person#call()</code> method returns integer value and within finally block <code>countDown()</code> method called. 2 Threads created by <code>Executors.newFixedThreadPool(2)</code> and submitted <code>Person</code> objects within <code>Main class</code>.I want to know this implementation is ok?</p>\n<pre><code>public class Person implements Callable&lt;Integer&gt; {\n    private final CountDownLatch countDownLatch;\n    private final Integer count;\n\n    public Person(CountDownLatch countDownLatch, Integer count) {\n        this.countDownLatch = countDownLatch;\n        this.count = count;\n    }\n\n    @Override\n    public Integer call() throws Exception {\n        try {\n            return count;\n        } finally {\n            countDownLatch.countDown();\n        }\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\n        CountDownLatch countDownLatch = new CountDownLatch(2);\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\n        Future&lt;Integer&gt; future1 = executorService.submit(new Person(countDownLatch, 5));\n        Future&lt;Integer&gt; future2 = executorService.submit(new Person(countDownLatch, 4));\n        countDownLatch.await();\n        executorService.shutdown();\n        System.out.println(future1.get() + future2.get());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","api","rest","maven"],"answers":[{"tags":[],"owner":{"account_id":16831616,"reputation":208,"user_id":12169433,"display_name":"Saurabh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673972030,"creation_date":1673972030,"answer_id":75149225,"question_id":75148587,"body_markdown":"Create a Custom DTO class which will represent the response from Third party API. What It means is it should have all fields which should map with corresponding required field of response payload of third party API. It will be populated on de-serializing the third party API response. You can take help of feign client here. Its very easy and declarative way to make REST API call.\r\n\r\nCreate a separate response DTO with 2 fields 1 which will have the static value and second the DTO which we created above (which will be populated with the response of third party API). This DTO will be the response from POST &quot;/write&quot;","title":"How to wrap an external API inside a custom API with Spring Boot","body":"<p>Create a Custom DTO class which will represent the response from Third party API. What It means is it should have all fields which should map with corresponding required field of response payload of third party API. It will be populated on de-serializing the third party API response. You can take help of feign client here. Its very easy and declarative way to make REST API call.</p>\n<p>Create a separate response DTO with 2 fields 1 which will have the static value and second the DTO which we created above (which will be populated with the response of third party API). This DTO will be the response from POST &quot;/write&quot;</p>\n"}],"owner":{"account_id":18210790,"reputation":35,"user_id":13253367,"display_name":"Steviee kann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673972030,"creation_date":1673968859,"question_id":75148587,"body_markdown":"Let&#39;s say I have a third party rest api (&quot;https://example.com/write&quot;) that allows POST requests with the following body structure:\r\n\r\n```\r\n{\r\n&quot;id&quot;: &quot;abc&quot;,\r\n&quot;Config&quot;: {&quot;Comments&quot;:&quot;text&quot;}\r\n}\r\n```\r\nI am completely new to Java and the Spring Framework, but I want to create a custom API with Spring  that **only** allow users to change the **text** part of the body. Other parts of the JSON body should have a fixed value (for example id is always &quot;abc&quot;). Basically, when user input a custom text string, my api will compile the input and consume the external api and get the results from it accordingly\r\n\r\nI understand the basics of @Getmapping / @RequestMapping after doing some research. Here is what I have so far for my custom API, and I am stuck at the post mapping section. \r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\n\r\npublic class ApiController {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n // GET\r\n @RequestMapping(value = &quot;/retrive&quot;, method = { RequestMethod.GET })\r\n    public ResponseEntity&lt;?&gt; retrive (HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        // URL\r\n        URL u = new URL(&quot;https://example.com/get&quot;);\r\n        HttpURLConnection uc = (HttpURLConnection) u.openConnection();\r\n\r\n        // Create HttpHeaders for ResponseEntity\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        uc.setRequestProperty (&quot;Authentication&quot;, &quot;Bearer &quot;+ env.getProperty(&quot;api-key&quot;)); \r\n\r\n        try (InputStream inputStream = uc.getInputStream();\r\n             OutputStream outputStream = response.getOutputStream();\r\n    )\r\n        {IOUtils.copy(inputStream, outputStream);\r\n    }\r\n        return new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.OK);\r\n    }\r\n\r\n // POST\r\n @RequestMapping(value = &quot;/write&quot;, method = { RequestMethod.POST },\r\n            consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n      public ResponseEntity process(@RequestBody Root input) throws IOException {\r\n      \r\n      // Operation goes here...       \r\n\r\n       return new ResponseEntity&lt;&gt;(input, HttpStatus.OK);\r\n\r\n    }\r\n\r\npublic class Root{\r\n  private String Comments;\r\n\r\n// Getters and Setters\r\n\r\n}\r\n\r\n```","title":"How to wrap an external API inside a custom API with Spring Boot","body":"<p>Let's say I have a third party rest api (&quot;https://example.com/write&quot;) that allows POST requests with the following body structure:</p>\n<pre><code>{\n&quot;id&quot;: &quot;abc&quot;,\n&quot;Config&quot;: {&quot;Comments&quot;:&quot;text&quot;}\n}\n</code></pre>\n<p>I am completely new to Java and the Spring Framework, but I want to create a custom API with Spring  that <strong>only</strong> allow users to change the <strong>text</strong> part of the body. Other parts of the JSON body should have a fixed value (for example id is always &quot;abc&quot;). Basically, when user input a custom text string, my api will compile the input and consume the external api and get the results from it accordingly</p>\n<p>I understand the basics of @Getmapping / @RequestMapping after doing some research. Here is what I have so far for my custom API, and I am stuck at the post mapping section.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\n\npublic class ApiController {\n    @Autowired\n    private Environment env;\n\n // GET\n @RequestMapping(value = &quot;/retrive&quot;, method = { RequestMethod.GET })\n    public ResponseEntity&lt;?&gt; retrive (HttpServletRequest request, HttpServletResponse response) throws IOException {\n        // URL\n        URL u = new URL(&quot;https://example.com/get&quot;);\n        HttpURLConnection uc = (HttpURLConnection) u.openConnection();\n\n        // Create HttpHeaders for ResponseEntity\n        HttpHeaders responseHeaders = new HttpHeaders();\n        uc.setRequestProperty (&quot;Authentication&quot;, &quot;Bearer &quot;+ env.getProperty(&quot;api-key&quot;)); \n\n        try (InputStream inputStream = uc.getInputStream();\n             OutputStream outputStream = response.getOutputStream();\n    )\n        {IOUtils.copy(inputStream, outputStream);\n    }\n        return new ResponseEntity&lt;&gt;(responseHeaders, HttpStatus.OK);\n    }\n\n // POST\n @RequestMapping(value = &quot;/write&quot;, method = { RequestMethod.POST },\n            consumes = {MediaType.APPLICATION_JSON_VALUE})\n      public ResponseEntity process(@RequestBody Root input) throws IOException {\n      \n      // Operation goes here...       \n\n       return new ResponseEntity&lt;&gt;(input, HttpStatus.OK);\n\n    }\n\npublic class Root{\n  private String Comments;\n\n// Getters and Setters\n\n}\n\n</code></pre>\n"},{"tags":["java","android","listview","gridview"],"owner":{"account_id":25618608,"reputation":23,"user_id":19390835,"display_name":"Alhe Mora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673971894,"creation_date":1673967927,"question_id":75148385,"body_markdown":"\r\nI&#39;m having trouble removing the &quot;parent channel shortcut&quot; even though I already have it hidden **(view2.setvisiblity(view.GONE))**. I&#39;m using gridview **android:numColumns=&quot;3&quot;**.The list user display starts from the left side, If I want to remove it, how do I do that?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    @Override\r\n            public int getCount() {\r\n                int count = currentusers.size() + subchannels.size() + stickychannels.size();\r\n                if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\r\n                    count++; // include parent channel shortcut\r\n                }\r\n                return count;\r\n            }\r\n    \r\n            @Override\r\n            public Object getItem(int position) {\r\n    \r\n                if (position &lt; stickychannels.size()) {\r\n                    return stickychannels.get(position);\r\n                }\r\n    \r\n                // sticky channels are first so subtract these\r\n                position -= stickychannels.size();\r\n    \r\n                if (position &lt; currentusers.size()) {\r\n                    return currentusers.get(position);\r\n                }\r\n    \r\n                // users are first so subtract these\r\n                position -= currentusers.size();\r\n    \r\n                if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\r\n                    if(position == 0) {\r\n                        Channel parent = ttservice.getChannels().get(curchannel.nParentID);\r\n    \r\n                        if(parent != null)\r\n                            return parent;\r\n                        return new Channel();\r\n                    }\r\n    \r\n                    position--; // subtract parent channel shortcut\r\n                }\r\n                return subchannels.get(position);\r\n            }\r\n    \r\n            @Override\r\n            public long getItemId(int position) {\r\n                return position;\r\n            }\r\n    \r\n            @Override\r\n            public int getItemViewType(int position) {\r\n    \r\n                if (position &lt; stickychannels.size())\r\n                    return INFO_VIEW_TYPE;\r\n    \r\n                // sticky channels are first so subtract these\r\n                position -= stickychannels.size();\r\n    \r\n                if (position &lt; currentusers.size())\r\n                    return USER_VIEW_TYPE;\r\n    \r\n                // users are first so subtract these\r\n                position -= currentusers.size();\r\n    \r\n                if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\r\n                    if (position == 0) {\r\n                        return PARENT_CHANNEL_VIEW_TYPE;\r\n                    }\r\n    \r\n                    position--; // subtract parent channel shortcut\r\n                }\r\n    \r\n                return CHANNEL_VIEW_TYPE;\r\n            }\r\n    \r\n            @Override\r\n            public int getViewTypeCount() {\r\n                return VIEW_TYPE_COUNT;\r\n            }\r\n    \r\n            @Override\r\n            public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n                Object item = getItem(position);\r\n    \r\n                if(item instanceof Channel) {\r\n    \r\n                    final Channel channel = (Channel) item;\r\n    \r\n                    switch (getItemViewType(position)) {\r\n                        case PARENT_CHANNEL_VIEW_TYPE :\r\n                            // show parent channel shortcut\r\n                            if (convertView == null ||\r\n                                    convertView.findViewById(R.id.parentname) == null)\r\n                                convertView = inflater.inflate(R.layout.item_channel_back, parent, false);\r\n                                convertView.setVisibility(view.GONE)\r\n                            break;\r\n    \r\n                        case CHANNEL_VIEW_TYPE :\r\n                            if (convertView == null ||\r\n                                    convertView.findViewById(R.id.channelname) == null)\r\n                                convertView = inflater.inflate(R.layout.item_channel, parent, false);\r\n    \r\n                            ImageView chanicon = convertView.findViewById(R.id.channelicon);\r\n                            TextView name = convertView.findViewById(R.id.channelname);\r\n                            TextView topic = convertView.findViewById(R.id.chantopic);\r\n                            Button join = convertView.findViewById(R.id.join_btn);\r\n                            int icon_resource = R.drawable.channel_orange;\r\n                            if(channel.bPassword) {\r\n                                icon_resource = R.drawable.channel_pink;\r\n                                chanicon.setContentDescription(getString(R.string.text_passwdprot));\r\n                                chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);\r\n                            }\r\n                            else {\r\n                                chanicon.setContentDescription(null);\r\n                                chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\r\n                            }\r\n                            chanicon.setImageResource(icon_resource);\r\n    \r\n                            if(channel.nParentID == 0) {\r\n                                // show server name as channel name for root channel\r\n                                ServerProperties srvprop = new ServerProperties();\r\n                                ttclient.getServerProperties(srvprop);\r\n                                name.setText(srvprop.szServerName);\r\n                            }\r\n                            else {\r\n                                name.setText(channel.szName);\r\n                            }\r\n                            topic.setText(channel.szTopic);\r\n    \r\n                            OnClickListener listener = v -&gt; {\r\n                                if (v.getId() == R.id.join_btn) {\r\n                                    joinChannel(channel);\r\n                                }\r\n                            };\r\n                            join.setOnClickListener(listener);\r\n                            join.setAccessibilityDelegate(accessibilityAssistant);\r\n                            join.setEnabled(channel.nChannelID != ttclient.getMyChannelID());\r\n    \r\n                            if (channel.nMaxUsers &gt; 0) {\r\n                                int population = Utils.getUsers(channel.nChannelID, ttservice.getUsers()).size();\r\n                                ((TextView)convertView.findViewById(R.id.population)).setText((population &gt; 0) ? String.format(&quot;(%d)&quot;, population) : &quot;&quot;);\r\n                            }\r\n    \r\n                            break;\r\n    \r\n                        case INFO_VIEW_TYPE :\r\n                            if (convertView == null ||\r\n                                    convertView.findViewById(R.id.titletext) == null)\r\n                                convertView = inflater.inflate(R.layout.item_info, parent, false);\r\n                            TextView title = convertView.findViewById(R.id.titletext);\r\n                            TextView details = convertView.findViewById(R.id.infodetails);\r\n                            title.setText(channel.szName);\r\n                            details.setText(channel.szTopic);\r\n                            break;\r\n                    }\r\n                }\r\n                else if(item instanceof User) {\r\n                    if (convertView == null ||\r\n                        convertView.findViewById(R.id.nickname) == null)\r\n                        convertView = inflater.inflate(R.layout.item_user, parent, false);\r\n                    ImageView usericon = convertView.findViewById(R.id.usericon);\r\n                    TextView nickname = convertView.findViewById(R.id.nickname);\r\n                    TextView status = convertView.findViewById(R.id.status);\r\n                    final User user = (User) item;\r\n                    String name = Utils.getDisplayName(getBaseContext(), user);\r\n                    nickname.setText(name);\r\n                    status.setText(user.szStatusMsg);\r\n                    \r\n                    boolean talking = (user.uUserState &amp; UserState.USERSTATE_VOICE) != 0;\r\n                    boolean female = (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_FEMALE) != 0;\r\n                    boolean away =  (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_AWAY) != 0;\r\n                    int icon_resource;\r\n                    \r\n                    if(user.nUserID == ttservice.getTTInstance().getMyUserID()) {\r\n                        talking = ttservice.isVoiceTransmitting();\r\n                    }\r\n                    if(talking) {\r\n                        if(female) {\r\n                            icon_resource = R.drawable.woman_green;\r\n                            nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; &#128105;&quot;);\r\n                        }\r\n                        else {\r\n                            icon_resource = R.drawable.man_green;\r\n                            nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; &#128104;&quot;);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if(female) {\r\n                            icon_resource = away? R.drawable.woman_orange : R.drawable.woman_blue;\r\n                            nickname.setContentDescription(name + &quot; &#128105;&quot;);\r\n                        }\r\n                        else {\r\n                            icon_resource = away? R.drawable.man_orange : R.drawable.man_blue;\r\n                            nickname.setContentDescription(name + &quot; &#128104;&quot;);\r\n                        }\r\n                    }\r\n                    status.setContentDescription(away ? getString(R.string.user_state_away) : null);\r\n    \r\n                    usericon.setImageResource(icon_resource);\r\n                    usericon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\r\n                    \r\n                    Button sndmsg = convertView.findViewById(R.id.msg_btn);\r\n                    OnClickListener listener = v -&gt; {\r\n                        if (v.getId() == R.id.msg_btn) {\r\n                            Intent intent = new Intent(MainActivity.this, TextMessageActivity.class);\r\n                            startActivity(intent.putExtra(TextMessageActivity.EXTRA_USERID, user.nUserID));\r\n                        }\r\n                    };\r\n                    sndmsg.setOnClickListener(listener);\r\n                    sndmsg.setAccessibilityDelegate(accessibilityAssistant);\r\n                }\r\n                convertView.setAccessibilityDelegate(accessibilityAssistant);\r\n                return convertView;\r\n            }\r\nThe list user display starts from the left side\r\n\r\n  [1]: https://i.stack.imgur.com/DBdtc.png","title":"Display list user with gridview android studio","body":"<p>I'm having trouble removing the &quot;parent channel shortcut&quot; even though I already have it hidden <strong>(view2.setvisiblity(view.GONE))</strong>. I'm using gridview <strong>android:numColumns=&quot;3&quot;</strong>.The list user display starts from the left side, If I want to remove it, how do I do that?</p>\n<p><a href=\"https://i.stack.imgur.com/DBdtc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DBdtc.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>@Override\n        public int getCount() {\n            int count = currentusers.size() + subchannels.size() + stickychannels.size();\n            if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\n                count++; // include parent channel shortcut\n            }\n            return count;\n        }\n\n        @Override\n        public Object getItem(int position) {\n\n            if (position &lt; stickychannels.size()) {\n                return stickychannels.get(position);\n            }\n\n            // sticky channels are first so subtract these\n            position -= stickychannels.size();\n\n            if (position &lt; currentusers.size()) {\n                return currentusers.get(position);\n            }\n\n            // users are first so subtract these\n            position -= currentusers.size();\n\n            if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\n                if(position == 0) {\n                    Channel parent = ttservice.getChannels().get(curchannel.nParentID);\n\n                    if(parent != null)\n                        return parent;\n                    return new Channel();\n                }\n\n                position--; // subtract parent channel shortcut\n            }\n            return subchannels.get(position);\n        }\n\n        @Override\n        public long getItemId(int position) {\n            return position;\n        }\n\n        @Override\n        public int getItemViewType(int position) {\n\n            if (position &lt; stickychannels.size())\n                return INFO_VIEW_TYPE;\n\n            // sticky channels are first so subtract these\n            position -= stickychannels.size();\n\n            if (position &lt; currentusers.size())\n                return USER_VIEW_TYPE;\n\n            // users are first so subtract these\n            position -= currentusers.size();\n\n            if ((curchannel != null) &amp;&amp; (curchannel.nParentID &gt; 0)) {\n                if (position == 0) {\n                    return PARENT_CHANNEL_VIEW_TYPE;\n                }\n\n                position--; // subtract parent channel shortcut\n            }\n\n            return CHANNEL_VIEW_TYPE;\n        }\n\n        @Override\n        public int getViewTypeCount() {\n            return VIEW_TYPE_COUNT;\n        }\n\n        @Override\n        public View getView(int position, View convertView, ViewGroup parent) {\n\n            Object item = getItem(position);\n\n            if(item instanceof Channel) {\n\n                final Channel channel = (Channel) item;\n\n                switch (getItemViewType(position)) {\n                    case PARENT_CHANNEL_VIEW_TYPE :\n                        // show parent channel shortcut\n                        if (convertView == null ||\n                                convertView.findViewById(R.id.parentname) == null)\n                            convertView = inflater.inflate(R.layout.item_channel_back, parent, false);\n                            convertView.setVisibility(view.GONE)\n                        break;\n\n                    case CHANNEL_VIEW_TYPE :\n                        if (convertView == null ||\n                                convertView.findViewById(R.id.channelname) == null)\n                            convertView = inflater.inflate(R.layout.item_channel, parent, false);\n\n                        ImageView chanicon = convertView.findViewById(R.id.channelicon);\n                        TextView name = convertView.findViewById(R.id.channelname);\n                        TextView topic = convertView.findViewById(R.id.chantopic);\n                        Button join = convertView.findViewById(R.id.join_btn);\n                        int icon_resource = R.drawable.channel_orange;\n                        if(channel.bPassword) {\n                            icon_resource = R.drawable.channel_pink;\n                            chanicon.setContentDescription(getString(R.string.text_passwdprot));\n                            chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);\n                        }\n                        else {\n                            chanicon.setContentDescription(null);\n                            chanicon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\n                        }\n                        chanicon.setImageResource(icon_resource);\n\n                        if(channel.nParentID == 0) {\n                            // show server name as channel name for root channel\n                            ServerProperties srvprop = new ServerProperties();\n                            ttclient.getServerProperties(srvprop);\n                            name.setText(srvprop.szServerName);\n                        }\n                        else {\n                            name.setText(channel.szName);\n                        }\n                        topic.setText(channel.szTopic);\n\n                        OnClickListener listener = v -&gt; {\n                            if (v.getId() == R.id.join_btn) {\n                                joinChannel(channel);\n                            }\n                        };\n                        join.setOnClickListener(listener);\n                        join.setAccessibilityDelegate(accessibilityAssistant);\n                        join.setEnabled(channel.nChannelID != ttclient.getMyChannelID());\n\n                        if (channel.nMaxUsers &gt; 0) {\n                            int population = Utils.getUsers(channel.nChannelID, ttservice.getUsers()).size();\n                            ((TextView)convertView.findViewById(R.id.population)).setText((population &gt; 0) ? String.format(&quot;(%d)&quot;, population) : &quot;&quot;);\n                        }\n\n                        break;\n\n                    case INFO_VIEW_TYPE :\n                        if (convertView == null ||\n                                convertView.findViewById(R.id.titletext) == null)\n                            convertView = inflater.inflate(R.layout.item_info, parent, false);\n                        TextView title = convertView.findViewById(R.id.titletext);\n                        TextView details = convertView.findViewById(R.id.infodetails);\n                        title.setText(channel.szName);\n                        details.setText(channel.szTopic);\n                        break;\n                }\n            }\n            else if(item instanceof User) {\n                if (convertView == null ||\n                    convertView.findViewById(R.id.nickname) == null)\n                    convertView = inflater.inflate(R.layout.item_user, parent, false);\n                ImageView usericon = convertView.findViewById(R.id.usericon);\n                TextView nickname = convertView.findViewById(R.id.nickname);\n                TextView status = convertView.findViewById(R.id.status);\n                final User user = (User) item;\n                String name = Utils.getDisplayName(getBaseContext(), user);\n                nickname.setText(name);\n                status.setText(user.szStatusMsg);\n                \n                boolean talking = (user.uUserState &amp; UserState.USERSTATE_VOICE) != 0;\n                boolean female = (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_FEMALE) != 0;\n                boolean away =  (user.nStatusMode &amp; TeamTalkConstants.STATUSMODE_AWAY) != 0;\n                int icon_resource;\n                \n                if(user.nUserID == ttservice.getTTInstance().getMyUserID()) {\n                    talking = ttservice.isVoiceTransmitting();\n                }\n                if(talking) {\n                    if(female) {\n                        icon_resource = R.drawable.woman_green;\n                        nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; 👩&quot;);\n                    }\n                    else {\n                        icon_resource = R.drawable.man_green;\n                        nickname.setContentDescription(getString(R.string.user_state_now_speaking, name) + &quot; 👨&quot;);\n                    }\n                }\n                else {\n                    if(female) {\n                        icon_resource = away? R.drawable.woman_orange : R.drawable.woman_blue;\n                        nickname.setContentDescription(name + &quot; 👩&quot;);\n                    }\n                    else {\n                        icon_resource = away? R.drawable.man_orange : R.drawable.man_blue;\n                        nickname.setContentDescription(name + &quot; 👨&quot;);\n                    }\n                }\n                status.setContentDescription(away ? getString(R.string.user_state_away) : null);\n\n                usericon.setImageResource(icon_resource);\n                usericon.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO);\n                \n                Button sndmsg = convertView.findViewById(R.id.msg_btn);\n                OnClickListener listener = v -&gt; {\n                    if (v.getId() == R.id.msg_btn) {\n                        Intent intent = new Intent(MainActivity.this, TextMessageActivity.class);\n                        startActivity(intent.putExtra(TextMessageActivity.EXTRA_USERID, user.nUserID));\n                    }\n                };\n                sndmsg.setOnClickListener(listener);\n                sndmsg.setAccessibilityDelegate(accessibilityAssistant);\n            }\n            convertView.setAccessibilityDelegate(accessibilityAssistant);\n            return convertView;\n        }\n</code></pre>\n<p>The list user display starts from the left side</p>\n"},{"tags":["java","class","constructor","private","abstract"],"comments":[{"owner":{"account_id":56144,"reputation":87640,"user_id":168175,"accept_rate":88,"display_name":"Flexo"},"score":0,"creation_date":1343113509,"post_id":11625635,"comment_id":15395995,"body_markdown":"I didn&#39;t vote on this question but I suspect the people downvoting are objecting to *&quot;Maybe there is more elegant usage&quot;* - that&#39;s pretty broad and sounds quite rhetorical.","body":"I didn&#39;t vote on this question but I suspect the people downvoting are objecting to <i>&quot;Maybe there is more elegant usage&quot;</i> - that&#39;s pretty broad and sounds quite rhetorical."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":2,"creation_date":1343113668,"post_id":11625635,"comment_id":15396049,"body_markdown":"The question is: *&quot; In Java what is the purpose of using private constructor in abstract class?&quot;*. That seems specific enough to me.","body":"The question is: <i>&quot; In Java what is the purpose of using private constructor in abstract class?&quot;</i>. That seems specific enough to me."},{"owner":{"account_id":217708,"reputation":23000,"user_id":473637,"accept_rate":88,"display_name":"Jeshurun"},"score":3,"creation_date":1343114144,"post_id":11625635,"comment_id":15396213,"body_markdown":"when you get questions like this in interviews, there usually isn&#39;t one right answer. The interviewer might simply be looking to test your thought process.","body":"when you get questions like this in interviews, there usually isn&#39;t one right answer. The interviewer might simply be looking to test your thought process."},{"owner":{"account_id":3475990,"reputation":791,"user_id":2909166,"display_name":"Kurt Schultz"},"score":0,"creation_date":1456940537,"post_id":11625635,"comment_id":59181975,"body_markdown":"If you change the initial question to &quot;In Java what is the purpose of using a private no-argument constructor in an abstract class?&quot; then there is a good answer.  It is to force sub-classes to provide constructors which match the signature of another constructor in the abstract class which contains required parameters.  The compiler will enforce this which helps to prevent errors in subclasses.   If the question is re-opened I can provide detailed example code.","body":"If you change the initial question to &quot;In Java what is the purpose of using a private no-argument constructor in an abstract class?&quot; then there is a good answer.  It is to force sub-classes to provide constructors which match the signature of another constructor in the abstract class which contains required parameters.  The compiler will enforce this which helps to prevent errors in subclasses.   If the question is re-opened I can provide detailed example code."}],"answers":[{"tags":[],"owner":{"account_id":1424974,"reputation":4002,"user_id":1348753,"accept_rate":58,"display_name":"ManMohan Vyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343113215,"creation_date":1343113215,"answer_id":11625704,"question_id":11625635,"body_markdown":"no other elegant use is possible","title":"Private constructor in abstract class","body":"<p>no other elegant use is possible</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1343113237,"creation_date":1343113237,"answer_id":11625709,"question_id":11625635,"body_markdown":"Only thing I can think of is reusing common code shared by the other (protected) constructors. They could then call the private constructor in their first line.","title":"Private constructor in abstract class","body":"<p>Only thing I can think of is reusing common code shared by the other (protected) constructors. They could then call the private constructor in their first line.</p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1343114102,"post_id":11625792,"comment_id":15396194,"body_markdown":"However, if you provide just one constructor explicitly, there is no default no-arg constructor, so this is not really a reason to make it private.","body":"However, if you provide just one constructor explicitly, there is no default no-arg constructor, so this is not really a reason to make it private."}],"tags":[],"owner":{"account_id":217708,"reputation":23000,"user_id":473637,"accept_rate":88,"display_name":"Jeshurun"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343114070,"creation_date":1343113693,"answer_id":11625792,"question_id":11625635,"body_markdown":"Sometimes, the default no-arg constructor is made private, and another constructor which accepts arguments is provided. This constructor might then invoke other private constructor(s) .  This forces implementations to supply these arguments, which might ensure some variable is always initialized, although this is not common practice (in my experience). If this is the requirement, you would be better off checking your variables and throwing an `IllegalArgumentExeption`, explaining why the variable needs to be initialized.\r\n\r\nIf you create an abstract class with *only* private constructors, the class is practically useless as no instances can ever be created. If the intention is to create a utility class with only static methods (like the `Math` class in the `java.lang` package), private constructors are acceptable, however the class should be marked final instead, as marking the class as abstract implies the class is to be extended.","title":"Private constructor in abstract class","body":"<p>Sometimes, the default no-arg constructor is made private, and another constructor which accepts arguments is provided. This constructor might then invoke other private constructor(s) .  This forces implementations to supply these arguments, which might ensure some variable is always initialized, although this is not common practice (in my experience). If this is the requirement, you would be better off checking your variables and throwing an <code>IllegalArgumentExeption</code>, explaining why the variable needs to be initialized.</p>\n\n<p>If you create an abstract class with <em>only</em> private constructors, the class is practically useless as no instances can ever be created. If the intention is to create a utility class with only static methods (like the <code>Math</code> class in the <code>java.lang</code> package), private constructors are acceptable, however the class should be marked final instead, as marking the class as abstract implies the class is to be extended.</p>\n"},{"comments":[{"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"score":0,"creation_date":1343115509,"post_id":11625940,"comment_id":15396747,"body_markdown":"@Thilo - I agree (3) doesn&#39;t apply, I got carried away - that would be an extension of (1).  4 is qualified to clarify that it&#39;s not directly applicable to the specific question.","body":"@Thilo - I agree (3) doesn&#39;t apply, I got carried away - that would be an extension of (1).  4 is qualified to clarify that it&#39;s not directly applicable to the specific question."}],"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1343115835,"creation_date":1343114273,"answer_id":11625940,"question_id":11625635,"body_markdown":"1. As mentioned, to be used as a common, internal-use only constructor.\r\n\r\n2. Abstract or not abstract, it&#39;s not uncommon to declare a private default constructor on a class containing only static public methods [helper methods] to prevent instantiating the class.\r\n","title":"Private constructor in abstract class","body":"<ol>\n<li><p>As mentioned, to be used as a common, internal-use only constructor.</p></li>\n<li><p>Abstract or not abstract, it's not uncommon to declare a private default constructor on a class containing only static public methods [helper methods] to prevent instantiating the class.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1343115520,"post_id":11626160,"comment_id":15396752,"body_markdown":"I would say that using abstract in this case is not only redundant, but confusing. An abstract class, by definition, is *meant* to be subclassed. Making a class abstract, but not subclassable, shows a lack of understanding of what abstract is for.","body":"I would say that using abstract in this case is not only redundant, but confusing. An abstract class, by definition, is <i>meant</i> to be subclassed. Making a class abstract, but not subclassable, shows a lack of understanding of what abstract is for."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1343115593,"post_id":11626160,"comment_id":15396781,"body_markdown":"@JBNizet Not necessarily lack of understanding, but maybe lack of care not to confuse your clients. BTW note my second paragraph that I&#39;ve just added. This gives perfect motivation for the `private` ctor in an `abstract` class.","body":"@JBNizet Not necessarily lack of understanding, but maybe lack of care not to confuse your clients. BTW note my second paragraph that I&#39;ve just added. This gives perfect motivation for the <code>private</code> ctor in an <code>abstract</code> class."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1673971527,"creation_date":1343115267,"answer_id":11626160,"question_id":11625635,"body_markdown":"If the `private` constructor is the **only** constructor of the class, then the reason is clear: to prevent subclassing. Some classes serve only as holders for static fields/methods and do not want to be either instantiated or subclassed. Note that the `abstract` modifier is in this case redundant&amp;mdash;with or without it there would be no instantiation possible. As @JB Nizet notes below, the `abstract` modifier is also bad practice because it sends wrong signals to the class&#39;s clients. The class should in fact have been `final`.\r\n\r\nThere is another use case, quite rare though: you can have an `abstract class` with only `private` constructors that contains its own subclasses as nested classes. This idiom makes sure those nested classes are the only subclasses. In fact, `enum`s in Java use just this idiom.\r\n\r\nIf there are other constructors around, well then there&#39;s really nothing special about the `private` constructor. It gets used in an `abstract` class just as in any other.","title":"Private constructor in abstract class","body":"<p>If the <code>private</code> constructor is the <strong>only</strong> constructor of the class, then the reason is clear: to prevent subclassing. Some classes serve only as holders for static fields/methods and do not want to be either instantiated or subclassed. Note that the <code>abstract</code> modifier is in this case redundant—with or without it there would be no instantiation possible. As @JB Nizet notes below, the <code>abstract</code> modifier is also bad practice because it sends wrong signals to the class's clients. The class should in fact have been <code>final</code>.</p>\n<p>There is another use case, quite rare though: you can have an <code>abstract class</code> with only <code>private</code> constructors that contains its own subclasses as nested classes. This idiom makes sure those nested classes are the only subclasses. In fact, <code>enum</code>s in Java use just this idiom.</p>\n<p>If there are other constructors around, well then there's really nothing special about the <code>private</code> constructor. It gets used in an <code>abstract</code> class just as in any other.</p>\n"},{"tags":[],"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561716413,"creation_date":1561716413,"answer_id":56804940,"question_id":11625635,"body_markdown":"A private constructor in an abstract class can also serve the purpose of ```sealed``` classes (like in Scala or Kotlin etc.). Since you can still provide subclasses from within the abstract class, but outsiders cannot extend/implement (as @Marko Topolnik answered).\r\n\r\nIt does look like we will be getting ```sealed interface``` to more cleanly support this. See https://openjdk.java.net/jeps/8222777","title":"Private constructor in abstract class","body":"<p>A private constructor in an abstract class can also serve the purpose of <code>sealed</code> classes (like in Scala or Kotlin etc.). Since you can still provide subclasses from within the abstract class, but outsiders cannot extend/implement (as @Marko Topolnik answered).</p>\n\n<p>It does look like we will be getting <code>sealed interface</code> to more cleanly support this. See <a href=\"https://openjdk.java.net/jeps/8222777\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/8222777</a></p>\n"},{"tags":[],"owner":{"account_id":5261556,"reputation":51,"user_id":4202962,"display_name":"Kevin LeBlanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574169883,"creation_date":1574169883,"answer_id":58935152,"question_id":11625635,"body_markdown":"A final class with only private constructors is a design used by singletons and multitons.\r\n\r\nAn abstract class which has only private constructors is the only way I&#39;ve seen to prevent a class from being instantiated.  I have seen it used to create utility classes (which only have static methods and/or members).\r\n\r\nAs for setting up user expectations I see that https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html states &quot;Abstract classes cannot be instantiated, but they **can be** subclassed.&quot;  I note that it does not state any intention that they are expected to be subclassed.\r\n\r\nI also note however that viewing some Java source code I find the following designs are used (none of which are abstract classes with only private constructors):\r\n\r\n - Final utility classes with private constructors\r\n  - http://developer.classpath.org/doc/java/lang/Math-source.html\r\n  - http://developer.classpath.org/doc/java/lang/System-source.html\r\n - Final utility classes with private constructors which\r\n   throw exceptions\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Objects.java\r\n - Neither abstract nor final utility classes with private constructors\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayPrefixHelpers.java\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Arrays.java\r\n  - https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Collections.java\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/FormattableFlags.java\r\n - Looks like a utility, but apparently can be instantiated (no private\r\n   constructors)\r\n  - http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArraysParallelSortHelpers.java\r\n","title":"Private constructor in abstract class","body":"<p>A final class with only private constructors is a design used by singletons and multitons.</p>\n\n<p>An abstract class which has only private constructors is the only way I've seen to prevent a class from being instantiated.  I have seen it used to create utility classes (which only have static methods and/or members).</p>\n\n<p>As for setting up user expectations I see that <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html</a> states \"Abstract classes cannot be instantiated, but they <strong>can be</strong> subclassed.\"  I note that it does not state any intention that they are expected to be subclassed.</p>\n\n<p>I also note however that viewing some Java source code I find the following designs are used (none of which are abstract classes with only private constructors):</p>\n\n<ul>\n<li>Final utility classes with private constructors\n\n<ul>\n<li><a href=\"http://developer.classpath.org/doc/java/lang/Math-source.html\" rel=\"nofollow noreferrer\">http://developer.classpath.org/doc/java/lang/Math-source.html</a></li>\n<li><a href=\"http://developer.classpath.org/doc/java/lang/System-source.html\" rel=\"nofollow noreferrer\">http://developer.classpath.org/doc/java/lang/System-source.html</a></li>\n</ul></li>\n<li>Final utility classes with private constructors which\nthrow exceptions\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Objects.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Objects.java</a></li>\n</ul></li>\n<li>Neither abstract nor final utility classes with private constructors\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayPrefixHelpers.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArrayPrefixHelpers.java</a></li>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Arrays.java</a></li>\n<li><a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Collections.java\" rel=\"nofollow noreferrer\">https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/Collections.java</a></li>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/FormattableFlags.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/FormattableFlags.java</a></li>\n</ul></li>\n<li>Looks like a utility, but apparently can be instantiated (no private\nconstructors)\n\n<ul>\n<li><a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArraysParallelSortHelpers.java\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/ArraysParallelSortHelpers.java</a></li>\n</ul></li>\n</ul>\n"}],"owner":{"account_id":1381946,"reputation":1068,"user_id":1314748,"accept_rate":75,"display_name":"Chris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17686,"favorite_count":0,"down_vote_count":4,"up_vote_count":20,"accepted_answer_id":11626160,"answer_count":7,"score":16,"last_activity_date":1673971527,"creation_date":1343112894,"question_id":11625635,"body_markdown":"In Java what is the purpose of using private constructor in an abstract class? \r\n\r\nIn a review I got this question, and I am curious, for what situation we need to use the constructor in such way?\r\n\r\nI think it can be used in pair with another constructor in abstract class, but this is very trivial. Also it can be used for constructing static inner classes which will excend abstract class.\r\n\r\nMaybe there is more elegant usage?","title":"Private constructor in abstract class","body":"<p>In Java what is the purpose of using private constructor in an abstract class? </p>\n\n<p>In a review I got this question, and I am curious, for what situation we need to use the constructor in such way?</p>\n\n<p>I think it can be used in pair with another constructor in abstract class, but this is very trivial. Also it can be used for constructing static inner classes which will excend abstract class.</p>\n\n<p>Maybe there is more elegant usage?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","pre-signed-url"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1673968318,"post_id":75148357,"comment_id":132611879,"body_markdown":"That&#39;s not a [pre-signed URL](https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html).","body":"That&#39;s not a <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-presigned-url.html\" rel=\"nofollow noreferrer\">pre-signed URL</a>."}],"answers":[{"comments":[{"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"score":0,"creation_date":1673970770,"post_id":75148811,"comment_id":132612776,"body_markdown":"Thanks. Yeah that&#39;s what I meant with pre signed url. So these urls are accessible on the internet right?","body":"Thanks. Yeah that&#39;s what I meant with pre signed url. So these urls are accessible on the internet right?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1673970830,"post_id":75148811,"comment_id":132612805,"body_markdown":"Yes: &quot;You can use a S3Presigner object to sign an Amazon S3 SdkRequest so that it’s executed without requiring authentication on the part of the caller. For example, assume Alice has access to an S3 object, and she wants to temporarily share access to that object with Bob. Alice can generate a pre-signed GetObjectRequest object to secure share with Bob so that he can download the object without requiring access to Alice’s credentials.&quot;","body":"Yes: &quot;You can use a S3Presigner object to sign an Amazon S3 SdkRequest so that it’s executed without requiring authentication on the part of the caller. For example, assume Alice has access to an S3 object, and she wants to temporarily share access to that object with Bob. Alice can generate a pre-signed GetObjectRequest object to secure share with Bob so that he can download the object without requiring access to Alice’s credentials.&quot;"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1673970861,"post_id":75148811,"comment_id":132612820,"body_markdown":"the explanation from the doc","body":"the explanation from the doc"},{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1673976503,"post_id":75148811,"comment_id":132614686,"body_markdown":"Just because it&#39;s a stumbling point people hit surprisingly often:  Be aware the presigned URLs have a lifespan of up to a week.  If you need a URL to be valid for longer than that, you&#39;ll need some other solution.","body":"Just because it&#39;s a stumbling point people hit surprisingly often:  Be aware the presigned URLs have a lifespan of up to a week.  If you need a URL to be valid for longer than that, you&#39;ll need some other solution."}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673970631,"creation_date":1673970008,"answer_id":75148811,"question_id":75148357,"body_markdown":"The URL you are showing is not a Pre-signed URL. A Pre-signed URL look like this:\r\n\r\nhttps://bucketxxxxxx.s3.amazonaws.com/note.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230117T153509Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=AKIA33JWY3BX2TYWxxxxxxxxxxx%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=e55142af548e46fc2870bb03331d0e9aa9ffbd21xxxxxxxxxxxxxxxxxx\r\n\r\nOnce you generate a valid Pre-signed URL, you do not need a proxy. A user can download the object in the given time window - which you define when you create **GetObjectPresignRequest** . \r\n\r\n    GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\r\n                       .signatureDuration(Duration.ofMinutes(60))\r\n                       .getObjectRequest(getObjectRequest)\r\n                       .build();\r\n\r\nYou can see the proper way to create a pre-signed URL using AWS SDK for Java v2 in the **AWS Code Github** here:\r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectPresignedUrl.java \r\n\r\nTO read more about using the AWS SDK for Java v2 to create them, see this topic in the **AWS Java V2 Developer Guide**.\r\n\r\n[Working with Amazon S3 presigned URLs][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html","title":"Amazon S3 signed urls accessible from outside world","body":"<p>The URL you are showing is not a Pre-signed URL. A Pre-signed URL look like this:</p>\n<p><a href=\"https://bucketxxxxxx.s3.amazonaws.com/note.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230117T153509Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=AKIA33JWY3BX2TYWxxxxxxxxxxx%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=e55142af548e46fc2870bb03331d0e9aa9ffbd21xxxxxxxxxxxxxxxxxx\" rel=\"nofollow noreferrer\">https://bucketxxxxxx.s3.amazonaws.com/note.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20230117T153509Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=3599&amp;X-Amz-Credential=AKIA33JWY3BX2TYWxxxxxxxxxxx%2Fus-east-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=e55142af548e46fc2870bb03331d0e9aa9ffbd21xxxxxxxxxxxxxxxxxx</a></p>\n<p>Once you generate a valid Pre-signed URL, you do not need a proxy. A user can download the object in the given time window - which you define when you create <strong>GetObjectPresignRequest</strong> .</p>\n<pre><code>GetObjectPresignRequest getObjectPresignRequest = GetObjectPresignRequest.builder()\n                   .signatureDuration(Duration.ofMinutes(60))\n                   .getObjectRequest(getObjectRequest)\n                   .build();\n</code></pre>\n<p>You can see the proper way to create a pre-signed URL using AWS SDK for Java v2 in the <strong>AWS Code Github</strong> here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectPresignedUrl.java\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/javav2/example_code/s3/src/main/java/com/example/s3/GetObjectPresignedUrl.java</a></p>\n<p>TO read more about using the AWS SDK for Java v2 to create them, see this topic in the <strong>AWS Java V2 Developer Guide</strong>.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-presign.html\" rel=\"nofollow noreferrer\">Working with Amazon S3 presigned URLs</a></p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673971082,"creation_date":1673967794,"question_id":75148357,"body_markdown":"So we have a use case where we need to be able to download the `S3` files from the outside world on the internet. For this we are creating `s3 pre signed url` as below. My doubt is how can we access this on the internet? Are these urls accessible by default on the internet. Or do we need to create a proxy. \r\n\r\n    https://&lt;bucket-name&gt;.s3.amazonaws.com/&lt;filename&gt;&lt;some other parameters&gt;\r\n\r\n","title":"Amazon S3 signed urls accessible from outside world","body":"<p>So we have a use case where we need to be able to download the <code>S3</code> files from the outside world on the internet. For this we are creating <code>s3 pre signed url</code> as below. My doubt is how can we access this on the internet? Are these urls accessible by default on the internet. Or do we need to create a proxy.</p>\n<pre><code>https://&lt;bucket-name&gt;.s3.amazonaws.com/&lt;filename&gt;&lt;some other parameters&gt;\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674004510,"post_id":75143618,"comment_id":132621372,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":27433137,"reputation":11,"user_id":20929462,"display_name":"M Thomas Mary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673971062,"creation_date":1673971062,"answer_id":75149033,"question_id":75143618,"body_markdown":"I fixed it by myself:\r\n\r\n    public static void log(String message) throws IOException { \r\n        \t      PrintWriter out = new PrintWriter(new FileWriter(&quot;D:/MOV/Working.txt&quot;, true), true);\r\n        \t      out.println(message);\r\n        \t      out.close();\r\n        \t    }","title":"How to append the console output to a txt file in Selenium JAVA inside for loop?","body":"<p>I fixed it by myself:</p>\n<pre><code>public static void log(String message) throws IOException { \n              PrintWriter out = new PrintWriter(new FileWriter(&quot;D:/MOV/Working.txt&quot;, true), true);\n              out.println(message);\n              out.close();\n            }\n</code></pre>\n"}],"owner":{"account_id":27433137,"reputation":11,"user_id":20929462,"display_name":"M Thomas Mary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673971062,"creation_date":1673943979,"question_id":75143618,"body_markdown":"```\r\npublic static void name(String line) throws IOException {\r\n\t\t\r\n\t\t  String TestFile = &quot;D:/temp.txt&quot;;\r\n\t\t  File FC = new File(TestFile);//Created object of java File class.\r\n\t\t  FC.createNewFile();//Create file.\r\n\t\t  \r\n\t\t\r\n\t\t  FileWriter FW = new FileWriter(TestFile);\r\n\t\t  BufferedWriter BW = new BufferedWriter(FW);\r\n\t\t\r\n\t\t  BW.append(line); \r\n\t\t\r\n\t\t  BW.close();\r\n\t}\r\n```\r\n\r\n\r\n\r\nThis function overiding the previous line instead of creating new line for **for looping** output.","title":"How to append the console output to a txt file in Selenium JAVA inside for loop?","body":"<pre><code>public static void name(String line) throws IOException {\n        \n          String TestFile = &quot;D:/temp.txt&quot;;\n          File FC = new File(TestFile);//Created object of java File class.\n          FC.createNewFile();//Create file.\n          \n        \n          FileWriter FW = new FileWriter(TestFile);\n          BufferedWriter BW = new BufferedWriter(FW);\n        \n          BW.append(line); \n        \n          BW.close();\n    }\n</code></pre>\n<p>This function overiding the previous line instead of creating new line for <strong>for looping</strong> output.</p>\n"},{"tags":["java","sql-server","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1673606836,"post_id":75107881,"comment_id":132542119,"body_markdown":"Don&#39;t you need just one `AT TIME ZONE …`? The time stored (in an unknown type) should be in the source zone and you can express it in another zone with `AT TIME ZONE`. That would explain the error message `unexpected token: AT`…","body":"Don&#39;t you need just one <code>AT TIME ZONE …</code>? The time stored (in an unknown type) should be in the source zone and you can express it in another zone with <code>AT TIME ZONE</code>. That would explain the error message <code>unexpected token: AT</code>…"},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1673608394,"post_id":75107881,"comment_id":132542588,"body_markdown":"@deHaar, tested with one AT TIME ZONE with native query, but date is not being converted, but it is with two AT TIME ZONE . I read somewhere that first it converts the date to source time zone and from that it converts to target time zone. However, I will try with one in JPQL.","body":"@deHaar, tested with one AT TIME ZONE with native query, but date is not being converted, but it is with two AT TIME ZONE . I read somewhere that first it converts the date to source time zone and from that it converts to target time zone. However, I will try with one in JPQL."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1673609190,"post_id":75107881,"comment_id":132542816,"body_markdown":"That&#39;s because your query is entirely missing the required `CONVERT(type, value, 126) AT TIME ZONE …`, see examples [here](https://learn.microsoft.com/en-us/sql/t-sql/queries/at-time-zone-transact-sql?view=sql-server-ver16)","body":"That&#39;s because your query is entirely missing the required <code>CONVERT(type, value, 126) AT TIME ZONE …</code>, see examples <a href=\"https://learn.microsoft.com/en-us/sql/t-sql/queries/at-time-zone-transact-sql?view=sql-server-ver16\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"score":0,"creation_date":1673616699,"post_id":75107881,"comment_id":132545198,"body_markdown":"It is still same even after using `CONVERT(type, value, 126) AT TIME ZONE`. Question is updated with query with `CONVERT` and error.","body":"It is still same even after using <code>CONVERT(type, value, 126) AT TIME ZONE</code>. Question is updated with query with <code>CONVERT</code> and error."}],"answers":[{"tags":[],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673970826,"creation_date":1673970826,"answer_id":75148994,"question_id":75107881,"body_markdown":"After did some research on this, found that we can not call/use this SQL Server *&quot;AT TIME ZONE*&quot; clause directly in JPQL.\r\n\r\nAs explained in [MetadataBuilderContributor][1], used  `MetadataBuilderContributor` utility to customize the `MetadataBuilder` like below:\r\n\r\n    public class SqlTimeZoneMetadataBuilderContributor implements MetadataBuilderContributor {\r\n\t\r\n\t@Override\r\n\tpublic void contribute(MetadataBuilder metadataBuilder) {\r\n\t\tmetadataBuilder.applySqlFunction(&quot;CONVERT_TIMEZONE&quot;, new SQLFunctionTemplate(StandardBasicTypes.TIMESTAMP,\r\n\t\t\t\t&quot;CONVERT(datetime, ?1 AT TIME ZONE ?2 AT TIME ZONE ?3)&quot;));\r\n\r\n\t}\r\n\r\n}\r\n\r\nSpecified this to `jpaProperties` property of `org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean` as property.\r\n\r\n    &lt;prop key=&quot;hibernate.metadata_builder_contributor&quot;&gt;com.grc.common.SqlTimeZoneMetadataBuilderContributor&lt;/prop&gt;\r\n\r\n**Usage in JPQL:**\r\n\r\n    and (CONVERT_TIMEZONE(PR.requestDate, &#39;&quot;+serverDisplayName+&quot;&#39;, &#39;&quot;+clientDisplayName+&quot;&#39;)) &gt;= ?\r\n\r\n\r\n  [1]: https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/","title":"How to use SQL Server AT TIME ZONE clause with JPQL?","body":"<p>After did some research on this, found that we can not call/use this SQL Server <em>&quot;AT TIME ZONE</em>&quot; clause directly in JPQL.</p>\n<p>As explained in <a href=\"https://vladmihalcea.com/hibernate-sql-function-jpql-criteria-api-query/\" rel=\"nofollow noreferrer\">MetadataBuilderContributor</a>, used  <code>MetadataBuilderContributor</code> utility to customize the <code>MetadataBuilder</code> like below:</p>\n<pre><code>public class SqlTimeZoneMetadataBuilderContributor implements MetadataBuilderContributor {\n\n@Override\npublic void contribute(MetadataBuilder metadataBuilder) {\n    metadataBuilder.applySqlFunction(&quot;CONVERT_TIMEZONE&quot;, new SQLFunctionTemplate(StandardBasicTypes.TIMESTAMP,\n            &quot;CONVERT(datetime, ?1 AT TIME ZONE ?2 AT TIME ZONE ?3)&quot;));\n\n}\n</code></pre>\n<p>}</p>\n<p>Specified this to <code>jpaProperties</code> property of <code>org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean</code> as property.</p>\n<pre><code>&lt;prop key=&quot;hibernate.metadata_builder_contributor&quot;&gt;com.grc.common.SqlTimeZoneMetadataBuilderContributor&lt;/prop&gt;\n</code></pre>\n<p><strong>Usage in JPQL:</strong></p>\n<pre><code>and (CONVERT_TIMEZONE(PR.requestDate, '&quot;+serverDisplayName+&quot;', '&quot;+clientDisplayName+&quot;')) &gt;= ?\n</code></pre>\n"}],"owner":{"account_id":10056831,"reputation":435,"user_id":7434767,"display_name":"Ram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148994,"answer_count":1,"score":0,"last_activity_date":1673970826,"creation_date":1673605434,"question_id":75107881,"body_markdown":"I have to convert date fields in *where* clause of query from one time zone(server time zone) to another (client time zone). I am able to achieve this for MySQL database using **CONVERT_TZ** function, but for Microsoft SQL Server, AT TIME ZONE clause throwing error in below JPQL.\r\n\r\n    select (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;) &gt;= ?1  and (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;) &lt; ?2  GROUP BY (PR.requestDate AT TIME ZONE &#39;Central European Time&#39; AT TIME ZONE &#39;India Standard Time&#39;)\r\n\r\n**Error:**\r\n\r\n    18:13:50.006 [http-nio-8080-exec-10] ERROR org.hibernate.hql.internal.ast.ErrorTracker - line 1:24: unexpected token: AT\r\n    antlr.NoViableAltException: unexpected token: AT at org.hibernate.hql.internal.antlr.HqlBaseParser.expressionOrVector(HqlBaseParser.java:5226) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\r\nDoes this **AT TIME ZONE**  clause works in JPQL? or is there any other way to achieve this?\r\n\r\n**Update:**\r\n\r\nQuery with `CONVERT` funtion:\r\n\r\n    select (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;) &gt;= ?1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;) &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard Time&#39;)\r\n\r\n**Error:**\r\n\r\n    14:23:06.303 [http-nio-8080-exec-4] ERROR \r\n    org.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \r\n    token: AT\r\n    14:23:06.319 [http-nio-8080-exec-4] ERROR \r\n    org.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \r\n    token: AT\r\n    antlr.NoViableAltException: unexpected token: AT\r\n    \r\n    \r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: \r\n    unexpected token: AT near line 1, column 46 [select \r\n    (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard \r\n    Time&#39;),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  \r\n    where 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE \r\n    &#39;India Standard Time&#39;) &gt;= ?1  and \r\n    (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE &#39;India Standard \r\n    Time&#39;) &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME \r\n    ZONE &#39;India Standard Time&#39;)]","title":"How to use SQL Server AT TIME ZONE clause with JPQL?","body":"<p>I have to convert date fields in <em>where</em> clause of query from one time zone(server time zone) to another (client time zone). I am able to achieve this for MySQL database using <strong>CONVERT_TZ</strong> function, but for Microsoft SQL Server, AT TIME ZONE clause throwing error in below JPQL.</p>\n<pre><code>select (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time'),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time') &gt;= ?1  and (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time') &lt; ?2  GROUP BY (PR.requestDate AT TIME ZONE 'Central European Time' AT TIME ZONE 'India Standard Time')\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>18:13:50.006 [http-nio-8080-exec-10] ERROR org.hibernate.hql.internal.ast.ErrorTracker - line 1:24: unexpected token: AT\nantlr.NoViableAltException: unexpected token: AT at org.hibernate.hql.internal.antlr.HqlBaseParser.expressionOrVector(HqlBaseParser.java:5226) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n</code></pre>\n<p>Does this <strong>AT TIME ZONE</strong>  clause works in JPQL? or is there any other way to achieve this?</p>\n<p><strong>Update:</strong></p>\n<p>Query with <code>CONVERT</code> funtion:</p>\n<pre><code>select (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time'),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  where 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time') &gt;= ?1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time') &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard Time')\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>14:23:06.303 [http-nio-8080-exec-4] ERROR \norg.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \ntoken: AT\n14:23:06.319 [http-nio-8080-exec-4] ERROR \norg.hibernate.hql.internal.ast.ErrorTracker - line 1:46: unexpected \ntoken: AT\nantlr.NoViableAltException: unexpected token: AT\n\n\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: \nunexpected token: AT near line 1, column 46 [select \n(CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard \nTime'),count(*)  FROM com.grc.pam.model.entity.PrivilegeRequest PR  \nwhere 1 = 1  and (CONVERT(datetime,PR.requestDate,120) AT TIME ZONE \n'India Standard Time') &gt;= ?1  and \n(CONVERT(datetime,PR.requestDate,120) AT TIME ZONE 'India Standard \nTime') &lt; ?2  GROUP BY (CONVERT(datetime,PR.requestDate,120) AT TIME \nZONE 'India Standard Time')]\n</code></pre>\n"},{"tags":["java","json","performance"],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673970636,"creation_date":1673970636,"answer_id":75148944,"question_id":75145254,"body_markdown":"Use JSON library such as _Josson_ to do the transformation.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;ad002\\&quot;: \\&quot;5601087282462117\\&quot;,&quot; +\r\n        &quot;    \\&quot;be003\\&quot;: \\&quot;{\\\\\\&quot;1\\\\\\&quot;:\\\\\\&quot;ABC\\\\\\&quot;,\\\\\\&quot;2\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;,\\\\\\&quot;3\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;}\\&quot;,&quot; +\r\n        &quot;    \\&quot;ze024\\&quot;: \\&quot;18\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Transformation__\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;entries()&quot; +        // Step 1\r\n        &quot;.field(value&quot; +\r\n        &quot;       .if(startsWith(&#39;{&#39;),&quot; + // Assume it is an object\r\n        &quot;           json().entries().value.@join(),&quot; +\r\n        &quot;           ?)&quot; +\r\n        &quot;       )&quot; +         // Step 2\r\n        &quot;.map(key::value)&quot; + // Step 3\r\n        &quot;.mergeObjects()&quot;);  // Final step\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;ad002&quot; : &quot;5601087282462117&quot;,\r\n      &quot;be003&quot; : &quot;ABCDEFDEF&quot;,\r\n      &quot;ze024&quot; : &quot;18&quot;\r\n    }\r\n\r\n__Path Trace__\r\n\r\nYou can use function `getPathTrace()` to see the output of each step.\r\n\r\n    PathTrace trace = josson.getPathTrace(...)\r\n\r\n_Step 1 output_\r\n\r\n    [ {\r\n      &quot;key&quot; : &quot;ad002&quot;,\r\n      &quot;value&quot; : &quot;5601087282462117&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;be003&quot;,\r\n      &quot;value&quot; : &quot;{\\&quot;1\\&quot;:\\&quot;ABC\\&quot;,\\&quot;2\\&quot;:\\&quot;DEF\\&quot;,\\&quot;3\\&quot;:\\&quot;DEF\\&quot;}&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;ze024&quot;,\r\n      &quot;value&quot; : &quot;18&quot;\r\n    } ]\r\n\r\n_Step 2 output_\r\n\r\n    [ {\r\n      &quot;key&quot; : &quot;ad002&quot;,\r\n      &quot;value&quot; : &quot;5601087282462117&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;be003&quot;,\r\n      &quot;value&quot; : &quot;ABCDEFDEF&quot;\r\n    }, {\r\n      &quot;key&quot; : &quot;ze024&quot;,\r\n      &quot;value&quot; : &quot;18&quot;\r\n    } ]\r\n\r\n_Step 3 output_\r\n\r\n    [ {\r\n      &quot;ad002&quot; : &quot;5601087282462117&quot;\r\n    }, {\r\n      &quot;be003&quot; : &quot;ABCDEFDEF&quot;\r\n    }, {\r\n      &quot;ze024&quot; : &quot;18&quot;\r\n    } ]\r\n","title":"JSON object parsing without keys and concatenate inner json values","body":"<p>Use JSON library such as <em>Josson</em> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;ad002\\&quot;: \\&quot;5601087282462117\\&quot;,&quot; +\n    &quot;    \\&quot;be003\\&quot;: \\&quot;{\\\\\\&quot;1\\\\\\&quot;:\\\\\\&quot;ABC\\\\\\&quot;,\\\\\\&quot;2\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;,\\\\\\&quot;3\\\\\\&quot;:\\\\\\&quot;DEF\\\\\\&quot;}\\&quot;,&quot; +\n    &quot;    \\&quot;ze024\\&quot;: \\&quot;18\\&quot;&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Transformation</strong></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;entries()&quot; +        // Step 1\n    &quot;.field(value&quot; +\n    &quot;       .if(startsWith('{'),&quot; + // Assume it is an object\n    &quot;           json().entries().value.@join(),&quot; +\n    &quot;           ?)&quot; +\n    &quot;       )&quot; +         // Step 2\n    &quot;.map(key::value)&quot; + // Step 3\n    &quot;.mergeObjects()&quot;);  // Final step\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;ad002&quot; : &quot;5601087282462117&quot;,\n  &quot;be003&quot; : &quot;ABCDEFDEF&quot;,\n  &quot;ze024&quot; : &quot;18&quot;\n}\n</code></pre>\n<p><strong>Path Trace</strong></p>\n<p>You can use function <code>getPathTrace()</code> to see the output of each step.</p>\n<pre><code>PathTrace trace = josson.getPathTrace(...)\n</code></pre>\n<p><em>Step 1 output</em></p>\n<pre><code>[ {\n  &quot;key&quot; : &quot;ad002&quot;,\n  &quot;value&quot; : &quot;5601087282462117&quot;\n}, {\n  &quot;key&quot; : &quot;be003&quot;,\n  &quot;value&quot; : &quot;{\\&quot;1\\&quot;:\\&quot;ABC\\&quot;,\\&quot;2\\&quot;:\\&quot;DEF\\&quot;,\\&quot;3\\&quot;:\\&quot;DEF\\&quot;}&quot;\n}, {\n  &quot;key&quot; : &quot;ze024&quot;,\n  &quot;value&quot; : &quot;18&quot;\n} ]\n</code></pre>\n<p><em>Step 2 output</em></p>\n<pre><code>[ {\n  &quot;key&quot; : &quot;ad002&quot;,\n  &quot;value&quot; : &quot;5601087282462117&quot;\n}, {\n  &quot;key&quot; : &quot;be003&quot;,\n  &quot;value&quot; : &quot;ABCDEFDEF&quot;\n}, {\n  &quot;key&quot; : &quot;ze024&quot;,\n  &quot;value&quot; : &quot;18&quot;\n} ]\n</code></pre>\n<p><em>Step 3 output</em></p>\n<pre><code>[ {\n  &quot;ad002&quot; : &quot;5601087282462117&quot;\n}, {\n  &quot;be003&quot; : &quot;ABCDEFDEF&quot;\n}, {\n  &quot;ze024&quot; : &quot;18&quot;\n} ]\n</code></pre>\n"}],"owner":{"account_id":4712286,"reputation":3,"user_id":3812445,"display_name":"user3812445"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148944,"answer_count":1,"score":0,"last_activity_date":1673970636,"creation_date":1673952311,"question_id":75145254,"body_markdown":"I have a column in DB which stored data in following json format like below:\r\n{&quot;ad002&quot;:&quot;5601087282462117&quot;,&quot;be003&quot;:&quot;{\\&quot;1\\&quot;:\\&quot;ABC\\&quot;,\\&quot;2\\&quot;:\\&quot;DEF\\&quot;,\\&quot;3\\&quot;:\\&quot;DEF\\&quot;}&quot;,&quot;ze024&quot;:&quot;18&quot;}\r\n\r\nI want to iterate the data without keys as there are thousand of keys in data and if some element found like be003 where it has further key values then all the values should be concatenate and return that value. \r\n\r\nI tried below solution \r\n\r\n`JSONObject outerObject = new JSONObject(jsonInput);\r\n    String ad002Value = outerObject.optString(&quot;ad002&quot;);\r\n      JSONObject be003Object = new JSONObject(outerObject.optString(&quot;be003&quot;));`\r\n\r\nbut here I need to depend in keys which is not required as there are thousand of keys. I need to further set values to some object.","title":"JSON object parsing without keys and concatenate inner json values","body":"<p>I have a column in DB which stored data in following json format like below:\n{&quot;ad002&quot;:&quot;5601087282462117&quot;,&quot;be003&quot;:&quot;{&quot;1&quot;:&quot;ABC&quot;,&quot;2&quot;:&quot;DEF&quot;,&quot;3&quot;:&quot;DEF&quot;}&quot;,&quot;ze024&quot;:&quot;18&quot;}</p>\n<p>I want to iterate the data without keys as there are thousand of keys in data and if some element found like be003 where it has further key values then all the values should be concatenate and return that value.</p>\n<p>I tried below solution</p>\n<p><code>JSONObject outerObject = new JSONObject(jsonInput); String ad002Value = outerObject.optString(&quot;ad002&quot;); JSONObject be003Object = new JSONObject(outerObject.optString(&quot;be003&quot;));</code></p>\n<p>but here I need to depend in keys which is not required as there are thousand of keys. I need to further set values to some object.</p>\n"},{"tags":["java","gradle","protocol-buffers"],"owner":{"account_id":19981042,"reputation":1,"user_id":21028574,"display_name":"Андрей Ельцов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673970559,"creation_date":1673970559,"question_id":75148929,"body_markdown":"I try to generate my proto-files using Protofub Plugin, but my configuration doesn&#39;t work.\r\nI have the following project structure:\r\n[enter image description here](https://i.stack.imgur.com/p0N85.png)\r\nSo, my .proto files and gnerated code are in one folder for module.\r\nI tried to configure a both modules (actions &amp; server) separately. And received the following gradle configuration:\r\nbuild.gradle in actions equals with build.bradle in server:\r\n\r\n```\r\nplugins {\r\n    id &quot;com.google.protobuf&quot; version &quot;0.9.1&quot;\r\n    id &quot;java&quot;\r\n}\r\n\r\nsourceSets {\r\n    main {\r\n        proto {\r\n            srcDir &#39;src/main/java/com/company/protos/*.proto&#39;\r\n        }\r\n        java {\r\n            srcDirs &#39;src/main/java/com/geargames/aow/protos&#39;\r\n        }\r\n    }\r\n}\r\n\r\nprotobuf {\r\n    protoc {\r\n        artifact = &quot;com.google.protobuf:protoc:3.21.7&quot;\r\n    }\r\n    plugins {\r\n        grpc {\r\n            artifact = &quot;io.grpc:protoc-gen-grpc-java:1.52.0&quot;\r\n        }\r\n    }\r\n\r\n    generateProtoTasks.generatedFilesBaseDir = &#39;src/main/java/com/company/protos&#39;\r\n\r\n    generateProtoTasks {\r\n        all()*.builtins {\r\n            java {\r\n                outputSubDir = &#39;protos&#39;\r\n            }\r\n        }\r\n        all()*.plugins {\r\n            grpc {}\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute `./gradlew geneateProto` nothing happens, but it&#39;s worked and I see `BUIND SUCCESSFUL`\r\nWhat am I missing?\r\nThanks.\r\n\r\nI used [docs](https://github.com/google/protobuf-gradle-plugin) and other sources, but it don&#39;t work for my case.\r\nIt is important for me to put the generated files in /protos/[one/two/three] directories in modules.","title":"protoc-gen-grpc on Gradle plugin","body":"<p>I try to generate my proto-files using Protofub Plugin, but my configuration doesn't work.\nI have the following project structure:\n<a href=\"https://i.stack.imgur.com/p0N85.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nSo, my .proto files and gnerated code are in one folder for module.\nI tried to configure a both modules (actions &amp; server) separately. And received the following gradle configuration:\nbuild.gradle in actions equals with build.bradle in server:</p>\n<pre><code>plugins {\n    id &quot;com.google.protobuf&quot; version &quot;0.9.1&quot;\n    id &quot;java&quot;\n}\n\nsourceSets {\n    main {\n        proto {\n            srcDir 'src/main/java/com/company/protos/*.proto'\n        }\n        java {\n            srcDirs 'src/main/java/com/geargames/aow/protos'\n        }\n    }\n}\n\nprotobuf {\n    protoc {\n        artifact = &quot;com.google.protobuf:protoc:3.21.7&quot;\n    }\n    plugins {\n        grpc {\n            artifact = &quot;io.grpc:protoc-gen-grpc-java:1.52.0&quot;\n        }\n    }\n\n    generateProtoTasks.generatedFilesBaseDir = 'src/main/java/com/company/protos'\n\n    generateProtoTasks {\n        all()*.builtins {\n            java {\n                outputSubDir = 'protos'\n            }\n        }\n        all()*.plugins {\n            grpc {}\n        }\n    }\n}\n</code></pre>\n<p>When I execute <code>./gradlew geneateProto</code> nothing happens, but it's worked and I see <code>BUIND SUCCESSFUL</code>\nWhat am I missing?\nThanks.</p>\n<p>I used <a href=\"https://github.com/google/protobuf-gradle-plugin\" rel=\"nofollow noreferrer\">docs</a> and other sources, but it don't work for my case.\nIt is important for me to put the generated files in /protos/[one/two/three] directories in modules.</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673960074,"post_id":75145163,"comment_id":132608794,"body_markdown":"`produces` doesn&#39;t do what you think it does, it only is used for mapping **Not** for enforcing a return type. If you want 1 controller to do both, stop using `@RestController` and use a regular `@Controller` and return the name of the view and stuff your data in a `Model`. Then for the JSON case use a `MappingJackson2JsonView` to create JSON. Use a `ContentNegotationViewResolver` to select the proper View to use based on the content type.","body":"<code>produces</code> doesn&#39;t do what you think it does, it only is used for mapping <b>Not</b> for enforcing a return type. If you want 1 controller to do both, stop using <code>@RestController</code> and use a regular <code>@Controller</code> and return the name of the view and stuff your data in a <code>Model</code>. Then for the JSON case use a <code>MappingJackson2JsonView</code> to create JSON. Use a <code>ContentNegotationViewResolver</code> to select the proper View to use based on the content type."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673970160,"creation_date":1673970160,"answer_id":75148845,"question_id":75145163,"body_markdown":"You could use Spring WebFlux [Functional Endpoints](https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-fn) that &quot;*a lightweight functional programming model in which functions are used to route and handle requests*&quot; instead of `@RequestMapping`. It provides more flexible model and you can generate routes dynamically and reuse handlers.\r\n\r\n```\r\n@Bean\r\npublic RouterFunction&lt;ServerResponse&gt; setupRoutes() {\r\n\tString uri = &quot;/test&quot;;\r\n\treturn\r\n\t\t\troute(\r\n\t\t\t\t\tPOST(uri).and(accept(MediaType.TEXT_HTML)),\r\n\t\t\t\t\trouteHandler::getHtml\r\n\t\t\t)\r\n\t\t\t.andRoute(\r\n\t\t\t\t\tPOST(uri).and(accept(MediaType.APPLICATION_JSON)),\r\n\t\t\t\t\trouteHandler::getJson\r\n\t\t\t);\r\n}\r\n``` ","title":"Spring Boot Webflux controller different responses for different media types","body":"<p>You could use Spring WebFlux <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-fn\" rel=\"nofollow noreferrer\">Functional Endpoints</a> that &quot;<em>a lightweight functional programming model in which functions are used to route and handle requests</em>&quot; instead of <code>@RequestMapping</code>. It provides more flexible model and you can generate routes dynamically and reuse handlers.</p>\n<pre><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; setupRoutes() {\n    String uri = &quot;/test&quot;;\n    return\n            route(\n                    POST(uri).and(accept(MediaType.TEXT_HTML)),\n                    routeHandler::getHtml\n            )\n            .andRoute(\n                    POST(uri).and(accept(MediaType.APPLICATION_JSON)),\n                    routeHandler::getJson\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":27551368,"reputation":11,"user_id":21026379,"display_name":"Oliver"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673970160,"creation_date":1673951728,"question_id":75145163,"body_markdown":"I am building a REST application with Spring Boot and Webflux. There will be number of different endpoints that are will return a JSON resources.\r\nAlso, there is a requirement that the endpoints should be capable of returning different responses when:\r\n\r\n- `Accept: application/json` then JSON response\r\n- `Accept: text/html` then simple HTML page, where response JSON is formatted and simple CSS applied.\r\n\r\nAs there can be 100+ endpoints then it would be nice if this could be done dynamically instead of creating two `@RequestMapping` methods for each media type. \r\n\r\nHow could this be solved using Spring Boot and Webflux?\r\n\r\nI have searched Google and have few ideas of using ByteBuddy to dynamically create the `text/html` endpoints.\r\nIf just adding `produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_HTML_VALUE}` then I get error in logs: \r\n`no encoder for with preset Content-Type &#39;null&#39;`","title":"Spring Boot Webflux controller different responses for different media types","body":"<p>I am building a REST application with Spring Boot and Webflux. There will be number of different endpoints that are will return a JSON resources.\nAlso, there is a requirement that the endpoints should be capable of returning different responses when:</p>\n<ul>\n<li><code>Accept: application/json</code> then JSON response</li>\n<li><code>Accept: text/html</code> then simple HTML page, where response JSON is formatted and simple CSS applied.</li>\n</ul>\n<p>As there can be 100+ endpoints then it would be nice if this could be done dynamically instead of creating two <code>@RequestMapping</code> methods for each media type.</p>\n<p>How could this be solved using Spring Boot and Webflux?</p>\n<p>I have searched Google and have few ideas of using ByteBuddy to dynamically create the <code>text/html</code> endpoints.\nIf just adding <code>produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_HTML_VALUE}</code> then I get error in logs:\n<code>no encoder for with preset Content-Type 'null'</code></p>\n"},{"tags":["java","spring-boot","validation","apache-camel","bean-validation"],"answers":[{"comments":[{"owner":{"account_id":8779107,"reputation":575,"user_id":6563305,"accept_rate":89,"display_name":"Kent Wong"},"score":0,"creation_date":1674073394,"post_id":75148815,"comment_id":132639828,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75148815/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"score":1,"creation_date":1675467376,"post_id":75148815,"comment_id":132942708,"body_markdown":"Yes, this finally worked correctly! Thanks!","body":"Yes, this finally worked correctly! Thanks!"}],"tags":[],"owner":{"account_id":25341111,"reputation":26,"user_id":19159479,"display_name":"Giorgio"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673970026,"creation_date":1673970026,"answer_id":75148815,"question_id":73566436,"body_markdown":"I probably solved it by using all the class path related to group:\r\n\r\n    .to(&quot;bean-validator://x?group=com.application.dto.validation.group.AdvancedValidation&quot;)\r\n\r\n","title":"Camel bean-validator with group validation doesn&#39;t start for FailedToStartRouteException","body":"<p>I probably solved it by using all the class path related to group:</p>\n<pre><code>.to(&quot;bean-validator://x?group=com.application.dto.validation.group.AdvancedValidation&quot;)\n</code></pre>\n"}],"owner":{"account_id":25080079,"reputation":27,"user_id":18932947,"display_name":"Alexxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148815,"answer_count":1,"score":0,"last_activity_date":1673970026,"creation_date":1662021405,"question_id":73566436,"body_markdown":"I&#39;m trying to use the camel-bean-validator dependency in my project but I have a problem with group validation.\r\nI&#39;m using a springboot project with spring-boot-starter-parent 2.7.3 and these dependencies in pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.18.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.18.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;camel-bean-validator-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.18.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy SimpleDto is:\r\n\r\n    @Data\r\n    public class SimpleDto {\r\n    \r\n        @NotNull(groups = BasicValidation.class)\r\n        private Long id;\r\n    \r\n        @NotBlank(groups = AdvancedValidation.class)\r\n        private String name;\r\n\r\n        @NotBlank\r\n        private String value;\r\n    \r\n    }\r\n\r\nAnd I created two interfaces for validation:\r\n```\r\n    public interface AdvancedValidation {\r\n    }\r\n```\r\n```\r\n    public interface AdvancedValidation {\r\n    }\r\n```\r\n\r\nWhen I want to use a standard validation like this in my route the application starts without problem:\r\n```\r\n@Component\r\npublic class ValidationRoute extends RouteBuilder {\r\n\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        from(&quot;timer:val-timer?period=5000&quot;)\r\n            .process(new Processor() {\r\n                @Override\r\n                public void process(Exchange exchange) throws Exception {\r\n                    SimpleDto simpleDto = new SimpleDto();\r\n                    exchange.getIn().setBody(simpleDto);\r\n                }\r\n            })\r\n            .log(&quot;Setted body: ${body}&quot;)\r\n            .to(&quot;bean-validator://x&quot;)\r\n            .log(&quot;Validated message&quot;);\r\n    }\r\n}\r\n\r\n```\r\nbut when I change the validation endpoint in:\r\n```\r\n.to(&quot;bean-validator://x?group=AdvancedValidation&quot;)\r\n```\r\nlike in the example in Apache Camel documentation, here:\r\n\r\nhttps://camel.netlify.app/components/latest/bean-validator-component.html\r\n\r\nthe application stop working and this is the error I have starting it:\r\n```\r\norg.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null\r\n\tat org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:123)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:306)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:189)\r\n\tat org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3365)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:3033)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2988)\r\n\tat org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2649)\r\n\tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262)\r\n\tat org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119)\r\n\tat org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat it.ale.CamelArchetypeTestApplication.main(CamelArchetypeTestApplication.java:16)\r\nCaused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation\r\n\tat org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\r\n\tat org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\r\n\tat org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:132)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.doStart(RedeliveryErrorHandler.java:1670)\r\n\tat org.apache.camel.support.ChildServiceSupport.start(ChildServiceSupport.java:60)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\r\n\tat org.apache.camel.impl.engine.DefaultChannel.doStart(DefaultChannel.java:126)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:116)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\r\n\tat org.apache.camel.processor.Pipeline.doStart(Pipeline.java:224)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.support.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:89)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\tat org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n\tat org.apache.camel.impl.engine.RouteService.startChildServices(RouteService.java:396)\r\n\tat org.apache.camel.impl.engine.RouteService.doWarmUp(RouteService.java:193)\r\n\tat org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:121)\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: AdvancedValidation\r\n\tat org.apache.camel.impl.engine.DefaultClassResolver.resolveMandatoryClass(DefaultClassResolver.java:103)\r\n\tat org.apache.camel.component.bean.validator.BeanValidatorEndpoint.createProducer(BeanValidatorEndpoint.java:73)\r\n\tat org.apache.camel.support.DefaultEndpoint.createAsyncProducer(DefaultEndpoint.java:200)\r\n\tat org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:242)\r\n\tat org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n\t... 44 common frames omitted\r\n\r\nProcess finished with exit code 1\r\n```\r\nI already tried to change the endpoint with:\r\n```\r\n.to(&quot;bean-validator://x?group=AdvancedValidation.class&quot;)\r\n```\r\nand this time the error was:\r\n```\r\nCaused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation.class\r\n```\r\nAlso adding the annotation @Component to the interface I haven&#39;t solved the problem.\r\n\r\nDoes anyone know why it is not working and how to solve it?\r\nI followed the documentation and there it seem work.\r\n\r\nUsing the same interfaces and the same project in a RestController and validating it with @Valid or @Validated(AdvancedValidation.class) worked correctly, so this is a Camel issue","title":"Camel bean-validator with group validation doesn&#39;t start for FailedToStartRouteException","body":"<p>I'm trying to use the camel-bean-validator dependency in my project but I have a problem with group validation.\nI'm using a springboot project with spring-boot-starter-parent 2.7.3 and these dependencies in pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-jackson-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-bean-validator-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.18.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My SimpleDto is:</p>\n<pre><code>@Data\npublic class SimpleDto {\n\n    @NotNull(groups = BasicValidation.class)\n    private Long id;\n\n    @NotBlank(groups = AdvancedValidation.class)\n    private String name;\n\n    @NotBlank\n    private String value;\n\n}\n</code></pre>\n<p>And I created two interfaces for validation:</p>\n<pre><code>    public interface AdvancedValidation {\n    }\n</code></pre>\n<pre><code>    public interface AdvancedValidation {\n    }\n</code></pre>\n<p>When I want to use a standard validation like this in my route the application starts without problem:</p>\n<pre><code>@Component\npublic class ValidationRoute extends RouteBuilder {\n\n\n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;timer:val-timer?period=5000&quot;)\n            .process(new Processor() {\n                @Override\n                public void process(Exchange exchange) throws Exception {\n                    SimpleDto simpleDto = new SimpleDto();\n                    exchange.getIn().setBody(simpleDto);\n                }\n            })\n            .log(&quot;Setted body: ${body}&quot;)\n            .to(&quot;bean-validator://x&quot;)\n            .log(&quot;Validated message&quot;);\n    }\n}\n\n</code></pre>\n<p>but when I change the validation endpoint in:</p>\n<pre><code>.to(&quot;bean-validator://x?group=AdvancedValidation&quot;)\n</code></pre>\n<p>like in the example in Apache Camel documentation, here:</p>\n<p><a href=\"https://camel.netlify.app/components/latest/bean-validator-component.html\" rel=\"nofollow noreferrer\">https://camel.netlify.app/components/latest/bean-validator-component.html</a></p>\n<p>the application stop working and this is the error I have starting it:</p>\n<pre><code>org.apache.camel.FailedToStartRouteException: Failed to start route route1 because of null\n    at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:123)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doWarmUpRoutes(InternalRouteStartupManager.java:306)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:189)\n    at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3365)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:3033)\n    at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2988)\n    at org.apache.camel.spring.boot.SpringBootCamelContext.doStart(SpringBootCamelContext.java:43)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2649)\n    at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262)\n    at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119)\n    at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at it.ale.CamelArchetypeTestApplication.main(CamelArchetypeTestApplication.java:16)\nCaused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation\n    at org.apache.camel.RuntimeCamelException.wrapRuntimeException(RuntimeCamelException.java:66)\n    at org.apache.camel.support.service.BaseService.doFail(BaseService.java:413)\n    at org.apache.camel.support.service.BaseService.fail(BaseService.java:342)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:132)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler.doStart(RedeliveryErrorHandler.java:1670)\n    at org.apache.camel.support.ChildServiceSupport.start(ChildServiceSupport.java:60)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\n    at org.apache.camel.impl.engine.DefaultChannel.doStart(DefaultChannel.java:126)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:116)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:130)\n    at org.apache.camel.processor.Pipeline.doStart(Pipeline.java:224)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.support.processor.DelegateAsyncProcessor.doStart(DelegateAsyncProcessor.java:89)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n    at org.apache.camel.impl.engine.RouteService.startChildServices(RouteService.java:396)\n    at org.apache.camel.impl.engine.RouteService.doWarmUp(RouteService.java:193)\n    at org.apache.camel.impl.engine.RouteService.warmUp(RouteService.java:121)\n    ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: AdvancedValidation\n    at org.apache.camel.impl.engine.DefaultClassResolver.resolveMandatoryClass(DefaultClassResolver.java:103)\n    at org.apache.camel.component.bean.validator.BeanValidatorEndpoint.createProducer(BeanValidatorEndpoint.java:73)\n    at org.apache.camel.support.DefaultEndpoint.createAsyncProducer(DefaultEndpoint.java:200)\n    at org.apache.camel.processor.SendProcessor.doStart(SendProcessor.java:242)\n    at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n    ... 44 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n<p>I already tried to change the endpoint with:</p>\n<pre><code>.to(&quot;bean-validator://x?group=AdvancedValidation.class&quot;)\n</code></pre>\n<p>and this time the error was:</p>\n<pre><code>Caused by: org.apache.camel.RuntimeCamelException: java.lang.ClassNotFoundException: AdvancedValidation.class\n</code></pre>\n<p>Also adding the annotation @Component to the interface I haven't solved the problem.</p>\n<p>Does anyone know why it is not working and how to solve it?\nI followed the documentation and there it seem work.</p>\n<p>Using the same interfaces and the same project in a RestController and validating it with @Valid or @Validated(AdvancedValidation.class) worked correctly, so this is a Camel issue</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673866358,"post_id":75133139,"comment_id":132585316,"body_markdown":"You need to explicity run the job, it won&#39;t automatically run the job (it did that in earlier versions, now you need to pass a parameter to specify which job launch).","body":"You need to explicity run the job, it won&#39;t automatically run the job (it did that in earlier versions, now you need to pass a parameter to specify which job launch)."},{"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"score":0,"creation_date":1673874556,"post_id":75133139,"comment_id":132587845,"body_markdown":"Thanks for the suggestion. Please elaborate for a better understanding.","body":"Thanks for the suggestion. Please elaborate for a better understanding."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1673948817,"post_id":75133139,"comment_id":132605333,"body_markdown":"With Spring Boot 3, you don&#39;t need `@EnableBatchProcessing`. Have you tried to remove that annotation?","body":"With Spring Boot 3, you don&#39;t need <code>@EnableBatchProcessing</code>. Have you tried to remove that annotation?"},{"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"score":0,"creation_date":1673963642,"post_id":75133139,"comment_id":132610027,"body_markdown":"It is running after removing the annotation but now getting a parsing error with        \n IncorrectTokenCountException: Incorrect number of tokens found in record: expected 24 actual 7.                      \nParsing error at line: 2 in resource=[class path resource [People2.csv]], input=[aardsda01,1981,12,27,USA,CO,Denver,2022,2,22,USA,NJ,Atlanta,David,Aardsma,David Allan,215,75,R,R,06-04-2004,23-08-2015,aardd001,aardsda01]","body":"It is running after removing the annotation but now getting a parsing error with          IncorrectTokenCountException: Incorrect number of tokens found in record: expected 24 actual 7.                       Parsing error at line: 2 in resource=[class path resource [People2.csv]], input=[aardsda01,1981,12,27,USA,CO,Denver,2022,2,22,USA,NJ,A&zwnj;&#8203;tlanta,David,Aardsma&zwnj;&#8203;,David Allan,215,75,R,R,06-04-2004,23-08-2015,aardd001,aardsda01]"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1673969810,"post_id":75133139,"comment_id":132612413,"body_markdown":"Glad to hear that helped! I updated the answer accordingly. The parsing error is a different problem, please ask a different question and paste the full stacktrace of the error.","body":"Glad to hear that helped! I updated the answer accordingly. The parsing error is a different problem, please ask a different question and paste the full stacktrace of the error."}],"answers":[{"comments":[{"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"score":0,"creation_date":1673873653,"post_id":75133298,"comment_id":132587591,"body_markdown":"I changed to JpaTransactionManager by Autowiring it and using it in the .chunk() method in place of PlatformTransactionManager, but the result was the same.","body":"I changed to JpaTransactionManager by Autowiring it and using it in the .chunk() method in place of PlatformTransactionManager, but the result was the same."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1673879185,"post_id":75133298,"comment_id":132589483,"body_markdown":"In that case, please edit your question and provide a [minimal complete](https://stackoverflow.com/help/minimal-reproducible-example) example that reproduces the issue to be able to help you in an efficient way.","body":"In that case, please edit your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal complete</a> example that reproduces the issue to be able to help you in an efficient way."},{"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"score":0,"creation_date":1673888153,"post_id":75133298,"comment_id":132592696,"body_markdown":"I have edited the code including the suggestions.","body":"I have edited the code including the suggestions."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673969740,"creation_date":1673866845,"answer_id":75133298,"question_id":75133139,"body_markdown":"With Spring Boot 3, you don&#39;t need `@EnableBatchProcessing`, unless you want to take complete control on how Spring Batch is configured and executed. So if you remove that annotation, your job should be executed on startup.\r\n\r\nOn another note, you are using a `PlayerRepository`, which I guess is a JPA repository. If it is the case, make sure the transaction manager used in your step is a `JpaTransactionManager`. The reason you are not seeing data being persisted is probably related to the fact that Spring Boot auto-configures a `DataSourceTransactionManager` for the `DataSource` you provided.\r\n\r\n&gt; //How to specify name ? \r\n\r\nRegarding this question in the definition of the `importPlayerJob` job bean: you have already specified the name in the `JobBuilder` bean definition in `CsvToMySqlApplication` class. That said, I see no need to define the `JobBuilder` and `StepBuilder` as beans.","title":"Not able to dump data from excel to MySQL using Spring Batch","body":"<p>With Spring Boot 3, you don't need <code>@EnableBatchProcessing</code>, unless you want to take complete control on how Spring Batch is configured and executed. So if you remove that annotation, your job should be executed on startup.</p>\n<p>On another note, you are using a <code>PlayerRepository</code>, which I guess is a JPA repository. If it is the case, make sure the transaction manager used in your step is a <code>JpaTransactionManager</code>. The reason you are not seeing data being persisted is probably related to the fact that Spring Boot auto-configures a <code>DataSourceTransactionManager</code> for the <code>DataSource</code> you provided.</p>\n<blockquote>\n<p>//How to specify name ?</p>\n</blockquote>\n<p>Regarding this question in the definition of the <code>importPlayerJob</code> job bean: you have already specified the name in the <code>JobBuilder</code> bean definition in <code>CsvToMySqlApplication</code> class. That said, I see no need to define the <code>JobBuilder</code> and <code>StepBuilder</code> as beans.</p>\n"}],"owner":{"account_id":25810883,"reputation":85,"user_id":19551694,"display_name":"Aryan Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75133298,"answer_count":1,"score":0,"last_activity_date":1673969740,"creation_date":1673866057,"question_id":75133139,"body_markdown":"I am creating a project for importing data from csv to MySQL using Spring batch using Spring 3.0.1. \r\nI created the configuration for Reader, Writer and Processor beans as follows along with step and job.\r\nThe Older method using JobBuilderFactory and StepBuilderFactory is deprecated in Spring Boot  3.0\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfig {\r\n    \t\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tprivate PlayerRepository playerRepository;\r\n    \t\r\n    \t@Bean\r\n    \tpublic FlatFileItemReader&lt;Player&gt; reader()\r\n    \t{\r\n    \t\t//Subclass of ItemReader class\r\n    \t\t\r\n    \t\tFlatFileItemReader&lt;Player&gt; reader=new FlatFileItemReader&lt;Player&gt;();\r\n    \t\t\r\n    \t\t\r\n    \t\treader.setResource(new ClassPathResource(&quot;People.csv&quot;));\r\n    \t\treader.setLineMapper(getLineMapper());\r\n    \t\treader.setLinesToSkip(1);//Skip line in case of error\r\n    \t\treturn reader;\r\n    \t}\r\n    \r\n    \tprivate LineMapper&lt;Player&gt; getLineMapper() {\r\n    \t\t\r\n    \t\tDefaultLineMapper&lt;Player&gt; lineMapper\r\n    =new DefaultLineMapper&lt;Player&gt;();\r\n    \t\t\r\n    \t\tDelimitedLineTokenizer lineTokenizer=new DelimitedLineTokenizer();\r\n    \t\t\r\n    \t\tlineTokenizer.setNames(new String[] {&quot;playerID&quot;,&quot;birthYear&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;birthCity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;nameFirst&quot;,&quot;nameLast&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;retroID&quot;,&quot;bbrefID&quot;});\r\n    \t\tlineTokenizer.setIncludedFields(new int[] {0,1,6,13,14,22,23});\r\n    \t\t\r\n    \t\tBeanWrapperFieldSetMapper&lt;Player&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;Player&gt;();\r\n    \t\tfieldSetMapper.setTargetType(Player.class);\r\n    \t\t\r\n    \t\t\r\n    \t\tlineMapper.setLineTokenizer(lineTokenizer);\r\n    \t\tlineMapper.setFieldSetMapper(fieldSetMapper);\r\n    \t\t\r\n    \t\treturn lineMapper;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic PlayerItemProcessor processor()\r\n    \t{\r\n    \t\treturn new PlayerItemProcessor();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \tpublic ItemWriter&lt;Player&gt; writer()\r\n    \t{\r\n    \t\treturn player-&gt; {\r\n    \t\t\tplayerRepository.saveAll(player);\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \r\n    \t\r\n    \t@Bean\r\n    \tpublic Job importPlayerJob(JobRepository jobRepository,Step step1)\r\n    \t{\r\n    \t\t    \t\treturn new JobBuilder(&quot;PLAYER-IMPORT-JOB&quot;,jobRepository).incrementer(new RunIdIncrementer()).flow(step1).end().build();//Write .start() if there is only one step \r\n    \t\t\t\t\t\t\t\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Step step1(JobRepository jobRepository,JpaTransactionManager jpaTransactionManager) {\r\n    \t\t\r\n    \t\treturn new StepBuilder(&quot;step1&quot;,jobRepository).&lt;Player,Player&gt;chunk(10,jpaTransactionManager).reader(reader()).processor(processor()).writer(writer()).build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    }\r\nThe PlayerItemProcessor is as follows:\r\n\r\n    package com.aryan.batch.config;\r\n    \r\n    import org.springframework.batch.item.ItemProcessor;\r\n    \r\n    import com.aryan.batch.modal.Player;\r\n    \r\n    public class PlayerItemProcessor implements ItemProcessor&lt;Player, Player&gt; //Input and Output\r\n    {\r\n    \r\n    \t@Override\r\n    \tpublic Player process(Player player) throws Exception {\r\n    \t\t\r\n    \t\treturn player;\r\n    \r\n    }\r\n    }\r\n\r\nPlayer Model is:\r\n\r\n    package com.aryan.batch.modal;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    \r\n    \r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    public class Player {\r\n    \r\n    \r\n    \t@Id\r\n    \tprivate String playerId;\r\n    \t\r\n    \tint birthYear;\r\n    \t\r\n    \t\r\n    \tString birthCity;\r\n    \t\r\n    \tString nameFirst;\r\n    \t\r\n    \tString nameLast;\r\n    \t\r\n    \tString retroID;\r\n    \t\r\n    \tString bbrefID;\r\n    }\r\nPlayerRepository:\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    import com.aryan.batch.modal.Player;\r\n    \r\n    public interface PlayerRepository extends JpaRepository&lt;Player, String&gt; {\r\n    \r\n    }\r\n\r\nThe configuration in application.yml is:\r\n\r\n    spring:\r\n      datasource:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        \r\n        url: jdbc:mysql://127.0.0.1:3306/batchdemo\r\n        username: hbstudent\r\n        password: hbstudent\r\n        \r\n      batch:\r\n        jdbc:\r\n          initialize-schema: always  \r\n        \r\n      jpa:\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n\r\n\r\nWhen I run the project, the table is created successfully, but data is not inserted in the table.  There are no errors indicating any kind of problem with the code.\r\n","title":"Not able to dump data from excel to MySQL using Spring Batch","body":"<p>I am creating a project for importing data from csv to MySQL using Spring batch using Spring 3.0.1.\nI created the configuration for Reader, Writer and Processor beans as follows along with step and job.\nThe Older method using JobBuilderFactory and StepBuilderFactory is deprecated in Spring Boot  3.0</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfig {\n    \n\n    \n    @Autowired\n    private PlayerRepository playerRepository;\n    \n    @Bean\n    public FlatFileItemReader&lt;Player&gt; reader()\n    {\n        //Subclass of ItemReader class\n        \n        FlatFileItemReader&lt;Player&gt; reader=new FlatFileItemReader&lt;Player&gt;();\n        \n        \n        reader.setResource(new ClassPathResource(&quot;People.csv&quot;));\n        reader.setLineMapper(getLineMapper());\n        reader.setLinesToSkip(1);//Skip line in case of error\n        return reader;\n    }\n\n    private LineMapper&lt;Player&gt; getLineMapper() {\n        \n        DefaultLineMapper&lt;Player&gt; lineMapper\n=new DefaultLineMapper&lt;Player&gt;();\n        \n        DelimitedLineTokenizer lineTokenizer=new DelimitedLineTokenizer();\n        \n        lineTokenizer.setNames(new String[] {&quot;playerID&quot;,&quot;birthYear&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;birthCity&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;nameFirst&quot;,&quot;nameLast&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;retroID&quot;,&quot;bbrefID&quot;});\n        lineTokenizer.setIncludedFields(new int[] {0,1,6,13,14,22,23});\n        \n        BeanWrapperFieldSetMapper&lt;Player&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;Player&gt;();\n        fieldSetMapper.setTargetType(Player.class);\n        \n        \n        lineMapper.setLineTokenizer(lineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n        \n        return lineMapper;\n    }\n    \n    @Bean\n    public PlayerItemProcessor processor()\n    {\n        return new PlayerItemProcessor();\n    }\n    \n    \n    \n    @Bean\n    public ItemWriter&lt;Player&gt; writer()\n    {\n        return player-&gt; {\n            playerRepository.saveAll(player);\n        };\n    }\n    \n\n    \n    @Bean\n    public Job importPlayerJob(JobRepository jobRepository,Step step1)\n    {\n                    return new JobBuilder(&quot;PLAYER-IMPORT-JOB&quot;,jobRepository).incrementer(new RunIdIncrementer()).flow(step1).end().build();//Write .start() if there is only one step \n                                \n    }\n\n    @Bean\n    public Step step1(JobRepository jobRepository,JpaTransactionManager jpaTransactionManager) {\n        \n        return new StepBuilder(&quot;step1&quot;,jobRepository).&lt;Player,Player&gt;chunk(10,jpaTransactionManager).reader(reader()).processor(processor()).writer(writer()).build();\n        \n    }\n    \n    \n    \n\n}\n</code></pre>\n<p>The PlayerItemProcessor is as follows:</p>\n<pre><code>package com.aryan.batch.config;\n\nimport org.springframework.batch.item.ItemProcessor;\n\nimport com.aryan.batch.modal.Player;\n\npublic class PlayerItemProcessor implements ItemProcessor&lt;Player, Player&gt; //Input and Output\n{\n\n    @Override\n    public Player process(Player player) throws Exception {\n        \n        return player;\n\n}\n}\n</code></pre>\n<p>Player Model is:</p>\n<pre><code>package com.aryan.batch.modal;\n\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class Player {\n\n\n    @Id\n    private String playerId;\n    \n    int birthYear;\n    \n    \n    String birthCity;\n    \n    String nameFirst;\n    \n    String nameLast;\n    \n    String retroID;\n    \n    String bbrefID;\n}\n</code></pre>\n<p>PlayerRepository:</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.aryan.batch.modal.Player;\n\npublic interface PlayerRepository extends JpaRepository&lt;Player, String&gt; {\n\n}\n</code></pre>\n<p>The configuration in application.yml is:</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    \n    url: jdbc:mysql://127.0.0.1:3306/batchdemo\n    username: hbstudent\n    password: hbstudent\n    \n  batch:\n    jdbc:\n      initialize-schema: always  \n    \n  jpa:\n    show-sql: true\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>When I run the project, the table is created successfully, but data is not inserted in the table.  There are no errors indicating any kind of problem with the code.</p>\n"},{"tags":["java","ibm-midrange","apache-fop"],"owner":{"account_id":27554173,"reputation":11,"user_id":21028692,"display_name":"Roberto P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673969652,"creation_date":1673969652,"question_id":75148751,"body_markdown":"i&#39;ve got a problem with Apache FOP and creating PDF files. I&#39;m trying to include an image as a header and an another pdf as an attachment.\r\n\r\n\r\nRunning my application (compiled with Java 8) on Windows it creates PDF with image header and PDF attachment; running the same jar on AS400 machine I got PDF only with image header and no attachment. \r\nMy jar is created with shade plugin; does exists a particular order in pom dependencies to obtain the same result on Windows and AS400?\r\nThanks in advance.\r\n","title":"Apache FOP: fox:external-document and fo:external-graphic","body":"<p>i've got a problem with Apache FOP and creating PDF files. I'm trying to include an image as a header and an another pdf as an attachment.</p>\n<p>Running my application (compiled with Java 8) on Windows it creates PDF with image header and PDF attachment; running the same jar on AS400 machine I got PDF only with image header and no attachment.\nMy jar is created with shade plugin; does exists a particular order in pom dependencies to obtain the same result on Windows and AS400?\nThanks in advance.</p>\n"},{"tags":["java","android","delete-file","native-android"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1672733291,"post_id":74990531,"comment_id":132335845,"body_markdown":"I can&#39;t see any error. I see only a warning","body":"I can&#39;t see any error. I see only a warning"},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1672734867,"post_id":74990531,"comment_id":132336247,"body_markdown":"You really should use [`Files.delete(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)) or [`Files.deleteIfExists(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)) ...","body":"You really should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.delete(Path)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#deleteIfExists(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.deleteIfExists(Path)</code></a> ..."},{"owner":{"account_id":11752927,"reputation":2069,"user_id":8601451,"display_name":"Abraham Mathew"},"score":0,"creation_date":1672738402,"post_id":74990531,"comment_id":132337277,"body_markdown":"which Android API level are you testing on ?","body":"which Android API level are you testing on ?"},{"owner":{"account_id":6746145,"reputation":4837,"user_id":5197712,"display_name":"Anand"},"score":0,"creation_date":1672810458,"post_id":74990531,"comment_id":132355055,"body_markdown":"I tested all these api versions 30,31,32","body":"I tested all these api versions 30,31,32"}],"owner":{"account_id":6746145,"reputation":4837,"user_id":5197712,"display_name":"Anand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969627,"creation_date":1672733085,"question_id":74990531,"body_markdown":"File is not getting deleted in Android, I have checked all premissions, and I tried all the solutions available in the internet but nothing helps. Your help will be highly assist me. Thanks in advance.\r\n\r\nI used the below permissions\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nAnd this is the code I used\r\n\r\n    File dir = Environment.getExternalStorageDirectory();\r\n    String path = dir.getAbsolutePath() + &quot;/Recordings/Call/&quot; + filename;\r\n    File fdelete = new File(path);\r\n        if (fdelete.exists()) {\r\n          if (fdelete.delete()) {\r\n            System.out.println(&quot;file Deleted :&quot; + path);\r\n          } else {                                              \r\n            System.out.println(&quot;file not Deleted :&quot; + path);\r\n          }\r\n     }\r\n\r\nAnd the err log is\r\n\r\n    W/soft.my_app_name: Got a deoptimization request on un-deoptimizable method void libcore.io.Linux.remove(java.lang.String)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nError log is\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wB0ux.png\r\n  [2]: https://i.stack.imgur.com/KBuyv.png","title":"File is not getting deleted in Android Java?","body":"<p>File is not getting deleted in Android, I have checked all premissions, and I tried all the solutions available in the internet but nothing helps. Your help will be highly assist me. Thanks in advance.</p>\n<p>I used the below permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>And this is the code I used</p>\n<pre><code>File dir = Environment.getExternalStorageDirectory();\nString path = dir.getAbsolutePath() + &quot;/Recordings/Call/&quot; + filename;\nFile fdelete = new File(path);\n    if (fdelete.exists()) {\n      if (fdelete.delete()) {\n        System.out.println(&quot;file Deleted :&quot; + path);\n      } else {                                              \n        System.out.println(&quot;file not Deleted :&quot; + path);\n      }\n }\n</code></pre>\n<p>And the err log is</p>\n<pre><code>W/soft.my_app_name: Got a deoptimization request on un-deoptimizable method void libcore.io.Linux.remove(java.lang.String)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wB0ux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wB0ux.png\" alt=\"enter image description here\" /></a></p>\n<p>Error log is</p>\n<p><a href=\"https://i.stack.imgur.com/KBuyv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KBuyv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1673969369,"post_id":75148669,"comment_id":132612255,"body_markdown":"What exactly is confusing you? Strings have a natural order just like numbers. So just like you can say that 2 &gt; 1 you can also say that B &gt; A.","body":"What exactly is confusing you? Strings have a natural order just like numbers. So just like you can say that 2 &gt; 1 you can also say that B &gt; A."},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673969544,"post_id":75148669,"comment_id":132612325,"body_markdown":"Will it just go through the first letter? Ben &gt; Alex ?","body":"Will it just go through the first letter? Ben &gt; Alex ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1673969600,"post_id":75148669,"comment_id":132612347,"body_markdown":"Just try the same with `String[] arr` and `String x`. That requires you to replace the comparison operations with `compareTo(...)` and comparing the result with 0 but it should be doable.","body":"Just try the same with <code>String[] arr</code> and <code>String x</code>. That requires you to replace the comparison operations with <code>compareTo(...)</code> and comparing the result with 0 but it should be doable."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1673969738,"post_id":75148669,"comment_id":132612389,"body_markdown":"No, the natural order of strings is defined by their characters (the first that&#39;s greater defines which string is greater) and their length (if all matching chars are the same, the longer string is greater). Hence &quot;Ben&quot; &gt; &quot;Annabel&quot; &gt; &quot;Anna&quot; &gt; &quot;Alex&quot;","body":"No, the natural order of strings is defined by their characters (the first that&#39;s greater defines which string is greater) and their length (if all matching chars are the same, the longer string is greater). Hence &quot;Ben&quot; &gt; &quot;Annabel&quot; &gt; &quot;Anna&quot; &gt; &quot;Alex&quot;"}],"owner":{"display_name":"user20758216"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969457,"creation_date":1673969243,"question_id":75148669,"body_markdown":"i have been doing research on the jump search algorithm in an array. But i am confused on how you can use the search method with strings. Can anyone give me a link on where to look, or an example on here? Every example i have seen has been with numbers\r\n\r\n\r\n    public class JumpSearch\r\n    {\r\n        public static int jumpSearch(int[] arr, int x)\r\n        {\r\n            int n = arr.length;\r\n      \r\n            int step = (int)Math.floor(Math.sqrt(n));\r\n      \r\n            int prev = 0;\r\n            while (arr[Math.min(step, n)-1] &lt; x)\r\n            {\r\n                prev = step;\r\n                step += (int)Math.floor(Math.sqrt(n));\r\n                if (prev &gt;= n)\r\n                    return -1;\r\n            }\r\n      \r\n            while (arr[prev] &lt; x)\r\n            {\r\n                prev++;\r\n      \r\n                if (prev == Math.min(step, n))\r\n                    return -1;\r\n            }\r\n      \r\n            if (arr[prev] == x)\r\n                return prev;\r\n      \r\n            return -1;\r\n        }\r\n      \r\n        public static void main(String [ ] args)\r\n        {\r\n            int arr[] = { 0, 1, 1, 2, 3, 5, 8, 13, 21,\r\n                        34, 55, 89, 144, 233, 377, 610};\r\n            int x = 55;\r\n      \r\n            // Find the index of &#39;x&#39; using Jump Search\r\n            int index = jumpSearch(arr, x);\r\n      \r\n            System.out.println(&quot;\\nNumber &quot; + x +\r\n                                &quot; is at index &quot; + index);\r\n        }\r\n    }","title":"Jump search with Strings","body":"<p>i have been doing research on the jump search algorithm in an array. But i am confused on how you can use the search method with strings. Can anyone give me a link on where to look, or an example on here? Every example i have seen has been with numbers</p>\n<pre><code>public class JumpSearch\n{\n    public static int jumpSearch(int[] arr, int x)\n    {\n        int n = arr.length;\n  \n        int step = (int)Math.floor(Math.sqrt(n));\n  \n        int prev = 0;\n        while (arr[Math.min(step, n)-1] &lt; x)\n        {\n            prev = step;\n            step += (int)Math.floor(Math.sqrt(n));\n            if (prev &gt;= n)\n                return -1;\n        }\n  \n        while (arr[prev] &lt; x)\n        {\n            prev++;\n  \n            if (prev == Math.min(step, n))\n                return -1;\n        }\n  \n        if (arr[prev] == x)\n            return prev;\n  \n        return -1;\n    }\n  \n    public static void main(String [ ] args)\n    {\n        int arr[] = { 0, 1, 1, 2, 3, 5, 8, 13, 21,\n                    34, 55, 89, 144, 233, 377, 610};\n        int x = 55;\n  \n        // Find the index of 'x' using Jump Search\n        int index = jumpSearch(arr, x);\n  \n        System.out.println(&quot;\\nNumber &quot; + x +\n                            &quot; is at index &quot; + index);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","hdmi-cec"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673970459,"post_id":75148704,"comment_id":132612642,"body_markdown":"`android.hardware.hdmi.HdmiCecMessage` is not part of the Android SDK, either as a framework class or through a library. There are no classes from `android.hardware.hdmi` in the Android SDK. That class is part of the OS implementation.","body":"<code>android.hardware.hdmi.HdmiCecMessage</code> is not part of the Android SDK, either as a framework class or through a library. There are no classes from <code>android.hardware.hdmi</code> in the Android SDK. That class is part of the OS implementation."},{"owner":{"account_id":18105612,"reputation":181,"user_id":13162956,"display_name":"StackerSapper"},"score":0,"creation_date":1673971533,"post_id":75148704,"comment_id":132613087,"body_markdown":"@CommonsWare is there a way to send HDMI CEC commands through an android app? using https://source.android.com/docs/devices/tv/hdmi-cec somehow? the android HDMI-CEC control service","body":"@CommonsWare is there a way to send HDMI CEC commands through an android app? using <a href=\"https://source.android.com/docs/devices/tv/hdmi-cec\" rel=\"nofollow noreferrer\">source.android.com/docs/devices/tv/hdmi-cec</a> somehow? the android HDMI-CEC control service"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673972478,"post_id":75148704,"comment_id":132613423,"body_markdown":"I have no idea, sorry.","body":"I have no idea, sorry."}],"owner":{"account_id":18105612,"reputation":181,"user_id":13162956,"display_name":"StackerSapper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969382,"creation_date":1673969382,"question_id":75148704,"body_markdown":"I am trying to use `HdmiCecMessage` class in my android app, so I installed this dependency in my gradlef file:\r\n\r\n    dependencies {\r\n        implementation &#39;androidx.hardware:hardware-hdmi:1.0.0&#39;\r\n    }\r\n\r\nbut when I try to import:\r\n\r\n    import android.hardware.hdmi.HdmiCecMessage;\r\n\r\nI get an error I get an error `&quot;cannot find symbol HdmiCecMessage&quot;`.\r\nI saw in google open source that it exsists:\r\nhttps://android.googlesource.com/platform/frameworks/base/+/9302a73/core/java/android/hardware/hdmi/\r\n\r\nany ideas?\r\nthanks","title":"Cant import android HDMI package even though it is in master","body":"<p>I am trying to use <code>HdmiCecMessage</code> class in my android app, so I installed this dependency in my gradlef file:</p>\n<pre><code>dependencies {\n    implementation 'androidx.hardware:hardware-hdmi:1.0.0'\n}\n</code></pre>\n<p>but when I try to import:</p>\n<pre><code>import android.hardware.hdmi.HdmiCecMessage;\n</code></pre>\n<p>I get an error I get an error <code>&quot;cannot find symbol HdmiCecMessage&quot;</code>.\nI saw in google open source that it exsists:\n<a href=\"https://android.googlesource.com/platform/frameworks/base/+/9302a73/core/java/android/hardware/hdmi/\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/base/+/9302a73/core/java/android/hardware/hdmi/</a></p>\n<p>any ideas?\nthanks</p>\n"},{"tags":["java","aws-sdk-java-2.0","aws-sdk-java"],"comments":[{"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"score":0,"creation_date":1674124164,"post_id":75148690,"comment_id":132649482,"body_markdown":"The below response helped me..\nhttps://stackoverflow.com/a/73441024/9570749","body":"The below response helped me.. <a href=\"https://stackoverflow.com/a/73441024/9570749\">stackoverflow.com/a/73441024/9570749</a>"}],"owner":{"account_id":13254073,"reputation":23,"user_id":9570749,"display_name":"Pawan Gorai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673969325,"creation_date":1673969325,"question_id":75148690,"body_markdown":"Do we have any code example for amazon eks APIs using amazon-sdk-java-eks\r\n\r\nI tired to check on https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code\r\nBut didn&#39;t got any for eks.","title":"How to make sdk calls for eks api","body":"<p>Do we have any code example for amazon eks APIs using amazon-sdk-java-eks</p>\n<p>I tired to check on <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code</a>\nBut didn't got any for eks.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1444512575,"post_id":33059134,"comment_id":53938207,"body_markdown":"Macen central index rebuilding may take quite a while.  The progress is shown in the Progress pane.","body":"Macen central index rebuilding may take quite a while.  The progress is shown in the Progress pane."},{"owner":{"display_name":"user2173738"},"score":1,"creation_date":1444512586,"post_id":33059134,"comment_id":53938208,"body_markdown":"Don&#39;t give up searching on stackoverflow.","body":"Don&#39;t give up searching on stackoverflow."},{"owner":{"account_id":7100049,"reputation":41,"user_id":5432025,"display_name":"joxwell"},"score":0,"creation_date":1444513327,"post_id":33059134,"comment_id":53938367,"body_markdown":"I have searched and searched and apparently no one posted an issue where there is literally no progress. It stands still on 0%, there is no indication that any gz is downloading and also, i cant see anything new in logs.","body":"I have searched and searched and apparently no one posted an issue where there is literally no progress. It stands still on 0%, there is no indication that any gz is downloading and also, i cant see anything new in logs."},{"owner":{"account_id":4030991,"reputation":24462,"user_id":3357935,"accept_rate":82,"display_name":"Stevoisiak"},"score":0,"creation_date":1507297261,"post_id":33059134,"comment_id":80166019,"body_markdown":"Possible duplicate of [Rebuilding Maven indexes Stuck at 0%](https://stackoverflow.com/questions/36087225/rebuilding-maven-indexes-stuck-at-0)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/36087225/rebuilding-maven-indexes-stuck-at-0\">Rebuilding Maven indexes Stuck at 0%</a>"}],"answers":[{"comments":[{"owner":{"account_id":399415,"reputation":183,"user_id":764747,"display_name":"Makarand"},"score":0,"creation_date":1471875183,"post_id":35243307,"comment_id":65511320,"body_markdown":"Thanks man, that did the trick for me as well. Although I had to update the M2e plugin first. I am using Eclipse Neon.","body":"Thanks man, that did the trick for me as well. Although I had to update the M2e plugin first. I am using Eclipse Neon."},{"owner":{"display_name":"user1270589"},"score":0,"creation_date":1525903321,"post_id":35243307,"comment_id":87543391,"body_markdown":"Sometimes doing nothing is the solution. Badum tsss","body":"Sometimes doing nothing is the solution. Badum tsss"}],"tags":[],"owner":{"account_id":546657,"reputation":370,"user_id":1072278,"display_name":"milletron"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1454775666,"creation_date":1454775666,"answer_id":35243307,"question_id":33059134,"body_markdown":"The progress indicator appears not to work. Left mine alone for about 8 minutes and all of a sudden it was done. (During which I had googled and found this question.)\r\n\r\nOnce it completed, you can see entries under the Global Repositories &gt; central &quot;folder&quot;.\r\n\r\n[![completed repository index][1]][1]\r\n\r\n\r\nI am using the Eclipse Mars release, btw.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/L3kOg.png","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>The progress indicator appears not to work. Left mine alone for about 8 minutes and all of a sudden it was done. (During which I had googled and found this question.)</p>\n\n<p>Once it completed, you can see entries under the Global Repositories > central \"folder\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/L3kOg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L3kOg.png\" alt=\"completed repository index\"></a></p>\n\n<p>I am using the Eclipse Mars release, btw.</p>\n"},{"tags":[],"owner":{"account_id":3208426,"reputation":1,"user_id":2708952,"display_name":"user2708952"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645666671,"creation_date":1645666671,"answer_id":71246071,"question_id":33059134,"body_markdown":"If while the update is taking place you start a maven operation, e.g., Project(right-click), Run, Maven build..., &quot;goals: dependency:validate&quot;, a &quot;User Operation is Waiting&quot; popup will show a progress monitor. It will also show your waiting maven operation.\r\n(Offering this because no answer to this question seemed satisfactory, and it still shows up as the first hit when you query &quot;eclipse progress monitor stuck at 0%&quot;.)","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>If while the update is taking place you start a maven operation, e.g., Project(right-click), Run, Maven build..., &quot;goals: dependency:validate&quot;, a &quot;User Operation is Waiting&quot; popup will show a progress monitor. It will also show your waiting maven operation.\n(Offering this because no answer to this question seemed satisfactory, and it still shows up as the first hit when you query &quot;eclipse progress monitor stuck at 0%&quot;.)</p>\n"},{"tags":[],"owner":{"account_id":27554174,"reputation":11,"user_id":21028693,"display_name":"user21028693"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673968758,"creation_date":1673968698,"answer_id":75148544,"question_id":33059134,"body_markdown":"Eclipse policy has changed to not rebuild the index now.\r\nWhen directly modifying pom.xml, it has been changed to be suggested in the form of auto complete.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hGLPm.png\r\n\r\n\r\nhttps://github.com/eclipse-m2e/m2e-core/issues/914\r\nhttps://github.com/eclipse-m2e/m2e-core/issues/930","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>Eclipse policy has changed to not rebuild the index now.\nWhen directly modifying pom.xml, it has been changed to be suggested in the form of auto complete.</p>\n<p><img src=\"https://i.stack.imgur.com/hGLPm.png\" alt=\"enter image description here\" /></p>\n<p><a href=\"https://github.com/eclipse-m2e/m2e-core/issues/914\" rel=\"nofollow noreferrer\">https://github.com/eclipse-m2e/m2e-core/issues/914</a>\n<a href=\"https://github.com/eclipse-m2e/m2e-core/issues/930\" rel=\"nofollow noreferrer\">https://github.com/eclipse-m2e/m2e-core/issues/930</a></p>\n"}],"owner":{"account_id":7100049,"reputation":41,"user_id":5432025,"display_name":"joxwell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35243307,"answer_count":3,"score":1,"last_activity_date":1673968758,"creation_date":1444512310,"question_id":33059134,"body_markdown":"i am having an issue with maven indexes rebuilding using eclipse. When I start, it just says `Updating index for repository: central|https://repo.maven.apache.org/maven2`\r\n\r\nBut there is no progress, or even error for tens of minutes, or nothing, it just doesn&#39;t give me any feedback.\r\n\r\nI have also tried with other eclipse instance on my computer and problem was the same.\r\n\r\nI am running Eclipse Neon (4.6.0 m1).\r\n\r\nAlso i Have tried to delete nexus folder from my `org.eclipse.m2e.core` folder in workspace.\r\n\r\n\r\nTried with eclipse Kepler on another computer on same network, and there is a progress (gz file being downloaded).\r\n\r\nI am also very sure that i don&#39;t have proxy or any other limitations on my computer or network.","title":"Rebuilding maven indexes using eclipse makes no progress","body":"<p>i am having an issue with maven indexes rebuilding using eclipse. When I start, it just says <code>Updating index for repository: central|https://repo.maven.apache.org/maven2</code></p>\n\n<p>But there is no progress, or even error for tens of minutes, or nothing, it just doesn't give me any feedback.</p>\n\n<p>I have also tried with other eclipse instance on my computer and problem was the same.</p>\n\n<p>I am running Eclipse Neon (4.6.0 m1).</p>\n\n<p>Also i Have tried to delete nexus folder from my <code>org.eclipse.m2e.core</code> folder in workspace.</p>\n\n<p>Tried with eclipse Kepler on another computer on same network, and there is a progress (gz file being downloaded).</p>\n\n<p>I am also very sure that i don't have proxy or any other limitations on my computer or network.</p>\n"},{"tags":["java","android","picasso","android-camera2","android-camera-intent"],"comments":[{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1673968307,"post_id":75148414,"comment_id":132611875,"body_markdown":"Have you tried adding a listener to listen for error messages?","body":"Have you tried adding a listener to listen for error messages?"},{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1673968589,"post_id":75148414,"comment_id":132611991,"body_markdown":"i usually inspect the logcat for errorrs . But there&#39;s no error displaying and my app doesnt crash too . I just tried to load the image using Picasso but the image doesn&#39;t display","body":"i usually inspect the logcat for errorrs . But there&#39;s no error displaying and my app doesnt crash too . I just tried to load the image using Picasso but the image doesn&#39;t display"},{"owner":{"account_id":13428169,"reputation":781,"user_id":9688781,"display_name":"jbmcle"},"score":0,"creation_date":1673968849,"post_id":75148414,"comment_id":132612082,"body_markdown":"You have to explicitly set a listener for Picasso to listen for events. See this answer: https://stackoverflow.com/questions/26548660/how-to-listen-for-picasso-android-load-complete-events#26548894","body":"You have to explicitly set a listener for Picasso to listen for events. See this answer: <a href=\"https://stackoverflow.com/questions/26548660/how-to-listen-for-picasso-android-load-complete-events#26548894\" title=\"how to listen for picasso android load complete events%2326548894\">stackoverflow.com/questions/26548660/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"score":0,"creation_date":1673969590,"post_id":75148506,"comment_id":132612345,"body_markdown":"thanks , it works for me but i had to use the java version ( am coding in java) :             Glide.with(this).load(path).into(binding.imageContainer);","body":"thanks , it works for me but i had to use the java version ( am coding in java) :             Glide.with(this).load(path).into(binding.imageContainer);"}],"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673968524,"creation_date":1673968524,"answer_id":75148506,"question_id":75148414,"body_markdown":"I&#39;m not sure about picasso that it shows image from filePath or not. But glide can do that.\r\n\r\nUsing glide with listener, you can surely achieve image\r\n\r\n    Glide\r\n        .with(context)\r\n        .load(path)\r\n        .listener(object : RequestListener&lt;Drawable&gt; {\r\n            override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?, isFirstResource: Boolean): Boolean {\r\n                //TODO handle error images while loading photo\r\n                return true\r\n            }\r\n\r\n            override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?, dataSource: DataSource?, isFirstResource: Boolean): Boolean {\r\n                //TODO use &quot;resource&quot; as the photo for your ImageView\r\n                return true\r\n            }\r\n\r\n        })\r\n        .into(binding.imageContainer)","title":"How to load a photo with Picasso","body":"<p>I'm not sure about picasso that it shows image from filePath or not. But glide can do that.</p>\n<p>Using glide with listener, you can surely achieve image</p>\n<pre><code>Glide\n    .with(context)\n    .load(path)\n    .listener(object : RequestListener&lt;Drawable&gt; {\n        override fun onLoadFailed(e: GlideException?, model: Any?, target: Target&lt;Drawable&gt;?, isFirstResource: Boolean): Boolean {\n            //TODO handle error images while loading photo\n            return true\n        }\n\n        override fun onResourceReady(resource: Drawable?, model: Any?, target: Target&lt;Drawable&gt;?, dataSource: DataSource?, isFirstResource: Boolean): Boolean {\n            //TODO use &quot;resource&quot; as the photo for your ImageView\n            return true\n        }\n\n    })\n    .into(binding.imageContainer)\n</code></pre>\n"}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148506,"answer_count":1,"score":0,"last_activity_date":1673968524,"creation_date":1673968090,"question_id":75148414,"body_markdown":"I am implementing an app and i&#39;m trying to load the photo using picasso but i am not getting any result . How can i figure it out ? Here &#39;s what i&#39;ve done : \r\n\r\n\r\n        public class FullScreenPhoto extends AppCompatActivity {\r\n        ActivityFullScreenPhotoBinding binding;\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                binding=ActivityFullScreenPhotoBinding.inflate(getLayoutInflater());\r\n                setContentView(binding.getRoot());\r\n        //Retrieving image path\r\n                Intent intent = getIntent();\r\n                String path =intent.getStringExtra(&quot;image_path&quot;);\r\n    //value of path=/storage/emulated/0/Android/data/com.ticanalyse.mheath.bf/files/Pictures/AH144644_7972289747179568715.jpg\r\n                if (Objects.equals(path, &quot;no_image&quot;)) {\r\n                    binding.imageContainer.setVisibility(View.GONE);\r\n                    binding.textView.setVisibility(View.VISIBLE);\r\n                }else{\r\n                    Log.d(&quot;path&quot;,path);\r\n                    binding.imageContainer.setVisibility(View.VISIBLE);\r\n                    Picasso.get()\r\n                            .load(path)\r\n                            .into(binding.imageContainer);\r\n        \r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to load a photo with Picasso","body":"<p>I am implementing an app and i'm trying to load the photo using picasso but i am not getting any result . How can i figure it out ? Here 's what i've done :</p>\n<pre><code>    public class FullScreenPhoto extends AppCompatActivity {\n    ActivityFullScreenPhotoBinding binding;\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            binding=ActivityFullScreenPhotoBinding.inflate(getLayoutInflater());\n            setContentView(binding.getRoot());\n    //Retrieving image path\n            Intent intent = getIntent();\n            String path =intent.getStringExtra(&quot;image_path&quot;);\n//value of path=/storage/emulated/0/Android/data/com.ticanalyse.mheath.bf/files/Pictures/AH144644_7972289747179568715.jpg\n            if (Objects.equals(path, &quot;no_image&quot;)) {\n                binding.imageContainer.setVisibility(View.GONE);\n                binding.textView.setVisibility(View.VISIBLE);\n            }else{\n                Log.d(&quot;path&quot;,path);\n                binding.imageContainer.setVisibility(View.VISIBLE);\n                Picasso.get()\n                        .load(path)\n                        .into(binding.imageContainer);\n    \n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1673943743,"post_id":75142519,"comment_id":132603716,"body_markdown":"You are familiar with https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html ?","body":"You are familiar with <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/usage.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-javadoc-plugin/usage.html</a> ?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673955571,"post_id":75142519,"comment_id":132607315,"body_markdown":"Javadoc plugin does not have a configuration with descriptor etc. that looks like a configuration for maven-assembly-plugin...","body":"Javadoc plugin does not have a configuration with descriptor etc. that looks like a configuration for maven-assembly-plugin..."},{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":0,"creation_date":1673955920,"post_id":75142519,"comment_id":132607425,"body_markdown":"yes it seems javadoc plugin is quite limited for my need...","body":"yes it seems javadoc plugin is quite limited for my need..."}],"answers":[{"comments":[{"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"score":0,"creation_date":1674053486,"post_id":75148489,"comment_id":132633120,"body_markdown":"Thanks that&#39;s right I didn&#39;t get the difference between lifecycles and goals. by using javadoc:jar the jar is correctly generated, I&#39;ll keep it a jar, I knew it was also a zip format.","body":"Thanks that&#39;s right I didn&#39;t get the difference between lifecycles and goals. by using javadoc:jar the jar is correctly generated, I&#39;ll keep it a jar, I knew it was also a zip format."}],"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673968467,"creation_date":1673968467,"answer_id":75148489,"question_id":75142519,"body_markdown":"Your main question is: why is `maven-assembly-plugin:single` not called during `javadoc:javadoc` call?\r\nFor this you need to understand the difference between lifecycles and plugin goals. \r\nA plugin goal is a single task, easy to recognize by the colon. So `javadoc:javadoc` is a plugin goal.\r\nConsider a lifecycle as an ordered group of plugin goals. You can call a lifecycle-phase (has no colons) and Maven knows which plugins need to be executed. `package` is a lifecycle-phase.\r\n\r\nSo if you are calling `javadoc:javadoc`, that will be the only task. There&#39;s no reason for Maven to also execute `maven-assembly-plugin:single`.\r\n\r\nbtw, did you try `javadoc:jar`? You should know that jar is just a zip file with extras.\r\n","title":"Maven Build Javadoc Zip during mvn javadoc:javadoc","body":"<p>Your main question is: why is <code>maven-assembly-plugin:single</code> not called during <code>javadoc:javadoc</code> call?\nFor this you need to understand the difference between lifecycles and plugin goals.\nA plugin goal is a single task, easy to recognize by the colon. So <code>javadoc:javadoc</code> is a plugin goal.\nConsider a lifecycle as an ordered group of plugin goals. You can call a lifecycle-phase (has no colons) and Maven knows which plugins need to be executed. <code>package</code> is a lifecycle-phase.</p>\n<p>So if you are calling <code>javadoc:javadoc</code>, that will be the only task. There's no reason for Maven to also execute <code>maven-assembly-plugin:single</code>.</p>\n<p>btw, did you try <code>javadoc:jar</code>? You should know that jar is just a zip file with extras.</p>\n"}],"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148489,"answer_count":1,"score":0,"last_activity_date":1673968467,"creation_date":1673935703,"question_id":75142519,"body_markdown":"I&#39;m generating a ZIP of generated Javadoc during mvn install operation by using the following:\r\n\r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;docs-assembly&lt;/id&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\r\n                      &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                      &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\r\n                      &lt;/descriptors&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;single&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n\r\nBut if I want to generate this ZIP file by launching mvn javadoc:javadoc, the ZIP file is not generated:\r\n\r\n                &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;docs-assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                          &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\r\n                          &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                          &lt;descriptors&gt;\r\n                            &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\r\n                          &lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                          &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                      &lt;/execution&gt;\r\n                  &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI Just copy / paste the execution but the docs-assembly is not executed with javadoc:javadoc...\r\nwhy it is not called during javadoc:javadoc call ?\r\n","title":"Maven Build Javadoc Zip during mvn javadoc:javadoc","body":"<p>I'm generating a ZIP of generated Javadoc during mvn install operation by using the following:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;docs-assembly&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;configuration&gt;\n                  &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\n                  &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                  &lt;descriptors&gt;\n                    &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\n                  &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;single&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>But if I want to generate this ZIP file by launching mvn javadoc:javadoc, the ZIP file is not generated:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;docs-assembly&lt;/id&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                      &lt;finalName&gt;${project.build.finalName}-${project.version}-Javadoc&lt;/finalName&gt;\n                      &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                      &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/main/assemble.xml&lt;/descriptor&gt;\n                      &lt;/descriptors&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/execution&gt;\n              &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I Just copy / paste the execution but the docs-assembly is not executed with javadoc:javadoc...\nwhy it is not called during javadoc:javadoc call ?</p>\n"},{"tags":["java","polymorphism","overriding","parent-child","subclass"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1673968109,"post_id":75148387,"comment_id":132611808,"body_markdown":"seeing as you don&#39;t want to call the overridden methods, don&#39;t override them. also, try by just: super.print() instead of super.doPrint()","body":"seeing as you don&#39;t want to call the overridden methods, don&#39;t override them. also, try by just: super.print() instead of super.doPrint()"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673968153,"post_id":75148387,"comment_id":132611825,"body_markdown":"Did you try debugging to see the flow it takes?","body":"Did you try debugging to see the flow it takes?"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1673970265,"post_id":75148387,"comment_id":132612567,"body_markdown":"I suppose you&#39;ll get the same behaviour in C++ if you declare your C++ methods as `virtual`","body":"I suppose you&#39;ll get the same behaviour in C++ if you declare your C++ methods as <code>virtual</code>"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673968256,"creation_date":1673968256,"answer_id":75148446,"question_id":75148387,"body_markdown":"For instances of B, A&#39;s `doPrint()` which calls `this.print()` invokes the *instance&#39;s* implementation of `print()`, ie B&#39;s `print()`.\r\n\r\n`this.print()` does *not* mean &quot;the implementation of `print()` declared in this class&quot;.\r\n\r\n`this.print()` is the same as just `print()` - qualifying it with `this.` is both implied and redundant.","title":"Calling an overriden function in java","body":"<p>For instances of B, A's <code>doPrint()</code> which calls <code>this.print()</code> invokes the <em>instance's</em> implementation of <code>print()</code>, ie B's <code>print()</code>.</p>\n<p><code>this.print()</code> does <em>not</em> mean &quot;the implementation of <code>print()</code> declared in this class&quot;.</p>\n<p><code>this.print()</code> is the same as just <code>print()</code> - qualifying it with <code>this.</code> is both implied and redundant.</p>\n"}],"owner":{"account_id":4372742,"reputation":39,"user_id":3566594,"display_name":"Star-lordX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673968256,"creation_date":1673967948,"question_id":75148387,"body_markdown":"I&#39;m writing a piece of code in which I need to call an overridden method of a parent class. This is easy to do in C++:\r\n\r\n    class A{\r\n      public:\r\n        void doPrint() {\r\n            print();\r\n        }\r\n        \r\n        void print(){\r\n          cout &lt;&lt; &quot;This is A&quot; &lt;&lt; endl;\r\n        }\r\n    };\r\n    \r\n    class B: public A{\r\n      public:\r\n        void doPrint() {\r\n            print();\r\n        }\r\n        \r\n        void print(){\r\n          A::doPrint();\r\n        }\r\n    };\r\n    \r\n    int main() {\r\n      B b;\r\n      b.doPrint();\r\n    \r\n      return 0;\r\n    }\r\n\r\nHowever, I need to do this in java. My current java implementation trying to emulate this behavior from C++ is:\r\n\r\n    class A {\r\n        public void doPrint() {\r\n            this.print();\r\n        }\r\n        \r\n        public void print() {\r\n            System.out.println(&quot;This is A&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends A {\r\n        @Override\r\n        public void doPrint() {\r\n            this.print();\r\n        }\r\n        \r\n        @Override\r\n        public void print() {\r\n            super.doPrint(); \r\n        }\r\n        \r\n    }\r\n    \r\n    public class main {\r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n            b.doPrint();\r\n        }\r\n    }\r\n\r\nHowever, when I do this I get a stackoverflow error caused by an infinite loop of doPrint and print:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.StackOverflowError\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n    \tat A.doPrint(A.java:4)\r\n    \tat B.print(B.java:12)\r\n\r\nIs there a way to accomplish what I&#39;m trying to do in Java? I&#39;m having trouble seeing where my logic is going wrong.","title":"Calling an overriden function in java","body":"<p>I'm writing a piece of code in which I need to call an overridden method of a parent class. This is easy to do in C++:</p>\n<pre><code>class A{\n  public:\n    void doPrint() {\n        print();\n    }\n    \n    void print(){\n      cout &lt;&lt; &quot;This is A&quot; &lt;&lt; endl;\n    }\n};\n\nclass B: public A{\n  public:\n    void doPrint() {\n        print();\n    }\n    \n    void print(){\n      A::doPrint();\n    }\n};\n\nint main() {\n  B b;\n  b.doPrint();\n\n  return 0;\n}\n</code></pre>\n<p>However, I need to do this in java. My current java implementation trying to emulate this behavior from C++ is:</p>\n<pre><code>class A {\n    public void doPrint() {\n        this.print();\n    }\n    \n    public void print() {\n        System.out.println(&quot;This is A&quot;);\n    }\n}\n\nclass B extends A {\n    @Override\n    public void doPrint() {\n        this.print();\n    }\n    \n    @Override\n    public void print() {\n        super.doPrint(); \n    }\n    \n}\n\npublic class main {\n    public static void main(String[] args) {\n        B b = new B();\n        b.doPrint();\n    }\n}\n</code></pre>\n<p>However, when I do this I get a stackoverflow error caused by an infinite loop of doPrint and print:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StackOverflowError\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n    at A.doPrint(A.java:4)\n    at B.print(B.java:12)\n</code></pre>\n<p>Is there a way to accomplish what I'm trying to do in Java? I'm having trouble seeing where my logic is going wrong.</p>\n"},{"tags":["java","json","maven","pom.xml"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":4,"creation_date":1673967769,"post_id":75148324,"comment_id":132611686,"body_markdown":"missing `&lt;dependencies&gt;` in structure: https://maven.apache.org/pom.html#dependencies","body":"missing <code>&lt;dependencies&gt;</code> in structure: <a href=\"https://maven.apache.org/pom.html#dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#dependencies</a>"},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":1,"creation_date":1673967864,"post_id":75148324,"comment_id":132611724,"body_markdown":"Please copy and paste the exception message as text rather than as an image -- that will help people find this question and any answers it provides.","body":"Please copy and paste the exception message as text rather than as an image -- that will help people find this question and any answers it provides."},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1673968776,"post_id":75148324,"comment_id":132612062,"body_markdown":"Please [don’t post images of code, error messages, or other textual data.](https://meta.stackoverflow.com/q/285551/16702058)","body":"Please <a href=\"https://meta.stackoverflow.com/q/285551/16702058\">don’t post images of code, error messages, or other textual data.</a>"}],"owner":{"account_id":27553973,"reputation":1,"user_id":21028535,"display_name":"Julie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967816,"creation_date":1673967605,"question_id":75148324,"body_markdown":"[![\\[enter image description here\\](https://i.stack.imgur.com/fCqXF.png)][1]][1]\r\n\r\n\r\n This is the code I added \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20220924&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j4Yfx.png","title":"Why does the error appear when I add Json from Maven Repositories to POM in my project?","body":"<p><a href=\"https://i.stack.imgur.com/j4Yfx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4Yfx.png\" alt=\"[enter image description here](https://i.stack.imgur.com/fCqXF.png)\" /></a></p>\n<p>This is the code I added</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.json&lt;/groupId&gt;\n&lt;artifactId&gt;json&lt;/artifactId&gt;\n&lt;version&gt;20220924&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":2,"creation_date":1674013585,"post_id":75148072,"comment_id":132622469,"body_markdown":"Try enclosing the field in quotes. `@Query(&quot;{&#39;customerServants._id&#39;:?0}&quot;)`","body":"Try enclosing the field in quotes. <code>@Query(&quot;{&#39;customerServants._id&#39;:?0}&quot;)</code>"},{"owner":{"account_id":1373928,"reputation":61,"user_id":1308327,"display_name":"Rodolpho"},"score":0,"creation_date":1686060831,"post_id":75148072,"comment_id":134745435,"body_markdown":"I had the same problem and the @Noel answer, solved the problem. Thanks.","body":"I had the same problem and the @Noel answer, solved the problem. Thanks."}],"owner":{"account_id":23217269,"reputation":21,"user_id":17310018,"display_name":"peebee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967717,"creation_date":1673966417,"question_id":75148072,"body_markdown":"I have a simple query I want to perform in springboot. I am trying to return a document if a certain embedded document exists and I am searching for it by the value _id.   \r\nThe syntax I am using is:   \r\n\r\n```\r\n  @Query(&quot;{customerServants._id:?0}&quot;)\r\n    TravelAgency findTravelAgency(int id);\r\n```   \r\nThis for some reason returns null eventhough only ids get passed to this query that actually exist in the database.   \r\nI checked it in mongodb with:   \r\n```\r\ndb.travel_agencies.find({&quot;customerServants._id&quot;: 15})\r\n```   \r\nwhich for my understanding should be the same query as the first one, but this one actually returns the right value(15 is just some value that actually gets passed to the spring data query).   \r\nWhat am I missing here? \r\n\r\nAlso this is the error I get:   \r\n```  \r\n  java.lang.StackOverflowError: null\r\n\tat org.bson.AbstractBsonReader.checkPreconditions(AbstractBsonReader.java:721) ~[bson-4.6.0.jar:na]\r\n\tat org.bson.AbstractBsonReader.readStartDocument(AbstractBsonReader.java:449) ~[bson-4.6.0.jar:na]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:235) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n\tat org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\r\n``` ","title":"Mongodb query vs spring data mongodb query","body":"<p>I have a simple query I want to perform in springboot. I am trying to return a document if a certain embedded document exists and I am searching for it by the value _id.<br />\nThe syntax I am using is:</p>\n<pre><code>  @Query(&quot;{customerServants._id:?0}&quot;)\n    TravelAgency findTravelAgency(int id);\n</code></pre>\n<p>This for some reason returns null eventhough only ids get passed to this query that actually exist in the database.<br />\nI checked it in mongodb with:</p>\n<pre><code>db.travel_agencies.find({&quot;customerServants._id&quot;: 15})\n</code></pre>\n<p>which for my understanding should be the same query as the first one, but this one actually returns the right value(15 is just some value that actually gets passed to the spring data query).<br />\nWhat am I missing here?</p>\n<p>Also this is the error I get:</p>\n<pre><code>  java.lang.StackOverflowError: null\n    at org.bson.AbstractBsonReader.checkPreconditions(AbstractBsonReader.java:721) ~[bson-4.6.0.jar:na]\n    at org.bson.AbstractBsonReader.readStartDocument(AbstractBsonReader.java:449) ~[bson-4.6.0.jar:na]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:235) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:248) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.decode(ParameterBindingDocumentCodec.java:67) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n    at org.springframework.data.mongodb.util.json.ParameterBindingDocumentCodec.readValue(ParameterBindingDocumentCodec.java:371) ~[spring-data-mongodb-3.4.0.jar:3.4.0]\n</code></pre>\n"},{"tags":["java","serialization","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673972257,"post_id":75148321,"comment_id":132613347,"body_markdown":"My first idea is using [`JsonIgnore`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonIgnore.html) with fields you want to be ignored, if I haven&#39;t understood well please include some example.","body":"My first idea is using <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>JsonIgnore</code></a> with fields you want to be ignored, if I haven&#39;t understood well please include some example."},{"owner":{"account_id":2048387,"reputation":321,"user_id":1827955,"accept_rate":33,"display_name":"Fido"},"score":0,"creation_date":1673996285,"post_id":75148321,"comment_id":132620191,"body_markdown":"@dariosicily That would work similarly, but it is not a good solution if you need just one member: everyone then needs to remember to mark new members with JsonIgnore too. Additionally, the JsonValue/Custom serializer solution has the advantage of a flattened hierarchy, the object with that single member is represented by that member in the serialized file.","body":"@dariosicily That would work similarly, but it is not a good solution if you need just one member: everyone then needs to remember to mark new members with JsonIgnore too. Additionally, the JsonValue/Custom serializer solution has the advantage of a flattened hierarchy, the object with that single member is represented by that member in the serialized file."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1674028248,"post_id":75148321,"comment_id":132624785,"body_markdown":"Thanks for your clarification,  according to the documentation your initial idea of using  `JsonValue` with a getter should have worked with any serializable type.","body":"Thanks for your clarification,  according to the documentation your initial idea of using  <code>JsonValue</code> with a getter should have worked with any serializable type."},{"owner":{"account_id":2048387,"reputation":321,"user_id":1827955,"accept_rate":33,"display_name":"Fido"},"score":0,"creation_date":1674123968,"post_id":75148321,"comment_id":132649419,"body_markdown":"The problem with `JsonValue` is that it serializes the annotated member as a value, while I need to serialize the member normally (i.e., apply standard serialization for the member).","body":"The problem with <code>JsonValue</code> is that it serializes the annotated member as a value, while I need to serialize the member normally (i.e., apply standard serialization for the member)."}],"owner":{"account_id":2048387,"reputation":321,"user_id":1827955,"accept_rate":33,"display_name":"Fido"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967602,"creation_date":1673967602,"question_id":75148321,"body_markdown":"Consider a Java class with multiple members:\r\n```Java\r\nclass MyClass{\r\n    private OtherClass member;\r\n\r\n    // more properties, getters...\r\n    ...\r\n}\r\n\r\n```\r\n\r\nNow, what can I do to represent `MyClass` by a serialized version of `member`? I&#39;ve tried the `@JsonValue` annotation, but it works just for simple types (String, int).\r\n\r\nCurrently, I resolved that by using a custom serializer for `MyClass`:\r\n```Java\r\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n\t@Override\r\n\tpublic void serialize(\r\n\t\tMyClass myClass, JsonGenerator jsonGenerator, SerializerProvider serializerProvider\r\n\t) throws IOException {\r\n\t\tserializerProvider.defaultSerializeValue(myClass.getMember(), jsonGenerator);\r\n\t}\r\n}\r\n```\r\n\r\n, but it feels like that there must be a simpler solution.","title":"Jackson serialization: represent object by just a single member","body":"<p>Consider a Java class with multiple members:</p>\n<pre><code>class MyClass{\n    private OtherClass member;\n\n    // more properties, getters...\n    ...\n}\n\n</code></pre>\n<p>Now, what can I do to represent <code>MyClass</code> by a serialized version of <code>member</code>? I've tried the <code>@JsonValue</code> annotation, but it works just for simple types (String, int).</p>\n<p>Currently, I resolved that by using a custom serializer for <code>MyClass</code>:</p>\n<pre><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    @Override\n    public void serialize(\n        MyClass myClass, JsonGenerator jsonGenerator, SerializerProvider serializerProvider\n    ) throws IOException {\n        serializerProvider.defaultSerializeValue(myClass.getMember(), jsonGenerator);\n    }\n}\n</code></pre>\n<p>, but it feels like that there must be a simpler solution.</p>\n"},{"tags":["java","spring-boot","junit","mocking","mockito"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673967299,"post_id":75148187,"comment_id":132611471,"body_markdown":"JUnit 4 or 5? You should look at using `@ExtendWith` for JUnit 5. See https://stackoverflow.com/a/40962941/639520","body":"JUnit 4 or 5? You should look at using <code>@ExtendWith</code> for JUnit 5. See <a href=\"https://stackoverflow.com/a/40962941/639520\">stackoverflow.com/a/40962941/639520</a>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673967500,"post_id":75148187,"comment_id":132611577,"body_markdown":"Does this answer your question? [How to use Mockito with JUnit5](https://stackoverflow.com/questions/40961057/how-to-use-mockito-with-junit5)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40961057/how-to-use-mockito-with-junit5\">How to use Mockito with JUnit5</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673967599,"post_id":75148187,"comment_id":132611620,"body_markdown":"And why is this error wrong? Looks like your assertions are wrong, you expect no calls but there is a call. Looks like your test is wrong or your implementation.","body":"And why is this error wrong? Looks like your assertions are wrong, you expect no calls but there is a call. Looks like your test is wrong or your implementation."},{"owner":{"account_id":16404409,"reputation":187,"user_id":11849384,"display_name":"stuchlyf"},"score":0,"creation_date":1673968492,"post_id":75148187,"comment_id":132611962,"body_markdown":"@E-Riz , I&#39;ve just Updated the Code and made it a bit more specific. I&#39;m annotating the class with `@ExtendWith(SpringExtension.class)`, as far as I know this should already include everything for Mockito","body":"@E-Riz , I&#39;ve just Updated the Code and made it a bit more specific. I&#39;m annotating the class with <code>@ExtendWith(SpringExtension.class)</code>, as far as I know this should already include everything for Mockito"},{"owner":{"account_id":16404409,"reputation":187,"user_id":11849384,"display_name":"stuchlyf"},"score":0,"creation_date":1673968608,"post_id":75148187,"comment_id":132611996,"body_markdown":"@M.Deinum , I&#39;ve already verified, that the Methods in the Errors aren&#39;t being called with the debugger. Also when running one Test by itself it work, both of them are successful, they only fail when running the whole class.","body":"@M.Deinum , I&#39;ve already verified, that the Methods in the Errors aren&#39;t being called with the debugger. Also when running one Test by itself it work, both of them are successful, they only fail when running the whole class."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673968774,"post_id":75148187,"comment_id":132612060,"body_markdown":"Then you must be doing weird things in your test. Please add something we can run include dependencies and your configuration.","body":"Then you must be doing weird things in your test. Please add something we can run include dependencies and your configuration."}],"owner":{"account_id":16404409,"reputation":187,"user_id":11849384,"display_name":"stuchlyf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967529,"creation_date":1673966960,"question_id":75148187,"body_markdown":"I&#39;m trying to Test a Method where I call a method from three different other Classes (`adapterX`, `adapterY`, `adapterZ`). I want to verify that only one of these Methods is getting executed with the `verify(...)` method from Mockito.\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {MessageValidationImplTest.TestConfig.class})\r\nclass MessageValidationImplTest {\r\n\r\n    @TestConfiguration\r\n    public static class TestConfig {\r\n        // Creation of other Beans messageValidation depends on\r\n    }\r\n\r\n    @MockBean\r\n    private AdapterY adapterY;\r\n\r\n    @MockBean\r\n    private AdapterX adapterX;\r\n\r\n    @MockBean\r\n    private AdapterZ adapterZ;\r\n\r\n    @Test\r\n    void testJsonPayload() {\r\n        // Arrange\r\n        //...\r\n\r\n        //Act\r\n        this.messageValidation.messageValidation(message, parameter);\r\n\r\n        //Assert\r\n        verify(this.adapterX).sendMessage(messageDto);\r\n        verifyNoInteractions(this.adapterY);\r\n        verifyNoInteractions(this.adapterZ);\r\n    }\r\n\r\n    @Test\r\n    void testCsvPayload() {\r\n        // Arrange\r\n        // ...\r\n\r\n        //Act\r\n        this.messageValidation.messageValidation(message, parameter);\r\n\r\n        //Assert\r\n        verifyNoInteractions(this.adapterX);\r\n        verify(this.adapterY).sendMessage(messageDto);\r\n        verifyNoInteractions(this.adapterZ);\r\n    }\r\n}\r\n```\r\n\r\nI am creating the mocks via `@MockBean` from Spring.  \r\nWhen running the Tests I get this error message in the Logs (I get the same Error for the other Adapter in the second Test):\r\n```\r\norg.mockito.exceptions.verification.NoInteractionsWanted: \r\nNo interactions wanted here:\r\n-&gt; at com.acme.example.moduletest.core.impl.MessageValidationImplTest.testJsonPayload(MessageValidationImplTest.java:155)\r\nBut found these interactions on mock &#39;com.acme.example.y.AdapterY#0 bean&#39;:\r\n-&gt; at com.acme.example.core.impl.MessageValidationImpl.validateMessage(MessageValidationImpl.java:61)\r\nActually, above is the only interaction with this mock.\r\n```\r\n\r\nI&#39;ve already tried manually resetting the Mocks with `clearInvocations(adapterX, adapterY, adapterZ)` but that doesn&#39;t make any difference.","title":"Mockito Mocks don&#39;t reset after a Test or with `clearInvocations(...)` (JUnit, Spring Boot)","body":"<p>I'm trying to Test a Method where I call a method from three different other Classes (<code>adapterX</code>, <code>adapterY</code>, <code>adapterZ</code>). I want to verify that only one of these Methods is getting executed with the <code>verify(...)</code> method from Mockito.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {MessageValidationImplTest.TestConfig.class})\nclass MessageValidationImplTest {\n\n    @TestConfiguration\n    public static class TestConfig {\n        // Creation of other Beans messageValidation depends on\n    }\n\n    @MockBean\n    private AdapterY adapterY;\n\n    @MockBean\n    private AdapterX adapterX;\n\n    @MockBean\n    private AdapterZ adapterZ;\n\n    @Test\n    void testJsonPayload() {\n        // Arrange\n        //...\n\n        //Act\n        this.messageValidation.messageValidation(message, parameter);\n\n        //Assert\n        verify(this.adapterX).sendMessage(messageDto);\n        verifyNoInteractions(this.adapterY);\n        verifyNoInteractions(this.adapterZ);\n    }\n\n    @Test\n    void testCsvPayload() {\n        // Arrange\n        // ...\n\n        //Act\n        this.messageValidation.messageValidation(message, parameter);\n\n        //Assert\n        verifyNoInteractions(this.adapterX);\n        verify(this.adapterY).sendMessage(messageDto);\n        verifyNoInteractions(this.adapterZ);\n    }\n}\n</code></pre>\n<p>I am creating the mocks via <code>@MockBean</code> from Spring.<br />\nWhen running the Tests I get this error message in the Logs (I get the same Error for the other Adapter in the second Test):</p>\n<pre><code>org.mockito.exceptions.verification.NoInteractionsWanted: \nNo interactions wanted here:\n-&gt; at com.acme.example.moduletest.core.impl.MessageValidationImplTest.testJsonPayload(MessageValidationImplTest.java:155)\nBut found these interactions on mock 'com.acme.example.y.AdapterY#0 bean':\n-&gt; at com.acme.example.core.impl.MessageValidationImpl.validateMessage(MessageValidationImpl.java:61)\nActually, above is the only interaction with this mock.\n</code></pre>\n<p>I've already tried manually resetting the Mocks with <code>clearInvocations(adapterX, adapterY, adapterZ)</code> but that doesn't make any difference.</p>\n"},{"tags":["java","casting","type-conversion","double","bigdecimal"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":7,"creation_date":1673965388,"post_id":75147812,"comment_id":132610711,"body_markdown":"When you want precision, then don&#39;t use double. When you debug those two lines, then you&#39;ll see that `num` is already slightly rounded.","body":"When you want precision, then don&#39;t use double. When you debug those two lines, then you&#39;ll see that <code>num</code> is already slightly rounded."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1673965648,"post_id":75147812,"comment_id":132610817,"body_markdown":"What you can do is start with a string. So `new BigDecimal(&quot;2334555578912349.13&quot;)`.","body":"What you can do is start with a string. So <code>new BigDecimal(&quot;2334555578912349.13&quot;)</code>."},{"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"score":0,"creation_date":1673967453,"post_id":75147812,"comment_id":132611553,"body_markdown":"@FedericoklezCulloca but I have to start with an object.  when I use num.toString() it also does round the last digits.","body":"@FedericoklezCulloca but I have to start with an object.  when I use num.toString() it also does round the last digits."},{"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"score":0,"creation_date":1673967559,"post_id":75147812,"comment_id":132611600,"body_markdown":"@Tom oh I saw it okay, how can I fix it? Can&#39;t I convert object value without rounding then?","body":"@Tom oh I saw it okay, how can I fix it? Can&#39;t I convert object value without rounding then?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1673967754,"post_id":75147812,"comment_id":132611683,"body_markdown":"Why you have to start with an object? And even then `Object num = &quot;12334555578912349.13&quot;;` is perfectly valid.","body":"Why you have to start with an object? And even then <code>Object num = &quot;12334555578912349.13&quot;;</code> is perfectly valid."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1673967798,"post_id":75147812,"comment_id":132611698,"body_markdown":"It doesn&#39;t matter if the variable is of type Object, Number, double, Double or whatever, that&#39;s not the issue. The issue is `12334555578912349.13`. This is always a double and will always be imprecise. When you get it from somewhere else, then don&#39;t convert it to double and when you already get it as a double, then there is nothing you can do.","body":"It doesn&#39;t matter if the variable is of type Object, Number, double, Double or whatever, that&#39;s not the issue. The issue is <code>12334555578912349.13</code>. This is always a double and will always be imprecise. When you get it from somewhere else, then don&#39;t convert it to double and when you already get it as a double, then there is nothing you can do."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673967451,"creation_date":1673967451,"answer_id":75148289,"question_id":75147812,"body_markdown":"&gt; ```java\r\n&gt; Object num = 12334555578912349.13;\r\n&gt; ```\r\n\r\nYou already lost here. As per the java spec, the literal text &#39;12334555578912349.13&#39; in your source file is interpreted as a double. A `double` value, given that computers aren&#39;t magic, is a 64-bit value, and thus, only at most 2^64 numbers are even representable by it. Let&#39;s call these the &#39;blessed numbers&#39;. 12334555578912349.13 is not one of the blessed numbers. The nearest blessed number to that is 123345555789123504.0 which is what that value &#39;compiles&#39; to. Once you&#39;re at 123345555789123504.0, there&#39;s no way back.\r\n\r\nThe solution then is to __never__ have &#39;12334555578912349.13&#39; as literal in your source file, as that immediately loses you the game if you do that.\r\n\r\nHere&#39;s how we avoid ever having a `double` anywhere:\r\n\r\n```\r\nvar bd = new BigDecimal(&quot;12334555578912349.13&quot;);\r\nSystem.out.println(bd);\r\n```\r\n\r\nIn general if you want to provide meaningful guarantees about precision, if your code contains the word `double` anywhere in it, you broke it. Do a quick search through the code for the word &#39;double&#39; and until that search returns 0 hits, keep eliminating its use.\r\n\r\nAlternatives that can provide guarantees about precision:\r\n\r\n* BigDecimal, of course. Note that BD can&#39;t divide without specifying rules about how to round it (for the same reason 1/3 becomes 0.333333... never ends).\r\n* Eliminate the fraction. For example, if that represents the GDP of a nation, store it as cents and not as euros, in a `long` and not a `double`.\r\n* If the thing doesn&#39;t represent a number that you ever intend to do any math on (for example, it&#39;s a social security number or an ISBN code or some such), store it as a String.\r\n","title":"Java convert/cast object to Double but prevent round?","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Object num = 12334555578912349.13;\n</code></pre>\n</blockquote>\n<p>You already lost here. As per the java spec, the literal text '12334555578912349.13' in your source file is interpreted as a double. A <code>double</code> value, given that computers aren't magic, is a 64-bit value, and thus, only at most 2^64 numbers are even representable by it. Let's call these the 'blessed numbers'. 12334555578912349.13 is not one of the blessed numbers. The nearest blessed number to that is 123345555789123504.0 which is what that value 'compiles' to. Once you're at 123345555789123504.0, there's no way back.</p>\n<p>The solution then is to <strong>never</strong> have '12334555578912349.13' as literal in your source file, as that immediately loses you the game if you do that.</p>\n<p>Here's how we avoid ever having a <code>double</code> anywhere:</p>\n<pre><code>var bd = new BigDecimal(&quot;12334555578912349.13&quot;);\nSystem.out.println(bd);\n</code></pre>\n<p>In general if you want to provide meaningful guarantees about precision, if your code contains the word <code>double</code> anywhere in it, you broke it. Do a quick search through the code for the word 'double' and until that search returns 0 hits, keep eliminating its use.</p>\n<p>Alternatives that can provide guarantees about precision:</p>\n<ul>\n<li>BigDecimal, of course. Note that BD can't divide without specifying rules about how to round it (for the same reason 1/3 becomes 0.333333... never ends).</li>\n<li>Eliminate the fraction. For example, if that represents the GDP of a nation, store it as cents and not as euros, in a <code>long</code> and not a <code>double</code>.</li>\n<li>If the thing doesn't represent a number that you ever intend to do any math on (for example, it's a social security number or an ISBN code or some such), store it as a String.</li>\n</ul>\n"}],"owner":{"account_id":17263689,"reputation":13,"user_id":12500975,"display_name":"Aleyna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75148289,"answer_count":1,"score":-1,"last_activity_date":1673967451,"creation_date":1673965105,"question_id":75147812,"body_markdown":"```\r\nObject num = 12334555578912349.13;\r\n\r\nSystem.out.println(BigDecimal.valueOf(((Number) num).doubleValue()).setScale(2, BigDecimal.ROUND_HALF_EVEN));\r\n```\r\n\r\n\r\n\r\nI expect the value to be 12334555578912349.13\r\nbut output is 123345555789123504.00 \r\n\r\nHow can I prevent it from rounding? ","title":"Java convert/cast object to Double but prevent round?","body":"<pre><code>Object num = 12334555578912349.13;\n\nSystem.out.println(BigDecimal.valueOf(((Number) num).doubleValue()).setScale(2, BigDecimal.ROUND_HALF_EVEN));\n</code></pre>\n<p>I expect the value to be 12334555578912349.13\nbut output is 123345555789123504.00</p>\n<p>How can I prevent it from rounding?</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","hql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673952998,"post_id":75145307,"comment_id":132606506,"body_markdown":"Since you are beyond java 7, you should be using `java.time` classes like `LocalDateTime` etc. Perhaps the calculation of timestamp - date does not result in the correct datatype. `The source argument is a DATE, an INTERVAL, or a TIMESTAMP value from which a field is extracted.`","body":"Since you are beyond java 7, you should be using <code>java.time</code> classes like <code>LocalDateTime</code> etc. Perhaps the calculation of timestamp - date does not result in the correct datatype. <code>The source argument is a DATE, an INTERVAL, or a TIMESTAMP value from which a field is extracted.</code>"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673967405,"creation_date":1673967405,"answer_id":75148277,"question_id":75145307,"body_markdown":"The error is perfectly sensible and correct, and your query doesn&#39;t even make sense intuitively.\r\n\r\nThe difference between two timestamps (or in this case, between a timestamp and a date) is not another timestamp, it is a duration.\r\n\r\nAs an example: what is the difference between 25/3/72 and 23/3/74? The only sensible answer is &quot;two days&quot;. Not some nonsensical date like 2/0/0 or something.\r\n\r\nSo, in HQL 6, the correct syntax for what you are trying to do is:\r\n\r\n    (current_date - alarm.date) by day &lt; 1\r\n\r\nWhere:\r\n\r\n1. The expression `current_date - alarm.date` has Java type `Duration`, which is a quantity in nanoseconds.\r\n2. The operator `by day` serves to convert this nanosecond duration to an integer number of days.\r\n\r\n\r\nThis functionality is covered here:\r\n\r\n&lt;https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-Datetime-arithmetic&gt;\r\n\r\nP.S. You should absolutely not be using `Calendar` to represent a datetime in 2023.","title":"Hibernate - extract function doesnt works anymore due to wrong type","body":"<p>The error is perfectly sensible and correct, and your query doesn't even make sense intuitively.</p>\n<p>The difference between two timestamps (or in this case, between a timestamp and a date) is not another timestamp, it is a duration.</p>\n<p>As an example: what is the difference between 25/3/72 and 23/3/74? The only sensible answer is &quot;two days&quot;. Not some nonsensical date like 2/0/0 or something.</p>\n<p>So, in HQL 6, the correct syntax for what you are trying to do is:</p>\n<pre><code>(current_date - alarm.date) by day &lt; 1\n</code></pre>\n<p>Where:</p>\n<ol>\n<li>The expression <code>current_date - alarm.date</code> has Java type <code>Duration</code>, which is a quantity in nanoseconds.</li>\n<li>The operator <code>by day</code> serves to convert this nanosecond duration to an integer number of days.</li>\n</ol>\n<p>This functionality is covered here:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-Datetime-arithmetic\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#hql-Datetime-arithmetic</a></p>\n<p>P.S. You should absolutely not be using <code>Calendar</code> to represent a datetime in 2023.</p>\n"}],"owner":{"account_id":2547634,"reputation":5,"user_id":2212094,"display_name":"user2212094"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75148277,"answer_count":1,"score":0,"last_activity_date":1673967405,"creation_date":1673952770,"question_id":75145307,"body_markdown":"Since a migration to : \r\n\r\nSpring boot : 3.0.1\r\nJava 17: 3.0.1\r\nHibernate : 6.1.6\r\nDialect : Oracle 12c\r\n\r\n\r\n\r\n```\r\n@Column(name = &quot;ALARM_DT&quot;)\r\n\t@Temporal(TemporalType.DATE)\r\n\tprivate Calendar date;\r\n```\r\n\r\n\r\n```\r\nextract(day from (current_timestamp - alarm.date)) &lt; 1\r\n```\r\n\r\nUnfortunately, this error message after the migration :\r\n```\r\n\r\norg.hibernate.QueryException: Parameter 2 of function extract() has type TEMPORAL, but argument is of type java.time.Duration\r\n```\r\n\r\nDoes anyone have a solution for this?\r\nHow Cast the result to date format.\r\n\r\nBest regards\r\n\r\n\r\n","title":"Hibernate - extract function doesnt works anymore due to wrong type","body":"<p>Since a migration to :</p>\n<p>Spring boot : 3.0.1\nJava 17: 3.0.1\nHibernate : 6.1.6\nDialect : Oracle 12c</p>\n<pre><code>@Column(name = &quot;ALARM_DT&quot;)\n    @Temporal(TemporalType.DATE)\n    private Calendar date;\n</code></pre>\n<pre><code>extract(day from (current_timestamp - alarm.date)) &lt; 1\n</code></pre>\n<p>Unfortunately, this error message after the migration :</p>\n<pre><code>\norg.hibernate.QueryException: Parameter 2 of function extract() has type TEMPORAL, but argument is of type java.time.Duration\n</code></pre>\n<p>Does anyone have a solution for this?\nHow Cast the result to date format.</p>\n<p>Best regards</p>\n"},{"tags":["java","json","jackson","deserialization"],"owner":{"account_id":4225673,"reputation":1,"user_id":3459262,"display_name":"user3459262"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673967156,"creation_date":1673967156,"question_id":75148231,"body_markdown":"I am trying to deserialize an object which has polymorphic recursion on a Map value. The first level always deserialize to the correct type, but the recursions are deserialized as LinkedHashMap.\r\n\r\n\r\nCode:\r\n```\r\npublic class Rule {\r\n  private String ruleName;\r\n  private List&lt;Variable&gt; variables;\r\n}\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n    @Type(value = ListVariable.class, name = &quot;ListVariable&quot;),\r\n    @Type(value = MapVariable.class, name = &quot;MapVariable&quot;)\r\n})\r\n\r\npublic abstract class Variable&lt;T&gt; {\r\n  private String name;\r\n  private T value;\r\n}\r\n\r\n\r\npublic class ListVariable extends Variable&lt;List&lt;Object&gt;&gt; {\r\n}\r\n\r\npublic class MapVariable extends Variable&lt;Map&lt;String, Object&gt;&gt; {\r\n  private String input;\r\n  private Object defaultValue;\r\n}\r\n```\r\n\r\nJson with multiple levels:\r\n```\r\n{\r\n  &quot;ruleName&quot; : &quot;xyz&quot;,\r\n  &quot;variables&quot; : [ {\r\n    &quot;type&quot; : &quot;MapVariable&quot;,\r\n    &quot;name&quot; : &quot;multi_level_map&quot;,\r\n    &quot;input&quot; : &quot;listing_country&quot;,\r\n    &quot;defaultValue&quot; : &quot;Unknown&quot;,\r\n    &quot;value&quot; : {\r\n      &quot;US&quot; : {\r\n        &quot;type&quot; : &quot;MapVariable&quot;,\r\n        &quot;name&quot; : &quot;multi_level_map_2_us&quot;,\r\n        &quot;input&quot; : &quot;threshold&quot;,\r\n        &quot;defaultValue&quot; : &quot;Unknown&quot;,\r\n        &quot;value&quot; : {\r\n          &quot;Range(0.0,1.0)&quot; : &quot;Low_US&quot;,\r\n          &quot;Range(1.0,2.0)&quot; : &quot;Medium_US&quot;,\r\n          &quot;Range(2.0,3.0)&quot; : &quot;High_US&quot;\r\n        }\r\n      }\r\n    }\r\n  } ]\r\n}\r\n```\r\n\r\n\r\n\r\nDeserialization results:\r\n[enter image description here](https://i.stack.imgur.com/8BpV8.png)\r\n\r\n\r\nDoes anyone know what I am doing wrong and how can I make this recursive deserialization work?","title":"Deserialize json with polymorphic recursion using Jackson","body":"<p>I am trying to deserialize an object which has polymorphic recursion on a Map value. The first level always deserialize to the correct type, but the recursions are deserialized as LinkedHashMap.</p>\n<p>Code:</p>\n<pre><code>public class Rule {\n  private String ruleName;\n  private List&lt;Variable&gt; variables;\n}\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({\n    @Type(value = ListVariable.class, name = &quot;ListVariable&quot;),\n    @Type(value = MapVariable.class, name = &quot;MapVariable&quot;)\n})\n\npublic abstract class Variable&lt;T&gt; {\n  private String name;\n  private T value;\n}\n\n\npublic class ListVariable extends Variable&lt;List&lt;Object&gt;&gt; {\n}\n\npublic class MapVariable extends Variable&lt;Map&lt;String, Object&gt;&gt; {\n  private String input;\n  private Object defaultValue;\n}\n</code></pre>\n<p>Json with multiple levels:</p>\n<pre><code>{\n  &quot;ruleName&quot; : &quot;xyz&quot;,\n  &quot;variables&quot; : [ {\n    &quot;type&quot; : &quot;MapVariable&quot;,\n    &quot;name&quot; : &quot;multi_level_map&quot;,\n    &quot;input&quot; : &quot;listing_country&quot;,\n    &quot;defaultValue&quot; : &quot;Unknown&quot;,\n    &quot;value&quot; : {\n      &quot;US&quot; : {\n        &quot;type&quot; : &quot;MapVariable&quot;,\n        &quot;name&quot; : &quot;multi_level_map_2_us&quot;,\n        &quot;input&quot; : &quot;threshold&quot;,\n        &quot;defaultValue&quot; : &quot;Unknown&quot;,\n        &quot;value&quot; : {\n          &quot;Range(0.0,1.0)&quot; : &quot;Low_US&quot;,\n          &quot;Range(1.0,2.0)&quot; : &quot;Medium_US&quot;,\n          &quot;Range(2.0,3.0)&quot; : &quot;High_US&quot;\n        }\n      }\n    }\n  } ]\n}\n</code></pre>\n<p>Deserialization results:\n<a href=\"https://i.stack.imgur.com/8BpV8.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Does anyone know what I am doing wrong and how can I make this recursive deserialization work?</p>\n"},{"tags":["java","android","retrofit2","android-adapter","android-viewpager2"],"comments":[{"owner":{"account_id":10298759,"reputation":501,"user_id":7598082,"display_name":"Dinesh Sarma"},"score":0,"creation_date":1671745099,"post_id":74893416,"comment_id":132169491,"body_markdown":"try by initializing mediaPlayer into the MusicViewHolder constructor and manage the rest of the mediaPlayer operation accordingly. This might help you. And try to write clean code :) Happy Coding","body":"try by initializing mediaPlayer into the MusicViewHolder constructor and manage the rest of the mediaPlayer operation accordingly. This might help you. And try to write clean code :) Happy Coding"},{"owner":{"account_id":27328781,"reputation":1,"user_id":20841289,"display_name":"sahil gill"},"score":0,"creation_date":1671787852,"post_id":74893416,"comment_id":132175936,"body_markdown":"@DineshSarma Do you mean like this?\n\nclass MusicViewHolder extends RecyclerView.ViewHolder {\n&#160; &#160; &#160; &#160; MediaPlayer mediaPlayer;","body":"@DineshSarma Do you mean like this?  class MusicViewHolder extends RecyclerView.ViewHolder {         MediaPlayer mediaPlayer;"},{"owner":{"account_id":10298759,"reputation":501,"user_id":7598082,"display_name":"Dinesh Sarma"},"score":0,"creation_date":1671842246,"post_id":74893416,"comment_id":132188112,"body_markdown":"public MusicViewHolder(@NonNull View itemView) {\n            super(itemView);\n            .....\n        }\nhere inside the constructor","body":"public MusicViewHolder(@NonNull View itemView) {             super(itemView);             .....         } here inside the constructor"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671906070,"post_id":74893416,"comment_id":132195883,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":27328781,"reputation":1,"user_id":20841289,"display_name":"sahil gill"},"score":0,"creation_date":1671962709,"post_id":74893416,"comment_id":132201345,"body_markdown":"@DineshSarma Thank you, I&#39;m working on it and will let you know how it goes.","body":"@DineshSarma Thank you, I&#39;m working on it and will let you know how it goes."}],"owner":{"account_id":27328781,"reputation":1,"user_id":20841289,"display_name":"sahil gill"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673966656,"creation_date":1671739880,"question_id":74893416,"body_markdown":"When I try to load audio and images from the API into ViewPager2&#39;s media player and image view, they don&#39;t load in the correct order; audio is sometimes different from their image and text when loaded in ViewPager2 (for example, if I slide down or up, music is different from their order, but image and text are in their order).\r\n\r\nWatch this video for a better explanation. &quot;[Video Url](https://drive.google.com/file/d/1jM7fA2bG6ZHL_oNm-vDYOoP9f5bwwtuP/view?usp=share_link)&quot;\r\n\r\nSo I want to create a feature similar to Resso Music App (sliding up and down to change music, similar to how we change videos on TikTok).\r\n\r\nFor this functionality, I use ViewPager2, an array list, an adapter, and Retrofit.\r\n\r\n\r\n**MusicFragment.java**\r\n\r\n```\r\npublic class MusicFragment extends Fragment {\r\n    View v;\r\n    List&lt;AllMusicModel.Data&gt; musicItems;\r\n    ViewPager2 musicsViewPager;\r\n    private MusicAdapter musicAdapter;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        v = inflater.inflate(R.layout.fragment_music, container, false);\r\n        musicsViewPager = v.findViewById(R.id.viewPagerVideos);\r\n        musicsViewPager.setUserInputEnabled(true);\r\n        musicItems = new ArrayList&lt;&gt;();\r\n        musicAdapter = new MusicAdapter(getActivity(), musicItems);\r\n        musicsViewPager.setAdapter(musicAdapter);\r\n        call_music_list_api();\r\n        return v;\r\n    }\r\n\r\n    private void call_music_list_api() {\r\n\r\n        // Api implementation\r\n        String Token = &quot;Bearer &quot; + Config.getToken(requireContext());\r\n        String APIChannel = &quot;App&quot;;\r\n        String AppVersion = BuildConfig.VERSION_NAME;\r\n        Call&lt;AllMusicModel&gt; mCall = RetrofitClient.getAdapter().GetAllMusic(APIChannel, AppVersion, Token);\r\n        mCall.enqueue(new Callback&lt;AllMusicModel&gt;() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Response&lt;AllMusicModel&gt; response) {\r\n                if (response.isSuccessful()) {\r\n                    AllMusicModel alldata = response.body();\r\n\r\n                    String code;\r\n//                    String message;\r\n                    String status;\r\n\r\n                    if (alldata != null) {\r\n                        code = String.valueOf(alldata.getStatuscode());\r\n//                        message = String.valueOf(alldata.getMessage());\r\n                        status = String.valueOf(alldata.getStatus());\r\n                        if (code.equals(&quot;200&quot;)) {\r\n                            musicItems.clear();\r\n                            musicItems.addAll(alldata.getData());\r\n                            musicAdapter.notifyDataSetChanged();\r\n                        } else if (Objects.equals(code, &quot;401&quot;)) {\r\n                            Log.e(&quot;MusicFragment&quot;, &quot;onResponse: &quot; + status);\r\n                        }\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getContext(), &quot;Something went wrong&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Throwable t) {\r\n                Log.e(&quot;Error&quot;, String.valueOf(t));\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\n**fragment_music.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    style=&quot;@style/parent.contentLayout&quot;\r\n    android:fitsSystemWindows=&quot;false&quot;\r\n    tools:context=&quot;.Fragments.MusicFragment&quot;&gt;\r\n        &lt;androidx.viewpager2.widget.ViewPager2\r\n            android:id=&quot;@+id/viewPagerVideos&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n**MusicAdapter.java**\r\n\r\n```\r\npublic class MusicAdapter extends RecyclerView.Adapter&lt;MusicAdapter.MusicViewHolder&gt; {\r\n    private final Context context;\r\n    private final List&lt;AllMusicModel.Data&gt; mMusiclist;\r\n    private MediaPlayer mediaPlayer;\r\n\r\n    public MusicAdapter(Context context, List&lt;AllMusicModel.Data&gt; musicItems) {\r\n        this.context = context;\r\n        mMusiclist = musicItems;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MusicViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MusicViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.music_layout, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MusicViewHolder holder, int position) {\r\n       final MusicViewHolder finalholder = holder;\r\n        finalholder.setMusicData(mMusiclist.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mMusiclist.size();\r\n    }\r\n\r\n    class MusicViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView mImageView, play_pause_image;\r\n        TextView txtTitle, txtDesc;\r\n        ProgressBar mProgressBar;\r\n        ConstraintLayout play_pause_layout, linearLayout;\r\n\r\n        public MusicViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            mImageView = itemView.findViewById(R.id.imageView);\r\n            txtTitle = itemView.findViewById(R.id.txtTitle);\r\n            txtDesc = itemView.findViewById(R.id.txtDesc);\r\n            mProgressBar = itemView.findViewById(R.id.progressBar);\r\n            play_pause_layout = itemView.findViewById(R.id.play_pause_layout);\r\n            play_pause_image = itemView.findViewById(R.id.play_pause_image);\r\n            linearLayout = itemView.findViewById(R.id.linearLayout);\r\n        }\r\n\r\n        void setMusicData(AllMusicModel.Data musicItem) {\r\n\r\n            txtTitle.setText(musicItem.getTitle());\r\n//            txtDesc.setText(musicItem);\r\n            if (mediaPlayer != null) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.release();\r\n                mediaPlayer = null;\r\n            }\r\n            mImageView.setOnClickListener(v -&gt; {\r\n                if (mediaPlayer.isPlaying()) {\r\n                    //stop or pause your media player mediaPlayer.stop(); or mediaPlayer.pause();\r\n                    play_pause_layout.setVisibility(View.VISIBLE);\r\n                    play_pause_image.setImageResource(R.drawable.ic_round_play);\r\n                    mediaPlayer.pause();\r\n                } else {\r\n                    mediaPlayer.start();\r\n                    play_pause_layout.setVisibility(View.VISIBLE);\r\n                    play_pause_image.setImageResource(R.drawable.ic_round_pause);\r\n                    Handler handler = new Handler();\r\n                    handler.postDelayed(() -&gt; play_pause_layout.setVisibility(View.INVISIBLE), 4000);\r\n                }\r\n            });\r\n\r\n            String audioUrl = ApiUrls.Api_LocalHost_Url + musicItem.getAudio();\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                mediaPlayer.setDataSource(audioUrl);\r\n                mediaPlayer.prepareAsync();\r\n                mediaPlayer.setOnPreparedListener(mediaPlayer -&gt; {\r\n                    mProgressBar.setVisibility(View.GONE);\r\n                    mediaPlayer.start();\r\n                });\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            mediaPlayer.setOnCompletionListener(MediaPlayer::start);\r\n            String imageUrl = ApiUrls.Api_LocalHost_Url + musicItem.getImage();\r\n            Glide.with(context)\r\n                    .load(imageUrl)\r\n                    .placeholder(R.drawable.loading)\r\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n                    .error(R.drawable.loading)\r\n                    .into(mImageView);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**music_layout.xml** (Layout for Load Adater Data)\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@color/contentBodyColor&quot;\r\n  &gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;/&gt;\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;/&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/play_pause_layout&quot;\r\n        android:layout_width=&quot;60dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:background=&quot;@drawable/music_play_pause_bg&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/play_pause_image&quot;\r\n            android:layout_width=&quot;45dp&quot;\r\n            android:layout_height=&quot;45dp&quot;\r\n            android:contentDescription=&quot;@string/back_button&quot;\r\n            android:src=&quot;@drawable/ic_round_play&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;LinearLayout\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtTitle&quot;\r\n            android:paddingStart=&quot;5dp&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingEnd=&quot;5dp&quot;\r\n            android:shadowColor=&quot;@android:color/black&quot;\r\n            android:shadowDx=&quot;0&quot;\r\n            android:shadowDy=&quot;0&quot;\r\n            android:shadowRadius=&quot;15&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:fontFamily=&quot;@font/roboto_bold&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtDesc&quot;\r\n            android:paddingStart=&quot;5dp&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingEnd=&quot;5dp&quot;\r\n            android:shadowDx=&quot;0&quot;\r\n            android:shadowDy=&quot;0&quot;\r\n            android:shadowRadius=&quot;15&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;10sp&quot;\r\n            android:shadowColor=&quot;@android:color/black&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            tools:ignore=&quot;SmallSp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**AllMusicModel.java**\r\n\r\n```\r\npublic class AllMusicModel {\r\n\r\n    @SerializedName(&quot;statuscode&quot;)\r\n    @Expose\r\n    private Integer statuscode;\r\n    @SerializedName(&quot;status&quot;)\r\n    @Expose\r\n    private String status;\r\n    @SerializedName(&quot;message&quot;)\r\n    @Expose\r\n    private String message;\r\n    @SerializedName(&quot;data&quot;)\r\n    @Expose\r\n    private List&lt;Data&gt; data = null;\r\n\r\n    public Integer getStatuscode() {\r\n        return statuscode;\r\n    }\r\n\r\n    public void setStatuscode(Integer statuscode) {\r\n        this.statuscode = statuscode;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n        this.message = message;\r\n    }\r\n\r\n    public List&lt;Data&gt; getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(List&lt;Data&gt; data) {\r\n        this.data = data;\r\n    }\r\n    public class Data {\r\n\r\n        @SerializedName(&quot;id&quot;)\r\n        @Expose\r\n        private Integer id;\r\n        @SerializedName(&quot;title&quot;)\r\n        @Expose\r\n        private String title;\r\n        @SerializedName(&quot;image&quot;)\r\n        @Expose\r\n        private String image;\r\n        @SerializedName(&quot;audio&quot;)\r\n        @Expose\r\n        private String audio;\r\n        @SerializedName(&quot;time&quot;)\r\n        @Expose\r\n        private String time;\r\n        @SerializedName(&quot;status&quot;)\r\n        @Expose\r\n        private String status;\r\n        @SerializedName(&quot;createdAt&quot;)\r\n        @Expose\r\n        private String createdAt;\r\n        @SerializedName(&quot;updatedAt&quot;)\r\n        @Expose\r\n        private String updatedAt;\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public String getImage() {\r\n            return image;\r\n        }\r\n\r\n        public void setImage(String image) {\r\n            this.image = image;\r\n        }\r\n\r\n        public String getAudio() {\r\n            return audio;\r\n        }\r\n\r\n        public void setAudio(String audio) {\r\n            this.audio = audio;\r\n        }\r\n\r\n        public String getTime() {\r\n            return time;\r\n        }\r\n\r\n        public void setTime(String time) {\r\n            this.time = time;\r\n        }\r\n\r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n\r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n\r\n        public String getCreatedAt() {\r\n            return createdAt;\r\n        }\r\n\r\n        public void setCreatedAt(String createdAt) {\r\n            this.createdAt = createdAt;\r\n        }\r\n\r\n        public String getUpdatedAt() {\r\n            return updatedAt;\r\n        }\r\n\r\n        public void setUpdatedAt(String updatedAt) {\r\n            this.updatedAt = updatedAt;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nJson Response From API\r\n\r\n```\r\n{&quot;statuscode&quot;:200,&quot;status&quot;:&quot;Success&quot;,&quot;message&quot;:&quot;Music List&quot;,&quot;data&quot;:[{&quot;id&quot;:6,&quot;title&quot;:&quot;Faded&quot;,&quot;image&quot;:&quot;1156127.jpg&quot;,&quot;audio&quot;:&quot;waha.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;},{&quot;id&quot;:7,&quot;title&quot;:&quot;Drive Forever&quot;,&quot;image&quot;:&quot;driveforever.jpg&quot;,&quot;audio&quot;:&quot;driveforever.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;}]}\r\n```\r\n","title":"When I try to load audio and images from the API into the media player and image view in ViewPager2, they do not appear in the order they were loaded","body":"<p>When I try to load audio and images from the API into ViewPager2's media player and image view, they don't load in the correct order; audio is sometimes different from their image and text when loaded in ViewPager2 (for example, if I slide down or up, music is different from their order, but image and text are in their order).</p>\n<p>Watch this video for a better explanation. &quot;<a href=\"https://drive.google.com/file/d/1jM7fA2bG6ZHL_oNm-vDYOoP9f5bwwtuP/view?usp=share_link\" rel=\"nofollow noreferrer\">Video Url</a>&quot;</p>\n<p>So I want to create a feature similar to Resso Music App (sliding up and down to change music, similar to how we change videos on TikTok).</p>\n<p>For this functionality, I use ViewPager2, an array list, an adapter, and Retrofit.</p>\n<p><strong>MusicFragment.java</strong></p>\n<pre><code>public class MusicFragment extends Fragment {\n    View v;\n    List&lt;AllMusicModel.Data&gt; musicItems;\n    ViewPager2 musicsViewPager;\n    private MusicAdapter musicAdapter;\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        v = inflater.inflate(R.layout.fragment_music, container, false);\n        musicsViewPager = v.findViewById(R.id.viewPagerVideos);\n        musicsViewPager.setUserInputEnabled(true);\n        musicItems = new ArrayList&lt;&gt;();\n        musicAdapter = new MusicAdapter(getActivity(), musicItems);\n        musicsViewPager.setAdapter(musicAdapter);\n        call_music_list_api();\n        return v;\n    }\n\n    private void call_music_list_api() {\n\n        // Api implementation\n        String Token = &quot;Bearer &quot; + Config.getToken(requireContext());\n        String APIChannel = &quot;App&quot;;\n        String AppVersion = BuildConfig.VERSION_NAME;\n        Call&lt;AllMusicModel&gt; mCall = RetrofitClient.getAdapter().GetAllMusic(APIChannel, AppVersion, Token);\n        mCall.enqueue(new Callback&lt;AllMusicModel&gt;() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onResponse(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Response&lt;AllMusicModel&gt; response) {\n                if (response.isSuccessful()) {\n                    AllMusicModel alldata = response.body();\n\n                    String code;\n//                    String message;\n                    String status;\n\n                    if (alldata != null) {\n                        code = String.valueOf(alldata.getStatuscode());\n//                        message = String.valueOf(alldata.getMessage());\n                        status = String.valueOf(alldata.getStatus());\n                        if (code.equals(&quot;200&quot;)) {\n                            musicItems.clear();\n                            musicItems.addAll(alldata.getData());\n                            musicAdapter.notifyDataSetChanged();\n                        } else if (Objects.equals(code, &quot;401&quot;)) {\n                            Log.e(&quot;MusicFragment&quot;, &quot;onResponse: &quot; + status);\n                        }\n                    }\n                } else {\n                    Toast.makeText(getContext(), &quot;Something went wrong&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(@NonNull Call&lt;AllMusicModel&gt; call, @NonNull Throwable t) {\n                Log.e(&quot;Error&quot;, String.valueOf(t));\n\n            }\n        });\n    }\n\n}\n</code></pre>\n<p><strong>fragment_music.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    style=&quot;@style/parent.contentLayout&quot;\n    android:fitsSystemWindows=&quot;false&quot;\n    tools:context=&quot;.Fragments.MusicFragment&quot;&gt;\n        &lt;androidx.viewpager2.widget.ViewPager2\n            android:id=&quot;@+id/viewPagerVideos&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><strong>MusicAdapter.java</strong></p>\n<pre><code>public class MusicAdapter extends RecyclerView.Adapter&lt;MusicAdapter.MusicViewHolder&gt; {\n    private final Context context;\n    private final List&lt;AllMusicModel.Data&gt; mMusiclist;\n    private MediaPlayer mediaPlayer;\n\n    public MusicAdapter(Context context, List&lt;AllMusicModel.Data&gt; musicItems) {\n        this.context = context;\n        mMusiclist = musicItems;\n    }\n\n    @NonNull\n    @Override\n    public MusicViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MusicViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.music_layout, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MusicViewHolder holder, int position) {\n       final MusicViewHolder finalholder = holder;\n        finalholder.setMusicData(mMusiclist.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mMusiclist.size();\n    }\n\n    class MusicViewHolder extends RecyclerView.ViewHolder {\n        ImageView mImageView, play_pause_image;\n        TextView txtTitle, txtDesc;\n        ProgressBar mProgressBar;\n        ConstraintLayout play_pause_layout, linearLayout;\n\n        public MusicViewHolder(@NonNull View itemView) {\n            super(itemView);\n            mImageView = itemView.findViewById(R.id.imageView);\n            txtTitle = itemView.findViewById(R.id.txtTitle);\n            txtDesc = itemView.findViewById(R.id.txtDesc);\n            mProgressBar = itemView.findViewById(R.id.progressBar);\n            play_pause_layout = itemView.findViewById(R.id.play_pause_layout);\n            play_pause_image = itemView.findViewById(R.id.play_pause_image);\n            linearLayout = itemView.findViewById(R.id.linearLayout);\n        }\n\n        void setMusicData(AllMusicModel.Data musicItem) {\n\n            txtTitle.setText(musicItem.getTitle());\n//            txtDesc.setText(musicItem);\n            if (mediaPlayer != null) {\n                mediaPlayer.stop();\n                mediaPlayer.release();\n                mediaPlayer = null;\n            }\n            mImageView.setOnClickListener(v -&gt; {\n                if (mediaPlayer.isPlaying()) {\n                    //stop or pause your media player mediaPlayer.stop(); or mediaPlayer.pause();\n                    play_pause_layout.setVisibility(View.VISIBLE);\n                    play_pause_image.setImageResource(R.drawable.ic_round_play);\n                    mediaPlayer.pause();\n                } else {\n                    mediaPlayer.start();\n                    play_pause_layout.setVisibility(View.VISIBLE);\n                    play_pause_image.setImageResource(R.drawable.ic_round_pause);\n                    Handler handler = new Handler();\n                    handler.postDelayed(() -&gt; play_pause_layout.setVisibility(View.INVISIBLE), 4000);\n                }\n            });\n\n            String audioUrl = ApiUrls.Api_LocalHost_Url + musicItem.getAudio();\n            mediaPlayer = new MediaPlayer();\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n            try {\n                mediaPlayer.setDataSource(audioUrl);\n                mediaPlayer.prepareAsync();\n                mediaPlayer.setOnPreparedListener(mediaPlayer -&gt; {\n                    mProgressBar.setVisibility(View.GONE);\n                    mediaPlayer.start();\n                });\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            mediaPlayer.setOnCompletionListener(MediaPlayer::start);\n            String imageUrl = ApiUrls.Api_LocalHost_Url + musicItem.getImage();\n            Glide.with(context)\n                    .load(imageUrl)\n                    .placeholder(R.drawable.loading)\n                    .diskCacheStrategy(DiskCacheStrategy.ALL)\n                    .error(R.drawable.loading)\n                    .into(mImageView);\n\n        }\n    }\n}\n</code></pre>\n<p><strong>music_layout.xml</strong> (Layout for Load Adater Data)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@color/contentBodyColor&quot;\n  &gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;/&gt;\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;/&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/play_pause_layout&quot;\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:visibility=&quot;gone&quot;\n        android:background=&quot;@drawable/music_play_pause_bg&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/play_pause_image&quot;\n            android:layout_width=&quot;45dp&quot;\n            android:layout_height=&quot;45dp&quot;\n            android:contentDescription=&quot;@string/back_button&quot;\n            android:src=&quot;@drawable/ic_round_play&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;LinearLayout\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:layout_marginBottom=&quot;80dp&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtTitle&quot;\n            android:paddingStart=&quot;5dp&quot;\n            android:paddingTop=&quot;5dp&quot;\n            android:paddingEnd=&quot;5dp&quot;\n            android:shadowColor=&quot;@android:color/black&quot;\n            android:shadowDx=&quot;0&quot;\n            android:shadowDy=&quot;0&quot;\n            android:shadowRadius=&quot;15&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;25sp&quot;\n            android:textAlignment=&quot;center&quot;\n            android:fontFamily=&quot;@font/roboto_bold&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtDesc&quot;\n            android:paddingStart=&quot;5dp&quot;\n            android:paddingTop=&quot;5dp&quot;\n            android:paddingEnd=&quot;5dp&quot;\n            android:shadowDx=&quot;0&quot;\n            android:shadowDy=&quot;0&quot;\n            android:shadowRadius=&quot;15&quot;\n            android:textColor=&quot;@android:color/white&quot;\n            android:textSize=&quot;10sp&quot;\n            android:shadowColor=&quot;@android:color/black&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            tools:ignore=&quot;SmallSp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>AllMusicModel.java</strong></p>\n<pre><code>public class AllMusicModel {\n\n    @SerializedName(&quot;statuscode&quot;)\n    @Expose\n    private Integer statuscode;\n    @SerializedName(&quot;status&quot;)\n    @Expose\n    private String status;\n    @SerializedName(&quot;message&quot;)\n    @Expose\n    private String message;\n    @SerializedName(&quot;data&quot;)\n    @Expose\n    private List&lt;Data&gt; data = null;\n\n    public Integer getStatuscode() {\n        return statuscode;\n    }\n\n    public void setStatuscode(Integer statuscode) {\n        this.statuscode = statuscode;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public List&lt;Data&gt; getData() {\n        return data;\n    }\n\n    public void setData(List&lt;Data&gt; data) {\n        this.data = data;\n    }\n    public class Data {\n\n        @SerializedName(&quot;id&quot;)\n        @Expose\n        private Integer id;\n        @SerializedName(&quot;title&quot;)\n        @Expose\n        private String title;\n        @SerializedName(&quot;image&quot;)\n        @Expose\n        private String image;\n        @SerializedName(&quot;audio&quot;)\n        @Expose\n        private String audio;\n        @SerializedName(&quot;time&quot;)\n        @Expose\n        private String time;\n        @SerializedName(&quot;status&quot;)\n        @Expose\n        private String status;\n        @SerializedName(&quot;createdAt&quot;)\n        @Expose\n        private String createdAt;\n        @SerializedName(&quot;updatedAt&quot;)\n        @Expose\n        private String updatedAt;\n\n        public Integer getId() {\n            return id;\n        }\n\n        public void setId(Integer id) {\n            this.id = id;\n        }\n\n        public String getTitle() {\n            return title;\n        }\n\n        public void setTitle(String title) {\n            this.title = title;\n        }\n\n        public String getImage() {\n            return image;\n        }\n\n        public void setImage(String image) {\n            this.image = image;\n        }\n\n        public String getAudio() {\n            return audio;\n        }\n\n        public void setAudio(String audio) {\n            this.audio = audio;\n        }\n\n        public String getTime() {\n            return time;\n        }\n\n        public void setTime(String time) {\n            this.time = time;\n        }\n\n        public String getStatus() {\n            return status;\n        }\n\n        public void setStatus(String status) {\n            this.status = status;\n        }\n\n        public String getCreatedAt() {\n            return createdAt;\n        }\n\n        public void setCreatedAt(String createdAt) {\n            this.createdAt = createdAt;\n        }\n\n        public String getUpdatedAt() {\n            return updatedAt;\n        }\n\n        public void setUpdatedAt(String updatedAt) {\n            this.updatedAt = updatedAt;\n        }\n\n    }\n}\n</code></pre>\n<p>Json Response From API</p>\n<pre><code>{&quot;statuscode&quot;:200,&quot;status&quot;:&quot;Success&quot;,&quot;message&quot;:&quot;Music List&quot;,&quot;data&quot;:[{&quot;id&quot;:6,&quot;title&quot;:&quot;Faded&quot;,&quot;image&quot;:&quot;1156127.jpg&quot;,&quot;audio&quot;:&quot;waha.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:36:56.000Z&quot;},{&quot;id&quot;:7,&quot;title&quot;:&quot;Drive Forever&quot;,&quot;image&quot;:&quot;driveforever.jpg&quot;,&quot;audio&quot;:&quot;driveforever.mp3&quot;,&quot;time&quot;:&quot;Testing&quot;,&quot;status&quot;:&quot;Testing&quot;,&quot;createdAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;,&quot;updatedAt&quot;:&quot;2022-10-05T20:46:51.000Z&quot;}]}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","marklogic"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1496871696,"post_id":44423060,"comment_id":75844888,"body_markdown":"you should show the whole pom as Logback is still present at runtime.","body":"you should show the whole pom as Logback is still present at runtime."},{"owner":{"account_id":7647613,"reputation":557,"user_id":5797650,"accept_rate":67,"display_name":"fun_hat"},"score":0,"creation_date":1496872506,"post_id":44423060,"comment_id":75845193,"body_markdown":"@davidxxx added the pom","body":"@davidxxx added the pom"},{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":0,"creation_date":1504293115,"post_id":44423060,"comment_id":78974264,"body_markdown":"I&#39;m in a similar boat, but I&#39;m on an dated 10.3.6 version of WebLogic. Figured I&#39;d comment and see if you ever figured it out as I imagine I may end up at the same point with logging broken once I get the app to deploy","body":"I&#39;m in a similar boat, but I&#39;m on an dated 10.3.6 version of WebLogic. Figured I&#39;d comment and see if you ever figured it out as I imagine I may end up at the same point with logging broken once I get the app to deploy"},{"owner":{"account_id":5809819,"reputation":3680,"user_id":4581287,"accept_rate":51,"display_name":"Parag Kadam"},"score":0,"creation_date":1646715341,"post_id":44423060,"comment_id":126186508,"body_markdown":"So did you finally manage to fix this issue?","body":"So did you finally manage to fix this issue?"}],"answers":[{"comments":[{"owner":{"account_id":1398119,"reputation":1477,"user_id":8610216,"display_name":"shortduck"},"score":0,"creation_date":1673965048,"post_id":67418249,"comment_id":132610563,"body_markdown":"Did you mean to exclude `&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;` ?\n\nBecause for me, it was not working. So I completely removed this tag, I was able to deploy of WildFly 27.0.1.","body":"Did you mean to exclude <code>&lt;artifactId&gt;spring-boot-starter-log4j2&lt;&#47;artifactId&gt;</code> ?  Because for me, it was not working. So I completely removed this tag, I was able to deploy of WildFly 27.0.1."}],"tags":[],"owner":{"account_id":9027726,"reputation":616,"user_id":6726502,"display_name":"Dev Fh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620304442,"creation_date":1620304442,"answer_id":67418249,"question_id":44423060,"body_markdown":"I had the same issue when deploying Spring boot as a war in wildfly 23\r\n\r\nSo i resolved the issue by adding the dependencies int the below order.\r\n\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>I had the same issue when deploying Spring boot as a war in wildfly 23</p>\n<p>So i resolved the issue by adding the dependencies int the below order.</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635348584,"creation_date":1635348584,"answer_id":69741465,"question_id":44423060,"body_markdown":"Spring Boot automatically configures the Log Back library because of the web starter. You should exclude the spring-boot-starter-logging to fix the issue.\r\n\r\nTo exclude the default LogBack configuration in the maven project,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n[This][1] covers all possible solutions for both Gradle and Maven project.\r\n\r\n\r\n  [1]: https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>Spring Boot automatically configures the Log Back library because of the web starter. You should exclude the spring-boot-starter-logging to fix the issue.</p>\n<p>To exclude the default LogBack configuration in the maven project,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://tedblob.com/loggerfactory-is-not-a-logback-loggercontext-but-logback-is-on-the-classpath/\" rel=\"noreferrer\">This</a> covers all possible solutions for both Gradle and Maven project.</p>\n"},{"tags":[],"owner":{"account_id":1398119,"reputation":1477,"user_id":8610216,"display_name":"shortduck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673966089,"creation_date":1673966089,"answer_id":75148006,"question_id":44423060,"body_markdown":"For me the following solution worked on\r\n\r\nWindFly 27.0.1\r\nJDK - openjdk version &quot;17.0.5&quot; 2022-10-18 LTS\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nJava version: 17.0.5, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Amazon Corretto\\jdk17.0.5_8\r\n\r\nHere is the pom:\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nYou can remove &lt;build&gt; tag and all the test tags like - &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\r\nI am not sure that why did the deployed failed when i removed - `&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;`","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>For me the following solution worked on</p>\n<p>WindFly 27.0.1\nJDK - openjdk version &quot;17.0.5&quot; 2022-10-18 LTS\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nJava version: 17.0.5, vendor: Amazon.com Inc., runtime: C:\\Program Files\\Amazon Corretto\\jdk17.0.5_8</p>\n<p>Here is the pom:</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>You can remove  tag and all the test tags like - spring-boot-starter-test</p>\n<p>I am not sure that why did the deployed failed when i removed - <code>&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;</code></p>\n"}],"owner":{"account_id":7647613,"reputation":557,"user_id":5797650,"accept_rate":67,"display_name":"fun_hat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27743,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1673966089,"creation_date":1496870833,"question_id":44423060,"body_markdown":"I am getting the error found in the title when I try to run my project. I have read other threads on this error, and found a solution that got rid of the error, but killed all my logging. \r\n\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t&lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\r\nand \r\n\r\n    &lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n\r\nboth serve to rid me of the error and kill my logging. I would rather be able to keep my Spring-Boot logging and resolve this problem, but haven&#39;t been able to find a solution. Is there a way I can keep my current logging and resolve this dependency issue? What is the best way to track down the offending module?\r\n\r\nThe full error is:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException:\r\n&gt; LoggerFactory is not a Logback LoggerContext but Logback is on the\r\n&gt; classpath. Either remove Logback or the competing implementation\r\n&gt; (class org.slf4j.impl.Log4jLoggerFactory loaded from\r\n&gt; file:/C:/Users/me/.m2/repository/org/slf4j/slf4j-log4j12/1.6.4/slf4j-log4j12-1.6.4.jar).\r\n&gt; If you are using WebLogic you will need to add &#39;org.slf4j&#39; to\r\n&gt; prefer-application-packages in WEB-INF/weblogic.xml:\r\n&gt; org.slf4j.impl.Log4jLoggerFactory\r\n\r\n\r\nedit: the pom:\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.marklogic&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mlcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0-4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-modeler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-modeler&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-mapreduce-client-jobclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-common&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xpp3&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xpp3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jena-arq&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jena-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jena-iri&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;solr-commons-csv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.htrace&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;htrace-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.marklogic&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;marklogic-xcc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.marklogic&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;marklogic-mapreduce2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n","title":"Conflicting modules. LoggerFactory is not a Logback LoggerContext but Logback is on the classpath","body":"<p>I am getting the error found in the title when I try to run my project. I have read other threads on this error, and found a solution that got rid of the error, but killed all my logging. </p>\n\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p>both serve to rid me of the error and kill my logging. I would rather be able to keep my Spring-Boot logging and resolve this problem, but haven't been able to find a solution. Is there a way I can keep my current logging and resolve this dependency issue? What is the best way to track down the offending module?</p>\n\n<p>The full error is:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalArgumentException:\n  LoggerFactory is not a Logback LoggerContext but Logback is on the\n  classpath. Either remove Logback or the competing implementation\n  (class org.slf4j.impl.Log4jLoggerFactory loaded from\n  file:/C:/Users/me/.m2/repository/org/slf4j/slf4j-log4j12/1.6.4/slf4j-log4j12-1.6.4.jar).\n  If you are using WebLogic you will need to add 'org.slf4j' to\n  prefer-application-packages in WEB-INF/weblogic.xml:\n  org.slf4j.impl.Log4jLoggerFactory</p>\n</blockquote>\n\n<p>edit: the pom:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.marklogic&lt;/groupId&gt;\n        &lt;artifactId&gt;mlcp&lt;/artifactId&gt;\n        &lt;version&gt;8.0-4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;version&gt;1.7.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-modeler&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-modeler&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;11.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-annotations&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-auth&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-mapreduce-client-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-mapreduce-client-jobclient&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-yarn-api&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-yarn-common&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-xc&lt;/artifactId&gt;\n        &lt;version&gt;1.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.9.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xerces&lt;/groupId&gt;\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xpp3&lt;/groupId&gt;\n        &lt;artifactId&gt;xpp3&lt;/artifactId&gt;\n        &lt;version&gt;1.1.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n        &lt;artifactId&gt;jena-arq&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n        &lt;artifactId&gt;jena-core&lt;/artifactId&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jena&lt;/groupId&gt;\n        &lt;artifactId&gt;jena-iri&lt;/artifactId&gt;\n        &lt;version&gt;0.9.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n        &lt;artifactId&gt;solr-commons-csv&lt;/artifactId&gt;\n        &lt;version&gt;3.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n        &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;version&gt;1.4.01&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n        &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n        &lt;version&gt;1.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.htrace&lt;/groupId&gt;\n        &lt;artifactId&gt;htrace-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.marklogic&lt;/groupId&gt;\n        &lt;artifactId&gt;marklogic-xcc&lt;/artifactId&gt;\n        &lt;version&gt;8.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.marklogic&lt;/groupId&gt;\n        &lt;artifactId&gt;marklogic-mapreduce2&lt;/artifactId&gt;\n        &lt;version&gt;2.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9501,"page":722,"page_size":100}
