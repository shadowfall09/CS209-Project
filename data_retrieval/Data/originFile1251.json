{"items":[{"tags":["java","oop","interface"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":5,"creation_date":1638251079,"post_id":70164827,"comment_id":124032015,"body_markdown":"Like you said, it&#39;s an anonymous subclass of the interface.","body":"Like you said, it&#39;s an anonymous subclass of the interface."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1638253457,"creation_date":1638251143,"answer_id":70164875,"question_id":70164827,"body_markdown":"This:\r\n\r\n    new RetryCallback&lt;Void, RuntimeException&gt;() {\r\n        @Override\r\n        public Void doWithRetry(RetryContext arg0) {\r\n            myService.templateRetryService();\r\n            ...\r\n        }\r\n    }\r\n\r\nis an [*anonymous class*][1]. When this code is run, an object of class `MyContainingClass$1`, which implements `RetryCallback`, instantiated.\r\n\r\nWhen instantiated within an instance method, anonymous classes have an implicit reference to the `MyContainingClass` instance, which is accessed via the syntax `MyContainingClass.this`.\r\n\r\nNote that the `1` in the class name is actually `n` where the anonymous class is positioned n&lt;sup&gt;th&lt;/sup&gt; relative to all anonymous classes in the containing class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9.5","title":"Is it possible to instantiate an interface in java?","body":"<p>This:</p>\n<pre><code>new RetryCallback&lt;Void, RuntimeException&gt;() {\n    @Override\n    public Void doWithRetry(RetryContext arg0) {\n        myService.templateRetryService();\n        ...\n    }\n}\n</code></pre>\n<p>is an <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\"><em>anonymous class</em></a>. When this code is run, an object of class <code>MyContainingClass$1</code>, which implements <code>RetryCallback</code>, instantiated.</p>\n<p>When instantiated within an instance method, anonymous classes have an implicit reference to the <code>MyContainingClass</code> instance, which is accessed via the syntax <code>MyContainingClass.this</code>.</p>\n<p>Note that the <code>1</code> in the class name is actually <code>n</code> where the anonymous class is positioned n<sup>th</sup> relative to all anonymous classes in the containing class.</p>\n"},{"tags":[],"owner":{"account_id":7931461,"reputation":66,"user_id":5989155,"display_name":"Fikret"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638251256,"creation_date":1638251256,"answer_id":70164888,"question_id":70164827,"body_markdown":"its just providing a inline implementation for that interface, its not instantiating the interface. its equivalent of creating a new class a that implements RetryCallback, and passing to to execute","title":"Is it possible to instantiate an interface in java?","body":"<p>its just providing a inline implementation for that interface, its not instantiating the interface. its equivalent of creating a new class a that implements RetryCallback, and passing to to execute</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655679971,"creation_date":1655679971,"answer_id":72680885,"question_id":70164827,"body_markdown":"The question written in the title of your post:\r\n\r\n&gt; _Is it possible to instantiate an interface in java?_\r\n\r\nNo, it is not possible. From [4.12.6. Types, Classes, and Interfaces in JLS][1] (bold emphasis added by me):\r\n\r\n&gt; _Even though a variable or expression may have a compile-time type that is an interface type, **there are no instances of interfaces**. A variable or expression whose type is an interface type can reference any object whose class implements (&#167;8.1.5) that interface._\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.12.6\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html","title":"Is it possible to instantiate an interface in java?","body":"<p>The question written in the title of your post:</p>\n<blockquote>\n<p><em>Is it possible to instantiate an interface in java?</em></p>\n</blockquote>\n<p>No, it is not possible. From <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-4.html#jls-4.12.6\" rel=\"nofollow noreferrer\">4.12.6. Types, Classes, and Interfaces in JLS</a> (bold emphasis added by me):</p>\n<blockquote>\n<p><em>Even though a variable or expression may have a compile-time type that is an interface type, <strong>there are no instances of interfaces</strong>. A variable or expression whose type is an interface type can reference any object whose class implements (§8.1.5) that interface.</em></p>\n</blockquote>\n"}],"owner":{"account_id":11309917,"reputation":3024,"user_id":8293309,"display_name":"paradocslover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70164875,"answer_count":3,"score":3,"last_activity_date":1655679971,"creation_date":1638250833,"question_id":70164827,"body_markdown":"I was going through a java tutorial on Spring Retry and there I read about `RetryCallback`, which is an **interface**.\r\n\r\nIn the same tutorial, I found this chunk of code:\r\n```\r\nretryTemplate.execute(new RetryCallback&lt;Void, RuntimeException&gt;() {\r\n    @Override\r\n    public Void doWithRetry(RetryContext arg0) {\r\n        myService.templateRetryService();\r\n        ...\r\n    }\r\n});\r\n```\r\n\r\nThe way I see it, an anonymous object of `RetryCallback` is being instantiated. But then we just read **it&#39;s an interface**. \r\n\r\nCould someone explain what&#39;s happening here? \r\n\r\nAlthough not required, but just in case [here](https://www.baeldung.com/spring-retry)&#39;s a link to the tutorial","title":"Is it possible to instantiate an interface in java?","body":"<p>I was going through a java tutorial on Spring Retry and there I read about <code>RetryCallback</code>, which is an <strong>interface</strong>.</p>\n<p>In the same tutorial, I found this chunk of code:</p>\n<pre><code>retryTemplate.execute(new RetryCallback&lt;Void, RuntimeException&gt;() {\n    @Override\n    public Void doWithRetry(RetryContext arg0) {\n        myService.templateRetryService();\n        ...\n    }\n});\n</code></pre>\n<p>The way I see it, an anonymous object of <code>RetryCallback</code> is being instantiated. But then we just read <strong>it's an interface</strong>.</p>\n<p>Could someone explain what's happening here?</p>\n<p>Although not required, but just in case <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">here</a>'s a link to the tutorial</p>\n"},{"tags":["java","terminal","arguments","file-writing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655672756,"post_id":72680322,"comment_id":128381796,"body_markdown":"Open a `FileWriter` in [append mode](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.io.File,boolean))","body":"Open a <code>FileWriter</code> in <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/FileWriter.html#%3Cinit%3E(java.io.File,boolean)\" rel=\"nofollow noreferrer\">append mode</a>"},{"owner":{"account_id":24708321,"reputation":11,"user_id":18598838,"display_name":"bluesky"},"score":0,"creation_date":1655675033,"post_id":72680322,"comment_id":128382171,"body_markdown":"@g00se still does not work","body":"@g00se still does not work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1655718124,"post_id":72680322,"comment_id":128389889,"body_markdown":"See example by @Kaan but chain a `PrintWriter` to it as writing platform-specific line separators is a. maybe not a good idea and b. you just to call `println`","body":"See example by @Kaan but chain a <code>PrintWriter</code> to it as writing platform-specific line separators is a. maybe not a good idea and b. you just to call <code>println</code>"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655679058,"creation_date":1655679058,"answer_id":72680826,"question_id":72680322,"body_markdown":"In the code you posted, it&#39;s not clear what `this.commands.put()` is doing, or how that gets used later. As a guess, I suppose you&#39;re building a command to run later, and you aren&#39;t seeing expected results. It&#39;s also not clear what happens if any exceptions are thrown, which code gets a chance to catch any exceptions? Also, have you verified that `a.getBytes()` returns non-empty result? If `a` is empty to begin with, nothing will be written to a file.\r\n\r\nFor the goal itself –&#160;_&quot;append a new line into an existing text file from my terminal&quot;_ – here&#39;s a very simple example showing how that could work. It takes all input arguments (whatever makes it through to `String[] args`) and writes each string to an output file at `/tmp/file.txt`, with each string followed by a newline (`\\n`).\r\n\r\nAlso, this example uses `FileWriter` based on the following from [Javadoc for `FileOutputStream`][1]:\r\n\r\n&gt; _&quot;FileOutputStream is meant for writing streams of raw bytes such as image data. For writing streams of characters, consider using FileWriter.&quot;_\r\n\r\nHere is an example of writing to a file using `FileWriter`. Again, it&#39;s a bit different from your exact question –&#160;I&#39;m not breaking the command-line input looking for &quot;-a&quot; things. Instead, this focuses on the basic mechanics of writing to a file using command-line parameters.\r\n```\r\nimport java.io.*;\r\n\r\npublic class WriteToFile {\r\n    public static void main(String[] args) {\r\n        try (FileWriter writer = new FileWriter(&quot;/tmp/file.txt&quot;, true)) {\r\n            for (String arg : args) {\r\n                writer.write(arg + &quot;\\n&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is a run with output:\r\n```\r\n% java WriteToFile.java one two three\r\n% cat /tmp/file.txt        \r\none\r\ntwo\r\nthree\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html","title":"Append new line with arguments","body":"<p>In the code you posted, it's not clear what <code>this.commands.put()</code> is doing, or how that gets used later. As a guess, I suppose you're building a command to run later, and you aren't seeing expected results. It's also not clear what happens if any exceptions are thrown, which code gets a chance to catch any exceptions? Also, have you verified that <code>a.getBytes()</code> returns non-empty result? If <code>a</code> is empty to begin with, nothing will be written to a file.</p>\n<p>For the goal itself – <em>&quot;append a new line into an existing text file from my terminal&quot;</em> – here's a very simple example showing how that could work. It takes all input arguments (whatever makes it through to <code>String[] args</code>) and writes each string to an output file at <code>/tmp/file.txt</code>, with each string followed by a newline (<code>\\n</code>).</p>\n<p>Also, this example uses <code>FileWriter</code> based on the following from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\">Javadoc for <code>FileOutputStream</code></a>:</p>\n<blockquote>\n<p><em>&quot;FileOutputStream is meant for writing streams of raw bytes such as image data. For writing streams of characters, consider using FileWriter.&quot;</em></p>\n</blockquote>\n<p>Here is an example of writing to a file using <code>FileWriter</code>. Again, it's a bit different from your exact question – I'm not breaking the command-line input looking for &quot;-a&quot; things. Instead, this focuses on the basic mechanics of writing to a file using command-line parameters.</p>\n<pre><code>import java.io.*;\n\npublic class WriteToFile {\n    public static void main(String[] args) {\n        try (FileWriter writer = new FileWriter(&quot;/tmp/file.txt&quot;, true)) {\n            for (String arg : args) {\n                writer.write(arg + &quot;\\n&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here is a run with output:</p>\n<pre><code>% java WriteToFile.java one two three\n% cat /tmp/file.txt        \none\ntwo\nthree\n</code></pre>\n"}],"owner":{"account_id":24708321,"reputation":11,"user_id":18598838,"display_name":"bluesky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655679058,"creation_date":1655672483,"question_id":72680322,"body_markdown":"My task is to append a new line into an existing text file from my terminal.\r\n\r\n    this.commands.put(&quot;-a&quot; + &#39; &#39; + a, (args) -&gt; {\r\n            FileOutputStream fileOutputStream = null;\r\n            try{\r\n                fileOutputStream = new FileOutputStream(String.valueOf(taskFilePath), true);\r\n                byte[] byteArray = a.getBytes();\r\n\r\n                fileOutputStream.write(byteArray);\r\n            }\r\n            finally {\r\n                fileOutputStream.close();\r\n            }\r\n\r\n            return &quot;&quot;&quot;\r\n                    &quot;&quot;&quot; ;\r\n\r\nWhen I write in the terminal it should work like this: \r\njava filename -a &quot;some words&quot;\r\n...and it should append those after -a to my txt but I can&#39;t figure it out..(filename isn&#39;t the problem)\r\n\r\n\r\n","title":"Append new line with arguments","body":"<p>My task is to append a new line into an existing text file from my terminal.</p>\n<pre><code>this.commands.put(&quot;-a&quot; + ' ' + a, (args) -&gt; {\n        FileOutputStream fileOutputStream = null;\n        try{\n            fileOutputStream = new FileOutputStream(String.valueOf(taskFilePath), true);\n            byte[] byteArray = a.getBytes();\n\n            fileOutputStream.write(byteArray);\n        }\n        finally {\n            fileOutputStream.close();\n        }\n\n        return &quot;&quot;&quot;\n                &quot;&quot;&quot; ;\n</code></pre>\n<p>When I write in the terminal it should work like this:\njava filename -a &quot;some words&quot;\n...and it should append those after -a to my txt but I can't figure it out..(filename isn't the problem)</p>\n"},{"tags":["java","android","kotlin","android-edittext"],"answers":[{"tags":[],"owner":{"account_id":25456320,"reputation":1,"user_id":19256893,"display_name":"sowinskidev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655678095,"creation_date":1655677900,"answer_id":72680737,"question_id":72680381,"body_markdown":"I was able to come up with an answer based on other implementations found. It&#39;s not very elegant but it does the job.\r\n\r\n    override fun dispatchTouchEvent(event: MotionEvent): Boolean {\r\n        if (event.action == MotionEvent.ACTION_DOWN) {\r\n            val v = currentFocus\r\n            if (v is EditText) {\r\n                val outRect = Rect()\r\n                v.getGlobalVisibleRect(outRect)\r\n                val x = event.rawX.toInt()\r\n                val y = event.rawY.toInt()\r\n                if (!outRect.contains(x, y)) {\r\n                    v.clearFocus()\r\n                    val et1: EditText? = findViewById(R.id.edittext1)\r\n                    val et2: EditText? = findViewById(R.id.edittext2)\r\n                    val rect1 = Rect()\r\n                    val rect2 = Rect()\r\n                    val location1 = IntArray(2)\r\n                    val location2 = IntArray(2)\r\n                    et1!!.getLocationOnScreen(location1)\r\n                    rect1.left = location1[0]\r\n                    rect1.top = location1[1]\r\n                    rect1.right = location1[0] + et1.width\r\n                    rect1.bottom = location1[1] + et1.height\r\n                    et2!!.getLocationOnScreen(location2)\r\n                    rect2.left = location2[0]\r\n                    rect2.top = location2[1]\r\n                    rect2.right = location2[0] + et2.width\r\n                    rect2.bottom = location2[1] + et2.height\r\n                    if ((!rect1.contains(x, y)) &amp;&amp; (!rect2.contains(x, y))) {\r\n                        val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n                        imm.hideSoftInputFromWindow(v.getWindowToken(), 0)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return super.dispatchTouchEvent(event)","title":"How to make the soft keyboard hide when clicked outside of the focused EditText BUT not if another EditText is clicked?","body":"<p>I was able to come up with an answer based on other implementations found. It's not very elegant but it does the job.</p>\n<pre><code>override fun dispatchTouchEvent(event: MotionEvent): Boolean {\n    if (event.action == MotionEvent.ACTION_DOWN) {\n        val v = currentFocus\n        if (v is EditText) {\n            val outRect = Rect()\n            v.getGlobalVisibleRect(outRect)\n            val x = event.rawX.toInt()\n            val y = event.rawY.toInt()\n            if (!outRect.contains(x, y)) {\n                v.clearFocus()\n                val et1: EditText? = findViewById(R.id.edittext1)\n                val et2: EditText? = findViewById(R.id.edittext2)\n                val rect1 = Rect()\n                val rect2 = Rect()\n                val location1 = IntArray(2)\n                val location2 = IntArray(2)\n                et1!!.getLocationOnScreen(location1)\n                rect1.left = location1[0]\n                rect1.top = location1[1]\n                rect1.right = location1[0] + et1.width\n                rect1.bottom = location1[1] + et1.height\n                et2!!.getLocationOnScreen(location2)\n                rect2.left = location2[0]\n                rect2.top = location2[1]\n                rect2.right = location2[0] + et2.width\n                rect2.bottom = location2[1] + et2.height\n                if ((!rect1.contains(x, y)) &amp;&amp; (!rect2.contains(x, y))) {\n                    val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n                    imm.hideSoftInputFromWindow(v.getWindowToken(), 0)\n                }\n            }\n        }\n    }\n    return super.dispatchTouchEvent(event)\n</code></pre>\n"}],"owner":{"account_id":25456320,"reputation":1,"user_id":19256893,"display_name":"sowinskidev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655678095,"creation_date":1655673270,"question_id":72680381,"body_markdown":"I want the focused EditText to lose its focus and the soft keyboard to hide when clicked outside the EditText box BUT only when another EditText is not clicked, so these are the scenarios:\r\n\r\n1. The EditText is focused, another EditText is clicked - lose first EditText&#39;s focus BUT don&#39;t hide the soft keyboard as another EditText&#39;s focus is requested.\r\n2. The EditText is focused, some other part of the Layout is clicked - lose EditText&#39;s focus AND hide the soft keyboard as none of the EditTexts is focused.\r\n\r\nRight now my implementation looks like this.\r\n\r\nFocusChangeListeners:\r\n\r\n        edittext1.setOnFocusChangeListener(object : View.OnFocusChangeListener {\r\n            override fun onFocusChange(v: View?, hasFocus: Boolean) {\r\n                if (!hasFocus) {\r\n                    edittext1.clearFocus()\r\n                }\r\n            }\r\n        })\r\n\r\n        edittext2.setOnFocusChangeListener(object : View.OnFocusChangeListener {\r\n            override fun onFocusChange(v: View?, hasFocus: Boolean) {\r\n                if (!hasFocus) {\r\n                    edittext2.clearFocus()\r\n                }\r\n            }\r\n        })\r\n\r\nDispatchTouchEvent:\r\n\r\n    override fun dispatchTouchEvent(event: MotionEvent): Boolean {\r\n        if (event.action == MotionEvent.ACTION_DOWN) {\r\n            val v = currentFocus\r\n            if (v is EditText) {\r\n                val outRect = Rect()\r\n                v.getGlobalVisibleRect(outRect)\r\n                if (!outRect.contains(event.rawX.toInt(), event.rawY.toInt())) {\r\n                    v.clearFocus()\r\n                    // if not another EditText clicked, hide keyboard\r\n                    val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n                    imm.hideSoftInputFromWindow(v.getWindowToken(), 0)\r\n                }\r\n            }\r\n        }\r\n        return super.dispatchTouchEvent(event)\r\n    }\r\n\r\nThe problem I have is that it is only checked if the click was outside of the EditText&#39;s box so the soft keyboard is being hidden even if the other EditText is focused with the click. What is the solution to overcome this issue? ","title":"How to make the soft keyboard hide when clicked outside of the focused EditText BUT not if another EditText is clicked?","body":"<p>I want the focused EditText to lose its focus and the soft keyboard to hide when clicked outside the EditText box BUT only when another EditText is not clicked, so these are the scenarios:</p>\n<ol>\n<li>The EditText is focused, another EditText is clicked - lose first EditText's focus BUT don't hide the soft keyboard as another EditText's focus is requested.</li>\n<li>The EditText is focused, some other part of the Layout is clicked - lose EditText's focus AND hide the soft keyboard as none of the EditTexts is focused.</li>\n</ol>\n<p>Right now my implementation looks like this.</p>\n<p>FocusChangeListeners:</p>\n<pre><code>    edittext1.setOnFocusChangeListener(object : View.OnFocusChangeListener {\n        override fun onFocusChange(v: View?, hasFocus: Boolean) {\n            if (!hasFocus) {\n                edittext1.clearFocus()\n            }\n        }\n    })\n\n    edittext2.setOnFocusChangeListener(object : View.OnFocusChangeListener {\n        override fun onFocusChange(v: View?, hasFocus: Boolean) {\n            if (!hasFocus) {\n                edittext2.clearFocus()\n            }\n        }\n    })\n</code></pre>\n<p>DispatchTouchEvent:</p>\n<pre><code>override fun dispatchTouchEvent(event: MotionEvent): Boolean {\n    if (event.action == MotionEvent.ACTION_DOWN) {\n        val v = currentFocus\n        if (v is EditText) {\n            val outRect = Rect()\n            v.getGlobalVisibleRect(outRect)\n            if (!outRect.contains(event.rawX.toInt(), event.rawY.toInt())) {\n                v.clearFocus()\n                // if not another EditText clicked, hide keyboard\n                val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n                imm.hideSoftInputFromWindow(v.getWindowToken(), 0)\n            }\n        }\n    }\n    return super.dispatchTouchEvent(event)\n}\n</code></pre>\n<p>The problem I have is that it is only checked if the click was outside of the EditText's box so the soft keyboard is being hidden even if the other EditText is focused with the click. What is the solution to overcome this issue?</p>\n"},{"tags":["java","spring-boot","spring-cloud-netflix"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1599186691,"post_id":63732640,"comment_id":112702621,"body_markdown":"Does this answer your question? [Is there a compatibility matrix of Spring-boot and Spring-cloud?](https://stackoverflow.com/questions/42659920/is-there-a-compatibility-matrix-of-spring-boot-and-spring-cloud)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42659920/is-there-a-compatibility-matrix-of-spring-boot-and-spring-cloud\">Is there a compatibility matrix of Spring-boot and Spring-cloud?</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1599186932,"post_id":63732640,"comment_id":112702661,"body_markdown":"It looks like you are using an incompatible version of spring cloud for the spring boot version. Your dependencies show cloud `2.1.0`, but from what you likely need `2.2.0` or newer to be compatible with spring boot `2.3.3`. Specifically, you need the Hoxton releases https://spring.io/blog/2019/11/28/spring-cloud-hoxton-released","body":"It looks like you are using an incompatible version of spring cloud for the spring boot version. Your dependencies show cloud <code>2.1.0</code>, but from what you likely need <code>2.2.0</code> or newer to be compatible with spring boot <code>2.3.3</code>. Specifically, you need the Hoxton releases <a href=\"https://spring.io/blog/2019/11/28/spring-cloud-hoxton-released\" rel=\"nofollow noreferrer\">spring.io/blog/2019/11/28/spring-cloud-hoxton-released</a>"}],"answers":[{"tags":[],"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655677352,"creation_date":1655386525,"answer_id":72646785,"question_id":63732640,"body_markdown":"I tried many solutions:\r\n\r\n* Adjusted maven pom with `freemarker` exclusions and adding explicitly `spring-context-support`.\r\n* Added `spring.freemarker.check-template-location: false`\r\n* Added `spring.freemarker.enabled: false`\r\n\r\nand none of these combinations were working for me, at every start of my Spring-Boot App I got the same error you mentioned.\r\n\r\nFinally I found that just re-defining the suffix with: \r\n\r\n    spring\r\n      freemarker:\r\n        suffix: .ftl\r\n\r\nand setting up:\r\n\r\n    @EnableAutoConfiguration(exclude = {FreeMarkerAutoConfiguration.class})\r\n\r\nin my `AppConfig` class (the Class which contains the `@Configuration` annotation), my App is starting after that change.\r\n\r\nI have to mention that I use Freemarker without template stored in my App but just using it as a runtime dependency (my Freemarker templates are just texts (Java String) passed in my Class Methods), then I don&#39;t really care about the file extensions. I do not want to use the Freemarker auto-configure and I just added the dependency explicitly:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${freemarker.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"NoSuchFieldError: DEFAULT_INCOMPATIBLE_IMPROVEMENTS","body":"<p>I tried many solutions:</p>\n<ul>\n<li>Adjusted maven pom with <code>freemarker</code> exclusions and adding explicitly <code>spring-context-support</code>.</li>\n<li>Added <code>spring.freemarker.check-template-location: false</code></li>\n<li>Added <code>spring.freemarker.enabled: false</code></li>\n</ul>\n<p>and none of these combinations were working for me, at every start of my Spring-Boot App I got the same error you mentioned.</p>\n<p>Finally I found that just re-defining the suffix with:</p>\n<pre><code>spring\n  freemarker:\n    suffix: .ftl\n</code></pre>\n<p>and setting up:</p>\n<pre><code>@EnableAutoConfiguration(exclude = {FreeMarkerAutoConfiguration.class})\n</code></pre>\n<p>in my <code>AppConfig</code> class (the Class which contains the <code>@Configuration</code> annotation), my App is starting after that change.</p>\n<p>I have to mention that I use Freemarker without template stored in my App but just using it as a runtime dependency (my Freemarker templates are just texts (Java String) passed in my Class Methods), then I don't really care about the file extensions. I do not want to use the Freemarker auto-configure and I just added the dependency explicitly:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n    &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;version&gt;${freemarker.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19078570,"reputation":11,"user_id":13931325,"display_name":"Ascii Bhatt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1655677352,"creation_date":1599173388,"question_id":63732640,"body_markdown":"While trying out Netflix hystrix on Spring boot 2.3.3 gives the following error - \r\n...\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;freeMarkerConfigurer&#39; defined in org.springframework.cloud.netflix.hystrix.dashboard.HystrixDashboardConfiguration: Invocation of init method failed; nested exception is java.lang.NoSuchFieldError: DEFAULT_INCOMPATIBLE_IMPROVEMENTS\r\n\r\n\r\nMain SimpleClientApplication.java has following annotation\r\n\r\n    @SpringBootApplication\r\n    @EnableCircuitBreaker\r\n    @EnableHystrixDashboard\r\n\r\n\r\nProductListController.java\r\n...\r\n\r\n    @RestController\r\n    @EnableAutoConfiguration(exclude = { FreeMarkerAutoConfiguration.class })\r\n    public class ProductListController {\r\n    \r\n        @GetMapping\r\n        @HystrixCommand(fallbackMethod = &quot;defaultProducts&quot;)\r\n        public List&lt;String&gt; cloudProductList() {\r\n    \r\n            RestTemplate restTemplate = new RestTemplate();\r\n            URI uri = URI.create(&quot;http://localhost:8090/products&quot;);\r\n    \r\n            return restTemplate.getForObject(uri, List.class);\r\n        }\r\n    \r\n        public List&lt;String&gt; defaultProducts() {\r\n            return Arrays.asList(&quot;Spring Cloud&quot;);\r\n        }\r\n    }\r\n\r\npom.xml\r\n...\r\n\r\n   \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n   &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.demo&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;simple-client-application&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;name&gt;simple-client-application&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;14&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Hoxton.SR8&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;freemarker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-netflix-hystrix&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.9.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"NoSuchFieldError: DEFAULT_INCOMPATIBLE_IMPROVEMENTS","body":"<p>While trying out Netflix hystrix on Spring boot 2.3.3 gives the following error -\n...</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'freeMarkerConfigurer' defined in org.springframework.cloud.netflix.hystrix.dashboard.HystrixDashboardConfiguration: Invocation of init method failed; nested exception is java.lang.NoSuchFieldError: DEFAULT_INCOMPATIBLE_IMPROVEMENTS\n</code></pre>\n<p>Main SimpleClientApplication.java has following annotation</p>\n<pre><code>@SpringBootApplication\n@EnableCircuitBreaker\n@EnableHystrixDashboard\n</code></pre>\n<p>ProductListController.java\n...</p>\n<pre><code>@RestController\n@EnableAutoConfiguration(exclude = { FreeMarkerAutoConfiguration.class })\npublic class ProductListController {\n\n    @GetMapping\n    @HystrixCommand(fallbackMethod = &quot;defaultProducts&quot;)\n    public List&lt;String&gt; cloudProductList() {\n\n        RestTemplate restTemplate = new RestTemplate();\n        URI uri = URI.create(&quot;http://localhost:8090/products&quot;);\n\n        return restTemplate.getForObject(uri, List.class);\n    }\n\n    public List&lt;String&gt; defaultProducts() {\n        return Arrays.asList(&quot;Spring Cloud&quot;);\n    }\n}\n</code></pre>\n<p>pom.xml\n...</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.3.RELEASE\n\ncom.demo\nsimple-client-application\n1.0\nsimple-client-application\nDemo project for Spring Boot</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;14&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR8&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n            &lt;version&gt;2.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-netflix-hystrix&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n            &lt;version&gt;2.3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","image","jpeg","exif"],"answers":[{"tags":[],"owner":{"account_id":3478854,"reputation":549,"user_id":2911436,"display_name":"John"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461689985,"creation_date":1461689985,"answer_id":36871252,"question_id":36868013,"body_markdown":"Would an example like &lt;a href=&quot;https://commons.apache.org/proper/commons-imaging/xref-test/org/apache/commons/imaging/examples/WriteExifMetadataExample.html&quot;&gt; this work for you?&lt;/a&gt;\r\n\r\nI&#39;d assume using packages like org.apache.commons.imaging.util.IoUtils and import org.apache.commons.imaging.Imaging would be of great help to you here. ","title":"Editing jpeg EXIF data with Java","body":"<p>Would an example like <a href=\"https://commons.apache.org/proper/commons-imaging/xref-test/org/apache/commons/imaging/examples/WriteExifMetadataExample.html\" rel=\"nofollow\"> this work for you?</a></p>\n\n<p>I'd assume using packages like org.apache.commons.imaging.util.IoUtils and import org.apache.commons.imaging.Imaging would be of great help to you here. </p>\n"},{"tags":[],"owner":{"account_id":183249,"reputation":1512,"user_id":418516,"accept_rate":50,"display_name":"yurko"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1593389920,"creation_date":1461698356,"answer_id":36873897,"question_id":36868013,"body_markdown":"Apache commons Imaging works for me.\r\n\r\nI have extended the sample provided [here][1] \r\n\r\nSo obviously my client code looks like this \r\n\r\n    public static void main(String[] args) throws ImageWriteException, ImageReadException, IOException {\r\n        new WriteExifMetadataExample().changeExifMetadata(new File(&quot;somefilename.jpg&quot;), new File(&quot;result_file.jpg&quot;));\r\n    }\r\n\r\nand the extended method in WriteExifMetadataExample\r\n\r\n    public void changeExifMetadata(final File jpegImageFile, final File dst)\r\n            throws IOException, ImageReadException, ImageWriteException {\r\n        OutputStream os = null;\r\n        boolean canThrow = false;\r\n        try {\r\n            TiffOutputSet outputSet = null;\r\n\r\n            // note that metadata might be null if no metadata is found.\r\n            final ImageMetadata metadata = Imaging.getMetadata(jpegImageFile);\r\n            final JpegImageMetadata jpegMetadata = (JpegImageMetadata) metadata;\r\n            if (null != jpegMetadata) {\r\n                // note that exif might be null if no Exif metadata is found.\r\n                final TiffImageMetadata exif = jpegMetadata.getExif();\r\n\r\n                if (null != exif) {\r\n                    // TiffImageMetadata class is immutable (read-only).\r\n                    // TiffOutputSet class represents the Exif data to write.\r\n                    //\r\n                    // Usually, we want to update existing Exif metadata by\r\n                    // changing\r\n                    // the values of a few fields, or adding a field.\r\n                    // In these cases, it is easiest to use getOutputSet() to\r\n                    // start with a &quot;copy&quot; of the fields read from the image.\r\n                    outputSet = exif.getOutputSet();\r\n                }\r\n            }\r\n\r\n            // if file does not contain any exif metadata, we create an empty\r\n            // set of exif metadata. Otherwise, we keep all of the other\r\n            // existing tags.\r\n            if (null == outputSet) {\r\n                outputSet = new TiffOutputSet();\r\n            }\r\n\r\n            {\r\n                // Example of how to add a field/tag to the output set.\r\n                //\r\n                // Note that you should first remove the field/tag if it already\r\n                // exists in this directory, or you may end up with duplicate\r\n                // tags. See above.\r\n                //\r\n                // Certain fields/tags are expected in certain Exif directories;\r\n                // Others can occur in more than one directory (and often have a\r\n                // different meaning in different directories).\r\n                //\r\n                // TagInfo constants often contain a description of what\r\n                // directories are associated with a given tag.\r\n                //\r\n                final TiffOutputDirectory exifDirectory = outputSet\r\n                        .getOrCreateExifDirectory();\r\n                // make sure to remove old value if present (this method will\r\n                // not fail if the tag does not exist).\r\n                exifDirectory\r\n                        .removeField(ExifTagConstants.EXIF_TAG_APERTURE_VALUE);\r\n                exifDirectory.add(ExifTagConstants.EXIF_TAG_APERTURE_VALUE,\r\n                        new RationalNumber(3, 10));\r\n            }\r\n\r\n            {\r\n                // Example of how to add/update GPS info to output set.\r\n\r\n                // New York City\r\n                final double longitude = -74.0; // 74 degrees W (in Degrees East)\r\n                final double latitude = 40 + 43 / 60.0; // 40 degrees N (in Degrees\r\n                // North)\r\n\r\n                outputSet.setGPSInDegrees(longitude, latitude);\r\n            }\r\n\r\n\r\n\r\n            final TiffOutputDirectory exifDirectory = outputSet\r\n                    .getOrCreateRootDirectory();\r\n            exifDirectory\r\n                    .removeField(ExifTagConstants.EXIF_TAG_SOFTWARE);\r\n            exifDirectory.add(ExifTagConstants.EXIF_TAG_SOFTWARE,\r\n                    &quot;SomeKind&quot;);\r\n\r\n            os = new FileOutputStream(dst);\r\n            os = new BufferedOutputStream(os);\r\n\r\n            new ExifRewriter().updateExifMetadataLossless(jpegImageFile, os,\r\n                    outputSet);\r\n\r\n            canThrow = true;\r\n        } finally {\r\n            IoUtils.closeQuietly(canThrow, os);\r\n        }\r\n    }\r\n\r\nPlease pay attention only to line where I add additional tag\r\n\r\n    final TiffOutputDirectory exifDirectory = outputSet\r\n                    .getOrCreateRootDirectory();\r\n            exifDirectory\r\n                    .removeField(ExifTagConstants.EXIF_TAG_SOFTWARE);\r\n            exifDirectory.add(ExifTagConstants.EXIF_TAG_SOFTWARE,\r\n                    &quot;SomeKind&quot;);\r\n\r\nas a result EXIF tag was properly added\r\n\r\n[![enter image description here][2]][2]\r\n \r\n-----\r\n\r\nTo change the comments tag you can do the following\r\n\r\n            final TiffOutputDirectory exifDirectory = outputSet.getOrCreateRootDirectory();\r\n            exifDirectory.removeField(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT);\r\n            exifDirectory.add(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT, &quot;SomeKind&quot;);\r\n\r\n\r\nthe full list of available constants is in the package:\r\n\r\n    org.apache.commons.imaging.formats.tiff.constants\r\n\r\n[![enter image description here][3]][3]\r\n\r\n \r\n\r\n\r\n  \r\n\r\n  [1]: https://github.com/apache/commons-imaging/blob/master/src/test/java/org/apache/commons/imaging/examples/WriteExifMetadataExample.java\r\n  [2]: http://i.stack.imgur.com/Bf3zX.png\r\n  [3]: http://i.stack.imgur.com/yLyDe.png","title":"Editing jpeg EXIF data with Java","body":"<p>Apache commons Imaging works for me.</p>\n<p>I have extended the sample provided <a href=\"https://github.com/apache/commons-imaging/blob/master/src/test/java/org/apache/commons/imaging/examples/WriteExifMetadataExample.java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>So obviously my client code looks like this</p>\n<pre><code>public static void main(String[] args) throws ImageWriteException, ImageReadException, IOException {\n    new WriteExifMetadataExample().changeExifMetadata(new File(&quot;somefilename.jpg&quot;), new File(&quot;result_file.jpg&quot;));\n}\n</code></pre>\n<p>and the extended method in WriteExifMetadataExample</p>\n<pre><code>public void changeExifMetadata(final File jpegImageFile, final File dst)\n        throws IOException, ImageReadException, ImageWriteException {\n    OutputStream os = null;\n    boolean canThrow = false;\n    try {\n        TiffOutputSet outputSet = null;\n\n        // note that metadata might be null if no metadata is found.\n        final ImageMetadata metadata = Imaging.getMetadata(jpegImageFile);\n        final JpegImageMetadata jpegMetadata = (JpegImageMetadata) metadata;\n        if (null != jpegMetadata) {\n            // note that exif might be null if no Exif metadata is found.\n            final TiffImageMetadata exif = jpegMetadata.getExif();\n\n            if (null != exif) {\n                // TiffImageMetadata class is immutable (read-only).\n                // TiffOutputSet class represents the Exif data to write.\n                //\n                // Usually, we want to update existing Exif metadata by\n                // changing\n                // the values of a few fields, or adding a field.\n                // In these cases, it is easiest to use getOutputSet() to\n                // start with a &quot;copy&quot; of the fields read from the image.\n                outputSet = exif.getOutputSet();\n            }\n        }\n\n        // if file does not contain any exif metadata, we create an empty\n        // set of exif metadata. Otherwise, we keep all of the other\n        // existing tags.\n        if (null == outputSet) {\n            outputSet = new TiffOutputSet();\n        }\n\n        {\n            // Example of how to add a field/tag to the output set.\n            //\n            // Note that you should first remove the field/tag if it already\n            // exists in this directory, or you may end up with duplicate\n            // tags. See above.\n            //\n            // Certain fields/tags are expected in certain Exif directories;\n            // Others can occur in more than one directory (and often have a\n            // different meaning in different directories).\n            //\n            // TagInfo constants often contain a description of what\n            // directories are associated with a given tag.\n            //\n            final TiffOutputDirectory exifDirectory = outputSet\n                    .getOrCreateExifDirectory();\n            // make sure to remove old value if present (this method will\n            // not fail if the tag does not exist).\n            exifDirectory\n                    .removeField(ExifTagConstants.EXIF_TAG_APERTURE_VALUE);\n            exifDirectory.add(ExifTagConstants.EXIF_TAG_APERTURE_VALUE,\n                    new RationalNumber(3, 10));\n        }\n\n        {\n            // Example of how to add/update GPS info to output set.\n\n            // New York City\n            final double longitude = -74.0; // 74 degrees W (in Degrees East)\n            final double latitude = 40 + 43 / 60.0; // 40 degrees N (in Degrees\n            // North)\n\n            outputSet.setGPSInDegrees(longitude, latitude);\n        }\n\n\n\n        final TiffOutputDirectory exifDirectory = outputSet\n                .getOrCreateRootDirectory();\n        exifDirectory\n                .removeField(ExifTagConstants.EXIF_TAG_SOFTWARE);\n        exifDirectory.add(ExifTagConstants.EXIF_TAG_SOFTWARE,\n                &quot;SomeKind&quot;);\n\n        os = new FileOutputStream(dst);\n        os = new BufferedOutputStream(os);\n\n        new ExifRewriter().updateExifMetadataLossless(jpegImageFile, os,\n                outputSet);\n\n        canThrow = true;\n    } finally {\n        IoUtils.closeQuietly(canThrow, os);\n    }\n}\n</code></pre>\n<p>Please pay attention only to line where I add additional tag</p>\n<pre><code>final TiffOutputDirectory exifDirectory = outputSet\n                .getOrCreateRootDirectory();\n        exifDirectory\n                .removeField(ExifTagConstants.EXIF_TAG_SOFTWARE);\n        exifDirectory.add(ExifTagConstants.EXIF_TAG_SOFTWARE,\n                &quot;SomeKind&quot;);\n</code></pre>\n<p>as a result EXIF tag was properly added</p>\n<p><a href=\"https://i.stack.imgur.com/Bf3zX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bf3zX.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>To change the comments tag you can do the following</p>\n<pre><code>        final TiffOutputDirectory exifDirectory = outputSet.getOrCreateRootDirectory();\n        exifDirectory.removeField(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT);\n        exifDirectory.add(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT, &quot;SomeKind&quot;);\n</code></pre>\n<p>the full list of available constants is in the package:</p>\n<pre><code>org.apache.commons.imaging.formats.tiff.constants\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yLyDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yLyDe.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":183249,"reputation":1512,"user_id":418516,"accept_rate":50,"display_name":"yurko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461750489,"creation_date":1461750489,"answer_id":36886183,"question_id":36868013,"body_markdown":"To change the comments tag you can do the following\r\n\r\n            final TiffOutputDirectory exifDirectory = outputSet.getOrCreateRootDirectory();\r\n            exifDirectory.removeField(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT);\r\n            exifDirectory.add(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT, &quot;SomeKind&quot;);\r\n\r\n\r\nthe full list of available constants is in the package:\r\n\r\n    org.apache.commons.imaging.formats.tiff.constants\r\n\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yLyDe.png","title":"Editing jpeg EXIF data with Java","body":"<p>To change the comments tag you can do the following</p>\n\n<pre><code>        final TiffOutputDirectory exifDirectory = outputSet.getOrCreateRootDirectory();\n        exifDirectory.removeField(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT);\n        exifDirectory.add(MicrosoftTagConstants.EXIF_TAG_XPCOMMENT, \"SomeKind\");\n</code></pre>\n\n<p>the full list of available constants is in the package:</p>\n\n<pre><code>org.apache.commons.imaging.formats.tiff.constants\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yLyDe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yLyDe.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":25595254,"reputation":1,"user_id":19371196,"display_name":"Jam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655676823,"creation_date":1655676714,"answer_id":72680665,"question_id":36868013,"body_markdown":"You need to use Microsoft tag constraints to edit tags","title":"Editing jpeg EXIF data with Java","body":"<p>You need to use Microsoft tag constraints to edit tags</p>\n"}],"owner":{"account_id":1875952,"reputation":344,"user_id":1697165,"accept_rate":60,"display_name":"Null Pointer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23510,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":36873897,"answer_count":4,"score":9,"last_activity_date":1655676823,"creation_date":1461681148,"question_id":36868013,"body_markdown":"I want to edit jpg files&#39; properties like: comments, title, date taken, camera maker, etc.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have found libraries to read these data. But I need a **free** library with examples to **edit** them. \r\n\r\nI&#39;m aware of apache&#39;s imaging (sanselan). But I was not able to edit data with it. If you have previously used it yourself, I&#39;d accept that as an answer only if you provide an example code other than the one in their website. Because even when I use their example I was not able to edit any property other than GPS data. After i run the code, file-properties-details still have the same values.\r\n\r\nThanks !\r\n\r\nNote: I also tried JHeader (https://sourceforge.net/projects/jheader/) but using it as a process with -cl option still did not changed properties list.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/SE1i9.jpg","title":"Editing jpeg EXIF data with Java","body":"<p>I want to edit jpg files' properties like: comments, title, date taken, camera maker, etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SE1i9.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SE1i9.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have found libraries to read these data. But I need a <strong>free</strong> library with examples to <strong>edit</strong> them. </p>\n\n<p>I'm aware of apache's imaging (sanselan). But I was not able to edit data with it. If you have previously used it yourself, I'd accept that as an answer only if you provide an example code other than the one in their website. Because even when I use their example I was not able to edit any property other than GPS data. After i run the code, file-properties-details still have the same values.</p>\n\n<p>Thanks !</p>\n\n<p>Note: I also tried JHeader (<a href=\"https://sourceforge.net/projects/jheader/\" rel=\"noreferrer\">https://sourceforge.net/projects/jheader/</a>) but using it as a process with -cl option still did not changed properties list.</p>\n"},{"tags":["java","android","parcelfiledescriptor"],"owner":{"account_id":5098102,"reputation":368,"user_id":5266667,"display_name":"falero80s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655676462,"creation_date":1652567418,"question_id":72244287,"body_markdown":"Phone&#39;s File manager shows the size of a randomly selected image as 7.09 MB.\r\nAndroid&#39;s ParcelFileDescriptor&#39;s  getStatSize() method returns 7093426 bytes. This number is exactly equal to 7.09 something when you divide by 1,000,000, not 1,048,576. \r\n\r\n    ParcelFileDescriptor pfd = this.getApplicationContext()\r\n    .getContentResolver()\r\n    .openFileDescriptor(a_valid_uri, &quot;r&quot;);\r\n    long size = pfd.getStatSize(); // this returns file size and equals 7093426\r\n\r\nWhy in the world would Google want to return the file size in MB as in the Base10 one instead of the MiB - Base2 style, when the Android developers have to deal with the MiB style format 1024, 2048 etc?\r\n\r\nEven though the conversion is simple, isn&#39;t this extra headache to convert this for byte buffers that depend on Base2 format for our Buffered input/output since the software Input/output stream knows to read/write in Base2 style only?","title":"Just curious - ParcelFileDescriptor&#39;s getStatSize() returns file size in MB not MiB, why is Google making this complicated?","body":"<p>Phone's File manager shows the size of a randomly selected image as 7.09 MB.\nAndroid's ParcelFileDescriptor's  getStatSize() method returns 7093426 bytes. This number is exactly equal to 7.09 something when you divide by 1,000,000, not 1,048,576.</p>\n<pre><code>ParcelFileDescriptor pfd = this.getApplicationContext()\n.getContentResolver()\n.openFileDescriptor(a_valid_uri, &quot;r&quot;);\nlong size = pfd.getStatSize(); // this returns file size and equals 7093426\n</code></pre>\n<p>Why in the world would Google want to return the file size in MB as in the Base10 one instead of the MiB - Base2 style, when the Android developers have to deal with the MiB style format 1024, 2048 etc?</p>\n<p>Even though the conversion is simple, isn't this extra headache to convert this for byte buffers that depend on Base2 format for our Buffered input/output since the software Input/output stream knows to read/write in Base2 style only?</p>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1655487431,"post_id":72662971,"comment_id":128352295,"body_markdown":"Then shouldn&#39;t the mapper&#39;s return type be `DomainClass`, and not `DataDomainClass`?","body":"Then shouldn&#39;t the mapper&#39;s return type be <code>DomainClass</code>, and not <code>DataDomainClass</code>?"},{"owner":{"account_id":18485252,"reputation":43,"user_id":13466383,"display_name":"devnan"},"score":0,"creation_date":1655487565,"post_id":72662971,"comment_id":128352323,"body_markdown":"It could, but it can&#39;t because this return comes from a request.","body":"It could, but it can&#39;t because this return comes from a request."}],"answers":[{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655541733,"creation_date":1655495506,"answer_id":72664175,"question_id":72662971,"body_markdown":"MapStruct can&#39;t map non-iterable type to iterable, especially mapping non-iterable to a nested collection.\r\n\r\nHere&#39;s several solutions:\r\n\r\n 1. Change method signatures so input and output parameters will be the same type(iterable or non-iterable) and do the wrapping further in code. This is the most preferable solution\r\n 2. Also you can create default method in your interface to do the wrapping there:\r\n        \r\n        @Mapper\r\n        public interface Entity2DomainMapper {\r\n\r\n            DomainClass entity2Domain(EntityClass raw);\r\n\r\n            default DataDomainClass from(EntityClass raw) {\r\n                DomainClass nested = entity2Domain(raw);\r\n                return DataDomainClass.of(List.of(nested));\r\n            }\r\n        }\r\n    So instead of calling auto-generated method you&#39;ll call default method\r\n\r\n 3. Or if you wanna hide all the wrapping inside MapStruct mapper you can use `@AfterMapping`, but it still will require you to implement the wrapping by yourself\r\n\r\n```\r\n@Mapper\r\npublic abstract class Entity2DomainMapper2 {\r\n    abstract DomainClass entity2Domain(EntityClass raw);\r\n\r\n    abstract DataDomainClass entity2DataDomain(EntityClass raw);\r\n\r\n    @AfterMapping\r\n    protected void afterMapping(EntityClass raw, @MappingTarget DataDomainClass target) {\r\n        if (target.getNested() == null) {\r\n            target.setNested(new ArrayList&lt;&gt;());\r\n        }\r\n        DomainClass nested = entity2Domain(raw);\r\n        target.getNested().add(nested);\r\n    }\r\n}\r\n```\r\n\r\n\r\nUPD: You can also use `extensions` as Eugene specified, but the cleanest approach will be to keep mapper as simple as possible(ideally there should be no non-autogenerated code at all) and handle populating `List&lt;DomainClass&gt;` somewhere else in code.","title":"Error trying to convert objects in MapStruct","body":"<p>MapStruct can't map non-iterable type to iterable, especially mapping non-iterable to a nested collection.</p>\n<p>Here's several solutions:</p>\n<ol>\n<li><p>Change method signatures so input and output parameters will be the same type(iterable or non-iterable) and do the wrapping further in code. This is the most preferable solution</p>\n</li>\n<li><p>Also you can create default method in your interface to do the wrapping there:</p>\n<pre><code>@Mapper\npublic interface Entity2DomainMapper {\n\n    DomainClass entity2Domain(EntityClass raw);\n\n    default DataDomainClass from(EntityClass raw) {\n        DomainClass nested = entity2Domain(raw);\n        return DataDomainClass.of(List.of(nested));\n    }\n}\n</code></pre>\n<p>So instead of calling auto-generated method you'll call default method</p>\n</li>\n<li><p>Or if you wanna hide all the wrapping inside MapStruct mapper you can use <code>@AfterMapping</code>, but it still will require you to implement the wrapping by yourself</p>\n</li>\n</ol>\n<pre><code>@Mapper\npublic abstract class Entity2DomainMapper2 {\n    abstract DomainClass entity2Domain(EntityClass raw);\n\n    abstract DataDomainClass entity2DataDomain(EntityClass raw);\n\n    @AfterMapping\n    protected void afterMapping(EntityClass raw, @MappingTarget DataDomainClass target) {\n        if (target.getNested() == null) {\n            target.setNested(new ArrayList&lt;&gt;());\n        }\n        DomainClass nested = entity2Domain(raw);\n        target.getNested().add(nested);\n    }\n}\n</code></pre>\n<p>UPD: You can also use <code>extensions</code> as Eugene specified, but the cleanest approach will be to keep mapper as simple as possible(ideally there should be no non-autogenerated code at all) and handle populating <code>List&lt;DomainClass&gt;</code> somewhere else in code.</p>\n"},{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655676413,"creation_date":1655512639,"answer_id":72665897,"question_id":72662971,"body_markdown":"There is no clear out-of-box implementation. MapStruct does not support mapping from non-iterable to iterable. Workaround described in [mapstruct-examples][1]. This is more general solution for primitives.\r\n&lt;br&gt;For your case simplest solutions are:\r\n&lt;br&gt;**Solution 1: custom method for mapping entity to List**\r\n```java\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.Mapping;\r\nimport org.mapstruct.factory.Mappers;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\n@Mapper\r\npublic interface DomainMapper {\r\n    DomainMapper INSTANCE = Mappers.getMapper(DomainMapper.class);\r\n\r\n    @Mapping(target = &quot;data&quot;, source = &quot;entity&quot;)\r\n    DataDomainClass map(EntityClass entity);\r\n\r\n    DomainClass toDomain(EntityClass entity);\r\n\r\n    default List&lt;DomainClass&gt; toList(EntityClass entity) {\r\n        return entity != null ? Collections.singletonList(toDomain(entity)) :\r\n                                new ArrayList&lt;&gt;();\r\n    }\r\n}\r\n```\r\nGenerated code:\r\n```java\r\npublic class DomainMapperImpl implements DomainMapper {\r\n\r\n    @Override\r\n    public DataDomainClass map(EntityClass entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n        DataDomainClass dataDomainClass = new DataDomainClass();\r\n        dataDomainClass.data = toList( entity );\r\n        return dataDomainClass;\r\n    }\r\n\r\n    @Override\r\n    public DomainClass toDomain(EntityClass entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n        DomainClass domainClass = new DomainClass();\r\n        domainClass.codDist = entity.codDist;\r\n        domainClass.numF = entity.numF;\r\n        domainClass.textJus = entity.textJus;\r\n        domainClass.valResol = entity.valResol;\r\n        return domainClass;\r\n    }\r\n}\r\n```\r\n**Solution 2: [Expression][2]**\r\n```java\r\nimport org.mapstruct.*;\r\nimport org.mapstruct.factory.Mappers;\r\n\r\nimport java.util.Collections;\r\n\r\n@Mapper(imports = {Collections.class})\r\npublic interface DomainMapper {\r\n    DomainMapper INSTANCE = Mappers.getMapper(DomainMapper.class);\r\n\r\n    @Mapping(target = &quot;data&quot;, expression = &quot;java(Collections.singletonList(toDomain(entity)))&quot;)\r\n    DataDomainClass map(EntityClass entity);\r\n\r\n    DomainClass toDomain(EntityClass entity);\r\n}\r\n```\r\nGenerated code:\r\n```java\r\npublic class DomainMapperImpl implements DomainMapper {\r\n\r\n    @Override\r\n    public DataDomainClass map(EntityClass entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n        DataDomainClass dataDomainClass = new DataDomainClass();\r\n        dataDomainClass.data = Collections.singletonList(toDomain(entity));\r\n        return dataDomainClass;\r\n    }\r\n\r\n    @Override\r\n    public DomainClass toDomain(EntityClass entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n        DomainClass domainClass = new DomainClass();\r\n        domainClass.codDist = entity.codDist;\r\n        domainClass.numF = entity.numF;\r\n        domainClass.textJus = entity.textJus;\r\n        domainClass.valResol = entity.valResol;\r\n        return domainClass;\r\n    }\r\n}\r\n```\r\n**UPDATE:**\r\n&lt;br&gt;Iterable to non-iterable mapping also is not supported. Workaround for primitive types described at [iterable-to-non-iterable][3].\r\n&lt;br&gt;Example of reverse mapping for your case:\r\n```java\r\n@Mapper\r\npublic interface DomainMapper {\r\n    DomainMapper INSTANCE = Mappers.getMapper(DomainMapper.class);\r\n\r\n    default EntityClass map(DataDomainClass dataDomainClass) {        \r\n        return dataDomainClass != null &amp;&amp; dataDomainClass.data != null &amp;&amp; !dataDomainClass.data.isEmpty() ? toEntity(dataDomainClass.data.get(0)) : null;\r\n    }\r\n\r\n    EntityClass toEntity(DomainClass domainClass);\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct-examples/pull/33/files#diff-813ae9742ebf9ffa51488e83f7ded05b2ac2f38e7b74b807ab0a349a5228196b\r\n  [2]: https://mapstruct.org/documentation/stable/reference/html/#expressions\r\n  [3]: https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-iterable-to-non-iterable/src/main/java/com/mycompany/mapper","title":"Error trying to convert objects in MapStruct","body":"<p>There is no clear out-of-box implementation. MapStruct does not support mapping from non-iterable to iterable. Workaround described in <a href=\"https://github.com/mapstruct/mapstruct-examples/pull/33/files#diff-813ae9742ebf9ffa51488e83f7ded05b2ac2f38e7b74b807ab0a349a5228196b\" rel=\"nofollow noreferrer\">mapstruct-examples</a>. This is more general solution for primitives.\n<br>For your case simplest solutions are:\n<br><strong>Solution 1: custom method for mapping entity to List</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.Mapper;\nimport org.mapstruct.Mapping;\nimport org.mapstruct.factory.Mappers;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\n@Mapper\npublic interface DomainMapper {\n    DomainMapper INSTANCE = Mappers.getMapper(DomainMapper.class);\n\n    @Mapping(target = &quot;data&quot;, source = &quot;entity&quot;)\n    DataDomainClass map(EntityClass entity);\n\n    DomainClass toDomain(EntityClass entity);\n\n    default List&lt;DomainClass&gt; toList(EntityClass entity) {\n        return entity != null ? Collections.singletonList(toDomain(entity)) :\n                                new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DomainMapperImpl implements DomainMapper {\n\n    @Override\n    public DataDomainClass map(EntityClass entity) {\n        if ( entity == null ) {\n            return null;\n        }\n        DataDomainClass dataDomainClass = new DataDomainClass();\n        dataDomainClass.data = toList( entity );\n        return dataDomainClass;\n    }\n\n    @Override\n    public DomainClass toDomain(EntityClass entity) {\n        if ( entity == null ) {\n            return null;\n        }\n        DomainClass domainClass = new DomainClass();\n        domainClass.codDist = entity.codDist;\n        domainClass.numF = entity.numF;\n        domainClass.textJus = entity.textJus;\n        domainClass.valResol = entity.valResol;\n        return domainClass;\n    }\n}\n</code></pre>\n<p><strong>Solution 2: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"nofollow noreferrer\">Expression</a></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.mapstruct.*;\nimport org.mapstruct.factory.Mappers;\n\nimport java.util.Collections;\n\n@Mapper(imports = {Collections.class})\npublic interface DomainMapper {\n    DomainMapper INSTANCE = Mappers.getMapper(DomainMapper.class);\n\n    @Mapping(target = &quot;data&quot;, expression = &quot;java(Collections.singletonList(toDomain(entity)))&quot;)\n    DataDomainClass map(EntityClass entity);\n\n    DomainClass toDomain(EntityClass entity);\n}\n</code></pre>\n<p>Generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DomainMapperImpl implements DomainMapper {\n\n    @Override\n    public DataDomainClass map(EntityClass entity) {\n        if ( entity == null ) {\n            return null;\n        }\n        DataDomainClass dataDomainClass = new DataDomainClass();\n        dataDomainClass.data = Collections.singletonList(toDomain(entity));\n        return dataDomainClass;\n    }\n\n    @Override\n    public DomainClass toDomain(EntityClass entity) {\n        if ( entity == null ) {\n            return null;\n        }\n        DomainClass domainClass = new DomainClass();\n        domainClass.codDist = entity.codDist;\n        domainClass.numF = entity.numF;\n        domainClass.textJus = entity.textJus;\n        domainClass.valResol = entity.valResol;\n        return domainClass;\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong>\n<br>Iterable to non-iterable mapping also is not supported. Workaround for primitive types described at <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-iterable-to-non-iterable/src/main/java/com/mycompany/mapper\" rel=\"nofollow noreferrer\">iterable-to-non-iterable</a>.\n<br>Example of reverse mapping for your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface DomainMapper {\n    DomainMapper INSTANCE = Mappers.getMapper(DomainMapper.class);\n\n    default EntityClass map(DataDomainClass dataDomainClass) {        \n        return dataDomainClass != null &amp;&amp; dataDomainClass.data != null &amp;&amp; !dataDomainClass.data.isEmpty() ? toEntity(dataDomainClass.data.get(0)) : null;\n    }\n\n    EntityClass toEntity(DomainClass domainClass);\n}\n\n</code></pre>\n"}],"owner":{"account_id":18485252,"reputation":43,"user_id":13466383,"display_name":"devnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72665897,"answer_count":2,"score":1,"last_activity_date":1655676413,"creation_date":1655487306,"question_id":72662971,"body_markdown":"I&#39;m trying to convert a ClassDomain class into a ClassEntity but it&#39;s not working because it&#39;s returning the error below and I don&#39;t know how to solve it:\r\n\r\n    error: The return type List&lt;DomainClass&gt; is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\r\n\r\nClass DataDomainClass:\r\n\r\n    public class DataDomainClass{\r\n        private List&lt;DomainClass&gt; data;\r\n        }\r\n\r\nClass EntityClass:\r\n\r\n    public class EntityClass {\r\n    \r\n        private String codDist;\r\n    \r\n        private String numF;\r\n    \r\n        private String textJus;\r\n    \r\n        private Boolean valResol;\r\n        }\r\n\r\nConvert mapper:\r\n\r\n    DataDomainClass map(EntityClass entity);\r\n\r\nThe DomainClass class contains the same fields as the EntityClass class.\r\n\r\nThanks in advance.","title":"Error trying to convert objects in MapStruct","body":"<p>I'm trying to convert a ClassDomain class into a ClassEntity but it's not working because it's returning the error below and I don't know how to solve it:</p>\n<pre><code>error: The return type List&lt;DomainClass&gt; is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\n</code></pre>\n<p>Class DataDomainClass:</p>\n<pre><code>public class DataDomainClass{\n    private List&lt;DomainClass&gt; data;\n    }\n</code></pre>\n<p>Class EntityClass:</p>\n<pre><code>public class EntityClass {\n\n    private String codDist;\n\n    private String numF;\n\n    private String textJus;\n\n    private Boolean valResol;\n    }\n</code></pre>\n<p>Convert mapper:</p>\n<pre><code>DataDomainClass map(EntityClass entity);\n</code></pre>\n<p>The DomainClass class contains the same fields as the EntityClass class.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","jpa","reflection"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655729371,"post_id":72680567,"comment_id":128393506,"body_markdown":"Is the type information maybe stored in the database?","body":"Is the type information maybe stored in the database?"},{"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"score":0,"creation_date":1655742840,"post_id":72680567,"comment_id":128398668,"body_markdown":"I tough about it, but let&#39;s say a database has multiple Collections/Tables.. how one&#39;s decide where to persist/retrieve the data?","body":"I tough about it, but let&#39;s say a database has multiple Collections/Tables.. how one&#39;s decide where to persist/retrieve the data?"}],"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655675549,"creation_date":1655675549,"question_id":72680567,"body_markdown":"I&#39;m trying to understand a little more about how does Spring finds the correct Collection when calling the `findById(String id)` method.\r\nNormally the classes that will be persisted are annotated with `@Document(collection = &quot;CollectionName&quot;)`\r\nand when a basic operation like:\r\n```java\r\nT save(T entity);\r\nOptional&lt;T&gt; findByExample(T entity);\r\nT update(T entity);\r\n```\r\nSeem kinda understandable that we can access the annotation data since we have the whole entity available, but when a method like:\r\n```java\r\nT findById(String id)\r\n```\r\nWe don&#39;t have access to the entity information, the closer we get is the Generic type `T`.\r\nBut only with the type `T` we are not able to initialize a new object and get the annotations information.\r\nThere is any documentation available that explains this?","title":"How does MongoRepository finds the correct collection when findById(String id) is called?","body":"<p>I'm trying to understand a little more about how does Spring finds the correct Collection when calling the <code>findById(String id)</code> method.\nNormally the classes that will be persisted are annotated with <code>@Document(collection = &quot;CollectionName&quot;)</code>\nand when a basic operation like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>T save(T entity);\nOptional&lt;T&gt; findByExample(T entity);\nT update(T entity);\n</code></pre>\n<p>Seem kinda understandable that we can access the annotation data since we have the whole entity available, but when a method like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>T findById(String id)\n</code></pre>\n<p>We don't have access to the entity information, the closer we get is the Generic type <code>T</code>.\nBut only with the type <code>T</code> we are not able to initialize a new object and get the annotations information.\nThere is any documentation available that explains this?</p>\n"},{"tags":["java","jackson","assertj"],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655673590,"creation_date":1655673590,"answer_id":72680404,"question_id":72680283,"body_markdown":"As you have discovered, AssertJ is behaving correctly in reporting that the nodes are not equal as one has a long child and the other has an int.\r\n\r\nYou wrote:\r\n\r\n&gt; When I print these two nodes, I see that they are exactly the same\r\n\r\nPrinting the nodes using `toString` proves that their `toString` methods produce the same result. That&#39;s not the same as them being exactly the same.\r\n\r\nIf what you are looking for is to validate the `toString` of the node then:\r\n\r\n    assertThat(actualNode).hasToString(expectedNode.toString());\r\n\r\n","title":"AssertJ: how can I make JsonNode comparison handle IntNode and LongNode as same?","body":"<p>As you have discovered, AssertJ is behaving correctly in reporting that the nodes are not equal as one has a long child and the other has an int.</p>\n<p>You wrote:</p>\n<blockquote>\n<p>When I print these two nodes, I see that they are exactly the same</p>\n</blockquote>\n<p>Printing the nodes using <code>toString</code> proves that their <code>toString</code> methods produce the same result. That's not the same as them being exactly the same.</p>\n<p>If what you are looking for is to validate the <code>toString</code> of the node then:</p>\n<pre><code>assertThat(actualNode).hasToString(expectedNode.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655674510,"creation_date":1655673601,"answer_id":72680406,"question_id":72680283,"body_markdown":"The reason is because the jackson defaults to `int` when it can fit in the untyped value (i.e up to 32 bit). So the `assertj` (even the jupiter assertions) has correctly failed the assertion, because actual and expected are indeed two different types. This behaviour can be controlled by the `DeserializationFeature.USE_LONG_FOR_INTS` feature. The last sentence of the java doc of that property says this;\r\n\r\n&gt; Feature is disabled by default, meaning that &quot;untyped&quot; integral\r\n&gt; numbers will by default be deserialized using Integer if value fits.\r\n\r\nYou can simply enable it when you create the `ObjectMapper`\r\n\r\n```\r\nmapper = new ObjectMapper().enable(DeserializationFeature.USE_LONG_FOR_INTS);\r\n```\r\n\r\nThe downside is jackson will create values in larger long type  unnecessarily. ","title":"AssertJ: how can I make JsonNode comparison handle IntNode and LongNode as same?","body":"<p>The reason is because the jackson defaults to <code>int</code> when it can fit in the untyped value (i.e up to 32 bit). So the <code>assertj</code> (even the jupiter assertions) has correctly failed the assertion, because actual and expected are indeed two different types. This behaviour can be controlled by the <code>DeserializationFeature.USE_LONG_FOR_INTS</code> feature. The last sentence of the java doc of that property says this;</p>\n<blockquote>\n<p>Feature is disabled by default, meaning that &quot;untyped&quot; integral\nnumbers will by default be deserialized using Integer if value fits.</p>\n</blockquote>\n<p>You can simply enable it when you create the <code>ObjectMapper</code></p>\n<pre><code>mapper = new ObjectMapper().enable(DeserializationFeature.USE_LONG_FOR_INTS);\n</code></pre>\n<p>The downside is jackson will create values in larger long type  unnecessarily.</p>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655675131,"creation_date":1655673714,"answer_id":72680413,"question_id":72680283,"body_markdown":"[JsonUnit][1] with [AssertJ style][2] is probably the best option:\r\n\r\n    assertThatJson(actualNode).isEqualTo(expectedNode); // passes\r\n\r\nHowever, I would have expected the [AssertJ recursive comparison][3] to work as well:\r\n\r\n    assertThat(actualNode).usingRecursiveComparison().isEqualTo(expectedNode); // fails\r\n\r\nbut this is not the case.\r\n\r\nI created [#2672][4] to track this potential improvement.\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/JsonUnit\r\n  [2]: https://github.com/lukas-krecan/JsonUnit#assertj-integration\r\n  [3]: https://assertj.github.io/doc/#assertj-core-recursive-comparison\r\n  [4]: https://github.com/assertj/assertj-core/issues/2672","title":"AssertJ: how can I make JsonNode comparison handle IntNode and LongNode as same?","body":"<p><a href=\"https://github.com/lukas-krecan/JsonUnit\" rel=\"nofollow noreferrer\">JsonUnit</a> with <a href=\"https://github.com/lukas-krecan/JsonUnit#assertj-integration\" rel=\"nofollow noreferrer\">AssertJ style</a> is probably the best option:</p>\n<pre><code>assertThatJson(actualNode).isEqualTo(expectedNode); // passes\n</code></pre>\n<p>However, I would have expected the <a href=\"https://assertj.github.io/doc/#assertj-core-recursive-comparison\" rel=\"nofollow noreferrer\">AssertJ recursive comparison</a> to work as well:</p>\n<pre><code>assertThat(actualNode).usingRecursiveComparison().isEqualTo(expectedNode); // fails\n</code></pre>\n<p>but this is not the case.</p>\n<p>I created <a href=\"https://github.com/assertj/assertj-core/issues/2672\" rel=\"nofollow noreferrer\">#2672</a> to track this potential improvement.</p>\n"}],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72680406,"answer_count":3,"score":2,"last_activity_date":1655675131,"creation_date":1655672071,"question_id":72680283,"body_markdown":"I have a `JsonNode` which is built out of a `Map&lt;String, Object&gt;`:\r\n\r\n    Map&lt;String, Object&gt; actual = Map.of(&quot;test&quot;, 3L);\r\n    JsonNode actualNode = mapper.valueToTree(actual);\r\n\r\nI would like to compare such node against an expected file, that I load as such: \r\n\r\n    String expected = &quot;{\\&quot;test\\&quot;: 3}&quot;;\r\n    JsonNode expectedNode = mapper.readTree(expected);\r\n\r\nWhen I print these two nodes, I see that they are exactly the same: \r\n\r\n    &gt;&gt; System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(expectedNode));\r\n    &gt;&gt; System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(actualNode)); \r\n\r\n    {\r\n        &quot;test&quot;: 3\r\n    }\r\n\r\nHowever, when I compare the two nodes using `assert-j`, I get the following error: \r\n\r\n    Assertions.assertThat(actualNode).isEqualTo(expectedNode);\r\n   \r\n    java.lang.AssertionError: \r\n    Expecting:\r\n     &lt;&quot;{&quot;test&quot;:3} (ObjectNode@7ef2d7a6)&quot;&gt;\r\n    to be equal to:\r\n     &lt;&quot;{&quot;test&quot;:3} (ObjectNode@5dcbb60)&quot;&gt;\r\n    but was not.\r\n\r\nIf I debug the `.isEqualTo` of the assertion, I see that the failure happens because:\r\n\r\n - The `3` in the actual node is a `LongNode` (which I understand since the original map contains a `3L`)\r\n - The `3` in the expected node though is an `IntNode`\r\n\r\nSo when the equality is tested, the `IntNode` is not even an `instanceof LongNode` and so the assertion fails. \r\n\r\nHowever, I really don&#39;t control how the `Map` behind the actual node is built. What can I do to make the assertion work in this case?\r\n\r\nFully reproducible example: \r\n\r\n    Map&lt;String, Object&gt; actual = Map.of(&quot;test&quot;, 3L);\r\n    String expected = &quot;{\\&quot;test\\&quot;: 3}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode expectedNode = mapper.readTree(expected);\r\n    JsonNode actualNode = mapper.valueToTree(actual);\r\n    Assertions.assertThat(actualNode).isEqualTo(expectedNode);\r\n\r\nP.s. I have currently fixed it by serializing and deserializing the node: \r\n\r\n    JsonNode newActualNode = mapper.readTree(mapper.writeValueAsString(actualNode));\r\n\r\n... but I was looking for something cleaner. ","title":"AssertJ: how can I make JsonNode comparison handle IntNode and LongNode as same?","body":"<p>I have a <code>JsonNode</code> which is built out of a <code>Map&lt;String, Object&gt;</code>:</p>\n<pre><code>Map&lt;String, Object&gt; actual = Map.of(&quot;test&quot;, 3L);\nJsonNode actualNode = mapper.valueToTree(actual);\n</code></pre>\n<p>I would like to compare such node against an expected file, that I load as such:</p>\n<pre><code>String expected = &quot;{\\&quot;test\\&quot;: 3}&quot;;\nJsonNode expectedNode = mapper.readTree(expected);\n</code></pre>\n<p>When I print these two nodes, I see that they are exactly the same:</p>\n<pre><code>&gt;&gt; System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(expectedNode));\n&gt;&gt; System.out.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(actualNode)); \n\n{\n    &quot;test&quot;: 3\n}\n</code></pre>\n<p>However, when I compare the two nodes using <code>assert-j</code>, I get the following error:</p>\n<pre><code>Assertions.assertThat(actualNode).isEqualTo(expectedNode);\n\njava.lang.AssertionError: \nExpecting:\n &lt;&quot;{&quot;test&quot;:3} (ObjectNode@7ef2d7a6)&quot;&gt;\nto be equal to:\n &lt;&quot;{&quot;test&quot;:3} (ObjectNode@5dcbb60)&quot;&gt;\nbut was not.\n</code></pre>\n<p>If I debug the <code>.isEqualTo</code> of the assertion, I see that the failure happens because:</p>\n<ul>\n<li>The <code>3</code> in the actual node is a <code>LongNode</code> (which I understand since the original map contains a <code>3L</code>)</li>\n<li>The <code>3</code> in the expected node though is an <code>IntNode</code></li>\n</ul>\n<p>So when the equality is tested, the <code>IntNode</code> is not even an <code>instanceof LongNode</code> and so the assertion fails.</p>\n<p>However, I really don't control how the <code>Map</code> behind the actual node is built. What can I do to make the assertion work in this case?</p>\n<p>Fully reproducible example:</p>\n<pre><code>Map&lt;String, Object&gt; actual = Map.of(&quot;test&quot;, 3L);\nString expected = &quot;{\\&quot;test\\&quot;: 3}&quot;;\nObjectMapper mapper = new ObjectMapper();\nJsonNode expectedNode = mapper.readTree(expected);\nJsonNode actualNode = mapper.valueToTree(actual);\nAssertions.assertThat(actualNode).isEqualTo(expectedNode);\n</code></pre>\n<p>P.s. I have currently fixed it by serializing and deserializing the node:</p>\n<pre><code>JsonNode newActualNode = mapper.readTree(mapper.writeValueAsString(actualNode));\n</code></pre>\n<p>... but I was looking for something cleaner.</p>\n"},{"tags":["java","azure-functions","synchronization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655679975,"post_id":72680474,"comment_id":128382756,"body_markdown":"I don&#39;t know whether Azure Functions execute simultaneous calls in the same JVM, but given that `raceConditionTest` itself is synchronized, why does adding a synchronized block inside it change the behaviour?","body":"I don&#39;t know whether Azure Functions execute simultaneous calls in the same JVM, but given that <code>raceConditionTest</code> itself is synchronized, why does adding a synchronized block inside it change the behaviour?"},{"owner":{"account_id":2982888,"reputation":757,"user_id":2532489,"accept_rate":100,"display_name":"Kjeld Schmidt"},"score":0,"creation_date":1655701389,"post_id":72680474,"comment_id":128385328,"body_markdown":"Good question! `synchronized` in the signature was insufficient to prevent the race condition, in any case. I have not actually tested what happens if I have a non-synchronized method with a synchronized block...","body":"Good question! <code>synchronized</code> in the signature was insufficient to prevent the race condition, in any case. I have not actually tested what happens if I have a non-synchronized method with a synchronized block..."}],"owner":{"account_id":2982888,"reputation":757,"user_id":2532489,"accept_rate":100,"display_name":"Kjeld Schmidt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655674262,"creation_date":1655674262,"question_id":72680474,"body_markdown":"## The Function\r\n\r\nI have the following Azure Function, which displays a race condition:\r\n\r\n```java\r\npublic class Function {\r\n\r\n    final RefWrapper toReturn = new RefWrapper();\r\n\r\n    private static class RefWrapper {\r\n        String value = &quot;&quot;;\r\n    }\r\n\r\n    @FunctionName(&quot;raceConditionTest&quot;)\r\n    public synchronized HttpResponseMessage raceConditionTest(\r\n        @HttpTrigger(\r\n            name = &quot;req&quot;,\r\n            methods = {HttpMethod.GET},\r\n            authLevel = AuthorizationLevel.ANONYMOUS\r\n        ),\r\n        HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\r\n        final ExecutionContext context\r\n    ) throws IOException {\r\n        toReturn.value = request.getHeaders().getOrDefault(&quot;x-return-me&quot;, &quot;0&quot;);\r\n        Thread.sleep(1000 * 10);\r\n        return request.createResponseBuilder(HttpStatus.OK).body(toReturn.value).build();\r\n    }\r\n}\r\n```\r\n\r\nWhen I call this function 10 times in parallel, with a different value in the header, all ten requests return the same value, as is expected - a race condition is achieved. If I synchronise, as seen here:\r\n\r\n```java\r\n@FunctionName(&quot;raceConditionTest&quot;)\r\npublic synchronized HttpResponseMessage raceConditionTest( /*args*/ ) {\r\n    synchronized (toReturn) {\r\n        toReturn.value = request.getHeaders().getOrDefault(&quot;x-return-me&quot;, &quot;0&quot;);\r\n        Thread.sleep(1000 * 10);       \r\n        return request.createResponseBuilder(HttpStatus.OK).body(toReturn.value).build();\r\n    }\r\n}\r\n```\r\n\r\nand send parallel requests, then, as expected, each request returns the input value correctly, the race condition has been prevent. \r\n\r\nHowever, unexpectedly, all requests return at the same time, they don&#39;t seem to queue. I&#39;ve looked at my metrics, and no additional function instances are being created. \r\n\r\n## The Question\r\n\r\nSo why is this code not slow, why do requests not have to wait? I&#39;m assuming this behaviour is related to the Azure Function runtime - is it guaranteed, documented, or reasonably expected to be stable?","title":"Why is this synchronized code code _not_ slow?","body":"<h2>The Function</h2>\n<p>I have the following Azure Function, which displays a race condition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Function {\n\n    final RefWrapper toReturn = new RefWrapper();\n\n    private static class RefWrapper {\n        String value = &quot;&quot;;\n    }\n\n    @FunctionName(&quot;raceConditionTest&quot;)\n    public synchronized HttpResponseMessage raceConditionTest(\n        @HttpTrigger(\n            name = &quot;req&quot;,\n            methods = {HttpMethod.GET},\n            authLevel = AuthorizationLevel.ANONYMOUS\n        ),\n        HttpRequestMessage&lt;Optional&lt;String&gt;&gt; request,\n        final ExecutionContext context\n    ) throws IOException {\n        toReturn.value = request.getHeaders().getOrDefault(&quot;x-return-me&quot;, &quot;0&quot;);\n        Thread.sleep(1000 * 10);\n        return request.createResponseBuilder(HttpStatus.OK).body(toReturn.value).build();\n    }\n}\n</code></pre>\n<p>When I call this function 10 times in parallel, with a different value in the header, all ten requests return the same value, as is expected - a race condition is achieved. If I synchronise, as seen here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionName(&quot;raceConditionTest&quot;)\npublic synchronized HttpResponseMessage raceConditionTest( /*args*/ ) {\n    synchronized (toReturn) {\n        toReturn.value = request.getHeaders().getOrDefault(&quot;x-return-me&quot;, &quot;0&quot;);\n        Thread.sleep(1000 * 10);       \n        return request.createResponseBuilder(HttpStatus.OK).body(toReturn.value).build();\n    }\n}\n</code></pre>\n<p>and send parallel requests, then, as expected, each request returns the input value correctly, the race condition has been prevent.</p>\n<p>However, unexpectedly, all requests return at the same time, they don't seem to queue. I've looked at my metrics, and no additional function instances are being created.</p>\n<h2>The Question</h2>\n<p>So why is this code not slow, why do requests not have to wait? I'm assuming this behaviour is related to the Azure Function runtime - is it guaranteed, documented, or reasonably expected to be stable?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":1,"creation_date":1364906120,"post_id":15764228,"comment_id":22405953,"body_markdown":"new Integer( string1 ) == new Integer(string 2)","body":"new Integer( string1 ) == new Integer(string 2)"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":3,"creation_date":1364906347,"post_id":15764228,"comment_id":22406070,"body_markdown":"@madhairsilence. Note that your method will fail, as you are comparing two `Integer` objects using `==`, which might be considered a Crime.","body":"@madhairsilence. Note that your method will fail, as you are comparing two <code>Integer</code> objects using <code>==</code>, which might be considered a Crime."},{"owner":{"account_id":1055332,"reputation":2619,"user_id":1058196,"display_name":"msi"},"score":3,"creation_date":1364906461,"post_id":15764228,"comment_id":22406143,"body_markdown":"@RohitJain please note that integers created by `new` are not &#39;cached&#39;. `Integer a = 1;` is not the same as `Integer a = new Integer(1);`","body":"@RohitJain please note that integers created by <code>new</code> are not &#39;cached&#39;. <code>Integer a = 1;</code> is not the same as <code>Integer a = new Integer(1);</code>"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1364906541,"post_id":15764228,"comment_id":22406194,"body_markdown":"@msi. Oouch. Didn&#39;t notice that.","body":"@msi. Oouch. Didn&#39;t notice that."},{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":0,"creation_date":1364906930,"post_id":15764228,"comment_id":22406423,"body_markdown":"@RohitJain\n1. I gave an idea!! Thats why I commented not made an answer\n2. What do u mean by Cache?? - Plz Explain\n3. What is the crime in comparing with ==","body":"@RohitJain 1. I gave an idea!! Thats why I commented not made an answer 2. What do u mean by Cache?? - Plz Explain 3. What is the crime in comparing with =="},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1364907092,"post_id":15764228,"comment_id":22406528,"body_markdown":"@madhairsilence. 2. Java Caches the Integer objects in a certain range, which is generally `[-128, 127]`, in which case, it will not create a new Integer object when you assign an integer literal to an Integer reference, as stated by `msi`. I was mistaken, Cache doesn&#39;t hold tru in your case.","body":"@madhairsilence. 2. Java Caches the Integer objects in a certain range, which is generally <code>[-128, 127]</code>, in which case, it will not create a new Integer object when you assign an integer literal to an Integer reference, as stated by <code>msi</code>. I was mistaken, Cache doesn&#39;t hold tru in your case."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1364907187,"post_id":15764228,"comment_id":22406583,"body_markdown":"@madhairsilence. 3. Crime with object comparison with `==` is that, it doesn&#39;t really compares the content, rather the value of reference. So, two object reference pointing to two objects having same value will not be judged equal by `==`, so you should always use `equals` method for object comparison.","body":"@madhairsilence. 3. Crime with object comparison with <code>==</code> is that, it doesn&#39;t really compares the content, rather the value of reference. So, two object reference pointing to two objects having same value will not be judged equal by <code>==</code>, so you should always use <code>equals</code> method for object comparison."},{"owner":{"account_id":1282249,"reputation":3856,"user_id":1236099,"accept_rate":51,"display_name":"madhairsilence"},"score":0,"creation_date":1364908152,"post_id":15764228,"comment_id":22407233,"body_markdown":"@RohitJain yeh correct! dnt notice dat!","body":"@RohitJain yeh correct! dnt notice dat!"}],"answers":[{"tags":[],"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1364906120,"creation_date":1364906120,"answer_id":15764267,"question_id":15764228,"body_markdown":"    Integer.valueOf(string1).equals(Integer.valueOf(string2));","title":"compare two numeric String values","body":"<pre><code>Integer.valueOf(string1).equals(Integer.valueOf(string2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":2,"up_vote_count":26,"is_accepted":true,"score":24,"last_activity_date":1364906168,"creation_date":1364906168,"answer_id":15764289,"question_id":15764228,"body_markdown":"    Integer.parseInt(&quot;4&quot;) == Integer.parseInt(&quot;04&quot;)\r\n\r\nThat is it. You can convert a numeric string into integer using [`Integer.parseInt(String)`](http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29) method, which returns an `int` type. And then comparison is same as `4 == 4`.","title":"compare two numeric String values","body":"<pre><code>Integer.parseInt(\"4\") == Integer.parseInt(\"04\")\n</code></pre>\n\n<p>That is it. You can convert a numeric string into integer using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"noreferrer\"><code>Integer.parseInt(String)</code></a> method, which returns an <code>int</code> type. And then comparison is same as <code>4 == 4</code>.</p>\n"},{"tags":[],"owner":{"account_id":1324014,"reputation":5651,"user_id":1311351,"display_name":"Colin D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385356304,"creation_date":1364906191,"answer_id":15764301,"question_id":15764228,"body_markdown":"Use the Integer class to convert the strings to integers.\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\r\n\r\n\r\n    Integer.parseInt(string1) == Integer.parseInt(string2)\r\n\r\n","title":"compare two numeric String values","body":"<p>Use the Integer class to convert the strings to integers.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29</a></p>\n\n<pre><code>Integer.parseInt(string1) == Integer.parseInt(string2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130873,"reputation":20683,"user_id":330457,"accept_rate":82,"display_name":"Jin Kwon"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1498650729,"creation_date":1449917747,"answer_id":34239016,"question_id":15764228,"body_markdown":"Don&#39;t forget the `BigInteger` for very long values.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    return new BigInteger(s1).compareTo(new BigInteger(s2));","title":"compare two numeric String values","body":"<p>Don't forget the <code>BigInteger</code> for very long values.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>return new BigInteger(s1).compareTo(new BigInteger(s2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498651613,"creation_date":1498651613,"answer_id":44801960,"question_id":15764228,"body_markdown":"Skipping parsing it to an int at all to handle arbitrarily large numbers, only comparing the strings. As a bonus it also works for decimal numbers (unless there are trailing zeroes, where you probably can do similar thing with anchoring end of string instead).\r\n\r\nYou can omitt the trim if you are sure there are no whitespace characters\r\n\r\n        String string1 = &quot;4&quot;; // and\r\n        String string2 = &quot;04&quot;;\r\n\r\n        String noLeadingZeroes1 = string1.trim().replaceFirst(&quot;^0+(?!$)&quot;, &quot;&quot;);\r\n        String noLeadingZeroes2 = string2.trim().replaceFirst(&quot;^0+(?!$)&quot;, &quot;&quot;);\r\n\r\n        System.out.println(noLeadingZeroes1.equals(noLeadingZeroes2));","title":"compare two numeric String values","body":"<p>Skipping parsing it to an int at all to handle arbitrarily large numbers, only comparing the strings. As a bonus it also works for decimal numbers (unless there are trailing zeroes, where you probably can do similar thing with anchoring end of string instead).</p>\n\n<p>You can omitt the trim if you are sure there are no whitespace characters</p>\n\n<pre><code>    String string1 = \"4\"; // and\n    String string2 = \"04\";\n\n    String noLeadingZeroes1 = string1.trim().replaceFirst(\"^0+(?!$)\", \"\");\n    String noLeadingZeroes2 = string2.trim().replaceFirst(\"^0+(?!$)\", \"\");\n\n    System.out.println(noLeadingZeroes1.equals(noLeadingZeroes2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1602892,"reputation":1159,"user_id":3541152,"display_name":"yakob abada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622820719,"creation_date":1622820719,"answer_id":67840019,"question_id":15764228,"body_markdown":"The comparison happens on chacracter basis. so &#39;2&#39; &gt; &#39;12&#39; is true because the comparison will happen as &#39;2&#39; &gt; &#39;1&#39; and in alphabetical way &#39;2&#39; is always greater than &#39;1&#39; as unicode. SO it will comeout true.","title":"compare two numeric String values","body":"<p>The comparison happens on chacracter basis. so '2' &gt; '12' is true because the comparison will happen as '2' &gt; '1' and in alphabetical way '2' is always greater than '1' as unicode. SO it will comeout true.</p>\n"},{"tags":[],"owner":{"account_id":25595107,"reputation":1,"user_id":19371068,"display_name":"Animesh Nag"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655674123,"creation_date":1655674123,"answer_id":72680452,"question_id":15764228,"body_markdown":"if(String.valueOf(S1).compareTo(String.valueOf(S2)) &lt; 0)\r\n","title":"compare two numeric String values","body":"<p>if(String.valueOf(S1).compareTo(String.valueOf(S2)) &lt; 0)</p>\n"}],"owner":{"account_id":1118619,"reputation":841,"user_id":1107393,"accept_rate":48,"display_name":"mee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126183,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":15764289,"answer_count":7,"score":18,"last_activity_date":1655674123,"creation_date":1364906016,"question_id":15764228,"body_markdown":"I have a simple doubt. Would be great if anyone helps me.\r\n\r\nI have two strings: \r\n\r\n    String string1 = &quot;4&quot;; // and \r\n    String string2 = &quot;04&quot;;\r\n\r\nBoth the values are equal but how to compare them in java? We have `equals` and `equalsIgnoreCase` for comparing String alpha values, similarly how to compare numeric values.\r\n","title":"compare two numeric String values","body":"<p>I have a simple doubt. Would be great if anyone helps me.</p>\n\n<p>I have two strings: </p>\n\n<pre><code>String string1 = \"4\"; // and \nString string2 = \"04\";\n</code></pre>\n\n<p>Both the values are equal but how to compare them in java? We have <code>equals</code> and <code>equalsIgnoreCase</code> for comparing String alpha values, similarly how to compare numeric values.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655658697,"post_id":72678795,"comment_id":128378955,"body_markdown":"&quot;*If a non-numerical value was passed to this function, wouldn&#39;t the exception occur prior to reaching this line of code?*&quot; -&gt; NO, at least not if `number` is `NaN` or a `Infinity`, as suggested by the exception; because `number` is never used before that line in posted code","body":"&quot;<i>If a non-numerical value was passed to this function, wouldn&#39;t the exception occur prior to reaching this line of code?</i>&quot; -&gt; NO, at least not if <code>number</code> is <code>NaN</code> or a <code>Infinity</code>, as suggested by the exception; because <code>number</code> is never used before that line in posted code"},{"owner":{"account_id":20005964,"reputation":378,"user_id":14664018,"display_name":"AtomicallyBeyond"},"score":0,"creation_date":1655671924,"post_id":72678795,"comment_id":128381665,"body_markdown":"When or how is a value Infinity? I have a vague recollection of NaN from my System Programming class, I think something to do with dividing zero, but what about infinity?","body":"When or how is a value Infinity? I have a vague recollection of NaN from my System Programming class, I think something to do with dividing zero, but what about infinity?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655672222,"post_id":72678795,"comment_id":128381715,"body_markdown":"`number = Float.POSITIVE_INFINITY` or `number = 1f/0`; `Float.NEGATIVE_INFINITY` or `-1f/0`; `Float.NaN` or `0f/0`  (obviously `10f/0` [or any other positive float divided by zero] is also `POSITIVE_INFINITY`)  || the calling of that method is not posted, so we cannot see what argument is passed, where it comes from","body":"<code>number = Float.POSITIVE_INFINITY</code> or <code>number = 1f&#47;0</code>; <code>Float.NEGATIVE_INFINITY</code> or <code>-1f&#47;0</code>; <code>Float.NaN</code> or <code>0f&#47;0</code>  (obviously <code>10f&#47;0</code> [or any other positive float divided by zero] is also <code>POSITIVE_INFINITY</code>)  || the calling of that method is not posted, so we cannot see what argument is passed, where it comes from"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1655673151,"post_id":72678795,"comment_id":128381873,"body_markdown":"Give an example input that results in this exception.","body":"Give an example input that results in this exception."},{"owner":{"account_id":20005964,"reputation":378,"user_id":14664018,"display_name":"AtomicallyBeyond"},"score":0,"creation_date":1655673252,"post_id":72678795,"comment_id":128381890,"body_markdown":"The calling of that method occurs when Retrofit uses GSON to serialize an object, which is why I&#39;m having a hard time understanding why I&#39;m getting this exception only occasionally from some of my users. The values coming from the API are only numbers.","body":"The calling of that method occurs when Retrofit uses GSON to serialize an object, which is why I&#39;m having a hard time understanding why I&#39;m getting this exception only occasionally from some of my users. The values coming from the API are only numbers."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655673534,"post_id":72678795,"comment_id":128381945,"body_markdown":"maybe GSON uses `NaN` to indicate a *wrong* / *invalid* number? eventually use `Float.isFinite(number)` to test for valid number (not `NaN` neither infinity)","body":"maybe GSON uses <code>NaN</code> to indicate a <i>wrong</i> / <i>invalid</i> number? eventually use <code>Float.isFinite(number)</code> to test for valid number (not <code>NaN</code> neither infinity)"}],"owner":{"account_id":20005964,"reputation":378,"user_id":14664018,"display_name":"AtomicallyBeyond"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1655673490,"creation_date":1655658225,"question_id":72678795,"body_markdown":"I have a function that formats a float value into USD currency format, but when the values are fractions of a dollar they get formatted to the last two non-zero decimals.\r\n\r\n    public static String currency(float number) {\r\n\r\n        NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance();\r\n        currencyFormatter.setCurrency(Currency.getInstance(&quot;USD&quot;));\r\n\r\n        String[] floatParts = new BigDecimal(number).toPlainString().split(&quot;\\\\.&quot;);\r\n\r\n        if(number &lt; 1 &amp;&amp; floatParts.length == 2) {\r\n\r\n            String decimalPortion = floatParts[1];\r\n            int numDecimalPlaces = 0;\r\n            while (decimalPortion.charAt(numDecimalPlaces) == &#39;0&#39;)\r\n                numDecimalPlaces++;\r\n\r\n            if(numDecimalPlaces &gt; 2)\r\n                currencyFormatter.setMaximumFractionDigits(numDecimalPlaces + 2);\r\n            else\r\n                currencyFormatter.setMaximumFractionDigits(2);\r\n\r\n        } else {\r\n            currencyFormatter.setMaximumFractionDigits(2);\r\n        }\r\n\r\n        return currencyFormatter.format(number);\r\n    }\r\n    \r\nI&#39;m using Firebase Crashlytics and I&#39;m getting this exception:\r\n\r\n```none\r\njava.lang.NumberFormatException, Infinity or NaN: Infinity, exception at:\r\n\r\n    String[] floatParts = new BigDecimal(number).toPlainString().split(&quot;\\\\.&quot;);\r\n```\r\n\r\nWhat is causing this excpetion? If a non-numerical value was passed to this function, wouldn&#39;t the exception occur prior to reaching this line of code?\r\n\r\n\r\nEDIT\r\n\r\nThe calling method:\r\n\r\n    @SerializedName(&quot;current_price&quot;)\r\n    @Expose\r\n    @ColumnInfo(name = &quot;current_price&quot;)\r\n    private float currentPrice;\r\n\r\n    public void setCurrentPrice(float currentPrice) {\r\n\r\n        if(currentPrice &lt; 0.0001) {\r\n            priceName = &quot;$&quot; + NumberFormatter.roundToLastDecimalDigits(currentPrice, 3);\r\n        } else {\r\n            priceName = NumberFormatter.currency(currentPrice);\r\n        }\r\n\r\n        this.currentPrice = currentPrice;\r\n    }\r\n\r\n","title":"Infinitiy NumberFormatException when creating BigDecimal","body":"<p>I have a function that formats a float value into USD currency format, but when the values are fractions of a dollar they get formatted to the last two non-zero decimals.</p>\n<pre><code>public static String currency(float number) {\n\n    NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance();\n    currencyFormatter.setCurrency(Currency.getInstance(&quot;USD&quot;));\n\n    String[] floatParts = new BigDecimal(number).toPlainString().split(&quot;\\\\.&quot;);\n\n    if(number &lt; 1 &amp;&amp; floatParts.length == 2) {\n\n        String decimalPortion = floatParts[1];\n        int numDecimalPlaces = 0;\n        while (decimalPortion.charAt(numDecimalPlaces) == '0')\n            numDecimalPlaces++;\n\n        if(numDecimalPlaces &gt; 2)\n            currencyFormatter.setMaximumFractionDigits(numDecimalPlaces + 2);\n        else\n            currencyFormatter.setMaximumFractionDigits(2);\n\n    } else {\n        currencyFormatter.setMaximumFractionDigits(2);\n    }\n\n    return currencyFormatter.format(number);\n}\n</code></pre>\n<p>I'm using Firebase Crashlytics and I'm getting this exception:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NumberFormatException, Infinity or NaN: Infinity, exception at:\n\n    String[] floatParts = new BigDecimal(number).toPlainString().split(&quot;\\\\.&quot;);\n</code></pre>\n<p>What is causing this excpetion? If a non-numerical value was passed to this function, wouldn't the exception occur prior to reaching this line of code?</p>\n<p>EDIT</p>\n<p>The calling method:</p>\n<pre><code>@SerializedName(&quot;current_price&quot;)\n@Expose\n@ColumnInfo(name = &quot;current_price&quot;)\nprivate float currentPrice;\n\npublic void setCurrentPrice(float currentPrice) {\n\n    if(currentPrice &lt; 0.0001) {\n        priceName = &quot;$&quot; + NumberFormatter.roundToLastDecimalDigits(currentPrice, 3);\n    } else {\n        priceName = NumberFormatter.currency(currentPrice);\n    }\n\n    this.currentPrice = currentPrice;\n}\n</code></pre>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":2555978,"reputation":1482,"user_id":2217962,"display_name":"schrom"},"score":0,"creation_date":1655636725,"post_id":72676063,"comment_id":128374444,"body_markdown":"Your pastebin link is not working.","body":"Your pastebin link is not working."},{"owner":{"account_id":25591945,"reputation":7,"user_id":19368518,"display_name":"caelanTheCoder_64"},"score":0,"creation_date":1655637057,"post_id":72676063,"comment_id":128374517,"body_markdown":"its pending moderation i will just paste it here","body":"its pending moderation i will just paste it here"},{"owner":{"account_id":25027592,"reputation":161,"user_id":18885664,"display_name":"byteunderflow"},"score":0,"creation_date":1655637673,"post_id":72676063,"comment_id":128374658,"body_markdown":"All the letters are the Base64 encoded server icon.","body":"All the letters are the Base64 encoded server icon."},{"owner":{"account_id":25591945,"reputation":7,"user_id":19368518,"display_name":"caelanTheCoder_64"},"score":0,"creation_date":1655637778,"post_id":72676063,"comment_id":128374688,"body_markdown":"do you know how i can access the player list?","body":"do you know how i can access the player list?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1655654849,"post_id":72676063,"comment_id":128378196,"body_markdown":"The packet response from the server listing will only offer a _sample_ of online players, often not the total and the response can be modified to not include any. Additionally, players can opt-out from being visible within the playerlist, such that even being logged in they will not show up in the tab list. Not to mention large networks have separated servers such that you would need to be in the same instance as those players. In short, this is not an approach that&#39;s feasible to locate an online player.","body":"The packet response from the server listing will only offer a <i>sample</i> of online players, often not the total and the response can be modified to not include any. Additionally, players can opt-out from being visible within the playerlist, such that even being logged in they will not show up in the tab list. Not to mention large networks have separated servers such that you would need to be in the same instance as those players. In short, this is not an approach that&#39;s feasible to locate an online player."},{"owner":{"account_id":25591945,"reputation":7,"user_id":19368518,"display_name":"caelanTheCoder_64"},"score":0,"creation_date":1655667042,"post_id":72676063,"comment_id":128380715,"body_markdown":"arent the servers all connected to a address like mc.hypixel.net\ncould i not ping all servers under that network?","body":"arent the servers all connected to a address like mc.hypixel.net could i not ping all servers under that network?"},{"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"score":0,"creation_date":1655672775,"post_id":72676063,"comment_id":128381806,"body_markdown":"As many have stated, big servers may not show the player list (and you can&#39;t get around it by pinging their internal servers -- they modify those as well), thus making this method useless in big servers. **However**, this will work on small servers that don&#39;t modify the response.","body":"As many have stated, big servers may not show the player list (and you can&#39;t get around it by pinging their internal servers -- they modify those as well), thus making this method useless in big servers. <b>However</b>, this will work on small servers that don&#39;t modify the response."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1655734754,"post_id":72676063,"comment_id":128395746,"body_markdown":"@caelanTheCoder_64 as someone who worked there for a few years, absolutely not. You will only ping a gateway which will handle the authentication/handshake, and then directs the actual game-level packets to a specific server instance, completely transparent to the player.","body":"@caelanTheCoder_64 as someone who worked there for a few years, absolutely not. You will only ping a gateway which will handle the authentication/handshake, and then directs the actual game-level packets to a specific server instance, completely transparent to the player."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655669346,"creation_date":1655669346,"answer_id":72680014,"question_id":72676063,"body_markdown":"You can&#39;t know which player is on which server without adding plugin on the server.\r\n\r\nYou can only know the amount of player, but this can be faked. Here, you ping the server and you only find everything you can find.","title":"Get playerlist from java minecraft server using java","body":"<p>You can't know which player is on which server without adding plugin on the server.</p>\n<p>You can only know the amount of player, but this can be faked. Here, you ping the server and you only find everything you can find.</p>\n"},{"tags":[],"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655672656,"creation_date":1655672656,"answer_id":72680334,"question_id":72676063,"body_markdown":"With the server you are currently pinging, it wont work. Servers can choose to override the players they send, and it can be faked. For other servers, you can receive (a sample) of this data:\r\n[wiki.vg][1] (lovely for packet things) states that it will be under the sample field, where you can find some of the players on the server. For smaller servers, it may show the whole player list. Try hosting your own vanilla server to see if it works.\r\n\r\n\r\n  [1]: https://wiki.vg/Server_List_Ping#Response","title":"Get playerlist from java minecraft server using java","body":"<p>With the server you are currently pinging, it wont work. Servers can choose to override the players they send, and it can be faked. For other servers, you can receive (a sample) of this data:\n<a href=\"https://wiki.vg/Server_List_Ping#Response\" rel=\"nofollow noreferrer\">wiki.vg</a> (lovely for packet things) states that it will be under the sample field, where you can find some of the players on the server. For smaller servers, it may show the whole player list. Try hosting your own vanilla server to see if it works.</p>\n"}],"owner":{"account_id":25591945,"reputation":7,"user_id":19368518,"display_name":"caelanTheCoder_64"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"answer_count":2,"score":-4,"last_activity_date":1655672656,"creation_date":1655634435,"question_id":72676063,"body_markdown":"I am working on a Minecraft server sniffer to find users by username one of the first steps to do this is to get the username data to find a match\r\n\r\n```\r\nimport java.net.Socket;\r\nimport java.io.DataOutputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.DataInputStream;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.charset.Charset;  \r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Base64;\r\n\r\npublic class ph{\r\n\r\npublic static void main(String [] args) throws IOException {\r\n    String address = &quot;185.199.95.86&quot;;\r\n    int port = 25565;\r\n\r\n    InetSocketAddress host = new InetSocketAddress(address, port);\r\n    Socket socket = new Socket();\r\n    System.out.println(&quot;Connecting...&quot;);\r\n    socket.connect(host, port);\r\n    System.out.println(&quot;Done!&quot;);\r\n    System.out.println(&quot;Making streams...&quot;);\r\n    DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n    DataInputStream input = new DataInputStream(socket.getInputStream());\r\n\r\n    System.out.println(&quot;Done!&quot;);\r\n    System.out.println(&quot;Attempting handshake... &quot;+host.getAddress().toString());\r\n\r\n\r\n    byte [] handshakeMessage = createHandshakeMessage(address, port);\r\n\r\n    // C-&gt;S : Handshake State=1\r\n    // send packet length and packet\r\n    writeVarInt(output, handshakeMessage.length);\r\n    output.write(handshakeMessage);\r\n\r\n    // C-&gt;S : Request\r\n    output.writeByte(0x01); //size is only 1\r\n    output.writeByte(0x00); //packet id for ping\r\n\r\n\r\n    // S-&gt;C : Response\r\n    int size = readVarInt(input);\r\n    int packetId = readVarInt(input);\r\n\r\n    if (packetId == -1) {\r\n        throw new IOException(&quot;Premature end of stream.&quot;);\r\n    }\r\n\r\n    if (packetId != 0x00) { //we want a status response\r\n        throw new IOException(&quot;Invalid packetID&quot;);\r\n    }\r\n    int length = readVarInt(input); //length of json string\r\n\r\n    if (length == -1) {\r\n        throw new IOException(&quot;Premature end of stream.&quot;);\r\n    }\r\n\r\n    if (length == 0) {\r\n        throw new IOException(&quot;Invalid string length.&quot;);\r\n    }\r\n\r\n    byte[] in = new byte[length];\r\n    input.readFully(in);  //read json string\r\n    String json = new String(in);\r\n\r\n    // C-&gt;S : Ping\r\n    long now = System.currentTimeMillis();\r\n    output.writeByte(0x09); //size of packet\r\n    output.writeByte(0x01); //0x01 for ping\r\n    output.writeLong(now); //time!?\r\n\r\n    // S-&gt;C : Pong\r\n    readVarInt(input);\r\n    packetId = readVarInt(input);\r\n    if (packetId == -1) {\r\n        throw new IOException(&quot;Premature end of stream.&quot;);\r\n    }\r\n\r\n    if (packetId != 0x01) {\r\n        throw new IOException(&quot;Invalid packetID&quot;);\r\n    }\r\n    long pingtime = input.readLong(); //read response\r\n\r\n\r\n    // print out server info\r\n    System.out.println(json);\r\n\r\n    System.out.println(&quot;Done!&quot;);\r\n}\r\n\r\npublic static byte [] createHandshakeMessage(String host, int port) throws IOException {\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n\r\n    DataOutputStream handshake = new DataOutputStream(buffer);\r\n    handshake.writeByte(0x00); //packet id for handshake\r\n    writeVarInt(handshake, 4); //protocol version\r\n    writeString(handshake, host, StandardCharsets.UTF_8);\r\n    handshake.writeShort(port); //port\r\n    writeVarInt(handshake, 1); //state (1 for handshake)\r\n\r\n    return buffer.toByteArray();\r\n}\r\n\r\npublic static void writeString(DataOutputStream out, String string, Charset charset) throws IOException {\r\n    byte [] bytes = string.getBytes(charset);\r\n    writeVarInt(out, bytes.length);\r\n    out.write(bytes);\r\n}\r\n\r\npublic static void writeVarInt(DataOutputStream out, int paramInt) throws IOException {\r\n    while (true) {\r\n        if ((paramInt &amp; 0xFFFFFF80) == 0) {\r\n          out.writeByte(paramInt);\r\n          return;\r\n        }\r\n\r\n        out.writeByte(paramInt &amp; 0x7F | 0x80);\r\n        paramInt &gt;&gt;&gt;= 7;\r\n    }\r\n}\r\n\r\npublic static int readVarInt(DataInputStream in) throws IOException {\r\n    int i = 0;\r\n    int j = 0;\r\n    while (true) {\r\n        int k = in.readByte();\r\n        i |= (k &amp; 0x7F) &lt;&lt; j++ * 7;\r\n        if (j &gt; 5) throw new RuntimeException(&quot;VarInt too big&quot;);\r\n        if ((k &amp; 0x80) != 128) break;\r\n    }\r\n    return i;\r\n}\r\n}\r\n```\r\nI heard that the server will send a player info packet but all i get is:\r\n```\r\n{&quot;version&quot;:{&quot;protocol&quot;:4,&quot;name&quot;:&quot;Arcim 1.19&quot;},&quot;players&quot;:{&quot;online&quot;:5638,&quot;max&quot;:5639,&quot;sample&quot;:[]},&quot;description&quot;:{&quot;text&quot;:&quot;            &#167;6●&#167;e●&#167;6● &#167;7&#167;lMC&#167;6&#167;lHUB &#167;7[&#167;a1.8&#167;7-&#167;a1.18&#167;7] &#167;6●&#167;e●&#167;6●&#167;r \\n       &#167;6➥ &#167;b&#167;lPRISON&#167;7, &#167;e&#167;lSKYBLOCK&#167;7, &#167;a&#167;lSURVIVAL&#167;7!&#167;r&#167;r&quot;},&quot;favicon&quot;:&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAbD0lEQVR4Xu1bd1RVR7cfQIrCvcClXjpcuJRLF9RYEjUmn9FYMHaNxmgSG92CLTZU7FJEkF6kgyiKdFBBFNTPfOZ9ibGBCkqTquaLmt9bM+feGyTlrffWiu8fZ63fOsCZ2bP3b/bsvc+cAyHv2rv2rr1r79q79r9pPELISkLIZim+/QO4DxxECDElhGwkhGwnhGwjhOwghOz8C+z6C+whhIT0A/2b3cAJ/65GDbnn5uaGmZ99hhkzZmCGlxeHGV6wtLAAISSREKI0QIFRyoMG9X00YQIWLJiPefPmYvasWZyM6dOhr6dHx4HP58PLywvz5s3D3LlzMXfOHMybO1eOBfPnY+H8+ey6YN48TJo4EWpqai8JIVP/LoMHNgslJaUHgYGBqKurw40bN/DPf/6Tgf5MlSSEPCKESAaMG8Pj8foyMtJx/949/HTrFr777js25srlyxjm6cEIsLW1xfnz5+X3+uNf332HWz/+yMZS/PDvfyMlKQk6AsErQshnA+b725q1srJy06pVq5CXl4erV6/i2rVrcixetAiDBg2ixmwYoMH7PB7vWVJiIm7f/gk3b96Uj71UUwNPj6FyAioqKtjf6f3++O7GDWa0DPX19Th44AB0dXReE0Lm/G0WD2h2KioqT3x8fBAZGYns7Gzk5uYyUEKoWw8ZMoQac5cQMowQYk0IiSKEFPH5/JeRERE4X1WJU/n5yMnJYchIT4eToyMjwMbGBikpKUye7L4MpcXFqKqoQFV5OSrLytjcu3ftotvnV0LIwoGK/l3NSU1Nrd3f3x/h4eFISEhgSEpKQnJyMg4dPIgNQUHMEEJIJCFkrKqKyjO6NTZt3IjMjHSczs9nfRMTE9m4uNhYSBwcGAEikQjHjx9n9+k9CtYvMRG7g4OxZdMmbN64EZuCghDg74fPFywAn8ejYxf/XQYPbG6DBw9+SmNARESE3PDU1FQG6r63b9/GtKlTqVK3CSFfafL5bO83NDSg+uJFtnK0Lx1HVzsxIQGO/QiIjY3FiRMnWB96n/ZLiI/H6NGjYWVlxfpQWItEEGhr03FthJDhAxX9u9owdXX17nXr1jECqIJpaWlM4aysLJSVlaK+vg6fzZgBJSUlGp1zNDU1e2OOH2f7/uLFi8jIyGD9ZeMoiY4SyRsEpKeny+/TnxMT4uHh4QFDQ0MIhUIYGRnBwMBAFm9iCCGD/i6DB7ZRNJoHBQUxAqiS1CB6PXXqFCrKy1BWWso8QFlZmSrXqaWl9epoRAQqKypw+vRpuXF0HEVychKcpTGAEkC3FO0jQ052NlKSEmFpacn6KCgoyEEIaZHGmrfWxvL5/OebNm1iQZAakJmZyVa/6Nw5VJSXM8THxiJk924E79iB/Xv3Ii83F6UlJSyY0VWVjaNISUl+gwC65/uTdCr/JNJSUmDFEZBDCFlFCPEmhPgSQmYQQpTfmvWEkI+0tLR+3rJlCyNAZnx+fj7KyspYDKisrER9XR3u3b3Lcj4FzfXnCgtZf2qYbBzFidRUODtxBNA9TreEbPWzs7Jw7uxZpJ9IZfcIIX5v09g/apN0BIJftm7dygigK0rTX3FxMStgqqqqcOH8eRbs6q5cwdX6ekZGbe0lnCkoYAbTMf3TZ3paGlycnd8ggN6nOJmXh4rSUmSmpcHaWkT7BA5U6G236Xp6ei+3b9+OqKgopiTd13TVq6urUVNdzYy/cOECzp+vwkXple5/6iXU4JMnT8rrBnrNysyEqwtHAN3ndAvQPhQFBadZ7s9MT4eYS63r3rbBA9tsAwOD1zt37kR0dDQz4OzZs8zo81VV2LljB6sDCqV/q754AVWVldi+bRt8fX2Z+1MiqHEyL6BBztXFhRFgYWHB0h7tQ1FSXMw8ICsjnVWJf1BhvvW2QCgU/hocHMwKFmpIaWkpampqWAwYP24cXF1dkZqczAiouXgR5WVloA9BEomEbRuaLahxf0YATa20T0FBASrLy1FeWoKczEzY2dnRPpveusUD2hITExPs3r0bMTExKCwsZLV87aVLzM3HjR3LCpS4mBjm/pdra1n0HzVqFMvboaGhzGPotqFGUpw8mQc3V1c5AbQAon1KS0twoaoS1efPIzcrCw5csbRTGvUHD8BbywTfmJmZYc+ePYwA6t70qbC2tpat9Pvvv88CGa3caNFz5cplFJw+jRHDh0NHR4cRQEmjBNDrmbNnkZeXC3e33wig24QSQPd+9YXzqK2uRn5uLpydnGif+0qKihWKUtCfFRQULkhT4ltp3jRQhYSEsGhN0xuN8pQEutJjxoyBrq4u5syeA19vH/h5++KrpcsgthFDT08PR44cYcZTA8+dO8dAI72b629bgOZ+Ss75ykpcqq5mBBQVFrJnBvr0tzckhMOePdj27bewsbaG9IHrrbRAa2tr7Nu3j6W0uroruHKFA83z1NVVVFSgoqIKfT0DGOgbwlDfEFqaWtDX10fokSMs+lMCqJEUlABZDDA3N2cEFBcV4XxlBS5Vc3GEEvH9v/6F69euscdg+nhMSadPksM82FlC3FuxnkZhGo3pUx8NUvS5/fr160wpttdHjmQEUGP6l630Z0oAfYIsKipioMGT4vSpU3B3c5MTQIPjhaoq1NbU4EptLeouX8aV2ku4dPEiqzfoGBpwz5w5A1piDx/mSccmEUIU3gYJ22gwoimQKkGNp6c1165eZVXgiBEjZM8AvwMNgjRz0GKppKQE5eXlzBjqOR5D3eUE0Kxwta4O1+rrmfHXr9JrLequXGZlNh1D5zp79gyOR0dj5Hvv0bFpb4uA3XQl586ZC19vX6wNXIu1gWuwJiAQq5avhMRB8oYH9AdPQwML5y9AgF8A/Hx8WYzwXe0D75WrYGpiwvrQQLli+UpsDNqIjes3IGjdemxYH8RhXRDWBqxBgJ8/g7+PH75YtAjmZmZ0bBYhRPH/6gFK0sNO0V+AnuxYSWvxHurW6kPUwefx3wRfkz4G/854GdRU1cDnaTJo8jnQcYOU2GMtG0t/l937PbTkoHFFVVWVjqMnQuGEEEdCiFM/OP8J6D1+fwIMCSHVhJBm6YHmH6GpH34eaNj/M+iZ4FPpwUh7P3T8Cegj9MT+BFgQQhrN9NQx/yNHfD7R5Q0s+sQF0963xmAVJQxSVMDkURZY6uWCL6c7MyyVYpmXCxwsdeRkmBnwsWSyK5ZOcWf4aiqHr6cNxcwP7aGmMgiKCgr4ZJQVVsx2x/JZbm/is6FwEhnK5RnrauDrqe5YOcPzDaye5QmfeUN/B+85HvCeOQw+syiGw2/2CHzobk5l0VPkmf0JsKGr/6mzOpoSp+A/ZQH4T5k/h1J/vKwMQHPeQnzsoIXBygQlu9yA+lV4XeeN13Wr5UC9D/Yvc4eCVOGJbnroKViOX8oD8EvZb3hdFYAfMxdDqDMESooKOHVgMnDdB6/rvX8DlX3BH95eXHagmDnSDM+LvPGyPOANvLroi1/rvX+HVxf9futTEYifC7/GwUViKCiwLTO/PwEOhJDWac7KqN8oREf2fKnSlIQAvLzgj/bTC3BsjilEuso4E6CNn8tm4nWdD17VrZaDKl205T0Y8rgYMMFeDS1ps/BLeSAznCM1AK8u+KMhfzFEhhpQUiQo2D8RuPamrFe1PvilzAfLJ4nlBKyfIsLPRd5SWRyoji8v9R/rzV2veOOXSj9pnwD8p9QP98Lfwx4vAZQUFam8L/oT4Er30Gx3VdT48/DdDms8zZyB7pxZ6M6ZjefnZqI5bSKKV1hh5WhtnPUbgrZEO7wom46fGbwYXpTNQH2wB8Zbq3ME2Crjp8MeTE5X9mfozp7J8OLcDDzMnAQnMw0MUiQ4tcMDLyun40XpNA5l09BX4IXO9KlY9qERk6WipIDw+VboTJ+OrqwZcvTkeeFFCR039Q08L5qKrmwveb/m+AmoW6+L/TMFGKTECPimPwH0TK1noacqLgXwcSmQj5+C9XBvjy7u79VD23Ed3AuzQMlKK+z+VB8lgepoCuWjI14XT+N1pBCgI0Ef9VusMd2Jz5T+2E4Z1zdq436IPpN1b48eGvbpoCNOB3fDTeBiOoQRkOOniZ4kmSwBu994QAd39+hjyRh26ovByoo4NscQ9/YYSGXp4u5uXTSF6eBpApUpQHusAG0x3PiWY7SPjrSvDr7fKkBtIB9H5uhAZRAjgB6pydsYQsizL99TQ20AH7WBmvhpFzdJwz5tJvzuEQuUrLBC8GQ9lK+lBGiyiajSHXHa6IjVQke8Aeo2iTBFwhEw0UEF/9ykjXshlEw93N2ljUdHBOhM0MGdMBkBCsjx00J3opSAOAFaIrVwP4TOr48v3+cIUFNWxNHZ1HgDJu/ubgHu7RGgNYob1x6vj1JffWQsFOD6Nj00h3MLeHe3Nrv+1zYdRsDR+TpQVWZbdE1/AibQ1LZijBrrVLtGE7d36+NeiD4eHdZGZ6Ie7hy2QvEKS+yYrIuq9epopgTE6+Fpgj4jiJGQIETtBmtMdmAvKjBJooIbmwW4v5cqTZUXoCVKl5MXbgpnk8EcAf4C9CTrM1nUmEeHBVz/EEMs+0BKwCAFRMwyxL0QIZN3d7cOGvfroCOejtND9wkjZCw2QvhEfdRtNMLDw3S8PiOKeuC/t+sy26IX6mCwKiPgjXOFyYSQX3zHDmadLq/Vwt29Rri/1xAt0UJ0JRng9mFrFC23xPZJurgQpI7mMG10JhmhM8kQTxP10ZlogLY4E1SvE+MTO46ATx1V8N23emg4YMJkPTwsZF7SlSzEnQhLODECCHICdNCbaoTOZCO0x+mj8aAQ9/cJ0bDfBF+NFTBZqoMUEDbLEPf3maJhP6dbc4Qhm7871Qgv8kyQtEiI5NlGuLrZDA8OcXPe32fEZP2404DZFrdIB+pqrOiir+nljR4tv1o7gSPgyjptRkDjIWM8TTRFV4oQtw6KcO4bC2z9RAc1GykBWuhMNkZnEjXIGF0pxngcZYoLgTb42FaDKT3VSQX/+lYPjQdMmSIt0aboSjZiBNw9aiUlQKEfAUK0RBuh8aA5GvYbo2G/Kb4Z9xsBoTMN0bDfnBnUeNAM7XEmjIDedGM8yzPG/NFaiJwhRF2QORoPcnNSWY0HTPBjsAEuB/KRtEQH/MGMAPpdgbzRnPjrpn/ICNDC3RAhmsLN0Jliiq5UE9wJtcP5tU4IX2iOq1t5jAC28klCdKWasn4Pwy1R5W+DCWKOAC8XSoAOU/jBITN0JJixvl3JhrgdZgZHY46A3EB99KRQTzJAUwRV3oIZSA1YLiWAZoHDM6hbGzHPeBRmjs5kU+Y1PakGeJ5vjOVTjJG41BbXt1jj/j5DJqPxkAUeHLLA99sNUemtibiFOtAcwgg43J+AJYoKBNsnD5ESoIl7e4V4EiVVOMUET1PF6C2ahe7ShXiSIEETJSBBjylA+3QkmqLhsBUjYLwNlwY/c1XFTUrAXkM0RcjI5Aj4KdQUEhkBaygBBmiPFeLBYWo8hTnb6yvGacsJOOhlgLt7DJlHPTnG6Ubn707WwatCMdqK5qCr5HM0HXdnMYSt/kELNIea49I6c4T+QweTxUNY9UkIOdqfgBW0INkzdQjLAvVBOmg4aIGORBG6063RlWrBJus76YFXNYvwc8VstMZZoivVHF2pZuhOF6E93gb3D1qj0t8GH4g4Ama5qeD77QZ4cNgKbbGWTFZ3mhW6U01x56gNJEYyAgzRl26OlmhzPDxig4dhtmwMXbmVE3SZLGUlBRzwMkTDQREeHLZER5I1m7crxRS9GRZ4VTEBry8vw4viKXgUJsKDQ5Z4cFiEpnAxXiSYo36TBWbb86DKpUCK2P4E+NMJDnqpMwKubtDDowgxOlMs0J1hwxmZYcMM6M0bimdn3kd3liO6M8ToSrNCV5oIj6Oscf+QLSr9bTHGin0fgDlDVfHvYBM0R9rjabJMljl6MkS4E+UABzkBBujLFKM5UsyUfhhmx4x8FGaL1RO4T2eUFRWw30uIB0fs0RQhQucJETf3CUv0ZNnj2akReHZmDDpSJHgYaoNH4fZoPCxC+zERkGqKx/HjkfPtZAR/4QFtDfa4ntz//GADi7Iz1VkhdG2jPp4ct+cmkK5wT5YderPt0J1mKSekJ9MOPZm2zLiHoRZoDHNChZ8tRlpyBMz3UMUPwaZojXNAdzpnPFW4N8sOd6IkcgJOrjdB9wlqmAQPjlizfUu9oCncHt4fcwTQfnunUwIc0Bpnh64T1CvN0Z1hy/Sg8rtPmKEt1orJeRRBibBFe6QFXueMxsuib9CbMxvl60UwEbBH6Iz+3zFtH6ysgGNzpARs0kdrPF1dSy7NpFvjYZQVboaY4tZBI3QkGnETUmTYoCXGlEXdxlBHlPmKMcKcI4BWlj/uMkFHkpjJYAHzhAV6MmzwU6Q97IUcAXnrjNEeZ8ut/BERywCUgEehYvj0IyBkmiEaD9uiI5l6pwmDXI90G9wLpSnQGDd3WLHxD0PFaA6zQnf6RDxNm4Ib2yxQsFIACz01KvNk/6P0feqqCoidr8EIuLFViM50Z6mBYuZi14IliJpigNQ5AjQdNUBPpj16clzQk+WIJ9FiPKLKR7ihzNcWw8wGM6UXDVPFnQOW6Ml2QbdslTLE6Mt1xu1oV9hRApQIcteaoz3OHc3H3DjDwzlveHzMBX4T9ZksGqN2TxWi+ZgrujMduXiSbsPm78lxxrM8CYr9TBH6sS5KVlsxWY8iHPAo3I7bDqESXF6rjcJVAogMGAFnCSGqMgLC+GoKSPpcAzX+fNzcaYzuTAm6M23Rm+vKCLixywG5i80QO0uAOyE8VvT05rqgK80WT6Jd8DjKDY1hzijxEcPDlCPgixGqaAizYP2op9BrT5YDerMluH3cTUqAAjJ8TNB63A1Nkc6c4dEeUgJcEfCJAUeAAsGuKUK0xLmihy5KthMD3QJ9uS54VWCJ1G+EODrVANVrxGiKdGOGP44eiqajTmgMdcCVdQIUewtgK2T6lUhfqLAWrT1EEScWcwT8ECJkK0WN781zR2+uG67vsMeppebYOkkTP+zSwJNoISOoI9kBT44PY3gQMRTFq63hbsIYxlejVNF8zJjFiZ5sR05WnhuLAbciJbA1VGOunbZahCeRjlKFPZisx1HuaIpwkBNA0/TOTw3QmmDHFoST5Y7uTHv0Zonx+owJVnwqwJaP9FGzxhoPwuyZF3C6eaLxiC0joNRHAIkJ26JVhBANIo2ESboaisj8kse2wJ19WixdUaWZi2U749oOB+R/aY4tk/i4tVsDLceNWV5viXVAc6Qrmo+5oDFiKIpW28DViCPAe7wa2mJonWCGniyJVJYjetJF+CHUEmIpASdWWqE5zJpFb+rizZEuDA8OmSPgHwI5ATs+1UfrcRMu+DJ5EnSni9GdYoRfzxhj+WQBgsbr4YKfGe4fsJDLoTIbDlnj8hpNlPsK4GLGCKghhGgSaSTMNOQrIncZD5fX8PAo0oS5V99JT/Tlj0Bvnifqt9rh5BJzfDuZj5/2aKAlxgTdmU54EuOGlrhRaI0fhQdHPVG4UgQnIUfAmomqeJpgxmTR1eo7NQJ9J4exbdCc6om9K4ZhzTwP1AR74EkUp2hL7Ei0xI9mq9Z81AlrJ3NHYlyhZoD2ZEe2lfryhzMwz8pxwOsCM2Rv9sCpDWNx69AYNEW64knMcCarJfY9PAhzYOcBFb7a8LBkdUo9IURApJEw30RLEflf83A1iIeWOBH68ocx1+87PRLd2S6o2+qA3CVm2PopD7dDNNAaZ47unFF4fNyDUzpuJBrD3VG4ygYSQ5ZmsH6SKjpTbdF3+j0WMKksblsNxfOz4/C6ejFeln6D1oSxbPyT2BHMZVsT3mdktMa+h/VTuAMRBQWCrZMN8TRjOHrzXJnxvSc9mdxnBcPx8txIvCxahuenP0dHykfM8MdRQ5ksFgeiPFC/wQBVftoYwR3Y3CCE6FEC1Agh5yx0lHBmOQ83v+WhLcGGFTtUURYE8zxRt9UJOV+YYdsUHu7s1UB7ki06M8dKJ/Bge/Zh9BicWSmGvQFHwIbJauhKkzBZMkKpvGcFo9nfek6OQ3vSOLTGj0Zb4jgGuvJU4ScxI9Ce+AE2TJUSQAi2TKIEjMQzRqSbnFRaAPXkfYj2pPFojRuFtsQP0JY0jhHKdKNxJW4Mrm40xHl/bYzhHta+J4QIKQHqhJAKGz0lFK3k4VYwD23xVlJ2XVne7s71xOXNEmQvNsOOqTzc3Us9wBqtCSOYorTooOnmwbGRKFhuDVt9joDNU9TQmSJmsiiZrGqj24H97om2xKGs8GEKxoxgCjdHubFagLlvzDBsmCqUE7B5ogHaU93Rl+/JgjTNAJwsD7QnDePyfqQL50lUHg3MR2iV6o7m6GG4utEAF/y1MJ47r7glfRfCXhDUOBgOQpUfH/f28tCR4oDnheNZDGAekD8Kl7c4IXORGYKn8dCwXwOt8U7oSP0Y7ckf4gndBjHD8ChmPE4vt4GNHvdmaNs0NfRkOONF4XjpqlHXHYbnhePwrGA82hK5vU49gLotc122DTzQlvg+niZ/iM1e3Bsjio0TDfA0cwxenP0AfXR7nqRb6QM8PzMeHaljmSw6nslK/RhtCWPwJHooWuNGoi3pQ1zfYoyaAC1M5I7s6Ke8lkQaCOr1NBQR9KEGshZp4dxqM5SusUOxnyVKAsUo9hPh1DJLZC02xbyh6oifx0fhSgsU+UhwbrUtClda49wqMc6uECNjkbmcgFluaij2tUD5OnuUBYpQtlbMruXr7FC2xp5ljGIfe5xbZY1iXwmKfR1wbpUIxT527F6pnwMWDRfIPSBwnC4q19qhYr0YFeusUbHOBpVBtqgMkqDE1xYlvnYo9hazcaX+jij2pjLsWW1S6idB7heGCJumCQmXpRoJIWJZDAimx+L0gUOiq4K59ur43FGDg0QDixw1sMSFh688tWCgMQgmvEGYY6+OxU4aWOyogS+cfsMSNz70NbjXXDwVRcywVceXzhpY4sTrB/q7BpY48xi+ZNCQQvY7189Ck5NF8ZFoCL525WGpMw9LXTgsk+KrP4Irj/WXYbpYHXpD2HEYfbNF3ybryAoh+pmpp/ST03YFadSVgaYgCtkLD1lUlv19IGR9/qd+MtAq78/Qf84/7Kv416B1hgzSFyI3CSGLpLHvd01Z+tExfWmwhBCy9H/AV4SQr/8Cy/8CK6T/evNnkH0N+mfwkX4W82fwJ4QEDMBy2b5/1961d+1de9feNUL+GwBD8ozOF05aAAAAAElFTkSuQmCC&quot;,&quot;modinfo&quot;:{&quot;type&quot;:&quot;FML&quot;,&quot;modList&quot;:[]}}\r\n```\r\nWhat do all the letters mean and is it possible to get the player list from here?\r\n\r\nIf not, how can I get the player list?\r\n","title":"Get playerlist from java minecraft server using java","body":"<p>I am working on a Minecraft server sniffer to find users by username one of the first steps to do this is to get the username data to find a match</p>\n<pre><code>import java.net.Socket;\nimport java.io.DataOutputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.charset.Charset;  \nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\n\npublic class ph{\n\npublic static void main(String [] args) throws IOException {\n    String address = &quot;185.199.95.86&quot;;\n    int port = 25565;\n\n    InetSocketAddress host = new InetSocketAddress(address, port);\n    Socket socket = new Socket();\n    System.out.println(&quot;Connecting...&quot;);\n    socket.connect(host, port);\n    System.out.println(&quot;Done!&quot;);\n    System.out.println(&quot;Making streams...&quot;);\n    DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n    DataInputStream input = new DataInputStream(socket.getInputStream());\n\n    System.out.println(&quot;Done!&quot;);\n    System.out.println(&quot;Attempting handshake... &quot;+host.getAddress().toString());\n\n\n    byte [] handshakeMessage = createHandshakeMessage(address, port);\n\n    // C-&gt;S : Handshake State=1\n    // send packet length and packet\n    writeVarInt(output, handshakeMessage.length);\n    output.write(handshakeMessage);\n\n    // C-&gt;S : Request\n    output.writeByte(0x01); //size is only 1\n    output.writeByte(0x00); //packet id for ping\n\n\n    // S-&gt;C : Response\n    int size = readVarInt(input);\n    int packetId = readVarInt(input);\n\n    if (packetId == -1) {\n        throw new IOException(&quot;Premature end of stream.&quot;);\n    }\n\n    if (packetId != 0x00) { //we want a status response\n        throw new IOException(&quot;Invalid packetID&quot;);\n    }\n    int length = readVarInt(input); //length of json string\n\n    if (length == -1) {\n        throw new IOException(&quot;Premature end of stream.&quot;);\n    }\n\n    if (length == 0) {\n        throw new IOException(&quot;Invalid string length.&quot;);\n    }\n\n    byte[] in = new byte[length];\n    input.readFully(in);  //read json string\n    String json = new String(in);\n\n    // C-&gt;S : Ping\n    long now = System.currentTimeMillis();\n    output.writeByte(0x09); //size of packet\n    output.writeByte(0x01); //0x01 for ping\n    output.writeLong(now); //time!?\n\n    // S-&gt;C : Pong\n    readVarInt(input);\n    packetId = readVarInt(input);\n    if (packetId == -1) {\n        throw new IOException(&quot;Premature end of stream.&quot;);\n    }\n\n    if (packetId != 0x01) {\n        throw new IOException(&quot;Invalid packetID&quot;);\n    }\n    long pingtime = input.readLong(); //read response\n\n\n    // print out server info\n    System.out.println(json);\n\n    System.out.println(&quot;Done!&quot;);\n}\n\npublic static byte [] createHandshakeMessage(String host, int port) throws IOException {\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n\n    DataOutputStream handshake = new DataOutputStream(buffer);\n    handshake.writeByte(0x00); //packet id for handshake\n    writeVarInt(handshake, 4); //protocol version\n    writeString(handshake, host, StandardCharsets.UTF_8);\n    handshake.writeShort(port); //port\n    writeVarInt(handshake, 1); //state (1 for handshake)\n\n    return buffer.toByteArray();\n}\n\npublic static void writeString(DataOutputStream out, String string, Charset charset) throws IOException {\n    byte [] bytes = string.getBytes(charset);\n    writeVarInt(out, bytes.length);\n    out.write(bytes);\n}\n\npublic static void writeVarInt(DataOutputStream out, int paramInt) throws IOException {\n    while (true) {\n        if ((paramInt &amp; 0xFFFFFF80) == 0) {\n          out.writeByte(paramInt);\n          return;\n        }\n\n        out.writeByte(paramInt &amp; 0x7F | 0x80);\n        paramInt &gt;&gt;&gt;= 7;\n    }\n}\n\npublic static int readVarInt(DataInputStream in) throws IOException {\n    int i = 0;\n    int j = 0;\n    while (true) {\n        int k = in.readByte();\n        i |= (k &amp; 0x7F) &lt;&lt; j++ * 7;\n        if (j &gt; 5) throw new RuntimeException(&quot;VarInt too big&quot;);\n        if ((k &amp; 0x80) != 128) break;\n    }\n    return i;\n}\n}\n</code></pre>\n<p>I heard that the server will send a player info packet but all i get is:</p>\n<pre><code>{&quot;version&quot;:{&quot;protocol&quot;:4,&quot;name&quot;:&quot;Arcim 1.19&quot;},&quot;players&quot;:{&quot;online&quot;:5638,&quot;max&quot;:5639,&quot;sample&quot;:[]},&quot;description&quot;:{&quot;text&quot;:&quot;            §6●§e●§6● §7§lMC§6§lHUB §7[§a1.8§7-§a1.18§7] §6●§e●§6●§r \\n       §6➥ §b§lPRISON§7, §e§lSKYBLOCK§7, §a§lSURVIVAL§7!§r§r&quot;},&quot;favicon&quot;:&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAbD0lEQVR4Xu1bd1RVR7cfQIrCvcClXjpcuJRLF9RYEjUmn9FYMHaNxmgSG92CLTZU7FJEkF6kgyiKdFBBFNTPfOZ9ibGBCkqTquaLmt9bM+feGyTlrffWiu8fZ63fOsCZ2bP3b/bsvc+cAyHv2rv2rr1r79q79r9pPELISkLIZim+/QO4DxxECDElhGwkhGwnhGwjhOwghOz8C+z6C+whhIT0A/2b3cAJ/65GDbnn5uaGmZ99hhkzZmCGlxeHGV6wtLAAISSREKI0QIFRyoMG9X00YQIWLJiPefPmYvasWZyM6dOhr6dHx4HP58PLywvz5s3D3LlzMXfOHMybO1eOBfPnY+H8+ey6YN48TJo4EWpqai8JIVP/LoMHNgslJaUHgYGBqKurw40bN/DPf/6Tgf5MlSSEPCKESAaMG8Pj8foyMtJx/949/HTrFr777js25srlyxjm6cEIsLW1xfnz5+X3+uNf332HWz/+yMZS/PDvfyMlKQk6AsErQshnA+b725q1srJy06pVq5CXl4erV6/i2rVrcixetAiDBg2ixmwYoMH7PB7vWVJiIm7f/gk3b96Uj71UUwNPj6FyAioqKtjf6f3++O7GDWa0DPX19Th44AB0dXReE0Lm/G0WD2h2KioqT3x8fBAZGYns7Gzk5uYyUEKoWw8ZMoQac5cQMowQYk0IiSKEFPH5/JeRERE4X1WJU/n5yMnJYchIT4eToyMjwMbGBikpKUye7L4MpcXFqKqoQFV5OSrLytjcu3ftotvnV0LIwoGK/l3NSU1Nrd3f3x/h4eFISEhgSEpKQnJyMg4dPIgNQUHMEEJIJCFkrKqKyjO6NTZt3IjMjHSczs9nfRMTE9m4uNhYSBwcGAEikQjHjx9n9+k9CtYvMRG7g4OxZdMmbN64EZuCghDg74fPFywAn8ejYxf/XQYPbG6DBw9+SmNARESE3PDU1FQG6r63b9/GtKlTqVK3CSFfafL5bO83NDSg+uJFtnK0Lx1HVzsxIQGO/QiIjY3FiRMnWB96n/ZLiI/H6NGjYWVlxfpQWItEEGhr03FthJDhAxX9u9owdXX17nXr1jECqIJpaWlM4aysLJSVlaK+vg6fzZgBJSUlGp1zNDU1e2OOH2f7/uLFi8jIyGD9ZeMoiY4SyRsEpKeny+/TnxMT4uHh4QFDQ0MIhUIYGRnBwMBAFm9iCCGD/i6DB7ZRNJoHBQUxAqiS1CB6PXXqFCrKy1BWWso8QFlZmSrXqaWl9epoRAQqKypw+vRpuXF0HEVychKcpTGAEkC3FO0jQ052NlKSEmFpacn6KCgoyEEIaZHGmrfWxvL5/OebNm1iQZAakJmZyVa/6Nw5VJSXM8THxiJk924E79iB/Xv3Ii83F6UlJSyY0VWVjaNISUl+gwC65/uTdCr/JNJSUmDFEZBDCFlFCPEmhPgSQmYQQpTfmvWEkI+0tLR+3rJlCyNAZnx+fj7KyspYDKisrER9XR3u3b3Lcj4FzfXnCgtZf2qYbBzFidRUODtxBNA9TreEbPWzs7Jw7uxZpJ9IZfcIIX5v09g/apN0BIJftm7dygigK0rTX3FxMStgqqqqcOH8eRbs6q5cwdX6ekZGbe0lnCkoYAbTMf3TZ3paGlycnd8ggN6nOJmXh4rSUmSmpcHaWkT7BA5U6G236Xp6ei+3b9+OqKgopiTd13TVq6urUVNdzYy/cOECzp+vwkXple5/6iXU4JMnT8rrBnrNysyEqwtHAN3ndAvQPhQFBadZ7s9MT4eYS63r3rbBA9tsAwOD1zt37kR0dDQz4OzZs8zo81VV2LljB6sDCqV/q754AVWVldi+bRt8fX2Z+1MiqHEyL6BBztXFhRFgYWHB0h7tQ1FSXMw8ICsjnVWJf1BhvvW2QCgU/hocHMwKFmpIaWkpampqWAwYP24cXF1dkZqczAiouXgR5WVloA9BEomEbRuaLahxf0YATa20T0FBASrLy1FeWoKczEzY2dnRPpveusUD2hITExPs3r0bMTExKCwsZLV87aVLzM3HjR3LCpS4mBjm/pdra1n0HzVqFMvboaGhzGPotqFGUpw8mQc3V1c5AbQAon1KS0twoaoS1efPIzcrCw5csbRTGvUHD8BbywTfmJmZYc+ePYwA6t70qbC2tpat9Pvvv88CGa3caNFz5cplFJw+jRHDh0NHR4cRQEmjBNDrmbNnkZeXC3e33wig24QSQPd+9YXzqK2uRn5uLpydnGif+0qKihWKUtCfFRQULkhT4ltp3jRQhYSEsGhN0xuN8pQEutJjxoyBrq4u5syeA19vH/h5++KrpcsgthFDT08PR44cYcZTA8+dO8dAI72b629bgOZ+Ss75ykpcqq5mBBQVFrJnBvr0tzckhMOePdj27bewsbaG9IHrrbRAa2tr7Nu3j6W0uroruHKFA83z1NVVVFSgoqIKfT0DGOgbwlDfEFqaWtDX10fokSMs+lMCqJEUlABZDDA3N2cEFBcV4XxlBS5Vc3GEEvH9v/6F69euscdg+nhMSadPksM82FlC3FuxnkZhGo3pUx8NUvS5/fr160wpttdHjmQEUGP6l630Z0oAfYIsKipioMGT4vSpU3B3c5MTQIPjhaoq1NbU4EptLeouX8aV2ku4dPEiqzfoGBpwz5w5A1piDx/mSccmEUIU3gYJ22gwoimQKkGNp6c1165eZVXgiBEjZM8AvwMNgjRz0GKppKQE5eXlzBjqOR5D3eUE0Kxwta4O1+rrmfHXr9JrLequXGZlNh1D5zp79gyOR0dj5Hvv0bFpb4uA3XQl586ZC19vX6wNXIu1gWuwJiAQq5avhMRB8oYH9AdPQwML5y9AgF8A/Hx8WYzwXe0D75WrYGpiwvrQQLli+UpsDNqIjes3IGjdemxYH8RhXRDWBqxBgJ8/g7+PH75YtAjmZmZ0bBYhRPH/6gFK0sNO0V+AnuxYSWvxHurW6kPUwefx3wRfkz4G/854GdRU1cDnaTJo8jnQcYOU2GMtG0t/l937PbTkoHFFVVWVjqMnQuGEEEdCiFM/OP8J6D1+fwIMCSHVhJBm6YHmH6GpH34eaNj/M+iZ4FPpwUh7P3T8Cegj9MT+BFgQQhrN9NQx/yNHfD7R5Q0s+sQF0963xmAVJQxSVMDkURZY6uWCL6c7MyyVYpmXCxwsdeRkmBnwsWSyK5ZOcWf4aiqHr6cNxcwP7aGmMgiKCgr4ZJQVVsx2x/JZbm/is6FwEhnK5RnrauDrqe5YOcPzDaye5QmfeUN/B+85HvCeOQw+syiGw2/2CHzobk5l0VPkmf0JsKGr/6mzOpoSp+A/ZQH4T5k/h1J/vKwMQHPeQnzsoIXBygQlu9yA+lV4XeeN13Wr5UC9D/Yvc4eCVOGJbnroKViOX8oD8EvZb3hdFYAfMxdDqDMESooKOHVgMnDdB6/rvX8DlX3BH95eXHagmDnSDM+LvPGyPOANvLroi1/rvX+HVxf9futTEYifC7/GwUViKCiwLTO/PwEOhJDWac7KqN8oREf2fKnSlIQAvLzgj/bTC3BsjilEuso4E6CNn8tm4nWdD17VrZaDKl205T0Y8rgYMMFeDS1ps/BLeSAznCM1AK8u+KMhfzFEhhpQUiQo2D8RuPamrFe1PvilzAfLJ4nlBKyfIsLPRd5SWRyoji8v9R/rzV2veOOXSj9pnwD8p9QP98Lfwx4vAZQUFam8L/oT4Er30Gx3VdT48/DdDms8zZyB7pxZ6M6ZjefnZqI5bSKKV1hh5WhtnPUbgrZEO7wom46fGbwYXpTNQH2wB8Zbq3ME2Crjp8MeTE5X9mfozp7J8OLcDDzMnAQnMw0MUiQ4tcMDLyun40XpNA5l09BX4IXO9KlY9qERk6WipIDw+VboTJ+OrqwZcvTkeeFFCR039Q08L5qKrmwveb/m+AmoW6+L/TMFGKTECPimPwH0TK1noacqLgXwcSmQj5+C9XBvjy7u79VD23Ed3AuzQMlKK+z+VB8lgepoCuWjI14XT+N1pBCgI0Ef9VusMd2Jz5T+2E4Z1zdq436IPpN1b48eGvbpoCNOB3fDTeBiOoQRkOOniZ4kmSwBu994QAd39+hjyRh26ovByoo4NscQ9/YYSGXp4u5uXTSF6eBpApUpQHusAG0x3PiWY7SPjrSvDr7fKkBtIB9H5uhAZRAjgB6pydsYQsizL99TQ20AH7WBmvhpFzdJwz5tJvzuEQuUrLBC8GQ9lK+lBGiyiajSHXHa6IjVQke8Aeo2iTBFwhEw0UEF/9ykjXshlEw93N2ljUdHBOhM0MGdMBkBCsjx00J3opSAOAFaIrVwP4TOr48v3+cIUFNWxNHZ1HgDJu/ubgHu7RGgNYob1x6vj1JffWQsFOD6Nj00h3MLeHe3Nrv+1zYdRsDR+TpQVWZbdE1/AibQ1LZijBrrVLtGE7d36+NeiD4eHdZGZ6Ie7hy2QvEKS+yYrIuq9epopgTE6+Fpgj4jiJGQIETtBmtMdmAvKjBJooIbmwW4v5cqTZUXoCVKl5MXbgpnk8EcAf4C9CTrM1nUmEeHBVz/EEMs+0BKwCAFRMwyxL0QIZN3d7cOGvfroCOejtND9wkjZCw2QvhEfdRtNMLDw3S8PiOKeuC/t+sy26IX6mCwKiPgjXOFyYSQX3zHDmadLq/Vwt29Rri/1xAt0UJ0JRng9mFrFC23xPZJurgQpI7mMG10JhmhM8kQTxP10ZlogLY4E1SvE+MTO46ATx1V8N23emg4YMJkPTwsZF7SlSzEnQhLODECCHICdNCbaoTOZCO0x+mj8aAQ9/cJ0bDfBF+NFTBZqoMUEDbLEPf3maJhP6dbc4Qhm7871Qgv8kyQtEiI5NlGuLrZDA8OcXPe32fEZP2404DZFrdIB+pqrOiir+nljR4tv1o7gSPgyjptRkDjIWM8TTRFV4oQtw6KcO4bC2z9RAc1GykBWuhMNkZnEjXIGF0pxngcZYoLgTb42FaDKT3VSQX/+lYPjQdMmSIt0aboSjZiBNw9aiUlQKEfAUK0RBuh8aA5GvYbo2G/Kb4Z9xsBoTMN0bDfnBnUeNAM7XEmjIDedGM8yzPG/NFaiJwhRF2QORoPcnNSWY0HTPBjsAEuB/KRtEQH/MGMAPpdgbzRnPjrpn/ICNDC3RAhmsLN0Jliiq5UE9wJtcP5tU4IX2iOq1t5jAC28klCdKWasn4Pwy1R5W+DCWKOAC8XSoAOU/jBITN0JJixvl3JhrgdZgZHY46A3EB99KRQTzJAUwRV3oIZSA1YLiWAZoHDM6hbGzHPeBRmjs5kU+Y1PakGeJ5vjOVTjJG41BbXt1jj/j5DJqPxkAUeHLLA99sNUemtibiFOtAcwgg43J+AJYoKBNsnD5ESoIl7e4V4EiVVOMUET1PF6C2ahe7ShXiSIEETJSBBjylA+3QkmqLhsBUjYLwNlwY/c1XFTUrAXkM0RcjI5Aj4KdQUEhkBaygBBmiPFeLBYWo8hTnb6yvGacsJOOhlgLt7DJlHPTnG6Ubn707WwatCMdqK5qCr5HM0HXdnMYSt/kELNIea49I6c4T+QweTxUNY9UkIOdqfgBW0INkzdQjLAvVBOmg4aIGORBG6063RlWrBJus76YFXNYvwc8VstMZZoivVHF2pZuhOF6E93gb3D1qj0t8GH4g4Ama5qeD77QZ4cNgKbbGWTFZ3mhW6U01x56gNJEYyAgzRl26OlmhzPDxig4dhtmwMXbmVE3SZLGUlBRzwMkTDQREeHLZER5I1m7crxRS9GRZ4VTEBry8vw4viKXgUJsKDQ5Z4cFiEpnAxXiSYo36TBWbb86DKpUCK2P4E+NMJDnqpMwKubtDDowgxOlMs0J1hwxmZYcMM6M0bimdn3kd3liO6M8ToSrNCV5oIj6Oscf+QLSr9bTHGin0fgDlDVfHvYBM0R9rjabJMljl6MkS4E+UABzkBBujLFKM5UsyUfhhmx4x8FGaL1RO4T2eUFRWw30uIB0fs0RQhQucJETf3CUv0ZNnj2akReHZmDDpSJHgYaoNH4fZoPCxC+zERkGqKx/HjkfPtZAR/4QFtDfa4ntz//GADi7Iz1VkhdG2jPp4ct+cmkK5wT5YderPt0J1mKSekJ9MOPZm2zLiHoRZoDHNChZ8tRlpyBMz3UMUPwaZojXNAdzpnPFW4N8sOd6IkcgJOrjdB9wlqmAQPjlizfUu9oCncHt4fcwTQfnunUwIc0Bpnh64T1CvN0Z1hy/Sg8rtPmKEt1orJeRRBibBFe6QFXueMxsuib9CbMxvl60UwEbBH6Iz+3zFtH6ysgGNzpARs0kdrPF1dSy7NpFvjYZQVboaY4tZBI3QkGnETUmTYoCXGlEXdxlBHlPmKMcKcI4BWlj/uMkFHkpjJYAHzhAV6MmzwU6Q97IUcAXnrjNEeZ8ut/BERywCUgEehYvj0IyBkmiEaD9uiI5l6pwmDXI90G9wLpSnQGDd3WLHxD0PFaA6zQnf6RDxNm4Ib2yxQsFIACz01KvNk/6P0feqqCoidr8EIuLFViM50Z6mBYuZi14IliJpigNQ5AjQdNUBPpj16clzQk+WIJ9FiPKLKR7ihzNcWw8wGM6UXDVPFnQOW6Ml2QbdslTLE6Mt1xu1oV9hRApQIcteaoz3OHc3H3DjDwzlveHzMBX4T9ZksGqN2TxWi+ZgrujMduXiSbsPm78lxxrM8CYr9TBH6sS5KVlsxWY8iHPAo3I7bDqESXF6rjcJVAogMGAFnCSGqMgLC+GoKSPpcAzX+fNzcaYzuTAm6M23Rm+vKCLixywG5i80QO0uAOyE8VvT05rqgK80WT6Jd8DjKDY1hzijxEcPDlCPgixGqaAizYP2op9BrT5YDerMluH3cTUqAAjJ8TNB63A1Nkc6c4dEeUgJcEfCJAUeAAsGuKUK0xLmihy5KthMD3QJ9uS54VWCJ1G+EODrVANVrxGiKdGOGP44eiqajTmgMdcCVdQIUewtgK2T6lUhfqLAWrT1EEScWcwT8ECJkK0WN781zR2+uG67vsMeppebYOkkTP+zSwJNoISOoI9kBT44PY3gQMRTFq63hbsIYxlejVNF8zJjFiZ5sR05WnhuLAbciJbA1VGOunbZahCeRjlKFPZisx1HuaIpwkBNA0/TOTw3QmmDHFoST5Y7uTHv0Zonx+owJVnwqwJaP9FGzxhoPwuyZF3C6eaLxiC0joNRHAIkJ26JVhBANIo2ESboaisj8kse2wJ19WixdUaWZi2U749oOB+R/aY4tk/i4tVsDLceNWV5viXVAc6Qrmo+5oDFiKIpW28DViCPAe7wa2mJonWCGniyJVJYjetJF+CHUEmIpASdWWqE5zJpFb+rizZEuDA8OmSPgHwI5ATs+1UfrcRMu+DJ5EnSni9GdYoRfzxhj+WQBgsbr4YKfGe4fsJDLoTIbDlnj8hpNlPsK4GLGCKghhGgSaSTMNOQrIncZD5fX8PAo0oS5V99JT/Tlj0Bvnifqt9rh5BJzfDuZj5/2aKAlxgTdmU54EuOGlrhRaI0fhQdHPVG4UgQnIUfAmomqeJpgxmTR1eo7NQJ9J4exbdCc6om9K4ZhzTwP1AR74EkUp2hL7Ei0xI9mq9Z81AlrJ3NHYlyhZoD2ZEe2lfryhzMwz8pxwOsCM2Rv9sCpDWNx69AYNEW64knMcCarJfY9PAhzYOcBFb7a8LBkdUo9IURApJEw30RLEflf83A1iIeWOBH68ocx1+87PRLd2S6o2+qA3CVm2PopD7dDNNAaZ47unFF4fNyDUzpuJBrD3VG4ygYSQ5ZmsH6SKjpTbdF3+j0WMKksblsNxfOz4/C6ejFeln6D1oSxbPyT2BHMZVsT3mdktMa+h/VTuAMRBQWCrZMN8TRjOHrzXJnxvSc9mdxnBcPx8txIvCxahuenP0dHykfM8MdRQ5ksFgeiPFC/wQBVftoYwR3Y3CCE6FEC1Agh5yx0lHBmOQ83v+WhLcGGFTtUURYE8zxRt9UJOV+YYdsUHu7s1UB7ki06M8dKJ/Bge/Zh9BicWSmGvQFHwIbJauhKkzBZMkKpvGcFo9nfek6OQ3vSOLTGj0Zb4jgGuvJU4ScxI9Ce+AE2TJUSQAi2TKIEjMQzRqSbnFRaAPXkfYj2pPFojRuFtsQP0JY0jhHKdKNxJW4Mrm40xHl/bYzhHta+J4QIKQHqhJAKGz0lFK3k4VYwD23xVlJ2XVne7s71xOXNEmQvNsOOqTzc3Us9wBqtCSOYorTooOnmwbGRKFhuDVt9joDNU9TQmSJmsiiZrGqj24H97om2xKGs8GEKxoxgCjdHubFagLlvzDBsmCqUE7B5ogHaU93Rl+/JgjTNAJwsD7QnDePyfqQL50lUHg3MR2iV6o7m6GG4utEAF/y1MJ47r7glfRfCXhDUOBgOQpUfH/f28tCR4oDnheNZDGAekD8Kl7c4IXORGYKn8dCwXwOt8U7oSP0Y7ckf4gndBjHD8ChmPE4vt4GNHvdmaNs0NfRkOONF4XjpqlHXHYbnhePwrGA82hK5vU49gLotc122DTzQlvg+niZ/iM1e3Bsjio0TDfA0cwxenP0AfXR7nqRb6QM8PzMeHaljmSw6nslK/RhtCWPwJHooWuNGoi3pQ1zfYoyaAC1M5I7s6Ke8lkQaCOr1NBQR9KEGshZp4dxqM5SusUOxnyVKAsUo9hPh1DJLZC02xbyh6oifx0fhSgsU+UhwbrUtClda49wqMc6uECNjkbmcgFluaij2tUD5OnuUBYpQtlbMruXr7FC2xp5ljGIfe5xbZY1iXwmKfR1wbpUIxT527F6pnwMWDRfIPSBwnC4q19qhYr0YFeusUbHOBpVBtqgMkqDE1xYlvnYo9hazcaX+jij2pjLsWW1S6idB7heGCJumCQmXpRoJIWJZDAimx+L0gUOiq4K59ur43FGDg0QDixw1sMSFh688tWCgMQgmvEGYY6+OxU4aWOyogS+cfsMSNz70NbjXXDwVRcywVceXzhpY4sTrB/q7BpY48xi+ZNCQQvY7189Ck5NF8ZFoCL525WGpMw9LXTgsk+KrP4Irj/WXYbpYHXpD2HEYfbNF3ybryAoh+pmpp/ST03YFadSVgaYgCtkLD1lUlv19IGR9/qd+MtAq78/Qf84/7Kv416B1hgzSFyI3CSGLpLHvd01Z+tExfWmwhBCy9H/AV4SQr/8Cy/8CK6T/evNnkH0N+mfwkX4W82fwJ4QEDMBy2b5/1961d+1de9feNUL+GwBD8ozOF05aAAAAAElFTkSuQmCC&quot;,&quot;modinfo&quot;:{&quot;type&quot;:&quot;FML&quot;,&quot;modList&quot;:[]}}\n</code></pre>\n<p>What do all the letters mean and is it possible to get the player list from here?</p>\n<p>If not, how can I get the player list?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":0,"creation_date":1655477236,"post_id":72660668,"comment_id":128348740,"body_markdown":"Did you try to put `@Transient` annotation to the getter, not to the private member `invisibleName`?","body":"Did you try to put <code>@Transient</code> annotation to the getter, not to the private member <code>invisibleName</code>?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1655477717,"post_id":72660668,"comment_id":128348940,"body_markdown":"You should remove the ‘@id’ annotation from ‘getDeviceId’","body":"You should remove the ‘@id’ annotation from ‘getDeviceId’"}],"answers":[{"tags":[],"owner":{"account_id":15226050,"reputation":1,"user_id":10986670,"display_name":"Muhammed Topg&#252;l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655671849,"creation_date":1655502543,"answer_id":72665112,"question_id":72660668,"body_markdown":"You should move the `@Transient` annotation above the `getInvisibleName()` method.","title":"Transient/Final Variable in Spring boot entity causing Error","body":"<p>You should move the <code>@Transient</code> annotation above the <code>getInvisibleName()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":14012792,"reputation":9,"user_id":10120999,"display_name":"Cvh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1655646298,"creation_date":1655646298,"answer_id":72677361,"question_id":72660668,"body_markdown":"Thank you all for your help. I removed the extraneous @Id on the &#39;getDeviceId&#39; and moved the @Transient to the getter. I also noticed that apparently Spring had created an &#39;invisibleName&#39; entry in the database causing a mismatch with my @Entity class. I removed the field from the database and that resolved the issue. ","title":"Transient/Final Variable in Spring boot entity causing Error","body":"<p>Thank you all for your help. I removed the extraneous @Id on the 'getDeviceId' and moved the @Transient to the getter. I also noticed that apparently Spring had created an 'invisibleName' entry in the database causing a mismatch with my @Entity class. I removed the field from the database and that resolved the issue.</p>\n"}],"owner":{"account_id":14012792,"reputation":9,"user_id":10120999,"display_name":"Cvh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655671849,"creation_date":1655474939,"question_id":72660668,"body_markdown":"I am a new to Spring boot so I apologize if this is a easily resolved issue. \r\n\r\nI am seeing a problem running springboot after I added a @Transient final variable to my entity. Essentially I need a constant variable in my class that stores a string that I do not want stored in the database. \r\n\r\nAdding in just this variable causes no issues with spring and the program runs as expected however, if I add a getter for this variable Springboot raises the exception: \r\n\r\n`org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister`\r\n\r\n\r\nHere is my code causing the issue (I am not even calling the getter yet and it&#39;s causing this issue): \r\n```\r\n@ApiModel(description = &quot;This class represents a device with its basic information.&quot;)\r\n@Entity\r\n@Table(name = &quot;device&quot;)\r\npublic class Device {\r\n\r\n    @Transient\r\n    private final String invisibleName = &quot;Jwfqp4bbqiFzRLcFVV3qf&quot;;\r\n\r\n    @Id\r\n    @ApiModelProperty(notes = &quot;A UUID number to identify the device in the system.&quot;)\r\n    private String deviceId;\r\n    @ApiModelProperty(notes = &quot;The device IP address of the device, this is also a unique identifier.&quot;)\r\n    private String ipAddress;\r\n\r\n    public Device() {\r\n\r\n    }\r\n\r\n    @Id\r\n    public String getDeviceId() {\r\n        return deviceId;\r\n    }\r\n\r\n    public void setDeviceId(String deviceUuid) {\r\n        this.deviceId = deviceUuid;\r\n    }\r\n\r\n    public String getIpAddress() {\r\n        return ipAddress;\r\n    }\r\n\r\n    public void setIpAddress(String ipAddress) {\r\n        this.ipAddress = ipAddress;\r\n    }\r\n\r\n   public String getInvisibleName(){\r\n        return invisibleName;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my pom\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;project-name&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;projectName&lt;/name&gt;\r\n    &lt;description&gt;Project Name&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nOne important thing that I&#39;ve noticed is that I can resolve the building issue by adding a useless parameter to the the getter such as:\r\n```\r\npublic String getInvisibleName(int temp){\r\n        return invisibleName;\r\n}\r\n```\r\nbut If possible I would like to get to the bottom of this issue so I don&#39;t have useless parameters in my getter. \r\n\r\nLet me know if I need to provide any additional information.\r\n\r\nThanks","title":"Transient/Final Variable in Spring boot entity causing Error","body":"<p>I am a new to Spring boot so I apologize if this is a easily resolved issue.</p>\n<p>I am seeing a problem running springboot after I added a @Transient final variable to my entity. Essentially I need a constant variable in my class that stores a string that I do not want stored in the database.</p>\n<p>Adding in just this variable causes no issues with spring and the program runs as expected however, if I add a getter for this variable Springboot raises the exception:</p>\n<p><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister</code></p>\n<p>Here is my code causing the issue (I am not even calling the getter yet and it's causing this issue):</p>\n<pre><code>@ApiModel(description = &quot;This class represents a device with its basic information.&quot;)\n@Entity\n@Table(name = &quot;device&quot;)\npublic class Device {\n\n    @Transient\n    private final String invisibleName = &quot;Jwfqp4bbqiFzRLcFVV3qf&quot;;\n\n    @Id\n    @ApiModelProperty(notes = &quot;A UUID number to identify the device in the system.&quot;)\n    private String deviceId;\n    @ApiModelProperty(notes = &quot;The device IP address of the device, this is also a unique identifier.&quot;)\n    private String ipAddress;\n\n    public Device() {\n\n    }\n\n    @Id\n    public String getDeviceId() {\n        return deviceId;\n    }\n\n    public void setDeviceId(String deviceUuid) {\n        this.deviceId = deviceUuid;\n    }\n\n    public String getIpAddress() {\n        return ipAddress;\n    }\n\n    public void setIpAddress(String ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n\n   public String getInvisibleName(){\n        return invisibleName;\n    }\n\n}\n</code></pre>\n<p>Here is my pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project-name&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;projectName&lt;/name&gt;\n    &lt;description&gt;Project Name&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>One important thing that I've noticed is that I can resolve the building issue by adding a useless parameter to the the getter such as:</p>\n<pre><code>public String getInvisibleName(int temp){\n        return invisibleName;\n}\n</code></pre>\n<p>but If possible I would like to get to the bottom of this issue so I don't have useless parameters in my getter.</p>\n<p>Let me know if I need to provide any additional information.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1631910586,"post_id":69224932,"comment_id":122360606,"body_markdown":"several things why do you have a custom `UsernamePasswordAuthenticationFilter` when there is already one built into spring security. You should remove this and use the default built in one and customize the built in one to your needs if you have something crazy. Second you can implement a https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AuthenticationFailureHandler.html and return a 302 FOUND response, with a Location header pointing to your login page.","body":"several things why do you have a custom <code>UsernamePasswordAuthenticationFilter</code> when there is already one built into spring security. You should remove this and use the default built in one and customize the built in one to your needs if you have something crazy. Second you can implement a <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/authentication/AuthenticationFailureHandler.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/api/org/&hellip;</a> and return a 302 FOUND response, with a Location header pointing to your login page."},{"owner":{"account_id":18144791,"reputation":191,"user_id":13198233,"display_name":"Terskel"},"score":1,"creation_date":1632166809,"post_id":69224932,"comment_id":122415475,"body_markdown":"Hi. How is your client supposed to authenticate against your backend? Basic auth, Bearer token, etc. I assume your authenticationFilter() plays a role here? If so, it would be nice if you could include its code.","body":"Hi. How is your client supposed to authenticate against your backend? Basic auth, Bearer token, etc. I assume your authenticationFilter() plays a role here? If so, it would be nice if you could include its code."},{"owner":{"account_id":13822754,"reputation":392,"user_id":9977815,"display_name":"mnagdev"},"score":0,"creation_date":1632576360,"post_id":69224932,"comment_id":122533127,"body_markdown":"@Johnyb please add the code you&#39;re currently have for authenticationFilter()","body":"@Johnyb please add the code you&#39;re currently have for authenticationFilter()"}],"answers":[{"tags":[],"owner":{"account_id":21551413,"reputation":26,"user_id":15887462,"display_name":"Jo&#227;o Machado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632128862,"creation_date":1632128862,"answer_id":69251778,"question_id":69224932,"body_markdown":"I agree with Toerktumlare 100%. You really should use the default implementations that Spring Security Framework offers and if you really need to add additional configuration that cannot be passed by values, then you should extend the original Spring Security Class.\r\n\r\nIn this case, you just have to specify the endpoint where your login page is:\r\n\r\n    .formLogin()\r\n    .loginPage(&quot;/yourLoginPage.html&quot;)\r\n    .loginProcessingUrl(&quot;/doLgin&quot;)\r\n    .defaultSuccessUrl(&quot;/yourHomePahe.html&quot;, true)","title":"Spring security and REST API login","body":"<p>I agree with Toerktumlare 100%. You really should use the default implementations that Spring Security Framework offers and if you really need to add additional configuration that cannot be passed by values, then you should extend the original Spring Security Class.</p>\n<p>In this case, you just have to specify the endpoint where your login page is:</p>\n<pre><code>.formLogin()\n.loginPage(&quot;/yourLoginPage.html&quot;)\n.loginProcessingUrl(&quot;/doLgin&quot;)\n.defaultSuccessUrl(&quot;/yourHomePahe.html&quot;, true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13348190,"reputation":1,"user_id":9634179,"display_name":"Mohit Raghuvanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655671571,"creation_date":1655671571,"answer_id":72680238,"question_id":69224932,"body_markdown":"When you use the **GET** method, you will get html page. As I understand you need **POST** API call, [Post API call to get JWT access_tocken and refresh tocken][1]\r\n\r\nyou can use &quot;/login&quot; as API in **post** call to send a username and password; in response, you will get a token or anything that you send after successful authentication. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UayoR.png","title":"Spring security and REST API login","body":"<p>When you use the <strong>GET</strong> method, you will get html page. As I understand you need <strong>POST</strong> API call, <a href=\"https://i.stack.imgur.com/UayoR.png\" rel=\"nofollow noreferrer\">Post API call to get JWT access_tocken and refresh tocken</a></p>\n<p>you can use &quot;/login&quot; as API in <strong>post</strong> call to send a username and password; in response, you will get a token or anything that you send after successful authentication.</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1578,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1655671571,"creation_date":1631888159,"question_id":69224932,"body_markdown":"I have backend in spring-boot, exposing REST API, and i have SEPARATED front end in react.\r\n\r\nI want to use spring security to secure my back end, and i want to keep spring authentication chain. However, when i use configuration such as:\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .addFilterBefore(authenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                    .cors().disable()\r\n                    .csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/newUser&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .exceptionHandling()\r\n                    .and()          \r\n                    .formLogin().pertmitAll();\r\n        }\r\n\r\nThis generates `/login` endpoint and every request that is not authorized will get redirected to `login` page. However spring generates this `/login` login page and as i said i have my own stand-alone fornt-end in REACT, so i do not want spring to generate this page, i want it to tell my client to redirect to `/login`. If i disable `formLogin`\r\n\r\n   `.formLogin().disable()`\r\n\r\nthen i also lose my `/login` POST endpoint, and springs default authentication process. \r\n\r\nIs there a way to keep to `/login` POST endpoint but remove the `login` page and let my frond-end client to redirect.\r\n\r\nThanks for help!","title":"Spring security and REST API login","body":"<p>I have backend in spring-boot, exposing REST API, and i have SEPARATED front end in react.</p>\n<p>I want to use spring security to secure my back end, and i want to keep spring authentication chain. However, when i use configuration such as:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .addFilterBefore(authenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n                .cors().disable()\n                .csrf().disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/newUser&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling()\n                .and()          \n                .formLogin().pertmitAll();\n    }\n</code></pre>\n<p>This generates <code>/login</code> endpoint and every request that is not authorized will get redirected to <code>login</code> page. However spring generates this <code>/login</code> login page and as i said i have my own stand-alone fornt-end in REACT, so i do not want spring to generate this page, i want it to tell my client to redirect to <code>/login</code>. If i disable <code>formLogin</code></p>\n<p><code>.formLogin().disable()</code></p>\n<p>then i also lose my <code>/login</code> POST endpoint, and springs default authentication process.</p>\n<p>Is there a way to keep to <code>/login</code> POST endpoint but remove the <code>login</code> page and let my frond-end client to redirect.</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655641994,"creation_date":1655640756,"answer_id":72676789,"question_id":72652666,"body_markdown":"Remove `_id` from `group(&quot;userId&quot;, &quot;_id&quot;)`\r\n\r\nThis is somehow similar to yours, its implementation is clear too.\r\n\r\n    public BaseResponse getErrorLogGroupByAppName() throws BaseException {\r\n    \r\n        Criteria operator = new Criteria();\r\n        operator.andOperator(\r\n                Criteria.where(&quot;execDate&quot;).is(DateUtil.today())\r\n        );\r\n    \r\n        MatchOperation matchOperation = Aggregation.match(operator);\r\n    \r\n    \r\n        GroupOperation groupOperation = Aggregation.group(&quot;serUrl&quot;, &quot;serPort&quot;, &quot;appName&quot;, &quot;appSer&quot;, &quot;reqUrl&quot;, &quot;execDate&quot;).count().as(&quot;count&quot;);\r\n    \r\n        Sort sort = new Sort(new Sort.Order(Sort.Direction.DESC, &quot;count&quot;));\r\n        SortOperation sortOperation = Aggregation.sort(sort);\r\n    \r\n        Aggregation aggregation = Aggregation.newAggregation(ErrorInfo.class, matchOperation, groupOperation, sortOperation);\r\n    \r\n        AggregationResults&lt;Map&gt; aggregationResults = template.aggregate(aggregation, ErrorInfo.class, Map.class);\r\n    \r\n        return new BaseResponse(aggregationResults.getMappedResults());\r\n    }\r\n\r\n[GitHub Source][1]\r\n\r\n\r\n  [1]: https://github.com/7040210/SuperBoot/blob/master/super-boot-global/src/main/java/org/superboot/service/impl/ErrorLogServiceImpl.java#L35","title":"Java / MongoTemplate Aggregation, Group and Sum not grouping as expected","body":"<p>Remove <code>_id</code> from <code>group(&quot;userId&quot;, &quot;_id&quot;)</code></p>\n<p>This is somehow similar to yours, its implementation is clear too.</p>\n<pre><code>public BaseResponse getErrorLogGroupByAppName() throws BaseException {\n\n    Criteria operator = new Criteria();\n    operator.andOperator(\n            Criteria.where(&quot;execDate&quot;).is(DateUtil.today())\n    );\n\n    MatchOperation matchOperation = Aggregation.match(operator);\n\n\n    GroupOperation groupOperation = Aggregation.group(&quot;serUrl&quot;, &quot;serPort&quot;, &quot;appName&quot;, &quot;appSer&quot;, &quot;reqUrl&quot;, &quot;execDate&quot;).count().as(&quot;count&quot;);\n\n    Sort sort = new Sort(new Sort.Order(Sort.Direction.DESC, &quot;count&quot;));\n    SortOperation sortOperation = Aggregation.sort(sort);\n\n    Aggregation aggregation = Aggregation.newAggregation(ErrorInfo.class, matchOperation, groupOperation, sortOperation);\n\n    AggregationResults&lt;Map&gt; aggregationResults = template.aggregate(aggregation, ErrorInfo.class, Map.class);\n\n    return new BaseResponse(aggregationResults.getMappedResults());\n}\n</code></pre>\n<p><a href=\"https://github.com/7040210/SuperBoot/blob/master/super-boot-global/src/main/java/org/superboot/service/impl/ErrorLogServiceImpl.java#L35\" rel=\"nofollow noreferrer\">GitHub Source</a></p>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":799,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72676789,"answer_count":1,"score":2,"last_activity_date":1655671485,"creation_date":1655419967,"question_id":72652666,"body_markdown":"I have a mongo collection which has many documents containing information about credits / gifts given to our users.\r\n\r\nI would like to be able to run an Aggregated Query to get all the users who have received a credit / gift within the last x number of days and sum the total value of those credits for each user.\r\n\r\nI think I have the correct Aggregation, group and sum code but I&#39;m getting back more than one object per user, which shouldn&#39;t be the case since I&#39;m grouping and then summing the values(?)\r\n\r\nHere is what my document structure looks like:\r\n\r\n```\r\n    _id: ObjectId(&quot;61c36a8a21047124c4181271&quot;),\r\n    transactionId: UUID(&quot;6fbf536e-7a53-442c-9615-53e32362608b&quot;),\r\n    userId: &#39;xxxxx&#39;,\r\n    transactionMessage: &#39;Account credited with: 1&#39;,\r\n    transactionType: &#39;CREDIT&#39;,\r\n    transactionAction: &#39;GIFT&#39;,\r\n    inComingPaymentFromUserId: &#39;xxxx&#39;,\r\n    transactionAmount: Decimal128(&quot;1&quot;),\r\n    customMessage: &quot;blah&#39;&quot;,\r\n    createdDate: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\r\n    lastUpdatedAt: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\r\n```\r\n\r\nAnd here is my query code:\r\n\r\n```java\r\n    @Override\r\n    public List&lt;RecentlyRewardedUsers&gt; findRecentlyRewardedUsers(Integer range, Pageable pageable) {\r\n        Aggregation agg = Aggregation.newAggregation(\r\n                match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\r\n                        .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\r\n                group(&quot;userId&quot;, &quot;_id&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\r\n                project(&quot;userId&quot;, &quot;totalValueAwarded&quot;),\r\n                skip((long) pageable.getPageNumber() * pageable.getPageSize()),\r\n                limit(pageable.getPageSize()));\r\n        try {\r\n            return mongoTemplate.aggregate(agg, &quot;Transactions&quot;, RecentlyRewardedUsers.class).getMappedResults();\r\n        } catch (Exception ex) {\r\n            throw new ServiceUnavailableException(&quot;Unable to perform Mongo Operation {&quot; + ex.getLocalizedMessage() + &quot;}&quot;, &quot;User&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nHere is also my mapped class:\r\n```java\r\n@Getter\r\n@Setter\r\npublic class RecentlyRewardedUsers {\r\n\r\n    @Field(&quot;userId&quot;)\r\n    private String userId;\r\n    private String totalValueAwarded;\r\n    private String userDisplayName;\r\n    private String profilePicUrl;\r\n}\r\n```\r\n\r\nLike I said above, when the the results of the query are mapped to the RecentlyRewardedUsers class, I see multiple entries for the same userId (see image below). I would have thought it should be all rolled up / summed up into one entry for that userId\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf anyone can shed some light on what I&#39;ve done wrong that would be great!!\r\n\r\nThank you\r\n\r\n\r\n** EDIT ** \r\nBased on the answer below from \r\nuser Eskandar Abedini, I&#39;ve updated my code to be the following:\r\n\r\n```java\r\nCriteria operator = new Criteria();\r\noperator.andOperator(\r\n        Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(2))\r\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;)));\r\n\r\nMatchOperation matchOperation = Aggregation.match(operator);\r\n\r\n\r\nGroupOperation groupOperation = Aggregation.group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;);\r\nList&lt;String&gt; sortOptions = new ArrayList&lt;&gt;();\r\nsortOptions.add(&quot;createdDate&quot;);\r\nSort sort = new Sort(Sort.Direction.DESC, sortOptions);\r\nSortOperation sortOperation = Aggregation.sort(sort);\r\n\r\nAggregation aggregation = Aggregation.newAggregation(Transaction.class, matchOperation, groupOperation, sortOperation);\r\n\r\nAggregationResults&lt;RecentlyRewardedUsers&gt; aggregationResults = mongoTemplate.aggregate(aggregation, Transaction.class, RecentlyRewardedUsers.class);\r\n```\r\n\r\nWhen I now execute the above I get this error:\r\n```\r\njava.lang.IllegalArgumentException: Invalid reference &#39;createdDate&#39;!\r\n```\r\n\r\nIf for the moment I remove the sort options. The code will execute. However I&#39;m not getting the userId mapped into my RecentlyRewarded class.\r\n\r\n```\r\nCriteria operator = new Criteria();\r\noperator.andOperator(\r\n        Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(2))\r\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;)));\r\n\r\nMatchOperation matchOperation = Aggregation.match(operator);\r\n\r\n\r\nGroupOperation groupOperation = Aggregation.group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;);\r\nAggregation aggregation = Aggregation.newAggregation(Transaction.class, matchOperation, groupOperation);\r\n\r\nAggregationResults&lt;RecentlyRewardedUsers&gt; aggregationResults = mongoTemplate.aggregate(aggregation, Transaction.class, RecentlyRewardedUsers.class);\r\n```\r\n\r\nAny help would be amazing.\r\n\r\nThank you\r\n\r\n**Edit**\r\nAdding image to show what I mean by userId not being mapped in the MappedResponse. However in the Raw response of the query the userId is getting mapped to the documentId _id\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9eGJI.png\r\n  [2]: https://i.stack.imgur.com/QmgwN.png","title":"Java / MongoTemplate Aggregation, Group and Sum not grouping as expected","body":"<p>I have a mongo collection which has many documents containing information about credits / gifts given to our users.</p>\n<p>I would like to be able to run an Aggregated Query to get all the users who have received a credit / gift within the last x number of days and sum the total value of those credits for each user.</p>\n<p>I think I have the correct Aggregation, group and sum code but I'm getting back more than one object per user, which shouldn't be the case since I'm grouping and then summing the values(?)</p>\n<p>Here is what my document structure looks like:</p>\n<pre><code>    _id: ObjectId(&quot;61c36a8a21047124c4181271&quot;),\n    transactionId: UUID(&quot;6fbf536e-7a53-442c-9615-53e32362608b&quot;),\n    userId: 'xxxxx',\n    transactionMessage: 'Account credited with: 1',\n    transactionType: 'CREDIT',\n    transactionAction: 'GIFT',\n    inComingPaymentFromUserId: 'xxxx',\n    transactionAmount: Decimal128(&quot;1&quot;),\n    customMessage: &quot;blah'&quot;,\n    createdDate: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\n    lastUpdatedAt: ISODate(&quot;2021-12-22T18:12:26.812Z&quot;),\n</code></pre>\n<p>And here is my query code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;RecentlyRewardedUsers&gt; findRecentlyRewardedUsers(Integer range, Pageable pageable) {\n        Aggregation agg = Aggregation.newAggregation(\n                match(Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(range))\n                        .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;))), sort(Sort.Direction.DESC, &quot;createdDate&quot;),\n                group(&quot;userId&quot;, &quot;_id&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;),\n                project(&quot;userId&quot;, &quot;totalValueAwarded&quot;),\n                skip((long) pageable.getPageNumber() * pageable.getPageSize()),\n                limit(pageable.getPageSize()));\n        try {\n            return mongoTemplate.aggregate(agg, &quot;Transactions&quot;, RecentlyRewardedUsers.class).getMappedResults();\n        } catch (Exception ex) {\n            throw new ServiceUnavailableException(&quot;Unable to perform Mongo Operation {&quot; + ex.getLocalizedMessage() + &quot;}&quot;, &quot;User&quot;);\n        }\n    }\n</code></pre>\n<p>Here is also my mapped class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\npublic class RecentlyRewardedUsers {\n\n    @Field(&quot;userId&quot;)\n    private String userId;\n    private String totalValueAwarded;\n    private String userDisplayName;\n    private String profilePicUrl;\n}\n</code></pre>\n<p>Like I said above, when the the results of the query are mapped to the RecentlyRewardedUsers class, I see multiple entries for the same userId (see image below). I would have thought it should be all rolled up / summed up into one entry for that userId</p>\n<p><a href=\"https://i.stack.imgur.com/9eGJI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9eGJI.png\" alt=\"enter image description here\" /></a></p>\n<p>If anyone can shed some light on what I've done wrong that would be great!!</p>\n<p>Thank you</p>\n<p>** EDIT **\nBased on the answer below from\nuser Eskandar Abedini, I've updated my code to be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Criteria operator = new Criteria();\noperator.andOperator(\n        Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(2))\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;)));\n\nMatchOperation matchOperation = Aggregation.match(operator);\n\n\nGroupOperation groupOperation = Aggregation.group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;);\nList&lt;String&gt; sortOptions = new ArrayList&lt;&gt;();\nsortOptions.add(&quot;createdDate&quot;);\nSort sort = new Sort(Sort.Direction.DESC, sortOptions);\nSortOperation sortOperation = Aggregation.sort(sort);\n\nAggregation aggregation = Aggregation.newAggregation(Transaction.class, matchOperation, groupOperation, sortOperation);\n\nAggregationResults&lt;RecentlyRewardedUsers&gt; aggregationResults = mongoTemplate.aggregate(aggregation, Transaction.class, RecentlyRewardedUsers.class);\n</code></pre>\n<p>When I now execute the above I get this error:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid reference 'createdDate'!\n</code></pre>\n<p>If for the moment I remove the sort options. The code will execute. However I'm not getting the userId mapped into my RecentlyRewarded class.</p>\n<pre><code>Criteria operator = new Criteria();\noperator.andOperator(\n        Criteria.where(&quot;createdDate&quot;).gt(LocalDate.now().minusDays(2))\n                .andOperator(Criteria.where(&quot;transactionAction&quot;).is(&quot;GIFT&quot;)));\n\nMatchOperation matchOperation = Aggregation.match(operator);\n\n\nGroupOperation groupOperation = Aggregation.group(&quot;userId&quot;).sum(&quot;transactionAmount&quot;).as(&quot;totalValueAwarded&quot;);\nAggregation aggregation = Aggregation.newAggregation(Transaction.class, matchOperation, groupOperation);\n\nAggregationResults&lt;RecentlyRewardedUsers&gt; aggregationResults = mongoTemplate.aggregate(aggregation, Transaction.class, RecentlyRewardedUsers.class);\n</code></pre>\n<p>Any help would be amazing.</p>\n<p>Thank you</p>\n<p><strong>Edit</strong>\nAdding image to show what I mean by userId not being mapped in the MappedResponse. However in the Raw response of the query the userId is getting mapped to the documentId _id</p>\n<p><a href=\"https://i.stack.imgur.com/QmgwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QmgwN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4593099,"reputation":315,"user_id":3725902,"accept_rate":79,"display_name":"ankurjhawar"},"score":0,"creation_date":1655656137,"post_id":72677609,"comment_id":128378430,"body_markdown":"You can consider using jsoup library for this job due to the ease of usage and also the code readability. You can refer to the following:\nhttps://stackoverflow.com/questions/9886531/how-to-parse-xml-with-jsoup","body":"You can consider using jsoup library for this job due to the ease of usage and also the code readability. You can refer to the following: <a href=\"https://stackoverflow.com/questions/9886531/how-to-parse-xml-with-jsoup\" title=\"how to parse xml with jsoup\">stackoverflow.com/questions/9886531/how-to-parse-xml-with-js&zwnj;&#8203;oup</a>"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655671259,"creation_date":1655671259,"answer_id":72680208,"question_id":72677609,"body_markdown":"For little XML Strings like what you have posted, I just use the **getBetween()** method provided below. Read the comments in in code:\r\n\r\n    /**\r\n     * Retrieves any string data located between the supplied string leftString\r\n     * argument and the supplied string rightString argument.&lt;br&gt;&lt;br&gt;\r\n     * &lt;p&gt;\r\n     * This method will return all instances of a substring located between the\r\n     * supplied Left String and the supplied Right String which may be found\r\n     * within the supplied Input String.&lt;br&gt;\r\n     *\r\n     * @param inputString (String) The string to look for substring(s) in.&lt;br&gt;\r\n     *\r\n     * @param leftString  (String) What may be to the Left side of the substring\r\n     *                    we want within the main input string. Sometimes the\r\n     *                    substring you want may be contained at the very\r\n     *                    beginning of a string and therefore there is no\r\n     *                    Left-String available. In this case you would simply\r\n     *                    pass a Null String (&quot;&quot;) to this parameter which\r\n     *                    basically informs the method of this fact. Null can\r\n     *                    not be supplied and will ultimately generate a\r\n     *                    NullPointerException.&lt;br&gt;&lt;br&gt;\r\n     *\r\n     * If the leftString is found to be escaped within the inputString then that\r\n     * escape sequence is converted to a &quot;~:L:~&quot; sequence within the\r\n     * inputString. If this new sequence (&quot;~:L:~&quot;) is detected within a found\r\n     * substring then it is automatically converted back to it original escaped\r\n     * sequence before it is added to the returned array.&lt;br&gt;\r\n     *\r\n     * @param rightString (String) What may be to the Right side of the\r\n     *                    substring we want within the main input string.\r\n     *                    Sometimes the substring you want may be contained at\r\n     *                    the very end of a string and therefore there is no\r\n     *                    Right-String available. In this case you would simply\r\n     *                    pass a Null String (&quot;&quot;) to this parameter which\r\n     *                    basically informs the method of this fact. Null can\r\n     *                    not be supplied and will ultimately generate a\r\n     *                    NullPointerException.&lt;br&gt;&lt;br&gt;\r\n     *\r\n     * If the righString is found to be escaped within the inputString then that\r\n     * escape sequence is converted to a &quot;~:R:~&quot; sequence within the\r\n     * inputString. If this new sequence (&quot;~:R:~&quot;) is detected within a found\r\n     * substring then it is automatically converted back to it original escaped\r\n     * sequence before it is added to the returned array.&lt;br&gt;\r\n     *\r\n     * @param options     (Optional - Boolean varArgs - 2 Parameters):&lt;pre&gt;\r\n     *\r\n     *      ignoreLetterCase    - Default is false. This option works against the\r\n     *                            string supplied within the leftString parameter\r\n     *                            and the string supplied within the rightString\r\n     *                            parameter. If set to true then letter case is\r\n     *                            ignored when searching for strings supplied in\r\n     *                            these two parameters. If left at default false\r\n     *                            then letter case is not ignored.\r\n     *\r\n     *      trimFound           - Default is true. By default this method will trim\r\n     *                            off leading and trailing white-spaces from found\r\n     *                            sub-string items. General sentences which obviously\r\n     *                            contain spaces will almost always give you a white-\r\n     *                            space within an extracted sub-string. By setting\r\n     *                            this parameter to false, leading and trailing white-\r\n     *                            spaces are not trimmed off before they are placed\r\n     *                            into the returned Array.&lt;/pre&gt;\r\n     *\r\n     * @return (List Interface of String [{@code List&lt;String&gt;}]) Returns a List\r\n     *         of all the sub-strings found within the supplied Input String\r\n     *         which are between the supplied Left-String and supplied\r\n     *         Right-String.\r\n     */\r\n    public static List&lt;String&gt; getBetween(String inputString, String leftString,\r\n            String rightString, boolean... options) {\r\n        // Return null if nothing was supplied.\r\n        if (inputString.isEmpty() || (leftString.isEmpty() &amp;&amp; rightString.isEmpty())) {\r\n            return null;\r\n        }\r\n\r\n        // Prepare optional parameters if any supplied.\r\n        // If none supplied then use Defaults...\r\n        boolean ignoreCase = false;      // Default.\r\n        boolean trimFound = true;        // Default.\r\n        if (options.length &gt; 0) {\r\n            if (options.length &gt;= 1) {\r\n                ignoreCase = options[0];\r\n                if (options.length &gt;= 2) {\r\n                    trimFound = options[1];\r\n                }\r\n            }\r\n        }\r\n\r\n        // Remove any control characters from the\r\n        // supplied string (if they exist).\r\n        String modString = inputString.replaceAll(&quot;\\\\p{Cntrl}&quot;, &quot;&quot;);\r\n\r\n        // Establish a List String Array Object to hold\r\n        // our found substrings between the supplied Left\r\n        // String and supplied Right String.\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        if (modString.contains(&quot;\\\\&quot; + leftString)) {\r\n            modString = modString.replace(&quot;\\\\&quot; + leftString, &quot;~:L:~&quot;);\r\n        }\r\n        if (modString.contains(&quot;\\\\&quot; + rightString)) {\r\n            modString = modString.replace(&quot;\\\\&quot; + rightString, &quot;~:R:~&quot;);\r\n        }\r\n\r\n        // Use Pattern Matching to locate our possible\r\n        // substrings within the supplied Input String.\r\n        String regEx = java.util.regex.Pattern.quote(leftString) + &quot;{1,}&quot;\r\n                + (!rightString.isEmpty() ? &quot;(.*?)&quot; : &quot;(.*)?&quot;)\r\n                + java.util.regex.Pattern.quote(rightString);\r\n        if (ignoreCase) {\r\n            regEx = &quot;(?i)&quot; + regEx;\r\n        }\r\n\r\n        java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regEx);\r\n        java.util.regex.Matcher matcher = pattern.matcher(modString);\r\n        while (matcher.find()) {\r\n            // Add the found substrings into the List.\r\n            String found = matcher.group(1);\r\n            if (trimFound) {\r\n                found = found.trim();\r\n            }\r\n            found = found.replace(&quot;~:L:~&quot;, &quot;\\\\&quot; + leftString).replace(&quot;~:R:~&quot;, &quot;\\\\&quot; + rightString);\r\n            list.add(found);\r\n        }\r\n        return list;\r\n    }\r\n\r\nTo use the above method, you might have code like this:\r\n\r\n    String xml = &quot;&lt;list xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:noNamespaceSchemaLocation=\\&quot;xsd/book.xsd\\&quot;&gt;\\n&quot;\r\n            + &quot;    \\n&quot;\r\n            + &quot;    &lt;!-- Nicknames --&gt;\\n&quot;\r\n            + &quot;    &lt;name&gt;ElectricPlayer&lt;/name&gt;\\n&quot;\r\n            + &quot;    &lt;name&gt;Necromancer&lt;/name&gt;\\n&quot;\r\n            + &quot;    &lt;name&gt;Turnip King&lt;/name&gt;\\n&quot;\r\n            + &quot;    &lt;name&gt;Esquire&lt;/name&gt;\\n&quot;\r\n            + &quot;    &lt;name&gt;NeophyteBeliever&lt;/name&gt;\\n&quot;\r\n            + &quot;    &lt;name&gt;Twitch&lt;/name&gt;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;&lt;particle_death_sentence&gt;What am I doing with my life can you tell me?&lt;/particle_death_sentence&gt;\\n&quot;\r\n            + &quot;    &lt;particle_death_sentence&gt;You really had to kill me? I&#39;m farming over here&lt;/particle_death_sentence&gt;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;&lt;/list&gt;&quot;;\r\n\r\n    // Get a list of &#39;possible&#39; data node tags\r\n    List&lt;String&gt; possibleDataNodes = getBetween(xml, &quot;&lt;&quot;, &quot;&gt;&quot;, false, true);\r\n\r\n    // Declare a Map to hold the required data.\r\n    LinkedHashMap&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n\r\n    // Determine data node tags...\r\n    for (int i = 0; i &lt; possibleDataNodes.size(); i++) {\r\n        String nodeName = possibleDataNodes.get(i);\r\n        if (i &lt; possibleDataNodes.size() - 1 &amp;&amp; possibleDataNodes.get(i + 1).equals(&quot;/&quot; + nodeName)) {\r\n            if (!map.containsKey(nodeName)) {\r\n                map.put(nodeName, getBetween(xml, &quot;&lt;&quot; + nodeName + &quot;&gt;&quot;, &quot;&lt;/&quot; + nodeName + &quot;&gt;&quot;));\r\n            }\r\n        }\r\n    }\r\n\r\n    // DISPLAY THE MAP:\r\n    // Get keySet() into Set\r\n    Set&lt;String&gt; setOfKeySet = map.keySet();\r\n\r\n    for (String key : setOfKeySet) {\r\n        // Display the Map Key which is String:\r\n        System.out.printf(&quot;%-22s%-31s%n&quot;, &quot;Detected Key Name:&quot;, key);\r\n        System.out.printf(&quot;%-22s%-30s%n&quot;, &quot;Values for:&quot;, key);\r\n        System.out.println(String.join(&quot;&quot;, java.util.Collections.nCopies(50, &quot;-&quot;)));\r\n\r\n        // Display the Map Value which is a List&lt;String&gt;:\r\n        for (String value : map.get(key)) {\r\n            System.out.printf(&quot;%22s%-30s%n&quot;, &quot;-   &quot;, value);\r\n        }\r\n        System.out.println(String.join(&quot;&quot;, java.util.Collections.nCopies(80, &quot;=&quot;)));\r\n        System.out.println();\r\n    }\r\n\r\nAnd what you should see displayed within the Console window is:\r\n\r\n```\r\nDetected Key Name:    name                           \r\nValues for:           name                          \r\n--------------------------------------------------\r\n                  -   ElectricPlayer                \r\n                  -   Necromancer                   \r\n                  -   Turnip King                   \r\n                  -   Esquire                       \r\n                  -   NeophyteBeliever              \r\n                  -   Twitch                        \r\n================================================================================\r\n\r\nDetected Key Name:    particle_death_sentence        \r\nValues for:           particle_death_sentence       \r\n--------------------------------------------------\r\n                  -   What am I doing with my life can you tell me?\r\n                  -   You really had to kill me? I&#39;m farming over here\r\n================================================================================\r\n```","title":"How to read the data between these attributes?","body":"<p>For little XML Strings like what you have posted, I just use the <strong>getBetween()</strong> method provided below. Read the comments in in code:</p>\n<pre><code>/**\n * Retrieves any string data located between the supplied string leftString\n * argument and the supplied string rightString argument.&lt;br&gt;&lt;br&gt;\n * &lt;p&gt;\n * This method will return all instances of a substring located between the\n * supplied Left String and the supplied Right String which may be found\n * within the supplied Input String.&lt;br&gt;\n *\n * @param inputString (String) The string to look for substring(s) in.&lt;br&gt;\n *\n * @param leftString  (String) What may be to the Left side of the substring\n *                    we want within the main input string. Sometimes the\n *                    substring you want may be contained at the very\n *                    beginning of a string and therefore there is no\n *                    Left-String available. In this case you would simply\n *                    pass a Null String (&quot;&quot;) to this parameter which\n *                    basically informs the method of this fact. Null can\n *                    not be supplied and will ultimately generate a\n *                    NullPointerException.&lt;br&gt;&lt;br&gt;\n *\n * If the leftString is found to be escaped within the inputString then that\n * escape sequence is converted to a &quot;~:L:~&quot; sequence within the\n * inputString. If this new sequence (&quot;~:L:~&quot;) is detected within a found\n * substring then it is automatically converted back to it original escaped\n * sequence before it is added to the returned array.&lt;br&gt;\n *\n * @param rightString (String) What may be to the Right side of the\n *                    substring we want within the main input string.\n *                    Sometimes the substring you want may be contained at\n *                    the very end of a string and therefore there is no\n *                    Right-String available. In this case you would simply\n *                    pass a Null String (&quot;&quot;) to this parameter which\n *                    basically informs the method of this fact. Null can\n *                    not be supplied and will ultimately generate a\n *                    NullPointerException.&lt;br&gt;&lt;br&gt;\n *\n * If the righString is found to be escaped within the inputString then that\n * escape sequence is converted to a &quot;~:R:~&quot; sequence within the\n * inputString. If this new sequence (&quot;~:R:~&quot;) is detected within a found\n * substring then it is automatically converted back to it original escaped\n * sequence before it is added to the returned array.&lt;br&gt;\n *\n * @param options     (Optional - Boolean varArgs - 2 Parameters):&lt;pre&gt;\n *\n *      ignoreLetterCase    - Default is false. This option works against the\n *                            string supplied within the leftString parameter\n *                            and the string supplied within the rightString\n *                            parameter. If set to true then letter case is\n *                            ignored when searching for strings supplied in\n *                            these two parameters. If left at default false\n *                            then letter case is not ignored.\n *\n *      trimFound           - Default is true. By default this method will trim\n *                            off leading and trailing white-spaces from found\n *                            sub-string items. General sentences which obviously\n *                            contain spaces will almost always give you a white-\n *                            space within an extracted sub-string. By setting\n *                            this parameter to false, leading and trailing white-\n *                            spaces are not trimmed off before they are placed\n *                            into the returned Array.&lt;/pre&gt;\n *\n * @return (List Interface of String [{@code List&lt;String&gt;}]) Returns a List\n *         of all the sub-strings found within the supplied Input String\n *         which are between the supplied Left-String and supplied\n *         Right-String.\n */\npublic static List&lt;String&gt; getBetween(String inputString, String leftString,\n        String rightString, boolean... options) {\n    // Return null if nothing was supplied.\n    if (inputString.isEmpty() || (leftString.isEmpty() &amp;&amp; rightString.isEmpty())) {\n        return null;\n    }\n\n    // Prepare optional parameters if any supplied.\n    // If none supplied then use Defaults...\n    boolean ignoreCase = false;      // Default.\n    boolean trimFound = true;        // Default.\n    if (options.length &gt; 0) {\n        if (options.length &gt;= 1) {\n            ignoreCase = options[0];\n            if (options.length &gt;= 2) {\n                trimFound = options[1];\n            }\n        }\n    }\n\n    // Remove any control characters from the\n    // supplied string (if they exist).\n    String modString = inputString.replaceAll(&quot;\\\\p{Cntrl}&quot;, &quot;&quot;);\n\n    // Establish a List String Array Object to hold\n    // our found substrings between the supplied Left\n    // String and supplied Right String.\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\n    if (modString.contains(&quot;\\\\&quot; + leftString)) {\n        modString = modString.replace(&quot;\\\\&quot; + leftString, &quot;~:L:~&quot;);\n    }\n    if (modString.contains(&quot;\\\\&quot; + rightString)) {\n        modString = modString.replace(&quot;\\\\&quot; + rightString, &quot;~:R:~&quot;);\n    }\n\n    // Use Pattern Matching to locate our possible\n    // substrings within the supplied Input String.\n    String regEx = java.util.regex.Pattern.quote(leftString) + &quot;{1,}&quot;\n            + (!rightString.isEmpty() ? &quot;(.*?)&quot; : &quot;(.*)?&quot;)\n            + java.util.regex.Pattern.quote(rightString);\n    if (ignoreCase) {\n        regEx = &quot;(?i)&quot; + regEx;\n    }\n\n    java.util.regex.Pattern pattern = java.util.regex.Pattern.compile(regEx);\n    java.util.regex.Matcher matcher = pattern.matcher(modString);\n    while (matcher.find()) {\n        // Add the found substrings into the List.\n        String found = matcher.group(1);\n        if (trimFound) {\n            found = found.trim();\n        }\n        found = found.replace(&quot;~:L:~&quot;, &quot;\\\\&quot; + leftString).replace(&quot;~:R:~&quot;, &quot;\\\\&quot; + rightString);\n        list.add(found);\n    }\n    return list;\n}\n</code></pre>\n<p>To use the above method, you might have code like this:</p>\n<pre><code>String xml = &quot;&lt;list xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot; xsi:noNamespaceSchemaLocation=\\&quot;xsd/book.xsd\\&quot;&gt;\\n&quot;\n        + &quot;    \\n&quot;\n        + &quot;    &lt;!-- Nicknames --&gt;\\n&quot;\n        + &quot;    &lt;name&gt;ElectricPlayer&lt;/name&gt;\\n&quot;\n        + &quot;    &lt;name&gt;Necromancer&lt;/name&gt;\\n&quot;\n        + &quot;    &lt;name&gt;Turnip King&lt;/name&gt;\\n&quot;\n        + &quot;    &lt;name&gt;Esquire&lt;/name&gt;\\n&quot;\n        + &quot;    &lt;name&gt;NeophyteBeliever&lt;/name&gt;\\n&quot;\n        + &quot;    &lt;name&gt;Twitch&lt;/name&gt;\\n&quot;\n        + &quot;\\n&quot;\n        + &quot;&lt;particle_death_sentence&gt;What am I doing with my life can you tell me?&lt;/particle_death_sentence&gt;\\n&quot;\n        + &quot;    &lt;particle_death_sentence&gt;You really had to kill me? I'm farming over here&lt;/particle_death_sentence&gt;\\n&quot;\n        + &quot;\\n&quot;\n        + &quot;&lt;/list&gt;&quot;;\n\n// Get a list of 'possible' data node tags\nList&lt;String&gt; possibleDataNodes = getBetween(xml, &quot;&lt;&quot;, &quot;&gt;&quot;, false, true);\n\n// Declare a Map to hold the required data.\nLinkedHashMap&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n\n// Determine data node tags...\nfor (int i = 0; i &lt; possibleDataNodes.size(); i++) {\n    String nodeName = possibleDataNodes.get(i);\n    if (i &lt; possibleDataNodes.size() - 1 &amp;&amp; possibleDataNodes.get(i + 1).equals(&quot;/&quot; + nodeName)) {\n        if (!map.containsKey(nodeName)) {\n            map.put(nodeName, getBetween(xml, &quot;&lt;&quot; + nodeName + &quot;&gt;&quot;, &quot;&lt;/&quot; + nodeName + &quot;&gt;&quot;));\n        }\n    }\n}\n\n// DISPLAY THE MAP:\n// Get keySet() into Set\nSet&lt;String&gt; setOfKeySet = map.keySet();\n\nfor (String key : setOfKeySet) {\n    // Display the Map Key which is String:\n    System.out.printf(&quot;%-22s%-31s%n&quot;, &quot;Detected Key Name:&quot;, key);\n    System.out.printf(&quot;%-22s%-30s%n&quot;, &quot;Values for:&quot;, key);\n    System.out.println(String.join(&quot;&quot;, java.util.Collections.nCopies(50, &quot;-&quot;)));\n\n    // Display the Map Value which is a List&lt;String&gt;:\n    for (String value : map.get(key)) {\n        System.out.printf(&quot;%22s%-30s%n&quot;, &quot;-   &quot;, value);\n    }\n    System.out.println(String.join(&quot;&quot;, java.util.Collections.nCopies(80, &quot;=&quot;)));\n    System.out.println();\n}\n</code></pre>\n<p>And what you should see displayed within the Console window is:</p>\n<pre><code>Detected Key Name:    name                           \nValues for:           name                          \n--------------------------------------------------\n                  -   ElectricPlayer                \n                  -   Necromancer                   \n                  -   Turnip King                   \n                  -   Esquire                       \n                  -   NeophyteBeliever              \n                  -   Twitch                        \n================================================================================\n\nDetected Key Name:    particle_death_sentence        \nValues for:           particle_death_sentence       \n--------------------------------------------------\n                  -   What am I doing with my life can you tell me?\n                  -   You really had to kill me? I'm farming over here\n================================================================================\n</code></pre>\n"}],"owner":{"account_id":25580917,"reputation":1,"user_id":19359515,"display_name":"BurtGummer95"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655671259,"creation_date":1655648317,"question_id":72677609,"body_markdown":"How can i read the node name as 1 parameter and the content of all nodes. I want place them in a map Ex. \r\n\r\n```private final Map&lt;String, List&lt;String&gt;&gt;``` later on.\r\n\r\nSo far my code but i get null for node value.\r\n\r\n```\r\nfor (Node node = doc.getFirstChild().getFirstChild(); node != null; node = node.getNextSibling())\r\n\t\t{\r\n\t\t\tif (node.getNodeName().equalsIgnoreCase(&quot;list&quot;) || node.getNodeName().isBlank())\r\n\t\t\t{\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tSystem.out.println(node.getNodeName() + &quot; -&gt; &quot; + node.getChildNodes().item(0).getNodeValue());\r\n\t\t}\r\n```\r\n\r\nAnd here&#39;s my XML:\r\n\r\n```\r\n&lt;list xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;xsd/book.xsd&quot;&gt;\r\n\t\r\n\t&lt;!-- Nicknames --&gt;\r\n\t&lt;name&gt;ElectricPlayer&lt;/name&gt;\r\n\t&lt;name&gt;Necromancer&lt;/name&gt;\r\n\t&lt;name&gt;Turnip King&lt;/name&gt;\r\n\t&lt;name&gt;Esquire&lt;/name&gt;\r\n\t&lt;name&gt;NeophyteBeliever&lt;/name&gt;\r\n\t&lt;name&gt;Twitch&lt;/name&gt;\r\n\r\n&lt;particle_death_sentence&gt;What am i doing with my life can you tell me?&lt;/particle_death_sentence&gt;\r\n\t&lt;particle_death_sentence&gt;You really had to kill me? I&#39;m farming over here&lt;/particle_death_sentence&gt;\r\n\r\n&lt;/list&gt;\r\n```","title":"How to read the data between these attributes?","body":"<p>How can i read the node name as 1 parameter and the content of all nodes. I want place them in a map Ex.</p>\n<p><code>private final Map&lt;String, List&lt;String&gt;&gt;</code> later on.</p>\n<p>So far my code but i get null for node value.</p>\n<pre><code>for (Node node = doc.getFirstChild().getFirstChild(); node != null; node = node.getNextSibling())\n        {\n            if (node.getNodeName().equalsIgnoreCase(&quot;list&quot;) || node.getNodeName().isBlank())\n            {\n                continue;\n            }\n\n            System.out.println(node.getNodeName() + &quot; -&gt; &quot; + node.getChildNodes().item(0).getNodeValue());\n        }\n</code></pre>\n<p>And here's my XML:</p>\n<pre><code>&lt;list xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;xsd/book.xsd&quot;&gt;\n    \n    &lt;!-- Nicknames --&gt;\n    &lt;name&gt;ElectricPlayer&lt;/name&gt;\n    &lt;name&gt;Necromancer&lt;/name&gt;\n    &lt;name&gt;Turnip King&lt;/name&gt;\n    &lt;name&gt;Esquire&lt;/name&gt;\n    &lt;name&gt;NeophyteBeliever&lt;/name&gt;\n    &lt;name&gt;Twitch&lt;/name&gt;\n\n&lt;particle_death_sentence&gt;What am i doing with my life can you tell me?&lt;/particle_death_sentence&gt;\n    &lt;particle_death_sentence&gt;You really had to kill me? I'm farming over here&lt;/particle_death_sentence&gt;\n\n&lt;/list&gt;\n</code></pre>\n"},{"tags":["java","opencv","image-processing","computer-vision","connect-four"],"comments":[{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":0,"creation_date":1655666853,"post_id":72678247,"comment_id":128380663,"body_markdown":"Welcome to Stackoverflow! Please share some example images and a minimal working code example so others can reproduce your issue! [ask]","body":"Welcome to Stackoverflow! Please share some example images and a minimal working code example so others can reproduce your issue! <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1655670751,"post_id":72678247,"comment_id":128381439,"body_markdown":"I&#39;d recommend to throw java away because that seems useless for prototyping. use python, use a jupyter lab/notebook, work through tutorials that show you the basics of image processing.","body":"I&#39;d recommend to throw java away because that seems useless for prototyping. use python, use a jupyter lab/notebook, work through tutorials that show you the basics of image processing."},{"owner":{"account_id":25593564,"reputation":21,"user_id":19369842,"display_name":"Trigs"},"score":0,"creation_date":1655672818,"post_id":72678247,"comment_id":128381813,"body_markdown":"@ChristophRackwitz I have some experience with jupyter so I&#39;ll give that a try, thanks!","body":"@ChristophRackwitz I have some experience with jupyter so I&#39;ll give that a try, thanks!"}],"owner":{"account_id":25593564,"reputation":21,"user_id":19369842,"display_name":"Trigs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655670769,"creation_date":1655653309,"question_id":72678247,"body_markdown":"I&#39;m currently working on a project and I&#39;m trying to transform a physical &#39;Connect 4&#39; game board onto a digital java program. \r\n\r\nUsing Open-CV and my webcam, I am able to constantly grab photos of this game board and save them locally on my PC. \r\n\r\nTo get the location of the pieces, I have been using colour recognition, however, it is a little bit unreliable at times. I tend to move environments which affect the amount of lighting and then it all goes downhill from there. :(\r\n\r\nDoes anyone know any alternatives to be able to detect pieces on a Connect 4 board? \r\n\r\nHere is some of the code I&#39;ve made and been using:\r\n\r\n      for (int y = 35; y &lt; img.getHeight(); y = y + 85) {\r\n                    for (int x = 60; x &lt; img.getWidth(); x = x + 85) {\r\n                        // Retrieving contents of a pixel\r\n                        int pixel = img.getRGB(x, y);\r\n                        \r\n                        float hsb[] = new float[3];\r\n                        int r = (pixel &gt;&gt; 16) &amp; 0xFF;\r\n                        int g = (pixel &gt;&gt;  8) &amp; 0xFF;\r\n                        int b = (pixel      ) &amp; 0xFF;\r\n                        Color.RGBtoHSB(r, g, b, hsb);\r\n                     \r\n                        if (hsb[1] &lt; 0.1 &amp;&amp; hsb[2] &gt; 0.9) {\r\n                            stat = &quot;white&quot;; \r\n                        } else\r\n                         if (hsb[2] &lt; 0.1) {\r\n                            stat = &quot;black&quot;; \r\n                        } else {\r\n                                float deg = hsb[0]*360;\r\n                                if (deg &gt;=   0 &amp;&amp; deg &lt;  30) {\r\n                                    stat = &quot;red&quot;;\r\n                                }\r\n                                else if (deg &gt;=  30 &amp;&amp; deg &lt;  90) {\r\n                                    stat = &quot;yellow&quot;;\r\n                                }\r\n                                else if (deg &gt;=  180 &amp;&amp; deg &lt;  240) {\r\n                                    stat = &quot;blue&quot;;\r\n                                } else {\r\n                                    stat = &quot;none&quot;;\r\n                                }\r\n                            }\r\n                        writer.write(stat + &quot;\\n&quot;);\r\n                        writer.flush();\r\n\r\n\r\n\r\n\r\n\r\nThis is used to store detected pieces:\r\n\r\n    for (int i = 0; i &lt; k; i++) {\r\n            if(pixels[i].equals(&quot;red&quot;)) {\r\n                board[i] = &quot;X&quot;;\r\n            } else {\r\n                board[i] = &quot; &quot;;\r\n            }\r\n            }\r\n\r\nThanks to anyone who can offer suggestions or help!","title":"Piece Recognition in Java For A Connect 4 Game Board","body":"<p>I'm currently working on a project and I'm trying to transform a physical 'Connect 4' game board onto a digital java program.</p>\n<p>Using Open-CV and my webcam, I am able to constantly grab photos of this game board and save them locally on my PC.</p>\n<p>To get the location of the pieces, I have been using colour recognition, however, it is a little bit unreliable at times. I tend to move environments which affect the amount of lighting and then it all goes downhill from there. :(</p>\n<p>Does anyone know any alternatives to be able to detect pieces on a Connect 4 board?</p>\n<p>Here is some of the code I've made and been using:</p>\n<pre><code>  for (int y = 35; y &lt; img.getHeight(); y = y + 85) {\n                for (int x = 60; x &lt; img.getWidth(); x = x + 85) {\n                    // Retrieving contents of a pixel\n                    int pixel = img.getRGB(x, y);\n                    \n                    float hsb[] = new float[3];\n                    int r = (pixel &gt;&gt; 16) &amp; 0xFF;\n                    int g = (pixel &gt;&gt;  8) &amp; 0xFF;\n                    int b = (pixel      ) &amp; 0xFF;\n                    Color.RGBtoHSB(r, g, b, hsb);\n                 \n                    if (hsb[1] &lt; 0.1 &amp;&amp; hsb[2] &gt; 0.9) {\n                        stat = &quot;white&quot;; \n                    } else\n                     if (hsb[2] &lt; 0.1) {\n                        stat = &quot;black&quot;; \n                    } else {\n                            float deg = hsb[0]*360;\n                            if (deg &gt;=   0 &amp;&amp; deg &lt;  30) {\n                                stat = &quot;red&quot;;\n                            }\n                            else if (deg &gt;=  30 &amp;&amp; deg &lt;  90) {\n                                stat = &quot;yellow&quot;;\n                            }\n                            else if (deg &gt;=  180 &amp;&amp; deg &lt;  240) {\n                                stat = &quot;blue&quot;;\n                            } else {\n                                stat = &quot;none&quot;;\n                            }\n                        }\n                    writer.write(stat + &quot;\\n&quot;);\n                    writer.flush();\n</code></pre>\n<p>This is used to store detected pieces:</p>\n<pre><code>for (int i = 0; i &lt; k; i++) {\n        if(pixels[i].equals(&quot;red&quot;)) {\n            board[i] = &quot;X&quot;;\n        } else {\n            board[i] = &quot; &quot;;\n        }\n        }\n</code></pre>\n<p>Thanks to anyone who can offer suggestions or help!</p>\n"},{"tags":["java","jenkins-plugins","credentials","jelly"],"answers":[{"tags":[],"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1589213403,"creation_date":1589211361,"answer_id":61733545,"question_id":60726350,"body_markdown":"Note figured it out. Posting answer for others benefit. In order to dynamically fill the list you must create a doFillCredentialsIdItems like the method bellow along with adding a import to the credentials plugin.\r\n\r\n    public ListBoxModel doFillCredentialsIdItems(@AncestorInPath Item item, @QueryParameter String credentialsId) {\r\n            StandardListBoxModel result = new StandardListBoxModel();\r\n                            return result\r\n                    .includeEmptyValue()\r\n                    .includeAs(ACL.SYSTEM, Jenkins.get(),\r\n                     UsernamePasswordCredentialsImpl.class)\r\n                    .includeCurrentValue(credentialsId);\r\n            }","title":"How do i add drop down field for credentials in the plugin im devloping","body":"<p>Note figured it out. Posting answer for others benefit. In order to dynamically fill the list you must create a doFillCredentialsIdItems like the method bellow along with adding a import to the credentials plugin.</p>\n\n<pre><code>public ListBoxModel doFillCredentialsIdItems(@AncestorInPath Item item, @QueryParameter String credentialsId) {\n        StandardListBoxModel result = new StandardListBoxModel();\n                        return result\n                .includeEmptyValue()\n                .includeAs(ACL.SYSTEM, Jenkins.get(),\n                 UsernamePasswordCredentialsImpl.class)\n                .includeCurrentValue(credentialsId);\n        }\n</code></pre>\n"}],"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61733545,"answer_count":1,"score":1,"last_activity_date":1655670536,"creation_date":1584462236,"question_id":60726350,"body_markdown":"I am some what new to extending Jenkins and was wondering how would i generate the code for adding a credentials drop down like the one in this picture. [![][1]][1]  \n&lt;sub&gt;(source: [jenkins.io](https://wiki.jenkins.io/download/attachments/58917601/image2018-9-20_22-0-7.png))&lt;/sub&gt;  \n\r\nI have looked at some examples and noted they used this jelly code\r\n```\r\n&lt;f:entry title=&quot;${%Credentials}&quot; field=&quot;credentialsId&quot;&gt;\r\n  &lt;c:select/&gt;\r\n&lt;/f:entry&gt;\r\n```\r\nBut when i implement this my Credentials line in the build job settings dose not contain the drop down.\n\n [1]: https://i.stack.imgur.com/6PHb7.png","title":"How do i add drop down field for credentials in the plugin im devloping","body":"<p>I am some what new to extending Jenkins and was wondering how would i generate the code for adding a credentials drop down like the one in this picture. <a href=\"https://i.stack.imgur.com/6PHb7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PHb7.png\" alt=\"\" /></a><br />\n<sub>(source: <a href=\"https://wiki.jenkins.io/download/attachments/58917601/image2018-9-20_22-0-7.png\" rel=\"nofollow noreferrer\">jenkins.io</a>)</sub></p>\n<p>I have looked at some examples and noted they used this jelly code</p>\n<pre><code>&lt;f:entry title=&quot;${%Credentials}&quot; field=&quot;credentialsId&quot;&gt;\n  &lt;c:select/&gt;\n&lt;/f:entry&gt;\n</code></pre>\n<p>But when i implement this my Credentials line in the build job settings dose not contain the drop down.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1655662124,"post_id":72679202,"comment_id":128379632,"body_markdown":"In the future, please post source code as **text**, not images. The filesystem path shown in your first screenshot is a filesystem path on your development machine. It is not a filesystem path on your Android phone. Your Android code, running on your Android phone, cannot access files on your development machine. To package data in your app, that your app can then read in, please [use raw resources or assets](https://developer.android.com/guide/topics/resources/providing-resources#ResourceTypes).","body":"In the future, please post source code as <b>text</b>, not images. The filesystem path shown in your first screenshot is a filesystem path on your development machine. It is not a filesystem path on your Android phone. Your Android code, running on your Android phone, cannot access files on your development machine. To package data in your app, that your app can then read in, please <a href=\"https://developer.android.com/guide/topics/resources/providing-resources#ResourceTypes\" rel=\"nofollow noreferrer\">use raw resources or assets</a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655662244,"post_id":72679202,"comment_id":128379659,"body_markdown":"1) you are forcing people to read text as you formatted (e.g. font, size and color, BACKGROUND {light gray on dark gray!!}); 2) you are *disabling* people to copy&amp;paste your code (to test or debug, ...) || Please check [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/16320675)","body":"1) you are forcing people to read text as you formatted (e.g. font, size and color, BACKGROUND {light gray on dark gray!!}); 2) you are <i>disabling</i> people to copy&amp;paste your code (to test or debug, ...) || Please check <a href=\"https://meta.stackoverflow.com/q/285551/16320675\">Why should I not upload images of code/data/errors when asking a question?</a>"},{"owner":{"account_id":25594211,"reputation":13,"user_id":19370354,"display_name":"Aria_Z"},"score":0,"creation_date":1655669340,"post_id":72679202,"comment_id":128381149,"body_markdown":"Thank you for your reply. I run this code on my PC, so I write the absolute filesystem path on my pc. Is this wrong? I want to test if my code is correct. If it is correct and then I will installed it on Android phone.","body":"Thank you for your reply. I run this code on my PC, so I write the absolute filesystem path on my pc. Is this wrong? I want to test if my code is correct. If it is correct and then I will installed it on Android phone."}],"owner":{"account_id":25594211,"reputation":13,"user_id":19370354,"display_name":"Aria_Z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655670479,"creation_date":1655661824,"question_id":72679202,"body_markdown":"I&#39;m developing an app to do some calculations. To test if the calculation function is correct, I prepared a series of CSV file as input and I want to check the output. So I put all of the csv file inside a folder called data inside the android studio project folder. But when i tried to find the folder and list all of the files inside the folder, it shows that the folder cannot be found. I attached the code that used to get the files [get files][1] and the main activity code[Main activity code][2], and the output[output][3].\r\n\r\nI want to test the code on pc and then installed it on Android Phone. So I used the absolute path on my PC.\r\n\r\nIs there anyone have some suggestions? Any help are appreciate. Thanks in advance. \r\n\r\nFollowing is my read file code:\r\n```\r\npublic Object[] createFolderList_rev001() {\r\n        ArrayList&lt;String&gt; Pelvis_filenames = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; R_thigh_filenames = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; R_shank_filenames = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; L_thigh_filenames = new ArrayList&lt;String&gt;();\r\n        ArrayList&lt;String&gt; L_shank_filenames = new ArrayList&lt;String&gt;();\r\n        Log.i(TAG, &quot;Folder finding......&quot;);\r\n        try {\r\n            //Create a file object\r\n            File folder = new File(&quot;/Users/Aria_Z/AndroidStudioProjects/QZ_APP_V1/app/assets&quot;);\r\n            if (!folder.exists() || !folder.isDirectory()) {\r\n                System.out.println(&quot;folder cannot found&quot;);\r\n                Log.i(TAG, &quot;folder not found&quot;);\r\n            } else {\r\n                System.out.println(&quot;folder exist&quot;);\r\n                Log.i(TAG, &quot;folder exist&quot;);\r\n            }\r\n            //Get all the names of the files present in the given directory\r\n            File[] files = folder.listFiles();\r\n            System.out.println(&quot;length: &quot; + files.length);\r\n            for (int i=0;i&lt;files.length;i++){\r\n                if (files[i].getName().contains(&quot;D422CD000561&quot;)){\r\n                    Pelvis_filenames.add(files[i].getName());\r\n                }else if(files[i].getName().contains(&quot;D422CD000566&quot;)){\r\n                    R_thigh_filenames.add(files[i].getName());\r\n                }else if(files[i].getName().contains(&quot;D422CD000553&quot;)){\r\n                    R_shank_filenames.add(files[i].getName());\r\n                }else if (files[i].getName().contains(&quot;D422CD00053A&quot;)){\r\n                    L_thigh_filenames.add(files[i].getName());\r\n                }else if (files[i].getName().contains(&quot;D422CD001764&quot;)){\r\n                    L_shank_filenames.add(files[i].getName());\r\n                }\r\n            }\r\n        }\r\n        catch(Exception e){\r\n            System.err.println(e.getMessage());\r\n        }\r\n        Object[] folderList = new Object[]{Pelvis_filenames, R_thigh_filenames,R_shank_filenames,L_shank_filenames,L_thigh_filenames};\r\n        return folderList;\r\n    }\r\n```\r\nFollowing is my main activity code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Object[] folderList = createFolderList_rev001();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BWL35.png\r\n  [2]: https://i.stack.imgur.com/lPB8u.png\r\n  [3]: https://i.stack.imgur.com/kPpAi.png","title":"Folder cannot be found by absolute using Android Studio (Java)?","body":"<p>I'm developing an app to do some calculations. To test if the calculation function is correct, I prepared a series of CSV file as input and I want to check the output. So I put all of the csv file inside a folder called data inside the android studio project folder. But when i tried to find the folder and list all of the files inside the folder, it shows that the folder cannot be found. I attached the code that used to get the files <a href=\"https://i.stack.imgur.com/BWL35.png\" rel=\"nofollow noreferrer\">get files</a> and the main activity code<a href=\"https://i.stack.imgur.com/lPB8u.png\" rel=\"nofollow noreferrer\">Main activity code</a>, and the output<a href=\"https://i.stack.imgur.com/kPpAi.png\" rel=\"nofollow noreferrer\">output</a>.</p>\n<p>I want to test the code on pc and then installed it on Android Phone. So I used the absolute path on my PC.</p>\n<p>Is there anyone have some suggestions? Any help are appreciate. Thanks in advance.</p>\n<p>Following is my read file code:</p>\n<pre><code>public Object[] createFolderList_rev001() {\n        ArrayList&lt;String&gt; Pelvis_filenames = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; R_thigh_filenames = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; R_shank_filenames = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; L_thigh_filenames = new ArrayList&lt;String&gt;();\n        ArrayList&lt;String&gt; L_shank_filenames = new ArrayList&lt;String&gt;();\n        Log.i(TAG, &quot;Folder finding......&quot;);\n        try {\n            //Create a file object\n            File folder = new File(&quot;/Users/Aria_Z/AndroidStudioProjects/QZ_APP_V1/app/assets&quot;);\n            if (!folder.exists() || !folder.isDirectory()) {\n                System.out.println(&quot;folder cannot found&quot;);\n                Log.i(TAG, &quot;folder not found&quot;);\n            } else {\n                System.out.println(&quot;folder exist&quot;);\n                Log.i(TAG, &quot;folder exist&quot;);\n            }\n            //Get all the names of the files present in the given directory\n            File[] files = folder.listFiles();\n            System.out.println(&quot;length: &quot; + files.length);\n            for (int i=0;i&lt;files.length;i++){\n                if (files[i].getName().contains(&quot;D422CD000561&quot;)){\n                    Pelvis_filenames.add(files[i].getName());\n                }else if(files[i].getName().contains(&quot;D422CD000566&quot;)){\n                    R_thigh_filenames.add(files[i].getName());\n                }else if(files[i].getName().contains(&quot;D422CD000553&quot;)){\n                    R_shank_filenames.add(files[i].getName());\n                }else if (files[i].getName().contains(&quot;D422CD00053A&quot;)){\n                    L_thigh_filenames.add(files[i].getName());\n                }else if (files[i].getName().contains(&quot;D422CD001764&quot;)){\n                    L_shank_filenames.add(files[i].getName());\n                }\n            }\n        }\n        catch(Exception e){\n            System.err.println(e.getMessage());\n        }\n        Object[] folderList = new Object[]{Pelvis_filenames, R_thigh_filenames,R_shank_filenames,L_shank_filenames,L_thigh_filenames};\n        return folderList;\n    }\n</code></pre>\n<p>Following is my main activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = MainActivity.class.getSimpleName();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Object[] folderList = createFolderList_rev001();\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":3,"creation_date":1655576547,"post_id":72671664,"comment_id":128366602,"body_markdown":"either another should be inherited from ArrayListClass or it should accept it as argument","body":"either another should be inherited from ArrayListClass or it should accept it as argument"},{"owner":{"account_id":25585669,"reputation":21,"user_id":19363478,"display_name":"worker2"},"score":0,"creation_date":1655576725,"post_id":72671664,"comment_id":128366639,"body_markdown":"Do you mean &quot;public class another extends ArrayListClass {}&quot; ?","body":"Do you mean &quot;public class another extends ArrayListClass {}&quot; ?"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1655576762,"post_id":72671664,"comment_id":128366650,"body_markdown":"yes, it is inheritance syntax in java","body":"yes, it is inheritance syntax in java"},{"owner":{"account_id":25585669,"reputation":21,"user_id":19363478,"display_name":"worker2"},"score":0,"creation_date":1655604890,"post_id":72671664,"comment_id":128370317,"body_markdown":"Ok, I will try that out","body":"Ok, I will try that out"},{"owner":{"account_id":25585669,"reputation":21,"user_id":19363478,"display_name":"worker2"},"score":0,"creation_date":1655614729,"post_id":72671664,"comment_id":128371212,"body_markdown":"not working when I add things in the ArrayList, the other method doesn&#39;t include it","body":"not working when I add things in the ArrayList, the other method doesn&#39;t include it"},{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1655936719,"post_id":72671664,"comment_id":128453365,"body_markdown":"Does this answer your question? [Protected variables can be accessed within Child Class or Child Object](https://stackoverflow.com/questions/22139513/protected-variables-can-be-accessed-within-child-class-or-child-object)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22139513/protected-variables-can-be-accessed-within-child-class-or-child-object\">Protected variables can be accessed within Child Class or Child Object</a>"}],"answers":[{"tags":[],"owner":{"account_id":25588640,"reputation":148,"user_id":19365920,"display_name":"code"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655577752,"creation_date":1655577752,"answer_id":72671830,"question_id":72671664,"body_markdown":"There are multiple approaches you can take. In general, you&#39;re trying to pass data/variable from one Class to another. \r\n\r\nBut since you&#39;re using `protected` access modifier, your options will be limited.\r\n\r\nIf the &#39;AnotherClass&#39; is in the same package, you could use inheritance (as has been mentioned in the comments) or you could instantiate a new instance as advised in [this answer][1].\r\n\r\nIf &#39;AnotherClass&#39; is in a different package, the only option you have is to use inheritance. \r\n\r\nIf this doesn&#39;t work, consider changing the access modifier.\r\n\r\nMore info on Protected access modifier:\r\nhttps://www.geeksforgeeks.org/protected-keyword-in-java-with-examples/\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72671717/19365920","title":"Can we call a Arraylist from a class to another class, and can be used by all methods in the &#39;another&#39; class? No static - Java","body":"<p>There are multiple approaches you can take. In general, you're trying to pass data/variable from one Class to another.</p>\n<p>But since you're using <code>protected</code> access modifier, your options will be limited.</p>\n<p>If the 'AnotherClass' is in the same package, you could use inheritance (as has been mentioned in the comments) or you could instantiate a new instance as advised in <a href=\"https://stackoverflow.com/a/72671717/19365920\">this answer</a>.</p>\n<p>If 'AnotherClass' is in a different package, the only option you have is to use inheritance.</p>\n<p>If this doesn't work, consider changing the access modifier.</p>\n<p>More info on Protected access modifier:\n<a href=\"https://www.geeksforgeeks.org/protected-keyword-in-java-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/protected-keyword-in-java-with-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655670372,"creation_date":1655578172,"answer_id":72671892,"question_id":72671664,"body_markdown":"Sure, just add access methods to `ArrayListClass`: \r\n\r\n     public class ArrayListClass {\r\n        protected Arraylist&lt;String&gt; string = new Arraylist();\r\n        public getTheList () { return string; }\r\n        // more access methods\r\n     }\r\n\r\nIn your class `Another`, create in instance of  your ArrayListClass:\r\n\r\n    public class another {\r\n    private ArrayListClass alc;\r\n    public another () {       // default constructor \r\n        alc = new ArrayListClass ();        \r\n    }\r\n    private void method1() {\r\n        alc.getTheList.add (&quot;Foo&quot;);    \r\n    }\r\n\r\nBut, if you do that, you should think about why `string` is `protected` in the first place. ","title":"Can we call a Arraylist from a class to another class, and can be used by all methods in the &#39;another&#39; class? No static - Java","body":"<p>Sure, just add access methods to <code>ArrayListClass</code>:</p>\n<pre><code> public class ArrayListClass {\n    protected Arraylist&lt;String&gt; string = new Arraylist();\n    public getTheList () { return string; }\n    // more access methods\n }\n</code></pre>\n<p>In your class <code>Another</code>, create in instance of  your ArrayListClass:</p>\n<pre><code>public class another {\nprivate ArrayListClass alc;\npublic another () {       // default constructor \n    alc = new ArrayListClass ();        \n}\nprivate void method1() {\n    alc.getTheList.add (&quot;Foo&quot;);    \n}\n</code></pre>\n<p>But, if you do that, you should think about why <code>string</code> is <code>protected</code> in the first place.</p>\n"}],"owner":{"account_id":25585669,"reputation":21,"user_id":19363478,"display_name":"worker2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1655670372,"creation_date":1655576439,"question_id":72671664,"body_markdown":"Can we call a protected ArrayList from one class to another class, where it can be used for &quot;all methods&quot; in the &#39;another&#39; class.\r\nfor example:\r\n\r\n    public class ArrayListClass {\r\n    protected Arraylist&lt;SomeClass&gt; someClass = new Arraylist&lt;&gt;();\r\n    }\r\nThen I want to use the ArrayList in all of the methods in another class \r\n\r\n    public class another {\r\n    private void method1() {\r\n    //use the same arraylist here\r\n    }\r\n    private void method2() {\r\n    //use the same arraylist here\r\n    } \r\n    public void method3() {\r\n    // use the same arraylist here\r\n    }","title":"Can we call a Arraylist from a class to another class, and can be used by all methods in the &#39;another&#39; class? No static - Java","body":"<p>Can we call a protected ArrayList from one class to another class, where it can be used for &quot;all methods&quot; in the 'another' class.\nfor example:</p>\n<pre><code>public class ArrayListClass {\nprotected Arraylist&lt;SomeClass&gt; someClass = new Arraylist&lt;&gt;();\n}\n</code></pre>\n<p>Then I want to use the ArrayList in all of the methods in another class</p>\n<pre><code>public class another {\nprivate void method1() {\n//use the same arraylist here\n}\nprivate void method2() {\n//use the same arraylist here\n} \npublic void method3() {\n// use the same arraylist here\n}\n</code></pre>\n"},{"tags":["java","arrays","duplicates"],"comments":[{"owner":{"display_name":"user2173738"},"score":0,"creation_date":1382427582,"post_id":19511797,"comment_id":28944336,"body_markdown":"Remove duplicates manually, in this case you can keep the order.","body":"Remove duplicates manually, in this case you can keep the order."}],"answers":[{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1382427445,"creation_date":1382427445,"answer_id":19511814,"question_id":19511797,"body_markdown":"Construct [`Set`][1] from your list - &quot;*A collection that contains no duplicate elements*&quot;:\r\n\r\n\r\n    Set&lt;Integer&gt; yourSet = new HashSet&lt;Integer&gt;(yourList);\r\n\r\nAnd convert it back to whatever you want.\r\n\r\nNote: If you want to preserve order, use [`LinkedHashSet`][2] instead.\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html","title":"Remove duplicates in an array without changing order of elements","body":"<p>Construct <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html\" rel=\"nofollow\"><code>Set</code></a> from your list - \"<em>A collection that contains no duplicate elements</em>\":</p>\n\n<pre><code>Set&lt;Integer&gt; yourSet = new HashSet&lt;Integer&gt;(yourList);\n</code></pre>\n\n<p>And convert it back to whatever you want.</p>\n\n<p>Note: If you want to preserve order, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow\"><code>LinkedHashSet</code></a> instead.</p>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1382428110,"creation_date":1382427525,"answer_id":19511841,"question_id":19511797,"body_markdown":"Use an instance of [`java.util.LinkedHashSet`][1].\r\n\r\n    Set&lt;Integer&gt; set = new LinkedHashSet&lt;&gt;(list);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html","title":"Remove duplicates in an array without changing order of elements","body":"<p>Use an instance of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"noreferrer\"><code>java.util.LinkedHashSet</code></a>.</p>\n\n<pre><code>Set&lt;Integer&gt; set = new LinkedHashSet&lt;&gt;(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382427530,"creation_date":1382427530,"answer_id":19511845,"question_id":19511797,"body_markdown":"Use `LinkedHashSet` to remove duplicate and maintain order.","title":"Remove duplicates in an array without changing order of elements","body":"<p>Use <code>LinkedHashSet</code> to remove duplicate and maintain order.</p>\n"},{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382427583,"creation_date":1382427583,"answer_id":19511865,"question_id":19511797,"body_markdown":"As I cant deduct, you need to preserve insertion order, that compleating what @Maroun Maroun wrote, use set, but specialidez implementation like `LinkedHashSet&lt;E&gt;` whitch does exactly the thing you need.","title":"Remove duplicates in an array without changing order of elements","body":"<p>As I cant deduct, you need to preserve insertion order, that compleating what @Maroun Maroun wrote, use set, but specialidez implementation like <code>LinkedHashSet&lt;E&gt;</code> whitch does exactly the thing you need.</p>\n"},{"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1382427598,"creation_date":1382427598,"answer_id":19511872,"question_id":19511797,"body_markdown":"With this one-liner:\r\n\r\n    yourList = new ArrayList&lt;Integer&gt;(new LinkedHashSet&lt;Integer&gt;(yourList))","title":"Remove duplicates in an array without changing order of elements","body":"<p>With this one-liner:</p>\n\n<pre><code>yourList = new ArrayList&lt;Integer&gt;(new LinkedHashSet&lt;Integer&gt;(yourList))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2621423,"reputation":126,"user_id":2400908,"display_name":"constpetrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382427862,"creation_date":1382427862,"answer_id":19511949,"question_id":19511797,"body_markdown":"Iterate through array (via iterator, not foreach) and remove duplicates. Use set for find duplicates.\r\n\r\nOR\r\n\r\nIterate through array and add all elements to LinkedHashSet, it isn&#39;t allows duplicates and keeps order of elements.\r\nThen clear array, iterate through set and add each element to array.","title":"Remove duplicates in an array without changing order of elements","body":"<p>Iterate through array (via iterator, not foreach) and remove duplicates. Use set for find duplicates.</p>\n\n<p>OR</p>\n\n<p>Iterate through array and add all elements to LinkedHashSet, it isn't allows duplicates and keeps order of elements.\nThen clear array, iterate through set and add each element to array.</p>\n"},{"tags":[],"owner":{"account_id":1554725,"reputation":4443,"user_id":1446222,"accept_rate":58,"display_name":"Sampath Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382428228,"creation_date":1382428228,"answer_id":19512066,"question_id":19511797,"body_markdown":"Although converting the ArrayList to a HashSet effectively removes duplicates, if you need to preserve insertion order, I&#39;d rather suggest you to use this variant\r\n\r\n// list is some List of Strings\r\n\r\n       Set&lt;String&gt; s = new LinkedHashSet&lt;String&gt;(list);\r\n\r\nThen, if you need to get back a List reference, you can use again the conversion constructor.","title":"Remove duplicates in an array without changing order of elements","body":"<p>Although converting the ArrayList to a HashSet effectively removes duplicates, if you need to preserve insertion order, I'd rather suggest you to use this variant</p>\n\n<p>// list is some List of Strings</p>\n\n<pre><code>   Set&lt;String&gt; s = new LinkedHashSet&lt;String&gt;(list);\n</code></pre>\n\n<p>Then, if you need to get back a List reference, you can use again the conversion constructor.</p>\n"},{"tags":[],"owner":{"account_id":2968584,"reputation":50561,"user_id":2521214,"accept_rate":71,"display_name":"Spektre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382430257,"creation_date":1382429294,"answer_id":19512405,"question_id":19511797,"body_markdown":"There are 2 ways:\r\n\r\n1. create new list with unique ints only \r\n- (the same as Maroun Maroun answer)\r\n- you can do it with 2 nested fors like this O(n.n/2):\r\n\r\n            List&lt;int&gt; src,dst;\r\n            // src is input list\r\n            // dst is output list\r\n            dst.allocate(src.num); // prepare size to avoid slowdowns by reallocations\r\n            dst.num=0;             // start from empty list\r\n            for (int i=0;i&lt;src.num;i++)\r\n             {\r\n             int e=1;\r\n             for (int j=0;i&lt;dst.num;i++)\r\n              if (src[i]==dst[j]) { e=0; break; }\r\n             if (e) dst.add(src[i]);\r\n             }\r\n2. You can select duplicate items and delete them ... O(2.n) with the flagged delete\r\n- this is way much faster but you need memory table for whole int range\r\n- if you use numbers &lt;0,10000&gt; then it will take BYTE cnt[10001]\r\n- if you use numbers &lt;-10000,10000&gt; then it will take BYTE cnt[20002]\r\n- for small ranges like this is ok but if you have to use 32 bit range it will take 4GB !!!\r\n- with bit packing you can have 2 bits per value so it will be just 1GB but that is still too much for my taste\r\n- ok now how to check for duplicity ...\r\n\r\n            List&lt;WORD&gt; src;  // src is input list\r\n            BYTE cnt[65536]; // count usage for all used numbers\r\n            int i;\r\n            for (i=0;i&lt;65536;i++) cnt[i]=0; // clear the count for all numbers\r\n            for (i=0;i&lt;src.num;i++)         // compute the count for used numbers in the list  \r\n             if (cnt[src[i]]!=255) \r\n              cnt[src[i]]++;\r\n- after this any number i is duplicate if (cnt[i]&gt;1)\r\n- so now we want to delete duplicate items (all except one)\r\n- to do that change cnt[] like this\r\n\r\n            for (i=0;i&lt;65536;i++) if (cnt[i]&gt;1) cnt[i]=1; else cnt[i]=0;\r\n- ok now comes the delete part:\r\n\r\n            for (i=0;i&lt;src.num;i++)         \r\n             if (cnt[src[i]]==1) cnt[src[i]]=2; // do not delete the first time\r\n              else if (cnt[src[i]]==2)          // but all the others yes\r\n               { \r\n               src.del(i);\r\n               i--;                             // indexes in src changed after delete so recheck for the same index again\r\n               }\r\n\r\n3. you can combine both approaches together\r\n4. delete item from list is slow because of item shift in the list\r\n- but can be speed up by adding delete flag to items\r\n- instead of delete just set the flag\r\n- and after all items to delete is flagged then simply remove hem at once O(n)\r\n\r\nPS. Sorry for non standard list usage but i think the code is understandable enough if not comment me and i respond\r\n\r\nPPS. for use with signed values do not forget to shift the address by half range !!!","title":"Remove duplicates in an array without changing order of elements","body":"<p>There are 2 ways:</p>\n\n<ol>\n<li><p>create new list with unique ints only </p>\n\n<ul>\n<li>(the same as Maroun Maroun answer)</li>\n<li><p>you can do it with 2 nested fors like this O(n.n/2):</p>\n\n<pre><code>List&lt;int&gt; src,dst;\n// src is input list\n// dst is output list\ndst.allocate(src.num); // prepare size to avoid slowdowns by reallocations\ndst.num=0;             // start from empty list\nfor (int i=0;i&lt;src.num;i++)\n {\n int e=1;\n for (int j=0;i&lt;dst.num;i++)\n  if (src[i]==dst[j]) { e=0; break; }\n if (e) dst.add(src[i]);\n }\n</code></pre></li>\n</ul></li>\n<li><p>You can select duplicate items and delete them ... O(2.n) with the flagged delete</p>\n\n<ul>\n<li>this is way much faster but you need memory table for whole int range</li>\n<li>if you use numbers &lt;0,10000> then it will take BYTE cnt[10001]</li>\n<li>if you use numbers &lt;-10000,10000> then it will take BYTE cnt[20002]</li>\n<li>for small ranges like this is ok but if you have to use 32 bit range it will take 4GB !!!</li>\n<li>with bit packing you can have 2 bits per value so it will be just 1GB but that is still too much for my taste</li>\n<li><p>ok now how to check for duplicity ...</p>\n\n<pre><code>List&lt;WORD&gt; src;  // src is input list\nBYTE cnt[65536]; // count usage for all used numbers\nint i;\nfor (i=0;i&lt;65536;i++) cnt[i]=0; // clear the count for all numbers\nfor (i=0;i&lt;src.num;i++)         // compute the count for used numbers in the list  \n if (cnt[src[i]]!=255) \n  cnt[src[i]]++;\n</code></pre></li>\n<li>after this any number i is duplicate if (cnt[i]>1)</li>\n<li>so now we want to delete duplicate items (all except one)</li>\n<li><p>to do that change cnt[] like this</p>\n\n<pre><code>for (i=0;i&lt;65536;i++) if (cnt[i]&gt;1) cnt[i]=1; else cnt[i]=0;\n</code></pre></li>\n<li><p>ok now comes the delete part:</p>\n\n<pre><code>for (i=0;i&lt;src.num;i++)         \n if (cnt[src[i]]==1) cnt[src[i]]=2; // do not delete the first time\n  else if (cnt[src[i]]==2)          // but all the others yes\n   { \n   src.del(i);\n   i--;                             // indexes in src changed after delete so recheck for the same index again\n   }\n</code></pre></li>\n</ul></li>\n<li><p>you can combine both approaches together</p></li>\n<li>delete item from list is slow because of item shift in the list\n<ul>\n<li>but can be speed up by adding delete flag to items</li>\n<li>instead of delete just set the flag</li>\n<li>and after all items to delete is flagged then simply remove hem at once O(n)</li>\n</ul></li>\n</ol>\n\n<p>PS. Sorry for non standard list usage but i think the code is understandable enough if not comment me and i respond</p>\n\n<p>PPS. for use with signed values do not forget to shift the address by half range !!!</p>\n"},{"tags":[],"owner":{"account_id":2170269,"reputation":1342,"user_id":1922473,"accept_rate":100,"display_name":"Dharmendra Pratap Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486540046,"creation_date":1486540046,"answer_id":42107416,"question_id":19511797,"body_markdown":"Below I have given the sample example that implements a generic function to remove duplicate from arraylist and maintain the order at the same time.\r\n\r\n    import java.util.*;\r\n    public class Main {\r\n        //Generic function to remove duplicates in list and maintain order\r\n        private static &lt;E&gt; List&lt;E&gt; removeDuplicate(List&lt;E&gt; list) {\r\n            Set&lt;E&gt; array = new LinkedHashSet&lt;E&gt;();\r\n            array.addAll(list);\r\n            return new ArrayList&lt;&gt;(array);\r\n        }\r\n        public static void main(String[] args) {\r\n            //Print [2, 3, 5, 4]\r\n            System.out.println(removeDuplicate(Arrays.asList(2,2,3,5, 3, 4)));\r\n            //Print [AB, BC, CD]\r\n            System.out.println(removeDuplicate(Arrays.asList(&quot;AB&quot;,&quot;BC&quot;,&quot;CD&quot;,&quot;AB&quot;)));\r\n        }\r\n    }\r\n\r\n","title":"Remove duplicates in an array without changing order of elements","body":"<p>Below I have given the sample example that implements a generic function to remove duplicate from arraylist and maintain the order at the same time.</p>\n\n<pre><code>import java.util.*;\npublic class Main {\n    //Generic function to remove duplicates in list and maintain order\n    private static &lt;E&gt; List&lt;E&gt; removeDuplicate(List&lt;E&gt; list) {\n        Set&lt;E&gt; array = new LinkedHashSet&lt;E&gt;();\n        array.addAll(list);\n        return new ArrayList&lt;&gt;(array);\n    }\n    public static void main(String[] args) {\n        //Print [2, 3, 5, 4]\n        System.out.println(removeDuplicate(Arrays.asList(2,2,3,5, 3, 4)));\n        //Print [AB, BC, CD]\n        System.out.println(removeDuplicate(Arrays.asList(\"AB\",\"BC\",\"CD\",\"AB\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525846351,"creation_date":1525846351,"answer_id":50246608,"question_id":19511797,"body_markdown":"Method 1 : In Python =&gt; Using a set and list comprehension\r\n\r\n\r\n    a= [139, 127, 127, 139, 130]\r\n    \r\n    print(a)\r\n    seen =set()\r\n    aa = [ch  for ch in a if ch not in seen and not seen.add(ch)]\r\n    print(aa)\r\n\r\nMethod 2 : \r\n\r\n    aa = list(set(a))\r\n    print(aa)\r\n\r\n\r\nIn Java : using Set and making a new ArrayList\r\n\r\n\r\n\r\n    class t1 {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    int[] a = {139, 127, 127, 139, 130};\r\n    List&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\r\n    \r\n    Set&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;();\r\n    for( int ch  : a) {\r\n    \tif(!set.contains(ch)) {\r\n    \t\tset.add(ch);\r\n    \t}\r\n    \r\n    \t\r\n    }//for\r\n    set.forEach( (k) -&gt; list1.add(k));\r\n    System.out.println(list1);\r\n    \t   \r\n    }\r\n    \t}\r\n    \r\n    \r\n    \t\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Remove duplicates in an array without changing order of elements","body":"<p>Method 1 : In Python => Using a set and list comprehension</p>\n\n<pre><code>a= [139, 127, 127, 139, 130]\n\nprint(a)\nseen =set()\naa = [ch  for ch in a if ch not in seen and not seen.add(ch)]\nprint(aa)\n</code></pre>\n\n<p>Method 2 : </p>\n\n<pre><code>aa = list(set(a))\nprint(aa)\n</code></pre>\n\n<p>In Java : using Set and making a new ArrayList</p>\n\n<pre><code>class t1 {\n    public static void main(String[] args) {\n\nint[] a = {139, 127, 127, 139, 130};\nList&lt;Integer&gt; list1 = new ArrayList&lt;&gt;();\n\nSet&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;();\nfor( int ch  : a) {\n    if(!set.contains(ch)) {\n        set.add(ch);\n    }\n\n\n}//for\nset.forEach( (k) -&gt; list1.add(k));\nSystem.out.println(list1);\n\n}\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1603343622,"creation_date":1593159960,"answer_id":62590860,"question_id":19511797,"body_markdown":"Without `LinkedHashSet` overhead (uses `HashSet` for seen elements instead which is slightly faster):\r\n\r\n    List&lt;Integer&gt; noDuplicates = list\r\n            .stream()\r\n            .distinct()\r\n            .collect(Collectors.toList());\r\n\r\nNote that the order is guaranteed by the [Stream.distinct()][1] contract:\r\n\r\n&gt; For ordered streams, the selection of distinct elements is stable (for\r\n&gt; duplicated elements, the element appearing first in the encounter\r\n&gt; order is preserved.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--","title":"Remove duplicates in an array without changing order of elements","body":"<p>Without <code>LinkedHashSet</code> overhead (uses <code>HashSet</code> for seen elements instead which is slightly faster):</p>\n<pre><code>List&lt;Integer&gt; noDuplicates = list\n        .stream()\n        .distinct()\n        .collect(Collectors.toList());\n</code></pre>\n<p>Note that the order is guaranteed by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"noreferrer\">Stream.distinct()</a> contract:</p>\n<blockquote>\n<p>For ordered streams, the selection of distinct elements is stable (for\nduplicated elements, the element appearing first in the encounter\norder is preserved.)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25542761,"reputation":1,"user_id":19328576,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655669466,"creation_date":1655669466,"answer_id":72680030,"question_id":19511797,"body_markdown":"    Bro this is you answer but this have 0(n2) T.C remember.\r\n\r\n    vector&lt;int&gt; sol(int arr[],int n){\r\n    vector&lt;int&gt; dummy;\r\n    for(int i=0;i&lt;n-1;i++){\r\n    for(int j=i+1;j&lt;n;j++){\r\n        if(arr[i]==arr[j]){\r\n            dummy.push_back(j);\r\n        }\r\n       }\r\n     }\r\n     vector&lt;int&gt; ans;\r\n     for(int i=0;i&lt;n;i++){\r\n     bool check=true;\r\n      for(int j=0;j&lt;dummy.size();j++){\r\n        if(dummy[j]==i){\r\n            check=false;\r\n        }\r\n     }\r\n     if(check==false)\r\n       continue;\r\n      ans.push_back(arr[i]);\r\n      }\r\n      return ans;\r\n      }","title":"Remove duplicates in an array without changing order of elements","body":"<pre><code>Bro this is you answer but this have 0(n2) T.C remember.\n\nvector&lt;int&gt; sol(int arr[],int n){\nvector&lt;int&gt; dummy;\nfor(int i=0;i&lt;n-1;i++){\nfor(int j=i+1;j&lt;n;j++){\n    if(arr[i]==arr[j]){\n        dummy.push_back(j);\n    }\n   }\n }\n vector&lt;int&gt; ans;\n for(int i=0;i&lt;n;i++){\n bool check=true;\n  for(int j=0;j&lt;dummy.size();j++){\n    if(dummy[j]==i){\n        check=false;\n    }\n }\n if(check==false)\n   continue;\n  ans.push_back(arr[i]);\n  }\n  return ans;\n  }\n</code></pre>\n"}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20984,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":19511841,"answer_count":12,"score":23,"last_activity_date":1655669466,"creation_date":1382427383,"question_id":19511797,"body_markdown":"I have an array, say `List&lt;Integer&gt;` `139, 127, 127, 139, 130`\r\n\r\nHow to remove duplicates of it and keep its order unchanged? i.e. `139, 127, 130`\r\n","title":"Remove duplicates in an array without changing order of elements","body":"<p>I have an array, say <code>List&lt;Integer&gt;</code> <code>139, 127, 127, 139, 130</code></p>\n\n<p>How to remove duplicates of it and keep its order unchanged? i.e. <code>139, 127, 130</code></p>\n"},{"tags":["java","inheritance","interface","cdi","quarkus"],"comments":[{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":0,"creation_date":1655704469,"post_id":72679913,"comment_id":128385841,"body_markdown":"Where is the implementation for `FruitRepository`?","body":"Where is the implementation for <code>FruitRepository</code>?"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1655710244,"post_id":72679913,"comment_id":128387224,"body_markdown":"The `BaseMongoRepository` class defines a bean with the following bean types: `BaseMongoRepository`, `MongoRepositoryActions`, `java.lang.Object`. That&#39;s why you can inject `MongoRepositoryActions`. In your code, there is _no_ bean with a bean type of `FruitRepository`. You can create one manually (`@ApplicationScoped class FruitRepositoryImpl extends MongoRepositoryActions&lt;Fruit&gt; implements FruitRepository {}`), or you can create a Quarkus extension that registers a synthetic bean for each repository interface. However, Quarkus already provides that: https://quarkus.io/guides/mongodb-panache","body":"The <code>BaseMongoRepository</code> class defines a bean with the following bean types: <code>BaseMongoRepository</code>, <code>MongoRepositoryActions</code>, <code>java.lang.Object</code>. That&#39;s why you can inject <code>MongoRepositoryActions</code>. In your code, there is <i>no</i> bean with a bean type of <code>FruitRepository</code>. You can create one manually (<code>@ApplicationScoped class FruitRepositoryImpl extends MongoRepositoryActions&lt;Fruit&gt; implements FruitRepository {}</code>), or you can create a Quarkus extension that registers a synthetic bean for each repository interface. However, Quarkus already provides that: <a href=\"https://quarkus.io/guides/mongodb-panache\" rel=\"nofollow noreferrer\">quarkus.io/guides/mongodb-panache</a>"},{"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"score":0,"creation_date":1655765771,"post_id":72679913,"comment_id":128404869,"body_markdown":"@mtj I want to inject the `FruitRepository` to use its inherited methods.","body":"@mtj I want to inject the <code>FruitRepository</code> to use its inherited methods."},{"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"score":0,"creation_date":1655765990,"post_id":72679913,"comment_id":128404897,"body_markdown":"@Ladicek I&#39;m trying to achieve something similar to `quarkus-mongodb-panache`, actually I&#39;m writing a mongo-client-wrapper that will handle some business rules that are commons between several micro-services. The idea is to inject the interface instead of the implementation.","body":"@Ladicek I&#39;m trying to achieve something similar to <code>quarkus-mongodb-panache</code>, actually I&#39;m writing a mongo-client-wrapper that will handle some business rules that are commons between several micro-services. The idea is to inject the interface instead of the implementation."},{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":0,"creation_date":1655790712,"post_id":72679913,"comment_id":128408269,"body_markdown":"@JohnnesSouza There&#39;s nothing wrong with trying to inject an interface instead of a concrete class, but the implementation must still be present and known to the container. You can either implement it explicitly, or write an extension to create it on the fly (see https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html), but you cannot simply expect the container to magically conjure a class which satisfies your interface. As for extensions, I am not sure whether they even work with quarkus, as I never tried.","body":"@JohnnesSouza There&#39;s nothing wrong with trying to inject an interface instead of a concrete class, but the implementation must still be present and known to the container. You can either implement it explicitly, or write an extension to create it on the fly (see <a href=\"https://docs.jboss.org/weld/reference/latest/en-US/html/extend.html\" rel=\"nofollow noreferrer\">docs.jboss.org/weld/reference/latest/en-US/html/extend.html</a>)&zwnj;&#8203;, but you cannot simply expect the container to magically conjure a class which satisfies your interface. As for extensions, I am not sure whether they even work with quarkus, as I never tried."}],"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655668964,"creation_date":1655668378,"question_id":72679913,"body_markdown":"I&#39;m trying to create a custom MongoDB Repository that will handle transactions that are related to the business context only.\r\n\r\nSince I want to expose these functions trough a interface, I&#39;m having some trouble trying to inject the Interface on the service instead of the actual implementation, here&#39;s how it looks like ATM:\r\n\r\nInterface:\r\n```java\r\npublic interface MongoRepositoryActions&lt;T&gt; {\r\n    &lt;S extends T&gt; S save(S entity);\r\n}\r\n```\r\n\r\nImplementation\r\n```java\r\nimport com.mongodb.client.MongoClient;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\n\r\n@ApplicationScoped\r\npublic class BaseMongoRepository&lt;T&gt; implements MongoRepositoryActions&lt;T&gt; {\r\n\r\n    @Inject\r\n    MongoClient mongoClient;\r\n\r\n    public &lt;O extends T&gt; O save(O object) {\r\n        // Do some stuff related to the business.\r\n        insertOperation(object);\r\n        return object;\r\n    }\r\n}\r\n```\r\nHere&#39;s where I can&#39;t figure out how to use it.\r\nThe interface that I&#39;m trying to expose:\r\n```java\r\npublic interface FruitRepository extends MongoRepositoryActions&lt;Fruit&gt; {\r\n\r\n}\r\n```\r\nThe service layer that has the repository:\r\n```java\r\nimport com.abinbev.b2b.core.MongoRepositoryActions;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.inject.Inject;\r\n\r\n@ApplicationScoped\r\npublic class FruitService {\r\n\r\n    @Inject\r\n    MongoRepositoryActions&lt;Fruit&gt; fruitRepository; // This works fine\r\n\r\n    @Inject\r\n    FruitRepository repository; // This one doesn&#39;t\r\n\r\n    public Fruit saveFruit(Fruit fruit) {\r\n        return fruitRepository.save(fruit);\r\n    }\r\n}\r\n```\r\n\r\nSo if I try to run the application by injecting the interface, I get this error:\r\n```java\r\njavax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.abinbev.b2b.core.fruit.FruitRepository and qualifiers [@Default]\r\n```\r\nI&#39;ve also tried to annotate the interface, but didn&#39;t work as well.\r\n\r\nMaybe I&#39;m missing something.\r\nFurther information can be provided!\r\nIf necessary I can also push a reproducible example on my Github account.","title":"Injection of a Interface that Inherits from a Bean","body":"<p>I'm trying to create a custom MongoDB Repository that will handle transactions that are related to the business context only.</p>\n<p>Since I want to expose these functions trough a interface, I'm having some trouble trying to inject the Interface on the service instead of the actual implementation, here's how it looks like ATM:</p>\n<p>Interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MongoRepositoryActions&lt;T&gt; {\n    &lt;S extends T&gt; S save(S entity);\n}\n</code></pre>\n<p>Implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mongodb.client.MongoClient;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\n\n@ApplicationScoped\npublic class BaseMongoRepository&lt;T&gt; implements MongoRepositoryActions&lt;T&gt; {\n\n    @Inject\n    MongoClient mongoClient;\n\n    public &lt;O extends T&gt; O save(O object) {\n        // Do some stuff related to the business.\n        insertOperation(object);\n        return object;\n    }\n}\n</code></pre>\n<p>Here's where I can't figure out how to use it.\nThe interface that I'm trying to expose:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FruitRepository extends MongoRepositoryActions&lt;Fruit&gt; {\n\n}\n</code></pre>\n<p>The service layer that has the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.abinbev.b2b.core.MongoRepositoryActions;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\n\n@ApplicationScoped\npublic class FruitService {\n\n    @Inject\n    MongoRepositoryActions&lt;Fruit&gt; fruitRepository; // This works fine\n\n    @Inject\n    FruitRepository repository; // This one doesn't\n\n    public Fruit saveFruit(Fruit fruit) {\n        return fruitRepository.save(fruit);\n    }\n}\n</code></pre>\n<p>So if I try to run the application by injecting the interface, I get this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type com.abinbev.b2b.core.fruit.FruitRepository and qualifiers [@Default]\n</code></pre>\n<p>I've also tried to annotate the interface, but didn't work as well.</p>\n<p>Maybe I'm missing something.\nFurther information can be provided!\nIf necessary I can also push a reproducible example on my Github account.</p>\n"},{"tags":["java","android","obfuscation","proguard"],"answers":[{"tags":[],"owner":{"account_id":466351,"reputation":8555,"user_id":871043,"accept_rate":64,"display_name":"Zaid Daghestani"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1655668586,"creation_date":1339358108,"answer_id":10971873,"question_id":10971810,"body_markdown":"Use the `-keepnames` option in your proguard.cfg\r\n\r\nRefer to the manual\r\nhttps://www.guardsquare.com/manual/configuration/usage#keepoptions\r\n&gt; `-keepnames` class_specification\r\n&gt;\r\n&gt; Short for `-keep,allowshrinking` class_specification\r\n&gt;\r\n&gt; Specifies classes and class members whose names are to be preserved, if they aren&#39;t removed in the shrinking phase. For example, you may want to keep all class names of classes that implement the Serializable interface, so that the processed code remains compatible with any originally serialized classes. Classes that aren&#39;t used at all can still be removed. Only applicable when obfuscating.\r\n\r\n","title":"Proguard keep class names?","body":"<p>Use the <code>-keepnames</code> option in your proguard.cfg</p>\n<p>Refer to the manual\n<a href=\"https://www.guardsquare.com/manual/configuration/usage#keepoptions\" rel=\"nofollow noreferrer\">https://www.guardsquare.com/manual/configuration/usage#keepoptions</a></p>\n<blockquote>\n<p><code>-keepnames</code> class_specification</p>\n<p>Short for <code>-keep,allowshrinking</code> class_specification</p>\n<p>Specifies classes and class members whose names are to be preserved, if they aren't removed in the shrinking phase. For example, you may want to keep all class names of classes that implement the Serializable interface, so that the processed code remains compatible with any originally serialized classes. Classes that aren't used at all can still be removed. Only applicable when obfuscating.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":198797,"reputation":4115,"user_id":443682,"accept_rate":60,"display_name":"tarkeshwar"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1411669511,"creation_date":1411669511,"answer_id":26045531,"question_id":10971810,"body_markdown":"This keeps classnames intact:\r\n\r\n    -keepnames class com.somepackage.* ","title":"Proguard keep class names?","body":"<p>This keeps classnames intact:</p>\n\n<pre><code>-keepnames class com.somepackage.* \n</code></pre>\n"},{"tags":[],"owner":{"account_id":200552,"reputation":12379,"user_id":446461,"accept_rate":77,"display_name":"mreichelt"},"down_vote_count":9,"up_vote_count":29,"is_accepted":false,"score":20,"last_activity_date":1412284829,"creation_date":1412284829,"answer_id":26169834,"question_id":10971810,"body_markdown":"Handy tip for everyone who does not want ProGuard to change **any** class name:\r\n\r\n    # please KEEP ALL THE NAMES\r\n    -keepnames class ** { *; }\r\n\r\nThis way you will get readable stack traces while still throwing out things you don&#39;t need. :-)","title":"Proguard keep class names?","body":"<p>Handy tip for everyone who does not want ProGuard to change <strong>any</strong> class name:</p>\n\n<pre><code># please KEEP ALL THE NAMES\n-keepnames class ** { *; }\n</code></pre>\n\n<p>This way you will get readable stack traces while still throwing out things you don't need. :-)</p>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1593051565,"creation_date":1556627140,"answer_id":55920943,"question_id":10971810,"body_markdown":"If anyone is interested how to specify multiple class names to keep, then these classes can be separated by a comma. Example:\r\n\r\n    -keepnames class com.foo.**,com.bar.** { *; }\r\n\r\nIt is also possible to use negation with this because usually only own classes would be obfuscated and 3rd party libraries can be kept:\r\n\r\n    -keepnames class !com.foo.**,!com.bar.** { *; }\r\n\r\nSee the [Proguard Documentation][1] for this.\r\n\r\n  [1]: https://www.guardsquare.com/en/products/proguard/manual/usage#classspecification","title":"Proguard keep class names?","body":"<p>If anyone is interested how to specify multiple class names to keep, then these classes can be separated by a comma. Example:</p>\n<pre><code>-keepnames class com.foo.**,com.bar.** { *; }\n</code></pre>\n<p>It is also possible to use negation with this because usually only own classes would be obfuscated and 3rd party libraries can be kept:</p>\n<pre><code>-keepnames class !com.foo.**,!com.bar.** { *; }\n</code></pre>\n<p>See the <a href=\"https://www.guardsquare.com/en/products/proguard/manual/usage#classspecification\" rel=\"nofollow noreferrer\">Proguard Documentation</a> for this.</p>\n"}],"owner":{"account_id":1239751,"reputation":1033,"user_id":1202634,"accept_rate":83,"display_name":"Nik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57126,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":10971873,"answer_count":4,"score":41,"last_activity_date":1655668586,"creation_date":1339357678,"question_id":10971810,"body_markdown":"Hello I am writing an Android app and I have set up Proguard to obfuscate my application. I however use a classloader to dynamically load different extensions to my application. The problem is that these don&#39;t load correctly if their names are changed. How do I keep Proguard from obfuscating specific class names?","title":"Proguard keep class names?","body":"<p>Hello I am writing an Android app and I have set up Proguard to obfuscate my application. I however use a classloader to dynamically load different extensions to my application. The problem is that these don't load correctly if their names are changed. How do I keep Proguard from obfuscating specific class names?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1655668339,"post_id":72679752,"comment_id":128380961,"body_markdown":"Does this answer your question? [JavaFX Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application](https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica\">JavaFX Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application</a>"}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655668239,"creation_date":1655668239,"answer_id":72679895,"question_id":72679752,"body_markdown":"Could it be that your Path isn&#39;t right at? \r\nBecause it looks like the `java.lang.NoClassDefFoundError: Stage` is saying to you that it could not found the &quot;class&quot; you are looking for and if you have the file, which i guess you have, then it only could be that it seeks at the wrong file \r\n\r\n    Parent root = FXMLLoader.load(getClass().getResource(&quot;mainWindow.fxml&quot;));\r\n\r\n","title":"Error: Unable to initialize main class files.Main Caused by: java.lang.NoClassDefFoundError: Stage","body":"<p>Could it be that your Path isn't right at?\nBecause it looks like the <code>java.lang.NoClassDefFoundError: Stage</code> is saying to you that it could not found the &quot;class&quot; you are looking for and if you have the file, which i guess you have, then it only could be that it seeks at the wrong file</p>\n<pre><code>Parent root = FXMLLoader.load(getClass().getResource(&quot;mainWindow.fxml&quot;));\n</code></pre>\n"}],"owner":{"account_id":25594643,"reputation":1,"user_id":19370692,"display_name":"Omer Shabbir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655668239,"creation_date":1655666778,"question_id":72679752,"body_markdown":"Need help for \r\nError: Unable to initialize main class files.Main\r\nCaused by: java.lang.NoClassDefFoundError: Stage\r\n\r\nkeep on showing the error but i cannot solve it please can any body help imidiately with this thanks alot\r\n```\r\npackage files;\r\n\r\nimport datamodel.TodoData;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception{\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;mainWindow.fxml&quot;));\r\n        primaryStage.setTitle(&quot;Todo List&quot;);\r\n        setUserAgentStylesheet(STYLESHEET_CASPIAN);\r\n        primaryStage.setScene(new Scene(root, 900, 700));\r\n        primaryStage.show();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void stop() throws Exception {\r\n        try {\r\n            TodoData.getInstance().storeTodoItems();\r\n        } catch (IOException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void init() throws Exception {\r\n        try {\r\n            TodoData.getInstance().loadTodoItems();\r\n        } catch (IOException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Error: Unable to initialize main class files.Main Caused by: java.lang.NoClassDefFoundError: Stage","body":"<p>Need help for\nError: Unable to initialize main class files.Main\nCaused by: java.lang.NoClassDefFoundError: Stage</p>\n<p>keep on showing the error but i cannot solve it please can any body help imidiately with this thanks alot</p>\n<pre><code>package files;\n\nimport datamodel.TodoData;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;mainWindow.fxml&quot;));\n        primaryStage.setTitle(&quot;Todo List&quot;);\n        setUserAgentStylesheet(STYLESHEET_CASPIAN);\n        primaryStage.setScene(new Scene(root, 900, 700));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void stop() throws Exception {\n        try {\n            TodoData.getInstance().storeTodoItems();\n        } catch (IOException e){\n            System.out.println(e.getMessage());\n        }\n    }\n\n    @Override\n    public void init() throws Exception {\n        try {\n            TodoData.getInstance().loadTodoItems();\n        } catch (IOException e){\n            System.out.println(e.getMessage());\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":1,"creation_date":1655665250,"post_id":72679576,"comment_id":128380311,"body_markdown":"Hi there, what happen with your delete function ?","body":"Hi there, what happen with your delete function ?"},{"owner":{"account_id":21459145,"reputation":77,"user_id":15810251,"display_name":"CypherZ"},"score":0,"creation_date":1655666580,"post_id":72679576,"comment_id":128380614,"body_markdown":"@Ticherhaz FreePalestine If I directly delete without updating anything, then its working properly. but if I try to update something and then try to delete it the its not getting deleted","body":"@Ticherhaz FreePalestine If I directly delete without updating anything, then its working properly. but if I try to update something and then try to delete it the its not getting deleted"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655666503,"creation_date":1655666503,"answer_id":72679721,"question_id":72679576,"body_markdown":"The problem is here:\r\n   ```\r\n   databaseReference.addValueEventListener(new ValueEventListener() {\r\n       @Override\r\n       public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n           databaseReference.updateChildren(map);\r\n           Toast.makeText(Edit_Bus.this, &quot;Bus updated&quot;, Toast.LENGTH_SHORT).show();\r\n           startActivity(new Intent(Edit_Bus.this,MainActivity2.class));\r\n\r\n       }\r\n\r\n       @Override\r\n       public void onCancelled(@NonNull DatabaseError error) {\r\n           Toast.makeText(Edit_Bus.this, &quot;Update Error&quot;, Toast.LENGTH_SHORT).show();\r\n       }\r\n   });\r\n   ```\r\n\r\nYou&#39;re adding a listener to the database by calling `addValueEventListener`, which is [documented](https://firebase.google.com/docs/database/android/read-and-write#read_data) as:\r\n\r\n&gt; This method is triggered once when the listener is attached and again every time the data, including children, changes. \r\n\r\nNow inside the `onDataChange` you modify the data at `databaseReference`, and as the documentation says that leads to `onDataChange` being called again, which leads to you updating the data again, which leads to... \r\n\r\nSince it seems you only want to update the data once, you can use `addListenerForSingleValueEvent` to prevent retriggering `onDataChange`:\r\n\r\n   ```\r\n                     // &#128071;\r\n   databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n       @Override\r\n       public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n           ...\r\n   ```","title":"Update and delete functions not working in Firebase","body":"<p>The problem is here:</p>\n<pre><code>databaseReference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        databaseReference.updateChildren(map);\n        Toast.makeText(Edit_Bus.this, &quot;Bus updated&quot;, Toast.LENGTH_SHORT).show();\n        startActivity(new Intent(Edit_Bus.this,MainActivity2.class));\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        Toast.makeText(Edit_Bus.this, &quot;Update Error&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>You're adding a listener to the database by calling <code>addValueEventListener</code>, which is <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data\" rel=\"nofollow noreferrer\">documented</a> as:</p>\n<blockquote>\n<p>This method is triggered once when the listener is attached and again every time the data, including children, changes.</p>\n</blockquote>\n<p>Now inside the <code>onDataChange</code> you modify the data at <code>databaseReference</code>, and as the documentation says that leads to <code>onDataChange</code> being called again, which leads to you updating the data again, which leads to...</p>\n<p>Since it seems you only want to update the data once, you can use <code>addListenerForSingleValueEvent</code> to prevent retriggering <code>onDataChange</code>:</p>\n<pre><code>                  // 👇\ndatabaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        ...\n</code></pre>\n"}],"owner":{"account_id":21459145,"reputation":77,"user_id":15810251,"display_name":"CypherZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72679721,"answer_count":1,"score":0,"last_activity_date":1655667235,"creation_date":1655665074,"question_id":72679576,"body_markdown":"I am developing a bus booking app. But I have a problem with the update and delete function. I am able to update the timings and price. But whenever I try to update the source or destination or bus number...my app gets stuck. When I checked my Firebase realtime database....it looks as if the value is stuck in an infinite loop...as the updated value...keeps getting changed from the old to the new value and new value to the old value continuously. This is causing my app to get stuck. I have two files with regard to this.\r\n1. EditBus.java \r\n ```\r\npackage com.example.busticketbooking;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Edit_Bus extends AppCompatActivity {\r\n    //Variables\r\n    public EditText busNumEdit,srcEdit,destEdit,timingsEdit,priceEdit;\r\n    private DatabaseReference databaseReference;\r\n    public String BusID;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit_bus);\r\n        busNumEdit =findViewById(R.id.BusNumber);\r\n        srcEdit=findViewById(R.id.source);\r\n        destEdit=findViewById(R.id.dest);\r\n        timingsEdit=findViewById(R.id.timings);\r\n        priceEdit=findViewById(R.id.price);\r\n        Button deleteButton = findViewById(R.id.deletebtn);\r\n        Button updateButton = findViewById(R.id.updatebtn);\r\n        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\r\n\r\n        BusRVModel busRVModel = getIntent().getParcelableExtra(&quot;Bus&quot;);\r\n        if(busRVModel !=null){\r\n            busNumEdit.setText(busRVModel.getBusNum());\r\n            srcEdit.setText(busRVModel.getSrc());\r\n            destEdit.setText(busRVModel.getDest());\r\n            timingsEdit.setText(busRVModel.getTimings());\r\n            priceEdit.setText(busRVModel.getPrice());\r\n            BusID= busRVModel.getBusID();\r\n        }\r\n\r\n        databaseReference= firebaseDatabase.getReference(&quot;Bus&quot;).child(BusID);\r\n        updateButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String busNumVar= busNumEdit.getText().toString();\r\n                String srcVar=srcEdit.getText().toString();\r\n                String destVar=destEdit.getText().toString();\r\n                String timingsVar=timingsEdit.getText().toString();\r\n                String priceVar=priceEdit.getText().toString();\r\n\r\n                Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();\r\n                map.put(&quot;busNum&quot;, busNumVar);\r\n                map.put(&quot;src&quot;,srcVar);\r\n                map.put(&quot;dest&quot;,destVar);\r\n                map.put(&quot;timings&quot;,timingsVar);\r\n                map.put(&quot;price&quot;,priceVar);\r\n                map.put(&quot;busID&quot;,BusID);\r\n\r\n                databaseReference.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        databaseReference.updateChildren(map);\r\n                        Toast.makeText(Edit_Bus.this, &quot;Bus updated&quot;, Toast.LENGTH_SHORT).show();\r\n                        startActivity(new Intent(Edit_Bus.this,MainActivity2.class));\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(Edit_Bus.this, &quot;Update Error&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        deleteButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                deleteBus();\r\n            }\r\n        });\r\n    }\r\n    private void deleteBus(){\r\n        databaseReference.removeValue();\r\n        Toast.makeText(this, &quot;Bus Deleted!!!&quot;, Toast.LENGTH_SHORT).show();\r\n        startActivity(new Intent(Edit_Bus.this,MainActivity2.class));\r\n    }\r\n}\r\n```\r\n\r\n2. BusRVModel.java\r\n```\r\npackage com.example.busticketbooking;\r\n\r\nimport android.os.Parcel;\r\nimport android.os.Parcelable;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class BusRVModel implements Parcelable{\r\n    private String busNum;\r\n    private String src;\r\n    private String dest;\r\n    private String timings;\r\n    private String price;\r\n    private String BusID;\r\n\r\n    public BusRVModel() {\r\n    }\r\n\r\n    public BusRVModel(String busNum, String src, String dest, String timings, String price, String busID ) {\r\n        this.busNum = busNum;\r\n        this.src = src;\r\n        this.dest = dest;\r\n        this.timings = timings;\r\n        this.price = price;\r\n        BusID = busID;\r\n    }\r\n\r\n    protected BusRVModel(Parcel in) {\r\n        busNum = in.readString();\r\n        src = in.readString();\r\n        dest = in.readString();\r\n        timings = in.readString();\r\n        price = in.readString();\r\n        BusID = in.readString();\r\n    }\r\n\r\n    public static final Creator&lt;BusRVModel&gt; CREATOR = new Creator&lt;BusRVModel&gt;() {\r\n        @Override\r\n        public BusRVModel createFromParcel(Parcel in) {\r\n            return new BusRVModel(in);\r\n        }\r\n\r\n        @Override\r\n        public BusRVModel[] newArray(int size) {\r\n            return new BusRVModel[size];\r\n        }\r\n    };\r\n\r\n    public String getBusNum() {\r\n        return busNum;\r\n    }\r\n\r\n    public void setBusNum(String busNum) {\r\n        this.busNum = busNum;\r\n    }\r\n\r\n    public String getSrc() {\r\n        return src;\r\n    }\r\n\r\n    public void setSrc(String src) {\r\n        this.src = src;\r\n    }\r\n\r\n    public String getDest() {\r\n        return dest;\r\n    }\r\n\r\n    public void setDest(String dest) {\r\n        this.dest = dest;\r\n    }\r\n\r\n    public String getTimings() {\r\n        return timings;\r\n    }\r\n\r\n    public void setTimings(String timings) {\r\n        this.timings = timings;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(String price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public String getBusID() {\r\n        return BusID;\r\n    }\r\n\r\n    public void setBusID(String busID) {\r\n        BusID = busID;\r\n    }\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeString(busNum);\r\n        parcel.writeString(src);\r\n        parcel.writeString(dest);\r\n        parcel.writeString(timings);\r\n        parcel.writeString(price);\r\n        parcel.writeString(BusID);\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. AddBus.java\r\n```\r\npackage com.example.busticketbooking;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class Add_Bus extends AppCompatActivity {\r\n    private EditText busNum,src,dest,timings,price;\r\n    private Button button;\r\n    private FirebaseDatabase firebaseDatabase;\r\n    private DatabaseReference databaseReference;\r\n    private String BusID;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_bus);\r\n        busNum=findViewById(R.id.BusNumber);\r\n        src=findViewById(R.id.source);\r\n        dest=findViewById(R.id.dest);\r\n        timings=findViewById(R.id.timings);\r\n        price=findViewById(R.id.price);\r\n        button=findViewById(R.id.btn);\r\n        firebaseDatabase=FirebaseDatabase.getInstance();\r\n        databaseReference=firebaseDatabase.getReference(&quot;Bus&quot;);\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String busNumVar=busNum.getText().toString();\r\n                String srcVar=src.getText().toString();\r\n                String destVar=dest.getText().toString();\r\n                String timingsVar=timings.getText().toString();\r\n                String priceVar=price.getText().toString();\r\n                BusID=busNumVar;\r\n                BusRVModel busRVModel=new BusRVModel(busNumVar,srcVar,destVar,timingsVar,priceVar,BusID);\r\n                databaseReference.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                        databaseReference.child(BusID).setValue(busRVModel);\r\n                        Toast.makeText(Add_Bus.this, &quot;Bus added&quot;, Toast.LENGTH_SHORT).show();\r\n                        startActivity(new Intent(Add_Bus.this,MainActivity2.class));\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n                        Toast.makeText(Add_Bus.this, &quot;Error is: &quot;+error.toString(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```","title":"Update and delete functions not working in Firebase","body":"<p>I am developing a bus booking app. But I have a problem with the update and delete function. I am able to update the timings and price. But whenever I try to update the source or destination or bus number...my app gets stuck. When I checked my Firebase realtime database....it looks as if the value is stuck in an infinite loop...as the updated value...keeps getting changed from the old to the new value and new value to the old value continuously. This is causing my app to get stuck. I have two files with regard to this.</p>\n<ol>\n<li>EditBus.java</li>\n</ol>\n<pre><code>package com.example.busticketbooking;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Edit_Bus extends AppCompatActivity {\n   //Variables\n   public EditText busNumEdit,srcEdit,destEdit,timingsEdit,priceEdit;\n   private DatabaseReference databaseReference;\n   public String BusID;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_edit_bus);\n       busNumEdit =findViewById(R.id.BusNumber);\n       srcEdit=findViewById(R.id.source);\n       destEdit=findViewById(R.id.dest);\n       timingsEdit=findViewById(R.id.timings);\n       priceEdit=findViewById(R.id.price);\n       Button deleteButton = findViewById(R.id.deletebtn);\n       Button updateButton = findViewById(R.id.updatebtn);\n       FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();\n\n       BusRVModel busRVModel = getIntent().getParcelableExtra(&quot;Bus&quot;);\n       if(busRVModel !=null){\n           busNumEdit.setText(busRVModel.getBusNum());\n           srcEdit.setText(busRVModel.getSrc());\n           destEdit.setText(busRVModel.getDest());\n           timingsEdit.setText(busRVModel.getTimings());\n           priceEdit.setText(busRVModel.getPrice());\n           BusID= busRVModel.getBusID();\n       }\n\n       databaseReference= firebaseDatabase.getReference(&quot;Bus&quot;).child(BusID);\n       updateButton.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View view) {\n               String busNumVar= busNumEdit.getText().toString();\n               String srcVar=srcEdit.getText().toString();\n               String destVar=destEdit.getText().toString();\n               String timingsVar=timingsEdit.getText().toString();\n               String priceVar=priceEdit.getText().toString();\n\n               Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();\n               map.put(&quot;busNum&quot;, busNumVar);\n               map.put(&quot;src&quot;,srcVar);\n               map.put(&quot;dest&quot;,destVar);\n               map.put(&quot;timings&quot;,timingsVar);\n               map.put(&quot;price&quot;,priceVar);\n               map.put(&quot;busID&quot;,BusID);\n\n               databaseReference.addValueEventListener(new ValueEventListener() {\n                   @Override\n                   public void onDataChange(@NonNull DataSnapshot snapshot) {\n                       databaseReference.updateChildren(map);\n                       Toast.makeText(Edit_Bus.this, &quot;Bus updated&quot;, Toast.LENGTH_SHORT).show();\n                       startActivity(new Intent(Edit_Bus.this,MainActivity2.class));\n\n                   }\n\n                   @Override\n                   public void onCancelled(@NonNull DatabaseError error) {\n                       Toast.makeText(Edit_Bus.this, &quot;Update Error&quot;, Toast.LENGTH_SHORT).show();\n                   }\n               });\n           }\n       });\n\n       deleteButton.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View view) {\n               deleteBus();\n           }\n       });\n   }\n   private void deleteBus(){\n       databaseReference.removeValue();\n       Toast.makeText(this, &quot;Bus Deleted!!!&quot;, Toast.LENGTH_SHORT).show();\n       startActivity(new Intent(Edit_Bus.this,MainActivity2.class));\n   }\n}\n</code></pre>\n<ol start=\"2\">\n<li>BusRVModel.java</li>\n</ol>\n<pre><code>package com.example.busticketbooking;\n\nimport android.os.Parcel;\nimport android.os.Parcelable;\n\nimport java.util.ArrayList;\n\npublic class BusRVModel implements Parcelable{\n    private String busNum;\n    private String src;\n    private String dest;\n    private String timings;\n    private String price;\n    private String BusID;\n\n    public BusRVModel() {\n    }\n\n    public BusRVModel(String busNum, String src, String dest, String timings, String price, String busID ) {\n        this.busNum = busNum;\n        this.src = src;\n        this.dest = dest;\n        this.timings = timings;\n        this.price = price;\n        BusID = busID;\n    }\n\n    protected BusRVModel(Parcel in) {\n        busNum = in.readString();\n        src = in.readString();\n        dest = in.readString();\n        timings = in.readString();\n        price = in.readString();\n        BusID = in.readString();\n    }\n\n    public static final Creator&lt;BusRVModel&gt; CREATOR = new Creator&lt;BusRVModel&gt;() {\n        @Override\n        public BusRVModel createFromParcel(Parcel in) {\n            return new BusRVModel(in);\n        }\n\n        @Override\n        public BusRVModel[] newArray(int size) {\n            return new BusRVModel[size];\n        }\n    };\n\n    public String getBusNum() {\n        return busNum;\n    }\n\n    public void setBusNum(String busNum) {\n        this.busNum = busNum;\n    }\n\n    public String getSrc() {\n        return src;\n    }\n\n    public void setSrc(String src) {\n        this.src = src;\n    }\n\n    public String getDest() {\n        return dest;\n    }\n\n    public void setDest(String dest) {\n        this.dest = dest;\n    }\n\n    public String getTimings() {\n        return timings;\n    }\n\n    public void setTimings(String timings) {\n        this.timings = timings;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public void setPrice(String price) {\n        this.price = price;\n    }\n\n    public String getBusID() {\n        return BusID;\n    }\n\n    public void setBusID(String busID) {\n        BusID = busID;\n    }\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel parcel, int i) {\n        parcel.writeString(busNum);\n        parcel.writeString(src);\n        parcel.writeString(dest);\n        parcel.writeString(timings);\n        parcel.writeString(price);\n        parcel.writeString(BusID);\n    }\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>AddBus.java</li>\n</ol>\n<pre><code>package com.example.busticketbooking;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\npublic class Add_Bus extends AppCompatActivity {\n    private EditText busNum,src,dest,timings,price;\n    private Button button;\n    private FirebaseDatabase firebaseDatabase;\n    private DatabaseReference databaseReference;\n    private String BusID;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_bus);\n        busNum=findViewById(R.id.BusNumber);\n        src=findViewById(R.id.source);\n        dest=findViewById(R.id.dest);\n        timings=findViewById(R.id.timings);\n        price=findViewById(R.id.price);\n        button=findViewById(R.id.btn);\n        firebaseDatabase=FirebaseDatabase.getInstance();\n        databaseReference=firebaseDatabase.getReference(&quot;Bus&quot;);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String busNumVar=busNum.getText().toString();\n                String srcVar=src.getText().toString();\n                String destVar=dest.getText().toString();\n                String timingsVar=timings.getText().toString();\n                String priceVar=price.getText().toString();\n                BusID=busNumVar;\n                BusRVModel busRVModel=new BusRVModel(busNumVar,srcVar,destVar,timingsVar,priceVar,BusID);\n                databaseReference.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                        databaseReference.child(BusID).setValue(busRVModel);\n                        Toast.makeText(Add_Bus.this, &quot;Bus added&quot;, Toast.LENGTH_SHORT).show();\n                        startActivity(new Intent(Add_Bus.this,MainActivity2.class));\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n                        Toast.makeText(Add_Bus.this, &quot;Error is: &quot;+error.toString(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n            }\n        });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-r2dbc"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":1,"creation_date":1655505112,"post_id":72664874,"comment_id":128356389,"body_markdown":"Could you explain why you need a list? Blocking outside of tests means that your code becomes synchronous, so why not use a Flux&lt;T&gt; instead? I&#39;m quite sure the repo would return this in a findAll. A Flux can even be returned by the Controller without ever needing Lists. Otherwise if you don&#39;t leverage reactive programming practices, you could always use non-reactive libraries.","body":"Could you explain why you need a list? Blocking outside of tests means that your code becomes synchronous, so why not use a Flux&lt;T&gt; instead? I&#39;m quite sure the repo would return this in a findAll. A Flux can even be returned by the Controller without ever needing Lists. Otherwise if you don&#39;t leverage reactive programming practices, you could always use non-reactive libraries."},{"owner":{"account_id":1496403,"reputation":1575,"user_id":1402237,"accept_rate":100,"display_name":"rekiem87"},"score":0,"creation_date":1655506574,"post_id":72664874,"comment_id":128356572,"body_markdown":"As @thinkgruen says, better check why you need directly the list if you are using reactive programming","body":"As @thinkgruen says, better check why you need directly the list if you are using reactive programming"},{"owner":{"account_id":25583325,"reputation":1,"user_id":19361473,"display_name":"Erick Gonzalez"},"score":0,"creation_date":1655567082,"post_id":72664874,"comment_id":128364709,"body_markdown":"My question is how can I use this information in my code? When I do this findall I need to use the information that I have in my database to map and save some information that I receive from another API.","body":"My question is how can I use this information in my code? When I do this findall I need to use the information that I have in my database to map and save some information that I receive from another API."},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1655578892,"post_id":72664874,"comment_id":128367104,"body_markdown":"By save you mean that you write something back to the database? That is also done reactively by R2DBC. when you call the API, you can leverage the reactive WebClient and to process it, Mono and Flux come with a map operation that you can use to work with whatever they are holding once it is ready. You can see that a lot of the concepts are taken from functional programming, so If you are comfortable with Streams and lambdas, reactive programming becomes much easier imo.","body":"By save you mean that you write something back to the database? That is also done reactively by R2DBC. when you call the API, you can leverage the reactive WebClient and to process it, Mono and Flux come with a map operation that you can use to work with whatever they are holding once it is ready. You can see that a lot of the concepts are taken from functional programming, so If you are comfortable with Streams and lambdas, reactive programming becomes much easier imo."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655666071,"creation_date":1655503586,"answer_id":72665223,"question_id":72664874,"body_markdown":"If `repo.findAll().collectList().map( a-&gt; {return a;})` returns a `Mono&lt;List&lt;T&gt;&gt;`, you can simply add `.block()` on the end to get back a `List&lt;T&gt;`\r\n\r\n    var test = repo.findAll().collectList().map( a-&gt; {\r\n                 return a;\r\n               }).block();\r\n\r\n`test` will now just be a `List`\r\n\r\nYour other option is to `subscribe` to it and pass in a `Consumer` that consumes the List.  `subscribe` is a non-blocking operation.  If you want to `subscribe`, you need to pass in a `Consumer`.\r\n\r\nConsider this method, that takes a `List&lt;String&gt;` (making the assumption that you get a list of `String`, it can be a List of anything).\r\n\r\n    public void consume(List&lt;String&gt; strings) {\r\n\r\n    }\r\n\r\nif that method is defined in the same class that your call is, you can simply do\r\n\r\n    repo.findAll().collectList().map( a-&gt; { return a;}).subscribe(this::consume);\r\n\r\nand it will pass the `List&lt;String&gt;` into your method when it&#39;s available.","title":"How can I convert Mono&lt;List&lt;something&gt;&gt; to List&lt;something&gt; into reactive programming spring boot?","body":"<p>If <code>repo.findAll().collectList().map( a-&gt; {return a;})</code> returns a <code>Mono&lt;List&lt;T&gt;&gt;</code>, you can simply add <code>.block()</code> on the end to get back a <code>List&lt;T&gt;</code></p>\n<pre><code>var test = repo.findAll().collectList().map( a-&gt; {\n             return a;\n           }).block();\n</code></pre>\n<p><code>test</code> will now just be a <code>List</code></p>\n<p>Your other option is to <code>subscribe</code> to it and pass in a <code>Consumer</code> that consumes the List.  <code>subscribe</code> is a non-blocking operation.  If you want to <code>subscribe</code>, you need to pass in a <code>Consumer</code>.</p>\n<p>Consider this method, that takes a <code>List&lt;String&gt;</code> (making the assumption that you get a list of <code>String</code>, it can be a List of anything).</p>\n<pre><code>public void consume(List&lt;String&gt; strings) {\n\n}\n</code></pre>\n<p>if that method is defined in the same class that your call is, you can simply do</p>\n<pre><code>repo.findAll().collectList().map( a-&gt; { return a;}).subscribe(this::consume);\n</code></pre>\n<p>and it will pass the <code>List&lt;String&gt;</code> into your method when it's available.</p>\n"}],"owner":{"account_id":25583325,"reputation":1,"user_id":19361473,"display_name":"Erick Gonzalez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655666071,"creation_date":1655500670,"question_id":72664874,"body_markdown":"  I have the following code this returns a Mono&lt;List&lt;Some&gt;&gt; and I need a List&lt;Some&gt;    \r\n\r\n    var test = repo.findAll().collectList().map( a-&gt; {\r\n                    return a;\r\n                });\r\n\r\nspring.boot.version 2.7.0","title":"How can I convert Mono&lt;List&lt;something&gt;&gt; to List&lt;something&gt; into reactive programming spring boot?","body":"<p>I have the following code this returns a Mono&lt;List&gt; and I need a List</p>\n<pre><code>var test = repo.findAll().collectList().map( a-&gt; {\n                return a;\n            });\n</code></pre>\n<p>spring.boot.version 2.7.0</p>\n"},{"tags":["java","json"],"owner":{"account_id":25594569,"reputation":11,"user_id":19370636,"display_name":"Vinoth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655665937,"creation_date":1655665937,"question_id":72679674,"body_markdown":"I&#39;ve a complex json object which i want to iterate and replace a specific key values. The key value to be replaced will be under rules -&gt; field -&gt; value and inside the value based on the id I&#39;ve to replace the name. For instance i have a json object { &quot;id&quot; : &quot;123&quot; , &quot;name&quot; : &quot;abc&quot; } i want to replace with { &quot;id&quot; : &quot;123&quot; , &quot;name&quot; : &quot;xyz&quot; }\r\n\r\nInput :\r\n\r\n    {\r\n    &quot;condition&quot;: {\r\n        &quot;rules&quot;: [{\r\n            &quot;field&quot;: &quot;stage.id&quot;,\r\n            &quot;value&quot;: [{\r\n                    &quot;condition&quot;: [{\r\n                        &quot;rules&quot;: [{\r\n                            &quot;field&quot;: &quot;stage.id&quot;,\r\n                            &quot;value&quot;: [{\r\n                                &quot;condition&quot;: [{\r\n                                    &quot;rules&quot;: [{\r\n                                        &quot;field&quot;: &quot;stage.id&quot;,\r\n                                        &quot;value&quot;: [{\r\n                                            &quot;id&quot;: &quot;123&quot;,\r\n                                            &quot;name&quot;: &quot;abc&quot;,\r\n                                            &quot;item&quot;: {\r\n                                                &quot;id&quot;: &quot;456&quot;,\r\n                                                &quot;name&quot;: &quot;ffgg&quot;\r\n                                            }\r\n                                        }]\r\n                                    }]\r\n                                }]\r\n                            }]\r\n                        }]\r\n                    }]\r\n                },\r\n                {\r\n                    &quot;field&quot;: &quot;tasks.stage.id&quot;,\r\n                    &quot;value&quot;: [{\r\n                        &quot;id&quot;: &quot;456&quot;,\r\n                        &quot;name&quot;: &quot;def&quot;\r\n                    }]\r\n                },\r\n                {\r\n                    &quot;field&quot;: &quot;stage.id&quot;,\r\n                    &quot;value&quot;: [{\r\n                        &quot;id&quot;: &quot;123&quot;,\r\n                        &quot;name&quot;: &quot;abc&quot;\r\n                    }]\r\n                }\r\n            ]\r\n        }]\r\n    }\r\n\r\nExpected Output:\r\n\r\n  \r\n\r\n    {\r\n        &quot;condition&quot;: {\r\n            &quot;rules&quot;: [{\r\n                &quot;field&quot;: &quot;stage.id&quot;,\r\n                &quot;value&quot;: [{\r\n                        &quot;condition&quot;: [{\r\n                            &quot;rules&quot;: [{\r\n                                &quot;field&quot;: &quot;stage.id&quot;,\r\n                                &quot;value&quot;: [{\r\n                                    &quot;condition&quot;: [{\r\n                                        &quot;rules&quot;: [{\r\n                                            &quot;field&quot;: &quot;stage.id&quot;,\r\n                                            &quot;value&quot;: [{\r\n                                                &quot;id&quot;: &quot;123&quot;,\r\n                                                &quot;name&quot;: &quot;xyz&quot;,\r\n                                                &quot;item&quot;: {\r\n                                                    &quot;id&quot;: &quot;456&quot;,\r\n                                                    &quot;name&quot;: &quot;ffgg&quot;\r\n                                                }\r\n                                            }]\r\n                                        }]\r\n                                    }]\r\n                                }]\r\n                            }]\r\n                        }]\r\n                    },\r\n                    {\r\n                        &quot;field&quot;: &quot;tasks.stage.id&quot;,\r\n                        &quot;value&quot;: [{\r\n                            &quot;id&quot;: &quot;456&quot;,\r\n                            &quot;name&quot;: &quot;def&quot;\r\n                        }]\r\n                    },\r\n                    {\r\n                        &quot;field&quot;: &quot;stage.id&quot;,\r\n                        &quot;value&quot;: [{\r\n                            &quot;id&quot;: &quot;123&quot;,\r\n                            &quot;name&quot;: &quot;xyz&quot;\r\n                        }]\r\n                    }\r\n                ]\r\n            }]\r\n        }\r\n\r\nI&#39;ve iterated to the object based in the instance but replacing the value is not working as expected. I&#39;m not sure what i&#39;ve missed here. Can someone help me in here.\r\n\r\nCode Sample\r\n\r\n \r\n\r\n       try {      \r\n       loopThroughJson(new JSONObject(theInput)));\r\n    } catch (JSONException e) {\r\n      e.printStackTrace();\r\n    }\r\n    \r\n    public static String loopThroughJson(Object input) throws JSONException {    \r\n    if (input instanceof JSONObject) {\r\n      Iterator&lt;?&gt; keys = ((JSONObject) input).keys();\r\n      while (keys.hasNext()) {\r\n        String key = (String) keys.next();\r\n        if (!(((JSONObject) input).get(key) instanceof JSONArray))\r\n          if (((JSONObject) input).get(key) instanceof JSONObject) {\r\n            loopThroughJson(((JSONObject) input).get(key));\r\n          } else\r\n           System.out.println(key + &quot;=&quot; + ((JSONObject) input).get(key));\r\n        else        \r\n          loopThroughJson(new JSONArray(((JSONObject) input).get(key).toString()));        \r\n      }\r\n    }\r\n    \r\n    if (input instanceof JSONArray) {\r\n      Gson gson = new Gson();\r\n    \r\n      for (int i = 0; i &lt; ((JSONArray) input).length(); i++) {\r\n        JSONObject a = ((JSONArray) input).getJSONObject(i);       \r\n        if (a.opt(&quot;field&quot;) != null &amp;&amp; a.opt(&quot;field&quot;).equals(&quot;stage.id&quot;)) {\r\n          Map&lt;String, Object&gt; fieldJson = gson.fromJson(a.toString(), Map.class);\r\n          List&lt;Map&lt;String, Object&gt;&gt; valueArray = (List&lt;Map&lt;String, Object&gt;&gt;) fieldJson.get(&quot;value&quot;);\r\n          for (Map&lt;String, Object&gt; valueObject : valueArray) {\r\n            if (valueObject.get(&quot;id&quot;).toString().equals(&quot;123&quot;)) {\r\n              valueObject.put(&quot;name&quot;, &quot;xyz&quot;);\r\n            }\r\n          }\r\n          a = new JSONObject(fieldJson);          \r\n        }       \r\n          loopThroughJson(a);\r\n        }\r\n    \r\n    }    \r\n    return input.toString();","title":"Parse Json Recursively and manipulate the object value","body":"<p>I've a complex json object which i want to iterate and replace a specific key values. The key value to be replaced will be under rules -&gt; field -&gt; value and inside the value based on the id I've to replace the name. For instance i have a json object { &quot;id&quot; : &quot;123&quot; , &quot;name&quot; : &quot;abc&quot; } i want to replace with { &quot;id&quot; : &quot;123&quot; , &quot;name&quot; : &quot;xyz&quot; }</p>\n<p>Input :</p>\n<pre><code>{\n&quot;condition&quot;: {\n    &quot;rules&quot;: [{\n        &quot;field&quot;: &quot;stage.id&quot;,\n        &quot;value&quot;: [{\n                &quot;condition&quot;: [{\n                    &quot;rules&quot;: [{\n                        &quot;field&quot;: &quot;stage.id&quot;,\n                        &quot;value&quot;: [{\n                            &quot;condition&quot;: [{\n                                &quot;rules&quot;: [{\n                                    &quot;field&quot;: &quot;stage.id&quot;,\n                                    &quot;value&quot;: [{\n                                        &quot;id&quot;: &quot;123&quot;,\n                                        &quot;name&quot;: &quot;abc&quot;,\n                                        &quot;item&quot;: {\n                                            &quot;id&quot;: &quot;456&quot;,\n                                            &quot;name&quot;: &quot;ffgg&quot;\n                                        }\n                                    }]\n                                }]\n                            }]\n                        }]\n                    }]\n                }]\n            },\n            {\n                &quot;field&quot;: &quot;tasks.stage.id&quot;,\n                &quot;value&quot;: [{\n                    &quot;id&quot;: &quot;456&quot;,\n                    &quot;name&quot;: &quot;def&quot;\n                }]\n            },\n            {\n                &quot;field&quot;: &quot;stage.id&quot;,\n                &quot;value&quot;: [{\n                    &quot;id&quot;: &quot;123&quot;,\n                    &quot;name&quot;: &quot;abc&quot;\n                }]\n            }\n        ]\n    }]\n}\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>{\n    &quot;condition&quot;: {\n        &quot;rules&quot;: [{\n            &quot;field&quot;: &quot;stage.id&quot;,\n            &quot;value&quot;: [{\n                    &quot;condition&quot;: [{\n                        &quot;rules&quot;: [{\n                            &quot;field&quot;: &quot;stage.id&quot;,\n                            &quot;value&quot;: [{\n                                &quot;condition&quot;: [{\n                                    &quot;rules&quot;: [{\n                                        &quot;field&quot;: &quot;stage.id&quot;,\n                                        &quot;value&quot;: [{\n                                            &quot;id&quot;: &quot;123&quot;,\n                                            &quot;name&quot;: &quot;xyz&quot;,\n                                            &quot;item&quot;: {\n                                                &quot;id&quot;: &quot;456&quot;,\n                                                &quot;name&quot;: &quot;ffgg&quot;\n                                            }\n                                        }]\n                                    }]\n                                }]\n                            }]\n                        }]\n                    }]\n                },\n                {\n                    &quot;field&quot;: &quot;tasks.stage.id&quot;,\n                    &quot;value&quot;: [{\n                        &quot;id&quot;: &quot;456&quot;,\n                        &quot;name&quot;: &quot;def&quot;\n                    }]\n                },\n                {\n                    &quot;field&quot;: &quot;stage.id&quot;,\n                    &quot;value&quot;: [{\n                        &quot;id&quot;: &quot;123&quot;,\n                        &quot;name&quot;: &quot;xyz&quot;\n                    }]\n                }\n            ]\n        }]\n    }\n</code></pre>\n<p>I've iterated to the object based in the instance but replacing the value is not working as expected. I'm not sure what i've missed here. Can someone help me in here.</p>\n<p>Code Sample</p>\n<pre><code>   try {      \n   loopThroughJson(new JSONObject(theInput)));\n} catch (JSONException e) {\n  e.printStackTrace();\n}\n\npublic static String loopThroughJson(Object input) throws JSONException {    \nif (input instanceof JSONObject) {\n  Iterator&lt;?&gt; keys = ((JSONObject) input).keys();\n  while (keys.hasNext()) {\n    String key = (String) keys.next();\n    if (!(((JSONObject) input).get(key) instanceof JSONArray))\n      if (((JSONObject) input).get(key) instanceof JSONObject) {\n        loopThroughJson(((JSONObject) input).get(key));\n      } else\n       System.out.println(key + &quot;=&quot; + ((JSONObject) input).get(key));\n    else        \n      loopThroughJson(new JSONArray(((JSONObject) input).get(key).toString()));        \n  }\n}\n\nif (input instanceof JSONArray) {\n  Gson gson = new Gson();\n\n  for (int i = 0; i &lt; ((JSONArray) input).length(); i++) {\n    JSONObject a = ((JSONArray) input).getJSONObject(i);       \n    if (a.opt(&quot;field&quot;) != null &amp;&amp; a.opt(&quot;field&quot;).equals(&quot;stage.id&quot;)) {\n      Map&lt;String, Object&gt; fieldJson = gson.fromJson(a.toString(), Map.class);\n      List&lt;Map&lt;String, Object&gt;&gt; valueArray = (List&lt;Map&lt;String, Object&gt;&gt;) fieldJson.get(&quot;value&quot;);\n      for (Map&lt;String, Object&gt; valueObject : valueArray) {\n        if (valueObject.get(&quot;id&quot;).toString().equals(&quot;123&quot;)) {\n          valueObject.put(&quot;name&quot;, &quot;xyz&quot;);\n        }\n      }\n      a = new JSONObject(fieldJson);          \n    }       \n      loopThroughJson(a);\n    }\n\n}    \nreturn input.toString();\n</code></pre>\n"},{"tags":["java","android","android-studio","retrofit2","response"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1655663346,"post_id":72679278,"comment_id":128379921,"body_markdown":"Hi there, have to try to logcat this `response.body().message` ?","body":"Hi there, have to try to logcat this <code>response.body().message</code> ?"},{"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"score":0,"creation_date":1655665305,"post_id":72679278,"comment_id":128380322,"body_markdown":"Hi, I try to print response.body().message but message isn&#39;t defined didn&#39;t recognize message","body":"Hi, I try to print response.body().message but message isn&#39;t defined didn&#39;t recognize message"},{"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"score":0,"creation_date":1655682949,"post_id":72679278,"comment_id":128383049,"body_markdown":"@TicherhazFreePalestine","body":"@TicherhazFreePalestine"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1655684834,"post_id":72679278,"comment_id":128383248,"body_markdown":"Can you contact me to my emaill ?","body":"Can you contact me to my emaill ?"},{"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"score":0,"creation_date":1655689676,"post_id":72679278,"comment_id":128383770,"body_markdown":"for sure send me your email","body":"for sure send me your email"},{"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"score":0,"creation_date":1655689813,"post_id":72679278,"comment_id":128383790,"body_markdown":"@TicherhazFreePalestine","body":"@TicherhazFreePalestine"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1655698020,"post_id":72679278,"comment_id":128384879,"body_markdown":"ticherhaz@gmail.com","body":"ticherhaz@gmail.com"}],"owner":{"account_id":22894137,"reputation":285,"user_id":17033887,"display_name":"saad tabban"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1655665812,"creation_date":1655662537,"question_id":72679278,"body_markdown":"There is a problem when receiving the response,\r\n\r\n    response.body().success\r\nit returns **0** but I expect **1** \r\nit shows a toast shows Failed! As the code below which means the response doesn&#39;t succeed\r\n\r\n    mService = Common.getFCMService();\r\n    private void sendNotificationOrder(String order_number) {\r\n        DatabaseReference tokens = FirebaseDatabase.getInstance().getReference(&quot;Tokens&quot;);\r\n        Query data = tokens.orderByChild(&quot;isServerToken&quot;).equalTo(true);\r\n        data.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot postSnapShot:dataSnapshot.getChildren()) {\r\n                    Token serverToken = postSnapShot.getValue(Token.class);\r\n                    Notification notification = new Notification(&quot;Ziead&#39;s Company&quot;, &quot;You have New Order&quot; + order_number);\r\n                    Sender content = new Sender(serverToken.getToken(), notification);\r\n                    mService.sendNotification(content)\r\n                            .enqueue(new Callback&lt;MyResponse&gt;() {\r\n                                @Override\r\n                                public void onResponse(Call&lt;MyResponse&gt; call, Response&lt;MyResponse&gt; response) {\r\n                                    try {\r\n                                           //Here It is Returning &quot;0&quot; not 1                                        System.out.println(response.body().success);\r\n                                            if (response.code() == 200) {\r\n                                                if (response.body().success == 1) {\r\n                                                    System.out.println(&quot;Succeedd&quot;);\r\n                                                    Toast.makeText(Cart.this, &quot;Thank you , Order Place&quot;, Toast.LENGTH_SHORT).show();\r\n                                                    finish();\r\n                                                } else {\r\n                                                    Toast.makeText(Cart.this, &quot;Failed !!!&quot;, Toast.LENGTH_SHORT).show();\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                        catch (Exception e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n                                    }\r\n                                    @Override\r\n                                    public void onFailure(Call&lt;MyResponse&gt; call, Throwable t) {\r\n                                    Log.e(&quot;ERROR&quot;, t.getMessage());\r\n    \r\n                                }\r\n                            });\r\n    \r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n            }\r\n        });\r\n    }\r\n\r\nToken.java:\r\n\r\n    public class Token {\r\n        private String token;\r\n        private boolean isServerToken;\r\n    \r\n        public Token() {\r\n        }\r\n    \r\n        public Token(String token, boolean isServerToken)\r\n        {\r\n            this.token = token;\r\n            this.isServerToken = isServerToken;\r\n        }\r\n    \r\n        public String getToken() {\r\n            return token;\r\n        }\r\n    \r\n        public void setToken(String token) {\r\n            this.token = token;\r\n        }\r\n    \r\n        public boolean isServerToken() {\r\n            return isServerToken;\r\n        }\r\n    \r\n        public void setServerToken(boolean serverToken) {\r\n            isServerToken = serverToken;\r\n        }\r\n    }\r\n\r\nNotification.java:\r\n\r\n    public class Notification {\r\n        public String body;\r\n        public String title;\r\n    \r\n        public Notification(String body, String title) {\r\n            this.body = body;\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getBody() {\r\n            return body;\r\n        }\r\n    \r\n        public void setBody(String body) {\r\n            this.body = body;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nSender.java:\r\n\r\n    public class Sender {\r\n        public String to;\r\n        public  Notification notification;\r\n    \r\n        public Sender(String to, Notification notification) {\r\n            this.to = to;\r\n            this.notification = notification;\r\n        }\r\n    \r\n        public String getTo() {\r\n            return to;\r\n        }\r\n    \r\n        public void setTo(String to) {\r\n            this.to = to;\r\n        }\r\n    \r\n        public Notification getNotification() {\r\n            return notification;\r\n        }\r\n    \r\n        public void setNotification(Notification notification) {\r\n            this.notification = notification;\r\n        }\r\n    }\r\nCommon.java:\r\n\r\n    public class Common {\r\n        public static APIService getFCMService(){\r\n            return RetrofitClient.getClient(BASE_URL).create(APIService.class);\r\n        }\r\n    }\r\n\r\nAPIService Interface:\r\n\r\n    public interface APIService {\r\n        @Headers(\r\n                {\r\n                        &quot;Content-Type:application/json&quot;,\r\n                        &quot;Authorization:key=AAAA0EXeo9E:APA91bGeAWN69zVVIKh9ib_XA6OkMnEA1S0_sZILrJ1civQVF-eelOAF4o3qCOTZpRgSwb9bySoU92ypchs5BqOE2P1Y_FPlvUanIrV2g7RPCY7IpGjYqSK1rlKVxODm6v8R&quot;\r\n                }\r\n        )\r\n        @POST(&quot;fcm/send&quot;)\r\n        Call&lt;MyResponse&gt; sendNotification(@Body Sender body);\r\n    }\r\n\r\nRetrofitClient.java:\r\n\r\n\r\nThis is all the code related to the main code","title":"The Response doesn&#39;t Succeed return &quot;0&quot;","body":"<p>There is a problem when receiving the response,</p>\n<pre><code>response.body().success\n</code></pre>\n<p>it returns <strong>0</strong> but I expect <strong>1</strong>\nit shows a toast shows Failed! As the code below which means the response doesn't succeed</p>\n<pre><code>mService = Common.getFCMService();\nprivate void sendNotificationOrder(String order_number) {\n    DatabaseReference tokens = FirebaseDatabase.getInstance().getReference(&quot;Tokens&quot;);\n    Query data = tokens.orderByChild(&quot;isServerToken&quot;).equalTo(true);\n    data.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot postSnapShot:dataSnapshot.getChildren()) {\n                Token serverToken = postSnapShot.getValue(Token.class);\n                Notification notification = new Notification(&quot;Ziead's Company&quot;, &quot;You have New Order&quot; + order_number);\n                Sender content = new Sender(serverToken.getToken(), notification);\n                mService.sendNotification(content)\n                        .enqueue(new Callback&lt;MyResponse&gt;() {\n                            @Override\n                            public void onResponse(Call&lt;MyResponse&gt; call, Response&lt;MyResponse&gt; response) {\n                                try {\n                                       //Here It is Returning &quot;0&quot; not 1                                        System.out.println(response.body().success);\n                                        if (response.code() == 200) {\n                                            if (response.body().success == 1) {\n                                                System.out.println(&quot;Succeedd&quot;);\n                                                Toast.makeText(Cart.this, &quot;Thank you , Order Place&quot;, Toast.LENGTH_SHORT).show();\n                                                finish();\n                                            } else {\n                                                Toast.makeText(Cart.this, &quot;Failed !!!&quot;, Toast.LENGTH_SHORT).show();\n                                            }\n                                        }\n                                    }\n                                    catch (Exception e) {\n                                        e.printStackTrace();\n                                    }\n                                }\n                                @Override\n                                public void onFailure(Call&lt;MyResponse&gt; call, Throwable t) {\n                                Log.e(&quot;ERROR&quot;, t.getMessage());\n\n                            }\n                        });\n\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n<p>Token.java:</p>\n<pre><code>public class Token {\n    private String token;\n    private boolean isServerToken;\n\n    public Token() {\n    }\n\n    public Token(String token, boolean isServerToken)\n    {\n        this.token = token;\n        this.isServerToken = isServerToken;\n    }\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n    public boolean isServerToken() {\n        return isServerToken;\n    }\n\n    public void setServerToken(boolean serverToken) {\n        isServerToken = serverToken;\n    }\n}\n</code></pre>\n<p>Notification.java:</p>\n<pre><code>public class Notification {\n    public String body;\n    public String title;\n\n    public Notification(String body, String title) {\n        this.body = body;\n        this.title = title;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>Sender.java:</p>\n<pre><code>public class Sender {\n    public String to;\n    public  Notification notification;\n\n    public Sender(String to, Notification notification) {\n        this.to = to;\n        this.notification = notification;\n    }\n\n    public String getTo() {\n        return to;\n    }\n\n    public void setTo(String to) {\n        this.to = to;\n    }\n\n    public Notification getNotification() {\n        return notification;\n    }\n\n    public void setNotification(Notification notification) {\n        this.notification = notification;\n    }\n}\n</code></pre>\n<p>Common.java:</p>\n<pre><code>public class Common {\n    public static APIService getFCMService(){\n        return RetrofitClient.getClient(BASE_URL).create(APIService.class);\n    }\n}\n</code></pre>\n<p>APIService Interface:</p>\n<pre><code>public interface APIService {\n    @Headers(\n            {\n                    &quot;Content-Type:application/json&quot;,\n                    &quot;Authorization:key=AAAA0EXeo9E:APA91bGeAWN69zVVIKh9ib_XA6OkMnEA1S0_sZILrJ1civQVF-eelOAF4o3qCOTZpRgSwb9bySoU92ypchs5BqOE2P1Y_FPlvUanIrV2g7RPCY7IpGjYqSK1rlKVxODm6v8R&quot;\n            }\n    )\n    @POST(&quot;fcm/send&quot;)\n    Call&lt;MyResponse&gt; sendNotification(@Body Sender body);\n}\n</code></pre>\n<p>RetrofitClient.java:</p>\n<p>This is all the code related to the main code</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":4566152,"reputation":3414,"user_id":3707125,"display_name":"user3707125"},"score":0,"creation_date":1433520262,"post_id":30670954,"comment_id":49404053,"body_markdown":"Have you considered using existing logging solutions? They all include such functionality.","body":"Have you considered using existing logging solutions? They all include such functionality."},{"owner":{"account_id":5356809,"reputation":598,"user_id":4269268,"accept_rate":52,"display_name":"MMike"},"score":0,"creation_date":1433520365,"post_id":30670954,"comment_id":49404111,"body_markdown":"@user3707125 No! Can you give more detail what logging solutions you mean?","body":"@user3707125 No! Can you give more detail what logging solutions you mean?"},{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":0,"creation_date":1433520416,"post_id":30670954,"comment_id":49404143,"body_markdown":"Designing such a utility class isn&#39;t the worst idea on the planet. If you encounter the same code multiple times, this is good reuse. But in your case you won&#39;t need to include it in your log entries, as almost every logging framework does include a timestamp by default. If not, it can be configured to do so. (even java.util.logging does it.)","body":"Designing such a utility class isn&#39;t the worst idea on the planet. If you encounter the same code multiple times, this is good reuse. But in your case you won&#39;t need to include it in your log entries, as almost every logging framework does include a timestamp by default. If not, it can be configured to do so. (even java.util.logging does it.)"},{"owner":{"account_id":4566152,"reputation":3414,"user_id":3707125,"display_name":"user3707125"},"score":0,"creation_date":1433520471,"post_id":30670954,"comment_id":49404173,"body_markdown":"Try logback over slf4j. http://logback.qos.ch/manual/introduction.html","body":"Try logback over slf4j. <a href=\"http://logback.qos.ch/manual/introduction.html\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/introduction.html</a>"},{"owner":{"account_id":5356809,"reputation":598,"user_id":4269268,"accept_rate":52,"display_name":"MMike"},"score":0,"creation_date":1433520610,"post_id":30670954,"comment_id":49404271,"body_markdown":"You guys caught me at what I do often, reinventing the wheel. It is really annoying to me that I wrote such a long question to hit on already existing logging features......... But anyway, thanks I will have a closer look on these logging solutions.","body":"You guys caught me at what I do often, reinventing the wheel. It is really annoying to me that I wrote such a long question to hit on already existing logging features......... But anyway, thanks I will have a closer look on these logging solutions."}],"owner":{"account_id":5356809,"reputation":598,"user_id":4269268,"accept_rate":52,"display_name":"MMike"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655665348,"creation_date":1433520130,"question_id":30670954,"body_markdown":"I have two log files which I feed with data, obviously.\r\n\r\nEvery entry in each log file should include date and time when an event occurred.\r\n\r\nFor instance:\r\n\r\n    06/05/2015 17:10:00 new connection established\r\n\r\n**How do I retrieve the date?**\r\n\r\n    SimpleDateFormat sFormat = new SimpleDateFormat(&quot;MM/dd/yyyy hh:mm:ss&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    sFormat.format(cal.getTime());\r\n\r\nNow currently two different classes (threads) need the current date and time.\r\n\r\nDue to that I don&#39;t want to write in every class a method which returns `sFormat.format(cal.getTime())` because it is unprofessional, I thought about a `DateFactory.class` :\r\n\r\n    public class DateFactory {\r\n\t    public static String datePattern = &quot;MM/dd/yyyy HH:mm:ss&quot;;\r\n\t\t\r\n\t    public static String retrieveDate() {\r\n\t\t    Calendar cal = Calendar.getInstance();\r\n\t\t    SimpleDateFormat simpleFormat = new SimpleDateFormat(datePattern);\r\n\t\t\t\r\n\t    \treturn simpleFormat.format(cal.getTime());\r\n\t    }\r\n    }\r\n    \r\nAnd now I am able to retrieve the current Date within my whole project no matter how much threads will join my project.\r\n\r\nDo look like this:\r\n\r\n    out.write(DateFactory.retrieveDate() + &quot; &quot; + newConnection.getInetAddress() + &quot; &quot; + &quot; new connection established&quot; + TheServerSocket.newLine);\r\n\r\nWhere `out` is a instance of `FileWriter.class` if this is relevant for someone.\r\n\r\n**The Question:**\r\n\r\nDo I totally miss something and my idea is the worst on planet?\r\nAre there any disadvantages in using my `DateFactory-solution` compared to a totally different design pattern (if there is any) which I may be completely unaware of? Or are there general any disadvantages in using my `DateFactory-solution`?\r\n\t\t\t\r\n\r\n","title":"DateFactory good pattern","body":"<p>I have two log files which I feed with data, obviously.</p>\n<p>Every entry in each log file should include date and time when an event occurred.</p>\n<p>For instance:</p>\n<pre><code>06/05/2015 17:10:00 new connection established\n</code></pre>\n<p><strong>How do I retrieve the date?</strong></p>\n<pre><code>SimpleDateFormat sFormat = new SimpleDateFormat(&quot;MM/dd/yyyy hh:mm:ss&quot;);\nCalendar cal = Calendar.getInstance();\nsFormat.format(cal.getTime());\n</code></pre>\n<p>Now currently two different classes (threads) need the current date and time.</p>\n<p>Due to that I don't want to write in every class a method which returns <code>sFormat.format(cal.getTime())</code> because it is unprofessional, I thought about a <code>DateFactory.class</code> :</p>\n<pre><code>public class DateFactory {\n    public static String datePattern = &quot;MM/dd/yyyy HH:mm:ss&quot;;\n    \n    public static String retrieveDate() {\n        Calendar cal = Calendar.getInstance();\n        SimpleDateFormat simpleFormat = new SimpleDateFormat(datePattern);\n        \n        return simpleFormat.format(cal.getTime());\n    }\n}\n</code></pre>\n<p>And now I am able to retrieve the current Date within my whole project no matter how much threads will join my project.</p>\n<p>Do look like this:</p>\n<pre><code>out.write(DateFactory.retrieveDate() + &quot; &quot; + newConnection.getInetAddress() + &quot; &quot; + &quot; new connection established&quot; + TheServerSocket.newLine);\n</code></pre>\n<p>Where <code>out</code> is a instance of <code>FileWriter.class</code> if this is relevant for someone.</p>\n<p><strong>The Question:</strong></p>\n<p>Do I totally miss something and my idea is the worst on planet?\nAre there any disadvantages in using my <code>DateFactory-solution</code> compared to a totally different design pattern (if there is any) which I may be completely unaware of? Or are there general any disadvantages in using my <code>DateFactory-solution</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":2,"creation_date":1500913689,"post_id":45285622,"comment_id":77533481,"body_markdown":"You told it to parse it as a binary number. 1111 is 15 in decimal notation","body":"You told it to parse it as a binary number. 1111 is 15 in decimal notation"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":4,"creation_date":1500913697,"post_id":45285622,"comment_id":77533487,"body_markdown":"It&#39;s unclear why you expect this to produce -1 as output","body":"It&#39;s unclear why you expect this to produce -1 as output"},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1500924184,"post_id":45285622,"comment_id":77539339,"body_markdown":"Maybe you meant `System.out.println(Integer.parseInt(&quot;11111111111111111111111111111111&quot;, 2));`","body":"Maybe you meant <code>System.out.println(Integer.parseInt(&quot;11111111111111111111111&zwnj;&#8203;111111111&quot;, 2));</code>"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1500913953,"creation_date":1500913953,"answer_id":45285735,"question_id":45285622,"body_markdown":"You&#39;ve made an assumption that, because integers are represented internally using two&#39;s complement, `Integer.parseInt` with a radix of 2 (binary) also takes numbers in that form. That assumption was incorrect.\r\n\r\nYour best bet with stuff like this is to [read the documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-). There&#39;s no mention of two&#39;s complement. It does however say:\r\n\r\n&gt; the first character may be an ASCII minus sign &#39;-&#39; (&#39;\\u002D&#39;) to\r\n&gt; indicate a negative value\r\n\r\nSo if you want to parse values represented using two&#39;s complement, you will have to write a function which converts the binary number to the absolute value, then appends a minus if necessary.","title":"Integer.parseInt() - Signed and Unsigned Number","body":"<p>You've made an assumption that, because integers are represented internally using two's complement, <code>Integer.parseInt</code> with a radix of 2 (binary) also takes numbers in that form. That assumption was incorrect.</p>\n\n<p>Your best bet with stuff like this is to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-int-\" rel=\"noreferrer\">read the documentation</a>. There's no mention of two's complement. It does however say:</p>\n\n<blockquote>\n  <p>the first character may be an ASCII minus sign '-' ('\\u002D') to\n  indicate a negative value</p>\n</blockquote>\n\n<p>So if you want to parse values represented using two's complement, you will have to write a function which converts the binary number to the absolute value, then appends a minus if necessary.</p>\n"},{"tags":[],"owner":{"account_id":5004009,"reputation":497,"user_id":4022171,"display_name":"arkantos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500925259,"creation_date":1500925259,"answer_id":45288787,"question_id":45285622,"body_markdown":"According to the javadoc of java.lang.Integer class parseInt(String s, int radix) method does the following;\r\n\r\n&gt; Parses the string argument as a signed integer in the radix specified\r\n&gt; by the second argument. The characters in the string must all be\r\n&gt; digits of the specified radix.\r\n\r\nWhen you run;\r\n\r\n    System.out.println(Integer.parseInt(&quot;1111&quot;, 2));\r\n\r\nYou are telling the method to take &quot;1111&quot; as a string and convert it to an int value with a base of 2(your radix), eventually it sums to 15 in binary.","title":"Integer.parseInt() - Signed and Unsigned Number","body":"<p>According to the javadoc of java.lang.Integer class parseInt(String s, int radix) method does the following;</p>\n\n<blockquote>\n  <p>Parses the string argument as a signed integer in the radix specified\n  by the second argument. The characters in the string must all be\n  digits of the specified radix.</p>\n</blockquote>\n\n<p>When you run;</p>\n\n<pre><code>System.out.println(Integer.parseInt(\"1111\", 2));\n</code></pre>\n\n<p>You are telling the method to take \"1111\" as a string and convert it to an int value with a base of 2(your radix), eventually it sums to 15 in binary.</p>\n"},{"tags":[],"owner":{"account_id":7425507,"reputation":621,"user_id":5648134,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655665224,"creation_date":1655665224,"answer_id":72679591,"question_id":45285622,"body_markdown":"Your input &quot;1111&quot; is actually a shortcut to this string &quot;0000 0000 0000 1111&quot;, which represent 15. \r\n\r\nFor the method `Integer.parseInt(binaryString, 2)`, if your binaryString&#39;s first char is not `&#39;-&#39;`, then it means parse an unsigned int.","title":"Integer.parseInt() - Signed and Unsigned Number","body":"<p>Your input &quot;1111&quot; is actually a shortcut to this string &quot;0000 0000 0000 1111&quot;, which represent 15.</p>\n<p>For the method <code>Integer.parseInt(binaryString, 2)</code>, if your binaryString's first char is not <code>'-'</code>, then it means parse an unsigned int.</p>\n"}],"owner":{"account_id":6365082,"reputation":818,"user_id":4939287,"accept_rate":28,"display_name":"The-Proton-Resurgence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2766,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1655665224,"creation_date":1500913571,"question_id":45285622,"body_markdown":"From [javadoc](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html), I understand that Java, by default, has int data type as a 32-bit signed two&#39;s complement integer, which has a minimum value of -2^31 and a maximum value of 2^31-1. \r\n\r\nIf that is the case, why does this:\r\n\r\n    System.out.println(Integer.parseInt(&quot;1111&quot;, 2));\r\n\r\n \r\ngive a value of 15 instead of -1(2&#39;s complement signed number).\r\n\r\n","title":"Integer.parseInt() - Signed and Unsigned Number","body":"<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">javadoc</a>, I understand that Java, by default, has int data type as a 32-bit signed two's complement integer, which has a minimum value of -2^31 and a maximum value of 2^31-1. </p>\n\n<p>If that is the case, why does this:</p>\n\n<pre><code>System.out.println(Integer.parseInt(\"1111\", 2));\n</code></pre>\n\n<p>give a value of 15 instead of -1(2's complement signed number).</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1655660477,"post_id":72679030,"comment_id":128379288,"body_markdown":"not sure if I did understand the question: you need to convert the given array to a different sized array, that is, change its size, then maybe `Arrays.copyOf()` ?","body":"not sure if I did understand the question: you need to convert the given array to a different sized array, that is, change its size, then maybe <code>Arrays.copyOf()</code> ?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1655663941,"post_id":72679030,"comment_id":128380046,"body_markdown":"What do you _want_ to happen?  You need to pick out the right number of arguments, but what do you want them to be?","body":"What do you <i>want</i> to happen?  You need to pick out the right number of arguments, but what do you want them to be?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1655887729,"post_id":72679030,"comment_id":128436006,"body_markdown":"So you claim `method.invoke(aObj, args)` doesn’t work when the method has two parameters and `args` is an array of length two? I suggest posting the real code, instead of pseudo code.","body":"So you claim <code>method.invoke(aObj, args)</code> doesn’t work when the method has two parameters and <code>args</code> is an array of length two? I suggest posting the real code, instead of pseudo code."}],"owner":{"account_id":14388028,"reputation":13,"user_id":10393431,"display_name":"Eduardo Arias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655665097,"creation_date":1655660134,"question_id":72679030,"body_markdown":"Is it possible to pass different number of arguments to a dynamic reflection method??\r\n\r\nI have N classes, for instance \r\n\r\n```\r\nclass A { method_A(T arg1, S arg2){}}\r\nclass B { method_B(T arg1){}}\r\nclass C //... and so on\r\n```\r\n\r\nI try to build a function able to invoke any method in any class\r\n\r\n```\r\n main(){\r\n   Object[] args = {&quot;arg1&quot;, &quot;arg2&quot;};\r\n   foo(new A(), &quot;method_A&quot;, args);\r\n }\r\n foo(Object obj, String objectiveMethod, Object[] params){\r\n   Method[] allMethods = obj.getClass().getDeclaredMethods();\r\n   for(Method method: allMethods){\r\n     //find the objective method, irrelevant to the question\r\n     if(objectiveMethod.equals(method.getName())){\r\n       method.invoke(obj, params); // Here throws IllegalArgumentException: wrong number of arguments\r\n     }\r\n   }\r\n }\r\n```\r\n\r\nI can easily retrieve the amount of arguments `Method.getParameterCount()`, but i can&#39;t figure out how to dynamically pass N number of arguments retrieved from `Object[] args;`.\r\n\r\nI thought that `MethodAccessor.invoke(Object obj, Object[] args)` could handle this (because of Object[] args) but it doesn&#39;t work and throws \r\n\r\n```\r\nIllegalArgumentException: wrong number of arguments\r\n```\r\n\r\nCould you help me figure out any way to achieve that? Or it&#39;s impossible?\r\n\r\n--edit-- \r\n```\r\n f(){\r\n   A aObj = new A(); C cObj = new C();\r\n   Object[] args = {&quot;arg1&quot;, &quot;arg2&quot;};\r\n   Object[] argsC = {&quot;arg1&quot;, 2, new B()};\r\n   aObj.method_A(args[0], args[1]); // works fine\r\n   ...\r\n   /* It doesn&#39;t matter which type of object they are, they still have known of it&#39;s type without casting*/\r\n   method.invoke(aObj, args[0], args[1]); // works fine\r\n   method.invoke(aObj, args); // doesn&#39;t work, wrong number of args.\r\n\r\n\r\n   methodC.invoke(cObj, args...?);// 3 args dynamically\r\n }\r\n```","title":"java reflection on different argument number","body":"<p>Is it possible to pass different number of arguments to a dynamic reflection method??</p>\n<p>I have N classes, for instance</p>\n<pre><code>class A { method_A(T arg1, S arg2){}}\nclass B { method_B(T arg1){}}\nclass C //... and so on\n</code></pre>\n<p>I try to build a function able to invoke any method in any class</p>\n<pre><code> main(){\n   Object[] args = {&quot;arg1&quot;, &quot;arg2&quot;};\n   foo(new A(), &quot;method_A&quot;, args);\n }\n foo(Object obj, String objectiveMethod, Object[] params){\n   Method[] allMethods = obj.getClass().getDeclaredMethods();\n   for(Method method: allMethods){\n     //find the objective method, irrelevant to the question\n     if(objectiveMethod.equals(method.getName())){\n       method.invoke(obj, params); // Here throws IllegalArgumentException: wrong number of arguments\n     }\n   }\n }\n</code></pre>\n<p>I can easily retrieve the amount of arguments <code>Method.getParameterCount()</code>, but i can't figure out how to dynamically pass N number of arguments retrieved from <code>Object[] args;</code>.</p>\n<p>I thought that <code>MethodAccessor.invoke(Object obj, Object[] args)</code> could handle this (because of Object[] args) but it doesn't work and throws</p>\n<pre><code>IllegalArgumentException: wrong number of arguments\n</code></pre>\n<p>Could you help me figure out any way to achieve that? Or it's impossible?</p>\n<p>--edit--</p>\n<pre><code> f(){\n   A aObj = new A(); C cObj = new C();\n   Object[] args = {&quot;arg1&quot;, &quot;arg2&quot;};\n   Object[] argsC = {&quot;arg1&quot;, 2, new B()};\n   aObj.method_A(args[0], args[1]); // works fine\n   ...\n   /* It doesn't matter which type of object they are, they still have known of it's type without casting*/\n   method.invoke(aObj, args[0], args[1]); // works fine\n   method.invoke(aObj, args); // doesn't work, wrong number of args.\n\n\n   methodC.invoke(cObj, args...?);// 3 args dynamically\n }\n</code></pre>\n"},{"tags":["java","class","constructor","super"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1306300756,"post_id":6118492,"comment_id":7099794,"body_markdown":"NB it&#39;s not a &#39;method&#39;, it is a way of referring to a constructor in the base class.","body":"NB it&#39;s not a &#39;method&#39;, it is a way of referring to a constructor in the base class."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1306285372,"creation_date":1306285372,"answer_id":6118498,"question_id":6118492,"body_markdown":"It says &quot;initialize my parent class before you initialize me&quot; by calling its default constructor.\r\n","title":"What does super() method do?","body":"<p>It says \"initialize my parent class before you initialize me\" by calling its default constructor.</p>\n"},{"tags":[],"owner":{"account_id":231588,"reputation":7072,"user_id":495904,"accept_rate":98,"display_name":"ferostar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1442332854,"creation_date":1306285447,"answer_id":6118506,"question_id":6118492,"body_markdown":"`super()` calls the parent&#39;s class constructor (all the way back to Object) and it runs before the current class&#39;s constructor.","title":"What does super() method do?","body":"<p><code>super()</code> calls the parent's class constructor (all the way back to Object) and it runs before the current class's constructor.</p>\n"},{"tags":[],"owner":{"account_id":104056,"reputation":11894,"user_id":278385,"display_name":"jqpubliq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306286528,"creation_date":1306286528,"answer_id":6118582,"question_id":6118492,"body_markdown":"There is no such thing as &quot;superclass context&quot; the context is an interface to access information from the application environment like image resources, system services ect. The context will be from whatever you pass in and is class independent. For instance, an `Activity` is the implementation of the Context interface you are likely to be using and any view you make from within that activity will have the same Context which is actually that provided by the activity.","title":"What does super() method do?","body":"<p>There is no such thing as \"superclass context\" the context is an interface to access information from the application environment like image resources, system services ect. The context will be from whatever you pass in and is class independent. For instance, an <code>Activity</code> is the implementation of the Context interface you are likely to be using and any view you make from within that activity will have the same Context which is actually that provided by the activity.</p>\n"},{"tags":[],"owner":{"account_id":7079536,"reputation":561,"user_id":5418424,"display_name":"Genovo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486767202,"creation_date":1486765615,"answer_id":42169651,"question_id":6118492,"body_markdown":"When used in a constructor, the `super()` keyword appears alone and must be used before the `this` keyword can be used. The `this` keyword may then be used to call functions on a parent object.","title":"What does super() method do?","body":"<p>When used in a constructor, the <code>super()</code> keyword appears alone and must be used before the <code>this</code> keyword can be used. The <code>this</code> keyword may then be used to call functions on a parent object.</p>\n"},{"tags":[],"owner":{"account_id":18888620,"reputation":21,"user_id":13779414,"display_name":"A P Harivignesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655664990,"creation_date":1593701835,"answer_id":62699232,"question_id":6118492,"body_markdown":"The super() is **essential** when the parent class constructor takes any **parameter** \r\n\r\nThe super() is **not necessary** when the parent class constructor takes **no parameter** because super() will be already specified implicitly. \r\n\r\nLook at the code:  \r\n\r\n    public class A{  \r\n        int a;\r\n        A(int a){\r\n            this.a=a;\r\n            //Constructor of parent class which requires a parameter\r\n        }   \r\n    }  \r\n    public class B extends A{\r\n        int b;\r\n        B(int a, int b){\r\n            super(a);\r\n            this.b=b;\r\n            //here super(a) is used to pass the parameter required by the \r\n            constructor of the parent class A.\r\n        }\r\n    }\r\n\r\nIn other words, whenever you create an object for the child class. First, the constructor of the parent class will be called followed by the constructor of the child class. So it is necessary to pass the parameters required by the parent class constructor from the child class constructor using super() method.\r\n\r\nHope it helps!\r\n\r\nPlease don&#39;t forget to **upvote**","title":"What does super() method do?","body":"<p>The super() is <strong>essential</strong> when the parent class constructor takes any <strong>parameter</strong></p>\n<p>The super() is <strong>not necessary</strong> when the parent class constructor takes <strong>no parameter</strong> because super() will be already specified implicitly.</p>\n<p>Look at the code:</p>\n<pre><code>public class A{  \n    int a;\n    A(int a){\n        this.a=a;\n        //Constructor of parent class which requires a parameter\n    }   \n}  \npublic class B extends A{\n    int b;\n    B(int a, int b){\n        super(a);\n        this.b=b;\n        //here super(a) is used to pass the parameter required by the \n        constructor of the parent class A.\n    }\n}\n</code></pre>\n<p>In other words, whenever you create an object for the child class. First, the constructor of the parent class will be called followed by the constructor of the child class. So it is necessary to pass the parameters required by the parent class constructor from the child class constructor using super() method.</p>\n<p>Hope it helps!</p>\n<p>Please don't forget to <strong>upvote</strong></p>\n"}],"owner":{"account_id":314436,"reputation":5107,"user_id":629599,"accept_rate":80,"display_name":"mergesort"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36121,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6118498,"answer_count":5,"score":22,"last_activity_date":1655664990,"creation_date":1306285280,"question_id":6118492,"body_markdown":"What does the super method do?\r\n\r\n    public DataFetch(Context context) {\r\n        super();\r\n        this.ctx = context;\r\n    }\r\nDoes this constructor make the context of the newly created object the context of the super class? Not 100% sure how this works. So would the `super()` method essentially just be saying &quot;put me into super class mode&quot; to say it in lay man&#39;s terms?","title":"What does super() method do?","body":"<p>What does the super method do?</p>\n\n<pre><code>public DataFetch(Context context) {\n    super();\n    this.ctx = context;\n}\n</code></pre>\n\n<p>Does this constructor make the context of the newly created object the context of the super class? Not 100% sure how this works. So would the <code>super()</code> method essentially just be saying \"put me into super class mode\" to say it in lay man's terms?</p>\n"},{"tags":["java","string","reflection","jvm"],"comments":[{"owner":{"account_id":10848011,"reputation":18993,"user_id":7976805,"display_name":"Yksisarvinen"},"score":1,"creation_date":1655577339,"post_id":72671776,"comment_id":128366774,"body_markdown":"Why did you tag your question &quot;C++&quot;?","body":"Why did you tag your question &quot;C++&quot;?"},{"owner":{"account_id":15409810,"reputation":99,"user_id":11116853,"display_name":"wo4wangle"},"score":0,"creation_date":1655577634,"post_id":72671776,"comment_id":128366842,"body_markdown":"@Yksisarvinen Sry, I think this question may related to the implementation of Java and mainstream JVM is implemented with cpp, so cpper may know some of it.","body":"@Yksisarvinen Sry, I think this question may related to the implementation of Java and mainstream JVM is implemented with cpp, so cpper may know some of it."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1655580905,"post_id":72671776,"comment_id":128367455,"body_markdown":"`final static String nameString = &quot;1&quot;;` is compile-time constant (it is `final` and its value is known at compilation time). This lets compiler use its value directly instead of generating call to *variable* (which speeds things up). So if you use at some point `nameString` compiler will treat it as if you written `&quot;1&quot;` (it is called *inlining*). So in case of `System.out.println(&quot;nameString: &quot; + nameString);` ***compiler will generate same bytecode as if you would written `System.out.println(&quot;nameString: &quot; + &quot;1&quot;);`***. As you see, this bytecode no longer *depends* on `nameString`.","body":"<code>final static String nameString = &quot;1&quot;;</code> is compile-time constant (it is <code>final</code> and its value is known at compilation time). This lets compiler use its value directly instead of generating call to <i>variable</i> (which speeds things up). So if you use at some point <code>nameString</code> compiler will treat it as if you written <code>&quot;1&quot;</code> (it is called <i>inlining</i>). So in case of <code>System.out.println(&quot;nameString: &quot; + nameString);</code> <b><i>compiler will generate same bytecode as if you would written <code>System.out.println(&quot;nameString: &quot; + &quot;1&quot;);</code></i></b>. As you see, this bytecode no longer <i>depends</i> on <code>nameString</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1655581431,"post_id":72671776,"comment_id":128367554,"body_markdown":"Changing value of `nameString` will not make `System.out.println(&quot;nameString: &quot; + &quot;1&quot;);` recompile to use *new value*. What you may want to do is *preventing* nameString from being compile-time constant by assigning to it value which will NOT be [constant expression](https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28). For instance you could initialize it like `private final static String nameString = new String(&quot;1&quot;);`.","body":"Changing value of <code>nameString</code> will not make <code>System.out.println(&quot;nameString: &quot; + &quot;1&quot;);</code> recompile to use <i>new value</i>. What you may want to do is <i>preventing</i> nameString from being compile-time constant by assigning to it value which will NOT be <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">constant expression</a>. For instance you could initialize it like <code>private final static String nameString = new String(&quot;1&quot;);</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1655581694,"post_id":72671776,"comment_id":128367603,"body_markdown":"This question may interest you: [Comparing strings with == which are declared final in Java](https://stackoverflow.com/q/19418427) (it is not related to your question, but you can find some more details there about compile-time constant expressions and inlining). Also read last section of [accepted answer](https://stackoverflow.com/a/3301720) in [Change private static final field using Java reflection](https://stackoverflow.com/q/3301635)","body":"This question may interest you: <a href=\"https://stackoverflow.com/q/19418427\">Comparing strings with == which are declared final in Java</a> (it is not related to your question, but you can find some more details there about compile-time constant expressions and inlining). Also read last section of <a href=\"https://stackoverflow.com/a/3301720\">accepted answer</a> in <a href=\"https://stackoverflow.com/q/3301635\">Change private static final field using Java reflection</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655582678,"post_id":72671776,"comment_id":128367742,"body_markdown":"Does this answer your question? [Change private static final field using Java reflection](https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3301635/change-private-static-final-field-using-java-reflection\">Change private static final field using Java reflection</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655582744,"post_id":72671776,"comment_id":128367751,"body_markdown":"This should answer your question: [Answer about compile time constants](https://stackoverflow.com/a/3301818/845414)","body":"This should answer your question: <a href=\"https://stackoverflow.com/a/3301818/845414\">Answer about compile time constants</a>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655664807,"creation_date":1655584237,"answer_id":72672552,"question_id":72671776,"body_markdown":"The Java compiler is required (by the Java Language Specification) to inline constant variables (see https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.1-110-C for the current version, but the same requirement was already in the [JLS for Java 1.6](https://docs.oracle.com/javase/specs/jls/se6/html/binaryComp.html#78177)).\r\n\r\nYou can work around this by making `nameString` a so called &quot;blank final&quot; (https://docs.oracle.com/javase/specs/jls/se6/html/typesValues.html#10931):\r\n\r\n        private static final String nameString;\r\n        static {\r\n            nameString =  &quot;1&quot;;\r\n        }\r\n\r\n_This solves your current problem_, **but** it will get you into trouble if you ever want to upgrade your Java version. Java 12 and later do no longer allow setting the `modifier` field of the `Field` class. If your code depends on this hack it will forever be locked to Java versions 11 or lower.\r\n\r\nUpdate to the preceding paragraph: _In this case (only running some tests) it might solve your problem_ **but**: the JVM is free to optimize the access to the field (even in the case of a blank final field it is declared as **final** and the JIT optimizer can do optimizations it cannot do with non-final fields)\r\n\r\nTo show the problem:\r\n\r\n    import java.lang.reflect.Field;\r\n    import java.lang.reflect.Modifier;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main (String[] args) throws Exception {\r\n    \t\tSystem.out.println(&quot;Before:&quot;);\r\n    \t\tSystem.out.println(&quot;Field1: &quot;+Class2.getField1());\r\n    \t\tSystem.out.println(&quot;Field2: &quot;+Class2.getField2());\r\n    \t\tSystem.out.println(&quot;Field3: &quot;+Class2.getField3());\r\n    \t\tSystem.out.println(&quot;Field3: &quot;+Class2.getField3());\r\n    \t\tSystem.out.println();\r\n\r\n            Class c = Class2.class;\r\n            Field f1 = c.getDeclaredField(&quot;field1&quot;);\r\n            Field f2 = c.getDeclaredField(&quot;field2&quot;);\r\n            Field f3 = c.getDeclaredField(&quot;field3&quot;);\r\n            changeField(f1);\r\n            changeField(f2);\r\n            changeField(f3);\r\n\r\n    \t\tSystem.out.println(&quot;After:&quot;);\r\n    \t\tSystem.out.println(&quot;Field1: &quot;+Class2.getField1());\r\n    \t\tSystem.out.println(&quot;Field2: &quot;+Class2.getField2());\r\n    \t\tSystem.out.println(&quot;Field3: &quot;+Class2.getField3());\r\n    \t}\r\n\r\n    \tprivate static void changeField(Field field) throws Exception {\r\n    \t\tfield.setAccessible(true);\r\n            Field modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n            modifiersField.setAccessible(true);\r\n            modifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n            field.set(null, &quot;changed&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class Class2 {\r\n    \tprivate static final String field1 = &quot;no change&quot;; // constant variable, read access must be inlined\r\n    \tprivate static final String field2; // blank final\r\n    \tprivate static final String field3; // blank final\r\n    \tstatic {\r\n    \t\tfield2 = &quot;no change&quot;;\r\n    \t\tfield3 = &quot;no change&quot;;\r\n    \t}\r\n    \tpublic static String getField1() { return field1; }\r\n    \tpublic static String getField2() { return field2; }\r\n        public static String getField3() {\r\n            for (int i = 0; i &lt; 1_000_000; i++) {\r\n                if (!field3.equals(&quot;no change&quot;)) {\r\n                    return field3;\r\n                }\r\n            }\r\n            return field3;\r\n        }\r\n    }\r\n\r\nIt will print out\r\n\r\n&gt;     Before:\r\n&gt;     Field1: no change\r\n&gt;     Field2: no change\r\n&gt;     Field3: no change\r\n&gt;     Field3: no change\r\n&gt;     \r\n&gt;     After:\r\n&gt;     Field1: no change\r\n&gt;     Field2: changed\r\n&gt;     Field3: no change\r\n\r\nSo the JIT changed (at runtime) the code method `getField3` to no longer access the field `field3` but to load the constant &quot;no change&quot; directly. Since `field3` is declared as final this is a perfectly legal optimization.\r\n\r\nIf you try to run it with Java 17 it will throw an exception:\r\n\r\n&gt;     Exception in thread &quot;main&quot; java.lang.NoSuchFieldException: modifiers\r\n&gt;     \tat java.base/java.lang.Class.getDeclaredField(Class.java:2610)\r\n&gt;     \tat Main.changeField(Main.java:xx)\r\n&gt;     \tat Main.main(Main.java:xx)\r\n","title":"Why cannot modify a String field with Reflection?","body":"<p>The Java compiler is required (by the Java Language Specification) to inline constant variables (see <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.1-110-C\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se17/html/jls-13.html#jls-13.1-110-C</a> for the current version, but the same requirement was already in the <a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/binaryComp.html#78177\" rel=\"nofollow noreferrer\">JLS for Java 1.6</a>).</p>\n<p>You can work around this by making <code>nameString</code> a so called &quot;blank final&quot; (<a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/typesValues.html#10931\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se6/html/typesValues.html#10931</a>):</p>\n<pre><code>    private static final String nameString;\n    static {\n        nameString =  &quot;1&quot;;\n    }\n</code></pre>\n<p><em>This solves your current problem</em>, <strong>but</strong> it will get you into trouble if you ever want to upgrade your Java version. Java 12 and later do no longer allow setting the <code>modifier</code> field of the <code>Field</code> class. If your code depends on this hack it will forever be locked to Java versions 11 or lower.</p>\n<p>Update to the preceding paragraph: <em>In this case (only running some tests) it might solve your problem</em> <strong>but</strong>: the JVM is free to optimize the access to the field (even in the case of a blank final field it is declared as <strong>final</strong> and the JIT optimizer can do optimizations it cannot do with non-final fields)</p>\n<p>To show the problem:</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\n\npublic class Main {\n\n    public static void main (String[] args) throws Exception {\n        System.out.println(&quot;Before:&quot;);\n        System.out.println(&quot;Field1: &quot;+Class2.getField1());\n        System.out.println(&quot;Field2: &quot;+Class2.getField2());\n        System.out.println(&quot;Field3: &quot;+Class2.getField3());\n        System.out.println(&quot;Field3: &quot;+Class2.getField3());\n        System.out.println();\n\n        Class c = Class2.class;\n        Field f1 = c.getDeclaredField(&quot;field1&quot;);\n        Field f2 = c.getDeclaredField(&quot;field2&quot;);\n        Field f3 = c.getDeclaredField(&quot;field3&quot;);\n        changeField(f1);\n        changeField(f2);\n        changeField(f3);\n\n        System.out.println(&quot;After:&quot;);\n        System.out.println(&quot;Field1: &quot;+Class2.getField1());\n        System.out.println(&quot;Field2: &quot;+Class2.getField2());\n        System.out.println(&quot;Field3: &quot;+Class2.getField3());\n    }\n\n    private static void changeField(Field field) throws Exception {\n        field.setAccessible(true);\n        Field modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\n        modifiersField.setAccessible(true);\n        modifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n        field.set(null, &quot;changed&quot;);\n    }\n}\n\nclass Class2 {\n    private static final String field1 = &quot;no change&quot;; // constant variable, read access must be inlined\n    private static final String field2; // blank final\n    private static final String field3; // blank final\n    static {\n        field2 = &quot;no change&quot;;\n        field3 = &quot;no change&quot;;\n    }\n    public static String getField1() { return field1; }\n    public static String getField2() { return field2; }\n    public static String getField3() {\n        for (int i = 0; i &lt; 1_000_000; i++) {\n            if (!field3.equals(&quot;no change&quot;)) {\n                return field3;\n            }\n        }\n        return field3;\n    }\n}\n</code></pre>\n<p>It will print out</p>\n<blockquote>\n<pre><code>Before:\nField1: no change\nField2: no change\nField3: no change\nField3: no change\n\nAfter:\nField1: no change\nField2: changed\nField3: no change\n</code></pre>\n</blockquote>\n<p>So the JIT changed (at runtime) the code method <code>getField3</code> to no longer access the field <code>field3</code> but to load the constant &quot;no change&quot; directly. Since <code>field3</code> is declared as final this is a perfectly legal optimization.</p>\n<p>If you try to run it with Java 17 it will throw an exception:</p>\n<blockquote>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchFieldException: modifiers\n  at java.base/java.lang.Class.getDeclaredField(Class.java:2610)\n  at Main.changeField(Main.java:xx)\n  at Main.main(Main.java:xx)\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":15409810,"reputation":99,"user_id":11116853,"display_name":"wo4wangle"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72672552,"answer_count":1,"score":0,"last_activity_date":1655664807,"creation_date":1655577308,"question_id":72671776,"body_markdown":"JDK version: 1.8.0_291\r\n\r\nTarget class: \r\n```\r\npackage reflectionStackoverflow.test;\r\n\r\npublic class ClassA {\r\n    private final static StringBuilder nameStringBuilder = new StringBuilder(&quot;1&quot;);\r\n    private final static String nameString = &quot;1&quot;;\r\n \r\n    public static void printNameStringBuild() {\r\n        System.out.println(&quot;nameStringBuilder: &quot; + nameStringBuilder);\r\n    }\r\n    public static void printNameString() {\r\n        System.out.println(&quot;nameString: &quot; + nameString);\r\n    }\r\n}\r\n```\r\nTest Code:\r\n```\r\npackage reflectionStackoverflow.test;\r\n\r\nimport org.junit.Test;\r\n\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Modifier;\r\n\r\npublic class ReflectionTest {\r\n    @Test\r\n    public void test() throws NoSuchFieldException, IllegalAccessException, InstantiationException {\r\n        Class c = ClassA.class;\r\n\r\n        Field nameStringBuilder = c.getDeclaredField(&quot;nameStringBuilder&quot;);\r\n        nameStringBuilder.setAccessible(true);\r\n        Field nameStringBuilderModifiers = nameStringBuilder.getClass().getDeclaredField(&quot;modifiers&quot;);\r\n        nameStringBuilderModifiers.setAccessible(true);\r\n        nameStringBuilderModifiers.setInt(nameStringBuilder, nameStringBuilder.getModifiers() &amp; ~Modifier.FINAL);\r\n        nameStringBuilder.set(c, new StringBuilder(&quot;2&quot;));\r\n        nameStringBuilderModifiers.setInt(nameStringBuilder, nameStringBuilder.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\n        Field nameString = c.getDeclaredField(&quot;nameString&quot;);\r\n        nameString.setAccessible(true);\r\n        Field nameStringModifiers = nameString.getClass().getDeclaredField(&quot;modifiers&quot;);\r\n        nameStringModifiers.setAccessible(true);\r\n        nameStringModifiers.setInt(nameString, nameString.getModifiers() &amp; ~Modifier.FINAL);\r\n        nameString.set(c, &quot;2&quot;);\r\n        nameStringModifiers.setInt(nameString, nameString.getModifiers() &amp; ~Modifier.FINAL);\r\n\r\n        ClassA.printNameStringBuild();\r\n        ClassA.printNameString();\r\n    }\r\n}\r\n```\r\n\r\nTest result: \r\n```\r\nnameStringBuilder: 2\r\nnameString: 1\r\n```\r\n\r\nConclusion:\r\n\r\nStringBuilder field can be modified with reflection, but String field can not be modified.\r\n\r\nQuestion: \r\n\r\nWhy String can not be modified with reflection？\r\n\r\nIs there any way to modify a `private final static String` value like above StringBuilder case?","title":"Why cannot modify a String field with Reflection?","body":"<p>JDK version: 1.8.0_291</p>\n<p>Target class:</p>\n<pre><code>package reflectionStackoverflow.test;\n\npublic class ClassA {\n    private final static StringBuilder nameStringBuilder = new StringBuilder(&quot;1&quot;);\n    private final static String nameString = &quot;1&quot;;\n \n    public static void printNameStringBuild() {\n        System.out.println(&quot;nameStringBuilder: &quot; + nameStringBuilder);\n    }\n    public static void printNameString() {\n        System.out.println(&quot;nameString: &quot; + nameString);\n    }\n}\n</code></pre>\n<p>Test Code:</p>\n<pre><code>package reflectionStackoverflow.test;\n\nimport org.junit.Test;\n\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Modifier;\n\npublic class ReflectionTest {\n    @Test\n    public void test() throws NoSuchFieldException, IllegalAccessException, InstantiationException {\n        Class c = ClassA.class;\n\n        Field nameStringBuilder = c.getDeclaredField(&quot;nameStringBuilder&quot;);\n        nameStringBuilder.setAccessible(true);\n        Field nameStringBuilderModifiers = nameStringBuilder.getClass().getDeclaredField(&quot;modifiers&quot;);\n        nameStringBuilderModifiers.setAccessible(true);\n        nameStringBuilderModifiers.setInt(nameStringBuilder, nameStringBuilder.getModifiers() &amp; ~Modifier.FINAL);\n        nameStringBuilder.set(c, new StringBuilder(&quot;2&quot;));\n        nameStringBuilderModifiers.setInt(nameStringBuilder, nameStringBuilder.getModifiers() &amp; ~Modifier.FINAL);\n\n        Field nameString = c.getDeclaredField(&quot;nameString&quot;);\n        nameString.setAccessible(true);\n        Field nameStringModifiers = nameString.getClass().getDeclaredField(&quot;modifiers&quot;);\n        nameStringModifiers.setAccessible(true);\n        nameStringModifiers.setInt(nameString, nameString.getModifiers() &amp; ~Modifier.FINAL);\n        nameString.set(c, &quot;2&quot;);\n        nameStringModifiers.setInt(nameString, nameString.getModifiers() &amp; ~Modifier.FINAL);\n\n        ClassA.printNameStringBuild();\n        ClassA.printNameString();\n    }\n}\n</code></pre>\n<p>Test result:</p>\n<pre><code>nameStringBuilder: 2\nnameString: 1\n</code></pre>\n<p>Conclusion:</p>\n<p>StringBuilder field can be modified with reflection, but String field can not be modified.</p>\n<p>Question:</p>\n<p>Why String can not be modified with reflection？</p>\n<p>Is there any way to modify a <code>private final static String</code> value like above StringBuilder case?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655472159,"creation_date":1655472159,"answer_id":72660090,"question_id":72659914,"body_markdown":"I believe a class annotated with @Configuration will be subjected to executed initially in a Spring application. As we can see you have created a lot of beans that has to be autowired in multiple other classes which will be created eventually probably the classes annotated with service, controller and all.\r\n\r\nNow in the ```WebSecurityConfig``` there is an autowiring for ```UserServiceImpl```\r\nfor which the bean hasn&#39;t created yet it will be created after the configuration class is done. And the ```UserServiceImpl``` also requires ```BCryptPasswordEncoder``` So this appears like a dead lock each of them is dependent on one another. This is what I could decipher.\r\n\r\nAlso autowiring should be done with Interface as type.\r\n```\r\n@Autowired\r\nprivate UserService userServiceImpl;\r\n```\r\n\r\nI think moving the password encoder bean creation to another config class might help to solve this situation.\r\n\r\n","title":"Java Spring Boot v2.6.4 - circular reference issue","body":"<p>I believe a class annotated with @Configuration will be subjected to executed initially in a Spring application. As we can see you have created a lot of beans that has to be autowired in multiple other classes which will be created eventually probably the classes annotated with service, controller and all.</p>\n<p>Now in the <code>WebSecurityConfig</code> there is an autowiring for <code>UserServiceImpl</code>\nfor which the bean hasn't created yet it will be created after the configuration class is done. And the <code>UserServiceImpl</code> also requires <code>BCryptPasswordEncoder</code> So this appears like a dead lock each of them is dependent on one another. This is what I could decipher.</p>\n<p>Also autowiring should be done with Interface as type.</p>\n<pre><code>@Autowired\nprivate UserService userServiceImpl;\n</code></pre>\n<p>I think moving the password encoder bean creation to another config class might help to solve this situation.</p>\n"},{"tags":[],"owner":{"account_id":6503748,"reputation":902,"user_id":5033499,"display_name":"Ali Celebi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655474608,"creation_date":1655474608,"answer_id":72660627,"question_id":72659914,"body_markdown":"I resolved this issue by creating a new configuration class as follows;\r\n\r\n    @Configuration\r\n    public class PasswordSecurityConfig {\r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nI used this class in the WebSecurityConfig as follows;\r\n\r\n    @Autowired\r\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\r\n    \tauth.userDetailsService(userServiceImpl)\r\n    \t\t\t.passwordEncoder(new PasswordSecurityConfig().bCryptPasswordEncoder());\r\n    }\r\n\r\nI can now run the app without any issues.","title":"Java Spring Boot v2.6.4 - circular reference issue","body":"<p>I resolved this issue by creating a new configuration class as follows;</p>\n<pre><code>@Configuration\npublic class PasswordSecurityConfig {\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>I used this class in the WebSecurityConfig as follows;</p>\n<pre><code>@Autowired\npublic void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(userServiceImpl)\n            .passwordEncoder(new PasswordSecurityConfig().bCryptPasswordEncoder());\n}\n</code></pre>\n<p>I can now run the app without any issues.</p>\n"},{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655664580,"creation_date":1655664580,"answer_id":72679524,"question_id":72659914,"body_markdown":"You can place the bean factory method for the encoder in a separate configuration class or you can leave it where it is and make the bean factory method static:\r\n\r\n    @Bean\r\n    public static BCryptPasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\nThis make it clear to Spring that the encoder does not depend on anything injected into the class instance.","title":"Java Spring Boot v2.6.4 - circular reference issue","body":"<p>You can place the bean factory method for the encoder in a separate configuration class or you can leave it where it is and make the bean factory method static:</p>\n<pre><code>@Bean\npublic static BCryptPasswordEncoder encoder() {\n    return new BCryptPasswordEncoder();\n}\n</code></pre>\n<p>This make it clear to Spring that the encoder does not depend on anything injected into the class instance.</p>\n"}],"owner":{"account_id":6503748,"reputation":902,"user_id":5033499,"display_name":"Ali Celebi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655664580,"creation_date":1655471411,"question_id":72659914,"body_markdown":"I get the following error whilst trying to run the application. Any help is appreciated.\r\n\r\n&quot;*Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;webSecurityConfig&#39;: Unsatisfied dependency expressed through field &#39;userServiceImpl&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;bCryptEncoder&#39;; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name &#39;webSecurityConfig&#39;: Requested bean is currently in creation: Is there an unresolvable circular reference?*&quot;\r\n\r\n2 related files for the issue are as follows:\r\n\r\n**WebSecurityConfig**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private UserServiceImpl userServiceImpl;\r\n        private JwtTokenUtil jwtTokenUtil;\r\n        private AuthEntryPoint unauthorizedHandler;\r\n    \r\n        public WebSecurityConfig(AuthEntryPoint unauthorizedHandler, JwtTokenUtil jwtTokenUtil) {\r\n            this.unauthorizedHandler = unauthorizedHandler;\r\n            this.jwtTokenUtil = jwtTokenUtil;\r\n        }\r\n    \r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Autowired\r\n        public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userServiceImpl)\r\n                    .passwordEncoder(encoder());\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationFilter authenticationTokenFilterBean() throws Exception {\r\n            return new AuthenticationFilter(userServiceImpl, jwtTokenUtil);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(\r\n                            &quot;/auth/*&quot;,\r\n                            &quot;/token/*&quot;,\r\n                            &quot;/webjars/**&quot;,\r\n                            &quot;/&quot;,\r\n                            &quot;/uploads/**&quot;,\r\n                            &quot;favicon.ico&quot;\r\n                    ).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n            http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder encoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n    }\r\n\r\n**UserServiceImpl**\r\n\r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n        private final UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptEncoder; // Fails when injected by the constructor.\r\n    \r\n        public UserServiceImpl(UserRepository userRepository) {\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        /**\r\n         * Create a new user.\r\n         * @param createUserDto\r\n         * @return\r\n         */\r\n        @Override\r\n        public User save(CreateUserDto createUserDto) {\r\n            User newUser = new User();\r\n    \r\n            newUser.setEmail(createUserDto.getEmail());\r\n            newUser.setFullName(createUserDto.getFullName());\r\n            newUser.setPassword(bCryptEncoder.encode(createUserDto.getPassword()));\r\n            newUser.setConfirmed(createUserDto.isConfirmed());\r\n            newUser.setEnabled(createUserDto.isEnabled());\r\n            newUser.setRole(createUserDto.getRole());\r\n    \r\n            return userRepository.save(newUser);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;User&gt; findAll() {\r\n            List&lt;User&gt; list = new ArrayList&lt;&gt;();\r\n            userRepository.findAll().iterator().forEachRemaining(list::add);\r\n            return list;\r\n        }\r\n    \r\n        @Override\r\n        public void delete(String id) {\r\n            userRepository.deleteById(id);\r\n        }\r\n    \r\n        @Override\r\n        public User findByEmail(String email) throws ResourceNotFoundException {\r\n            Optional&lt;User&gt; optionalUser = userRepository.findByEmail(email);\r\n    \r\n            if (optionalUser.isEmpty()) {\r\n                throw new ResourceNotFoundException(USER_NOT_FOUND_MESSAGE);\r\n            }\r\n    \r\n            return optionalUser.get();\r\n        }\r\n    \r\n        @Override\r\n        public User findById(String id) throws ResourceNotFoundException {\r\n            Optional&lt;User&gt; optionalUser = userRepository.findById(id);\r\n    \r\n            if (optionalUser.isEmpty()) {\r\n                throw new ResourceNotFoundException(USER_NOT_FOUND_MESSAGE);\r\n            }\r\n    \r\n            return optionalUser.get();\r\n        }\r\n    \r\n        @Override\r\n        public User update(String id, UpdateUserDto updateUserDto) throws ResourceNotFoundException {\r\n            User user = findById(id);\r\n    \r\n            if (updateUserDto.getFullName() != null) {\r\n                user.setFullName(updateUserDto.getFullName());\r\n            }\r\n    \r\n            if (updateUserDto.getEmail() != null) {\r\n                user.setEmail(updateUserDto.getEmail());\r\n            }\r\n    \r\n            return userRepository.save(user);\r\n        }\r\n    \r\n        @Override\r\n        public void update(User user) {\r\n            userRepository.save(user);\r\n        }\r\n    \r\n        @Override\r\n        public User updatePassword(String id, UpdatePasswordDto updatePasswordDto) throws ResourceNotFoundException {\r\n            User user = findById(id);\r\n    \r\n            if (bCryptEncoder.matches(updatePasswordDto.getCurrentPassword(), user.getPassword())) {\r\n                user.setPassword(bCryptEncoder.encode(updatePasswordDto.getNewPassword()));\r\n                return userRepository.save(user);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void updatePassword(String id, String newPassword) throws ResourceNotFoundException {\r\n            User user = findById(id);\r\n            user.setPassword(bCryptEncoder.encode(newPassword));\r\n            userRepository.save(user);\r\n        }\r\n    \r\n        public void confirm(String id) throws ResourceNotFoundException {\r\n            User user = findById(id);\r\n            user.setConfirmed(true);\r\n            userRepository.save(user);\r\n        }\r\n    \r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            Optional&lt;User&gt; userOptional = userRepository.findByEmail(username);\r\n    \r\n            if(userOptional.isEmpty()){\r\n                throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n            }\r\n    \r\n            User user = userOptional.get();\r\n    \r\n            return new org.springframework.security.core.userdetails.User(\r\n                    user.getEmail(), user.getPassword(), user.isEnabled(), true, true, user.isConfirmed(), getAuthority(user)\r\n            );\r\n        }\r\n    \r\n        private Set&lt;SimpleGrantedAuthority&gt; getAuthority(User user) {\r\n            Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\r\n    \r\n            authorities.add(new SimpleGrantedAuthority(user.getRole().getName()));\r\n    \r\n            user.allPermissions().forEach(permission -&gt; authorities.add(new SimpleGrantedAuthority(permission.getName())));\r\n    \r\n            return authorities;\r\n        }\r\n    \r\n    }","title":"Java Spring Boot v2.6.4 - circular reference issue","body":"<p>I get the following error whilst trying to run the application. Any help is appreciated.</p>\n<p>&quot;<em>Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webSecurityConfig': Unsatisfied dependency expressed through field 'userServiceImpl'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImpl': Unsatisfied dependency expressed through field 'bCryptEncoder'; nested exception is org.springframework.beans.factory.BeanCurrentlyInCreationException: Error creating bean with name 'webSecurityConfig': Requested bean is currently in creation: Is there an unresolvable circular reference?</em>&quot;</p>\n<p>2 related files for the issue are as follows:</p>\n<p><strong>WebSecurityConfig</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserServiceImpl userServiceImpl;\n    private JwtTokenUtil jwtTokenUtil;\n    private AuthEntryPoint unauthorizedHandler;\n\n    public WebSecurityConfig(AuthEntryPoint unauthorizedHandler, JwtTokenUtil jwtTokenUtil) {\n        this.unauthorizedHandler = unauthorizedHandler;\n        this.jwtTokenUtil = jwtTokenUtil;\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userServiceImpl)\n                .passwordEncoder(encoder());\n    }\n\n    @Bean\n    public AuthenticationFilter authenticationTokenFilterBean() throws Exception {\n        return new AuthenticationFilter(userServiceImpl, jwtTokenUtil);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeRequests()\n                .antMatchers(\n                        &quot;/auth/*&quot;,\n                        &quot;/token/*&quot;,\n                        &quot;/webjars/**&quot;,\n                        &quot;/&quot;,\n                        &quot;/uploads/**&quot;,\n                        &quot;favicon.ico&quot;\n                ).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .exceptionHandling()\n                .authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    public BCryptPasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p><strong>UserServiceImpl</strong></p>\n<pre><code>@Service\npublic class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptEncoder; // Fails when injected by the constructor.\n\n    public UserServiceImpl(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    /**\n     * Create a new user.\n     * @param createUserDto\n     * @return\n     */\n    @Override\n    public User save(CreateUserDto createUserDto) {\n        User newUser = new User();\n\n        newUser.setEmail(createUserDto.getEmail());\n        newUser.setFullName(createUserDto.getFullName());\n        newUser.setPassword(bCryptEncoder.encode(createUserDto.getPassword()));\n        newUser.setConfirmed(createUserDto.isConfirmed());\n        newUser.setEnabled(createUserDto.isEnabled());\n        newUser.setRole(createUserDto.getRole());\n\n        return userRepository.save(newUser);\n    }\n\n    @Override\n    public List&lt;User&gt; findAll() {\n        List&lt;User&gt; list = new ArrayList&lt;&gt;();\n        userRepository.findAll().iterator().forEachRemaining(list::add);\n        return list;\n    }\n\n    @Override\n    public void delete(String id) {\n        userRepository.deleteById(id);\n    }\n\n    @Override\n    public User findByEmail(String email) throws ResourceNotFoundException {\n        Optional&lt;User&gt; optionalUser = userRepository.findByEmail(email);\n\n        if (optionalUser.isEmpty()) {\n            throw new ResourceNotFoundException(USER_NOT_FOUND_MESSAGE);\n        }\n\n        return optionalUser.get();\n    }\n\n    @Override\n    public User findById(String id) throws ResourceNotFoundException {\n        Optional&lt;User&gt; optionalUser = userRepository.findById(id);\n\n        if (optionalUser.isEmpty()) {\n            throw new ResourceNotFoundException(USER_NOT_FOUND_MESSAGE);\n        }\n\n        return optionalUser.get();\n    }\n\n    @Override\n    public User update(String id, UpdateUserDto updateUserDto) throws ResourceNotFoundException {\n        User user = findById(id);\n\n        if (updateUserDto.getFullName() != null) {\n            user.setFullName(updateUserDto.getFullName());\n        }\n\n        if (updateUserDto.getEmail() != null) {\n            user.setEmail(updateUserDto.getEmail());\n        }\n\n        return userRepository.save(user);\n    }\n\n    @Override\n    public void update(User user) {\n        userRepository.save(user);\n    }\n\n    @Override\n    public User updatePassword(String id, UpdatePasswordDto updatePasswordDto) throws ResourceNotFoundException {\n        User user = findById(id);\n\n        if (bCryptEncoder.matches(updatePasswordDto.getCurrentPassword(), user.getPassword())) {\n            user.setPassword(bCryptEncoder.encode(updatePasswordDto.getNewPassword()));\n            return userRepository.save(user);\n        }\n\n        return null;\n    }\n\n    @Override\n    public void updatePassword(String id, String newPassword) throws ResourceNotFoundException {\n        User user = findById(id);\n        user.setPassword(bCryptEncoder.encode(newPassword));\n        userRepository.save(user);\n    }\n\n    public void confirm(String id) throws ResourceNotFoundException {\n        User user = findById(id);\n        user.setConfirmed(true);\n        userRepository.save(user);\n    }\n\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; userOptional = userRepository.findByEmail(username);\n\n        if(userOptional.isEmpty()){\n            throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\n        }\n\n        User user = userOptional.get();\n\n        return new org.springframework.security.core.userdetails.User(\n                user.getEmail(), user.getPassword(), user.isEnabled(), true, true, user.isConfirmed(), getAuthority(user)\n        );\n    }\n\n    private Set&lt;SimpleGrantedAuthority&gt; getAuthority(User user) {\n        Set&lt;SimpleGrantedAuthority&gt; authorities = new HashSet&lt;&gt;();\n\n        authorities.add(new SimpleGrantedAuthority(user.getRole().getName()));\n\n        user.allPermissions().forEach(permission -&gt; authorities.add(new SimpleGrantedAuthority(permission.getName())));\n\n        return authorities;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","cucumber"],"comments":[{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1655665919,"post_id":72679488,"comment_id":128380467,"body_markdown":"Have you already checked [this](https://stackoverflow.com/questions/52948983/error-could-not-find-or-load-main-class-cucumber-cli-main)?","body":"Have you already checked <a href=\"https://stackoverflow.com/questions/52948983/error-could-not-find-or-load-main-class-cucumber-cli-main\">this</a>?"},{"owner":{"account_id":25218225,"reputation":1,"user_id":19055083,"display_name":"Sattar "},"score":0,"creation_date":1655666913,"post_id":72679488,"comment_id":128380677,"body_markdown":"@AddeusExMachina Yes, i have checked that but still the same issue. Been  trying for 1 days","body":"@AddeusExMachina Yes, i have checked that but still the same issue. Been  trying for 1 days"}],"owner":{"account_id":25218225,"reputation":1,"user_id":19055083,"display_name":"Sattar "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655664258,"creation_date":1655664224,"question_id":72679488,"body_markdown":"I am having issues running my .feature file in IntelliJ. Can someone help me step by step on how to fix the problems?[Open the picture ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nNH4b.jpg","title":"Error: Could not find or load main class cucumber.cli.Main Caused by: java.lang.ClassNotFoundException: cucumber.cli.Main","body":"<p>I am having issues running my .feature file in IntelliJ. Can someone help me step by step on how to fix the problems?<a href=\"https://i.stack.imgur.com/nNH4b.jpg\" rel=\"nofollow noreferrer\">Open the picture </a></p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":8072951,"reputation":368,"user_id":6085059,"display_name":"TheMirrox"},"score":1,"creation_date":1458871977,"post_id":36212930,"comment_id":60058963,"body_markdown":"Is the &quot;setDefaultCloseOperation()&quot; present in the Swing applications?","body":"Is the &quot;setDefaultCloseOperation()&quot; present in the Swing applications?"}],"answers":[{"tags":[],"owner":{"account_id":1500966,"reputation":299,"user_id":1405635,"accept_rate":83,"display_name":"CJ Jacobs"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1458878941,"creation_date":1458878941,"answer_id":36213853,"question_id":36212930,"body_markdown":"    kill $(ps aux | grep &#39;java&#39; | awk &#39;{print $2}&#39;)\r\n\r\nThis is a nice little workaround I found on SO a while ago that will kill any process with &quot;java&quot; in the name.\r\n\r\nJust copy and paste into the terminal.","title":"How can I stop all processes in IntelliJ?","body":"<pre><code>kill $(ps aux | grep 'java' | awk '{print $2}')\n</code></pre>\n\n<p>This is a nice little workaround I found on SO a while ago that will kill any process with \"java\" in the name.</p>\n\n<p>Just copy and paste into the terminal.</p>\n"},{"tags":[],"owner":{"account_id":5422540,"reputation":395,"user_id":4315778,"display_name":"haugan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1495721218,"creation_date":1495721218,"answer_id":44182604,"question_id":36212930,"body_markdown":"Not exactly perfect, but what you could do is press Ctrl + F2 (shortcut for Stop Process) and hit Enter. It&#39;s better than all that mouse clicking and gets you through a list of running processes quite fast.","title":"How can I stop all processes in IntelliJ?","body":"<p>Not exactly perfect, but what you could do is press Ctrl + F2 (shortcut for Stop Process) and hit Enter. It's better than all that mouse clicking and gets you through a list of running processes quite fast.</p>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1655664020,"creation_date":1497298239,"answer_id":44507931,"question_id":36212930,"body_markdown":"IntelliJ 2017.2 now has a &quot;Stop All&quot; button in the &quot;Stop process&quot; menu (the button on the top bar), with the default shortcut &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;F2&lt;/kbd&gt; on Mac OS:\r\n\r\n[![screenshot][1]][1]\r\n\r\nFor older versions:\r\n\r\n1. Click the Stop button from the top bar.  It will pop open a menu listing all processes.  (The stop button at the side of the debug window is per-process, as in your screenshot.)\r\n\r\n2. Hover over the first process, hold &lt;kbd&gt;Shift&lt;/kbd&gt;, and then click on the last process.\r\n\r\n3. Press &lt;kbd&gt;Enter&lt;/kbd&gt;.\r\n\r\nScreenshot showing the result of steps 1 &amp; 2:\r\n\r\n[![screenshot][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wUSRB.png\r\n  [2]: https://i.stack.imgur.com/LqmEz.png","title":"How can I stop all processes in IntelliJ?","body":"<p>IntelliJ 2017.2 now has a &quot;Stop All&quot; button in the &quot;Stop process&quot; menu (the button on the top bar), with the default shortcut <kbd>⌘</kbd>+<kbd>F2</kbd> on Mac OS:</p>\n<p><a href=\"https://i.stack.imgur.com/wUSRB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wUSRB.png\" alt=\"screenshot\" /></a></p>\n<p>For older versions:</p>\n<ol>\n<li><p>Click the Stop button from the top bar.  It will pop open a menu listing all processes.  (The stop button at the side of the debug window is per-process, as in your screenshot.)</p>\n</li>\n<li><p>Hover over the first process, hold <kbd>Shift</kbd>, and then click on the last process.</p>\n</li>\n<li><p>Press <kbd>Enter</kbd>.</p>\n</li>\n</ol>\n<p>Screenshot showing the result of steps 1 &amp; 2:</p>\n<p><a href=\"https://i.stack.imgur.com/LqmEz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LqmEz.png\" alt=\"screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":444705,"reputation":1877,"user_id":836701,"accept_rate":65,"display_name":"Alex Po"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616060817,"creation_date":1616015331,"answer_id":66681263,"question_id":36212930,"body_markdown":"You can create a script like `killJavaProcess` and invoke it in `Before launch` section as `External tool`\r\n\r\n![Before launch section][1]\r\n\r\nFor example `~/.bin/killonport`\r\n\r\n    #!/bin/zsh\r\n    \r\n    function help() {\r\n      echo &quot;usage: killonport port&quot;\r\n      echo &quot;-f don&#39;t ask before killing&quot;\r\n      echo &quot;-h help&quot;\r\n    }\r\n    \r\n    function killListenerOnPort() {\r\n      # get script options\r\n      zparseopts -E -D h=HELP f=FORCE\r\n    \r\n      [[ -n $HELP ]] &amp;&amp;\r\n        help &amp;&amp;\r\n        return\r\n    \r\n      local PORT\r\n      PORT=$1\r\n    \r\n      [[ -z &quot;$PORT&quot; ]] &amp;&amp;\r\n        help &amp;&amp;\r\n        return\r\n    \r\n      local LISTEN\r\n      # find process listening on port with lsof\r\n      LISTEN=&quot;$(lsof -nP -iTCP:&quot;$PORT&quot; -sTCP:LISTEN)&quot;\r\n    \r\n      local PROCESS\r\n      # remove first line of output lsof\r\n      PROCESS=&quot;$(echo &quot;$LISTEN&quot; | tail -n +2)&quot;\r\n    \r\n      local HEAD\r\n      # get first line of output lsof\r\n      HEAD=&quot;$(echo &quot;$LISTEN&quot; | head -n 1)&quot;\r\n    \r\n      [[ -z $PROCESS ]] &amp;&amp;\r\n        echo &quot;Process not found&quot; &amp;&amp;\r\n        return\r\n    \r\n      local COUNT\r\n      # assure that found only one process else printing founded processes and exit\r\n      COUNT=$(echo &quot;$PROCESS&quot; | wc -l | xargs)\r\n      [[ $COUNT -gt 1 ]] &amp;&amp;\r\n        printf &#39;Found more then one process: %s\\n%s\\n%s\\n&#39; &quot;$COUNT&quot; &quot;$HEAD&quot; &quot;$PROCESS&quot; &amp;&amp;\r\n        return\r\n    \r\n      # get name and PID\r\n      local NAME\r\n      NAME=$(echo &quot;$PROCESS&quot; | awk &#39;{print $1}&#39;)\r\n      local PID\r\n      PID=$(echo &quot;$PROCESS&quot; | awk &#39;{print $2}&#39;)\r\n    \r\n      # if -f option specified kill silently\r\n      [[ -n &quot;$FORCE&quot; ]] &amp;&amp;\r\n        kill -9 &quot;$PID&quot; &amp;&amp;\r\n        return\r\n    \r\n      # ask confirmation to kill\r\n      echo &quot;Kill process &#39;$NAME&#39; with PID &#39;$PID&#39;&quot;\r\n      read -qr &#39;REPL?Continue? (y/n) &#39;\r\n      echo\r\n    \r\n      # kill if confirmed\r\n      [[ $REPL == &#39;y&#39; || $REPL == &#39;Y&#39; ]] &amp;&amp;\r\n        kill -9 &quot;$PID&quot;\r\n    }\r\n    \r\n    killListenerOnPort &quot;$@&quot;\r\n\r\n  [1]: https://i.stack.imgur.com/Xwmcc.png","title":"How can I stop all processes in IntelliJ?","body":"<p>You can create a script like <code>killJavaProcess</code> and invoke it in <code>Before launch</code> section as <code>External tool</code></p>\n<p><img src=\"https://i.stack.imgur.com/Xwmcc.png\" alt=\"Before launch section\" /></p>\n<p>For example <code>~/.bin/killonport</code></p>\n<pre><code>#!/bin/zsh\n\nfunction help() {\n  echo &quot;usage: killonport port&quot;\n  echo &quot;-f don't ask before killing&quot;\n  echo &quot;-h help&quot;\n}\n\nfunction killListenerOnPort() {\n  # get script options\n  zparseopts -E -D h=HELP f=FORCE\n\n  [[ -n $HELP ]] &amp;&amp;\n    help &amp;&amp;\n    return\n\n  local PORT\n  PORT=$1\n\n  [[ -z &quot;$PORT&quot; ]] &amp;&amp;\n    help &amp;&amp;\n    return\n\n  local LISTEN\n  # find process listening on port with lsof\n  LISTEN=&quot;$(lsof -nP -iTCP:&quot;$PORT&quot; -sTCP:LISTEN)&quot;\n\n  local PROCESS\n  # remove first line of output lsof\n  PROCESS=&quot;$(echo &quot;$LISTEN&quot; | tail -n +2)&quot;\n\n  local HEAD\n  # get first line of output lsof\n  HEAD=&quot;$(echo &quot;$LISTEN&quot; | head -n 1)&quot;\n\n  [[ -z $PROCESS ]] &amp;&amp;\n    echo &quot;Process not found&quot; &amp;&amp;\n    return\n\n  local COUNT\n  # assure that found only one process else printing founded processes and exit\n  COUNT=$(echo &quot;$PROCESS&quot; | wc -l | xargs)\n  [[ $COUNT -gt 1 ]] &amp;&amp;\n    printf 'Found more then one process: %s\\n%s\\n%s\\n' &quot;$COUNT&quot; &quot;$HEAD&quot; &quot;$PROCESS&quot; &amp;&amp;\n    return\n\n  # get name and PID\n  local NAME\n  NAME=$(echo &quot;$PROCESS&quot; | awk '{print $1}')\n  local PID\n  PID=$(echo &quot;$PROCESS&quot; | awk '{print $2}')\n\n  # if -f option specified kill silently\n  [[ -n &quot;$FORCE&quot; ]] &amp;&amp;\n    kill -9 &quot;$PID&quot; &amp;&amp;\n    return\n\n  # ask confirmation to kill\n  echo &quot;Kill process '$NAME' with PID '$PID'&quot;\n  read -qr 'REPL?Continue? (y/n) '\n  echo\n\n  # kill if confirmed\n  [[ $REPL == 'y' || $REPL == 'Y' ]] &amp;&amp;\n    kill -9 &quot;$PID&quot;\n}\n\nkillListenerOnPort &quot;$@&quot;\n</code></pre>\n"}],"owner":{"account_id":8042910,"reputation":505,"user_id":6063999,"accept_rate":22,"display_name":"Ives"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49310,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1655664020,"creation_date":1458871203,"question_id":36212930,"body_markdown":"I am using intelliJ IDEA.\r\n\r\nWhen I run my programs and close the window, the process still remains. If I run a lot of programs, I need to click disconnect many times.\r\n\r\nIs there any way to stop all processes?\r\n\r\nEclipse doesn&#39;t have this problem.\r\n\r\n![PNG1][1]\r\n\r\n![PNG2][2] \r\n\r\n  [1]: http://i.stack.imgur.com/ysmot.png\r\n  [2]: http://i.stack.imgur.com/70iDJ.png\r\n","title":"How can I stop all processes in IntelliJ?","body":"<p>I am using intelliJ IDEA.</p>\n\n<p>When I run my programs and close the window, the process still remains. If I run a lot of programs, I need to click disconnect many times.</p>\n\n<p>Is there any way to stop all processes?</p>\n\n<p>Eclipse doesn't have this problem.</p>\n\n<p><img src=\"https://i.stack.imgur.com/ysmot.png\" alt=\"PNG1\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/70iDJ.png\" alt=\"PNG2\"> </p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1494546094,"post_id":43927180,"comment_id":74887553,"body_markdown":"I&#39;d suggest having a look at [Concepts: Editors and Renderers](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender), then I&#39;d have a look at [Providing a Custom Renderer](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer)","body":"I&#39;d suggest having a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#editrender\" rel=\"nofollow noreferrer\">Concepts: Editors and Renderers</a>, then I&#39;d have a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow noreferrer\">Providing a Custom Renderer</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1494553006,"post_id":43927180,"comment_id":74889044,"body_markdown":"Using the renderer example from the tutorial will break the default functionality of the combo box since you will no longer be able to select items using the keyboard.","body":"Using the renderer example from the tutorial will break the default functionality of the combo box since you will no longer be able to select items using the keyboard."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1494552823,"creation_date":1494552823,"answer_id":43927975,"question_id":43927180,"body_markdown":"You need to store a custom Object in the combo box. This object will contain two properties:\r\n\r\n1. a value for display in the combo box\r\n2. a value used for processing in the application.\r\n\r\nThen you need to renderer the Object. Two approaches\r\n\r\n1. Override the toString() method of the custom object to display the appropriate value. Check out [Combo Box With Hidden Data](https://tips4java.wordpress.com/2013/02/18/combo-box-with-hidden-data/) for a working example using this approach.\r\n\r\n2. Create a custom renderer to display the appropriate value. Check out [Combo Box With Custom Renderer](https://tips4java.wordpress.com/2013/11/17/combo-box-with-custom-renderer/). This would be the preferred approach as long as you use the included rendering class. This provides a more complete solution than you will find in the Swing tutorial, since the tutorial example break default combo box functionality.","title":"Can i set different name from the value of a JcomboBox in netBeans","body":"<p>You need to store a custom Object in the combo box. This object will contain two properties:</p>\n\n<ol>\n<li>a value for display in the combo box</li>\n<li>a value used for processing in the application.</li>\n</ol>\n\n<p>Then you need to renderer the Object. Two approaches</p>\n\n<ol>\n<li><p>Override the toString() method of the custom object to display the appropriate value. Check out <a href=\"https://tips4java.wordpress.com/2013/02/18/combo-box-with-hidden-data/\" rel=\"nofollow noreferrer\">Combo Box With Hidden Data</a> for a working example using this approach.</p></li>\n<li><p>Create a custom renderer to display the appropriate value. Check out <a href=\"https://tips4java.wordpress.com/2013/11/17/combo-box-with-custom-renderer/\" rel=\"nofollow noreferrer\">Combo Box With Custom Renderer</a>. This would be the preferred approach as long as you use the included rendering class. This provides a more complete solution than you will find in the Swing tutorial, since the tutorial example break default combo box functionality.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25490350,"reputation":1,"user_id":19285239,"display_name":"Anish Saini"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655663289,"creation_date":1655663289,"answer_id":72679366,"question_id":43927180,"body_markdown":"    x.setEditable(true);\r\n    x.setValue(str);\r\n    x.setEditable(false); //If You Want","title":"Can i set different name from the value of a JcomboBox in netBeans","body":"<pre><code>x.setEditable(true);\nx.setValue(str);\nx.setEditable(false); //If You Want\n</code></pre>\n"}],"owner":{"account_id":9919853,"reputation":3,"user_id":7343387,"display_name":"F_Feta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43927975,"answer_count":2,"score":0,"last_activity_date":1655663289,"creation_date":1494545681,"question_id":43927180,"body_markdown":"First of all I&#39;m sorry if I cannot formulate this question correctly but my problem is as follows. I have a JcomboBox used in a file search program. In the jcombobox you have to chose the type of the object and so I did something like this.\r\n\r\n    type = new javax.swing.JComboBox();\r\n    \r\n    type.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;.jpg&quot;, &quot;.png&quot;, &quot;.gif&quot;, &quot;.psd&quot;, &quot;.ppt&quot;, &quot;.pptx&quot;, &quot;.doc&quot;, &quot;.docx&quot; }));\r\n\r\nI made a JcomboList whith &quot;.jpg&quot;, &quot;.png&quot;, &quot;.gif&quot;, &quot;.psd&quot;, &quot;.ppt&quot;, &quot;.pptx&quot;, &quot;.doc&quot;, &quot;.docx&quot;  but I didn&#39;t like the look of the JcomboBox.\r\n\r\nMy question is this, can I assign a different name to the elements of the Jcombobox, different from their value in NetBeans?\r\n\r\n\r\n\r\n","title":"Can i set different name from the value of a JcomboBox in netBeans","body":"<p>First of all I'm sorry if I cannot formulate this question correctly but my problem is as follows. I have a JcomboBox used in a file search program. In the jcombobox you have to chose the type of the object and so I did something like this.</p>\n\n<pre><code>type = new javax.swing.JComboBox();\n\ntype.setModel(new javax.swing.DefaultComboBoxModel(new String[] { \".jpg\", \".png\", \".gif\", \".psd\", \".ppt\", \".pptx\", \".doc\", \".docx\" }));\n</code></pre>\n\n<p>I made a JcomboList whith \".jpg\", \".png\", \".gif\", \".psd\", \".ppt\", \".pptx\", \".doc\", \".docx\"  but I didn't like the look of the JcomboBox.</p>\n\n<p>My question is this, can I assign a different name to the elements of the Jcombobox, different from their value in NetBeans?</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1394600153,"creation_date":1394600153,"answer_id":22342328,"question_id":22342279,"body_markdown":"[There is no][1] `99.0` version for `aspectj:aspectjlib`, your project is configured to use wrong version, check for `99.0` in your `pom.xml` \r\n\r\n\r\n  [1]: http://central.maven.org/maven2/aspectj/aspectjlib/","title":"maven: how to disable certain dependencies?","body":"<p><a href=\"http://central.maven.org/maven2/aspectj/aspectjlib/\" rel=\"nofollow\">There is no</a> <code>99.0</code> version for <code>aspectj:aspectjlib</code>, your project is configured to use wrong version, check for <code>99.0</code> in your <code>pom.xml</code> </p>\n"},{"tags":[],"owner":{"account_id":425474,"reputation":146,"user_id":806098,"display_name":"Cody"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1394690789,"creation_date":1394690789,"answer_id":22370377,"question_id":22342279,"body_markdown":"Well, although some repositories do provide 99.0-does-not-exist for logging system dependencies like log4j, slf4j-log4j, commons-logging, etc., this is not a universal solution.\r\n\r\nI find a solution to do this: use &#39;provided&#39; scope.\r\nTo clarify, in my example above, I have two conflicting dependencies: org.aspectj:aspectjlib:1.7.3, aspectj:aspectjlib:1.6.1, I want to disable aspectj:aspectjlib:1.6.1, I only need to put this in top-level pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin this way, aspectj:aspectjlib:1.6.1 will never appear in the final built lib.\r\n","title":"maven: how to disable certain dependencies?","body":"<p>Well, although some repositories do provide 99.0-does-not-exist for logging system dependencies like log4j, slf4j-log4j, commons-logging, etc., this is not a universal solution.</p>\n\n<p>I find a solution to do this: use 'provided' scope.\nTo clarify, in my example above, I have two conflicting dependencies: org.aspectj:aspectjlib:1.7.3, aspectj:aspectjlib:1.6.1, I want to disable aspectj:aspectjlib:1.6.1, I only need to put this in top-level pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\n    &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>in this way, aspectj:aspectjlib:1.6.1 will never appear in the final built lib.</p>\n"},{"tags":[],"owner":{"account_id":238697,"reputation":1454,"user_id":507761,"accept_rate":100,"display_name":"Matthew Read"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655663275,"creation_date":1623286452,"answer_id":67913292,"question_id":22342279,"body_markdown":"You can use Maven&#39;s [dependency exclusions](https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html#dependency-exclusions) to eliminate the version you don&#39;t want.  Using your example:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;includes-new-aspectj&lt;/groupId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;includes-old-aspectj&lt;/groupId&gt;\r\n    &lt;exclusions&gt;\r\n      &lt;exclusion&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;groupId&gt;\r\n        &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\r\n      &lt;exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nAlternatively, you can simply pin the version you desire using [dependency management](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management):\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;includes-new-aspectj&lt;/groupId&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;includes-old-aspectj&lt;/groupId&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nIf you are not sure which dependencies include which versions, you can use this to discover that info:\r\n\r\n```sh\r\nmvn dependency:tree -Dincludes=&#39;org.aspectj:aspectjlib&#39;\r\n```","title":"maven: how to disable certain dependencies?","body":"<p>You can use Maven's <a href=\"https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html#dependency-exclusions\" rel=\"nofollow noreferrer\">dependency exclusions</a> to eliminate the version you don't want.  Using your example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;includes-new-aspectj&lt;/groupId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;includes-old-aspectj&lt;/groupId&gt;\n    &lt;exclusions&gt;\n      &lt;exclusion&gt;\n        &lt;groupId&gt;org.aspectj&lt;groupId&gt;\n        &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\n      &lt;exclusion&gt;\n    &lt;/exclusions&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Alternatively, you can simply pin the version you desire using <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Management\" rel=\"nofollow noreferrer\">dependency management</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n      &lt;artifactId&gt;aspectjlib&lt;/artifactId&gt;\n      &lt;version&gt;1.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;includes-new-aspectj&lt;/groupId&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;includes-old-aspectj&lt;/groupId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>If you are not sure which dependencies include which versions, you can use this to discover that info:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn dependency:tree -Dincludes='org.aspectj:aspectjlib'\n</code></pre>\n"}],"owner":{"account_id":425474,"reputation":146,"user_id":806098,"display_name":"Cody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22370377,"answer_count":3,"score":2,"last_activity_date":1655663275,"creation_date":1394599835,"question_id":22342279,"body_markdown":"Well, I&#39;m not talking about the well-known commons-logging problem, I know I can disable it by setting the 99.0-does-not-exist version.\r\n\r\nMy problems is, some packages are contained in different dependencies, say, aspectjlib is contained both in org.aspectj:aspectjlib and aspectj:aspectjlib. In some cases, transitive dependencies may introduce the two jars at the same time, while of different versions, e.g., org.aspectj:aspectjlib:1.7.3, aspectj:aspectjlib:1.6.1. And mis-loading aspectj:aspectjlib:1.6.1 accidentally is not my intention. So is there a way like commons-logging that I can disable aspectj:aspectjlib completely?\r\n\r\nI tried the same trick using 99.0-does-not-exist, only to find an error from maven:\r\n\r\n----------\r\n\r\n&gt; [ERROR] Failed to execute goal on project XXX: Could not resolve\r\n&gt; dependencies for project XXX:jar:1.0.0-SNAPSHOT: The following\r\n&gt; artifacts could not be resolved:\r\n&gt; aspectj:aspectjlib:jar:99.0-does-not-exist,\r\n&gt; aspectj:aspectjrt:jar:99.0-does-not-exist,\r\n&gt; aspectj:aspectjweaver:jar:99.0-does-not-exist: Could not find artifact\r\n&gt; aspectj:aspectjlib:jar:99.0-does-not-exist in tbmirror\r\n&gt; (http://mvnrepo.taobao.ali.com/mvn/repository) -&gt; [Help 1]\r\n\r\n","title":"maven: how to disable certain dependencies?","body":"<p>Well, I'm not talking about the well-known commons-logging problem, I know I can disable it by setting the 99.0-does-not-exist version.</p>\n\n<p>My problems is, some packages are contained in different dependencies, say, aspectjlib is contained both in org.aspectj:aspectjlib and aspectj:aspectjlib. In some cases, transitive dependencies may introduce the two jars at the same time, while of different versions, e.g., org.aspectj:aspectjlib:1.7.3, aspectj:aspectjlib:1.6.1. And mis-loading aspectj:aspectjlib:1.6.1 accidentally is not my intention. So is there a way like commons-logging that I can disable aspectj:aspectjlib completely?</p>\n\n<p>I tried the same trick using 99.0-does-not-exist, only to find an error from maven:</p>\n\n<hr>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal on project XXX: Could not resolve\n  dependencies for project XXX:jar:1.0.0-SNAPSHOT: The following\n  artifacts could not be resolved:\n  aspectj:aspectjlib:jar:99.0-does-not-exist,\n  aspectj:aspectjrt:jar:99.0-does-not-exist,\n  aspectj:aspectjweaver:jar:99.0-does-not-exist: Could not find artifact\n  aspectj:aspectjlib:jar:99.0-does-not-exist in tbmirror\n  (<a href=\"http://mvnrepo.taobao.ali.com/mvn/repository\" rel=\"nofollow\">http://mvnrepo.taobao.ali.com/mvn/repository</a>) -> [Help 1]</p>\n</blockquote>\n"},{"tags":["java","netbeans","classpath","remote-debugging"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1655491091,"post_id":72659243,"comment_id":128353226,"body_markdown":"I&#39;m not understanding your concern. You state that _&quot;If I amend my code to write out a text file (to the executable directory) the resulting text file is written to: /home/user/project/dist&quot;_, but isn&#39;t **/home/user/project/dist** your executable directory? If so, what is the problem? Is your concern that the text file your app creates is not being created in the parent directory **/home/user/project**? Please clarify where you want/expect your text file to be created. What is your specific problem? (&quot;_help me understand..._&quot; is off topic here.)","body":"I&#39;m not understanding your concern. You state that <i>&quot;If I amend my code to write out a text file (to the executable directory) the resulting text file is written to: /home/user/project/dist&quot;</i>, but isn&#39;t <b>/home/user/project/dist</b> your executable directory? If so, what is the problem? Is your concern that the text file your app creates is not being created in the parent directory <b>/home/user/project</b>? Please clarify where you want/expect your text file to be created. What is your specific problem? (&quot;<i>help me understand...</i>&quot; is off topic here.)"},{"owner":{"account_id":6062226,"reputation":71,"user_id":4733677,"display_name":"JaffaMicrobrain"},"score":0,"creation_date":1655561789,"post_id":72659243,"comment_id":128363623,"body_markdown":"My apologies. My properties and log4j2.xml files are read from /home/user/project/dist. If my code writes out a text file then it is written into /home/user/project.","body":"My apologies. My properties and log4j2.xml files are read from /home/user/project/dist. If my code writes out a text file then it is written into /home/user/project."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1655572319,"post_id":72659243,"comment_id":128365750,"body_markdown":"OK, you have described the actual behavior. But update your question with your **specific** problem/question. Just asking _&quot;help me understand&quot;_ and _&quot;What is going on?&quot;_ are vague phrases.","body":"OK, you have described the actual behavior. But update your question with your <b>specific</b> problem/question. Just asking <i>&quot;help me understand&quot;</i> and <i>&quot;What is going on?&quot;</i> are vague phrases."}],"owner":{"account_id":6062226,"reputation":71,"user_id":4733677,"display_name":"JaffaMicrobrain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655663097,"creation_date":1655468129,"question_id":72659243,"body_markdown":"Can anyone help me understand the classpath logic when deploying Java applications to remote hosts?\r\n\r\nNetbeans will build, deploy and execute my Java application correctly on a remote Linux (Ubutntu 20.x) host.\r\n\r\nLets say that the executable JAR is deployed and executed in:\r\n/home/user/project/dist\r\n\r\nWith any supporting library files copied to:\r\n/home/user/project/dist/lib\r\n\r\nThis all makes sense to me.\r\n\r\nHowever, I wish to read application and log4j2 configuration files. I would think that these should be placed in the same directory as the jar file. However they must be placed in the parent directory:\r\n\r\n/home/user/project\r\n\r\nOkay... BUT...\r\n\r\nIf I amend my code to write out a text file (to the executable directory) the resulting text file is written to:\r\n\r\n/home/user/project/\r\n\r\n&lt;Edited 19Jun22&gt;\r\n\r\nI want my deployed application to read the log4j2.xml and configuration files from the same directory that my application writes to. What configuration settings must I change in Netbeans?\r\n\r\nAlternatively is there a way to make Netbeans deploy to /home/user/project instead of /home/user/project/dist?\r\n","title":"Unexpected classpath behaviour remote deployment of Java application with Netbeans 13","body":"<p>Can anyone help me understand the classpath logic when deploying Java applications to remote hosts?</p>\n<p>Netbeans will build, deploy and execute my Java application correctly on a remote Linux (Ubutntu 20.x) host.</p>\n<p>Lets say that the executable JAR is deployed and executed in:\n/home/user/project/dist</p>\n<p>With any supporting library files copied to:\n/home/user/project/dist/lib</p>\n<p>This all makes sense to me.</p>\n<p>However, I wish to read application and log4j2 configuration files. I would think that these should be placed in the same directory as the jar file. However they must be placed in the parent directory:</p>\n<p>/home/user/project</p>\n<p>Okay... BUT...</p>\n<p>If I amend my code to write out a text file (to the executable directory) the resulting text file is written to:</p>\n<p>/home/user/project/</p>\n<p>&lt;Edited 19Jun22&gt;</p>\n<p>I want my deployed application to read the log4j2.xml and configuration files from the same directory that my application writes to. What configuration settings must I change in Netbeans?</p>\n<p>Alternatively is there a way to make Netbeans deploy to /home/user/project instead of /home/user/project/dist?</p>\n"},{"tags":["java","h2","spring-data-r2dbc","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590580702,"creation_date":1590580702,"answer_id":62042596,"question_id":61919783,"body_markdown":"R2DBC H2 is a tiny wrapper around the H2 database. This means that the entire infrastructure uses the same implementation of H2 as JDBC does which is all blocking.\r\n\r\nTherefore you should not use H2 via TCP when using R2DBC but rather use a different database (MySQL, MariaDB, Postgres, SQL Server) with a proper non-blocking I/O implementation.","title":"R2dbc not working with h2 database using tcp","body":"<p>R2DBC H2 is a tiny wrapper around the H2 database. This means that the entire infrastructure uses the same implementation of H2 as JDBC does which is all blocking.</p>\n\n<p>Therefore you should not use H2 via TCP when using R2DBC but rather use a different database (MySQL, MariaDB, Postgres, SQL Server) with a proper non-blocking I/O implementation.</p>\n"},{"tags":[],"owner":{"account_id":7663298,"reputation":33,"user_id":5807834,"display_name":"Fradantim"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1628224733,"creation_date":1628224733,"answer_id":68676207,"question_id":61919783,"body_markdown":"Just been banging my head to the wall with this and wanted to share the conclussion:\r\n\r\ndependencies being used:\r\n``` xml\r\n&lt;parent&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t&lt;relativePath /&gt;\r\n&lt;/parent&gt;\r\n\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n    &lt;!-- and something to provide spring beans --&gt;\r\n\r\n&lt;/dependencies&gt;\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.r2dbc.url=r2dbc:h2:tcp://localhost:9090/mem:mydb\r\n# also works for file-based h2db \r\n# spring.r2dbc.url=r2dbc:h2:tcp://localhost:9090/file./oreport\r\nspring.r2dbc.username=sa\r\nspring.r2dbc.password=\r\n```\r\n\r\nThis bean will create the H2ConnectionFactory instance you need.\r\n``` java\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnExpression;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport io.r2dbc.h2.H2ConnectionConfiguration;\r\nimport io.r2dbc.h2.H2ConnectionFactory;\r\n\r\n@ConditionalOnProperty(&quot;spring.r2dbc.url&quot;)\r\n@ConditionalOnExpression(&quot;#{&#39;${spring.r2dbc.url}&#39;.substring(0,12) matches &#39;r2dbc:h2:tcp&#39;}&quot;)\r\n@Configuration\r\npublic class H2Config {\r\n\r\n\t/**\r\n\t * As of 2021-08-06 the latest r2dbc-h2 version is 0.8.4.RELEASE and, even when\r\n\t * tcp connections where enabled, there&#39;s still no auto-configuration. This Bean\r\n\t * helps that.\r\n\t * \r\n\t * @see &lt;a href=&quot;https://github.com/r2dbc/r2dbc-h2/issues/86&quot;&gt;r2dbc-h2\r\n\t *      Issue#86&lt;/a&gt;\r\n\t */\r\n\t@Bean\r\n\tpublic H2ConnectionFactory h2ConnectionFactory(@Value(&quot;${spring.r2dbc.url}&quot;) String url,\r\n\t\t\t@Value(&quot;${spring.r2dbc.username}&quot;) String username, @Value(&quot;${spring.r2dbc.password}&quot;) String password) {\r\n\t\turl = url.substring(&quot;r2dbc:h2:&quot;.length());\r\n\t\treturn new H2ConnectionFactory(\r\n\t\t\t\tH2ConnectionConfiguration.builder().url(url).username(username).password(password).build());\r\n\t}\r\n}\r\n```\r\n\r\nBest regards\r\n\r\nFradantim","title":"R2dbc not working with h2 database using tcp","body":"<p>Just been banging my head to the wall with this and wanted to share the conclussion:</p>\n<p>dependencies being used:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;relativePath /&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n        &lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- and something to provide spring beans --&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.r2dbc.url=r2dbc:h2:tcp://localhost:9090/mem:mydb\n# also works for file-based h2db \n# spring.r2dbc.url=r2dbc:h2:tcp://localhost:9090/file./oreport\nspring.r2dbc.username=sa\nspring.r2dbc.password=\n</code></pre>\n<p>This bean will create the H2ConnectionFactory instance you need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnExpression;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport io.r2dbc.h2.H2ConnectionConfiguration;\nimport io.r2dbc.h2.H2ConnectionFactory;\n\n@ConditionalOnProperty(&quot;spring.r2dbc.url&quot;)\n@ConditionalOnExpression(&quot;#{'${spring.r2dbc.url}'.substring(0,12) matches 'r2dbc:h2:tcp'}&quot;)\n@Configuration\npublic class H2Config {\n\n    /**\n     * As of 2021-08-06 the latest r2dbc-h2 version is 0.8.4.RELEASE and, even when\n     * tcp connections where enabled, there's still no auto-configuration. This Bean\n     * helps that.\n     * \n     * @see &lt;a href=&quot;https://github.com/r2dbc/r2dbc-h2/issues/86&quot;&gt;r2dbc-h2\n     *      Issue#86&lt;/a&gt;\n     */\n    @Bean\n    public H2ConnectionFactory h2ConnectionFactory(@Value(&quot;${spring.r2dbc.url}&quot;) String url,\n            @Value(&quot;${spring.r2dbc.username}&quot;) String username, @Value(&quot;${spring.r2dbc.password}&quot;) String password) {\n        url = url.substring(&quot;r2dbc:h2:&quot;.length());\n        return new H2ConnectionFactory(\n                H2ConnectionConfiguration.builder().url(url).username(username).password(password).build());\n    }\n}\n</code></pre>\n<p>Best regards</p>\n<p>Fradantim</p>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655662979,"creation_date":1655661887,"answer_id":72679210,"question_id":61919783,"body_markdown":"No, it&#39;s not possible.\r\n\r\nIf you will use something like `spring.r2dbc.url=r2dbc:h2:tcp://...` You will get `IllegalArgumentException:  protocol option tcp is unsupported (file, mem)`\r\n\r\nUse either file or mem\r\n\r\nSources:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nas u can see there are `builder.file` and `builder.inMemory`  usagesavailable only, but not `builder.tcp`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aTsvL.png\r\n  [2]: https://i.stack.imgur.com/LgYDQ.png","title":"R2dbc not working with h2 database using tcp","body":"<p>No, it's not possible.</p>\n<p>If you will use something like <code>spring.r2dbc.url=r2dbc:h2:tcp://...</code> You will get <code>IllegalArgumentException:  protocol option tcp is unsupported (file, mem)</code></p>\n<p>Use either file or mem</p>\n<p>Sources:</p>\n<p><a href=\"https://i.stack.imgur.com/aTsvL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTsvL.png\" alt=\"enter image description here\" /></a></p>\n<p>as u can see there are <code>builder.file</code> and <code>builder.inMemory</code>  usagesavailable only, but not <code>builder.tcp</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/LgYDQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LgYDQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5119511,"reputation":954,"user_id":4103578,"display_name":"Xavier Bouclet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1655662979,"creation_date":1589997556,"question_id":61919783,"body_markdown":"I try to use h2 with r2dbc using the docker container oscarfonts/h2. \r\nBy default when using this container, we have to use tcp protocol,\r\n\r\nWhen I try to use it with r2dbc. I get the clear following error message :\r\n    \r\n\r\n&gt; Retrying to get database connection due class\r\n&gt; java.lang.IllegalArgumentException: protocol option tcp is unsupported\r\n&gt; (file, mem)\r\n\r\nThe doc r2dbc h2 says it should work with the tcp protocol. Does it?\r\n\r\nUsing spring boot 2.3.0.RELEASE and r2dbc version accordingly.\r\n","title":"R2dbc not working with h2 database using tcp","body":"<p>I try to use h2 with r2dbc using the docker container oscarfonts/h2. \nBy default when using this container, we have to use tcp protocol,</p>\n\n<p>When I try to use it with r2dbc. I get the clear following error message :</p>\n\n<blockquote>\n  <p>Retrying to get database connection due class\n  java.lang.IllegalArgumentException: protocol option tcp is unsupported\n  (file, mem)</p>\n</blockquote>\n\n<p>The doc r2dbc h2 says it should work with the tcp protocol. Does it?</p>\n\n<p>Using spring boot 2.3.0.RELEASE and r2dbc version accordingly.</p>\n"},{"tags":["java","android","android-studio","android-music-player"],"owner":{"account_id":25426725,"reputation":29,"user_id":19231807,"display_name":"yeontan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655662545,"creation_date":1655659302,"question_id":72678928,"body_markdown":"I want to make a music player in my fragment page for my android app using android studio. There is no error to the code however when i run the code the fragment page is not appearing the audio player. i follow the code from youtube: https://www.youtube.com/watch?v=rJ3XbXtjNaE&amp;t=385s\r\n\r\n\r\nthis is the code\r\n\r\n\r\nfragment_med1.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:background=&quot;@drawable/scene&quot;\r\n    tools:context=&quot;.Med1Fragment&quot;&gt;\r\n\r\n     &lt;ImageView\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;250dp&quot;\r\n         android:src=&quot;@drawable/ic_baseline_music_note_24&quot;/&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;12dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/player_position&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textColor=&quot;@android:color/white&quot;/&gt;\r\n\r\n        &lt;SeekBar\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:id=&quot;@+id/seek_bar&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/player_duration&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textColor=&quot;@android:color/white&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_rew&quot;\r\n            android:src=&quot;@drawable/ic_baseline_fast_rewind_24&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_play&quot;\r\n            android:src=&quot;@drawable/ic_baseline_play_circle_filled_24&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_pause&quot;\r\n            android:src=&quot;@drawable/ic_baseline_pause_circle_filled_24&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_ff&quot;\r\n            android:src=&quot;@drawable/ic_baseline_fast_forward_24&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nMed1Fragment.java\r\n\r\n```java\r\npublic class Med1Fragment extends Fragment {\r\n\r\n    TextView playerposition, playerduration;\r\n    SeekBar seekBar;\r\n    ImageView btnrew, btnplay, btnpause, btnff;\r\n\r\n    MediaPlayer mediaPlayer;\r\n    Handler handler = new Handler();\r\n    Runnable runnable;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        playerposition = playerposition.findViewById(R.id.player_position);\r\n        playerduration = playerduration.findViewById(R.id.player_duration);\r\n        seekBar = seekBar.findViewById(R.id.seek_bar);\r\n        btnrew = btnrew.findViewById(R.id.bt_rew);\r\n        btnplay = btnplay.findViewById(R.id.bt_play);\r\n        btnpause = btnpause.findViewById(R.id.bt_pause);\r\n        btnff = btnff.findViewById(R.id.bt_ff);\r\n\r\n        mediaPlayer = MediaPlayer.create(getActivity(), R.raw.meditation2);\r\n\r\n\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                seekBar.setProgress(mediaPlayer.getCurrentPosition());\r\n                handler.postDelayed(this, 500);\r\n            }\r\n        };\r\n\r\n        int duration = mediaPlayer.getDuration();\r\n        String sDuration = convertFormat(duration);\r\n        playerduration.setText(sDuration);\r\n\r\n        btnplay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                btnplay.setVisibility(View.GONE);\r\n                btnpause.setVisibility(View.VISIBLE);\r\n                mediaPlayer.start();\r\n                seekBar.setMax(mediaPlayer.getDuration());\r\n                handler.postDelayed(runnable,0);\r\n            }\r\n        });\r\n\r\n        btnpause.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                btnpause.setVisibility(View.GONE);\r\n                btnplay.setVisibility(View.VISIBLE);\r\n                mediaPlayer.pause();\r\n                handler.removeCallbacks(runnable);\r\n            }\r\n        });\r\n\r\n        btnff.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int currentposition = mediaPlayer.getCurrentPosition();\r\n                int duration = mediaPlayer.getDuration();\r\n\r\n                if(mediaPlayer.isPlaying() &amp;&amp; duration != currentposition){\r\n                    currentposition = currentposition + 5000;\r\n                    playerposition.setText(convertFormat(currentposition));\r\n                    mediaPlayer.seekTo(currentposition);\r\n                }\r\n            }\r\n        });\r\n\r\n        btnrew.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int currentposition = mediaPlayer.getCurrentPosition();\r\n\r\n                if(mediaPlayer.isPlaying() &amp;&amp; currentposition &gt; 5000){\r\n                    currentposition = currentposition - 5000;\r\n                    playerposition.setText(convertFormat(currentposition));\r\n                    mediaPlayer.seekTo(currentposition);\r\n                }\r\n            }\r\n        });\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                if (fromUser){\r\n                    mediaPlayer.seekTo(progress);\r\n                }\r\n                playerposition.setText(convertFormat(mediaPlayer.getCurrentPosition()));\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                btnpause.setVisibility(View.GONE);\r\n                btnplay.setVisibility(View.VISIBLE);\r\n                mediaPlayer.seekTo(0);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n        @SuppressLint(&quot;DefaultLocale&quot;)\r\n        private String convertFormat(int duration){\r\n            return String.format(&quot;%02d:%02d&quot;\r\n                    , TimeUnit.MILLISECONDS.toMinutes(duration)\r\n                    , TimeUnit.MILLISECONDS.toSeconds(duration) -\r\n                     TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration)));\r\n\r\n        }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_med1, container, false);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am always confused to write the code for fragment because the usual code i get/learn from (eg:youtube) are written for activity instead of fragment. \r\n\r\nreally appreciate some help. thank you.\r\n\r\n","title":"Fragment page not displaying for MediaPlayer Android Studio","body":"<p>I want to make a music player in my fragment page for my android app using android studio. There is no error to the code however when i run the code the fragment page is not appearing the audio player. i follow the code from youtube: <a href=\"https://www.youtube.com/watch?v=rJ3XbXtjNaE&amp;t=385s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=rJ3XbXtjNaE&amp;t=385s</a></p>\n<p>this is the code</p>\n<p>fragment_med1.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot;\n    android:background=&quot;@drawable/scene&quot;\n    tools:context=&quot;.Med1Fragment&quot;&gt;\n\n     &lt;ImageView\n         android:layout_width=&quot;match_parent&quot;\n         android:layout_height=&quot;250dp&quot;\n         android:src=&quot;@drawable/ic_baseline_music_note_24&quot;/&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;12dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/player_position&quot;\n            android:text=&quot;00:00&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;@android:color/white&quot;/&gt;\n\n        &lt;SeekBar\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:id=&quot;@+id/seek_bar&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/player_duration&quot;\n            android:text=&quot;00:00&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;@android:color/white&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_rew&quot;\n            android:src=&quot;@drawable/ic_baseline_fast_rewind_24&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_play&quot;\n            android:src=&quot;@drawable/ic_baseline_play_circle_filled_24&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_pause&quot;\n            android:src=&quot;@drawable/ic_baseline_pause_circle_filled_24&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_ff&quot;\n            android:src=&quot;@drawable/ic_baseline_fast_forward_24&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Med1Fragment.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Med1Fragment extends Fragment {\n\n    TextView playerposition, playerduration;\n    SeekBar seekBar;\n    ImageView btnrew, btnplay, btnpause, btnff;\n\n    MediaPlayer mediaPlayer;\n    Handler handler = new Handler();\n    Runnable runnable;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        playerposition = playerposition.findViewById(R.id.player_position);\n        playerduration = playerduration.findViewById(R.id.player_duration);\n        seekBar = seekBar.findViewById(R.id.seek_bar);\n        btnrew = btnrew.findViewById(R.id.bt_rew);\n        btnplay = btnplay.findViewById(R.id.bt_play);\n        btnpause = btnpause.findViewById(R.id.bt_pause);\n        btnff = btnff.findViewById(R.id.bt_ff);\n\n        mediaPlayer = MediaPlayer.create(getActivity(), R.raw.meditation2);\n\n\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                seekBar.setProgress(mediaPlayer.getCurrentPosition());\n                handler.postDelayed(this, 500);\n            }\n        };\n\n        int duration = mediaPlayer.getDuration();\n        String sDuration = convertFormat(duration);\n        playerduration.setText(sDuration);\n\n        btnplay.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                btnplay.setVisibility(View.GONE);\n                btnpause.setVisibility(View.VISIBLE);\n                mediaPlayer.start();\n                seekBar.setMax(mediaPlayer.getDuration());\n                handler.postDelayed(runnable,0);\n            }\n        });\n\n        btnpause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                btnpause.setVisibility(View.GONE);\n                btnplay.setVisibility(View.VISIBLE);\n                mediaPlayer.pause();\n                handler.removeCallbacks(runnable);\n            }\n        });\n\n        btnff.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int currentposition = mediaPlayer.getCurrentPosition();\n                int duration = mediaPlayer.getDuration();\n\n                if(mediaPlayer.isPlaying() &amp;&amp; duration != currentposition){\n                    currentposition = currentposition + 5000;\n                    playerposition.setText(convertFormat(currentposition));\n                    mediaPlayer.seekTo(currentposition);\n                }\n            }\n        });\n\n        btnrew.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int currentposition = mediaPlayer.getCurrentPosition();\n\n                if(mediaPlayer.isPlaying() &amp;&amp; currentposition &gt; 5000){\n                    currentposition = currentposition - 5000;\n                    playerposition.setText(convertFormat(currentposition));\n                    mediaPlayer.seekTo(currentposition);\n                }\n            }\n        });\n\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                if (fromUser){\n                    mediaPlayer.seekTo(progress);\n                }\n                playerposition.setText(convertFormat(mediaPlayer.getCurrentPosition()));\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                btnpause.setVisibility(View.GONE);\n                btnplay.setVisibility(View.VISIBLE);\n                mediaPlayer.seekTo(0);\n            }\n        });\n\n\n    }\n        @SuppressLint(&quot;DefaultLocale&quot;)\n        private String convertFormat(int duration){\n            return String.format(&quot;%02d:%02d&quot;\n                    , TimeUnit.MILLISECONDS.toMinutes(duration)\n                    , TimeUnit.MILLISECONDS.toSeconds(duration) -\n                     TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration)));\n\n        }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_med1, container, false);\n    }\n\n}\n</code></pre>\n<p>I am always confused to write the code for fragment because the usual code i get/learn from (eg:youtube) are written for activity instead of fragment.</p>\n<p>really appreciate some help. thank you.</p>\n"},{"tags":["java","hashcode"],"comments":[{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":2,"creation_date":1655662391,"post_id":72679233,"comment_id":128379693,"body_markdown":"it has usages besides coupling with `equals` in collections, for example, you can log the hash of long payloads, to search for duplicates (treating it like checksum), etc.","body":"it has usages besides coupling with <code>equals</code> in collections, for example, you can log the hash of long payloads, to search for duplicates (treating it like checksum), etc."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1655662505,"post_id":72679233,"comment_id":128379725,"body_markdown":"And no, this is not invented specifically for / in java. As you say it is primarily for hashing based collections and basically all languages that have those have some way of letting you provide a custom hash implementation, does not matter if you call it `hashCode`, `hash`, `Hashable`, `__hash__`, ...","body":"And no, this is not invented specifically for / in java. As you say it is primarily for hashing based collections and basically all languages that have those have some way of letting you provide a custom hash implementation, does not matter if you call it <code>hashCode</code>, <code>hash</code>, <code>Hashable</code>, <code>__hash__</code>, ..."}],"owner":{"account_id":12454550,"reputation":76,"user_id":9068196,"display_name":"Sachin Rane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1655673608,"answer_count":0,"score":1,"last_activity_date":1655662071,"creation_date":1655662071,"question_id":72679233,"body_markdown":"I understood, we need to implement hashcode for hashing based collections. I got upto this point but I am thinking if there are any other uses of hashcode in Java than this one. Is it something, for hashing collections, this hashcode method is invented specifically in Java?\r\n\r\nThanks in advance.","title":"Uses of hashcode in Java apart from hashing collections","body":"<p>I understood, we need to implement hashcode for hashing based collections. I got upto this point but I am thinking if there are any other uses of hashcode in Java than this one. Is it something, for hashing collections, this hashcode method is invented specifically in Java?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","oop","solid-principles"],"answers":[{"tags":[],"owner":{"account_id":18853981,"reputation":787,"user_id":13752421,"display_name":"Daly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593206590,"creation_date":1593206590,"answer_id":62603015,"question_id":62602914,"body_markdown":"No, because any implementation of `Currency` can be passed in to `convert` and a result will be returned.","title":"Does `instanceof` operator violate Liskov Substitution Principle?","body":"<p>No, because any implementation of <code>Currency</code> can be passed in to <code>convert</code> and a result will be returned.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1593207072,"creation_date":1593207072,"answer_id":62603090,"question_id":62602914,"body_markdown":"No.  The Liskov Substitution Principle is about subtypes faithfully exhibiting all the properties of their supertypes.  In no way does it forbid other code from handing different subtypes of the same type differently.\r\n\r\nYour example code *is* a bit smelly, but not because of any conflict with the LSP.","title":"Does `instanceof` operator violate Liskov Substitution Principle?","body":"<p>No.  The Liskov Substitution Principle is about subtypes faithfully exhibiting all the properties of their supertypes.  In no way does it forbid other code from handing different subtypes of the same type differently.</p>\n<p>Your example code <em>is</em> a bit smelly, but not because of any conflict with the LSP.</p>\n"},{"tags":[],"owner":{"account_id":6567101,"reputation":133,"user_id":5803873,"display_name":"Rolbin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655660993,"creation_date":1655660993,"answer_id":72679119,"question_id":62602914,"body_markdown":"The above is called &quot;potential violation of LSP&quot; . Any instance check to identify the subtype of a Supertype is  considered as a potential violation.\n\nThe implementation should not differ for different subtypes. In your case there is no conflict other than just a different value. But still this can be fixed by having a function or value to return exchange rate rather than checking the subtype and setting it. ","title":"Does `instanceof` operator violate Liskov Substitution Principle?","body":"<p>The above is called &quot;potential violation of LSP&quot; . Any instance check to identify the subtype of a Supertype is  considered as a potential violation.</p>\n<p>The implementation should not differ for different subtypes. In your case there is no conflict other than just a different value. But still this can be fixed by having a function or value to return exchange rate rather than checking the subtype and setting it.</p>\n"}],"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62603090,"answer_count":3,"score":3,"last_activity_date":1655660993,"creation_date":1593206010,"question_id":62602914,"body_markdown":"For example I have `Currency`, and `Exchange` which deals with various implementations of `Currency`.  I want to have an extra rate for curtain currencies, I do it like so\r\n```java\r\ninterface Currency { double rate();}\r\ninterface Exchange { double convert(Currency currency, double money); }\r\nclass PrivateBank implements Exchange {\r\n    @Override\r\n    public double convert(Currency currency, double money) {\r\n        double extra_rate = 1.0;\r\n        if (currency instanceof CanadaDollar) { /// ?\r\n            extra_rate = 1.05;\r\n        }\r\n        return money * currency.rate() * extra_rate;\r\n    }\r\n}\r\n```\r\n\r\nIs LSP violated here?\r\n","title":"Does `instanceof` operator violate Liskov Substitution Principle?","body":"<p>For example I have <code>Currency</code>, and <code>Exchange</code> which deals with various implementations of <code>Currency</code>.  I want to have an extra rate for curtain currencies, I do it like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Currency { double rate();}\ninterface Exchange { double convert(Currency currency, double money); }\nclass PrivateBank implements Exchange {\n    @Override\n    public double convert(Currency currency, double money) {\n        double extra_rate = 1.0;\n        if (currency instanceof CanadaDollar) { /// ?\n            extra_rate = 1.05;\n        }\n        return money * currency.rate() * extra_rate;\n    }\n}\n</code></pre>\n<p>Is LSP violated here?</p>\n"},{"tags":["java","spring","spring-boot","api","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1655702213,"post_id":72678927,"comment_id":128385454,"body_markdown":"Remove class, add `JpaSpecificationExecutor` to your repository interface, execute the `findAll` method with a specification and pageable. Move the method you have to create a `Specification` (ignore the paging part) and let Spring Data JPA handle that for you.","body":"Remove class, add <code>JpaSpecificationExecutor</code> to your repository interface, execute the <code>findAll</code> method with a specification and pageable. Move the method you have to create a <code>Specification</code> (ignore the paging part) and let Spring Data JPA handle that for you."}],"owner":{"account_id":2177741,"reputation":183,"user_id":1928011,"accept_rate":20,"display_name":"kirti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655660754,"creation_date":1655659301,"question_id":72678927,"body_markdown":"I have 4 tables in DB, such as \r\n\r\n- Product    =&gt; **PK** productid\r\n- Variant    =&gt; **PK** variantid   **FK** productid\r\n- Images     =&gt; **PK** imageid     **FK** variantid\r\n- Attribute  =&gt; **PK** attributid  **FK** variantid\r\n\r\nSo need to perform following action in Java Rest API\r\n\r\n 1. Pagination with sorting and filtering\r\n 2. One Product Object has different Variant with there images and attributes.\r\n\r\nBelow is the @Repository code for single table pagination i.e Product \r\n\r\n@Repository\r\npublic class PaginProductCriteriaRepository {\r\n\t\r\n\t\r\n\tprivate final EntityManager entityManager;\r\n\tprivate final CriteriaBuilder criteriaBuilder;\r\n\t\r\n\t\r\n\tpublic PaginProductCriteriaRepository(EntityManager entityManager) {\r\n\t\tthis.entityManager = entityManager;\r\n\t\tthis.criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\t}\r\n\t\r\n\tpublic Page&lt;Product&gt; findAllWithFilter(PaginProductPage paginPage, PaginProductSearchCriteria paginSearchCriteria){\r\n\t\t\r\n\t\tCriteriaQuery&lt;Product&gt; productCriteriaQuery = criteriaBuilder.createQuery(Product.class); \r\n\t\tRoot&lt;Product&gt; rootProduct = productCriteriaQuery.from(Product.class); \r\n\t\t \r\n\t\tPredicate predicate = getPrediate(paginSearchCriteria,rootProduct); \r\n\t\tproductCriteriaQuery.where(predicate);\r\n\t\tsetOrder(paginPage,productCriteriaQuery,rootProduct);\r\n\t\t\r\n\t\tTypedQuery&lt;Product&gt; typedQuery = entityManager.createQuery(productCriteriaQuery);\r\n\t\ttypedQuery.setFirstResult(paginPage.getPageNumber() * paginPage.getPageSize());\r\n\t\ttypedQuery.setMaxResults(paginPage.getPageSize());\r\n\t\t\r\n\t\tPageable pageable = getPageable(paginPage);\r\n\t\t\r\n\t\tlong paginCount = getPaginCountMethod(predicate);\r\n\t\t\r\n\t\treturn new PageImpl&lt;&gt;(typedQuery.getResultList(),pageable,paginCount);\r\n\t}\r\n\r\n\r\n\tprivate Predicate getPrediate(PaginProductSearchCriteria paginSearchCriteria, Root&lt;Product&gt; root) {\r\n\t\tList&lt;Predicate&gt;  predicates = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tif (Objects.nonNull(paginSearchCriteria.getpName())) {\r\n\t\t\tpredicates.add(criteriaBuilder.like(root.get(&quot;pName&quot;),&quot;%&quot; + paginSearchCriteria.getpName() + &quot;%&quot;));\r\n\t\t}\r\n\t\treturn criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n\t}\r\n\t\r\n    private void setOrder(PaginProductPage paginPage, CriteriaQuery&lt;Product&gt; criteriaQuery, Root&lt;Product&gt; root) {\r\n    \tif (paginPage.getSortDirection().equals(Sort.Direction.ASC)) {\r\n    \tcriteriaQuery.orderBy(criteriaBuilder.asc(root.get(paginPage.getSortBy())));\r\n\t\t} else {\r\n\t\tcriteriaQuery.orderBy(criteriaBuilder.desc(root.get(paginPage.getSortBy())));\r\n\t\t}\r\n\t}\r\n    \r\n    \r\n    private Pageable getPageable(PaginProductPage paginPage) {\r\n\t\t Sort sort  = Sort.by(paginPage.getSortDirection(),paginPage.getSortBy());\r\n\t\t return PageRequest.of(paginPage.getPageNumber(),paginPage.getPageSize(),sort);\r\n\t}\r\n    \r\n\tprivate long getPaginCountMethod(Predicate predicate) {\r\n\t\tCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\n\t\tRoot&lt;Product&gt; countRoot =  countQuery.from(Product.class);\r\n\t\tcountQuery.select(criteriaBuilder.count(countRoot)).where(predicate);\r\n\t\treturn entityManager.createQuery(countQuery).getSingleResult();\r\n\t}\r\n}\r\n\r\n\r\n**Expectation**: \r\nUsing above code pagination is working fine using single Table i.e Product BUT I need to join multiple tables with product and get full product object contain variants, images and attributes.\r\n\r\nNote: Single Product has multiple variants, variant has muluple attribute and images \r\n\r\n \r\n\r\n\r\n","title":"CriteriaQuery Implementation","body":"<p>I have 4 tables in DB, such as</p>\n<ul>\n<li>Product    =&gt; <strong>PK</strong> productid</li>\n<li>Variant    =&gt; <strong>PK</strong> variantid   <strong>FK</strong> productid</li>\n<li>Images     =&gt; <strong>PK</strong> imageid     <strong>FK</strong> variantid</li>\n<li>Attribute  =&gt; <strong>PK</strong> attributid  <strong>FK</strong> variantid</li>\n</ul>\n<p>So need to perform following action in Java Rest API</p>\n<ol>\n<li>Pagination with sorting and filtering</li>\n<li>One Product Object has different Variant with there images and attributes.</li>\n</ol>\n<p>Below is the @Repository code for single table pagination i.e Product</p>\n<p>@Repository\npublic class PaginProductCriteriaRepository {</p>\n<pre><code>private final EntityManager entityManager;\nprivate final CriteriaBuilder criteriaBuilder;\n\n\npublic PaginProductCriteriaRepository(EntityManager entityManager) {\n    this.entityManager = entityManager;\n    this.criteriaBuilder = entityManager.getCriteriaBuilder();\n}\n\npublic Page&lt;Product&gt; findAllWithFilter(PaginProductPage paginPage, PaginProductSearchCriteria paginSearchCriteria){\n    \n    CriteriaQuery&lt;Product&gt; productCriteriaQuery = criteriaBuilder.createQuery(Product.class); \n    Root&lt;Product&gt; rootProduct = productCriteriaQuery.from(Product.class); \n     \n    Predicate predicate = getPrediate(paginSearchCriteria,rootProduct); \n    productCriteriaQuery.where(predicate);\n    setOrder(paginPage,productCriteriaQuery,rootProduct);\n    \n    TypedQuery&lt;Product&gt; typedQuery = entityManager.createQuery(productCriteriaQuery);\n    typedQuery.setFirstResult(paginPage.getPageNumber() * paginPage.getPageSize());\n    typedQuery.setMaxResults(paginPage.getPageSize());\n    \n    Pageable pageable = getPageable(paginPage);\n    \n    long paginCount = getPaginCountMethod(predicate);\n    \n    return new PageImpl&lt;&gt;(typedQuery.getResultList(),pageable,paginCount);\n}\n\n\nprivate Predicate getPrediate(PaginProductSearchCriteria paginSearchCriteria, Root&lt;Product&gt; root) {\n    List&lt;Predicate&gt;  predicates = new ArrayList&lt;&gt;();\n    \n    if (Objects.nonNull(paginSearchCriteria.getpName())) {\n        predicates.add(criteriaBuilder.like(root.get(&quot;pName&quot;),&quot;%&quot; + paginSearchCriteria.getpName() + &quot;%&quot;));\n    }\n    return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n}\n\nprivate void setOrder(PaginProductPage paginPage, CriteriaQuery&lt;Product&gt; criteriaQuery, Root&lt;Product&gt; root) {\n    if (paginPage.getSortDirection().equals(Sort.Direction.ASC)) {\n    criteriaQuery.orderBy(criteriaBuilder.asc(root.get(paginPage.getSortBy())));\n    } else {\n    criteriaQuery.orderBy(criteriaBuilder.desc(root.get(paginPage.getSortBy())));\n    }\n}\n\n\nprivate Pageable getPageable(PaginProductPage paginPage) {\n     Sort sort  = Sort.by(paginPage.getSortDirection(),paginPage.getSortBy());\n     return PageRequest.of(paginPage.getPageNumber(),paginPage.getPageSize(),sort);\n}\n\nprivate long getPaginCountMethod(Predicate predicate) {\n    CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\n    Root&lt;Product&gt; countRoot =  countQuery.from(Product.class);\n    countQuery.select(criteriaBuilder.count(countRoot)).where(predicate);\n    return entityManager.createQuery(countQuery).getSingleResult();\n}\n</code></pre>\n<p>}</p>\n<p><strong>Expectation</strong>:\nUsing above code pagination is working fine using single Table i.e Product BUT I need to join multiple tables with product and get full product object contain variants, images and attributes.</p>\n<p>Note: Single Product has multiple variants, variant has muluple attribute and images</p>\n"},{"tags":["java","json","apache-camel","quarkus"],"comments":[{"owner":{"account_id":6669397,"reputation":71,"user_id":5145941,"display_name":"John Chan"},"score":0,"creation_date":1655689611,"post_id":72679039,"comment_id":128383764,"body_markdown":"I think the error is quite straightforward: `java.util.Map is an interface, and JAXB can&#39;t handle interfaces.`. Have you considered using a different Map class? e.g. HashMap","body":"I think the error is quite straightforward: <code>java.util.Map is an interface, and JAXB can&#39;t handle interfaces.</code>. Have you considered using a different Map class? e.g. HashMap"},{"owner":{"account_id":25059108,"reputation":11,"user_id":18914167,"display_name":"satAndroid"},"score":0,"creation_date":1655733017,"post_id":72679039,"comment_id":128394954,"body_markdown":"@JohnChan - Thanks for your reply. I did try using HashMap instead of Map after posting the question and it worked. I am curious as to why i am getting a JAXB related error when i am not using any XML","body":"@JohnChan - Thanks for your reply. I did try using HashMap instead of Map after posting the question and it worked. I am curious as to why i am getting a JAXB related error when i am not using any XML"},{"owner":{"account_id":6669397,"reputation":71,"user_id":5145941,"display_name":"John Chan"},"score":0,"creation_date":1655787843,"post_id":72679039,"comment_id":128407753,"body_markdown":"Good point. I can see some leftover imports of `javax.xml.bind` in `USZipcodeRequest` class. Did you just recently change it perhaps?\n\nAlso, double check your `DataFormat` in the route as you might still be using JAXB instead of Jackson.","body":"Good point. I can see some leftover imports of <code>javax.xml.bind</code> in <code>USZipcodeRequest</code> class. Did you just recently change it perhaps?  Also, double check your <code>DataFormat</code> in the route as you might still be using JAXB instead of Jackson."}],"owner":{"account_id":25059108,"reputation":11,"user_id":18914167,"display_name":"satAndroid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655660237,"creation_date":1655660237,"question_id":72679039,"body_markdown":"I am trying to build a quarkus service using JSON input and Camel routes. I am using beans to capture the JSON data and convert it into Java objects for further processing. For the sake of testing, i am trying to return the input which my quarkus service receives via HTTP client back to the calling program. As soon i try to process a HTTP request, i am getting an error.\r\n\r\n**Below is the JSON input my quarkus service recieves:**\r\n\r\n```\r\n{\r\n  &quot;requestHeader&quot;: {\r\n    &quot;inputTransactionId&quot;: &quot;ABC&quot;,\r\n    &quot;partnerId&quot;: &quot;1&quot;,\r\n    &quot;partnerName&quot;: &quot;ABC&quot;,\r\n    &quot;integrationID&quot;: &quot;123&quot;,\r\n    &quot;integrationName&quot;: &quot;TESTING&quot;,\r\n    &quot;applicationID&quot;: &quot;TEST&quot;,\r\n    &quot;applicationName&quot;: &quot;SOMETHING&quot;,\r\n    &quot;metadata&quot;:[{\r\n        &quot;A&quot;:&quot;1&quot;,\r\n        &quot;B&quot;:&quot;2&quot;\r\n    }]\r\n     },\r\n  &quot;city&quot;: &quot;&quot;,\r\n  &quot;state&quot;: &quot;AC&quot;,\r\n  &quot;zipcode&quot;: &quot;64035&quot;\r\n}\r\n```\r\n\r\n**Below is the ZipCodeRequest Bean definition**\r\n\r\n```\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport javax.xml.bind.annotation.XmlElement;\r\nimport javax.xml.bind.annotation.XmlRootElement;\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlType;\r\nimport javax.xml.bind.annotation.XmlEnum;\r\nimport javax.xml.bind.annotation.XmlEnumValue;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonValue;\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\n\r\npublic class USZipcodeRequest   {\r\n  \r\n  @Schema(description = &quot;&quot;)\r\n  private RequestHeader requestHeader = null;\r\n  \r\n  @Schema(description = &quot;The city name&quot;)\r\n  private String city = &quot;&quot;;\r\n  \r\n  @Schema(description = &quot;State name or two-letter abbreviation&quot;)\r\n  private String state = &quot;&quot;;\r\n  \r\n  @Schema(description = &quot;The ZIP Code. See the paragraphs below this table for a few relevant details.&quot;)\r\n  private String zipcode = &quot;&quot;;\r\n\r\n  @JsonProperty(&quot;requestHeader&quot;)\r\n  public RequestHeader getRequestHeader() {\r\n    return requestHeader;\r\n  }\r\n\r\n  public void setRequestHeader(RequestHeader requestHeader) {\r\n    this.requestHeader = requestHeader;\r\n  }\r\n\r\n  public USZipcodeRequest requestHeader(RequestHeader requestHeader) {\r\n    this.requestHeader = requestHeader;\r\n    return this;\r\n  }\r\n\r\n @JsonProperty(&quot;city&quot;)\r\n  public String getCity() {\r\n    return city;\r\n  }\r\n\r\n  public void setCity(String city) {\r\n    this.city = city;\r\n  }\r\n\r\n  public USZipcodeRequest city(String city) {\r\n    this.city = city;\r\n    return this;\r\n  }\r\n\r\n @JsonProperty(&quot;state&quot;)\r\n  public String getState() {\r\n    return state;\r\n  }\r\n\r\n  public void setState(String state) {\r\n    this.state = state;\r\n  }\r\n\r\n  public USZipcodeRequest state(String state) {\r\n    this.state = state;\r\n    return this;\r\n  }\r\n\r\n   @JsonProperty(&quot;zipcode&quot;)\r\n  public String getZipcode() {\r\n    return zipcode;\r\n  }\r\n\r\n  public void setZipcode(String zipcode) {\r\n    this.zipcode = zipcode;\r\n  }\r\n\r\n  public USZipcodeRequest zipcode(String zipcode) {\r\n    this.zipcode = zipcode;\r\n    return this;\r\n  }\r\n}\r\n```\r\n\r\n\r\n**Below is the RequestHeader bean definition (Request Header from the input) which is causing the error**\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nimport io.quarkus.runtime.annotations.IgnoreProperty;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\n\r\n@ApplicationScoped\r\n\r\n@Schema(description=&quot;base header fields for all requests&quot;)\r\npublic class RequestHeader   {\r\n  \r\n  @Schema(required = true, description = &quot;An identifier passed into the API call to identify the transaction within the calling application; this field will be returned with the output.&quot;)\r\n\r\n  private String inputTransactionId = null;\r\n  \r\n  @Schema(required = true, description = &quot;Trading parter Id as in the intgration registry.&quot;)\r\n\r\n  private String partnerId = null;\r\n  \r\n  @Schema(required = true, description = &quot;Trading parter name as in the intgration registry.&quot;)\r\n \r\n  private String partnerName = null;\r\n  \r\n  @Schema(required = true, description = &quot;Integration Id as in the intgration registry.&quot;)\r\n\r\n  private String integrationID = null;\r\n  \r\n  @Schema(required = true, description = &quot;Integration name as in the intgration registry.&quot;)\r\n\r\n  private String integrationName = null;\r\n  \r\n  @Schema(required = true, description = &quot;Application Id as in the intgration registry.&quot;)\r\n \r\n  private String applicationID = null;\r\n  \r\n  @Schema(required = true, description = &quot;Application Id as in the intgration registry.&quot;)\r\n\r\n  private String applicationName = null;\r\n  \r\n  @Schema(description = &quot;Contains addtion flex metadata.&quot;)\r\n \r\n  //private List&lt;Metadata&gt; metadata = null;\r\n  private List&lt;Map&lt;String, String&gt;&gt; metadata = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n \r\n  @JsonProperty(&quot;inputTransactionId&quot;)\r\n  public String getInputTransactionId() {\r\n    return inputTransactionId;\r\n  }\r\n\r\n  public void setInputTransactionId(String inputTransactionId) {\r\n    this.inputTransactionId = inputTransactionId;\r\n  }\r\n\r\n  public RequestHeader inputTransactionId(String inputTransactionId) {\r\n    this.inputTransactionId = inputTransactionId;\r\n    return this;\r\n  }\r\n\r\n \r\n  @JsonProperty(&quot;partnerId&quot;)\r\n  public String getPartnerId() {\r\n    return partnerId;\r\n  }\r\n\r\n  public void setPartnerId(String partnerId) {\r\n    this.partnerId = partnerId;\r\n  }\r\n\r\n  public RequestHeader partnerId(String partnerId) {\r\n    this.partnerId = partnerId;\r\n    return this;\r\n  }\r\n\r\n   @JsonProperty(&quot;partnerName&quot;)\r\n  public String getPartnerName() {\r\n    return partnerName;\r\n  }\r\n\r\n  public void setPartnerName(String partnerName) {\r\n    this.partnerName = partnerName;\r\n  }\r\n\r\n  public RequestHeader partnerName(String partnerName) {\r\n    this.partnerName = partnerName;\r\n    return this;\r\n  }\r\n\r\n  @JsonProperty(&quot;integrationID&quot;)\r\n  public String getIntegrationID() {\r\n    return integrationID;\r\n  }\r\n\r\n  public void setIntegrationID(String integrationID) {\r\n    this.integrationID = integrationID;\r\n  }\r\n\r\n  public RequestHeader integrationID(String integrationID) {\r\n    this.integrationID = integrationID;\r\n    return this;\r\n  }\r\n\r\n  @JsonProperty(&quot;integrationName&quot;)\r\n  public String getIntegrationName() {\r\n    return integrationName;\r\n  }\r\n\r\n  public void setIntegrationName(String integrationName) {\r\n    this.integrationName = integrationName;\r\n  }\r\n\r\n  public RequestHeader integrationName(String integrationName) {\r\n    this.integrationName = integrationName;\r\n    return this;\r\n  }\r\n\r\n  @JsonProperty(&quot;applicationID&quot;)\r\n  public String getApplicationID() {\r\n    return applicationID;\r\n  }\r\n\r\n  public void setApplicationID(String applicationID) {\r\n    this.applicationID = applicationID;\r\n  }\r\n\r\n  public RequestHeader applicationID(String applicationID) {\r\n    this.applicationID = applicationID;\r\n    return this;\r\n  }\r\n\r\n  @JsonProperty(&quot;applicationName&quot;)\r\n  public String getApplicationName() {\r\n    return applicationName;\r\n  }\r\n\r\n  public void setApplicationName(String applicationName) {\r\n    this.applicationName = applicationName;\r\n  }\r\n\r\n  public RequestHeader applicationName(String applicationName) {\r\n    this.applicationName = applicationName;\r\n    return this;\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;class RequestHeader {\\n&quot;);\r\n    \r\n    sb.append(&quot;    inputTransactionId: &quot;).append(toIndentedString(inputTransactionId)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    partnerId: &quot;).append(toIndentedString(partnerId)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    partnerName: &quot;).append(toIndentedString(partnerName)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    integrationID: &quot;).append(toIndentedString(integrationID)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    integrationName: &quot;).append(toIndentedString(integrationName)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    applicationID: &quot;).append(toIndentedString(applicationID)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;    applicationName: &quot;).append(toIndentedString(applicationName)).append(&quot;\\n&quot;);\r\n //   sb.append(&quot;    metadata: &quot;).append(toIndentedString(metadata)).append(&quot;\\n&quot;);\r\n    sb.append(&quot;}&quot;);\r\n    return sb.toString();\r\n  }\r\n\r\n public List&lt;Map&lt;String, String&gt;&gt; getMetadata() {\r\n  return metadata;\r\n}\r\n\r\npublic void setMetadata(List&lt;Map&lt;String, String&gt;&gt; metadata) {\r\n  this.metadata = metadata;\r\n}\r\n}\r\n```\r\n\r\n**Whenever i try to compile my code, i get the below error :**\r\n\r\n```\r\nFailed to start application (with profile dev): com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\r\njava.util.Map is an interface, and JAXB can&#39;t handle interfaces.\r\n        this problem is related to the following location:\r\n                at java.util.Map\r\n                at public java.util.List com.company.beans.asv.RequestHeader.getMetadata()\r\n                at com.company.beans.asv.RequestHeader\r\n                at public com.company.beans.asv.RequestHeader com.company.beans.asv.USZipcodeRequest.getRequestHeader()\r\n                at com.company.beans.asv.USZipcodeRequest\r\n\r\n        at com.sun.xml.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:76)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:441)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:273)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:109)\r\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1126)\r\n        at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:135)\r\n        at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35)\r\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\r\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\r\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\r\n        at org.apache.camel.converter.jaxb.JaxbDataFormat.createContext(JaxbDataFormat.java:548)\r\n        at org.apache.camel.converter.jaxb.JaxbDataFormat.doStart(JaxbDataFormat.java:516)\r\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n        at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.internalAddService(AbstractCamelContext.java:1568)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.addService(AbstractCamelContext.java:1489)\r\n        at org.apache.camel.support.processor.MarshalProcessor.doStart(MarshalProcessor.java:122)\r\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n        at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\r\n        at org.apache.camel.impl.engine.DeferServiceStartupListener.doStart(DeferServiceStartupListener.java:63)\r\n        at org.apache.camel.impl.engine.DeferServiceStartupListener.onCamelContextStarted(DeferServiceStartupListener.java:54)\r\n        at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:196)\r\n        at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3344)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:3023)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2978)\r\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2639)\r\n        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:255)\r\n        at org.apache.camel.quarkus.main.CamelMain.doStart(CamelMain.java:94)\r\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n        at org.apache.camel.quarkus.main.CamelMain.startEngine(CamelMain.java:140)\r\n        at org.apache.camel.quarkus.main.CamelMainRuntime.start(CamelMainRuntime.java:49)\r\n        at org.apache.camel.quarkus.core.CamelBootstrapRecorder.start(CamelBootstrapRecorder.java:45)\r\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy_0(Unknown Source)\r\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy(Unknown Source)\r\n        at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n        at io.quarkus.runtime.Application.start(Application.java:101)\r\n        at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:103)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\r\n        at io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n\r\n2022-06-19 13:04:49,241 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\r\n2022-06-19 13:09:40,358 INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (Timer-0) Restarting quarkus due to changes in AddressValidationRoute.class.\r\n2022-06-19 13:09:40,358 INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (Timer-0) Restarting quarkus due to changes in AddressValidationRoute.class.\r\n__  ____  __  _____   ___  __ ____  ______\r\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\r\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\r\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\r\n2022-06-19 13:09:41,282 INFO  [org.apa.cam.qua.cor.CamelBootstrapRecorder] (Quarkus Main Thread) Bootstrap runtime: org.apache.camel.quarkus.main.CamelMainRuntime\r\n\r\n2022-06-19 13:09:41,285 INFO  [org.apa.cam.mai.MainSupport] (Quarkus Main Thread) Apache Camel (Main) 3.16.0 is starting\r\n2022-06-19 13:09:41,360 ERROR [org.apa.cam.qua.mai.CamelMainRuntime] (Quarkus Main Thread) Failed to start application: org.apache.camel.FailedToCreateRouteException: Failed to create route us-zip-code-route at: &gt;&gt;&gt; From[direct:us-zip-code] &lt;&lt;&lt; in route: Route(us-zip-code-route)[From[direct:us-zip-code] -&gt; []] because of Route us-zip-code-route has no output processors. You need to add outputs to the route such as to(&quot;log:foo&quot;).\r\n        at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:222)\r\n        at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:74)\r\n        at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49)\r\n        at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:887)\r\n        at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:775)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2937)\r\n        at org.apache.camel.quarkus.core.FastCamelContext.doInit(FastCamelContext.java:172)\r\n        at org.apache.camel.support.service.BaseService.init(BaseService.java:83)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2620)\r\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:111)\r\n        at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2639)\r\n        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:255)\r\n        at org.apache.camel.quarkus.main.CamelMain.doStart(CamelMain.java:94)\r\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\r\n        at org.apache.camel.quarkus.main.CamelMain.startEngine(CamelMain.java:140)\r\n        at org.apache.camel.quarkus.main.CamelMainRuntime.start(CamelMainRuntime.java:49)\r\n        at org.apache.camel.quarkus.core.CamelBootstrapRecorder.start(CamelBootstrapRecorder.java:45)\r\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy_0(Unknown Source)\r\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy(Unknown Source)\r\n        at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\r\n        at io.quarkus.runtime.Application.start(Application.java:101)\r\n        at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:103)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\r\n        at io.quarkus.runner.GeneratedMain.main(Unknown Source)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.IllegalArgumentException: Route us-zip-code-route has no output processors. You need to add outputs to the route such as to(&quot;log:foo&quot;).\r\n        at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:220)\r\n```\r\n\r\n\r\n\r\n\r\n","title":"org.apache.camel.RuntimeCamelException: com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions","body":"<p>I am trying to build a quarkus service using JSON input and Camel routes. I am using beans to capture the JSON data and convert it into Java objects for further processing. For the sake of testing, i am trying to return the input which my quarkus service receives via HTTP client back to the calling program. As soon i try to process a HTTP request, i am getting an error.</p>\n<p><strong>Below is the JSON input my quarkus service recieves:</strong></p>\n<pre><code>{\n  &quot;requestHeader&quot;: {\n    &quot;inputTransactionId&quot;: &quot;ABC&quot;,\n    &quot;partnerId&quot;: &quot;1&quot;,\n    &quot;partnerName&quot;: &quot;ABC&quot;,\n    &quot;integrationID&quot;: &quot;123&quot;,\n    &quot;integrationName&quot;: &quot;TESTING&quot;,\n    &quot;applicationID&quot;: &quot;TEST&quot;,\n    &quot;applicationName&quot;: &quot;SOMETHING&quot;,\n    &quot;metadata&quot;:[{\n        &quot;A&quot;:&quot;1&quot;,\n        &quot;B&quot;:&quot;2&quot;\n    }]\n     },\n  &quot;city&quot;: &quot;&quot;,\n  &quot;state&quot;: &quot;AC&quot;,\n  &quot;zipcode&quot;: &quot;64035&quot;\n}\n</code></pre>\n<p><strong>Below is the ZipCodeRequest Bean definition</strong></p>\n<pre><code>import io.swagger.v3.oas.annotations.media.Schema;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.bind.annotation.XmlEnum;\nimport javax.xml.bind.annotation.XmlEnumValue;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonValue;\nimport com.fasterxml.jackson.annotation.JsonCreator;\n\npublic class USZipcodeRequest   {\n  \n  @Schema(description = &quot;&quot;)\n  private RequestHeader requestHeader = null;\n  \n  @Schema(description = &quot;The city name&quot;)\n  private String city = &quot;&quot;;\n  \n  @Schema(description = &quot;State name or two-letter abbreviation&quot;)\n  private String state = &quot;&quot;;\n  \n  @Schema(description = &quot;The ZIP Code. See the paragraphs below this table for a few relevant details.&quot;)\n  private String zipcode = &quot;&quot;;\n\n  @JsonProperty(&quot;requestHeader&quot;)\n  public RequestHeader getRequestHeader() {\n    return requestHeader;\n  }\n\n  public void setRequestHeader(RequestHeader requestHeader) {\n    this.requestHeader = requestHeader;\n  }\n\n  public USZipcodeRequest requestHeader(RequestHeader requestHeader) {\n    this.requestHeader = requestHeader;\n    return this;\n  }\n\n @JsonProperty(&quot;city&quot;)\n  public String getCity() {\n    return city;\n  }\n\n  public void setCity(String city) {\n    this.city = city;\n  }\n\n  public USZipcodeRequest city(String city) {\n    this.city = city;\n    return this;\n  }\n\n @JsonProperty(&quot;state&quot;)\n  public String getState() {\n    return state;\n  }\n\n  public void setState(String state) {\n    this.state = state;\n  }\n\n  public USZipcodeRequest state(String state) {\n    this.state = state;\n    return this;\n  }\n\n   @JsonProperty(&quot;zipcode&quot;)\n  public String getZipcode() {\n    return zipcode;\n  }\n\n  public void setZipcode(String zipcode) {\n    this.zipcode = zipcode;\n  }\n\n  public USZipcodeRequest zipcode(String zipcode) {\n    this.zipcode = zipcode;\n    return this;\n  }\n}\n</code></pre>\n<p><strong>Below is the RequestHeader bean definition (Request Header from the input) which is causing the error</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.enterprise.context.ApplicationScoped;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\nimport io.quarkus.runtime.annotations.IgnoreProperty;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\n@ApplicationScoped\n\n@Schema(description=&quot;base header fields for all requests&quot;)\npublic class RequestHeader   {\n  \n  @Schema(required = true, description = &quot;An identifier passed into the API call to identify the transaction within the calling application; this field will be returned with the output.&quot;)\n\n  private String inputTransactionId = null;\n  \n  @Schema(required = true, description = &quot;Trading parter Id as in the intgration registry.&quot;)\n\n  private String partnerId = null;\n  \n  @Schema(required = true, description = &quot;Trading parter name as in the intgration registry.&quot;)\n \n  private String partnerName = null;\n  \n  @Schema(required = true, description = &quot;Integration Id as in the intgration registry.&quot;)\n\n  private String integrationID = null;\n  \n  @Schema(required = true, description = &quot;Integration name as in the intgration registry.&quot;)\n\n  private String integrationName = null;\n  \n  @Schema(required = true, description = &quot;Application Id as in the intgration registry.&quot;)\n \n  private String applicationID = null;\n  \n  @Schema(required = true, description = &quot;Application Id as in the intgration registry.&quot;)\n\n  private String applicationName = null;\n  \n  @Schema(description = &quot;Contains addtion flex metadata.&quot;)\n \n  //private List&lt;Metadata&gt; metadata = null;\n  private List&lt;Map&lt;String, String&gt;&gt; metadata = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n \n  @JsonProperty(&quot;inputTransactionId&quot;)\n  public String getInputTransactionId() {\n    return inputTransactionId;\n  }\n\n  public void setInputTransactionId(String inputTransactionId) {\n    this.inputTransactionId = inputTransactionId;\n  }\n\n  public RequestHeader inputTransactionId(String inputTransactionId) {\n    this.inputTransactionId = inputTransactionId;\n    return this;\n  }\n\n \n  @JsonProperty(&quot;partnerId&quot;)\n  public String getPartnerId() {\n    return partnerId;\n  }\n\n  public void setPartnerId(String partnerId) {\n    this.partnerId = partnerId;\n  }\n\n  public RequestHeader partnerId(String partnerId) {\n    this.partnerId = partnerId;\n    return this;\n  }\n\n   @JsonProperty(&quot;partnerName&quot;)\n  public String getPartnerName() {\n    return partnerName;\n  }\n\n  public void setPartnerName(String partnerName) {\n    this.partnerName = partnerName;\n  }\n\n  public RequestHeader partnerName(String partnerName) {\n    this.partnerName = partnerName;\n    return this;\n  }\n\n  @JsonProperty(&quot;integrationID&quot;)\n  public String getIntegrationID() {\n    return integrationID;\n  }\n\n  public void setIntegrationID(String integrationID) {\n    this.integrationID = integrationID;\n  }\n\n  public RequestHeader integrationID(String integrationID) {\n    this.integrationID = integrationID;\n    return this;\n  }\n\n  @JsonProperty(&quot;integrationName&quot;)\n  public String getIntegrationName() {\n    return integrationName;\n  }\n\n  public void setIntegrationName(String integrationName) {\n    this.integrationName = integrationName;\n  }\n\n  public RequestHeader integrationName(String integrationName) {\n    this.integrationName = integrationName;\n    return this;\n  }\n\n  @JsonProperty(&quot;applicationID&quot;)\n  public String getApplicationID() {\n    return applicationID;\n  }\n\n  public void setApplicationID(String applicationID) {\n    this.applicationID = applicationID;\n  }\n\n  public RequestHeader applicationID(String applicationID) {\n    this.applicationID = applicationID;\n    return this;\n  }\n\n  @JsonProperty(&quot;applicationName&quot;)\n  public String getApplicationName() {\n    return applicationName;\n  }\n\n  public void setApplicationName(String applicationName) {\n    this.applicationName = applicationName;\n  }\n\n  public RequestHeader applicationName(String applicationName) {\n    this.applicationName = applicationName;\n    return this;\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class RequestHeader {\\n&quot;);\n    \n    sb.append(&quot;    inputTransactionId: &quot;).append(toIndentedString(inputTransactionId)).append(&quot;\\n&quot;);\n    sb.append(&quot;    partnerId: &quot;).append(toIndentedString(partnerId)).append(&quot;\\n&quot;);\n    sb.append(&quot;    partnerName: &quot;).append(toIndentedString(partnerName)).append(&quot;\\n&quot;);\n    sb.append(&quot;    integrationID: &quot;).append(toIndentedString(integrationID)).append(&quot;\\n&quot;);\n    sb.append(&quot;    integrationName: &quot;).append(toIndentedString(integrationName)).append(&quot;\\n&quot;);\n    sb.append(&quot;    applicationID: &quot;).append(toIndentedString(applicationID)).append(&quot;\\n&quot;);\n    sb.append(&quot;    applicationName: &quot;).append(toIndentedString(applicationName)).append(&quot;\\n&quot;);\n //   sb.append(&quot;    metadata: &quot;).append(toIndentedString(metadata)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n public List&lt;Map&lt;String, String&gt;&gt; getMetadata() {\n  return metadata;\n}\n\npublic void setMetadata(List&lt;Map&lt;String, String&gt;&gt; metadata) {\n  this.metadata = metadata;\n}\n}\n</code></pre>\n<p><strong>Whenever i try to compile my code, i get the below error :</strong></p>\n<pre><code>Failed to start application (with profile dev): com.sun.xml.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\njava.util.Map is an interface, and JAXB can't handle interfaces.\n        this problem is related to the following location:\n                at java.util.Map\n                at public java.util.List com.company.beans.asv.RequestHeader.getMetadata()\n                at com.company.beans.asv.RequestHeader\n                at public com.company.beans.asv.RequestHeader com.company.beans.asv.USZipcodeRequest.getRequestHeader()\n                at com.company.beans.asv.USZipcodeRequest\n\n        at com.sun.xml.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:76)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:441)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:273)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:109)\n        at com.sun.xml.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1126)\n        at com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:135)\n        at com.sun.xml.bind.v2.JAXBContextFactory.createContext(JAXBContextFactory.java:35)\n        at javax.xml.bind.ContextFinder.find(ContextFinder.java:393)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:691)\n        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:632)\n        at org.apache.camel.converter.jaxb.JaxbDataFormat.createContext(JaxbDataFormat.java:548)\n        at org.apache.camel.converter.jaxb.JaxbDataFormat.doStart(JaxbDataFormat.java:516)\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n        at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n        at org.apache.camel.impl.engine.AbstractCamelContext.internalAddService(AbstractCamelContext.java:1568)\n        at org.apache.camel.impl.engine.AbstractCamelContext.addService(AbstractCamelContext.java:1489)\n        at org.apache.camel.support.processor.MarshalProcessor.doStart(MarshalProcessor.java:122)\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n        at org.apache.camel.support.service.ServiceHelper.startService(ServiceHelper.java:113)\n        at org.apache.camel.impl.engine.DeferServiceStartupListener.doStart(DeferServiceStartupListener.java:63)\n        at org.apache.camel.impl.engine.DeferServiceStartupListener.onCamelContextStarted(DeferServiceStartupListener.java:54)\n        at org.apache.camel.impl.engine.InternalRouteStartupManager.safelyStartRouteServices(InternalRouteStartupManager.java:196)\n        at org.apache.camel.impl.engine.InternalRouteStartupManager.doStartOrResumeRoutes(InternalRouteStartupManager.java:147)\n        at org.apache.camel.impl.engine.AbstractCamelContext.doStartCamel(AbstractCamelContext.java:3344)\n        at org.apache.camel.impl.engine.AbstractCamelContext.doStartContext(AbstractCamelContext.java:3023)\n        at org.apache.camel.impl.engine.AbstractCamelContext.doStart(AbstractCamelContext.java:2978)\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n        at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2639)\n        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:255)\n        at org.apache.camel.quarkus.main.CamelMain.doStart(CamelMain.java:94)\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n        at org.apache.camel.quarkus.main.CamelMain.startEngine(CamelMain.java:140)\n        at org.apache.camel.quarkus.main.CamelMainRuntime.start(CamelMainRuntime.java:49)\n        at org.apache.camel.quarkus.core.CamelBootstrapRecorder.start(CamelBootstrapRecorder.java:45)\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy_0(Unknown Source)\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy(Unknown Source)\n        at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\n        at io.quarkus.runtime.Application.start(Application.java:101)\n        at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:103)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\n        at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\n\n2022-06-19 13:04:49,241 INFO  [io.qua.dep.dev.IsolatedDevModeMain] (main) Attempting to start live reload endpoint to recover from previous Quarkus startup failure\n2022-06-19 13:09:40,358 INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (Timer-0) Restarting quarkus due to changes in AddressValidationRoute.class.\n2022-06-19 13:09:40,358 INFO  [io.qua.dep.dev.RuntimeUpdatesProcessor] (Timer-0) Restarting quarkus due to changes in AddressValidationRoute.class.\n__  ____  __  _____   ___  __ ____  ______\n --/ __ \\/ / / / _ | / _ \\/ //_/ / / / __/\n -/ /_/ / /_/ / __ |/ , _/ ,&lt; / /_/ /\\ \\\n--\\___\\_\\____/_/ |_/_/|_/_/|_|\\____/___/\n2022-06-19 13:09:41,282 INFO  [org.apa.cam.qua.cor.CamelBootstrapRecorder] (Quarkus Main Thread) Bootstrap runtime: org.apache.camel.quarkus.main.CamelMainRuntime\n\n2022-06-19 13:09:41,285 INFO  [org.apa.cam.mai.MainSupport] (Quarkus Main Thread) Apache Camel (Main) 3.16.0 is starting\n2022-06-19 13:09:41,360 ERROR [org.apa.cam.qua.mai.CamelMainRuntime] (Quarkus Main Thread) Failed to start application: org.apache.camel.FailedToCreateRouteException: Failed to create route us-zip-code-route at: &gt;&gt;&gt; From[direct:us-zip-code] &lt;&lt;&lt; in route: Route(us-zip-code-route)[From[direct:us-zip-code] -&gt; []] because of Route us-zip-code-route has no output processors. You need to add outputs to the route such as to(&quot;log:foo&quot;).\n        at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:222)\n        at org.apache.camel.reifier.RouteReifier.createRoute(RouteReifier.java:74)\n        at org.apache.camel.impl.DefaultModelReifierFactory.createRoute(DefaultModelReifierFactory.java:49)\n        at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:887)\n        at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:775)\n        at org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:2937)\n        at org.apache.camel.quarkus.core.FastCamelContext.doInit(FastCamelContext.java:172)\n        at org.apache.camel.support.service.BaseService.init(BaseService.java:83)\n        at org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2620)\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:111)\n        at org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2639)\n        at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:255)\n        at org.apache.camel.quarkus.main.CamelMain.doStart(CamelMain.java:94)\n        at org.apache.camel.support.service.BaseService.start(BaseService.java:119)\n        at org.apache.camel.quarkus.main.CamelMain.startEngine(CamelMain.java:140)\n        at org.apache.camel.quarkus.main.CamelMainRuntime.start(CamelMainRuntime.java:49)\n        at org.apache.camel.quarkus.core.CamelBootstrapRecorder.start(CamelBootstrapRecorder.java:45)\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy_0(Unknown Source)\n        at io.quarkus.deployment.steps.CamelBootstrapProcessor$boot173480958.deploy(Unknown Source)\n        at io.quarkus.runner.ApplicationImpl.doStart(Unknown Source)\n        at io.quarkus.runtime.Application.start(Application.java:101)\n        at io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:103)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:67)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:41)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:120)\n        at io.quarkus.runner.GeneratedMain.main(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.IllegalArgumentException: Route us-zip-code-route has no output processors. You need to add outputs to the route such as to(&quot;log:foo&quot;).\n        at org.apache.camel.reifier.RouteReifier.doCreateRoute(RouteReifier.java:220)\n</code></pre>\n"},{"tags":["java","fatal-error","error-logging"],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655660045,"creation_date":1655654155,"question_id":72678346,"body_markdown":"## Background\r\n\r\n- You can use `java -XX:ErrorFile=C:\\path\\to\\file` to specify the path of fatal error log.\r\n- To test that the `-XX:ErrorFile` option is set properly, you can use the `kill -SIGSEGV` command in the Linux environment.\r\n\r\n## Problem\r\n\r\nIn the Windows environment, I could not find the equivalent of `kill -SIGSEGV`. I have tried to kill the `java.exe` process from Windows Task Manager, but the fatal error log was not created.\r\n\r\nYou can use `-Xmx` option like `java -XX:+CrashOnOutOfMemoryError -Xmx8m -XX:ErrorFile=C:\\path\\to\\file` to cause `OutOfMemoryError` intentionally, but I don&#39;t want to change current JavaVM command-line option.\r\n\r\n## Question\r\n\r\nIs there any way to test the setting of the `-XX:ErrorFile` option in the Windows environment?\r\n","title":"How to test java -XX:ErrorFile option is set properly on Windows","body":"<h2>Background</h2>\n<ul>\n<li>You can use <code>java -XX:ErrorFile=C:\\path\\to\\file</code> to specify the path of fatal error log.</li>\n<li>To test that the <code>-XX:ErrorFile</code> option is set properly, you can use the <code>kill -SIGSEGV</code> command in the Linux environment.</li>\n</ul>\n<h2>Problem</h2>\n<p>In the Windows environment, I could not find the equivalent of <code>kill -SIGSEGV</code>. I have tried to kill the <code>java.exe</code> process from Windows Task Manager, but the fatal error log was not created.</p>\n<p>You can use <code>-Xmx</code> option like <code>java -XX:+CrashOnOutOfMemoryError -Xmx8m -XX:ErrorFile=C:\\path\\to\\file</code> to cause <code>OutOfMemoryError</code> intentionally, but I don't want to change current JavaVM command-line option.</p>\n<h2>Question</h2>\n<p>Is there any way to test the setting of the <code>-XX:ErrorFile</code> option in the Windows environment?</p>\n"},{"tags":["java","elasticsearch","google-bigquery","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1655695015,"post_id":72678390,"comment_id":128384474,"body_markdown":"Quick Question: Are you running this pipeline/template in GCP&#39;s dataflow? Also if I got the question correct you wish to log the errors generated from this pipeline to a Bigquery table and a pub sub topic.","body":"Quick Question: Are you running this pipeline/template in GCP&#39;s dataflow? Also if I got the question correct you wish to log the errors generated from this pipeline to a Bigquery table and a pub sub topic."},{"owner":{"account_id":25593635,"reputation":11,"user_id":19369904,"display_name":"Abdullah"},"score":0,"creation_date":1655712779,"post_id":72678390,"comment_id":128388000,"body_markdown":"Yes it&#39;s running in gcp data flow , yes that&#39;s understanding is correct. We want no loss of message i.e successful+failure=total messages, error msgs to be logged in big query and error topic","body":"Yes it&#39;s running in gcp data flow , yes that&#39;s understanding is correct. We want no loss of message i.e successful+failure=total messages, error msgs to be logged in big query and error topic"},{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1655747688,"post_id":72678390,"comment_id":128400283,"body_markdown":"We also have a similar use-case wherein we route all the logs generated from the logger, worker logs, system logs to a BigQuery table.  We use log Exporter where you can filter the logs produced from all the different GCP services based on logging level, service type etc. Then route those logs to a sink both BigQuery table and PubSub topics are supported. You can refer more on this article here -&gt; https://cloud.google.com/logging/docs/export/configure_export_v2 . Hope this helps :)","body":"We also have a similar use-case wherein we route all the logs generated from the logger, worker logs, system logs to a BigQuery table.  We use log Exporter where you can filter the logs produced from all the different GCP services based on logging level, service type etc. Then route those logs to a sink both BigQuery table and PubSub topics are supported. You can refer more on this article here -&gt; <a href=\"https://cloud.google.com/logging/docs/export/configure_export_v2\" rel=\"nofollow noreferrer\">cloud.google.com/logging/docs/export/configure_export_v2</a> . Hope this helps :)"},{"owner":{"account_id":25593635,"reputation":11,"user_id":19369904,"display_name":"Abdullah"},"score":0,"creation_date":1655752937,"post_id":72678390,"comment_id":128401764,"body_markdown":"Thanks but i have one doubt we want to log not only the error message description but also want to log the originalPayload, header attributes which contains msgId and other metadata and we should also have control to categorize error message as recoverable or non-recoverable so that we know which messages can be reprocessed .Also i believe the logs written by logExporter to bigquery should adhere to particular schema.\nNote- we are not logging payload and metadata in worker logs due to security reason. \nCan log Exporter help us in achieving above if yes example of it would be helpful.\nThanks","body":"Thanks but i have one doubt we want to log not only the error message description but also want to log the originalPayload, header attributes which contains msgId and other metadata and we should also have control to categorize error message as recoverable or non-recoverable so that we know which messages can be reprocessed .Also i believe the logs written by logExporter to bigquery should adhere to particular schema. Note- we are not logging payload and metadata in worker logs due to security reason.  Can log Exporter help us in achieving above if yes example of it would be helpful. Thanks"},{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1655953281,"post_id":72678390,"comment_id":128455718,"body_markdown":"I&#39;m not really sure how you would handle such a use case, we don&#39;t have a requirement to log the payload within the pipeline. I guess you can try to expand the WriteToElasticsearch somehow to log the payload along with the error message in a catch block so that the Log Exporter can pick that up. For the schema of the log exporter table, mostly a view is built on top of it based on the business requirements.","body":"I&#39;m not really sure how you would handle such a use case, we don&#39;t have a requirement to log the payload within the pipeline. I guess you can try to expand the WriteToElasticsearch somehow to log the payload along with the error message in a catch block so that the Log Exporter can pick that up. For the schema of the log exporter table, mostly a view is built on top of it based on the business requirements."},{"owner":{"account_id":25593635,"reputation":11,"user_id":19369904,"display_name":"Abdullah"},"score":0,"creation_date":1655969366,"post_id":72678390,"comment_id":128458982,"body_markdown":"Some Payloads are sensitive so we can&#39;t log all payloads , however more logging means more cost involved. looks like we need to integrate ElasticSearch with Bigquery so that we can log the errors in BigQuery in  a controlled way.","body":"Some Payloads are sensitive so we can&#39;t log all payloads , however more logging means more cost involved. looks like we need to integrate ElasticSearch with Bigquery so that we can log the errors in BigQuery in  a controlled way."},{"owner":{"account_id":18085152,"reputation":147,"user_id":13146274,"display_name":"Saransh"},"score":0,"creation_date":1656049393,"post_id":72678390,"comment_id":128481201,"body_markdown":"I have bookmarked this question, if you&#39;re able to find a solution please add it here as well.","body":"I have bookmarked this question, if you&#39;re able to find a solution please add it here as well."}],"owner":{"account_id":25593635,"reputation":11,"user_id":19369904,"display_name":"Abdullah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655659976,"creation_date":1655654475,"question_id":72678390,"body_markdown":"Handle ElasticSearch errors to be written to BigQuery table/errortopic using Dataflow / apache beam framework/GCP.\r\nWe are looking to capture the errors in elasticSearch so that we don&#39;t miss any data .\r\nSpecifically for types of errors in elasticSearch and how to redirect it to bigquery for logging all errors.\r\n\r\nException can be recoverable/non-recoverable type.\r\neg-ConnectTimeOut,Keystore load error etc\r\n\r\nThese errors needs to be logged in bigquery and also published to error topic.\r\n\r\nI tried to find the answer but I wasn&#39;t able to find anything around this topic.\r\n\r\nBelow Code snippet where we initialize and write to our elasticsearch -\r\nThis custom template we created is to read from pubsub and write to ES.\r\n\r\n\r\n /*\r\n     * Step #1: Read from a PubSub subscription.\r\n     */\r\n    \r\n\r\nPCollection&lt;PubsubMessage&gt; messages = null;\r\n\r\n    if (options.getUseSubscription()) {\r\n\r\n      messages =\r\n\r\n              pipeline.apply(\r\n\r\n                      &quot;ReadPubSubSubscription&quot;,\r\n\r\n                      PubsubIO.readMessagesWithAttributes()\r\n                              .fromSubscription(options.getInputSubscription()));\r\n\r\n    }\r\n\r\n\r\n /*\r\n     * Step #2: Transform the PubsubMessages into Json documents.\r\n     */\r\n\r\n\r\n  PCollectionTuple convertedPubsubMessages = messages.apply(\r\n\r\n          &quot;ConvertMessageToJsonDocument&quot;,new PubSubMessageToJsonDocument(options));\r\n\r\n\r\n  /*\r\n   * Step #3a: Write Json documents into Elasticsearch using {@link ElasticsearchTransforms.WriteToElasticsearch}.\r\n   */\r\n\r\n\r\n  convertedPubsubMessages\r\n\r\n          .get(TRANSFORM_OUT)\r\n\r\n          .apply(\r\n                  &quot;GetJsonDocuments&quot;,\r\n                  MapElements.into(TypeDescriptors.strings()).via(FailsafeElement::getPayload)\r\n\r\n)\r\n          .apply(\r\n\r\n                  &quot;WriteToElasticsearch&quot;,\r\n\r\n                  ElasticsearchTransforms.WriteToElasticsearch.newBuilder()\r\n                          .setOptions(options.as(WriteToElasticsearchOptions.class))\r\n\r\n                          .build());\r\n","title":"Handle ElasticSearch errors to be redirected to BigQuery table/errortopic for logging using Dataflow/Beam in Java","body":"<p>Handle ElasticSearch errors to be written to BigQuery table/errortopic using Dataflow / apache beam framework/GCP.\nWe are looking to capture the errors in elasticSearch so that we don't miss any data .\nSpecifically for types of errors in elasticSearch and how to redirect it to bigquery for logging all errors.</p>\n<p>Exception can be recoverable/non-recoverable type.\neg-ConnectTimeOut,Keystore load error etc</p>\n<p>These errors needs to be logged in bigquery and also published to error topic.</p>\n<p>I tried to find the answer but I wasn't able to find anything around this topic.</p>\n<p>Below Code snippet where we initialize and write to our elasticsearch -\nThis custom template we created is to read from pubsub and write to ES.</p>\n<p>/*\n* Step #1: Read from a PubSub subscription.\n*/</p>\n<p>PCollection messages = null;</p>\n<pre><code>if (options.getUseSubscription()) {\n\n  messages =\n\n          pipeline.apply(\n\n                  &quot;ReadPubSubSubscription&quot;,\n\n                  PubsubIO.readMessagesWithAttributes()\n                          .fromSubscription(options.getInputSubscription()));\n\n}\n</code></pre>\n<p>/*\n* Step #2: Transform the PubsubMessages into Json documents.\n*/</p>\n<p>PCollectionTuple convertedPubsubMessages = messages.apply(</p>\n<pre><code>      &quot;ConvertMessageToJsonDocument&quot;,new PubSubMessageToJsonDocument(options));\n</code></pre>\n<p>/*</p>\n<ul>\n<li>Step #3a: Write Json documents into Elasticsearch using {@link ElasticsearchTransforms.WriteToElasticsearch}.\n*/</li>\n</ul>\n<p>convertedPubsubMessages</p>\n<pre><code>      .get(TRANSFORM_OUT)\n\n      .apply(\n              &quot;GetJsonDocuments&quot;,\n              MapElements.into(TypeDescriptors.strings()).via(FailsafeElement::getPayload)\n</code></pre>\n<p>)\n.apply(</p>\n<pre><code>              &quot;WriteToElasticsearch&quot;,\n\n              ElasticsearchTransforms.WriteToElasticsearch.newBuilder()\n                      .setOptions(options.as(WriteToElasticsearchOptions.class))\n\n                      .build());\n</code></pre>\n"},{"tags":["java","arrays","string","integer"],"answers":[{"tags":[],"owner":{"account_id":7878270,"reputation":152,"user_id":5953318,"display_name":"giklo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655659945,"creation_date":1655658338,"answer_id":72678815,"question_id":72678713,"body_markdown":"First of all, do never compare `String` using double equal signs `==`. Rather use `a.equals(b)`.\r\n\r\nSecondly you can use `a.contains(b)` to check if a String contains another String.\r\n\r\nYou can then use the length of the currency + 1 as start for the substring to get the amount of money:\r\n\r\n```\r\npackage com.arrays.problem6;\r\n\r\npublic class Currency {\r\n    public static void main(String[] args){\r\n            }\r\n\r\n    public static int getTotalAmount(String[] money,String currency){\r\n        int result=0;\r\n        for(String item: money){\r\n            if(item.contains(currency)){ // condition\r\n                result += Integer.parseInt(item.substring(currency.length() + 1)); // add to the counter\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nIf you&#39;re forced to use a comparison to solve the exercise, you can also use `a.equals(b)` instead of `a.contains(b)`:\r\n\r\n```\r\npackage com.arrays.problem6;\r\n\r\npublic class Currency {\r\n    public static void main(String[] args){\r\n            }\r\n\r\n    public static int getTotalAmount(String[] money,String currency){\r\n        int result=0;\r\n        for(String item: money){\r\n            if(currency.equals(item.substring(0, currency.length()))){ // condition\r\n                result += Integer.parseInt(item.substring(currency.length() + 1)); // add to the counter\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n**EDIT** Note that I changed the signature of your static method from `String` to `int` since you&#39;re counting numbers and probably want to return the numbers, not the String.\r\n\r\nIf you have to use `continue` and `break` you could negate the condition for example, so you would check if the item **does not** contain the currency. Then you would use `continue` to skip to the next item.","title":"Modeling Wallet Logic in Java","body":"<p>First of all, do never compare <code>String</code> using double equal signs <code>==</code>. Rather use <code>a.equals(b)</code>.</p>\n<p>Secondly you can use <code>a.contains(b)</code> to check if a String contains another String.</p>\n<p>You can then use the length of the currency + 1 as start for the substring to get the amount of money:</p>\n<pre><code>package com.arrays.problem6;\n\npublic class Currency {\n    public static void main(String[] args){\n            }\n\n    public static int getTotalAmount(String[] money,String currency){\n        int result=0;\n        for(String item: money){\n            if(item.contains(currency)){ // condition\n                result += Integer.parseInt(item.substring(currency.length() + 1)); // add to the counter\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p>If you're forced to use a comparison to solve the exercise, you can also use <code>a.equals(b)</code> instead of <code>a.contains(b)</code>:</p>\n<pre><code>package com.arrays.problem6;\n\npublic class Currency {\n    public static void main(String[] args){\n            }\n\n    public static int getTotalAmount(String[] money,String currency){\n        int result=0;\n        for(String item: money){\n            if(currency.equals(item.substring(0, currency.length()))){ // condition\n                result += Integer.parseInt(item.substring(currency.length() + 1)); // add to the counter\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p><strong>EDIT</strong> Note that I changed the signature of your static method from <code>String</code> to <code>int</code> since you're counting numbers and probably want to return the numbers, not the String.</p>\n<p>If you have to use <code>continue</code> and <code>break</code> you could negate the condition for example, so you would check if the item <strong>does not</strong> contain the currency. Then you would use <code>continue</code> to skip to the next item.</p>\n"},{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655659057,"creation_date":1655659057,"answer_id":72678897,"question_id":72678713,"body_markdown":"Here is a more complete example.\r\n\r\n```java\r\n\r\npublic class Wallet {\r\n\r\n    enum Currency {\r\n        USD, EUR, RUB;\r\n\r\n        public String getName() {\r\n            return this.name().toLowerCase();\r\n        }\r\n\r\n    }\r\n\r\n    private static final String[] WALLET_1 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;usd 10&quot;, &quot;rub 50&quot;, &quot;usd 5&quot;};\r\n    private static final String[] WALLET_2 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;eur 5&quot;, &quot;rub 100&quot;, &quot;eur 20&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\r\n    private static final String[] WALLET_3 = {&quot;eur 10&quot;, &quot;rub 50&quot;, &quot;eur 5&quot;, &quot;rub 10&quot;, &quot;rub 10&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\r\n\r\n    public static void main(String... args) {\r\n        var amounts = new Integer[] {\r\n            getTotalAmount(WALLET_1, Currency.USD),\r\n            getTotalAmount(WALLET_2, Currency.EUR),\r\n            getTotalAmount(WALLET_3, Currency.RUB)\r\n        };\r\n        for(var i = 0; i &lt; amounts.length; i++){\r\n            System.out.println(&quot;Wallet &quot; + (i + 1) + &quot; amount is: &quot; + amounts[i]);\r\n        }\r\n    }\r\n\r\n    private static Integer getTotalAmount(String[] wallet, Currency currency) {\r\n        int amount = 0;\r\n        for (var note : wallet) {\r\n            var noteDetails = note.split(&quot; &quot;);\r\n            if (!currency.getName().equals(noteDetails[0])) {\r\n                continue;\r\n            }\r\n            amount = amount + Integer.parseInt(noteDetails[1]);\r\n        }\r\n        return amount;\r\n    }\r\n\r\n}\r\n```\r\nSo let&#39;s breakdown the changes:\r\n\r\n 1. Instead of using strings for the currency comparison I am using an `Enum` which models the currency -- in our case EUR, USD and RUB.\r\n 2. Instead of substringing which uses magic numbers to make assumptions about the start and end index I am using `split` which will return an array containing two strings one for the currency and one for the amount in string form. Note, that I do understand that this is a requirement of your task so maybe you need to change this.\r\n 3. Since your task calls for using `continue` and `break`, this is how the iteration is handled here. So in case, this check fails `!currency.getName().equals(noteDetails[0])` we simply using `continue` to jump to the next iteration. Also, note that string equality should always be checked using the ``equals`` and **NEVER EVER** with `==` as the last one will perform an object equality check and not a content equality.\r\n4. In case the currency is the one we expect we add to the total amount which is returned once the loop finishes.\r\n","title":"Modeling Wallet Logic in Java","body":"<p>Here is a more complete example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Wallet {\n\n    enum Currency {\n        USD, EUR, RUB;\n\n        public String getName() {\n            return this.name().toLowerCase();\n        }\n\n    }\n\n    private static final String[] WALLET_1 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;usd 10&quot;, &quot;rub 50&quot;, &quot;usd 5&quot;};\n    private static final String[] WALLET_2 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;eur 5&quot;, &quot;rub 100&quot;, &quot;eur 20&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\n    private static final String[] WALLET_3 = {&quot;eur 10&quot;, &quot;rub 50&quot;, &quot;eur 5&quot;, &quot;rub 10&quot;, &quot;rub 10&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\n\n    public static void main(String... args) {\n        var amounts = new Integer[] {\n            getTotalAmount(WALLET_1, Currency.USD),\n            getTotalAmount(WALLET_2, Currency.EUR),\n            getTotalAmount(WALLET_3, Currency.RUB)\n        };\n        for(var i = 0; i &lt; amounts.length; i++){\n            System.out.println(&quot;Wallet &quot; + (i + 1) + &quot; amount is: &quot; + amounts[i]);\n        }\n    }\n\n    private static Integer getTotalAmount(String[] wallet, Currency currency) {\n        int amount = 0;\n        for (var note : wallet) {\n            var noteDetails = note.split(&quot; &quot;);\n            if (!currency.getName().equals(noteDetails[0])) {\n                continue;\n            }\n            amount = amount + Integer.parseInt(noteDetails[1]);\n        }\n        return amount;\n    }\n\n}\n</code></pre>\n<p>So let's breakdown the changes:</p>\n<ol>\n<li>Instead of using strings for the currency comparison I am using an <code>Enum</code> which models the currency -- in our case EUR, USD and RUB.</li>\n<li>Instead of substringing which uses magic numbers to make assumptions about the start and end index I am using <code>split</code> which will return an array containing two strings one for the currency and one for the amount in string form. Note, that I do understand that this is a requirement of your task so maybe you need to change this.</li>\n<li>Since your task calls for using <code>continue</code> and <code>break</code>, this is how the iteration is handled here. So in case, this check fails <code>!currency.getName().equals(noteDetails[0])</code> we simply using <code>continue</code> to jump to the next iteration. Also, note that string equality should always be checked using the <code>equals</code> and <strong>NEVER EVER</strong> with <code>==</code> as the last one will perform an object equality check and not a content equality.</li>\n<li>In case the currency is the one we expect we add to the total amount which is returned once the loop finishes.</li>\n</ol>\n"}],"owner":{"account_id":21559696,"reputation":29,"user_id":15894406,"display_name":"Pete Alexandrovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72678815,"answer_count":2,"score":0,"last_activity_date":1655659945,"creation_date":1655657454,"question_id":72678713,"body_markdown":"I have a question about the task: i need to implement a public static method **getTotalAmount()**, which takes as input a wallet with money in the form of an array of strings and the name of the currency. The method must return the amount of money in the specified currency\r\n\r\n**Method parameters:**\r\n\r\n**An array of strings** containing banknotes of different currencies with different denominations and the **name of the currency** (a string of 3 characters).\r\n\r\nI need to implement this method using control instructions such as **&quot;break&quot;** and **&quot;continue&quot;**.\r\n\r\n**How the program should work:**\r\n\r\n```\r\nString[] money1 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;usd 10&quot;, &quot;rub 50&quot;, &quot;usd 5&quot;};\r\n\r\nApp.getTotalAmount(money1, &quot;usd&quot;); // 16\r\n\r\nString[] money2 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;eur 5&quot;, &quot;rub 100&quot;, &quot;eur 20&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\r\n\r\nApp.getTotalAmount(money2, &quot;eur&quot;); // 135\r\n\r\nString[] money3 = {&quot;eur 10&quot;, &quot;rub 50&quot;, &quot;eur 5&quot;, &quot;rub 10&quot;, &quot;rub 10&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\r\n\r\nApp.getTotalAmount(money3, &quot;rub&quot;); // 270\r\n```\r\n\r\n**Notice to the task:**\r\n\r\n1.To convert a string to an integer, use the **parseInt()** method of the **Integer** class.\r\n\r\n2.To extract a substring from a string, use the **substring()** method.\r\n\r\n```\r\nvar text = &quot;some text&quot;;\r\ntext.substring(1, 6); // &quot;ome t&quot;\r\ntext.substring(7); // &quot;xt&quot;\r\n```\r\n\r\n**My code looks like this:**\r\n\r\n```\r\npackage com.arrays.problem6;\r\n\r\npublic class Currency {\r\n    public static void main(String[] args){\r\n            }\r\n\r\n    public static String getTotalAmount(String[] money,String currency){\r\n        int result=0;\r\n        for(String item: money){\r\n            if(currency==item.substring(0,3)){\r\n                // condition: if the specified rate is equal to the array element that is sliced ​​from 0 - 3 index, then\r\n\r\n                // add to the counter what is left until the end of the element, converting the string into a number through parseInt()\r\n            }\r\n            result=Integer.parseInt(item.substring(4, item.length()));\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nI am completely confused in the implementation of the logic of the getTotalAmount() method. Please help me to implement it.\r\n\r\n","title":"Modeling Wallet Logic in Java","body":"<p>I have a question about the task: i need to implement a public static method <strong>getTotalAmount()</strong>, which takes as input a wallet with money in the form of an array of strings and the name of the currency. The method must return the amount of money in the specified currency</p>\n<p><strong>Method parameters:</strong></p>\n<p><strong>An array of strings</strong> containing banknotes of different currencies with different denominations and the <strong>name of the currency</strong> (a string of 3 characters).</p>\n<p>I need to implement this method using control instructions such as <strong>&quot;break&quot;</strong> and <strong>&quot;continue&quot;</strong>.</p>\n<p><strong>How the program should work:</strong></p>\n<pre><code>String[] money1 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;usd 10&quot;, &quot;rub 50&quot;, &quot;usd 5&quot;};\n\nApp.getTotalAmount(money1, &quot;usd&quot;); // 16\n\nString[] money2 = {&quot;eur 10&quot;, &quot;usd 1&quot;, &quot;eur 5&quot;, &quot;rub 100&quot;, &quot;eur 20&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\n\nApp.getTotalAmount(money2, &quot;eur&quot;); // 135\n\nString[] money3 = {&quot;eur 10&quot;, &quot;rub 50&quot;, &quot;eur 5&quot;, &quot;rub 10&quot;, &quot;rub 10&quot;, &quot;eur 100&quot;, &quot;rub 200&quot;};\n\nApp.getTotalAmount(money3, &quot;rub&quot;); // 270\n</code></pre>\n<p><strong>Notice to the task:</strong></p>\n<p>1.To convert a string to an integer, use the <strong>parseInt()</strong> method of the <strong>Integer</strong> class.</p>\n<p>2.To extract a substring from a string, use the <strong>substring()</strong> method.</p>\n<pre><code>var text = &quot;some text&quot;;\ntext.substring(1, 6); // &quot;ome t&quot;\ntext.substring(7); // &quot;xt&quot;\n</code></pre>\n<p><strong>My code looks like this:</strong></p>\n<pre><code>package com.arrays.problem6;\n\npublic class Currency {\n    public static void main(String[] args){\n            }\n\n    public static String getTotalAmount(String[] money,String currency){\n        int result=0;\n        for(String item: money){\n            if(currency==item.substring(0,3)){\n                // condition: if the specified rate is equal to the array element that is sliced ​​from 0 - 3 index, then\n\n                // add to the counter what is left until the end of the element, converting the string into a number through parseInt()\n            }\n            result=Integer.parseInt(item.substring(4, item.length()));\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p>I am completely confused in the implementation of the logic of the getTotalAmount() method. Please help me to implement it.</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":10276056,"reputation":293,"user_id":7582941,"display_name":"roflcopter1101"},"score":0,"creation_date":1655650529,"post_id":72677788,"comment_id":128377270,"body_markdown":"Any indication of what you&#39;ve tried that didn&#39;t work would be extremely helpful","body":"Any indication of what you&#39;ve tried that didn&#39;t work would be extremely helpful"},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1655650549,"post_id":72677788,"comment_id":128377274,"body_markdown":"Method `createUserWithEmailAndPassword` takes an email not a username.","body":"Method <code>createUserWithEmailAndPassword</code> takes an email not a username."},{"owner":{"account_id":25593206,"reputation":1,"user_id":19369553,"display_name":"Hamza Butt"},"score":0,"creation_date":1655651889,"post_id":72677788,"comment_id":128377570,"body_markdown":"I want the user to login using his username instead of email, what can I do for that ?","body":"I want the user to login using his username instead of email, what can I do for that ?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1655709138,"post_id":72677788,"comment_id":128386921,"body_markdown":"If you consider at some point in time implementing Firebase sign-in with Google, then I recommend you check this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336). If you understand Kotlin, you can check [this](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) out.","body":"If you consider at some point in time implementing Firebase sign-in with Google, then I recommend you check this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a>. If you understand Kotlin, you can check <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">this</a> out."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655659033,"creation_date":1655651181,"answer_id":72677976,"question_id":72677788,"body_markdown":"You&#39;re not validating the address against `Patterns.EMAIL_ADDRESS`, which equals no validation.\r\n\r\n    if (TextUtils.isEmpty(email)) {\r\n        memail.setError(&quot;Email is required&quot;);\r\n        return;\r\n    }\r\n\r\n    if (! Patterns.EMAIL_ADDRESS.matcher(email).matches()) {\r\n        memail.setError(&quot;Email is invalid&quot;);\r\n        return;\r\n    }\r\nAnd it&#39;s not being passed either: `fauth.createUserWithEmailAndPassword(email, pass)`.","title":"I&#39;m getting the error: &#39;The email address is badly formatted&#39;","body":"<p>You're not validating the address against <code>Patterns.EMAIL_ADDRESS</code>, which equals no validation.</p>\n<pre><code>if (TextUtils.isEmpty(email)) {\n    memail.setError(&quot;Email is required&quot;);\n    return;\n}\n\nif (! Patterns.EMAIL_ADDRESS.matcher(email).matches()) {\n    memail.setError(&quot;Email is invalid&quot;);\n    return;\n}\n</code></pre>\n<p>And it's not being passed either: <code>fauth.createUserWithEmailAndPassword(email, pass)</code>.</p>\n"}],"owner":{"account_id":25593206,"reputation":1,"user_id":19369553,"display_name":"Hamza Butt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1655654351,"answer_count":1,"score":-1,"last_activity_date":1655659033,"creation_date":1655649802,"question_id":72677788,"body_markdown":" Here&#39;s my code in which I&#39;m using Firebase to register a user\r\nand using username instead of email for login/register.\r\n\r\n I searched a lot but wasn&#39;t able to find a solution for it.\r\nAny help regarding this method will be appreciated.\r\n\r\n \r\n     reg.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        {\r\n                            String username=userName.getText().toString().trim();  //getting username\r\n                            String email=memail.getText().toString().trim();\r\n                            String pass=password.getText().toString().trim();\r\n                            String cpass=confirmPass.getText().toString().trim();\r\n        \r\n                            if( TextUtils.isEmpty(email)){\r\n                                memail.setError(&quot;Email is required&quot;);\r\n                                return;\r\n                            }\r\n                            if(TextUtils.isEmpty(username)){\r\n                                userName.setError(&quot;Username is required&quot;);\r\n                                return;\r\n                            }\r\n                            if(TextUtils.isEmpty(pass)){\r\n                               password.setError(&quot;Password is required&quot;);\r\n                                return;\r\n                            }\r\n                            if(pass.length()&lt;6){\r\n                                password.setError(&quot;Password length should be greater than 6&quot;);\r\n                                return;\r\n                            }\r\n                            if(TextUtils.isEmpty(cpass)){\r\n                                confirmPass.setError(&quot;Password is required&quot;);\r\n                                return;\r\n                            }\r\n                            if(TextUtils.equals(pass,cpass)==false){\r\n                                confirmPass.setError(&quot;Passwords do not match&quot;);\r\n                                return;\r\n                            }\r\n                            progBar.setVisibility(View.VISIBLE);\r\n        \r\n                            fauth.createUserWithEmailAndPassword(username,pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                    if(task.isSuccessful()){\r\n                                        Toast.makeText(Signup.this,&quot;Registeration Successfull&quot;,Toast.LENGTH_SHORT).show();\r\n                                        startActivity(new Intent(getApplicationContext(),MainActivity.class));\r\n                                    }\r\n                                    else{\r\n                                        Toast.makeText(Signup.this,&quot;Error !&quot;+ task.getException().getMessage(),Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            });\r\n        \r\n                        }\r\n                    }\r\n                });`\r\n\r\n","title":"I&#39;m getting the error: &#39;The email address is badly formatted&#39;","body":"<p>Here's my code in which I'm using Firebase to register a user\nand using username instead of email for login/register.</p>\n<p>I searched a lot but wasn't able to find a solution for it.\nAny help regarding this method will be appreciated.</p>\n<pre><code> reg.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    {\n                        String username=userName.getText().toString().trim();  //getting username\n                        String email=memail.getText().toString().trim();\n                        String pass=password.getText().toString().trim();\n                        String cpass=confirmPass.getText().toString().trim();\n    \n                        if( TextUtils.isEmpty(email)){\n                            memail.setError(&quot;Email is required&quot;);\n                            return;\n                        }\n                        if(TextUtils.isEmpty(username)){\n                            userName.setError(&quot;Username is required&quot;);\n                            return;\n                        }\n                        if(TextUtils.isEmpty(pass)){\n                           password.setError(&quot;Password is required&quot;);\n                            return;\n                        }\n                        if(pass.length()&lt;6){\n                            password.setError(&quot;Password length should be greater than 6&quot;);\n                            return;\n                        }\n                        if(TextUtils.isEmpty(cpass)){\n                            confirmPass.setError(&quot;Password is required&quot;);\n                            return;\n                        }\n                        if(TextUtils.equals(pass,cpass)==false){\n                            confirmPass.setError(&quot;Passwords do not match&quot;);\n                            return;\n                        }\n                        progBar.setVisibility(View.VISIBLE);\n    \n                        fauth.createUserWithEmailAndPassword(username,pass).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                if(task.isSuccessful()){\n                                    Toast.makeText(Signup.this,&quot;Registeration Successfull&quot;,Toast.LENGTH_SHORT).show();\n                                    startActivity(new Intent(getApplicationContext(),MainActivity.class));\n                                }\n                                else{\n                                    Toast.makeText(Signup.this,&quot;Error !&quot;+ task.getException().getMessage(),Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n    \n                    }\n                }\n            });`\n</code></pre>\n"},{"tags":["java","polar-coordinates"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1655645535,"post_id":72677229,"comment_id":128376233,"body_markdown":"You know what would be helpful, the code you have to generate the images. A better description of the transform would help too. If it is a purely geometric transform, wouldn&#39;t there be an original pixel at x,y and then it would be placed in the new image at newX, newY?","body":"You know what would be helpful, the code you have to generate the images. A better description of the transform would help too. If it is a purely geometric transform, wouldn&#39;t there be an original pixel at x,y and then it would be placed in the new image at newX, newY?"},{"owner":{"account_id":25102944,"reputation":3,"user_id":18953444,"display_name":"Afonso Mendes"},"score":0,"creation_date":1655646253,"post_id":72677229,"comment_id":128376321,"body_markdown":"If you mean the input images, I&#39;m not generating them, I just use the one I shared because I have the corresponding expected output to compare my results to.\nI&#39;ve edited my post to include the description of the transform. Indeed I read it as a pixel remapping but I&#39;m unable to get it to work...","body":"If you mean the input images, I&#39;m not generating them, I just use the one I shared because I have the corresponding expected output to compare my results to. I&#39;ve edited my post to include the description of the transform. Indeed I read it as a pixel remapping but I&#39;m unable to get it to work..."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1655646366,"post_id":72677229,"comment_id":128376341,"body_markdown":"No, I meant the actual code to generate the iamge. Eg. Load an image from a file, do your incorrect transform and save the image to a file. That way we could actually provide a complete compilable example.","body":"No, I meant the actual code to generate the iamge. Eg. Load an image from a file, do your incorrect transform and save the image to a file. That way we could actually provide a complete compilable example."},{"owner":{"account_id":25102944,"reputation":3,"user_id":18953444,"display_name":"Afonso Mendes"},"score":0,"creation_date":1655646900,"post_id":72677229,"comment_id":128376448,"body_markdown":"I&#39;m not doing that, I just have the image open in ImageJ and use the Macro language to run the code on it. I&#39;ll compile when I have it working though","body":"I&#39;m not doing that, I just have the image open in ImageJ and use the Macro language to run the code on it. I&#39;ll compile when I have it working though"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655650587,"creation_date":1655646298,"answer_id":72677362,"question_id":72677229,"body_markdown":"One issue with this transform is that each &quot;pixel&quot; in the transformed space takes up a different amount of space in the x,y space. So here is how I am defining the transform.\r\n\r\n- Our new image will have the same dimensions \r\n- The Y axis will be 0 to Max Rho\r\n- The X axis will be -PI to +PI\r\n\r\nSo we start by iterating over the i,j coordinates of the output image. The resulting rho and theta are as follows.\r\n\r\n    double rho = j*maxRho / height;\r\n    double theta = i*maxTheta / width + offset;\r\n\r\nNow we need to grab the input pixels at the respective location.\r\n\r\n    int x = (int) ( Math.exp(rho)*Math.cos(theta) + width/2);\r\n    int y = (int) ( Math.exp(rho)*Math.sin(theta) + height/2);\r\n\r\nNow we can get the pixel value.\r\n\r\n    int pixel = input[y*width + x];\r\n\r\n*Your input variable is a bit redundante since you could just use your `getPixel(x, y)`*\r\n\r\nThen we just set the corresponding output value.\r\n\r\n    output[j*width + i] = pixel;\r\n\r\nHere is a compilable example.\r\n\r\n```\r\nimport javax.imageio.ImageIO;\r\nimport java.net.URL;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\npublic class ScannerJunk{\r\n  \r\n  public static void main(String[] args) throws Exception{\r\n        BufferedImage img = ImageIO.read( new URL(&quot;https://i.stack.imgur.com/MvDQT.png&quot;) );\r\n        \r\n        BufferedImage out = new BufferedImage( img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB );\r\n        \r\n        double w = img.getWidth();\r\n        double h = img.getHeight();\r\n        \r\n        double maxRho = 0.5*Math.log( w*w/4.0 + h*h/4.0 );\r\n        \r\n        double maxTheta = 2 * Math.PI;\r\n        double offset = - Math.PI;\r\n        for(int i = 0; i&lt; w; i++){\r\n            for(int j = 0; j&lt; h; j++){\r\n                double rho = j*maxRho / h;\r\n                double theta = i*maxTheta / w + offset;\r\n                int x = (int) ( Math.exp(rho)*Math.cos(theta) + w/2);\r\n                int y = (int) ( Math.exp(rho)*Math.sin(theta) + h/2);\r\n                \r\n                try{\r\n                    out.setRGB( i, j, img.getRGB( x, y ) );\r\n                } catch(Exception e){\r\n                    System.out.println( i + &quot;, &quot; + j + &quot; :: &quot; + rho + &quot;, &quot; + theta + &quot; :: &quot; + x + &quot;, &quot; + y );\r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        ImageIO.write(out, &quot;PNG&quot;, new File(&quot;transformed.png&quot;) );\r\n  }\r\n}\r\n```\r\n\r\nNote that the max radius, does not map to the input image for all of the possible angles.\r\n\r\nAlso, the radius and theta axis appeat to be transposed from your example image.","title":"Log-polar transform","body":"<p>One issue with this transform is that each &quot;pixel&quot; in the transformed space takes up a different amount of space in the x,y space. So here is how I am defining the transform.</p>\n<ul>\n<li>Our new image will have the same dimensions</li>\n<li>The Y axis will be 0 to Max Rho</li>\n<li>The X axis will be -PI to +PI</li>\n</ul>\n<p>So we start by iterating over the i,j coordinates of the output image. The resulting rho and theta are as follows.</p>\n<pre><code>double rho = j*maxRho / height;\ndouble theta = i*maxTheta / width + offset;\n</code></pre>\n<p>Now we need to grab the input pixels at the respective location.</p>\n<pre><code>int x = (int) ( Math.exp(rho)*Math.cos(theta) + width/2);\nint y = (int) ( Math.exp(rho)*Math.sin(theta) + height/2);\n</code></pre>\n<p>Now we can get the pixel value.</p>\n<pre><code>int pixel = input[y*width + x];\n</code></pre>\n<p><em>Your input variable is a bit redundante since you could just use your <code>getPixel(x, y)</code></em></p>\n<p>Then we just set the corresponding output value.</p>\n<pre><code>output[j*width + i] = pixel;\n</code></pre>\n<p>Here is a compilable example.</p>\n<pre><code>import javax.imageio.ImageIO;\nimport java.net.URL;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\npublic class ScannerJunk{\n  \n  public static void main(String[] args) throws Exception{\n        BufferedImage img = ImageIO.read( new URL(&quot;https://i.stack.imgur.com/MvDQT.png&quot;) );\n        \n        BufferedImage out = new BufferedImage( img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB );\n        \n        double w = img.getWidth();\n        double h = img.getHeight();\n        \n        double maxRho = 0.5*Math.log( w*w/4.0 + h*h/4.0 );\n        \n        double maxTheta = 2 * Math.PI;\n        double offset = - Math.PI;\n        for(int i = 0; i&lt; w; i++){\n            for(int j = 0; j&lt; h; j++){\n                double rho = j*maxRho / h;\n                double theta = i*maxTheta / w + offset;\n                int x = (int) ( Math.exp(rho)*Math.cos(theta) + w/2);\n                int y = (int) ( Math.exp(rho)*Math.sin(theta) + h/2);\n                \n                try{\n                    out.setRGB( i, j, img.getRGB( x, y ) );\n                } catch(Exception e){\n                    System.out.println( i + &quot;, &quot; + j + &quot; :: &quot; + rho + &quot;, &quot; + theta + &quot; :: &quot; + x + &quot;, &quot; + y );\n                }\n            }\n        }\n        \n        \n        ImageIO.write(out, &quot;PNG&quot;, new File(&quot;transformed.png&quot;) );\n  }\n}\n</code></pre>\n<p>Note that the max radius, does not map to the input image for all of the possible angles.</p>\n<p>Also, the radius and theta axis appeat to be transposed from your example image.</p>\n"}],"owner":{"account_id":25102944,"reputation":3,"user_id":18953444,"display_name":"Afonso Mendes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72677362,"answer_count":1,"score":0,"last_activity_date":1655658589,"creation_date":1655644899,"question_id":72677229,"body_markdown":"I&#39;m trying to perform a Log-polar transform on an image for the purpose of image registration. In other words I&#39;m trying to achieve this:\r\n\r\n![Input image][1] ------&gt; ![output image (nevermind the red lines)][2]\r\n\r\nI need to code this from scratch in Java because I&#39;ll be doing this on the GPU side with OpenCL Java bindings and can&#39;t use libraries. There are multiple threads on this but none that could really help me, mostly because they&#39;re all using in-built MATLAB functions that I cannot replicate.\r\n\r\nI&#39;ve been trying the Polar Transform instead of the Log-Polar Transform for the sake of getting this to work because most info online refers to the first. So far, the best result I&#39;ve had is with this bit here (pseudocode), based on [this thread][3]:\r\n\r\n    w = input.width; // Width of the input image\r\n    h = input.height; // Height of the input image\r\n    \r\n    // Copy input pixels into an array\r\n    for(y=0; y&lt;h; y++){\r\n        for(x=0; x&lt;w; x++){\r\n            input[y*w+x] = getPixel(x, y);\r\n        }\r\n    }\r\n    \r\n    // Polar transform\r\n    maxRadius = sqrt(w*w + h*h);\r\n    radiusScale = w / maxRadius;\r\n    angleScale = h / (2 * PI);\r\n    \r\n    for(y=0; y&lt;h; y++){\r\n        dy = y - h/2; // Distance from the center in the y-axis\r\n        for(x=0; x&lt;w; x++){\r\n            dx = x - w/2; // Distance from the center in the x-axis\r\n            angle = atan2(dy, dx) % (2*PI);\r\n            radius = sqrt(dx*dx + dy*dy);\r\n            newY = radius * radiusScale;\r\n            newX = radius * thetaScale;\r\n            output[y*w+x] = input[newY*w+newX];\r\n        }\r\n    }  \r\n\r\nWhat I get resembles some sort of polar transformation, despite not being the result that I&#39;m looking for:\r\n[output image][4]\r\n\r\nCan someone give me any pointers on this? \r\n\r\nThanks\r\n\r\nEDIT:\r\nThe log-polar transform goes like ![this][5].\r\n\r\nEDIT:\r\nImplementing @matt suggestions I now have the following code:\r\n   \r\n\r\n        w = input.width; // Width of the input image\r\n        h = input.height; // Height of the input image\r\n        maxRadius = sqrt(w*w/4 + h*h/4);\r\n        radiusScale = h / maxRadius;\r\n        angleScale = w /PI/2;\r\n        offset = PI;\r\n        \r\n        for(y=0; y&lt;h; y++){\r\n        \tdy = y - h/2; // Distance from center in the y-axis\r\n        \tfor(x=0; x&lt;w; x++){\r\n        \t\tdx = x - w/2; // Distance from the center in the x-axis\r\n        \t\tangle = atan2(dy, dx);\r\n        \t\tradius = sqrt(dx*dx + dy*dy);\r\n        \t\t\r\n        \t\tnewY = radius * radiusScale;\r\n        \t\tnewX = (angle + offset) * angleScale;\r\n        \t\t\r\n        \t\toutput[newY*w+newX] = input.getPixel(x, y);\t\r\n        \t}\r\n        }\r\n\r\nPlotting the new output gives me [this][6], which is still not what I expect to get.\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MvDQT.png\r\n  [2]: https://i.stack.imgur.com/8suP8.png\r\n  [3]: https://stackoverflow.com/questions/27080577/converting-cartesian-image-to-polar-appearance-differences\r\n  [4]: https://i.stack.imgur.com/PCuHl.png\r\n  [5]: https://i.stack.imgur.com/FEhTi.png\r\n  [6]: https://i.stack.imgur.com/c3rs2.png","title":"Log-polar transform","body":"<p>I'm trying to perform a Log-polar transform on an image for the purpose of image registration. In other words I'm trying to achieve this:</p>\n<p><img src=\"https://i.stack.imgur.com/MvDQT.png\" alt=\"Input image\" /> ------&gt; <img src=\"https://i.stack.imgur.com/8suP8.png\" alt=\"output image (nevermind the red lines)\" /></p>\n<p>I need to code this from scratch in Java because I'll be doing this on the GPU side with OpenCL Java bindings and can't use libraries. There are multiple threads on this but none that could really help me, mostly because they're all using in-built MATLAB functions that I cannot replicate.</p>\n<p>I've been trying the Polar Transform instead of the Log-Polar Transform for the sake of getting this to work because most info online refers to the first. So far, the best result I've had is with this bit here (pseudocode), based on <a href=\"https://stackoverflow.com/questions/27080577/converting-cartesian-image-to-polar-appearance-differences\">this thread</a>:</p>\n<pre><code>w = input.width; // Width of the input image\nh = input.height; // Height of the input image\n\n// Copy input pixels into an array\nfor(y=0; y&lt;h; y++){\n    for(x=0; x&lt;w; x++){\n        input[y*w+x] = getPixel(x, y);\n    }\n}\n\n// Polar transform\nmaxRadius = sqrt(w*w + h*h);\nradiusScale = w / maxRadius;\nangleScale = h / (2 * PI);\n\nfor(y=0; y&lt;h; y++){\n    dy = y - h/2; // Distance from the center in the y-axis\n    for(x=0; x&lt;w; x++){\n        dx = x - w/2; // Distance from the center in the x-axis\n        angle = atan2(dy, dx) % (2*PI);\n        radius = sqrt(dx*dx + dy*dy);\n        newY = radius * radiusScale;\n        newX = radius * thetaScale;\n        output[y*w+x] = input[newY*w+newX];\n    }\n}  \n</code></pre>\n<p>What I get resembles some sort of polar transformation, despite not being the result that I'm looking for:\n<a href=\"https://i.stack.imgur.com/PCuHl.png\" rel=\"nofollow noreferrer\">output image</a></p>\n<p>Can someone give me any pointers on this?</p>\n<p>Thanks</p>\n<p>EDIT:\nThe log-polar transform goes like <img src=\"https://i.stack.imgur.com/FEhTi.png\" alt=\"this\" />.</p>\n<p>EDIT:\nImplementing @matt suggestions I now have the following code:</p>\n<pre><code>    w = input.width; // Width of the input image\n    h = input.height; // Height of the input image\n    maxRadius = sqrt(w*w/4 + h*h/4);\n    radiusScale = h / maxRadius;\n    angleScale = w /PI/2;\n    offset = PI;\n    \n    for(y=0; y&lt;h; y++){\n        dy = y - h/2; // Distance from center in the y-axis\n        for(x=0; x&lt;w; x++){\n            dx = x - w/2; // Distance from the center in the x-axis\n            angle = atan2(dy, dx);\n            radius = sqrt(dx*dx + dy*dy);\n            \n            newY = radius * radiusScale;\n            newX = (angle + offset) * angleScale;\n            \n            output[newY*w+newX] = input.getPixel(x, y); \n        }\n    }\n</code></pre>\n<p>Plotting the new output gives me <a href=\"https://i.stack.imgur.com/c3rs2.png\" rel=\"nofollow noreferrer\">this</a>, which is still not what I expect to get.</p>\n"},{"tags":["java","css","javafx"],"answers":[{"tags":[],"owner":{"account_id":25398978,"reputation":26,"user_id":19208805,"display_name":"LucaFar0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653588293,"creation_date":1653588293,"answer_id":72396196,"question_id":72391876,"body_markdown":"Have you tryed using scene builder with fxml? That way you can drag the elements and set the margins between them.","title":"How to remove extra space after separator in toolbar in JavaFX?","body":"<p>Have you tryed using scene builder with fxml? That way you can drag the elements and set the margins between them.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653643523,"creation_date":1653600144,"answer_id":72398152,"question_id":72391876,"body_markdown":"I checked in [ScenicView][1] and the line in the separator is rendered as a region with padding of 3px in each direction, so it makes the separator 6 pixels wide.  \r\n\r\nBut the way it is rendered places the actual separator line in the left of the region.  \r\n\r\nYou can adjust the line rendering by adjusting the the CSS rules for the line (you can find them in `modena.css` in a jar file in your JavaFX distribution).  But modifying the CSS rules for the separator is confusing and I don&#39;t recommend it.\r\n\r\nInstead set a margin on the node to move it to the location you want (normally I wouldn&#39;t recommend such a hack, but in this case it is appropriate IMO).\r\n\r\nBecause ToolBar is internally represented as a HBox, you can use the HBox methods to set the margin on nodes in the ToolBar.\r\n\r\nTo add additional space to the left, so the line is centered in its display do this:\r\n\r\n    HBox.setMargin(sep, new Insets(0, 0, 0, 2.5));\r\n\r\nOR, to remove space from the right, so the line is centered in its display do this:\r\n\r\n    HBox.setMargin(sep, new Insets(0, -2.5, 0, 0));\r\n   \r\n\r\nThe margin values I provided are just examples.  Adjust the values as per your requirements.\r\n\r\n**Example Code**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ToolBarApp extends Application {\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            HBox root = new HBox();\r\n            ToolBar toolbar = new ToolBar();\r\n    \r\n            Separator sep = new Separator();\r\n            toolbar.getItems().addAll(\r\n                    new TextField(),\r\n                    sep,\r\n                    new Button(&quot;foo&quot;),\r\n                    new Button(&quot;bar&quot;)\r\n            );\r\n            HBox.setMargin(sep, new Insets(0, -2.5, 0, 0));\r\n    \r\n            root.getChildren().addAll(\r\n                    toolbar\r\n            );\r\n    \r\n            Scene scene = new Scene(root, 400, 400);\r\n    \r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/JonathanGiles/scenic-view\r\n  [2]: https://i.stack.imgur.com/M8efY.png","title":"How to remove extra space after separator in toolbar in JavaFX?","body":"<p>I checked in <a href=\"https://github.com/JonathanGiles/scenic-view\" rel=\"nofollow noreferrer\">ScenicView</a> and the line in the separator is rendered as a region with padding of 3px in each direction, so it makes the separator 6 pixels wide.</p>\n<p>But the way it is rendered places the actual separator line in the left of the region.</p>\n<p>You can adjust the line rendering by adjusting the the CSS rules for the line (you can find them in <code>modena.css</code> in a jar file in your JavaFX distribution).  But modifying the CSS rules for the separator is confusing and I don't recommend it.</p>\n<p>Instead set a margin on the node to move it to the location you want (normally I wouldn't recommend such a hack, but in this case it is appropriate IMO).</p>\n<p>Because ToolBar is internally represented as a HBox, you can use the HBox methods to set the margin on nodes in the ToolBar.</p>\n<p>To add additional space to the left, so the line is centered in its display do this:</p>\n<pre><code>HBox.setMargin(sep, new Insets(0, 0, 0, 2.5));\n</code></pre>\n<p>OR, to remove space from the right, so the line is centered in its display do this:</p>\n<pre><code>HBox.setMargin(sep, new Insets(0, -2.5, 0, 0));\n</code></pre>\n<p>The margin values I provided are just examples.  Adjust the values as per your requirements.</p>\n<p><strong>Example Code</strong></p>\n<p><a href=\"https://i.stack.imgur.com/M8efY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M8efY.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class ToolBarApp extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        HBox root = new HBox();\n        ToolBar toolbar = new ToolBar();\n\n        Separator sep = new Separator();\n        toolbar.getItems().addAll(\n                new TextField(),\n                sep,\n                new Button(&quot;foo&quot;),\n                new Button(&quot;bar&quot;)\n        );\n        HBox.setMargin(sep, new Insets(0, -2.5, 0, 0));\n\n        root.getChildren().addAll(\n                toolbar\n        );\n\n        Scene scene = new Scene(root, 400, 400);\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655658300,"creation_date":1655658300,"answer_id":72678804,"question_id":72391876,"body_markdown":"I found out how to do it using CSS. This is the solution:\r\n\r\n    .tool-bar &gt; .container &gt; .separator *.line { \r\n        -fx-border-width: 1px;\r\n    }","title":"How to remove extra space after separator in toolbar in JavaFX?","body":"<p>I found out how to do it using CSS. This is the solution:</p>\n<pre><code>.tool-bar &gt; .container &gt; .separator *.line { \n    -fx-border-width: 1px;\n}\n</code></pre>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72678804,"answer_count":3,"score":2,"last_activity_date":1655658300,"creation_date":1653568397,"question_id":72391876,"body_markdown":"This is my code:\r\n\r\n    public class NewMain1 extends Application {\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            HBox root = new HBox();\r\n            ToolBar toolbar = new ToolBar();\r\n            toolbar.getItems().addAll(new TextField(), new Separator(), new Button(&quot;foo&quot;), new Button(&quot;bar&quot;));\r\n    \r\n            root.getChildren().addAll(toolbar);\r\n            primaryStage.setScene(new Scene(root, 400, 400));\r\n            primaryStage.show();\r\n        }\r\n    }\r\n\r\nAnd this is the result:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs you can see the  distance between a text field and a separator (left margin) is less then the distance between the separator and a button (right margin). \r\n\r\nCould anyone say how to decrease right margin that right margin to be equal to the left margin using CSS? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NHRcT.png\r\n  [2]: https://i.stack.imgur.com/fUIzz.png","title":"How to remove extra space after separator in toolbar in JavaFX?","body":"<p>This is my code:</p>\n<pre><code>public class NewMain1 extends Application {\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        HBox root = new HBox();\n        ToolBar toolbar = new ToolBar();\n        toolbar.getItems().addAll(new TextField(), new Separator(), new Button(&quot;foo&quot;), new Button(&quot;bar&quot;));\n\n        root.getChildren().addAll(toolbar);\n        primaryStage.setScene(new Scene(root, 400, 400));\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>And this is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/fUIzz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fUIzz.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the  distance between a text field and a separator (left margin) is less then the distance between the separator and a button (right margin).</p>\n<p>Could anyone say how to decrease right margin that right margin to be equal to the left margin using CSS?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655657391,"creation_date":1655655672,"answer_id":72678538,"question_id":72678469,"body_markdown":"You need to call `finishAffinity()` in your SignUpActivity before you navigate to PlayActivity. This will remove the first `Activity` (and any below it) from the stack.","title":"How to exit the activity in android in this case?","body":"<p>You need to call <code>finishAffinity()</code> in your SignUpActivity before you navigate to PlayActivity. This will remove the first <code>Activity</code> (and any below it) from the stack.</p>\n"}],"owner":{"account_id":23975741,"reputation":25,"user_id":17963868,"display_name":"YakovMashin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72678538,"answer_count":1,"score":1,"last_activity_date":1655657391,"creation_date":1655655166,"question_id":72678469,"body_markdown":"I&#39;m creating a quiz app with SQL and Firebase. First screens are SignUp/in activities, and after user is signed he is redirected to a splash screen which automatically navigates to PlayActivity. In play activity I wanted to handle the onBackPressedMethod, so that the user will close the game with the following code:\r\n\r\n@Override\r\npublic void onBackPressed() {\r\n\r\n        if (backPressedTime + 2000 &gt; System.currentTimeMillis()) {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Do you  want to exit?&quot;)\r\n                    .setNegativeButton(&quot;No&quot;, null)\r\n                    .setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\r\n\r\n                        setResult(RESULT_OK, new Intent().putExtra(&quot;Exit&quot;, true));\r\n                        System.exit(0);\r\n                    }).create().show();\r\n\r\n        }else  {\r\n\r\n            Toast.makeText(this, &quot;Press Again to Exit&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        backPressedTime = System.currentTimeMillis();\r\n    }\r\n\r\nThe problem is, that after pressing the Yes button in the alert dialog, user is redirected to a previous SignUp activity, instead of exiting the game? \r\nHow can I fix this?","title":"How to exit the activity in android in this case?","body":"<p>I'm creating a quiz app with SQL and Firebase. First screens are SignUp/in activities, and after user is signed he is redirected to a splash screen which automatically navigates to PlayActivity. In play activity I wanted to handle the onBackPressedMethod, so that the user will close the game with the following code:</p>\n<p>@Override\npublic void onBackPressed() {</p>\n<pre><code>    if (backPressedTime + 2000 &gt; System.currentTimeMillis()) {\n        new AlertDialog.Builder(this)\n                .setTitle(&quot;Do you  want to exit?&quot;)\n                .setNegativeButton(&quot;No&quot;, null)\n                .setPositiveButton(&quot;Yes&quot;, (dialog, which) -&gt; {\n\n                    setResult(RESULT_OK, new Intent().putExtra(&quot;Exit&quot;, true));\n                    System.exit(0);\n                }).create().show();\n\n    }else  {\n\n        Toast.makeText(this, &quot;Press Again to Exit&quot;, Toast.LENGTH_SHORT).show();\n    }\n    backPressedTime = System.currentTimeMillis();\n}\n</code></pre>\n<p>The problem is, that after pressing the Yes button in the alert dialog, user is redirected to a previous SignUp activity, instead of exiting the game?\nHow can I fix this?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"display_name":"user2956272"},"score":3,"creation_date":1553097815,"post_id":55265192,"comment_id":97261811,"body_markdown":"Please read the documentation you referenced.","body":"Please read the documentation you referenced."},{"owner":{"display_name":"user2956272"},"score":0,"creation_date":1553097969,"post_id":55265192,"comment_id":97261908,"body_markdown":"The entire second paragraph.","body":"The entire second paragraph."},{"owner":{"account_id":11510830,"reputation":1702,"user_id":8435726,"accept_rate":94,"display_name":"jxie0755"},"score":0,"creation_date":1553098079,"post_id":55265192,"comment_id":97261996,"body_markdown":"I actually find it confusing.....and still don&#39;t understand...","body":"I actually find it confusing.....and still don&#39;t understand..."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1553098136,"post_id":55265192,"comment_id":97262031,"body_markdown":"Possible duplicate of [Understanding Enums in Java](https://stackoverflow.com/questions/1419835/understanding-enums-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1419835/understanding-enums-in-java\">Understanding Enums in Java</a>"},{"owner":{"display_name":"user2956272"},"score":0,"creation_date":1553098332,"post_id":55265192,"comment_id":97262162,"body_markdown":"In a nutshell it says that you can do what you did. As I understand, The method you use is compiler-generated.","body":"In a nutshell it says that you can do what you did. As I understand, The method you use is compiler-generated."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1553098335,"post_id":55265192,"comment_id":97262165,"body_markdown":"the two arguments method is declared in the `Enum` class, but there are also  implicitly declared methods `values` and `valueOf`: [8.9.3. Enum Members](https://docs.oracle.com/javase/specs/jls/se12/html/jls-8.html#jls-8.9.3). You could also have called  `Enum.valueOf(WorkDays.class, &quot;MONDAY&quot;)`","body":"the two arguments method is declared in the <code>Enum</code> class, but there are also  implicitly declared methods <code>values</code> and <code>valueOf</code>: <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-8.html#jls-8.9.3\" rel=\"nofollow noreferrer\">8.9.3. Enum Members</a>. You could also have called  <code>Enum.valueOf(WorkDays.class, &quot;MONDAY&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553098135,"creation_date":1553098135,"answer_id":55265342,"question_id":55265192,"body_markdown":"The snippet you shared uses the implicitly declared method referenced in the second paragraph:\r\n\r\n&gt; Note that for a particular enum type `T`, the implicitly declared `public static T valueOf(String)` method on that enum may be used instead of this method to map from a name to the corresponding enum constant.\r\n\r\nThe first paragraph refers to calling the method via the `Enum` class:\r\n\r\n    System.out.println(Enum.valueOf(WorkDays.class, &quot;MONDAY&quot;));\r\n\r\n","title":"java Enum valueOf has two parameters?","body":"<p>The snippet you shared uses the implicitly declared method referenced in the second paragraph:</p>\n\n<blockquote>\n  <p>Note that for a particular enum type <code>T</code>, the implicitly declared <code>public static T valueOf(String)</code> method on that enum may be used instead of this method to map from a name to the corresponding enum constant.</p>\n</blockquote>\n\n<p>The first paragraph refers to calling the method via the <code>Enum</code> class:</p>\n\n<pre><code>System.out.println(Enum.valueOf(WorkDays.class, \"MONDAY\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1553098994,"creation_date":1553098994,"answer_id":55265620,"question_id":55265192,"body_markdown":"You can just examine the bytecode to see what happens when an `enum` is compiled:\r\n\r\n    public enum TestEnum {A, B}\r\n\r\nAnd the bytecode of `valueOf`:\r\n\r\n    // access flags 0x9\r\n    public static valueOf(Ljava/lang/String;)LTestEnum;\r\n     L0\r\n      LINENUMBER 1 L0\r\n      LDC LTestEnum;.class\r\n      ALOAD 0\r\n      INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\r\n      CHECKCAST TestEnum\r\n      ARETURN\r\n     L1\r\n      LOCALVARIABLE name Ljava/lang/String; L0 L1 0\r\n      MAXSTACK = 2\r\n      MAXLOCALS = 1\r\n\r\nI am no expert in byte code but you can see that the line:\r\n\r\n    INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\r\n\r\nIn fact invokes `java.lang.Enum.valueOf`. A java equivalent would look like this:\r\n\r\n    public static TestEnum myValueOf(String name) {\r\n        return Enum.valueOf(TestEnum.class, name);\r\n    }\r\n\r\nAnd the bytecode confirms this:\r\n\r\n    // access flags 0x9\r\n    public static myValueOf(Ljava/lang/String;)LTestEnum;\r\n     L0\r\n      LINENUMBER 6 L0\r\n      LDC LTestEnum;.class\r\n      ALOAD 0\r\n      INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\r\n      CHECKCAST TestEnum\r\n      ARETURN\r\n     L1\r\n      LOCALVARIABLE name Ljava/lang/String; L0 L1 0\r\n      MAXSTACK = 2\r\n      MAXLOCALS = 1\r\n\r\nComparing these two snippets you can see the difference is... yes, the name (and the line number):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6H66J.png","title":"java Enum valueOf has two parameters?","body":"<p>You can just examine the bytecode to see what happens when an <code>enum</code> is compiled:</p>\n\n<pre><code>public enum TestEnum {A, B}\n</code></pre>\n\n<p>And the bytecode of <code>valueOf</code>:</p>\n\n<pre><code>// access flags 0x9\npublic static valueOf(Ljava/lang/String;)LTestEnum;\n L0\n  LINENUMBER 1 L0\n  LDC LTestEnum;.class\n  ALOAD 0\n  INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\n  CHECKCAST TestEnum\n  ARETURN\n L1\n  LOCALVARIABLE name Ljava/lang/String; L0 L1 0\n  MAXSTACK = 2\n  MAXLOCALS = 1\n</code></pre>\n\n<p>I am no expert in byte code but you can see that the line:</p>\n\n<pre><code>INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\n</code></pre>\n\n<p>In fact invokes <code>java.lang.Enum.valueOf</code>. A java equivalent would look like this:</p>\n\n<pre><code>public static TestEnum myValueOf(String name) {\n    return Enum.valueOf(TestEnum.class, name);\n}\n</code></pre>\n\n<p>And the bytecode confirms this:</p>\n\n<pre><code>// access flags 0x9\npublic static myValueOf(Ljava/lang/String;)LTestEnum;\n L0\n  LINENUMBER 6 L0\n  LDC LTestEnum;.class\n  ALOAD 0\n  INVOKESTATIC java/lang/Enum.valueOf (Ljava/lang/Class;Ljava/lang/String;)Ljava/lang/Enum;\n  CHECKCAST TestEnum\n  ARETURN\n L1\n  LOCALVARIABLE name Ljava/lang/String; L0 L1 0\n  MAXSTACK = 2\n  MAXLOCALS = 1\n</code></pre>\n\n<p>Comparing these two snippets you can see the difference is... yes, the name (and the line number):</p>\n\n<p><a href=\"https://i.stack.imgur.com/6H66J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6H66J.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9437851,"reputation":157,"user_id":7019324,"display_name":"Stijn Dejongh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1655656646,"creation_date":1553099104,"answer_id":55265645,"question_id":55265192,"body_markdown":"As you indicated in previous comments that you find the text in the documentation confusing, and since your profile indicates you are a novice programmer:\r\n\r\nEnum is the superclass of all enums you will declare.\r\nIn your example, WorkDays can be seen as a specific case of the Enum class.\r\nThe valueOf() static method documentation is writen for this parent Enum class.\r\nMeaning that in your case, it would be called as:\r\n`Enum.valueOf(WorkDays.class, &quot;MONDAY&quot;)`.\r\n\r\nNow, since you made your own Enum (i.e. WorkDays), you don&#39;t need to use this static parent method. You can just use the method that is exposed by your self-created enum.\r\n\r\n    WorkDays.valueOf(&quot;Monday&quot;)\r\n\r\nThis is &quot;implicitly declared&quot; meaning that it will be there for every one of your self-created enums.","title":"java Enum valueOf has two parameters?","body":"<p>As you indicated in previous comments that you find the text in the documentation confusing, and since your profile indicates you are a novice programmer:</p>\n<p>Enum is the superclass of all enums you will declare.\nIn your example, WorkDays can be seen as a specific case of the Enum class.\nThe valueOf() static method documentation is writen for this parent Enum class.\nMeaning that in your case, it would be called as:\n<code>Enum.valueOf(WorkDays.class, &quot;MONDAY&quot;)</code>.</p>\n<p>Now, since you made your own Enum (i.e. WorkDays), you don't need to use this static parent method. You can just use the method that is exposed by your self-created enum.</p>\n<pre><code>WorkDays.valueOf(&quot;Monday&quot;)\n</code></pre>\n<p>This is &quot;implicitly declared&quot; meaning that it will be there for every one of your self-created enums.</p>\n"}],"owner":{"account_id":11510830,"reputation":1702,"user_id":8435726,"accept_rate":94,"display_name":"jxie0755"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4469,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":55265620,"answer_count":3,"score":8,"last_activity_date":1655656646,"creation_date":1553097698,"question_id":55265192,"body_markdown":"Why does `valueOf` have two parameters?\n\nin [Java documentation for valueOf][1] \n\n&gt; `public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf​(Class&lt;T&gt; enumType, String name)`\n&gt;\n&gt; Parameters:\n&gt;\n&gt; enumType - the Class object of the enum type from which to return a constant\n&gt;\n&gt; name - the name of the constant to return\n\n\n\nBut most examples I read online says:\n\n    enum WorkDays {\n        MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY;\n    }\n\nTest:\n\n    WorkDays day1 = WorkDays.valueOf(&quot;MONDAY&quot;);\n    System.out.println(day1); // &gt;&gt;&gt;  MONDAY\n\nIt seems that the method used only one parameter?\n\n\n\n\n\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)","title":"java Enum valueOf has two parameters?","body":"<p>Why does <code>valueOf</code> have two parameters?</p>\n<p>in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"noreferrer\">Java documentation for valueOf</a></p>\n<blockquote>\n<p><code>public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf​(Class&lt;T&gt; enumType, String name)</code></p>\n<p>Parameters:</p>\n<p>enumType - the Class object of the enum type from which to return a constant</p>\n<p>name - the name of the constant to return</p>\n</blockquote>\n<p>But most examples I read online says:</p>\n<pre><code>enum WorkDays {\n    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY;\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>WorkDays day1 = WorkDays.valueOf(&quot;MONDAY&quot;);\nSystem.out.println(day1); // &gt;&gt;&gt;  MONDAY\n</code></pre>\n<p>It seems that the method used only one parameter?</p>\n"},{"tags":["java","android","animation","out-of-memory"],"comments":[{"owner":{"account_id":2440750,"reputation":764,"user_id":2129362,"accept_rate":67,"display_name":"Ramki Anba"},"score":0,"creation_date":1402551661,"post_id":24177116,"comment_id":37318807,"body_markdown":"add `android:largeHeap=&quot;true&quot;` AndroidManifeast. it helps you","body":"add <code>android:largeHeap=&quot;true&quot;</code> AndroidManifeast. it helps you"}],"answers":[{"tags":[],"owner":{"account_id":1897508,"reputation":356,"user_id":1714119,"display_name":"sidhanshu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402555922,"creation_date":1402555922,"answer_id":24178149,"question_id":24177116,"body_markdown":"This will work like charm,\r\n\r\nMake sure you put your images in the asset folder.\r\n\r\n    public class AnimationActivily extends Activity {\r\n\r\n\tprivate Bitmap log_imgs[];\r\n\tprivate Bitmap tempBitmap;\r\n\tprivate Handler uiHandler;\r\n\tprivate ImageView logo_view;\r\n\tint img_cnt = 1;\r\n\tprotected int _splashTime = 91;\r\n\tThread splashTread;\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\r\n\t\tthis.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n\t\t\t\tWindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n\t\tsetContentView(R.layout.activity_animation_activily);\r\n\t\tlogo_view = (ImageView) findViewById(R.id.logo_view);\r\n\t\tlog_imgs = new Bitmap[91];\r\n\t\tfor (int i = 1; i &lt;= 90; i++) {\r\n\t\t\tget_Images_Assest(i, &quot;logo_pngs&quot;);\r\n\t\t}\r\n\t\tlogo_view.setImageBitmap(log_imgs[70]);\r\n\t\tuiHandler = new Handler();\r\n\t\t// thread for displaying the SplashScreen\r\n\t\tsplashTread = new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\twhile (img_cnt &lt; _splashTime) {\r\n\t\t\t\t\t\tsleep(30);\r\n\t\t\t\t\t\tif (img_cnt &lt;= 90)\r\n\t\t\t\t\t\t\tupdate_view(img_cnt);\r\n\t\t\t\t\t\timg_cnt++;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t} finally {\r\n\r\n\t\t\t\t\tIntent i = new Intent(AnimationActivily.this,\r\n\t\t\t\t\t\t\tMainActivity.class);\r\n\t\t\t\t\ti.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\r\n\t\t\t\t\tstartActivity(i);\r\n\t\t\t\t\tAnimationActivily.this.finish();\r\n\t\t\t\t\t// overridePendingTransition(R.anim.slide_in,\r\n\t\t\t\t\t// R.anim.slide_out);\r\n\t\t\t\t\t// *** Put this in another\r\n\t\t\t\t\t// Activity***//overridePendingTransition(R.anim.slide_in,\r\n\t\t\t\t\t// R.anim.slide_out);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tsplashTread.start();\r\n\r\n\t}\r\n\r\n\tpublic Bitmap tempImg;\r\n\r\n\tprivate void get_Images_Assest(int cnt, String folder_name) {\r\n\t\ttry {\r\n\r\n\t\t\tInputStream is = getAssets().open(\r\n\t\t\t\t\tfolder_name + &quot;/&quot; + &quot;logo&quot; + cnt + &quot;.png&quot;);\r\n\t\t\tif (tempImg != null) {\r\n\t\t\t\ttempImg = null;\r\n\t\t\t}\r\n\t\t\ttempImg = BitmapFactory.decodeStream(is);\r\n\t\t\t// tempBitmap = Bitmap.createScaledBitmap(tempImg,\r\n\t\t\t// tempImg.getWidth() * 2, tempImg.getHeight() * 2, true);\r\n\t\t\tlog_imgs[cnt] = tempImg;\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void update_view(final int cnt) {\r\n\t\tuiHandler.post(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlogo_view.setImageBitmap(log_imgs[cnt]);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tpublic void onBackPressed() {\r\n\t}\r\n\r\n\tpublic void onDestroy() {\r\n\t\tsuper.onDestroy();\r\n\r\n\t\tfor (int i = 1; i &lt;= 90; i++) {\r\n\t\t\tlog_imgs[i].recycle();\r\n\t\t}\r\n\t\tlog_imgs = null;\r\n\t\tsplashTread = null;\r\n\t}\r\n    }","title":"Animation causing out of memory exception","body":"<p>This will work like charm,</p>\n\n<p>Make sure you put your images in the asset folder.</p>\n\n<pre><code>public class AnimationActivily extends Activity {\n\nprivate Bitmap log_imgs[];\nprivate Bitmap tempBitmap;\nprivate Handler uiHandler;\nprivate ImageView logo_view;\nint img_cnt = 1;\nprotected int _splashTime = 91;\nThread splashTread;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    setContentView(R.layout.activity_animation_activily);\n    logo_view = (ImageView) findViewById(R.id.logo_view);\n    log_imgs = new Bitmap[91];\n    for (int i = 1; i &lt;= 90; i++) {\n        get_Images_Assest(i, \"logo_pngs\");\n    }\n    logo_view.setImageBitmap(log_imgs[70]);\n    uiHandler = new Handler();\n    // thread for displaying the SplashScreen\n    splashTread = new Thread() {\n        @Override\n        public void run() {\n            try {\n                while (img_cnt &lt; _splashTime) {\n                    sleep(30);\n                    if (img_cnt &lt;= 90)\n                        update_view(img_cnt);\n                    img_cnt++;\n\n                }\n            } catch (InterruptedException e) {\n                // do nothing\n            } finally {\n\n                Intent i = new Intent(AnimationActivily.this,\n                        MainActivity.class);\n                i.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);\n                startActivity(i);\n                AnimationActivily.this.finish();\n                // overridePendingTransition(R.anim.slide_in,\n                // R.anim.slide_out);\n                // *** Put this in another\n                // Activity***//overridePendingTransition(R.anim.slide_in,\n                // R.anim.slide_out);\n            }\n        }\n    };\n    splashTread.start();\n\n}\n\npublic Bitmap tempImg;\n\nprivate void get_Images_Assest(int cnt, String folder_name) {\n    try {\n\n        InputStream is = getAssets().open(\n                folder_name + \"/\" + \"logo\" + cnt + \".png\");\n        if (tempImg != null) {\n            tempImg = null;\n        }\n        tempImg = BitmapFactory.decodeStream(is);\n        // tempBitmap = Bitmap.createScaledBitmap(tempImg,\n        // tempImg.getWidth() * 2, tempImg.getHeight() * 2, true);\n        log_imgs[cnt] = tempImg;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void update_view(final int cnt) {\n    uiHandler.post(new Runnable() {\n        public void run() {\n            try {\n                logo_view.setImageBitmap(log_imgs[cnt]);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n}\n\npublic void onBackPressed() {\n}\n\npublic void onDestroy() {\n    super.onDestroy();\n\n    for (int i = 1; i &lt;= 90; i++) {\n        log_imgs[i].recycle();\n    }\n    log_imgs = null;\n    splashTread = null;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1466281,"reputation":1083,"user_id":1379001,"display_name":"Horyun Lee"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1405865222,"creation_date":1405865222,"answer_id":24851267,"question_id":24177116,"body_markdown":"I had the same problem, so I created a class to avoid from OutOfMemoryError. Android loads all the drawables at once, so animation with many frames causes this error.\r\n\r\nFasterAnimationsContainer\r\n============================\r\nFasterAnimationsContainer will help you to avoid from OutOfMemoryError. This class loads &amp; sets and releases an image on background thread.\r\n\r\nhere&#39;s [link](https://github.com/tigerjj/FasterAnimationsContainer)\r\n\r\nEasy to implement\r\n-------------------\r\n\r\n\r\n    public class ExampleActivity extends Activity {\r\n\r\n\tFasterAnimationsContainer mFasterAnimationsContainer;\r\n\tprivate static final int[] IMAGE_RESOURCES = { R.drawable.anim_1,\r\n\t\t\tR.drawable.anim_2, R.drawable.anim_3, R.drawable.anim_4,\r\n\t\t\tR.drawable.anim_5, R.drawable.anim_6, R.drawable.anim_7,\r\n\t\t\tR.drawable.anim_8 };\r\n\t\r\n\tprivate static final int ANIMATION_INTERVAL = 500;// 200ms\r\n\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_example);\r\n\t\tImageView imageView = (ImageView) findViewById(R.id.imageview);\r\n\t\tmFasterAnimationsContainer = FasterAnimationsContainer\r\n\t\t\t\t.getInstance(imageView);\r\n\t\tmFasterAnimationsContainer.addAllFrames(IMAGE_RESOURCES,\r\n\t\t\t\tANIMATION_INTERVAL);\r\n\t\tmFasterAnimationsContainer.start();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void onDestroy() {\r\n\t\tsuper.onDestroy();\r\n\t\tmFasterAnimationsContainer.stop();\r\n\t}\r\n    }","title":"Animation causing out of memory exception","body":"<p>I had the same problem, so I created a class to avoid from OutOfMemoryError. Android loads all the drawables at once, so animation with many frames causes this error.</p>\n\n<h1>FasterAnimationsContainer</h1>\n\n<p>FasterAnimationsContainer will help you to avoid from OutOfMemoryError. This class loads &amp; sets and releases an image on background thread.</p>\n\n<p>here's <a href=\"https://github.com/tigerjj/FasterAnimationsContainer\" rel=\"nofollow\">link</a></p>\n\n<h2>Easy to implement</h2>\n\n<pre><code>public class ExampleActivity extends Activity {\n\nFasterAnimationsContainer mFasterAnimationsContainer;\nprivate static final int[] IMAGE_RESOURCES = { R.drawable.anim_1,\n        R.drawable.anim_2, R.drawable.anim_3, R.drawable.anim_4,\n        R.drawable.anim_5, R.drawable.anim_6, R.drawable.anim_7,\n        R.drawable.anim_8 };\n\nprivate static final int ANIMATION_INTERVAL = 500;// 200ms\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_example);\n    ImageView imageView = (ImageView) findViewById(R.id.imageview);\n    mFasterAnimationsContainer = FasterAnimationsContainer\n            .getInstance(imageView);\n    mFasterAnimationsContainer.addAllFrames(IMAGE_RESOURCES,\n            ANIMATION_INTERVAL);\n    mFasterAnimationsContainer.start();\n}\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    mFasterAnimationsContainer.stop();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8551826,"reputation":11,"user_id":6408530,"display_name":"madscs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500279206,"creation_date":1500031282,"answer_id":45101741,"question_id":24177116,"body_markdown":"I had a similar problem with my background animation on devices with low memory.\r\nThe way I managed to fix it was by instantiating the animation programmatically instead of through the xml animation-list. I no longer run into out of memory issues with this view.\r\n\r\n        AnimationDrawable animationDrawable = new AnimationDrawable();\r\n        animationDrawable.setOneShot(false); // True = only once, False = continuous\r\n\r\n        int[] resources = {R.drawable.ticket_background_animation_1, R.drawable.ticket_background_animation_2, R.drawable.ticket_background_animation_3};\r\n\r\n        int duration = 30;\r\n\r\n        for (int resource : resources) {\r\n            animationDrawable.addFrame(ContextCompat.getDrawable(context, resource), duration);\r\n        }\r\n\r\n        relativeLayout.setBackground(animationDrawable);\r\n        animationDrawable.start();\r\n\r\nIt&#39;s of course also very important to remember to stop the animation again in **onDestroy()**!\r\n\r\n        ((AnimationDrawable) relativeLayout.getBackground()).stop();\r\n        // Sets background to null to make sure the animation is garbage collected\r\n        relativeLayout.setBackground(null);","title":"Animation causing out of memory exception","body":"<p>I had a similar problem with my background animation on devices with low memory.\nThe way I managed to fix it was by instantiating the animation programmatically instead of through the xml animation-list. I no longer run into out of memory issues with this view.</p>\n\n<pre><code>    AnimationDrawable animationDrawable = new AnimationDrawable();\n    animationDrawable.setOneShot(false); // True = only once, False = continuous\n\n    int[] resources = {R.drawable.ticket_background_animation_1, R.drawable.ticket_background_animation_2, R.drawable.ticket_background_animation_3};\n\n    int duration = 30;\n\n    for (int resource : resources) {\n        animationDrawable.addFrame(ContextCompat.getDrawable(context, resource), duration);\n    }\n\n    relativeLayout.setBackground(animationDrawable);\n    animationDrawable.start();\n</code></pre>\n\n<p>It's of course also very important to remember to stop the animation again in <strong>onDestroy()</strong>!</p>\n\n<pre><code>    ((AnimationDrawable) relativeLayout.getBackground()).stop();\n    // Sets background to null to make sure the animation is garbage collected\n    relativeLayout.setBackground(null);\n</code></pre>\n"}],"owner":{"account_id":3881901,"reputation":227,"user_id":3214173,"accept_rate":33,"display_name":"user3214173"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3128,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1655656507,"creation_date":1402551322,"question_id":24177116,"body_markdown":"My application provides an `outofmemory` exception when an animation starts to play. What can I do?\r\nThe images in animation combined have a size of 512kb, that&#39;s 10 images.\r\n\r\nMy activity class is `button_anime`.\r\n\r\n     public class Button_Anime extends Activity{\r\n\r\n\tprivate static int SPLASH_TIME_OUT = 500;\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_splash_about);\r\n\t\tImageView loading =(ImageView) findViewById(R.id.iVArcRail_2);\r\n        loading.setBackgroundResource(R.drawable.about_button_anime);\r\n        AnimationDrawable load =(AnimationDrawable)loading.getBackground();\r\n        load.start();\r\n        new Handler().postDelayed(new Runnable() {\r\n   \t\t           \r\n            @Override\r\n            public void run() {\r\n            \t   Intent i = new Intent(Button_Anime.this, Home.class); \r\n                startActivity(i);\r\n                finish();\r\n            }\r\n        }, SPLASH_TIME_OUT);\r\n\t  }\r\n     }\r\n\r\nMy `activity_splash_about.xml`\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/withoutlogo&quot; &gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;70dp&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/logoline&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/iVArcRail_2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_below=&quot;@+id/imageView1&quot;/&gt;\r\n     &lt;/RelativeLayout&gt;\r\n\r\nThis is the animation file. `about_button_anime`\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n      &lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n      android:oneshot=&quot;false&quot; &gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab1&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab2&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab3&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab4&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab5&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab6&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab7&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab8&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab9&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      &lt;item\r\n          android:drawable=&quot;@drawable/ab10&quot;\r\n          android:duration=&quot;50&quot;/&gt;\r\n      \r\n      &lt;/animation-list&gt;\r\n\r\nAnd this is my log cat.\r\n\r\n     FATAL EXCEPTION: main\r\n     Process: com.quinoid.thomasinternational, PID: 1514\r\n     java.lang.OutOfMemoryError\r\n     at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\r\n     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:587)\r\n     at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:422)\r\n     at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:840)\r\n     at android.content.res.Resources.loadDrawable(Resources.java:2110)\r\n     at android.content.res.Resources.getDrawable(Resources.java:700)\r\n     at android.graphics.drawable.AnimationDrawable.inflate(AnimationDrawable.java:282)\r\n     at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:937)\r\n     at android.graphics.drawable.Drawable.createFromXml(Drawable.java:877)\r\n     at android.content.res.Resources.loadDrawable(Resources.java:2092)\r\n     at android.content.res.Resources.getDrawable(Resources.java:700)\r\n     at android.view.View.setBackgroundResource(View.java:15303)\r\n     at com.quinoid.thomasinternational.Button_Anime.onCreate(Button_Anime.java:19)\r\n     at android.app.Activity.performCreate(Activity.java:5231)\r\n     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\r\n     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\r\n     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\r\n     at android.app.ActivityThread.access$800(ActivityThread.java:135)\r\n     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\r\n     at android.os.Handler.dispatchMessage(Handler.java:102)\r\n     at android.os.Looper.loop(Looper.java:136)\r\n     at android.app.ActivityThread.main(ActivityThread.java:5017)\r\n     at java.lang.reflect.Method.invokeNative(Native Method)\r\n     at java.lang.reflect.Method.invoke(Method.java:515)\r\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\r\n     at dalvik.system.NativeStart.main(Native Method)\r\n\r\nHow can I get this animation running?\r\n \r\nI have already provided `largeHeap=&quot;true&quot;`.","title":"Animation causing out of memory exception","body":"<p>My application provides an <code>outofmemory</code> exception when an animation starts to play. What can I do?\nThe images in animation combined have a size of 512kb, that's 10 images.</p>\n<p>My activity class is <code>button_anime</code>.</p>\n<pre><code> public class Button_Anime extends Activity{\n\nprivate static int SPLASH_TIME_OUT = 500;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_splash_about);\n    ImageView loading =(ImageView) findViewById(R.id.iVArcRail_2);\n    loading.setBackgroundResource(R.drawable.about_button_anime);\n    AnimationDrawable load =(AnimationDrawable)loading.getBackground();\n    load.start();\n    new Handler().postDelayed(new Runnable() {\n               \n        @Override\n        public void run() {\n               Intent i = new Intent(Button_Anime.this, Home.class); \n            startActivity(i);\n            finish();\n        }\n    }, SPLASH_TIME_OUT);\n  }\n }\n</code></pre>\n<p>My <code>activity_splash_about.xml</code></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@drawable/withoutlogo&quot; &gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/imageView1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;70dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:background=&quot;@drawable/logoline&quot; /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/iVArcRail_2&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_below=&quot;@+id/imageView1&quot;/&gt;\n &lt;/RelativeLayout&gt;\n</code></pre>\n<p>This is the animation file. <code>about_button_anime</code></p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n  &lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \n  android:oneshot=&quot;false&quot; &gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab1&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab2&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab3&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab4&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab5&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab6&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab7&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab8&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab9&quot;\n      android:duration=&quot;50&quot;/&gt;\n  &lt;item\n      android:drawable=&quot;@drawable/ab10&quot;\n      android:duration=&quot;50&quot;/&gt;\n  \n  &lt;/animation-list&gt;\n</code></pre>\n<p>And this is my log cat.</p>\n<pre><code> FATAL EXCEPTION: main\n Process: com.quinoid.thomasinternational, PID: 1514\n java.lang.OutOfMemoryError\n at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)\n at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:587)\n at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:422)\n at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:840)\n at android.content.res.Resources.loadDrawable(Resources.java:2110)\n at android.content.res.Resources.getDrawable(Resources.java:700)\n at android.graphics.drawable.AnimationDrawable.inflate(AnimationDrawable.java:282)\n at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:937)\n at android.graphics.drawable.Drawable.createFromXml(Drawable.java:877)\n at android.content.res.Resources.loadDrawable(Resources.java:2092)\n at android.content.res.Resources.getDrawable(Resources.java:700)\n at android.view.View.setBackgroundResource(View.java:15303)\n at com.quinoid.thomasinternational.Button_Anime.onCreate(Button_Anime.java:19)\n at android.app.Activity.performCreate(Activity.java:5231)\n at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\n at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\n at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n at android.app.ActivityThread.access$800(ActivityThread.java:135)\n at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n at android.os.Handler.dispatchMessage(Handler.java:102)\n at android.os.Looper.loop(Looper.java:136)\n at android.app.ActivityThread.main(ActivityThread.java:5017)\n at java.lang.reflect.Method.invokeNative(Native Method)\n at java.lang.reflect.Method.invoke(Method.java:515)\n at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\n at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\n at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n<p>How can I get this animation running?</p>\n<p>I have already provided <code>largeHeap=&quot;true&quot;</code>.</p>\n"},{"tags":["java","xml","spring","validation","soap"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655220022,"post_id":72615683,"comment_id":128278053,"body_markdown":"Can you provide an example of a base64 value which does not pass validation?","body":"Can you provide an example of a base64 value which does not pass validation?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655656446,"creation_date":1655656446,"answer_id":72678613,"question_id":72615683,"body_markdown":"The error message means what it says. Your content is not valid according to the XSD definition of Base64.\r\n\r\nTo get rid of the error message you either need to change the data or to change the schema. ","title":"Change behavior of base64binary type tag validation","body":"<p>The error message means what it says. Your content is not valid according to the XSD definition of Base64.</p>\n<p>To get rid of the error message you either need to change the data or to change the schema.</p>\n"}],"owner":{"account_id":18475910,"reputation":101,"user_id":13459462,"display_name":"szczyzanski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655656446,"creation_date":1655203809,"question_id":72615683,"body_markdown":"I have problem with validating XML that has tag with base=&quot;xsd:base64Binary&quot;. When I&#39;m sending request with padded bas64, everything works, but with unpadded base64 I keep getting:\r\n&gt; &#39;x&#39; is notvalid value for &#39;base64Binary&#39;.\r\n\r\nI debugged it myself and found out that validation is made by `handleRequest(MessageContext messageContext, Object endpoint)` method in `AbstractValidatingInterceptor` of `org.springframework.ws.server.endpoint.interceptor` package. `validator` is `Jaxp15ValidatorFactory$Jaxp15Validator` of `org.springframework.xml.validation` package, which calls `Validator` of `javax.xml.validation` package.\r\n\r\nWhat is the best approach to change this behavior? For now I don&#39;t want to change wsdl and I want to keep all other validations in place. Important note: SAXExceptions are handled in my code and all of the validation errors are managed, so my problem is not that the request is failing. My problem is that this validation error is being delivered to my own validation handler. For my purposes the best solution will be to make it disappear before.","title":"Change behavior of base64binary type tag validation","body":"<p>I have problem with validating XML that has tag with base=&quot;xsd:base64Binary&quot;. When I'm sending request with padded bas64, everything works, but with unpadded base64 I keep getting:</p>\n<blockquote>\n<p>'x' is notvalid value for 'base64Binary'.</p>\n</blockquote>\n<p>I debugged it myself and found out that validation is made by <code>handleRequest(MessageContext messageContext, Object endpoint)</code> method in <code>AbstractValidatingInterceptor</code> of <code>org.springframework.ws.server.endpoint.interceptor</code> package. <code>validator</code> is <code>Jaxp15ValidatorFactory$Jaxp15Validator</code> of <code>org.springframework.xml.validation</code> package, which calls <code>Validator</code> of <code>javax.xml.validation</code> package.</p>\n<p>What is the best approach to change this behavior? For now I don't want to change wsdl and I want to keep all other validations in place. Important note: SAXExceptions are handled in my code and all of the validation errors are managed, so my problem is not that the request is failing. My problem is that this validation error is being delivered to my own validation handler. For my purposes the best solution will be to make it disappear before.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1655662862,"post_id":72678484,"comment_id":128379817,"body_markdown":"We don&#180;t understand what you asking for.","body":"We don&#180;t understand what you asking for."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1655684912,"post_id":72678484,"comment_id":128383258,"body_markdown":"I echo what @CaptainPyscho is saying, it&#39;s unclear what you are asking here.","body":"I echo what @CaptainPyscho is saying, it&#39;s unclear what you are asking here."}],"owner":{"account_id":12344443,"reputation":21,"user_id":9006101,"display_name":"Nguyen The Toan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655655713,"creation_date":1655655321,"question_id":72678484,"body_markdown":"[EntityDiagram ][1]How to Event(id) refererences to CurriculumVitae(event_id) and FamilyMember(id) refererences to CurriculumVitae(family_member_id)\r\nMy code is : \r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;CurriculumVitaes&quot;)\r\n    `public class CurriculumVitae implements Serializable `{\r\n    /**\r\n\t * \r\n\t */\r\n\t`private static final long serialVersionUID = 1L;`\r\n\t`@Id`\r\n\t`@GeneratedValue(strategy = GenerationType.AUTO)`\r\n\t`private Long id;`\r\n\t\r\n\t@Column(name = &quot;identity_card_number&quot;)\r\n\tprivate String identityCardNumber;\r\n\t\r\n\t@Column(name = &quot;place_for_identity_cards&quot;)\r\n\tprivate String placeForIdentityCards;\r\n\t\r\n\t@Column(name = &quot;phone_number&quot;)\r\n\tprivate String phoneNumber;\r\n\t\r\n\t@Column(name = &quot;ethnic&quot;)\r\n\tprivate String ethnic;\r\n\t\r\n\t@Column(name = &quot;religion&quot;)\r\n\tprivate String religion;\r\n\t\r\n\t@Column(name = &quot;family_composition_after_land_reform&quot;)\r\n\tprivate String familyCompositionAfterLandReform;\r\n\t\r\n\t@Column(name = &quot;family_member&quot;)\r\n\tprivate String familyMember;\r\n\t\r\n\t@Column(name = &quot;education_level&quot;)\r\n\tprivate String educationLevel;\r\n\t\r\n\t@Column(name = &quot;language&quot;)\r\n\tprivate String language;\r\n\t\r\n\t@Column(name = &quot;qualification&quot;)\r\n\tprivate String qualification;\r\n\t\r\n\t@Column(name = &quot;type_of_education&quot;)\r\n\tprivate String typeOfEducation;\r\n\t\r\n\t@Column(name = &quot;specialized_training&quot;)\r\n\tprivate String specializedTraining;\r\n\t\r\n\t@Column(name = &quot;health_situation&quot;)\r\n\tprivate String healthSituation;\r\n\t\r\n\t@Column(name = &quot;tall&quot;)\r\n\tprivate String tall;\r\n\t\r\n\t@Column(name = &quot;weight&quot;)\r\n\tprivate String weight;\r\n\t\r\n\t@Column(name = &quot;occupation_or_qualification&quot;)\r\n\tprivate String occupationOrQualification;\r\n\t\r\n\t@Column(name = &quot;ranks&quot;)\r\n\tprivate String rank;\r\n\t\r\n\t@Column(name = &quot;current_salary&quot;)\r\n\tprivate String currentSalary;\r\n\t\r\n\t@Column(name = &quot;date_of_enlistment&quot;)\r\n\tprivate Date dateOfEnlistment;\r\n\t\r\n\t@Column(name = &quot;date_of_demobilization&quot;)\r\n\tprivate Date dateOfDemobilization;\r\n\t\r\n\t@Column(name = &quot;reason&quot;)\r\n\tprivate String reason;\r\n\t\r\n\t\r\n\t@OneToMany(mappedBy = &quot;curriculumVitae&quot;, cascade = CascadeType.ALL, fetch =         FetchType.LAZY)\r\n\t@EqualsAndHashCode.Exclude\r\n\t@ToString.Exclude\r\n\t@JsonIgnore\r\n\tprivate Collection&lt;Event&gt; event;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;curriculumVitae&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\t@EqualsAndHashCode.Exclude\r\n\t@ToString.Exclude\r\n\t@JsonIgnore\r\n\tprivate Collection&lt;FamilyMember&gt; familyMemberList;\r\n}\r\n    \r\nBut FamilyMembers(curriculum_vitae_id) references to CurriculumVitae(id)*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/szA0E.png\r\n\t@Getter\r\n\t@Setter\r\n\t@ToString\r\n\t@Data\r\n\t@Entity\r\n\t@Table(name = &quot;FamilyMembers&quot;)\r\n\t`public class FamilyMember implements Serializable {`\r\n\t\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long id;\r\n\t\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name = &quot;occupation&quot;)\r\n\tprivate String occupation;\r\n\t\r\n\t@Column(name = &quot;august_revolution&quot;)\r\n\tprivate String augustRevolution;\r\n\t\r\n\t@Column(name = &quot;resistance_war_against_French_colonialism&quot;)\r\n\tprivate String resistanceWarAgainstFrenchColonialism;\r\n\t\r\n\t@Column(name = &quot;activities_from_1955&quot;)\r\n\tprivate String activitiesFrom1955;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;curriculum_vitae_id&quot;, referencedColumnName = \t&quot;family_member_id&quot;)\r\n\t@EqualsAndHashCode.Exclude\r\n\t@ToString.Exclude\r\n\tprivate CurriculumVitae curriculumVitae;\r\n}\r\n","title":"Spring Data JPA Non-key field references in Spring Data JPA","body":"<p><a href=\"https://i.stack.imgur.com/szA0E.png\" rel=\"nofollow noreferrer\">EntityDiagram </a>How to Event(id) refererences to CurriculumVitae(event_id) and FamilyMember(id) refererences to CurriculumVitae(family_member_id)\nMy code is :\n@Getter\n@Setter\n@ToString\n@Data\n@Entity\n@Table(name = &quot;CurriculumVitaes&quot;)\n<code>public class CurriculumVitae implements Serializable </code>{\n/**\n*\n*/\n<code>private static final long serialVersionUID = 1L;</code>\n<code>@Id</code>\n<code>@GeneratedValue(strategy = GenerationType.AUTO)</code>\n<code>private Long id;</code></p>\n<pre><code>@Column(name = &quot;identity_card_number&quot;)\nprivate String identityCardNumber;\n\n@Column(name = &quot;place_for_identity_cards&quot;)\nprivate String placeForIdentityCards;\n\n@Column(name = &quot;phone_number&quot;)\nprivate String phoneNumber;\n\n@Column(name = &quot;ethnic&quot;)\nprivate String ethnic;\n\n@Column(name = &quot;religion&quot;)\nprivate String religion;\n\n@Column(name = &quot;family_composition_after_land_reform&quot;)\nprivate String familyCompositionAfterLandReform;\n\n@Column(name = &quot;family_member&quot;)\nprivate String familyMember;\n\n@Column(name = &quot;education_level&quot;)\nprivate String educationLevel;\n\n@Column(name = &quot;language&quot;)\nprivate String language;\n\n@Column(name = &quot;qualification&quot;)\nprivate String qualification;\n\n@Column(name = &quot;type_of_education&quot;)\nprivate String typeOfEducation;\n\n@Column(name = &quot;specialized_training&quot;)\nprivate String specializedTraining;\n\n@Column(name = &quot;health_situation&quot;)\nprivate String healthSituation;\n\n@Column(name = &quot;tall&quot;)\nprivate String tall;\n\n@Column(name = &quot;weight&quot;)\nprivate String weight;\n\n@Column(name = &quot;occupation_or_qualification&quot;)\nprivate String occupationOrQualification;\n\n@Column(name = &quot;ranks&quot;)\nprivate String rank;\n\n@Column(name = &quot;current_salary&quot;)\nprivate String currentSalary;\n\n@Column(name = &quot;date_of_enlistment&quot;)\nprivate Date dateOfEnlistment;\n\n@Column(name = &quot;date_of_demobilization&quot;)\nprivate Date dateOfDemobilization;\n\n@Column(name = &quot;reason&quot;)\nprivate String reason;\n\n\n@OneToMany(mappedBy = &quot;curriculumVitae&quot;, cascade = CascadeType.ALL, fetch =         FetchType.LAZY)\n@EqualsAndHashCode.Exclude\n@ToString.Exclude\n@JsonIgnore\nprivate Collection&lt;Event&gt; event;\n\n@OneToMany(mappedBy = &quot;curriculumVitae&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@EqualsAndHashCode.Exclude\n@ToString.Exclude\n@JsonIgnore\nprivate Collection&lt;FamilyMember&gt; familyMemberList;\n</code></pre>\n<p>}</p>\n<p>But FamilyMembers(curriculum_vitae_id) references to CurriculumVitae(id)*</p>\n<p>@Getter\n@Setter\n@ToString\n@Data\n@Entity\n@Table(name = &quot;FamilyMembers&quot;)\n<code>public class FamilyMember implements Serializable {</code></p>\n<pre><code>/**\n * \n */\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;occupation&quot;)\nprivate String occupation;\n\n@Column(name = &quot;august_revolution&quot;)\nprivate String augustRevolution;\n\n@Column(name = &quot;resistance_war_against_French_colonialism&quot;)\nprivate String resistanceWarAgainstFrenchColonialism;\n\n@Column(name = &quot;activities_from_1955&quot;)\nprivate String activitiesFrom1955;\n\n@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;curriculum_vitae_id&quot;, referencedColumnName =    &quot;family_member_id&quot;)\n@EqualsAndHashCode.Exclude\n@ToString.Exclude\nprivate CurriculumVitae curriculumVitae;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":2,"creation_date":1655652633,"post_id":72678120,"comment_id":128377723,"body_markdown":"Please post code as text instead of image.","body":"Please post code as text instead of image."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1655652804,"post_id":72678120,"comment_id":128377748,"body_markdown":"It&#39;s a little better to post the code screenshots inside StackOverflow directly, instead of clicking a link to another website. But anyone who wants to help you, possibly by trying out your code, will need to re-type the whole thing from a screenshot. Instead, if you post the actual code – the text itself – it will be easier for others to help you. Various suggestions and details here: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"It&#39;s a little better to post the code screenshots inside StackOverflow directly, instead of clicking a link to another website. But anyone who wants to help you, possibly by trying out your code, will need to re-type the whole thing from a screenshot. Instead, if you post the actual code – the text itself – it will be easier for others to help you. Various suggestions and details here: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":21993597,"reputation":11,"user_id":16770592,"display_name":"USER1111"},"score":0,"creation_date":1655652964,"post_id":72678120,"comment_id":128377783,"body_markdown":"Added code in writing","body":"Added code in writing"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1655653070,"post_id":72678120,"comment_id":128377806,"body_markdown":"What is the expected output?","body":"What is the expected output?"},{"owner":{"account_id":21993597,"reputation":11,"user_id":16770592,"display_name":"USER1111"},"score":0,"creation_date":1655653284,"post_id":72678120,"comment_id":128377860,"body_markdown":"@Unmitigated It is also written at the very bottom of the question. Need something like this: AA, AA, AABB, AABBBB, BBBB, BB, BB","body":"@Unmitigated It is also written at the very bottom of the question. Need something like this: AA, AA, AABB, AABBBB, BBBB, BB, BB"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655655088,"creation_date":1655654499,"answer_id":72678394,"question_id":72678120,"body_markdown":"The [javadoc][1] for `Matcher.find()` says:\r\n\r\n&gt; This method starts at the beginning of this matcher&#39;s region, or, if a previous invocation of the method was successful and the matcher has not since been reset, at **the first character not matched by the previous match**. \r\n&gt;\r\n&gt;  If the match succeeds then more information can be obtained via the start, end, and group methods, and subsequent invocations of the find() method will **start at the first character not matched by this match**. \r\n\r\nSo in your main example, the first `find()` call matches `AA`.  Then the second `find()` starts at the 3rd character.\r\n\r\n------------------------\r\n\r\nTo get the matching to work like you wanted, you would need to write something like this:\r\n\r\n\r\n        String s = &quot;aaabbbb&quot;;\r\n        Matcher matcher = Pattern.compile(&quot;(aa|bb)+&quot;).matcher(s);\r\n        int pos = 0;\r\n        while (matcher.find(pos)) {\r\n            System.out.println(matcher.group());\r\n            pos = matcher.start() + 1;\r\n        }\r\n\r\nBut note that even this won&#39;t find all possible matches if the pattern has quantifiers (for example).  For that, the solution would probably be to write a special purpose regex engine.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#find--","title":"Pattern-Matcher is not looking for all matches for some reason","body":"<p>The <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#find--\" rel=\"nofollow noreferrer\">javadoc</a> for <code>Matcher.find()</code> says:</p>\n<blockquote>\n<p>This method starts at the beginning of this matcher's region, or, if a previous invocation of the method was successful and the matcher has not since been reset, at <strong>the first character not matched by the previous match</strong>.</p>\n<p>If the match succeeds then more information can be obtained via the start, end, and group methods, and subsequent invocations of the find() method will <strong>start at the first character not matched by this match</strong>.</p>\n</blockquote>\n<p>So in your main example, the first <code>find()</code> call matches <code>AA</code>.  Then the second <code>find()</code> starts at the 3rd character.</p>\n<hr />\n<p>To get the matching to work like you wanted, you would need to write something like this:</p>\n<pre><code>    String s = &quot;aaabbbb&quot;;\n    Matcher matcher = Pattern.compile(&quot;(aa|bb)+&quot;).matcher(s);\n    int pos = 0;\n    while (matcher.find(pos)) {\n        System.out.println(matcher.group());\n        pos = matcher.start() + 1;\n    }\n</code></pre>\n<p>But note that even this won't find all possible matches if the pattern has quantifiers (for example).  For that, the solution would probably be to write a special purpose regex engine.</p>\n"}],"owner":{"account_id":21993597,"reputation":11,"user_id":16770592,"display_name":"USER1111"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72678394,"answer_count":1,"score":-2,"last_activity_date":1655655088,"creation_date":1655652459,"question_id":72678120,"body_markdown":"I have, it seems, a very easy task, with which Matcher for some reason does not cope.\r\n\r\nSo, the task sounds like this: You need to find and display all the substrings from the string &quot;AAABBBB&quot;, where there are pairs of AA or BB, while they can go in a row or alternate &quot;AABBBBBBAA&quot;. Either go separately &quot;AAAA&quot; or &quot;BBBB&quot;.\r\n\r\nTo solve this problem, I decided to use Pattern-Matcher, which should search for all matches in a string. For this task, I used the pattern: &quot;(AA|BB)+&quot;, which in my understanding should look for all substrings in which there is at least one pair of AA or BB. The following code is in the picture:\r\n\r\n![code pic.][1]\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String s = &quot;aaabbbb&quot;;\r\n            Matcher matcher = Pattern.compile(&quot;(aa|bb)+&quot;).matcher(s);\r\n            while(matcher.find())\r\n                System.out.println(matcher.group());\r\n        }\r\n    }\r\n\r\n\r\nEverything seems to be correct and all the appropriate lines should appear, but I see this answer:\r\n\r\n![output pic.][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y1Pbp.png\r\n  [2]: https://i.stack.imgur.com/uH4pW.png\r\n\r\n    Output:\r\n        aa\r\n        bbbb\r\n\r\nIt seems to me that the answer should be completely different, because we have the string &quot;AAABBBB&quot;. Let&#39;s start with the first character of the string is A, the next is also A, and together they form a pair. Let&#39;s start now with the second character - it is also A, as well as the 3 character is also A - this is the second suitable pair. Now let&#39;s look at the entire substring of 2 characters, which A - this will be the string AABBBB and it also fits our condition, like all other strings AABB, BB and BB.\r\n\r\nWhy is this happening?\r\n\r\n\r\n\r\nUPD: I also decided to add why I decided that my theory is correct. Here is the following code, true is output everywhere\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;AA&quot;.matches(&quot;(AA|BB)+&quot;));\r\n            System.out.println(&quot;AABBBB&quot;.matches(&quot;(AA|BB)+&quot;));\r\n            System.out.println(&quot;AABB&quot;.matches(&quot;(AA|BB)+&quot;));\r\n            System.out.println(&quot;BBBB&quot;.matches(&quot;(AA|BB)+&quot;));\r\n            System.out.println(&quot;BB&quot;.matches(&quot;(AA|BB)+&quot;));\r\n        }\r\n    }","title":"Pattern-Matcher is not looking for all matches for some reason","body":"<p>I have, it seems, a very easy task, with which Matcher for some reason does not cope.</p>\n<p>So, the task sounds like this: You need to find and display all the substrings from the string &quot;AAABBBB&quot;, where there are pairs of AA or BB, while they can go in a row or alternate &quot;AABBBBBBAA&quot;. Either go separately &quot;AAAA&quot; or &quot;BBBB&quot;.</p>\n<p>To solve this problem, I decided to use Pattern-Matcher, which should search for all matches in a string. For this task, I used the pattern: &quot;(AA|BB)+&quot;, which in my understanding should look for all substrings in which there is at least one pair of AA or BB. The following code is in the picture:</p>\n<p><img src=\"https://i.stack.imgur.com/y1Pbp.png\" alt=\"code pic.\" /></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String s = &quot;aaabbbb&quot;;\n        Matcher matcher = Pattern.compile(&quot;(aa|bb)+&quot;).matcher(s);\n        while(matcher.find())\n            System.out.println(matcher.group());\n    }\n}\n</code></pre>\n<p>Everything seems to be correct and all the appropriate lines should appear, but I see this answer:</p>\n<p><img src=\"https://i.stack.imgur.com/uH4pW.png\" alt=\"output pic.\" /></p>\n<pre><code>Output:\n    aa\n    bbbb\n</code></pre>\n<p>It seems to me that the answer should be completely different, because we have the string &quot;AAABBBB&quot;. Let's start with the first character of the string is A, the next is also A, and together they form a pair. Let's start now with the second character - it is also A, as well as the 3 character is also A - this is the second suitable pair. Now let's look at the entire substring of 2 characters, which A - this will be the string AABBBB and it also fits our condition, like all other strings AABB, BB and BB.</p>\n<p>Why is this happening?</p>\n<p>UPD: I also decided to add why I decided that my theory is correct. Here is the following code, true is output everywhere</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;AA&quot;.matches(&quot;(AA|BB)+&quot;));\n        System.out.println(&quot;AABBBB&quot;.matches(&quot;(AA|BB)+&quot;));\n        System.out.println(&quot;AABB&quot;.matches(&quot;(AA|BB)+&quot;));\n        System.out.println(&quot;BBBB&quot;.matches(&quot;(AA|BB)+&quot;));\n        System.out.println(&quot;BB&quot;.matches(&quot;(AA|BB)+&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","keycloak"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1537853463,"post_id":52466242,"comment_id":91922919,"body_markdown":"Are you using maven to add keycloak dependency or directly including keycloak jar in classpath?","body":"Are you using maven to add keycloak dependency or directly including keycloak jar in classpath?"}],"answers":[{"tags":[],"owner":{"account_id":2980608,"reputation":473,"user_id":2530641,"accept_rate":20,"display_name":"Batuhan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1537879451,"creation_date":1537879451,"answer_id":52498539,"question_id":52466242,"body_markdown":"Please try to add these dependencies to your project pom. \r\nVersions of dependencies could be 3.6.0.Final or 3.5.0.Final (i am not sure your keycloak-admin-client dependency version. But, i used keycloak-admin-client 3.0.0.Final with 3.5.0.Final resteasy-client. It works successfully.)\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"ClassNotFoundException: org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder","body":"<p>Please try to add these dependencies to your project pom. \nVersions of dependencies could be 3.6.0.Final or 3.5.0.Final (i am not sure your keycloak-admin-client dependency version. But, i used keycloak-admin-client 3.0.0.Final with 3.5.0.Final resteasy-client. It works successfully.)</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492447,"reputation":2094,"user_id":1399223,"display_name":"Mohamed.Abdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655654805,"creation_date":1655654805,"answer_id":72678429,"question_id":52466242,"body_markdown":"i faced such issue, try to exclude overrides packages, ex:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n                &lt;version&gt;18.0.0&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;","title":"ClassNotFoundException: org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder","body":"<p>i faced such issue, try to exclude overrides packages, ex:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;18.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n                    &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":447352,"reputation":5292,"user_id":840930,"accept_rate":82,"display_name":"user840930"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10615,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":52498539,"answer_count":2,"score":7,"last_activity_date":1655654805,"creation_date":1537706907,"question_id":52466242,"body_markdown":"trying to create a keycloak object to register new user with keycloak with following code:\r\n\r\n     Keycloak keycloak = KeycloakBuilder.builder()\r\n                                .serverUrl(serverUrl)\r\n                                .realm(realm)\r\n                                .grantType(OAuth2Constants.PASSWORD)\r\n                                .clientId(clientId)\r\n                                .clientSecret(clientSecret)\r\n                                .username(&quot;someone&quot;)\r\n                                .password(&quot;someword&quot;)\r\n                                .build();\r\n\r\nBut get following error:\r\n\r\n&gt; Servlet.service() for servlet [dispatcherServlet] in context with path\r\n&gt; [] threw exception [Handler dispatch failed; nested exception is\r\n&gt; java.lang.NoClassDefFoundError:\r\n&gt; org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder] with root cause\r\n&gt; \r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder\r\n&gt;         at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_131]\r\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_131]\r\n&gt;         at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\r\n&gt; ~[na:1.8.0_131]\r\n&gt;         at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_131]\r\n&gt;         at org.keycloak.admin.client.Keycloak.&lt;init&gt;(Keycloak.java:58) ~[keycloak-admin-client-4.3.0.Final.jar:4.3.0.Final]\r\n&gt;         at org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:147)\r\n&gt; ~[keycloak-admin-client-4.3.0.Final.jar:4.3.0.Final]\r\n&gt;         at hello.GreetingController.greeting(GreetingController.java:100)\r\n&gt; ~[main/:na]\r\n&gt;         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]\r\n\r\n","title":"ClassNotFoundException: org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder","body":"<p>trying to create a keycloak object to register new user with keycloak with following code:</p>\n\n<pre><code> Keycloak keycloak = KeycloakBuilder.builder()\n                            .serverUrl(serverUrl)\n                            .realm(realm)\n                            .grantType(OAuth2Constants.PASSWORD)\n                            .clientId(clientId)\n                            .clientSecret(clientSecret)\n                            .username(\"someone\")\n                            .password(\"someword\")\n                            .build();\n</code></pre>\n\n<p>But get following error:</p>\n\n<blockquote>\n  <p>Servlet.service() for servlet [dispatcherServlet] in context with path\n  [] threw exception [Handler dispatch failed; nested exception is\n  java.lang.NoClassDefFoundError:\n  org/jboss/resteasy/client/jaxrs/ResteasyClientBuilder] with root cause</p>\n  \n  <p>java.lang.ClassNotFoundException:\n  org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder\n          at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_131]\n          at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_131]\n          at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n  ~[na:1.8.0_131]\n          at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_131]\n          at org.keycloak.admin.client.Keycloak.(Keycloak.java:58) ~[keycloak-admin-client-4.3.0.Final.jar:4.3.0.Final]\n          at org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:147)\n  ~[keycloak-admin-client-4.3.0.Final.jar:4.3.0.Final]\n          at hello.GreetingController.greeting(GreetingController.java:100)\n  ~[main/:na]\n          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_131]</p>\n</blockquote>\n"},{"tags":["java","button","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655582561,"post_id":72672227,"comment_id":128367720,"body_markdown":"What is the `MenuButtonView` class?","body":"What is the <code>MenuButtonView</code> class?"},{"owner":{"account_id":17134811,"reputation":71,"user_id":12400108,"display_name":"matrix1395"},"score":0,"creation_date":1655583890,"post_id":72672227,"comment_id":128367933,"body_markdown":"@VGR just added it, please take a look. In general - button design","body":"@VGR just added it, please take a look. In general - button design"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1655593009,"post_id":72672227,"comment_id":128369294,"body_markdown":"My guess is that the Rectangle and Text are intercepting the mouse event.  Try adding `buttonText.setMouseTransparent(true);` and `buttonRectangle.setMouseTransparent(true);`.","body":"My guess is that the Rectangle and Text are intercepting the mouse event.  Try adding <code>buttonText.setMouseTransparent(true);</code> and <code>buttonRectangle.setMouseTransparent(true);</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1655617418,"post_id":72672227,"comment_id":128371453,"body_markdown":"[mcve] please.. mind the __M__!","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.. mind the <b>M</b>!"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1655646123,"post_id":72672227,"comment_id":128376297,"body_markdown":"I don&#39;t understand why you would do a Button this way.  The Button class itself is completely styleable, and you can put anything you want into Button.setGraphic().  Then you get exactly the look you want but it&#39;s still a Button and will behave properly.","body":"I don&#39;t understand why you would do a Button this way.  The Button class itself is completely styleable, and you can put anything you want into Button.setGraphic().  Then you get exactly the look you want but it&#39;s still a Button and will behave properly."},{"owner":{"account_id":17134811,"reputation":71,"user_id":12400108,"display_name":"matrix1395"},"score":0,"creation_date":1655653797,"post_id":72672227,"comment_id":128377953,"body_markdown":"@DaveB because I use this private class for many buttons and don&#39;t want to duplicate code. Btw I found the cause of the error - as VGR suggested something was covering my buttons and more precisely the VBox which was set to the whole screen. After changing the values and minimizing prefWidth and prefHeight I can click on the buttons. Lesson for the future to set the Box only for the required area","body":"@DaveB because I use this private class for many buttons and don&#39;t want to duplicate code. Btw I found the cause of the error - as VGR suggested something was covering my buttons and more precisely the VBox which was set to the whole screen. After changing the values and minimizing prefWidth and prefHeight I can click on the buttons. Lesson for the future to set the Box only for the required area"}],"owner":{"account_id":17134811,"reputation":71,"user_id":12400108,"display_name":"matrix1395"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1655654788,"creation_date":1655581022,"question_id":72672227,"body_markdown":"I am creating a simple JavaFX based game and when I add a Button to my Pane and try to perform some action on it by clicking the mouse button while hovering over the button nothing happens - as if it is disabled but still visible.\r\n\r\n    private class Game extends Parent  {\r\n       public Game() {\r\n    \r\n                private Button newGameButton;\r\n                private Scene secondScene;\r\n                private Stage secondStage;\r\n                private Pane pane;\r\n                VBox menu = new VBox(15);\r\n                VBox highScore = new VBox(15);\r\n    \r\n                menu.setTranslateX(280);\r\n                menu.setTranslateY(250);\r\n    \r\n                highScore.setTranslateX(100);\r\n                highScore.setTranslateY(200);\r\n    \r\n                try {\r\n                    onLoad();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                newGameButton = new MenuButtonView(&quot;New Game&quot;);\r\n                newGameButton.setOnMouseClicked(event -&gt; {\r\n    \r\n                    pane = new Pane();\r\n                    secondScene = new Scene(pane, 800, 600);\r\n                    secondStage = new Stage();\r\n                    secondStage.setScene(secondScene);\r\n\r\n                    secondStage.show();\r\n\r\n                    scoreAndCrackView();\r\n                    mickeyView();\r\n                });\r\n     \r\n    public void mickeyView(){\r\n\r\n                private Button leftDownRedButton;\r\n                leftDownRedButton = new Button();\r\n                rightDownRedButton.setTranslateX(640);\r\n                rightDownRedButton.setTranslateY(560);\r\n                \r\n                pane.getChildren().add(rightDownRedButton);\r\n                leftDownRedButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n                    @Override public void handle(ActionEvent e) {\r\n                        System.out.println(&quot;Clicked&quot;);\r\n                    }\r\n                });\r\n    \r\n\r\n\r\n    public void scoreAndCrackView()\r\n        {\r\n            vertBox = new VBox();\r\n            vertBox.setPrefSize(800, 100); // this one was causing issue, previously: vertBox.setPrefSize(800, 600)\r\n\r\n            vertBox.getChildren().addAll(scoreLabel,crackLabel);\r\n            pane.getChildren().add(vertBox);\r\n\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\nBtw I found the cause of the error - as you guys suggested something was covering my buttons and more precisely the VBox in another method which was set to the whole screen. After changing the values and minimizing prefWidth and prefHeight I can click on the buttons. Lesson for the future to set the Box only for the required area.","title":"Not able to click on Button JavaFX","body":"<p>I am creating a simple JavaFX based game and when I add a Button to my Pane and try to perform some action on it by clicking the mouse button while hovering over the button nothing happens - as if it is disabled but still visible.</p>\n<pre><code>private class Game extends Parent  {\n   public Game() {\n\n            private Button newGameButton;\n            private Scene secondScene;\n            private Stage secondStage;\n            private Pane pane;\n            VBox menu = new VBox(15);\n            VBox highScore = new VBox(15);\n\n            menu.setTranslateX(280);\n            menu.setTranslateY(250);\n\n            highScore.setTranslateX(100);\n            highScore.setTranslateY(200);\n\n            try {\n                onLoad();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            newGameButton = new MenuButtonView(&quot;New Game&quot;);\n            newGameButton.setOnMouseClicked(event -&gt; {\n\n                pane = new Pane();\n                secondScene = new Scene(pane, 800, 600);\n                secondStage = new Stage();\n                secondStage.setScene(secondScene);\n\n                secondStage.show();\n\n                scoreAndCrackView();\n                mickeyView();\n            });\n \npublic void mickeyView(){\n\n            private Button leftDownRedButton;\n            leftDownRedButton = new Button();\n            rightDownRedButton.setTranslateX(640);\n            rightDownRedButton.setTranslateY(560);\n            \n            pane.getChildren().add(rightDownRedButton);\n            leftDownRedButton.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override public void handle(ActionEvent e) {\n                    System.out.println(&quot;Clicked&quot;);\n                }\n            });\n\n\n\npublic void scoreAndCrackView()\n    {\n        vertBox = new VBox();\n        vertBox.setPrefSize(800, 100); // this one was causing issue, previously: vertBox.setPrefSize(800, 600)\n\n        vertBox.getChildren().addAll(scoreLabel,crackLabel);\n        pane.getChildren().add(vertBox);\n\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong>\nBtw I found the cause of the error - as you guys suggested something was covering my buttons and more precisely the VBox in another method which was set to the whole screen. After changing the values and minimizing prefWidth and prefHeight I can click on the buttons. Lesson for the future to set the Box only for the required area.</p>\n"},{"tags":["java","android","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":3,"up_vote_count":7,"is_accepted":true,"score":4,"last_activity_date":1655653654,"creation_date":1608607959,"answer_id":65402905,"question_id":65402823,"body_markdown":"&gt; What is the way out?\r\n\r\nWell, since the javadoc implies that the method is not used anymore, one solution would be to implement it as follows:\r\n\r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public int getOpacity() {\r\n        throw new UnsupportedOperationException(&quot;getOpacity is deprecated&quot;);\r\n    }\r\n\r\n\r\n---------------------\r\n\r\n&gt; Well, I&#39;m running `./gradlew lint` so it should go in `lint.xml` with `severity=ignore`.  But I don&#39;t want to suppress every deprecation warning either ...\r\n\r\nI&#39;m not sure it is possible, but you could try reading:\r\n  \r\n  - https://stackoverflow.com/questions/24208410\r\n\r\n(It looks like the best you could do is suppress **all** deprecation warnings in specific classes or packages.)\r\n\r\nAlternatively, you can selectively suppress specific deprecation warnings at the site where they are triggered; i.e. by adding `@SuppressWarnings(&quot;deprecation&quot;)` annotations as shown above.  For a once-off suppression this would be the simplest way.  \r\n\r\nIf the deprecation warnings are coming from the Gradle `lint` task rather than the `javac` compiler, then you could use `//noinspection` comments instead of `@SuppressWarnings` annotations.  But according to [the documentation][1], `@SuppressWarnings` annotations are respected by the `lint` task.\r\n\r\n\r\n  [1]: http://googlesamples.github.io/android-custom-lint-rules/features.md.html","title":"Deprecation of Drawable.getOpacity()","body":"<blockquote>\n<p>What is the way out?</p>\n</blockquote>\n<p>Well, since the javadoc implies that the method is not used anymore, one solution would be to implement it as follows:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\npublic int getOpacity() {\n    throw new UnsupportedOperationException(&quot;getOpacity is deprecated&quot;);\n}\n</code></pre>\n<hr />\n<blockquote>\n<p>Well, I'm running <code>./gradlew lint</code> so it should go in <code>lint.xml</code> with <code>severity=ignore</code>.  But I don't want to suppress every deprecation warning either ...</p>\n</blockquote>\n<p>I'm not sure it is possible, but you could try reading:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/24208410\">How to suppress specific Lint warning for deprecated Android function?</a></li>\n</ul>\n<p>(It looks like the best you could do is suppress <strong>all</strong> deprecation warnings in specific classes or packages.)</p>\n<p>Alternatively, you can selectively suppress specific deprecation warnings at the site where they are triggered; i.e. by adding <code>@SuppressWarnings(&quot;deprecation&quot;)</code> annotations as shown above.  For a once-off suppression this would be the simplest way.</p>\n<p>If the deprecation warnings are coming from the Gradle <code>lint</code> task rather than the <code>javac</code> compiler, then you could use <code>//noinspection</code> comments instead of <code>@SuppressWarnings</code> annotations.  But according to <a href=\"http://googlesamples.github.io/android-custom-lint-rules/features.md.html\" rel=\"nofollow noreferrer\">the documentation</a>, <code>@SuppressWarnings</code> annotations are respected by the <code>lint</code> task.</p>\n"}],"owner":{"account_id":719135,"reputation":711,"user_id":642319,"accept_rate":50,"display_name":"FreeBird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":65402905,"answer_count":1,"score":0,"last_activity_date":1655653654,"creation_date":1608607195,"question_id":65402823,"body_markdown":"I am getting a deprecation warning for Drawable.getOpacity().\r\n\r\n    ...\\progressbar\\MaterialProgressDrawable.java:304: warning: [deprecation] getOpacity() in Drawable has been deprecated\r\n        public int getOpacity() {\r\n                   ^\r\n    1 warning\r\n\r\nThis class (MaterialProgressDrawable) extends Drawable and implements Animatable. Since getOpacity() is abstract in the parent class (`@Deprecated public abstract @PixelFormat.Opacity int getOpacity();`) I can&#39;t remove this method altogether either. What is the way out?","title":"Deprecation of Drawable.getOpacity()","body":"<p>I am getting a deprecation warning for Drawable.getOpacity().</p>\n<pre><code>...\\progressbar\\MaterialProgressDrawable.java:304: warning: [deprecation] getOpacity() in Drawable has been deprecated\n    public int getOpacity() {\n               ^\n1 warning\n</code></pre>\n<p>This class (MaterialProgressDrawable) extends Drawable and implements Animatable. Since getOpacity() is abstract in the parent class (<code>@Deprecated public abstract @PixelFormat.Opacity int getOpacity();</code>) I can't remove this method altogether either. What is the way out?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1655642734,"post_id":72676984,"comment_id":128375701,"body_markdown":"Please show your observed and expected outputs, and explain 1) why you expect such outputs and 2) what debugging you have done, and what it has shown you.","body":"Please show your observed and expected outputs, and explain 1) why you expect such outputs and 2) what debugging you have done, and what it has shown you."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1655642762,"post_id":72676984,"comment_id":128375703,"body_markdown":"Please share your inputs, and the expected output","body":"Please share your inputs, and the expected output"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1655643056,"post_id":72676984,"comment_id":128375759,"body_markdown":"are you trying to compute compound interest?","body":"are you trying to compute compound interest?"},{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":0,"creation_date":1655643170,"post_id":72676984,"comment_id":128375783,"body_markdown":"After your question edit: Seems that you&#39;re not doing the &quot;monthly deposit&quot; part, but only an &quot;initial deposit&quot;. I.e. you should add a new &quot;double total&quot; and in your loop add the `value` every iteration to simulate the &quot;monthly deposit&quot; part. HTH","body":"After your question edit: Seems that you&#39;re not doing the &quot;monthly deposit&quot; part, but only an &quot;initial deposit&quot;. I.e. you should add a new &quot;double total&quot; and in your loop add the <code>value</code> every iteration to simulate the &quot;monthly deposit&quot; part. HTH"},{"owner":{"account_id":25456587,"reputation":1,"user_id":19257115,"display_name":"Austin Derek"},"score":0,"creation_date":1655643198,"post_id":72676984,"comment_id":128375788,"body_markdown":"Not really compound it goes by month, so month 1 is 1008.33 and month 8 should be 8305.91","body":"Not really compound it goes by month, so month 1 is 1008.33 and month 8 should be 8305.91"},{"owner":{"account_id":52839,"reputation":91099,"user_id":157957,"display_name":"IMSoP"},"score":1,"creation_date":1655643471,"post_id":72676984,"comment_id":128375841,"body_markdown":"**Why** should month 8 be  8305.91? Try to explain in words what the algorithm is supposed to do, because at the moment we only have the same information the computer has, so will come to the same answers it does.","body":"<b>Why</b> should month 8 be  8305.91? Try to explain in words what the algorithm is supposed to do, because at the moment we only have the same information the computer has, so will come to the same answers it does."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1655643865,"post_id":72676984,"comment_id":128375936,"body_markdown":"@AustinDerek please tell me what you are trying to do as if i&#39;m clueless on finance math. also, test your math on excel or any spreadsheet tools you have.","body":"@AustinDerek please tell me what you are trying to do as if i&#39;m clueless on finance math. also, test your math on excel or any spreadsheet tools you have."},{"owner":{"account_id":25456587,"reputation":1,"user_id":19257115,"display_name":"Austin Derek"},"score":0,"creation_date":1655643866,"post_id":72676984,"comment_id":128375937,"body_markdown":"So the monthly deposit will always be 1000 then the formula will take that 1000 multiply it by the monthly rate, and divide it by the monthly rate to the power of the number of months it increases at a certain rate that the final amount at month 8 is 8305.91","body":"So the monthly deposit will always be 1000 then the formula will take that 1000 multiply it by the monthly rate, and divide it by the monthly rate to the power of the number of months it increases at a certain rate that the final amount at month 8 is 8305.91"},{"owner":{"account_id":25456587,"reputation":1,"user_id":19257115,"display_name":"Austin Derek"},"score":0,"creation_date":1655643900,"post_id":72676984,"comment_id":128375943,"body_markdown":"month 1: 1008.33, month 2: 2025.07, month 3: 3050.28, month 4: 4084.03, month 5: 5126.40, month 6: 6177.45, month 7: 7237.26, month 8: 8305.91.","body":"month 1: 1008.33, month 2: 2025.07, month 3: 3050.28, month 4: 4084.03, month 5: 5126.40, month 6: 6177.45, month 7: 7237.26, month 8: 8305.91."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1655644525,"post_id":72676984,"comment_id":128376087,"body_markdown":"i tried [fd calculator](https://www.calculator.com.my/fd-savings) i found online, it spew the same number for the 8th month result. &#175;\\\\_(ツ)_/&#175;","body":"i tried <a href=\"https://www.calculator.com.my/fd-savings\" rel=\"nofollow noreferrer\">fd calculator</a> i found online, it spew the same number for the 8th month result. &#175;\\_(ツ)_/&#175;"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655653589,"creation_date":1655650817,"answer_id":72677930,"question_id":72676984,"body_markdown":"Basically, you have the formula wrong.\r\n\r\nThere are two ways to compute the final balance.\r\n\r\n  - The iterative approach.  Perform the interest calculations as the bank would\r\n\r\n        month 0: balance_0 = 1000\r\n        month 1: balance_1 = balance_0 + interest on balance_0 + 1000\r\n        month 2: balance_2 = balance_1 + interest on balance_1 + 1000\r\n    \r\n    and so on, until you get to month 8\r\n\r\n    The interest for each month is the balance at the start of the month x the monthly interest rate.  (The monthly interest rate is the yearly interest rate / 12)\r\n\r\n  - The algebraic approach.  You find the formula for computing interest compounded over a number of months with a monthly deposit.  Then plug in the values.\r\n\r\n        month 8: balance = &quot;some algebraic formula that involves \r\n                            raising something to the power of something&quot;.\r\n\r\n    (See [Wikipedia](https://en.wikipedia.or/wiki/Compound_interest#Investing:_monthly_deposits) for the actual formulae.   If you are interested.)\r\n\r\nWhat you seem to have done is take a formula with a power term and plugged it into an iteration.\r\n\r\nSolution: use the iterative approach but do the monthly interest calculation as I described above.\r\n\r\n\r\n\r\n   \r\n        ","title":"Coding issue I need help seeing my error and correcting it","body":"<p>Basically, you have the formula wrong.</p>\n<p>There are two ways to compute the final balance.</p>\n<ul>\n<li><p>The iterative approach.  Perform the interest calculations as the bank would</p>\n<pre><code>month 0: balance_0 = 1000\nmonth 1: balance_1 = balance_0 + interest on balance_0 + 1000\nmonth 2: balance_2 = balance_1 + interest on balance_1 + 1000\n</code></pre>\n<p>and so on, until you get to month 8</p>\n<p>The interest for each month is the balance at the start of the month x the monthly interest rate.  (The monthly interest rate is the yearly interest rate / 12)</p>\n</li>\n<li><p>The algebraic approach.  You find the formula for computing interest compounded over a number of months with a monthly deposit.  Then plug in the values.</p>\n<pre><code>month 8: balance = &quot;some algebraic formula that involves \n                    raising something to the power of something&quot;.\n</code></pre>\n<p>(See <a href=\"https://en.wikipedia.or/wiki/Compound_interest#Investing:_monthly_deposits\" rel=\"nofollow noreferrer\">Wikipedia</a> for the actual formulae.   If you are interested.)</p>\n</li>\n</ul>\n<p>What you seem to have done is take a formula with a power term and plugged it into an iteration.</p>\n<p>Solution: use the iterative approach but do the monthly interest calculation as I described above.</p>\n"}],"owner":{"account_id":25456587,"reputation":1,"user_id":19257115,"display_name":"Austin Derek"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1655653589,"creation_date":1655642594,"question_id":72676984,"body_markdown":"```\r\nimport java.util.Scanner;\r\nimport java.text.DecimalFormat;\r\nimport java.lang.Math;\r\n\r\npublic class Balance2 {\r\n\r\n    public static void main(String[] args) {\r\n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your monthly deposit amount: &quot;);\r\n        double value = input.nextDouble();\r\n        System.out.println(&quot;Enter the annual interest rate: &quot;);\r\n        double annualRate = input.nextDouble();\r\n        double monthlyRate = annualRate / 1200;\r\n        System.out.println(&quot;Enter the number of months: &quot;);\r\n        int numMonths = input.nextInt();\r\n        for (int month = 1;month &lt;= numMonths;month++){\r\n            double interest = (value*monthlyRate)/(1-Math.pow(monthlyRate,numMonths));\r\n            value += interest;\r\n            System.out.println(&quot;Balance at end of month &quot; + month + &quot; is &quot; + df.format(value));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe error I&#39;m getting is that  whenever it prints value does not update properly and I need it to go from 1008.33  to 8305.91 in month 8 I just figure out what Im doing wrong\r\nInputs:\r\nMonthly deposit: 1000\r\nAnnual interest rate: 10\r\nnumber of months: 8\r\nReal outcome :end of month 1 is 1008.33, month 8 is 1068.64\r\nexpected outcome: end of month 1 is 1008.33, month 8 is 8305.91\r\nI believe the reason this is happening lays somewhere in the formula I have to get the monthly balance.","title":"Coding issue I need help seeing my error and correcting it","body":"<pre><code>import java.util.Scanner;\nimport java.text.DecimalFormat;\nimport java.lang.Math;\n\npublic class Balance2 {\n\n    public static void main(String[] args) {\n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter your monthly deposit amount: &quot;);\n        double value = input.nextDouble();\n        System.out.println(&quot;Enter the annual interest rate: &quot;);\n        double annualRate = input.nextDouble();\n        double monthlyRate = annualRate / 1200;\n        System.out.println(&quot;Enter the number of months: &quot;);\n        int numMonths = input.nextInt();\n        for (int month = 1;month &lt;= numMonths;month++){\n            double interest = (value*monthlyRate)/(1-Math.pow(monthlyRate,numMonths));\n            value += interest;\n            System.out.println(&quot;Balance at end of month &quot; + month + &quot; is &quot; + df.format(value));\n        }\n    }\n}\n</code></pre>\n<p>The error I'm getting is that  whenever it prints value does not update properly and I need it to go from 1008.33  to 8305.91 in month 8 I just figure out what Im doing wrong\nInputs:\nMonthly deposit: 1000\nAnnual interest rate: 10\nnumber of months: 8\nReal outcome :end of month 1 is 1008.33, month 8 is 1068.64\nexpected outcome: end of month 1 is 1008.33, month 8 is 8305.91\nI believe the reason this is happening lays somewhere in the formula I have to get the monthly balance.</p>\n"},{"tags":["java","exception","junit","jaxb"],"answers":[{"tags":[],"owner":{"account_id":20090307,"reputation":29,"user_id":17386477,"display_name":"JavaSash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655653466,"creation_date":1640680198,"answer_id":70504506,"question_id":70504491,"body_markdown":"Later I came up with a solution and decided to share it, I hope it will helps someone.\r\n\r\nI got the desired exception by substituting an interface instead of a class. Just like that:\r\n\r\n```\r\npublic class XmlDeserializerTest\r\n{\r\n@Test(expected = RuntimeException.class)\r\npublic void constructor_CreatingUnmarshallerFail_Test() throws RuntimeException\r\n{\r\n    new XmlDeserializer&lt;&gt;(Runnable.class);\r\n}\r\n```\r\n\r\nSo we have the necessary exception when passing any interface to the constructor","title":"How write fail-test (J-Unit) throwing JAXBException when unmarshaller initialized in constructor?","body":"<p>Later I came up with a solution and decided to share it, I hope it will helps someone.</p>\n<p>I got the desired exception by substituting an interface instead of a class. Just like that:</p>\n<pre><code>public class XmlDeserializerTest\n{\n@Test(expected = RuntimeException.class)\npublic void constructor_CreatingUnmarshallerFail_Test() throws RuntimeException\n{\n    new XmlDeserializer&lt;&gt;(Runnable.class);\n}\n</code></pre>\n<p>So we have the necessary exception when passing any interface to the constructor</p>\n"}],"owner":{"account_id":20090307,"reputation":29,"user_id":17386477,"display_name":"JavaSash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655653466,"creation_date":1640680098,"question_id":70504491,"body_markdown":"I tryied to write fail-test for simple code like this:\r\n```\r\npublic class XmlDeserializer&lt;T&gt; implements Deserializer&lt;T&gt;\r\n{\r\n    private final Unmarshaller unmarshaller;\r\n\r\n    public XmlDeserializer(Class&lt;T&gt; clazz)\r\n    {\r\n        try\r\n        {\r\n            this.unmarshaller = JAXBContext.newInstance(clazz).createUnmarshaller();\r\n        }\r\n        catch (JAXBException e)\r\n        {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\nwhen in constructor we catch JAXBExeption, but it turned out to be not so easy.\r\n\r\nI tried @Test(expected = RuntimeException),  @Rule for expected exception, passed different classes to the constructor. I couldn&#39;t use reflection or Mockito in this case.\r\n\r\nI spent a couple of hours on this, but couldn&#39;t find a solution on google or Stackoverflow.","title":"How write fail-test (J-Unit) throwing JAXBException when unmarshaller initialized in constructor?","body":"<p>I tryied to write fail-test for simple code like this:</p>\n<pre><code>public class XmlDeserializer&lt;T&gt; implements Deserializer&lt;T&gt;\n{\n    private final Unmarshaller unmarshaller;\n\n    public XmlDeserializer(Class&lt;T&gt; clazz)\n    {\n        try\n        {\n            this.unmarshaller = JAXBContext.newInstance(clazz).createUnmarshaller();\n        }\n        catch (JAXBException e)\n        {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>when in constructor we catch JAXBExeption, but it turned out to be not so easy.</p>\n<p>I tried @Test(expected = RuntimeException),  @Rule for expected exception, passed different classes to the constructor. I couldn't use reflection or Mockito in this case.</p>\n<p>I spent a couple of hours on this, but couldn't find a solution on google or Stackoverflow.</p>\n"},{"tags":["java","android","android-fragments","android-linearlayout","android-button"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":1,"creation_date":1416306336,"post_id":26991913,"comment_id":42515021,"body_markdown":"What is the expacted behavior and what do your get? If you get an Exception please add the stack trace form logcat.","body":"What is the expacted behavior and what do your get? If you get an Exception please add the stack trace form logcat."},{"owner":{"account_id":4967441,"reputation":2599,"user_id":3996257,"accept_rate":76,"display_name":"Merl&#237; Escarpenter P&#233;rez"},"score":0,"creation_date":1416306997,"post_id":26991913,"comment_id":42515458,"body_markdown":"Thanks simulant you have my LogCat in post now! No errors... :D","body":"Thanks simulant you have my LogCat in post now! No errors... :D"}],"answers":[{"tags":[],"owner":{"account_id":4967441,"reputation":2599,"user_id":3996257,"accept_rate":76,"display_name":"Merl&#237; Escarpenter P&#233;rez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1482229813,"creation_date":1416308929,"answer_id":26992843,"question_id":26991913,"body_markdown":"Solved I just need to change my LinearLayout for FrameLayout! Thanks for all!","title":"Fragments inside LinearLayout - Android","body":"<p>Solved I just need to change my LinearLayout for FrameLayout! Thanks for all!</p>\n"},{"tags":[],"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655653117,"creation_date":1655647719,"answer_id":72677537,"question_id":26991913,"body_markdown":"## It&#39;s this easy:\r\n\r\nIt&#39;s very likely your main activity would look like this. activity_main.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/your_vertical_list&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/ScrollView&gt;\r\n\r\nSay you have a fragment `OneRow` .\r\n\r\nHere&#39;s how you would add three rows.\r\n\r\n    private void addRows() {\r\n        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n        ft.add(R.id.your_vertical_list, new OneRow());\r\n        ft.add(R.id.your_vertical_list, new OneRow());\r\n        ft.add(R.id.your_vertical_list, new OneRow());\r\n        ft.commit();\r\n    }\r\n\r\nNote that in `.add` you simply pass in the layout id, `R.id.your_vertical_list`.\r\n\r\nNormally you&#39;d need the rows, hence\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ArrayList&lt;OneRow&gt; rows = new ArrayList&lt;OneRow&gt;();\r\n    \r\n        private void addRows() {\r\n            FragmentTransaction ft =\r\n              getSupportFragmentManager().beginTransaction();\r\n            for (int i = 0; i &lt; 20; i++) {\r\n                OneRow r = new OneRow();\r\n                rows.add(r);\r\n                ft.add(R.id.your_vertical_list, r);\r\n            }\r\n            ft.commit();\r\n        }\r\n\r\nHowever. Note that **it&#39;s usually better to commit for each item**, especially if you are setting any text labels etc. For example\r\n\r\n        private void addRows() {\r\n            for (int i = 0; i &lt; 20; i++) {\r\n                FragmentTransaction ft =\r\n                  getSupportFragmentManager().beginTransaction();\r\n                OneRow r = new OneRow();\r\n                r.set\r\n                rows.add(r);\r\n                ft.add(R.id.your_vertical_list, r);\r\n                ft.commit();\r\n            }\r\n        }\r\n","title":"Fragments inside LinearLayout - Android","body":"<h2>It's this easy:</h2>\n<p>It's very likely your main activity would look like this. activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;fill_parent&quot;\n    android:layout_height=&quot;fill_parent&quot;&gt;\n    &lt;LinearLayout\n        android:id=&quot;@+id/your_vertical_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>Say you have a fragment <code>OneRow</code> .</p>\n<p>Here's how you would add three rows.</p>\n<pre><code>private void addRows() {\n    FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n    ft.add(R.id.your_vertical_list, new OneRow());\n    ft.add(R.id.your_vertical_list, new OneRow());\n    ft.add(R.id.your_vertical_list, new OneRow());\n    ft.commit();\n}\n</code></pre>\n<p>Note that in <code>.add</code> you simply pass in the layout id, <code>R.id.your_vertical_list</code>.</p>\n<p>Normally you'd need the rows, hence</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ArrayList&lt;OneRow&gt; rows = new ArrayList&lt;OneRow&gt;();\n\n    private void addRows() {\n        FragmentTransaction ft =\n          getSupportFragmentManager().beginTransaction();\n        for (int i = 0; i &lt; 20; i++) {\n            OneRow r = new OneRow();\n            rows.add(r);\n            ft.add(R.id.your_vertical_list, r);\n        }\n        ft.commit();\n    }\n</code></pre>\n<p>However. Note that <strong>it's usually better to commit for each item</strong>, especially if you are setting any text labels etc. For example</p>\n<pre><code>    private void addRows() {\n        for (int i = 0; i &lt; 20; i++) {\n            FragmentTransaction ft =\n              getSupportFragmentManager().beginTransaction();\n            OneRow r = new OneRow();\n            r.set\n            rows.add(r);\n            ft.add(R.id.your_vertical_list, r);\n            ft.commit();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4967441,"reputation":2599,"user_id":3996257,"accept_rate":76,"display_name":"Merl&#237; Escarpenter P&#233;rez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5434,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26992843,"answer_count":2,"score":3,"last_activity_date":1655653117,"creation_date":1416306195,"question_id":26991913,"body_markdown":"I&#39;m new with fragments and I try to use these.\r\nMy xml from activity is:\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Loguin&quot;\r\n    tools:ignore=&quot;MergeRootFrame&quot;&gt;\r\n\r\n        &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Fragment Test&quot;\r\n        android:id=&quot;@+id/btn_FragmentTest&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;0dp&quot; /&gt;\r\n\r\n        &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:id=&quot;@+id/frgContainer&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;&gt;\r\n\r\n        &lt;fragment\r\n            android:id=&quot;@+id/frgLoguin&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:name=&quot;habitatprojects.hubbuildings.Loguin$PlaceholderFragment&quot;\r\n            tools:layout=&quot;@layout/fragment_loguin&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nAnd I want to change the fragment inside of LinearLayout, my class of mainActivity is:\r\n\r\n\r\n    public class Loguin extends Activity {\r\n\r\n    private int num = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_loguin);\r\n        if (savedInstanceState == null) {\r\n            getFragmentManager().beginTransaction()\r\n                    .add(R.id.container, new PlaceholderFragment())\r\n                    .commit();\r\n        }\r\n\r\n        Button btnBoton1 = (Button)findViewById(R.id.btn_FragmentTest);\r\n\r\n        btnBoton1.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View arg0)\r\n            {\r\n                FragmentManager fragmentManager = getFragmentManager();\r\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n\r\n                if(num==0)\r\n                {\r\n                    fragmentTransaction.replace(R.id.frgContainer, new PlaceholderFragment())\r\n                            .commit();\r\n\r\n                    num++;\r\n                }\r\n                else{\r\n                    if(num==1)\r\n                    {\r\n                        fragmentTransaction.replace(R.id.frgContainer, new PlaceholderFragment2())\r\n                                .commit();\r\n\r\n                        num++;\r\n                    }\r\n                    else{\r\n                        fragmentTransaction.replace(R.id.frgContainer, new PlaceholderFragment3())\r\n                                .commit();\r\n\r\n                        num = 0;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n     }\r\n\r\n\r\nAnd my PlaceHolderFunctions are:\r\n\r\n\r\n    public static class PlaceholderFragment extends Fragment {\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            return inflater.inflate(R.layout.fragment_loguin, container, false);\r\n        }\r\n    }\r\n\r\n    public static class PlaceholderFragment2 extends Fragment {\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            return  inflater.inflate(R.layout.fragment_blank, container, false);\r\n        }\r\n    }\r\n\r\n    public static class PlaceholderFragment3 extends Fragment {\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            return inflater.inflate(R.layout.fragment_blank2, container, false);\r\n        }\r\n    }\r\n\r\nWhy doesn&#39;t work when I press the button? What do I doing bad? Srry for my english and thanks in advance!\r\n\r\nPD: If you need more code or info advise me, thanks!\r\n\r\nPD1: When I debug with my device the log cat just say me:\r\n\r\n&gt; 11-18 11:33:30.775    6065-6065/habitatprojects.hubbuildings\r\n&gt; I/ViewRootImpl﹕ ViewRoot&#39;s Touch Event : Touch Down 11-18 11:33:30.835\r\n&gt; 6065-6065/habitatprojects.hubbuildings I/ViewRootImpl﹕ ViewRoot&#39;s\r\n&gt; Touch Event : Touch UP","title":"Fragments inside LinearLayout - Android","body":"<p>I'm new with fragments and I try to use these.\nMy xml from activity is:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/container\"\nandroid:orientation=\"vertical\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".Loguin\"\ntools:ignore=\"MergeRootFrame\"&gt;\n\n    &lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Fragment Test\"\n    android:id=\"@+id/btn_FragmentTest\"\n    android:layout_gravity=\"center_horizontal\"\n    android:layout_marginTop=\"20dp\"\n    android:layout_marginBottom=\"0dp\" /&gt;\n\n    &lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\"\n    android:id=\"@+id/frgContainer\"\n    android:layout_marginTop=\"20dp\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/frgLoguin\"\n        android:layout_marginTop=\"20dp\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:name=\"habitatprojects.hubbuildings.Loguin$PlaceholderFragment\"\n        tools:layout=\"@layout/fragment_loguin\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And I want to change the fragment inside of LinearLayout, my class of mainActivity is:</p>\n\n<pre><code>public class Loguin extends Activity {\n\nprivate int num = 0;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_loguin);\n    if (savedInstanceState == null) {\n        getFragmentManager().beginTransaction()\n                .add(R.id.container, new PlaceholderFragment())\n                .commit();\n    }\n\n    Button btnBoton1 = (Button)findViewById(R.id.btn_FragmentTest);\n\n    btnBoton1.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View arg0)\n        {\n            FragmentManager fragmentManager = getFragmentManager();\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n\n            if(num==0)\n            {\n                fragmentTransaction.replace(R.id.frgContainer, new PlaceholderFragment())\n                        .commit();\n\n                num++;\n            }\n            else{\n                if(num==1)\n                {\n                    fragmentTransaction.replace(R.id.frgContainer, new PlaceholderFragment2())\n                            .commit();\n\n                    num++;\n                }\n                else{\n                    fragmentTransaction.replace(R.id.frgContainer, new PlaceholderFragment3())\n                            .commit();\n\n                    num = 0;\n                }\n            }\n        }\n    });\n }\n</code></pre>\n\n<p>And my PlaceHolderFunctions are:</p>\n\n<pre><code>public static class PlaceholderFragment extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_loguin, container, false);\n    }\n}\n\npublic static class PlaceholderFragment2 extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        return  inflater.inflate(R.layout.fragment_blank, container, false);\n    }\n}\n\npublic static class PlaceholderFragment3 extends Fragment {\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_blank2, container, false);\n    }\n}\n</code></pre>\n\n<p>Why doesn't work when I press the button? What do I doing bad? Srry for my english and thanks in advance!</p>\n\n<p>PD: If you need more code or info advise me, thanks!</p>\n\n<p>PD1: When I debug with my device the log cat just say me:</p>\n\n<blockquote>\n  <p>11-18 11:33:30.775    6065-6065/habitatprojects.hubbuildings\n  I/ViewRootImpl﹕ ViewRoot's Touch Event : Touch Down 11-18 11:33:30.835\n  6065-6065/habitatprojects.hubbuildings I/ViewRootImpl﹕ ViewRoot's\n  Touch Event : Touch UP</p>\n</blockquote>\n"},{"tags":["java","android","facebook-graph-api"],"comments":[{"owner":{"account_id":1951579,"reputation":2128,"user_id":1755542,"accept_rate":58,"display_name":"kvh"},"score":0,"creation_date":1374197672,"post_id":17736681,"comment_id":25857371,"body_markdown":"do you want to parse parameters (limit,since) and their value in a map?","body":"do you want to parse parameters (limit,since) and their value in a map?"},{"owner":{"account_id":1371289,"reputation":25857,"user_id":1306419,"accept_rate":85,"display_name":"Shobhit Puri"},"score":0,"creation_date":1374197849,"post_id":17736681,"comment_id":25857411,"body_markdown":"You can use `.split()` to split them based on various delimiters like `/` or `?` . Is that what you want?","body":"You can use <code>.split()</code> to split them based on various delimiters like <code>&#47;</code> or <code>?</code> . Is that what you want?"},{"owner":{"account_id":442532,"reputation":5380,"user_id":833182,"accept_rate":68,"display_name":"ChangUZ"},"score":0,"creation_date":1374197874,"post_id":17736681,"comment_id":25857421,"body_markdown":"@kevinhoo Map is good for me. or getParmKeys(), and getParmVal(parmKey)?","body":"@kevinhoo Map is good for me. or getParmKeys(), and getParmVal(parmKey)?"},{"owner":{"account_id":1951579,"reputation":2128,"user_id":1755542,"accept_rate":58,"display_name":"kvh"},"score":0,"creation_date":1374198408,"post_id":17736681,"comment_id":25857570,"body_markdown":"you may be you are looking for this:http://stackoverflow.com/questions/1667278/parsing-query-strings-in-java","body":"you may be you are looking for this:<a href=\"http://stackoverflow.com/questions/1667278/parsing-query-strings-in-java\" title=\"parsing query strings in java\">stackoverflow.com/questions/1667278/&hellip;</a>"},{"owner":{"account_id":442532,"reputation":5380,"user_id":833182,"accept_rate":68,"display_name":"ChangUZ"},"score":0,"creation_date":1374200082,"post_id":17736681,"comment_id":25857929,"body_markdown":"@kevinhoo Yes, Before asking, I could not find good answer.","body":"@kevinhoo Yes, Before asking, I could not find good answer."},{"owner":{"account_id":1951579,"reputation":2128,"user_id":1755542,"accept_rate":58,"display_name":"kvh"},"score":0,"creation_date":1374201348,"post_id":17736681,"comment_id":25858191,"body_markdown":"@ChangUZ before your asking, i use some code i write myself to handle this job.","body":"@ChangUZ before your asking, i use some code i write myself to handle this job."}],"answers":[{"tags":[],"owner":{"account_id":2081598,"reputation":9477,"user_id":1853479,"display_name":"j__m"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1374198262,"creation_date":1374198262,"answer_id":17736833,"question_id":17736681,"body_markdown":"Use Android&#39;s `Uri` class.  http://developer.android.com/reference/android/net/Uri.html\r\n\r\n    Uri uri = Uri.parse(&quot;https://graph.facebook.com/me/home?limit=25&amp;since=1374196005&quot;);\r\n    String protocol = uri.getScheme();\r\n    String server = uri.getAuthority();\r\n    String path = uri.getPath();\r\n    Set&lt;String&gt; args = uri.getQueryParameterNames();\r\n    String limit = uri.getQueryParameter(&quot;limit&quot;);","title":"How to parse or split URL Address in Java?","body":"<p>Use Android's <code>Uri</code> class.  <a href=\"http://developer.android.com/reference/android/net/Uri.html\">http://developer.android.com/reference/android/net/Uri.html</a></p>\n\n<pre><code>Uri uri = Uri.parse(\"https://graph.facebook.com/me/home?limit=25&amp;since=1374196005\");\nString protocol = uri.getScheme();\nString server = uri.getAuthority();\nString path = uri.getPath();\nSet&lt;String&gt; args = uri.getQueryParameterNames();\nString limit = uri.getQueryParameter(\"limit\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2486043,"reputation":1592,"user_id":2164447,"display_name":"Harry.Chen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374199902,"creation_date":1374199902,"answer_id":17737077,"question_id":17736681,"body_markdown":"For pure Java , I think this code should work:\r\n    \r\n    import java.net.URL;\r\n    import java.net.URLDecoder;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class UrlTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry {\r\n    \t\t\tString s = &quot;https://graph.facebook.com/me/home?limit=25&amp;since=1374196005&quot;;\r\n    \t\t\tURL url = new URL(s);\r\n    \t\t\tString query = url.getQuery();\r\n    \t\t\tMap&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\r\n    \t\t\tfor (String q : query.split(&quot;&amp;&quot;)) {\r\n    \t\t\t\tString[] qa = q.split(&quot;=&quot;);\r\n    \t\t\t\tString name = URLDecoder.decode(qa[0]);\r\n    \t\t\t\tString value = &quot;&quot;;\r\n    \t\t\t\tif (qa.length == 2) {\r\n    \t\t\t\t\tvalue = URLDecoder.decode(qa[1]);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tdata.put(name, value);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(data);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to parse or split URL Address in Java?","body":"<p>For pure Java , I think this code should work:</p>\n\n<pre><code>import java.net.URL;\nimport java.net.URLDecoder;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class UrlTest {\n    public static void main(String[] args) {\n        try {\n            String s = \"https://graph.facebook.com/me/home?limit=25&amp;since=1374196005\";\n            URL url = new URL(s);\n            String query = url.getQuery();\n            Map&lt;String, String&gt; data = new HashMap&lt;String, String&gt;();\n            for (String q : query.split(\"&amp;\")) {\n                String[] qa = q.split(\"=\");\n                String name = URLDecoder.decode(qa[0]);\n                String value = \"\";\n                if (qa.length == 2) {\n                    value = URLDecoder.decode(qa[1]);\n                }\n\n                data.put(name, value);\n            }\n            System.out.println(data);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20426340,"reputation":91,"user_id":14986261,"display_name":"nmahnic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630003746,"creation_date":1630003746,"answer_id":68943921,"question_id":17736681,"body_markdown":"In kotlin\r\n\r\nhttps://graph.facebook.com/me/home?limit=25&amp;since=1374196005 \r\n```\r\nimport java.net.URI\r\nimport android.net.Uri\r\n```\r\n```\r\nval uri = URI(viewEvent.qr)\r\nval guid = Uri.parse(uri.fragment).getQueryParameter(&quot;c&quot;)\r\n```","title":"How to parse or split URL Address in Java?","body":"<p>In kotlin</p>\n<p><a href=\"https://graph.facebook.com/me/home?limit=25&amp;since=1374196005\" rel=\"nofollow noreferrer\">https://graph.facebook.com/me/home?limit=25&amp;since=1374196005</a></p>\n<pre><code>import java.net.URI\nimport android.net.Uri\n</code></pre>\n<pre><code>val uri = URI(viewEvent.qr)\nval guid = Uri.parse(uri.fragment).getQueryParameter(&quot;c&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655652977,"creation_date":1655652977,"answer_id":72678210,"question_id":17736681,"body_markdown":"Built-in &lt;code&gt;java.net.URL &lt;/code&gt; should serve.\r\n\r\n    URL url = new URL(&quot;https://graph.facebook.com/me/home?limit=25&amp;since=1374196005&quot;);\r\n\r\n    String[] parts = {\r\n       url.getProtocol(), \r\n       url.getUserInfo(), \r\n       url.getHost(), \r\n       url.getPort(), \r\n       url.getPath(),\r\n\t   url.getQuery(), \r\n       url.getRef() \r\n    };","title":"How to parse or split URL Address in Java?","body":"<p>Built-in <code>java.net.URL </code> should serve.</p>\n<pre><code>URL url = new URL(&quot;https://graph.facebook.com/me/home?limit=25&amp;since=1374196005&quot;);\n\nString[] parts = {\n   url.getProtocol(), \n   url.getUserInfo(), \n   url.getHost(), \n   url.getPort(), \n   url.getPath(),\n   url.getQuery(), \n   url.getRef() \n};\n</code></pre>\n"}],"owner":{"account_id":442532,"reputation":5380,"user_id":833182,"accept_rate":68,"display_name":"ChangUZ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37273,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":17736833,"answer_count":4,"score":21,"last_activity_date":1655652977,"creation_date":1374197119,"question_id":17736681,"body_markdown":"If I have url address.\r\n\r\nhttps://graph.facebook.com/me/home?limit=25&amp;since=1374196005\r\n\r\nCan I get(or split) parameters (avoiding hard coding)?\r\n\r\nLike this\r\n\r\n**https**  ///  **graph.facebook.com**  ///  **me/home**   ///  **{limit=25, sincse=1374196005}**\r\n","title":"How to parse or split URL Address in Java?","body":"<p>If I have url address.</p>\n\n<p><a href=\"https://graph.facebook.com/me/home?limit=25&amp;since=1374196005\" rel=\"noreferrer\">https://graph.facebook.com/me/home?limit=25&amp;since=1374196005</a></p>\n\n<p>Can I get(or split) parameters (avoiding hard coding)?</p>\n\n<p>Like this</p>\n\n<p><strong>https</strong>  ///  <strong>graph.facebook.com</strong>  ///  <strong>me/home</strong>   ///  <strong>{limit=25, sincse=1374196005}</strong></p>\n"},{"tags":["java","url"],"comments":[{"owner":{"account_id":1110523,"reputation":30282,"user_id":1101070,"display_name":"Marvin Pinto"},"score":6,"creation_date":1331149192,"post_id":9607903,"comment_id":12189399,"body_markdown":"Try `http://74.125.226.70` and let me know how that works out :)","body":"Try <code>http:&#47;&#47;74.125.226.70</code> and let me know how that works out :)"},{"owner":{"account_id":155915,"reputation":6798,"user_id":372887,"accept_rate":80,"display_name":"RandomQuestion"},"score":1,"creation_date":1331149310,"post_id":9607903,"comment_id":12189431,"body_markdown":"It just returns IP address. 74.125.226.70","body":"It just returns IP address. 74.125.226.70"},{"owner":{"account_id":1110523,"reputation":30282,"user_id":1101070,"display_name":"Marvin Pinto"},"score":3,"creation_date":1331149365,"post_id":9607903,"comment_id":12189447,"body_markdown":"And how would you get the _domain name_ from that? Assuming that&#39;s what you&#39;re after..","body":"And how would you get the <i>domain name</i> from that? Assuming that&#39;s what you&#39;re after.."},{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":6,"creation_date":1331149855,"post_id":9607903,"comment_id":12189619,"body_markdown":"For example `http://www.de/` or `http://www.com/` will not give the desired results.","body":"For example <code>http:&#47;&#47;www.de&#47;</code> or <code>http:&#47;&#47;www.com&#47;</code> will not give the desired results."}],"answers":[{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"down_vote_count":1,"up_vote_count":349,"is_accepted":true,"score":348,"last_activity_date":1331152897,"creation_date":1331149405,"answer_id":9608008,"question_id":9607903,"body_markdown":"If you want to parse a URL, use [`java.net.URI`](http://docs.oracle.com/javase/7/docs/api/java/net/URI.html).  `java.net.URL` has a bunch of problems -- its `equals` method does a DNS lookup which means code using it can be vulnerable to denial of service attacks when used with untrusted inputs.\r\n\r\n[&quot;Mr. Gosling -- why did you make url equals suck?&quot;](http://brian.pontarelli.com/2006/12/05/mr-gosling-why-did-you-make-url-equals-suck/) explains one such problem.  Just get in the habit of using `java.net.URI` instead.\r\n\r\n\r\n    public static String getDomainName(String url) throws URISyntaxException {\r\n        URI uri = new URI(url);\r\n        String domain = uri.getHost();\r\n        return domain.startsWith(&quot;www.&quot;) ? domain.substring(4) : domain;\r\n    }\r\n\r\nshould do what you want.\r\n\r\n--- \r\n\r\n&gt; Though It seems to work fine, is there any better approach or are there some edge cases, that could fail.\r\n\r\nYour code as written fails for the valid URLs:\r\n\r\n  * `httpfoo/bar` -- relative URL with a path component that starts with `http`.\r\n  * `HTTP://example.com/` -- protocol is case-insensitive.\r\n  * `//example.com/` -- protocol relative URL with a host\r\n  * `www/foo` -- a relative URL with a path component that starts with `www`\r\n  * `wwwexample.com` -- domain name that does not starts with `www.` but starts with `www`.\r\n\r\nHierarchical URLs have a complex grammar.  If you try to roll your own parser without carefully reading RFC 3986, you will probably get it wrong.  Just use the one that&#39;s built into the core libraries.\r\n\r\nIf you really need to deal with messy inputs that `java.net.URI` rejects, see [RFC 3986](http://www.ietf.org/rfc/rfc3986.txt) Appendix B:\r\n\r\n&gt; ###Appendix B.  Parsing a URI Reference with a Regular Expression###\r\n\r\n&gt;   As the &quot;first-match-wins&quot; algorithm is identical to the &quot;greedy&quot;\r\n   disambiguation method used by POSIX regular expressions, it is\r\n   natural and commonplace to use a regular expression for parsing the\r\n   potential five components of a URI reference.\r\n\r\n&gt;   The following line is the regular expression for breaking-down a\r\n   well-formed URI reference into its components.\r\n\r\n&gt;       ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\r\n&gt;        12            3  4          5       6  7        8 9\r\n\r\n&gt;   The numbers in the second line above are only to assist readability;\r\n   they indicate the reference points for each subexpression (i.e., each\r\n   paired parenthesis).","title":"Get domain name from given url","body":"<p>If you want to parse a URL, use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URI.html\"><code>java.net.URI</code></a>.  <code>java.net.URL</code> has a bunch of problems -- its <code>equals</code> method does a DNS lookup which means code using it can be vulnerable to denial of service attacks when used with untrusted inputs.</p>\n\n<p><a href=\"http://brian.pontarelli.com/2006/12/05/mr-gosling-why-did-you-make-url-equals-suck/\">\"Mr. Gosling -- why did you make url equals suck?\"</a> explains one such problem.  Just get in the habit of using <code>java.net.URI</code> instead.</p>\n\n<pre><code>public static String getDomainName(String url) throws URISyntaxException {\n    URI uri = new URI(url);\n    String domain = uri.getHost();\n    return domain.startsWith(\"www.\") ? domain.substring(4) : domain;\n}\n</code></pre>\n\n<p>should do what you want.</p>\n\n<hr>\n\n<blockquote>\n  <p>Though It seems to work fine, is there any better approach or are there some edge cases, that could fail.</p>\n</blockquote>\n\n<p>Your code as written fails for the valid URLs:</p>\n\n<ul>\n<li><code>httpfoo/bar</code> -- relative URL with a path component that starts with <code>http</code>.</li>\n<li><code>HTTP://example.com/</code> -- protocol is case-insensitive.</li>\n<li><code>//example.com/</code> -- protocol relative URL with a host</li>\n<li><code>www/foo</code> -- a relative URL with a path component that starts with <code>www</code></li>\n<li><code>wwwexample.com</code> -- domain name that does not starts with <code>www.</code> but starts with <code>www</code>.</li>\n</ul>\n\n<p>Hierarchical URLs have a complex grammar.  If you try to roll your own parser without carefully reading RFC 3986, you will probably get it wrong.  Just use the one that's built into the core libraries.</p>\n\n<p>If you really need to deal with messy inputs that <code>java.net.URI</code> rejects, see <a href=\"http://www.ietf.org/rfc/rfc3986.txt\">RFC 3986</a> Appendix B:</p>\n\n<blockquote>\n  <h3>Appendix B.  Parsing a URI Reference with a Regular Expression</h3>\n  \n  <p>As the \"first-match-wins\" algorithm is identical to the \"greedy\"\n     disambiguation method used by POSIX regular expressions, it is\n     natural and commonplace to use a regular expression for parsing the\n     potential five components of a URI reference.</p>\n  \n  <p>The following line is the regular expression for breaking-down a\n     well-formed URI reference into its components.</p>\n\n<pre><code>  ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?\n   12            3  4          5       6  7        8 9\n</code></pre>\n  \n  <p>The numbers in the second line above are only to assist readability;\n     they indicate the reference points for each subexpression (i.e., each\n     paired parenthesis).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1385235199,"creation_date":1385230979,"answer_id":20166109,"question_id":9607903,"body_markdown":"I wrote a method (see below) which extracts a url&#39;s domain name and which uses simple String matching. What it actually does is extract the bit between the first `&quot;://&quot;` (or index `0` if there&#39;s no `&quot;://&quot;` contained) and the first subsequent `&quot;/&quot;` (or index `String.length()` if there&#39;s no subsequent `&quot;/&quot;`). The remaining, preceding `&quot;www(_)*.&quot;` bit is chopped off. I&#39;m sure there&#39;ll be cases where this won&#39;t be good enough but it should be good enough in most cases!\r\n\r\nMike Samuel&#39;s post above says that the `java.net.URI` class could do this (and was preferred to the `java.net.URL` class) but I encountered problems with the `URI` class. Notably, `URI.getHost()` gives a null value if the url does not include the scheme, i.e. the `&quot;http(s)&quot;` bit.\r\n\r\n    /**\r\n     * Extracts the domain name from {@code url}\r\n     * by means of String manipulation\r\n     * rather than using the {@link URI} or {@link URL} class.\r\n     *\r\n     * @param url is non-null.\r\n     * @return the domain name within {@code url}.\r\n     */\r\n    public String getUrlDomainName(String url) {\r\n      String domainName = new String(url);\r\n\r\n      int index = domainName.indexOf(&quot;://&quot;);\r\n\r\n      if (index != -1) {\r\n        // keep everything after the &quot;://&quot;\r\n        domainName = domainName.substring(index + 3);\r\n      }\r\n\r\n      index = domainName.indexOf(&#39;/&#39;);\r\n\r\n      if (index != -1) {\r\n        // keep everything before the &#39;/&#39;\r\n        domainName = domainName.substring(0, index);\r\n      }\r\n\r\n      // check for and remove a preceding &#39;www&#39;\r\n      // followed by any sequence of characters (non-greedy)\r\n      // followed by a &#39;.&#39;\r\n      // from the beginning of the string\r\n      domainName = domainName.replaceFirst(&quot;^www.*?\\\\.&quot;, &quot;&quot;);\r\n\r\n      return domainName;\r\n    }","title":"Get domain name from given url","body":"<p>I wrote a method (see below) which extracts a url's domain name and which uses simple String matching. What it actually does is extract the bit between the first <code>\"://\"</code> (or index <code>0</code> if there's no <code>\"://\"</code> contained) and the first subsequent <code>\"/\"</code> (or index <code>String.length()</code> if there's no subsequent <code>\"/\"</code>). The remaining, preceding <code>\"www(_)*.\"</code> bit is chopped off. I'm sure there'll be cases where this won't be good enough but it should be good enough in most cases!</p>\n\n<p>Mike Samuel's post above says that the <code>java.net.URI</code> class could do this (and was preferred to the <code>java.net.URL</code> class) but I encountered problems with the <code>URI</code> class. Notably, <code>URI.getHost()</code> gives a null value if the url does not include the scheme, i.e. the <code>\"http(s)\"</code> bit.</p>\n\n<pre><code>/**\n * Extracts the domain name from {@code url}\n * by means of String manipulation\n * rather than using the {@link URI} or {@link URL} class.\n *\n * @param url is non-null.\n * @return the domain name within {@code url}.\n */\npublic String getUrlDomainName(String url) {\n  String domainName = new String(url);\n\n  int index = domainName.indexOf(\"://\");\n\n  if (index != -1) {\n    // keep everything after the \"://\"\n    domainName = domainName.substring(index + 3);\n  }\n\n  index = domainName.indexOf('/');\n\n  if (index != -1) {\n    // keep everything before the '/'\n    domainName = domainName.substring(0, index);\n  }\n\n  // check for and remove a preceding 'www'\n  // followed by any sequence of characters (non-greedy)\n  // followed by a '.'\n  // from the beginning of the string\n  domainName = domainName.replaceFirst(\"^www.*?\\\\.\", \"\");\n\n  return domainName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":764686,"reputation":1385,"user_id":792092,"display_name":"Michael Tarimo"},"down_vote_count":2,"up_vote_count":117,"is_accepted":false,"score":115,"last_activity_date":1413898819,"creation_date":1393476616,"answer_id":22059289,"question_id":9607903,"body_markdown":"    import java.net.*;\r\n    import java.io.*;\r\n\r\n    public class ParseURL {\r\n      public static void main(String[] args) throws Exception {\r\n\r\n        URL aURL = new URL(&quot;http://example.com:80/docs/books/tutorial&quot;\r\n                           + &quot;/index.html?name=networking#DOWNLOADING&quot;);\r\n\r\n        System.out.println(&quot;protocol = &quot; + aURL.getProtocol()); //http\r\n        System.out.println(&quot;authority = &quot; + aURL.getAuthority()); //example.com:80\r\n        System.out.println(&quot;host = &quot; + aURL.getHost()); //example.com\r\n        System.out.println(&quot;port = &quot; + aURL.getPort()); //80\r\n        System.out.println(&quot;path = &quot; + aURL.getPath()); //  /docs/books/tutorial/index.html\r\n        System.out.println(&quot;query = &quot; + aURL.getQuery()); //name=networking\r\n        System.out.println(&quot;filename = &quot; + aURL.getFile()); ///docs/books/tutorial/index.html?name=networking\r\n        System.out.println(&quot;ref = &quot; + aURL.getRef()); //DOWNLOADING\r\n      }\r\n    }\r\n\r\n[Read more][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html","title":"Get domain name from given url","body":"<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class ParseURL {\n  public static void main(String[] args) throws Exception {\n\n    URL aURL = new URL(\"http://example.com:80/docs/books/tutorial\"\n                       + \"/index.html?name=networking#DOWNLOADING\");\n\n    System.out.println(\"protocol = \" + aURL.getProtocol()); //http\n    System.out.println(\"authority = \" + aURL.getAuthority()); //example.com:80\n    System.out.println(\"host = \" + aURL.getHost()); //example.com\n    System.out.println(\"port = \" + aURL.getPort()); //80\n    System.out.println(\"path = \" + aURL.getPath()); //  /docs/books/tutorial/index.html\n    System.out.println(\"query = \" + aURL.getQuery()); //name=networking\n    System.out.println(\"filename = \" + aURL.getFile()); ///docs/books/tutorial/index.html?name=networking\n    System.out.println(\"ref = \" + aURL.getRef()); //DOWNLOADING\n  }\n}\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/networking/urls/urlInfo.html\">Read more</a></p>\n"},{"tags":[],"owner":{"account_id":259894,"reputation":523,"user_id":543105,"accept_rate":63,"display_name":"migueloop"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1415099587,"creation_date":1415099587,"answer_id":26733727,"question_id":9607903,"body_markdown":"I made a small treatment after the URI object creation\r\n\r\n     if (url.startsWith(&quot;http:/&quot;)) {\r\n            if (!url.contains(&quot;http://&quot;)) {\r\n                url = url.replaceAll(&quot;http:/&quot;, &quot;http://&quot;);\r\n            }\r\n        } else {\r\n            url = &quot;http://&quot; + url;\r\n        }\r\n        URI uri = new URI(url);\r\n        String domain = uri.getHost();\r\n        return domain.startsWith(&quot;www.&quot;) ? domain.substring(4) : domain;","title":"Get domain name from given url","body":"<p>I made a small treatment after the URI object creation</p>\n\n<pre><code> if (url.startsWith(\"http:/\")) {\n        if (!url.contains(\"http://\")) {\n            url = url.replaceAll(\"http:/\", \"http://\");\n        }\n    } else {\n        url = \"http://\" + url;\n    }\n    URI uri = new URI(url);\n    String domain = uri.getHost();\n    return domain.startsWith(\"www.\") ? domain.substring(4) : domain;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5153933,"reputation":4515,"user_id":4127670,"accept_rate":45,"display_name":"spaceMonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429688185,"creation_date":1429688185,"answer_id":29790774,"question_id":9607903,"body_markdown":"If the input url is user input. this method gives the most appropriate host name. if not found gives back the input url.\r\n\r\n    private String getHostName(String urlInput) {\r\n            urlInput = urlInput.toLowerCase();\r\n            String hostName=urlInput;\r\n            if(!urlInput.equals(&quot;&quot;)){\r\n                if(urlInput.startsWith(&quot;http&quot;) || urlInput.startsWith(&quot;https&quot;)){\r\n                    try{\r\n                        URL netUrl = new URL(urlInput);\r\n                        String host= netUrl.getHost();\r\n                        if(host.startsWith(&quot;www&quot;)){\r\n                            hostName = host.substring(&quot;www&quot;.length()+1);\r\n                        }else{\r\n                            hostName=host;\r\n                        }\r\n                    }catch (MalformedURLException e){\r\n                        hostName=urlInput;\r\n                    }\r\n                }else if(urlInput.startsWith(&quot;www&quot;)){\r\n                    hostName=urlInput.substring(&quot;www&quot;.length()+1);\r\n                }\r\n                return  hostName;\r\n            }else{\r\n                return  &quot;&quot;;\r\n            }\r\n        }","title":"Get domain name from given url","body":"<p>If the input url is user input. this method gives the most appropriate host name. if not found gives back the input url.</p>\n\n<pre><code>private String getHostName(String urlInput) {\n        urlInput = urlInput.toLowerCase();\n        String hostName=urlInput;\n        if(!urlInput.equals(\"\")){\n            if(urlInput.startsWith(\"http\") || urlInput.startsWith(\"https\")){\n                try{\n                    URL netUrl = new URL(urlInput);\n                    String host= netUrl.getHost();\n                    if(host.startsWith(\"www\")){\n                        hostName = host.substring(\"www\".length()+1);\n                    }else{\n                        hostName=host;\n                    }\n                }catch (MalformedURLException e){\n                    hostName=urlInput;\n                }\n            }else if(urlInput.startsWith(\"www\")){\n                hostName=urlInput.substring(\"www\".length()+1);\n            }\n            return  hostName;\n        }else{\n            return  \"\";\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6496078,"reputation":21,"user_id":5028653,"display_name":"Eko Didik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436198162,"creation_date":1436188270,"answer_id":31246813,"question_id":9607903,"body_markdown":"try this one : java.net.URL;  \r\nJOptionPane.showMessageDialog(null, getDomainName(new URL(&quot;https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains&quot;)));\r\n\r\n\r\n    public String getDomainName(URL url){\r\n    String strDomain;\r\n    String[] strhost = url.getHost().split(Pattern.quote(&quot;.&quot;));\r\n    String[] strTLD = {&quot;com&quot;,&quot;org&quot;,&quot;net&quot;,&quot;int&quot;,&quot;edu&quot;,&quot;gov&quot;,&quot;mil&quot;,&quot;arpa&quot;};\r\n \r\n    if(Arrays.asList(strTLD).indexOf(strhost[strhost.length-1])&gt;=0)\r\n        strDomain = strhost[strhost.length-2]+&quot;.&quot;+strhost[strhost.length-1];\r\n    else if(strhost.length&gt;2)\r\n        strDomain = strhost[strhost.length-3]+&quot;.&quot;+strhost[strhost.length-2]+&quot;.&quot;+strhost[strhost.length-1];\r\n    else\r\n        strDomain = strhost[strhost.length-2]+&quot;.&quot;+strhost[strhost.length-1];\r\n    return strDomain;}","title":"Get domain name from given url","body":"<p>try this one : java.net.URL;<br>\nJOptionPane.showMessageDialog(null, getDomainName(new URL(\"<a href=\"https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains\" rel=\"nofollow\">https://en.wikipedia.org/wiki/List_of_Internet_top-level_domains</a>\")));</p>\n\n<pre><code>public String getDomainName(URL url){\nString strDomain;\nString[] strhost = url.getHost().split(Pattern.quote(\".\"));\nString[] strTLD = {\"com\",\"org\",\"net\",\"int\",\"edu\",\"gov\",\"mil\",\"arpa\"};\n\nif(Arrays.asList(strTLD).indexOf(strhost[strhost.length-1])&gt;=0)\n    strDomain = strhost[strhost.length-2]+\".\"+strhost[strhost.length-1];\nelse if(strhost.length&gt;2)\n    strDomain = strhost[strhost.length-3]+\".\"+strhost[strhost.length-2]+\".\"+strhost[strhost.length-1];\nelse\n    strDomain = strhost[strhost.length-2]+\".\"+strhost[strhost.length-1];\nreturn strDomain;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2023117,"reputation":8402,"user_id":1808829,"accept_rate":80,"display_name":"Ayaz Alifov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451078793,"creation_date":1451078793,"answer_id":34466564,"question_id":9607903,"body_markdown":"There is a similar question [Extract main domain name from a given url][1].  If you take a look at this [answer ][2], you will see that it is very easy. You just need to use `java.net.URL` and `String` utility - `Split`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7217271/extract-main-domain-name-from-a-given-url/\r\n  [2]: https://stackoverflow.com/a/34466483/1808829","title":"Get domain name from given url","body":"<p>There is a similar question <a href=\"https://stackoverflow.com/questions/7217271/extract-main-domain-name-from-a-given-url/\">Extract main domain name from a given url</a>.  If you take a look at this <a href=\"https://stackoverflow.com/a/34466483/1808829\">answer </a>, you will see that it is very easy. You just need to use <code>java.net.URL</code> and <code>String</code> utility - <code>Split</code></p>\n"},{"tags":[],"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1475098841,"creation_date":1474411461,"answer_id":39604852,"question_id":9607903,"body_markdown":"Here is a short and simple line using `InternetDomainName.topPrivateDomain()` in Guava: `InternetDomainName.from(new URL(url).getHost()).topPrivateDomain().toString()`\r\n\r\nGiven `http://www.google.com/blah`, that will give you `google.com`. Or, given `http://www.google.co.mx`, it will give you `google.co.mx`.\r\n\r\nAs [Sa Qada][1] commented in [another answer on this post][2], this question has been asked earlier: https://stackoverflow.com/questions/7217271/extract-main-domain-name-from-a-given-url/. The [best answer][3] to that question is from [Satya][4], who suggests Guava&#39;s [InternetDomainName.topPrivateDomain()][5]\r\n\r\n&gt; public boolean isTopPrivateDomain()\r\n&gt; \r\n&gt; Indicates whether this domain name is composed of exactly one\r\n&gt; subdomain component followed by a public suffix. For example, returns\r\n&gt; true for google.com and foo.co.uk, but not for www.google.com or\r\n&gt; co.uk. \r\n\r\n&gt; Warning: A true result from this method does not imply that the\r\n&gt; domain is at the highest level which is addressable as a host, as many\r\n&gt; public suffixes are also addressable hosts. For example, the domain\r\n&gt; bar.uk.com has a public suffix of uk.com, so it would return true from\r\n&gt; this method. But uk.com is itself an addressable host.\r\n&gt; \r\n&gt; This method can be used to determine whether a domain is probably the\r\n&gt; highest level for which cookies may be set, though even that depends\r\n&gt; on individual browsers&#39; implementations of cookie controls. See RFC\r\n&gt; 2109 for details.\r\n\r\nPutting that together with `URL.getHost()`, which the original post already contains, gives you: \r\n\r\n    import com.google.common.net.InternetDomainName;\r\n    \r\n    import java.net.URL;\r\n    \r\n    public class DomainNameMain {\r\n    \r\n      public static void main(final String... args) throws Exception {\r\n        final String urlString = &quot;http://www.google.com/blah&quot;;\r\n        final URL url = new URL(urlString);\r\n        final String host = url.getHost();\r\n        final InternetDomainName name = InternetDomainName.from(host).topPrivateDomain();\r\n        System.out.println(urlString);\r\n        System.out.println(host);\r\n        System.out.println(name);\r\n      }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/1808829/sa-qada\r\n  [2]: https://stackoverflow.com/a/34466564/266531\r\n  [3]: https://stackoverflow.com/a/21125823/266531\r\n  [4]: https://stackoverflow.com/users/3071465/satya\r\n  [5]: https://google.github.io/guava/releases/snapshot/api/docs/index.html?com/google/common/net/InternetDomainName.html\r\n","title":"Get domain name from given url","body":"<p>Here is a short and simple line using <code>InternetDomainName.topPrivateDomain()</code> in Guava: <code>InternetDomainName.from(new URL(url).getHost()).topPrivateDomain().toString()</code></p>\n\n<p>Given <code>http://www.google.com/blah</code>, that will give you <code>google.com</code>. Or, given <code>http://www.google.co.mx</code>, it will give you <code>google.co.mx</code>.</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/1808829/sa-qada\">Sa Qada</a> commented in <a href=\"https://stackoverflow.com/a/34466564/266531\">another answer on this post</a>, this question has been asked earlier: <a href=\"https://stackoverflow.com/questions/7217271/extract-main-domain-name-from-a-given-url/\">Extract main domain name from a given url</a>. The <a href=\"https://stackoverflow.com/a/21125823/266531\">best answer</a> to that question is from <a href=\"https://stackoverflow.com/users/3071465/satya\">Satya</a>, who suggests Guava's <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/index.html?com/google/common/net/InternetDomainName.html\" rel=\"noreferrer\">InternetDomainName.topPrivateDomain()</a></p>\n\n<blockquote>\n  <p>public boolean isTopPrivateDomain()</p>\n  \n  <p>Indicates whether this domain name is composed of exactly one\n  subdomain component followed by a public suffix. For example, returns\n  true for google.com and foo.co.uk, but not for www.google.com or\n  co.uk. </p>\n  \n  <p>Warning: A true result from this method does not imply that the\n  domain is at the highest level which is addressable as a host, as many\n  public suffixes are also addressable hosts. For example, the domain\n  bar.uk.com has a public suffix of uk.com, so it would return true from\n  this method. But uk.com is itself an addressable host.</p>\n  \n  <p>This method can be used to determine whether a domain is probably the\n  highest level for which cookies may be set, though even that depends\n  on individual browsers' implementations of cookie controls. See RFC\n  2109 for details.</p>\n</blockquote>\n\n<p>Putting that together with <code>URL.getHost()</code>, which the original post already contains, gives you: </p>\n\n<pre><code>import com.google.common.net.InternetDomainName;\n\nimport java.net.URL;\n\npublic class DomainNameMain {\n\n  public static void main(final String... args) throws Exception {\n    final String urlString = \"http://www.google.com/blah\";\n    final URL url = new URL(urlString);\n    final String host = url.getHost();\n    final InternetDomainName name = InternetDomainName.from(host).topPrivateDomain();\n    System.out.println(urlString);\n    System.out.println(host);\n    System.out.println(name);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1157359,"reputation":2977,"user_id":1137624,"accept_rate":75,"display_name":"cegprakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578911341,"creation_date":1478186112,"answer_id":40405173,"question_id":9607903,"body_markdown":"    private static final String hostExtractorRegexString = &quot;(?:https?://)?(?:www\\\\.)?(.+\\\\.)(com|au\\\\.uk|co\\\\.in|be|in|uk|org\\\\.in|org|net|edu|gov|mil)&quot;;\r\n    private static final Pattern hostExtractorRegexPattern = Pattern.compile(hostExtractorRegexString);\r\n\r\n    public static String getDomainName(String url){\r\n        if (url == null) return null;\r\n        url = url.trim();\r\n        Matcher m = hostExtractorRegexPattern.matcher(url);\r\n        if(m.find() &amp;&amp; m.groupCount() == 2) {\r\n            return m.group(1) + m.group(2);\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n**Explanation :**\r\nThe regex has 4 groups. The first two are non-matching groups and the next two are matching groups.\r\n\r\nThe first non-matching group is &quot;http&quot; or &quot;https&quot; or &quot;&quot;\r\n\r\nThe second non-matching group is &quot;www.&quot; or &quot;&quot;\r\n\r\nThe second matching group is the [top level domain][1]\r\n\r\nThe first matching group is anything after the non-matching groups and anything before the top level domain\r\n\r\nThe concatenation of the two matching groups will give us the domain/host name.\r\n\r\nPS : Note that you can add any number of supported domains to the regex.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Generic_top-level_domain","title":"Get domain name from given url","body":"<pre><code>private static final String hostExtractorRegexString = \"(?:https?://)?(?:www\\\\.)?(.+\\\\.)(com|au\\\\.uk|co\\\\.in|be|in|uk|org\\\\.in|org|net|edu|gov|mil)\";\nprivate static final Pattern hostExtractorRegexPattern = Pattern.compile(hostExtractorRegexString);\n\npublic static String getDomainName(String url){\n    if (url == null) return null;\n    url = url.trim();\n    Matcher m = hostExtractorRegexPattern.matcher(url);\n    if(m.find() &amp;&amp; m.groupCount() == 2) {\n        return m.group(1) + m.group(2);\n    }\n    return null;\n}\n</code></pre>\n\n<p><strong>Explanation :</strong>\nThe regex has 4 groups. The first two are non-matching groups and the next two are matching groups.</p>\n\n<p>The first non-matching group is \"http\" or \"https\" or \"\"</p>\n\n<p>The second non-matching group is \"www.\" or \"\"</p>\n\n<p>The second matching group is the <a href=\"https://en.wikipedia.org/wiki/Generic_top-level_domain\" rel=\"nofollow noreferrer\">top level domain</a></p>\n\n<p>The first matching group is anything after the non-matching groups and anything before the top level domain</p>\n\n<p>The concatenation of the two matching groups will give us the domain/host name.</p>\n\n<p>PS : Note that you can add any number of supported domains to the regex.</p>\n"},{"tags":[],"owner":{"account_id":13448197,"reputation":499,"user_id":9703621,"display_name":"Laurent"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578760892,"creation_date":1544183806,"answer_id":53669093,"question_id":9607903,"body_markdown":"In my case i only needed the main domain and not the subdomain (no &quot;www&quot; or whatever the subdomain is) :\r\n\r\n    public static String getUrlDomain(String url) throws URISyntaxException {\r\n        URI uri = new URI(url);\r\n        String domain = uri.getHost();\r\n        String[] domainArray = domain.split(&quot;\\\\.&quot;);\r\n        if (domainArray.length == 1) {\r\n        \treturn domainArray[0];\r\n        }\r\n       \treturn domainArray[domainArray.length - 2] + &quot;.&quot; + domainArray[domainArray.length - 1];\r\n    }\r\n\r\nWith this method the url &quot;https://rest.webtoapp.io/llSlider?lg=en&amp;t=8&quot; will have for domain &quot;webtoapp.io&quot;.","title":"Get domain name from given url","body":"<p>In my case i only needed the main domain and not the subdomain (no \"www\" or whatever the subdomain is) :</p>\n\n<pre><code>public static String getUrlDomain(String url) throws URISyntaxException {\n    URI uri = new URI(url);\n    String domain = uri.getHost();\n    String[] domainArray = domain.split(\"\\\\.\");\n    if (domainArray.length == 1) {\n        return domainArray[0];\n    }\n    return domainArray[domainArray.length - 2] + \".\" + domainArray[domainArray.length - 1];\n}\n</code></pre>\n\n<p>With this method the url \"<a href=\"https://rest.webtoapp.io/llSlider?lg=en&amp;t=8\" rel=\"nofollow noreferrer\">https://rest.webtoapp.io/llSlider?lg=en&amp;t=8</a>\" will have for domain \"webtoapp.io\".</p>\n"},{"tags":[],"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553182648,"creation_date":1553182648,"answer_id":55284102,"question_id":9607903,"body_markdown":"All the above are good. This one seems really simple to me and easy to understand. Excuse the quotes. I wrote it for Groovy inside a class called DataCenter.\r\n\r\n    static String extractDomainName(String url) {\r\n        int start = url.indexOf(&#39;://&#39;)\r\n        if (start &lt; 0) {\r\n            start = 0\r\n        } else {\r\n            start += 3\r\n        }\r\n        int end = url.indexOf(&#39;/&#39;, start)\r\n        if (end &lt; 0) {\r\n            end = url.length()\r\n        }\r\n        String domainName = url.substring(start, end)\r\n\r\n        int port = domainName.indexOf(&#39;:&#39;)\r\n        if (port &gt;= 0) {\r\n            domainName = domainName.substring(0, port)\r\n        }\r\n        domainName\r\n    }\r\n\r\nAnd here are some junit4 tests:\r\n\r\n    @Test\r\n    void shouldFindDomainName() {\r\n        assert DataCenter.extractDomainName(&#39;http://example.com/path/&#39;) == &#39;example.com&#39;\r\n        assert DataCenter.extractDomainName(&#39;http://subpart.example.com/path/&#39;) == &#39;subpart.example.com&#39;\r\n        assert DataCenter.extractDomainName(&#39;http://example.com&#39;) == &#39;example.com&#39;\r\n        assert DataCenter.extractDomainName(&#39;http://example.com:18445/path/&#39;) == &#39;example.com&#39;\r\n        assert DataCenter.extractDomainName(&#39;example.com/path/&#39;) == &#39;example.com&#39;\r\n        assert DataCenter.extractDomainName(&#39;example.com&#39;) == &#39;example.com&#39;\r\n    }\r\n","title":"Get domain name from given url","body":"<p>All the above are good. This one seems really simple to me and easy to understand. Excuse the quotes. I wrote it for Groovy inside a class called DataCenter.</p>\n\n<pre><code>static String extractDomainName(String url) {\n    int start = url.indexOf('://')\n    if (start &lt; 0) {\n        start = 0\n    } else {\n        start += 3\n    }\n    int end = url.indexOf('/', start)\n    if (end &lt; 0) {\n        end = url.length()\n    }\n    String domainName = url.substring(start, end)\n\n    int port = domainName.indexOf(':')\n    if (port &gt;= 0) {\n        domainName = domainName.substring(0, port)\n    }\n    domainName\n}\n</code></pre>\n\n<p>And here are some junit4 tests:</p>\n\n<pre><code>@Test\nvoid shouldFindDomainName() {\n    assert DataCenter.extractDomainName('http://example.com/path/') == 'example.com'\n    assert DataCenter.extractDomainName('http://subpart.example.com/path/') == 'subpart.example.com'\n    assert DataCenter.extractDomainName('http://example.com') == 'example.com'\n    assert DataCenter.extractDomainName('http://example.com:18445/path/') == 'example.com'\n    assert DataCenter.extractDomainName('example.com/path/') == 'example.com'\n    assert DataCenter.extractDomainName('example.com') == 'example.com'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6953543,"reputation":978,"user_id":5335382,"display_name":"Shivam Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578035949,"creation_date":1578035949,"answer_id":59574613,"question_id":9607903,"body_markdown":"One of the way I did and worked for all of the cases is using Guava Library and regex in combination.\r\n\r\n    public static String getDomainNameWithGuava(String url) throws MalformedURLException, \r\n      URISyntaxException {\r\n        String host =new URL(url).getHost();\r\n        String domainName=&quot;&quot;;\r\n        try{\r\n            domainName = InternetDomainName.from(host).topPrivateDomain().toString();\r\n        }catch (IllegalStateException | IllegalArgumentException e){\r\n            domainName= getDomain(url,true);\r\n        }\r\n        return domainName;\r\n    }\r\n\r\ngetDomain() can be any common method with regex.","title":"Get domain name from given url","body":"<p>One of the way I did and worked for all of the cases is using Guava Library and regex in combination.</p>\n\n<pre><code>public static String getDomainNameWithGuava(String url) throws MalformedURLException, \n  URISyntaxException {\n    String host =new URL(url).getHost();\n    String domainName=\"\";\n    try{\n        domainName = InternetDomainName.from(host).topPrivateDomain().toString();\n    }catch (IllegalStateException | IllegalArgumentException e){\n        domainName= getDomain(url,true);\n    }\n    return domainName;\n}\n</code></pre>\n\n<p>getDomain() can be any common method with regex.</p>\n"},{"tags":[],"owner":{"account_id":14636108,"reputation":1436,"user_id":10570201,"display_name":"nhcodes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590172456,"creation_date":1590172456,"answer_id":61961697,"question_id":9607903,"body_markdown":"To get the actual domain name, without the subdomain, I use:\r\n\r\n    private String getDomainName(String url) throws URISyntaxException {\r\n        String hostName = new URI(url).getHost();\r\n        if (!hostName.contains(&quot;.&quot;)) {\r\n            return hostName;\r\n        }\r\n        String[] host = hostName.split(&quot;\\\\.&quot;);\r\n        return host[host.length - 2];\r\n    }\r\n\r\nNote that this won&#39;t work with second-level domains (like .co.uk).","title":"Get domain name from given url","body":"<p>To get the actual domain name, without the subdomain, I use:</p>\n\n<pre><code>private String getDomainName(String url) throws URISyntaxException {\n    String hostName = new URI(url).getHost();\n    if (!hostName.contains(\".\")) {\n        return hostName;\n    }\n    String[] host = hostName.split(\"\\\\.\");\n    return host[host.length - 2];\n}\n</code></pre>\n\n<p>Note that this won't work with second-level domains (like .co.uk).</p>\n"},{"tags":[],"owner":{"account_id":6479349,"reputation":49,"user_id":5016934,"display_name":"Dean Spencer"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1603725185,"creation_date":1603696812,"answer_id":64532873,"question_id":9607903,"body_markdown":"```val host = url.split(&quot;/&quot;)[2]```","title":"Get domain name from given url","body":"<p><code>val host = url.split(&quot;/&quot;)[2]</code></p>\n"},{"tags":[],"owner":{"account_id":388570,"reputation":88646,"user_id":747579,"accept_rate":72,"display_name":"Abdennour TOUMI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611043002,"creation_date":1611042639,"answer_id":65787318,"question_id":9607903,"body_markdown":"```groovy\r\n// groovy\r\nString hostname ={url -&gt; url[(url.indexOf(&#39;://&#39;)+ 3)..-1]​.split(&#39;/&#39;)[0]​ }\r\n\r\nhostname(&#39;http://hello.world.com/something&#39;) // return &#39;hello.world.com&#39;\r\nhostname(&#39;docker://quay.io/skopeo/stable&#39;) // return &#39;quay.io&#39;\r\n```","title":"Get domain name from given url","body":"<pre><code>// groovy\nString hostname ={url -&gt; url[(url.indexOf('://')+ 3)..-1]​.split('/')[0]​ }\n\nhostname('http://hello.world.com/something') // return 'hello.world.com'\nhostname('docker://quay.io/skopeo/stable') // return 'quay.io'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655652925,"creation_date":1655652925,"answer_id":72678203,"question_id":9607903,"body_markdown":"```kotlin\r\nconst val WWW = &quot;www.&quot;\r\n\r\nfun URL.domain(): String {\r\n    val domain: String = this.host\r\n    return if (domain.startsWith(ConstUtils.WWW)) {\r\n        domain.substring(ConstUtils.WWW.length)\r\n    } else {\r\n        domain\r\n    }\r\n}\r\n```","title":"Get domain name from given url","body":"<pre class=\"lang-kotlin prettyprint-override\"><code>const val WWW = &quot;www.&quot;\n\nfun URL.domain(): String {\n    val domain: String = this.host\n    return if (domain.startsWith(ConstUtils.WWW)) {\n        domain.substring(ConstUtils.WWW.length)\n    } else {\n        domain\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":155915,"reputation":6798,"user_id":372887,"accept_rate":80,"display_name":"RandomQuestion"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264321,"favorite_count":0,"down_vote_count":0,"up_vote_count":162,"accepted_answer_id":9608008,"answer_count":16,"score":162,"last_activity_date":1655652925,"creation_date":1331148964,"question_id":9607903,"body_markdown":"Given a URL, I want to extract domain name(It should not include &#39;www&#39; part). Url can contain http/https. Here is the java code that I wrote. Though It seems to work fine, is there any better approach or are there some edge cases, that could fail.\r\n\r\n    public static String getDomainName(String url) throws MalformedURLException{\r\n        if(!url.startsWith(&quot;http&quot;) &amp;&amp; !url.startsWith(&quot;https&quot;)){\r\n             url = &quot;http://&quot; + url;\r\n        }        \r\n        URL netUrl = new URL(url);\r\n        String host = netUrl.getHost();\r\n        if(host.startsWith(&quot;www&quot;)){\r\n            host = host.substring(&quot;www&quot;.length()+1);\r\n        }\r\n        return host;\r\n    }\r\n\r\nInput: http://google.com/blah\r\n\r\nOutput: google.com","title":"Get domain name from given url","body":"<p>Given a URL, I want to extract domain name(It should not include 'www' part). Url can contain http/https. Here is the java code that I wrote. Though It seems to work fine, is there any better approach or are there some edge cases, that could fail.</p>\n\n<pre><code>public static String getDomainName(String url) throws MalformedURLException{\n    if(!url.startsWith(\"http\") &amp;&amp; !url.startsWith(\"https\")){\n         url = \"http://\" + url;\n    }        \n    URL netUrl = new URL(url);\n    String host = netUrl.getHost();\n    if(host.startsWith(\"www\")){\n        host = host.substring(\"www\".length()+1);\n    }\n    return host;\n}\n</code></pre>\n\n<p>Input: <a href=\"http://google.com/blah\" rel=\"noreferrer\">http://google.com/blah</a></p>\n\n<p>Output: google.com</p>\n"},{"tags":["java","postgresql","jpa","predicate"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1593449178,"post_id":62642821,"comment_id":110779401,"body_markdown":"Unrelated to your actual question: if you want to check if `foo` contains the **keys**, `&#39;A&#39;` or `&#39;B&#39;` your whole query can be simplified to `select *\nfrom Z where (bar -&gt; &#39;foo&#39;) ?| array[&#39;A&#39;, &#39;B&#39;]`","body":"Unrelated to your actual question: if you want to check if <code>foo</code> contains the <b>keys</b>, <code>&#39;A&#39;</code> or <code>&#39;B&#39;</code> your whole query can be simplified to <code>select * from Z where (bar -&gt; &#39;foo&#39;) ?| array[&#39;A&#39;, &#39;B&#39;]</code>"},{"owner":{"account_id":18959904,"reputation":1,"user_id":13835682,"display_name":"Yikui17"},"score":0,"creation_date":1593449989,"post_id":62642821,"comment_id":110779722,"body_markdown":"Thanks for the reply. I know that, but unfortunately I could not make predicates work with operators, so I had to use functions.","body":"Thanks for the reply. I know that, but unfortunately I could not make predicates work with operators, so I had to use functions."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1593452299,"post_id":62642821,"comment_id":110780816,"body_markdown":"The joys of obfuscation layers. They make all the advanced stuff next to impossible. The operator could make use of an index, but your function solution will never be able to use an index","body":"The joys of obfuscation layers. They make all the advanced stuff next to impossible. The operator could make use of an index, but your function solution will never be able to use an index"}],"answers":[{"tags":[],"owner":{"account_id":11172965,"reputation":43,"user_id":8199408,"display_name":"INeedHelp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598028563,"creation_date":1598028563,"answer_id":63526963,"question_id":62642821,"body_markdown":"Your example is unfortunately not very understandable to me. In my humble opinion that query can and should be simplified.\r\nNone the less there is a way to get jsonb_extract_path (and other jsonb functions) into a JPA predicate (using hibernate as an implementation).\r\n\r\nLet&#39;s say u want to retrieve from your **z** table the record(s) where **bar.foo** exists.\r\n\r\nThe sql for it would look like this:\r\n\r\n`select * from z where jsonb_extract_path(bar, &#39;foo&#39;) is not null;`\r\n\r\nTo get this query into a JPA predicate you will need to write an own predicate that extends\r\n\r\n`org.hibernate.query.criteria.internal.predicate.AbstractSimplePredicate`\r\n\r\nand implements\r\n\r\n`org.hibernate.query.criteria.internal.expression.BinaryOperatorExpression`\r\n\r\n    import org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\r\n    import org.hibernate.query.criteria.internal.ParameterRegistry;\r\n    import org.hibernate.query.criteria.internal.Renderable;\r\n    import org.hibernate.query.criteria.internal.compile.RenderingContext;\r\n    import org.hibernate.query.criteria.internal.expression.BinaryOperatorExpression;\r\n    import org.hibernate.query.criteria.internal.expression.LiteralExpression;\r\n    import org.hibernate.query.criteria.internal.predicate.AbstractSimplePredicate;\r\n\r\n    import javax.persistence.criteria.Expression;\r\n    import java.io.Serializable;\r\n\r\n    import static java.lang.String.format;\r\n\r\n\r\n    public class ExtractJsonPath extends AbstractSimplePredicate implements\r\n        BinaryOperatorExpression&lt;Boolean&gt;, Serializable {\r\n\r\n       private final Expression&lt;?&gt; leftHandSide;\r\n\r\n       private final Expression&lt;?&gt; rightHandSide;\r\n\r\n       public ExtractJsonPath(CriteriaBuilderImpl criteriaBuilder, Expression&lt;?&gt; leftHandSide, Expression&lt;?&gt; rightHandSide) {\r\n           super(criteriaBuilder);\r\n           this.leftHandSide = leftHandSide;\r\n           this.rightHandSide = rightHandSide;\r\n       }\r\n\r\n\r\n       @Override\r\n       public Expression getLeftHandOperand() {\r\n          return leftHandSide;\r\n       }\r\n\r\n       @Override\r\n       public Expression getRightHandOperand() {\r\n           return rightHandSide;\r\n       }\r\n\r\n       @Override\r\n       public void registerParameters(ParameterRegistry registry) {\r\n           Helper.possibleParameter(getLeftHandOperand(), registry);\r\n           Helper.possibleParameter(getRightHandOperand(), registry);\r\n       }\r\n\r\n       @Override\r\n       public String render(boolean isNegated, RenderingContext renderingContext) {\r\n           return format(\r\n                &quot; jsonb_extract_path(%s, %s) &quot;,\r\n                ((Renderable) getLeftHandOperand()).render(renderingContext),\r\n                ((Renderable) getRightHandOperand()).render(renderingContext)\r\n           );\r\n        }\r\n    }\r\n\r\nSomewhere in your code you will need to put a where-clause in a query:\r\n\r\n      query.where(builder.isNotNull(\r\n                new ExtractJsonPath(\r\n                        (CriteriaBuilderImpl) builder,\r\n                        root.get(&quot;bar&quot;),\r\n                        builder.literal(&quot;foo&quot;)\r\n                ));\r\n\r\nAnd so u could use that function in a JPA predicate.\r\nNote that you can deep nest that construct.. If you need to check that **bar.foo.x** exists, you&#39;d write:\r\n\r\n               new ExtractJsonPath(\r\n                        (CriteriaBuilderImpl) builder,\r\n                        new ExtractJsonPath(\r\n                                 (CriteriaBuilderImpl) builder,\r\n                                 root.get(&quot;bar&quot;),\r\n                                 builder.literal(&quot;foo&quot;)\r\n                        ),\r\n                        builder.literal(&quot;x&quot;)\r\n               ));\r\n\r\nSimpler in sql, since you could just write:\r\n\r\n`select * from z where jsonb_extract_path(bar, &#39;foo&#39;, &#39;x&#39;) is not null;`\r\n\r\nAt this point i would like to apologize for not fully adopting your example.\r\nI hope this is an acceptable suggestion (or at least a descent start) and wish you a lot of success.","title":"How to create a JPA Predicate using complex Jsonb Postgresql column?","body":"<p>Your example is unfortunately not very understandable to me. In my humble opinion that query can and should be simplified.\nNone the less there is a way to get jsonb_extract_path (and other jsonb functions) into a JPA predicate (using hibernate as an implementation).</p>\n<p>Let's say u want to retrieve from your <strong>z</strong> table the record(s) where <strong>bar.foo</strong> exists.</p>\n<p>The sql for it would look like this:</p>\n<p><code>select * from z where jsonb_extract_path(bar, 'foo') is not null;</code></p>\n<p>To get this query into a JPA predicate you will need to write an own predicate that extends</p>\n<p><code>org.hibernate.query.criteria.internal.predicate.AbstractSimplePredicate</code></p>\n<p>and implements</p>\n<p><code>org.hibernate.query.criteria.internal.expression.BinaryOperatorExpression</code></p>\n<pre><code>import org.hibernate.query.criteria.internal.CriteriaBuilderImpl;\nimport org.hibernate.query.criteria.internal.ParameterRegistry;\nimport org.hibernate.query.criteria.internal.Renderable;\nimport org.hibernate.query.criteria.internal.compile.RenderingContext;\nimport org.hibernate.query.criteria.internal.expression.BinaryOperatorExpression;\nimport org.hibernate.query.criteria.internal.expression.LiteralExpression;\nimport org.hibernate.query.criteria.internal.predicate.AbstractSimplePredicate;\n\nimport javax.persistence.criteria.Expression;\nimport java.io.Serializable;\n\nimport static java.lang.String.format;\n\n\npublic class ExtractJsonPath extends AbstractSimplePredicate implements\n    BinaryOperatorExpression&lt;Boolean&gt;, Serializable {\n\n   private final Expression&lt;?&gt; leftHandSide;\n\n   private final Expression&lt;?&gt; rightHandSide;\n\n   public ExtractJsonPath(CriteriaBuilderImpl criteriaBuilder, Expression&lt;?&gt; leftHandSide, Expression&lt;?&gt; rightHandSide) {\n       super(criteriaBuilder);\n       this.leftHandSide = leftHandSide;\n       this.rightHandSide = rightHandSide;\n   }\n\n\n   @Override\n   public Expression getLeftHandOperand() {\n      return leftHandSide;\n   }\n\n   @Override\n   public Expression getRightHandOperand() {\n       return rightHandSide;\n   }\n\n   @Override\n   public void registerParameters(ParameterRegistry registry) {\n       Helper.possibleParameter(getLeftHandOperand(), registry);\n       Helper.possibleParameter(getRightHandOperand(), registry);\n   }\n\n   @Override\n   public String render(boolean isNegated, RenderingContext renderingContext) {\n       return format(\n            &quot; jsonb_extract_path(%s, %s) &quot;,\n            ((Renderable) getLeftHandOperand()).render(renderingContext),\n            ((Renderable) getRightHandOperand()).render(renderingContext)\n       );\n    }\n}\n</code></pre>\n<p>Somewhere in your code you will need to put a where-clause in a query:</p>\n<pre><code>  query.where(builder.isNotNull(\n            new ExtractJsonPath(\n                    (CriteriaBuilderImpl) builder,\n                    root.get(&quot;bar&quot;),\n                    builder.literal(&quot;foo&quot;)\n            ));\n</code></pre>\n<p>And so u could use that function in a JPA predicate.\nNote that you can deep nest that construct.. If you need to check that <strong>bar.foo.x</strong> exists, you'd write:</p>\n<pre><code>           new ExtractJsonPath(\n                    (CriteriaBuilderImpl) builder,\n                    new ExtractJsonPath(\n                             (CriteriaBuilderImpl) builder,\n                             root.get(&quot;bar&quot;),\n                             builder.literal(&quot;foo&quot;)\n                    ),\n                    builder.literal(&quot;x&quot;)\n           ));\n</code></pre>\n<p>Simpler in sql, since you could just write:</p>\n<p><code>select * from z where jsonb_extract_path(bar, 'foo', 'x') is not null;</code></p>\n<p>At this point i would like to apologize for not fully adopting your example.\nI hope this is an acceptable suggestion (or at least a descent start) and wish you a lot of success.</p>\n"}],"owner":{"account_id":18959904,"reputation":1,"user_id":13835682,"display_name":"Yikui17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655651713,"creation_date":1593448904,"question_id":62642821,"body_markdown":"Basically, I have a Specification in order to filter a query. Inside of it, a new predicate needs to be added.\r\n\r\nImagine a table (**Z**) with a jsonb column (**bar**). The column has the following structure:\r\n\r\n```\r\n{\r\n  &quot;foo&quot;: {\r\n    &quot;A&quot;: {...},\r\n    &quot;B&quot;: {...},\r\n    &quot;C&quot;: &quot;...&quot;\r\n  }\r\n}\r\n```\r\n\r\nThe objective for the query is to check if **foo** contains any value from an array of strings. The query is this:\r\n\r\n```\r\nselect *\r\nfrom Z\r\nwhere jsonb_exists_any(\r\n   (select to_jsonb(\r\n      array_to_json(src1.field_1)\r\n   )\r\n   from (\r\n      select array_agg(src.field_1) as field_1\r\n      from (select jsonb_object_keys(\r\n         to_jsonb(jsonb_extract_path(\r\n            Z.bar,\r\n            &#39;foo&#39;))\r\n         ) as field_1) src\r\n      ) src1\r\n   ),\r\narray [&#39;A&#39;,&#39;B&#39;]);\r\n```\r\n\r\nThe main problem is converting this to a JPA predicate using the provided params for the Specification (CriteriaQuery, CriteriaBuilder and Root).\r\n\r\nBeen trying to use CriteriaBuilder functions but have only been successful on this subquery:\r\n\r\n```\r\nselect jsonb_object_keys(\r\n   to_jsonb(jsonb_extract_path(\r\n      Z.bar,\r\n      &#39;foo&#39;)\r\n   )\r\n)\r\n```\r\n\r\nBy doing this:\r\n\r\n```\r\ncriteriaBuilder.function(\r\n   &quot;jsonb_object_keys&quot;,\r\n   Object.class,\r\n   criteriaBuilder.function(\r\n      &quot;to_jsonb&quot;,\r\n      Object.class,\r\n      criteriaBuilder.function( &quot;jsonb_extract_path&quot;,\r\n         Object.class,\r\n         root.get( &quot;bar&quot; ),\r\n         criteriaBuilder.literal( &quot;foo&quot; ) )\r\n   ) \r\n)\r\n```\r\n\r\nAny suggestions?","title":"How to create a JPA Predicate using complex Jsonb Postgresql column?","body":"<p>Basically, I have a Specification in order to filter a query. Inside of it, a new predicate needs to be added.</p>\n<p>Imagine a table (<strong>Z</strong>) with a jsonb column (<strong>bar</strong>). The column has the following structure:</p>\n<pre><code>{\n  &quot;foo&quot;: {\n    &quot;A&quot;: {...},\n    &quot;B&quot;: {...},\n    &quot;C&quot;: &quot;...&quot;\n  }\n}\n</code></pre>\n<p>The objective for the query is to check if <strong>foo</strong> contains any value from an array of strings. The query is this:</p>\n<pre><code>select *\nfrom Z\nwhere jsonb_exists_any(\n   (select to_jsonb(\n      array_to_json(src1.field_1)\n   )\n   from (\n      select array_agg(src.field_1) as field_1\n      from (select jsonb_object_keys(\n         to_jsonb(jsonb_extract_path(\n            Z.bar,\n            'foo'))\n         ) as field_1) src\n      ) src1\n   ),\narray ['A','B']);\n</code></pre>\n<p>The main problem is converting this to a JPA predicate using the provided params for the Specification (CriteriaQuery, CriteriaBuilder and Root).</p>\n<p>Been trying to use CriteriaBuilder functions but have only been successful on this subquery:</p>\n<pre><code>select jsonb_object_keys(\n   to_jsonb(jsonb_extract_path(\n      Z.bar,\n      'foo')\n   )\n)\n</code></pre>\n<p>By doing this:</p>\n<pre><code>criteriaBuilder.function(\n   &quot;jsonb_object_keys&quot;,\n   Object.class,\n   criteriaBuilder.function(\n      &quot;to_jsonb&quot;,\n      Object.class,\n      criteriaBuilder.function( &quot;jsonb_extract_path&quot;,\n         Object.class,\n         root.get( &quot;bar&quot; ),\n         criteriaBuilder.literal( &quot;foo&quot; ) )\n   ) \n)\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":19434800,"reputation":101,"user_id":14214496,"display_name":"Evgeny Umansky"},"score":0,"creation_date":1657207728,"post_id":40511636,"comment_id":128761250,"body_markdown":"The answer here may help:\nhttps://stackoverflow.com/questions/63684996/call-jsonb-contains-function-postgres-using-jpa-criteria-and-jsonbinarytype/72679167","body":"The answer here may help: <a href=\"https://stackoverflow.com/questions/63684996/call-jsonb-contains-function-postgres-using-jpa-criteria-and-jsonbinarytype/72679167\" title=\"call jsonb contains function postgres using jpa criteria and jsonbinarytype\">stackoverflow.com/questions/63684996/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9554799,"reputation":821,"user_id":7097676,"accept_rate":0,"display_name":"lenniekid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479072199,"creation_date":1479072199,"answer_id":40578977,"question_id":40511636,"body_markdown":"I solved this problem using json_build_object operator in postgres to construct a JSON object and use it in a query like this -\r\n\r\n    select id,jbag \r\n    from mydb.mytable e \r\n    where (e.jbag-&gt;&#39;myCodes&#39;)\\\\:\\\\:jsonb @&gt; json_build_object(:jsonStr)\\\\:\\\\:jsonb;\r\n\r\nI stored the above query string in a Java StringBuffer object something like this -\r\n\r\nStringBuilder buf = new StringBuilder();\r\nbuf.append(&quot;SELECT.....\r\n\r\n......append(&quot;(e.jbag-&gt;&#39;myCodes&#39;)\\\\\\:\\\\\\:jsonb @&gt; json_build_object(:jsonStr)\\\\\\:\\\\\\:jsonb &quot;)\r\n\r\nwhere jsonStr is a Java String object defined like this -\r\n\r\n    String jsonStr = new String(&quot;&#39;C&#39;, &#39;C&#39;, &#39;T&#39;, &#39;T&#39;&quot;);\r\n\r\nPardon me for not posting the full query - my actual query is quite long. Note the double \\ used to escape the double colon\r\n\r\nThen used the Hibernate setParameter method to set the object in the query -\r\n\r\nquery2.setParameter(&quot;jsonStr&quot;, jsonStr);\r\n\r\nwhere query2 is my org.Hibernate.Session object and finally called the list method on the query object -\r\n\r\n    List&lt;String&gt; statusCodeList = query2.list();\r\n\r\nBelow is the postgres documentation page about operators -\r\n\r\nhttps://www.postgresql.org/docs/9.4/static/functions-json.html","title":"Postgres jsonb with Hibernate","body":"<p>I solved this problem using json_build_object operator in postgres to construct a JSON object and use it in a query like this -</p>\n\n<pre><code>select id,jbag \nfrom mydb.mytable e \nwhere (e.jbag-&gt;'myCodes')\\\\:\\\\:jsonb @&gt; json_build_object(:jsonStr)\\\\:\\\\:jsonb;\n</code></pre>\n\n<p>I stored the above query string in a Java StringBuffer object something like this -</p>\n\n<p>StringBuilder buf = new StringBuilder();\nbuf.append(\"SELECT.....</p>\n\n<p>......append(\"(e.jbag->'myCodes')\\:\\:jsonb @> json_build_object(:jsonStr)\\:\\:jsonb \")</p>\n\n<p>where jsonStr is a Java String object defined like this -</p>\n\n<pre><code>String jsonStr = new String(\"'C', 'C', 'T', 'T'\");\n</code></pre>\n\n<p>Pardon me for not posting the full query - my actual query is quite long. Note the double \\ used to escape the double colon</p>\n\n<p>Then used the Hibernate setParameter method to set the object in the query -</p>\n\n<p>query2.setParameter(\"jsonStr\", jsonStr);</p>\n\n<p>where query2 is my org.Hibernate.Session object and finally called the list method on the query object -</p>\n\n<pre><code>List&lt;String&gt; statusCodeList = query2.list();\n</code></pre>\n\n<p>Below is the postgres documentation page about operators -</p>\n\n<p><a href=\"https://www.postgresql.org/docs/9.4/static/functions-json.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.4/static/functions-json.html</a></p>\n"},{"tags":[],"owner":{"account_id":5576086,"reputation":901,"user_id":4419434,"display_name":"Alexey Alexeenka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506340786,"creation_date":1506340786,"answer_id":46404711,"question_id":40511636,"body_markdown":"Working piece of code with **prepare statement**:\r\n\r\n    WhereObj whereObj = new WhereObj();\r\n    StringBuilder where = new StringBuilder(&quot; where &quot;);\r\n    ...\r\n    // inside cycle\r\n    where.append(&quot; file_object\\\\:\\\\:jsonb @&gt; ?\\\\:\\\\:jsonb &quot;);\r\n    whereObj.params.add(jsonStr);\r\n    ...\r\n    whereObj.sql = where.toString();\r\n\r\n\r\nUsage later:\r\n\r\n        Query nativeQuery = em.createNativeQuery(\r\n           &quot;select * from file_object f &quot; \r\n              + whereObj.sql + sortSQL, \r\n            FileObjectEntity.class\r\n        );\r\n        setParameters(nativeQuery, whereObj);\r\n        List&lt;FileObjectEntity&gt; resultList = nativeQuery.getResultList();\r\nMethod setParameters:\r\n\r\n    private void setParameters(Query nativeQuery, WhereObj whereObj) {\r\n        for (int i=0, n=whereObj.params.size(); i&lt;n; i++) {\r\n            nativeQuery.setParameter(i + 1, whereObj.params.get(i));\r\n        }\r\n    }\r\n\r\n \r\n    private class WhereObj {\r\n        private String sql = StringUtils.EMPTY;\r\n        private ArrayList&lt;String&gt; params = new ArrayList&lt;&gt;();\r\n    }\r\n","title":"Postgres jsonb with Hibernate","body":"<p>Working piece of code with <strong>prepare statement</strong>:</p>\n\n<pre><code>WhereObj whereObj = new WhereObj();\nStringBuilder where = new StringBuilder(\" where \");\n...\n// inside cycle\nwhere.append(\" file_object\\\\:\\\\:jsonb @&gt; ?\\\\:\\\\:jsonb \");\nwhereObj.params.add(jsonStr);\n...\nwhereObj.sql = where.toString();\n</code></pre>\n\n<p>Usage later:</p>\n\n<pre><code>    Query nativeQuery = em.createNativeQuery(\n       \"select * from file_object f \" \n          + whereObj.sql + sortSQL, \n        FileObjectEntity.class\n    );\n    setParameters(nativeQuery, whereObj);\n    List&lt;FileObjectEntity&gt; resultList = nativeQuery.getResultList();\n</code></pre>\n\n<p>Method setParameters:</p>\n\n<pre><code>private void setParameters(Query nativeQuery, WhereObj whereObj) {\n    for (int i=0, n=whereObj.params.size(); i&lt;n; i++) {\n        nativeQuery.setParameter(i + 1, whereObj.params.get(i));\n    }\n}\n\n\nprivate class WhereObj {\n    private String sql = StringUtils.EMPTY;\n    private ArrayList&lt;String&gt; params = new ArrayList&lt;&gt;();\n}\n</code></pre>\n"}],"owner":{"account_id":9554799,"reputation":821,"user_id":7097676,"accept_rate":0,"display_name":"lenniekid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3242,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1655651649,"creation_date":1478708662,"question_id":40511636,"body_markdown":"I have the below Postgres query which works fine when run through the psql client -\r\n\r\n    select id,jbag \r\n    from mydb.mytable e \r\n    where (e.jbag-&gt;&#39;myCodes&#39;)::jsonb @&gt; &#39;{&quot;C&quot;:&quot;C&quot;, &quot;T&quot;:&quot;T&quot;, &quot;L&quot;:&quot;L&quot;}&#39;;\r\n\r\nHowever, when I run the query by creating a org.Hibernate.query object, I get an exception similar to this -\r\n\r\norg.postgresql.util.PSQLException: ERROR: operator does not exist: jsonb @&gt; character varying\r\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\r\n  Position: 144\r\n\r\nPlease help. I have read the following post about creating a new type and that Hibernate does not support postgres JSON operators -\r\n\r\nhttp://www.thoughts-on-java.org/persist-postgresqls-jsonb-data-type-hibernate/\r\n\r\nBut is there a simple solution?\r\n\r\nThanks\r\n","title":"Postgres jsonb with Hibernate","body":"<p>I have the below Postgres query which works fine when run through the psql client -</p>\n\n<pre><code>select id,jbag \nfrom mydb.mytable e \nwhere (e.jbag-&gt;'myCodes')::jsonb @&gt; '{\"C\":\"C\", \"T\":\"T\", \"L\":\"L\"}';\n</code></pre>\n\n<p>However, when I run the query by creating a org.Hibernate.query object, I get an exception similar to this -</p>\n\n<p>org.postgresql.util.PSQLException: ERROR: operator does not exist: jsonb @> character varying\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n  Position: 144</p>\n\n<p>Please help. I have read the following post about creating a new type and that Hibernate does not support postgres JSON operators -</p>\n\n<p><a href=\"http://www.thoughts-on-java.org/persist-postgresqls-jsonb-data-type-hibernate/\" rel=\"nofollow noreferrer\">http://www.thoughts-on-java.org/persist-postgresqls-jsonb-data-type-hibernate/</a></p>\n\n<p>But is there a simple solution?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","maven","jitpack"],"comments":[{"owner":{"account_id":23739775,"reputation":66,"user_id":17757960,"display_name":"Tobias Cremer"},"score":0,"creation_date":1640525763,"post_id":70438674,"comment_id":124599029,"body_markdown":"Question is already answered [here](https://stackoverflow.com/questions/58233354/how-to-solve-the-error-of-error-no-build-artifacts-found-after-the-following)","body":"Question is already answered <a href=\"https://stackoverflow.com/questions/58233354/how-to-solve-the-error-of-error-no-build-artifacts-found-after-the-following\">here</a>"},{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1640581874,"post_id":70438674,"comment_id":124608119,"body_markdown":"Where are you running your jitpack install? on a remote build server, or your local pc?","body":"Where are you running your jitpack install? on a remote build server, or your local pc?"},{"owner":{"account_id":15595580,"reputation":174,"user_id":11251219,"display_name":"Ashenguard"},"score":0,"creation_date":1640599324,"post_id":70438674,"comment_id":124611931,"body_markdown":"@djmonki The Jitpack is remote on their side, But the build is successful on my local PC","body":"@djmonki The Jitpack is remote on their side, But the build is successful on my local PC"},{"owner":{"account_id":15595580,"reputation":174,"user_id":11251219,"display_name":"Ashenguard"},"score":0,"creation_date":1640599537,"post_id":70438674,"comment_id":124612004,"body_markdown":"@TobiasCremer did you bother to check the first line, I have seen those answers but there is no library or application on maven spigot projects, It has been always jar and all builds were successful till 3.0.11 and suddenly Jitpack stopped working... (There is no difference between that version pom.xml and current one except for some version numbers of dependencies)","body":"@TobiasCremer did you bother to check the first line, I have seen those answers but there is no library or application on maven spigot projects, It has been always jar and all builds were successful till 3.0.11 and suddenly Jitpack stopped working... (There is no difference between that version pom.xml and current one except for some version numbers of dependencies)"},{"owner":{"account_id":6543678,"reputation":3232,"user_id":5060325,"display_name":"naimdjon"},"score":0,"creation_date":1641042483,"post_id":70438674,"comment_id":124710844,"body_markdown":"@Ashenguard as I understand you are trying to use jitpack as a repository for distribution of AGMCore. Is there an example of pom.xml  in which you have a dependency that is not being found on jitpack?","body":"@Ashenguard as I understand you are trying to use jitpack as a repository for distribution of AGMCore. Is there an example of pom.xml  in which you have a dependency that is not being found on jitpack?"},{"owner":{"account_id":15595580,"reputation":174,"user_id":11251219,"display_name":"Ashenguard"},"score":0,"creation_date":1641119669,"post_id":70438674,"comment_id":124722074,"body_markdown":"@naimdjon I had the issue once where there was a dependency not solved, And the log was clear about it that what dependency failed and I was able to fix it immediately, But here it only says there is no build artifact...","body":"@naimdjon I had the issue once where there was a dependency not solved, And the log was clear about it that what dependency failed and I was able to fix it immediately, But here it only says there is no build artifact..."}],"answers":[{"tags":[],"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641126560,"creation_date":1641056739,"answer_id":70550429,"question_id":70438674,"body_markdown":"This error can happen in multiple scenarios.\r\n\r\nScenario 1:\r\n--\r\n- If the build fails\r\n- If there are no pom.xml or .pom files in build directory\r\n- If artifacts are not copied to `$HOME/.m2/...`\r\n\r\nScenario 2:\r\n--\r\n- You can fix it by looking at https://github.com/jitpack/maven-modular\r\n\r\nScenario 3:\r\n--\r\n- Try this jitpack [example](https://github.com/jitpack/android-example)\r\n\r\nNote: You can only solve it by yourself making sure you have double check your poms.\r\n\r\n--- Updated --\r\n\r\nWorkaround:\r\n--\r\n\r\nTry to add JitPack repository and dependency in your `pom.xml` file:\r\n\r\nJitPack repository:\r\n\r\n    &lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n\t\t    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\nJitPack dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.YourProjectName&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;ID&lt;/artifactId&gt;\r\n\t    &lt;version&gt;Tag&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nMaybe it can fix the issue as you said it only occurs on JitPack.","title":"ERROR: No build artifacts found - Maven Jitpack","body":"<p>This error can happen in multiple scenarios.</p>\n<h2>Scenario 1:</h2>\n<ul>\n<li>If the build fails</li>\n<li>If there are no pom.xml or .pom files in build directory</li>\n<li>If artifacts are not copied to <code>$HOME/.m2/...</code></li>\n</ul>\n<h2>Scenario 2:</h2>\n<ul>\n<li>You can fix it by looking at <a href=\"https://github.com/jitpack/maven-modular\" rel=\"nofollow noreferrer\">https://github.com/jitpack/maven-modular</a></li>\n</ul>\n<h2>Scenario 3:</h2>\n<ul>\n<li>Try this jitpack <a href=\"https://github.com/jitpack/android-example\" rel=\"nofollow noreferrer\">example</a></li>\n</ul>\n<p>Note: You can only solve it by yourself making sure you have double check your poms.</p>\n<p>--- Updated --</p>\n<h2>Workaround:</h2>\n<p>Try to add JitPack repository and dependency in your <code>pom.xml</code> file:</p>\n<p>JitPack repository:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>JitPack dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.YourProjectName&lt;/groupId&gt;\n    &lt;artifactId&gt;ID&lt;/artifactId&gt;\n    &lt;version&gt;Tag&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Maybe it can fix the issue as you said it only occurs on JitPack.</p>\n"},{"tags":[],"owner":{"account_id":15595580,"reputation":174,"user_id":11251219,"display_name":"Ashenguard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655650839,"creation_date":1655650839,"answer_id":72677936,"question_id":70438674,"body_markdown":"After months of head-scratching, I found out the issue.\r\n\r\nThe issue was that Jitpack was not able to find one of the plugins I have used in the project, After adding the maven as a plugin repository the issue is gone and Jitpack is doing its job.\r\n\r\n```pom\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\r\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;maven-shade-plugin&lt;/id&gt;\r\n            &lt;url&gt;https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-shade-plugin&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n```","title":"ERROR: No build artifacts found - Maven Jitpack","body":"<p>After months of head-scratching, I found out the issue.</p>\n<p>The issue was that Jitpack was not able to find one of the plugins I have used in the project, After adding the maven as a plugin repository the issue is gone and Jitpack is doing its job.</p>\n<pre><code>    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven-snapshots&lt;/id&gt;\n            &lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;maven-shade-plugin&lt;/id&gt;\n            &lt;url&gt;https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-shade-plugin&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n</code></pre>\n"}],"owner":{"account_id":15595580,"reputation":174,"user_id":11251219,"display_name":"Ashenguard"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3531,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72677936,"answer_count":2,"score":4,"last_activity_date":1655650839,"creation_date":1640104337,"question_id":70438674,"body_markdown":"Note: Before you mark this as duplicate please check all information as after 4 hours of search I couldn&#39;t find any close cases. All results were about Android Library or Gradle which is not correct on this case.\r\n\r\n**Links**: \r\n\r\nBuild Log: https://jitpack.io/xyz/agmdev/AGMCore/3.3.1/build.log\r\n\r\nGithub Source: https://github.com/Ashenguard/AGMCore\r\n\r\n**Error**:\r\n```\r\nExit code: 0\r\nTimed out after 20 min\r\n\r\nERROR: No build artifacts found\r\n```\r\n```yaml\r\nProject: Maven - Spigot\r\nVersion: 3.3.1\r\n```\r\n\r\nToday after finishing the coding, compiling, testing (All of them were successful on my PC) I decided it&#39;s time to upload it on Github and create the 3.3.1 release on jitpack.io so I or any other developer can use it in further projects as dependency.\r\n\r\nEverything was ok until I started the new project depending on the new code I just uploaded.\r\nBut I faced the dependency not found on my IDE (Intelij) and I thought it is a connection issue or something similar, But after troubleshooting, I got to the Build being failure on jitpack.io.\r\n\r\nBefore you ask, I did test `mvn install` and it worked fine without any issue on my PC, but for some reason that I&#39;m not aware of, jitpack fails...\r\nWhat confused me more only thing that has been changed on pom.xml since the last successful build, is the version number\r\n\r\nPossible issues that were not the issue in this case. (I&#39;ll update the list)\r\n * Packaging not being `jar` which was, Same as previous versions.\r\n * `useIncrementalCompilation` was not the issue as well.","title":"ERROR: No build artifacts found - Maven Jitpack","body":"<p>Note: Before you mark this as duplicate please check all information as after 4 hours of search I couldn't find any close cases. All results were about Android Library or Gradle which is not correct on this case.</p>\n<p><strong>Links</strong>:</p>\n<p>Build Log: <a href=\"https://jitpack.io/xyz/agmdev/AGMCore/3.3.1/build.log\" rel=\"nofollow noreferrer\">https://jitpack.io/xyz/agmdev/AGMCore/3.3.1/build.log</a></p>\n<p>Github Source: <a href=\"https://github.com/Ashenguard/AGMCore\" rel=\"nofollow noreferrer\">https://github.com/Ashenguard/AGMCore</a></p>\n<p><strong>Error</strong>:</p>\n<pre><code>Exit code: 0\nTimed out after 20 min\n\nERROR: No build artifacts found\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>Project: Maven - Spigot\nVersion: 3.3.1\n</code></pre>\n<p>Today after finishing the coding, compiling, testing (All of them were successful on my PC) I decided it's time to upload it on Github and create the 3.3.1 release on jitpack.io so I or any other developer can use it in further projects as dependency.</p>\n<p>Everything was ok until I started the new project depending on the new code I just uploaded.\nBut I faced the dependency not found on my IDE (Intelij) and I thought it is a connection issue or something similar, But after troubleshooting, I got to the Build being failure on jitpack.io.</p>\n<p>Before you ask, I did test <code>mvn install</code> and it worked fine without any issue on my PC, but for some reason that I'm not aware of, jitpack fails...\nWhat confused me more only thing that has been changed on pom.xml since the last successful build, is the version number</p>\n<p>Possible issues that were not the issue in this case. (I'll update the list)</p>\n<ul>\n<li>Packaging not being <code>jar</code> which was, Same as previous versions.</li>\n<li><code>useIncrementalCompilation</code> was not the issue as well.</li>\n</ul>\n"},{"tags":["java","exception","option-type"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1655642878,"post_id":72676995,"comment_id":128375726,"body_markdown":"No, they do not have the same behaviour, the first one wraps an optional inside another optional and would only throw an exception if `findById` returns `null`, which it does not do. The second snippet is correct.","body":"No, they do not have the same behaviour, the first one wraps an optional inside another optional and would only throw an exception if <code>findById</code> returns <code>null</code>, which it does not do. The second snippet is correct."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1655642879,"post_id":72676995,"comment_id":128375727,"body_markdown":"first snippet will throw `NoSuchElementException` exception when element returned by `findById` is null, second one will throw `NullPointerException`","body":"first snippet will throw <code>NoSuchElementException</code> exception when element returned by <code>findById</code> is null, second one will throw <code>NullPointerException</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1655645942,"post_id":72676995,"comment_id":128376265,"body_markdown":"Assuming that the return type is an `Optional`, then `findById` should never return a `null`.","body":"Assuming that the return type is an <code>Optional</code>, then <code>findById</code> should never return a <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655646280,"creation_date":1655645884,"answer_id":72677311,"question_id":72676995,"body_markdown":"&gt; Both codes have behavior that throws an exception if the value doesn&#39;t exist.\r\n\r\nIn fact, that is not true.  They don&#39;t both behave that way.\r\n\r\n----------------\r\n\r\nOne of those two versions is incorrect, but which one it is depends on the declared return type of `findById` is.\r\n\r\n- If the return type is `FreePosts`, then the second version does not compile, and it is therefore incorrect.  \r\n\r\n  The first version is equivalent to this:\r\n\r\n       FreePosts byId = freePostsRepository.findById(id);\r\n       if (byId == null) {\r\n           throw new NoSuchElementException();\r\n       }\r\n\r\n  In my opinion, it would be better to write an explicit throw in this case, not least because you can include a message.\r\n\r\n- If the return type `Optional&lt;FreePost&gt;` then the second version is correct&lt;sup&gt;1&lt;/sup&gt;.  \r\n\r\n  In this case, the first version is going to throw an exception if and only if `findById` returns a `null`.  But if `findById` is written correctly, it won&#39;t ever return `null`.  (Instead, if should return an empty `Optional&lt;FreePosts&gt;` instance.)  So:\r\n\r\n    - If `findById` doesn&#39;t have a bug that causes it to return `null`, the first version is not going to throw a `NoSuchElementException`, and therefore the `ofNullable(...)` and the `orElseThrow(...)` are pointless.\r\n\r\n    - If there is a bug in `findById` that causes it to return `null`, throwing `NoSuchElementException` is obscuring the bug.\r\n\r\n  In conclusion the first version is incorrect.\r\n\r\n------------------------\r\n\r\n&lt;sup&gt;1 - I guess it is possible that the designer of the repository API has specified that `Optional&lt;FreePosts&gt; findById(...)` *should* return a `null` value instead of an `Optional`.  But that would be a huge mistake, IMO.&lt;/sup&gt;\r\n","title":"I wonder if the two codes have the same behavior","body":"<blockquote>\n<p>Both codes have behavior that throws an exception if the value doesn't exist.</p>\n</blockquote>\n<p>In fact, that is not true.  They don't both behave that way.</p>\n<hr />\n<p>One of those two versions is incorrect, but which one it is depends on the declared return type of <code>findById</code> is.</p>\n<ul>\n<li><p>If the return type is <code>FreePosts</code>, then the second version does not compile, and it is therefore incorrect.</p>\n<p>The first version is equivalent to this:</p>\n<pre><code> FreePosts byId = freePostsRepository.findById(id);\n if (byId == null) {\n     throw new NoSuchElementException();\n }\n</code></pre>\n<p>In my opinion, it would be better to write an explicit throw in this case, not least because you can include a message.</p>\n</li>\n<li><p>If the return type <code>Optional&lt;FreePost&gt;</code> then the second version is correct<sup>1</sup>.</p>\n<p>In this case, the first version is going to throw an exception if and only if <code>findById</code> returns a <code>null</code>.  But if <code>findById</code> is written correctly, it won't ever return <code>null</code>.  (Instead, if should return an empty <code>Optional&lt;FreePosts&gt;</code> instance.)  So:</p>\n<ul>\n<li><p>If <code>findById</code> doesn't have a bug that causes it to return <code>null</code>, the first version is not going to throw a <code>NoSuchElementException</code>, and therefore the <code>ofNullable(...)</code> and the <code>orElseThrow(...)</code> are pointless.</p>\n</li>\n<li><p>If there is a bug in <code>findById</code> that causes it to return <code>null</code>, throwing <code>NoSuchElementException</code> is obscuring the bug.</p>\n</li>\n</ul>\n<p>In conclusion the first version is incorrect.</p>\n</li>\n</ul>\n<hr />\n<p><sup>1 - I guess it is possible that the designer of the repository API has specified that <code>Optional&lt;FreePosts&gt; findById(...)</code> <em>should</em> return a <code>null</code> value instead of an <code>Optional</code>.  But that would be a huge mistake, IMO.</sup></p>\n"}],"owner":{"account_id":24909730,"reputation":1,"user_id":18779412,"display_name":"남세원"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1655650700,"creation_date":1655642667,"question_id":72676995,"body_markdown":"Both codes have behavior that throws an exception if the value doesn&#39;t exist.\r\n\r\n```java\r\nOptional&lt;FreePosts&gt; byId = Optional.ofNullable(freePostsRepository.findById(id))\r\n                .orElseThrow(NoSuchElementException::new);\r\n```\r\n```java\r\nFreePosts byId = freePostsRepository.findById(id)\r\n                .orElseThrow(NoSuchElementException::new);\r\n```\r\nI would like to know the difference between the two codes.","title":"I wonder if the two codes have the same behavior","body":"<p>Both codes have behavior that throws an exception if the value doesn't exist.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;FreePosts&gt; byId = Optional.ofNullable(freePostsRepository.findById(id))\n                .orElseThrow(NoSuchElementException::new);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>FreePosts byId = freePostsRepository.findById(id)\n                .orElseThrow(NoSuchElementException::new);\n</code></pre>\n<p>I would like to know the difference between the two codes.</p>\n"},{"tags":["java","swing","icons","jbutton","embedded-resource"],"comments":[{"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"score":0,"creation_date":1296016745,"post_id":4801386,"comment_id":5321184,"body_markdown":"That **should** work...can you try using the `URL` form of the `ImageIcon` constructor and see what it does? It might be that it can&#39;t find the image file for some reason.","body":"That <b>should</b> work...can you try using the <code>URL</code> form of the <code>ImageIcon</code> constructor and see what it does? It might be that it can&#39;t find the image file for some reason."},{"owner":{"account_id":279364,"reputation":2936,"user_id":574478,"accept_rate":87,"display_name":"kevinstueber"},"score":0,"creation_date":1296189537,"post_id":4801386,"comment_id":5352170,"body_markdown":"Yes, it&#39;s working now. No changes to the code. Thanks everyone for your suggestions.","body":"Yes, it&#39;s working now. No changes to the code. Thanks everyone for your suggestions."}],"answers":[{"tags":[],"owner":{"account_id":287608,"reputation":539,"user_id":587531,"accept_rate":33,"display_name":"KFC"},"down_vote_count":7,"up_vote_count":10,"is_accepted":false,"score":3,"last_activity_date":1382106595,"creation_date":1296016268,"answer_id":4801420,"question_id":4801386,"body_markdown":"    public class ImageButton extends JButton {\r\n \r\n        protected ImageButton(){\r\n        }\r\n \r\n        @Override\r\n            public void paint(Graphics g) {\r\n            Graphics2D g2 = (Graphics2D) g;\r\n            Image img = Toolkit.getDefaultToolkit().getImage(&quot;water.bmp&quot;);\r\n        \r\n            g2.drawImage(img, 45, 35, this);\r\n            g2.finalize();\r\n        }\r\n    }\r\n***\r\n**OR use this code**\r\n\r\n\r\n    class MyButton extends JButton {\r\n    \r\n        Image image;\r\n        ImageObserver imageObserver;\r\n          \r\n    \r\n        MyButtonl(String filename) {\r\n                super();\r\n                ImageIcon icon = new ImageIcon(filename);\r\n                image = icon.getImage();\r\n                imageObserver = icon.getImageObserver();\r\n            }\r\n    \r\n         public void paint( Graphics g ) {\r\n                super.paint( g );\r\n                g.drawImage(image,  0 , 0 , getWidth() , getHeight() , imageObserver);\r\n            }\r\n        }\r\n\r\n","title":"How do I add an image to a JButton","body":"<pre><code>public class ImageButton extends JButton {\n\n    protected ImageButton(){\n    }\n\n    @Override\n        public void paint(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g;\n        Image img = Toolkit.getDefaultToolkit().getImage(\"water.bmp\");\n\n        g2.drawImage(img, 45, 35, this);\n        g2.finalize();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><strong>OR use this code</strong></p>\n\n<pre><code>class MyButton extends JButton {\n\n    Image image;\n    ImageObserver imageObserver;\n\n\n    MyButtonl(String filename) {\n            super();\n            ImageIcon icon = new ImageIcon(filename);\n            image = icon.getImage();\n            imageObserver = icon.getImageObserver();\n        }\n\n     public void paint( Graphics g ) {\n            super.paint( g );\n            g.drawImage(image,  0 , 0 , getWidth() , getHeight() , imageObserver);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225531,"reputation":26310,"user_id":486057,"accept_rate":94,"display_name":"Rogach"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1480342003,"creation_date":1296016719,"answer_id":4801452,"question_id":4801386,"body_markdown":"I think that your problem is in the location of the image. You shall place it in your source, and then use it like this:\r\n\r\n      JButton button = new JButton();\r\n      try {\r\n        Image img = ImageIO.read(getClass().getResource(&quot;resources/water.bmp&quot;));\r\n        button.setIcon(new ImageIcon(img));\r\n      } catch (Exception ex) {\r\n        System.out.println(ex);\r\n      }\r\nIn this example, it is assumed that image is in src/resources/ folder.","title":"How do I add an image to a JButton","body":"<p>I think that your problem is in the location of the image. You shall place it in your source, and then use it like this:</p>\n\n<pre><code>  JButton button = new JButton();\n  try {\n    Image img = ImageIO.read(getClass().getResource(\"resources/water.bmp\"));\n    button.setIcon(new ImageIcon(img));\n  } catch (Exception ex) {\n    System.out.println(ex);\n  }\n</code></pre>\n\n<p>In this example, it is assumed that image is in src/resources/ folder.</p>\n"},{"tags":[],"owner":{"account_id":305023,"reputation":5914,"user_id":614899,"accept_rate":98,"display_name":"donnyton"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1515244804,"creation_date":1298321842,"answer_id":5071182,"question_id":4801386,"body_markdown":"It looks like a location problem because that code is perfectly fine for adding the icon.\r\n\r\nSince I don&#39;t know your folder structure, I suggest adding a simple check:\r\n\r\n    File imageCheck = new File(&quot;water.bmp&quot;);\r\n\r\n    if(imageCheck.exists()) \r\n        System.out.println(&quot;Image file found!&quot;)\r\n    else \r\n        System.out.println(&quot;Image file not found!&quot;);\r\n\r\nThis way if you ever get your path name wrong it will tell you instead of displaying nothing. Exception should be thrown if file would not exist, tho.","title":"How do I add an image to a JButton","body":"<p>It looks like a location problem because that code is perfectly fine for adding the icon.</p>\n\n<p>Since I don't know your folder structure, I suggest adding a simple check:</p>\n\n<pre><code>File imageCheck = new File(\"water.bmp\");\n\nif(imageCheck.exists()) \n    System.out.println(\"Image file found!\")\nelse \n    System.out.println(\"Image file not found!\");\n</code></pre>\n\n<p>This way if you ever get your path name wrong it will tell you instead of displaying nothing. Exception should be thrown if file would not exist, tho.</p>\n"},{"tags":[],"owner":{"account_id":1124506,"reputation":31,"user_id":1112105,"display_name":"Dan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1324571642,"creation_date":1324571642,"answer_id":8606938,"question_id":4801386,"body_markdown":"I did only one thing and it worked for me .. check your code is this method there ..\r\n\r\n    setResizable(false);\r\nif it false make it true and it will work just fine ..\r\nI hope it helped .. ","title":"How do I add an image to a JButton","body":"<p>I did only one thing and it worked for me .. check your code is this method there ..</p>\n\n<pre><code>setResizable(false);\n</code></pre>\n\n<p>if it false make it true and it will work just fine ..\nI hope it helped .. </p>\n"},{"tags":[],"owner":{"account_id":198647,"reputation":5260,"user_id":443427,"display_name":"ungalcrys"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1353444896,"creation_date":1353444896,"answer_id":13481969,"question_id":4801386,"body_markdown":"@Rogach\r\n\r\nand you may like to add:\r\n\r\n    // to remote the spacing between the image and button&#39;s borders\r\n    button.setMargin(new Insets(0, 0, 0, 0));\r\n    // to add a different background\r\n    button.setBackground( ... );\r\n    // to remove the border\r\n    button.setBorder(null);","title":"How do I add an image to a JButton","body":"<p>@Rogach</p>\n\n<p>and you may like to add:</p>\n\n<pre><code>// to remote the spacing between the image and button's borders\nbutton.setMargin(new Insets(0, 0, 0, 0));\n// to add a different background\nbutton.setBackground( ... );\n// to remove the border\nbutton.setBorder(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6016746,"reputation":21,"user_id":4725317,"display_name":"HeavenlySwirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436772594,"creation_date":1427589261,"answer_id":29324299,"question_id":4801386,"body_markdown":"    buttonB.setIcon(new ImageIcon(this.getClass().getResource(&quot;imagename&quot;)));\r\n\r\n\t\t\t\r\n","title":"How do I add an image to a JButton","body":"<pre><code>buttonB.setIcon(new ImageIcon(this.getClass().getResource(\"imagename\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5800883,"reputation":23,"user_id":4575093,"display_name":"JavaJitendra"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1428666318,"creation_date":1428666318,"answer_id":29560626,"question_id":4801386,"body_markdown":"    //paste required image on C disk\r\n    JButton button = new JButton(new ImageIcon(&quot;C:water.bmp&quot;);","title":"How do I add an image to a JButton","body":"<pre><code>//paste required image on C disk\nJButton button = new JButton(new ImageIcon(\"C:water.bmp\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2204985,"reputation":1225,"user_id":1948438,"display_name":"CamelTM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432639574,"creation_date":1432636615,"answer_id":30456120,"question_id":4801386,"body_markdown":"This code work for me:\r\n\r\n        BufferedImage image = null;\r\n        try {\r\n            URL file = getClass().getResource(&quot;water.bmp&quot;);\r\n            image = ImageIO.read(file);\r\n        } catch (IOException ioex) {\r\n            System.err.println(&quot;load error: &quot; + ioex.getMessage());\r\n        }\r\n        ImageIcon icon = new ImageIcon(image);\r\n        JButton quitButton = new JButton(icon);\r\n","title":"How do I add an image to a JButton","body":"<p>This code work for me:</p>\n\n<pre><code>    BufferedImage image = null;\n    try {\n        URL file = getClass().getResource(\"water.bmp\");\n        image = ImageIO.read(file);\n    } catch (IOException ioex) {\n        System.err.println(\"load error: \" + ioex.getMessage());\n    }\n    ImageIcon icon = new ImageIcon(image);\n    JButton quitButton = new JButton(icon);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5516070,"reputation":71,"user_id":4380807,"display_name":"Oxygenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471435289,"creation_date":1471434818,"answer_id":38995907,"question_id":4801386,"body_markdown":"For example if you have image in folder `res/image.png` you can write:\r\n\r\n    try\r\n    {\r\n    \tClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n    \tInputStream input = classLoader.getResourceAsStream(&quot;image.png&quot;);\r\n    \t// URL input = classLoader.getResource(&quot;image.png&quot;); // &lt;-- You can use URL class too.\r\n    \tBufferedImage image = ImageIO.read(input);\r\n    \r\n    \tbutton.setIcon(new ImageIcon(image));\r\n    }\r\n    catch(IOException e)\r\n    {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nIn one line:\r\n\r\n    try\r\n\t{\r\n\t\tbutton.setIcon(new ImageIcon(ImageIO.read(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;image.png&quot;))));\r\n\t}\r\n\tcatch(IOException e)\r\n\t{\r\n    \te.printStackTrace();\r\n    }\r\n\r\nIf the image is bigger than button then it will not shown.","title":"How do I add an image to a JButton","body":"<p>For example if you have image in folder <code>res/image.png</code> you can write:</p>\n\n<pre><code>try\n{\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n    InputStream input = classLoader.getResourceAsStream(\"image.png\");\n    // URL input = classLoader.getResource(\"image.png\"); // &lt;-- You can use URL class too.\n    BufferedImage image = ImageIO.read(input);\n\n    button.setIcon(new ImageIcon(image));\n}\ncatch(IOException e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>In one line:</p>\n\n<pre><code>try\n{\n    button.setIcon(new ImageIcon(ImageIO.read(Thread.currentThread().getContextClassLoader().getResourceAsStream(\"image.png\"))));\n}\ncatch(IOException e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>If the image is bigger than button then it will not shown.</p>\n"},{"tags":[],"owner":{"account_id":6010717,"reputation":1844,"user_id":4721265,"accept_rate":51,"display_name":"ParisaN"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1521214924,"creation_date":1521214924,"answer_id":49324649,"question_id":4801386,"body_markdown":"You put your image in resources folder and use follow code:\r\n\r\n    JButton btn = new JButton(&quot;&quot;);\r\n    btn.setIcon(new ImageIcon(Class.class.getResource(&quot;/resources/img.png&quot;)));","title":"How do I add an image to a JButton","body":"<p>You put your image in resources folder and use follow code:</p>\n\n<pre><code>JButton btn = new JButton(\"\");\nbtn.setIcon(new ImageIcon(Class.class.getResource(\"/resources/img.png\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21615465,"reputation":31,"user_id":15943873,"display_name":"Volker Fr&#246;hlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655650399,"creation_date":1655379803,"answer_id":72645285,"question_id":4801386,"body_markdown":"&lt;b&gt;eclipse example:&lt;/b&gt;&lt;br/&gt;\r\nAfter reading the above, it still took me more research to understand, where and how to place image resources, using eclipse. \r\nThe outcome: &lt;b&gt;in eclipse you need to store images underneath any &quot;Source Folder&quot; (such as &quot;src&quot;) or below in a &quot;Folder&quot;.&lt;/b&gt;&lt;br/&gt;\r\nYou create both by right-clicking on your project, &quot;New&quot;-&gt;&quot;Source Folder&quot; or &quot;New&quot;-&gt;&quot;Folder&quot;. Any folder name is fine. Examples for &quot;&amp;lt;Source Folder&amp;gt;/&amp;lt;image Folder&amp;gt;&quot; are &quot;src/images&quot; or &quot;resource/img&quot;.&lt;br/&gt;\r\nHere&#39;s some fully functioning sample code, which expects two button images, &quot;Button-Image-Up.png&quot; and &quot;Button-Image-Down.png&quot; in folder &quot;images&quot;:\r\n```\r\nimport javax.swing.JDialog;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Image;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class ImageButtonDlg extends JDialog {\r\n\t// define button images and fall-back text\r\n\tprivate static gstrTxt=&quot;&lt;Button Fall-back Text&gt;&quot;; // in case image does not load\r\n\tprivate static String gstrImgUp=&quot;Button-Image-Up.png&quot;;   // regular image\r\n\tprivate static String gstrImgDown=&quot;Button-Image-Down.png&quot;; // button pressed image\r\n\tprivate static String gstrImgFolder=&quot;images&quot;;   // image folder, &quot;/images&quot; is also fine\r\n\tpublic static void main(String[] args) {\r\n\t\tImageButtonDlg dialog = new ImageButtonDlg();\r\n\t\tdialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\tdialog.setVisible(true);\r\n\t}\r\n\t/**\r\n\t * Create the dialog.\r\n\t */\r\n\tpublic ImageButtonDlg() {\r\n\t\tinitializeDialog();\r\n\t}\r\n\t/**\r\n     * Create a new ImageIcon from an image resource. \r\n     * The input can be: \r\n     * - an image file name, e.g. &lt;image.png&gt; \r\n     * - a relative path, e.g. &lt;image/image.png&gt;\r\n     * - an absolute path, e.g. &lt;/home/user/dev/image.png&gt;\r\n     * In eclipse, images can be stored below any project &quot;Source folder&quot;, \r\n     * such as &quot;src&quot;.\r\n     * ├── src\r\n     * │&#160;&#160; ├── img1.png\r\n     * │&#160;&#160; └── images\r\n     * │&#160;&#160;  &#160;&#160; └── img2.png\r\n     * ├── resources\r\n     * │&#160;&#160; ├── img3.png\r\n     * │&#160;&#160; └── images\r\n     * │&#160;&#160;  &#160;&#160; └── img4.png\r\n     * └── img5.png\r\n     *  In above example img1.png to img4.png are found by \r\n     *  image file name or relative path\r\n     *  However, img5 is stored in the project root folder and \r\n     *  needs an absolute path.\r\n     *    \r\n     * @param strImagePath - image filename, absolute path or relative path\r\n     * @return new ImageIcon or &#39;null&#39; if load fails\r\n     */    \r\n\tpublic static ImageIcon getResourceImageIcon(String strFilepath) {\r\n\t\tClassLoader loader = null;\r\n\t\tURL url = null;\r\n\t\tImage img=null;\r\n\t\tImageIcon imgIcon=null;\r\n\t\tloader = ImageButtonDlg.class.getClassLoader();\r\n\t\tSystem.out.println(loader.toString());\r\n\t\ttry {  // file location: &lt;a relative path&gt;\r\n\t\t\turl = loader.getResource(&quot;images/&quot;+strFilepath);\r\n\t\t\tif(url==null) {\r\n\t\t\t\tSystem.out.printf(&quot;ImageButtonDlg.class.getResource(%s)=&gt;null\\n&quot;, &quot;images/&quot;+strFilepath);\r\n\t\t\t}\r\n\t\t} catch (Exception e0) {\r\n\t\t\te0.printStackTrace();\r\n\t\t}\r\n\t\tif(url==null) {\r\n\t\t\ttry {  // file location: &lt;image filename&gt;\r\n\t\t\t\turl = loader.getResource(strFilepath);\r\n\t\t\t\tif(url==null) { \r\n\t\t\t\t\tSystem.out.printf(&quot;Util.class.getResource(%s)=&gt;null\\n&quot;, strFilepath);\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\ttry {\r\n\t\t\timg = ImageIO.read(url);\r\n\t\t} catch (Exception e2) {\r\n\t\t\te2.printStackTrace();\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t\tif (img!=null){\r\n\t\t\timgIcon = new ImageIcon(img);\r\n\t\t}\r\n\t\treturn imgIcon;\r\n\t}\r\n\t/**\r\n\t * Create JButton with Image\r\n\t * In case Image load fails, we create a JButton with text\r\n\t * @param strImgPath - path to Image\r\n\t * @param strAltText - fall-back text\r\n\t * @return\r\n\t */\r\n\tpublic static JButton getNewJButtonWithImageIcon(String strImgPath, String strAltText) {\r\n\t\tJButton btnReturn = null;\r\n\t\tImageIcon imgIcon = getResourceImageIcon(strImgPath);\r\n\t\tif (imgIcon!=null){\r\n\t\t\tbtnReturn = new JButton(imgIcon);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbtnReturn = new JButton(strAltText);\r\n\t\t}\r\n\t\treturn btnReturn;\r\n\t}\r\n\t/**\r\n\t * Image button was pressed, display a message box\r\n\t */\r\n\tprivate void actionImageButtonPressed() {\r\n\t\ttry {\r\n\t\t\tJOptionPane.showMessageDialog(null, &quot;Image Button was pressed&quot;, &quot;Info&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\t; // ignore\r\n\t\t}\r\n\t}\r\n\t/**\r\n\t * Initialize the dialog\r\n\t * add a button panel and the image button to the window/content pane\r\n\t */\r\n\tprivate void initializeDialog()\r\n\t{\r\n\t\tthis.setTitle(&quot;Image Button Example&quot;);\r\n\t\tthis.setResizable(false);\r\n\t\tthis.setBounds(200, 200, 699, 601);\r\n\t\tJPanel panelButton = new JPanel();\r\n\t\tpanelButton.setLayout(new FlowLayout(FlowLayout.RIGHT)); // all buttons in a row\r\n\t\tgetContentPane().add(panelButton, BorderLayout.SOUTH); // button pane at the bottom of the window\r\n\t\t// create the Image Button\r\n\t\tJButton btnImageButton = getNewJButtonWithImageIcon(gstrImgUp, gstrTxt);\r\n\t\tbtnImageButton.setToolTipText(&quot;&lt;Explain what pressing the Button does&gt;&quot;);\r\n\t\tbtnImageButton.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\tactionImageButtonPressed();// The Action\r\n\t\t\t}\r\n\t\t});\r\n\t\t// load button image when button clicked/released\r\n\t\tbtnImageButton.addMouseListener((MouseListener) new MouseAdapter() {\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\tbtnImageButton.setIcon(getResourceImageIcon(gstrImgDown));\t\t\t\t\r\n\t\t\t}\r\n\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\tbtnImageButton.setIcon(getResourceImageIcon(gstrImgUp));\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnImageButton.setActionCommand(&quot;ImageButtonAction&quot;);\r\n\t\t// add button to button panel\r\n\t\tpanelButton.add(btnImageButton);\r\n\t}\r\n}\r\n\r\n```\r\n&lt;b&gt;Have Fun!&lt;/b&gt;&lt;br/&gt;\r\n&lt;b&gt;Volker Fr&amp;ouml;hlich&lt;/b&gt;&lt;br/&gt;\r\nP.S.:&lt;br/&gt;\r\nPerhaps someone can share additional practical experience.&lt;br/&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;In eclipse &quot;WindowBuilder Editor&quot; such image buttons are shown, but they cannot be accessed - is there some workaround?&lt;br/&gt;&lt;/li&gt;\r\n&lt;li&gt;What is the NetBeans approach, if any different?&lt;/li&gt;\r\n&lt;/ul&gt;","title":"How do I add an image to a JButton","body":"<p><b>eclipse example:</b><br/>\nAfter reading the above, it still took me more research to understand, where and how to place image resources, using eclipse.\nThe outcome: <b>in eclipse you need to store images underneath any &quot;Source Folder&quot; (such as &quot;src&quot;) or below in a &quot;Folder&quot;.</b><br/>\nYou create both by right-clicking on your project, &quot;New&quot;-&gt;&quot;Source Folder&quot; or &quot;New&quot;-&gt;&quot;Folder&quot;. Any folder name is fine. Examples for &quot;&lt;Source Folder&gt;/&lt;image Folder&gt;&quot; are &quot;src/images&quot; or &quot;resource/img&quot;.<br/>\nHere's some fully functioning sample code, which expects two button images, &quot;Button-Image-Up.png&quot; and &quot;Button-Image-Down.png&quot; in folder &quot;images&quot;:</p>\n<pre><code>import javax.swing.JDialog;\nimport java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.Image;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class ImageButtonDlg extends JDialog {\n    // define button images and fall-back text\n    private static gstrTxt=&quot;&lt;Button Fall-back Text&gt;&quot;; // in case image does not load\n    private static String gstrImgUp=&quot;Button-Image-Up.png&quot;;   // regular image\n    private static String gstrImgDown=&quot;Button-Image-Down.png&quot;; // button pressed image\n    private static String gstrImgFolder=&quot;images&quot;;   // image folder, &quot;/images&quot; is also fine\n    public static void main(String[] args) {\n        ImageButtonDlg dialog = new ImageButtonDlg();\n        dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n        dialog.setVisible(true);\n    }\n    /**\n     * Create the dialog.\n     */\n    public ImageButtonDlg() {\n        initializeDialog();\n    }\n    /**\n     * Create a new ImageIcon from an image resource. \n     * The input can be: \n     * - an image file name, e.g. &lt;image.png&gt; \n     * - a relative path, e.g. &lt;image/image.png&gt;\n     * - an absolute path, e.g. &lt;/home/user/dev/image.png&gt;\n     * In eclipse, images can be stored below any project &quot;Source folder&quot;, \n     * such as &quot;src&quot;.\n     * ├── src\n     * │   ├── img1.png\n     * │   └── images\n     * │       └── img2.png\n     * ├── resources\n     * │   ├── img3.png\n     * │   └── images\n     * │       └── img4.png\n     * └── img5.png\n     *  In above example img1.png to img4.png are found by \n     *  image file name or relative path\n     *  However, img5 is stored in the project root folder and \n     *  needs an absolute path.\n     *    \n     * @param strImagePath - image filename, absolute path or relative path\n     * @return new ImageIcon or 'null' if load fails\n     */    \n    public static ImageIcon getResourceImageIcon(String strFilepath) {\n        ClassLoader loader = null;\n        URL url = null;\n        Image img=null;\n        ImageIcon imgIcon=null;\n        loader = ImageButtonDlg.class.getClassLoader();\n        System.out.println(loader.toString());\n        try {  // file location: &lt;a relative path&gt;\n            url = loader.getResource(&quot;images/&quot;+strFilepath);\n            if(url==null) {\n                System.out.printf(&quot;ImageButtonDlg.class.getResource(%s)=&gt;null\\n&quot;, &quot;images/&quot;+strFilepath);\n            }\n        } catch (Exception e0) {\n            e0.printStackTrace();\n        }\n        if(url==null) {\n            try {  // file location: &lt;image filename&gt;\n                url = loader.getResource(strFilepath);\n                if(url==null) { \n                    System.out.printf(&quot;Util.class.getResource(%s)=&gt;null\\n&quot;, strFilepath);\n                }\n            } catch (Exception e1) {\n                e1.printStackTrace();\n            }\n        }\n        try {\n            img = ImageIO.read(url);\n        } catch (Exception e2) {\n            e2.printStackTrace();\n            System.exit(0);\n        }\n        if (img!=null){\n            imgIcon = new ImageIcon(img);\n        }\n        return imgIcon;\n    }\n    /**\n     * Create JButton with Image\n     * In case Image load fails, we create a JButton with text\n     * @param strImgPath - path to Image\n     * @param strAltText - fall-back text\n     * @return\n     */\n    public static JButton getNewJButtonWithImageIcon(String strImgPath, String strAltText) {\n        JButton btnReturn = null;\n        ImageIcon imgIcon = getResourceImageIcon(strImgPath);\n        if (imgIcon!=null){\n            btnReturn = new JButton(imgIcon);\n        }\n        else {\n            btnReturn = new JButton(strAltText);\n        }\n        return btnReturn;\n    }\n    /**\n     * Image button was pressed, display a message box\n     */\n    private void actionImageButtonPressed() {\n        try {\n            JOptionPane.showMessageDialog(null, &quot;Image Button was pressed&quot;, &quot;Info&quot;, JOptionPane.INFORMATION_MESSAGE);\n        }\n        catch (Exception e) {\n            ; // ignore\n        }\n    }\n    /**\n     * Initialize the dialog\n     * add a button panel and the image button to the window/content pane\n     */\n    private void initializeDialog()\n    {\n        this.setTitle(&quot;Image Button Example&quot;);\n        this.setResizable(false);\n        this.setBounds(200, 200, 699, 601);\n        JPanel panelButton = new JPanel();\n        panelButton.setLayout(new FlowLayout(FlowLayout.RIGHT)); // all buttons in a row\n        getContentPane().add(panelButton, BorderLayout.SOUTH); // button pane at the bottom of the window\n        // create the Image Button\n        JButton btnImageButton = getNewJButtonWithImageIcon(gstrImgUp, gstrTxt);\n        btnImageButton.setToolTipText(&quot;&lt;Explain what pressing the Button does&gt;&quot;);\n        btnImageButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                actionImageButtonPressed();// The Action\n            }\n        });\n        // load button image when button clicked/released\n        btnImageButton.addMouseListener((MouseListener) new MouseAdapter() {\n            public void mousePressed(MouseEvent e) {\n                btnImageButton.setIcon(getResourceImageIcon(gstrImgDown));              \n            }\n            public void mouseReleased(MouseEvent e) {\n                btnImageButton.setIcon(getResourceImageIcon(gstrImgUp));\n            }\n        });\n        btnImageButton.setActionCommand(&quot;ImageButtonAction&quot;);\n        // add button to button panel\n        panelButton.add(btnImageButton);\n    }\n}\n\n</code></pre>\n<p><b>Have Fun!</b><br/>\n<b>Volker Fröhlich</b><br/>\nP.S.:<br/>\nPerhaps someone can share additional practical experience.<br/></p>\n<ul>\n<li>In eclipse \"WindowBuilder Editor\" such image buttons are shown, but they cannot be accessed - is there some workaround?<br/></li>\n<li>What is the NetBeans approach, if any different?</li>\n</ul>\n"}],"owner":{"account_id":279364,"reputation":2936,"user_id":574478,"accept_rate":87,"display_name":"kevinstueber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327927,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":4801452,"answer_count":11,"score":50,"last_activity_date":1655650399,"creation_date":1296015772,"question_id":4801386,"body_markdown":"I am trying to add an image to a JButton and I&#39;m not sure what I&#39;m missing. When I run the following code the button looks exactly the same as if I had created it without any image attribute. Water.bmp is in the root of my project folder. \r\n\r\n    ImageIcon water = new ImageIcon(&quot;water.bmp&quot;);\r\n\t\tJButton button = new JButton(water);\r\n\t\tframe.add(button);\r\n\r\n","title":"How do I add an image to a JButton","body":"<p>I am trying to add an image to a JButton and I'm not sure what I'm missing. When I run the following code the button looks exactly the same as if I had created it without any image attribute. Water.bmp is in the root of my project folder. </p>\n\n<pre><code>ImageIcon water = new ImageIcon(\"water.bmp\");\n    JButton button = new JButton(water);\n    frame.add(button);\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":1,"creation_date":1655659220,"post_id":72677861,"comment_id":128379059,"body_markdown":"[Create custom annotation for Lombok](https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok) and [Implementing a Custom Lombok Annotation](https://www.baeldung.com/lombok-custom-annotation) may be useful","body":"<a href=\"https://stackoverflow.com/questions/41243018/create-custom-annotation-for-lombok\">Create custom annotation for Lombok</a> and <a href=\"https://www.baeldung.com/lombok-custom-annotation\" rel=\"nofollow noreferrer\">Implementing a Custom Lombok Annotation</a> may be useful"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1655666458,"post_id":72677861,"comment_id":128380588,"body_markdown":"It is not a good practice to add the execution of logic in your setter.","body":"It is not a good practice to add the execution of logic in your setter."}],"owner":{"account_id":10762972,"reputation":396,"user_id":7918853,"accept_rate":100,"display_name":"Duke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655650297,"creation_date":1655650297,"question_id":72677861,"body_markdown":"Is there a way to tell Lombok to append a piece of code to each generated setter?\r\nExample: \r\n\r\n    @Setter\r\n    public class Foo {\r\n\r\n        private int a;\r\n        private int b;\r\n\r\n        private void update() { /* ... */ }\r\n    }\r\n\r\nwould generate\r\n\r\n    public void setA(int a) {\r\n        this.a = a;\r\n        update();\r\n    }\r\n\r\n    public void setB(int b) {\r\n        this.b = b;\r\n        update();\r\n    }\r\n\r\n","title":"add custom code to auto generated setters","body":"<p>Is there a way to tell Lombok to append a piece of code to each generated setter?\nExample:</p>\n<pre><code>@Setter\npublic class Foo {\n\n    private int a;\n    private int b;\n\n    private void update() { /* ... */ }\n}\n</code></pre>\n<p>would generate</p>\n<pre><code>public void setA(int a) {\n    this.a = a;\n    update();\n}\n\npublic void setB(int b) {\n    this.b = b;\n    update();\n}\n</code></pre>\n"},{"tags":["java","swing","mouseevent"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1655582716,"post_id":72672215,"comment_id":128367743,"body_markdown":"How did you add a JPopupMenu to your table?  Did you use [setComponentPopupMenu](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu))?","body":"How did you add a JPopupMenu to your table?  Did you use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu)\" rel=\"nofollow noreferrer\">setComponentPopupMenu</a>?"},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":0,"creation_date":1655582835,"post_id":72672215,"comment_id":128367762,"body_markdown":"Yes, I used that function.","body":"Yes, I used that function."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1655649994,"creation_date":1655592807,"answer_id":72673268,"question_id":72672215,"body_markdown":"Since you want custom mouse behavior, you should not use [setComponentPopupMenu](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu)).\r\n\r\nInstead, display the JPopupMenu yourself, using JPopupMenu’s [show](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)) method:\r\n\r\n    JPopupMenu menu = /* ... */;\r\n\r\n    path_tbl.addMouseListener(new MouseAdapter() {\r\n        private void showPopupMenuFor(MouseEvent e) {\r\n            if (menu.isPopupTrigger(e)) {\r\n                Point point = e.getPoint();\r\n                int row = path_tbl.rowAtPoint(point);\r\n\r\n                if (!path_tbl.isRowSelected(row)) {\r\n                    path_tbl.setRowSelectionInterval(row, row);\r\n                }\r\n\r\n                menu.show(path_tbl, e.getX(), e.getY());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void mousePressed(MouseEvent e) {\r\n            showPopupMenuFor(e);\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(MouseEvent e) {\r\n            showPopupMenuFor(e);\r\n        }\r\n\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            showPopupMenuFor(e);\r\n        }\r\n    });\r\n\r\nYou must check the MouseEvent in both mousePressed *and* mouseReleased, because exactly when a context menu is triggered depends on the platform and the look-and-feel.  (Checking in mouseClicked may or may not be necessary, but it doesn’t hurt.)\r\n","title":"How can I call the mouse right click event in SwingGui?","body":"<p>Since you want custom mouse behavior, you should not use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu)\" rel=\"nofollow noreferrer\">setComponentPopupMenu</a>.</p>\n<p>Instead, display the JPopupMenu yourself, using JPopupMenu’s <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\" rel=\"nofollow noreferrer\">show</a> method:</p>\n<pre><code>JPopupMenu menu = /* ... */;\n\npath_tbl.addMouseListener(new MouseAdapter() {\n    private void showPopupMenuFor(MouseEvent e) {\n        if (menu.isPopupTrigger(e)) {\n            Point point = e.getPoint();\n            int row = path_tbl.rowAtPoint(point);\n\n            if (!path_tbl.isRowSelected(row)) {\n                path_tbl.setRowSelectionInterval(row, row);\n            }\n\n            menu.show(path_tbl, e.getX(), e.getY());\n        }\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        showPopupMenuFor(e);\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        showPopupMenuFor(e);\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        showPopupMenuFor(e);\n    }\n});\n</code></pre>\n<p>You must check the MouseEvent in both mousePressed <em>and</em> mouseReleased, because exactly when a context menu is triggered depends on the platform and the look-and-feel.  (Checking in mouseClicked may or may not be necessary, but it doesn’t hurt.)</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655611184,"creation_date":1655594926,"answer_id":72673391,"question_id":72672215,"body_markdown":"In most cases, I&#39;m lazy, so if I don&#39;t need to do something, then I&#39;d prefer not to.  In this case, I&#39;d prefer to make use of the existing API works as much as possible, meaning, make use of [`JComponent#setComponentPopupMenu`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu)), as it will take care of the &quot;how&quot; and &quot;when&quot; the popup should be shown, based on the current platform.\r\n\r\nHowever, as you have discovered, by default, `JTable` will NOT select the row when the user presses the &quot;right&quot; mouse button, for that, you could just continue with your current workflow, but, checking to see if the `MouseEvent` is actually a &quot;right&quot; click.\r\n\r\nLucky for us, some of the original Swing developers were also &quot;lazy&quot; and they provided us with [`SwingUtilities.isRightMouseButton`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#isRightMouseButton(java.awt.event.MouseEvent)), yea &#127881;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.util.Vector;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPopupMenu;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.table.DefaultTableModel;\r\n\r\n    public final class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new BorderLayout());\r\n                DefaultTableModel model = new DefaultTableModel(0, 10);\r\n                for (int row = 0; row &lt; 10; row++) {\r\n                    Vector data = new Vector(10);\r\n                    for (int col = 0; col &lt; 10; col++) {\r\n\r\n                        String value = row + &quot;x&quot; + ((char) (col + &#39;A&#39;));\r\n                        data.add(value);\r\n\r\n                    }\r\n                    model.addRow(data);\r\n                }\r\n\r\n                JPopupMenu menu = new JPopupMenu();\r\n                menu.add(&quot;Hello&quot;);\r\n                menu.add(&quot;This looks interesting&quot;);\r\n                menu.add(&quot;I like bi-planes&quot;);\r\n\r\n                JTable table = new JTable(model);\r\n                table.setComponentPopupMenu(menu);\r\n                table.addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        if (SwingUtilities.isRightMouseButton(e)) {\r\n                            Point point = e.getPoint();\r\n                            int row = table.rowAtPoint(point);\r\n\r\n                            if (!table.isRowSelected(row)) {\r\n                                table.setRowSelectionInterval(row, row);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                });\r\n                add(new JScrollPane(table));\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mhd6O.gif","title":"How can I call the mouse right click event in SwingGui?","body":"<p>In most cases, I'm lazy, so if I don't need to do something, then I'd prefer not to.  In this case, I'd prefer to make use of the existing API works as much as possible, meaning, make use of <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JComponent.html#setComponentPopupMenu(javax.swing.JPopupMenu)\" rel=\"nofollow noreferrer\"><code>JComponent#setComponentPopupMenu</code></a>, as it will take care of the &quot;how&quot; and &quot;when&quot; the popup should be shown, based on the current platform.</p>\n<p>However, as you have discovered, by default, <code>JTable</code> will NOT select the row when the user presses the &quot;right&quot; mouse button, for that, you could just continue with your current workflow, but, checking to see if the <code>MouseEvent</code> is actually a &quot;right&quot; click.</p>\n<p>Lucky for us, some of the original Swing developers were also &quot;lazy&quot; and they provided us with <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingUtilities.html#isRightMouseButton(java.awt.event.MouseEvent)\" rel=\"nofollow noreferrer\"><code>SwingUtilities.isRightMouseButton</code></a>, yea 🎉</p>\n<p><a href=\"https://i.stack.imgur.com/Mhd6O.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mhd6O.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.util.Vector;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JPopupMenu;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.table.DefaultTableModel;\n\npublic final class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new BorderLayout());\n            DefaultTableModel model = new DefaultTableModel(0, 10);\n            for (int row = 0; row &lt; 10; row++) {\n                Vector data = new Vector(10);\n                for (int col = 0; col &lt; 10; col++) {\n\n                    String value = row + &quot;x&quot; + ((char) (col + 'A'));\n                    data.add(value);\n\n                }\n                model.addRow(data);\n            }\n\n            JPopupMenu menu = new JPopupMenu();\n            menu.add(&quot;Hello&quot;);\n            menu.add(&quot;This looks interesting&quot;);\n            menu.add(&quot;I like bi-planes&quot;);\n\n            JTable table = new JTable(model);\n            table.setComponentPopupMenu(menu);\n            table.addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    if (SwingUtilities.isRightMouseButton(e)) {\n                        Point point = e.getPoint();\n                        int row = table.rowAtPoint(point);\n\n                        if (!table.isRowSelected(row)) {\n                            table.setRowSelectionInterval(row, row);\n                        }\n                    }\n                }\n\n            });\n            add(new JScrollPane(table));\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72673268,"answer_count":2,"score":1,"last_activity_date":1655649994,"creation_date":1655580880,"question_id":72672215,"body_markdown":"I have a table. If I right-click I got a JPopUpMenu but before the pop-up I want to select the row where the right-click event is done. Here is what I&#39;ve tried.\r\n\r\n    path_tbl.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                System.out.println(e.getPoint());\r\n\r\n                Point point = e.getPoint();\r\n                int selectedRow = path_tbl.rowAtPoint(point);\r\n                path_tbl.setRowSelectionInterval(selectedRow, selectedRow);\r\n            }\r\n        });\r\n\r\nIn that event, I cannot get any output from the console when I right-click. However, when I left-click, points are printed to the console. \r\n\r\n&gt; java.awt.Point[x=105,y=76]\r\n\r\nSo, this event only works when I left-click. How can I make this event work with right-click?","title":"How can I call the mouse right click event in SwingGui?","body":"<p>I have a table. If I right-click I got a JPopUpMenu but before the pop-up I want to select the row where the right-click event is done. Here is what I've tried.</p>\n<pre><code>path_tbl.addMouseListener(new MouseAdapter() {\n        @Override\n        public void mousePressed(MouseEvent e) {\n            System.out.println(e.getPoint());\n\n            Point point = e.getPoint();\n            int selectedRow = path_tbl.rowAtPoint(point);\n            path_tbl.setRowSelectionInterval(selectedRow, selectedRow);\n        }\n    });\n</code></pre>\n<p>In that event, I cannot get any output from the console when I right-click. However, when I left-click, points are printed to the console.</p>\n<blockquote>\n<p>java.awt.Point[x=105,y=76]</p>\n</blockquote>\n<p>So, this event only works when I left-click. How can I make this event work with right-click?</p>\n"},{"tags":["java","enums","enumeration"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655649849,"creation_date":1655648361,"answer_id":72677617,"question_id":72677273,"body_markdown":"&gt; instead I should get a proper readable message\r\n\r\nThen you need to implement a method that would validate the input and in the case if provided *enum-name* doesn&#39;t exist it would throw an exception with a suitable message.\r\n\r\nThat&#39;s how it might look like:\r\n\r\n    public enum Metadata{\r\n        AC, CD;\r\n        \r\n        public static Metadata get(String name) {\r\n            if (!isValid(name)) throw new MyExceptoin(&quot;message&quot;);\r\n\r\n            return valueOf(name);\r\n        }\r\n        \r\n        public static boolean isValid(String name) {\r\n            \r\n            return Arrays.stream(values()).anyMatch(e -&gt; e.name().equals(name));\r\n        }\r\n    }\r\n\r\nIt would be more cleaner approach than catching an `IllegalArgumentException` (because it&#39;s a runtime exception)  that can be thrown `valueOf()`, and then throwing a desired exception from the `catch` block. And you can&#39;t gain a significant performance advantage with this approach since there will be only a few enum-members.\r\n\r\n*Just for illustrative purposes, that&#39;s how an exception can be caught and rethrowing:*\r\n\r\n    public static Metadata get(String name) {\r\n        try {\r\n            return valueOf(name);\r\n        } catch (IllegalAccessException e) {\r\n            throw new MyExceptoin(&quot;message&quot;);\r\n        }\r\n    }","title":"How to check or throw user defined exception for value which is not there in ENUM , Let say I passes Metadata= &quot;DF&quot; from postman","body":"<blockquote>\n<p>instead I should get a proper readable message</p>\n</blockquote>\n<p>Then you need to implement a method that would validate the input and in the case if provided <em>enum-name</em> doesn't exist it would throw an exception with a suitable message.</p>\n<p>That's how it might look like:</p>\n<pre><code>public enum Metadata{\n    AC, CD;\n    \n    public static Metadata get(String name) {\n        if (!isValid(name)) throw new MyExceptoin(&quot;message&quot;);\n\n        return valueOf(name);\n    }\n    \n    public static boolean isValid(String name) {\n        \n        return Arrays.stream(values()).anyMatch(e -&gt; e.name().equals(name));\n    }\n}\n</code></pre>\n<p>It would be more cleaner approach than catching an <code>IllegalArgumentException</code> (because it's a runtime exception)  that can be thrown <code>valueOf()</code>, and then throwing a desired exception from the <code>catch</code> block. And you can't gain a significant performance advantage with this approach since there will be only a few enum-members.</p>\n<p><em>Just for illustrative purposes, that's how an exception can be caught and rethrowing:</em></p>\n<pre><code>public static Metadata get(String name) {\n    try {\n        return valueOf(name);\n    } catch (IllegalAccessException e) {\n        throw new MyExceptoin(&quot;message&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20080498,"reputation":1,"user_id":14723224,"display_name":"danceAyush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655649849,"creation_date":1655645341,"question_id":72677273,"body_markdown":"    public enum Metadata{\r\n        AC, CD;\r\n    }\r\nI am getting json parser error when passing value which is not there in enum..and that error is very lengthy and not readable to user ..instead I should get a proper readable message but I dont know how to resolve this error","title":"How to check or throw user defined exception for value which is not there in ENUM , Let say I passes Metadata= &quot;DF&quot; from postman","body":"<pre><code>public enum Metadata{\n    AC, CD;\n}\n</code></pre>\n<p>I am getting json parser error when passing value which is not there in enum..and that error is very lengthy and not readable to user ..instead I should get a proper readable message but I dont know how to resolve this error</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":5181005,"reputation":2233,"user_id":4146722,"display_name":"Pratik Tank"},"score":0,"creation_date":1456511052,"post_id":35658796,"comment_id":58998326,"body_markdown":"post your manifest file too","body":"post your manifest file too"}],"answers":[{"tags":[],"owner":{"account_id":994698,"reputation":3741,"user_id":1010964,"accept_rate":100,"display_name":"Geralt_Encore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456511772,"creation_date":1456511772,"answer_id":35659221,"question_id":35658796,"body_markdown":"You should extend your `Application` class from `MultidexApplication` and use it in manifest instead of using `android.support.multidex.MultiDexApplication` directly.","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>You should extend your <code>Application</code> class from <code>MultidexApplication</code> and use it in manifest instead of using <code>android.support.multidex.MultiDexApplication</code> directly.</p>\n"},{"tags":[],"owner":{"account_id":460986,"reputation":2935,"user_id":6999390,"display_name":"Dan Cantir"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1456511883,"creation_date":1456511883,"answer_id":35659259,"question_id":35658796,"body_markdown":"I think you should extend the `AnalyticsApplication` class into your own class, like this:\r\n\r\n    public class YourApplicationName extends AnalyticsApplication {\r\n        \r\n         @Override\r\n         protected void onCreate(Bundle savedInstanceState) {\r\n              super.onCreate(savedInstanceState);\r\n            \r\n              setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n              requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n              setContentView(R.layout.activity_splash);\r\n            \r\n              //Analitycs\r\n              AnalyticsApplication application = (AnalyticsApplication) getApplication();\r\n              mTracker = application.getDefaultTracker();\r\n              mTracker.setScreenName(&quot;Splash&quot;);\r\n              mTracker.send(new HitBuilders.ScreenViewBuilder().build());\r\n         }\r\n        \r\n         // Here you will enable Multidex\r\n         @Override\r\n         protected void attachBaseContext(Context base) {\r\n              super.attachBaseContext(base);\r\n              MultiDex.install(getBaseContext());\r\n         }\r\n         \r\n    }\r\n\r\nAfter this, you must change your `AndroidManifest.xml` file to this:\r\n\r\n    &lt;application\r\n         android:name=&quot;path.to.YourApplicationName&quot;\r\n         ...\r\n\r\nPlease, check this link for more information: http://developer.android.com/reference/android/support/multidex/MultiDex.html","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>I think you should extend the <code>AnalyticsApplication</code> class into your own class, like this:</p>\n\n<pre><code>public class YourApplicationName extends AnalyticsApplication {\n\n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n          super.onCreate(savedInstanceState);\n\n          setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n          requestWindowFeature(Window.FEATURE_NO_TITLE);\n          setContentView(R.layout.activity_splash);\n\n          //Analitycs\n          AnalyticsApplication application = (AnalyticsApplication) getApplication();\n          mTracker = application.getDefaultTracker();\n          mTracker.setScreenName(\"Splash\");\n          mTracker.send(new HitBuilders.ScreenViewBuilder().build());\n     }\n\n     // Here you will enable Multidex\n     @Override\n     protected void attachBaseContext(Context base) {\n          super.attachBaseContext(base);\n          MultiDex.install(getBaseContext());\n     }\n\n}\n</code></pre>\n\n<p>After this, you must change your <code>AndroidManifest.xml</code> file to this:</p>\n\n<pre><code>&lt;application\n     android:name=\"path.to.YourApplicationName\"\n     ...\n</code></pre>\n\n<p>Please, check this link for more information: <a href=\"http://developer.android.com/reference/android/support/multidex/MultiDex.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/support/multidex/MultiDex.html</a></p>\n"},{"tags":[],"owner":{"account_id":3916995,"reputation":20992,"user_id":3240583,"accept_rate":69,"display_name":"Mina Fawzy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468770533,"creation_date":1468770533,"answer_id":38423059,"question_id":35658796,"body_markdown":"I have the same issue this cause of you set `android:name=&quot;android.support.multidex.MultiDexApplication&quot;` in your manifest so your application call is type of `MultiDexApplication`\r\n\r\n    &lt;application\r\n    android:name=&quot;android.support.multidex.MultiDexApplication&quot;\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activityandroid:name=&quot;.Splash&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n    &lt;actionandroid:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n    &lt;categoryandroid:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n    &lt;/intent-filter&gt;&lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n\r\n\r\n\r\nmy application class \r\n\r\n\r\n\r\n    public class MyApplication extends Application {\r\n    \r\n        \r\n        public enum TrackerName {\r\n            APP_TRACKER, // tracker used only in this app\r\n            GLOBAL_TRACKER, // tracker used by all the apps from a company . eg: roll-up tracking.\r\n            ECOMMERCE_TRACKER, // tracker used by all ecommerce transactions from a company .\r\n        }\r\n    \r\n        public HashMap&lt;TrackerName, Tracker&gt; mTrackers = new HashMap&lt;&gt;();\r\n    \r\n        public synchronized Tracker getTracker(TrackerName trackerId) {\r\n            if (!mTrackers.containsKey(trackerId)) {\r\n                GoogleAnalytics analytics = GoogleAnalytics.getInstance(this);\r\n                Tracker tracker = (trackerId == TrackerName.APP_TRACKER)?analytics.newTracker(Property_ID)\r\n                        : (trackerId == TrackerName.GLOBAL_TRACKER) ? analytics.newTracker(R.xml.global_tracker)\r\n                        : analytics.newTracker(R.xml.ecommerce_tracker);\r\n                mTrackers.put(trackerId , tracker);\r\n            }\r\n            return  mTrackers.get(trackerId);\r\n        }\r\n    \r\n    \r\n        private Activity mCurrentActivity = null;\r\n    \r\n        public void setCurrentActivity(Activity mCurrectActivity) {\r\n            this.mCurrentActivity = mCurrectActivity;\r\n        }\r\n    \r\n        public Activity getCurrentActivity() {\r\n            return mCurrentActivity;\r\n        }\r\n    \r\n        private static Context mAppContext;\r\n    \r\n        private static MyApplication mInstance;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            MultiDex.install(this);\r\n            mInstance = this;\r\n            this.setAppContext(getApplicationContext());\r\n        }\r\n    \r\n        protected void attachBaseContext(Context base) {\r\n            super.attachBaseContext(base);\r\n            MultiDex.install(this);\r\n        }\r\n    \r\n        public static MyApplication getInstance() {\r\n            return mInstance;\r\n        }\r\n    \r\n        public static Context getAppContext() {\r\n            return mAppContext;\r\n        }\r\n    \r\n        public void setAppContext(Context mAppContext) {\r\n            this.mAppContext = mAppContext;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nthis why when I call this method (initialize application instance ) it crash , it try cast `MultiDexApplication` to `MyApplication` \r\n\r\n    MyApplication application = (MyApplication)getApplication();\r\n\r\nso to fix this issue just change your manifest attribute name to MyApplication\r\n\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            android:name=&quot;.MyApplication&quot;&gt; // add path to your application class here \r\n\r\n","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>I have the same issue this cause of you set <code>android:name=\"android.support.multidex.MultiDexApplication\"</code> in your manifest so your application call is type of <code>MultiDexApplication</code></p>\n\n<pre><code>&lt;application\nandroid:name=\"android.support.multidex.MultiDexApplication\"\nandroid:allowBackup=\"true\"\nandroid:icon=\"@mipmap/ic_launcher\"\nandroid:label=\"@string/app_name\"\nandroid:supportsRtl=\"true\"\nandroid:theme=\"@style/AppTheme\"&gt;\n&lt;activityandroid:name=\".Splash\"&gt;\n&lt;intent-filter&gt;\n&lt;actionandroid:name=\"android.intent.action.MAIN\"/&gt;\n&lt;categoryandroid:name=\"android.intent.category.LAUNCHER\"/&gt;\n&lt;/intent-filter&gt;&lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>my application class </p>\n\n<pre><code>public class MyApplication extends Application {\n\n\n    public enum TrackerName {\n        APP_TRACKER, // tracker used only in this app\n        GLOBAL_TRACKER, // tracker used by all the apps from a company . eg: roll-up tracking.\n        ECOMMERCE_TRACKER, // tracker used by all ecommerce transactions from a company .\n    }\n\n    public HashMap&lt;TrackerName, Tracker&gt; mTrackers = new HashMap&lt;&gt;();\n\n    public synchronized Tracker getTracker(TrackerName trackerId) {\n        if (!mTrackers.containsKey(trackerId)) {\n            GoogleAnalytics analytics = GoogleAnalytics.getInstance(this);\n            Tracker tracker = (trackerId == TrackerName.APP_TRACKER)?analytics.newTracker(Property_ID)\n                    : (trackerId == TrackerName.GLOBAL_TRACKER) ? analytics.newTracker(R.xml.global_tracker)\n                    : analytics.newTracker(R.xml.ecommerce_tracker);\n            mTrackers.put(trackerId , tracker);\n        }\n        return  mTrackers.get(trackerId);\n    }\n\n\n    private Activity mCurrentActivity = null;\n\n    public void setCurrentActivity(Activity mCurrectActivity) {\n        this.mCurrentActivity = mCurrectActivity;\n    }\n\n    public Activity getCurrentActivity() {\n        return mCurrentActivity;\n    }\n\n    private static Context mAppContext;\n\n    private static MyApplication mInstance;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        MultiDex.install(this);\n        mInstance = this;\n        this.setAppContext(getApplicationContext());\n    }\n\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(this);\n    }\n\n    public static MyApplication getInstance() {\n        return mInstance;\n    }\n\n    public static Context getAppContext() {\n        return mAppContext;\n    }\n\n    public void setAppContext(Context mAppContext) {\n        this.mAppContext = mAppContext;\n    }\n\n}\n</code></pre>\n\n<p>this why when I call this method (initialize application instance ) it crash , it try cast <code>MultiDexApplication</code> to <code>MyApplication</code> </p>\n\n<pre><code>MyApplication application = (MyApplication)getApplication();\n</code></pre>\n\n<p>so to fix this issue just change your manifest attribute name to MyApplication</p>\n\n<pre><code>&lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        android:name=\".MyApplication\"&gt; // add path to your application class here \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9608189,"reputation":11,"user_id":7133535,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520408448,"creation_date":1520407178,"answer_id":49146224,"question_id":35658796,"body_markdown":"Just remove that line \r\n\r\n     android:name=&quot;android.support.multidex.MultiDexApplication&quot;  \r\n\r\nfrom manifest file and put your Application name . i.e  \r\n\r\n     android:name=&quot;com.yourAppNamae.activity.YourApplicationName&quot;\r\n\r\nThat worked for me \r\n\r\n","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>Just remove that line </p>\n\n<pre><code> android:name=\"android.support.multidex.MultiDexApplication\"  \n</code></pre>\n\n<p>from manifest file and put your Application name . i.e  </p>\n\n<pre><code> android:name=\"com.yourAppNamae.activity.YourApplicationName\"\n</code></pre>\n\n<p>That worked for me </p>\n"},{"tags":[],"owner":{"account_id":3933328,"reputation":9,"user_id":3842592,"display_name":"Matheus Piscioneri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1536697523,"creation_date":1536697523,"answer_id":52283725,"question_id":35658796,"body_markdown":"To React Native:\r\n\r\n    \r\n    // MainApplication\r\n    \r\n    ...\r\n    \r\n    import android.content.Context;\r\n    import android.support.multidex.MultiDex;\r\n    \r\n    ...    \r\n    \r\n    public class MainApplication extends Application implements ReactApplication {\r\n    \r\n        ...\r\n    \r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n            super.attachBaseContext(base);\r\n            MultiDex.install(getBaseContext());\r\n        }\r\n    }","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>To React Native:</p>\n\n<pre><code>// MainApplication\n\n...\n\nimport android.content.Context;\nimport android.support.multidex.MultiDex;\n\n...    \n\npublic class MainApplication extends Application implements ReactApplication {\n\n    ...\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(getBaseContext());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6375892,"reputation":4706,"user_id":4946857,"accept_rate":71,"display_name":"Cory Robinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570480643,"creation_date":1568998045,"answer_id":58032350,"question_id":35658796,"body_markdown":"There are several correct solutions here. But, if you&#39;re using react-native &gt;= `0.60` or you&#39;re using `androidx` then this is the solution:\r\n\r\n    // MainApplication\r\n    \r\n    ...\r\n    import androidx.multidex.MultiDexApplication;\r\n    \r\n    ...    \r\n    \r\n    public class MainApplication extends MultiDexApplication implements ReactApplication {\r\n    \r\n        ...\r\n    }","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>There are several correct solutions here. But, if you're using react-native >= <code>0.60</code> or you're using <code>androidx</code> then this is the solution:</p>\n\n<pre><code>// MainApplication\n\n...\nimport androidx.multidex.MultiDexApplication;\n\n...    \n\npublic class MainApplication extends MultiDexApplication implements ReactApplication {\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18815377,"reputation":11,"user_id":13722653,"display_name":"Adriano Luiz Spanhol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593993433,"creation_date":1593993433,"answer_id":62747542,"question_id":35658796,"body_markdown":"Adding to the @Chandan answer, really keeping your original app android:name at AndroidManifest.xml make it works (at least with my case, RN &gt; 0.60 and using Androidx). ","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>Adding to the @Chandan answer, really keeping your original app android:name at AndroidManifest.xml make it works (at least with my case, RN &gt; 0.60 and using Androidx).</p>\n"},{"tags":[],"owner":{"account_id":1723697,"reputation":4004,"user_id":1578867,"accept_rate":86,"display_name":"auspicious99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655649423,"creation_date":1655649423,"answer_id":72677737,"question_id":35658796,"body_markdown":"In my case, there was no `android:name` for my `application` tag in my manifest in the first place, and the app had previously built and run successfully hundreds of times. Finally I tried simply uninstalling the app from the device and rebuild/reinstall, and it went back to working as normal.","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>In my case, there was no <code>android:name</code> for my <code>application</code> tag in my manifest in the first place, and the app had previously built and run successfully hundreds of times. Finally I tried simply uninstalling the app from the device and rebuild/reinstall, and it went back to working as normal.</p>\n"}],"owner":{"account_id":4614809,"reputation":3662,"user_id":3741698,"accept_rate":96,"display_name":"David Hackro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16528,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35659259,"answer_count":8,"score":9,"last_activity_date":1655649423,"creation_date":1456510252,"question_id":35658796,"body_markdown":"I have a problem, my app generate this exception,and i don&#39;t understand.\r\nI have implement the multiDexEnabled in my build.gradle\r\n  \r\n      Caused by: java.lang.ClassCastException: android.support.multidex.MultiDexApplication cannot be cast to com.example.AnalyticsApplication\r\n\r\n \r\n\r\n**My Class Java**\r\n\r\n    public class Splash extends Activity {\r\n    \r\n     private Tracker mTracker;\r\n    \r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n      super.onCreate(savedInstanceState);\r\n    \r\n      setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n      requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n      setContentView(R.layout.activity_splash);\r\n   \r\n      //Analitycs\r\n      AnalyticsApplication application = (AnalyticsApplication) getApplication();\r\n      mTracker = application.getDefaultTracker();\r\n      mTracker.setScreenName(&quot;Splash&quot;);\r\n      mTracker.send(new HitBuilders.ScreenViewBuilder().build());\r\n  }\r\n\r\n\r\n\r\n**file Gradle**\r\n\r\n    \r\n     defaultConfig {\r\n        multiDexEnabled true\r\n    }\r\n\r\n\r\n**Manifest.xml**\r\n\r\n   \r\n    &lt;uses-permissionandroid:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permissionandroid:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    \r\n    &lt;application\r\n    android:name=&quot;android.support.multidex.MultiDexApplication&quot;\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activityandroid:name=&quot;.Splash&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n    &lt;actionandroid:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n    &lt;categoryandroid:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n    &lt;/intent-filter&gt;&lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    \r\n","title":"exception android.support.multidex.MultiDexApplication cannot be cast class","body":"<p>I have a problem, my app generate this exception,and i don't understand.\nI have implement the multiDexEnabled in my build.gradle</p>\n\n<pre><code>  Caused by: java.lang.ClassCastException: android.support.multidex.MultiDexApplication cannot be cast to com.example.AnalyticsApplication\n</code></pre>\n\n<p><strong>My Class Java</strong></p>\n\n<pre><code>public class Splash extends Activity {\n\n private Tracker mTracker;\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n  super.onCreate(savedInstanceState);\n\n  setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n  requestWindowFeature(Window.FEATURE_NO_TITLE);\n  setContentView(R.layout.activity_splash);\n\n  //Analitycs\n  AnalyticsApplication application = (AnalyticsApplication) getApplication();\n  mTracker = application.getDefaultTracker();\n  mTracker.setScreenName(\"Splash\");\n  mTracker.send(new HitBuilders.ScreenViewBuilder().build());\n</code></pre>\n\n<p>}</p>\n\n<p><strong>file Gradle</strong></p>\n\n<pre><code> defaultConfig {\n    multiDexEnabled true\n}\n</code></pre>\n\n<p><strong>Manifest.xml</strong></p>\n\n<pre><code>&lt;uses-permissionandroid:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permissionandroid:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n\n&lt;application\nandroid:name=\"android.support.multidex.MultiDexApplication\"\nandroid:allowBackup=\"true\"\nandroid:icon=\"@mipmap/ic_launcher\"\nandroid:label=\"@string/app_name\"\nandroid:supportsRtl=\"true\"\nandroid:theme=\"@style/AppTheme\"&gt;\n&lt;activityandroid:name=\".Splash\"&gt;\n&lt;intent-filter&gt;\n&lt;actionandroid:name=\"android.intent.action.MAIN\"/&gt;\n&lt;categoryandroid:name=\"android.intent.category.LAUNCHER\"/&gt;\n&lt;/intent-filter&gt;&lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9926942,"reputation":190,"user_id":7348174,"display_name":"Rahul Deep Singh"},"score":0,"creation_date":1655649184,"post_id":72677628,"comment_id":128376956,"body_markdown":"Hi! can you please provide more details regarding the exact issue that you are facing here?","body":"Hi! can you please provide more details regarding the exact issue that you are facing here?"},{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1655649909,"post_id":72677628,"comment_id":128377139,"body_markdown":"You can use `DownloadManager`","body":"You can use <code>DownloadManager</code>"}],"owner":{"account_id":23817167,"reputation":1,"user_id":17825267,"display_name":"Artem Barabash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655649095,"creation_date":1655648461,"question_id":72677628,"body_markdown":"I need to  make notification on screen after pdf file had dowloaded. File dowload? but I cannot do notification on screen.\r\n\r\n     public void createDocumentAboutRegistration(User user){\r\n        PdfDocument myPdfDocument = new PdfDocument();\r\n        PdfDocument.PageInfo myPageInfo = new PdfDocument.PageInfo.Builder(300,600,1).create();\r\n        PdfDocument.Page myPage = myPdfDocument.startPage(myPageInfo);\r\n\r\n        Paint myPaint = new Paint();\r\n        String myString = user.toString();\r\n        int x = 10, y=25;\r\n\r\n        for (String line:myString.split(&quot;\\n&quot;)){\r\n            myPage.getCanvas().drawText(line, x, y, myPaint);\r\n            y+=myPaint.descent()-myPaint.ascent();\r\n        }\r\n\r\n        myPdfDocument.finishPage(myPage);\r\n        \r\n     \r\n        String myFilePath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        String nameFile =  &quot;coupon-&quot; + user.lastName + &quot;.pdf&quot;;\r\n       File myFile = new File(myFilePath, nameFile);\r\n        try {\r\n            myPdfDocument.writeTo(new FileOutputStream(myFile));\r\n            Toast.makeText(RegistrationActivity.this, &quot;Coupon generated and saved in your downloads.&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n        catch (Exception e){\r\n\r\n            e.printStackTrace();\r\n            Toast.makeText(RegistrationActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n        myPdfDocument.close();\r\n\r\n   \r\n    }","title":"How do I make a notification of a downloaded pdf file?","body":"<p>I need to  make notification on screen after pdf file had dowloaded. File dowload? but I cannot do notification on screen.</p>\n<pre><code> public void createDocumentAboutRegistration(User user){\n    PdfDocument myPdfDocument = new PdfDocument();\n    PdfDocument.PageInfo myPageInfo = new PdfDocument.PageInfo.Builder(300,600,1).create();\n    PdfDocument.Page myPage = myPdfDocument.startPage(myPageInfo);\n\n    Paint myPaint = new Paint();\n    String myString = user.toString();\n    int x = 10, y=25;\n\n    for (String line:myString.split(&quot;\\n&quot;)){\n        myPage.getCanvas().drawText(line, x, y, myPaint);\n        y+=myPaint.descent()-myPaint.ascent();\n    }\n\n    myPdfDocument.finishPage(myPage);\n    \n \n    String myFilePath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n    String nameFile =  &quot;coupon-&quot; + user.lastName + &quot;.pdf&quot;;\n   File myFile = new File(myFilePath, nameFile);\n    try {\n        myPdfDocument.writeTo(new FileOutputStream(myFile));\n        Toast.makeText(RegistrationActivity.this, &quot;Coupon generated and saved in your downloads.&quot;, Toast.LENGTH_LONG).show();\n\n    }\n    catch (Exception e){\n\n        e.printStackTrace();\n        Toast.makeText(RegistrationActivity.this, &quot;Error&quot;, Toast.LENGTH_LONG).show();\n    }\n    myPdfDocument.close();\n\n\n}\n</code></pre>\n"},{"tags":["java","mysql","stored-procedures","entitymanager"],"comments":[{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":1,"creation_date":1655648474,"post_id":72677613,"comment_id":128376798,"body_markdown":"Can you post the error? Does your procedure work when invoked manually from database?","body":"Can you post the error? Does your procedure work when invoked manually from database?"},{"owner":{"account_id":10364565,"reputation":4778,"user_id":7644018,"display_name":"Paul T."},"score":0,"creation_date":1655663719,"post_id":72677613,"comment_id":128380003,"body_markdown":"Any error(s) should be added to the question to help us help you.","body":"Any error(s) should be added to the question to help us help you."},{"owner":{"account_id":3395791,"reputation":115,"user_id":2849451,"display_name":"Komal Prasad"},"score":0,"creation_date":1655756873,"post_id":72677613,"comment_id":128402916,"body_markdown":"16:26:54.611 [main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - FUNCTION CALL does not exist\nException in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:149)\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:157)\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:653)","body":"16:26:54.611 [main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - FUNCTION CALL does not exist Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not prepare statement \tat org.hibernate.internal.ExceptionConverterImpl.convert(Except&zwnj;&#8203;ionConverterImpl.jav&zwnj;&#8203;a:149) \tat org.hibernate.internal.ExceptionConverterImpl.convert(Except&zwnj;&#8203;ionConverterImpl.jav&zwnj;&#8203;a:157) \tat org.hibernate.procedure.internal.ProcedureCallImpl.execute(P&zwnj;&#8203;rocedureCallImpl.jav&zwnj;&#8203;a:653)"}],"owner":{"account_id":3395791,"reputation":115,"user_id":2849451,"display_name":"Komal Prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655648822,"creation_date":1655648335,"question_id":72677613,"body_markdown":"Use Case:\r\n\r\nI have the procedure stored in the database:\r\n```sql \r\nCREATE DEFINER=`DEVDBA`@`%` PROCEDURE `TestReporting`()\r\nbegin \r\n\r\ntruncate table `report_controller_total_request`;\r\n\r\ninsert into `report_controller_total_request` \r\nselect count(*) as total_no_of_requests from log_request;\r\n\r\nend\r\n```\r\n\r\n*** Now I want to call this stored procedure from the code base using EntityManager\r\n```\r\n    public void UpdateServer() {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Update Server Start&quot;);\r\n\t\t\r\n\t\tEntityManager entityManager = null;\r\n\t\tentityManager = EntityManagerFactoryBuilder.createEntityManager();\r\n\t\tentityManager.getTransaction().begin();\r\n\t\t\r\n\t\tStoredProcedureQuery storedProcedure = entityManager.createStoredProcedureQuery(&quot;TestReporting&quot;);\r\n\t\t\r\n\t\tboolean isExceuted = storedProcedure.execute();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Update Server Done: &quot;+isExceuted);\r\n\t\tentityManager.getTransaction().commit();\r\n\t\tentityManager.close();\r\n\t}\r\n```\r\n\r\nI have tried different versions of the code, this is the last I tried before posting.\r\n\r\nI&#39;m not able to call the procedure, it gives me some error every time\r\n\r\nUpdate Server Start\r\n\r\nUpdate Server Done: false\r\n\r\nSummary:\r\n\r\nI already have the procedure stored in the database, I want the java code using EntityManagger to call the procedure, which in turn updates the database table.\r\n\r\nNote: I&#39;m using JNDI for the database connection. \r\n\r\n\r\n","title":"How to call (MySQL) Database Stored Procedure using JPA (Entity Manager): When Procedure already stored in database","body":"<p>Use Case:</p>\n<p>I have the procedure stored in the database:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE DEFINER=`DEVDBA`@`%` PROCEDURE `TestReporting`()\nbegin \n\ntruncate table `report_controller_total_request`;\n\ninsert into `report_controller_total_request` \nselect count(*) as total_no_of_requests from log_request;\n\nend\n</code></pre>\n<p>*** Now I want to call this stored procedure from the code base using EntityManager</p>\n<pre><code>    public void UpdateServer() {\n        \n        System.out.println(&quot;Update Server Start&quot;);\n        \n        EntityManager entityManager = null;\n        entityManager = EntityManagerFactoryBuilder.createEntityManager();\n        entityManager.getTransaction().begin();\n        \n        StoredProcedureQuery storedProcedure = entityManager.createStoredProcedureQuery(&quot;TestReporting&quot;);\n        \n        boolean isExceuted = storedProcedure.execute();\n        \n        System.out.println(&quot;Update Server Done: &quot;+isExceuted);\n        entityManager.getTransaction().commit();\n        entityManager.close();\n    }\n</code></pre>\n<p>I have tried different versions of the code, this is the last I tried before posting.</p>\n<p>I'm not able to call the procedure, it gives me some error every time</p>\n<p>Update Server Start</p>\n<p>Update Server Done: false</p>\n<p>Summary:</p>\n<p>I already have the procedure stored in the database, I want the java code using EntityManagger to call the procedure, which in turn updates the database table.</p>\n<p>Note: I'm using JNDI for the database connection.</p>\n"},{"tags":["java","junit","mockito","sonarqube","spy"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655511549,"post_id":72665786,"comment_id":128357144,"body_markdown":"Given that you are not verifying or stubbing any methods on MyService, why are you using @Spy at all? Also *never* use an empty catch block like that!","body":"Given that you are not verifying or stubbing any methods on MyService, why are you using @Spy at all? Also <i>never</i> use an empty catch block like that!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1655511615,"post_id":72665786,"comment_id":128357151,"body_markdown":"In fact as you don&#39;t inject myRepository into myService, probably what is happening is an NPE that you never see.","body":"In fact as you don&#39;t inject myRepository into myService, probably what is happening is an NPE that you never see."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655512834,"creation_date":1655512834,"answer_id":72665905,"question_id":72665786,"body_markdown":"You&#39;ve got three main problems with this test.\r\n\r\n- You&#39;re using a `Spy`, for no reason at all.  You&#39;re not using any `Spy` features, so you shouldn&#39;t bother.  Just use a real `MyService` object and test that.\r\n- You haven&#39;t injected your mock `MyRepository` at all.  That means that the mock will never receive the calls that your class makes on the `myRepo` reference.  There are a few different ways you could fix that, but the simplest one is probably to put an `@InjectMocks` annotation on the `MyService` declaration in your test.  \r\n- Your test has a `try/catch` block, where you throw away any exceptions.  This means that if something goes wrong in your test, you&#39;ll never find out about it.  Remove the `try/catch` and let `JUnit` report any exceptions, so that you actually see them.","title":"Using Mockito Spy","body":"<p>You've got three main problems with this test.</p>\n<ul>\n<li>You're using a <code>Spy</code>, for no reason at all.  You're not using any <code>Spy</code> features, so you shouldn't bother.  Just use a real <code>MyService</code> object and test that.</li>\n<li>You haven't injected your mock <code>MyRepository</code> at all.  That means that the mock will never receive the calls that your class makes on the <code>myRepo</code> reference.  There are a few different ways you could fix that, but the simplest one is probably to put an <code>@InjectMocks</code> annotation on the <code>MyService</code> declaration in your test.</li>\n<li>Your test has a <code>try/catch</code> block, where you throw away any exceptions.  This means that if something goes wrong in your test, you'll never find out about it.  Remove the <code>try/catch</code> and let <code>JUnit</code> report any exceptions, so that you actually see them.</li>\n</ul>\n"}],"owner":{"account_id":17672364,"reputation":1,"user_id":12828178,"display_name":"ITMan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655648433,"creation_date":1655510997,"question_id":72665786,"body_markdown":"I tried to write a Junit test case for below service class of Spring Boot app.\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class MyService {\r\n\tprivate static final Logger log = LoggerFactory.getLogger(ataService.class);\r\n\r\n\t@Autowire\r\n\tprivate MyRepository myRepo;\r\n\r\n\tpublic Map&lt;String, Object&gt; myMethod(Response rsp, Request req) {\r\n\t\tMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\t\tdata.put(&quot;PROCESS_I&quot;, req.getProcessI());\r\n\t\tdata.put(&quot;REQUEST_I&quot;, req.getRequestI());\r\n\t\tdata.put(&quot;TYPE_COE&quot;, req.getTypeCoe());\r\n\t\tdata.put(&quot;STATUS_COE&quot;, rsp.getStatusCoe());\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; result = null;\r\n\t\ttry {\r\n\t\t\tresult = myRepo.update(ata);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Error occurre uring upate : &quot; + e.getMessage());\r\n\t\t}\t\r\n\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\nI tried to cover as many lines as possible with this test case\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyServiceTest {\r\n\t\r\n\t@Mock\r\n    private MyRepository myRepository;\r\n    \r\n    @Spy\r\n    private MyService  myService;\r\n\r\n\t@Test\r\n\tpublic voi test() {\r\n\t\tRequest req = new Request();\r\n    \treq.setProcessI(new Bigecimal(&quot;43850&quot;));\r\n    \treq.setRequestI(new Bigecimal(&quot;146717&quot;));\r\n    \treq.setTypeCoe(&quot;ABC&quot;);\r\n    \t\r\n    \tResponse rsp = new Response();\r\n    \tvetResp.setStatusCoe(&quot;N&quot;);\r\n\r\n    \tMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\t\tdata.put(&quot;PROCESS_I&quot;, req.getProcessI());\r\n\t\tdata.put(&quot;REQUEST_I&quot;, req.getRequestI());\r\n\t\tdata.put(&quot;TYPE_COE&quot;, req.getTypeCoe());\r\n\t\tdata.put(&quot;STATUS_COE&quot;, rsp.getStatusCoe());\r\n    \t\r\n    \tMap&lt;String, Object&gt; result = null;\r\n    \ttry {\r\n    \t\tdoReturn(result).when(myRepository.update(data));\r\n    \t\tresult = myService.myMethod(vetResp, req);\r\n    \t\tverify(myRepository, atLeast(1)).update(any(Map.class));\r\n    \t} catch(Exception e) {\r\n    \t}\r\n\t}\r\n}\r\n```\r\nI thought the statement &quot;myService.myMethod(vetResp, req);&quot; will run the real method since myService is annotated with @Spy. But the SonarQube scan report shows that no single line of the method is covered.\r\n\r\nI am new to Mockito. Could anyone show me what I did wrong? Thanks!\r\n\r\n\r\nThank you all for your inputs. I replaced @Spy with @InjectMocks, but it doesn&#39;t increase code coverage at all. I need mock MyRepository so I don&#39;t have to set up datasource/connection.  Could anyone show sample test code that can cover most lines of tested code?","title":"Using Mockito Spy","body":"<p>I tried to write a Junit test case for below service class of Spring Boot app.</p>\n<pre><code>@Service\n@Transactional\npublic class MyService {\n    private static final Logger log = LoggerFactory.getLogger(ataService.class);\n\n    @Autowire\n    private MyRepository myRepo;\n\n    public Map&lt;String, Object&gt; myMethod(Response rsp, Request req) {\n        Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n        data.put(&quot;PROCESS_I&quot;, req.getProcessI());\n        data.put(&quot;REQUEST_I&quot;, req.getRequestI());\n        data.put(&quot;TYPE_COE&quot;, req.getTypeCoe());\n        data.put(&quot;STATUS_COE&quot;, rsp.getStatusCoe());\n        \n        Map&lt;String, Object&gt; result = null;\n        try {\n            result = myRepo.update(ata);\n        } catch (Exception e) {\n            log.error(&quot;Error occurre uring upate : &quot; + e.getMessage());\n        }   \n\n        return result;\n    }\n}\n</code></pre>\n<p>I tried to cover as many lines as possible with this test case</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyServiceTest {\n    \n    @Mock\n    private MyRepository myRepository;\n    \n    @Spy\n    private MyService  myService;\n\n    @Test\n    public voi test() {\n        Request req = new Request();\n        req.setProcessI(new Bigecimal(&quot;43850&quot;));\n        req.setRequestI(new Bigecimal(&quot;146717&quot;));\n        req.setTypeCoe(&quot;ABC&quot;);\n        \n        Response rsp = new Response();\n        vetResp.setStatusCoe(&quot;N&quot;);\n\n        Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n        data.put(&quot;PROCESS_I&quot;, req.getProcessI());\n        data.put(&quot;REQUEST_I&quot;, req.getRequestI());\n        data.put(&quot;TYPE_COE&quot;, req.getTypeCoe());\n        data.put(&quot;STATUS_COE&quot;, rsp.getStatusCoe());\n        \n        Map&lt;String, Object&gt; result = null;\n        try {\n            doReturn(result).when(myRepository.update(data));\n            result = myService.myMethod(vetResp, req);\n            verify(myRepository, atLeast(1)).update(any(Map.class));\n        } catch(Exception e) {\n        }\n    }\n}\n</code></pre>\n<p>I thought the statement &quot;myService.myMethod(vetResp, req);&quot; will run the real method since myService is annotated with @Spy. But the SonarQube scan report shows that no single line of the method is covered.</p>\n<p>I am new to Mockito. Could anyone show me what I did wrong? Thanks!</p>\n<p>Thank you all for your inputs. I replaced @Spy with @InjectMocks, but it doesn't increase code coverage at all. I need mock MyRepository so I don't have to set up datasource/connection.  Could anyone show sample test code that can cover most lines of tested code?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","android-bottomsheetdialog"],"comments":[{"owner":{"account_id":19369351,"reputation":180,"user_id":14162959,"display_name":"Crebain"},"score":0,"creation_date":1655280109,"post_id":72627169,"comment_id":128292354,"body_markdown":"Create a interface and add to RecyclerView Adapter. Send your string to Fragment with this interface and create/call bottomSheetDialog in interface function in Fragment.","body":"Create a interface and add to RecyclerView Adapter. Send your string to Fragment with this interface and create/call bottomSheetDialog in interface function in Fragment."}],"answers":[{"tags":[],"owner":{"account_id":14750547,"reputation":326,"user_id":10652763,"display_name":"Payam Monsef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655648010,"creation_date":1655280011,"answer_id":72627777,"question_id":72627169,"body_markdown":"To do that you can easily use material design bottom sheet. first you need to add material dependency to your build.gradle:\r\n\r\n    dependencies {\r\n        // ...\r\n        implementation &#39;com.google.android.material:material:&lt;version&gt;&#39;\r\n        // ...\r\n    }\r\n\r\n\r\nthen you should create a kotlin file/class and extend **BottomSheetDialogFragment()**\r\n\r\n    class ModalBottomSheet : BottomSheetDialogFragment() {\r\n\r\n        override fun onCreateView(\r\n            inflater: LayoutInflater,\r\n            container: ViewGroup?,\r\n            savedInstanceState: Bundle?\r\n        ): View? = inflater.inflate(R.layout.modal_bottom_sheet_content, container, false)\r\n    }\r\n\r\nyou can also set different styles to your custom bottomsheet\r\n\r\n\r\nyou can see the basic usage below:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        ...\r\n        val modalBottomSheet = ModalBottomSheet()\r\n        modalBottomSheet.show(supportFragmentManager, TAG)\r\n        ...\r\n    }\r\n\r\n\r\n\r\n**Update**\r\n\r\nyou can create an interface and use it in your adapter constructor to return the callback to the parent(where you create that adapter)\r\n\r\n    interface PostAdapterCallback{\r\n        onPublisherClicked(publisher : String)\r\n        //or\r\n        onOwnerClicked(owner: Owner)\r\n    }\r\n\r\n    class PostAdapter(private val publisherList: List&lt;String&gt;, val callback:PostAdapterCallback){}\r\n\r\nnow you can take your model inside adapter and pass the Owner model as callback or you can pass your publisher to your Activity and call your FirebaseFirestore.getInstance() there.\r\n\r\nin your activity:\r\n\r\n    override fun onOwnerClicked(owner : Owner){\r\n        //you can call you bottomsheet here and pass you model as a bundle if you need\r\n    }","title":"Inflating BottomSheetDialog from an item click in a RecyclerVIew?","body":"<p>To do that you can easily use material design bottom sheet. first you need to add material dependency to your build.gradle:</p>\n<pre><code>dependencies {\n    // ...\n    implementation 'com.google.android.material:material:&lt;version&gt;'\n    // ...\n}\n</code></pre>\n<p>then you should create a kotlin file/class and extend <strong>BottomSheetDialogFragment()</strong></p>\n<pre><code>class ModalBottomSheet : BottomSheetDialogFragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? = inflater.inflate(R.layout.modal_bottom_sheet_content, container, false)\n}\n</code></pre>\n<p>you can also set different styles to your custom bottomsheet</p>\n<p>you can see the basic usage below:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    ...\n    val modalBottomSheet = ModalBottomSheet()\n    modalBottomSheet.show(supportFragmentManager, TAG)\n    ...\n}\n</code></pre>\n<p><strong>Update</strong></p>\n<p>you can create an interface and use it in your adapter constructor to return the callback to the parent(where you create that adapter)</p>\n<pre><code>interface PostAdapterCallback{\n    onPublisherClicked(publisher : String)\n    //or\n    onOwnerClicked(owner: Owner)\n}\n\nclass PostAdapter(private val publisherList: List&lt;String&gt;, val callback:PostAdapterCallback){}\n</code></pre>\n<p>now you can take your model inside adapter and pass the Owner model as callback or you can pass your publisher to your Activity and call your FirebaseFirestore.getInstance() there.</p>\n<p>in your activity:</p>\n<pre><code>override fun onOwnerClicked(owner : Owner){\n    //you can call you bottomsheet here and pass you model as a bundle if you need\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19369351,"reputation":180,"user_id":14162959,"display_name":"Crebain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655366934,"creation_date":1655282120,"answer_id":72628229,"question_id":72627169,"body_markdown":"Create a interface\r\n\r\n    interface RecyclerClickListeners {\r\n    fun onRecyclerViewItemClick(view: View, model:Model) }\r\n\r\nAdd interface to RecyclerAdapter and Fragment\r\n\r\nFragment:\r\n\r\n    class TestFragment :\r\n    Fragment(),    \r\n    RecyclerClickListeners {\r\n    private val recyclerAdapter = TestRecyclerAdapter(arrayListOf(),this)... }\r\n\r\nRecycler Adapter:\r\n\r\n    class TestRecyclerAdapter(private val modelList: ArrayList&lt;Model&gt;, val listener: RecyclerClickListeners) ...\r\n\r\nSend your model in onBindViewHolder to Fragment\r\n\r\n           holder.binding.root.setOnClickListener {\r\n            listener.onRecyclerViewItemClick(it, modelList[position])\r\n        }\r\nIn Fragment call or create bottomsheetdialog \r\n\r\n    override fun onRecyclerViewItemClick(view: View, model: Model) { openBottonSheetFragment(model) }\r\n\r\nNow you can work with ownerModel in Bottom Sheet Fragment\r\n\r\n","title":"Inflating BottomSheetDialog from an item click in a RecyclerVIew?","body":"<p>Create a interface</p>\n<pre><code>interface RecyclerClickListeners {\nfun onRecyclerViewItemClick(view: View, model:Model) }\n</code></pre>\n<p>Add interface to RecyclerAdapter and Fragment</p>\n<p>Fragment:</p>\n<pre><code>class TestFragment :\nFragment(),    \nRecyclerClickListeners {\nprivate val recyclerAdapter = TestRecyclerAdapter(arrayListOf(),this)... }\n</code></pre>\n<p>Recycler Adapter:</p>\n<pre><code>class TestRecyclerAdapter(private val modelList: ArrayList&lt;Model&gt;, val listener: RecyclerClickListeners) ...\n</code></pre>\n<p>Send your model in onBindViewHolder to Fragment</p>\n<pre><code>       holder.binding.root.setOnClickListener {\n        listener.onRecyclerViewItemClick(it, modelList[position])\n    }\n</code></pre>\n<p>In Fragment call or create bottomsheetdialog</p>\n<pre><code>override fun onRecyclerViewItemClick(view: View, model: Model) { openBottonSheetFragment(model) }\n</code></pre>\n<p>Now you can work with ownerModel in Bottom Sheet Fragment</p>\n"},{"tags":[],"owner":{"account_id":22993177,"reputation":1,"user_id":17118363,"display_name":"Rathod Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655441159,"creation_date":1655377434,"answer_id":72644806,"question_id":72627169,"body_markdown":"```\r\nprivate void showBottomSheetDialog() {\r\n\r\n    final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(this);\r\n    bottomSheetDialog.setContentView(R.layout.bottom_sheet_dialog);\r\n\r\n    ...\r\n\r\n    bottomSheetDialog.show();\r\n}\r\n```\r\n\r\ncall above function on recycler item click","title":"Inflating BottomSheetDialog from an item click in a RecyclerVIew?","body":"<pre><code>private void showBottomSheetDialog() {\n\n    final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(this);\n    bottomSheetDialog.setContentView(R.layout.bottom_sheet_dialog);\n\n    ...\n\n    bottomSheetDialog.show();\n}\n</code></pre>\n<p>call above function on recycler item click</p>\n"}],"owner":{"account_id":22699867,"reputation":85,"user_id":16867455,"display_name":"Sam Kabiru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1655648010,"creation_date":1655276802,"question_id":72627169,"body_markdown":"I have implemented a method that launches the BottomSheetDialog but I am facing this error\r\n\r\n     android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\r\n        at android.view.ViewRootImpl.setView(ViewRootImpl.java:907)\r\n        at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:387)\r\n        at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\r\n        at android.app.Dialog.show(Dialog.java:342)\r\n        at com.example.moveapplication.adapter.PostAdapter.openBottomSheet(PostAdapter.kt:136)\r\n        at com.example.moveapplication.adapter.PostAdapter.onBindViewHolder$lambda-2(PostAdapter.kt:53)\r\n        at com.example.moveapplication.adapter.PostAdapter.$r8$lambda$Ya4NMbtCP1ASbfWIkCscOWrPyOw(Unknown Source:0)\r\n        at com.example.moveapplication.adapter.PostAdapter$$ExternalSyntheticLambda2.onClick(Unknown Source:4)\r\n        at android.view.View.performClick(View.java:7125)\r\n        at android.view.View.performClickInternal(View.java:7102)\r\n        at android.view.View.access$3500(View.java:801)\r\n        at android.view.View$PerformClick.run(View.java:27336)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n\r\nHere is method called after an item click \r\n\r\n    private fun openBottomSheet(publisher: String) {\r\n         val inflater = mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\r\n         val view = inflater.inflate(R.layout.bottom_sheet_dialog, null)\r\n         val uImage = view.findViewById&lt;ImageView&gt;(R.id.sheetIvProfileImage)\r\n         val uNumber = view.findViewById&lt;TextView&gt;(R.id.sheetTvOwnerNumber)\r\n         val uEmail = view.findViewById&lt;TextView&gt;(R.id.tvOwnerEmail)\r\n         val uAbout = view.findViewById&lt;TextView&gt;(R.id.tvOwnerAbout)\r\n         val uTitle = view.findViewById&lt;TextView&gt;(R.id.sheetTvOwnerTitle)\r\n\r\n         val ownersRef = FirebaseFirestore.getInstance().collection(&quot;owners&quot;).document(publisher)\r\n         ownersRef.get().addOnSuccessListener { document -&gt;\r\n             val ownerModel = document.toObject(Owner::class.java)\r\n             Glide.with(mContext)\r\n                 .load(ownerModel!!.profileImage)\r\n                 .into(uImage)\r\n             uTitle.text = ownerModel.username\r\n             uNumber.text = ownerModel.phoneNumber\r\n             uEmail.text = ownerModel.email\r\n             uAbout.text = ownerModel.about\r\n         }\r\n\r\n        val bottomSheetDialog = Dialog(mContext)\r\n        bottomSheetDialog.apply {\r\n            setContentView(view)\r\n            setCancelable(true)\r\n            window?.setLayout(\r\n                LinearLayout.LayoutParams.MATCH_PARENT,\r\n                LinearLayout.LayoutParams.WRAP_CONTENT)\r\n            window?.setGravity(Gravity.BOTTOM)\r\n            show()\r\n        }\r\n\r\n     }\r\n\r\nI am not familiar with another way of doing inflating the bottomsheetdialog. Using the method was a trial to see if it could work. \r\n\r\non my **onBindViewHolder** the item responsible for click i&#39;ve implemented it this way\r\n\r\n     holder.publisher.setOnClickListener {\r\n            openBottomSheet(post.publisher)\r\n        }\r\n\r\n\r\n","title":"Inflating BottomSheetDialog from an item click in a RecyclerVIew?","body":"<p>I have implemented a method that launches the BottomSheetDialog but I am facing this error</p>\n<pre><code> android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\n    at android.view.ViewRootImpl.setView(ViewRootImpl.java:907)\n    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:387)\n    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:95)\n    at android.app.Dialog.show(Dialog.java:342)\n    at com.example.moveapplication.adapter.PostAdapter.openBottomSheet(PostAdapter.kt:136)\n    at com.example.moveapplication.adapter.PostAdapter.onBindViewHolder$lambda-2(PostAdapter.kt:53)\n    at com.example.moveapplication.adapter.PostAdapter.$r8$lambda$Ya4NMbtCP1ASbfWIkCscOWrPyOw(Unknown Source:0)\n    at com.example.moveapplication.adapter.PostAdapter$$ExternalSyntheticLambda2.onClick(Unknown Source:4)\n    at android.view.View.performClick(View.java:7125)\n    at android.view.View.performClickInternal(View.java:7102)\n    at android.view.View.access$3500(View.java:801)\n    at android.view.View$PerformClick.run(View.java:27336)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>Here is method called after an item click</p>\n<pre><code>private fun openBottomSheet(publisher: String) {\n     val inflater = mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n     val view = inflater.inflate(R.layout.bottom_sheet_dialog, null)\n     val uImage = view.findViewById&lt;ImageView&gt;(R.id.sheetIvProfileImage)\n     val uNumber = view.findViewById&lt;TextView&gt;(R.id.sheetTvOwnerNumber)\n     val uEmail = view.findViewById&lt;TextView&gt;(R.id.tvOwnerEmail)\n     val uAbout = view.findViewById&lt;TextView&gt;(R.id.tvOwnerAbout)\n     val uTitle = view.findViewById&lt;TextView&gt;(R.id.sheetTvOwnerTitle)\n\n     val ownersRef = FirebaseFirestore.getInstance().collection(&quot;owners&quot;).document(publisher)\n     ownersRef.get().addOnSuccessListener { document -&gt;\n         val ownerModel = document.toObject(Owner::class.java)\n         Glide.with(mContext)\n             .load(ownerModel!!.profileImage)\n             .into(uImage)\n         uTitle.text = ownerModel.username\n         uNumber.text = ownerModel.phoneNumber\n         uEmail.text = ownerModel.email\n         uAbout.text = ownerModel.about\n     }\n\n    val bottomSheetDialog = Dialog(mContext)\n    bottomSheetDialog.apply {\n        setContentView(view)\n        setCancelable(true)\n        window?.setLayout(\n            LinearLayout.LayoutParams.MATCH_PARENT,\n            LinearLayout.LayoutParams.WRAP_CONTENT)\n        window?.setGravity(Gravity.BOTTOM)\n        show()\n    }\n\n }\n</code></pre>\n<p>I am not familiar with another way of doing inflating the bottomsheetdialog. Using the method was a trial to see if it could work.</p>\n<p>on my <strong>onBindViewHolder</strong> the item responsible for click i've implemented it this way</p>\n<pre><code> holder.publisher.setOnClickListener {\n        openBottomSheet(post.publisher)\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":3,"creation_date":1655647016,"post_id":72677375,"comment_id":128376465,"body_markdown":"Why not `forEach`?","body":"Why not <code>forEach</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1655647142,"post_id":72677375,"comment_id":128376490,"body_markdown":"Well, if you mind, what you&#39;re doing isn&#39;t good practice. See https://stackoverflow.com/questions/57591037/is-it-ok-for-optionalmap-to-change-the-state-of-the-input-parameter-to-the-func\n and https://stackoverflow.com/a/36914014/17949945","body":"Well, if you mind, what you&#39;re doing isn&#39;t good practice. See <a href=\"https://stackoverflow.com/questions/57591037/is-it-ok-for-optionalmap-to-change-the-state-of-the-input-parameter-to-the-func\" title=\"is it ok for optionalmap to change the state of the input parameter to the func\">stackoverflow.com/questions/57591037/&hellip;</a>  and <a href=\"https://stackoverflow.com/a/36914014/17949945\">stackoverflow.com/a/36914014/17949945</a>"}],"answers":[{"tags":[],"owner":{"account_id":23771513,"reputation":330,"user_id":17785521,"display_name":"Mahadev K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655647344,"creation_date":1655646949,"answer_id":72677450,"question_id":72677375,"body_markdown":"The simple solution to find all the person with some given id will be.\r\nForeach them set the field.\r\n\r\n```\r\npersons.stream().filter(p -&gt; &quot;id&quot;.equalsIgnoreCase(p.getId())).forEach(person -&gt;\r\n            person.setSomeField(&quot;some-value&quot;));\r\n```","title":"Iterate over list and modify elements with Java streams/optional","body":"<p>The simple solution to find all the person with some given id will be.\nForeach them set the field.</p>\n<pre><code>persons.stream().filter(p -&gt; &quot;id&quot;.equalsIgnoreCase(p.getId())).forEach(person -&gt;\n            person.setSomeField(&quot;some-value&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1590771,"reputation":286,"user_id":1474130,"display_name":"bertilmuth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655647993,"creation_date":1655647993,"answer_id":72677559,"question_id":72677375,"body_markdown":"In case you know that there is only one person with the id, and you want to take advantage of the performance benefit of `findAny()`, an alternative would be:\r\n\r\n``` java\r\npersons.stream()\r\n  .filter(person -&gt; &quot;A11&quot;.equals(person.getId()))\r\n  .findAny()\r\n  .ifPresent(person -&gt; person.setSomeField(&quot;some-value&quot;));\r\n``` ","title":"Iterate over list and modify elements with Java streams/optional","body":"<p>In case you know that there is only one person with the id, and you want to take advantage of the performance benefit of <code>findAny()</code>, an alternative would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>persons.stream()\n  .filter(person -&gt; &quot;A11&quot;.equals(person.getId()))\n  .findAny()\n  .ifPresent(person -&gt; person.setSomeField(&quot;some-value&quot;));\n</code></pre>\n"}],"owner":{"account_id":17176912,"reputation":647,"user_id":12432925,"display_name":"Carlos Gonzalez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1655647968,"accepted_answer_id":72677450,"answer_count":2,"score":0,"last_activity_date":1655647993,"creation_date":1655646372,"question_id":72677375,"body_markdown":"I have say a list of Person. I have to iterate over this list to find the person with id X, if found, I have to update some attribute on the person:\r\n\r\n        persons.stream()\r\n                .filter(person -&gt; &quot;A11&quot;.equals(person.getId()))\r\n                .findAny()\r\n                .map(person -&gt; {\r\n                    person.setSomeField(&quot;some-value&quot;);\r\n                    return person;\r\n                });\r\n\r\nThis code snippet is working for me, bu I&#39;m not sure it&#39;s clear enough what this is trying to achieve, I&#39;m using that .map whose return value I don&#39;t really need so I was wondering if there&#39;s a better way to do this?","title":"Iterate over list and modify elements with Java streams/optional","body":"<p>I have say a list of Person. I have to iterate over this list to find the person with id X, if found, I have to update some attribute on the person:</p>\n<pre><code>    persons.stream()\n            .filter(person -&gt; &quot;A11&quot;.equals(person.getId()))\n            .findAny()\n            .map(person -&gt; {\n                person.setSomeField(&quot;some-value&quot;);\n                return person;\n            });\n</code></pre>\n<p>This code snippet is working for me, bu I'm not sure it's clear enough what this is trying to achieve, I'm using that .map whose return value I don't really need so I was wondering if there's a better way to do this?</p>\n"},{"tags":["java","string","spring-boot","integer","decimal"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":4,"creation_date":1638264576,"post_id":70166956,"comment_id":124036053,"body_markdown":"Your problem is integer operations in `totalWeight / (totalHeight * totalHeight);` they will be handled as integers until you cast them to float/double. But then after the operation, the decimals are already lost, so an integer result (without decimals) gets stored into float. So write `(double)totalWeight / (totalHeight * totalHeight);` (or cast any of those members to double) then your results will match. Do not use float in between for operations, double is almost always the better choice nowadays. With modern CPUs/architectures float is mostly just for array storage.","body":"Your problem is integer operations in <code>totalWeight &#47; (totalHeight * totalHeight);</code> they will be handled as integers until you cast them to float/double. But then after the operation, the decimals are already lost, so an integer result (without decimals) gets stored into float. So write <code>(double)totalWeight &#47; (totalHeight * totalHeight);</code> (or cast any of those members to double) then your results will match. Do not use float in between for operations, double is almost always the better choice nowadays. With modern CPUs/architectures float is mostly just for array storage."},{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":1,"creation_date":1638273076,"post_id":70166956,"comment_id":124039370,"body_markdown":"Totally unrelated but could you link a paper to that Double/Float statement of yours @JayC667 ?","body":"Totally unrelated but could you link a paper to that Double/Float statement of yours @JayC667 ?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":1,"creation_date":1638278112,"post_id":70166956,"comment_id":124041311,"body_markdown":"No. I can just offer my observations: float in Java has 32 bits, double has 64 bits. With modern 64bit architecture, processing should be equally fast. Observations also confirm this. I have run extended tests in Oraacle JRE 1.8, OpenJDK 8+11 and GraalVM 11 (both JRE and .exe compiled) both in client and server mode, each of the tests running for a) a few seconds and b) minutes to account for runtime optimizations etc. Tests ran on &#39;real&#39; hardware and on virtual systems, on 3 different devices, Win8+2xWin10. And I always got almost equal results, completely averaging out over multiple tests.","body":"No. I can just offer my observations: float in Java has 32 bits, double has 64 bits. With modern 64bit architecture, processing should be equally fast. Observations also confirm this. I have run extended tests in Oraacle JRE 1.8, OpenJDK 8+11 and GraalVM 11 (both JRE and .exe compiled) both in client and server mode, each of the tests running for a) a few seconds and b) minutes to account for runtime optimizations etc. Tests ran on &#39;real&#39; hardware and on virtual systems, on 3 different devices, Win8+2xWin10. And I always got almost equal results, completely averaging out over multiple tests."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655647971,"creation_date":1655613840,"answer_id":72674333,"question_id":70166956,"body_markdown":"Here is sample code that reproduces the issue you&#39;re observing:\r\n```\r\nint totalWeight = 120;\r\nint totalHeight = 183;\r\nfloat bmi = totalWeight / (totalHeight * totalHeight);\r\nSystem.out.println(&quot;bmi: &quot; + bmi);\r\n```\r\nThis code assigns &quot;0.0&quot; to `bmi` instead of a fractional value like you&#39;re expecting:\r\n```\r\nbmi: 0.0\r\n```\r\n\r\nWith that code, IntelliJ shows the following warning text which is informative for what&#39;s going on. It doesn&#39;t tell you how to fix the issue, but does give you a starting point for researching next steps.\r\n```\r\n&#39;totalWeight / (totalHeight * totalHeight)&#39;: integer division in floating-point context\r\nResult of &#39;totalWeight / (totalHeight * totalHeight)&#39; is always &#39;0&#39;\r\n```\r\n\r\nThere are several possible fixes, including to cast any of the operands as `float` to match the left-hand type definition for `bmi`.\r\n\r\nSo you could do this:\r\n```\r\nfloat bmi = (float) totalWeight / (totalHeight * totalHeight);\r\n```\r\nor this:\r\n```\r\nfloat bmi = totalWeight / ((float) totalHeight * totalHeight);\r\n```\r\nor this:\r\n```\r\nfloat bmi = totalWeight / (totalHeight * (float)totalHeight);\r\n```\r\nand each of those would produce the same output:\r\n```\r\nbmi: 0.0035832662\r\n```\r\n","title":"Casting a string to an integer and then to a double - how to retrieve up to four positions behind the decimal position in a correct way?","body":"<p>Here is sample code that reproduces the issue you're observing:</p>\n<pre><code>int totalWeight = 120;\nint totalHeight = 183;\nfloat bmi = totalWeight / (totalHeight * totalHeight);\nSystem.out.println(&quot;bmi: &quot; + bmi);\n</code></pre>\n<p>This code assigns &quot;0.0&quot; to <code>bmi</code> instead of a fractional value like you're expecting:</p>\n<pre><code>bmi: 0.0\n</code></pre>\n<p>With that code, IntelliJ shows the following warning text which is informative for what's going on. It doesn't tell you how to fix the issue, but does give you a starting point for researching next steps.</p>\n<pre><code>'totalWeight / (totalHeight * totalHeight)': integer division in floating-point context\nResult of 'totalWeight / (totalHeight * totalHeight)' is always '0'\n</code></pre>\n<p>There are several possible fixes, including to cast any of the operands as <code>float</code> to match the left-hand type definition for <code>bmi</code>.</p>\n<p>So you could do this:</p>\n<pre><code>float bmi = (float) totalWeight / (totalHeight * totalHeight);\n</code></pre>\n<p>or this:</p>\n<pre><code>float bmi = totalWeight / ((float) totalHeight * totalHeight);\n</code></pre>\n<p>or this:</p>\n<pre><code>float bmi = totalWeight / (totalHeight * (float)totalHeight);\n</code></pre>\n<p>and each of those would produce the same output:</p>\n<pre><code>bmi: 0.0035832662\n</code></pre>\n"}],"owner":{"account_id":1134918,"reputation":530,"user_id":1120165,"accept_rate":96,"display_name":"DWA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72674333,"answer_count":1,"score":1,"last_activity_date":1655647971,"creation_date":1638264226,"question_id":70166956,"body_markdown":"I am currently working on a simple BMI (Body Mass Index) calculator in Java, in a larger Java / Spring Boot application with Mojito Tests. My function uses height and weight as Input values to calculate the BMI. Through the arithmetic operations, the received Input values - Strings, casted to Integers - result in a number that represents the BMI; however, the BMI has more than four positions behind the Decimal; that is why I decided to cast the result of the arithmetic operation of height and weight into a Double value. \r\n\r\nFor some reason I don&#39;t understand, casting the Input values for height and weight - Strings - to Doubles results in failing Mojito tests in completely different places - not related to the actual function and test -, as the parsed values are now used in other places as Double values and hence result in failing tests; hence, I decided to cast the Input values for height and weight from String to Integer. The problem then is that this results in a BMI that is a number with just one decimal position - f.e. 0.0, where as I had the double value before like e.g. 0.0034 or 0.0040, which are correct BMI values just four digits behind the decimal. \r\n\r\nIn short: I cannot cast String to Double as this will result in failing tests for some reason I don&#39;t understand in other places of the application.  \r\n\r\nCasting the result of the BMI calculation results in an Integer value with the missing positions behind the decimal in order to make the function work. \r\n\r\nAs I am stuck here, I would appreciate any hints or help, thank you in advance! \r\n\r\nThis is my function: \r\n\r\n\r\n     public boolean calculateBMI() {\r\n        int totalWeight = Integer.parseInt(gewicht);\r\n        int totalHeight = Integer.parseInt(koerpergroesse);\r\n        // calculate bmi\r\n        float bmi = totalWeight / (totalHeight * totalHeight);\r\n    \r\n        if (bmi &gt; 0.0030 &amp;&amp; bmi &lt;= 0.0040) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\nWhen I enter 183 for height and 120 for weight, I receive e.g. a BMI Value of 0.0; as a Double value, it would be something like 0.0034 and the function would return the correct boolean value. \r\n","title":"Casting a string to an integer and then to a double - how to retrieve up to four positions behind the decimal position in a correct way?","body":"<p>I am currently working on a simple BMI (Body Mass Index) calculator in Java, in a larger Java / Spring Boot application with Mojito Tests. My function uses height and weight as Input values to calculate the BMI. Through the arithmetic operations, the received Input values - Strings, casted to Integers - result in a number that represents the BMI; however, the BMI has more than four positions behind the Decimal; that is why I decided to cast the result of the arithmetic operation of height and weight into a Double value.</p>\n<p>For some reason I don't understand, casting the Input values for height and weight - Strings - to Doubles results in failing Mojito tests in completely different places - not related to the actual function and test -, as the parsed values are now used in other places as Double values and hence result in failing tests; hence, I decided to cast the Input values for height and weight from String to Integer. The problem then is that this results in a BMI that is a number with just one decimal position - f.e. 0.0, where as I had the double value before like e.g. 0.0034 or 0.0040, which are correct BMI values just four digits behind the decimal.</p>\n<p>In short: I cannot cast String to Double as this will result in failing tests for some reason I don't understand in other places of the application.</p>\n<p>Casting the result of the BMI calculation results in an Integer value with the missing positions behind the decimal in order to make the function work.</p>\n<p>As I am stuck here, I would appreciate any hints or help, thank you in advance!</p>\n<p>This is my function:</p>\n<pre><code> public boolean calculateBMI() {\n    int totalWeight = Integer.parseInt(gewicht);\n    int totalHeight = Integer.parseInt(koerpergroesse);\n    // calculate bmi\n    float bmi = totalWeight / (totalHeight * totalHeight);\n\n    if (bmi &gt; 0.0030 &amp;&amp; bmi &lt;= 0.0040) {\n      return true;\n    }\n    return false;\n  }\n}\n</code></pre>\n<p>When I enter 183 for height and 120 for weight, I receive e.g. a BMI Value of 0.0; as a Double value, it would be something like 0.0034 and the function would return the correct boolean value.</p>\n"},{"tags":["java","unit-testing","testing","mockito"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1655655305,"post_id":72675896,"comment_id":128378279,"body_markdown":"There isn&#39;t enough information in this question for it to be answered.  For one thing, you don&#39;t include the source of your `ConsumerService` nor `AxonMessage` classes. Nor have you included your `processMessages` method.  Your `processConsumers` method streams what appears to be a list of messages from a consumer service, but later on in this method, it seems the elements of this list are consumers...?  Your test method is similarly confusing: you are mocking `consumers.stream()` (which would return a `Stream&lt;ConsumerService&gt;`) and telling it to instead return a `Stream&lt;AxonMessage&gt;`.","body":"There isn&#39;t enough information in this question for it to be answered.  For one thing, you don&#39;t include the source of your <code>ConsumerService</code> nor <code>AxonMessage</code> classes. Nor have you included your <code>processMessages</code> method.  Your <code>processConsumers</code> method streams what appears to be a list of messages from a consumer service, but later on in this method, it seems the elements of this list are consumers...?  Your test method is similarly confusing: you are mocking <code>consumers.stream()</code> (which would return a <code>Stream&lt;ConsumerService&gt;</code>) and telling it to instead return a <code>Stream&lt;AxonMessage&gt;</code>."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1655655455,"post_id":72675896,"comment_id":128378305,"body_markdown":"It looks as if you&#39;ve attempted to anonymise &#39;real&#39; code (which I understand you might have to do) but haven&#39;t made a good job of this anonymisation and have also only included part of it in this question. However, perhaps the most fundamental question is why are you mocking the `.stream` method anyway?","body":"It looks as if you&#39;ve attempted to anonymise &#39;real&#39; code (which I understand you might have to do) but haven&#39;t made a good job of this anonymisation and have also only included part of it in this question. However, perhaps the most fundamental question is why are you mocking the <code>.stream</code> method anyway?"},{"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"score":0,"creation_date":1655697713,"post_id":72675896,"comment_id":128384845,"body_markdown":"@LukeWoodward Thanks for your response.  I think I got what you are saying and what mistake I made. I will take a look at it and get back.","body":"@LukeWoodward Thanks for your response.  I think I got what you are saying and what mistake I made. I will take a look at it and get back."},{"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"score":0,"creation_date":1655714961,"post_id":72675896,"comment_id":128388822,"body_markdown":"ConsumerService is an interface. If I simply create a mock out of it then consumers.stream() returns size()=0 due to which the entire processing logic fails. I want to know How to create a Mock of List&lt;Interface&gt; that is List&lt;ConsumerService&gt; in my example so that I get size()&gt;0 so that remaining logic is executed.","body":"ConsumerService is an interface. If I simply create a mock out of it then consumers.stream() returns size()=0 due to which the entire processing logic fails. I want to know How to create a Mock of List&lt;Interface&gt; that is List&lt;ConsumerService&gt; in my example so that I get size()&gt;0 so that remaining logic is executed."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1655761528,"post_id":72675896,"comment_id":128404115,"body_markdown":"You are not creating a mock `ConsumerService`. You are creating a mock `List`. Generally there&#39;s no need to mock classes that are as fundamental to Java as the collections. You can assume that they just work. So instead create a mock `ConsumerService` and then create a &#39;real&#39; list such as an `ArrayList` or `Collections.singletonList` containing that. You might not be able to use `@InjectMocks`: instead, just create an instance of `ConsumerClass` in your test setup method and pass in the list to its constructor.","body":"You are not creating a mock <code>ConsumerService</code>. You are creating a mock <code>List</code>. Generally there&#39;s no need to mock classes that are as fundamental to Java as the collections. You can assume that they just work. So instead create a mock <code>ConsumerService</code> and then create a &#39;real&#39; list such as an <code>ArrayList</code> or <code>Collections.singletonList</code> containing that. You might not be able to use <code>@InjectMocks</code>: instead, just create an instance of <code>ConsumerClass</code> in your test setup method and pass in the list to its constructor."}],"owner":{"account_id":4230562,"reputation":63,"user_id":3462941,"display_name":"user3462941"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655647706,"creation_date":1655632759,"question_id":72675896,"body_markdown":"    @Component\r\n    ConsumerClass {\r\n    private final List&lt;ConsumerService&gt; consumers;\r\n     \r\n    public void processConsumers() {\r\n    \r\n    consumers.stream().flatMap(consumer -&gt; Try.of(() -&gt; consumer.receiveMesaages().stream()).\r\n        getOrElseThrow(tx -&gt; { log.error(&quot;error&quot;);\r\n        return new TransactionException(tx);\r\n    }))\r\n    .forEach(consumer -&gt;  { processMessages(consumer)})\r\n    });\r\n    \r\n    }\r\n\r\n\r\nNote: The consumer.receiveMesaages() return an List&lt;AxonMessage&gt;\r\n\r\nBelow is the test:\r\n\r\n    MyTestClass {\r\n    \r\n    @InjectMocks\r\n    private ConsumerClass consumersClass;\r\n    \r\n    @Mock\r\n    List&lt;ConsumerService&gt; consumers;\r\n    \r\n    @Test\r\n    public void testIt() {\r\n    List&lt;AxonMessage&gt; axonMessages = new ArrayList&lt;&gt;();\r\n    axonMessages.add(axonMessage);\r\n    when(consumers.stream()).thenAnswer(inv -&gt; axonMessages.stream());\r\n    consumersClass.processConsumers();\r\n    }\r\n    \r\n    }\r\n\r\nI am getting unnecessary stubbing for when().thenAnswer(). Also the code coverage is not achieved for exception as well as forEach(). Can someone please help? ","title":"Unable to Unit Test a list.stream with Mockito","body":"<pre><code>@Component\nConsumerClass {\nprivate final List&lt;ConsumerService&gt; consumers;\n \npublic void processConsumers() {\n\nconsumers.stream().flatMap(consumer -&gt; Try.of(() -&gt; consumer.receiveMesaages().stream()).\n    getOrElseThrow(tx -&gt; { log.error(&quot;error&quot;);\n    return new TransactionException(tx);\n}))\n.forEach(consumer -&gt;  { processMessages(consumer)})\n});\n\n}\n</code></pre>\n<p>Note: The consumer.receiveMesaages() return an List</p>\n<p>Below is the test:</p>\n<pre><code>MyTestClass {\n\n@InjectMocks\nprivate ConsumerClass consumersClass;\n\n@Mock\nList&lt;ConsumerService&gt; consumers;\n\n@Test\npublic void testIt() {\nList&lt;AxonMessage&gt; axonMessages = new ArrayList&lt;&gt;();\naxonMessages.add(axonMessage);\nwhen(consumers.stream()).thenAnswer(inv -&gt; axonMessages.stream());\nconsumersClass.processConsumers();\n}\n\n}\n</code></pre>\n<p>I am getting unnecessary stubbing for when().thenAnswer(). Also the code coverage is not achieved for exception as well as forEach(). Can someone please help?</p>\n"},{"tags":["java","android","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":2100504,"reputation":10224,"user_id":1868262,"accept_rate":50,"display_name":"Pankaj Arora"},"score":0,"creation_date":1402478258,"post_id":24155628,"comment_id":37284283,"body_markdown":"Dude go through [My this Answer](http://stackoverflow.com/questions/24156047/android-binary-xml-exception-when-changing-pictures/24157195#24157195) will help you.","body":"Dude go through <a href=\"http://stackoverflow.com/questions/24156047/android-binary-xml-exception-when-changing-pictures/24157195#24157195\">My this Answer</a> will help you."},{"owner":{"account_id":3881901,"reputation":227,"user_id":3214173,"accept_rate":33,"display_name":"user3214173"},"score":0,"creation_date":1402480119,"post_id":24155628,"comment_id":37285495,"body_markdown":"i have done all this.. and am still getting the same error.. my files are all 30-40kb sizze and yes i have set heap to large @DevCarlsberg","body":"i have done all this.. and am still getting the same error.. my files are all 30-40kb sizze and yes i have set heap to large @DevCarlsberg"}],"answers":[{"tags":[],"owner":{"account_id":2100504,"reputation":10224,"user_id":1868262,"accept_rate":50,"display_name":"Pankaj Arora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402480611,"creation_date":1402480611,"answer_id":24159945,"question_id":24155628,"body_markdown":"try the below code:\r\n\r\n\r\n    Resources res = getContext().getResources();\r\n    int id = R.drawable.image; \r\n    Bitmap b = BitmapFactory.decodeResource(res, id);    \r\n    _img .setimagebitmap(b);","title":"Out of memory exception + analyzing hprof file dump","body":"<p>try the below code:</p>\n\n<pre><code>Resources res = getContext().getResources();\nint id = R.drawable.image; \nBitmap b = BitmapFactory.decodeResource(res, id);    \n_img .setimagebitmap(b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2040419,"reputation":5092,"user_id":1821772,"display_name":"Sulfkain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1428916218,"creation_date":1428916218,"answer_id":29601643,"question_id":24155628,"body_markdown":"Normally when i get this kind of exception on low Ram devices it&#39;s because i have some kind of image to expensive (many kb) for this resolution.\r\nI had a weird problem because i just used xhdpi and hdpi drawables directories, on mdpi or even ldpi devices the hdpi conversion to the right resolution raise this exception because cannot resize the image.\r\n\r\nIt&#39;s happens on any device? Could you check you have a specific graphics for this low devices?\r\n\r\nAny way with HPOF file you can see what kind of object or at least, wich activity/view has the problem.\r\nYou need to analyze all this data (there is no a master plan to find the resource it&#39;s collapsing your app) to see which has the problem.\r\n\r\nHope this helps, any question, please feel free to ask.","title":"Out of memory exception + analyzing hprof file dump","body":"<p>Normally when i get this kind of exception on low Ram devices it's because i have some kind of image to expensive (many kb) for this resolution.\nI had a weird problem because i just used xhdpi and hdpi drawables directories, on mdpi or even ldpi devices the hdpi conversion to the right resolution raise this exception because cannot resize the image.</p>\n\n<p>It's happens on any device? Could you check you have a specific graphics for this low devices?</p>\n\n<p>Any way with HPOF file you can see what kind of object or at least, wich activity/view has the problem.\nYou need to analyze all this data (there is no a master plan to find the resource it's collapsing your app) to see which has the problem.</p>\n\n<p>Hope this helps, any question, please feel free to ask.</p>\n"},{"tags":[],"owner":{"account_id":2749430,"reputation":965,"user_id":2369122,"accept_rate":71,"display_name":"toidiu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429389900,"creation_date":1429047762,"answer_id":29637906,"question_id":24155628,"body_markdown":"The idea is to down sample your image so that it looks good on the smaller screen and that you dont have to load the entire bitmap in memory.\r\n\r\n1) First get the size of your ImageView/ screen that you will be displaying on.\r\n\r\n2) Read the size of you Bitmap by passing in **BitmapFactory.Options.inJustDecodeBounds**. This will give you the size of the Bitmap rather than loading the entire bitmap.\r\n\r\n3) Get a insample size. Calculate the ratio of height and width of the screen to the image height and width. Use the smallest one so that the biggest dimension looks good.\r\n\r\n4) Final use the function below to get the down sampled image that wont eat up your memory.\r\n\r\n\r\n\r\n2)(code)\r\n\r\n    BitmapFactory.Options bitmapOptions = new BitmapFactory.Options();\r\n    bitmapOptions.inJustDecodeBounds = true;\r\n    BitmapFactory.decodeStream(inputStream, null, bitmapOptions);\r\n    int imageWidth = bitmapOptions.outWidth;\r\n    int imageHeight = bitmapOptions.outHeight;\r\n    inputStream.close();\r\n\r\n4)(code)\r\n\r\n    private Bitmap downscaleBitmapUsingDensities(final int sampleSize,final int imageResId)\r\n      {\r\n      final Options bitmapOptions=new Options();\r\n      bitmapOptions.inDensity=sampleSize;\r\n      bitmapOptions.inTargetDensity=1;\r\n      final Bitmap scaledBitmap=BitmapFactory.decodeResource(getResources(),imageResId,bitmapOptions);\r\n      scaledBitmap.setDensity(Bitmap.DENSITY_NONE);\r\n      return scaledBitmap;\r\n      }\r\n","title":"Out of memory exception + analyzing hprof file dump","body":"<p>The idea is to down sample your image so that it looks good on the smaller screen and that you dont have to load the entire bitmap in memory.</p>\n\n<p>1) First get the size of your ImageView/ screen that you will be displaying on.</p>\n\n<p>2) Read the size of you Bitmap by passing in <strong>BitmapFactory.Options.inJustDecodeBounds</strong>. This will give you the size of the Bitmap rather than loading the entire bitmap.</p>\n\n<p>3) Get a insample size. Calculate the ratio of height and width of the screen to the image height and width. Use the smallest one so that the biggest dimension looks good.</p>\n\n<p>4) Final use the function below to get the down sampled image that wont eat up your memory.</p>\n\n<p>2)(code)</p>\n\n<pre><code>BitmapFactory.Options bitmapOptions = new BitmapFactory.Options();\nbitmapOptions.inJustDecodeBounds = true;\nBitmapFactory.decodeStream(inputStream, null, bitmapOptions);\nint imageWidth = bitmapOptions.outWidth;\nint imageHeight = bitmapOptions.outHeight;\ninputStream.close();\n</code></pre>\n\n<p>4)(code)</p>\n\n<pre><code>private Bitmap downscaleBitmapUsingDensities(final int sampleSize,final int imageResId)\n  {\n  final Options bitmapOptions=new Options();\n  bitmapOptions.inDensity=sampleSize;\n  bitmapOptions.inTargetDensity=1;\n  final Bitmap scaledBitmap=BitmapFactory.decodeResource(getResources(),imageResId,bitmapOptions);\n  scaledBitmap.setDensity(Bitmap.DENSITY_NONE);\n  return scaledBitmap;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":117522,"reputation":3695,"user_id":307735,"accept_rate":78,"display_name":"clemp6r"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429198364,"creation_date":1429198364,"answer_id":29679439,"question_id":24155628,"body_markdown":"Adding largeHeap=&quot;true&quot; in your manifest may help. This will allow your application to use more memory.\r\n\r\nSee: http://developer.android.com/guide/topics/manifest/application-element.html","title":"Out of memory exception + analyzing hprof file dump","body":"<p>Adding largeHeap=\"true\" in your manifest may help. This will allow your application to use more memory.</p>\n\n<p>See: <a href=\"http://developer.android.com/guide/topics/manifest/application-element.html\" rel=\"nofollow\">http://developer.android.com/guide/topics/manifest/application-element.html</a></p>\n"}],"owner":{"account_id":3881901,"reputation":227,"user_id":3214173,"accept_rate":33,"display_name":"user3214173"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1655646771,"creation_date":1402466548,"question_id":24155628,"body_markdown":"This is in connection with this question:\r\n\r\nhttps://stackoverflow.com/questions/24134270/java-lang-outofmemoryerror-at-android-graphics-bitmapfactory-nativedecodeassetn \r\n\r\nI created the dump file in question, and it gives the following information:\r\n\r\n    One instance of &quot;byte[]&quot; loaded by &quot;&lt;system class loader&gt;&quot; occupies 1,10,59,216\r\n    (51.02%) bytes. The memory is accumulated in one instance of &quot;byte[]&quot; \r\n     loaded by &quot;&lt;system class loader&gt;&quot;.\r\n\r\n    Keywords byte[]\r\nSo now what can be done? How do I clear the problem?\r\n\r\nMy list_objects[context]-inbound file:\r\n\r\n    CLASS NAME                                                                 SHALLOW HEAP   RETAINED HEAP  \r\n    byte[11059200] @ 0xb4979590                                               |  1,10,59,216 |   1,10,59,216\r\n    mBuffer android.graphics.Bitmap @ 0xb3dc68d8                              |48            | 48\r\n    mBitmap android.graphics.drawable.BitmapDrawable @ 0xb3dbba60             | 72           | 144\r\n    mBackground android.widget.RelativeLayout @ 0xb3db3fc0                    |512           | 10,144\r\n    mBitmap android.graphics.drawable.BitmapDrawable$BitmapState @ 0xb3dc0068 |40          | 40\r\n    mBitmapState android.graphics.drawable.BitmapDrawable @ 0xb3dbba60        |72          |  144\r\n    referent java.lang.ref.WeakReference @ 0xb3dc2d68                         |24          |  24\r\n\r\nHow can I solve the memory problem?\r\n\r\nMy home_screen.java\r\n\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.home_page);\r\n\t\tmain();\r\n     private void main() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t\r\n\t\tfinal Button home;\r\n\t\tfinal Button aboutus;\r\n\t\tfinal Button contacts;\r\n\t\tfinal Button clients;\r\n\t\tfinal Button services;\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\r\n\t\thome = (Button)findViewById(R.id.btnHome);\r\n\t\taboutus = (Button)findViewById(R.id.btnAboutus);\r\n\t\tclients = (Button)findViewById(R.id.btnClients);\r\n\t\tcontacts = (Button)findViewById(R.id.btnContacts);\r\n\t\tservices = (Button)findViewById(R.id.btnServices);\r\n\t\t\r\n\t\thome.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tBitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.home1);\r\n\t\t\t\tDrawable d = new BitmapDrawable(getResources(),b); \t\t\t\t\r\n\t\t\t\thome.setBackgroundDrawable(d);\r\n\t\t\t\tSystem.gc();\r\n\t\t\t\tIntent myIntent = new Intent(Home_Screen.this, Button_Anime.class);\r\n\t            startActivity(myIntent);\r\n\t\t\t}\r\n\t\t});\r\n\t\taboutus.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tBitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.about1 );\r\n\t\t\t\tDrawable d = new BitmapDrawable(getResources(),b); \r\n\t\t\t\taboutus.setBackgroundDrawable(d);\r\n\t\t\t\tIntent myIntent = new Intent(Home_Screen.this, AboutUs.class);\r\n\t            startActivity(myIntent);\r\n\t\t\t}\r\n\t\t});\r\n\t\tclients.setOnClickListener(new  OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t\tBitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.clients1 );\r\n\t\t\t\tDrawable d = new BitmapDrawable(getResources(),b); \r\n\t\t\t\tclients.setBackgroundDrawable(d);\r\n\t\t\t\tIntent myIntent = new Intent(Home_Screen.this, Clients.class);\r\n\t            startActivity(myIntent);\r\n\t\t\t}\r\n\t\t});\r\n\t\tcontacts.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t\tBitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.contact1);\r\n\t\t\t\tDrawable d = new BitmapDrawable(getResources(),b);\r\n\t\t\t\tcontacts.setBackgroundDrawable(d);\r\n\t\t\t\tIntent myIntent = new Intent(Home_Screen.this, Contacts.class);\r\n\t            startActivity(myIntent);\r\n\t\t\t}\r\n\t\t});\r\n\t\tservices.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t\tBitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.services1 );\r\n\t\t\t\tDrawable d = new BitmapDrawable(getResources(),b);\r\n\t\t\t\tservices.setBackgroundDrawable(d);\r\n\t\t\t\tIntent myIntent = new Intent(Home_Screen.this, Services.class);\r\n\t            startActivity(myIntent);\r\n\t\t\t}\r\n\t\t});\r\n\t\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n","title":"Out of memory exception + analyzing hprof file dump","body":"<p>This is in connection with this question:</p>\n<p><a href=\"https://stackoverflow.com/questions/24134270/java-lang-outofmemoryerror-at-android-graphics-bitmapfactory-nativedecodeassetn\">java.lang.OutOfMemoryError at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)</a></p>\n<p>I created the dump file in question, and it gives the following information:</p>\n<pre><code>One instance of &quot;byte[]&quot; loaded by &quot;&lt;system class loader&gt;&quot; occupies 1,10,59,216\n(51.02%) bytes. The memory is accumulated in one instance of &quot;byte[]&quot; \n loaded by &quot;&lt;system class loader&gt;&quot;.\n\nKeywords byte[]\n</code></pre>\n<p>So now what can be done? How do I clear the problem?</p>\n<p>My list_objects[context]-inbound file:</p>\n<pre><code>CLASS NAME                                                                 SHALLOW HEAP   RETAINED HEAP  \nbyte[11059200] @ 0xb4979590                                               |  1,10,59,216 |   1,10,59,216\nmBuffer android.graphics.Bitmap @ 0xb3dc68d8                              |48            | 48\nmBitmap android.graphics.drawable.BitmapDrawable @ 0xb3dbba60             | 72           | 144\nmBackground android.widget.RelativeLayout @ 0xb3db3fc0                    |512           | 10,144\nmBitmap android.graphics.drawable.BitmapDrawable$BitmapState @ 0xb3dc0068 |40          | 40\nmBitmapState android.graphics.drawable.BitmapDrawable @ 0xb3dbba60        |72          |  144\nreferent java.lang.ref.WeakReference @ 0xb3dc2d68                         |24          |  24\n</code></pre>\n<p>How can I solve the memory problem?</p>\n<p>My home_screen.java</p>\n<pre><code> protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.home_page);\n    main();\n private void main() {\n    // TODO Auto-generated method stub\n    \n    \n    final Button home;\n    final Button aboutus;\n    final Button contacts;\n    final Button clients;\n    final Button services;\n    \n    try\n    {\n\n    home = (Button)findViewById(R.id.btnHome);\n    aboutus = (Button)findViewById(R.id.btnAboutus);\n    clients = (Button)findViewById(R.id.btnClients);\n    contacts = (Button)findViewById(R.id.btnContacts);\n    services = (Button)findViewById(R.id.btnServices);\n    \n    home.setOnClickListener(new OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            Bitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.home1);\n            Drawable d = new BitmapDrawable(getResources(),b);              \n            home.setBackgroundDrawable(d);\n            System.gc();\n            Intent myIntent = new Intent(Home_Screen.this, Button_Anime.class);\n            startActivity(myIntent);\n        }\n    });\n    aboutus.setOnClickListener(new OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            Bitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.about1 );\n            Drawable d = new BitmapDrawable(getResources(),b); \n            aboutus.setBackgroundDrawable(d);\n            Intent myIntent = new Intent(Home_Screen.this, AboutUs.class);\n            startActivity(myIntent);\n        }\n    });\n    clients.setOnClickListener(new  OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            \n            Bitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.clients1 );\n            Drawable d = new BitmapDrawable(getResources(),b); \n            clients.setBackgroundDrawable(d);\n            Intent myIntent = new Intent(Home_Screen.this, Clients.class);\n            startActivity(myIntent);\n        }\n    });\n    contacts.setOnClickListener(new OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            \n            Bitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.contact1);\n            Drawable d = new BitmapDrawable(getResources(),b);\n            contacts.setBackgroundDrawable(d);\n            Intent myIntent = new Intent(Home_Screen.this, Contacts.class);\n            startActivity(myIntent);\n        }\n    });\n    services.setOnClickListener(new OnClickListener() {\n        \n        @Override\n        public void onClick(View v) {\n            // TODO Auto-generated method stub\n            \n            Bitmap b = BitmapFactory.decodeResource(getResources(),R.drawable.services1 );\n            Drawable d = new BitmapDrawable(getResources(),b);\n            services.setBackgroundDrawable(d);\n            Intent myIntent = new Intent(Home_Screen.this, Services.class);\n            startActivity(myIntent);\n        }\n    });\n\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":13547188,"reputation":3,"user_id":9773154,"display_name":"Massimo Simone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546358985,"creation_date":1546358649,"answer_id":53996906,"question_id":53996643,"body_markdown":"Just create an instance of Send message.\r\nEg.\r\n\r\n    SendMessage message = new SendMessage (chatid,text)\r\n\r\nAnd then just let execute the instance with your bot.\r\n\r\n    SendMessage message = new SendMessage (chatid,text)\r\n    bot.execute(message)\r\nObviously the chatid camp should be hardcoded.","title":"How do make my bot send message without an update?","body":"<p>Just create an instance of Send message.\nEg.</p>\n\n<pre><code>SendMessage message = new SendMessage (chatid,text)\n</code></pre>\n\n<p>And then just let execute the instance with your bot.</p>\n\n<pre><code>SendMessage message = new SendMessage (chatid,text)\nbot.execute(message)\n</code></pre>\n\n<p>Obviously the chatid camp should be hardcoded.</p>\n"},{"tags":[],"owner":{"account_id":13911458,"reputation":818,"user_id":10044533,"display_name":"marcopiii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561455932,"creation_date":1561455932,"answer_id":56751141,"question_id":53996643,"body_markdown":"`onUpdateReceived(Update)` is just a method called when you bot gets an update, but it is not the only place where your bot can call `execute(SendMessage)`.\r\nWhat you need is to write a method in your bot like\r\n    \r\n    public void sendAds() {\r\n        for (Integer chatId: usersYouWantToPing) {\r\n            SendMessage ad = new SendMessage\r\n                .setChatId(chatId)\r\n                .setText(text);\r\n            execute(ad);\r\n        }\r\n    }\r\n\r\nobviously since you have no `User` sender object you have to find a criteria to who send the message (maybe you want to store the ids of the users you want to ping in a DB).\r\n\r\nThe issue now is: how do you trigger this method? The answer is: however you want.\r\n\r\nOne way could be to schedule some **cron jobs** to periodically execute `sendAds()`. To do so you could define it in the `main` method, right after you register your bot. Using [Quartz][1] lib you can write something like\r\n\r\n        /* Instantiate the job that will call the bot function */\r\n        JobDetail jobSendAd = JobBuilder.newJob(SendAd.class)\r\n            .withIdentity(&quot;sendAd&quot;)\r\n            .build();\r\n\r\n        /* Define a trigger for the call */\r\n        Trigger trigger = TriggerBuilder\r\n            .newTrigger()\r\n            .withIdentity(&quot;everyMorningAt8&quot;)\r\n            .withSchedule(CronScheduleBuilder.dailyAtHourAndMinute(8, 0))\r\n            .build();\r\n\r\n        /* Create a scheduler to manage triggers */\r\n        Scheduler scheduler = new StdSchedulerFactory().getScheduler();\r\n        scheduler.getContext().put(&quot;bot&quot;, bot);\r\n        scheduler.start();\r\n        scheduler.scheduleJob(jobSendAd, trigger);\r\n\r\nWhere `SendAd` is an implementation of `Job` interface that actually calls the bot method, like\r\n    \r\n    public class SendNotification implements Job {\r\n        public void execute(JobExecutionContext jobExecutionContext) {\r\n            schedulerContext = jobExecutionContext.getScheduler().getContext();\r\n            YourBot bot = (YourBot) schedulerContext.get(&quot;bot&quot;);\r\n            bot.sendNotification();\r\n        }\r\n    }\r\n\r\nFor further details I suggest you to check my [telegram bot template][2] that provide this solution. \r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/\r\n  [2]: https://github.com/aSlug/TelegramBot","title":"How do make my bot send message without an update?","body":"<p><code>onUpdateReceived(Update)</code> is just a method called when you bot gets an update, but it is not the only place where your bot can call <code>execute(SendMessage)</code>.\nWhat you need is to write a method in your bot like</p>\n\n<pre><code>public void sendAds() {\n    for (Integer chatId: usersYouWantToPing) {\n        SendMessage ad = new SendMessage\n            .setChatId(chatId)\n            .setText(text);\n        execute(ad);\n    }\n}\n</code></pre>\n\n<p>obviously since you have no <code>User</code> sender object you have to find a criteria to who send the message (maybe you want to store the ids of the users you want to ping in a DB).</p>\n\n<p>The issue now is: how do you trigger this method? The answer is: however you want.</p>\n\n<p>One way could be to schedule some <strong>cron jobs</strong> to periodically execute <code>sendAds()</code>. To do so you could define it in the <code>main</code> method, right after you register your bot. Using <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz</a> lib you can write something like</p>\n\n<pre><code>    /* Instantiate the job that will call the bot function */\n    JobDetail jobSendAd = JobBuilder.newJob(SendAd.class)\n        .withIdentity(\"sendAd\")\n        .build();\n\n    /* Define a trigger for the call */\n    Trigger trigger = TriggerBuilder\n        .newTrigger()\n        .withIdentity(\"everyMorningAt8\")\n        .withSchedule(CronScheduleBuilder.dailyAtHourAndMinute(8, 0))\n        .build();\n\n    /* Create a scheduler to manage triggers */\n    Scheduler scheduler = new StdSchedulerFactory().getScheduler();\n    scheduler.getContext().put(\"bot\", bot);\n    scheduler.start();\n    scheduler.scheduleJob(jobSendAd, trigger);\n</code></pre>\n\n<p>Where <code>SendAd</code> is an implementation of <code>Job</code> interface that actually calls the bot method, like</p>\n\n<pre><code>public class SendNotification implements Job {\n    public void execute(JobExecutionContext jobExecutionContext) {\n        schedulerContext = jobExecutionContext.getScheduler().getContext();\n        YourBot bot = (YourBot) schedulerContext.get(\"bot\");\n        bot.sendNotification();\n    }\n}\n</code></pre>\n\n<p>For further details I suggest you to check my <a href=\"https://github.com/aSlug/TelegramBot\" rel=\"nofollow noreferrer\">telegram bot template</a> that provide this solution. </p>\n"},{"tags":[],"owner":{"account_id":19567176,"reputation":1,"user_id":14319049,"display_name":"Megative"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601990228,"creation_date":1601990228,"answer_id":64226619,"question_id":53996643,"body_markdown":"This tricky way worked for me. \r\n\r\nTelegram bot needs to know **chatID** of that certain group or personal chat that bot talks with.\r\n\r\nFirst you have to get chatId which is **Long**. \r\n\r\nCreate /chatid command with help of BotFather in telegram.\r\n\r\nAnd use that command in java like this:\r\n\r\n    public class TelegramBot extends TelegramLongPollingBot {\r\n        public Long chatId = null;\r\n    \r\n        public void onUpdateReceived(Update update) {\r\n    \r\n            String input = update.getMessage().getText();\r\n            SendMessage output = new SendMessage();\r\n    \r\n            if (input.equals(&quot;/chatid&quot;)) {\r\n                chatId = update.getMessage().getChatId();\r\n                System.out.println(&quot;chatId = &quot; + chatId);\r\n                output.setText(&quot;chatid is  = &quot; + chatId);\r\n            }\r\n    \r\n            output.setChatId(update.getMessage().getChatId());\r\n            try {\r\n                execute(output);\r\n            } catch (TelegramApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\n        public void sayImNotRobot() {\r\n        SendMessage message = new SendMessage();\r\n\r\n        message.enableMarkdown(true);\r\n        message.setChatId((long) chatIdLike123456); //Write chatID manually here\r\n        message.setText(&quot;Im not robot&quot;);\r\n        try {\r\n            execute(message);\r\n        } catch (TelegramApiException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n        \r\n        public String getBotUsername() {\r\n            return &quot;your bot name here&quot;;\r\n        }\r\n    \r\n        public String getBotToken() {\r\n            return &quot;your bot token here&quot;;\r\n        }\r\n    }\r\n\r\nIn main class use that method to print chatId to console and copy paste it (from console result) to chatIdLike123456 that i wrote in TelegramBot class.\r\n\r\n\r\n   \r\n\r\n     public class Main {\r\n            public static void main(String[] args) {\r\n                ApiContextInitializer.init();\r\n                TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\r\n                try {\r\n                    telegramBotsApi.registerBot(new TelegramBot());\r\n                    TelegramBot bot = new TelegramBot();\r\n                    bot.sayImNotRobot(); //now, you can call this method whenever you want\r\n     \r\n      \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How do make my bot send message without an update?","body":"<p>This tricky way worked for me.</p>\n<p>Telegram bot needs to know <strong>chatID</strong> of that certain group or personal chat that bot talks with.</p>\n<p>First you have to get chatId which is <strong>Long</strong>.</p>\n<p>Create /chatid command with help of BotFather in telegram.</p>\n<p>And use that command in java like this:</p>\n<pre><code>public class TelegramBot extends TelegramLongPollingBot {\n    public Long chatId = null;\n\n    public void onUpdateReceived(Update update) {\n\n        String input = update.getMessage().getText();\n        SendMessage output = new SendMessage();\n\n        if (input.equals(&quot;/chatid&quot;)) {\n            chatId = update.getMessage().getChatId();\n            System.out.println(&quot;chatId = &quot; + chatId);\n            output.setText(&quot;chatid is  = &quot; + chatId);\n        }\n\n        output.setChatId(update.getMessage().getChatId());\n        try {\n            execute(output);\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    public void sayImNotRobot() {\n    SendMessage message = new SendMessage();\n\n    message.enableMarkdown(true);\n    message.setChatId((long) chatIdLike123456); //Write chatID manually here\n    message.setText(&quot;Im not robot&quot;);\n    try {\n        execute(message);\n    } catch (TelegramApiException e) {\n        e.printStackTrace();\n    }\n\n}\n    \n    public String getBotUsername() {\n        return &quot;your bot name here&quot;;\n    }\n\n    public String getBotToken() {\n        return &quot;your bot token here&quot;;\n    }\n}\n</code></pre>\n<p>In main class use that method to print chatId to console and copy paste it (from console result) to chatIdLike123456 that i wrote in TelegramBot class.</p>\n<pre><code> public class Main {\n        public static void main(String[] args) {\n            ApiContextInitializer.init();\n            TelegramBotsApi telegramBotsApi = new TelegramBotsApi();\n            try {\n                telegramBotsApi.registerBot(new TelegramBot());\n                TelegramBot bot = new TelegramBot();\n                bot.sayImNotRobot(); //now, you can call this method whenever you want\n \n  \n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25586390,"reputation":1,"user_id":19364087,"display_name":"dante725"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655646663,"creation_date":1655550208,"answer_id":72668729,"question_id":53996643,"body_markdown":"Unfortunately, this is possible only by using the `Random` Java class or if you know the user chat id. \r\n\r\nI think that Telegram bots with ads work this way. \r\n","title":"How do make my bot send message without an update?","body":"<p>Unfortunately, this is possible only by using the <code>Random</code> Java class or if you know the user chat id.</p>\n<p>I think that Telegram bots with ads work this way.</p>\n"}],"owner":{"account_id":9991899,"reputation":1,"user_id":7390880,"display_name":"Abbos Said"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1655646663,"creation_date":1546356390,"question_id":53996643,"body_markdown":"i am creating a telegram bot in java bot but i have problem,I have seen bots that send text\\ad without an update from a user ,I want to know how i can do it .It is only sending messages when the user sends a message to it.i need to know how can i make my bot send some message without a onUpdateReceived.(sorry for my english)\r\n\r\nonUpdateReceived(Update update) only sends message when the user sends a command\r\n\r\n\r\n\r\nThank you.\r\n\r\n\r\n","title":"How do make my bot send message without an update?","body":"<p>i am creating a telegram bot in java bot but i have problem,I have seen bots that send text\\ad without an update from a user ,I want to know how i can do it .It is only sending messages when the user sends a message to it.i need to know how can i make my bot send some message without a onUpdateReceived.(sorry for my english)</p>\n\n<p>onUpdateReceived(Update update) only sends message when the user sends a command</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","mockito","junit5","spy"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1655619503,"post_id":72674637,"comment_id":128371719,"body_markdown":"I&#39;m not really sure what you&#39;re asking. Why do you need to mock anything? Methods usually call other methods, but that doesn&#39;t mean you need a mock. What is the difficulty in writing a test for this method?","body":"I&#39;m not really sure what you&#39;re asking. Why do you need to mock anything? Methods usually call other methods, but that doesn&#39;t mean you need a mock. What is the difficulty in writing a test for this method?"},{"owner":{"account_id":12654921,"reputation":25,"user_id":19162484,"display_name":"user275616"},"score":0,"creation_date":1655619975,"post_id":72674637,"comment_id":128371785,"body_markdown":"ndc85430 thanks for your reply. What I want to ask is do I need to mock them again for the method is working? If I didn&#39;t mock the inside methods it is not working.","body":"ndc85430 thanks for your reply. What I want to ask is do I need to mock them again for the method is working? If I didn&#39;t mock the inside methods it is not working."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":1,"creation_date":1655620165,"post_id":72674637,"comment_id":128371804,"body_markdown":"What does &quot;not working&quot; mean? What specifically isn&#39;t working and how isn&#39;t it working?","body":"What does &quot;not working&quot; mean? What specifically isn&#39;t working and how isn&#39;t it working?"},{"owner":{"account_id":12654921,"reputation":25,"user_id":19162484,"display_name":"user275616"},"score":0,"creation_date":1655624207,"post_id":72674637,"comment_id":128372331,"body_markdown":"Because I tried to mock the one under the test. It was my misunderstanding at all. You gave me a big hint. Thx","body":"Because I tried to mock the one under the test. It was my misunderstanding at all. You gave me a big hint. Thx"}],"answers":[{"tags":[],"owner":{"display_name":"user1373996"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655646183,"creation_date":1655646183,"answer_id":72677343,"question_id":72674637,"body_markdown":"- Public methods can be mocked and tested separately\r\n- Private methods should be tested through the public ones\r\n- For the public method you are testing (let&#39;s say `m1()`, if it&#39;s calling to another public method - let&#39;s say `m2()`. Then you can absolutely mock `m2()` by using [**Spy**][1], then `m2()` can be tested separately.\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-spy","title":"How can I test the method which has several methods inside it in Springboot?","body":"<ul>\n<li>Public methods can be mocked and tested separately</li>\n<li>Private methods should be tested through the public ones</li>\n<li>For the public method you are testing (let's say <code>m1()</code>, if it's calling to another public method - let's say <code>m2()</code>. Then you can absolutely mock <code>m2()</code> by using <a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\"><strong>Spy</strong></a>, then <code>m2()</code> can be tested separately.</li>\n</ul>\n"}],"owner":{"account_id":12654921,"reputation":25,"user_id":19162484,"display_name":"user275616"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1655646183,"creation_date":1655619087,"question_id":72674637,"body_markdown":"\r\n    public CartPriceResponse cartSelectAll(final String check, final User user) {\r\n        List&lt;Cart&gt; carts = cartRepository.findByUser(user);\r\n        List&lt;CartPricePerSellerResponse&gt; cartPricePerSellerResponses = new ArrayList&lt;&gt;();\r\n\r\n        for (Cart cart : carts) {\r\n            cart.setIsSelected(check.equals(&quot;true&quot;));\r\n            cartPricePerSellerResponses.add(cartPricePerSeller(user, cart.getItem().getSeller()));\r\n        }\r\n        final CartPriceTotalResponse cartPriceTotalResponse = cartPriceTotal(user);\r\n\r\n        return CartPriceResponse.builder()\r\n                .cartPricePerSellerResponses(cartPricePerSellerResponses)\r\n                .cartPriceTotalResponse(cartPriceTotalResponse)\r\n                .build();\r\n    }\r\n\r\nHere is the one I want it to test, it takes the boolean as argument and if it is true it sets all items isSelected to be &#39;true&#39;.\r\nAnd cartPricePerSeller will be calculating everything about per seller and cartPriceTotal will do the same thing for all items in the cart.\r\n\r\nThe thing is I have tested cartPricePerSeller and cartPriceTotal already so no need to test them but I don&#39;t know how to mock or spy them.\r\n\r\nAnd inside of cartPricePerSeller is calling another public method for calculating the shippingFee per each seller.\r\n\r\nI think something is going off and it needs some refactoring but I really have no idea how to do that.\r\n\r\nI will be really appreciated if you give me any little hints to make it clear.\r\n\r\n\r\n    public CartPricePerSellerResponse cartPricePerSeller(User user, Seller seller) {\r\n        final List&lt;Cart&gt; carts = cartRepository.findByUserAndIsSelectedTrue(user);\r\n\r\n        final List&lt;Cart&gt; cartList = carts.stream().filter(cart -&gt; cart.getItem().getSeller().equals(seller)).collect(Collectors.toList());\r\n        long cartTotalPricePerSeller = 0;\r\n        int cartTotalQuantityPerSeller = 0;\r\n\r\n        for (Cart cart : cartList) {\r\n            cartTotalPricePerSeller += cart.getItemOption().getItemPrice().getPriceNow() * cart.getQuantity();\r\n            cartTotalQuantityPerSeller += cart.getQuantity();\r\n        }\r\n        return CartPricePerSellerResponse.builder()\r\n                .sellerId(seller.getId())\r\n                .itemTotalPricePerSeller(cartTotalPricePerSeller)\r\n                .itemTotalQuantityPerSeller(cartTotalQuantityPerSeller)\r\n                .itemShippingFeePerSeller(shippingFeeCheck(seller.getId(), cartTotalPricePerSeller))\r\n                .build();\r\n    }\r\n\r\n    public CartPriceTotalResponse cartPriceTotal(User user) {\r\n        final List&lt;Cart&gt; carts = cartRepository.findByUserAndIsSelectedTrue(user);\r\n\r\n        long cartTotalPrice = 0;\r\n        int cartTotalQuantity = 0;\r\n        int cartTotalShippingFee = 0;\r\n\r\n        final List&lt;Seller&gt; sellers = carts.stream().map(Cart::getItem).map(Item::getSeller).distinct().collect(Collectors.toList());\r\n        for (Seller seller : sellers) {\r\n            final CartPricePerSellerResponse cartPricePerSellerResponse = this.cartPricePerSeller(user, seller);\r\n\r\n            cartTotalPrice += cartPricePerSellerResponse.getItemTotalPricePerSeller();\r\n            cartTotalQuantity += cartPricePerSellerResponse.getItemTotalQuantityPerSeller();\r\n            cartTotalShippingFee += cartPricePerSellerResponse.getItemShippingFeePerSeller();\r\n        }\r\n        return CartPriceTotalResponse.builder()\r\n                .cartTotalPrice(cartTotalPrice)\r\n                .cartTotalQuantity(cartTotalQuantity)\r\n                .cartTotalShippingFee(cartTotalShippingFee)\r\n                .build();\r\n    }\r\n\r\nAnd I am sorry if I break any rules here. This is my very first post","title":"How can I test the method which has several methods inside it in Springboot?","body":"<pre><code>public CartPriceResponse cartSelectAll(final String check, final User user) {\n    List&lt;Cart&gt; carts = cartRepository.findByUser(user);\n    List&lt;CartPricePerSellerResponse&gt; cartPricePerSellerResponses = new ArrayList&lt;&gt;();\n\n    for (Cart cart : carts) {\n        cart.setIsSelected(check.equals(&quot;true&quot;));\n        cartPricePerSellerResponses.add(cartPricePerSeller(user, cart.getItem().getSeller()));\n    }\n    final CartPriceTotalResponse cartPriceTotalResponse = cartPriceTotal(user);\n\n    return CartPriceResponse.builder()\n            .cartPricePerSellerResponses(cartPricePerSellerResponses)\n            .cartPriceTotalResponse(cartPriceTotalResponse)\n            .build();\n}\n</code></pre>\n<p>Here is the one I want it to test, it takes the boolean as argument and if it is true it sets all items isSelected to be 'true'.\nAnd cartPricePerSeller will be calculating everything about per seller and cartPriceTotal will do the same thing for all items in the cart.</p>\n<p>The thing is I have tested cartPricePerSeller and cartPriceTotal already so no need to test them but I don't know how to mock or spy them.</p>\n<p>And inside of cartPricePerSeller is calling another public method for calculating the shippingFee per each seller.</p>\n<p>I think something is going off and it needs some refactoring but I really have no idea how to do that.</p>\n<p>I will be really appreciated if you give me any little hints to make it clear.</p>\n<pre><code>public CartPricePerSellerResponse cartPricePerSeller(User user, Seller seller) {\n    final List&lt;Cart&gt; carts = cartRepository.findByUserAndIsSelectedTrue(user);\n\n    final List&lt;Cart&gt; cartList = carts.stream().filter(cart -&gt; cart.getItem().getSeller().equals(seller)).collect(Collectors.toList());\n    long cartTotalPricePerSeller = 0;\n    int cartTotalQuantityPerSeller = 0;\n\n    for (Cart cart : cartList) {\n        cartTotalPricePerSeller += cart.getItemOption().getItemPrice().getPriceNow() * cart.getQuantity();\n        cartTotalQuantityPerSeller += cart.getQuantity();\n    }\n    return CartPricePerSellerResponse.builder()\n            .sellerId(seller.getId())\n            .itemTotalPricePerSeller(cartTotalPricePerSeller)\n            .itemTotalQuantityPerSeller(cartTotalQuantityPerSeller)\n            .itemShippingFeePerSeller(shippingFeeCheck(seller.getId(), cartTotalPricePerSeller))\n            .build();\n}\n\npublic CartPriceTotalResponse cartPriceTotal(User user) {\n    final List&lt;Cart&gt; carts = cartRepository.findByUserAndIsSelectedTrue(user);\n\n    long cartTotalPrice = 0;\n    int cartTotalQuantity = 0;\n    int cartTotalShippingFee = 0;\n\n    final List&lt;Seller&gt; sellers = carts.stream().map(Cart::getItem).map(Item::getSeller).distinct().collect(Collectors.toList());\n    for (Seller seller : sellers) {\n        final CartPricePerSellerResponse cartPricePerSellerResponse = this.cartPricePerSeller(user, seller);\n\n        cartTotalPrice += cartPricePerSellerResponse.getItemTotalPricePerSeller();\n        cartTotalQuantity += cartPricePerSellerResponse.getItemTotalQuantityPerSeller();\n        cartTotalShippingFee += cartPricePerSellerResponse.getItemShippingFeePerSeller();\n    }\n    return CartPriceTotalResponse.builder()\n            .cartTotalPrice(cartTotalPrice)\n            .cartTotalQuantity(cartTotalQuantity)\n            .cartTotalShippingFee(cartTotalShippingFee)\n            .build();\n}\n</code></pre>\n<p>And I am sorry if I break any rules here. This is my very first post</p>\n"},{"tags":["java","jmh"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1655651938,"post_id":72677182,"comment_id":128377579,"body_markdown":"Created a patch in https://github.com/coderodde/IndexedLinkedListBenchmark/issues/2, the problem is the line `.threadGroups(1)` but not sure why.","body":"Created a patch in <a href=\"https://github.com/coderodde/IndexedLinkedListBenchmark/issues/2\" rel=\"nofollow noreferrer\">github.com/coderodde/IndexedLinkedListBenchmark/issues/2</a>, the problem is the line <code>.threadGroups(1)</code> but not sure why."}],"owner":{"account_id":1044029,"reputation":1363,"user_id":1049393,"accept_rate":67,"display_name":"coderodde"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655644474,"creation_date":1655644474,"question_id":72677182,"body_markdown":"In my JMH benchmark I have 8 benchmark methods, 4 out of which, are not run. What is going on there?\r\n\r\nMy snippet:\r\n\r\n    @Benchmark\r\n    @Warmup(iterations = 1, time = 2, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 1)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @Fork(0)\r\n    @Group(value = &quot;g1&quot;)\r\n    @GroupThreads(1)\r\n    public void Benchmark_1A_profileAddLastRoddeList(\r\n            IndexedLinkedListState state) {\r\n        \r\n        profileAddLast(state.list,\r\n                       ADD_LAST_OPERATIONS, \r\n                       state.random);\r\n    }\r\n    // More 3 similar benchmarks as above sit here.\r\n    @Benchmark\r\n    @Warmup(iterations = 1, time = 2, timeUnit = TimeUnit.SECONDS)\r\n    @Measurement(iterations = 1)\r\n    @BenchmarkMode(Mode.AverageTime)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    @Fork(0)\r\n    @Group(value = &quot;g1&quot;)\r\n    @GroupThreads(1)\r\n    public void Benchmark_1B_profileGetRoddeList(IndexedLinkedListState state,\r\n                                                 Blackhole blackhole) {\r\n        profileGet(state.list,\r\n                   GET_OPERATIONS,\r\n                   state.random, \r\n                   blackhole);\r\n    }\r\n    // 3 more friend benchmark methods sit here.\r\n\r\nMore precisely, the methods that add data to the state list are run, but no the access `get` benchmarks. My entire project is [here](https://github.com/coderodde/IndexedLinkedListBenchmark/blob/main/src/main/java/com/coderodde/IndexedLinkedListPerformance.java).","title":"JMH does not run all benchmarks","body":"<p>In my JMH benchmark I have 8 benchmark methods, 4 out of which, are not run. What is going on there?</p>\n<p>My snippet:</p>\n<pre><code>@Benchmark\n@Warmup(iterations = 1, time = 2, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 1)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@Fork(0)\n@Group(value = &quot;g1&quot;)\n@GroupThreads(1)\npublic void Benchmark_1A_profileAddLastRoddeList(\n        IndexedLinkedListState state) {\n    \n    profileAddLast(state.list,\n                   ADD_LAST_OPERATIONS, \n                   state.random);\n}\n// More 3 similar benchmarks as above sit here.\n@Benchmark\n@Warmup(iterations = 1, time = 2, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 1)\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@Fork(0)\n@Group(value = &quot;g1&quot;)\n@GroupThreads(1)\npublic void Benchmark_1B_profileGetRoddeList(IndexedLinkedListState state,\n                                             Blackhole blackhole) {\n    profileGet(state.list,\n               GET_OPERATIONS,\n               state.random, \n               blackhole);\n}\n// 3 more friend benchmark methods sit here.\n</code></pre>\n<p>More precisely, the methods that add data to the state list are run, but no the access <code>get</code> benchmarks. My entire project is <a href=\"https://github.com/coderodde/IndexedLinkedListBenchmark/blob/main/src/main/java/com/coderodde/IndexedLinkedListPerformance.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","function","lambda","types","interface"],"comments":[{"owner":{"account_id":9635091,"reputation":12798,"user_id":7151494,"display_name":"Fureeish"},"score":0,"creation_date":1655568177,"post_id":72670713,"comment_id":128364914,"body_markdown":"Does this answer your question? [What are functional interfaces used for in Java 8?](https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8\">What are functional interfaces used for in Java 8?</a>"}],"answers":[{"tags":[],"owner":{"account_id":13015730,"reputation":666,"user_id":9407066,"display_name":"Jakubeeee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1655568740,"creation_date":1655568740,"answer_id":72670812,"question_id":72670713,"body_markdown":"Lambdas are implementations of &quot;functional interfaces&quot;. A functional interface is an interface that has exactly one abstract method. The name of the method does not matter. Your original interface with only one method fulfills that condition. Your second version that has two different abstract methods does not fulfill the condition and the compiler refuses to use a lambda as an implementation of MyHandler.\r\n\r\nNote that, if you want a very useful compiler check on the side of the interface, you can add the optional @FunctionalInterface annotation. The compiler will verify the exactly one abstract method condition:\r\n\r\n    @FunctionalInterface\r\n    interface MyHandler{\r\n        void myFunction(int i);\r\n    }\r\n\r\nWith this annotation, it will fail to compile if the amount of abstract methods is not equal to 1.\r\n\r\n\r\n ","title":"How does Java lambda automatically match to an interface&#39;s function?","body":"<p>Lambdas are implementations of &quot;functional interfaces&quot;. A functional interface is an interface that has exactly one abstract method. The name of the method does not matter. Your original interface with only one method fulfills that condition. Your second version that has two different abstract methods does not fulfill the condition and the compiler refuses to use a lambda as an implementation of MyHandler.</p>\n<p>Note that, if you want a very useful compiler check on the side of the interface, you can add the optional @FunctionalInterface annotation. The compiler will verify the exactly one abstract method condition:</p>\n<pre><code>@FunctionalInterface\ninterface MyHandler{\n    void myFunction(int i);\n}\n</code></pre>\n<p>With this annotation, it will fail to compile if the amount of abstract methods is not equal to 1.</p>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72670812,"answer_count":1,"score":0,"last_activity_date":1655643433,"creation_date":1655568018,"question_id":72670713,"body_markdown":"I&#39;m testing to see if java&#39;s lambda will match interface function, I wrote code below, it works. I&#39;ve interface ```MyHandler```, and its ```myFunction```. On construction a Java lambda is converted into an implementer of my interface.\r\n\r\n```\r\npackage mygroup;\r\ninterface MyHandler{\r\n    void myFunction(int i);\r\n}\r\nclass Worker{\r\n    private final MyHandler handler;\r\n    public Worker(MyHandler h){\r\n        handler = h;\r\n    }\r\n    public void work(int i){handler.myFunction(i);};\r\n}\r\npublic class TestLambda {\r\n    public static void main(String[] args) {\r\n        Worker worker = new Worker(i -&gt; System.out.println(i));\r\n        worker.work(3);\r\n    }\r\n}\r\n```\r\n\r\nProgram will print ```3```. So far so good, but if I add some other function declaration in ```MyHandler``` like below:\r\n```\r\ninterface MyHandler{\r\n    void myFunction(int i);\r\n    void f(int i, int j);\r\n}\r\n```\r\n\r\nThe that lambda in Thread constructor will fail to compile, saying that\r\n```\r\nThe constructor Worker((&lt;no type&gt; i) -&gt; {}) is undefinedJava(134217858)\r\nThe target type of this expression must be a functional interfaceJava(553648781)\r\n```\r\n\r\nSo when could Java compiler decide that a lambda can match the type of ```MyHandler```, no matter my function name is? Just having 1 and only 1 function in interface definition?\r\n\r\n","title":"How does Java lambda automatically match to an interface&#39;s function?","body":"<p>I'm testing to see if java's lambda will match interface function, I wrote code below, it works. I've interface <code>MyHandler</code>, and its <code>myFunction</code>. On construction a Java lambda is converted into an implementer of my interface.</p>\n<pre><code>package mygroup;\ninterface MyHandler{\n    void myFunction(int i);\n}\nclass Worker{\n    private final MyHandler handler;\n    public Worker(MyHandler h){\n        handler = h;\n    }\n    public void work(int i){handler.myFunction(i);};\n}\npublic class TestLambda {\n    public static void main(String[] args) {\n        Worker worker = new Worker(i -&gt; System.out.println(i));\n        worker.work(3);\n    }\n}\n</code></pre>\n<p>Program will print <code>3</code>. So far so good, but if I add some other function declaration in <code>MyHandler</code> like below:</p>\n<pre><code>interface MyHandler{\n    void myFunction(int i);\n    void f(int i, int j);\n}\n</code></pre>\n<p>The that lambda in Thread constructor will fail to compile, saying that</p>\n<pre><code>The constructor Worker((&lt;no type&gt; i) -&gt; {}) is undefinedJava(134217858)\nThe target type of this expression must be a functional interfaceJava(553648781)\n</code></pre>\n<p>So when could Java compiler decide that a lambda can match the type of <code>MyHandler</code>, no matter my function name is? Just having 1 and only 1 function in interface definition?</p>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655639893,"creation_date":1655639152,"answer_id":72676616,"question_id":72676164,"body_markdown":"This is one way to do it, fairly succinctly. As you haven&#39;t shown your code I&#39;ve made some assumptions:\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.function.Function.identity;\r\n\r\nrecord ResultData(String fileName, int all_total, int total_0, int total_1, Date date) {\r\n    static ResultData fromMyData(MyData m) {\r\n        return new ResultData(m.file(), 1, m.flag() == 0 ? 1 : 0, m.flag() == 1 ? 1 : 0, m.time());\r\n    }\r\n\r\n    public ResultData merge(ResultData m) {\r\n        return new ResultData(fileName(), all_total() + 1, total_0() + m.total_0(), total_1() + m.total_1(), date());\r\n    }\r\n}\r\n\r\nrecord MyData(String id, String chamber, String file, int flag, Date time) {\r\n}\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        List&lt;MyData&gt; list = List.of(\r\n                new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, new Date()),\r\n                new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\r\n                new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\r\n                new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, new Date())\r\n        );\r\n        Collection&lt;ResultData&gt; results = list.stream()\r\n                .collect(Collectors.toMap(MyData::file, ResultData::fromMyData, ResultData::merge))\r\n                .values();\r\n        System.out.println(results);\r\n    }\r\n}\r\n```\r\nResult:\r\n```\r\n[ResultData[fileName=f1, all_total=4, total_0=3, total_1=1, date=Sun Jun 19 22:01:52 AEST 2022], ResultData[fileName=f2, all_total=3, total_0=1, total_1=2, date=Sun Jun 19 22:01:52 AEST 2022]]\r\n```","title":"Count list object then collect them using another distinct object","body":"<p>This is one way to do it, fairly succinctly. As you haven't shown your code I've made some assumptions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport static java.util.function.Function.identity;\n\nrecord ResultData(String fileName, int all_total, int total_0, int total_1, Date date) {\n    static ResultData fromMyData(MyData m) {\n        return new ResultData(m.file(), 1, m.flag() == 0 ? 1 : 0, m.flag() == 1 ? 1 : 0, m.time());\n    }\n\n    public ResultData merge(ResultData m) {\n        return new ResultData(fileName(), all_total() + 1, total_0() + m.total_0(), total_1() + m.total_1(), date());\n    }\n}\n\nrecord MyData(String id, String chamber, String file, int flag, Date time) {\n}\n\npublic class Test {\n    public static void main(String[] args) {\n        List&lt;MyData&gt; list = List.of(\n                new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n                new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n                new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n                new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, new Date()),\n                new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\n                new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\n                new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, new Date())\n        );\n        Collection&lt;ResultData&gt; results = list.stream()\n                .collect(Collectors.toMap(MyData::file, ResultData::fromMyData, ResultData::merge))\n                .values();\n        System.out.println(results);\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>[ResultData[fileName=f1, all_total=4, total_0=3, total_1=1, date=Sun Jun 19 22:01:52 AEST 2022], ResultData[fileName=f2, all_total=3, total_0=1, total_1=2, date=Sun Jun 19 22:01:52 AEST 2022]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655642012,"creation_date":1655642012,"answer_id":72676920,"question_id":72676164,"body_markdown":"&gt; Is there a java8 way\r\n\r\nI assume you mean using the stream API. Below code doesn&#39;t use the stream API but nonetheless not a lot of code (in my opinion) in order to achieve your desired result. However it does use the date-time API and adheres to Java naming conventions.\r\n```java\r\nimport java.time.LocalDateTime;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic record MyData(String id, String chamber, String file, int flag, LocalDateTime time) {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;MyData&gt; list = List.of(\r\n                new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, LocalDateTime.now()),\r\n                new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, LocalDateTime.now()),\r\n                new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, LocalDateTime.now()),\r\n                new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, LocalDateTime.now()),\r\n                new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, LocalDateTime.now()),\r\n                new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, LocalDateTime.now()),\r\n                new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, LocalDateTime.now())\r\n        );\r\n        Map&lt;String, ResultData&gt; map = new HashMap&lt;&gt;();\r\n        for (MyData data : list) {\r\n            ResultData result = map.get(data.file());\r\n            if (result == null) {\r\n                result = new ResultData(data.file, data.time());\r\n                map.put(data.file(), result);\r\n            }\r\n            result.incrementTotals(data.flag());\r\n            result.adjustDate(data.time());\r\n        }\r\n        map.values()\r\n           .stream()\r\n           .forEach(val -&gt; System.out.printf(&quot;%s%n&quot;, val));\r\n    }\r\n}\r\n\r\nclass ResultData {\r\n    private String fileName;\r\n    private int allTotal;\r\n    private int total0;\r\n    private int total1;\r\n    private LocalDateTime date;\r\n\r\n    public ResultData(String filename, LocalDateTime date) {\r\n        this.fileName = filename;\r\n        this.date = date;\r\n    }\r\n\r\n    public void adjustDate(LocalDateTime date) {\r\n        if (date.isBefore(this.date)) {\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\n    public void incrementTotals(int flag) {\r\n        switch (flag) {\r\n            case 0:\r\n                total0++;\r\n                allTotal++;\r\n                break;\r\n            case 1:\r\n                total1++;\r\n                allTotal++;\r\n                break;\r\n            default:\r\n                // Do nothing.\r\n        }\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;%s [all: %d] [0: %d] [1: %d] %s&quot;,\r\n                             fileName,\r\n                             allTotal,\r\n                             total0,\r\n                             total1,\r\n                             date);\r\n    }\r\n}\r\n```\r\nRunning above code produces following output:\r\n```none\r\nf1 [all: 4] [0: 3] [1: 1] 2022-06-19T15:24:43.759602100\r\nf2 [all: 3] [0: 1] [1: 2] 2022-06-19T15:24:43.762604900\r\n```","title":"Count list object then collect them using another distinct object","body":"<blockquote>\n<p>Is there a java8 way</p>\n</blockquote>\n<p>I assume you mean using the stream API. Below code doesn't use the stream API but nonetheless not a lot of code (in my opinion) in order to achieve your desired result. However it does use the date-time API and adheres to Java naming conventions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic record MyData(String id, String chamber, String file, int flag, LocalDateTime time) {\n\n    public static void main(String[] args) {\n        List&lt;MyData&gt; list = List.of(\n                new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, LocalDateTime.now()),\n                new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, LocalDateTime.now()),\n                new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, LocalDateTime.now()),\n                new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, LocalDateTime.now()),\n                new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, LocalDateTime.now()),\n                new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, LocalDateTime.now()),\n                new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, LocalDateTime.now())\n        );\n        Map&lt;String, ResultData&gt; map = new HashMap&lt;&gt;();\n        for (MyData data : list) {\n            ResultData result = map.get(data.file());\n            if (result == null) {\n                result = new ResultData(data.file, data.time());\n                map.put(data.file(), result);\n            }\n            result.incrementTotals(data.flag());\n            result.adjustDate(data.time());\n        }\n        map.values()\n           .stream()\n           .forEach(val -&gt; System.out.printf(&quot;%s%n&quot;, val));\n    }\n}\n\nclass ResultData {\n    private String fileName;\n    private int allTotal;\n    private int total0;\n    private int total1;\n    private LocalDateTime date;\n\n    public ResultData(String filename, LocalDateTime date) {\n        this.fileName = filename;\n        this.date = date;\n    }\n\n    public void adjustDate(LocalDateTime date) {\n        if (date.isBefore(this.date)) {\n            this.date = date;\n        }\n    }\n\n    public void incrementTotals(int flag) {\n        switch (flag) {\n            case 0:\n                total0++;\n                allTotal++;\n                break;\n            case 1:\n                total1++;\n                allTotal++;\n                break;\n            default:\n                // Do nothing.\n        }\n    }\n\n    public String toString() {\n        return String.format(&quot;%s [all: %d] [0: %d] [1: %d] %s&quot;,\n                             fileName,\n                             allTotal,\n                             total0,\n                             total1,\n                             date);\n    }\n}\n</code></pre>\n<p>Running above code produces following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>f1 [all: 4] [0: 3] [1: 1] 2022-06-19T15:24:43.759602100\nf2 [all: 3] [0: 1] [1: 2] 2022-06-19T15:24:43.762604900\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23283522,"reputation":36,"user_id":17366679,"display_name":"buleek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655642717,"creation_date":1655642717,"answer_id":72677001,"question_id":72676164,"body_markdown":"This might also be an answer using streams. Notice that in this particular case partitioningBy gives similiar result, as another groupingBy would do for counting total0 and total1.\r\n\r\nI would also consider using Java 8 time API, instead of old Date.\r\n\r\n    public List&lt;ResultData&gt; getResult() {\r\n        List&lt;MyData&gt; list = List.of(\r\n                new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, new Date()),\r\n                new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\r\n                new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\r\n                new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, new Date()));\r\n        Map&lt;String, List&lt;MyData&gt;&gt; myDataByFile = list.stream().collect(Collectors.groupingBy(MyData::getFile));\r\n        return myDataByFile.entrySet().stream()\r\n                .map(entry -&gt; buildResultData(entry.getKey(), entry.getValue()))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private ResultData buildResultData(String file, List&lt;MyData&gt; myDataObjects) {\r\n        Map&lt;Boolean, List&lt;Integer&gt;&gt; listPartitionedByFlag = myDataObjects.stream()\r\n                .map(MyData::getFlag)\r\n                .collect(Collectors.partitioningBy(flag -&gt; flag == 0));\r\n        int total0 = listPartitionedByFlag.get(true).size();\r\n        int total1 = listPartitionedByFlag.get(false).size();\r\n        Date date = myDataObjects.stream()\r\n                .map(MyData::getTime)\r\n                .findFirst()\r\n                .orElseThrow();\r\n        return new ResultData(file, myDataObjects.size(), total0, total1, date);\r\n    }\r\n\r\nAnd the result:\r\n\r\n    ResultData: file: f1, allTotal: 4, total0: 3, total1: 1, date: Sun Jun 19 14:31:33 CEST 2022\r\n    ResultData: file: f2, allTotal: 3, total0: 1, total1: 2, date: Sun Jun 19 14:31:33 CEST 2022\r\n","title":"Count list object then collect them using another distinct object","body":"<p>This might also be an answer using streams. Notice that in this particular case partitioningBy gives similiar result, as another groupingBy would do for counting total0 and total1.</p>\n<p>I would also consider using Java 8 time API, instead of old Date.</p>\n<pre><code>public List&lt;ResultData&gt; getResult() {\n    List&lt;MyData&gt; list = List.of(\n            new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n            new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n            new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n            new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, new Date()),\n            new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\n            new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\n            new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, new Date()));\n    Map&lt;String, List&lt;MyData&gt;&gt; myDataByFile = list.stream().collect(Collectors.groupingBy(MyData::getFile));\n    return myDataByFile.entrySet().stream()\n            .map(entry -&gt; buildResultData(entry.getKey(), entry.getValue()))\n            .collect(Collectors.toList());\n}\n\nprivate ResultData buildResultData(String file, List&lt;MyData&gt; myDataObjects) {\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; listPartitionedByFlag = myDataObjects.stream()\n            .map(MyData::getFlag)\n            .collect(Collectors.partitioningBy(flag -&gt; flag == 0));\n    int total0 = listPartitionedByFlag.get(true).size();\n    int total1 = listPartitionedByFlag.get(false).size();\n    Date date = myDataObjects.stream()\n            .map(MyData::getTime)\n            .findFirst()\n            .orElseThrow();\n    return new ResultData(file, myDataObjects.size(), total0, total1, date);\n}\n</code></pre>\n<p>And the result:</p>\n<pre><code>ResultData: file: f1, allTotal: 4, total0: 3, total1: 1, date: Sun Jun 19 14:31:33 CEST 2022\nResultData: file: f2, allTotal: 3, total0: 1, total1: 2, date: Sun Jun 19 14:31:33 CEST 2022\n</code></pre>\n"}],"owner":{"account_id":2371690,"reputation":799,"user_id":2076174,"accept_rate":56,"display_name":"rakesh_parashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":72676920,"answer_count":3,"score":-1,"last_activity_date":1655643268,"creation_date":1655635346,"question_id":72676164,"body_markdown":"I have below data \r\n\r\n    +---+---------+------+------+----------------------------+\r\n    |id | chamber | file | flag |    time       \t   \t     |\r\n    +-------------+------+------+----------------------------+\r\n    | 1 | c1      |  f1  |  0   |2022-06-16 05:35:19.593000  |\r\n    | 2 | c1      |  f1  |  0   |2022-06-16 05:35:19.603000  |\r\n    | 3 | c1      |  f1  |  0   |2022-06-16 05:35:19.753000  |\r\n    | 4 | c1      |  f1  |  1   |2022-06-16 05:35:19.763000  |\r\n    | 5 | c1      |  f2  |  1   |2022-06-16 05:35:19.773000  |\r\n    | 6 | c1      |  f2  |  1   |2022-06-16 05:35:19.793000  |\r\n    | 7 | c1      |  f2  |  0   |2022-06-16 05:35:19.793000  |\r\n    +---+---------+------+------+----------------------------+\r\nConverted into a list as \r\n\r\n    List&lt;MyData&gt; list = Arrays.asList(\r\n                    new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                    new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                    new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\r\n                    new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, new Date()),\r\n                    new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\r\n                    new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\r\n                    new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, new Date())\r\n            );\r\nI am filtering this data to get another list of `ResultData`, that will have below constructor \r\n\r\n    public ResultData(String fileName, Integer all_total, Integer total_0, Integer total_1, Date date) {\r\n        this.fileName = fileName;\r\n        this.all_total = all_total;\r\n        this.total_0 = total_0;\r\n        this.total_1 = total_1;\r\n        this.date = date;\r\n    }\r\n\r\nThis `ResultData` expects below from the above list.\r\nGet the combined result of file (distinct record) i.e. only 2 records f1 and f2, this f1 and f2 would have \r\n1. Total count of flag 0 as total_0\r\n2. Total count of flag 1 as total_1\r\n3. All flag  total as all_total\r\n4. first record date \r\n\r\nSo final result would be \r\n\r\n    +------+----------+---------+---------+---------------------------+\r\n    | file |all_total | total_0 | total_1 |     date                  |\r\n    +------+----------+---------+---------+---------------------------+\r\n    |  f1  | 4        | 3       |   1     |2022-06-16 05:35:19.593000 |\r\n    |  f2  | 3        | 1       |   2     |2022-06-16 05:35:19.773000 |\r\n    +------+----------+---------+---------+---------------------------+\r\n\r\nBy using old java, it looks like I have to add lot of code and a temporary list to filter all data and then combine into one, like iterate the list and count the flag based on file, collect it in temp list, then filter original list again by file and collect in another temp list then, iterate both temp to make another list. There are many examples using old java to get it done, but that would require lot of list processing. Is there a java8 way to maybe use `groupingBy` and counting to achieve this? \r\n\r\n\r\n\r\n\r\n","title":"Count list object then collect them using another distinct object","body":"<p>I have below data</p>\n<pre><code>+---+---------+------+------+----------------------------+\n|id | chamber | file | flag |    time                    |\n+-------------+------+------+----------------------------+\n| 1 | c1      |  f1  |  0   |2022-06-16 05:35:19.593000  |\n| 2 | c1      |  f1  |  0   |2022-06-16 05:35:19.603000  |\n| 3 | c1      |  f1  |  0   |2022-06-16 05:35:19.753000  |\n| 4 | c1      |  f1  |  1   |2022-06-16 05:35:19.763000  |\n| 5 | c1      |  f2  |  1   |2022-06-16 05:35:19.773000  |\n| 6 | c1      |  f2  |  1   |2022-06-16 05:35:19.793000  |\n| 7 | c1      |  f2  |  0   |2022-06-16 05:35:19.793000  |\n+---+---------+------+------+----------------------------+\n</code></pre>\n<p>Converted into a list as</p>\n<pre><code>List&lt;MyData&gt; list = Arrays.asList(\n                new MyData(&quot;1&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n                new MyData(&quot;2&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n                new MyData(&quot;3&quot;, &quot;c1&quot;, &quot;f1&quot;, 0, new Date()),\n                new MyData(&quot;4&quot;, &quot;c1&quot;, &quot;f1&quot;, 1, new Date()),\n                new MyData(&quot;5&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\n                new MyData(&quot;6&quot;, &quot;c1&quot;, &quot;f2&quot;, 1, new Date()),\n                new MyData(&quot;7&quot;, &quot;c1&quot;, &quot;f2&quot;, 0, new Date())\n        );\n</code></pre>\n<p>I am filtering this data to get another list of <code>ResultData</code>, that will have below constructor</p>\n<pre><code>public ResultData(String fileName, Integer all_total, Integer total_0, Integer total_1, Date date) {\n    this.fileName = fileName;\n    this.all_total = all_total;\n    this.total_0 = total_0;\n    this.total_1 = total_1;\n    this.date = date;\n}\n</code></pre>\n<p>This <code>ResultData</code> expects below from the above list.\nGet the combined result of file (distinct record) i.e. only 2 records f1 and f2, this f1 and f2 would have</p>\n<ol>\n<li>Total count of flag 0 as total_0</li>\n<li>Total count of flag 1 as total_1</li>\n<li>All flag  total as all_total</li>\n<li>first record date</li>\n</ol>\n<p>So final result would be</p>\n<pre><code>+------+----------+---------+---------+---------------------------+\n| file |all_total | total_0 | total_1 |     date                  |\n+------+----------+---------+---------+---------------------------+\n|  f1  | 4        | 3       |   1     |2022-06-16 05:35:19.593000 |\n|  f2  | 3        | 1       |   2     |2022-06-16 05:35:19.773000 |\n+------+----------+---------+---------+---------------------------+\n</code></pre>\n<p>By using old java, it looks like I have to add lot of code and a temporary list to filter all data and then combine into one, like iterate the list and count the flag based on file, collect it in temp list, then filter original list again by file and collect in another temp list then, iterate both temp to make another list. There are many examples using old java to get it done, but that would require lot of list processing. Is there a java8 way to maybe use <code>groupingBy</code> and counting to achieve this?</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1655634463,"post_id":72675979,"comment_id":128374044,"body_markdown":"[mcve] please (mind the __M__! nothing unrelated, nevertheless runnable as-is and demonstrating the problem) - including the complete stacktrace","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please (mind the <b>M</b>! nothing unrelated, nevertheless runnable as-is and demonstrating the problem) - including the complete stacktrace"}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655635063,"creation_date":1655635063,"answer_id":72676127,"question_id":72675979,"body_markdown":"The `MediaPlayer.create` signature being used requires a `Context` as the first parameter.  `Fragment`s are not a `Context` but the fragment&#39;s associated `Activity` can be accessed as (which is a `Context`):\r\n\r\n    mediaPlayer = MediaPlayer.create(getActivity(), R.raw.meditation2);","title":"Cannot resolve method &#39;create(com.example.jagi.Med1Fragment, int)&#39;","body":"<p>The <code>MediaPlayer.create</code> signature being used requires a <code>Context</code> as the first parameter.  <code>Fragment</code>s are not a <code>Context</code> but the fragment's associated <code>Activity</code> can be accessed as (which is a <code>Context</code>):</p>\n<pre><code>mediaPlayer = MediaPlayer.create(getActivity(), R.raw.meditation2);\n</code></pre>\n"}],"owner":{"account_id":25426725,"reputation":29,"user_id":19231807,"display_name":"yeontan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1655643168,"creation_date":1655633506,"question_id":72675979,"body_markdown":"I want to make an audio player in a fragment for my app. Seems like there is no error to my xml file. There is no problem there. Just in my java file. I followed a youtube video on how to implement audio player in android studio. ref: https://www.youtube.com/watch?v=rJ3XbXtjNaE&amp;t=133s . In the video, he/she does not use fragment instead just an activity. I want to put my audio player in my fragment so there is some changes in code. But i don&#39;t know how to change the code for fragment. \r\n\r\nHow to fix this error.\r\n\r\nI got error: Cannot resolve method &#39;create(com.example.jagi.Med1Fragment, int)&#39; \r\n\r\nthis is my code.\r\n\r\n\r\nMed1Fragment.java\r\n\r\n```\r\npackage com.example.jagi;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.media.Image;\r\nimport android.media.MediaPlayer;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.os.Handler;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.SeekBar;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class Med1Fragment extends Fragment {\r\n\r\n    TextView playerposition, playerduration;\r\n    SeekBar seekBar;\r\n    ImageView btnrew, btnplay, btnpause, btnff;\r\n\r\n    MediaPlayer mediaPlayer;\r\n    Handler handler = new Handler();\r\n    Runnable runnable;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        playerposition = playerposition.findViewById(R.id.player_position);\r\n        playerduration = playerduration.findViewById(R.id.player_duration);\r\n        seekBar = seekBar.findViewById(R.id.seek_bar);\r\n        btnrew = btnrew.findViewById(R.id.bt_rew);\r\n        btnplay = btnplay.findViewById(R.id.bt_play);\r\n        btnpause = btnpause.findViewById(R.id.bt_pause);\r\n        btnff = btnff.findViewById(R.id.bt_ff);\r\n\r\n        mediaPlayer = MediaPlayer.create(getActivity(), R.raw.meditation2);\r\n\r\n\r\n        runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                seekBar.setProgress(mediaPlayer.getCurrentPosition());\r\n                handler.postDelayed(this, 500);\r\n            }\r\n        };\r\n\r\n        int duration = mediaPlayer.getDuration();\r\n        String sDuration = convertFormat(duration);\r\n        playerduration.setText(sDuration);\r\n\r\n        btnplay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                btnplay.setVisibility(View.GONE);\r\n                btnpause.setVisibility(View.VISIBLE);\r\n                mediaPlayer.start();\r\n                seekBar.setMax(mediaPlayer.getDuration());\r\n                handler.postDelayed(runnable,0);\r\n            }\r\n        });\r\n\r\n        btnpause.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                btnpause.setVisibility(View.GONE);\r\n                btnplay.setVisibility(View.VISIBLE);\r\n                mediaPlayer.pause();\r\n                handler.removeCallbacks(runnable);\r\n            }\r\n        });\r\n\r\n        btnff.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int currentposition = mediaPlayer.getCurrentPosition();\r\n                int duration = mediaPlayer.getDuration();\r\n\r\n                if(mediaPlayer.isPlaying() &amp;&amp; duration != currentposition){\r\n                    currentposition = currentposition + 5000;\r\n                    playerposition.setText(convertFormat(currentposition));\r\n                    mediaPlayer.seekTo(currentposition);\r\n                }\r\n            }\r\n        });\r\n\r\n        btnrew.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                int currentposition = mediaPlayer.getCurrentPosition();\r\n\r\n                if(mediaPlayer.isPlaying() &amp;&amp; currentposition &gt; 5000){\r\n                    currentposition = currentposition - 5000;\r\n                    playerposition.setText(convertFormat(currentposition));\r\n                    mediaPlayer.seekTo(currentposition);\r\n                }\r\n            }\r\n        });\r\n\r\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n            @Override\r\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\r\n                if (fromUser){\r\n                    mediaPlayer.seekTo(progress);\r\n                }\r\n                playerposition.setText(convertFormat(mediaPlayer.getCurrentPosition()));\r\n            }\r\n\r\n            @Override\r\n            public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n            }\r\n        });\r\n\r\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                btnpause.setVisibility(View.GONE);\r\n                btnplay.setVisibility(View.VISIBLE);\r\n                mediaPlayer.seekTo(0);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n        @SuppressLint(&quot;DefaultLocale&quot;)\r\n        private String convertFormat(int duration){\r\n            return String.format(&quot;%02d:%02d&quot;\r\n                    , TimeUnit.MILLISECONDS.toMinutes(duration)\r\n                    , TimeUnit.MILLISECONDS.toSeconds(duration) -\r\n                     TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration)));\r\n\r\n        }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View v = inflater.inflate(R.layout.fragment_med1, container, false);\r\n\r\n        return v;\r\n    }\r\n}\r\n```\r\n\r\nthe error is at\r\n\r\n``` \r\nmediaPlayer = MediaPlayer.create(this, R.raw.meditation2);\r\n```\r\n\r\nfragment_med1.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:background=&quot;@drawable/scene&quot;\r\n    tools:context=&quot;.Med1Fragment&quot;&gt;\r\n\r\n     &lt;ImageView\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;250dp&quot;\r\n         android:src=&quot;@drawable/ic_baseline_music_note_24&quot;/&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:padding=&quot;12dp&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/player_position&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textColor=&quot;@android:color/white&quot;/&gt;\r\n\r\n        &lt;SeekBar\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:id=&quot;@+id/seek_bar&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/player_duration&quot;\r\n            android:text=&quot;00:00&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:textColor=&quot;@android:color/white&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_rew&quot;\r\n            android:src=&quot;@drawable/ic_baseline_fast_rewind_24&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_play&quot;\r\n            android:src=&quot;@drawable/ic_baseline_play_circle_filled_24&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_pause&quot;\r\n            android:src=&quot;@drawable/ic_baseline_pause_circle_filled_24&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:id=&quot;@+id/bt_ff&quot;\r\n            android:src=&quot;@drawable/ic_baseline_fast_forward_24&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nplease help.","title":"Cannot resolve method &#39;create(com.example.jagi.Med1Fragment, int)&#39;","body":"<p>I want to make an audio player in a fragment for my app. Seems like there is no error to my xml file. There is no problem there. Just in my java file. I followed a youtube video on how to implement audio player in android studio. ref: <a href=\"https://www.youtube.com/watch?v=rJ3XbXtjNaE&amp;t=133s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=rJ3XbXtjNaE&amp;t=133s</a> . In the video, he/she does not use fragment instead just an activity. I want to put my audio player in my fragment so there is some changes in code. But i don't know how to change the code for fragment.</p>\n<p>How to fix this error.</p>\n<p>I got error: Cannot resolve method 'create(com.example.jagi.Med1Fragment, int)'</p>\n<p>this is my code.</p>\n<p>Med1Fragment.java</p>\n<pre><code>package com.example.jagi;\n\nimport android.annotation.SuppressLint;\nimport android.media.Image;\nimport android.media.MediaPlayer;\nimport android.os.Bundle;\n\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\n\nimport android.os.Handler;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.SeekBar;\nimport android.widget.TextView;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class Med1Fragment extends Fragment {\n\n    TextView playerposition, playerduration;\n    SeekBar seekBar;\n    ImageView btnrew, btnplay, btnpause, btnff;\n\n    MediaPlayer mediaPlayer;\n    Handler handler = new Handler();\n    Runnable runnable;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        playerposition = playerposition.findViewById(R.id.player_position);\n        playerduration = playerduration.findViewById(R.id.player_duration);\n        seekBar = seekBar.findViewById(R.id.seek_bar);\n        btnrew = btnrew.findViewById(R.id.bt_rew);\n        btnplay = btnplay.findViewById(R.id.bt_play);\n        btnpause = btnpause.findViewById(R.id.bt_pause);\n        btnff = btnff.findViewById(R.id.bt_ff);\n\n        mediaPlayer = MediaPlayer.create(getActivity(), R.raw.meditation2);\n\n\n        runnable = new Runnable() {\n            @Override\n            public void run() {\n                seekBar.setProgress(mediaPlayer.getCurrentPosition());\n                handler.postDelayed(this, 500);\n            }\n        };\n\n        int duration = mediaPlayer.getDuration();\n        String sDuration = convertFormat(duration);\n        playerduration.setText(sDuration);\n\n        btnplay.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                btnplay.setVisibility(View.GONE);\n                btnpause.setVisibility(View.VISIBLE);\n                mediaPlayer.start();\n                seekBar.setMax(mediaPlayer.getDuration());\n                handler.postDelayed(runnable,0);\n            }\n        });\n\n        btnpause.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                btnpause.setVisibility(View.GONE);\n                btnplay.setVisibility(View.VISIBLE);\n                mediaPlayer.pause();\n                handler.removeCallbacks(runnable);\n            }\n        });\n\n        btnff.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int currentposition = mediaPlayer.getCurrentPosition();\n                int duration = mediaPlayer.getDuration();\n\n                if(mediaPlayer.isPlaying() &amp;&amp; duration != currentposition){\n                    currentposition = currentposition + 5000;\n                    playerposition.setText(convertFormat(currentposition));\n                    mediaPlayer.seekTo(currentposition);\n                }\n            }\n        });\n\n        btnrew.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                int currentposition = mediaPlayer.getCurrentPosition();\n\n                if(mediaPlayer.isPlaying() &amp;&amp; currentposition &gt; 5000){\n                    currentposition = currentposition - 5000;\n                    playerposition.setText(convertFormat(currentposition));\n                    mediaPlayer.seekTo(currentposition);\n                }\n            }\n        });\n\n        seekBar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress, boolean fromUser) {\n                if (fromUser){\n                    mediaPlayer.seekTo(progress);\n                }\n                playerposition.setText(convertFormat(mediaPlayer.getCurrentPosition()));\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n            }\n        });\n\n        mediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                btnpause.setVisibility(View.GONE);\n                btnplay.setVisibility(View.VISIBLE);\n                mediaPlayer.seekTo(0);\n            }\n        });\n\n\n    }\n        @SuppressLint(&quot;DefaultLocale&quot;)\n        private String convertFormat(int duration){\n            return String.format(&quot;%02d:%02d&quot;\n                    , TimeUnit.MILLISECONDS.toMinutes(duration)\n                    , TimeUnit.MILLISECONDS.toSeconds(duration) -\n                     TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(duration)));\n\n        }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View v = inflater.inflate(R.layout.fragment_med1, container, false);\n\n        return v;\n    }\n}\n</code></pre>\n<p>the error is at</p>\n<pre><code>mediaPlayer = MediaPlayer.create(this, R.raw.meditation2);\n</code></pre>\n<p>fragment_med1.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot;\n    android:background=&quot;@drawable/scene&quot;\n    tools:context=&quot;.Med1Fragment&quot;&gt;\n\n     &lt;ImageView\n         android:layout_width=&quot;match_parent&quot;\n         android:layout_height=&quot;250dp&quot;\n         android:src=&quot;@drawable/ic_baseline_music_note_24&quot;/&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:padding=&quot;12dp&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/player_position&quot;\n            android:text=&quot;00:00&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;@android:color/white&quot;/&gt;\n\n        &lt;SeekBar\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:id=&quot;@+id/seek_bar&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/player_duration&quot;\n            android:text=&quot;00:00&quot;\n            android:textStyle=&quot;bold&quot;\n            android:textColor=&quot;@android:color/white&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_rew&quot;\n            android:src=&quot;@drawable/ic_baseline_fast_rewind_24&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_play&quot;\n            android:src=&quot;@drawable/ic_baseline_play_circle_filled_24&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_pause&quot;\n            android:src=&quot;@drawable/ic_baseline_pause_circle_filled_24&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;60dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:id=&quot;@+id/bt_ff&quot;\n            android:src=&quot;@drawable/ic_baseline_fast_forward_24&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>please help.</p>\n"},{"tags":["java","spring","transactions","autowired","spring-transactions"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1655642270,"post_id":72676934,"comment_id":128375622,"body_markdown":"You don&#39;t want to invoke transaction functionality where it&#39;s not necessary (so class level `@Transactional` is usually a no-no). It&#39;s very important to understand how the transaction boundaries work, so you need to know what you&#39;re doing and the annotation parameters behaviour, as well as how the transaction is propagated from one method to another.","body":"You don&#39;t want to invoke transaction functionality where it&#39;s not necessary (so class level <code>@Transactional</code> is usually a no-no). It&#39;s very important to understand how the transaction boundaries work, so you need to know what you&#39;re doing and the annotation parameters behaviour, as well as how the transaction is propagated from one method to another."},{"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"score":0,"creation_date":1655642679,"post_id":72676934,"comment_id":128375687,"body_markdown":"@Kayaman, I agree, but in this code, what problems can there be?","body":"@Kayaman, I agree, but in this code, what problems can there be?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1655643089,"post_id":72676934,"comment_id":128375765,"body_markdown":"Why didn&#39;t the people in the code review explain why it&#39;s bad? Sounds like your process is wrong if you only got told that something is bad and not why it&#39;s bad.","body":"Why didn&#39;t the people in the code review explain why it&#39;s bad? Sounds like your process is wrong if you only got told that something is bad and not why it&#39;s bad."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1655703217,"post_id":72676934,"comment_id":128385594,"body_markdown":"Ditch setter, use constructor injection instead. That being said, they are wrong. There is no transactional proxy at the moment the `setJdbcTemplate` is being called and thus it doesn&#39;t use a transaction. The transactional proxy is being created **after** all the properties have been set.","body":"Ditch setter, use constructor injection instead. That being said, they are wrong. There is no transactional proxy at the moment the <code>setJdbcTemplate</code> is being called and thus it doesn&#39;t use a transaction. The transactional proxy is being created <b>after</b> all the properties have been set."}],"owner":{"account_id":15928516,"reputation":357,"user_id":14187109,"display_name":"Sergey Zh."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655642095,"creation_date":1655642095,"question_id":72676934,"body_markdown":"when my code went through a code review, an error was pointed out.\r\n\r\ncode for example:\r\n\r\n    @Component\r\n    @Transactional\r\n    public class ClassA {\r\n        private NamedParameterJdbcTemplate jdbcTemplate;\r\n    \r\n        @Autowired\r\n        public void setJdbcTemplate(NamedParameterJdbcTemplate jdbcTemplate) {\r\n            this.jdbcTemplate = jdbcTemplate;\r\n        }\r\n    \r\n        public method1() {\r\n          //some logic with transaction\r\n        }\r\n        \r\n        ...\r\n\r\n        public methodN() {\r\n          //some logic with transaction\r\n        }\r\n    }\r\n\r\n\r\nI want everything method (method1...methodN) to be transactional.\r\nBut then, setter also in transactional. And the code-reviewers said it was wrong (pointed out the error).\r\n\r\nBut I don&#39;t understand why it&#39;s bad. What problems can be when using the transactional on the class (and setter also)?","title":"@Transactional on class and getters/setters in @Autowired","body":"<p>when my code went through a code review, an error was pointed out.</p>\n<p>code for example:</p>\n<pre><code>@Component\n@Transactional\npublic class ClassA {\n    private NamedParameterJdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public void setJdbcTemplate(NamedParameterJdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    public method1() {\n      //some logic with transaction\n    }\n    \n    ...\n\n    public methodN() {\n      //some logic with transaction\n    }\n}\n</code></pre>\n<p>I want everything method (method1...methodN) to be transactional.\nBut then, setter also in transactional. And the code-reviewers said it was wrong (pointed out the error).</p>\n<p>But I don't understand why it's bad. What problems can be when using the transactional on the class (and setter also)?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9437851,"reputation":157,"user_id":7019324,"display_name":"Stijn Dejongh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655641979,"creation_date":1655640381,"answer_id":72676754,"question_id":72676471,"body_markdown":"# specific answer\r\nObviously, the best way to figure this out is to try it yourself.\r\nIf you want some certainty before you attack this challenge, it is usually a good idea to look at the method signatures in the java API documentation for the different versions.\r\n\r\n * Java 7 spec of `Collections.unmodifiableList`: https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)\r\n * Java 17 spec of `List.of`: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of()\r\n \r\nAs you can see, both return an unmodifiable `List&lt;E&gt;`. So I would say your update is quite safe.\r\n\r\n# general approach\r\nIn general, if you are going to refactor a common part of your codebase, it is a good practice to first extract all occurrences of this construct in your codebase onto a utility method.\r\nFor your case, you could create a simple utility class, like so:\r\n\r\n    public final class ListUtilWrapper {\r\n       public static &lt;E&gt; List&lt;E&gt; listOf(E... elements) {\r\n           return Collections.unmodifiableList(Arrays.asList(elements));\r\n       }\r\n    }\r\n\r\nAfter each call is replaced by `ListUtilWrapper.listOf(....)`, you compile and test your code.\r\nNext up, you replace the implementation of `ListUtilWrapper.listOf` to be `List.of(elements)` and rebuild your codebase.\r\n\r\nIf all works well: inline the utility method after some manual testing. If it fails, you can easily roll back to a stable state.\r\n\r\n","title":"Replace Collections.unmodifiableList(Arrays.asList(....)); with List.of(&quot;....&quot;);","body":"<h1>specific answer</h1>\n<p>Obviously, the best way to figure this out is to try it yourself.\nIf you want some certainty before you attack this challenge, it is usually a good idea to look at the method signatures in the java API documentation for the different versions.</p>\n<ul>\n<li>Java 7 spec of <code>Collections.unmodifiableList</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#unmodifiableList(java.util.List)</a></li>\n<li>Java 17 spec of <code>List.of</code>: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of()</a></li>\n</ul>\n<p>As you can see, both return an unmodifiable <code>List&lt;E&gt;</code>. So I would say your update is quite safe.</p>\n<h1>general approach</h1>\n<p>In general, if you are going to refactor a common part of your codebase, it is a good practice to first extract all occurrences of this construct in your codebase onto a utility method.\nFor your case, you could create a simple utility class, like so:</p>\n<pre><code>public final class ListUtilWrapper {\n   public static &lt;E&gt; List&lt;E&gt; listOf(E... elements) {\n       return Collections.unmodifiableList(Arrays.asList(elements));\n   }\n}\n</code></pre>\n<p>After each call is replaced by <code>ListUtilWrapper.listOf(....)</code>, you compile and test your code.\nNext up, you replace the implementation of <code>ListUtilWrapper.listOf</code> to be <code>List.of(elements)</code> and rebuild your codebase.</p>\n<p>If all works well: inline the utility method after some manual testing. If it fails, you can easily roll back to a stable state.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1655649377,"accepted_answer_id":72676754,"answer_count":1,"score":-2,"last_activity_date":1655641979,"creation_date":1655637936,"question_id":72676471,"body_markdown":"I want to migrate old Java code to Java 17. Is it a good idea to replace:\r\n\r\n`Collections.unmodifiableList(Arrays.asList(....));` to `List.of(&quot;....&quot;);`\r\n\r\nShould I expect code execution error or there should be no impact?","title":"Replace Collections.unmodifiableList(Arrays.asList(....)); with List.of(&quot;....&quot;);","body":"<p>I want to migrate old Java code to Java 17. Is it a good idea to replace:</p>\n<p><code>Collections.unmodifiableList(Arrays.asList(....));</code> to <code>List.of(&quot;....&quot;);</code></p>\n<p>Should I expect code execution error or there should be no impact?</p>\n"},{"tags":["java","reactjs","spring","spring-boot"],"owner":{"account_id":23974176,"reputation":11,"user_id":17962476,"display_name":"yt8721"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1655641917,"creation_date":1655641679,"question_id":72676891,"body_markdown":"I am using the Spring Boot with React for security login as shown here: https://www.baeldung.com/spring-security-login-react\r\n\r\nThe App.js file is:\r\n\r\n```\r\nfunction App() {\r\n  let history = useHistory();\r\n  const [formData, setFormData] = React.useState({\r\n    username: &quot;&quot;,\r\n    password: &quot;&quot;\r\n  })\r\n\r\n  function handleChange(event){\r\n    const {name, value} = event.target  \r\n    setFormData(prevFormData =&gt; ({...prevFormData, [name]: value}))\r\n  }\r\n\r\n  function handleSubmit() {\r\n    history.push(&quot;/home&quot;);\r\n  }\r\n  \r\n  return (\r\n    &lt;&gt;\r\n    &lt;Switch&gt;\r\n      &lt;Route exact path = &quot;/index.html&quot;  render= {(props)=&gt; &lt;Login handleSubmit={handleSubmit} handleChange={handleChange} {...props} /&gt;}/&gt;\r\n      &lt;Route path = &quot;/home&quot;  render = {(props) =&gt; &lt;WelcomeHome email={formData.username} {...props} /&gt;}/&gt;\r\n      &lt;Route path = &quot;/log-out&quot; render = {(props)=&gt; &lt;Login handleSubmit={handleSubmit} handleChange={handleChange} {...props}/&gt;}/&gt;\r\n      &lt;Route path= &quot;/test&quot; render = {() =&gt; &lt;Test/&gt;}/&gt;\r\n    &lt;/Switch&gt;\r\n   \r\n    &lt;/&gt;\r\n    \r\n  );\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\nAnd the Web security configuration in the spring boot project has the conifguration:\r\n\r\n\r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable().authorizeRequests().antMatchers(&quot;/api/v*/registration/**&quot;, &quot;/api/v*/user/**&quot;,\r\n                        &quot;/index*&quot;, &quot;/static/**&quot;, &quot;/*.js&quot;, &quot;/*.json&quot;, &quot;/*.ico&quot;).\r\n                permitAll().anyRequest().authenticated().and().formLogin()\r\n                .loginPage(&quot;/index.html&quot;)\r\n                .loginProcessingUrl(&quot;/perform_login&quot;)\r\n                .defaultSuccessUrl(&quot;/home&quot;,true)\r\n                .failureUrl(&quot;/index.html?error=true&quot;).and().logout(logout -&gt; logout\r\n                .logoutUrl(&quot;/log-out&quot;)\r\n                .logoutSuccessUrl(&quot;/index.html&quot;)\r\n                .addLogoutHandler(new HeaderWriterLogoutHandler(new ClearSiteDataHeaderWriter(SOURCE)))\r\n                .deleteCookies(&quot;JSESSIONID&quot;,&quot;remember-me&quot;)\r\n                .clearAuthentication(true)\r\n                .invalidateHttpSession(true).permitAll()\r\n        );\r\n\r\n    }\r\n```\r\n\r\n\r\nThe problem is that when logging in it is redirected to /home from /index.html, however when refreshing the application is redirected back to /index.html, and all I want is to remain on /home when refreshing\r\n\r\n\r\n\r\n","title":"Spring boot and react when refreshing from &quot;/home&quot; it redirects back to /index.html&quot;","body":"<p>I am using the Spring Boot with React for security login as shown here: <a href=\"https://www.baeldung.com/spring-security-login-react\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-login-react</a></p>\n<p>The App.js file is:</p>\n<pre><code>function App() {\n  let history = useHistory();\n  const [formData, setFormData] = React.useState({\n    username: &quot;&quot;,\n    password: &quot;&quot;\n  })\n\n  function handleChange(event){\n    const {name, value} = event.target  \n    setFormData(prevFormData =&gt; ({...prevFormData, [name]: value}))\n  }\n\n  function handleSubmit() {\n    history.push(&quot;/home&quot;);\n  }\n  \n  return (\n    &lt;&gt;\n    &lt;Switch&gt;\n      &lt;Route exact path = &quot;/index.html&quot;  render= {(props)=&gt; &lt;Login handleSubmit={handleSubmit} handleChange={handleChange} {...props} /&gt;}/&gt;\n      &lt;Route path = &quot;/home&quot;  render = {(props) =&gt; &lt;WelcomeHome email={formData.username} {...props} /&gt;}/&gt;\n      &lt;Route path = &quot;/log-out&quot; render = {(props)=&gt; &lt;Login handleSubmit={handleSubmit} handleChange={handleChange} {...props}/&gt;}/&gt;\n      &lt;Route path= &quot;/test&quot; render = {() =&gt; &lt;Test/&gt;}/&gt;\n    &lt;/Switch&gt;\n   \n    &lt;/&gt;\n    \n  );\n}\n\nexport default App;\n</code></pre>\n<p>And the Web security configuration in the spring boot project has the conifguration:</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable().authorizeRequests().antMatchers(&quot;/api/v*/registration/**&quot;, &quot;/api/v*/user/**&quot;,\n                        &quot;/index*&quot;, &quot;/static/**&quot;, &quot;/*.js&quot;, &quot;/*.json&quot;, &quot;/*.ico&quot;).\n                permitAll().anyRequest().authenticated().and().formLogin()\n                .loginPage(&quot;/index.html&quot;)\n                .loginProcessingUrl(&quot;/perform_login&quot;)\n                .defaultSuccessUrl(&quot;/home&quot;,true)\n                .failureUrl(&quot;/index.html?error=true&quot;).and().logout(logout -&gt; logout\n                .logoutUrl(&quot;/log-out&quot;)\n                .logoutSuccessUrl(&quot;/index.html&quot;)\n                .addLogoutHandler(new HeaderWriterLogoutHandler(new ClearSiteDataHeaderWriter(SOURCE)))\n                .deleteCookies(&quot;JSESSIONID&quot;,&quot;remember-me&quot;)\n                .clearAuthentication(true)\n                .invalidateHttpSession(true).permitAll()\n        );\n\n    }\n</code></pre>\n<p>The problem is that when logging in it is redirected to /home from /index.html, however when refreshing the application is redirected back to /index.html, and all I want is to remain on /home when refreshing</p>\n"},{"tags":["java","android","rx-java","rx-android"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655640868,"creation_date":1655640868,"answer_id":72676799,"question_id":72676469,"body_markdown":"First of all, you have an unconditional infinite loop which is unable to respond to when the downstream disposes the sequence. Use `while (!emitter.isDisposed())`.\r\n\r\nStopping a sequence is done via `Disposable.dispose`. You get one `Disposable` in `onSubscribe` so you&#39;ll have to make that available to the button that you want to stop a sequence.\r\n\r\nResuming is essentially subscribing to the sequence again, i.e., what you already do in that `onClick` callback.","title":"How to signal an infinite observable to stop/continue emission?","body":"<p>First of all, you have an unconditional infinite loop which is unable to respond to when the downstream disposes the sequence. Use <code>while (!emitter.isDisposed())</code>.</p>\n<p>Stopping a sequence is done via <code>Disposable.dispose</code>. You get one <code>Disposable</code> in <code>onSubscribe</code> so you'll have to make that available to the button that you want to stop a sequence.</p>\n<p>Resuming is essentially subscribing to the sequence again, i.e., what you already do in that <code>onClick</code> callback.</p>\n"}],"owner":{"account_id":8134250,"reputation":1092,"user_id":6126446,"accept_rate":100,"display_name":"tur11ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72676799,"answer_count":1,"score":0,"last_activity_date":1655641688,"creation_date":1655637910,"question_id":72676469,"body_markdown":"**Problem description**\r\n\r\nI writing an Android application in Java to handle RFID reading based on some proprietary library and hardware. The RFID reader has a JNI library, which acts as an API to the hardware. This library is thread safe (as they say) but I cannot make the scanning process run on the Android&#39;s UI thread. I also don&#39;t want to use `AsyncTask` because it has started being deprecated I want the user to be able to start/resume the scanning process based on the click of a button without the process starting each time from the beginning. \r\n\r\nI have the following code inside a class `Scanner` that is a singleton object.\r\n```java\r\nclass Scanner {\r\n/*...*/\r\n    public Observable&lt;Product&gt; scan() {\r\n        return Observable.create(emitter -&gt; {\r\n            while (true) {\r\n                 UHFTAGInfo TAG = RFIDReader.inventorySingleTag();\r\n                 if (TAG != null) {\r\n                    emitter.onNext(new Product(TAG.getEPC()));\r\n                 }\r\n            }\r\n        });\r\n    }\r\n/*...*/\r\n}\r\n```\r\n\r\nOn the UI side, I have a ScanFragment and some buttons. This is the `OnClickListener()` of the `scanButton` that triggers the scanning process.\r\n```java\r\nscanButton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n         Scanner.getInstance().scan()\r\n            .subscribeOn(Schedulers.io())\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribe(new Observer&lt;Product&gt;() {\r\n                @Override\r\n                public void onSubscribe(@NonNull Disposable d) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onNext(@NonNull Product product) {\r\n                    listProducts.add(product);\r\n                    adapter.notifyDataSetChanged();\r\n                }\r\n\r\n                @Override\r\n                public void onError(@NonNull Throwable e) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onComplete() {\r\n\r\n                }\r\n            });\r\n}\r\n```\r\n\r\n**Questions**\r\n\r\n* What is the *correct* way to stop/resume/end the above infinite emitting `Observable` when another `stopButton`/`resumeButton` is pressed or when user moves to another fragment?\r\n* I have thought many different things like an Atomic flag without and with an `Observable` for it and using `takeUntil` for that `Observable`. But will `takeUntil` stop my `Observable` and I will have to start it from the beginning?","title":"How to signal an infinite observable to stop/continue emission?","body":"<p><strong>Problem description</strong></p>\n<p>I writing an Android application in Java to handle RFID reading based on some proprietary library and hardware. The RFID reader has a JNI library, which acts as an API to the hardware. This library is thread safe (as they say) but I cannot make the scanning process run on the Android's UI thread. I also don't want to use <code>AsyncTask</code> because it has started being deprecated I want the user to be able to start/resume the scanning process based on the click of a button without the process starting each time from the beginning.</p>\n<p>I have the following code inside a class <code>Scanner</code> that is a singleton object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scanner {\n/*...*/\n    public Observable&lt;Product&gt; scan() {\n        return Observable.create(emitter -&gt; {\n            while (true) {\n                 UHFTAGInfo TAG = RFIDReader.inventorySingleTag();\n                 if (TAG != null) {\n                    emitter.onNext(new Product(TAG.getEPC()));\n                 }\n            }\n        });\n    }\n/*...*/\n}\n</code></pre>\n<p>On the UI side, I have a ScanFragment and some buttons. This is the <code>OnClickListener()</code> of the <code>scanButton</code> that triggers the scanning process.</p>\n<pre class=\"lang-java prettyprint-override\"><code>scanButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n         Scanner.getInstance().scan()\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(new Observer&lt;Product&gt;() {\n                @Override\n                public void onSubscribe(@NonNull Disposable d) {\n\n                }\n\n                @Override\n                public void onNext(@NonNull Product product) {\n                    listProducts.add(product);\n                    adapter.notifyDataSetChanged();\n                }\n\n                @Override\n                public void onError(@NonNull Throwable e) {\n\n                }\n\n                @Override\n                public void onComplete() {\n\n                }\n            });\n}\n</code></pre>\n<p><strong>Questions</strong></p>\n<ul>\n<li>What is the <em>correct</em> way to stop/resume/end the above infinite emitting <code>Observable</code> when another <code>stopButton</code>/<code>resumeButton</code> is pressed or when user moves to another fragment?</li>\n<li>I have thought many different things like an Atomic flag without and with an <code>Observable</code> for it and using <code>takeUntil</code> for that <code>Observable</code>. But will <code>takeUntil</code> stop my <code>Observable</code> and I will have to start it from the beginning?</li>\n</ul>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655630649,"post_id":42852575,"comment_id":128373376,"body_markdown":"I strongly recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655630661,"post_id":42852575,"comment_id":128373380,"body_markdown":"I cannot reproduce. On my Java `new Date(1427700245 * 1000)` gave `Wed Jan 21 12:58:22 CET 1970`. Also `17-Mar-2017 13:40` would correspond to something around `1489671600` seconds since the epoch depending on time zone. Certainly not 1427700245.","body":"I cannot reproduce. On my Java <code>new Date(1427700245 * 1000)</code> gave <code>Wed Jan 21 12:58:22 CET 1970</code>. Also <code>17-Mar-2017 13:40</code> would correspond to something around <code>1489671600</code> seconds since the epoch depending on time zone. Certainly not 1427700245."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1655634016,"post_id":42852575,"comment_id":128373975,"body_markdown":"`Instant.ofEpochSecond(1_489_738_200L).atZone(ZoneId.systemDefault()).format(DateTimeFormatter.ofLocalizedDateTime(FormatStyle.SHORT))`. Gave `17/03/17, 1:40 PM`. Excat output will depend on time zone and locale.","body":"<code>Instant.ofEpochSecond(1_489_738_200L).atZone(ZoneId.systemDe&zwnj;&#8203;fault()).format(Date&zwnj;&#8203;TimeFormatter.ofLoca&zwnj;&#8203;lizedDateTime(Format&zwnj;&#8203;Style.SHORT))</code>. Gave <code>17&#47;03&#47;17, 1:40 PM</code>. Excat output will depend on time zone and locale."}],"answers":[{"tags":[],"owner":{"account_id":6958242,"reputation":718,"user_id":5338595,"display_name":"rohitanand"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489739813,"creation_date":1489739813,"answer_id":42852715,"question_id":42852575,"body_markdown":"Its precision issue. Explicitly define you date value as long.\r\nIt will work then\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","title":"Date and time using openweathermap api","body":"<p>Its precision issue. Explicitly define you date value as long.\nIt will work then</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n"},{"tags":[],"owner":{"account_id":2591002,"reputation":1452,"user_id":2245716,"accept_rate":50,"display_name":"albeee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489740023,"creation_date":1489740023,"answer_id":42852778,"question_id":42852575,"body_markdown":"Try this\n\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MMM-yyyy&#39;T&#39;HH:mm&quot;):\n    String dateString = sdf.format(weatherResponse.getDt()*1000):\n    date.setText(dateString):","title":"Date and time using openweathermap api","body":"<p>Try this</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MMM-yyyy'T'HH:mm\"):\nString dateString = sdf.format(weatherResponse.getDt()*1000):\ndate.setText(dateString):\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1776733,"reputation":1388,"user_id":1620389,"accept_rate":75,"display_name":"BustedSanta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655641610,"creation_date":1655598611,"answer_id":72673582,"question_id":42852575,"body_markdown":"The openweather API documentation states that the date format is in Unix UTC format.\r\n\r\nhttps://openweathermap.org/api/one-call-3\r\n\r\nHere&#39;s an answer on SO that describes how to convert the Unix timestamp date: \r\n\r\nhttps://stackoverflow.com/questions/17432735/convert-unix-timestamp-to-date-in-java\r\n\r\nso your date 1427700245 is 2015-03-30 03:24:05 (GMT-04:00).\r\n\r\n    \tlong unixSeconds = 1427700245;\r\n\t\t// convert seconds to milliseconds\r\n\t\tDate date = new java.util.Date(unixSeconds*1000L); \r\n\t\t\r\n\t\t// the format of your date\r\n\t\tSimpleDateFormat sdf = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;); \r\n\t\t// give a timezone reference for formatting (see comment at the bottom)\r\n\t\tsdf.setTimeZone(java.util.TimeZone.getTimeZone(&quot;GMT-4&quot;)); \r\n\t\tString formattedDate = sdf.format(date);\r\n\t\tSystem.out.println(formattedDate);\r\n\r\nEDIT: using DateTimeFormatter which is also included in the above mentioned SO post.\r\n\r\n    final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n\t\t\tfinal long unixTime = 1427700245;\r\n\t\t\tfinal String formattedDtm = Instant.ofEpochSecond(unixTime)\r\n\t\t\t        .atZone(ZoneId.of(&quot;GMT-4&quot;))\r\n\t\t\t        .format(formatter);\r\n\r\n\t\t\tSystem.out.println(formattedDtm);   // =&gt; 2015-03-30 03:24:05","title":"Date and time using openweathermap api","body":"<p>The openweather API documentation states that the date format is in Unix UTC format.</p>\n<p><a href=\"https://openweathermap.org/api/one-call-3\" rel=\"nofollow noreferrer\">https://openweathermap.org/api/one-call-3</a></p>\n<p>Here's an answer on SO that describes how to convert the Unix timestamp date:</p>\n<p><a href=\"https://stackoverflow.com/questions/17432735/convert-unix-timestamp-to-date-in-java\">Convert unix timestamp to date in java</a></p>\n<p>so your date 1427700245 is 2015-03-30 03:24:05 (GMT-04:00).</p>\n<pre><code>    long unixSeconds = 1427700245;\n    // convert seconds to milliseconds\n    Date date = new java.util.Date(unixSeconds*1000L); \n    \n    // the format of your date\n    SimpleDateFormat sdf = new java.text.SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;); \n    // give a timezone reference for formatting (see comment at the bottom)\n    sdf.setTimeZone(java.util.TimeZone.getTimeZone(&quot;GMT-4&quot;)); \n    String formattedDate = sdf.format(date);\n    System.out.println(formattedDate);\n</code></pre>\n<p>EDIT: using DateTimeFormatter which is also included in the above mentioned SO post.</p>\n<pre><code>final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n        final long unixTime = 1427700245;\n        final String formattedDtm = Instant.ofEpochSecond(unixTime)\n                .atZone(ZoneId.of(&quot;GMT-4&quot;))\n                .format(formatter);\n\n        System.out.println(formattedDtm);   // =&gt; 2015-03-30 03:24:05\n</code></pre>\n"}],"owner":{"account_id":7814041,"reputation":109,"user_id":5909356,"accept_rate":40,"display_name":"Prem_Soren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1655630729,"answer_count":3,"score":1,"last_activity_date":1655641610,"creation_date":1489739247,"question_id":42852575,"body_markdown":"`&quot;dt&quot;:1427700245`\r\nHow I change this date format into `17-Mar-2017 13:40`\r\n\r\n    String currentDateTimeString = DateFormat.getDateTimeInstance().format(new Date(weatherResponse.getDt()*1000));\r\n                date.setText(currentDateTimeString);\r\n\r\nIt shows me `25 Jan 1969 01:52:28`","title":"Date and time using openweathermap api","body":"<p><code>\"dt\":1427700245</code>\nHow I change this date format into <code>17-Mar-2017 13:40</code></p>\n\n<pre><code>String currentDateTimeString = DateFormat.getDateTimeInstance().format(new Date(weatherResponse.getDt()*1000));\n            date.setText(currentDateTimeString);\n</code></pre>\n\n<p>It shows me <code>25 Jan 1969 01:52:28</code></p>\n"},{"tags":["java","jakarta-ee","servlets","servlet-3.0"],"comments":[{"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"score":0,"creation_date":1345241173,"post_id":12013707,"comment_id":16028355,"body_markdown":"You want to make a request to a Servlet and then forward the request to itself?","body":"You want to make a request to a Servlet and then forward the request to itself?"},{"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"score":0,"creation_date":1345241456,"post_id":12013707,"comment_id":16028434,"body_markdown":"no, let&#39;s say I have a test.jsp that has a form. When submitted, it calls /MyServlet, in case of error I want MyServlet to redirect to test.jsp with the values the user sent. I cannot only put test.jsp because this page is generated dinamically using some get parameters.","body":"no, let&#39;s say I have a test.jsp that has a form. When submitted, it calls /MyServlet, in case of error I want MyServlet to redirect to test.jsp with the values the user sent. I cannot only put test.jsp because this page is generated dinamically using some get parameters."}],"answers":[{"tags":[],"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1360652719,"creation_date":1345244195,"answer_id":12014169,"question_id":12013707,"body_markdown":"First of all the `request.getHeader(&quot;referer&quot;)` returns a full URL but you have to strip off the `http://server[:port]/` because what you pass to request.getRequestDispatcher() is added to the application context like this:\r\n\r\n    /NameOfApp/http:/localhost:8084/NameOfApp/test.jsp\r\n\r\nWhich is not what you want because you just need to pass the following to the dispatcher method:\r\n\r\n    test.jsp\r\n\r\nIf we take things from the start the first request starts from this URL:\r\n\r\n    http://localhost:8084/RequestDispatcher/test.jsp\r\n\r\nThe forward works but the second time you are going make a request to your Servlet, the Servlet will forward to itself. So you will enter a loop with the Servlet calling itself. Why will this happen? Since you call the Servlet from the form, this means that the URL address in your browser address box will change to that of your Servlet after the first request.\r\n\r\n    http://localhost:8084/RequestDispatcher/NewServlet\r\n\r\nThe Servlet will forward the request back to the JSP page and the browser will display just that but the URL in the browser address box will still be the one containing the Servlet and not the JSP page:\r\n\r\n    http://localhost:8084/RequestDispatcher/NewServlet\r\n\r\nSo the next time you hit submit the Servlet will try to forward the request to itself. If I were you I would use a redirect. It seems more appropriate for your purpose:\r\n\r\n    response.sendRedirect(request.getHeader(&quot;referer&quot;));\r\n\r\nThis will always change the URL in your browser address box and prevent your Servlet from looping. This will have an impact on the request parameters but you can always add them on the redirect URL(if it&#39;s not sensitive information) or store them in session until you retrieve them on the next first request which will be made by the redirect.\r\n\r\nA framework like JSF would save you from these issues.\r\n\r\nThe easiest solution that would allow you to use forward, is a hidden parameter in the form keeping the JSP(viewid) that called the Servlet instead of using the request.getHeader(&quot;referer&quot;). You will need to check for loops though, because someone could deliberately change the value to force your Servlet container to loop and eventually crash the VM. But you can just use a request attribute to keep record of the previous request in the chain and if it&#39;s the same you respond with an error. So in the servlet you would use the hidden field value in order to decide where to forward to:\r\n\r\n    request.getRequestDispatcher(request.getParameter(&quot;viewid&quot;)).forward(request, response);\r\n\r\nand in your JSP:\r\n\r\n    &lt;input type=&quot;hidden&quot; name=&quot;viewid&quot; value=&quot;test.jsp&quot;&gt;\r\n\r\nI think this would cover your requirements.","title":"Servlet forward response to caller/previous page","body":"<p>First of all the <code>request.getHeader(\"referer\")</code> returns a full URL but you have to strip off the <code>http://server[:port]/</code> because what you pass to request.getRequestDispatcher() is added to the application context like this:</p>\n\n<pre><code>/NameOfApp/http:/localhost:8084/NameOfApp/test.jsp\n</code></pre>\n\n<p>Which is not what you want because you just need to pass the following to the dispatcher method:</p>\n\n<pre><code>test.jsp\n</code></pre>\n\n<p>If we take things from the start the first request starts from this URL:</p>\n\n<pre><code>http://localhost:8084/RequestDispatcher/test.jsp\n</code></pre>\n\n<p>The forward works but the second time you are going make a request to your Servlet, the Servlet will forward to itself. So you will enter a loop with the Servlet calling itself. Why will this happen? Since you call the Servlet from the form, this means that the URL address in your browser address box will change to that of your Servlet after the first request.</p>\n\n<pre><code>http://localhost:8084/RequestDispatcher/NewServlet\n</code></pre>\n\n<p>The Servlet will forward the request back to the JSP page and the browser will display just that but the URL in the browser address box will still be the one containing the Servlet and not the JSP page:</p>\n\n<pre><code>http://localhost:8084/RequestDispatcher/NewServlet\n</code></pre>\n\n<p>So the next time you hit submit the Servlet will try to forward the request to itself. If I were you I would use a redirect. It seems more appropriate for your purpose:</p>\n\n<pre><code>response.sendRedirect(request.getHeader(\"referer\"));\n</code></pre>\n\n<p>This will always change the URL in your browser address box and prevent your Servlet from looping. This will have an impact on the request parameters but you can always add them on the redirect URL(if it's not sensitive information) or store them in session until you retrieve them on the next first request which will be made by the redirect.</p>\n\n<p>A framework like JSF would save you from these issues.</p>\n\n<p>The easiest solution that would allow you to use forward, is a hidden parameter in the form keeping the JSP(viewid) that called the Servlet instead of using the request.getHeader(\"referer\"). You will need to check for loops though, because someone could deliberately change the value to force your Servlet container to loop and eventually crash the VM. But you can just use a request attribute to keep record of the previous request in the chain and if it's the same you respond with an error. So in the servlet you would use the hidden field value in order to decide where to forward to:</p>\n\n<pre><code>request.getRequestDispatcher(request.getParameter(\"viewid\")).forward(request, response);\n</code></pre>\n\n<p>and in your JSP:</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"viewid\" value=\"test.jsp\"&gt;\n</code></pre>\n\n<p>I think this would cover your requirements.</p>\n"},{"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1403344153,"creation_date":1403343386,"answer_id":24340304,"question_id":12013707,"body_markdown":"Better strategy would be to add the caller attribute in the request. So that after processing the callee servlet can forward its request back to the caller.\r\n\r\nSomething like,\r\n\r\n**Caller**\r\n\r\n    request.setAttribute(&quot;caller&quot;, &quot;/page/Foo.jsp&quot;);\r\n\r\n**Callee**\r\n\r\n    String uri = (String)request.getAttribute(&quot;caller&quot;);\r\n    getServletContext().getRequestDispatcher(uri).forward(request, response);\r\n\r\nOR you can try adding the caller in the session and remove it after forwarding.","title":"Servlet forward response to caller/previous page","body":"<p>Better strategy would be to add the caller attribute in the request. So that after processing the callee servlet can forward its request back to the caller.</p>\n\n<p>Something like,</p>\n\n<p><strong>Caller</strong></p>\n\n<pre><code>request.setAttribute(\"caller\", \"/page/Foo.jsp\");\n</code></pre>\n\n<p><strong>Callee</strong></p>\n\n<pre><code>String uri = (String)request.getAttribute(\"caller\");\ngetServletContext().getRequestDispatcher(uri).forward(request, response);\n</code></pre>\n\n<p>OR you can try adding the caller in the session and remove it after forwarding.</p>\n"},{"tags":[],"owner":{"account_id":19453755,"reputation":1,"user_id":14229568,"display_name":"Samir Bettahar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655640927,"creation_date":1655640927,"answer_id":72676805,"question_id":12013707,"body_markdown":"I had the same problem and my solution was: \r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        String[] url = request.getHeader(&quot;referer&quot;).split(&quot;/&quot;);\r\n        response.sendRedirect(url[url.length-1]);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Servlet forward response to caller/previous page","body":"<p>I had the same problem and my solution was:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    String[] url = request.getHeader(\"referer\").split(\"/\");\n    response.sendRedirect(url[url.length-1]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41324,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":12014169,"answer_count":3,"score":6,"last_activity_date":1655640927,"creation_date":1345240689,"question_id":12013707,"body_markdown":"I&#39;m trying to forward a servlet response to the same page from when it came from (a.k.a.: the previous page, or the &quot;servlet&quot; caller). \r\n\r\nI&#39;ve seen many answers (like [this][1] and [this][2]) but still can&#39;t make it work.\r\n\r\nI usually do the following to redirect the response of a servlet to another page:\r\n\r\n    request.getRequestDispatcher(&quot;MyNewPage&quot;).forward(request, response);\r\n\r\nBut I&#39;ve tried to change &quot;MyNewPage&quot; for other options I&#39;ve seen as solutions as:\r\n\r\n    request.getRequestDispatcher((String)request.getAttribute(&quot;javax.servlet.forward.request_uri&quot;)).forward(request, response);\r\n    request.getRequestDispatcher(request.getHeader(&quot;referer&quot;)).forward(request, response);\r\n\r\nand other options and can&#39;t make it work.\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5274869/getting-the-url-of-the-calling-page-java\r\n  [2]: https://stackoverflow.com/questions/8592929/how-to-get-the-previous-page-url-from-request-in-servlet-after-dispatcher-forwar","title":"Servlet forward response to caller/previous page","body":"<p>I'm trying to forward a servlet response to the same page from when it came from (a.k.a.: the previous page, or the \"servlet\" caller). </p>\n\n<p>I've seen many answers (like <a href=\"https://stackoverflow.com/questions/5274869/getting-the-url-of-the-calling-page-java\">this</a> and <a href=\"https://stackoverflow.com/questions/8592929/how-to-get-the-previous-page-url-from-request-in-servlet-after-dispatcher-forwar\">this</a>) but still can't make it work.</p>\n\n<p>I usually do the following to redirect the response of a servlet to another page:</p>\n\n<pre><code>request.getRequestDispatcher(\"MyNewPage\").forward(request, response);\n</code></pre>\n\n<p>But I've tried to change \"MyNewPage\" for other options I've seen as solutions as:</p>\n\n<pre><code>request.getRequestDispatcher((String)request.getAttribute(\"javax.servlet.forward.request_uri\")).forward(request, response);\nrequest.getRequestDispatcher(request.getHeader(\"referer\")).forward(request, response);\n</code></pre>\n\n<p>and other options and can't make it work.</p>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":8825806,"reputation":29,"user_id":6594101,"display_name":"Kunal saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655635352,"creation_date":1655635352,"answer_id":72676166,"question_id":71760304,"body_markdown":"There is a default fetch plan based on the mapping you provide while defining entities. \r\n\r\n - By default, the JPA @ManyToOne and @OneToOne annotations are fetched EAGERly, while the @OneToMany and @ManyToMany relationships are considered LAZY.\r\n - This is the default strategy, and Hibernate doesn’t magically optimize your object retrieval, it only does what is instructed to do","title":"How can I set the default fetch type for Hibernate?","body":"<p>There is a default fetch plan based on the mapping you provide while defining entities.</p>\n<ul>\n<li>By default, the JPA @ManyToOne and @OneToOne annotations are fetched EAGERly, while the @OneToMany and @ManyToMany relationships are considered LAZY.</li>\n<li>This is the default strategy, and Hibernate doesn’t magically optimize your object retrieval, it only does what is instructed to do</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25570963,"reputation":78,"user_id":19351325,"display_name":"ArtemAgaev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655640074,"creation_date":1655640074,"answer_id":72676718,"question_id":71760304,"body_markdown":"As pointed out in this answer https://stackoverflow.com/a/57586036/19351325 unfortunately there&#39;s no way to change the default fetch type, it will always be:\r\n```\r\nOneToMany: LAZY\r\nManyToOne: EAGER\r\nManyToMany: LAZY\r\nOneToOne: EAGER\r\n```\r\n\r\n**But** you can use simple regex to automatically add Lazy fetching. In Intellij Idea use these combinations: ctrl+shft+r or cmd+shft+r, and the following regex: @ManyToOne$ or @OneToOne$ , for replace-section use: @ManyToOne(fetch = FetchType.LAZY) and @OneToOne(fetch = FetchType.LAZY) accordingly.\r\n\r\nIf you already have in these annotations some properties added you can just modify your search regex. Anyway it will be faster then doing it all manually","title":"How can I set the default fetch type for Hibernate?","body":"<p>As pointed out in this answer <a href=\"https://stackoverflow.com/a/57586036/19351325\">https://stackoverflow.com/a/57586036/19351325</a> unfortunately there's no way to change the default fetch type, it will always be:</p>\n<pre><code>OneToMany: LAZY\nManyToOne: EAGER\nManyToMany: LAZY\nOneToOne: EAGER\n</code></pre>\n<p><strong>But</strong> you can use simple regex to automatically add Lazy fetching. In Intellij Idea use these combinations: ctrl+shft+r or cmd+shft+r, and the following regex: @ManyToOne$ or @OneToOne$ , for replace-section use: @ManyToOne(fetch = FetchType.LAZY) and @OneToOne(fetch = FetchType.LAZY) accordingly.</p>\n<p>If you already have in these annotations some properties added you can just modify your search regex. Anyway it will be faster then doing it all manually</p>\n"}],"owner":{"account_id":2832467,"reputation":440,"user_id":2433769,"display_name":"eric.green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1655640074,"creation_date":1649210985,"question_id":71760304,"body_markdown":"I have a crufty old Java Enterprise program that I&#39;m trying to bring into the current decade thanks to security audits flagging half the code it imports as being a security risk. As some of you know, somewhere in the mid 2010&#39;s Hibernate changed its defaults from LAZY loading for everything, to EAGER loading for almost everything.\r\n\r\nProblem is, this breaks this program bad. It was annotated assuming everything was lazy loading, so the only annotations are for things that it wanted to fetch EAGER, which, uhm, wasn&#39;t much. The end result is a huge increase in the number of joins, which has caused performance to plummet disastrously because most of the joined entities aren&#39;t used in a typical batch operation. For example, the User field is necessary in order to query by user. But the user for a report is already fetched at the top of the loop that processes the user&#39;s records, so adding a JOIN to the query to eager fetch the user for each and every record just makes the report slower.\r\n\r\nMost of my relationships aren&#39;t annotated for lazy fetching, and there&#39;s a *lot* of them. I could manually go in and, laboriously, one by one, annotate them for lazy fetching. Or I could change Hibernate&#39;s defaults back to what they were back when this program was written. I&#39;d obviously much prefer the latter, for obvious reasons -- I really don&#39;t want to be spending any more time updating this antique code base than I have to, since we&#39;re in the process of writing its replacement.","title":"How can I set the default fetch type for Hibernate?","body":"<p>I have a crufty old Java Enterprise program that I'm trying to bring into the current decade thanks to security audits flagging half the code it imports as being a security risk. As some of you know, somewhere in the mid 2010's Hibernate changed its defaults from LAZY loading for everything, to EAGER loading for almost everything.</p>\n<p>Problem is, this breaks this program bad. It was annotated assuming everything was lazy loading, so the only annotations are for things that it wanted to fetch EAGER, which, uhm, wasn't much. The end result is a huge increase in the number of joins, which has caused performance to plummet disastrously because most of the joined entities aren't used in a typical batch operation. For example, the User field is necessary in order to query by user. But the user for a report is already fetched at the top of the loop that processes the user's records, so adding a JOIN to the query to eager fetch the user for each and every record just makes the report slower.</p>\n<p>Most of my relationships aren't annotated for lazy fetching, and there's a <em>lot</em> of them. I could manually go in and, laboriously, one by one, annotate them for lazy fetching. Or I could change Hibernate's defaults back to what they were back when this program was written. I'd obviously much prefer the latter, for obvious reasons -- I really don't want to be spending any more time updating this antique code base than I have to, since we're in the process of writing its replacement.</p>\n"},{"tags":["java","algorithm","poker"],"comments":[{"owner":{"account_id":13653871,"reputation":4274,"user_id":9850970,"display_name":"Aldert"},"score":0,"creation_date":1655670550,"post_id":72676500,"comment_id":128381397,"body_markdown":"I would create a second class called combination where you can give the combination of the cards (e.g. what make it a straight, etc.). By giving it a score you can calculate a score to compare combinations to each other.  Likewise, you can make a function giving information on what card(s) is missing to make it a valid combination.","body":"I would create a second class called combination where you can give the combination of the cards (e.g. what make it a straight, etc.). By giving it a score you can calculate a score to compare combinations to each other.  Likewise, you can make a function giving information on what card(s) is missing to make it a valid combination."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1655714611,"post_id":72676500,"comment_id":128388668,"body_markdown":"If you want to calculate the odds you have to return the exact cards and not just how many because if you have a suited OESD then you have 8 outs for a straight, 9 outs for a flush and 2 outs for a straight flush, but you don&#39;t have 8+9+2=19 outs, you have 15 because 2 cards are counted 3 times.","body":"If you want to calculate the odds you have to return the exact cards and not just how many because if you have a suited OESD then you have 8 outs for a straight, 9 outs for a flush and 2 outs for a straight flush, but you don&#39;t have 8+9+2=19 outs, you have 15 because 2 cards are counted 3 times."}],"owner":{"account_id":10873954,"reputation":67,"user_id":7994895,"accept_rate":0,"display_name":"m_botto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655638786,"creation_date":1655638189,"question_id":72676500,"body_markdown":"I&#39;m creating a Poker 5-cards Hand Evaluator out of a regular 52-card deck, and evaluate the perfect strategy to take based on a ranked list. Included in this list are possible combinations such as &quot;4 to a Straight Flush&quot;, &quot;4 to an Outside Straight&quot;, &quot;3 to a Straight Flush&quot; and so on.\r\n\r\nThis is my card class:\r\n\r\n    public class Card implements Comparable&lt;Card&gt; {\r\n\r\n    private char rank;\r\n    private char suit;\r\n    private int value;\r\n\r\n    public Card(char rank, char suit, int value) {\r\n        this.rank = rank;\r\n        this.suit = suit;\r\n        this.value = value;\r\n    }\r\n\r\nAlong with some `getRank()`, `getSuit()` and `getValue()` methods. My hand is a `Card[]` array of 5 elements.\r\n\r\nThe cards&#39; `value` goes from `2` to `14`, where 2 = `&#39;2&#39;` and 14 = `&#39;A&#39;`.\r\nI&#39;m having trouble coming up with a simple algorithm (I&#39;ve seen implementations using HashMaps and bit masks, but it seems rather complex) to check for the aforementioned combinations, because of all the edge cases and the fact that the `A` can be a low Ace. All hands are sorted in descending order before being evaluated (`&quot;2C 5C 8S KS QH&quot;` becomes `&quot;KS QH 8S 5C 2C&quot;`).\r\n\r\nI created a isStraight() function:\r\n\r\n    private boolean isStraight(Card[] sortedHand) {\r\n        if (sortedHand[0].getValue() == sortedHand[1].getValue() - 1\r\n                &amp;&amp; sortedHand[1].getValue() == sortedHand[2].getValue() - 1\r\n                &amp;&amp; sortedHand[2].getValue() == sortedHand[3].getValue() - 1\r\n                &amp;&amp; sortedHand[3].getValue() == sortedHand[4].getValue() - 1\r\n        ) return true;\r\n\r\n        // Case where there is a Low Ace\r\n        if (sortedHand[0].getValue() == 14) {\r\n            if (sortedHand[1].getValue() == 5\r\n                    &amp;&amp; sortedHand[2].getValue() == 4\r\n                    &amp;&amp; sortedHand[3].getValue() == 3\r\n                    &amp;&amp; sortedHand[4].getValue() == 2\r\n            ) return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\nBut maybe what would be best would be to generalize and create a function that would return the number of cards missing for a straight (it would return 0 in case of a straight - or even the other way around returning 5), but I&#39;m at a loss on how to do that.\r\n\r\nLikewise, I have a isFlush() method:\r\n\r\n    private boolean isFlush(Card[] sortedHand) {\r\n        int sameSuit = 0;\r\n        char Suit = sortedHand[0].getSuit();\r\n\r\n        for (int i = 0; i &lt; sortedHand.length; i++) {\r\n            if (sortedHand[i].getSuit() == Suit)\r\n                sameSuit++;\r\n        }\r\n        return sameSuit == 5;\r\n    }\r\nbut it isn&#39;t generalized to return the number of cards missing for a flush.\r\n\r\n\r\nAny input is greatly appreciated!","title":"4 to a Straight and 3 to a Straight in Video Poker","body":"<p>I'm creating a Poker 5-cards Hand Evaluator out of a regular 52-card deck, and evaluate the perfect strategy to take based on a ranked list. Included in this list are possible combinations such as &quot;4 to a Straight Flush&quot;, &quot;4 to an Outside Straight&quot;, &quot;3 to a Straight Flush&quot; and so on.</p>\n<p>This is my card class:</p>\n<pre><code>public class Card implements Comparable&lt;Card&gt; {\n\nprivate char rank;\nprivate char suit;\nprivate int value;\n\npublic Card(char rank, char suit, int value) {\n    this.rank = rank;\n    this.suit = suit;\n    this.value = value;\n}\n</code></pre>\n<p>Along with some <code>getRank()</code>, <code>getSuit()</code> and <code>getValue()</code> methods. My hand is a <code>Card[]</code> array of 5 elements.</p>\n<p>The cards' <code>value</code> goes from <code>2</code> to <code>14</code>, where 2 = <code>'2'</code> and 14 = <code>'A'</code>.\nI'm having trouble coming up with a simple algorithm (I've seen implementations using HashMaps and bit masks, but it seems rather complex) to check for the aforementioned combinations, because of all the edge cases and the fact that the <code>A</code> can be a low Ace. All hands are sorted in descending order before being evaluated (<code>&quot;2C 5C 8S KS QH&quot;</code> becomes <code>&quot;KS QH 8S 5C 2C&quot;</code>).</p>\n<p>I created a isStraight() function:</p>\n<pre><code>private boolean isStraight(Card[] sortedHand) {\n    if (sortedHand[0].getValue() == sortedHand[1].getValue() - 1\n            &amp;&amp; sortedHand[1].getValue() == sortedHand[2].getValue() - 1\n            &amp;&amp; sortedHand[2].getValue() == sortedHand[3].getValue() - 1\n            &amp;&amp; sortedHand[3].getValue() == sortedHand[4].getValue() - 1\n    ) return true;\n\n    // Case where there is a Low Ace\n    if (sortedHand[0].getValue() == 14) {\n        if (sortedHand[1].getValue() == 5\n                &amp;&amp; sortedHand[2].getValue() == 4\n                &amp;&amp; sortedHand[3].getValue() == 3\n                &amp;&amp; sortedHand[4].getValue() == 2\n        ) return true;\n    }\n\n    return false;\n}\n</code></pre>\n<p>But maybe what would be best would be to generalize and create a function that would return the number of cards missing for a straight (it would return 0 in case of a straight - or even the other way around returning 5), but I'm at a loss on how to do that.</p>\n<p>Likewise, I have a isFlush() method:</p>\n<pre><code>private boolean isFlush(Card[] sortedHand) {\n    int sameSuit = 0;\n    char Suit = sortedHand[0].getSuit();\n\n    for (int i = 0; i &lt; sortedHand.length; i++) {\n        if (sortedHand[i].getSuit() == Suit)\n            sameSuit++;\n    }\n    return sameSuit == 5;\n}\n</code></pre>\n<p>but it isn't generalized to return the number of cards missing for a flush.</p>\n<p>Any input is greatly appreciated!</p>\n"},{"tags":["java","spring","spring-boot","backend"],"answers":[{"tags":[],"owner":{"account_id":25539720,"reputation":446,"user_id":19326039,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655616066,"creation_date":1655616066,"answer_id":72674457,"question_id":72674394,"body_markdown":"If you do this for tracing the requests through all the involved microservices, you can use [Spring Cloud Sleuth][1].\r\n\r\nAll you need to do is add the maven/gradle dependency to all microservices and it will add tracing headers with a unique id to all outgoing calls or forward an existing one (if the microservice was called with it).\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-cloud-sleuth","title":"Java Spring - share data between several threads","body":"<p>If you do this for tracing the requests through all the involved microservices, you can use <a href=\"https://spring.io/projects/spring-cloud-sleuth\" rel=\"nofollow noreferrer\">Spring Cloud Sleuth</a>.</p>\n<p>All you need to do is add the maven/gradle dependency to all microservices and it will add tracing headers with a unique id to all outgoing calls or forward an existing one (if the microservice was called with it).</p>\n"},{"tags":[],"owner":{"account_id":8825806,"reputation":29,"user_id":6594101,"display_name":"Kunal saxena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655638103,"creation_date":1655638103,"answer_id":72676488,"question_id":72674394,"body_markdown":"As suggested in above answer - Use Sleuth for getting trace ID and Span ID to determine various threads across multiple microservices. You can also configure exisitng logging service such as logback, log4j2, sl4j to push logs via sleuth.\r\n\r\nAdditionaly, you can configure zipkin for analysing any operation from this trace and span id. Zipkin will act as centralised manager for disctributed tracing.","title":"Java Spring - share data between several threads","body":"<p>As suggested in above answer - Use Sleuth for getting trace ID and Span ID to determine various threads across multiple microservices. You can also configure exisitng logging service such as logback, log4j2, sl4j to push logs via sleuth.</p>\n<p>Additionaly, you can configure zipkin for analysing any operation from this trace and span id. Zipkin will act as centralised manager for disctributed tracing.</p>\n"}],"owner":{"account_id":3270473,"reputation":839,"user_id":2753974,"accept_rate":84,"display_name":"Shaul Zuarets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72674457,"answer_count":2,"score":0,"last_activity_date":1655638103,"creation_date":1655614791,"question_id":72674394,"body_markdown":"I&#39;m new to Java and Spring.\r\n\r\nI have a Spring application, in a microservices architecture, I want to add a unique request id to each request to go along to all microservices.\r\nThe way I thought of doing that, is when a request is enter a service, I look for a unique header, if it exists, I take the value of the header and store it in the context, if it doesn&#39;t exists, I generate a unique ID and store it in the context.\r\nOn any outgoing network call, I take that value from the context and attache it to the request as a header.\r\n\r\nThat works great, until...\r\nUnfortunately, in one of our services, there is a lot of multi-threads usage using the @Async annotation.\r\nBecause of this, I can&#39;t access the context and get the unique ID.\r\n\r\nOne option is to inject that ID into any Async method, however, that&#39;s ugly.\r\n\r\nI&#39;m new to Spring, but it sounds like a problem someone already solved in the past.\r\nI&#39;ve tried to look for an answer but couldn&#39;t find.\r\n\r\nAny idea?","title":"Java Spring - share data between several threads","body":"<p>I'm new to Java and Spring.</p>\n<p>I have a Spring application, in a microservices architecture, I want to add a unique request id to each request to go along to all microservices.\nThe way I thought of doing that, is when a request is enter a service, I look for a unique header, if it exists, I take the value of the header and store it in the context, if it doesn't exists, I generate a unique ID and store it in the context.\nOn any outgoing network call, I take that value from the context and attache it to the request as a header.</p>\n<p>That works great, until...\nUnfortunately, in one of our services, there is a lot of multi-threads usage using the @Async annotation.\nBecause of this, I can't access the context and get the unique ID.</p>\n<p>One option is to inject that ID into any Async method, however, that's ugly.</p>\n<p>I'm new to Spring, but it sounds like a problem someone already solved in the past.\nI've tried to look for an answer but couldn't find.</p>\n<p>Any idea?</p>\n"},{"tags":["java","git","github","netbeans"],"comments":[{"owner":{"account_id":952719,"reputation":6528,"user_id":978558,"accept_rate":60,"display_name":"fredrik"},"score":0,"creation_date":1655486430,"post_id":72662741,"comment_id":128351995,"body_markdown":"Guessing you&#39;re using your password instead of a PAT","body":"Guessing you&#39;re using your password instead of a PAT"},{"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"score":0,"creation_date":1655486655,"post_id":72662741,"comment_id":128352064,"body_markdown":"Im so sorry ı dont know PAT. What is PAT?","body":"Im so sorry ı dont know PAT. What is PAT?"},{"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"score":0,"creation_date":1655487466,"post_id":72662741,"comment_id":128352304,"body_markdown":"I maked pat and ı entered with pat but same errror","body":"I maked pat and ı entered with pat but same errror"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1655496401,"post_id":72662741,"comment_id":128354604,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1655638083,"creation_date":1655485955,"question_id":72662741,"body_markdown":"I work the java project over netbeans. I want to upload github repository this java project. I maked initialize repository  in team tab over netbeans. I maked project commit with over netbeans. Netbeans gave error message that ı pushed project. I cant upload project to my github repository. I tried github username and github password also github username and github pat to over netbeans. Although I did these, netbeans gave errors message &quot;javasnakegame.git: authentication not supported&quot;.","title":"netbeans error &quot;git authentication not supported&quot;","body":"<p>I work the java project over netbeans. I want to upload github repository this java project. I maked initialize repository  in team tab over netbeans. I maked project commit with over netbeans. Netbeans gave error message that ı pushed project. I cant upload project to my github repository. I tried github username and github password also github username and github pat to over netbeans. Although I did these, netbeans gave errors message &quot;javasnakegame.git: authentication not supported&quot;.</p>\n"},{"tags":["java","android","permissions","android-permissions"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1655551185,"post_id":72668792,"comment_id":128361782,"body_markdown":"`onRequestPermissionsResult` is deprecated; please check [here](https://stackoverflow.com/questions/66551781/android-onrequestpermissionsresult-is-deprecated-are-there-any-alternatives)","body":"<code>onRequestPermissionsResult</code> is deprecated; please check <a href=\"https://stackoverflow.com/questions/66551781/android-onrequestpermissionsresult-is-deprecated-are-there-any-alternatives\">here</a>"},{"owner":{"account_id":21997618,"reputation":27,"user_id":16269836,"display_name":"moustafa"},"score":0,"creation_date":1655552551,"post_id":72668792,"comment_id":128362046,"body_markdown":"@Zain i just implemented it and still the toast under my permission.launch() ran before completing it","body":"@Zain i just implemented it and still the toast under my permission.launch() ran before completing it"},{"owner":{"account_id":23576173,"reputation":550,"user_id":17615801,"display_name":"Rahul Pandey"},"score":0,"creation_date":1655553338,"post_id":72668792,"comment_id":128362159,"body_markdown":"@moustafa Try Dexter library its best for permission handler !!","body":"@moustafa Try Dexter library its best for permission handler !!"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655553921,"creation_date":1655553432,"answer_id":72669057,"question_id":72668792,"body_markdown":"&gt; how can i make the Toast in my onCreate() method wait until the user finish from choosing from the permission dialog box\r\n\r\nThis is normal because requesting the permission takes some time to check if the system already granted this permission to my app or not. And this is done asynchronously; so the `onCreate()` will go ahead and continue executing by showing the Toast and returning.\r\n\r\nGenerally speaking, you shouldn&#39;t seize the main thread in Android to avoid Application Not Responding (ANR); so, pausing the `onCreate()` until it checks there is a granted permission or not will cause ANR.\r\n\r\n\r\n&gt; until the user finish from choosing \r\n\r\nHow could we know that the user will immediately choose an option or waits one hour later on?\r\n\r\nSo, the right way to do this is in the `ActivityResultLauncher` callback which waits for the user reaction asynchronously:\r\n```\r\nprivate ActivityResultLauncher&lt;String&gt; permission = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\r\n    if(result){\r\n        Toast.makeText(this, &quot;Granted&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        Toast.makeText(this, &quot;Denied&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    // The permission dialog gone; show the Toast\r\n    Toast.makeText(this, &quot;In main&quot;, Toast.LENGTH_SHORT).show();\r\n});\r\n```\r\nOr probably you can fire another listener callback or update a `LiveData` object. But all this will also go in the `ActivityResultLauncher` callback. ","title":"Waiting for the user to answer a permission request","body":"<blockquote>\n<p>how can i make the Toast in my onCreate() method wait until the user finish from choosing from the permission dialog box</p>\n</blockquote>\n<p>This is normal because requesting the permission takes some time to check if the system already granted this permission to my app or not. And this is done asynchronously; so the <code>onCreate()</code> will go ahead and continue executing by showing the Toast and returning.</p>\n<p>Generally speaking, you shouldn't seize the main thread in Android to avoid Application Not Responding (ANR); so, pausing the <code>onCreate()</code> until it checks there is a granted permission or not will cause ANR.</p>\n<blockquote>\n<p>until the user finish from choosing</p>\n</blockquote>\n<p>How could we know that the user will immediately choose an option or waits one hour later on?</p>\n<p>So, the right way to do this is in the <code>ActivityResultLauncher</code> callback which waits for the user reaction asynchronously:</p>\n<pre><code>private ActivityResultLauncher&lt;String&gt; permission = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\n    if(result){\n        Toast.makeText(this, &quot;Granted&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(this, &quot;Denied&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    // The permission dialog gone; show the Toast\n    Toast.makeText(this, &quot;In main&quot;, Toast.LENGTH_SHORT).show();\n});\n</code></pre>\n<p>Or probably you can fire another listener callback or update a <code>LiveData</code> object. But all this will also go in the <code>ActivityResultLauncher</code> callback.</p>\n"}],"owner":{"account_id":21997618,"reputation":27,"user_id":16269836,"display_name":"moustafa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72669057,"answer_count":1,"score":0,"last_activity_date":1655638059,"creation_date":1655550827,"question_id":72668792,"body_markdown":"I&#39;m working on an android project that requires location permission. I followed the documentation and everything works fine for the permission itself. But my app heavily depends on that permission so nothing will work if not granted. anyway, my problem is that I have a function that requests the permission as follows (knowing that the function `hasPermission()` just checks if permission was granted before or not):\r\n\r\n    public void requestPermission() {\r\n        if(!hasPermission()){\r\n            ActivityCompat.requestPermissions(MainActivity.this, new String[] {ACCESS_FINE_LOCATION}, REQUEST_CODE);\r\n            Toast.makeText(this, &quot;Here&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\nI handled my `onRequestPermissionsResult` as follows :\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\r\n                                           @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                Toast.makeText(this, &quot;Location Permission Granted&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;Location Permission Denied&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\nand my `onCreate()` is :\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        requestPermission();\r\n        Toast.makeText(this, &quot;In main&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nHow can I make the Toast in my `onCreate()` method wait until the user finishes from choosing from the permission dialog box, because if I directly try to use my `hasPermission()` function it will check even before the user chooses?\r\n\r\n------------------------Edit----------------------------------\r\n\r\n\r\n the `onRequestPermissionsResult` is deprecated so i used this :\r\n\r\n    private ActivityResultLauncher&lt;String&gt; permission = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\r\n        if(result){\r\n            Toast.makeText(this, &quot;Granted&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Denied&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nand my `onCreate()` :\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        permission.launch(Manifest.permission.ACCESS_FINE_LOCATION);\r\n        Toast.makeText(this, &quot;In main&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nand still the toast after `permission. launch()` ran before completing the permission dialog box.","title":"Waiting for the user to answer a permission request","body":"<p>I'm working on an android project that requires location permission. I followed the documentation and everything works fine for the permission itself. But my app heavily depends on that permission so nothing will work if not granted. anyway, my problem is that I have a function that requests the permission as follows (knowing that the function <code>hasPermission()</code> just checks if permission was granted before or not):</p>\n<pre><code>public void requestPermission() {\n    if(!hasPermission()){\n        ActivityCompat.requestPermissions(MainActivity.this, new String[] {ACCESS_FINE_LOCATION}, REQUEST_CODE);\n        Toast.makeText(this, &quot;Here&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>I handled my <code>onRequestPermissionsResult</code> as follows :</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions,\n                                       @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    if (requestCode == REQUEST_CODE) {\n        if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            Toast.makeText(this, &quot;Location Permission Granted&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;Location Permission Denied&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>and my <code>onCreate()</code> is :</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    requestPermission();\n    Toast.makeText(this, &quot;In main&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>How can I make the Toast in my <code>onCreate()</code> method wait until the user finishes from choosing from the permission dialog box, because if I directly try to use my <code>hasPermission()</code> function it will check even before the user chooses?</p>\n<p>------------------------Edit----------------------------------</p>\n<p>the <code>onRequestPermissionsResult</code> is deprecated so i used this :</p>\n<pre><code>private ActivityResultLauncher&lt;String&gt; permission = registerForActivityResult(new ActivityResultContracts.RequestPermission(), result -&gt; {\n    if(result){\n        Toast.makeText(this, &quot;Granted&quot;, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(this, &quot;Denied&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>and my <code>onCreate()</code> :</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    permission.launch(Manifest.permission.ACCESS_FINE_LOCATION);\n    Toast.makeText(this, &quot;In main&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>and still the toast after <code>permission. launch()</code> ran before completing the permission dialog box.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8741,"page":1251,"page_size":100}
