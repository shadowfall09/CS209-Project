{"items":[{"tags":["java","data-structures","tree","nodes","trie"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1638387175,"post_id":70189878,"comment_id":124077471,"body_markdown":"This sounds like a bad idea.  First, it is possible only if the node class (and thus every node) contains a reference to the trie root.  Otherwise there&#39;s no way for a node to know the root.  Also, consider what happens on return from `node.remove()` -- The node reference now points to a detached node that exists apart from any trie, an invalid state.","body":"This sounds like a bad idea.  First, it is possible only if the node class (and thus every node) contains a reference to the trie root.  Otherwise there&#39;s no way for a node to know the root.  Also, consider what happens on return from <code>node.remove()</code> -- The node reference now points to a detached node that exists apart from any trie, an invalid state."},{"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"score":0,"creation_date":1638391919,"post_id":70189878,"comment_id":124079140,"body_markdown":"@JimGarrison No, it uses the root as a start for the recursion so the return of the father remove() process would always be root because there is no possible case of a word with lenght = 0 to compare with the father depth = 0 and return null for the root","body":"@JimGarrison No, it uses the root as a start for the recursion so the return of the father remove() process would always be root because there is no possible case of a word with lenght = 0 to compare with the father depth = 0 and return null for the root"}],"answers":[{"tags":[],"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1638386154,"creation_date":1638386154,"answer_id":70190007,"question_id":70189878,"body_markdown":"    public TrieNode remove(String key, int depth)\r\n            {\r\n    \r\n                // If last character of key is being processed\r\n                if (depth == key.length()) {\r\n         \r\n                    // This node is no more end of word after\r\n                    // removal of given key\r\n                    if (this.isEndOfWord)\r\n                        this.isEndOfWord = false;\r\n         \r\n                    // If given is not prefix of any other word\r\n                    if (isEmpty(this)) {\r\n                        return null;\r\n                    }\r\n         \r\n                    return this;\r\n                }\r\n         \r\n                // If not last character, recur for the child\r\n                // obtained using ASCII value\r\n                int index = key.charAt(depth) - &#39;a&#39;;\r\n                this.children[index] =\r\n                    this.children[index].remove(key, depth + 1);\r\n         \r\n                // If root does not have any child (its only child got\r\n                // deleted), and it is not end of another word.\r\n                if (isEmpty(this) &amp;&amp; this.isEndOfWord == false){\r\n                    return null;\r\n                }\r\n         \r\n                return this;\r\n            }","title":"Transform trie class method to trie node method","body":"<pre><code>public TrieNode remove(String key, int depth)\n        {\n\n            // If last character of key is being processed\n            if (depth == key.length()) {\n     \n                // This node is no more end of word after\n                // removal of given key\n                if (this.isEndOfWord)\n                    this.isEndOfWord = false;\n     \n                // If given is not prefix of any other word\n                if (isEmpty(this)) {\n                    return null;\n                }\n     \n                return this;\n            }\n     \n            // If not last character, recur for the child\n            // obtained using ASCII value\n            int index = key.charAt(depth) - 'a';\n            this.children[index] =\n                this.children[index].remove(key, depth + 1);\n     \n            // If root does not have any child (its only child got\n            // deleted), and it is not end of another word.\n            if (isEmpty(this) &amp;&amp; this.isEndOfWord == false){\n                return null;\n            }\n     \n            return this;\n        }\n</code></pre>\n"}],"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70190007,"answer_count":1,"score":0,"last_activity_date":1638386154,"creation_date":1638385502,"question_id":70189878,"body_markdown":"my question is how to transform this method from the trie class into a method of the node class that doesn&#39;t use the node as a parameter, I know that I have to make a first method on the tree like this:\r\n\r\n    public void remove(String key)\r\n    {\r\n        root = root.remove(key, 0); \r\n    }\r\n\r\nBut I don&#39;t know how to make the transformation of the method into the node class.\r\n\r\nThis is the method of the tree that I want to transform into a node method without using root as parameter of the method:\r\n  \r\n\r\n    static TrieNode remove(TrieNode root, String key, int depth)\r\n            {\r\n                // If tree is empty\r\n                if (root == null)\r\n                    return null;\r\n         \r\n                // If last character of key is being processed\r\n                if (depth == key.length()) {\r\n         \r\n                    // This node is no more end of word after\r\n                    // removal of given key\r\n                    if (root.isEndOfWord)\r\n                        root.isEndOfWord = false;\r\n         \r\n                    // If given is not prefix of any other word\r\n                    if (isEmpty(root)) {\r\n                        root = null;\r\n                    }\r\n         \r\n                    return root;\r\n                }\r\n         \r\n                // If not last character, recur for the child\r\n                // obtained using ASCII value\r\n                int index = key.charAt(depth) - &#39;a&#39;;\r\n                root.children[index] =\r\n                    remove(root.children[index], key, depth + 1);\r\n         \r\n                // If root does not have any child (its only child got\r\n                // deleted), and it is not end of another word.\r\n                if (isEmpty(root) &amp;&amp; root.isEndOfWord == false){\r\n                    root = null;\r\n                }\r\n         \r\n                return root;\r\n            }\r\n\r\n","title":"Transform trie class method to trie node method","body":"<p>my question is how to transform this method from the trie class into a method of the node class that doesn't use the node as a parameter, I know that I have to make a first method on the tree like this:</p>\n<pre><code>public void remove(String key)\n{\n    root = root.remove(key, 0); \n}\n</code></pre>\n<p>But I don't know how to make the transformation of the method into the node class.</p>\n<p>This is the method of the tree that I want to transform into a node method without using root as parameter of the method:</p>\n<pre><code>static TrieNode remove(TrieNode root, String key, int depth)\n        {\n            // If tree is empty\n            if (root == null)\n                return null;\n     \n            // If last character of key is being processed\n            if (depth == key.length()) {\n     \n                // This node is no more end of word after\n                // removal of given key\n                if (root.isEndOfWord)\n                    root.isEndOfWord = false;\n     \n                // If given is not prefix of any other word\n                if (isEmpty(root)) {\n                    root = null;\n                }\n     \n                return root;\n            }\n     \n            // If not last character, recur for the child\n            // obtained using ASCII value\n            int index = key.charAt(depth) - 'a';\n            root.children[index] =\n                remove(root.children[index], key, depth + 1);\n     \n            // If root does not have any child (its only child got\n            // deleted), and it is not end of another word.\n            if (isEmpty(root) &amp;&amp; root.isEndOfWord == false){\n                root = null;\n            }\n     \n            return root;\n        }\n</code></pre>\n"},{"tags":["java","junit","sonarqube","mockito","assertions"],"answers":[{"tags":[],"owner":{"account_id":11298534,"reputation":173,"user_id":8285291,"display_name":"sn879"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508959656,"creation_date":1508959656,"answer_id":46940614,"question_id":46939665,"body_markdown":"Try updating the plugin version.Worked for me","title":"SonarQube issue&quot; Add at least one assertion to this test case&quot; for junit and Mockito","body":"<p>Try updating the plugin version.Worked for me</p>\n"},{"tags":[],"owner":{"account_id":19979710,"reputation":39,"user_id":14643162,"display_name":"Felipe Jansen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638386067,"creation_date":1638386067,"answer_id":70189985,"question_id":46939665,"body_markdown":"I was facing the same problem, I was able solve it with the following code...\r\n\r\n    @Test(expected = Test.None.class /* no exception expected */)\r\n\r\nrather than\r\n\r\n    @Test()\r\n","title":"SonarQube issue&quot; Add at least one assertion to this test case&quot; for junit and Mockito","body":"<p>I was facing the same problem, I was able solve it with the following code...</p>\n<pre><code>@Test(expected = Test.None.class /* no exception expected */)\n</code></pre>\n<p>rather than</p>\n<pre><code>@Test()\n</code></pre>\n"}],"owner":{"account_id":11298534,"reputation":173,"user_id":8285291,"display_name":"sn879"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5938,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638386067,"creation_date":1508956144,"question_id":46939665,"body_markdown":"I&#39;m having issues with SonarQube raising issues with several of my unit tests, prompting the following issue:\r\n\r\n    @InjectMocks\r\n\tprivate MessageEscaper escaper;\r\n    @Mock\r\n\tprivate SLogger mockLogger;\r\n\r\n\t@Mock\r\n\tprivate Messagetext mocktext;\r\n\r\n     @Before\r\n\tpublic void setup() throws Exception {\r\n\t\tescaper = new MessageEscaper ();\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t\r\n\t}\r\n\r\n\r\n     @Test\r\n\tpublic void Message() {\r\n\t\t\r\n\t\tassertTrue(escaper.handleText(mockText));\r\n\t\tverify(mockLogger).logMessage(mockText);\r\n\t\tassertEquals(true, escaper.handleText(mockText));\r\n\r\n\t}\r\nThe escaper.handleText(mockText) returns a Boolean. Even if i have assert statements i still get an issue &quot; Add at least one assertion to this test case&quot;. Though both the assert statements are similar i felt sonar might pick at least one of them.\r\n\r\nthis is the method that gets the actual call.\r\n\r\n  \r\n\r\n    public boolean handleText(MessageText text)\r\n    {                                \r\n      try {\r\n         Message message = context.getMessage();\r\n         String serviceName = Util.getServiceName(message);\r\n         text.put(MESSAGE_OPERATION, serviceName);\r\n      } catch (CustomException | RuntimeException e) {\r\n         if (LOG.isLoggable(Level.ERROR)) {\r\n            LOG.warning(&quot;Unable to store : &quot; + UtilLog.print(e));\r\n         }\r\n      }\r\n      return true;\r\n     }\r\n\r\n\r\nAny help would be appreciated.","title":"SonarQube issue&quot; Add at least one assertion to this test case&quot; for junit and Mockito","body":"<p>I'm having issues with SonarQube raising issues with several of my unit tests, prompting the following issue:</p>\n\n<pre><code>@InjectMocks\nprivate MessageEscaper escaper;\n@Mock\nprivate SLogger mockLogger;\n\n@Mock\nprivate Messagetext mocktext;\n\n @Before\npublic void setup() throws Exception {\n    escaper = new MessageEscaper ();\n    MockitoAnnotations.initMocks(this);\n\n}\n\n\n @Test\npublic void Message() {\n\n    assertTrue(escaper.handleText(mockText));\n    verify(mockLogger).logMessage(mockText);\n    assertEquals(true, escaper.handleText(mockText));\n\n}\n</code></pre>\n\n<p>The escaper.handleText(mockText) returns a Boolean. Even if i have assert statements i still get an issue \" Add at least one assertion to this test case\". Though both the assert statements are similar i felt sonar might pick at least one of them.</p>\n\n<p>this is the method that gets the actual call.</p>\n\n<pre><code>public boolean handleText(MessageText text)\n{                                \n  try {\n     Message message = context.getMessage();\n     String serviceName = Util.getServiceName(message);\n     text.put(MESSAGE_OPERATION, serviceName);\n  } catch (CustomException | RuntimeException e) {\n     if (LOG.isLoggable(Level.ERROR)) {\n        LOG.warning(\"Unable to store : \" + UtilLog.print(e));\n     }\n  }\n  return true;\n }\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","macos","java-web-start","jnlp"],"answers":[{"tags":[],"owner":{"account_id":16359884,"reputation":128,"user_id":11815845,"display_name":"S D"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1571422199,"creation_date":1571422199,"answer_id":58456139,"question_id":58436873,"body_markdown":"I&#39;ve run into a similar problem running a legacy .jnlp app. I was able to get around it by simply invoking the application from CLI (iTerm/Terminal/etc.) :\r\n\r\n    # javaws filename.jnlp\r\n\r\nThe root cause is that macOS 10.15 (Catalina) now requires non-Apple applications to be specifically granted &quot;Full Disk Access&quot; permission. Check out [this](https://emacs.stackexchange.com/questions/53026/how-to-restore-file-system-access-in-macos-catalina) and [this](https://apple.stackexchange.com/questions/371888/restore-access-to-file-system-for-emacs-on-macos-catalina?newreg=097474bbcdaf465a9921530203ef58c3) for details. Using the explanation there, I added /usr/bin/javaws (and other java binaries such as java and appletviewer) to &quot;Full Disk Access&quot;, but that didn&#39;t resolve the issue.\r\n\r\nBased on an [older thread](https://forums.developer.apple.com/thread/107546), it seems that if the path to the application is not under /Applications/ (in this case, java and javaws are under /System/ and not under /Applications/), then Full Disk Access is not honored. So it&#39;s very likely that a fix needs to be provided by Apple to allow running these applications from the UI.","title":"How to allow JAVA Web Start application to access file system on macOS Catalina if it is started by double clicking on JNLP file?","body":"<p>I've run into a similar problem running a legacy .jnlp app. I was able to get around it by simply invoking the application from CLI (iTerm/Terminal/etc.) :</p>\n\n<pre><code># javaws filename.jnlp\n</code></pre>\n\n<p>The root cause is that macOS 10.15 (Catalina) now requires non-Apple applications to be specifically granted \"Full Disk Access\" permission. Check out <a href=\"https://emacs.stackexchange.com/questions/53026/how-to-restore-file-system-access-in-macos-catalina\">this</a> and <a href=\"https://apple.stackexchange.com/questions/371888/restore-access-to-file-system-for-emacs-on-macos-catalina?newreg=097474bbcdaf465a9921530203ef58c3\">this</a> for details. Using the explanation there, I added /usr/bin/javaws (and other java binaries such as java and appletviewer) to \"Full Disk Access\", but that didn't resolve the issue.</p>\n\n<p>Based on an <a href=\"https://forums.developer.apple.com/thread/107546\" rel=\"noreferrer\">older thread</a>, it seems that if the path to the application is not under /Applications/ (in this case, java and javaws are under /System/ and not under /Applications/), then Full Disk Access is not honored. So it's very likely that a fix needs to be provided by Apple to allow running these applications from the UI.</p>\n"},{"tags":[],"owner":{"account_id":553604,"reputation":61,"user_id":5116375,"display_name":"Terry Tsai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1580749271,"creation_date":1580749271,"answer_id":60043862,"question_id":58436873,"body_markdown":"We were able to resolve this by granting Full Disk Access to ```/System/Library/CoreServices/Java Web Start.app```","title":"How to allow JAVA Web Start application to access file system on macOS Catalina if it is started by double clicking on JNLP file?","body":"<p>We were able to resolve this by granting Full Disk Access to <code>/System/Library/CoreServices/Java Web Start.app</code></p>\n"},{"tags":[],"owner":{"account_id":7023259,"reputation":1243,"user_id":5381704,"display_name":"Bishwas Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614780581,"creation_date":1614780581,"answer_id":66458723,"question_id":58436873,"body_markdown":"For me the problem was solved by installing a different version of Java.","title":"How to allow JAVA Web Start application to access file system on macOS Catalina if it is started by double clicking on JNLP file?","body":"<p>For me the problem was solved by installing a different version of Java.</p>\n"},{"tags":[],"owner":{"account_id":10873064,"reputation":398,"user_id":7994314,"display_name":"Deathgrip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638385974,"creation_date":1638385974,"answer_id":70189967,"question_id":58436873,"body_markdown":"I had the same issue on OSX Catalina 10.15.7. I was able to launch the jnlp file by first setting JAVA_HOME.\r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\njavaws /path/to/file.jnlp\r\n```","title":"How to allow JAVA Web Start application to access file system on macOS Catalina if it is started by double clicking on JNLP file?","body":"<p>I had the same issue on OSX Catalina 10.15.7. I was able to launch the jnlp file by first setting JAVA_HOME.</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\njavaws /path/to/file.jnlp\n</code></pre>\n"}],"owner":{"account_id":16864200,"reputation":43,"user_id":12194293,"display_name":"Pedja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17439,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":58456139,"answer_count":4,"score":4,"last_activity_date":1638385974,"creation_date":1571328912,"question_id":58436873,"body_markdown":"With macOS Catalina we are experiencing the following problem: opening Java Web Start applications behaves differently when application starts by double clicking on JNLP file and when it is started by double clicking on a shortcut installed on a desktop.\r\n\r\nIn the first case (double click on a downloaded JNLP file) application opens without permissions to access file system - trying to get the directory listing in user&#39;s Desktop directory in JAVA code always returns null. There are no prompts presented to the user asking for any permissions to access the file system. This is not an expected behaviour.\r\n\r\nIn the second case (starting it from desktop shortcut) user is first prompted that application is trying to access the file system and asked for a permission. When user allows application to access files - application reads user&#39;s Desktop directory properly. This is the expected behaviour. \r\n\r\nIs there a workaround for this? How can we make web start application access file system on Catalina if it is started by double clicking on JNLP file (which is how the application must be started at least for the first time)?","title":"How to allow JAVA Web Start application to access file system on macOS Catalina if it is started by double clicking on JNLP file?","body":"<p>With macOS Catalina we are experiencing the following problem: opening Java Web Start applications behaves differently when application starts by double clicking on JNLP file and when it is started by double clicking on a shortcut installed on a desktop.</p>\n\n<p>In the first case (double click on a downloaded JNLP file) application opens without permissions to access file system - trying to get the directory listing in user's Desktop directory in JAVA code always returns null. There are no prompts presented to the user asking for any permissions to access the file system. This is not an expected behaviour.</p>\n\n<p>In the second case (starting it from desktop shortcut) user is first prompted that application is trying to access the file system and asked for a permission. When user allows application to access files - application reads user's Desktop directory properly. This is the expected behaviour. </p>\n\n<p>Is there a workaround for this? How can we make web start application access file system on Catalina if it is started by double clicking on JNLP file (which is how the application must be started at least for the first time)?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7363801,"reputation":1298,"user_id":5606222,"display_name":"Matt"},"score":2,"creation_date":1638381160,"post_id":70188935,"comment_id":124075069,"body_markdown":"Does this answer your question? [How to use java.util.Scanner to correctly read user input from System.in and act on it?](https://stackoverflow.com/questions/26446599/how-to-use-java-util-scanner-to-correctly-read-user-input-from-system-in-and-act)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26446599/how-to-use-java-util-scanner-to-correctly-read-user-input-from-system-in-and-act\">How to use java.util.Scanner to correctly read user input from System.in and act on it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":17032932,"reputation":1632,"user_id":13179199,"display_name":"Erik McKelvey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638381215,"creation_date":1638381215,"answer_id":70189031,"question_id":70188935,"body_markdown":"Keep checking the input in an infinite loop until the user inputs valid input.\r\n\r\n```\r\npackage arrays;\r\nimport java.util.Scanner;\r\nimport java.util.stream.IntStream; \r\npublic class ArrayAssignment {\r\n\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        \r\n        Scanner s = new Scanner(System.in);\r\n \r\n        while (true) {\r\n            System.out.println(&quot;Enter array size: &quot;);\r\n            int size = s.nextInt();\r\n            if (size &lt; 100 &amp;&amp; size &gt; 0) {\r\n                break;\r\n            } else {\r\n                System.out.println(&quot;Please enter values only &gt;0 and &lt;100&quot;);\r\n            }\r\n        }\r\n     \r\n        int[] Array = IntStream.rangeClosed(1, 99).toArray(); \r\n      \r\n        System.out.println(&quot;Enter array values:  &quot;);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            int value = s.nextInt();\r\n            Array[i] = value;\r\n        }\r\n\r\n        int length = Array.length;\r\n        int sum = 0;\r\n      \r\n        for (int i = 0; i &lt; Array.length; i++) {\r\n            sum += Array[i];\r\n        }\r\n \r\n        double average = sum / length;\r\n        System.out.println(&quot;Average of array: &quot; + average);\r\n    }\r\n}\r\n```","title":"How to validate data entered into an array if given a range?","body":"<p>Keep checking the input in an infinite loop until the user inputs valid input.</p>\n<pre><code>package arrays;\nimport java.util.Scanner;\nimport java.util.stream.IntStream; \npublic class ArrayAssignment {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        Scanner s = new Scanner(System.in);\n \n        while (true) {\n            System.out.println(&quot;Enter array size: &quot;);\n            int size = s.nextInt();\n            if (size &lt; 100 &amp;&amp; size &gt; 0) {\n                break;\n            } else {\n                System.out.println(&quot;Please enter values only &gt;0 and &lt;100&quot;);\n            }\n        }\n     \n        int[] Array = IntStream.rangeClosed(1, 99).toArray(); \n      \n        System.out.println(&quot;Enter array values:  &quot;);\n        for (int i = 0; i &lt; size; i++) {\n            int value = s.nextInt();\n            Array[i] = value;\n        }\n\n        int length = Array.length;\n        int sum = 0;\n      \n        for (int i = 0; i &lt; Array.length; i++) {\n            sum += Array[i];\n        }\n \n        double average = sum / length;\n        System.out.println(&quot;Average of array: &quot; + average);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638385751,"creation_date":1638385751,"answer_id":70189921,"question_id":70188935,"body_markdown":"You can allow only specific inputs by modifying your `for` loop to not include the `i++` in the definition, but rather only increase the counter if a valid value is given.  \r\n\r\nThis loop will now look like this:\r\n\r\n    for (int i = 0; i &lt; size;) {\r\n        System.out.println(&quot;Enter array values:  &quot;);\r\n\t\tint value = s.nextInt();\r\n\t\tif (value &gt; 100 || value &lt;= 0) {\r\n            System.out.println(&quot;Please enter values greater than 0 and less than or equal to 100.&quot;);\r\n\t\t} \r\n\t\telse {\r\n\t\t\tArray[i] = value;\r\n\t\t\ti++;\r\n\t\t}\r\n    }\r\n\r\nNote that you can also just change this to `do-while` loop or a `while` loop and get the same results (those are probably better built for this kind of situation).  Additionally, this will still break when a `char` or `String` is inputted, as I did not add handling for those situations.\r\n\r\n**Extra Notes:**\r\n\r\nAdditionally I noticed you are using `double average = sum / length;` which would perform integer division so you would never have a decimal result.  You can fix this by casting `sum` to `double` before dividing using the following:\r\n\r\n`double average = (double) sum / length;`\r\n\r\nA final thing to look at is your `int[] array = IntStream.rangeClosed(1, 99).toArray();` line.  I am not sure if you meant to do `int[] array = IntStream.rangeClosed(1, size).toArray();` instead and create an array based on the size that the user inputted but you may also need to change this.","title":"How to validate data entered into an array if given a range?","body":"<p>You can allow only specific inputs by modifying your <code>for</code> loop to not include the <code>i++</code> in the definition, but rather only increase the counter if a valid value is given.</p>\n<p>This loop will now look like this:</p>\n<pre><code>for (int i = 0; i &lt; size;) {\n    System.out.println(&quot;Enter array values:  &quot;);\n    int value = s.nextInt();\n    if (value &gt; 100 || value &lt;= 0) {\n        System.out.println(&quot;Please enter values greater than 0 and less than or equal to 100.&quot;);\n    } \n    else {\n        Array[i] = value;\n        i++;\n    }\n}\n</code></pre>\n<p>Note that you can also just change this to <code>do-while</code> loop or a <code>while</code> loop and get the same results (those are probably better built for this kind of situation).  Additionally, this will still break when a <code>char</code> or <code>String</code> is inputted, as I did not add handling for those situations.</p>\n<p><strong>Extra Notes:</strong></p>\n<p>Additionally I noticed you are using <code>double average = sum / length;</code> which would perform integer division so you would never have a decimal result.  You can fix this by casting <code>sum</code> to <code>double</code> before dividing using the following:</p>\n<p><code>double average = (double) sum / length;</code></p>\n<p>A final thing to look at is your <code>int[] array = IntStream.rangeClosed(1, 99).toArray();</code> line.  I am not sure if you meant to do <code>int[] array = IntStream.rangeClosed(1, size).toArray();</code> instead and create an array based on the size that the user inputted but you may also need to change this.</p>\n"}],"owner":{"account_id":23516699,"reputation":85,"user_id":17564501,"display_name":"Newbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1638434396,"answer_count":2,"score":-1,"last_activity_date":1638385751,"creation_date":1638380872,"question_id":70188935,"body_markdown":"I&#39;m fairly new to Java but I&#39;m working on an assignment and I&#39;m a bit lost. An array is declared and its elements can only be numbers greater than 0 and less than 100. If I run the code I have, it asks me to enter the array size and then the array values, but it accepts values 100 and above. \r\n\r\nIf input is less than zero or 100 and greater, how can I return something like &quot;Please enter values only &gt;0 and &lt;100? \r\n\r\n\r\n   \r\n\r\n    package arrays;\r\n    import java.util.Scanner;\r\n    import java.util.stream.IntStream; \r\n    public class ArrayAssignment {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n            \r\n            Scanner s = new Scanner(System.in);\r\n     \r\n            System.out.println(&quot;Enter array size: &quot;);\r\n            int size = s.nextInt();\r\n         \r\n            int[] Array = IntStream.rangeClosed(1, 99).toArray(); \r\n     \r\n          \r\n            System.out.println(&quot;Enter array values:  &quot;);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                int value = s.nextInt();\r\n                Array[i] = value;\r\n     \r\n            }\r\n     \r\n           \r\n            int length = Array.length;\r\n     \r\n        \r\n            int sum = 0;\r\n     \r\n          \r\n            for (int i = 0; i &lt; Array.length; i++) {\r\n                sum += Array[i];\r\n            }\r\n     \r\n            double average = sum / length;\r\n            System.out.println(&quot;Average of array: &quot; + average);\r\n    \t}\r\n    }\r\n\r\nRunning code: \r\nEnter array size: \r\n10\r\n\r\nEnter array values:  \r\n12\r\n34\r\n12\r\n1\r\n2\r\n4\r\n1\r\n1100\r\n10\r\n14\r\n\r\nAverage of array: 61.0\r\n\r\n\r\n","title":"How to validate data entered into an array if given a range?","body":"<p>I'm fairly new to Java but I'm working on an assignment and I'm a bit lost. An array is declared and its elements can only be numbers greater than 0 and less than 100. If I run the code I have, it asks me to enter the array size and then the array values, but it accepts values 100 and above.</p>\n<p>If input is less than zero or 100 and greater, how can I return something like &quot;Please enter values only &gt;0 and &lt;100?</p>\n<pre><code>package arrays;\nimport java.util.Scanner;\nimport java.util.stream.IntStream; \npublic class ArrayAssignment {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        Scanner s = new Scanner(System.in);\n \n        System.out.println(&quot;Enter array size: &quot;);\n        int size = s.nextInt();\n     \n        int[] Array = IntStream.rangeClosed(1, 99).toArray(); \n \n      \n        System.out.println(&quot;Enter array values:  &quot;);\n        for (int i = 0; i &lt; size; i++) {\n            int value = s.nextInt();\n            Array[i] = value;\n \n        }\n \n       \n        int length = Array.length;\n \n    \n        int sum = 0;\n \n      \n        for (int i = 0; i &lt; Array.length; i++) {\n            sum += Array[i];\n        }\n \n        double average = sum / length;\n        System.out.println(&quot;Average of array: &quot; + average);\n    }\n}\n</code></pre>\n<p>Running code:\nEnter array size:\n10</p>\n<p>Enter array values:<br />\n12\n34\n12\n1\n2\n4\n1\n1100\n10\n14</p>\n<p>Average of array: 61.0</p>\n"},{"tags":["java","scala","akka","akka-http"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":0,"creation_date":1638178013,"post_id":70149260,"comment_id":124009461,"body_markdown":"try tu capture the response to see if the header is sent from server with the value of Access-Control-Allow-Origin: *","body":"try tu capture the response to see if the header is sent from server with the value of Access-Control-Allow-Origin: *"},{"owner":{"account_id":2021661,"reputation":61998,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1638181888,"post_id":70149260,"comment_id":124010778,"body_markdown":"What does the frontend code look like? Show us the code that sends the request.","body":"What does the frontend code look like? Show us the code that sends the request."}],"answers":[{"tags":[],"owner":{"account_id":1107265,"reputation":90,"user_id":1098438,"accept_rate":55,"display_name":"hakimkal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638263114,"creation_date":1638263114,"answer_id":70166749,"question_id":70149260,"body_markdown":"Check this gist URL ~ https://gist.github.com/hakimkal/bd5ca349ef10e8981e121eb865023067\r\n\r\n\r\nThis is my Main.scala file use of the above trait\r\n\r\n ```\r\n     val cors  = new CORSHandler {}\r\n\r\n     val route = new MerchantRoutes(merchantService, authService)\r\n\r\n     val serverBinding = Http()\r\n                         .newServerAt(host, port)\r\n                        .bind(\r\n                        cors.corsHandler(route.merchantRoutes)\r\n                        )\r\n\r\n  \r\n```\r\n\r\n  ","title":"CORS issue / akka-http-cors / No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Scala/Java","body":"<p>Check this gist URL ~ <a href=\"https://gist.github.com/hakimkal/bd5ca349ef10e8981e121eb865023067\" rel=\"nofollow noreferrer\">https://gist.github.com/hakimkal/bd5ca349ef10e8981e121eb865023067</a></p>\n<p>This is my Main.scala file use of the above trait</p>\n<pre><code>    val cors  = new CORSHandler {}\n\n    val route = new MerchantRoutes(merchantService, authService)\n\n    val serverBinding = Http()\n                        .newServerAt(host, port)\n                       .bind(\n                       cors.corsHandler(route.merchantRoutes)\n                       )\n\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":11526462,"reputation":375,"user_id":8446781,"display_name":"MJey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638367649,"creation_date":1638367649,"answer_id":70185671,"question_id":70149260,"body_markdown":"The problem in my case was that I haven&#39;t done Marshalling in the right way, thereby it crashed in following line: \r\n\r\n    entity(as[Server.ReqGetSearchResult]) { request: ReqGetSearchResult =&gt;\r\nSurprisingly to me, that the error is than labeled as CORS error.\r\n\r\nI solved it by checking the Akka HTTP JSON Support manual: https://doc.akka.io/docs/akka-http/current/common/json-support.html\r\n\r\nIt now works for me in my case by having this upfront:\r\n\r\n    trait JsonSupport extends SprayJsonSupport with DefaultJsonProtocol {\r\n       implicit val clientRequestFormat = jsonFormat5(Server.ReqGetSearchResult)\r\n    }\r\n    \r\n    class RequestRoutes(controller: ActorRef[Controller.Command])(implicit system: ActorSystem[_]) extends Directives with JsonSupport {\r\n       import akka.actor.typed.scaladsl.AskPattern.schedulerFromActorSystem\r\n       import akka.actor.typed.scaladsl.AskPattern.Askable\r\n       implicit val timeout: Timeout = 60.seconds\r\n\r\n       ... (code from above)\r\n    }\r\n\r\n","title":"CORS issue / akka-http-cors / No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Scala/Java","body":"<p>The problem in my case was that I haven't done Marshalling in the right way, thereby it crashed in following line:</p>\n<pre><code>entity(as[Server.ReqGetSearchResult]) { request: ReqGetSearchResult =&gt;\n</code></pre>\n<p>Surprisingly to me, that the error is than labeled as CORS error.</p>\n<p>I solved it by checking the Akka HTTP JSON Support manual: <a href=\"https://doc.akka.io/docs/akka-http/current/common/json-support.html\" rel=\"nofollow noreferrer\">https://doc.akka.io/docs/akka-http/current/common/json-support.html</a></p>\n<p>It now works for me in my case by having this upfront:</p>\n<pre><code>trait JsonSupport extends SprayJsonSupport with DefaultJsonProtocol {\n   implicit val clientRequestFormat = jsonFormat5(Server.ReqGetSearchResult)\n}\n\nclass RequestRoutes(controller: ActorRef[Controller.Command])(implicit system: ActorSystem[_]) extends Directives with JsonSupport {\n   import akka.actor.typed.scaladsl.AskPattern.schedulerFromActorSystem\n   import akka.actor.typed.scaladsl.AskPattern.Askable\n   implicit val timeout: Timeout = 60.seconds\n\n   ... (code from above)\n}\n</code></pre>\n"}],"owner":{"account_id":11526462,"reputation":375,"user_id":8446781,"display_name":"MJey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70185671,"answer_count":2,"score":-1,"last_activity_date":1638385699,"creation_date":1638154268,"question_id":70149260,"body_markdown":"How do I implement *akka-http-cors* correctly to be able to allow access from any origin (domain, in my case localhost:3000) to a Https Server (Scala/Akka)? \r\n\r\nBased on the *akka-http-cors* documentation should defaultSettings do the job, but I am still doing something wrong:\r\n      \r\n      ...\r\n\r\n      import ch.megard.akka.http.cors.scaladsl.CorsDirectives._\r\n    \r\n      var settings = CorsSettings.defaultSettings \r\n        \r\n      lazy val theRequestRoutes: Route =\r\n        cors(settings) {\r\n          pathPrefix(&quot;getsearchresult&quot;) {\r\n            post { \r\n              entity(as[Server.ReqGetSearchResult]) { request: ReqGetSearchResult =&gt;\r\n                val operationPerformed: Future[Server.ServerResponse] = controller.ask(ControllerActor.Request_GetSearchResult(_, request))\r\n                onSuccess(operationPerformed) {\r\n                  case Server.Send_Response_Success(jsonResponse) =&gt; complete(jsonResponse)\r\n                  case Server.Send_Response_Failure(status) =&gt; complete(&quot;&quot;&quot;{&quot;status&quot;:&quot;server_error&quot;}&quot;&quot;&quot;)\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ...\r\n\r\n    val https: HttpsConnectionContext = getHttpsConnectionContext()\r\n    val serverBinding: Future[Http.ServerBinding] = Http().newServerAt(host, port).enableHttps(https).bind(theRequestRoutes)\r\n\r\n\r\n----------\r\n\r\n    libraryDependencies += &quot;ch.megard&quot; %% &quot;akka-http-cors&quot; % &quot;1.1.2&quot;\r\n\r\n----------\r\nGoogle Chrome Error: \r\n\r\n    Access to XMLHttpRequest at &#39;https://api.domain.com:8080/getsearchresult&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\nFirefox Error:\r\n\r\n    Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://api.domain.com:8080/getsearchresult. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing).\r\n--------\r\n*akka-http-core*: https://github.com/lomigmegard/akka-http-cors#configuration\r\n\r\nAny help is highly appreciated!","title":"CORS issue / akka-http-cors / No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource in Scala/Java","body":"<p>How do I implement <em>akka-http-cors</em> correctly to be able to allow access from any origin (domain, in my case localhost:3000) to a Https Server (Scala/Akka)?</p>\n<p>Based on the <em>akka-http-cors</em> documentation should defaultSettings do the job, but I am still doing something wrong:</p>\n<pre><code>  ...\n\n  import ch.megard.akka.http.cors.scaladsl.CorsDirectives._\n\n  var settings = CorsSettings.defaultSettings \n    \n  lazy val theRequestRoutes: Route =\n    cors(settings) {\n      pathPrefix(&quot;getsearchresult&quot;) {\n        post { \n          entity(as[Server.ReqGetSearchResult]) { request: ReqGetSearchResult =&gt;\n            val operationPerformed: Future[Server.ServerResponse] = controller.ask(ControllerActor.Request_GetSearchResult(_, request))\n            onSuccess(operationPerformed) {\n              case Server.Send_Response_Success(jsonResponse) =&gt; complete(jsonResponse)\n              case Server.Send_Response_Failure(status) =&gt; complete(&quot;&quot;&quot;{&quot;status&quot;:&quot;server_error&quot;}&quot;&quot;&quot;)\n            }\n          }\n        }\n      }\n    }\n  ...\n\nval https: HttpsConnectionContext = getHttpsConnectionContext()\nval serverBinding: Future[Http.ServerBinding] = Http().newServerAt(host, port).enableHttps(https).bind(theRequestRoutes)\n</code></pre>\n<hr />\n<pre><code>libraryDependencies += &quot;ch.megard&quot; %% &quot;akka-http-cors&quot; % &quot;1.1.2&quot;\n</code></pre>\n<hr />\n<p>Google Chrome Error:</p>\n<pre><code>Access to XMLHttpRequest at 'https://api.domain.com:8080/getsearchresult' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n<p>Firefox Error:</p>\n<pre><code>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://api.domain.com:8080/getsearchresult. (Reason: CORS header ‘Access-Control-Allow-Origin’ missing).\n</code></pre>\n<hr />\n<p><em>akka-http-core</em>: <a href=\"https://github.com/lomigmegard/akka-http-cors#configuration\" rel=\"nofollow noreferrer\">https://github.com/lomigmegard/akka-http-cors#configuration</a></p>\n<p>Any help is highly appreciated!</p>\n"},{"tags":["java","spring-boot","soap","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1582816177,"creation_date":1582816177,"answer_id":60436275,"question_id":60260277,"body_markdown":"I was able to find the solution looking at https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/soap/security/wss4j/Wss4jSecurityInterceptor.html and https://memorynotfound.com/spring-ws-username-password-authentication-wss4j/.\r\n\r\nI simply used below bean and its started working fine.\r\n\r\n    @Bean\r\n    public Wss4jSecurityInterceptor securityInterceptor() {\r\n      Wss4jSecurityInterceptor security = new Wss4jSecurityInterceptor();\r\n      security.setSecurementActions(&quot;NoSecurity&quot;);\r\n      security.setSecurementPasswordType(WSConstants.PW_TEXT);\r\n      return security;\r\n    }","title":"Could not handle mustUnderstand headers: {http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security. Returning fault","body":"<p>I was able to find the solution looking at <a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/soap/security/wss4j/Wss4jSecurityInterceptor.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/soap/security/wss4j/Wss4jSecurityInterceptor.html</a> and <a href=\"https://memorynotfound.com/spring-ws-username-password-authentication-wss4j/\" rel=\"nofollow noreferrer\">https://memorynotfound.com/spring-ws-username-password-authentication-wss4j/</a>.</p>\n\n<p>I simply used below bean and its started working fine.</p>\n\n<pre><code>@Bean\npublic Wss4jSecurityInterceptor securityInterceptor() {\n  Wss4jSecurityInterceptor security = new Wss4jSecurityInterceptor();\n  security.setSecurementActions(\"NoSecurity\");\n  security.setSecurementPasswordType(WSConstants.PW_TEXT);\n  return security;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14835165,"reputation":31,"user_id":10713512,"display_name":"Nagaraj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616033182,"creation_date":1616033182,"answer_id":66683779,"question_id":60260277,"body_markdown":"   You can try below config that would solve the issue. \r\n\r\n    @Bean\r\n\tpublic Wss4jSecurityInterceptor securityInterceptor() {\r\n\t\tWss4jSecurityInterceptor security = new Wss4jSecurityInterceptor();\r\n\t\tsecurity.setValidationActions(&quot;NoSecurity&quot;);\r\n\t\tsecurity.setValidateRequest(false);\r\n\t\tsecurity.setValidateResponse(true);\r\n\t\treturn security;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n\t\tinterceptors.add(securityInterceptor());\r\n\t}","title":"Could not handle mustUnderstand headers: {http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security. Returning fault","body":"<p>You can try below config that would solve the issue.</p>\n<pre><code>@Bean\npublic Wss4jSecurityInterceptor securityInterceptor() {\n    Wss4jSecurityInterceptor security = new Wss4jSecurityInterceptor();\n    security.setValidationActions(&quot;NoSecurity&quot;);\n    security.setValidateRequest(false);\n    security.setValidateResponse(true);\n    return security;\n}\n\n@Override\npublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n    interceptors.add(securityInterceptor());\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5291,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60436275,"answer_count":2,"score":5,"last_activity_date":1638385681,"creation_date":1581934768,"question_id":60260277,"body_markdown":"I went through links like: https://stackoverflow.com/questions/9364428/soapfaultexception-mustunderstand-headers-oasis-200401-wss-wssecurity-secext-1, but still struggling.\r\n\r\nI&#39;m using `Spring Boot v2.2.2..RELEASE and SOAP` project.\r\n\r\nI am loading two different WSDL file into my project. One URL Generates to `http://localhost:8080/employee/employee-soap` which works fine. But `http://localhost:8080/student/student-soap` this gives below error.\r\n\r\n&gt;2020-02-17 15:31:00.241  WARN 20236 --- [nio-8080-exec-5] o.s.w.soap.server.SoapMessageDispatcher  : Could not handle mustUnderstand headers: {http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security. Returning fault\r\n\r\n\r\n**JavaCode:**\r\n\r\n    @EnableWs\r\n    @Configuration\r\n    public class AppConfig extends WsConfigurerAdapter {\r\n    \r\n    \t@SuppressWarnings({ &quot;rawtypes&quot;, &quot;unchecked&quot; })\r\n    \t@Bean\r\n    \tpublic ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\r\n    \t\tMessageDispatcherServlet servlet = new MessageDispatcherServlet();\r\n    \t\tservlet.setApplicationContext(applicationContext);\r\n    \t\tservlet.setTransformWsdlLocations(true);\r\n    \t\treturn new ServletRegistrationBean(servlet, &quot;/*&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SaajSoapMessageFactory messageFactory() {\r\n    \t\tSaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\r\n    \t\tmessageFactory.setSoapVersion(SoapVersion.SOAP_11);\r\n    \t\tmessageFactory.afterPropertiesSet();\r\n    \t\treturn messageFactory;\r\n    \t}\r\n    \r\n    \t@Bean(&quot;empXSD&quot;)\r\n    \tpublic XsdSchema organizationSchema() {\r\n    \t\treturn new SimpleXsdSchema(new ClassPathResource(&quot;/xsd/employee.xsd&quot;));\r\n    \t}\r\n    \r\n    \r\n    \t@Bean(name = &quot;employee&quot;)\r\n    \tpublic DefaultWsdl11Definition defaultWsdl11Definition(@Qualifier(&quot;empXSD&quot;) XsdSchema schema) {\r\n    \t\tDefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n    \t\twsdl11Definition.setPortTypeName(&quot;employee&quot;);\r\n    \t\twsdl11Definition.setLocationUri(&quot;employee/employee-soap&quot;);\r\n    \t\twsdl11Definition.setTargetNamespace(&quot;urn:example.com:dms:wsdls:employee&quot;);\r\n    \t\twsdl11Definition.setSchema(schema);\r\n    \t\twsdl11Definition.setCreateSoap11Binding(true);\r\n    \t\treturn wsdl11Definition;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@Qualifier(value=&quot;stuXSD&quot;)\r\n    \tpublic XsdSchema stuSchema() {\r\n    \t\treturn new SimpleXsdSchema(new ClassPathResource(&quot;/xsd/student.xsd&quot;));\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;student&quot;)\r\n    \tpublic DefaultWsdl11Definition geographyWsdl11Definition(@Qualifier(&quot;stuXSD&quot;) XsdSchema schema) {\r\n    \t\tDefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n    \t\twsdl11Definition.setPortTypeName(&quot;student&quot;);\r\n    \t\twsdl11Definition.setLocationUri(&quot;student-soap&quot;);\r\n    \t\twsdl11Definition.setTargetNamespace(&quot;urn:example.com:dms:wsdls:student&quot;);\r\n    \t\twsdl11Definition.setSchema(schema);\r\n    \t\twsdl11Definition.setCreateSoap11Binding(true);\r\n    \t\treturn wsdl11Definition;\r\n    \t}\r\n    \t\r\n    \r\n    \t@Override\r\n    \tpublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n    \t\tinterceptors.add(new Interceptor(endpoints, req));\r\n    \t}\r\n    }\r\n\r\nCode:\r\n\r\n    @Configuration\r\n    public class SimpleMustUnderstandEndpointInterceptor implements SoapEndpointInterceptor{\r\n    \tprivate final String SAMPLE_NS = &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot;;\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean handleResponse(MessageContext messageContext, Object endpoint) throws Exception {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean handleFault(MessageContext messageContext, Object endpoint) throws Exception {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void afterCompletion(MessageContext messageContext, Object endpoint, Exception ex) throws Exception {\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean understands(SoapHeaderElement header) {\r\n    \t\tif(header.getName().getNamespaceURI().equalsIgnoreCase(SAMPLE_NS)) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }\r\n\r\nPer observation, looks like even this SoapEndpointInterceptor is not calling, before to that only its giving error.\r\n\r\nDuring calling SOAP endpoint, below header information is going and its giving Fault as I mentioned above. Any pointers ?\r\n\r\n    &lt;soapenv:Header&gt;&lt;wsse:Security soapenv:mustUnderstand=&quot;1&quot; \r\n    xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity- \r\n    secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401- \r\n    wss-wssecurity-utility-1.0.xsd&quot;&gt;&lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken- \r\n    518482F2CDC2F635FF158202815227129&quot;&gt;&lt;wsse:Username&gt;aispoc_usr1&lt;/wsse:Username&gt; \r\n    &lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss- \r\n    username-token-profile-1.0#PasswordText&quot;&gt;aispoc_usr1&lt;/wsse:Password&gt;&lt;wsse:Nonce \r\n    EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap- \r\n    message-security-1.0#Base64Binary&quot;&gt;/fdGCEilz/dkVeZE05b7LQ==&lt;/wsse:Nonce&gt; \r\n   &lt;wsu:Created&gt;2020-02-18T12:15:52.271Z&lt;/wsu:Created&gt;&lt;/wsse:UsernameToken&gt; \r\n   &lt;/wsse:Security&gt;\r\n   &lt;/soapenv:Header&gt;","title":"Could not handle mustUnderstand headers: {http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd}Security. Returning fault","body":"<p>I went through links like: <a href=\"https://stackoverflow.com/questions/9364428/soapfaultexception-mustunderstand-headers-oasis-200401-wss-wssecurity-secext-1\">SOAPFaultException &quot;MustUnderstand headers (oasis-200401-wss-wssecurity-secext-1.0.xsd) are not understood&quot;</a>, but still struggling.</p>\n\n<p>I'm using <code>Spring Boot v2.2.2..RELEASE and SOAP</code> project.</p>\n\n<p>I am loading two different WSDL file into my project. One URL Generates to <code>http://localhost:8080/employee/employee-soap</code> which works fine. But <code>http://localhost:8080/student/student-soap</code> this gives below error.</p>\n\n<blockquote>\n  <p>2020-02-17 15:31:00.241  WARN 20236 --- [nio-8080-exec-5] o.s.w.soap.server.SoapMessageDispatcher  : Could not handle mustUnderstand headers: {<a href=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" rel=\"noreferrer\">http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd</a>}Security. Returning fault</p>\n</blockquote>\n\n<p><strong>JavaCode:</strong></p>\n\n<pre><code>@EnableWs\n@Configuration\npublic class AppConfig extends WsConfigurerAdapter {\n\n    @SuppressWarnings({ \"rawtypes\", \"unchecked\" })\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet servlet = new MessageDispatcherServlet();\n        servlet.setApplicationContext(applicationContext);\n        servlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(servlet, \"/*\");\n    }\n\n    @Bean\n    public SaajSoapMessageFactory messageFactory() {\n        SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\n        messageFactory.setSoapVersion(SoapVersion.SOAP_11);\n        messageFactory.afterPropertiesSet();\n        return messageFactory;\n    }\n\n    @Bean(\"empXSD\")\n    public XsdSchema organizationSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(\"/xsd/employee.xsd\"));\n    }\n\n\n    @Bean(name = \"employee\")\n    public DefaultWsdl11Definition defaultWsdl11Definition(@Qualifier(\"empXSD\") XsdSchema schema) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(\"employee\");\n        wsdl11Definition.setLocationUri(\"employee/employee-soap\");\n        wsdl11Definition.setTargetNamespace(\"urn:example.com:dms:wsdls:employee\");\n        wsdl11Definition.setSchema(schema);\n        wsdl11Definition.setCreateSoap11Binding(true);\n        return wsdl11Definition;\n    }\n\n    @Bean\n    @Qualifier(value=\"stuXSD\")\n    public XsdSchema stuSchema() {\n        return new SimpleXsdSchema(new ClassPathResource(\"/xsd/student.xsd\"));\n    }\n\n    @Bean(name = \"student\")\n    public DefaultWsdl11Definition geographyWsdl11Definition(@Qualifier(\"stuXSD\") XsdSchema schema) {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(\"student\");\n        wsdl11Definition.setLocationUri(\"student-soap\");\n        wsdl11Definition.setTargetNamespace(\"urn:example.com:dms:wsdls:student\");\n        wsdl11Definition.setSchema(schema);\n        wsdl11Definition.setCreateSoap11Binding(true);\n        return wsdl11Definition;\n    }\n\n\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n        interceptors.add(new Interceptor(endpoints, req));\n    }\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>@Configuration\npublic class SimpleMustUnderstandEndpointInterceptor implements SoapEndpointInterceptor{\n    private final String SAMPLE_NS = \"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\";\n\n    @Override\n    public boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\n        return true;\n    }\n\n    @Override\n    public boolean handleResponse(MessageContext messageContext, Object endpoint) throws Exception {\n        return true;\n    }\n\n    @Override\n    public boolean handleFault(MessageContext messageContext, Object endpoint) throws Exception {\n        return true;\n    }\n\n    @Override\n    public void afterCompletion(MessageContext messageContext, Object endpoint, Exception ex) throws Exception {\n\n    }\n\n    @Override\n    public boolean understands(SoapHeaderElement header) {\n        if(header.getName().getNamespaceURI().equalsIgnoreCase(SAMPLE_NS)) {\n            return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>Per observation, looks like even this SoapEndpointInterceptor is not calling, before to that only its giving error.</p>\n\n<p>During calling SOAP endpoint, below header information is going and its giving Fault as I mentioned above. Any pointers ?</p>\n\n<pre><code>&lt;soapenv:Header&gt;&lt;wsse:Security soapenv:mustUnderstand=\"1\" \nxmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity- \nsecext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401- \nwss-wssecurity-utility-1.0.xsd\"&gt;&lt;wsse:UsernameToken wsu:Id=\"UsernameToken- \n518482F2CDC2F635FF158202815227129\"&gt;&lt;wsse:Username&gt;aispoc_usr1&lt;/wsse:Username&gt; \n&lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss- \nusername-token-profile-1.0#PasswordText\"&gt;aispoc_usr1&lt;/wsse:Password&gt;&lt;wsse:Nonce \nEncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap- \nmessage-security-1.0#Base64Binary\"&gt;/fdGCEilz/dkVeZE05b7LQ==&lt;/wsse:Nonce&gt; \n</code></pre>\n\n<p>2020-02-18T12:15:52.271Z \n   \n   </p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data"],"answers":[{"tags":[],"owner":{"account_id":21138548,"reputation":23,"user_id":15541497,"display_name":"n2qzshce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638385480,"creation_date":1638385480,"answer_id":70189873,"question_id":70189872,"body_markdown":"The offending class is `org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesRegistrar` which ends up pulling in an unqualified `@EnableElasticsearchRepositories`, which spring-data then tried querying Elasticsearch by my getter, and failed. This gets pulled in by [`@SpringBootApplication`](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html) and you will need to modify your annotation on your Application class to:\r\n\r\n`@SpringBootApplication(exclude=ElasticsearchRepositoriesAutoConfiguration.class)`\r\n\r\nSo far, I haven&#39;t found any adverse side effects, but this project is pretty small so I can&#39;t speak for many use cases.","title":"Red herring Elasticsearch error when using multiple data sources with spring-data (such as DynamoDB and ElasticSearch)","body":"<p>The offending class is <code>org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchRepositoriesRegistrar</code> which ends up pulling in an unqualified <code>@EnableElasticsearchRepositories</code>, which spring-data then tried querying Elasticsearch by my getter, and failed. This gets pulled in by <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\"><code>@SpringBootApplication</code></a> and you will need to modify your annotation on your Application class to:</p>\n<p><code>@SpringBootApplication(exclude=ElasticsearchRepositoriesAutoConfiguration.class)</code></p>\n<p>So far, I haven't found any adverse side effects, but this project is pretty small so I can't speak for many use cases.</p>\n"}],"owner":{"account_id":21138548,"reputation":23,"user_id":15541497,"display_name":"n2qzshce"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638385480,"creation_date":1638385480,"question_id":70189872,"body_markdown":"(see stack trace below) I had a `CrudRepository` that was querying by a transient property, and it had a getter but no actual underlying member variable. In my service, I had a call to `MyRecordDao.findByMyMemberAttribute()` which was where the stack trace originated. This failure was elasticsearch-specific, and I didn&#39;t have any problems with my other datastore. I tried annotating the datasource with `@Primary`, using the `@EnableElasticsearchRepositories(basePackages=&#39;com.myproject.service&#39;)`, adding `@Transient` as an annotation on the getter, none of those worked. I was unable to annotate the getter using `@Field` as that annotation is only allowed on member variables. Creating an unused member variable and adding that annotation didn&#39;t work either.\r\n\r\n```No property &#39;myMemberAttribute&#39; found on class com.myproject.service.domain.MyRecord! Did you mean: myMemberAttribute?\r\norg.springframework.data.mapping.context.InvalidPersistentPropertyPath: No property &#39;myMemberAttribute&#39; found on class com.myproject.service.domain.MyRecord! Did you mean: myMemberAttribute?\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.createPersistentPropertyPath(PersistentPropertyPathFactory.java:216)\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.lambda$getPersistentPropertyPath$2(PersistentPropertyPathFactory.java:183)\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.getPersistentPropertyPath(PersistentPropertyPathFactory.java:182)\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:97)\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:110)\r\n\tat org.springframework.data.mapping.context.AbstractMappingContext.getPersistentPropertyPath(AbstractMappingContext.java:290)\r\n\tat org.springframework.data.elasticsearch.repository.query.parser.ElasticsearchQueryCreator.create(ElasticsearchQueryCreator.java:66)\r\n\tat org.springframework.data.elasticsearch.repository.query.parser.ElasticsearchQueryCreator.create(ElasticsearchQueryCreator.java:48)\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119)\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95)\r\n\tat org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81)\r\n\tat org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.createQuery(ElasticsearchPartQuery.java:143)\r\n\tat org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.execute(ElasticsearchPartQuery.java:62)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy151.findFirstByRetailerWithTypeWithIdentifier(Unknown Source)\r\n\t...\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:40)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:71)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n  ","title":"Red herring Elasticsearch error when using multiple data sources with spring-data (such as DynamoDB and ElasticSearch)","body":"<p>(see stack trace below) I had a <code>CrudRepository</code> that was querying by a transient property, and it had a getter but no actual underlying member variable. In my service, I had a call to <code>MyRecordDao.findByMyMemberAttribute()</code> which was where the stack trace originated. This failure was elasticsearch-specific, and I didn't have any problems with my other datastore. I tried annotating the datasource with <code>@Primary</code>, using the <code>@EnableElasticsearchRepositories(basePackages='com.myproject.service')</code>, adding <code>@Transient</code> as an annotation on the getter, none of those worked. I was unable to annotate the getter using <code>@Field</code> as that annotation is only allowed on member variables. Creating an unused member variable and adding that annotation didn't work either.</p>\n<pre><code>org.springframework.data.mapping.context.InvalidPersistentPropertyPath: No property 'myMemberAttribute' found on class com.myproject.service.domain.MyRecord! Did you mean: myMemberAttribute?\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.createPersistentPropertyPath(PersistentPropertyPathFactory.java:216)\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.lambda$getPersistentPropertyPath$2(PersistentPropertyPathFactory.java:183)\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.getPersistentPropertyPath(PersistentPropertyPathFactory.java:182)\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:97)\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:110)\n    at org.springframework.data.mapping.context.AbstractMappingContext.getPersistentPropertyPath(AbstractMappingContext.java:290)\n    at org.springframework.data.elasticsearch.repository.query.parser.ElasticsearchQueryCreator.create(ElasticsearchQueryCreator.java:66)\n    at org.springframework.data.elasticsearch.repository.query.parser.ElasticsearchQueryCreator.create(ElasticsearchQueryCreator.java:48)\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:119)\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:95)\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:81)\n    at org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.createQuery(ElasticsearchPartQuery.java:143)\n    at org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.execute(ElasticsearchPartQuery.java:62)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor$QueryMethodInvoker.invoke(QueryExecutorMethodInterceptor.java:195)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:130)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy151.findFirstByRetailerWithTypeWithIdentifier(Unknown Source)\n    ...\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:40)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:71)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n  \n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1638383287,"post_id":70188722,"comment_id":124075980,"body_markdown":"Can you please check if the table is created or if you get any exceptions when Hibernate creates the table?","body":"Can you please check if the table is created or if you get any exceptions when Hibernate creates the table?"},{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1638384348,"post_id":70188722,"comment_id":124076375,"body_markdown":"GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table subscriptions drop constraint FK5ju201bkc08up0b1x2x51mblu&quot; via JDBC Statement","body":"GenerationTarget encountered exception accepting command : Error executing DDL &quot;alter table subscriptions drop constraint FK5ju201bkc08up0b1x2x51mblu&quot; via JDBC Statement"},{"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"score":0,"creation_date":1638385143,"post_id":70188722,"comment_id":124076666,"body_markdown":"@SimonMartinelli Thanks, you helped","body":"@SimonMartinelli Thanks, you helped"}],"answers":[{"tags":[],"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638385123,"creation_date":1638385123,"answer_id":70189807,"question_id":70188722,"body_markdown":"Just use `spring.jpa.hibernate.ddl-auto=update` instead of `create-drop`","title":"Relation does not exist for Spring Entity","body":"<p>Just use <code>spring.jpa.hibernate.ddl-auto=update</code> instead of <code>create-drop</code></p>\n"}],"owner":{"account_id":2246691,"reputation":26575,"user_id":1979882,"accept_rate":90,"display_name":"Vyacheslav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638385123,"creation_date":1638379921,"question_id":70188722,"body_markdown":"\r\n\r\n    import javax.persistence.*;\r\n    \r\n        @Table(name = &quot;users&quot;)\r\n        @Entity\r\n        public class User {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.AUTO)\r\n            @Column(name = &quot;userID&quot;)\r\n            private long userID;\r\n        }\r\n            \r\n        @Table(name = &quot;subscriptions&quot;)\r\n        @Entity\r\n        public class Subscription {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.AUTO)\r\n            @Column(name = &quot;subscriptionID&quot;)\r\n            private long subscriptionID;\r\n        \r\n            @ManyToOne\r\n            @JoinColumn(name=&quot;userID&quot;)\r\n            private User user;\r\n        \r\n        }\r\n\r\nThis code crashes:\r\n\r\n&gt; Caused by: org.postgresql.util.PSQLException: ERROR: relation\r\n&gt; &quot;subscriptions&quot; does not exist\r\n&gt; \r\n&gt; \r\n&gt; spring.jpa.properties.hibernate.dialect =\r\n&gt; org.hibernate.dialect.PostgreSQLDialect\r\n&gt; \r\n&gt; spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\r\n&gt; spring.jpa.hibernate.ddl-auto=create-drop\r\n&gt; \r\n&gt; spring.datasource.driver-class-name=org.postgresql.Driver\r\n\r\n\r\nCode works for\r\n\r\n     import javax.persistence.*;\r\n        \r\n            @Table(name = &quot;users&quot;)\r\n            @Entity\r\n            public class User {\r\n            \r\n                @Id\r\n                @GeneratedValue(strategy = GenerationType.AUTO)\r\n                @Column(name = &quot;userID&quot;)\r\n                private long userID;\r\n            }\r\n                \r\n            @Table(name = &quot;subscriptions&quot;)\r\n            @Entity\r\n            public class Subscription {\r\n            \r\n                @Id\r\n                @GeneratedValue(strategy = GenerationType.AUTO)\r\n                @Column(name = &quot;subscriptionID&quot;)\r\n                private long subscriptionID;\r\n            \r\n            }\r\n\r\nHow can I fix it?\r\n\r\n\r\n","title":"Relation does not exist for Spring Entity","body":"<pre><code>import javax.persistence.*;\n\n    @Table(name = &quot;users&quot;)\n    @Entity\n    public class User {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = &quot;userID&quot;)\n        private long userID;\n    }\n        \n    @Table(name = &quot;subscriptions&quot;)\n    @Entity\n    public class Subscription {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = &quot;subscriptionID&quot;)\n        private long subscriptionID;\n    \n        @ManyToOne\n        @JoinColumn(name=&quot;userID&quot;)\n        private User user;\n    \n    }\n</code></pre>\n<p>This code crashes:</p>\n<blockquote>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: relation\n&quot;subscriptions&quot; does not exist</p>\n<p>spring.jpa.properties.hibernate.dialect =\norg.hibernate.dialect.PostgreSQLDialect</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\nspring.jpa.hibernate.ddl-auto=create-drop</p>\n<p>spring.datasource.driver-class-name=org.postgresql.Driver</p>\n</blockquote>\n<p>Code works for</p>\n<pre><code> import javax.persistence.*;\n    \n        @Table(name = &quot;users&quot;)\n        @Entity\n        public class User {\n        \n            @Id\n            @GeneratedValue(strategy = GenerationType.AUTO)\n            @Column(name = &quot;userID&quot;)\n            private long userID;\n        }\n            \n        @Table(name = &quot;subscriptions&quot;)\n        @Entity\n        public class Subscription {\n        \n            @Id\n            @GeneratedValue(strategy = GenerationType.AUTO)\n            @Column(name = &quot;subscriptionID&quot;)\n            private long subscriptionID;\n        \n        }\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1402983861,"post_id":24256478,"comment_id":37470036,"body_markdown":"Propably starting with `indexOf`: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf%28int%29","body":"Propably starting with <code>indexOf</code>: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf%28int%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1402983870,"post_id":24256478,"comment_id":37470039,"body_markdown":"What have you tried so far? What do you want to happen with nested brackets, e.g. &quot;Hello (Foo and (Bar))&quot;? What about situations with multiple brackets values, such as &quot;Hello (Foo) and (Bar)&quot;?","body":"What have you tried so far? What do you want to happen with nested brackets, e.g. &quot;Hello (Foo and (Bar))&quot;? What about situations with multiple brackets values, such as &quot;Hello (Foo) and (Bar)&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":0,"up_vote_count":91,"is_accepted":true,"score":91,"last_activity_date":1613885009,"creation_date":1402983886,"answer_id":24256509,"question_id":24256478,"body_markdown":"Try this:\r\n\r\n    String x = &quot;Hello (Java)&quot;;\r\n    Matcher m = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;).matcher(x);\r\n    while (m.find()) {\r\n        System.out.println(m.group(1));\r\n    }\r\n\r\nor\r\n\r\n    String str = &quot;Hello (Java)&quot;;\r\n    String answer = str.substring(str.indexOf(&quot;(&quot;)+1, str.indexOf(&quot;)&quot;));","title":"Pattern to extract text between parenthesis","body":"<p>Try this:</p>\n<pre><code>String x = &quot;Hello (Java)&quot;;\nMatcher m = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;).matcher(x);\nwhile (m.find()) {\n    System.out.println(m.group(1));\n}\n</code></pre>\n<p>or</p>\n<pre><code>String str = &quot;Hello (Java)&quot;;\nString answer = str.substring(str.indexOf(&quot;(&quot;)+1, str.indexOf(&quot;)&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269226,"reputation":22774,"user_id":1997093,"accept_rate":100,"display_name":"akash"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1456923156,"creation_date":1402984039,"answer_id":24256532,"question_id":24256478,"body_markdown":"    List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\r\n    Pattern regex = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;);\r\n    Matcher regexMatcher = regex.matcher(&quot;Hello This is (Java) Not (.NET)&quot;);\r\n    \r\n    while (regexMatcher.find()) {//Finds Matching Pattern in String\r\n       matchList.add(regexMatcher.group(1));//Fetching Group from String\r\n    }\r\n\r\n    for(String str:matchList) {\r\n       System.out.println(str);\r\n    }\r\n\r\n**OUTPUT**\r\n\r\n    Java\r\n    .NET\r\n\r\n\r\n----------\r\n\r\nWhat does `\\\\((.+?)\\\\)` mean?\r\n\r\nThis regular Expression pattern will start from `\\\\(` which will match `(` as it is reserved in regExp so we need escape this character,same thing for `\\\\)` and `(.*?)` will match any character zero or more time anything moreover in `()` considered as Group which we are finding. ","title":"Pattern to extract text between parenthesis","body":"<pre><code>List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\nPattern regex = Pattern.compile(\"\\\\((.*?)\\\\)\");\nMatcher regexMatcher = regex.matcher(\"Hello This is (Java) Not (.NET)\");\n\nwhile (regexMatcher.find()) {//Finds Matching Pattern in String\n   matchList.add(regexMatcher.group(1));//Fetching Group from String\n}\n\nfor(String str:matchList) {\n   System.out.println(str);\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>Java\n.NET\n</code></pre>\n\n<hr>\n\n<p>What does <code>\\\\((.+?)\\\\)</code> mean?</p>\n\n<p>This regular Expression pattern will start from <code>\\\\(</code> which will match <code>(</code> as it is reserved in regExp so we need escape this character,same thing for <code>\\\\)</code> and <code>(.*?)</code> will match any character zero or more time anything moreover in <code>()</code> considered as Group which we are finding. </p>\n"},{"tags":[],"owner":{"account_id":8008009,"reputation":762,"user_id":6095216,"accept_rate":100,"display_name":"Yury"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1633436170,"creation_date":1507062612,"answer_id":46552924,"question_id":24256478,"body_markdown":"there is something even simpler than using regex: \r\n\r\n    String result = StringUtils.substringBetween(str, &quot;(&quot;, &quot;)&quot;);\r\n\r\nIn your example, `result` would be returned as &quot;Java&quot;. I would recommend the StringUtils library for various kinds of (relatively simple) string manipulation; it handles things like null inputs automatically, which can be convenient.\r\n\r\nDocumentation for substringBetween():\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringBetween-java.lang.String-java.lang.String-java.lang.String-\r\n\r\nThere are two other versions of this function, depending on whether the opening and closing delimiters are the same, and whether the delimiter(s) occur(s) in the target string multiple times.","title":"Pattern to extract text between parenthesis","body":"<p>there is something even simpler than using regex:</p>\n<pre><code>String result = StringUtils.substringBetween(str, &quot;(&quot;, &quot;)&quot;);\n</code></pre>\n<p>In your example, <code>result</code> would be returned as &quot;Java&quot;. I would recommend the StringUtils library for various kinds of (relatively simple) string manipulation; it handles things like null inputs automatically, which can be convenient.</p>\n<p>Documentation for substringBetween():\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringBetween-java.lang.String-java.lang.String-java.lang.String-\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#substringBetween-java.lang.String-java.lang.String-java.lang.String-</a></p>\n<p>There are two other versions of this function, depending on whether the opening and closing delimiters are the same, and whether the delimiter(s) occur(s) in the target string multiple times.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638384947,"creation_date":1638384947,"answer_id":70189780,"question_id":24256478,"body_markdown":"You should actually be using\r\n```java\r\nList&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\r\nPattern regex = Pattern.compile(&quot;\\\\(([^()]*)\\\\)&quot;);\r\nMatcher regexMatcher = regex.matcher(&quot;Hello This is (Java) Not (.NET)&quot;);\r\n\r\nwhile (regexMatcher.find()) {\r\n   matchList.add(regexMatcher.group(1));\r\n}\r\n\r\nfor(String str:matchList) {\r\n   System.out.println(str);\r\n}\r\n```\r\nThe **`\\(([^()]*)\\)`** regex matches:\r\n\r\n - `\\(` - a `(` char\r\n - `([^()]*)`  - Group 1: any zero or more chars other than `(` and `)`\r\n - `\\)` - a `)` char.\r\n\r\nThe `[^()]` is a negated character class that makes it impossible to match another `(` after initial `(` is matched with `\\(`, thus, it ensures the *innermost* matches between two pairs of parentheses.\r\n\r\nSee the [Java demo online][1] and the [regex demo][2].\r\n\r\n\r\n  [1]: https://ideone.com/pQkxvj\r\n  [2]: https://regex101.com/r/o5Qyuq/2","title":"Pattern to extract text between parenthesis","body":"<p>You should actually be using</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; matchList = new ArrayList&lt;String&gt;();\nPattern regex = Pattern.compile(&quot;\\\\(([^()]*)\\\\)&quot;);\nMatcher regexMatcher = regex.matcher(&quot;Hello This is (Java) Not (.NET)&quot;);\n\nwhile (regexMatcher.find()) {\n   matchList.add(regexMatcher.group(1));\n}\n\nfor(String str:matchList) {\n   System.out.println(str);\n}\n</code></pre>\n<p>The <strong><code>\\(([^()]*)\\)</code></strong> regex matches:</p>\n<ul>\n<li><code>\\(</code> - a <code>(</code> char</li>\n<li><code>([^()]*)</code>  - Group 1: any zero or more chars other than <code>(</code> and <code>)</code></li>\n<li><code>\\)</code> - a <code>)</code> char.</li>\n</ul>\n<p>The <code>[^()]</code> is a negated character class that makes it impossible to match another <code>(</code> after initial <code>(</code> is matched with <code>\\(</code>, thus, it ensures the <em>innermost</em> matches between two pairs of parentheses.</p>\n<p>See the <a href=\"https://ideone.com/pQkxvj\" rel=\"nofollow noreferrer\">Java demo online</a> and the <a href=\"https://regex101.com/r/o5Qyuq/2\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n"}],"owner":{"account_id":1214327,"reputation":1742,"user_id":1182217,"accept_rate":27,"display_name":"Rajeev Sahu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105020,"favorite_count":0,"down_vote_count":4,"up_vote_count":45,"accepted_answer_id":24256509,"answer_count":4,"score":41,"last_activity_date":1638384947,"creation_date":1402983727,"question_id":24256478,"body_markdown":"How to extract string from `&quot;(&quot;` and `&quot;)&quot;` using pattern matching or anything. For example if the text is\r\n\r\n&gt; &quot;Hello (Java)&quot;\r\n\r\nThen how to get only `&quot;Java&quot;`?\r\n","title":"Pattern to extract text between parenthesis","body":"<p>How to extract string from <code>&quot;(&quot;</code> and <code>&quot;)&quot;</code> using pattern matching or anything. For example if the text is</p>\n<blockquote>\n<p>&quot;Hello (Java)&quot;</p>\n</blockquote>\n<p>Then how to get only <code>&quot;Java&quot;</code>?</p>\n"},{"tags":["java","loops","while-loop","switch-statement"],"comments":[{"owner":{"account_id":873362,"reputation":13856,"user_id":923720,"display_name":"Darkhogg"},"score":2,"creation_date":1398945068,"post_id":23407051,"comment_id":35865309,"body_markdown":"You should use a single `Scanner` instead of creating one every iteration.","body":"You should use a single <code>Scanner</code> instead of creating one every iteration."}],"answers":[{"tags":[],"owner":{"account_id":3553231,"reputation":15107,"user_id":2967572,"accept_rate":50,"display_name":"Sajad Karuthedath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398945314,"creation_date":1398945093,"answer_id":23407082,"question_id":23407051,"body_markdown":"try\r\n\r\n    do{\r\n    \r\n    }\r\n    while(Character.toUpperCase(choice) !=&#39;E&#39;)","title":"DO.. WHILE.. with SWITCH menu","body":"<p>try</p>\n\n<pre><code>do{\n\n}\nwhile(Character.toUpperCase(choice) !='E')\n</code></pre>\n"}],"owner":{"account_id":2633834,"reputation":177,"user_id":2279078,"accept_rate":70,"display_name":"John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3849,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638384742,"creation_date":1398944907,"question_id":23407051,"body_markdown":"Here is a do..while loop with switch menu..\r\n\r\nI am trying to make the user be able to return to the menu which is \r\n\r\n    System.out.println(&quot;Options: (C)reate, (R)ead, (W)rite, (L)ist, (S)ave or (E)xit.        (*****)&quot;);\r\n\r\nBut after much trial and errors, I still cant get back to the main menu after choosing C, R, W, L or S. \r\n\r\nBelow is a short snippet of the codes..\r\n\r\n    do {\r\n        System.out.println(&quot;Options: (C)reate, (R)ead, (W)rite, (L)ist, (S)ave or (E)xit.   \r\n        (*****)&quot;);\r\n        Scanner switchC = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter your choice: &quot;);\r\n        choice = switchC.next().charAt(0);\r\n        \r\n        switch (Character.toUpperCase(choice)) {\r\n        \tcase &#39;C&#39;:\r\n        System.out.println(&quot;C&quot;);\r\n        \t\tbreak;\r\n        \tcase &#39;R&#39;:\r\n        \t\tbreak;\r\n        \tcase &#39;W&#39;:\r\n        \t\tbreak;\r\n        \tcase &#39;L&#39;:\r\n        \t\tbreak;\r\n        \tcase &#39;S&#39;:\r\n        \t\tbreak;\r\n        \tcase &#39;E&#39;:\r\n        \t\tSystem.exit(1);\r\n        \tdefault:\r\n        \t\tSystem.out.println(&quot;Options: (C)reate, (R)ead, (W)rite, (L)ist, (S)ave or (E)xit.        (*****)&quot;);\r\n        \t} \r\n    } while(choice!=&#39;E&#39;);","title":"DO.. WHILE.. with SWITCH menu","body":"<p>Here is a do..while loop with switch menu..</p>\n\n<p>I am trying to make the user be able to return to the menu which is </p>\n\n<pre><code>System.out.println(\"Options: (C)reate, (R)ead, (W)rite, (L)ist, (S)ave or (E)xit.        (*****)\");\n</code></pre>\n\n<p>But after much trial and errors, I still cant get back to the main menu after choosing C, R, W, L or S. </p>\n\n<p>Below is a short snippet of the codes..</p>\n\n<pre><code>do {\n    System.out.println(\"Options: (C)reate, (R)ead, (W)rite, (L)ist, (S)ave or (E)xit.   \n    (*****)\");\n    Scanner switchC = new Scanner(System.in);\n    System.out.println(\"Please enter your choice: \");\n    choice = switchC.next().charAt(0);\n\n    switch (Character.toUpperCase(choice)) {\n        case 'C':\n    System.out.println(\"C\");\n            break;\n        case 'R':\n            break;\n        case 'W':\n            break;\n        case 'L':\n            break;\n        case 'S':\n            break;\n        case 'E':\n            System.exit(1);\n        default:\n            System.out.println(\"Options: (C)reate, (R)ead, (W)rite, (L)ist, (S)ave or (E)xit.        (*****)\");\n        } \n} while(choice!='E');\n</code></pre>\n"},{"tags":["java","email","smtp"],"comments":[{"owner":{"account_id":1965002,"reputation":1241,"user_id":1765509,"display_name":"Octavian R."},"score":1,"creation_date":1638387764,"post_id":70189727,"comment_id":124077704,"body_markdown":"The simple answer to your question is no, without additional coding (a lot of coding). If you want to know how you can do it, you should listen from Java on port 2525 and you should implement the SMTP protocol. Anyway, the main question here is, why would you want to do this?","body":"The simple answer to your question is no, without additional coding (a lot of coding). If you want to know how you can do it, you should listen from Java on port 2525 and you should implement the SMTP protocol. Anyway, the main question here is, why would you want to do this?"},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":1,"creation_date":1638388845,"post_id":70189727,"comment_id":124078085,"body_markdown":"Theoretically you could use [this Java SMTP server implementation](https://github.com/jcomo/smtpd-java) and either import it in your project as JAR library, or simply fork the code and use it. I have not tested it though.","body":"Theoretically you could use <a href=\"https://github.com/jcomo/smtpd-java\" rel=\"nofollow noreferrer\">this Java SMTP server implementation</a> and either import it in your project as JAR library, or simply fork the code and use it. I have not tested it though."},{"owner":{"account_id":19791174,"reputation":16,"user_id":14494173,"display_name":"Alvandi"},"score":0,"creation_date":1638392010,"post_id":70189727,"comment_id":124079172,"body_markdown":"@OctavianR. I&#39;m trying to do some testing to check whether the emails being sent is correct(The format, the content according to who the email is being sent out to, etc). Do you have any other idea which might be better for this purpose?","body":"@OctavianR. I&#39;m trying to do some testing to check whether the emails being sent is correct(The format, the content according to who the email is being sent out to, etc). Do you have any other idea which might be better for this purpose?"},{"owner":{"account_id":19791174,"reputation":16,"user_id":14494173,"display_name":"Alvandi"},"score":0,"creation_date":1638392069,"post_id":70189727,"comment_id":124079183,"body_markdown":"@roccobaroccoSC Unfortunately searching so far yielded no already-widespread SMTP server implementations in Java. Any idea on any reliable, wide-spread implementation?","body":"@roccobaroccoSC Unfortunately searching so far yielded no already-widespread SMTP server implementations in Java. Any idea on any reliable, wide-spread implementation?"},{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638393003,"post_id":70189727,"comment_id":124079479,"body_markdown":"I have no idea, sorry.","body":"I have no idea, sorry."},{"owner":{"account_id":1965002,"reputation":1241,"user_id":1765509,"display_name":"Octavian R."},"score":0,"creation_date":1638474334,"post_id":70189727,"comment_id":124104825,"body_markdown":"I will suggest to use Mockito with spy option. Basically your application is responsible to format the email and the javax mail lib is used only to send the email. In your case I will try to intercept that part of the code that is responsible to format the email and to make assertions over the result.","body":"I will suggest to use Mockito with spy option. Basically your application is responsible to format the email and the javax mail lib is used only to send the email. In your case I will try to intercept that part of the code that is responsible to format the email and to make assertions over the result."}],"owner":{"account_id":19791174,"reputation":16,"user_id":14494173,"display_name":"Alvandi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638384676,"creation_date":1638384676,"question_id":70189727,"body_markdown":"I currently have a web application which sends out an email to localhost:2525, and I&#39;ve been able to intercept these messages using FakeSMTP Server (http://nilhcem.com/FakeSMTP/). Problem is, I&#39;d like to do so with Java. Is there any way to intercept the email using Java and being able to read the contents of the email in Java?","title":"Intercepting an email being sent out from Java application","body":"<p>I currently have a web application which sends out an email to localhost:2525, and I've been able to intercept these messages using FakeSMTP Server (<a href=\"http://nilhcem.com/FakeSMTP/\" rel=\"nofollow noreferrer\">http://nilhcem.com/FakeSMTP/</a>). Problem is, I'd like to do so with Java. Is there any way to intercept the email using Java and being able to read the contents of the email in Java?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638369474,"creation_date":1638369474,"answer_id":70186140,"question_id":70185478,"body_markdown":"Use a custom date deserializer like this one:\r\n\r\n    public class CustomDateDeserializer extends StdDeserializer&lt;Long&gt; {\r\n    \r\n        private SimpleDateFormat formatter = \r\n          new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;);\r\n    \r\n        public CustomDateDeserializer() {\r\n            this(null);\r\n        }\r\n    \r\n        public CustomDateDeserializer(Class&lt;?&gt; vc) {\r\n            super(vc);\r\n        }\r\n    \r\n        @Override\r\n        public Long deserialize(JsonParser jsonparser, DeserializationContext context)  \r\n          throws IOException, JsonProcessingException {\r\n            String date = jsonparser.getText();\r\n            try {\r\n                return formatter.parse(date).toInstant().toEpochMilli();\r\n            } catch (ParseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nNext annotate your field with `@JsonDeserialize(using = CustomDateDeserializer.class)`.\r\n\r\n    @JsonDeserialize(using = CustomDateDeserializer.class)\r\n    public Long timestamp;","title":"Jackson deserialize date string to Long","body":"<p>Use a custom date deserializer like this one:</p>\n<pre><code>public class CustomDateDeserializer extends StdDeserializer&lt;Long&gt; {\n\n    private SimpleDateFormat formatter = \n      new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;);\n\n    public CustomDateDeserializer() {\n        this(null);\n    }\n\n    public CustomDateDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    @Override\n    public Long deserialize(JsonParser jsonparser, DeserializationContext context)  \n      throws IOException, JsonProcessingException {\n        String date = jsonparser.getText();\n        try {\n            return formatter.parse(date).toInstant().toEpochMilli();\n        } catch (ParseException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Next annotate your field with <code>@JsonDeserialize(using = CustomDateDeserializer.class)</code>.</p>\n<pre><code>@JsonDeserialize(using = CustomDateDeserializer.class)\npublic Long timestamp;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638384543,"creation_date":1638373161,"answer_id":70187093,"question_id":70185478,"body_markdown":"The answer by Maurice is correct, it only suffers from using the notoriously troublesome and long outdated `SimpleDateFormat` and `Date` classes. Also the `deserialize` method is much simpler without them:\r\n\r\n```\r\npublic class LongTimestampDeserializer extends StdDeserializer&lt;Long&gt; {\r\n\r\n    public LongTimestampDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public LongTimestampDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    /** @throws InvalidFormatException If the timestamp cannot be parsed as an Instant */\r\n    @Override\r\n    public Long deserialize(JsonParser parser, DeserializationContext ctxt)\r\n            throws IOException {\r\n        String timestamp = parser.getText();\r\n        try {\r\n            return Instant.parse(timestamp).toEpochMilli();\r\n        }\r\n        catch (DateTimeParseException dtpe) {\r\n            throw new InvalidFormatException(\r\n                    parser, dtpe.getMessage(), timestamp, Long.class);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe way I understand it the deserializer should throw some subclass of `JsonProcessingException` in case of a parsing error. `InvalidFormatException` is a suitable subclass in this case.","title":"Jackson deserialize date string to Long","body":"<p>The answer by Maurice is correct, it only suffers from using the notoriously troublesome and long outdated <code>SimpleDateFormat</code> and <code>Date</code> classes. Also the <code>deserialize</code> method is much simpler without them:</p>\n<pre><code>public class LongTimestampDeserializer extends StdDeserializer&lt;Long&gt; {\n\n    public LongTimestampDeserializer() {\n        this(null);\n    }\n\n    public LongTimestampDeserializer(Class&lt;?&gt; vc) {\n        super(vc);\n    }\n\n    /** @throws InvalidFormatException If the timestamp cannot be parsed as an Instant */\n    @Override\n    public Long deserialize(JsonParser parser, DeserializationContext ctxt)\n            throws IOException {\n        String timestamp = parser.getText();\n        try {\n            return Instant.parse(timestamp).toEpochMilli();\n        }\n        catch (DateTimeParseException dtpe) {\n            throw new InvalidFormatException(\n                    parser, dtpe.getMessage(), timestamp, Long.class);\n        }\n    }\n\n}\n</code></pre>\n<p>The way I understand it the deserializer should throw some subclass of <code>JsonProcessingException</code> in case of a parsing error. <code>InvalidFormatException</code> is a suitable subclass in this case.</p>\n"}],"owner":{"account_id":6288523,"reputation":3456,"user_id":4886927,"accept_rate":59,"display_name":"pasaba por aqui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638384543,"creation_date":1638366899,"question_id":70185478,"body_markdown":"Can Java Jackson deserialize a json string date into a Java Long field (milliseconds from epoch)?\r\n\r\nThis is an example of json field to be deserialized:\r\n\r\n    &quot;timestamp&quot;: &quot;2022-01-02T03:04:05Z&quot;,\r\n\r\nand this is the same field in the Java class, with the current annotations:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.NUMBER, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, timezone = &quot;UTC&quot;)\r\n    @JsonProperty(&quot;timestamp&quot;) \r\n    @JsonPropertyDescription(&quot;blah, blah\\r\\n&quot;)\r\n    public Long timestamp;\r\n\r\nHowever, an exception happens:\r\n\r\n    \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\r\n&gt; deserialize value of type `java.lang.Long` from String\r\n&gt; &quot;2022-01-02T06:49:05Z&quot;: not a valid Long value\r\n\r\nAny hint? Thanks.\r\n\r\n\r\n\r\n\r\n","title":"Jackson deserialize date string to Long","body":"<p>Can Java Jackson deserialize a json string date into a Java Long field (milliseconds from epoch)?</p>\n<p>This is an example of json field to be deserialized:</p>\n<pre><code>&quot;timestamp&quot;: &quot;2022-01-02T03:04:05Z&quot;,\n</code></pre>\n<p>and this is the same field in the Java class, with the current annotations:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.NUMBER, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, timezone = &quot;UTC&quot;)\n@JsonProperty(&quot;timestamp&quot;) \n@JsonPropertyDescription(&quot;blah, blah\\r\\n&quot;)\npublic Long timestamp;\n</code></pre>\n<p>However, an exception happens:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot\ndeserialize value of type <code>java.lang.Long</code> from String\n&quot;2022-01-02T06:49:05Z&quot;: not a valid Long value</p>\n</blockquote>\n<p>Any hint? Thanks.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":14679090,"reputation":1360,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1638384339,"post_id":70189624,"comment_id":124076371,"body_markdown":"The question marks are only placeholders. Java does nothing to format the input. This means since there are no quotes, it&#39;s trying to treat your username and password as column names. Try putting both the question marks in single quotes (`&#39;?&#39;`)","body":"The question marks are only placeholders. Java does nothing to format the input. This means since there are no quotes, it&#39;s trying to treat your username and password as column names. Try putting both the question marks in single quotes (<code>&#39;?&#39;</code>)"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1638384554,"post_id":70189624,"comment_id":124076443,"body_markdown":"That looks like Plain Text Passwords being used here!!! **V.v.bad**","body":"That looks like Plain Text Passwords being used here!!! <b>V.v.bad</b>"},{"owner":{"account_id":20834771,"reputation":1,"user_id":15303188,"display_name":"kouks123"},"score":0,"creation_date":1638385696,"post_id":70189624,"comment_id":124076874,"body_markdown":"@Jesse i tried putting the ? between single quotes and i got the following error java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0).","body":"@Jesse i tried putting the ? between single quotes and i got the following error java.sql.SQLException: Parameter index out of range (1 &gt; number of parameters, which is 0)."},{"owner":{"account_id":14679090,"reputation":1360,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1638391709,"post_id":70189624,"comment_id":124079083,"body_markdown":"Oh right I think it&#39;s the other way around. My mistake. Taking a second look at the error, it seems to me that it might be caused by the fact that you&#39;re trying to get results from the result set in your `else` statement. Considering the only condition in the `if` statement is `rs.next()`, `rs` won&#39;t have any results if the else block is executing and therefore can&#39;t get the strings you&#39;re asking for.","body":"Oh right I think it&#39;s the other way around. My mistake. Taking a second look at the error, it seems to me that it might be caused by the fact that you&#39;re trying to get results from the result set in your <code>else</code> statement. Considering the only condition in the <code>if</code> statement is <code>rs.next()</code>, <code>rs</code> won&#39;t have any results if the else block is executing and therefore can&#39;t get the strings you&#39;re asking for."}],"owner":{"account_id":20834771,"reputation":1,"user_id":15303188,"display_name":"kouks123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638384453,"creation_date":1638384117,"question_id":70189624,"body_markdown":"```\r\nprivate void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    // TODO add your handling code here:\r\n    Connection connection;\r\n    PreparedStatement ps;\r\n   \r\n    try {\r\n        connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/testdb&quot;, &quot;root&quot;, &quot;pokemon12&quot;);\r\n        ps = connection.prepareStatement(&quot;SELECT * FROM users WHERE UserName = ? AND Password = ?&quot;);\r\n        ps.setString(1, jTextField1.getText());\r\n        ps.setString(2, String.valueOf(jPasswordField1.getPassword()));\r\n        ResultSet rs = ps.executeQuery();\r\n        \r\n        if(rs.next()){\r\n            System.out.println(rs.getString(1));\r\n            System.out.println(rs.getString(2));\r\n            setVisible(false);\r\n            NewApplication1 mf = new NewApplication1(rs.getString(1),rs.getString(2));\r\n            mf.setVisible(true);\r\n        }else{\r\n            JOptionPane.showMessageDialog(this, &quot;Username Or Password Are Invalid&quot;);\r\n            System.out.println(rs.getString(1));\r\n            System.out.println(rs.getString(2));\r\n        }\r\n    } catch (SQLException ex) {\r\n        Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n}\r\n```\r\ni dont know why i keep getting java.sql.SQLException: Illegal operation on empty result set even tho my sql table isnt empty and the row im trying to get also isnt empty, it happens when i try to select the last and second to last row in the table, excuse my lack of knowledge im very new to sql.","title":"java.sql.SQLException: Illegal operation on empty result set with no empty row","body":"<pre><code>private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    // TODO add your handling code here:\n    Connection connection;\n    PreparedStatement ps;\n   \n    try {\n        connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/testdb&quot;, &quot;root&quot;, &quot;pokemon12&quot;);\n        ps = connection.prepareStatement(&quot;SELECT * FROM users WHERE UserName = ? AND Password = ?&quot;);\n        ps.setString(1, jTextField1.getText());\n        ps.setString(2, String.valueOf(jPasswordField1.getPassword()));\n        ResultSet rs = ps.executeQuery();\n        \n        if(rs.next()){\n            System.out.println(rs.getString(1));\n            System.out.println(rs.getString(2));\n            setVisible(false);\n            NewApplication1 mf = new NewApplication1(rs.getString(1),rs.getString(2));\n            mf.setVisible(true);\n        }else{\n            JOptionPane.showMessageDialog(this, &quot;Username Or Password Are Invalid&quot;);\n            System.out.println(rs.getString(1));\n            System.out.println(rs.getString(2));\n        }\n    } catch (SQLException ex) {\n        Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n<p>i dont know why i keep getting java.sql.SQLException: Illegal operation on empty result set even tho my sql table isnt empty and the row im trying to get also isnt empty, it happens when i try to select the last and second to last row in the table, excuse my lack of knowledge im very new to sql.</p>\n"},{"tags":["java","html","web","web-scraping","jsoup"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1579784754,"post_id":59879088,"comment_id":105887755,"body_markdown":"Can you access the url in other ways from the machine this is running on? For example with `curl`?","body":"Can you access the url in other ways from the machine this is running on? For example with <code>curl</code>?"},{"owner":{"account_id":17598270,"reputation":21,"user_id":12768785,"display_name":"Keshav Singh"},"score":0,"creation_date":1579784935,"post_id":59879088,"comment_id":105887856,"body_markdown":"I can access the url from my browser. Infact when I tried &quot;https://www.google.com&quot;, I am getting the same exception.","body":"I can access the url from my browser. Infact when I tried &quot;<a href=\"https://www.google.com\" rel=\"nofollow noreferrer\">google.com</a>&quot;, I am getting the same exception."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1579785043,"post_id":59879088,"comment_id":105887933,"body_markdown":"Is this running inside some sort of container? Are you behind a proxy?","body":"Is this running inside some sort of container? Are you behind a proxy?"},{"owner":{"account_id":17598270,"reputation":21,"user_id":12768785,"display_name":"Keshav Singh"},"score":0,"creation_date":1579785210,"post_id":59879088,"comment_id":105888018,"body_markdown":"I am running the code from my office PC. so not sure about proxy/containers.","body":"I am running the code from my office PC. so not sure about proxy/containers."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1579785277,"post_id":59879088,"comment_id":105888063,"body_markdown":"If the browser works a proxy may be configured in the browser&#39;s options. Check there.","body":"If the browser works a proxy may be configured in the browser&#39;s options. Check there."},{"owner":{"account_id":17598270,"reputation":21,"user_id":12768785,"display_name":"Keshav Singh"},"score":1,"creation_date":1579849640,"post_id":59879088,"comment_id":105911335,"body_markdown":"It worked in my personal laptop. I think my organisation uses proxy that&#39;s why I was not able to connect from there. BTW thanks @FedericoklezCulloca","body":"It worked in my personal laptop. I think my organisation uses proxy that&#39;s why I was not able to connect from there. BTW thanks @FedericoklezCulloca"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1579852086,"post_id":59879088,"comment_id":105912236,"body_markdown":"If you discover the address of the proxy you can then see [this thread](https://stackoverflow.com/questions/7482748/how-to-add-proxy-support-to-jsoup) for how to use it with jsoup.","body":"If you discover the address of the proxy you can then see <a href=\"https://stackoverflow.com/questions/7482748/how-to-add-proxy-support-to-jsoup\">this thread</a> for how to use it with jsoup."}],"answers":[{"tags":[],"owner":{"account_id":5959264,"reputation":177,"user_id":4684907,"display_name":"Amit Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1586086170,"creation_date":1586079375,"answer_id":61040612,"question_id":59879088,"body_markdown":"@Keshav Singh, your code is correct. There seems to be a network issue at your end.\r\n\r\nPlease find the successfully executed code.\r\n\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    \r\n    public class ExtractPage {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\t  String url = &quot;https://en.wikipedia.org/wiki/English_language&quot;;\r\n    \t        try {\r\n    \t\t\t\tDocument doc = Jsoup.connect(url).get();\r\n    \t\t\t\tSystem.out.println(doc);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t  \te.printStackTrace();\r\n    \t\t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OVudS.png","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: en.wikipedia.org - Jsoup","body":"<p>@Keshav Singh, your code is correct. There seems to be a network issue at your end.</p>\n\n<p>Please find the successfully executed code.</p>\n\n<pre><code>import java.io.IOException;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\n\npublic class ExtractPage {\n\n    public static void main(String[] args) {\n\n          String url = \"https://en.wikipedia.org/wiki/English_language\";\n            try {\n                Document doc = Jsoup.connect(url).get();\n                System.out.println(doc);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OVudS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OVudS.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":2149787,"reputation":599,"user_id":1906518,"display_name":"dagra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637542272,"creation_date":1637542272,"answer_id":70059856,"question_id":59879088,"body_markdown":"You may have to set proxy along with the Jsoup as shown below\r\n\r\n```\r\nDocument doc = Jsoup.connect(&lt;website.com&gt;)\r\n                    .proxy(&lt;host&gt;, &lt;port&gt;)\r\n                    .get();\r\n```","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: en.wikipedia.org - Jsoup","body":"<p>You may have to set proxy along with the Jsoup as shown below</p>\n<pre><code>Document doc = Jsoup.connect(&lt;website.com&gt;)\n                    .proxy(&lt;host&gt;, &lt;port&gt;)\n                    .get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5959264,"reputation":177,"user_id":4684907,"display_name":"Amit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638384388,"creation_date":1638384388,"answer_id":70189666,"question_id":59879088,"body_markdown":"There seems to be an internet issue. please check your internet connection.","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: en.wikipedia.org - Jsoup","body":"<p>There seems to be an internet issue. please check your internet connection.</p>\n"}],"owner":{"account_id":17598270,"reputation":21,"user_id":12768785,"display_name":"Keshav Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1638384388,"creation_date":1579784054,"question_id":59879088,"body_markdown":"I am getting error while running below code.\r\nI tried more than 10 urls but the error is same (`java.net.UnknownHostException`).\r\n\r\n    public class ExtractPage {\r\n        public static void main (String args[]) throws IOException{\r\n            String url = &quot;https://en.wikipedia.org/wiki/English_language&quot;;\r\n        \tDocument doc = Jsoup.connect(url).get();\r\n        }\r\n    }\r\n        \r\n\r\n  \r\n   Below is Error StackTrace:\r\n    \r\n    Exception in thread &quot;main&quot; java.net.UnknownHostException: en.wikipedia.org\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n    \tat sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\r\n    \tat sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:746)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:722)\r\n    \tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:306)\r\n    \tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:295)\r\n    \tat art.ExtractPage.main(ExtractPage.java:12)\r\n\r\nI found similar problem statements over internet  but dint found the exact solution to run my code, Anyone can help ?\r\nThanks in advance.","title":"Exception in thread &quot;main&quot; java.net.UnknownHostException: en.wikipedia.org - Jsoup","body":"<p>I am getting error while running below code.\nI tried more than 10 urls but the error is same (<code>java.net.UnknownHostException</code>).</p>\n\n<pre><code>public class ExtractPage {\n    public static void main (String args[]) throws IOException{\n        String url = \"https://en.wikipedia.org/wiki/English_language\";\n        Document doc = Jsoup.connect(url).get();\n    }\n}\n</code></pre>\n\n<p>Below is Error StackTrace:</p>\n\n<pre><code>Exception in thread \"main\" java.net.UnknownHostException: en.wikipedia.org\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:668)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:175)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\n    at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264)\n    at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:191)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1105)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:999)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:177)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:746)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:722)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:306)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:295)\n    at art.ExtractPage.main(ExtractPage.java:12)\n</code></pre>\n\n<p>I found similar problem statements over internet  but dint found the exact solution to run my code, Anyone can help ?\nThanks in advance.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1638358335,"post_id":70183399,"comment_id":124065335,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1638358387,"post_id":70183399,"comment_id":124065360,"body_markdown":"change `i &lt;= items.length` to `i &lt; items.length` and you&#39;ll get your desired result","body":"change <code>i &lt;= items.length</code> to <code>i &lt; items.length</code> and you&#39;ll get your desired result"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638358751,"creation_date":1638358751,"answer_id":70183521,"question_id":70183399,"body_markdown":"You can also use streams to build this list:\r\n\r\n```java\r\nList&lt;String&gt; data = Stream.of(items)\r\n        .map(item -&gt; item[0])\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nIf you still want to use a for loop go with (use `&lt;` instead of `&lt;=`):\r\n```java\r\nfor (int i = 0; i &lt; items.length; i++) {\r\n    data.add(items[i][0]);\r\n}\r\n```\r\n   ","title":"How to get first parameter from each 2D-array data in android studio using java","body":"<p>You can also use streams to build this list:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; data = Stream.of(items)\n        .map(item -&gt; item[0])\n        .collect(Collectors.toList());\n</code></pre>\n<p>If you still want to use a for loop go with (use <code>&lt;</code> instead of <code>&lt;=</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; items.length; i++) {\n    data.add(items[i][0]);\n}\n</code></pre>\n"}],"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70183521,"answer_count":1,"score":0,"last_activity_date":1638383638,"creation_date":1638358151,"question_id":70183399,"body_markdown":"I have a String 2D-array named items in my app like this :\r\n\r\n        String[][] items = {\r\n\r\n                {&quot;(kilogram)&quot;,&quot;1&quot;},\r\n                {&quot;(gram)&quot;,&quot;1000&quot;},\r\n                {&quot;(pound)&quot;,&quot;2.20462262&quot;},\r\n                {&quot;(pound - troy)&quot;,&quot;2.6792288807&quot;},\r\n                {&quot;(carat)&quot;,&quot;5000&quot;},\r\n                {&quot;(ounce)&quot;,&quot;35.2739619&quot;},\r\n                {&quot;(ounce - troy)&quot;,&quot;32.1507466&quot;},\r\n\r\n         }\r\n\r\nand I want to have a String ArrayList that include first parameter of each item data, something like this :\r\n\r\n    ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n    data = {(kilogram),(gram),(pound),(pound - troy),(carat),(ounce),(ounce - troy)}\r\n\r\ni used this code but unfortunately it didn&#39;t work \r\n\r\n        ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt;= items.length;) {\r\n            data.add(items[i][0]);\r\n            i++;\r\n        }\r\n\r\n\r\n","title":"How to get first parameter from each 2D-array data in android studio using java","body":"<p>I have a String 2D-array named items in my app like this :</p>\n<pre><code>    String[][] items = {\n\n            {&quot;(kilogram)&quot;,&quot;1&quot;},\n            {&quot;(gram)&quot;,&quot;1000&quot;},\n            {&quot;(pound)&quot;,&quot;2.20462262&quot;},\n            {&quot;(pound - troy)&quot;,&quot;2.6792288807&quot;},\n            {&quot;(carat)&quot;,&quot;5000&quot;},\n            {&quot;(ounce)&quot;,&quot;35.2739619&quot;},\n            {&quot;(ounce - troy)&quot;,&quot;32.1507466&quot;},\n\n     }\n</code></pre>\n<p>and I want to have a String ArrayList that include first parameter of each item data, something like this :</p>\n<pre><code>ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\ndata = {(kilogram),(gram),(pound),(pound - troy),(carat),(ounce),(ounce - troy)}\n</code></pre>\n<p>i used this code but unfortunately it didn't work</p>\n<pre><code>    ArrayList&lt;String&gt; data = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt;= items.length;) {\n        data.add(items[i][0]);\n        i++;\n    }\n</code></pre>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1635707590,"post_id":69776295,"comment_id":123361429,"body_markdown":"Your exception handler is being called and is throwing a new exception.","body":"Your exception handler is being called and is throwing a new exception."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638367822,"creation_date":1635562886,"answer_id":69776472,"question_id":69776295,"body_markdown":"This is speculation ... but I don&#39;t think so.\r\n\r\n--------------------\r\n\r\nAccording to the [provisional javadocs](https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()), `ExecutorService` now inherits `AutoClosable`, and it is specified that the default behavior of the `close()` method is to perform a clean shutdown and wait for it to complete.  (Note that this is described as *default behavior* not *required behavior*!)\r\n\r\nSo why couldn&#39;t they change the behavior to catch an resignal the exceptions on this thread&#39;s stack?\r\n\r\nOne problem is that specifying patterns of behavior that are logically consistent for both this case, and the case where the `ExecutorService` is not used as a resource in a `try with resources`.  In order to implement the behavior in this case, the `close()` method has to be informed by some other part of the executor service of the task&#39;s unhandled exception.  But if nothing calls `close()` then the exceptions can&#39;t be re-raised.  And if the `close()` is called in a finalizer or similar, there probably won&#39;t be anything to handle them.  At the very least, it is complicated.\r\n\r\nA second problem is that it would be difficult to handle the exception(s) in the general case.  What if more than one task failed with an exception?  What if different tasks failed with different exceptions?  How does the code that handles the exception (e.g. your `catch (RuntimeException e) ...` figure out which task failed?\r\n\r\nA third problem is that this would be a breaking change.  In Java 17 and earlier, the above code would not propagate any exceptions from the tasks.  In Java 18 and later it would.  Java 17 code that assumed there were no &quot;random&quot; exceptions from failed tasks delivered to *this* thread would break.\r\n\r\nA fourth point is that this would be an nuisance in use-cases where the Java 18+ programmer wants to treat the executor service as a resource, but does not want to deal with &quot;stray&quot; exceptions on this thread.  (I suspect that would be the majority of use-cases for autoclosing an executor service.)\r\n\r\nA fifth problem (if you want to call it that) is that it is a breaking change for early adopters of Loom.  (I am reading your question as saying that you tried it *with Loom* and it currently doesn&#39;t behave as you proposed.)\r\n\r\nThe final problem is that there are already ways to capture a task&#39;s exception and deliver it; e.g. via the `Future` objects returned when you `submit` a task.  This proposal is not filling a gap in `ExecutorService` functionality.\r\n\r\n(Phew!)\r\n\r\n--------------\r\n\r\nOf course I don&#39;t know that the Java developers will actually do.  And we won&#39;t collectively know until Loom is finally released as a non-preview feature of mainstream Java.\r\n\r\nAnyhow, if you want to lobby for this, you should email the Loom mailing list about it. ","title":"Will Exceptions in Project Loom someday purcolate up through ExecutorService contexts?","body":"<p>This is speculation ... but I don't think so.</p>\n<hr />\n<p>According to the <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()\" rel=\"nofollow noreferrer\">provisional javadocs</a>, <code>ExecutorService</code> now inherits <code>AutoClosable</code>, and it is specified that the default behavior of the <code>close()</code> method is to perform a clean shutdown and wait for it to complete.  (Note that this is described as <em>default behavior</em> not <em>required behavior</em>!)</p>\n<p>So why couldn't they change the behavior to catch an resignal the exceptions on this thread's stack?</p>\n<p>One problem is that specifying patterns of behavior that are logically consistent for both this case, and the case where the <code>ExecutorService</code> is not used as a resource in a <code>try with resources</code>.  In order to implement the behavior in this case, the <code>close()</code> method has to be informed by some other part of the executor service of the task's unhandled exception.  But if nothing calls <code>close()</code> then the exceptions can't be re-raised.  And if the <code>close()</code> is called in a finalizer or similar, there probably won't be anything to handle them.  At the very least, it is complicated.</p>\n<p>A second problem is that it would be difficult to handle the exception(s) in the general case.  What if more than one task failed with an exception?  What if different tasks failed with different exceptions?  How does the code that handles the exception (e.g. your <code>catch (RuntimeException e) ...</code> figure out which task failed?</p>\n<p>A third problem is that this would be a breaking change.  In Java 17 and earlier, the above code would not propagate any exceptions from the tasks.  In Java 18 and later it would.  Java 17 code that assumed there were no &quot;random&quot; exceptions from failed tasks delivered to <em>this</em> thread would break.</p>\n<p>A fourth point is that this would be an nuisance in use-cases where the Java 18+ programmer wants to treat the executor service as a resource, but does not want to deal with &quot;stray&quot; exceptions on this thread.  (I suspect that would be the majority of use-cases for autoclosing an executor service.)</p>\n<p>A fifth problem (if you want to call it that) is that it is a breaking change for early adopters of Loom.  (I am reading your question as saying that you tried it <em>with Loom</em> and it currently doesn't behave as you proposed.)</p>\n<p>The final problem is that there are already ways to capture a task's exception and deliver it; e.g. via the <code>Future</code> objects returned when you <code>submit</code> a task.  This proposal is not filling a gap in <code>ExecutorService</code> functionality.</p>\n<p>(Phew!)</p>\n<hr />\n<p>Of course I don't know that the Java developers will actually do.  And we won't collectively know until Loom is finally released as a non-preview feature of mainstream Java.</p>\n<p>Anyhow, if you want to lobby for this, you should email the Loom mailing list about it.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635707133,"creation_date":1635705647,"answer_id":69789543,"question_id":69776295,"body_markdown":"LOOM has made many improvements such as making `ExecutorService` an `AutoClosable` so it simplifies coding, eliminating calls to `shutdown` / `awaitTermination`. \r\n\r\nYour point on the expectation of neat exception handling applies to typical usage of `ExecutorService` in any JDK - not just the upcoming LOOM release - so IMO isn&#39;t obviously necessary to be tied in with LOOM work.  \r\n\r\nThe error handling you wish for is quite easy to incorporate with any version of JDK by adding a few lines of code around code blocks that use `ExecutorService`:\r\n\r\n    var ex = new AtomicReference&lt;RuntimeException&gt;();\r\n    try {\r\n        // add any use of ExecutorService here\r\n        \r\n        // eg OLD JDK style:\r\n        // var executorService = Executors.newFixedThreadPool(5);\r\n\r\n        try (var executorService = Executors.newThreadPerTaskExecutor(virtualThreadFactory)) {\r\n           ...\r\n              if (item == 8) {\r\n                  // Save exception before sending:\r\n                  ex.set(new RuntimeException(&quot;task 8 is acting up&quot;));\r\n                  throw ex.get();\r\n              }\r\n           ...\r\n        }\r\n        // OR: not-LOOM JDK call executorService.shutdown/awaitTermination here\r\n\r\n        // Pass on any handling problem\r\n        if (ex.get() != null)\r\n            throw ex.get();\r\n    }\r\n    catch (Exception e) {\r\n        System.err.println(&quot;Exception was: &quot;+e.getMessage());\r\n    }\r\n\r\nNot elegant as you hope for, but works in any JDK release.\r\n\r\n**EDIT** On your edited question:\r\n\r\nYou&#39;ve put `callable.call()` as the code inside `catch (ExecutionException e) {` so that you&#39;ve lost the first exception and `malcontent` raises a second exception. Add `System.out.println` to see the original:\r\n\r\n     catch (ExecutionException e) {\r\n         System.out.println(Thread.currentThread()+&quot; ExecutionException: &quot;+e);\r\n         e.printStackTrace();\r\n\r\n         // Why doesn&#39;t malcontent get caught here?\r\n         return callable.call() + &quot; - ExecutionException&quot;;\r\n     }\r\n","title":"Will Exceptions in Project Loom someday purcolate up through ExecutorService contexts?","body":"<p>LOOM has made many improvements such as making <code>ExecutorService</code> an <code>AutoClosable</code> so it simplifies coding, eliminating calls to <code>shutdown</code> / <code>awaitTermination</code>.</p>\n<p>Your point on the expectation of neat exception handling applies to typical usage of <code>ExecutorService</code> in any JDK - not just the upcoming LOOM release - so IMO isn't obviously necessary to be tied in with LOOM work.</p>\n<p>The error handling you wish for is quite easy to incorporate with any version of JDK by adding a few lines of code around code blocks that use <code>ExecutorService</code>:</p>\n<pre><code>var ex = new AtomicReference&lt;RuntimeException&gt;();\ntry {\n    // add any use of ExecutorService here\n    \n    // eg OLD JDK style:\n    // var executorService = Executors.newFixedThreadPool(5);\n\n    try (var executorService = Executors.newThreadPerTaskExecutor(virtualThreadFactory)) {\n       ...\n          if (item == 8) {\n              // Save exception before sending:\n              ex.set(new RuntimeException(&quot;task 8 is acting up&quot;));\n              throw ex.get();\n          }\n       ...\n    }\n    // OR: not-LOOM JDK call executorService.shutdown/awaitTermination here\n\n    // Pass on any handling problem\n    if (ex.get() != null)\n        throw ex.get();\n}\ncatch (Exception e) {\n    System.err.println(&quot;Exception was: &quot;+e.getMessage());\n}\n</code></pre>\n<p>Not elegant as you hope for, but works in any JDK release.</p>\n<p><strong>EDIT</strong> On your edited question:</p>\n<p>You've put <code>callable.call()</code> as the code inside <code>catch (ExecutionException e) {</code> so that you've lost the first exception and <code>malcontent</code> raises a second exception. Add <code>System.out.println</code> to see the original:</p>\n<pre><code> catch (ExecutionException e) {\n     System.out.println(Thread.currentThread()+&quot; ExecutionException: &quot;+e);\n     e.printStackTrace();\n\n     // Why doesn't malcontent get caught here?\n     return callable.call() + &quot; - ExecutionException&quot;;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638383286,"creation_date":1638383286,"answer_id":70189449,"question_id":69776295,"body_markdown":"I think, the closest to what you are trying to achieve, is\r\n\r\n```java\r\ntry(var executor = StructuredExecutor.open()) {\r\n    var handler = new StructuredExecutor.ShutdownOnFailure();\r\n    IntStream.range(0, 15).forEach(item -&gt; {\r\n        executor.fork(() -&gt; {\r\n            var milliseconds = item * 100;\r\n            System.out.println(Thread.currentThread()\r\n                + &quot;sleeping &quot; + milliseconds + &quot; milliseconds&quot;);\r\n            Thread.sleep(milliseconds);\r\n            System.out.println(Thread.currentThread() + &quot; awake&quot;);\r\n            if(item == 8) {\r\n                throw new RuntimeException(&quot;task 8 is acting up&quot;);\r\n            }\r\n            return null;\r\n        }, handler);\r\n    });\r\n\r\n    executor.join();\r\n\r\n    handler.throwIfFailed();\r\n}\r\ncatch(InterruptedException|ExecutionException ex) {\r\n    System.err.println(&quot;Caught in initiator thread&quot;);\r\n    ex.printStackTrace();\r\n}\r\n```\r\n\r\nwhich will run all jobs in virtual threads and generate an exception in the initiator thread when one of the jobs failed. `StructuredExecutor` is a new tool introduced by project Loom which allows to show the ownership of the created virtual threads to this specific job in diagnostic tools. But note that it’s `close()` won’t wait for the completion but rather requires the owner to do this before closing, throwing an exception if the developer failed to do so.\r\n\r\nThe behavior of classic `ExecutorService` implementations won’t change.\r\n\r\nA solution for the `ExecutorService` would be\r\n\r\n```java\r\ntry(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\r\n    var jobs = executor.invokeAll(IntStream.range(0, 15).&lt;Callable&lt;?&gt;&gt;mapToObj(item -&gt;\r\n        () -&gt; {\r\n            var milliseconds = item * 100;\r\n            System.out.println(Thread.currentThread()\r\n                + &quot; sleeping &quot; + milliseconds + &quot; milliseconds&quot;);\r\n            Thread.sleep(milliseconds);\r\n            System.out.println(Thread.currentThread() + &quot; awake&quot;);\r\n            if(item == 8) {\r\n                throw new RuntimeException(&quot;task 8 is acting up&quot;);\r\n            }\r\n            return null;\r\n        }).toList());\r\n\r\n    for(var f: jobs) f.get();\r\n}\r\ncatch(InterruptedException|ExecutionException ex) {\r\n    System.err.println(&quot;Caught in initiator thread&quot;);\r\n    ex.printStackTrace();\r\n}\r\n```\r\n\r\nNote that while `invokeAll` waits for the completion of all jobs, we still need the loop calling `get` to enforce an `ExecutionException` to be thrown in the initiating thread.\r\n","title":"Will Exceptions in Project Loom someday purcolate up through ExecutorService contexts?","body":"<p>I think, the closest to what you are trying to achieve, is</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(var executor = StructuredExecutor.open()) {\n    var handler = new StructuredExecutor.ShutdownOnFailure();\n    IntStream.range(0, 15).forEach(item -&gt; {\n        executor.fork(() -&gt; {\n            var milliseconds = item * 100;\n            System.out.println(Thread.currentThread()\n                + &quot;sleeping &quot; + milliseconds + &quot; milliseconds&quot;);\n            Thread.sleep(milliseconds);\n            System.out.println(Thread.currentThread() + &quot; awake&quot;);\n            if(item == 8) {\n                throw new RuntimeException(&quot;task 8 is acting up&quot;);\n            }\n            return null;\n        }, handler);\n    });\n\n    executor.join();\n\n    handler.throwIfFailed();\n}\ncatch(InterruptedException|ExecutionException ex) {\n    System.err.println(&quot;Caught in initiator thread&quot;);\n    ex.printStackTrace();\n}\n</code></pre>\n<p>which will run all jobs in virtual threads and generate an exception in the initiator thread when one of the jobs failed. <code>StructuredExecutor</code> is a new tool introduced by project Loom which allows to show the ownership of the created virtual threads to this specific job in diagnostic tools. But note that it’s <code>close()</code> won’t wait for the completion but rather requires the owner to do this before closing, throwing an exception if the developer failed to do so.</p>\n<p>The behavior of classic <code>ExecutorService</code> implementations won’t change.</p>\n<p>A solution for the <code>ExecutorService</code> would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n    var jobs = executor.invokeAll(IntStream.range(0, 15).&lt;Callable&lt;?&gt;&gt;mapToObj(item -&gt;\n        () -&gt; {\n            var milliseconds = item * 100;\n            System.out.println(Thread.currentThread()\n                + &quot; sleeping &quot; + milliseconds + &quot; milliseconds&quot;);\n            Thread.sleep(milliseconds);\n            System.out.println(Thread.currentThread() + &quot; awake&quot;);\n            if(item == 8) {\n                throw new RuntimeException(&quot;task 8 is acting up&quot;);\n            }\n            return null;\n        }).toList());\n\n    for(var f: jobs) f.get();\n}\ncatch(InterruptedException|ExecutionException ex) {\n    System.err.println(&quot;Caught in initiator thread&quot;);\n    ex.printStackTrace();\n}\n</code></pre>\n<p>Note that while <code>invokeAll</code> waits for the completion of all jobs, we still need the loop calling <code>get</code> to enforce an <code>ExecutionException</code> to be thrown in the initiating thread.</p>\n"}],"owner":{"account_id":4008983,"reputation":2115,"user_id":3302921,"accept_rate":22,"display_name":"Eric Kolotyluk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1638383286,"creation_date":1635559835,"question_id":69776295,"body_markdown":"From [loom-lab][1], given the code\r\n\r\n    var virtualThreadFactory = Thread.ofVirtual().factory();\r\n    \r\n    try (var executorService = Executors.newThreadPerTaskExecutor(virtualThreadFactory)) {\r\n        IntStream.range(0, 15).forEach(item -&gt; {\r\n            executorService.submit(() -&gt; {\r\n                try {\r\n                    var milliseconds = item * 1000;\r\n                    System.out.println(Thread.currentThread() + &quot; sleeping &quot; + milliseconds + &quot; milliseconds&quot;);\r\n                    Thread.sleep(milliseconds);\r\n                    System.out.println(Thread.currentThread() + &quot; awake&quot;);\r\n                    if (item == 8) throw new RuntimeException(&quot;task 8 is acting up&quot;);\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(&quot;Interrupted task = &quot; + item + &quot;, Thread ID = &quot; + Thread.currentThread());\r\n                }\r\n            });\r\n        });\r\n    }\r\n    catch (RuntimeException e) {\r\n        System.err.println(e.getMessage());\r\n    }\r\n\r\nMy hope was that the code would `catch` the `RuntimeException` and print the message, but it does not.\r\n\r\nAm I hoping for too much, or will this someday work as I hope?\r\n\r\n----------\r\nIn response to an amazing answer by Stephen C, which I can fully appreciate, upon further exploration I discovered via\r\n\r\n    static String spawn(\r\n            ExecutorService executorService,\r\n            Callable&lt;String&gt; callable,\r\n            Consumer&lt;Future&lt;String&gt;&gt; consumer\r\n    ) throws Exception {\r\n\r\n        try {\r\n            var result = executorService.submit(callable);\r\n            consumer.accept(result);\r\n            return result.get(3, TimeUnit.SECONDS);\r\n        }\r\n        catch (TimeoutException e) {\r\n            // The timeout expired...\r\n            return callable.call() + &quot; - TimeoutException&quot;;\r\n        }\r\n        catch (ExecutionException e) {\r\n            // Why doesn&#39;t malcontent get caught here?\r\n            return callable.call() + &quot; - ExecutionException&quot;;\r\n\r\n        }\r\n        catch (CancellationException e) {   // future.cancel(false);\r\n            // Exception was thrown\r\n            return callable.call() + &quot; - CancellationException&quot;;\r\n\r\n        }\r\n        catch (InterruptedException e) {    // future.cancel(true);\r\n            return callable.call() + &quot;- InterruptedException &quot;;\r\n\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    try (var executorService = Executors.newThreadPerTaskExecutor(threadFactory)) {\r\n        \r\n        Callable&lt;String&gt; malcontent = () -&gt; {\r\n            Thread.sleep(Duration.ofSeconds(2));\r\n            throw new IllegalStateException(&quot;malcontent acting up&quot;);\r\n        };\r\n\r\n        System.out.println(&quot;\\n\\nresult = &quot; + spawn(executorService, malcontent, (future) -&gt; {}));\r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();   // malcontent gets caught here\r\n    }\r\n\r\nI was expecting `malcontent` to get caught in `spawn` as an `ExecutionException` per the documentation, but it does not. Consequently, I have trouble reasoning about my expectations.\r\n\r\nMuch of my hope for Project Loom was that, unlike Functional Reactive Programming, I could once again rely on Exceptions to do the right thing, and reason about them such that I could predict what would happen without having to run experiments to validate what really happens.\r\n\r\nAs Steve Jobs (at NeXT) used to say: &quot;It just works&quot;\r\n\r\nSo far, my posting on loom-dev@openjdk.java.net has not been responded to... which is why I have used StackOverflow. I don&#39;t know the best way to engage the Project Loom developers.\r\n\r\n\r\n  [1]: https://github.com/kolotyluk/loom-lab","title":"Will Exceptions in Project Loom someday purcolate up through ExecutorService contexts?","body":"<p>From <a href=\"https://github.com/kolotyluk/loom-lab\" rel=\"nofollow noreferrer\">loom-lab</a>, given the code</p>\n<pre><code>var virtualThreadFactory = Thread.ofVirtual().factory();\n\ntry (var executorService = Executors.newThreadPerTaskExecutor(virtualThreadFactory)) {\n    IntStream.range(0, 15).forEach(item -&gt; {\n        executorService.submit(() -&gt; {\n            try {\n                var milliseconds = item * 1000;\n                System.out.println(Thread.currentThread() + &quot; sleeping &quot; + milliseconds + &quot; milliseconds&quot;);\n                Thread.sleep(milliseconds);\n                System.out.println(Thread.currentThread() + &quot; awake&quot;);\n                if (item == 8) throw new RuntimeException(&quot;task 8 is acting up&quot;);\n            } catch (InterruptedException e) {\n                System.out.println(&quot;Interrupted task = &quot; + item + &quot;, Thread ID = &quot; + Thread.currentThread());\n            }\n        });\n    });\n}\ncatch (RuntimeException e) {\n    System.err.println(e.getMessage());\n}\n</code></pre>\n<p>My hope was that the code would <code>catch</code> the <code>RuntimeException</code> and print the message, but it does not.</p>\n<p>Am I hoping for too much, or will this someday work as I hope?</p>\n<hr />\n<p>In response to an amazing answer by Stephen C, which I can fully appreciate, upon further exploration I discovered via</p>\n<pre><code>static String spawn(\n        ExecutorService executorService,\n        Callable&lt;String&gt; callable,\n        Consumer&lt;Future&lt;String&gt;&gt; consumer\n) throws Exception {\n\n    try {\n        var result = executorService.submit(callable);\n        consumer.accept(result);\n        return result.get(3, TimeUnit.SECONDS);\n    }\n    catch (TimeoutException e) {\n        // The timeout expired...\n        return callable.call() + &quot; - TimeoutException&quot;;\n    }\n    catch (ExecutionException e) {\n        // Why doesn't malcontent get caught here?\n        return callable.call() + &quot; - ExecutionException&quot;;\n\n    }\n    catch (CancellationException e) {   // future.cancel(false);\n        // Exception was thrown\n        return callable.call() + &quot; - CancellationException&quot;;\n\n    }\n    catch (InterruptedException e) {    // future.cancel(true);\n        return callable.call() + &quot;- InterruptedException &quot;;\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>try (var executorService = Executors.newThreadPerTaskExecutor(threadFactory)) {\n    \n    Callable&lt;String&gt; malcontent = () -&gt; {\n        Thread.sleep(Duration.ofSeconds(2));\n        throw new IllegalStateException(&quot;malcontent acting up&quot;);\n    };\n\n    System.out.println(&quot;\\n\\nresult = &quot; + spawn(executorService, malcontent, (future) -&gt; {}));\n\n} catch (Exception e) {\n    e.printStackTrace();   // malcontent gets caught here\n}\n</code></pre>\n<p>I was expecting <code>malcontent</code> to get caught in <code>spawn</code> as an <code>ExecutionException</code> per the documentation, but it does not. Consequently, I have trouble reasoning about my expectations.</p>\n<p>Much of my hope for Project Loom was that, unlike Functional Reactive Programming, I could once again rely on Exceptions to do the right thing, and reason about them such that I could predict what would happen without having to run experiments to validate what really happens.</p>\n<p>As Steve Jobs (at NeXT) used to say: &quot;It just works&quot;</p>\n<p>So far, my posting on loom-dev@openjdk.java.net has not been responded to... which is why I have used StackOverflow. I don't know the best way to engage the Project Loom developers.</p>\n"},{"tags":["java","rest","android-pay"],"answers":[{"tags":[],"owner":{"account_id":4236357,"reputation":452,"user_id":3467394,"display_name":"Arshad M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1397818718,"creation_date":1397818718,"answer_id":23152717,"question_id":23056564,"body_markdown":"Go to the google wallet quick start java page [link here][1] and download the sample and configure and build the sample finally run and verify the sample. \r\n\r\n\r\n  [1]: https://developers.google.com/wallet/instant-buy/web/quickstart-java","title":"How to use Google Wallet API with JAVA","body":"<p>Go to the google wallet quick start java page <a href=\"https://developers.google.com/wallet/instant-buy/web/quickstart-java\" rel=\"nofollow\">link here</a> and download the sample and configure and build the sample finally run and verify the sample. </p>\n"}],"owner":{"account_id":2583037,"reputation":457,"user_id":2239301,"accept_rate":50,"display_name":"Surodip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1096,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638383040,"creation_date":1397467790,"question_id":23056564,"body_markdown":"I am trying to use Google Wallet API in a sample project. I read about Google Wallet and found there is two ways to use: Javascript and Android.\r\n\r\nBut I want to know is there any REST API to call from Java code and implement google Wallet?\r\n\r\nThanks,\r\nSurodip","title":"How to use Google Wallet API with JAVA","body":"<p>I am trying to use Google Wallet API in a sample project. I read about Google Wallet and found there is two ways to use: Javascript and Android.</p>\n\n<p>But I want to know is there any REST API to call from Java code and implement google Wallet?</p>\n\n<p>Thanks,\nSurodip</p>\n"},{"tags":["java","android","api","android-studio","file-upload"],"comments":[{"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"ʀᴀʜɪʟ"},"score":0,"creation_date":1642481881,"post_id":70188397,"comment_id":125075442,"body_markdown":"Are you still searching for a solution? If yes, I have one","body":"Are you still searching for a solution? If yes, I have one"}],"answers":[{"tags":[],"owner":{"account_id":9400379,"reputation":442,"user_id":9754585,"display_name":"Drivers Sea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638381166,"creation_date":1638381166,"answer_id":70189014,"question_id":70188397,"body_markdown":"There are a few things you would need to do in Android just to be aloud to do it. First, you would need to get permission to contact the internet, the storage on the device. Here is a great tutorial on how to do what you want to get done.\r\n\r\nhttps://www.youtube.com/watch?v=j3hdVJ9aCWs","title":"How to upload files to anonfile api android studio","body":"<p>There are a few things you would need to do in Android just to be aloud to do it. First, you would need to get permission to contact the internet, the storage on the device. Here is a great tutorial on how to do what you want to get done.</p>\n<p><a href=\"https://www.youtube.com/watch?v=j3hdVJ9aCWs\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=j3hdVJ9aCWs</a></p>\n"}],"owner":{"account_id":20660272,"reputation":1,"user_id":15168390,"display_name":"Sergei Ndreu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638382628,"creation_date":1638378441,"question_id":70188397,"body_markdown":"I am trying to make an app and be able to upload files to anonfiles through their api. But i really don&#39;t know how because i have never used this type of api.\r\n\r\n\r\nRequest example\r\n\r\n    curl -F &quot;file=@test.txt&quot; https://api.anonfiles.com/upload\r\n\r\nI tried this in a webview and it works but i want to make able to upload without webview \r\n```\r\n&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;https://api.anonfiles.com/v1/upload&quot; method=&quot;POST&quot;&gt; \r\n    &lt;!-- MAX_FILE_SIZE must precede the file input field --&gt; \r\n    &lt;input type=&quot;hidden&quot; name=&quot;MAX_FILE_SIZE&quot; value=&quot;30000&quot; /&gt; \r\n    &lt;!-- Name of input element determines name in $_FILES array --&gt; \r\n    Send this file: &lt;input name=&quot;file&quot; type=&quot;file&quot; /&gt; \r\n    &lt;input type=&quot;submit&quot; value=&quot;Send File&quot; /&gt; \r\n&lt;/form&gt; \r\n```\r\n\r\n","title":"How to upload files to anonfile api android studio","body":"<p>I am trying to make an app and be able to upload files to anonfiles through their api. But i really don't know how because i have never used this type of api.</p>\n<p>Request example</p>\n<pre><code>curl -F &quot;file=@test.txt&quot; https://api.anonfiles.com/upload\n</code></pre>\n<p>I tried this in a webview and it works but i want to make able to upload without webview</p>\n<pre><code>&lt;form enctype=&quot;multipart/form-data&quot; action=&quot;https://api.anonfiles.com/v1/upload&quot; method=&quot;POST&quot;&gt; \n    &lt;!-- MAX_FILE_SIZE must precede the file input field --&gt; \n    &lt;input type=&quot;hidden&quot; name=&quot;MAX_FILE_SIZE&quot; value=&quot;30000&quot; /&gt; \n    &lt;!-- Name of input element determines name in $_FILES array --&gt; \n    Send this file: &lt;input name=&quot;file&quot; type=&quot;file&quot; /&gt; \n    &lt;input type=&quot;submit&quot; value=&quot;Send File&quot; /&gt; \n&lt;/form&gt; \n</code></pre>\n"},{"tags":["java","amazon-ec2","apache-flink","flink-streaming","flink-sql"],"comments":[{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":0,"creation_date":1638460027,"post_id":70189296,"comment_id":124099223,"body_markdown":"Hi. Did you enable the checkpointing and recover options ? It not solve the problem, but it can mitigate the real time data loses.","body":"Hi. Did you enable the checkpointing and recover options ? It not solve the problem, but it can mitigate the real time data loses."},{"owner":{"account_id":13151324,"reputation":25,"user_id":9499875,"display_name":"Mehul"},"score":1,"creation_date":1638517046,"post_id":70189296,"comment_id":124114315,"body_markdown":"Yes, the checkpointing is enabled but due to watermarking the events get missed which causes false calculation.","body":"Yes, the checkpointing is enabled but due to watermarking the events get missed which causes false calculation."},{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":0,"creation_date":1638518928,"post_id":70189296,"comment_id":124114867,"body_markdown":"Can you show the stream definition code ?","body":"Can you show the stream definition code ?"}],"owner":{"account_id":13151324,"reputation":25,"user_id":9499875,"display_name":"Mehul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638382443,"creation_date":1638382443,"question_id":70189296,"body_markdown":"Could Someone please assist me How can I come over this Lost Leadership Issue/Error as this causing Real-time jobs to miss the timelines and this happens with the Flink cluster every once a month?\r\n\r\n       java.lang.Exception: Job leader for job id f7df1578fb94f7b6d8bc1b84ad4649aa lost leadership.\r\n    \tat org.apache.flink.runtime.taskexecutor.TaskExecutor$JobLeaderListenerImpl.lambda$null$2(TaskExecutor.java:2189)\r\n    \tat java.util.Optional.ifPresent(Optional.java:159)\r\n    \tat org.apache.flink.runtime.taskexecutor.TaskExecutor$JobLeaderListenerImpl.lambda$jobManagerLostLeadership$3(TaskExecutor.java:2187)\r\n    \tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:440)\r\n    \tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:208)\r\n    \tat org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:158)\r\n    \tat akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)\r\n    \tat akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)\r\n    \tat scala.PartialFunction.applyOrElse(PartialFunction.scala:123)\r\n    \tat scala.PartialFunction.applyOrElse$(PartialFunction.scala:122)\r\n    \tat akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)\r\n    \tat scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)\r\n    \tat scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\r\n    \tat scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\r\n    \tat akka.actor.Actor.aroundReceive(Actor.scala:517)\r\n    \tat akka.actor.Actor.aroundReceive$(Actor.scala:515)\r\n    \tat akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)\r\n    \tat akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)\r\n    \tat akka.actor.ActorCell.invoke(ActorCell.scala:561)\r\n    \tat akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)\r\n    \tat akka.dispatch.Mailbox.run(Mailbox.scala:225)\r\n    \tat akka.dispatch.Mailbox.exec(Mailbox.scala:235)\r\n    \tat akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n    \tat akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\r\n    \tat akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\r\n    \tat akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)","title":"Flink Cluster 1.13.1 Streaming Job fails with Lost leadership Issues","body":"<p>Could Someone please assist me How can I come over this Lost Leadership Issue/Error as this causing Real-time jobs to miss the timelines and this happens with the Flink cluster every once a month?</p>\n<pre><code>   java.lang.Exception: Job leader for job id f7df1578fb94f7b6d8bc1b84ad4649aa lost leadership.\n    at org.apache.flink.runtime.taskexecutor.TaskExecutor$JobLeaderListenerImpl.lambda$null$2(TaskExecutor.java:2189)\n    at java.util.Optional.ifPresent(Optional.java:159)\n    at org.apache.flink.runtime.taskexecutor.TaskExecutor$JobLeaderListenerImpl.lambda$jobManagerLostLeadership$3(TaskExecutor.java:2187)\n    at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRunAsync(AkkaRpcActor.java:440)\n    at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleRpcMessage(AkkaRpcActor.java:208)\n    at org.apache.flink.runtime.rpc.akka.AkkaRpcActor.handleMessage(AkkaRpcActor.java:158)\n    at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:26)\n    at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:21)\n    at scala.PartialFunction.applyOrElse(PartialFunction.scala:123)\n    at scala.PartialFunction.applyOrElse$(PartialFunction.scala:122)\n    at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:21)\n    at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:171)\n    at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\n    at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:172)\n    at akka.actor.Actor.aroundReceive(Actor.scala:517)\n    at akka.actor.Actor.aroundReceive$(Actor.scala:515)\n    at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:225)\n    at akka.actor.ActorCell.receiveMessage(ActorCell.scala:592)\n    at akka.actor.ActorCell.invoke(ActorCell.scala:561)\n    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:258)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:225)\n    at akka.dispatch.Mailbox.exec(Mailbox.scala:235)\n    at akka.dispatch.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\n    at akka.dispatch.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\n    at akka.dispatch.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\n    at akka.dispatch.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\n</code></pre>\n"},{"tags":["java","ico"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1377813672,"post_id":18521470,"comment_id":27237560,"body_markdown":"Unless you have an absolute need to reinvent the wheel, take a look at [image4j](http://image4j.sourceforge.net/)","body":"Unless you have an absolute need to reinvent the wheel, take a look at <a href=\"http://image4j.sourceforge.net/\" rel=\"nofollow noreferrer\">image4j</a>"},{"owner":{"account_id":2803354,"reputation":737,"user_id":2411137,"accept_rate":80,"display_name":"Popgalop"},"score":2,"creation_date":1377813868,"post_id":18521470,"comment_id":27237629,"body_markdown":"one of the things i enjoy doing in java is figuring out how the internals of different file formats works, also i would not like to deal with any licenses","body":"one of the things i enjoy doing in java is figuring out how the internals of different file formats works, also i would not like to deal with any licenses"},{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":0,"creation_date":1377813890,"post_id":18521470,"comment_id":27237636,"body_markdown":"You could also read image4j source code to compare it to yours. Same link as @MadProgrammer gave and follow it to downloads. The source is in the zip file you download.","body":"You could also read image4j source code to compare it to yours. Same link as @MadProgrammer gave and follow it to downloads. The source is in the zip file you download."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1377813915,"post_id":18521470,"comment_id":27237641,"body_markdown":"`image4j` is free and open source.  You could download the source code and see what the author is doing to provide you with some ideas for your problem...","body":"<code>image4j</code> is free and open source.  You could download the source code and see what the author is doing to provide you with some ideas for your problem..."},{"owner":{"account_id":2803354,"reputation":737,"user_id":2411137,"accept_rate":80,"display_name":"Popgalop"},"score":0,"creation_date":1377994164,"post_id":18521470,"comment_id":27294475,"body_markdown":"it was to hard to find my way around","body":"it was to hard to find my way around"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1378548720,"post_id":18521470,"comment_id":27500585,"body_markdown":"I am not sure if the flush is necessary. But using the `flush()` after the `close()` makes no sense. So, for starters, I would suggest to change the order of those 2 statements.","body":"I am not sure if the flush is necessary. But using the <code>flush()</code> after the <code>close()</code> makes no sense. So, for starters, I would suggest to change the order of those 2 statements."}],"answers":[{"tags":[],"owner":{"account_id":203844,"reputation":3645,"user_id":451726,"accept_rate":72,"display_name":"404 Not Found"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378096968,"creation_date":1378000194,"answer_id":18554471,"question_id":18521470,"body_markdown":"I believe `bytes.putShort((short) 0);//bits per pixel` should be changed to have the value 32, instead of 0. \r\n\r\nIf you&#39;re getting that little picture you edited in after changing the value to 32, then I&#39;m going to say that, on second thought, it&#39;s probably actually 16.","title":"Writing ico files java","body":"<p>I believe <code>bytes.putShort((short) 0);//bits per pixel</code> should be changed to have the value 32, instead of 0. </p>\n\n<p>If you're getting that little picture you edited in after changing the value to 32, then I'm going to say that, on second thought, it's probably actually 16.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378017838,"creation_date":1378017838,"answer_id":18555960,"question_id":18521470,"body_markdown":"Have you tried:\r\n\r\n    bytes.putShort((short) img.getColorModel().getPixelSize()); //bits per pixel\r\n\r\nas seen in [`image4j.BMPEncoder#createInfoHeader`][1], which is called by [`image4j.ICOEncoder#write`][2]?\r\n\r\nIf there are other issues, most of the relevant code for you seems to be in those two methods.\r\n\r\n[1]: https://github.com/vijedi/image4j/blob/master/src/net/sf/image4j/codec/bmp/BMPEncoder.java\r\n[2]: https://github.com/vijedi/image4j/blob/master/src/net/sf/image4j/codec/ico/ICOEncoder.java","title":"Writing ico files java","body":"<p>Have you tried:</p>\n\n<pre><code>bytes.putShort((short) img.getColorModel().getPixelSize()); //bits per pixel\n</code></pre>\n\n<p>as seen in <a href=\"https://github.com/vijedi/image4j/blob/master/src/net/sf/image4j/codec/bmp/BMPEncoder.java\" rel=\"nofollow\"><code>image4j.BMPEncoder#createInfoHeader</code></a>, which is called by <a href=\"https://github.com/vijedi/image4j/blob/master/src/net/sf/image4j/codec/ico/ICOEncoder.java\" rel=\"nofollow\"><code>image4j.ICOEncoder#write</code></a>?</p>\n\n<p>If there are other issues, most of the relevant code for you seems to be in those two methods.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1378312094,"creation_date":1378312094,"answer_id":18619196,"question_id":18521470,"body_markdown":"Strange…but: make the BMP picture twice as high as the desired icon. Keep the declared icon size in the ICO header as before, only the picture should be higher. Then keep the area (0,0)-(16,16) black (its defining the transparency but I don’t know how it is encoded, all black for opaque works). Draw the desired contents in the BufferedImage in the area (0,16)-(16,32). In other words, add the half of the height to all pixel coordinates.\r\n\r\nBeware that the Windows Desktop might cache icons and refuse to update them on the desktop. If in doubt open the desktop folder through another Explorer window and perform “Update” there.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    import java.util.Arrays;\r\n\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class IconWriter\r\n    {\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n          // note the double height\r\n            BufferedImage img = new BufferedImage(16, 32, BufferedImage.TYPE_INT_RGB);\r\n            Graphics g = img.getGraphics();\r\n            g.setColor(Color.GREEN);\r\n            g.fillRect(0, 16, 16, 16);// added 16 to y coordinate\r\n            byte[] imgBytes = getImgBytes(img);\r\n            int fileSize = imgBytes.length + 22;\r\n            ByteBuffer bytes = ByteBuffer.allocate(fileSize);\r\n            bytes.order(ByteOrder.LITTLE_ENDIAN);\r\n            bytes.putShort((short) 0);//Reserved must be 0\r\n            bytes.putShort((short) 1);//Image type\r\n            bytes.putShort((short) 1);//Number of images in file\r\n            bytes.put((byte) img.getWidth());//image width\r\n            bytes.put((byte) (img.getHeight()&gt;&gt;1));//image height, half the BMP height\r\n            bytes.put((byte) 0);//number of colors in color palette\r\n            bytes.put((byte) 0);//reserved must be 0\r\n            bytes.putShort((short) 0);//color planes\r\n            bytes.putShort((short) 0);//bits per pixel\r\n            bytes.putInt(imgBytes.length);//image size\r\n            bytes.putInt(22);//image offset\r\n            bytes.put(imgBytes);\r\n            byte[] result = bytes.array();\r\n            FileOutputStream fos = new FileOutputStream(System.getProperty(&quot;user.home&quot;)+&quot;\\\\Desktop\\\\hi.ico&quot;);\r\n            fos.write(result);\r\n            fos.close();\r\n            fos.flush();\r\n        }\r\n\r\n        private static byte[] getImgBytes(BufferedImage img) throws IOException\r\n        {\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            ImageIO.write(img, &quot;bmp&quot;, bos);\r\n            byte[] bytes = bos.toByteArray();\r\n            return Arrays.copyOfRange(bytes, 14, bytes.length);\r\n        }\r\n    }\r\n","title":"Writing ico files java","body":"<p>Strange…but: make the BMP picture twice as high as the desired icon. Keep the declared icon size in the ICO header as before, only the picture should be higher. Then keep the area (0,0)-(16,16) black (its defining the transparency but I don’t know how it is encoded, all black for opaque works). Draw the desired contents in the BufferedImage in the area (0,16)-(16,32). In other words, add the half of the height to all pixel coordinates.</p>\n\n<p>Beware that the Windows Desktop might cache icons and refuse to update them on the desktop. If in doubt open the desktop folder through another Explorer window and perform “Update” there.</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.util.Arrays;\n\nimport javax.imageio.ImageIO;\n\npublic class IconWriter\n{\n    public static void main(String[] args) throws IOException\n    {\n      // note the double height\n        BufferedImage img = new BufferedImage(16, 32, BufferedImage.TYPE_INT_RGB);\n        Graphics g = img.getGraphics();\n        g.setColor(Color.GREEN);\n        g.fillRect(0, 16, 16, 16);// added 16 to y coordinate\n        byte[] imgBytes = getImgBytes(img);\n        int fileSize = imgBytes.length + 22;\n        ByteBuffer bytes = ByteBuffer.allocate(fileSize);\n        bytes.order(ByteOrder.LITTLE_ENDIAN);\n        bytes.putShort((short) 0);//Reserved must be 0\n        bytes.putShort((short) 1);//Image type\n        bytes.putShort((short) 1);//Number of images in file\n        bytes.put((byte) img.getWidth());//image width\n        bytes.put((byte) (img.getHeight()&gt;&gt;1));//image height, half the BMP height\n        bytes.put((byte) 0);//number of colors in color palette\n        bytes.put((byte) 0);//reserved must be 0\n        bytes.putShort((short) 0);//color planes\n        bytes.putShort((short) 0);//bits per pixel\n        bytes.putInt(imgBytes.length);//image size\n        bytes.putInt(22);//image offset\n        bytes.put(imgBytes);\n        byte[] result = bytes.array();\n        FileOutputStream fos = new FileOutputStream(System.getProperty(\"user.home\")+\"\\\\Desktop\\\\hi.ico\");\n        fos.write(result);\n        fos.close();\n        fos.flush();\n    }\n\n    private static byte[] getImgBytes(BufferedImage img) throws IOException\n    {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ImageIO.write(img, \"bmp\", bos);\n        byte[] bytes = bos.toByteArray();\n        return Arrays.copyOfRange(bytes, 14, bytes.length);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1378563220,"creation_date":1378561160,"answer_id":18673899,"question_id":18521470,"body_markdown":"Actually, the problem you are having is mentioned in the specs (at wikipedia).\r\nQuote:\r\n\r\n&gt; Images with **less than 32 bits of color** depth[6] follow a particular\r\n&gt; format: the image is encoded as a single image consisting of a color\r\n&gt; mask (the &quot;XOR mask&quot;) together with an opacity mask (the &quot;AND mask&quot;).\r\n\r\nThat&#39;s very complicated.\r\n\r\n##Creating a 32-bit image -&gt; fails\r\nSo, the quote above might make you think: &quot;*Oh, I just have to make the image 32-bit instead of 24-bit*&quot;, as a workaround. Unfortunately that won&#39;t work. Well, actually there exists a 32-bit BMP format. But the last 8 bits are not really used, because BMP files do not really support transparency.\r\n\r\nSo, you could get tempted to use a different image type: `INT_ARGB_PRE` which uses a 32-bit color depth. But as soon as you try to save it with the `ImageIO` class, you will notice that **nothing happens.** The content of the stream will be `null`.\r\n\r\n    BufferedImage img = new BufferedImage(16, 16, BufferedImage.TYPE_INT_ARGB_PRE);\r\n    ImageIO.write(img, &quot;bmp&quot;, bos);\r\n\r\n\r\n##Alternative solution: image4j\r\n`ImageIO` cannot handle 32-bit images, but there are other libraries that can do the trick. The `image4J` libs can save 32-bit bmp files. But my guess is that for some reason you do not want to use this library. (Using `image4J` would make most of your code above pointless, because `image4j`has built-in ICO creation support).\r\n\r\n\r\n##Second option: creating a shifted 24-bit image -&gt; works\r\nSo, let&#39;s take a second look at what wikipedia says about &lt; 32-bit BMP data.\r\n\r\n&gt; **The height for the image in the ICONDIRENTRY structure of the ICO/CUR \r\n&gt; file takes on that of the intended image dimensions** (after the masks \r\n&gt; are composited), whereas the height in the BMP header takes on that \r\n&gt; of the two mask images combined (before they are composited). \r\n&gt; Therefore, the masks must each be of the same dimensions, \r\n&gt; and **the height specified in the BMP header must be exactly twice the \r\n&gt; height specified in the ICONDIRENTRY structure**.\r\n\r\nSo, the second solution is to create an image that is twice the original size. And you actually only have to replace your `getImageBytes` function for that, with the one below. As mentioned above the `ICONDIRENTRY` header specified in the other part of your code keeps the original image height.\r\n\r\n      private static byte[] getImgBytes(BufferedImage img) throws IOException\r\n      {\r\n        // create a new image, with 2x the original height.\r\n        BufferedImage img2 = new BufferedImage(img.getWidth(), img.getHeight()*2, BufferedImage.TYPE_INT_RGB);\r\n    \r\n        // copy paste the pixels, but move them half the height.\r\n        Raster sourceRaster = img.getRaster();\r\n        WritableRaster destinationRaster = img2.getRaster();\r\n        destinationRaster.setRect(0, img.getHeight(), sourceRaster);\r\n    \r\n        // save the new image to BMP format. \r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        ImageIO.write(img2, &quot;bmp&quot;, bos);\r\n    \r\n        // strip the first 14 bytes (contains the bitmap-file-header)\r\n        // the next 40 bytes contains the DIB header which we still need.\r\n        // the pixel data follows until the end of the file.\r\n        byte[] bytes = bos.toByteArray();\r\n        return Arrays.copyOfRange(bytes, 14, bytes.length);\r\n      }\r\n\r\nI propose to use the headers as follows:\r\n\r\n    ByteBuffer bytes = ByteBuffer.allocate(fileSize);\r\n    bytes.order(ByteOrder.LITTLE_ENDIAN);\r\n\r\n    bytes.putShort((short) 0);\r\n    bytes.putShort((short) 1);\r\n    bytes.putShort((short) 1);\r\n    bytes.put((byte) img.getWidth());\r\n    bytes.put((byte) img.getHeight()); //no need to multiply\r\n    bytes.put((byte) img.getColorModel().getNumColorComponents()); //the pallet size\r\n    bytes.put((byte) 0);\r\n    bytes.putShort((short) 1); //should be 1\r\n    bytes.putShort((short) img.getColorModel().getPixelSize()); //bits per pixel\r\n    bytes.putInt(imgBytes.length);\r\n    bytes.putInt(22);\r\n    bytes.put(imgBytes);\r\n","title":"Writing ico files java","body":"<p>Actually, the problem you are having is mentioned in the specs (at wikipedia).\nQuote:</p>\n\n<blockquote>\n  <p>Images with <strong>less than 32 bits of color</strong> depth[6] follow a particular\n  format: the image is encoded as a single image consisting of a color\n  mask (the \"XOR mask\") together with an opacity mask (the \"AND mask\").</p>\n</blockquote>\n\n<p>That's very complicated.</p>\n\n<h2>Creating a 32-bit image -> fails</h2>\n\n<p>So, the quote above might make you think: \"<em>Oh, I just have to make the image 32-bit instead of 24-bit</em>\", as a workaround. Unfortunately that won't work. Well, actually there exists a 32-bit BMP format. But the last 8 bits are not really used, because BMP files do not really support transparency.</p>\n\n<p>So, you could get tempted to use a different image type: <code>INT_ARGB_PRE</code> which uses a 32-bit color depth. But as soon as you try to save it with the <code>ImageIO</code> class, you will notice that <strong>nothing happens.</strong> The content of the stream will be <code>null</code>.</p>\n\n<pre><code>BufferedImage img = new BufferedImage(16, 16, BufferedImage.TYPE_INT_ARGB_PRE);\nImageIO.write(img, \"bmp\", bos);\n</code></pre>\n\n<h2>Alternative solution: image4j</h2>\n\n<p><code>ImageIO</code> cannot handle 32-bit images, but there are other libraries that can do the trick. The <code>image4J</code> libs can save 32-bit bmp files. But my guess is that for some reason you do not want to use this library. (Using <code>image4J</code> would make most of your code above pointless, because <code>image4j</code>has built-in ICO creation support).</p>\n\n<h2>Second option: creating a shifted 24-bit image -> works</h2>\n\n<p>So, let's take a second look at what wikipedia says about &lt; 32-bit BMP data.</p>\n\n<blockquote>\n  <p><strong>The height for the image in the ICONDIRENTRY structure of the ICO/CUR \n  file takes on that of the intended image dimensions</strong> (after the masks \n  are composited), whereas the height in the BMP header takes on that \n  of the two mask images combined (before they are composited). \n  Therefore, the masks must each be of the same dimensions, \n  and <strong>the height specified in the BMP header must be exactly twice the \n  height specified in the ICONDIRENTRY structure</strong>.</p>\n</blockquote>\n\n<p>So, the second solution is to create an image that is twice the original size. And you actually only have to replace your <code>getImageBytes</code> function for that, with the one below. As mentioned above the <code>ICONDIRENTRY</code> header specified in the other part of your code keeps the original image height.</p>\n\n<pre><code>  private static byte[] getImgBytes(BufferedImage img) throws IOException\n  {\n    // create a new image, with 2x the original height.\n    BufferedImage img2 = new BufferedImage(img.getWidth(), img.getHeight()*2, BufferedImage.TYPE_INT_RGB);\n\n    // copy paste the pixels, but move them half the height.\n    Raster sourceRaster = img.getRaster();\n    WritableRaster destinationRaster = img2.getRaster();\n    destinationRaster.setRect(0, img.getHeight(), sourceRaster);\n\n    // save the new image to BMP format. \n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ImageIO.write(img2, \"bmp\", bos);\n\n    // strip the first 14 bytes (contains the bitmap-file-header)\n    // the next 40 bytes contains the DIB header which we still need.\n    // the pixel data follows until the end of the file.\n    byte[] bytes = bos.toByteArray();\n    return Arrays.copyOfRange(bytes, 14, bytes.length);\n  }\n</code></pre>\n\n<p>I propose to use the headers as follows:</p>\n\n<pre><code>ByteBuffer bytes = ByteBuffer.allocate(fileSize);\nbytes.order(ByteOrder.LITTLE_ENDIAN);\n\nbytes.putShort((short) 0);\nbytes.putShort((short) 1);\nbytes.putShort((short) 1);\nbytes.put((byte) img.getWidth());\nbytes.put((byte) img.getHeight()); //no need to multiply\nbytes.put((byte) img.getColorModel().getNumColorComponents()); //the pallet size\nbytes.put((byte) 0);\nbytes.putShort((short) 1); //should be 1\nbytes.putShort((short) img.getColorModel().getPixelSize()); //bits per pixel\nbytes.putInt(imgBytes.length);\nbytes.putInt(22);\nbytes.put(imgBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15403988,"reputation":1,"user_id":11112588,"display_name":"Mahesh Shivaji Mane."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638381704,"creation_date":1638381704,"answer_id":70189150,"question_id":18521470,"body_markdown":"Please try below,\r\nImageIo will support only png,jpg,jpeg,gif,bmp formats.\r\n\r\nTo write icons, please add below dependancy.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.image4j/image4j --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.image4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;image4j&lt;/artifactId&gt;\r\n        &lt;version&gt;0.7zensight1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUse `ICODecoder.write(image, file)`;","title":"Writing ico files java","body":"<p>Please try below,\nImageIo will support only png,jpg,jpeg,gif,bmp formats.</p>\n<p>To write icons, please add below dependancy.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/net.sf.image4j/image4j --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.image4j&lt;/groupId&gt;\n    &lt;artifactId&gt;image4j&lt;/artifactId&gt;\n    &lt;version&gt;0.7zensight1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use <code>ICODecoder.write(image, file)</code>;</p>\n"}],"owner":{"account_id":2803354,"reputation":737,"user_id":2411137,"accept_rate":80,"display_name":"Popgalop"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4434,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":18673899,"answer_count":5,"score":11,"last_activity_date":1638381704,"creation_date":1377812654,"question_id":18521470,"body_markdown":"Recently i have become interested in creating .ico file or windows icon files in java.  This is the current code i use.  I have gotten the file format specs from here http://en.wikipedia.org/wiki/ICO_%28file_format%29\r\n\r\n        BufferedImage img = new BufferedImage(16, 16, BufferedImage.TYPE_INT_RGB);\r\n\t\tGraphics g = img.getGraphics();\r\n\t\tg.setColor(Color.GREEN);\r\n\t\tg.fillRect(0, 0, 16, 16);\r\n\t\tbyte[] imgBytes = getImgBytes(img);\r\n\t\tint fileSize = imgBytes.length + 22;\r\n\t\tByteBuffer bytes = ByteBuffer.allocate(fileSize);\r\n\t\tbytes.order(ByteOrder.LITTLE_ENDIAN);\r\n\t\tbytes.putShort((short) 0);//Reserved must be 0\r\n\t\tbytes.putShort((short) 1);//Image type\r\n\t\tbytes.putShort((short) 1);//Number of image in file\r\n\t\tbytes.put((byte) img.getWidth());//image width\r\n\t\tbytes.put((byte) img.getHeight());//image height\r\n\t\tbytes.put((byte) 0);//number of colors in color palette\r\n\t\tbytes.put((byte) 0);//reserved must be 0\r\n\t\tbytes.putShort((short) 0);//color planes\r\n\t\tbytes.putShort((short) 0);//bits per pixel\r\n\t\tbytes.putInt(imgBytes.length);//image size\r\n\t\tbytes.putInt(22);//image offset\r\n\t\tbytes.put(imgBytes);\r\n\t\tbyte[] result = bytes.array();\r\n\t\tFileOutputStream fos = new FileOutputStream(&quot;C://Users//Owner//Desktop//picture.ico&quot;);\r\n\t\tfos.write(result);\r\n\t\tfos.close();\r\n\t\tfos.flush();\r\n\r\n    private static byte[] getImgBytes(BufferedImage img) throws IOException\r\n    {\r\n    \tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    \tImageIO.write(img, &quot;png&quot;, bos);\r\n    \treturn bos.toByteArray();\r\n    }\r\n\r\nThe problem is that windows doesn&#39;t seem to be able to open the image, giving an error when i try to open the image using Windows Photo Gallery.  However when i try to open the image using gimp the image opens fine.  What am i doing wrong. I feel like i am messing up something in the file header.  Edit: Even stranger on the desktop the picture looks right, just not when i try to open it.\r\n\r\nOn my desktop the image looks like this\r\n![enter image description here][1]\r\n\r\nWhen i try to open it in Windows Photo Gallery it displays this error\r\n\r\n![enter image description here][2]\r\n\r\n\r\nAfter having failed with the png attempt i tried it with bitmap image instead, here is my new code\r\n\r\n    import java.awt.AWTException;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.HeadlessException;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Robot;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.ByteOrder;\r\n    import java.util.Arrays;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class IconWriter\r\n    {\r\n    \tpublic static void main(String[] args) throws HeadlessException, AWTException, IOException\r\n    \t{\r\n    \t\tBufferedImage img = new BufferedImage(16, 16, BufferedImage.TYPE_INT_RGB);\r\n    \t\tGraphics g = img.getGraphics();\r\n    \t\tg.setColor(Color.GREEN);\r\n    \t\tg.fillRect(0, 0, 16, 16);\r\n    \t\tbyte[] imgBytes = getImgBytes(img);\r\n    \t\tint fileSize = imgBytes.length + 22;\r\n    \t\tByteBuffer bytes = ByteBuffer.allocate(fileSize);\r\n    \t\tbytes.order(ByteOrder.LITTLE_ENDIAN);\r\n    \t\tbytes.putShort((short) 0);//Reserved must be 0\r\n    \t\tbytes.putShort((short) 1);//Image type\r\n    \t\tbytes.putShort((short) 1);//Number of images in file\r\n    \t\tbytes.put((byte) img.getWidth());//image width\r\n    \t\tbytes.put((byte) img.getHeight());//image height\r\n    \t\tbytes.put((byte) 0);//number of colors in color palette\r\n    \t\tbytes.put((byte) 0);//reserved must be 0\r\n    \t\tbytes.putShort((short) 0);//color planes\r\n    \t\tbytes.putShort((short) 0);//bits per pixel\r\n    \t\tbytes.putInt(imgBytes.length);//image size\r\n    \t\tbytes.putInt(22);//image offset\r\n    \t\tbytes.put(imgBytes);\r\n    \t\tbyte[] result = bytes.array();\r\n    \t\tFileOutputStream fos = new FileOutputStream(&quot;C://Users//Owner//Desktop//hi.ico&quot;);\r\n    \t\tfos.write(result);\r\n    \t\tfos.close();\r\n    \t\tfos.flush();\r\n    \t}\r\n    \r\n    \tprivate static byte[] getImgBytes(BufferedImage img) throws IOException\r\n    \t{\r\n    \t\tByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    \t\tImageIO.write(img, &quot;bmp&quot;, bos);\r\n    \t\tbyte[] bytes = bos.toByteArray();\r\n    \t\treturn Arrays.copyOfRange(bytes, 14, bytes.length);\r\n    \t}\r\n    }\r\n\r\nnow when i try to open my image in photo gallery the image looks like this i have no idea why it isn&#39;t working now and especially why the weird lines are appearing, although i suspect it has to with the color planes attribute in the ico image header.\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MiyEH.png\r\n  [2]: http://i.stack.imgur.com/bWueW.png\r\n  [3]: http://i.stack.imgur.com/xeiGf.png","title":"Writing ico files java","body":"<p>Recently i have become interested in creating .ico file or windows icon files in java.  This is the current code i use.  I have gotten the file format specs from here <a href=\"http://en.wikipedia.org/wiki/ICO_%28file_format%29\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/ICO_%28file_format%29</a></p>\n\n<pre><code>    BufferedImage img = new BufferedImage(16, 16, BufferedImage.TYPE_INT_RGB);\n    Graphics g = img.getGraphics();\n    g.setColor(Color.GREEN);\n    g.fillRect(0, 0, 16, 16);\n    byte[] imgBytes = getImgBytes(img);\n    int fileSize = imgBytes.length + 22;\n    ByteBuffer bytes = ByteBuffer.allocate(fileSize);\n    bytes.order(ByteOrder.LITTLE_ENDIAN);\n    bytes.putShort((short) 0);//Reserved must be 0\n    bytes.putShort((short) 1);//Image type\n    bytes.putShort((short) 1);//Number of image in file\n    bytes.put((byte) img.getWidth());//image width\n    bytes.put((byte) img.getHeight());//image height\n    bytes.put((byte) 0);//number of colors in color palette\n    bytes.put((byte) 0);//reserved must be 0\n    bytes.putShort((short) 0);//color planes\n    bytes.putShort((short) 0);//bits per pixel\n    bytes.putInt(imgBytes.length);//image size\n    bytes.putInt(22);//image offset\n    bytes.put(imgBytes);\n    byte[] result = bytes.array();\n    FileOutputStream fos = new FileOutputStream(\"C://Users//Owner//Desktop//picture.ico\");\n    fos.write(result);\n    fos.close();\n    fos.flush();\n\nprivate static byte[] getImgBytes(BufferedImage img) throws IOException\n{\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ImageIO.write(img, \"png\", bos);\n    return bos.toByteArray();\n}\n</code></pre>\n\n<p>The problem is that windows doesn't seem to be able to open the image, giving an error when i try to open the image using Windows Photo Gallery.  However when i try to open the image using gimp the image opens fine.  What am i doing wrong. I feel like i am messing up something in the file header.  Edit: Even stranger on the desktop the picture looks right, just not when i try to open it.</p>\n\n<p>On my desktop the image looks like this\n<img src=\"https://i.stack.imgur.com/MiyEH.png\" alt=\"enter image description here\"></p>\n\n<p>When i try to open it in Windows Photo Gallery it displays this error</p>\n\n<p><img src=\"https://i.stack.imgur.com/bWueW.png\" alt=\"enter image description here\"></p>\n\n<p>After having failed with the png attempt i tried it with bitmap image instead, here is my new code</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.HeadlessException;\nimport java.awt.Rectangle;\nimport java.awt.Robot;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.util.Arrays;\n\nimport javax.imageio.ImageIO;\n\npublic class IconWriter\n{\n    public static void main(String[] args) throws HeadlessException, AWTException, IOException\n    {\n        BufferedImage img = new BufferedImage(16, 16, BufferedImage.TYPE_INT_RGB);\n        Graphics g = img.getGraphics();\n        g.setColor(Color.GREEN);\n        g.fillRect(0, 0, 16, 16);\n        byte[] imgBytes = getImgBytes(img);\n        int fileSize = imgBytes.length + 22;\n        ByteBuffer bytes = ByteBuffer.allocate(fileSize);\n        bytes.order(ByteOrder.LITTLE_ENDIAN);\n        bytes.putShort((short) 0);//Reserved must be 0\n        bytes.putShort((short) 1);//Image type\n        bytes.putShort((short) 1);//Number of images in file\n        bytes.put((byte) img.getWidth());//image width\n        bytes.put((byte) img.getHeight());//image height\n        bytes.put((byte) 0);//number of colors in color palette\n        bytes.put((byte) 0);//reserved must be 0\n        bytes.putShort((short) 0);//color planes\n        bytes.putShort((short) 0);//bits per pixel\n        bytes.putInt(imgBytes.length);//image size\n        bytes.putInt(22);//image offset\n        bytes.put(imgBytes);\n        byte[] result = bytes.array();\n        FileOutputStream fos = new FileOutputStream(\"C://Users//Owner//Desktop//hi.ico\");\n        fos.write(result);\n        fos.close();\n        fos.flush();\n    }\n\n    private static byte[] getImgBytes(BufferedImage img) throws IOException\n    {\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        ImageIO.write(img, \"bmp\", bos);\n        byte[] bytes = bos.toByteArray();\n        return Arrays.copyOfRange(bytes, 14, bytes.length);\n    }\n}\n</code></pre>\n\n<p>now when i try to open my image in photo gallery the image looks like this i have no idea why it isn't working now and especially why the weird lines are appearing, although i suspect it has to with the color planes attribute in the ico image header.\n<img src=\"https://i.stack.imgur.com/xeiGf.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638244498,"post_id":70163929,"comment_id":124030853,"body_markdown":"(Comment: I think you would be better off using a screen saver provided via your user&#39;s base operating system.  An dynamic screen saver running in a JVM is going to consume a lot more memory, CPU, electricity ... coal.)","body":"(Comment: I think you would be better off using a screen saver provided via your user&#39;s base operating system.  An dynamic screen saver running in a JVM is going to consume a lot more memory, CPU, electricity ... coal.)"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638310924,"post_id":70163929,"comment_id":124054179,"body_markdown":"Don&#39;t create &quot;God&quot; applications. Your Swing application should not be a `JFrame` that does everything. Instead, breakdown your app into components responsible for specific things. For example, your Frame (app) class should be just the container for the contents. You could then create classes (i.e. `JPanel`) responsible for displaying the contents. All those listeners should be used by your panel (or some other component) and not your frame.","body":"Don&#39;t create &quot;God&quot; applications. Your Swing application should not be a <code>JFrame</code> that does everything. Instead, breakdown your app into components responsible for specific things. For example, your Frame (app) class should be just the container for the contents. You could then create classes (i.e. <code>JPanel</code>) responsible for displaying the contents. All those listeners should be used by your panel (or some other component) and not your frame."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638311091,"post_id":70163929,"comment_id":124054227,"body_markdown":"I also noticed you don&#39;t have any code to handle closing your frame. Which means that, when you click the &quot;X&quot; button in the corner, your frame will be dismissed but the application will continue to run in the background. This is not good.","body":"I also noticed you don&#39;t have any code to handle closing your frame. Which means that, when you click the &quot;X&quot; button in the corner, your frame will be dismissed but the application will continue to run in the background. This is not good."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638309618,"creation_date":1638309618,"answer_id":70176665,"question_id":70163929,"body_markdown":"The problem is the JLabel is added as the only content of the JFrame, so it is resized to be the full size of the JFrame. I printed out size on my machine and the `JFrame`&#39;s `getWidth()` and `getHeight()` return 1536x864 while the `JLabel`&#39;s `logo.getWidth()` and `logo.getHeight()` are also 1536x864.\r\n\r\nYou might be able to control the size of the `JLabel`, but it seems to me that it would be easier to simple add a `JPanel` to your layout and override its `paintComponent(Graphics g)` method to call `super.paintComponent(g);` and then just draw the `BufferedImage` wherever you want within it.","title":"How to get a screen saver working in Java","body":"<p>The problem is the JLabel is added as the only content of the JFrame, so it is resized to be the full size of the JFrame. I printed out size on my machine and the <code>JFrame</code>'s <code>getWidth()</code> and <code>getHeight()</code> return 1536x864 while the <code>JLabel</code>'s <code>logo.getWidth()</code> and <code>logo.getHeight()</code> are also 1536x864.</p>\n<p>You might be able to control the size of the <code>JLabel</code>, but it seems to me that it would be easier to simple add a <code>JPanel</code> to your layout and override its <code>paintComponent(Graphics g)</code> method to call <code>super.paintComponent(g);</code> and then just draw the <code>BufferedImage</code> wherever you want within it.</p>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638311559,"creation_date":1638311559,"answer_id":70176949,"question_id":70163929,"body_markdown":"Commit this code to memory (or save it somewhere so you could reuse this pattern). This is the correct way to implement the main application frame for a Swing application.\r\n\r\n    public class FrameDemo {\r\n        private static void createAndShowGUI() {\r\n            JFrame frame = new JFrame(&quot;My Basic Frame&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // To REALLY close your app\r\n     \r\n            JPanel emptyPanel = new JPanel();\r\n            emptyPanel.setPreferredSize(new Dimension(175, 100));\r\n            frame.getContentPane().add(emptyPanel, BorderLayout.CENTER);\r\n     \r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n     \r\n        public static void main(String[] args) {\r\n            // Schedule your app to run in the Event Dispatcher Thread\r\n            javax.swing.SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    createAndShowGUI();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nAfter you do this, modify this code following @David Conrad&#39;s advice. Don&#39;t forget to create a custom class for your panel and add the event handlers where they belong.","title":"How to get a screen saver working in Java","body":"<p>Commit this code to memory (or save it somewhere so you could reuse this pattern). This is the correct way to implement the main application frame for a Swing application.</p>\n<pre><code>public class FrameDemo {\n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame(&quot;My Basic Frame&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // To REALLY close your app\n \n        JPanel emptyPanel = new JPanel();\n        emptyPanel.setPreferredSize(new Dimension(175, 100));\n        frame.getContentPane().add(emptyPanel, BorderLayout.CENTER);\n \n        frame.pack();\n        frame.setVisible(true);\n    }\n \n    public static void main(String[] args) {\n        // Schedule your app to run in the Event Dispatcher Thread\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n}\n</code></pre>\n<p>After you do this, modify this code following @David Conrad's advice. Don't forget to create a custom class for your panel and add the event handlers where they belong.</p>\n"}],"owner":{"account_id":12286694,"reputation":23,"user_id":8965772,"display_name":"Troy Marker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638381629,"creation_date":1638242920,"question_id":70163929,"body_markdown":"I recently completed a Java course from caveofprogramming.com. It was a great course, and I learned a lot. I am trying to create a screen saver program in Java, but my graphic that is suppose to float around the screen just flicks in the middle of the screen.\r\n\r\nHere is what I have so far:\r\n\r\n    /**\r\n      * Phoenix Hospitality Management System (PHMS)\r\n      * PHMS 001 - TME Protector\r\n      * Screen Protector Program\r\n      * Copyright (C) 2021 By Troy Marker Enterprises\r\n      * All Right Reserved\r\n      * \r\n      * NOTICE: This program was created for use of the Phoenix Hospitality Management                   System (PHMS). Any use outside of the PHMS\r\n      * is strictly prohibited. * \r\n      */\r\n\r\n      package view;\r\n\r\n      import java.awt.event.ActionEvent;\r\n      import java.awt.event.ActionListener;\r\n      import java.awt.event.KeyEvent;\r\n      import java.awt.event.KeyListener;\r\n      import java.awt.event.MouseEvent;\r\n      import java.awt.event.MouseMotionListener;\r\n      import java.awt.image.BufferedImage;\r\n      import java.io.IOException;\r\n\r\n      import javax.imageio.ImageIO;\r\n      import javax.swing.ImageIcon;\r\n      import javax.swing.JFrame;\r\n      import javax.swing.JLabel;\r\n      import javax.swing.Timer;\r\n      \r\n      import view.PhoenixColors;\r\n\r\n      /**\r\n       * Main screen protector class;\r\n       * Called by the App Controller\r\n       * \r\n       * @author Troy L. Marker\r\n       *\r\n       */\r\n      public class Protect extends JFrame implements KeyListener, MouseMotionListener, ActionListener {\r\n\r\n      \tprivate static final long serialVersionUID = -3655698826064710315L;\r\n      \tprivate JLabel logo;\r\n      \tprivate Timer timer;\r\n      \tprivate double speed = 10.0;\r\n      \tprivate double xLoc;\r\n      \tprivate double yLoc;\r\n      \tprivate int xDirectionLogo = 1;\r\n      \tprivate int yDirectionLogo = 1;\r\n      \t\r\n      \tpublic Protect() {\r\n      \t\tgetContentPane().setBackground(PhoenixColors.BLACK);\r\n      \t\tsetExtendedState(JFrame.MAXIMIZED_BOTH); \r\n      \t\tsetUndecorated(true);\r\n      \t    timer = new Timer(20, this);\r\n            BufferedImage TMELogo = null;\r\n      \t\ttry {\r\n      \t\t\tTMELogo = ImageIO.read(getClass().getResource(&quot;/images/TMELogo.png&quot;));\r\n      \t\t} catch (IOException e) {\r\n      \t\t\t// TODO Auto-generated catch block\r\n      \t\t\te.printStackTrace();\r\n      \t\t}\r\n      \t\tlogo = new JLabel(new ImageIcon(TMELogo));\r\n      \t\tadd(logo);\r\n\r\n      \t\tsetVisible(true);\r\n      \t\taddKeyListener(this);\r\n      \t\taddMouseMotionListener(this);\r\n      \t\ttimer.start();\r\n      \t}\r\n      \r\n      \tprivate void update() {\r\n      \t\txLoc += xDirectionLogo * speed;\r\n      \t\tyLoc += yDirectionLogo * speed;\r\n      \t\t\r\n      \t\tif (xLoc &lt; 0) {\r\n      \t\t\txDirectionLogo = 1;\r\n      \t\t\txLoc = 1;\r\n      \t\t} else if (xLoc &gt; getWidth() - logo.getWidth()) {\r\n      \t\t\txDirectionLogo = -1;\r\n      \t\t\txLoc = getWidth() - logo.getWidth();\r\n      \t\t}\r\n      \t\tif (yLoc &lt; 0) {\r\n      \t\t\tyDirectionLogo = 1;\r\n      \t\t\tyLoc = 1;\r\n      \t\t} else if(yLoc &gt; getHeight() - logo.getHeight()) {\r\n      \t\t\tyDirectionLogo = -1;\r\n      \t\t\tyLoc = getHeight() - logo.getHeight();\r\n      \t\t}\r\n      \t\tlogo.setLocation((int)xLoc, (int)yLoc);\r\n      \t\trepaint();\r\n      \t\tSystem.out.println(&quot;xLoc, yLoc: &quot;+ xLoc + &quot;, &quot; + yLoc);\r\n\t\t\r\n      \t}\r\n\t\r\n      \t@Override\r\n      \tpublic void keyTyped(KeyEvent e) {\r\n      \t\tSystem.exit(0);\r\n      \t}\r\n\r\n      \t@Override\r\n      \tpublic void keyPressed(KeyEvent e) {\r\n      \t}\r\n      \r\n      \t@Override\r\n      \tpublic void keyReleased(KeyEvent e) {\r\n      \t}\r\n      \r\n      \t@Override\r\n      \tpublic void mouseDragged(MouseEvent e) {\r\n      \t}\r\n      \r\n      \t@Override\r\n      \tpublic void mouseMoved(MouseEvent e) {\r\n      \t\tSystem.exit(0);\r\n      \t\t\r\n      \t}\r\n      \r\n      \t@Override\r\n      \tpublic void actionPerformed(ActionEvent e) {\r\n      \t\tupdate();\r\n      \t}\r\n      }\r\n\r\nThe update method is what I use to adjust the position of the image every 20 milliseconds. What am I missing?\r\n\r\nAddendum\r\n---\r\n\r\nIn response to Stephen&#39;s comment, I feel I need to clarify what I am doing. I am designing a computer system for the hospitality industry. I am creating my own Linux system using Linux From Scratch. I want a Java based screen saver because that is the language I am planning to write the software in.\r\n\r\nJava may not be the best language to create this system in, but I like the fact the it is a cross platform language due to the JVM.\r\n","title":"How to get a screen saver working in Java","body":"<p>I recently completed a Java course from caveofprogramming.com. It was a great course, and I learned a lot. I am trying to create a screen saver program in Java, but my graphic that is suppose to float around the screen just flicks in the middle of the screen.</p>\n<p>Here is what I have so far:</p>\n<pre><code>/**\n  * Phoenix Hospitality Management System (PHMS)\n  * PHMS 001 - TME Protector\n  * Screen Protector Program\n  * Copyright (C) 2021 By Troy Marker Enterprises\n  * All Right Reserved\n  * \n  * NOTICE: This program was created for use of the Phoenix Hospitality Management                   System (PHMS). Any use outside of the PHMS\n  * is strictly prohibited. * \n  */\n\n  package view;\n\n  import java.awt.event.ActionEvent;\n  import java.awt.event.ActionListener;\n  import java.awt.event.KeyEvent;\n  import java.awt.event.KeyListener;\n  import java.awt.event.MouseEvent;\n  import java.awt.event.MouseMotionListener;\n  import java.awt.image.BufferedImage;\n  import java.io.IOException;\n\n  import javax.imageio.ImageIO;\n  import javax.swing.ImageIcon;\n  import javax.swing.JFrame;\n  import javax.swing.JLabel;\n  import javax.swing.Timer;\n  \n  import view.PhoenixColors;\n\n  /**\n   * Main screen protector class;\n   * Called by the App Controller\n   * \n   * @author Troy L. Marker\n   *\n   */\n  public class Protect extends JFrame implements KeyListener, MouseMotionListener, ActionListener {\n\n    private static final long serialVersionUID = -3655698826064710315L;\n    private JLabel logo;\n    private Timer timer;\n    private double speed = 10.0;\n    private double xLoc;\n    private double yLoc;\n    private int xDirectionLogo = 1;\n    private int yDirectionLogo = 1;\n    \n    public Protect() {\n        getContentPane().setBackground(PhoenixColors.BLACK);\n        setExtendedState(JFrame.MAXIMIZED_BOTH); \n        setUndecorated(true);\n        timer = new Timer(20, this);\n        BufferedImage TMELogo = null;\n        try {\n            TMELogo = ImageIO.read(getClass().getResource(&quot;/images/TMELogo.png&quot;));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        logo = new JLabel(new ImageIcon(TMELogo));\n        add(logo);\n\n        setVisible(true);\n        addKeyListener(this);\n        addMouseMotionListener(this);\n        timer.start();\n    }\n  \n    private void update() {\n        xLoc += xDirectionLogo * speed;\n        yLoc += yDirectionLogo * speed;\n        \n        if (xLoc &lt; 0) {\n            xDirectionLogo = 1;\n            xLoc = 1;\n        } else if (xLoc &gt; getWidth() - logo.getWidth()) {\n            xDirectionLogo = -1;\n            xLoc = getWidth() - logo.getWidth();\n        }\n        if (yLoc &lt; 0) {\n            yDirectionLogo = 1;\n            yLoc = 1;\n        } else if(yLoc &gt; getHeight() - logo.getHeight()) {\n            yDirectionLogo = -1;\n            yLoc = getHeight() - logo.getHeight();\n        }\n        logo.setLocation((int)xLoc, (int)yLoc);\n        repaint();\n        System.out.println(&quot;xLoc, yLoc: &quot;+ xLoc + &quot;, &quot; + yLoc);\n    \n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        System.exit(0);\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n    }\n  \n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n  \n    @Override\n    public void mouseDragged(MouseEvent e) {\n    }\n  \n    @Override\n    public void mouseMoved(MouseEvent e) {\n        System.exit(0);\n        \n    }\n  \n    @Override\n    public void actionPerformed(ActionEvent e) {\n        update();\n    }\n  }\n</code></pre>\n<p>The update method is what I use to adjust the position of the image every 20 milliseconds. What am I missing?</p>\n<h2>Addendum</h2>\n<p>In response to Stephen's comment, I feel I need to clarify what I am doing. I am designing a computer system for the hospitality industry. I am creating my own Linux system using Linux From Scratch. I want a Java based screen saver because that is the language I am planning to write the software in.</p>\n<p>Java may not be the best language to create this system in, but I like the fact the it is a cross platform language due to the JVM.</p>\n"},{"tags":["java","big-o"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638367346,"post_id":70185402,"comment_id":124068898,"body_markdown":"I think you want to ask that type of question in Stack Exchange&#39;s Software Engineering or Computer Science sites. Hopefully you won&#39;t have your question closed for this reason like it has happened to me in the past. Perhaps this answer will help https://stackoverflow.com/questions/13467674/determining-complexity-for-recursive-functions-big-o-notation","body":"I think you want to ask that type of question in Stack Exchange&#39;s Software Engineering or Computer Science sites. Hopefully you won&#39;t have your question closed for this reason like it has happened to me in the past. Perhaps this answer will help <a href=\"https://stackoverflow.com/questions/13467674/determining-complexity-for-recursive-functions-big-o-notation\" title=\"determining complexity for recursive functions big o notation\">stackoverflow.com/questions/13467674/&hellip;</a>"},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1638368099,"post_id":70185402,"comment_id":124069238,"body_markdown":"The BigO notation is a measure of the number of iterations of computation required for each N in the problem space.\n\nFor example, doing a search of a list of size N has a worst case number of computations of O(N) because the item may not be in the list, and the list of of size N. This would be true whether you&#39;re doing a single like by like comparison of each item, or a complex regex to check each item. It&#39;s the relationship between the problem space and the efficiency of the algorithm.\n\nConversely a search in an ordered list where you exclude half the list each time, might be log(N).","body":"The BigO notation is a measure of the number of iterations of computation required for each N in the problem space.  For example, doing a search of a list of size N has a worst case number of computations of O(N) because the item may not be in the list, and the list of of size N. This would be true whether you&#39;re doing a single like by like comparison of each item, or a complex regex to check each item. It&#39;s the relationship between the problem space and the efficiency of the algorithm.  Conversely a search in an ordered list where you exclude half the list each time, might be log(N)."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1638368137,"post_id":70185402,"comment_id":124069264,"body_markdown":"The point is that this is not a measure of CPU cycles. It&#39;s a measure of the algorithmic complexity. Whether you&#39;re outputting 1 or 10 characters, that&#39;s just a single _step_ in the algorithm.","body":"The point is that this is not a measure of CPU cycles. It&#39;s a measure of the algorithmic complexity. Whether you&#39;re outputting 1 or 10 characters, that&#39;s just a single <i>step</i> in the algorithm."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638368313,"post_id":70185402,"comment_id":124069346,"body_markdown":"Println is log n as it is the _number_ of digits printed.","body":"Println is log n as it is the <i>number</i> of digits printed."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1638369577,"post_id":70185402,"comment_id":124070010,"body_markdown":"@AshleyFrieze I have especially referred to Example 12 where the author states that cost of printing N characters is O(N) (as well as concatenating strings, etc) and takes this cost into account when computing algorithm complexity.","body":"@AshleyFrieze I have especially referred to Example 12 where the author states that cost of printing N characters is O(N) (as well as concatenating strings, etc) and takes this cost into account when computing algorithm complexity."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1638373682,"post_id":70185402,"comment_id":124071811,"body_markdown":"It&#39;s possible that... (a) You&#39;ve misinterpreted what the author has said. (b) The author is defining their own concept of Big O notation. (c) My definition of Big O notation is incorrect. I&#39;m going with (a). I recommend further reading on Big O.","body":"It&#39;s possible that... (a) You&#39;ve misinterpreted what the author has said. (b) The author is defining their own concept of Big O notation. (c) My definition of Big O notation is incorrect. I&#39;m going with (a). I recommend further reading on Big O."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1638377392,"post_id":70185402,"comment_id":124073483,"body_markdown":"Well, it seems you have no that book near at hand... [here is a discussion of Example 12](https://stackoverflow.com/questions/68633201/example-12-all-permutations-of-a-string-from-big-o-notation-why-line-7-and-line), so for that particular example author takes into account not only calls related to &quot;problem space&quot; but also  &quot;system&quot; calls, and my question is actually whether from this perspective there is a mistake in computations for two other examples which also involve I/O","body":"Well, it seems you have no that book near at hand... <a href=\"https://stackoverflow.com/questions/68633201/example-12-all-permutations-of-a-string-from-big-o-notation-why-line-7-and-line\">here is a discussion of Example 12</a>, so for that particular example author takes into account not only calls related to &quot;problem space&quot; but also  &quot;system&quot; calls, and my question is actually whether from this perspective there is a mistake in computations for two other examples which also involve I/O"}],"answers":[{"tags":[],"owner":{"account_id":235018,"reputation":364834,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638381385,"creation_date":1638381385,"answer_id":70189068,"question_id":70185402,"body_markdown":"You are correct. The total amount of characters being printed out is &amp;Theta;(log&lt;sup&gt;2&lt;/sup&gt; n), and so the total amount of work done by the code works out to &amp;Theta;(log&lt;sup&gt;2&lt;/sup&gt; n) rather than O(log n), assuming we count the cost of printing each character. It&#39;s somewhat common when doing back-of-the-envelope big-O calculations to leave out the cost of printing out the result, though in Theoryland you have to factor in those costs.\r\n\r\nThat being said, one could make a reasonable argument that any `int` value takes up a fixed amount of characters when printed out on a computer (on a 32-bit machine printing a 32-bit integer requires at most 11 characters, on a 64-bit machine printing a 64-bit integer requires at most 21 characters, etc.). You could therefore argue that the cost of printing any integer is O(1) for any fixed machine, even though in reality there&#39;s some auxiliary parameter w representing the size of a machine word and the cost of printing a w-bit integer is O(w).\r\n\r\nFor an introductory exercise in learning to reason about big-O, I think it&#39;s pedagogically fine to gloss over this detail. But if I were teaching a more advanced theory course, we&#39;d definitely need to factor in these costs.","title":"Understanding Example 16 printing the powers of 2 from Big O notation - Cracking the Coding Interview","body":"<p>You are correct. The total amount of characters being printed out is Θ(log<sup>2</sup> n), and so the total amount of work done by the code works out to Θ(log<sup>2</sup> n) rather than O(log n), assuming we count the cost of printing each character. It's somewhat common when doing back-of-the-envelope big-O calculations to leave out the cost of printing out the result, though in Theoryland you have to factor in those costs.</p>\n<p>That being said, one could make a reasonable argument that any <code>int</code> value takes up a fixed amount of characters when printed out on a computer (on a 32-bit machine printing a 32-bit integer requires at most 11 characters, on a 64-bit machine printing a 64-bit integer requires at most 21 characters, etc.). You could therefore argue that the cost of printing any integer is O(1) for any fixed machine, even though in reality there's some auxiliary parameter w representing the size of a machine word and the cost of printing a w-bit integer is O(w).</p>\n<p>For an introductory exercise in learning to reason about big-O, I think it's pedagogically fine to gloss over this detail. But if I were teaching a more advanced theory course, we'd definitely need to factor in these costs.</p>\n"}],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70189068,"answer_count":1,"score":2,"last_activity_date":1638381385,"creation_date":1638366620,"question_id":70185402,"body_markdown":"Had the author missed to compute I/O calls?\r\n\r\n&gt; The following function prints the powers of 2 from 1 through n (inclusive). For example, if n is 4, it would print 1,2, and 4. What is its runtime?\r\n\r\n```\r\nint powersOf2(int n) {\r\n  if (n &lt; 1) {\r\n    return 0;\r\n  } else if (n == 1) {\r\n    System.out.println(1);\r\n    return 1; \r\n  } else {\r\n    int prev = powersOf2(n / 2); \r\n    int curr =prev * 2; \r\n    System.out.println(curr); \r\n    return curr;\r\n  }\r\n}\r\n```\r\n\r\n&gt; the runtime is O(log n)\r\n\r\nAccording to the Example 12 (string permutations) the length of argument of `System.out.println()` call makes sense:\r\n\r\n&gt; Executing line 7 takes O(n) time since each character needs to be printed\r\n\r\nFrom I/O perspective we need to print powers of 2 from 0 to K, where K is [log(N)], the amount of characters to print for 2&lt;sup&gt;X&lt;/sup&gt; is `[1 + X/log(10)]`, so the total amount of characters to print is `[K + 1 + K*(K+1)/2log(10)]` and the runtime is O(log&lt;sup&gt;2&lt;/sup&gt;N) but not O(log N)\r\n\r\nPS.\r\n\r\nThe Example 15 - printing memoized Fibonacci numbers seems to have the same drawback:\r\n\r\n```\r\nvoid allFib(int n) {\r\n  int[] memo = new int[n + 1]; \r\n  for (int i = 0; i &lt; n; i++) {\r\n    System.out.println(i + &quot;: &quot; + fib(i, memo));\r\n  }\r\n}\r\n\r\nint fib(int n, int[] memo) {\r\n  if (n &lt;= 0) return 0;\r\n  else if (n == 1) return 1;\r\n  else if (memo[n] &gt; 0) return memo[n];\r\n  memo[n] = fib(n - 1, memo) + fib(n - 2, memo);\r\n  return memo[n];\r\n}\r\n```\r\n\r\n&gt; We&#39;re doing a constant amount of work N times, so this is O(n) time.\r\n\r\nThe amount of characters to print for the sequence of first N Fibonacci numbers ~ N&lt;sup&gt;2&lt;/sup&gt;, so the runtime should be O(N&lt;sup&gt;2&lt;/sup&gt;).","title":"Understanding Example 16 printing the powers of 2 from Big O notation - Cracking the Coding Interview","body":"<p>Had the author missed to compute I/O calls?</p>\n<blockquote>\n<p>The following function prints the powers of 2 from 1 through n (inclusive). For example, if n is 4, it would print 1,2, and 4. What is its runtime?</p>\n</blockquote>\n<pre><code>int powersOf2(int n) {\n  if (n &lt; 1) {\n    return 0;\n  } else if (n == 1) {\n    System.out.println(1);\n    return 1; \n  } else {\n    int prev = powersOf2(n / 2); \n    int curr =prev * 2; \n    System.out.println(curr); \n    return curr;\n  }\n}\n</code></pre>\n<blockquote>\n<p>the runtime is O(log n)</p>\n</blockquote>\n<p>According to the Example 12 (string permutations) the length of argument of <code>System.out.println()</code> call makes sense:</p>\n<blockquote>\n<p>Executing line 7 takes O(n) time since each character needs to be printed</p>\n</blockquote>\n<p>From I/O perspective we need to print powers of 2 from 0 to K, where K is [log(N)], the amount of characters to print for 2<sup>X</sup> is <code>[1 + X/log(10)]</code>, so the total amount of characters to print is <code>[K + 1 + K*(K+1)/2log(10)]</code> and the runtime is O(log<sup>2</sup>N) but not O(log N)</p>\n<p>PS.</p>\n<p>The Example 15 - printing memoized Fibonacci numbers seems to have the same drawback:</p>\n<pre><code>void allFib(int n) {\n  int[] memo = new int[n + 1]; \n  for (int i = 0; i &lt; n; i++) {\n    System.out.println(i + &quot;: &quot; + fib(i, memo));\n  }\n}\n\nint fib(int n, int[] memo) {\n  if (n &lt;= 0) return 0;\n  else if (n == 1) return 1;\n  else if (memo[n] &gt; 0) return memo[n];\n  memo[n] = fib(n - 1, memo) + fib(n - 2, memo);\n  return memo[n];\n}\n</code></pre>\n<blockquote>\n<p>We're doing a constant amount of work N times, so this is O(n) time.</p>\n</blockquote>\n<p>The amount of characters to print for the sequence of first N Fibonacci numbers ~ N<sup>2</sup>, so the runtime should be O(N<sup>2</sup>).</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1603635423,"creation_date":1603018596,"answer_id":64412472,"question_id":64370226,"body_markdown":"Although you can use annotations, I recommend you to use a custom [```Converter```](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/convert/converter/Converter.html) for this purpose.\r\n\r\nFollowing your example, you can do something like this.\r\n\r\nFirst, you need to define a custom class suitable to be converted. For instance:\r\n\r\n```java\r\npublic class DecodedIdentifier {\r\n  private final String id;\r\n\r\n  public DecodedIdentifier(String id) {\r\n    this.id = id;\r\n  }\r\n\r\n  public String getId() {\r\n    return this.id;\r\n  }\r\n}\r\n```\r\n\r\nThen, define a ```Converter``` for your custom class. It can perform the Base64 decoding:\r\n\r\n```java\r\npublic class DecodedIdentifierConverter implements Converter&lt;String, DecodedIdentifier&gt; {\r\n\r\n  @Override\r\n  public DecodedIdentifier convert(String source) {\r\n    return new DecodedIdentifier(Base64.getDecoder().decode(source));\r\n  }\r\n}\r\n```\r\n\r\nIn order to tell Spring about this converter you have several options.\r\n\r\nIf you are running Spring Boot, all you have to do is annotate the class as a ```@Component``` and the [auto configuration logic](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration) will take care of ```Converter``` registration.\r\n\r\n```java\r\n@Component\r\npublic class DecodedIdentifierConverter implements Converter&lt;String, DecodedIdentifier&gt; {\r\n\r\n  @Override\r\n  public DecodedIdentifier convert(String source) {\r\n    return new DecodedIdentifier(Base64.getDecoder().decode(source));\r\n  }\r\n}\r\n```\r\n\r\nBe sure to configure your component scan so Spring can detect the ```@Component``` annotation in the class.\r\n\r\nIf you are using Spring MVC without Spring Boot, you need to [register the ```Converter``` &#39;manually&#39;](https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#mvc-config-conversion):\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new DecodedIdentifierConverter());\r\n    }\r\n}\r\n```\r\n\r\nAfter ```Converter``` registration, you can use it in your ```Controller```:\r\n\r\n```java\r\n@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\r\npublic ResponseEntity&lt;...&gt; execute(@PathVariable DecodedIdentifier id) {\r\n   ...\r\n}\r\n```\r\n\r\nThere are also other options you can follow. Please, consider read [this article](https://reflectoring.io/spring-boot-argumentresolver/), it will provide you further information about the problem.\r\n\r\nAs a side note, the above mentioned article [indicates](https://reflectoring.io/spring-boot-argumentresolver/#providing-a-valueof-method) that you can directly define a ```valueOf``` method in the class which will store the result of the conversion service, ```DecodedIdentifier``` in your example, and it will allow you to get rid of the ```Converter``` class: to be honest, I have never tried that approach, and I do not know under which conditions it could work. Having said that, if it works, it can simplify your code. Please, if you consider it appropriate, try it.\r\n\r\n__UPDATE__\r\n\r\nThanks to @Aman comment I carefully reviewed the Spring documentation. After that, I found that, although I think that the conversion approach aforementioned is better suited for the use case - you are actually performing a conversion - another possible solution could be the use of a custom [```Formatter```](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/Formatter.html).\r\n\r\nI already knew that Spring uses this mechanism to perform multiple conversion but I were not aware that it is possible to [register a custom formatter based on an annotation](https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/format/AnnotationFormatterFactory.html), the original idea proposed in the answer. Thinking about annotations like [```DateTimeFormat```](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html), it makes perfect sense. In fact, this approach were previously described here, in Stackoverflow (see the accepted answer in [this question](https://stackoverflow.com/questions/46728972/custom-converter-for-requestparam-in-spring-mvc)).\r\n\r\nIn your case (basically a transcription of the answer above mentioned for your case):\r\n\r\nFirst, define your ```DecodedIdentifier``` annotation:\r\n\r\n```java\r\nimport java.lang.annotation.Documented;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Documented\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD, ElementType.FIELD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})\r\npublic @interface DecodedIdentifier {\r\n}\r\n```\r\n\r\nIn fact, you can think of enriching the annotation by including, for example, the encoding in which the information should be processed.\r\n\r\nThen, create the corresponding ```AnnotationFormatterFactory```:\r\n\r\n```java\r\nimport java.text.ParseException;\r\nimport java.util.Base64;\r\nimport java.util.Collections;\r\nimport java.util.Locale;\r\nimport java.util.Set;\r\n\r\nimport org.springframework.context.support.EmbeddedValueResolutionSupport;\r\nimport org.springframework.format.AnnotationFormatterFactory;\r\nimport org.springframework.format.Formatter;\r\nimport org.springframework.format.Parser;\r\nimport org.springframework.format.Printer;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class DecodedIdentifierFormatterFactory extends EmbeddedValueResolutionSupport\r\n  implements AnnotationFormatterFactory&lt;DecodedIdentifier&gt; {\r\n\r\n  @Override\r\n  public Set&lt;Class&lt;?&gt;&gt; getFieldTypes() {\r\n    return Collections.singleton(String.class);\r\n  }\r\n\r\n  @Override\r\n  public Printer&lt;?&gt; getPrinter(DecodedIdentifier annotation, Class&lt;?&gt; fieldType) {\r\n    return this.getFormatter(annotation);\r\n  }\r\n\r\n  @Override\r\n  public Parser&lt;?&gt; getParser(DecodedIdentifier annotation, Class&lt;?&gt; fieldType) {\r\n    return this.getFormatter(annotation);\r\n  }\r\n\r\n  private Formatter getFormatter(DecodedIdentifier annotation) {\r\n    return new Formatter&lt;String&gt;() {\r\n      @Override\r\n      public String parse(String text, Locale locale) throws ParseException {\r\n        // If the annotation could provide some information about the\r\n        // encoding to be used, this logic will be highly reusable\r\n        return new String(Base64.getDecoder().decode(text));\r\n      }\r\n\r\n      @Override\r\n      public String print(String object, Locale locale) {\r\n        return object;\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nRegister the factory in your Spring MVC configuration:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addFormatterForFieldAnnotation(new DecodedIdentifierFormatterFactory());\r\n    }\r\n}\r\n```\r\n\r\nFinally, use the annotation in your ```Controller```s, exactly as you indicated in your question:\r\n\r\n```java\r\n@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\r\npublic ResponseEntity&lt;...&gt; execute(@PathVariable @DecodedIdentifier String id) {\r\n   ...\r\n}\r\n```","title":"Add (custom) decoder to WebMVC endpoint","body":"<p>Although you can use annotations, I recommend you to use a custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/convert/converter/Converter.html\" rel=\"nofollow noreferrer\"><code>Converter</code></a> for this purpose.</p>\n<p>Following your example, you can do something like this.</p>\n<p>First, you need to define a custom class suitable to be converted. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DecodedIdentifier {\n  private final String id;\n\n  public DecodedIdentifier(String id) {\n    this.id = id;\n  }\n\n  public String getId() {\n    return this.id;\n  }\n}\n</code></pre>\n<p>Then, define a <code>Converter</code> for your custom class. It can perform the Base64 decoding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DecodedIdentifierConverter implements Converter&lt;String, DecodedIdentifier&gt; {\n\n  @Override\n  public DecodedIdentifier convert(String source) {\n    return new DecodedIdentifier(Base64.getDecoder().decode(source));\n  }\n}\n</code></pre>\n<p>In order to tell Spring about this converter you have several options.</p>\n<p>If you are running Spring Boot, all you have to do is annotate the class as a <code>@Component</code> and the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">auto configuration logic</a> will take care of <code>Converter</code> registration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DecodedIdentifierConverter implements Converter&lt;String, DecodedIdentifier&gt; {\n\n  @Override\n  public DecodedIdentifier convert(String source) {\n    return new DecodedIdentifier(Base64.getDecoder().decode(source));\n  }\n}\n</code></pre>\n<p>Be sure to configure your component scan so Spring can detect the <code>@Component</code> annotation in the class.</p>\n<p>If you are using Spring MVC without Spring Boot, you need to <a href=\"https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/web.html#mvc-config-conversion\" rel=\"nofollow noreferrer\">register the <code>Converter</code> 'manually'</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new DecodedIdentifierConverter());\n    }\n}\n</code></pre>\n<p>After <code>Converter</code> registration, you can use it in your <code>Controller</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;...&gt; execute(@PathVariable DecodedIdentifier id) {\n   ...\n}\n</code></pre>\n<p>There are also other options you can follow. Please, consider read <a href=\"https://reflectoring.io/spring-boot-argumentresolver/\" rel=\"nofollow noreferrer\">this article</a>, it will provide you further information about the problem.</p>\n<p>As a side note, the above mentioned article <a href=\"https://reflectoring.io/spring-boot-argumentresolver/#providing-a-valueof-method\" rel=\"nofollow noreferrer\">indicates</a> that you can directly define a <code>valueOf</code> method in the class which will store the result of the conversion service, <code>DecodedIdentifier</code> in your example, and it will allow you to get rid of the <code>Converter</code> class: to be honest, I have never tried that approach, and I do not know under which conditions it could work. Having said that, if it works, it can simplify your code. Please, if you consider it appropriate, try it.</p>\n<p><strong>UPDATE</strong></p>\n<p>Thanks to @Aman comment I carefully reviewed the Spring documentation. After that, I found that, although I think that the conversion approach aforementioned is better suited for the use case - you are actually performing a conversion - another possible solution could be the use of a custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a>.</p>\n<p>I already knew that Spring uses this mechanism to perform multiple conversion but I were not aware that it is possible to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/format/AnnotationFormatterFactory.html\" rel=\"nofollow noreferrer\">register a custom formatter based on an annotation</a>, the original idea proposed in the answer. Thinking about annotations like <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormat</code></a>, it makes perfect sense. In fact, this approach were previously described here, in Stackoverflow (see the accepted answer in <a href=\"https://stackoverflow.com/questions/46728972/custom-converter-for-requestparam-in-spring-mvc\">this question</a>).</p>\n<p>In your case (basically a transcription of the answer above mentioned for your case):</p>\n<p>First, define your <code>DecodedIdentifier</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD, ElementType.FIELD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})\npublic @interface DecodedIdentifier {\n}\n</code></pre>\n<p>In fact, you can think of enriching the annotation by including, for example, the encoding in which the information should be processed.</p>\n<p>Then, create the corresponding <code>AnnotationFormatterFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.ParseException;\nimport java.util.Base64;\nimport java.util.Collections;\nimport java.util.Locale;\nimport java.util.Set;\n\nimport org.springframework.context.support.EmbeddedValueResolutionSupport;\nimport org.springframework.format.AnnotationFormatterFactory;\nimport org.springframework.format.Formatter;\nimport org.springframework.format.Parser;\nimport org.springframework.format.Printer;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class DecodedIdentifierFormatterFactory extends EmbeddedValueResolutionSupport\n  implements AnnotationFormatterFactory&lt;DecodedIdentifier&gt; {\n\n  @Override\n  public Set&lt;Class&lt;?&gt;&gt; getFieldTypes() {\n    return Collections.singleton(String.class);\n  }\n\n  @Override\n  public Printer&lt;?&gt; getPrinter(DecodedIdentifier annotation, Class&lt;?&gt; fieldType) {\n    return this.getFormatter(annotation);\n  }\n\n  @Override\n  public Parser&lt;?&gt; getParser(DecodedIdentifier annotation, Class&lt;?&gt; fieldType) {\n    return this.getFormatter(annotation);\n  }\n\n  private Formatter getFormatter(DecodedIdentifier annotation) {\n    return new Formatter&lt;String&gt;() {\n      @Override\n      public String parse(String text, Locale locale) throws ParseException {\n        // If the annotation could provide some information about the\n        // encoding to be used, this logic will be highly reusable\n        return new String(Base64.getDecoder().decode(text));\n      }\n\n      @Override\n      public String print(String object, Locale locale) {\n        return object;\n      }\n    };\n  }\n}\n</code></pre>\n<p>Register the factory in your Spring MVC configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addFormatterForFieldAnnotation(new DecodedIdentifierFormatterFactory());\n    }\n}\n</code></pre>\n<p>Finally, use the annotation in your <code>Controller</code>s, exactly as you indicated in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;...&gt; execute(@PathVariable @DecodedIdentifier String id) {\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45917,"reputation":20079,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603575198,"creation_date":1603575198,"answer_id":64518209,"question_id":64370226,"body_markdown":"You can achieve this implementing a [HandlerMethodArgumentResolver][1]:\r\n\r\n    public class DecodedIdentifierArgumentResolver implements HandlerMethodArgumentResolver {\r\n\r\n\t    @Override\r\n\t    public boolean supportsParameter(MethodParameter parameter) {\r\n\t    \treturn parameter.hasParameterAnnotation(DecodedIdentifier.class);\r\n    \t}\r\n\r\n\t    @Override\r\n\t    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n\t\t    String value = webRequest.getParameterValues(parameter.getParameterName())[0];\r\n\t\t    return Base64.getDecoder().decode(value);\r\n\t    }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html","title":"Add (custom) decoder to WebMVC endpoint","body":"<p>You can achieve this implementing a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\" rel=\"nofollow noreferrer\">HandlerMethodArgumentResolver</a>:</p>\n<pre><code>public class DecodedIdentifierArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.hasParameterAnnotation(DecodedIdentifier.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        String value = webRequest.getParameterValues(parameter.getParameterName())[0];\n        return Base64.getDecoder().decode(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998063,"reputation":29,"user_id":1789788,"display_name":"mico.barac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638381077,"creation_date":1638381077,"answer_id":70188991,"question_id":64370226,"body_markdown":"The problem with a custom `HandlerMethodArgumentResolver` and `@PathVariable` or `@RequestParam` is that it will never get executed, as `@PathVariable` and `@RequestParam` have their own resolvers each, which get executed prior to any custom resolvers. What if I want to obfuscate `Long` id param with `Hashids`? Then, the parameter has to be passed as a hashed `String`, get decoded to original `Long` id value. How do I provide conversion type change?\r\n","title":"Add (custom) decoder to WebMVC endpoint","body":"<p>The problem with a custom <code>HandlerMethodArgumentResolver</code> and <code>@PathVariable</code> or <code>@RequestParam</code> is that it will never get executed, as <code>@PathVariable</code> and <code>@RequestParam</code> have their own resolvers each, which get executed prior to any custom resolvers. What if I want to obfuscate <code>Long</code> id param with <code>Hashids</code>? Then, the parameter has to be passed as a hashed <code>String</code>, get decoded to original <code>Long</code> id value. How do I provide conversion type change?</p>\n"}],"owner":{"display_name":"user4402596"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64412472,"answer_count":3,"score":3,"last_activity_date":1638381077,"creation_date":1602760008,"question_id":64370226,"body_markdown":"I have a WebMVC endpoint:\r\n\r\n```\r\n@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\r\npublic ResponseEntity&lt;...&gt; execute(@PathVariable String id) {\r\n   ...\r\n}\r\n```\r\n\r\nHere, the provided `id` should be decoded first. Is it possible to define an annotation which does this &quot;in the background&quot;; that is, prior to calling the endpoint? Something in the lines of:\r\n\r\n```\r\n@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\r\npublic ResponseEntity&lt;...&gt; execute(@PathVariable @DecodedIdentifier String id) {\r\n   ...\r\n}\r\n```\r\n\r\nNote the `@DecodedIdentifier` annotation. I know it does not exists, but it hopefully explains my intent. I know this is possible with Jersey&#39;s JAX-RS implementation, but what about Spring&#39;s WebMVC?\r\n\r\nHere, I am using base64 decoding, but I wondering if I could inject a custom decoder as well.","title":"Add (custom) decoder to WebMVC endpoint","body":"<p>I have a WebMVC endpoint:</p>\n<pre><code>@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;...&gt; execute(@PathVariable String id) {\n   ...\n}\n</code></pre>\n<p>Here, the provided <code>id</code> should be decoded first. Is it possible to define an annotation which does this &quot;in the background&quot;; that is, prior to calling the endpoint? Something in the lines of:</p>\n<pre><code>@RequestMapping(path = &quot;/execution/{id}&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;...&gt; execute(@PathVariable @DecodedIdentifier String id) {\n   ...\n}\n</code></pre>\n<p>Note the <code>@DecodedIdentifier</code> annotation. I know it does not exists, but it hopefully explains my intent. I know this is possible with Jersey's JAX-RS implementation, but what about Spring's WebMVC?</p>\n<p>Here, I am using base64 decoding, but I wondering if I could inject a custom decoder as well.</p>\n"},{"tags":["java","spring","constructor","autowired"],"answers":[{"tags":[],"owner":{"account_id":3678851,"reputation":1603,"user_id":3064251,"display_name":"napentathol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638380585,"creation_date":1638380585,"answer_id":70188866,"question_id":70188707,"body_markdown":"If you specify a property in your `application.properties` file that corresponds to the `persistenceType`, that will allow you to dynamically switch between `mybatis` and `jpa`.\r\n\r\nFor more information, there are some docs here:  \r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config","title":"Pass a parameter in a service that allows me to use one method rather than another method","body":"<p>If you specify a property in your <code>application.properties</code> file that corresponds to the <code>persistenceType</code>, that will allow you to dynamically switch between <code>mybatis</code> and <code>jpa</code>.</p>\n<p>For more information, there are some docs here:<br />\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config</a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638381059,"creation_date":1638381059,"answer_id":70188986,"question_id":70188707,"body_markdown":"It is perfectly possible. I would start by creating a `PersistenceType` enum:\r\n```java\r\nenum PersistenceType {\r\n  JPA,\r\n  MYBATIS\r\n}\r\n```\r\n\r\nThen you need to declare you need to receive a `PersistenceType` in your POST endpoint and pass it to the underlying `ManufacturerService` as follows:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/manufacturers&quot;)\r\npublic class ManufacturesController {\r\n\r\n    public static final Logger LOG = LogManager.getLogger(ManufacturesController.class);\r\n\r\n    @Autowired\r\n    private ManufacturerService manufacturerService;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Manufacturer&gt; createManufacturer(@RequestBody ManufacturerDTO manufacturer, @RequestParm(required = true) PersistenceType persistenceType) {\r\n        LOG.info(&quot;START - createManufacturer&quot;);\r\n        try {\r\n            Manufacturer _manufacturer = ManufacturerMapper.toEntity(manufacturer);\r\n            manufacturerService.save(_manufacturer, persistenceType);\r\n            LOG.info(&quot;STOP - createManufacturer&quot;);\r\n            return new ResponseEntity&lt;&gt;(_manufacturer, HttpStatus.CREATED);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Error description: &quot;, e);\r\n            LOG.info(&quot;STOP - createManufacturer&quot;);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe final thing is to change your `ManufacturerService` to accept an additional parameter in the save method:\r\n```java\r\n@Service\r\npublic class ManufacturerService implements IManufacturerService {\r\n\r\n    @Autowired\r\n    private ManufacturerRepository manufacturerRepository;\r\n\r\n    @Autowired\r\n    private ManufacturerMapper manufacturerMapper;\r\n\r\n    @Override\r\n    @Transactional\r\n    public Manufacturer save(Manufacturer manufacturer, PersistenceType persistenceType) {\r\n        if (persistenceType.equals(PersistenceType.MYBATIS)) {\r\n            return manufacturerMapper.insert(manufacturer);\r\n        } else {\r\n            return manufacturerRepository.save(manufacturer);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nAs a suggestion, I would include `persistenceType` in the request body and not as a separate query param. It works as-is, but it would be more concise and easier to understand for the consumer of your API if everything is passed in the request body (or as a path variable).","title":"Pass a parameter in a service that allows me to use one method rather than another method","body":"<p>It is perfectly possible. I would start by creating a <code>PersistenceType</code> enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum PersistenceType {\n  JPA,\n  MYBATIS\n}\n</code></pre>\n<p>Then you need to declare you need to receive a <code>PersistenceType</code> in your POST endpoint and pass it to the underlying <code>ManufacturerService</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/manufacturers&quot;)\npublic class ManufacturesController {\n\n    public static final Logger LOG = LogManager.getLogger(ManufacturesController.class);\n\n    @Autowired\n    private ManufacturerService manufacturerService;\n\n    @PostMapping\n    public ResponseEntity&lt;Manufacturer&gt; createManufacturer(@RequestBody ManufacturerDTO manufacturer, @RequestParm(required = true) PersistenceType persistenceType) {\n        LOG.info(&quot;START - createManufacturer&quot;);\n        try {\n            Manufacturer _manufacturer = ManufacturerMapper.toEntity(manufacturer);\n            manufacturerService.save(_manufacturer, persistenceType);\n            LOG.info(&quot;STOP - createManufacturer&quot;);\n            return new ResponseEntity&lt;&gt;(_manufacturer, HttpStatus.CREATED);\n        } catch (Exception e) {\n            LOG.error(&quot;Error description: &quot;, e);\n            LOG.info(&quot;STOP - createManufacturer&quot;);\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>The final thing is to change your <code>ManufacturerService</code> to accept an additional parameter in the save method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ManufacturerService implements IManufacturerService {\n\n    @Autowired\n    private ManufacturerRepository manufacturerRepository;\n\n    @Autowired\n    private ManufacturerMapper manufacturerMapper;\n\n    @Override\n    @Transactional\n    public Manufacturer save(Manufacturer manufacturer, PersistenceType persistenceType) {\n        if (persistenceType.equals(PersistenceType.MYBATIS)) {\n            return manufacturerMapper.insert(manufacturer);\n        } else {\n            return manufacturerRepository.save(manufacturer);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>As a suggestion, I would include <code>persistenceType</code> in the request body and not as a separate query param. It works as-is, but it would be more concise and easier to understand for the consumer of your API if everything is passed in the request body (or as a path variable).</p>\n"}],"owner":{"account_id":23039944,"reputation":15,"user_id":17158239,"display_name":"KG_stackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70188986,"answer_count":2,"score":1,"last_activity_date":1638381059,"creation_date":1638379839,"question_id":70188707,"body_markdown":"is it possible to pass a parameter in a service that allows me to use one method rather than another?\r\n\r\nBelow is a controller and a service. I want to pass a (persistenceType) parameter that allows me to use mybatis rather than jpa. I&#39;ll pass it as queryparam in the REST call.\r\n\r\n  \r\n```java\r\n@Service\r\npublic class ManufacturerService implements IManufacturerService {\r\n\r\n    @Autowired\r\n    private ManufacturerRepository manufacturerRepository;\r\n\r\n    @Autowired\r\n    private ManufacturerMapper manufacturerMapper;\r\n\r\n    @Override\r\n    @Transactional\r\n    public Manufacturer save(Manufacturer manufacturer) {\r\n        //if persistenceType.equals(MYBATIS) \r\n        //manufacturerMapper.insert(manufacturer);\r\n        //else manufacturerRepository.save(manufacturer);\r\n        \r\n        manufacturerMapper.insert(manufacturer);\r\n        return null;\r\n        //return manufacturerRepository.save(manufacturer);\r\n    }\r\n}\r\n```\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/manufacturers&quot;)\r\npublic class ManufacturesController {\r\n\r\n    public static final Logger LOG = LogManager.getLogger(ManufacturesController.class);\r\n\r\n    @Autowired\r\n    private ManufacturerService manufacturerService;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Manufacturer&gt; createManufacturer(@RequestBody ManufacturerDTO manufacturer, @Param persistenceType) {\r\n        LOG.info(&quot;START - createManufacturer&quot;);\r\n        try {\r\n            Manufacturer _manufacturer = ManufacturerMapper.toEntity(manufacturer);\r\n            manufacturerService(persistenceType).save(_manufacturer);\r\n            LOG.info(&quot;STOP - createManufacturer&quot;);\r\n            return new ResponseEntity&lt;&gt;(_manufacturer, HttpStatus.CREATED);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;Error description: &quot;, e);\r\n            LOG.info(&quot;STOP - createManufacturer&quot;);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI know it&#39;s not like that, but it was right to make you understand what my purpose is.","title":"Pass a parameter in a service that allows me to use one method rather than another method","body":"<p>is it possible to pass a parameter in a service that allows me to use one method rather than another?</p>\n<p>Below is a controller and a service. I want to pass a (persistenceType) parameter that allows me to use mybatis rather than jpa. I'll pass it as queryparam in the REST call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ManufacturerService implements IManufacturerService {\n\n    @Autowired\n    private ManufacturerRepository manufacturerRepository;\n\n    @Autowired\n    private ManufacturerMapper manufacturerMapper;\n\n    @Override\n    @Transactional\n    public Manufacturer save(Manufacturer manufacturer) {\n        //if persistenceType.equals(MYBATIS) \n        //manufacturerMapper.insert(manufacturer);\n        //else manufacturerRepository.save(manufacturer);\n        \n        manufacturerMapper.insert(manufacturer);\n        return null;\n        //return manufacturerRepository.save(manufacturer);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/manufacturers&quot;)\npublic class ManufacturesController {\n\n    public static final Logger LOG = LogManager.getLogger(ManufacturesController.class);\n\n    @Autowired\n    private ManufacturerService manufacturerService;\n\n    @PostMapping\n    public ResponseEntity&lt;Manufacturer&gt; createManufacturer(@RequestBody ManufacturerDTO manufacturer, @Param persistenceType) {\n        LOG.info(&quot;START - createManufacturer&quot;);\n        try {\n            Manufacturer _manufacturer = ManufacturerMapper.toEntity(manufacturer);\n            manufacturerService(persistenceType).save(_manufacturer);\n            LOG.info(&quot;STOP - createManufacturer&quot;);\n            return new ResponseEntity&lt;&gt;(_manufacturer, HttpStatus.CREATED);\n        } catch (Exception e) {\n            LOG.error(&quot;Error description: &quot;, e);\n            LOG.info(&quot;STOP - createManufacturer&quot;);\n            return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n}\n</code></pre>\n<p>I know it's not like that, but it was right to make you understand what my purpose is.</p>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":9150413,"reputation":4837,"user_id":6805190,"display_name":"dassum"},"score":0,"creation_date":1638380774,"post_id":70188856,"comment_id":124074898,"body_markdown":"In the screenshot, you have shown the value Map&lt;String, List&lt;Object&gt;&gt; and in the request, you are expecting Map&lt;String,String&gt;","body":"In the screenshot, you have shown the value Map&lt;String, List&lt;Object&gt;&gt; and in the request, you are expecting Map&lt;String,String&gt;"},{"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"score":0,"creation_date":1638393119,"post_id":70188856,"comment_id":124079526,"body_markdown":"The request is what Swagger UI generated.  I&#39;ve no control on that. With the previous version of Swagger it was exactly the same.","body":"The request is what Swagger UI generated.  I&#39;ve no control on that. With the previous version of Swagger it was exactly the same."}],"owner":{"account_id":2303324,"reputation":915,"user_id":2023141,"accept_rate":20,"display_name":"user2023141"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638380533,"creation_date":1638380533,"question_id":70188856,"body_markdown":"Since I upgraded to Open Api/Swagger v3, The @RequestBody with MultiValueMap is not working anymore.\r\n\r\nThe values which are entered in the swagger UI are not translated/converted correctly in the controller class anymore.\r\n\r\nI always get the same default values in the variable &quot;params&quot; (all, empty), instead of the values entered in Swagger UI.  See screenshot of debugging below.\r\n\r\nHow can I make this work again ?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Gtrj.png\r\n  [2]: https://i.stack.imgur.com/CCHCm.png","title":"@RequestBody with MultiValueMap not working in swagger V3 in Spring Boot Project","body":"<p>Since I upgraded to Open Api/Swagger v3, The @RequestBody with MultiValueMap is not working anymore.</p>\n<p>The values which are entered in the swagger UI are not translated/converted correctly in the controller class anymore.</p>\n<p>I always get the same default values in the variable &quot;params&quot; (all, empty), instead of the values entered in Swagger UI.  See screenshot of debugging below.</p>\n<p>How can I make this work again ?</p>\n<p><a href=\"https://i.stack.imgur.com/9Gtrj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Gtrj.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CCHCm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CCHCm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql-server","eclipse","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1541090896,"post_id":53104562,"comment_id":93106717,"body_markdown":"Are you using 32 bit or 64 bit Java?","body":"Are you using 32 bit or 64 bit Java?"},{"owner":{"account_id":6599832,"reputation":598,"user_id":5098489,"accept_rate":56,"display_name":"dpberry178"},"score":0,"creation_date":1541092504,"post_id":53104562,"comment_id":93107599,"body_markdown":"@MarkRotteveel, sorry I meant to specify that. 64 bit Java.","body":"@MarkRotteveel, sorry I meant to specify that. 64 bit Java."}],"answers":[{"tags":[],"owner":{"account_id":4656430,"reputation":21,"user_id":3771932,"display_name":"ken411"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638380524,"creation_date":1638380524,"answer_id":70188853,"question_id":53104562,"body_markdown":"Late response for anyone who might still run into this... I had to drop a copy of the mssql-jdbc_auth-*X.Y.X*.x64.dll file (from the driver&#39;s sqljdbc_*X.Y*\\enu\\auth\\x64 folder) into the java.library.path on my Windows 10 machine and restart eclipse.  After that, I was able to connect using the integrated security. BTW, the java.library.path should, in part, reflect your Windows environment&#39;s PATH variable.","title":"How do I configure integrated authentication for SQL Server JDBC driver in Eclipse?","body":"<p>Late response for anyone who might still run into this... I had to drop a copy of the mssql-jdbc_auth-<em>X.Y.X</em>.x64.dll file (from the driver's sqljdbc_<em>X.Y</em>\\enu\\auth\\x64 folder) into the java.library.path on my Windows 10 machine and restart eclipse.  After that, I was able to connect using the integrated security. BTW, the java.library.path should, in part, reflect your Windows environment's PATH variable.</p>\n"}],"owner":{"account_id":6599832,"reputation":598,"user_id":5098489,"accept_rate":56,"display_name":"dpberry178"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638380524,"creation_date":1541086810,"question_id":53104562,"body_markdown":"I am trying to create a new database connection to SQL Server in Eclipse, and I am getting the following error:\r\n\r\n    *com.microsoft.sqlserver.jdbc.SQLServerException: This driver is not configured for integrated authentication. ClientConnectionId:f76bec48-e9f8-4a03-aea3-4840e8674267*\r\n\r\nEnvironment details:\r\n\r\n - Windows Server 2016 Datacenter (x64) \r\n - Microsoft SQL Server 2014 (SP2-GDR)\r\n - Eclipse 4.9.0 JRE 1.8.0_191\r\n - Driver: sqljdbc 6.0\r\n\r\n----------------------------------------------\r\n\r\nSteps that led to the error:\r\n\r\n1. Opened Data Source Explorer and added a new Database Connection\r\n2. Chose Microsoft SQL Server 2008 JDBC Driver (I was not able to get any of the newer ones to work; it wouldn&#39;t let me enter any properties).\r\n3. Pointed Eclipse to my JAR file (sqljdbc42.jar)\r\n4. Entered the database properties and chose &quot;Use integrated authentication&quot;\r\n5. Clicked &quot;Test Database Connection&quot;\r\n\r\nThis is where I get the error noted above.\r\n\r\n----------------------------------------------\r\n\r\nWhat I have tried to fix the error:\r\n\r\n - I read that this error is often due to the absence of the sqljdbc_auth.dll file in the Windows system path, so I moved the x64 version of this file to C:\\Windows\\System32 (and I also tried C:\\Windows\\SysWOW64 for good measure), but, same result.\r\n - I also found that adding the sqljdbc_auth.dll file to the java.library.path value can be a potential fix, but I am not sure how to do that since I am not actually in a project at this point; I am in the Data Source Explorer trying to add a new connection.\r\n\r\n----------------------------------------------\r\n\r\nEvery time I try to ping this connection, I get the same error:\r\n\r\n    *com.microsoft.sqlserver.jdbc.SQLServerException: This driver is not configured for integrated authentication. ClientConnectionId:733c823d-b740-4f70-89a4-4109a03dad58*\r\n\r\nHowever, I am able to connect to this server/database with Windows Authentication via SQL Server Management Studio.\r\n\r\nThanks for your help!","title":"How do I configure integrated authentication for SQL Server JDBC driver in Eclipse?","body":"<p>I am trying to create a new database connection to SQL Server in Eclipse, and I am getting the following error:</p>\n\n<pre><code>*com.microsoft.sqlserver.jdbc.SQLServerException: This driver is not configured for integrated authentication. ClientConnectionId:f76bec48-e9f8-4a03-aea3-4840e8674267*\n</code></pre>\n\n<p>Environment details:</p>\n\n<ul>\n<li>Windows Server 2016 Datacenter (x64) </li>\n<li>Microsoft SQL Server 2014 (SP2-GDR)</li>\n<li>Eclipse 4.9.0 JRE 1.8.0_191</li>\n<li>Driver: sqljdbc 6.0</li>\n</ul>\n\n<hr>\n\n<p>Steps that led to the error:</p>\n\n<ol>\n<li>Opened Data Source Explorer and added a new Database Connection</li>\n<li>Chose Microsoft SQL Server 2008 JDBC Driver (I was not able to get any of the newer ones to work; it wouldn't let me enter any properties).</li>\n<li>Pointed Eclipse to my JAR file (sqljdbc42.jar)</li>\n<li>Entered the database properties and chose \"Use integrated authentication\"</li>\n<li>Clicked \"Test Database Connection\"</li>\n</ol>\n\n<p>This is where I get the error noted above.</p>\n\n<hr>\n\n<p>What I have tried to fix the error:</p>\n\n<ul>\n<li>I read that this error is often due to the absence of the sqljdbc_auth.dll file in the Windows system path, so I moved the x64 version of this file to C:\\Windows\\System32 (and I also tried C:\\Windows\\SysWOW64 for good measure), but, same result.</li>\n<li>I also found that adding the sqljdbc_auth.dll file to the java.library.path value can be a potential fix, but I am not sure how to do that since I am not actually in a project at this point; I am in the Data Source Explorer trying to add a new connection.</li>\n</ul>\n\n<hr>\n\n<p>Every time I try to ping this connection, I get the same error:</p>\n\n<pre><code>*com.microsoft.sqlserver.jdbc.SQLServerException: This driver is not configured for integrated authentication. ClientConnectionId:733c823d-b740-4f70-89a4-4109a03dad58*\n</code></pre>\n\n<p>However, I am able to connect to this server/database with Windows Authentication via SQL Server Management Studio.</p>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","android","android-studio","kotlin","retrofit"],"comments":[{"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"score":0,"creation_date":1638379054,"post_id":70188365,"comment_id":124074155,"body_markdown":"Which frame you are using if spring you can use @async in service","body":"Which frame you are using if spring you can use @async in service"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1638385814,"post_id":70188365,"comment_id":124076927,"body_markdown":"`execute` uses the current thread and `enqueue` uses a background thread and then runs the callback on the calling thread. Or if you&#39;re using coroutines, it&#39;s most natural to define suspend functions so you can use them synchronously without blocking threads.","body":"<code>execute</code> uses the current thread and <code>enqueue</code> uses a background thread and then runs the callback on the calling thread. Or if you&#39;re using coroutines, it&#39;s most natural to define suspend functions so you can use them synchronously without blocking threads."},{"owner":{"account_id":20454826,"reputation":127,"user_id":15008747,"display_name":"Null"},"score":0,"creation_date":1638483972,"post_id":70188365,"comment_id":124107981,"body_markdown":"Thanks all for help","body":"Thanks all for help"}],"answers":[{"tags":[],"owner":{"account_id":15847804,"reputation":124,"user_id":11434566,"display_name":"Bilal Awwad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638380367,"creation_date":1638380367,"answer_id":70188809,"question_id":70188365,"body_markdown":"Retrofit by default doesn&#39;t run network requests on main thread (if thats what you need to know), so you don&#39;t really need to do anything in that regard.\r\n\r\nbut if you are using Kotlin, i would highly suggest you to use Retrofit with [Coroutines][1], which is not mandatory for kotlin applications but it is more efficient and is built in kotlin itself so you don&#39;t need to install any third party lib.\r\n\r\nhere is a useful guide on how to use Retrofit with Coroutines:\r\n[link][2]\r\n\r\n\r\n  [1]: https://developer.android.com/kotlin/coroutines?gclid=Cj0KCQiA15yNBhDTARIsAGnwe0X2PUnZuMitq9iiTy2e4T8a4LnU_RY5ZxySFrDG9j6Hgfg4XoUC89waAojzEALw_wcB&amp;gclsrc=aw.ds\r\n  [2]: https://blog.mindorks.com/using-retrofit-with-kotlin-coroutines-in-android","title":"Is retrofit post data to api in background thread automatically","body":"<p>Retrofit by default doesn't run network requests on main thread (if thats what you need to know), so you don't really need to do anything in that regard.</p>\n<p>but if you are using Kotlin, i would highly suggest you to use Retrofit with <a href=\"https://developer.android.com/kotlin/coroutines?gclid=Cj0KCQiA15yNBhDTARIsAGnwe0X2PUnZuMitq9iiTy2e4T8a4LnU_RY5ZxySFrDG9j6Hgfg4XoUC89waAojzEALw_wcB&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Coroutines</a>, which is not mandatory for kotlin applications but it is more efficient and is built in kotlin itself so you don't need to install any third party lib.</p>\n<p>here is a useful guide on how to use Retrofit with Coroutines:\n<a href=\"https://blog.mindorks.com/using-retrofit-with-kotlin-coroutines-in-android\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":20454826,"reputation":127,"user_id":15008747,"display_name":"Null"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":847,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70188809,"answer_count":1,"score":-1,"last_activity_date":1638380367,"creation_date":1638378321,"question_id":70188365,"body_markdown":"Hi all I have question is retrofit post data to api in background thread automatically or should I use something like RXjava to make it?","title":"Is retrofit post data to api in background thread automatically","body":"<p>Hi all I have question is retrofit post data to api in background thread automatically or should I use something like RXjava to make it?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638380115,"post_id":70188732,"comment_id":124074612,"body_markdown":"Your JSON array is not a valid array (there are no commas between objects)","body":"Your JSON array is not a valid array (there are no commas between objects)"},{"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"score":0,"creation_date":1638380211,"post_id":70188732,"comment_id":124074657,"body_markdown":"please tell me what i can change in the php script","body":"please tell me what i can change in the php script"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638380398,"post_id":70188732,"comment_id":124074736,"body_markdown":"For starters, `temp` is always only one item and you should not echo multiple objects within a loop. You should make an empty array **before** the loop. Append objects to it within the loop, then echo the `json_encode` result of the array once after the loop","body":"For starters, <code>temp</code> is always only one item and you should not echo multiple objects within a loop. You should make an empty array <b>before</b> the loop. Append objects to it within the loop, then echo the <code>json_encode</code> result of the array once after the loop"}],"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638380297,"creation_date":1638380001,"question_id":70188732,"body_markdown":"how to get data from Json Array in another Json array ,i need to get the array &quot;addon items&quot; \r\nand put it in another recycle view\r\n\r\nplease look at the json and the java code what i already write .\r\n\r\n**json output:**\r\n```\r\n[{\r\n    &quot;name&quot;: &quot;BOILED EGGS&quot;,\r\n    &quot;price&quot;: 40000,\r\n    &quot;quantity&quot;: 1,\r\n    &quot;option&quot;: null,\r\n    &quot;addon items&quot;: [\r\n        {\r\n            &quot;addon_item_name&quot;: &quot;Cheese&quot;,\r\n            &quot;addon_id&quot;: &quot;112&quot;,\r\n            &quot;price&quot;: &quot;2500&quot;,\r\n            &quot;quantity&quot;: &quot;1&quot;\r\n        }\r\n    ],\r\n    &quot;order notes&quot;: &quot;extra meal&quot;\r\n}{\r\n    &quot;name&quot;: &quot;Amazon Green Salad&quot;,\r\n    &quot;price&quot;: 54000,\r\n    &quot;quantity&quot;: 1,\r\n    &quot;option&quot;: &quot;Full Portion&quot;,\r\n    &quot;addon items&quot;: [\r\n        {\r\n            &quot;addon_item_name&quot;: &quot;Cheese&quot;,\r\n            &quot;addon_id&quot;: &quot;112&quot;,\r\n            &quot;price&quot;: &quot;2500&quot;,\r\n            &quot;quantity&quot;: &quot;1&quot;\r\n        },\r\n        {\r\n            &quot;addon_item_name&quot;: &quot;Smoked Salmon&quot;,\r\n            &quot;addon_id&quot;: &quot;136&quot;,\r\n            &quot;price&quot;: &quot;4000&quot;,\r\n            &quot;quantity&quot;: &quot;1&quot;\r\n        }\r\n    ],\r\n    &quot;order notes&quot;: &quot;&quot;\r\n}{\r\n    &quot;address&quot;: {\r\n        &quot;address&quot;: &quot;hadath&quot;,\r\n        &quot;flat&quot;: &quot;mona bldg&quot;,\r\n        &quot;city&quot;: &quot;beirut&quot;,\r\n        &quot;postcode&quot;: &quot;1003&quot;\r\n    },\r\n    &quot;phone&quot;: &quot;71883419&quot;\r\n}]\r\n```\r\nplease before tell me if i have any problem in this json \r\n\r\n**php script :**\r\n\r\n```\r\n\r\n&lt;?php\r\n\r\nheader(&#39;Content-Type: application/json; charset=utf-8&#39;);\r\nfunction getAdd($ids) {\r\n      $servername = &#39;mysql&#39;;\r\n$username = &#39;&#39;;\r\n$password = &#39;&#39;;\r\n$database = &#39;&#39;;\r\n$conn = new mysqli($servername, $username, $password, $database);\r\n$sql = &quot;SELECT meta_value FROM `wp_postmeta` WHERE post_id = ? AND meta_key =  &#39;_rpress_delivery_address&#39; &quot;;\r\n$stmt = $conn-&gt;prepare($sql);\r\n$stmt-&gt;bind_param(&#39;i&#39;,$ids);\r\n$stmt-&gt;execute();\r\n$stmt-&gt;bind_result($meta_value);\r\nwhile($stmt-&gt;fetch()){\r\n    $arr = unserialize($meta_value);\r\n  return $arr;\r\n\r\n\r\n}\r\n    \r\n    \r\n}\r\n\r\n\r\n\r\nfunction getVar($ids,$price) {\r\n    $servername = &#39;mysql&#39;;\r\n$username = &#39;&#39;;\r\n$password = &#39;&#39;;\r\n$database = &#39;&#39;;\r\n$conn = new mysqli($servername, $username, $password, $database);\r\n$sql = &quot;SELECT meta_value FROM `wp_postmeta` WHERE post_id = ? AND meta_key =  &#39;rpress_variable_prices&#39; &quot;;\r\n$stmt = $conn-&gt;prepare($sql);\r\n$stmt-&gt;bind_param(&#39;i&#39;,$ids);\r\n$stmt-&gt;execute();\r\n$stmt-&gt;bind_result($meta_value);\r\nwhile($stmt-&gt;fetch()){\r\n    $arr = unserialize($meta_value);\r\n\r\nfor ($i=0; $i&lt;=count($arr);$i++) {\r\n\r\n\r\n      $p1 = $arr[$i][amount]+0;\r\n      \r\n      if ($p1 == $price) {\r\n          \r\n          return $arr[$i][name];\r\n      }\r\n   \r\n    }\r\n\r\n}\r\n\r\n    \r\n\r\n}\r\n\r\n\r\n\r\n \r\n \r\nif (isset($_GET[&#39;id&#39;])) {\r\n\r\n$id= $_GET[&#39;id&#39;];\r\n$servername = &#39;mysql&#39;;\r\n$username = &#39;&#39;;\r\n$password = &#39;&#39;;\r\n$database = &#39;&#39;;\r\n$conn = new mysqli($servername, $username, $password, $database);\r\n    $orders = array();\r\n\r\n$sql = &quot;SELECT meta_value FROM `wp_postmeta` WHERE post_id = ?&quot;;\r\n$stmt = $conn-&gt;prepare($sql);\r\n$stmt-&gt;bind_param(&#39;i&#39;,$id);\r\n$stmt-&gt;execute();\r\n$stmt-&gt;bind_result($meta_value);\r\nwhile($stmt-&gt;fetch()){\r\n\r\n$arr = unserialize($meta_value);\r\n//var_dump($arr);\r\n\r\nfor($i=0;$i&lt;=count($arr);$i++) {\r\n$items = array();\r\n\r\n\r\n$items[$i] =  $arr[cart_details][$i];\r\n\r\nif ($items[$i] !== null) {\r\n\r\n    $variable_id  = $arr[cart_details][$i][id];\r\n   $vp = $arr[cart_details][$i][price];\r\n   $phone =  $arr[phone];\r\n   $notes = $arr[cart_details][$i][instruction];\r\n  ;\r\n\r\n   \r\n\r\n//echo $arr[1];\r\n \r\n\r\n$temp = [\r\n    &#39;name&#39; =&gt; $arr[cart_details][$i][name],\r\n    &#39;price&#39; =&gt; $arr[cart_details][$i][price],\r\n        &#39;quantity&#39; =&gt; $arr[cart_details][$i][quantity],\r\n                &#39;option&#39; =&gt;  getVar($variable_id,$vp),\r\n        &#39;addon items&#39;=&gt; $arr[cart_details][$i][addon_items],\r\n                &#39;order notes&#39; =&gt; $notes,\r\n                &#39;address&#39; =&gt; getAdd($id),\r\n                &#39;phone&#39; =&gt; $phone\r\n\r\n       \r\n ];\r\n   \r\n  \r\n\r\n    $json = json_encode($temp);\r\n    echo $json;\r\n          \r\n}\r\n\r\n}\r\n\r\n$fixed_temp = [\r\n    \r\n          &#39;address&#39; =&gt; getAdd($id),\r\n        &#39;phone&#39; =&gt; $phone\r\n    \r\n    \r\n    ];\r\n    \r\n    \r\n\r\n//print_r($arr[cart_details][$i][addon_items]);\r\n\r\n\r\n\r\n}\r\n  // echo json_encode($fixed_temp); \r\n\r\n}\r\n\r\n\r\n\r\n?&gt;\r\n\r\n```\r\n\r\nplease if you see any problem in the php script tell me\r\n\r\n**java :**\r\n```\r\n\r\npublic void getAllPosts() throws Exception{\r\n        String TAG = &quot;POSTS_VIDEO&quot;;\r\n        String url = &quot;https://fitness-diner.com/api/api-get-post-data-bkp.php?id=&quot;+id;\r\n        StringRequest jsonObjectRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Log.i(&quot;response_VIDEO&quot;, response);\r\n\r\n                progressBar.setVisibility(View.GONE);\r\n\r\n                parseJson(response);\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                try {\r\n\r\n                  //  swipeRefreshLayout.setRefreshing(false);\r\n                    Log.e(&quot;error&quot;, &quot;&quot; +error.getMessage());\r\n                }catch (NullPointerException e)\r\n                {\r\n                   // swipeRefreshLayout.setRefreshing(false);\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n\r\n\r\n        AppController.getInstance().addToRequestQueue(jsonObjectRequest, TAG);\r\n\r\n    }\r\n    public void parseJson(String response){\r\n\r\n        try {\r\n\r\n            JSONArray array = new JSONArray(response);\r\n            JSONObject jsonObject =null;\r\n\r\n            post_array.clear();\r\n            ItemOrder p;\r\n            AddOnitem r;\r\n            for(int i=0 ; i&lt;array.length() ; i++)\r\n            {\r\n                jsonObject=array.getJSONObject(i);\r\n\r\n\r\n                String nameitem = jsonObject.getString(&quot;name&quot;);\r\n                String priceitem = jsonObject.getString(&quot;price&quot;);\r\n                String quantityitem = jsonObject.getString(&quot;quantity&quot;);\r\n                String optionitem = jsonObject.getString(&quot;option&quot;);\r\n                //   String addonid = jsonObject.getString(&quot;addon items&quot;);\r\n                String noteitem = jsonObject.getString(&quot;order notes&quot;);\r\n\r\n\r\n\r\n                p = new ItemOrder();\r\n                p.setNameitem(nameitem);\r\n                p.setPriceitem(priceitem);\r\n                p.setQuantityitem(quantityitem);\r\n                p.setOptionitem(optionitem);\r\n                p.setNoteitem(noteitem);\r\n                //  p.setViews_video(views_video);\r\n\r\n\r\n                post_array.add(p);\r\n                //realmHelper.save(p);\r\n            }\r\n\r\n\r\n        }\r\n        catch (JSONException e) {\r\n           // swipeRefreshLayout.setRefreshing(false);\r\n            e.printStackTrace();\r\n            Log.d(&quot;error&quot;, e.getMessage());\r\n        }\r\n        adapter = new ItemOrderAdapter(getApplicationContext(), post_array,id);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n       // swipeRefreshLayout.setRefreshing(false);\r\n\r\n    }\r\n\r\n```\r\n\r\ni need to solve it quicly \r\n\r\nthanks!!\r\n","title":"receive data from Json array in Json array Android Java","body":"<p>how to get data from Json Array in another Json array ,i need to get the array &quot;addon items&quot;\nand put it in another recycle view</p>\n<p>please look at the json and the java code what i already write .</p>\n<p><strong>json output:</strong></p>\n<pre><code>[{\n    &quot;name&quot;: &quot;BOILED EGGS&quot;,\n    &quot;price&quot;: 40000,\n    &quot;quantity&quot;: 1,\n    &quot;option&quot;: null,\n    &quot;addon items&quot;: [\n        {\n            &quot;addon_item_name&quot;: &quot;Cheese&quot;,\n            &quot;addon_id&quot;: &quot;112&quot;,\n            &quot;price&quot;: &quot;2500&quot;,\n            &quot;quantity&quot;: &quot;1&quot;\n        }\n    ],\n    &quot;order notes&quot;: &quot;extra meal&quot;\n}{\n    &quot;name&quot;: &quot;Amazon Green Salad&quot;,\n    &quot;price&quot;: 54000,\n    &quot;quantity&quot;: 1,\n    &quot;option&quot;: &quot;Full Portion&quot;,\n    &quot;addon items&quot;: [\n        {\n            &quot;addon_item_name&quot;: &quot;Cheese&quot;,\n            &quot;addon_id&quot;: &quot;112&quot;,\n            &quot;price&quot;: &quot;2500&quot;,\n            &quot;quantity&quot;: &quot;1&quot;\n        },\n        {\n            &quot;addon_item_name&quot;: &quot;Smoked Salmon&quot;,\n            &quot;addon_id&quot;: &quot;136&quot;,\n            &quot;price&quot;: &quot;4000&quot;,\n            &quot;quantity&quot;: &quot;1&quot;\n        }\n    ],\n    &quot;order notes&quot;: &quot;&quot;\n}{\n    &quot;address&quot;: {\n        &quot;address&quot;: &quot;hadath&quot;,\n        &quot;flat&quot;: &quot;mona bldg&quot;,\n        &quot;city&quot;: &quot;beirut&quot;,\n        &quot;postcode&quot;: &quot;1003&quot;\n    },\n    &quot;phone&quot;: &quot;71883419&quot;\n}]\n</code></pre>\n<p>please before tell me if i have any problem in this json</p>\n<p><strong>php script :</strong></p>\n<pre><code>\n&lt;?php\n\nheader('Content-Type: application/json; charset=utf-8');\nfunction getAdd($ids) {\n      $servername = 'mysql';\n$username = '';\n$password = '';\n$database = '';\n$conn = new mysqli($servername, $username, $password, $database);\n$sql = &quot;SELECT meta_value FROM `wp_postmeta` WHERE post_id = ? AND meta_key =  '_rpress_delivery_address' &quot;;\n$stmt = $conn-&gt;prepare($sql);\n$stmt-&gt;bind_param('i',$ids);\n$stmt-&gt;execute();\n$stmt-&gt;bind_result($meta_value);\nwhile($stmt-&gt;fetch()){\n    $arr = unserialize($meta_value);\n  return $arr;\n\n\n}\n    \n    \n}\n\n\n\nfunction getVar($ids,$price) {\n    $servername = 'mysql';\n$username = '';\n$password = '';\n$database = '';\n$conn = new mysqli($servername, $username, $password, $database);\n$sql = &quot;SELECT meta_value FROM `wp_postmeta` WHERE post_id = ? AND meta_key =  'rpress_variable_prices' &quot;;\n$stmt = $conn-&gt;prepare($sql);\n$stmt-&gt;bind_param('i',$ids);\n$stmt-&gt;execute();\n$stmt-&gt;bind_result($meta_value);\nwhile($stmt-&gt;fetch()){\n    $arr = unserialize($meta_value);\n\nfor ($i=0; $i&lt;=count($arr);$i++) {\n\n\n      $p1 = $arr[$i][amount]+0;\n      \n      if ($p1 == $price) {\n          \n          return $arr[$i][name];\n      }\n   \n    }\n\n}\n\n    \n\n}\n\n\n\n \n \nif (isset($_GET['id'])) {\n\n$id= $_GET['id'];\n$servername = 'mysql';\n$username = '';\n$password = '';\n$database = '';\n$conn = new mysqli($servername, $username, $password, $database);\n    $orders = array();\n\n$sql = &quot;SELECT meta_value FROM `wp_postmeta` WHERE post_id = ?&quot;;\n$stmt = $conn-&gt;prepare($sql);\n$stmt-&gt;bind_param('i',$id);\n$stmt-&gt;execute();\n$stmt-&gt;bind_result($meta_value);\nwhile($stmt-&gt;fetch()){\n\n$arr = unserialize($meta_value);\n//var_dump($arr);\n\nfor($i=0;$i&lt;=count($arr);$i++) {\n$items = array();\n\n\n$items[$i] =  $arr[cart_details][$i];\n\nif ($items[$i] !== null) {\n\n    $variable_id  = $arr[cart_details][$i][id];\n   $vp = $arr[cart_details][$i][price];\n   $phone =  $arr[phone];\n   $notes = $arr[cart_details][$i][instruction];\n  ;\n\n   \n\n//echo $arr[1];\n \n\n$temp = [\n    'name' =&gt; $arr[cart_details][$i][name],\n    'price' =&gt; $arr[cart_details][$i][price],\n        'quantity' =&gt; $arr[cart_details][$i][quantity],\n                'option' =&gt;  getVar($variable_id,$vp),\n        'addon items'=&gt; $arr[cart_details][$i][addon_items],\n                'order notes' =&gt; $notes,\n                'address' =&gt; getAdd($id),\n                'phone' =&gt; $phone\n\n       \n ];\n   \n  \n\n    $json = json_encode($temp);\n    echo $json;\n          \n}\n\n}\n\n$fixed_temp = [\n    \n          'address' =&gt; getAdd($id),\n        'phone' =&gt; $phone\n    \n    \n    ];\n    \n    \n\n//print_r($arr[cart_details][$i][addon_items]);\n\n\n\n}\n  // echo json_encode($fixed_temp); \n\n}\n\n\n\n?&gt;\n\n</code></pre>\n<p>please if you see any problem in the php script tell me</p>\n<p><strong>java :</strong></p>\n<pre><code>\npublic void getAllPosts() throws Exception{\n        String TAG = &quot;POSTS_VIDEO&quot;;\n        String url = &quot;https://fitness-diner.com/api/api-get-post-data-bkp.php?id=&quot;+id;\n        StringRequest jsonObjectRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\n            @Override\n            public void onResponse(String response) {\n                Log.i(&quot;response_VIDEO&quot;, response);\n\n                progressBar.setVisibility(View.GONE);\n\n                parseJson(response);\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                try {\n\n                  //  swipeRefreshLayout.setRefreshing(false);\n                    Log.e(&quot;error&quot;, &quot;&quot; +error.getMessage());\n                }catch (NullPointerException e)\n                {\n                   // swipeRefreshLayout.setRefreshing(false);\n                    e.printStackTrace();\n                }\n\n\n            }\n        });\n\n\n        AppController.getInstance().addToRequestQueue(jsonObjectRequest, TAG);\n\n    }\n    public void parseJson(String response){\n\n        try {\n\n            JSONArray array = new JSONArray(response);\n            JSONObject jsonObject =null;\n\n            post_array.clear();\n            ItemOrder p;\n            AddOnitem r;\n            for(int i=0 ; i&lt;array.length() ; i++)\n            {\n                jsonObject=array.getJSONObject(i);\n\n\n                String nameitem = jsonObject.getString(&quot;name&quot;);\n                String priceitem = jsonObject.getString(&quot;price&quot;);\n                String quantityitem = jsonObject.getString(&quot;quantity&quot;);\n                String optionitem = jsonObject.getString(&quot;option&quot;);\n                //   String addonid = jsonObject.getString(&quot;addon items&quot;);\n                String noteitem = jsonObject.getString(&quot;order notes&quot;);\n\n\n\n                p = new ItemOrder();\n                p.setNameitem(nameitem);\n                p.setPriceitem(priceitem);\n                p.setQuantityitem(quantityitem);\n                p.setOptionitem(optionitem);\n                p.setNoteitem(noteitem);\n                //  p.setViews_video(views_video);\n\n\n                post_array.add(p);\n                //realmHelper.save(p);\n            }\n\n\n        }\n        catch (JSONException e) {\n           // swipeRefreshLayout.setRefreshing(false);\n            e.printStackTrace();\n            Log.d(&quot;error&quot;, e.getMessage());\n        }\n        adapter = new ItemOrderAdapter(getApplicationContext(), post_array,id);\n        recyclerView.setAdapter(adapter);\n\n       // swipeRefreshLayout.setRefreshing(false);\n\n    }\n\n</code></pre>\n<p>i need to solve it quicly</p>\n<p>thanks!!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1637797866,"post_id":70102974,"comment_id":123925147,"body_markdown":"“As you can see, the image…” No, I’m afraid I can’t see it.  task30, task31, task32, and task33 all look black to me.  Instead of taking a picture with a phone, use the PrintScreen or PrtScr key to take a screen shot, then use Paint (or any other editing tool) to reduce the image to only those file previews.  This will preserve every pixel exactly.","body":"“As you can see, the image…” No, I’m afraid I can’t see it.  task30, task31, task32, and task33 all look black to me.  Instead of taking a picture with a phone, use the PrintScreen or PrtScr key to take a screen shot, then use Paint (or any other editing tool) to reduce the image to only those file previews.  This will preserve every pixel exactly."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637799451,"post_id":70102974,"comment_id":123925458,"body_markdown":"@VGR *&quot;use the PrintScreen or PrtScr key&quot;* Spot on. For just the focussed window, use Alt+PrtScr. This image (copied to the clipboard) can then be pasted directly into an answer (if it needs no trimming). I love that it frees me from saving the image to disk!","body":"@VGR <i>&quot;use the PrintScreen or PrtScr key&quot;</i> Spot on. For just the focussed window, use Alt+PrtScr. This image (copied to the clipboard) can then be pasted directly into an answer (if it needs no trimming). I love that it frees me from saving the image to disk!"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637833296,"post_id":70102974,"comment_id":123933042,"body_markdown":"@VGR the pictures that I&#39;m talking about are from task 37.bmp to task 30.bmp , I can&#39;t take a screenshot as this picture was sent to me from someone else , it&#39;s just showing how the colors are being reduced , task32 and 31 have a little bit of color and at task 30 the colors are gone , the are just gradually being reduced","body":"@VGR the pictures that I&#39;m talking about are from task 37.bmp to task 30.bmp , I can&#39;t take a screenshot as this picture was sent to me from someone else , it&#39;s just showing how the colors are being reduced , task32 and 31 have a little bit of color and at task 30 the colors are gone , the are just gradually being reduced"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637833594,"post_id":70102974,"comment_id":123933156,"body_markdown":"@AndrewThompson I&#39;ve edited the picture again , I can&#39;t take a screenshot as this picture was sent by someone  , just look at the pictures from task37.bmp to task30.bmp , it shows how the picture starts with Bright RGB and then gradually reduces until the RGB are completely gone , task30.bmp is where the colors are gone , task 31.bmp 32 and 33 have colors but are very opaque and can&#39;t be seen","body":"@AndrewThompson I&#39;ve edited the picture again , I can&#39;t take a screenshot as this picture was sent by someone  , just look at the pictures from task37.bmp to task30.bmp , it shows how the picture starts with Bright RGB and then gradually reduces until the RGB are completely gone , task30.bmp is where the colors are gone , task 31.bmp 32 and 33 have colors but are very opaque and can&#39;t be seen"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637853082,"post_id":70102974,"comment_id":123941048,"body_markdown":"Are you just trying to fade the image to black?  Or do you have to perform some operation separately on red, on green, and on blue?","body":"Are you just trying to fade the image to black?  Or do you have to perform some operation separately on red, on green, and on blue?"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637862043,"post_id":70102974,"comment_id":123944447,"body_markdown":"@VGR operation seperately on red on green and on blue , like I need to control the opacity of the red green and blue until they disappear from the image.","body":"@VGR operation seperately on red on green and on blue , like I need to control the opacity of the red green and blue until they disappear from the image."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637864894,"post_id":70102974,"comment_id":123945323,"body_markdown":"So, you want a method that reduces the amount of red in an image, a method that reduces the amount of green in an image, and a method that reduces the amount of blue in an image?  Your screen shot seems to show them all being reduced at the same time.","body":"So, you want a method that reduces the amount of red in an image, a method that reduces the amount of green in an image, and a method that reduces the amount of blue in an image?  Your screen shot seems to show them all being reduced at the same time."},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637867256,"post_id":70102974,"comment_id":123946027,"body_markdown":"@VGR exactly reduce red green and blue at the same time","body":"@VGR exactly reduce red green and blue at the same time"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637868411,"post_id":70102974,"comment_id":123946348,"body_markdown":"Then you are in fact fading the image to black.  There is no reason to have separate methods for red, green, and blue.  I suggest keeping the original image, and multiplying each pixel’s red, green, and blue components by 7/8.  (For instance: `red * 7 / 8`)  The [Color](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Color.html) class makes this easy if you don’t want to do the bitwise operations.  Then create another image, multiplying by 6/8, then again using 5/8, 4/8, 3/8, 2/8, and 1/8.","body":"Then you are in fact fading the image to black.  There is no reason to have separate methods for red, green, and blue.  I suggest keeping the original image, and multiplying each pixel’s red, green, and blue components by 7/8.  (For instance: <code>red * 7 &#47; 8</code>)  The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Color.html\" rel=\"nofollow noreferrer\">Color</a> class makes this easy if you don’t want to do the bitwise operations.  Then create another image, multiplying by 6/8, then again using 5/8, 4/8, 3/8, 2/8, and 1/8."},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637881810,"post_id":70102974,"comment_id":123949368,"body_markdown":"@VGR ok so I&#39;ve done what you told me and it&#39;s doing the job , but I can&#39;t think of how to insert it to the for loop which loops through the width and the height of the image, I&#39;m inserting another for loop and iterates 8 times starting from 1 until 8 so that it removes the colors gradually and after each loop it saves the image in the file , I&#39;ve edited the question and pasted the method which removes the red green and blue but I can&#39;t think of a way to do that , could you please check the method above in the question","body":"@VGR ok so I&#39;ve done what you told me and it&#39;s doing the job , but I can&#39;t think of how to insert it to the for loop which loops through the width and the height of the image, I&#39;m inserting another for loop and iterates 8 times starting from 1 until 8 so that it removes the colors gradually and after each loop it saves the image in the file , I&#39;ve edited the question and pasted the method which removes the red green and blue but I can&#39;t think of a way to do that , could you please check the method above in the question"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637885525,"post_id":70102974,"comment_id":123949949,"body_markdown":"`~blue` is always the same value.  You will find it much easier to use the getRed, getGreen, and getBlue methods of the Color class.  Start with `new Color(newImage.getRGB(col, row), true)`.","body":"<code>~blue</code> is always the same value.  You will find it much easier to use the getRed, getGreen, and getBlue methods of the Color class.  Start with <code>new Color(newImage.getRGB(col, row), true)</code>."},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637920424,"post_id":70102974,"comment_id":123956937,"body_markdown":"@VGR the method that I wrote is called `getBlack()` int the code above , could you try and run the method and tell me what&#39;s wrong with it , I can&#39;t think of a way , I&#39;m stuck","body":"@VGR the method that I wrote is called <code>getBlack()</code> int the code above , could you try and run the method and tell me what&#39;s wrong with it , I can&#39;t think of a way , I&#39;m stuck"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1637921181,"post_id":70102974,"comment_id":123957238,"body_markdown":"@VGR I don&#39;t know why it&#39;s not doing job , I mean what I&#39;m trying to do is I&#39;ve created a for loop which loops 8 times , and a counter COUNT is used so that I can divide it each time by 8","body":"@VGR I don&#39;t know why it&#39;s not doing job , I mean what I&#39;m trying to do is I&#39;ve created a for loop which loops 8 times , and a counter COUNT is used so that I can divide it each time by 8"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1637922264,"post_id":70102974,"comment_id":123957670,"body_markdown":"I&#39;d likely just paint a very translucent (almost transparent) black wash over the entire image repeatedly. Is there a reason you don&#39;t do that?","body":"I&#39;d likely just paint a very translucent (almost transparent) black wash over the entire image repeatedly. Is there a reason you don&#39;t do that?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1637929289,"post_id":70102974,"comment_id":123960200,"body_markdown":"Bitwise operations like `&amp;=` are not the same as mathematical operations like `*` and `/`. You cannot combine them.  You will need `int redValue = color &amp; ~red;` before you can do any math on the value.  And you need to use `image.getRGB`, instead of examining newImage each time.","body":"Bitwise operations like <code>&amp;=</code> are not the same as mathematical operations like <code>*</code> and <code>&#47;</code>. You cannot combine them.  You will need <code>int redValue = color &amp; ~red;</code> before you can do any math on the value.  And you need to use <code>image.getRGB</code>, instead of examining newImage each time."},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1638376663,"post_id":70102974,"comment_id":124073158,"body_markdown":"@AndrewThompson I can&#39;t , I&#39;m asked to specifically work with the red blue and green colors and not add anything extra","body":"@AndrewThompson I can&#39;t , I&#39;m asked to specifically work with the red blue and green colors and not add anything extra"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1638377421,"post_id":70102974,"comment_id":124073499,"body_markdown":"@VGR could you please check the `getBlack()` method I&#39;ve written , and rewrite it ? beacuse it&#39;s not doing the job , and I can&#39;t figure out what&#39;s the problem","body":"@VGR could you please check the <code>getBlack()</code> method I&#39;ve written , and rewrite it ? beacuse it&#39;s not doing the job , and I can&#39;t figure out what&#39;s the problem"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638378003,"post_id":70102974,"comment_id":124073729,"body_markdown":"Isolate the red value using `int redValue = color &amp; red;`.  Then, *in a second statement,* do `redValue = redValue * count / 8`.  **Do not** try to do this in a single statement.  Multiplying a bit mask by count / 8 is not correct logic and is not the same as multiplying a color value.","body":"Isolate the red value using <code>int redValue = color &amp; red;</code>.  Then, <i>in a second statement,</i> do <code>redValue = redValue * count &#47; 8</code>.  <b>Do not</b> try to do this in a single statement.  Multiplying a bit mask by count / 8 is not correct logic and is not the same as multiplying a color value."},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1638378618,"post_id":70102974,"comment_id":124073972,"body_markdown":"@VGR if you could provide me with the method I would really appreciate it","body":"@VGR if you could provide me with the method I would really appreciate it"},{"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"score":0,"creation_date":1638379344,"post_id":70102974,"comment_id":124074267,"body_markdown":"@VGR I don&#39;t need the entire assignment , I just need the method which is the `getBlack()` , I&#39;ve been trying to do it but I just can&#39;t figure it out (","body":"@VGR I don&#39;t need the entire assignment , I just need the method which is the <code>getBlack()</code> , I&#39;ve been trying to do it but I just can&#39;t figure it out ("}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638380175,"creation_date":1638380175,"answer_id":70188767,"question_id":70102974,"body_markdown":"Stepping through your method’s logic:\r\n\r\n    for(int count = 1; count&lt;=8;count++) {\r\n        try {\r\n            ImageIO.write(newImage, &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGBlack&quot; + count + &quot;.bmp&quot;));\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\nWriting the image before you have made changes will not produce the intended result.  You need to write the image *after* you have modified the pixels.  Remove the Image.write call, and remove the try/catch.\r\n\r\n        for (int row = 0; row &lt; newImage.getHeight(); row++) {\r\n            for (int col = 0; col &lt; newImage.getWidth(); col++) {\r\n                int color = newImage.getRGB(col, row);\r\n\r\nDo not read the pixel from `newImage`.  Read it from the *original* image:\r\n\r\n                int color = image.getRGB(col, row);\r\n\r\nFinally, these lines are incorrect:\r\n\r\n                color &amp;= ~blue * count / 8;\r\n                color &amp;= ~red * count / 8;\r\n                color &amp;= ~green * count / 8;\r\n\r\n`~blue * count / 8` is performing math on the *bit mask* for *all* blue values in all pixels.  It is not performing math on the actual pixel value.\r\n\r\nFirst, *isolate* the blue value:\r\n\r\n    int blueValue = color &amp; blue;\r\n\r\nNow you have a value on which you can perform math:\r\n\r\n    blueValue = blueValue * count / 8;\r\n    blueValue &amp;= blue;\r\n\r\nYou can update the color by first clearing the existing blue value:\r\n\r\n    color &amp;= ~blue;\r\n\r\n…and then updating the color with the new blue value:\r\n\r\n    color |= blueValue;\r\n\r\nAnd of course, you’ll want to do the same with the red and green values.\r\n\r\nFinally, after both for-loops are complete and all pixels have been updated, *only then* should you write your file:\r\n\r\n                newImage.setRGB(col, row, color);\r\n            }\r\n        }\r\n    }\r\n\r\n    try {\r\n        ImageIO.write(newImage, &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGBlack&quot; + count + &quot;.bmp&quot;));\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n","title":"Changing Opacity of colors in an image Java","body":"<p>Stepping through your method’s logic:</p>\n<pre><code>for(int count = 1; count&lt;=8;count++) {\n    try {\n        ImageIO.write(newImage, &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGBlack&quot; + count + &quot;.bmp&quot;));\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Writing the image before you have made changes will not produce the intended result.  You need to write the image <em>after</em> you have modified the pixels.  Remove the Image.write call, and remove the try/catch.</p>\n<pre><code>    for (int row = 0; row &lt; newImage.getHeight(); row++) {\n        for (int col = 0; col &lt; newImage.getWidth(); col++) {\n            int color = newImage.getRGB(col, row);\n</code></pre>\n<p>Do not read the pixel from <code>newImage</code>.  Read it from the <em>original</em> image:</p>\n<pre><code>            int color = image.getRGB(col, row);\n</code></pre>\n<p>Finally, these lines are incorrect:</p>\n<pre><code>            color &amp;= ~blue * count / 8;\n            color &amp;= ~red * count / 8;\n            color &amp;= ~green * count / 8;\n</code></pre>\n<p><code>~blue * count / 8</code> is performing math on the <em>bit mask</em> for <em>all</em> blue values in all pixels.  It is not performing math on the actual pixel value.</p>\n<p>First, <em>isolate</em> the blue value:</p>\n<pre><code>int blueValue = color &amp; blue;\n</code></pre>\n<p>Now you have a value on which you can perform math:</p>\n<pre><code>blueValue = blueValue * count / 8;\nblueValue &amp;= blue;\n</code></pre>\n<p>You can update the color by first clearing the existing blue value:</p>\n<pre><code>color &amp;= ~blue;\n</code></pre>\n<p>…and then updating the color with the new blue value:</p>\n<pre><code>color |= blueValue;\n</code></pre>\n<p>And of course, you’ll want to do the same with the red and green values.</p>\n<p>Finally, after both for-loops are complete and all pixels have been updated, <em>only then</em> should you write your file:</p>\n<pre><code>            newImage.setRGB(col, row, color);\n        }\n    }\n}\n\ntry {\n    ImageIO.write(newImage, &quot;bmp&quot;, new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGBlack&quot; + count + &quot;.bmp&quot;));\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":21792466,"reputation":73,"user_id":16092478,"display_name":"Mohammed Hamdoon"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70188767,"answer_count":1,"score":0,"last_activity_date":1638380175,"creation_date":1637788205,"question_id":70102974,"body_markdown":"I&#39;ve written a code that gets a specific RGB color from an image and stores that in a file.\r\n\r\nNow I&#39;m trying to change the opacity of each of the colors in the image. For example, decrease the red color gradually until it is not there, and each time the color has decreased, the change that happened will be saved in a file. How can that be done?\r\n\r\nHere&#39;s the code that I&#39;ve written to get a specific color\r\n\r\n    import java.awt.image.BufferedImage;\r\n\r\n    import java.awt.image.ColorModel;\r\n    import java.awt.image.WritableRaster;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.Buffer;\r\n\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class BMPtoArray {\r\n    public static void getBlue(BufferedImage image){}\r\n    public static void getGreen(BufferedImage image){}\r\n    public static void getRed(BufferedImage image){\r\n        int blue = 0x000000FF;\r\n        int green = 0x0000FF00;\r\n        ColorModel cm = image.getColorModel();\r\n        boolean isAlphaPremultiplied = cm.isAlphaPremultiplied();\r\n        WritableRaster raster = \r\n    image.copyData(image.getRaster().createCompatibleWritableRaster());\r\n        BufferedImage newImage = new BufferedImage(cm, raster, isAlphaPremultiplied, null);\r\n        for (int row = 0; row &lt; newImage.getHeight(); row++) {\r\n            for (int col = 0; col &lt; newImage.getWidth(); col++) {\r\n                int color = newImage.getRGB(col, row);\r\n                color &amp;= ~green;\r\n                color &amp;= ~blue;\r\n                newImage.setRGB(col, row, color);\r\n            }\r\n        }\r\n        try {\r\n            ImageIO.write(newImage, &quot;bmp&quot;,new    File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year \r\n    first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGRed&quot;+&quot;.bmp&quot;) );\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public static void getBlack(BufferedImage image){\r\n        int red = 0x00FF0000;\r\n        int blue = 0x000000FF;\r\n        int green = 0x0000FF00;\r\n        ColorModel cm = image.getColorModel();\r\n        boolean isAlphaPremultiplied = cm.isAlphaPremultiplied();\r\n        WritableRaster raster = \r\n    image.copyData(image.getRaster().createCompatibleWritableRaster());\r\n        BufferedImage newImage = new BufferedImage(cm, raster, \r\n    isAlphaPremultiplied, null);\r\n        for(int count = 1; count&lt;=8;count++) {\r\n            try {\r\n                ImageIO.write(newImage, &quot;bmp&quot;, new \r\n    File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year first semester\\\\Analysis \r\n    and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGBlack&quot; + count + &quot;.bmp&quot;));\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            for (int row = 0; row &lt; newImage.getHeight(); row++) {\r\n                for (int col = 0; col &lt; newImage.getWidth(); col++) {\r\n                    int color = newImage.getRGB(col, row);\r\n                    color &amp;= ~blue * count / 8;\r\n                    color &amp;= ~red * count / 8;\r\n                    color &amp;= ~green * count / 8;\r\n                    newImage.setRGB(col, row, color);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public static void main(String[] args) throws Exception {\r\n        BufferedImage image = ImageIO.read(new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year \r\n    first semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\circleRGB.bmp&quot;));\r\n       getRed(image);\r\n       getBlue(image);\r\n       getGreen(image);\r\n    }\r\n    }\r\n\r\nThe `getBlue` and `getGreen` methods are the same as the `getRed`, just with different colors.\r\n\r\nThe picture below shows what I want to do. As you can see, the image starts with its colors, and gradually the red, green, and blue are decreasing until they are gone, and each time the color decreases, the change in the image is saved in a file.\r\n\r\n\r\n[![Picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0HCsQ.png","title":"Changing Opacity of colors in an image Java","body":"<p>I've written a code that gets a specific RGB color from an image and stores that in a file.</p>\n<p>Now I'm trying to change the opacity of each of the colors in the image. For example, decrease the red color gradually until it is not there, and each time the color has decreased, the change that happened will be saved in a file. How can that be done?</p>\n<p>Here's the code that I've written to get a specific color</p>\n<pre><code>import java.awt.image.BufferedImage;\n\nimport java.awt.image.ColorModel;\nimport java.awt.image.WritableRaster;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.Buffer;\n\nimport javax.imageio.ImageIO;\n\npublic class BMPtoArray {\npublic static void getBlue(BufferedImage image){}\npublic static void getGreen(BufferedImage image){}\npublic static void getRed(BufferedImage image){\n    int blue = 0x000000FF;\n    int green = 0x0000FF00;\n    ColorModel cm = image.getColorModel();\n    boolean isAlphaPremultiplied = cm.isAlphaPremultiplied();\n    WritableRaster raster = \nimage.copyData(image.getRaster().createCompatibleWritableRaster());\n    BufferedImage newImage = new BufferedImage(cm, raster, isAlphaPremultiplied, null);\n    for (int row = 0; row &lt; newImage.getHeight(); row++) {\n        for (int col = 0; col &lt; newImage.getWidth(); col++) {\n            int color = newImage.getRGB(col, row);\n            color &amp;= ~green;\n            color &amp;= ~blue;\n            newImage.setRGB(col, row, color);\n        }\n    }\n    try {\n        ImageIO.write(newImage, &quot;bmp&quot;,new    File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year \nfirst semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGRed&quot;+&quot;.bmp&quot;) );\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\npublic static void getBlack(BufferedImage image){\n    int red = 0x00FF0000;\n    int blue = 0x000000FF;\n    int green = 0x0000FF00;\n    ColorModel cm = image.getColorModel();\n    boolean isAlphaPremultiplied = cm.isAlphaPremultiplied();\n    WritableRaster raster = \nimage.copyData(image.getRaster().createCompatibleWritableRaster());\n    BufferedImage newImage = new BufferedImage(cm, raster, \nisAlphaPremultiplied, null);\n    for(int count = 1; count&lt;=8;count++) {\n        try {\n            ImageIO.write(newImage, &quot;bmp&quot;, new \nFile(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year first semester\\\\Analysis \nand Coding\\\\labs\\\\2.2Java\\\\src\\\\newIMGBlack&quot; + count + &quot;.bmp&quot;));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        for (int row = 0; row &lt; newImage.getHeight(); row++) {\n            for (int col = 0; col &lt; newImage.getWidth(); col++) {\n                int color = newImage.getRGB(col, row);\n                color &amp;= ~blue * count / 8;\n                color &amp;= ~red * count / 8;\n                color &amp;= ~green * count / 8;\n                newImage.setRGB(col, row, color);\n            }\n        }\n    }\n}\npublic static void main(String[] args) throws Exception {\n    BufferedImage image = ImageIO.read(new File(&quot;C:\\\\Users\\\\Mhamd\\\\Desktop\\\\3rd year \nfirst semester\\\\Analysis and Coding\\\\labs\\\\2.2Java\\\\src\\\\circleRGB.bmp&quot;));\n   getRed(image);\n   getBlue(image);\n   getGreen(image);\n}\n}\n</code></pre>\n<p>The <code>getBlue</code> and <code>getGreen</code> methods are the same as the <code>getRed</code>, just with different colors.</p>\n<p>The picture below shows what I want to do. As you can see, the image starts with its colors, and gradually the red, green, and blue are decreasing until they are gone, and each time the color decreases, the change in the image is saved in a file.</p>\n<p><a href=\"https://i.stack.imgur.com/0HCsQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0HCsQ.png\" alt=\"Picture\" /></a></p>\n"},{"tags":["java","switch-statement","java-17","preview-feature"],"comments":[{"owner":{"account_id":3153335,"reputation":36790,"user_id":2666289,"accept_rate":70,"display_name":"Holt"},"score":0,"creation_date":1638351936,"post_id":70181964,"comment_id":124062854,"body_markdown":"This does not look like the new syntax, you probably want something like `case Class&lt;Integer&gt; ci : System.out.println(&quot;Integer&quot;); break;` and similar for `int`/","body":"This does not look like the new syntax, you probably want something like <code>case Class&lt;Integer&gt; ci : System.out.println(&quot;Integer&quot;); break;</code> and similar for <code>int</code>/"},{"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"score":0,"creation_date":1638354192,"post_id":70181964,"comment_id":124063757,"body_markdown":"It also doesn&#39;t work","body":"It also doesn&#39;t work"},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1638355887,"post_id":70181964,"comment_id":124064442,"body_markdown":"The new switch expression branches the object by its class. `firstParameter.getType()` returns a class object (an instance of `Class`), so that class is always `Class`. So you can&#39;t branch in your example.","body":"The new switch expression branches the object by its class. <code>firstParameter.getType()</code> returns a class object (an instance of <code>Class</code>), so that class is always <code>Class</code>. So you can&#39;t branch in your example."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1638380149,"creation_date":1638374643,"answer_id":70187459,"question_id":70181964,"body_markdown":"This is not how switching over types work. You can switch over an object’s actual type and have to specify type names, rather than `Class` literals.\r\n\r\n```java\r\nObject o = 42;\r\nswitch(o) {\r\n    case Integer i: System.out.println(&quot;Integer &quot; + i); break;\r\n    case String s: System.out.println(&quot;String &quot; + s); break;\r\n    default: System.out.println(&quot;other&quot;);\r\n}\r\n```\r\n\r\nNote that with pattern matching, there is no fall-through support, so specifying `break` is mandatory. Or you use the new syntax which has no fall-through in the first place\r\n\r\n```java\r\nObject o = 42;\r\nswitch(o) {\r\n    case Integer i -&gt; System.out.println(&quot;Integer &quot; + i);\r\n    case String s -&gt; System.out.println(&quot;String &quot; + s);\r\n    default -&gt; System.out.println(&quot;other&quot;);\r\n}\r\n```\r\n\r\nThe object returned by `getType()` is always an instance of `java.lang.Class`, so branching by its type makes no sense. This doesn’t mean that comparing the actual values with a `switch` statement or expression was impossible. The comparison can be performed with a guarded pattern:\r\n\r\n```java\r\nMethod firstMethodWithParam = Arrays.stream(BitSet.class.getDeclaredMethods())\r\n        .filter(m -&gt; m.getParameterCount() &gt; 0)\r\n        .findAny().orElseThrow();\r\nswitch(firstMethodWithParam.getParameterTypes()[0]) {\r\n    case Class&lt;?&gt; cl &amp;&amp; cl == Integer.class -&gt; System.out.println(&quot;Integer&quot;);\r\n    case Class&lt;?&gt; cl &amp;&amp; cl == int.class -&gt; System.out.println(&quot;int&quot;);\r\n    case Class&lt;?&gt; cl &amp;&amp; cl == String.class -&gt; System.out.println(&quot;String&quot;);\r\n    case Class&lt;?&gt; cl &amp;&amp; cl == long.class -&gt; System.out.println(&quot;long&quot;);\r\n    case Class&lt;?&gt; cl &amp;&amp; BitSet.class.isAssignableFrom(cl)\r\n                                  -&gt; System.out.println(&quot;BitSet or subtype&quot;);\r\n    default -&gt; System.out.println(&quot;other&quot;);\r\n}\r\n```\r\n\r\nbut that’s only for completeness. I think it’s obvious that this is no improvement over `if` statements or a map from `Class` to handler.","title":"Is it possible to use Class&lt;?&gt; with the new Pattern-Matching switch?","body":"<p>This is not how switching over types work. You can switch over an object’s actual type and have to specify type names, rather than <code>Class</code> literals.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object o = 42;\nswitch(o) {\n    case Integer i: System.out.println(&quot;Integer &quot; + i); break;\n    case String s: System.out.println(&quot;String &quot; + s); break;\n    default: System.out.println(&quot;other&quot;);\n}\n</code></pre>\n<p>Note that with pattern matching, there is no fall-through support, so specifying <code>break</code> is mandatory. Or you use the new syntax which has no fall-through in the first place</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object o = 42;\nswitch(o) {\n    case Integer i -&gt; System.out.println(&quot;Integer &quot; + i);\n    case String s -&gt; System.out.println(&quot;String &quot; + s);\n    default -&gt; System.out.println(&quot;other&quot;);\n}\n</code></pre>\n<p>The object returned by <code>getType()</code> is always an instance of <code>java.lang.Class</code>, so branching by its type makes no sense. This doesn’t mean that comparing the actual values with a <code>switch</code> statement or expression was impossible. The comparison can be performed with a guarded pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Method firstMethodWithParam = Arrays.stream(BitSet.class.getDeclaredMethods())\n        .filter(m -&gt; m.getParameterCount() &gt; 0)\n        .findAny().orElseThrow();\nswitch(firstMethodWithParam.getParameterTypes()[0]) {\n    case Class&lt;?&gt; cl &amp;&amp; cl == Integer.class -&gt; System.out.println(&quot;Integer&quot;);\n    case Class&lt;?&gt; cl &amp;&amp; cl == int.class -&gt; System.out.println(&quot;int&quot;);\n    case Class&lt;?&gt; cl &amp;&amp; cl == String.class -&gt; System.out.println(&quot;String&quot;);\n    case Class&lt;?&gt; cl &amp;&amp; cl == long.class -&gt; System.out.println(&quot;long&quot;);\n    case Class&lt;?&gt; cl &amp;&amp; BitSet.class.isAssignableFrom(cl)\n                                  -&gt; System.out.println(&quot;BitSet or subtype&quot;);\n    default -&gt; System.out.println(&quot;other&quot;);\n}\n</code></pre>\n<p>but that’s only for completeness. I think it’s obvious that this is no improvement over <code>if</code> statements or a map from <code>Class</code> to handler.</p>\n"}],"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70187459,"answer_count":1,"score":4,"last_activity_date":1638380149,"creation_date":1638351644,"question_id":70181964,"body_markdown":"As part of an investigation into the parameters of a method, I tried the new [Pattern Matching for switch (Preview)][1]. Using a traditional condition, it works perfectly:\r\n\r\n    Method firstMethod = BitSet.class.getDeclaredMethods()[0];\r\n    Parameter firstParameter = firstMethod.getParameters()[0];\r\n    if (firstParameter.getType() == Integer.class) {\r\n            System.out.println(&quot;Integer&quot;);\r\n        }\r\n\r\nWhen I tried to refactor it to use a `switch` statement, it did not compile:\r\n\r\n    Method firstMethod = BitSet.class.getDeclaredMethods()[0];\r\n    Parameter firstParameter = firstMethod.getParameters()[0];\r\n    switch (firstParameter.getType()) {\r\n        case Integer.class: System.out.println(&quot;Integer&quot;);\r\n        case int.class: System.out.println(&quot;int&quot;);\r\n        default: System.out.println(&quot;other&quot;);\r\n    }\r\nThe error is:\r\n\r\n     error: incompatible types: Class&lt;Integer&gt; cannot be converted to Class&lt;CAP#1&gt;\r\n            case Integer.class: System.out.println(&quot;Integer&quot;);\r\n                        ^\r\n     where CAP#1 is a fresh type-variable:\r\n       CAP#1 extends Object from capture of ?\r\n\r\nIs this something that can&#39;t be done, or is it just a syntax error? \r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/406","title":"Is it possible to use Class&lt;?&gt; with the new Pattern-Matching switch?","body":"<p>As part of an investigation into the parameters of a method, I tried the new <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\">Pattern Matching for switch (Preview)</a>. Using a traditional condition, it works perfectly:</p>\n<pre><code>Method firstMethod = BitSet.class.getDeclaredMethods()[0];\nParameter firstParameter = firstMethod.getParameters()[0];\nif (firstParameter.getType() == Integer.class) {\n        System.out.println(&quot;Integer&quot;);\n    }\n</code></pre>\n<p>When I tried to refactor it to use a <code>switch</code> statement, it did not compile:</p>\n<pre><code>Method firstMethod = BitSet.class.getDeclaredMethods()[0];\nParameter firstParameter = firstMethod.getParameters()[0];\nswitch (firstParameter.getType()) {\n    case Integer.class: System.out.println(&quot;Integer&quot;);\n    case int.class: System.out.println(&quot;int&quot;);\n    default: System.out.println(&quot;other&quot;);\n}\n</code></pre>\n<p>The error is:</p>\n<pre><code> error: incompatible types: Class&lt;Integer&gt; cannot be converted to Class&lt;CAP#1&gt;\n        case Integer.class: System.out.println(&quot;Integer&quot;);\n                    ^\n where CAP#1 is a fresh type-variable:\n   CAP#1 extends Object from capture of ?\n</code></pre>\n<p>Is this something that can't be done, or is it just a syntax error?</p>\n"},{"tags":["java","google-cloud-platform","cloud-document-ai"],"comments":[{"owner":{"account_id":8268323,"reputation":1936,"user_id":6216983,"display_name":"Holt Skinner"},"score":0,"creation_date":1659720983,"post_id":70188610,"comment_id":129369979,"body_markdown":"Does this answer your question? [Document AI: google.api\\_core.exceptions.InvalidArgument: 400 Request contains an invalid argument](https://stackoverflow.com/questions/66456548/document-ai-google-api-core-exceptions-invalidargument-400-request-contains-an)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66456548/document-ai-google-api-core-exceptions-invalidargument-400-request-contains-an\">Document AI: google.api_core.exceptions.InvalidArgument: 400 Request contains an invalid argument</a>"}],"answers":[{"tags":[],"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638379392,"creation_date":1638379392,"answer_id":70188611,"question_id":70188610,"body_markdown":"So, turns out after reading this: https://stackoverflow.com/questions/64888612/what-argument-is-invalid-for-google-document-ai-client-library-for-node-js\r\n\r\nthat if the location is not &quot;us&quot; but &quot;eu&quot;, you have to specify an other endpoint.\r\n\r\nOh man, why did they not mention that in the tutorial or the source code? It just says:\r\n```\r\n    // TODO(developer): Replace these variables before running the sample.\r\n    String projectId = &quot;your-project-id&quot;;\r\n    String location = &quot;your-project-location&quot;; // Format is &quot;us&quot; or &quot;eu&quot;.\r\n    String processorId = &quot;your-processor-id&quot;;\r\n    String filePath = &quot;path/to/input/file.pdf&quot;;\r\n```\r\n\r\nThe really should have mentioned that it is not enough to switch to &quot;eu&quot;.\r\n\r\nSo the simple solution is, do not use\r\n```\r\n\t\ttry (DocumentProcessorServiceClient client = DocumentProcessorServiceClient.create()) {\r\n```\r\nbut\r\n```\r\n\t\ttry (DocumentProcessorServiceClient client = DocumentProcessorServiceClient.create(\r\n\t\t\t\tDocumentProcessorServiceSettings.newBuilder().setEndpoint(&quot;eu-documentai.googleapis.com:443&quot;).build())) {\r\n```","title":"Google DocumentAI Java example fails with io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument","body":"<p>So, turns out after reading this: <a href=\"https://stackoverflow.com/questions/64888612/what-argument-is-invalid-for-google-document-ai-client-library-for-node-js\">What argument is invalid for Google Document AI client library for Node js?</a></p>\n<p>that if the location is not &quot;us&quot; but &quot;eu&quot;, you have to specify an other endpoint.</p>\n<p>Oh man, why did they not mention that in the tutorial or the source code? It just says:</p>\n<pre><code>    // TODO(developer): Replace these variables before running the sample.\n    String projectId = &quot;your-project-id&quot;;\n    String location = &quot;your-project-location&quot;; // Format is &quot;us&quot; or &quot;eu&quot;.\n    String processorId = &quot;your-processor-id&quot;;\n    String filePath = &quot;path/to/input/file.pdf&quot;;\n</code></pre>\n<p>The really should have mentioned that it is not enough to switch to &quot;eu&quot;.</p>\n<p>So the simple solution is, do not use</p>\n<pre><code>        try (DocumentProcessorServiceClient client = DocumentProcessorServiceClient.create()) {\n</code></pre>\n<p>but</p>\n<pre><code>        try (DocumentProcessorServiceClient client = DocumentProcessorServiceClient.create(\n                DocumentProcessorServiceSettings.newBuilder().setEndpoint(&quot;eu-documentai.googleapis.com:443&quot;).build())) {\n</code></pre>\n"}],"owner":{"account_id":3010767,"reputation":662,"user_id":2554360,"accept_rate":54,"display_name":"schube"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4396,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1638379392,"creation_date":1638379392,"question_id":70188610,"body_markdown":"I **wasted hours** trying the Google Document AI **java** example from https://cloud.google.com/document-ai/docs/quickstart-client-libraries\r\n\r\nIf you enter your for projectId, location and processorId like this\r\n```\r\n        String projectId = &quot;6493xxxxxxxx&quot;;\r\n\t\tString location = &quot;eu&quot;;\r\n\t\tString processorId = &quot;74451xxxxxx&quot;;\r\n\t\tString filePath = &quot;/Users/schube/Desktop/file.pdf&quot;;\r\n```\r\nand run the example, you just get an **InvalidArgumentException**:\r\n```\r\nException in thread &quot;main&quot; com.google.api.gax.rpc.InvalidArgumentException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument.\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:49)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1133)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1277)\r\n\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1038)\r\n\tat com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:808)\r\n\tat io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)\r\n\tat io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)\r\n\tat io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)\r\n\tat io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:557)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:738)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:717)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat com.google.cloud.documentai.v1.DocumentProcessorServiceClient.processDocument(DocumentProcessorServiceClient.java:232)\r\n\t\tat documentai.QuickStart.quickStart(QuickStart.java:57)\r\n\t\tat documentai.QuickStart.main(QuickStart.java:25)\r\nCaused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument.\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\t... 13 more\r\n```\r\n\r\n\r\nThat is really great, because which f*** element is invalid? There are no details in the exception and there is no logfile.\r\n\r\n","title":"Google DocumentAI Java example fails with io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument","body":"<p>I <strong>wasted hours</strong> trying the Google Document AI <strong>java</strong> example from <a href=\"https://cloud.google.com/document-ai/docs/quickstart-client-libraries\" rel=\"noreferrer\">https://cloud.google.com/document-ai/docs/quickstart-client-libraries</a></p>\n<p>If you enter your for projectId, location and processorId like this</p>\n<pre><code>        String projectId = &quot;6493xxxxxxxx&quot;;\n        String location = &quot;eu&quot;;\n        String processorId = &quot;74451xxxxxx&quot;;\n        String filePath = &quot;/Users/schube/Desktop/file.pdf&quot;;\n</code></pre>\n<p>and run the example, you just get an <strong>InvalidArgumentException</strong>:</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.api.gax.rpc.InvalidArgumentException: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument.\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:49)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1133)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:31)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1277)\n    at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:1038)\n    at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:808)\n    at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:563)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:533)\n    at io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:463)\n    at io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:427)\n    at io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:460)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:557)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:69)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:738)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:717)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at com.google.cloud.documentai.v1.DocumentProcessorServiceClient.processDocument(DocumentProcessorServiceClient.java:232)\n        at documentai.QuickStart.quickStart(QuickStart.java:57)\n        at documentai.QuickStart.main(QuickStart.java:25)\nCaused by: io.grpc.StatusRuntimeException: INVALID_ARGUMENT: Request contains an invalid argument.\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    ... 13 more\n</code></pre>\n<p>That is really great, because which f*** element is invalid? There are no details in the exception and there is no logfile.</p>\n"},{"tags":["java","if-statement","recursion"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":2,"creation_date":1638302868,"post_id":70175407,"comment_id":124051574,"body_markdown":"Can you share the code you&#39;ve written, so we can try and help figure out what you&#39;ve gotten wrong?","body":"Can you share the code you&#39;ve written, so we can try and help figure out what you&#39;ve gotten wrong?"},{"owner":{"account_id":23360266,"reputation":21,"user_id":17432618,"display_name":"KastratenKarl"},"score":0,"creation_date":1638302960,"post_id":70175407,"comment_id":124051608,"body_markdown":"Sorry, i will do that!","body":"Sorry, i will do that!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1638304834,"post_id":70175407,"comment_id":124052271,"body_markdown":"Please post your complete code. Where are `a` and `n` declared? How do you return `true` when your function says it returns `int`? What do you mean by &quot;not working&quot;? But your problem seems to be that you start searching at the start of the array every time you call your function.","body":"Please post your complete code. Where are <code>a</code> and <code>n</code> declared? How do you return <code>true</code> when your function says it returns <code>int</code>? What do you mean by &quot;not working&quot;? But your problem seems to be that you start searching at the start of the array every time you call your function."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1638378606,"post_id":70175407,"comment_id":124073968,"body_markdown":"How can you `return false` or `return true`  in a method that should return int ?","body":"How can you <code>return false</code> or <code>return true</code>  in a method that should return int ?"}],"answers":[{"tags":[],"owner":{"account_id":9688696,"reputation":71,"user_id":17296618,"display_name":"arizonatea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638304302,"creation_date":1638303123,"answer_id":70175473,"question_id":70175407,"body_markdown":"**Hint:**\r\n\r\nIf you are trying to do this recursively, you can do this quickly with divide and conquer. Split the array into half, count each subarray and combine the results. Make sure the base case of an empty array/single element array is handled correctly.","title":"Count repeated elements in Java without using loops or imports","body":"<p><strong>Hint:</strong></p>\n<p>If you are trying to do this recursively, you can do this quickly with divide and conquer. Split the array into half, count each subarray and combine the results. Make sure the base case of an empty array/single element array is handled correctly.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638379301,"creation_date":1638378852,"answer_id":70188489,"question_id":70175407,"body_markdown":"\r\nTry this:\r\n\r\n\tpublic static void main(String[] args) throws Exception{\r\n\t\tSystem.out.println(evenNumberOf(2, 0, new int[]{2,0,3,7,6,11,1,2}, 0));\r\n\t}\r\n\t\r\n\t//arr should not be empty, index and count &gt;= 0\r\n\tpublic static int evenNumberOf(int num, int index,int[]numarr, int count) {\r\n\t    if(index &gt;= numarr.length) return count;\r\n\t    if(numarr[index] == num ) {\r\n\t        count++;\r\n\t    }\r\n\t    return evenNumberOf(num, ++index, numarr, count);\r\n\t}\r\n\r\nYou can add an helper method to make calling simpler : \r\n\r\n\tpublic static int evenNumberOf(int num, int[] numarr) {\r\n\t\treturn evenNumberOf(num, 0, numarr,0);\r\n    }","title":"Count repeated elements in Java without using loops or imports","body":"<p>Try this:</p>\n<pre><code>public static void main(String[] args) throws Exception{\n    System.out.println(evenNumberOf(2, 0, new int[]{2,0,3,7,6,11,1,2}, 0));\n}\n\n//arr should not be empty, index and count &gt;= 0\npublic static int evenNumberOf(int num, int index,int[]numarr, int count) {\n    if(index &gt;= numarr.length) return count;\n    if(numarr[index] == num ) {\n        count++;\n    }\n    return evenNumberOf(num, ++index, numarr, count);\n}\n</code></pre>\n<p>You can add an helper method to make calling simpler :</p>\n<pre><code>public static int evenNumberOf(int num, int[] numarr) {\n    return evenNumberOf(num, 0, numarr,0);\n}\n</code></pre>\n"}],"owner":{"account_id":23360266,"reputation":21,"user_id":17432618,"display_name":"KastratenKarl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638379301,"creation_date":1638302733,"question_id":70175407,"body_markdown":"For training purposes I tried to code a program which counts how often a given number appears in an given array of integers. Then checks if the number is even or odd. Without using any imports or loops. I tried to solve it recursive.\r\nFor Example: \r\n\r\n    (3, new int[]{3,3,4,5,3,3,2,1})\r\n\r\nThere are 4 threes, so the Program should check if 4 is even or odd. \r\n\r\nAfter days of coding and not working code I decided to ask here: \r\nany Solutions? \r\n\r\n    public static int evenNumberOf(int num, int[] numarr) {\r\n\r\n    int i = 0 ;\r\n            int counter = 0;\r\n            if(a == null || a.length == 0) {\r\n                return false;\r\n            } else {\r\n                if(a[i] == a.length -1 ) {\r\n                    if(counter % 2 == 0) {\r\n                        System.out.println(&quot;true&quot;);\r\n                        return true;\r\n                        \r\n                    } else System.out.println(&quot;false&quot;);\r\n                        return false;\r\n                    \r\n                } else {\r\n                if(a[i] == n) {\r\n                    counter++;\r\n                    i++;\r\n                    return evenNumberOf(n,a) ;\r\n                } else {\r\n                    i++;\r\n                    return evenNumberOf(n,a) ;\r\n\r\n ","title":"Count repeated elements in Java without using loops or imports","body":"<p>For training purposes I tried to code a program which counts how often a given number appears in an given array of integers. Then checks if the number is even or odd. Without using any imports or loops. I tried to solve it recursive.\nFor Example:</p>\n<pre><code>(3, new int[]{3,3,4,5,3,3,2,1})\n</code></pre>\n<p>There are 4 threes, so the Program should check if 4 is even or odd.</p>\n<p>After days of coding and not working code I decided to ask here:\nany Solutions?</p>\n<pre><code>public static int evenNumberOf(int num, int[] numarr) {\n\nint i = 0 ;\n        int counter = 0;\n        if(a == null || a.length == 0) {\n            return false;\n        } else {\n            if(a[i] == a.length -1 ) {\n                if(counter % 2 == 0) {\n                    System.out.println(&quot;true&quot;);\n                    return true;\n                    \n                } else System.out.println(&quot;false&quot;);\n                    return false;\n                \n            } else {\n            if(a[i] == n) {\n                counter++;\n                i++;\n                return evenNumberOf(n,a) ;\n            } else {\n                i++;\n                return evenNumberOf(n,a) ;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1419975794,"post_id":27712581,"comment_id":43838161,"body_markdown":"Don&#39;t catch exceptions, spring will log the exception anyway including the full stack trace, so why bother doing it yourself. For option 2 just put a try/catch inside the for loop. Method B still acts as is (including rollback) and method a still continues. If you want some additional exception handling you can always write an after throwing aspect to do the logging, or else add a catch but always rethrow the exception (but due to the already logging of Spring that would be a but redundant).","body":"Don&#39;t catch exceptions, spring will log the exception anyway including the full stack trace, so why bother doing it yourself. For option 2 just put a try/catch inside the for loop. Method B still acts as is (including rollback) and method a still continues. If you want some additional exception handling you can always write an after throwing aspect to do the logging, or else add a catch but always rethrow the exception (but due to the already logging of Spring that would be a but redundant)."},{"owner":{"account_id":2977649,"reputation":805,"user_id":2528372,"accept_rate":53,"display_name":"polis"},"score":0,"creation_date":1419976280,"post_id":27712581,"comment_id":43838359,"body_markdown":"if I add `try-catch` block in a loop, transaction is not rollbacked in the `method_B()`. The entity is saved and commited to database.","body":"if I add <code>try-catch</code> block in a loop, transaction is not rollbacked in the <code>method_B()</code>. The entity is saved and commited to database."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1419976350,"post_id":27712581,"comment_id":43838384,"body_markdown":"The assumption here was that methodA wasn&#39;t in a transaction, only method B.","body":"The assumption here was that methodA wasn&#39;t in a transaction, only method B."},{"owner":{"account_id":2977649,"reputation":805,"user_id":2528372,"accept_rate":53,"display_name":"polis"},"score":0,"creation_date":1419976423,"post_id":27712581,"comment_id":43838412,"body_markdown":"You mean if write `@Transactional` only before method `method_B()` it should behave like you&#39;ve said?","body":"You mean if write <code>@Transactional</code> only before method <code>method_B()</code> it should behave like you&#39;ve said?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1419976476,"post_id":27712581,"comment_id":43838427,"body_markdown":"Well no as that would be an internal method call and because Spring, by default, uses proxies there would be no transaction at all. You could do it when you use lead-time or compile time weaving.","body":"Well no as that would be an internal method call and because Spring, by default, uses proxies there would be no transaction at all. You could do it when you use lead-time or compile time weaving."}],"answers":[{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419977257,"creation_date":1419975254,"answer_id":27712901,"question_id":27712581,"body_markdown":"Instead of throwing exceptions do the following. (return error code).\r\n\r\n**Update:** I read your question after posting. if you call method_b from method_A both are under same transaction. Unfortunately you cannot rollback the method_b changes alone. Spring considers it as one transaction if they are all under one service class. (all methods).\r\n\r\nOne thing you can try is the following.\r\n\r\n \r\n\r\n    request to--&gt; Controller() ---&gt; (spring opens transaction) service_method_a(); (spring closes transaction) \r\n                   Controller() ---&gt; (spring opens transaction) service_method_c(); (spring closes transaction)  \r\n                   Controller() ---&gt; (spring opens transaction) service_method_b(); (spring closes transaction) \r\n    return &lt;--\r\n\r\nI hope it makes sense\r\n                            \r\nEach of your methods a,b,c throw exceptions if it likes to be rolledback.\r\n\r\n**Update:**\r\nanother approach. This one is much better.\r\n\r\nIf each of your method are in a different service then you can use the following annotations of the spring to run each of the method in a different transaction boundaries\r\n\r\n    p v serviceA{\r\n       \r\n       @transactional\r\n       method_a(){\r\n           serviceb.method_b();\r\n       }\r\n    \r\n    }\r\n    \r\n    p v serviceB{\r\n       \r\n       @Transactional(propagation=Propagation.REQUIRED)\r\n       method_b(){\r\n    \r\n       }\r\n    \r\n    }\r\n\r\nmore on it [here][1]\r\n\r\nSpring transactional story [here][2] . Read the points below this article. Those are most important when developing the spring transactional app.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/5539514/258741\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-annotations","title":"Spring transactions with caught Exceptions","body":"<p>Instead of throwing exceptions do the following. (return error code).</p>\n\n<p><strong>Update:</strong> I read your question after posting. if you call method_b from method_A both are under same transaction. Unfortunately you cannot rollback the method_b changes alone. Spring considers it as one transaction if they are all under one service class. (all methods).</p>\n\n<p>One thing you can try is the following.</p>\n\n<pre><code>request to--&gt; Controller() ---&gt; (spring opens transaction) service_method_a(); (spring closes transaction) \n               Controller() ---&gt; (spring opens transaction) service_method_c(); (spring closes transaction)  \n               Controller() ---&gt; (spring opens transaction) service_method_b(); (spring closes transaction) \nreturn &lt;--\n</code></pre>\n\n<p>I hope it makes sense</p>\n\n<p>Each of your methods a,b,c throw exceptions if it likes to be rolledback.</p>\n\n<p><strong>Update:</strong>\nanother approach. This one is much better.</p>\n\n<p>If each of your method are in a different service then you can use the following annotations of the spring to run each of the method in a different transaction boundaries</p>\n\n<pre><code>p v serviceA{\n\n   @transactional\n   method_a(){\n       serviceb.method_b();\n   }\n\n}\n\np v serviceB{\n\n   @Transactional(propagation=Propagation.REQUIRED)\n   method_b(){\n\n   }\n\n}\n</code></pre>\n\n<p>more on it <a href=\"https://stackoverflow.com/a/5539514/258741\">here</a></p>\n\n<p>Spring transactional story <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-annotations\" rel=\"nofollow noreferrer\">here</a> . Read the points below this article. Those are most important when developing the spring transactional app.</p>\n"},{"tags":[],"owner":{"account_id":2977649,"reputation":805,"user_id":2528372,"accept_rate":53,"display_name":"polis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1420011815,"creation_date":1420011815,"answer_id":27717911,"question_id":27712581,"body_markdown":"I solved my 2 problems this way: created another `@Service` class and moved `method_B()` into it. I&#39;ve annotated this class as `@Transactional`. Now the method `method_A()` looks like this:\r\n\r\n    public void method_A() {\r\n       for(...) {\r\n          ...\r\n          try {\r\n             anotherService.method_B();\r\n          } catch (Exception e) {\r\n             logger.error(...);\r\n          }\r\n       }\r\n    }\r\n\r\nIf `RuntimeException` occurs in the `method_B()` method, the exception is propertly logged, transaction of `method_B()` is rollbacked and the loop continuous. Thanks everybody for responses.","title":"Spring transactions with caught Exceptions","body":"<p>I solved my 2 problems this way: created another <code>@Service</code> class and moved <code>method_B()</code> into it. I've annotated this class as <code>@Transactional</code>. Now the method <code>method_A()</code> looks like this:</p>\n\n<pre><code>public void method_A() {\n   for(...) {\n      ...\n      try {\n         anotherService.method_B();\n      } catch (Exception e) {\n         logger.error(...);\n      }\n   }\n}\n</code></pre>\n\n<p>If <code>RuntimeException</code> occurs in the <code>method_B()</code> method, the exception is propertly logged, transaction of <code>method_B()</code> is rollbacked and the loop continuous. Thanks everybody for responses.</p>\n"}],"owner":{"account_id":2977649,"reputation":805,"user_id":2528372,"accept_rate":53,"display_name":"polis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27717911,"answer_count":2,"score":1,"last_activity_date":1638378986,"creation_date":1419973683,"question_id":27712581,"body_markdown":"Recently, I&#39;ve been working with Spring boot + spring data jpa + hibernate. I faced one problem with spring transactions. Here is my service class and two questions:\r\n\r\n    @Transactional\r\n    @Service\r\n    class MyService {\r\n    \r\n        @Autowired\r\n        private MyRepository myRep;\r\n\r\n        public void method_A() {\r\n           try {\r\n              method_C();\r\n\r\n              .....\r\n\r\n              method_B();\r\n           } catch(Exception e) {}\r\n        }\r\n\r\n        public void method_B() {\r\n           Entity e = new Entity();\r\n           e.set(...);\r\n\r\n           myRep.save(e);\r\n        }\r\n\r\n        public void method_C() throws Exception {\r\n           ....\r\n        }\r\n    }\r\n\r\n1.If method `method_C()` throws an Exception and I want to catch it and log it, the transaction is not rollbacked in method `method_B()`, because the Exception does not reach Spring framework.  So how should I do in order to catch Exceptions from `method_C()` and at the same time do not lose capability of method `method_B()` be rollbacked?\r\n\r\n2.Consider new method `method_A()`.\r\n\r\n    public void method_A() {\r\n       for(...) {\r\n          ...\r\n          ...\r\n          method_B();\r\n       }\r\n    }\r\n\r\nI want invoke `method_B()` in a loop. If an exception occurs in a `method_B()` I want transaction of `method_B()` be rollbacked but `method_A()` should not exit and the loop should continue excuting. How can I achieve this?","title":"Spring transactions with caught Exceptions","body":"<p>Recently, I've been working with Spring boot + spring data jpa + hibernate. I faced one problem with spring transactions. Here is my service class and two questions:</p>\n\n<pre><code>@Transactional\n@Service\nclass MyService {\n\n    @Autowired\n    private MyRepository myRep;\n\n    public void method_A() {\n       try {\n          method_C();\n\n          .....\n\n          method_B();\n       } catch(Exception e) {}\n    }\n\n    public void method_B() {\n       Entity e = new Entity();\n       e.set(...);\n\n       myRep.save(e);\n    }\n\n    public void method_C() throws Exception {\n       ....\n    }\n}\n</code></pre>\n\n<p>1.If method <code>method_C()</code> throws an Exception and I want to catch it and log it, the transaction is not rollbacked in method <code>method_B()</code>, because the Exception does not reach Spring framework.  So how should I do in order to catch Exceptions from <code>method_C()</code> and at the same time do not lose capability of method <code>method_B()</code> be rollbacked?</p>\n\n<p>2.Consider new method <code>method_A()</code>.</p>\n\n<pre><code>public void method_A() {\n   for(...) {\n      ...\n      ...\n      method_B();\n   }\n}\n</code></pre>\n\n<p>I want invoke <code>method_B()</code> in a loop. If an exception occurs in a <code>method_B()</code> I want transaction of <code>method_B()</code> be rollbacked but <code>method_A()</code> should not exit and the loop should continue excuting. How can I achieve this?</p>\n"},{"tags":["java","static-analysis"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1638378201,"post_id":70188177,"comment_id":124073802,"body_markdown":"Did you contrive this example just for Stack Overflow? It doesn&#39;t seem like a good example. `data &lt; 0` is always true so doesn&#39;t ensure anything, and `data * 2` is always 0, so doesn&#39;t underflow.","body":"Did you contrive this example just for Stack Overflow? It doesn&#39;t seem like a good example. <code>data &lt; 0</code> is always true so doesn&#39;t ensure anything, and <code>data * 2</code> is always 0, so doesn&#39;t underflow."},{"owner":{"account_id":14958000,"reputation":7,"user_id":10798665,"display_name":"Vanessa"},"score":0,"creation_date":1638378906,"post_id":70188177,"comment_id":124074087,"body_markdown":"isn&#39;t it allowed to ask such question? why? it is an artificial test case actually! I did not build it by myself. Also,  -2147483648*2 does not give 0","body":"isn&#39;t it allowed to ask such question? why? it is an artificial test case actually! I did not build it by myself. Also,  -2147483648*2 does not give 0"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1638379096,"post_id":70188177,"comment_id":124074176,"body_markdown":"No, I didn&#39;t say it was allowed. It&#39;s just that the results of the static analysis are clearly false positives","body":"No, I didn&#39;t say it was allowed. It&#39;s just that the results of the static analysis are clearly false positives"}],"owner":{"account_id":14958000,"reputation":7,"user_id":10798665,"display_name":"Vanessa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638378944,"creation_date":1638377582,"question_id":70188177,"body_markdown":"This is a bad() function of one test case of Juliet test suite. As you can see that according to Juliet, there is a possible integer underflow in the 4th line from the end.\r\nMy question is: is that seems valid flaw? i.e a static analysis should detect it as an underflow weakness? because I see that facebook Infer could cot detect it.\r\n \r\n\r\n    public void bad() throws Throwable\r\n      {\r\n          int data;\r\n  \r\n          /* POTENTIAL FLAW: Use the maximum value for this type */\r\n          data = Integer.MIN_VALUE;\r\n  \r\n          if(data &lt; 0) /* ensure we won&#39;t have an overflow */\r\n          {\r\n\r\n          /* POTENTIAL FLAW: if (data * 2) &lt; Integer.MIN_VALUE, this will underflow */\r\n          int result = (int)(data * 2);\r\n          IO.writeLine(&quot;result: &quot; + result);\r\n         }\r\n      }\r\n\r\n\r\n","title":"Integer Underflow weakness, using facebook Infer","body":"<p>This is a bad() function of one test case of Juliet test suite. As you can see that according to Juliet, there is a possible integer underflow in the 4th line from the end.\nMy question is: is that seems valid flaw? i.e a static analysis should detect it as an underflow weakness? because I see that facebook Infer could cot detect it.</p>\n<pre><code>public void bad() throws Throwable\n  {\n      int data;\n\n      /* POTENTIAL FLAW: Use the maximum value for this type */\n      data = Integer.MIN_VALUE;\n\n      if(data &lt; 0) /* ensure we won't have an overflow */\n      {\n\n      /* POTENTIAL FLAW: if (data * 2) &lt; Integer.MIN_VALUE, this will underflow */\n      int result = (int)(data * 2);\n      IO.writeLine(&quot;result: &quot; + result);\n     }\n  }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13313719,"reputation":189,"user_id":9610875,"display_name":"JonasPTFL"},"score":0,"creation_date":1603142682,"post_id":64435238,"comment_id":113937490,"body_markdown":"Where do you get the NullPointerException? Could you please add some exceptions logs?","body":"Where do you get the NullPointerException? Could you please add some exceptions logs?"}],"answers":[{"tags":[],"owner":{"account_id":10854560,"reputation":95,"user_id":7981343,"display_name":"Hasan Can Buyukasik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603145197,"creation_date":1603142896,"answer_id":64435305,"question_id":64435238,"body_markdown":"You should check also Empty Text case.\r\n\r\n\r\n\r\n     confirmer.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {      \r\n    if (textInputNewWeight == null || TextUtils.isEmpty(textInputNewWeight)){\r\n                        Toast.makeText(getContext(), &quot;The field cannot be empty.&quot;, Toast.LENGTH_SHORT).show();\r\n                    } else {\r\n                        int weightNumberInput = Integer.parseInt(textInputNewWeight.getEditText().getText().toString().trim());\r\n    \r\n                        if (weightNumberInput &gt; 0 &amp;&amp; weightNumberInput &lt; 100){ //1 - 99\r\n                            confirmInput(1);\r\n                            dismiss();\r\n                        }\r\n                        else if (weightNumberInput &gt; 99 &amp;&amp; weightNumberInput &lt; 1000){ //100-999\r\n                            confirmInput(2);\r\n                            dismiss();\r\n                        } else {\r\n                            Toast.makeText(getContext(), &quot;The number was set incorrectly.&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n    \r\n                    }\r\n    \r\n    \r\n                }\r\n            });","title":"Dialog NullPointException","body":"<p>You should check also Empty Text case.</p>\n<pre><code> confirmer.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {      \nif (textInputNewWeight == null || TextUtils.isEmpty(textInputNewWeight)){\n                    Toast.makeText(getContext(), &quot;The field cannot be empty.&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    int weightNumberInput = Integer.parseInt(textInputNewWeight.getEditText().getText().toString().trim());\n\n                    if (weightNumberInput &gt; 0 &amp;&amp; weightNumberInput &lt; 100){ //1 - 99\n                        confirmInput(1);\n                        dismiss();\n                    }\n                    else if (weightNumberInput &gt; 99 &amp;&amp; weightNumberInput &lt; 1000){ //100-999\n                        confirmInput(2);\n                        dismiss();\n                    } else {\n                        Toast.makeText(getContext(), &quot;The number was set incorrectly.&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n                }\n\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6470255,"reputation":607,"user_id":6347981,"display_name":"Player One"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603145813,"creation_date":1603143165,"answer_id":64435352,"question_id":64435238,"body_markdown":"A `NullPointerException` almost always means that the code either:\r\n* Tried to unbox a null object to a primitive **or**\r\n* Tried to call a method on a `null` object.\r\n\r\nThe second case is the most common one, and one place to be very careful about it is in long chains of method calls, such as the line\r\n```\r\nint weightNumberInput = Integer.parseInt(textInputNewWeight.getEditText().getText().toString().trim());\r\n```\r\n\r\nIf **any** of those function calls returns a `null` then you&#39;ll get a NullPointerException.\r\n\r\nI&#39;d start by checking what is returned from `textInputNewWeight.getEditText()` when there&#39;s nothing in your box. It&#39;s probably `null`. The quickest way to check is often to put a breakpoint at the start of the function, run the project in debug mode, and inspect the variables in your IDE&#39;s debugger.","title":"Dialog NullPointException","body":"<p>A <code>NullPointerException</code> almost always means that the code either:</p>\n<ul>\n<li>Tried to unbox a null object to a primitive <strong>or</strong></li>\n<li>Tried to call a method on a <code>null</code> object.</li>\n</ul>\n<p>The second case is the most common one, and one place to be very careful about it is in long chains of method calls, such as the line</p>\n<pre><code>int weightNumberInput = Integer.parseInt(textInputNewWeight.getEditText().getText().toString().trim());\n</code></pre>\n<p>If <strong>any</strong> of those function calls returns a <code>null</code> then you'll get a NullPointerException.</p>\n<p>I'd start by checking what is returned from <code>textInputNewWeight.getEditText()</code> when there's nothing in your box. It's probably <code>null</code>. The quickest way to check is often to put a breakpoint at the start of the function, run the project in debug mode, and inspect the variables in your IDE's debugger.</p>\n"}],"owner":{"account_id":17270161,"reputation":190,"user_id":12506059,"display_name":"Kristian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1603149370,"answer_count":2,"score":0,"last_activity_date":1638378892,"creation_date":1603142457,"question_id":64435238,"body_markdown":"I just ran into a small null pointer problem. I was setting up an **EditView** \r\n `(textInputNewWeight)` for my Dialog Window. The code you see down here is a **button** with id - `(confirmer)`, which checks the editView after clicking on it. It should make a toast message that the field is empty but it crashed every time when the editView is empty and I press the confirm button (code below).\r\n\r\nThanks for any help in advance\r\n\r\n**How should I write the first if statement to make it showing the toast message instead of crashing?** \r\n```\r\nconfirmer.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if (textInputNewWeight == null){\r\n                    Toast.makeText(getContext(), &quot;This field cannot be empty.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n```","title":"Dialog NullPointException","body":"<p>I just ran into a small null pointer problem. I was setting up an <strong>EditView</strong>\n<code>(textInputNewWeight)</code> for my Dialog Window. The code you see down here is a <strong>button</strong> with id - <code>(confirmer)</code>, which checks the editView after clicking on it. It should make a toast message that the field is empty but it crashed every time when the editView is empty and I press the confirm button (code below).</p>\n<p>Thanks for any help in advance</p>\n<p><strong>How should I write the first if statement to make it showing the toast message instead of crashing?</strong></p>\n<pre><code>confirmer.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if (textInputNewWeight == null){\n                    Toast.makeText(getContext(), &quot;This field cannot be empty.&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1638380382,"post_id":70188481,"comment_id":124074726,"body_markdown":"Simple answer: No. Easiest way to unpack them and deploy them into a repository manager and use them as usual dependencies...a more unusual way to unpack them and install via maven into local repo...","body":"Simple answer: No. Easiest way to unpack them and deploy them into a repository manager and use them as usual dependencies...a more unusual way to unpack them and install via maven into local repo..."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638398229,"post_id":70188481,"comment_id":124081068,"body_markdown":"It is worth noting that each .jar file is in fact a compressed zip file, so keeping all of the .jar files in a single zip file does not save any space.","body":"It is worth noting that each .jar file is in fact a compressed zip file, so keeping all of the .jar files in a single zip file does not save any space."}],"owner":{"account_id":23160748,"reputation":5,"user_id":17261422,"display_name":"Maria Malova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638378821,"creation_date":1638378821,"question_id":70188481,"body_markdown":"I have the zip archive libs.zip which contains .jar files.\r\n\r\nIs it possible to unpack libs.zip and compile the project with libraries from zip archive?","title":"Using dependencies from zip archive in maven install","body":"<p>I have the zip archive libs.zip which contains .jar files.</p>\n<p>Is it possible to unpack libs.zip and compile the project with libraries from zip archive?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1638395973,"post_id":70188474,"comment_id":124080400,"body_markdown":"&quot;writes null&quot; None of the code you shared writes or logs anything, so it&#39;s hard to say what&#39;s going wrong. Also note that 1) You&#39;re not attaching `valueEventListener` to any ref/query in the code you shared, 2) Your `onCancelled` is still ignoring errors despite having a comment that you shouldn&#39;t do that.","body":"&quot;writes null&quot; None of the code you shared writes or logs anything, so it&#39;s hard to say what&#39;s going wrong. Also note that 1) You&#39;re not attaching <code>valueEventListener</code> to any ref/query in the code you shared, 2) Your <code>onCancelled</code> is still ignoring errors despite having a comment that you shouldn&#39;t do that."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1638427989,"post_id":70188474,"comment_id":124086380,"body_markdown":"Please edit your question and the code that writes that &quot;null&quot; and please also indicate how you attach the listener.","body":"Please edit your question and the code that writes that &quot;null&quot; and please also indicate how you attach the listener."}],"owner":{"account_id":21525560,"reputation":37,"user_id":15865909,"display_name":"Yousef Hashem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638378796,"creation_date":1638378796,"question_id":70188474,"body_markdown":"It does not fetch the required value and writes null What is wrong with the code please help\r\n\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n        DatabaseReference ref = rootRef.child(&quot;analysis_Client&quot;).child(searchUserId);\r\n        ValueEventListener valueEventListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for(DataSnapshot ds : dataSnapshot.getChildren()) {\r\n                    userTotal = ds.child(&quot;Total&quot;).getValue(String.class);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                //Log.d(TAG, databaseError.getMessage()); //Don&#39;t ignore errors!\r\n            }\r\n        };\r\n\r\n\r\nA picture of the firebase of the way to list the data I want to call both(Total - Rest - ProductNum)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/miCD0.png","title":"It does not fetch the required value Firebase Android","body":"<p>It does not fetch the required value and writes null What is wrong with the code please help</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference ref = rootRef.child(&quot;analysis_Client&quot;).child(searchUserId);\n    ValueEventListener valueEventListener = new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for(DataSnapshot ds : dataSnapshot.getChildren()) {\n                userTotal = ds.child(&quot;Total&quot;).getValue(String.class);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            //Log.d(TAG, databaseError.getMessage()); //Don't ignore errors!\n        }\n    };\n</code></pre>\n<p>A picture of the firebase of the way to list the data I want to call both(Total - Rest - ProductNum)</p>\n<p><a href=\"https://i.stack.imgur.com/miCD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miCD0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","checkstyle"],"comments":[{"owner":{"account_id":4834769,"reputation":609,"user_id":3901853,"display_name":"strkk"},"score":1,"creation_date":1638483769,"post_id":70188304,"comment_id":124107920,"body_markdown":"Please add checkstyle version you are using. Probably it is old and does not support recent grammar changes.","body":"Please add checkstyle version you are using. Probably it is old and does not support recent grammar changes."}],"owner":{"account_id":5360206,"reputation":315,"user_id":4271711,"display_name":"Rob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":0,"score":7,"last_activity_date":1638378675,"creation_date":1638378096,"question_id":70188304,"body_markdown":"I am getting an error when running my gradle checkstyle task.:\r\n`Unable to process files: [(array of files)]`\r\n\r\nWhat&#39;s strange is if I reset my changes it works fine. Any ideas?\r\n\r\n*UPDATE* I found the line of code causing the issue. It&#39;s this line:\r\n`if (!(o instanceof final MyObject that)) {`\r\n\r\nThis line is using a Java 16 feature, which compiles for me as that is the java version I am using. However, it seems to cause checkstyle to break.\r\nWhen I convert this line to traditional Java (without the variable declaration), checkstyle works fine.\r\nThis seems broken, anyone experience this?","title":"Unable to process files error in gradle checkstyle","body":"<p>I am getting an error when running my gradle checkstyle task.:\n<code>Unable to process files: [(array of files)]</code></p>\n<p>What's strange is if I reset my changes it works fine. Any ideas?</p>\n<p><em>UPDATE</em> I found the line of code causing the issue. It's this line:\n<code>if (!(o instanceof final MyObject that)) {</code></p>\n<p>This line is using a Java 16 feature, which compiles for me as that is the java version I am using. However, it seems to cause checkstyle to break.\nWhen I convert this line to traditional Java (without the variable declaration), checkstyle works fine.\nThis seems broken, anyone experience this?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638378286,"creation_date":1638377934,"answer_id":70188251,"question_id":70187718,"body_markdown":"I would simply use a Tuple (or any other wrapper) to pair each response with the corresponding color like this:\r\n```java\r\nMono&lt;Tuple2&lt;String, String&gt;&gt; makeExternalCall(String color) {\r\n     return Mono.fromCallable(() -&gt; {\r\n            // &gt; Call to external service made here.\r\n            return &quot;Return value from external Service call for color: &quot; + color;\r\n        })\r\n        .map(response -&gt; Tuples.of(color, response));\r\n}\r\n```\r\n\r\n```java\r\nFlux.just(&quot;Red&quot;, &quot;White&quot;, &quot;Blue&quot;)\r\n    .flatMap(this::makeExternalCall)//Flux&lt;Tuple2&lt;String, String&gt;&gt;\r\n    .subscribeOn(Schedulers.single())\r\n    .subscribe(returnValue -&gt; log.info(&quot;Is it response for Red, White or Blue? &quot; + returnValue));\r\n```\r\n\r\nSample response:\r\n\r\n    Is it response for Red, White or Blue? [Red,Return value from external Service call for color:  Red]\r\n    Is it response for Red, White or Blue? [White,Return value from external Service call for color:  White]\r\n    Is it response for Red, White or Blue? [Blue,Return value from external Service call for color:  Blue]","title":"How to access value emitted by Flux in subscription","body":"<p>I would simply use a Tuple (or any other wrapper) to pair each response with the corresponding color like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Tuple2&lt;String, String&gt;&gt; makeExternalCall(String color) {\n     return Mono.fromCallable(() -&gt; {\n            // &gt; Call to external service made here.\n            return &quot;Return value from external Service call for color: &quot; + color;\n        })\n        .map(response -&gt; Tuples.of(color, response));\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(&quot;Red&quot;, &quot;White&quot;, &quot;Blue&quot;)\n    .flatMap(this::makeExternalCall)//Flux&lt;Tuple2&lt;String, String&gt;&gt;\n    .subscribeOn(Schedulers.single())\n    .subscribe(returnValue -&gt; log.info(&quot;Is it response for Red, White or Blue? &quot; + returnValue));\n</code></pre>\n<p>Sample response:</p>\n<pre><code>Is it response for Red, White or Blue? [Red,Return value from external Service call for color:  Red]\nIs it response for Red, White or Blue? [White,Return value from external Service call for color:  White]\nIs it response for Red, White or Blue? [Blue,Return value from external Service call for color:  Blue]\n</code></pre>\n"}],"owner":{"account_id":12628839,"reputation":55,"user_id":9181158,"display_name":"Rajvansh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1758,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70188251,"answer_count":1,"score":3,"last_activity_date":1638378591,"creation_date":1638375649,"question_id":70187718,"body_markdown":"The items emitted by `Flux` (in this case &quot;Red&quot;, &quot;White&quot;, &quot;Blue&quot;) are passed to an external service call. I am getting the response value from external service in `returnValue`. How do I map the elements sent to the external service with the response received?\r\n\r\n    @Log4j2\r\n    @SpringBootApplication\r\n    class FluxFromIterableAccessFlatMapValue implements CommandLineRunner {\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n    \r\n            Flux.just(&quot;Red&quot;, &quot;White&quot;, &quot;Blue&quot;).\r\n                    flatMap(colors -&gt; Mono.fromCallable(() -&gt; {\r\n                        // &gt; Call to external service made here.\r\n                        return &quot;Return value from external Service call.&quot;;\r\n                    })).subscribeOn(Schedulers.single())\r\n                    .subscribe(returnValue -&gt;\r\n                            log.info(&quot;Need to access which element produced this response?&quot; +\r\n                                    &quot;Is it response for Red, White or Blue? &quot; + returnValue));\r\n    \r\n        }\r\n    }","title":"How to access value emitted by Flux in subscription","body":"<p>The items emitted by <code>Flux</code> (in this case &quot;Red&quot;, &quot;White&quot;, &quot;Blue&quot;) are passed to an external service call. I am getting the response value from external service in <code>returnValue</code>. How do I map the elements sent to the external service with the response received?</p>\n<pre><code>@Log4j2\n@SpringBootApplication\nclass FluxFromIterableAccessFlatMapValue implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n\n        Flux.just(&quot;Red&quot;, &quot;White&quot;, &quot;Blue&quot;).\n                flatMap(colors -&gt; Mono.fromCallable(() -&gt; {\n                    // &gt; Call to external service made here.\n                    return &quot;Return value from external Service call.&quot;;\n                })).subscribeOn(Schedulers.single())\n                .subscribe(returnValue -&gt;\n                        log.info(&quot;Need to access which element produced this response?&quot; +\n                                &quot;Is it response for Red, White or Blue? &quot; + returnValue));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee","jboss-arquillian","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":47100,"reputation":1425,"user_id":139380,"display_name":"Azquelt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638378550,"creation_date":1638356550,"answer_id":70183041,"question_id":70177509,"body_markdown":"Edit note: I see from your update you&#39;re using the remote container so I&#39;m adding a section about that.\r\n\r\n## Using the managed container\r\n\r\nI think your test code is correct. The liberty arquillian container has a test [here][test] which is similar.\r\n\r\nIf you&#39;re using Java EE 7 or 8 features, make sure you have the `j2eeManagement-1.1` feature enabled as the liberty arquillian container uses it to find the correct context root for the servlet. [Docs here.][docs]\r\n\r\n```\r\n    &lt;feature&gt;j2eeManagement-1.1&lt;/feature&gt; &lt;!-- Optional, needed to allow injection on ArquillianResources related to servlets --&gt;\r\n```\r\n\r\nIf you&#39;re using Jakarta EE 9 features, it should work without this.\r\n\r\n## Using the remote container\r\n\r\nIt looks like the logic for finding servlets is missing from the remote container (as of the current version 2.0.1).\r\n\r\nPlease can you open an issue on the [liberty-arquillian repository][container-repo]?\r\n\r\nIn the short term, if possible, you could try using the managed container instead.\r\n\r\n[test]: https://github.com/OpenLiberty/liberty-arquillian/blob/main/liberty-managed/src/test/java/io/openliberty/arquillian/managed/needsmanagementmbeans/WLPContextRootTestCase.java\r\n[docs]: https://github.com/OpenLiberty/liberty-arquillian/blob/main/liberty-managed/README.md\r\n[container-repo]: https://github.com/OpenLiberty/liberty-arquillian/","title":"Use @ArquillianResource to inject URL when deploying an EnterpriseArchive","body":"<p>Edit note: I see from your update you're using the remote container so I'm adding a section about that.</p>\n<h2>Using the managed container</h2>\n<p>I think your test code is correct. The liberty arquillian container has a test <a href=\"https://github.com/OpenLiberty/liberty-arquillian/blob/main/liberty-managed/src/test/java/io/openliberty/arquillian/managed/needsmanagementmbeans/WLPContextRootTestCase.java\" rel=\"nofollow noreferrer\">here</a> which is similar.</p>\n<p>If you're using Java EE 7 or 8 features, make sure you have the <code>j2eeManagement-1.1</code> feature enabled as the liberty arquillian container uses it to find the correct context root for the servlet. <a href=\"https://github.com/OpenLiberty/liberty-arquillian/blob/main/liberty-managed/README.md\" rel=\"nofollow noreferrer\">Docs here.</a></p>\n<pre><code>    &lt;feature&gt;j2eeManagement-1.1&lt;/feature&gt; &lt;!-- Optional, needed to allow injection on ArquillianResources related to servlets --&gt;\n</code></pre>\n<p>If you're using Jakarta EE 9 features, it should work without this.</p>\n<h2>Using the remote container</h2>\n<p>It looks like the logic for finding servlets is missing from the remote container (as of the current version 2.0.1).</p>\n<p>Please can you open an issue on the <a href=\"https://github.com/OpenLiberty/liberty-arquillian/\" rel=\"nofollow noreferrer\">liberty-arquillian repository</a>?</p>\n<p>In the short term, if possible, you could try using the managed container instead.</p>\n"}],"owner":{"account_id":13889153,"reputation":465,"user_id":10027577,"display_name":"KyleAure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638378550,"creation_date":1638316080,"question_id":70177509,"body_markdown":"I am using Arquillian for functional testing an application against a Jakarta EE application server.\r\n\r\nI am running into an issue where I am unable to properly inject the servlet URL to test against. \r\n\r\n```java\r\npublic class SecurityTests extends ArquillianTests {\r\n\t@ArquillianResource(SecurityServlet.class)\r\n\tURL baseURL;\r\n\r\n\t@Deployment(testable=false)\r\n\tpublic static EnterpriseArchive createDeployment() {\r\n\t\tWebArchive war = ShrinkWrap.create(WebArchive.class)\r\n\t\t\t\t.addPackages(true, SecurityServlet.class.getPackage());\r\n\t\t\r\n\t\tJavaArchive jar = ShrinkWrap.create(JavaArchive.class)\r\n\t\t\t\t.addClasses(SecurityTestRemote.class, SecurityTestEjb.class)\r\n\t\t\t\t.addAsManifestResource(ContextTests.class.getPackage(), &quot;ejb-jar.xml&quot;, &quot;ejb-jar.xml&quot;);\r\n\t\t\r\n\t\tEnterpriseArchive ear = ShrinkWrap.create(EnterpriseArchive.class)\r\n\t\t\t\t.addAsModules(war, jar)\r\n\t\t\t\t.addAsManifestResource(ContextTests.class.getPackage(), &quot;sun-ejb-jar.xml&quot;, &quot;sun-ejb-jar.xml&quot;);\r\n\t\t\r\n\t\treturn ear;\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@WebServlet(&quot;/SecurityServlet&quot;)\r\npublic class SecurityServlet extends HttpServlet\r\n```\r\n\r\nWhen my Enterprise Archive is deployed, the archive and its&#39; modules are all given random names, such as: \r\n```txt\r\n&gt; 681737db-3621-4b1a-b77a-4f571b877126.ear\r\n  &gt; META-INF\r\n  &gt; 5f6d70e5-13f9-4d49-a32f-c7b3138da9fa.war\r\n    &gt; WEB-INF ...\r\n  &gt; 90772573-9202-4c77-b8b9-99b5869dd29f.jar\r\n    &gt; META-INF ...\r\n```\r\n\r\n - If I just use `@ArquillianResource URL baseURL;`\r\n - Then baseURL will be set to `http://localhost:8010/681737db-3621-4b1a-b77a-4f571b877126`\r\n\r\nThe servlet, however, is deployed the endpoint that matches the modules name so I would expect to get `http://localhost:8010/5f6d70e5-13f9-4d49-a32f-c7b3138da9fa`\r\n\r\n - If I use `@ArquillianResource(SecurityServlet.class) URL baseURL;`\r\n - Then I get an exception \r\n\r\n```txt\r\narquillianBeforeTest(jakarta.enterprise.concurrent.spec.ManagedScheduledExecutorService.security.SecurityTests)  Time elapsed: 4.134 sec  &lt;&lt;&lt; FAILURE!\r\njava.lang.RuntimeException: Could not lookup value for field java.net.URL jakarta.enterprise.concurrent.spec.ManagedScheduledExecutorService.security.SecurityTests.baseURL\r\n\tat org.jboss.arquillian.test.impl.enricher.resource.ArquillianResourceTestEnricher.enrich(ArquillianResourceTestEnricher.java:68)\r\n\tat org.jboss.arquillian.test.impl.TestInstanceEnricher.enrich(TestInstanceEnricher.java:51)\r\nCaused by: java.lang.RuntimeException: All Providers for type class java.net.URL returned a null value: [org.jboss.arquillian.container.test.impl.enricher.resource.URLResourceProvider@9e28539]\r\n\tat org.jboss.arquillian.test.impl.enricher.resource.ArquillianResourceTestEnricher.lookup(ArquillianResourceTestEnricher.java:126)\r\n\tat org.jboss.arquillian.test.impl.enricher.resource.ArquillianResourceTestEnricher.enrich(ArquillianResourceTestEnricher.java:66)\r\n\tat org.jboss.arquillian.test.impl.TestInstanceEnricher.enrich(TestInstanceEnricher.java:51)\r\n\tat org.jboss.arquillian.container.test.impl.ClientTestInstanceEnricher.enrich(ClientTestInstanceEnricher.java:48)\r\n```\r\n\r\nQuestions:\r\n 1. Is my assumption correct that I need to use `@ArquillianResource(SecurityServlet.class)`?\r\n 2. If yes, could the exception be caused by the container implementation I am using? (I am using [OpenLiberty][1])\r\n 3. If no, what is the correct way to get the module&#39;s URL?\r\n\r\nUpdate:\r\n\r\nLiberty features enabled\r\n\r\n```xml\r\n&lt;featureManager&gt;\r\n  &lt;!-- Features being tested --&gt;\r\n  &lt;feature&gt;jakartaee-9.1&lt;/feature&gt;\r\n  &lt;!-- Supporting features --&gt;\r\n  &lt;feature&gt;jndi-1.0&lt;/feature&gt; \r\n  &lt;!-- Features needed for arquillan support --&gt;\r\n  &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\r\n  &lt;feature&gt;restConnector-2.0&lt;/feature&gt;\r\n  &lt;feature&gt;arquillian-support-jakarta-2.0&lt;/feature&gt;\r\n&lt;/featureManager&gt;\r\n```\r\n\r\nDependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.openliberty.arquillian&lt;/groupId&gt;\r\n  &lt;artifactId&gt;arquillian-liberty-remote-jakarta-testng&lt;/artifactId&gt;\r\n  &lt;version&gt;2.0.2&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/OpenLiberty/liberty-arquillian","title":"Use @ArquillianResource to inject URL when deploying an EnterpriseArchive","body":"<p>I am using Arquillian for functional testing an application against a Jakarta EE application server.</p>\n<p>I am running into an issue where I am unable to properly inject the servlet URL to test against.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityTests extends ArquillianTests {\n    @ArquillianResource(SecurityServlet.class)\n    URL baseURL;\n\n    @Deployment(testable=false)\n    public static EnterpriseArchive createDeployment() {\n        WebArchive war = ShrinkWrap.create(WebArchive.class)\n                .addPackages(true, SecurityServlet.class.getPackage());\n        \n        JavaArchive jar = ShrinkWrap.create(JavaArchive.class)\n                .addClasses(SecurityTestRemote.class, SecurityTestEjb.class)\n                .addAsManifestResource(ContextTests.class.getPackage(), &quot;ejb-jar.xml&quot;, &quot;ejb-jar.xml&quot;);\n        \n        EnterpriseArchive ear = ShrinkWrap.create(EnterpriseArchive.class)\n                .addAsModules(war, jar)\n                .addAsManifestResource(ContextTests.class.getPackage(), &quot;sun-ejb-jar.xml&quot;, &quot;sun-ejb-jar.xml&quot;);\n        \n        return ear;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(&quot;/SecurityServlet&quot;)\npublic class SecurityServlet extends HttpServlet\n</code></pre>\n<p>When my Enterprise Archive is deployed, the archive and its' modules are all given random names, such as:</p>\n<pre><code>&gt; 681737db-3621-4b1a-b77a-4f571b877126.ear\n  &gt; META-INF\n  &gt; 5f6d70e5-13f9-4d49-a32f-c7b3138da9fa.war\n    &gt; WEB-INF ...\n  &gt; 90772573-9202-4c77-b8b9-99b5869dd29f.jar\n    &gt; META-INF ...\n</code></pre>\n<ul>\n<li>If I just use <code>@ArquillianResource URL baseURL;</code></li>\n<li>Then baseURL will be set to <code>http://localhost:8010/681737db-3621-4b1a-b77a-4f571b877126</code></li>\n</ul>\n<p>The servlet, however, is deployed the endpoint that matches the modules name so I would expect to get <code>http://localhost:8010/5f6d70e5-13f9-4d49-a32f-c7b3138da9fa</code></p>\n<ul>\n<li>If I use <code>@ArquillianResource(SecurityServlet.class) URL baseURL;</code></li>\n<li>Then I get an exception</li>\n</ul>\n<pre><code>arquillianBeforeTest(jakarta.enterprise.concurrent.spec.ManagedScheduledExecutorService.security.SecurityTests)  Time elapsed: 4.134 sec  &lt;&lt;&lt; FAILURE!\njava.lang.RuntimeException: Could not lookup value for field java.net.URL jakarta.enterprise.concurrent.spec.ManagedScheduledExecutorService.security.SecurityTests.baseURL\n    at org.jboss.arquillian.test.impl.enricher.resource.ArquillianResourceTestEnricher.enrich(ArquillianResourceTestEnricher.java:68)\n    at org.jboss.arquillian.test.impl.TestInstanceEnricher.enrich(TestInstanceEnricher.java:51)\nCaused by: java.lang.RuntimeException: All Providers for type class java.net.URL returned a null value: [org.jboss.arquillian.container.test.impl.enricher.resource.URLResourceProvider@9e28539]\n    at org.jboss.arquillian.test.impl.enricher.resource.ArquillianResourceTestEnricher.lookup(ArquillianResourceTestEnricher.java:126)\n    at org.jboss.arquillian.test.impl.enricher.resource.ArquillianResourceTestEnricher.enrich(ArquillianResourceTestEnricher.java:66)\n    at org.jboss.arquillian.test.impl.TestInstanceEnricher.enrich(TestInstanceEnricher.java:51)\n    at org.jboss.arquillian.container.test.impl.ClientTestInstanceEnricher.enrich(ClientTestInstanceEnricher.java:48)\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li>Is my assumption correct that I need to use <code>@ArquillianResource(SecurityServlet.class)</code>?</li>\n<li>If yes, could the exception be caused by the container implementation I am using? (I am using <a href=\"https://github.com/OpenLiberty/liberty-arquillian\" rel=\"nofollow noreferrer\">OpenLiberty</a>)</li>\n<li>If no, what is the correct way to get the module's URL?</li>\n</ol>\n<p>Update:</p>\n<p>Liberty features enabled</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;featureManager&gt;\n  &lt;!-- Features being tested --&gt;\n  &lt;feature&gt;jakartaee-9.1&lt;/feature&gt;\n  &lt;!-- Supporting features --&gt;\n  &lt;feature&gt;jndi-1.0&lt;/feature&gt; \n  &lt;!-- Features needed for arquillan support --&gt;\n  &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\n  &lt;feature&gt;restConnector-2.0&lt;/feature&gt;\n  &lt;feature&gt;arquillian-support-jakarta-2.0&lt;/feature&gt;\n&lt;/featureManager&gt;\n</code></pre>\n<p>Dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.openliberty.arquillian&lt;/groupId&gt;\n  &lt;artifactId&gt;arquillian-liberty-remote-jakarta-testng&lt;/artifactId&gt;\n  &lt;version&gt;2.0.2&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;dependency&gt;\n</code></pre>\n"},{"tags":["java","android","macos"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1637055784,"post_id":69986687,"comment_id":123716890,"body_markdown":"Update your OS X","body":"Update your OS X"},{"owner":{"account_id":23353337,"reputation":11,"user_id":17426638,"display_name":"Teng Zhan"},"score":0,"creation_date":1637115852,"post_id":69986687,"comment_id":123737929,"body_markdown":"I have used back to android studio 4.1 RC1, although when start the avd, still a popup &quot;unable to locate adb&quot;, but the virtual device is able to start. So I think upgrade android studio brings this problem.","body":"I have used back to android studio 4.1 RC1, although when start the avd, still a popup &quot;unable to locate adb&quot;, but the virtual device is able to start. So I think upgrade android studio brings this problem."}],"answers":[{"tags":[],"owner":{"account_id":13128040,"reputation":86,"user_id":9483298,"display_name":"Tian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637571390,"creation_date":1637571390,"answer_id":70063140,"question_id":69986687,"body_markdown":"The reason is the latest emulator can not work on the mojave(Mac OS X \r\n10.14).\r\n\r\nSolution:\r\n\r\n1. Install emulator by sdk manager, and create vitual devices by svd\r\n2. Try to download an older version (https://dl.google.com/android/repository/emulator-darwin-6885378.zip)\r\n3. Unzip the file, then replace your android emulator folder(usually `~/Library/Android/sdk/emulator`) with the folder that you just unziped.\r\n4. go to your emulator folder `cd ~/Library/Android/sdk/emulator`, list all the virtual devices `./emulator -list-avds` then try to open one of the virtual devices by `./emulator @YOUR_DEVICE_NAME`\r\n\r\n\r\n\r\n\r\n\r\n","title":"macOS Mojave: Android studio: the emulator process for AVD was killed","body":"<p>The reason is the latest emulator can not work on the mojave(Mac OS X\n10.14).</p>\n<p>Solution:</p>\n<ol>\n<li>Install emulator by sdk manager, and create vitual devices by svd</li>\n<li>Try to download an older version (<a href=\"https://dl.google.com/android/repository/emulator-darwin-6885378.zip\" rel=\"nofollow noreferrer\">https://dl.google.com/android/repository/emulator-darwin-6885378.zip</a>)</li>\n<li>Unzip the file, then replace your android emulator folder(usually <code>~/Library/Android/sdk/emulator</code>) with the folder that you just unziped.</li>\n<li>go to your emulator folder <code>cd ~/Library/Android/sdk/emulator</code>, list all the virtual devices <code>./emulator -list-avds</code> then try to open one of the virtual devices by <code>./emulator @YOUR_DEVICE_NAME</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":541050,"reputation":2013,"user_id":909456,"accept_rate":33,"display_name":"usama sulaiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638378119,"creation_date":1638378119,"answer_id":70188312,"question_id":69986687,"body_markdown":"I had same issue, and **The simple solution is:**\r\n\r\n**Try to install lower API Level of virtual device**, so for example if you are trying to use API Level 30, change to API Level 27 and see if it works\r\n\r\n[![enter image description here][1]][1]\r\n\r\nso you need to\r\n - click on **AVD Manger** icon on top right corner of your Android studio, (or navigate to Tools then AVD Manager)\r\n - then click on **Create Virtual Device** button\r\n - select a device (such as Pixel 2) and click next\r\n - try API LEVEL 27 (Oreo)\r\n\r\nHope that can fix your issue same as it fixed mine\r\n\r\n  [1]: https://i.stack.imgur.com/NqChr.png","title":"macOS Mojave: Android studio: the emulator process for AVD was killed","body":"<p>I had same issue, and <strong>The simple solution is:</strong></p>\n<p><strong>Try to install lower API Level of virtual device</strong>, so for example if you are trying to use API Level 30, change to API Level 27 and see if it works</p>\n<p><a href=\"https://i.stack.imgur.com/NqChr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqChr.png\" alt=\"enter image description here\" /></a></p>\n<p>so you need to</p>\n<ul>\n<li>click on <strong>AVD Manger</strong> icon on top right corner of your Android studio, (or navigate to Tools then AVD Manager)</li>\n<li>then click on <strong>Create Virtual Device</strong> button</li>\n<li>select a device (such as Pixel 2) and click next</li>\n<li>try API LEVEL 27 (Oreo)</li>\n</ul>\n<p>Hope that can fix your issue same as it fixed mine</p>\n"}],"owner":{"account_id":23353337,"reputation":11,"user_id":17426638,"display_name":"Teng Zhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638378119,"creation_date":1637055239,"question_id":69986687,"body_markdown":"I want to try android auto emulator, so I am trying to download it from the AVD manager, but after several times. I then find even my phone emulator can not be opened, with this error: `The emulator process for AVD was killed`\r\n\r\nI have tried to upgrade my android studio, reinstall it, uncheck platform-tools and check in AVD manager, replace emulator folder, you name it, I have tried them all, but not working.\r\n\r\nAfter I try to start emulator with command line, error like below:\r\n\r\n    dyld: Symbol not found :_vmnet_shared_interface_name_key\r\n    Referenced from ..../qemu-system-x86_64 (which was built for Mac OS X \r\n    11.1)","title":"macOS Mojave: Android studio: the emulator process for AVD was killed","body":"<p>I want to try android auto emulator, so I am trying to download it from the AVD manager, but after several times. I then find even my phone emulator can not be opened, with this error: <code>The emulator process for AVD was killed</code></p>\n<p>I have tried to upgrade my android studio, reinstall it, uncheck platform-tools and check in AVD manager, replace emulator folder, you name it, I have tried them all, but not working.</p>\n<p>After I try to start emulator with command line, error like below:</p>\n<pre><code>dyld: Symbol not found :_vmnet_shared_interface_name_key\nReferenced from ..../qemu-system-x86_64 (which was built for Mac OS X \n11.1)\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638378111,"creation_date":1638374860,"answer_id":70187513,"question_id":70187264,"body_markdown":"The error message is telling you what is wrong. Your input appears to be `&quot;40` and `&quot;` is not a numeric character. You need make sure your inputted strings are numeric OR you need to extract the numeric component from the string BEFORE attempting to convert it into an integer. You could try `new String(buffer, 1, i)` if the character at index 0 is always the double quote character.\r\n\r\n**UPDATE**:\r\n\r\nBased on your last comment posted here, you need to initialize your `strInput` as follows (This is an example):\r\n\r\n\t\tbyte[] bytes = new byte[5];\r\n\t\tbytes[0] = 49; // this is the ASCII value of the number &quot;1&quot;\r\n\t\tbytes[1] = &#39;\\u0000&#39;; // These are null characters\r\n\t\tbytes[2] = &#39;\\u0000&#39;;\r\n\t\tbytes[3] = &#39;\\u0000&#39;;\r\n\t\tbytes[4] = &#39;\\u0000&#39;;\r\n\r\n\t\tString temp = new String(bytes); // convert the byte array to String\r\n\t\tString str = temp.substring(0, temp.indexOf(&#39;\\u0000&#39;)); // parse the numeric contents\r\n\t\tSystem.out.println(str); // You should see &quot;1&quot; printed out\r\n\t\tint number = Integer.parseInt(str); // Because I parsed the numeric contents, it is safe to convert the String to a number.\r\n\r\n","title":"Changing String from buffer to int","body":"<p>The error message is telling you what is wrong. Your input appears to be <code>&quot;40</code> and <code>&quot;</code> is not a numeric character. You need make sure your inputted strings are numeric OR you need to extract the numeric component from the string BEFORE attempting to convert it into an integer. You could try <code>new String(buffer, 1, i)</code> if the character at index 0 is always the double quote character.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>Based on your last comment posted here, you need to initialize your <code>strInput</code> as follows (This is an example):</p>\n<pre><code>    byte[] bytes = new byte[5];\n    bytes[0] = 49; // this is the ASCII value of the number &quot;1&quot;\n    bytes[1] = '\\u0000'; // These are null characters\n    bytes[2] = '\\u0000';\n    bytes[3] = '\\u0000';\n    bytes[4] = '\\u0000';\n\n    String temp = new String(bytes); // convert the byte array to String\n    String str = temp.substring(0, temp.indexOf('\\u0000')); // parse the numeric contents\n    System.out.println(str); // You should see &quot;1&quot; printed out\n    int number = Integer.parseInt(str); // Because I parsed the numeric contents, it is safe to convert the String to a number.\n</code></pre>\n"}],"owner":{"account_id":11092210,"reputation":49,"user_id":8143659,"display_name":"Whiliams Thunardy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70187513,"answer_count":1,"score":0,"last_activity_date":1638378111,"creation_date":1638373810,"question_id":70187264,"body_markdown":"So another one from the same code with another problem.\r\n&lt;br&gt;here is the code\r\n\r\n    package com.test.aplikasirevisi;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    import android.app.Activity;\r\n    import android.app.ProgressDialog;\r\n    import android.bluetooth.BluetoothAdapter;\r\n    import android.bluetooth.BluetoothDevice;\r\n    import android.bluetooth.BluetoothSocket;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.text.method.ScrollingMovementMethod;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.CheckBox;\r\n    import android.widget.EditText;\r\n    import android.widget.ScrollView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import static com.test.aplikasirevisi.Information.Highest;\r\n    import static com.test.aplikasirevisi.Information.Lowest;\r\n    import static com.test.aplikasirevisi.Information.mypreference;\r\n    \r\n    \r\n    public class MonitoringScreen extends Activity {\r\n        private static final String TAG = &quot;BlueTest5-MainActivity&quot;;\r\n        private int mMaxChars = 50000;//Default\r\n        private UUID mDeviceUUID;\r\n        private BluetoothSocket mBTSocket;\r\n        private ReadInput mReadThread = null;\r\n        TextView highest;\r\n        TextView lowest;\r\n        private boolean mIsUserInitiatedDisconnect = false;\r\n    \r\n        private TextView mTxtReceive;\r\n        private Button mBtnClearInput;\r\n        private Button mBtnGetBPM;\r\n        private ScrollView scrollView;\r\n        private CheckBox chkScroll;\r\n        private CheckBox chkReceiveText;\r\n    \r\n    \r\n        private boolean mIsBluetoothConnected = false;\r\n    \r\n        private BluetoothDevice mDevice;\r\n    \r\n        private ProgressDialog progressDialog;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_monitoring_screen);\r\n            ActivityHelper.initialize(this);\r\n    \r\n            Intent intent = getIntent();\r\n            Bundle b = intent.getExtras();\r\n            mDevice = b.getParcelable(MainActivity.DEVICE_EXTRA);\r\n            mDeviceUUID = UUID.fromString(b.getString(MainActivity.DEVICE_UUID));\r\n            mMaxChars = b.getInt(MainActivity.BUFFER_SIZE);\r\n            Log.d(TAG, &quot;Ready&quot;);\r\n            mTxtReceive = (TextView) findViewById(R.id.txtReceive);\r\n            chkScroll = (CheckBox) findViewById(R.id.chkScroll);\r\n            chkReceiveText = (CheckBox) findViewById(R.id.chkReceiveText);\r\n            scrollView = (ScrollView) findViewById(R.id.viewScroll);\r\n            mBtnClearInput = (Button) findViewById(R.id.btnClearInput);\r\n            mBtnGetBPM = (Button) findViewById(R.id.mBtnGetBPM);\r\n            mTxtReceive.setMovementMethod(new ScrollingMovementMethod());\r\n            highest = (TextView) findViewById(R.id.etHighest);\r\n            lowest = (TextView) findViewById(R.id.etLowest);\r\n            SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\r\n                    Context.MODE_PRIVATE);\r\n            if (sharedpreferences.contains(Highest)) {\r\n                highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n            }\r\n            if (sharedpreferences.contains(Lowest)) {\r\n                lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n            }\r\n            mBtnClearInput.setOnClickListener(new OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View arg0) {\r\n                    mTxtReceive.setText(&quot;&quot;);\r\n                }\r\n            });\r\n            \r\n        }\r\n        private class ReadInput implements  Runnable{\r\n            private boolean bStop = false;\r\n            private Thread t;\r\n    \r\n            public ReadInput() {\r\n                t = new Thread(this, &quot;Input Thread&quot;);\r\n                t.start();\r\n            }\r\n    \r\n            public boolean isRunning() {\r\n                return t.isAlive();\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                InputStream inputStream;\r\n    \r\n                try {\r\n                    inputStream = mBTSocket.getInputStream();\r\n                    while (!bStop) {\r\n                        byte[] buffer = new byte[256];\r\n                        if (inputStream.available() &gt; 0) {\r\n                            inputStream.read(buffer);\r\n                            int i;\r\n                            /*\r\n                             * This is needed because new String(buffer) is taking the entire buffer i.e. 256 chars on Android 2.3.4 http://stackoverflow.com/a/8843462/1287554\r\n                             */\r\n                            for (i = 0; i &lt; buffer.length &amp;&amp; buffer[i] != 0; i++) {\r\n                            }\r\n                            final String strInput = new String(buffer, 0, i);\r\n                            String getHi = null;\r\n    \r\n    \r\n                            SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\r\n                                    Context.MODE_PRIVATE);\r\n                            if (sharedpreferences.contains(Highest)) {\r\n                                highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\r\n                                getHi=highest.getText().toString();\r\n                            }\r\n                            if (sharedpreferences.contains(Lowest)) {\r\n                                lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\r\n                            }\r\n                            int hi = Integer.parseInt(getHi);\r\n    \r\n                            /*\r\n                             * If checked then receive text, better design would probably be to stop thread if unchecked and free resources, but this is a quick fix\r\n                             */\r\n    \r\n                            if (chkReceiveText.isChecked()) {\r\n                                mTxtReceive.post(new Runnable() {\r\n                                    @Override\r\n                                    public void run() {\r\n                                        mTxtReceive.append(strInput);\r\n                                        System.out.println(strInput);\r\n                                        if(data &lt; hi){\r\n                                            Log.d(TAG, &quot;succes&quot;);\r\n                                        }\r\n                                        int txtLength = mTxtReceive.getEditableText().length();\r\n                                        if(txtLength &gt; mMaxChars){\r\n                                            mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars);\r\n                                            Log.d(TAG, &quot;text longer than allowed:&quot; + mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars));\r\n    \r\n                                        }\r\n    \r\n                                        if (chkScroll.isChecked()) { // Scroll only if this is checked\r\n                                            scrollView.post(new Runnable() { // Snippet from http://stackoverflow.com/a/4612082/1287554\r\n                                                @Override\r\n                                                public void run() {\r\n                                                    scrollView.fullScroll(View.FOCUS_DOWN);\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n    \r\n                        }\r\n                        Thread.sleep(500);\r\n                    }\r\n                } catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                } catch (InterruptedException e) {\r\n    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n    \r\n            public void stop() {\r\n                bStop = true;\r\n            }\r\n    \r\n        }\r\n        private class DisConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... params) {\r\n    \r\n                if (mReadThread != null) {\r\n                    mReadThread.stop();\r\n                    while (mReadThread.isRunning())\r\n                        ; // Wait until it stops\r\n                    mReadThread = null;\r\n    \r\n                }\r\n    \r\n                try {\r\n                    mBTSocket.close();\r\n                } catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                super.onPostExecute(result);\r\n                mIsBluetoothConnected = false;\r\n                if (mIsUserInitiatedDisconnect) {\r\n                    finish();\r\n                }\r\n            }\r\n    \r\n        }\r\n        private void msg(String s) {\r\n            Toast.makeText(getApplicationContext(), s, Toast.LENGTH_SHORT).show();\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            if (mBTSocket != null &amp;&amp; mIsBluetoothConnected) {\r\n                new DisConnectBT().execute();\r\n            }\r\n            Log.d(TAG, &quot;Paused&quot;);\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            if (mBTSocket == null || !mIsBluetoothConnected) {\r\n                new ConnectBT().execute();\r\n            }\r\n            Log.d(TAG, &quot;Resumed&quot;);\r\n            super.onResume();\r\n        }\r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            Log.d(TAG, &quot;Stopped&quot;);\r\n            super.onStop();\r\n        }\r\n    \r\n        @Override\r\n        protected void onSaveInstanceState(Bundle outState) {\r\n    // TODO Auto-generated method stub\r\n            super.onSaveInstanceState(outState);\r\n        }\r\n    \r\n        private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            private boolean mConnectSuccessful = true;\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                progressDialog = ProgressDialog.show(MonitoringScreen.this, &quot;Hold on&quot;, &quot;Connecting&quot;);// http://stackoverflow.com/a/11130220/1287554\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... devices) {\r\n    \r\n                try {\r\n                    if (mBTSocket == null || !mIsBluetoothConnected) {\r\n                        mBTSocket = mDevice.createInsecureRfcommSocketToServiceRecord(mDeviceUUID);\r\n                        BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\r\n                        mBTSocket.connect();\r\n                    }\r\n                } catch (IOException e) {\r\n    // Unable to connect to device\r\n                    e.printStackTrace();\r\n                    mConnectSuccessful = false;\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                super.onPostExecute(result);\r\n    \r\n                if (!mConnectSuccessful) {\r\n                    Toast.makeText(getApplicationContext(), &quot;Could not connect to device. Is it a Serial device? Also check if the UUID is correct in the settings&quot;, Toast.LENGTH_LONG).show();\r\n                    finish();\r\n                } else {\r\n                    msg(&quot;Connected to device&quot;);\r\n                    mIsBluetoothConnected = true;\r\n                    mReadThread = new ReadInput(); // Kick off input reader\r\n                }\r\n    \r\n                progressDialog.dismiss();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\ni want to change the String to int from this part:\r\n\r\n    final String strInput = new String(buffer, 0, i);\r\n\r\nso i can use it on this part :\r\n\r\n     if(data &lt; hi){\r\n     Log.d(TAG, &quot;succes&quot;);\r\n     }\r\ni tried to use \r\n\r\n    int data = Integer.parseInt(strInput);\r\nbut well of course it span error because its string buffer and only the first one is changed&lt;br&gt;\r\nso how do i solve this prob?if any one can help\r\n&lt;br&gt;I already tried using arraylist but still error\r\n&lt;br&gt;\r\nHere is the error code :\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.test.aplikasirevisi, PID: 21905\r\n        java.lang.NumberFormatException: For input string: &quot;40\r\n        &quot;\r\n            at java.lang.Integer.parseInt(Integer.java:615)\r\n            at java.lang.Integer.parseInt(Integer.java:650)\r\n            at com.test.aplikasirevisi.MonitoringScreen$ReadInput$1.run(MonitoringScreen.java:152)\r\n            at android.os.Handler.handleCallback(Handler.java:873)\r\n            at android.os.Handler.dispatchMessage(Handler.java:99)\r\n            at android.os.Looper.loop(Looper.java:201)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n    I/Process: Sending signal. PID: 21905 SIG: 9","title":"Changing String from buffer to int","body":"<p>So another one from the same code with another problem.\n<br>here is the code</p>\n<pre><code>package com.test.aplikasirevisi;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.UUID;\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothSocket;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.text.method.ScrollingMovementMethod;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.EditText;\nimport android.widget.ScrollView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport static com.test.aplikasirevisi.Information.Highest;\nimport static com.test.aplikasirevisi.Information.Lowest;\nimport static com.test.aplikasirevisi.Information.mypreference;\n\n\npublic class MonitoringScreen extends Activity {\n    private static final String TAG = &quot;BlueTest5-MainActivity&quot;;\n    private int mMaxChars = 50000;//Default\n    private UUID mDeviceUUID;\n    private BluetoothSocket mBTSocket;\n    private ReadInput mReadThread = null;\n    TextView highest;\n    TextView lowest;\n    private boolean mIsUserInitiatedDisconnect = false;\n\n    private TextView mTxtReceive;\n    private Button mBtnClearInput;\n    private Button mBtnGetBPM;\n    private ScrollView scrollView;\n    private CheckBox chkScroll;\n    private CheckBox chkReceiveText;\n\n\n    private boolean mIsBluetoothConnected = false;\n\n    private BluetoothDevice mDevice;\n\n    private ProgressDialog progressDialog;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_monitoring_screen);\n        ActivityHelper.initialize(this);\n\n        Intent intent = getIntent();\n        Bundle b = intent.getExtras();\n        mDevice = b.getParcelable(MainActivity.DEVICE_EXTRA);\n        mDeviceUUID = UUID.fromString(b.getString(MainActivity.DEVICE_UUID));\n        mMaxChars = b.getInt(MainActivity.BUFFER_SIZE);\n        Log.d(TAG, &quot;Ready&quot;);\n        mTxtReceive = (TextView) findViewById(R.id.txtReceive);\n        chkScroll = (CheckBox) findViewById(R.id.chkScroll);\n        chkReceiveText = (CheckBox) findViewById(R.id.chkReceiveText);\n        scrollView = (ScrollView) findViewById(R.id.viewScroll);\n        mBtnClearInput = (Button) findViewById(R.id.btnClearInput);\n        mBtnGetBPM = (Button) findViewById(R.id.mBtnGetBPM);\n        mTxtReceive.setMovementMethod(new ScrollingMovementMethod());\n        highest = (TextView) findViewById(R.id.etHighest);\n        lowest = (TextView) findViewById(R.id.etLowest);\n        SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\n                Context.MODE_PRIVATE);\n        if (sharedpreferences.contains(Highest)) {\n            highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n        }\n        if (sharedpreferences.contains(Lowest)) {\n            lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n        }\n        mBtnClearInput.setOnClickListener(new OnClickListener() {\n\n            @Override\n            public void onClick(View arg0) {\n                mTxtReceive.setText(&quot;&quot;);\n            }\n        });\n        \n    }\n    private class ReadInput implements  Runnable{\n        private boolean bStop = false;\n        private Thread t;\n\n        public ReadInput() {\n            t = new Thread(this, &quot;Input Thread&quot;);\n            t.start();\n        }\n\n        public boolean isRunning() {\n            return t.isAlive();\n        }\n\n        @Override\n        public void run() {\n            InputStream inputStream;\n\n            try {\n                inputStream = mBTSocket.getInputStream();\n                while (!bStop) {\n                    byte[] buffer = new byte[256];\n                    if (inputStream.available() &gt; 0) {\n                        inputStream.read(buffer);\n                        int i;\n                        /*\n                         * This is needed because new String(buffer) is taking the entire buffer i.e. 256 chars on Android 2.3.4 http://stackoverflow.com/a/8843462/1287554\n                         */\n                        for (i = 0; i &lt; buffer.length &amp;&amp; buffer[i] != 0; i++) {\n                        }\n                        final String strInput = new String(buffer, 0, i);\n                        String getHi = null;\n\n\n                        SharedPreferences sharedpreferences = getSharedPreferences(mypreference,\n                                Context.MODE_PRIVATE);\n                        if (sharedpreferences.contains(Highest)) {\n                            highest.setText(sharedpreferences.getString(Highest, &quot;&quot;));\n                            getHi=highest.getText().toString();\n                        }\n                        if (sharedpreferences.contains(Lowest)) {\n                            lowest.setText(sharedpreferences.getString(Lowest, &quot;&quot;));\n                        }\n                        int hi = Integer.parseInt(getHi);\n\n                        /*\n                         * If checked then receive text, better design would probably be to stop thread if unchecked and free resources, but this is a quick fix\n                         */\n\n                        if (chkReceiveText.isChecked()) {\n                            mTxtReceive.post(new Runnable() {\n                                @Override\n                                public void run() {\n                                    mTxtReceive.append(strInput);\n                                    System.out.println(strInput);\n                                    if(data &lt; hi){\n                                        Log.d(TAG, &quot;succes&quot;);\n                                    }\n                                    int txtLength = mTxtReceive.getEditableText().length();\n                                    if(txtLength &gt; mMaxChars){\n                                        mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars);\n                                        Log.d(TAG, &quot;text longer than allowed:&quot; + mTxtReceive.getEditableText().delete(0, txtLength - mMaxChars));\n\n                                    }\n\n                                    if (chkScroll.isChecked()) { // Scroll only if this is checked\n                                        scrollView.post(new Runnable() { // Snippet from http://stackoverflow.com/a/4612082/1287554\n                                            @Override\n                                            public void run() {\n                                                scrollView.fullScroll(View.FOCUS_DOWN);\n                                            }\n                                        });\n                                    }\n                                }\n                            });\n                        }\n\n                    }\n                    Thread.sleep(500);\n                }\n            } catch (IOException e) {\n// TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n// TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n        public void stop() {\n            bStop = true;\n        }\n\n    }\n    private class DisConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        @Override\n        protected void onPreExecute() {\n        }\n\n        @Override\n        protected Void doInBackground(Void... params) {\n\n            if (mReadThread != null) {\n                mReadThread.stop();\n                while (mReadThread.isRunning())\n                    ; // Wait until it stops\n                mReadThread = null;\n\n            }\n\n            try {\n                mBTSocket.close();\n            } catch (IOException e) {\n// TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            super.onPostExecute(result);\n            mIsBluetoothConnected = false;\n            if (mIsUserInitiatedDisconnect) {\n                finish();\n            }\n        }\n\n    }\n    private void msg(String s) {\n        Toast.makeText(getApplicationContext(), s, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    protected void onPause() {\n        if (mBTSocket != null &amp;&amp; mIsBluetoothConnected) {\n            new DisConnectBT().execute();\n        }\n        Log.d(TAG, &quot;Paused&quot;);\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        if (mBTSocket == null || !mIsBluetoothConnected) {\n            new ConnectBT().execute();\n        }\n        Log.d(TAG, &quot;Resumed&quot;);\n        super.onResume();\n    }\n\n    @Override\n    protected void onStop() {\n        Log.d(TAG, &quot;Stopped&quot;);\n        super.onStop();\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n// TODO Auto-generated method stub\n        super.onSaveInstanceState(outState);\n    }\n\n    private class ConnectBT extends AsyncTask&lt;Void, Void, Void&gt; {\n        private boolean mConnectSuccessful = true;\n\n        @Override\n        protected void onPreExecute() {\n            progressDialog = ProgressDialog.show(MonitoringScreen.this, &quot;Hold on&quot;, &quot;Connecting&quot;);// http://stackoverflow.com/a/11130220/1287554\n        }\n\n        @Override\n        protected Void doInBackground(Void... devices) {\n\n            try {\n                if (mBTSocket == null || !mIsBluetoothConnected) {\n                    mBTSocket = mDevice.createInsecureRfcommSocketToServiceRecord(mDeviceUUID);\n                    BluetoothAdapter.getDefaultAdapter().cancelDiscovery();\n                    mBTSocket.connect();\n                }\n            } catch (IOException e) {\n// Unable to connect to device\n                e.printStackTrace();\n                mConnectSuccessful = false;\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            super.onPostExecute(result);\n\n            if (!mConnectSuccessful) {\n                Toast.makeText(getApplicationContext(), &quot;Could not connect to device. Is it a Serial device? Also check if the UUID is correct in the settings&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            } else {\n                msg(&quot;Connected to device&quot;);\n                mIsBluetoothConnected = true;\n                mReadThread = new ReadInput(); // Kick off input reader\n            }\n\n            progressDialog.dismiss();\n        }\n\n    }\n}\n</code></pre>\n<p>i want to change the String to int from this part:</p>\n<pre><code>final String strInput = new String(buffer, 0, i);\n</code></pre>\n<p>so i can use it on this part :</p>\n<pre><code> if(data &lt; hi){\n Log.d(TAG, &quot;succes&quot;);\n }\n</code></pre>\n<p>i tried to use</p>\n<pre><code>int data = Integer.parseInt(strInput);\n</code></pre>\n<p>but well of course it span error because its string buffer and only the first one is changed<br>\nso how do i solve this prob?if any one can help\n<br>I already tried using arraylist but still error\n<br>\nHere is the error code :</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.test.aplikasirevisi, PID: 21905\n    java.lang.NumberFormatException: For input string: &quot;40\n    &quot;\n        at java.lang.Integer.parseInt(Integer.java:615)\n        at java.lang.Integer.parseInt(Integer.java:650)\n        at com.test.aplikasirevisi.MonitoringScreen$ReadInput$1.run(MonitoringScreen.java:152)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:201)\n        at android.app.ActivityThread.main(ActivityThread.java:6810)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\nI/Process: Sending signal. PID: 21905 SIG: 9\n</code></pre>\n"},{"tags":["java","mysql","client-server"],"answers":[{"tags":[],"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638376523,"creation_date":1638376523,"answer_id":70187938,"question_id":70187838,"body_markdown":"Connecting to DB: look into `JDBC` it&#39;s a Java&#39;s database connection api ,with it you can connect to db and execute all the database operations.\r\n\r\nAs for as connecting UI, if you are devoloping a web ui then you can use `JSP` \r\n\r\nIf you want to develop bit more advanced application then look into `Spring` project.","title":"Client-Server Java Application linked to MySQL database","body":"<p>Connecting to DB: look into <code>JDBC</code> it's a Java's database connection api ,with it you can connect to db and execute all the database operations.</p>\n<p>As for as connecting UI, if you are devoloping a web ui then you can use <code>JSP</code></p>\n<p>If you want to develop bit more advanced application then look into <code>Spring</code> project.</p>\n"},{"tags":[],"owner":{"account_id":18275525,"reputation":70,"user_id":15392604,"display_name":"Fastaca Girasol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638377698,"creation_date":1638377163,"answer_id":70188081,"question_id":70187838,"body_markdown":"If you use a `spring-boot` application you could add specific dependencies in order to have a connection to a client using `REST MVC` module.\r\nRead more: https://www.redhat.com/en/topics/api/what-is-a-rest-api\r\n\r\n**Required dependencies**\r\n\r\n`MySQL Driver`\r\n`Spring Data Jpa` (which uses hibernate as an Implementation and maps your entities to db tables)\r\n`Spring Web` (which uses the MVC  concept)\r\n\r\nhttps://start.spring.io/ - to generate a maven spring boot project. you can choose the dependencies on the right tab.\r\n\r\nonce you have all dependencies you should create an `app.properties` file to manage your properties such as:\r\n\r\ndatabase, user, password, hibernate properties, etc.\r\n\r\ncreate repositories for `crud` operations.\r\nThere are many tutorials you can find online.\r\n\r\n*so far you have a back-end with mapping to a db.*\r\n\r\nas for front-end you have many technologies you can use.\r\nbut for this example we will look at `react`. ( library for building user interfaces ) basically this is the `GUI` part.\r\nreact as of now is the most popular one.\r\nYou can read here about react - https://reactjs.org/.\r\n\r\nonce you create a client-side app you can make via your IDEA (e.g of an IDEA for react is Visual studio code) calls to back-end to fetch data from DB.\r\n\r\nthis is called a full-stack software.\r\n\r\n**TL;DR**\r\n\r\n 1. You need a back-end program (Spring boot) with required dependencies\r\n 2. A driver for DB (in this case MySQL) which will be mapped by hibernate.\r\n 3. A Front-end client (in this case REACT) in order to make calls.\r\n\r\nofcourse this is just a small example of how a complete app should be build but you should read more about client-side technologies and choose what suits you.\r\n\r\n\r\n","title":"Client-Server Java Application linked to MySQL database","body":"<p>If you use a <code>spring-boot</code> application you could add specific dependencies in order to have a connection to a client using <code>REST MVC</code> module.\nRead more: <a href=\"https://www.redhat.com/en/topics/api/what-is-a-rest-api\" rel=\"nofollow noreferrer\">https://www.redhat.com/en/topics/api/what-is-a-rest-api</a></p>\n<p><strong>Required dependencies</strong></p>\n<p><code>MySQL Driver</code>\n<code>Spring Data Jpa</code> (which uses hibernate as an Implementation and maps your entities to db tables)\n<code>Spring Web</code> (which uses the MVC  concept)</p>\n<p><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> - to generate a maven spring boot project. you can choose the dependencies on the right tab.</p>\n<p>once you have all dependencies you should create an <code>app.properties</code> file to manage your properties such as:</p>\n<p>database, user, password, hibernate properties, etc.</p>\n<p>create repositories for <code>crud</code> operations.\nThere are many tutorials you can find online.</p>\n<p><em>so far you have a back-end with mapping to a db.</em></p>\n<p>as for front-end you have many technologies you can use.\nbut for this example we will look at <code>react</code>. ( library for building user interfaces ) basically this is the <code>GUI</code> part.\nreact as of now is the most popular one.\nYou can read here about react - <a href=\"https://reactjs.org/\" rel=\"nofollow noreferrer\">https://reactjs.org/</a>.</p>\n<p>once you create a client-side app you can make via your IDEA (e.g of an IDEA for react is Visual studio code) calls to back-end to fetch data from DB.</p>\n<p>this is called a full-stack software.</p>\n<p><strong>TL;DR</strong></p>\n<ol>\n<li>You need a back-end program (Spring boot) with required dependencies</li>\n<li>A driver for DB (in this case MySQL) which will be mapped by hibernate.</li>\n<li>A Front-end client (in this case REACT) in order to make calls.</li>\n</ol>\n<p>ofcourse this is just a small example of how a complete app should be build but you should read more about client-side technologies and choose what suits you.</p>\n"}],"owner":{"account_id":23516001,"reputation":21,"user_id":17563903,"display_name":"user17563903"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1638377698,"creation_date":1638376103,"question_id":70187838,"body_markdown":"I am trying to make a Java application in a client/server way. The client is a GUI which displays data from the server. The server is connected to a MySQL database.\r\n\r\nIt&#39;s probably a classic question, but I have no idea where to start! \r\nHow do I link the GUI to the server? How do I manipulate the data from the server? \r\nIt&#39;s an app with several features that I have to implement, all about the data in my database. \r\n\r\nCan anyone please give me a route to start or show me steps or some tutorials? \r\n\r\nThank you in advance. ","title":"Client-Server Java Application linked to MySQL database","body":"<p>I am trying to make a Java application in a client/server way. The client is a GUI which displays data from the server. The server is connected to a MySQL database.</p>\n<p>It's probably a classic question, but I have no idea where to start!\nHow do I link the GUI to the server? How do I manipulate the data from the server?\nIt's an app with several features that I have to implement, all about the data in my database.</p>\n<p>Can anyone please give me a route to start or show me steps or some tutorials?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","base64","aes","rsa"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1638311873,"post_id":70176543,"comment_id":124054419,"body_markdown":"I don&#39;t think there is a problem with your code, but you are trying to print out an AES key as a string. An AES key is usually 16/24/32 bytes long and the byte array is filled with values of (each) 0..255 (x00 to xFF). Don&#39;t try to print out the pure byte array but use it for decryption. If you should need to printout the key use a &quot;byte array to hex string&quot; or a &quot;base64 encoded string&quot;.","body":"I don&#39;t think there is a problem with your code, but you are trying to print out an AES key as a string. An AES key is usually 16/24/32 bytes long and the byte array is filled with values of (each) 0..255 (x00 to xFF). Don&#39;t try to print out the pure byte array but use it for decryption. If you should need to printout the key use a &quot;byte array to hex string&quot; or a &quot;base64 encoded string&quot;."},{"owner":{"account_id":23507185,"reputation":1,"user_id":17556269,"display_name":"Prolahcen"},"score":0,"creation_date":1638313573,"post_id":70176543,"comment_id":124054833,"body_markdown":"Hi Michael, \n\nCan you give a simple line of command to to this base64 encoding to print it as string?","body":"Hi Michael,   Can you give a simple line of command to to this base64 encoding to print it as string?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1638324142,"post_id":70176543,"comment_id":124056737,"body_markdown":"There&#39;s no point in printing it at all since an AES key just a (in this case) 32-byte random-ish value. What is it you expect to see?","body":"There&#39;s no point in printing it at all since an AES key just a (in this case) 32-byte random-ish value. What is it you expect to see?"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1638341481,"post_id":70176543,"comment_id":124059605,"body_markdown":"Base64 usage: &quot;import java.util.Base64;&quot;, then &quot;Base64.getEncoder().encodeToString(input);&quot; where input is your byte array containing the key","body":"Base64 usage: &quot;import java.util.Base64;&quot;, then &quot;Base64.getEncoder().encodeToString(input);&quot; where input is your byte array containing the key"},{"owner":{"account_id":23507185,"reputation":1,"user_id":17556269,"display_name":"Prolahcen"},"score":0,"creation_date":1638399917,"post_id":70176543,"comment_id":124081524,"body_markdown":"Thank you, problem solved.","body":"Thank you, problem solved."}],"owner":{"account_id":23507185,"reputation":1,"user_id":17556269,"display_name":"Prolahcen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638377575,"creation_date":1638308921,"question_id":70176543,"body_markdown":"I have an encrypted string (AES key) which is already encrypted using RSA, and I would like to decrypt it using the Private Key that I have.\r\n\r\nI have implemented the following code in Java Eclipse:\r\n\r\n    StringBuilder pkcs8Lines = new StringBuilder();\r\n        BufferedReader rdr = new BufferedReader(new StringReader(P_K));\r\n        String line;\r\n        while ((line = rdr.readLine()) != null) {\r\n            pkcs8Lines.append(line);\r\n        }\r\n\r\n        // Remove the &quot;BEGIN&quot; and &quot;END&quot; lines, as well as any whitespace\r\n\r\n        String pkcs8Pem = pkcs8Lines.toString();\r\n        pkcs8Pem = pkcs8Pem.replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\r\n        pkcs8Pem = pkcs8Pem.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n        pkcs8Pem = pkcs8Pem.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\r\n\r\n        // Base64 decode the result\r\n\r\n      \r\n        byte [] pkcs8EncodedBytes = Base64.getDecoder().decode(pkcs8Pem);\r\n\r\n        // extract the private key\r\n\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(pkcs8EncodedBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PrivateKey privKey = kf.generatePrivate(keySpec);\r\n     \r\n        \r\n    \tString encryptedtxt = &quot;AprF9N/CWpReruoPb798Ncwsb5KFYO6BCH0BxeeB47dKXLMd50LSS9f07vpgw4TJRZAKfQxZgUse+laoxa0F8L6EL491ZHu50HBdONmo8iWyX1B7jYdzvlQTHxYHCUQTMqy9sCDEI0ihNqcIZFPQN3NtYyjALZ5pHHmkUvZc5E4tRRBvwSpoL2ilZdsMa6CotHtGmyB+anBXIkoJE5XfpxvOd1HtfcdEh5I+cl8fBXNq+hD3LvjMlIZzpCW5blc4dHIaMuCfdE5EV+BHW9ZK8O+3HMfnONyiFPJ+W5i8YRZ0BbbhPqJJYmyqiZLcFFAs8r4ulSE6Mf9Rcb+TanTnMQ==&quot;;\r\n    \t\r\n\r\n    \tString plainText = null;\r\n\t\t\r\n\t\t  final Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n\t\t  cipher.init(Cipher.DECRYPT_MODE, privKey);\r\n\t\t  byte[] decoded = Base64.getDecoder().decode(encryptedtxt);\r\n\t\t  byte[] decrypted = cipher.doFinal(decoded);\r\n\t\t  plainText = new String(decrypted);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Decrypted plaintext: \\n\\n&quot; + plainText);\r\n\r\nRunning this gave me this gibberish text:\r\n\r\n&gt; 4&#167;ˆZ&lt;&#239;&#239;&#216;?ž&#231;,X\\?`@fˆH?&#205;&#225;x&#214;š&#239;†˜=\r\n\r\nI tried online tools and I obtained another gibberish text:\r\n\r\n&gt; 4��Z&lt;��ؐ��,X\\�`@f�H���x֚=\r\n\r\nWhere is the problem?\r\n","title":"How to decrypt a encrypted AES key using RSA private key","body":"<p>I have an encrypted string (AES key) which is already encrypted using RSA, and I would like to decrypt it using the Private Key that I have.</p>\n<p>I have implemented the following code in Java Eclipse:</p>\n<pre><code>StringBuilder pkcs8Lines = new StringBuilder();\n    BufferedReader rdr = new BufferedReader(new StringReader(P_K));\n    String line;\n    while ((line = rdr.readLine()) != null) {\n        pkcs8Lines.append(line);\n    }\n\n    // Remove the &quot;BEGIN&quot; and &quot;END&quot; lines, as well as any whitespace\n\n    String pkcs8Pem = pkcs8Lines.toString();\n    pkcs8Pem = pkcs8Pem.replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;);\n    pkcs8Pem = pkcs8Pem.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\n    pkcs8Pem = pkcs8Pem.replaceAll(&quot;\\\\s+&quot;,&quot;&quot;);\n\n    // Base64 decode the result\n\n  \n    byte [] pkcs8EncodedBytes = Base64.getDecoder().decode(pkcs8Pem);\n\n    // extract the private key\n\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(pkcs8EncodedBytes);\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    PrivateKey privKey = kf.generatePrivate(keySpec);\n \n    \n    String encryptedtxt = &quot;AprF9N/CWpReruoPb798Ncwsb5KFYO6BCH0BxeeB47dKXLMd50LSS9f07vpgw4TJRZAKfQxZgUse+laoxa0F8L6EL491ZHu50HBdONmo8iWyX1B7jYdzvlQTHxYHCUQTMqy9sCDEI0ihNqcIZFPQN3NtYyjALZ5pHHmkUvZc5E4tRRBvwSpoL2ilZdsMa6CotHtGmyB+anBXIkoJE5XfpxvOd1HtfcdEh5I+cl8fBXNq+hD3LvjMlIZzpCW5blc4dHIaMuCfdE5EV+BHW9ZK8O+3HMfnONyiFPJ+W5i8YRZ0BbbhPqJJYmyqiZLcFFAs8r4ulSE6Mf9Rcb+TanTnMQ==&quot;;\n    \n\n    String plainText = null;\n    \n      final Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, privKey);\n      byte[] decoded = Base64.getDecoder().decode(encryptedtxt);\n      byte[] decrypted = cipher.doFinal(decoded);\n      plainText = new String(decrypted);\n    \n    System.out.println(&quot;Decrypted plaintext: \\n\\n&quot; + plainText);\n</code></pre>\n<p>Running this gave me this gibberish text:</p>\n<blockquote>\n<p>4§ˆZ&lt;ïïØ?žç,X?`@fˆH?ÍáxÖšï†˜=</p>\n</blockquote>\n<p>I tried online tools and I obtained another gibberish text:</p>\n<blockquote>\n<p>4��Z&lt;��ؐ��,X\\�`@f�H���x֚=</p>\n</blockquote>\n<p>Where is the problem?</p>\n"},{"tags":["java","class","static","inner-classes"],"comments":[{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":4,"creation_date":1399486090,"post_id":975134,"comment_id":36085917,"body_markdown":"Because now Java is that old COBOL :)","body":"Because now Java is that old COBOL :)"},{"owner":{"account_id":451370,"reputation":2890,"user_id":847235,"accept_rate":92,"display_name":"intrepidis"},"score":1,"creation_date":1486084323,"post_id":975134,"comment_id":71205498,"body_markdown":"The bottom line is: because they haven&#39;t implemented it yet.","body":"The bottom line is: because they haven&#39;t implemented it yet."},{"owner":{"account_id":2281836,"reputation":476,"user_id":2006736,"display_name":"Willie Z"},"score":0,"creation_date":1522015735,"post_id":975134,"comment_id":85965768,"body_markdown":"If you don&#39;t want to exposure your inner class to others and hope it contain static methods, you can put the modifiers both &quot;private&quot; and &quot;static&quot; on the inner class.","body":"If you don&#39;t want to exposure your inner class to others and hope it contain static methods, you can put the modifiers both &quot;private&quot; and &quot;static&quot; on the inner class."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1535328330,"post_id":975134,"comment_id":91012770,"body_markdown":"An inner class is by definition not static. You can have a static nested/member class, and a non-static nested/member class. The latter is also known as an inner class. (Reference: section 8.1.3 of the JLS states &quot;An **inner class** is a nested class that is not explicitly or implicitly declared `static`.&quot;)","body":"An inner class is by definition not static. You can have a static nested/member class, and a non-static nested/member class. The latter is also known as an inner class. (Reference: section 8.1.3 of the JLS states &quot;An <b>inner class</b> is a nested class that is not explicitly or implicitly declared <code>static</code>.&quot;)"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":3,"creation_date":1616355551,"post_id":975134,"comment_id":117970073,"body_markdown":"JDK16 fixes this problem, now you may declare static methods and field on inner classes.","body":"JDK16 fixes this problem, now you may declare static methods and field on inner classes."},{"owner":{"account_id":11774606,"reputation":1337,"user_id":10969942,"display_name":"maplemaple"},"score":0,"creation_date":1627630260,"post_id":975134,"comment_id":121211974,"body_markdown":"see [this](https://stackoverflow.com/a/65147661/10969942), JDK 16 fixes this problem.","body":"see <a href=\"https://stackoverflow.com/a/65147661/10969942\">this</a>, JDK 16 fixes this problem."}],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":8,"up_vote_count":122,"is_accepted":true,"score":114,"last_activity_date":1443183402,"creation_date":1244635357,"answer_id":975173,"question_id":975134,"body_markdown":"Because an instance of an inner class is implicitly associated with an instance of its outer class, it cannot define any static methods itself.  Since a static nested class cannot refer directly to instance variables or methods defined in its enclosing class, it can use them only through an object reference, it&#39;s safe to declare static methods in a static nested class.\r\n\r\n","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>Because an instance of an inner class is implicitly associated with an instance of its outer class, it cannot define any static methods itself.  Since a static nested class cannot refer directly to instance variables or methods defined in its enclosing class, it can use them only through an object reference, it's safe to declare static methods in a static nested class.</p>\n"},{"tags":[],"owner":{"account_id":33598,"reputation":5080,"user_id":94162,"accept_rate":78,"display_name":"B.E."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1244635835,"creation_date":1244635835,"answer_id":975208,"question_id":975134,"body_markdown":"An inner class is something completely different from a static nested class although both are similar in syntax. Static nested classes are only a means for grouping whereas inner classes have a strong association - and access to all values of - their outer class. You should be sure why you want to use an inner class and then it should come pretty natural which one you have to use. If you need to declare a static method it&#39;s probably a static nested class you want anyway.\r\n\r\n\r\n","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>An inner class is something completely different from a static nested class although both are similar in syntax. Static nested classes are only a means for grouping whereas inner classes have a strong association - and access to all values of - their outer class. You should be sure why you want to use an inner class and then it should come pretty natural which one you have to use. If you need to declare a static method it's probably a static nested class you want anyway.</p>\n"},{"tags":[],"owner":{"account_id":32722,"reputation":8502,"user_id":91012,"accept_rate":67,"display_name":"mR_fr0g"},"down_vote_count":5,"up_vote_count":2,"is_accepted":false,"score":-3,"last_activity_date":1244636058,"creation_date":1244636058,"answer_id":975220,"question_id":975134,"body_markdown":"You are allowed static methods on static nested classes. For example\r\n\r\n    public class Outer {\r\n    \r\n      public static class Inner {\r\n    \r\n        public static void method() {\r\n    \r\n        }\r\n      }\r\n    }\r\n     \r\n\r\n","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>You are allowed static methods on static nested classes. For example</p>\n\n<pre><code>public class Outer {\n\n  public static class Inner {\n\n    public static void method() {\n\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1244637096,"creation_date":1244637096,"answer_id":975281,"question_id":975134,"body_markdown":"I have a theory, which may or may not be correct.\r\n\r\nFirst, you should know some things about how inner classes are implemented in Java. Suppose you&#39;ve got this class:\r\n\r\n    class Outer {\r\n        private int foo = 0;\r\n        class Inner implements Runnable {\r\n            public void run(){ foo++; }\r\n        }\r\n        public Runnable newFooIncrementer(){ return new Inner(); }\r\n    }\r\n\r\nWhen you compile it, the generated bytecode will look as if you wrote something like this:\r\n\r\n    class Outer {\r\n        private int foo = 0;\r\n        static class Inner implements Runnable {\r\n            private final Outer this$0;\r\n            public Inner(Outer outer){\r\n                this$0 = outer;\r\n            }\r\n            public void run(){ this$0.foo++; }\r\n        }\r\n        public Runnable newFooIncrementer(){ return new Inner(this); }\r\n    }\r\n\r\nNow, if we did allow static methods in non-static inner classes, you might want to do something like this.\r\n\r\n    class Outer {\r\n        private int foo = 0;\r\n        class Inner {\r\n            public static void incrFoo(){ foo++; }\r\n        }\r\n    }\r\n\r\n... which looks fairly reasonable, as the `Inner` class seems to have one incarnation per `Outer` instance. But as we saw above, the non-static inner classes really are just syntactic sugar for static &quot;inner&quot; classes, so the last example would be approximately equivalent to:\r\n\r\n    class Outer {\r\n        private int foo = 0;\r\n        static class Inner {\r\n            private final Outer this$0;\r\n            public Inner(Outer outer){\r\n                this$0 = outer;\r\n            }\r\n            public static void incrFoo(){ this$0.foo++; }\r\n        }\r\n    }\r\n\r\n... which clearly won&#39;t work, since `this$0` is non-static. This sort of explains why static methods aren&#39;t allowed (although you could make the argument that you could allow static methods as long as they didn&#39;t reference the enclosing object), and why you can&#39;t have non-final static fields (it would be counter-intuitive if instances of non-static inner classes from different objects shared &quot;static state&quot;). It also explains why final fields *are* allowed (as long as they don&#39;t reference the enclosing object).","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>I have a theory, which may or may not be correct.</p>\n\n<p>First, you should know some things about how inner classes are implemented in Java. Suppose you've got this class:</p>\n\n<pre><code>class Outer {\n    private int foo = 0;\n    class Inner implements Runnable {\n        public void run(){ foo++; }\n    }\n    public Runnable newFooIncrementer(){ return new Inner(); }\n}\n</code></pre>\n\n<p>When you compile it, the generated bytecode will look as if you wrote something like this:</p>\n\n<pre><code>class Outer {\n    private int foo = 0;\n    static class Inner implements Runnable {\n        private final Outer this$0;\n        public Inner(Outer outer){\n            this$0 = outer;\n        }\n        public void run(){ this$0.foo++; }\n    }\n    public Runnable newFooIncrementer(){ return new Inner(this); }\n}\n</code></pre>\n\n<p>Now, if we did allow static methods in non-static inner classes, you might want to do something like this.</p>\n\n<pre><code>class Outer {\n    private int foo = 0;\n    class Inner {\n        public static void incrFoo(){ foo++; }\n    }\n}\n</code></pre>\n\n<p>... which looks fairly reasonable, as the <code>Inner</code> class seems to have one incarnation per <code>Outer</code> instance. But as we saw above, the non-static inner classes really are just syntactic sugar for static \"inner\" classes, so the last example would be approximately equivalent to:</p>\n\n<pre><code>class Outer {\n    private int foo = 0;\n    static class Inner {\n        private final Outer this$0;\n        public Inner(Outer outer){\n            this$0 = outer;\n        }\n        public static void incrFoo(){ this$0.foo++; }\n    }\n}\n</code></pre>\n\n<p>... which clearly won't work, since <code>this$0</code> is non-static. This sort of explains why static methods aren't allowed (although you could make the argument that you could allow static methods as long as they didn't reference the enclosing object), and why you can't have non-final static fields (it would be counter-intuitive if instances of non-static inner classes from different objects shared \"static state\"). It also explains why final fields <em>are</em> allowed (as long as they don't reference the enclosing object).</p>\n"},{"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"down_vote_count":8,"up_vote_count":57,"is_accepted":false,"score":49,"last_activity_date":1360627894,"creation_date":1244640179,"answer_id":975554,"question_id":975134,"body_markdown":"There&#39;s not much point to allowing a static method in a non-static inner class; how would you access it?  You cannot access (at least initially) a non-static inner class instance without going through an outer class instance.  There is no purely static way to create a non-static inner class.\r\n\r\nFor an outer class `Outer`, you can access a static method `test()` like this:\r\n\r\n    Outer.test();\r\n\r\nFor a static inner class `Inner`, you can access its static method `innerTest()` like this:\r\n\r\n    Outer.Inner.innerTest();\r\n\r\nHowever, if `Inner` is not static, there is now no purely static way to reference the method `innertest`.  Non-static inner classes are tied to a specific instance of their outer class.  A function is different from a constant, in that a reference to `Outer.Inner.CONSTANT` is guaranteed to be unambiguous in a way that a function call `Outer.Inner.staticFunction();` is not.  Let&#39;s say you have `Inner.staticFunction()` that calls `getState()`, which is defined in `Outer`.  If you try to invoke that static function, you now have an ambiguous reference to the Inner class.  That is, on which instance of the inner class do you invoke the static function?  It matters.  See, there is no truly static way to reference that static method, due to the implicit reference to the outer object.\r\n\r\nPaul Bellora is correct that the language designers could have allowed this.  They would then have to carefully disallow any access to the implicit reference to the outer class in static methods of the non-static inner class.  At this point, what is the value to this being an inner class if you cannot reference the outer class, except statically?  And if static access is fine, then why not declare the whole inner class static?  If you simply make the inner class itself static, then you have no implicit reference to the outer class, and you no longer have this ambiguity.\r\n\r\nIf you actually **need** static methods on a non-static inner class, then you probably need to rethink your design.\r\n","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>There's not much point to allowing a static method in a non-static inner class; how would you access it?  You cannot access (at least initially) a non-static inner class instance without going through an outer class instance.  There is no purely static way to create a non-static inner class.</p>\n\n<p>For an outer class <code>Outer</code>, you can access a static method <code>test()</code> like this:</p>\n\n<pre><code>Outer.test();\n</code></pre>\n\n<p>For a static inner class <code>Inner</code>, you can access its static method <code>innerTest()</code> like this:</p>\n\n<pre><code>Outer.Inner.innerTest();\n</code></pre>\n\n<p>However, if <code>Inner</code> is not static, there is now no purely static way to reference the method <code>innertest</code>.  Non-static inner classes are tied to a specific instance of their outer class.  A function is different from a constant, in that a reference to <code>Outer.Inner.CONSTANT</code> is guaranteed to be unambiguous in a way that a function call <code>Outer.Inner.staticFunction();</code> is not.  Let's say you have <code>Inner.staticFunction()</code> that calls <code>getState()</code>, which is defined in <code>Outer</code>.  If you try to invoke that static function, you now have an ambiguous reference to the Inner class.  That is, on which instance of the inner class do you invoke the static function?  It matters.  See, there is no truly static way to reference that static method, due to the implicit reference to the outer object.</p>\n\n<p>Paul Bellora is correct that the language designers could have allowed this.  They would then have to carefully disallow any access to the implicit reference to the outer class in static methods of the non-static inner class.  At this point, what is the value to this being an inner class if you cannot reference the outer class, except statically?  And if static access is fine, then why not declare the whole inner class static?  If you simply make the inner class itself static, then you have no implicit reference to the outer class, and you no longer have this ambiguity.</p>\n\n<p>If you actually <strong>need</strong> static methods on a non-static inner class, then you probably need to rethink your design.</p>\n"},{"tags":[],"owner":{"account_id":597023,"reputation":23,"user_id":285468,"display_name":"Malay"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1267631883,"creation_date":1267631883,"answer_id":2372759,"question_id":975134,"body_markdown":"suppose there are two instances of outer class &amp; they both have instantiated inner class.Now if inner class has one static member then it will keep only one copy of that member in heap area.In this case both objects of outer class will refer to this single copy &amp; they can alter it together.This can cause &quot;Dirty read&quot; situation hence to prevent this Java has applied this restriction.Another strong point to support this argument is that java allows final static members here, those whose values can&#39;t be changed from either of outer class object.\r\nPlease do let me if i am wrong.","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>suppose there are two instances of outer class &amp; they both have instantiated inner class.Now if inner class has one static member then it will keep only one copy of that member in heap area.In this case both objects of outer class will refer to this single copy &amp; they can alter it together.This can cause \"Dirty read\" situation hence to prevent this Java has applied this restriction.Another strong point to support this argument is that java allows final static members here, those whose values can't be changed from either of outer class object.\nPlease do let me if i am wrong.</p>\n"},{"tags":[],"owner":{"account_id":1148764,"reputation":16208,"user_id":1130930,"display_name":"Russell Zahniser"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326053701,"creation_date":1325716064,"answer_id":8735017,"question_id":975134,"body_markdown":"Short answer: The mental model most programmers have of how scope works is not the model used by javac. Matching the more intuitive model would have required a big change to how javac works.\r\n\r\nThe main reason that static members in inner classes are desirable is for code cleanliness - a static member used only by an inner class ought to live inside it, rather than having to be placed in the outer class. Consider:\r\n\r\n    class Outer {\r\n       int outID;\r\n\r\n       class Inner {\r\n          static int nextID;\r\n          int id = nextID++;\r\n\r\n          String getID() {\r\n             return outID + &quot;:&quot; + id;\r\n          }\r\n       }\r\n    }\r\n\r\nConsider what is going on in getID() when I use the unqualified identifier &quot;outID&quot;. The scope in which this identifier appears looks something like:\r\n\r\n    Outer -&gt; Inner -&gt; getID()\r\n\r\nHere, again because this is just how javac works, the &quot;Outer&quot; level of the scope includes both static and instance members of Outer. This is confusing because we are usually told to think of the static part of a class as another level of the scope:\r\n\r\n    Outer static -&gt; Outer instance -&gt; instanceMethod()\r\n             \\----&gt; staticMethod()\r\n\r\nIn this way of thinking about it, of course staticMethod() can only see static members of Outer. But if that were how javac works, then referencing an instance variable in a static method would result in a &quot;name cannot be resolved&quot; error. What really happens is that the name is found in scope, but then an extra level of check kicks in and figures out that the name was declared in an instance context and is being referenced from a static context.\r\n\r\nOK, how does this relate to inner classes? Naively, we think there is no reason inner classes can&#39;t have a static scope, because we are picturing the scope working like this:\r\n\r\n    Outer static -&gt; Outer instance -&gt; Inner instance -&gt; getID()\r\n             \\------ Inner static ------^\r\n\r\nIn other words, static declarations in the inner class and instance declarations in the outer class are both in scope within the instance context of the inner class, but neither of these is actually nested in the other; both are instead nested in the static scope of Outer.\r\n\r\nThat&#39;s just not how javac works - there is a single level of scope for both static and instance members, and scope always strictly nests. Even inheritance is implemented by copying declarations into the subclass rather than branching and searching the superclass scope.\r\n\r\nTo support static members of inner classes javac would have to either split static and instance scopes *and* support branching and rejoining scope hierarchies, or it would have to extend its simple boolean &quot;static context&quot; idea to change to track the type of context at all levels of nested class in the current scope.","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>Short answer: The mental model most programmers have of how scope works is not the model used by javac. Matching the more intuitive model would have required a big change to how javac works.</p>\n\n<p>The main reason that static members in inner classes are desirable is for code cleanliness - a static member used only by an inner class ought to live inside it, rather than having to be placed in the outer class. Consider:</p>\n\n<pre><code>class Outer {\n   int outID;\n\n   class Inner {\n      static int nextID;\n      int id = nextID++;\n\n      String getID() {\n         return outID + \":\" + id;\n      }\n   }\n}\n</code></pre>\n\n<p>Consider what is going on in getID() when I use the unqualified identifier \"outID\". The scope in which this identifier appears looks something like:</p>\n\n<pre><code>Outer -&gt; Inner -&gt; getID()\n</code></pre>\n\n<p>Here, again because this is just how javac works, the \"Outer\" level of the scope includes both static and instance members of Outer. This is confusing because we are usually told to think of the static part of a class as another level of the scope:</p>\n\n<pre><code>Outer static -&gt; Outer instance -&gt; instanceMethod()\n         \\----&gt; staticMethod()\n</code></pre>\n\n<p>In this way of thinking about it, of course staticMethod() can only see static members of Outer. But if that were how javac works, then referencing an instance variable in a static method would result in a \"name cannot be resolved\" error. What really happens is that the name is found in scope, but then an extra level of check kicks in and figures out that the name was declared in an instance context and is being referenced from a static context.</p>\n\n<p>OK, how does this relate to inner classes? Naively, we think there is no reason inner classes can't have a static scope, because we are picturing the scope working like this:</p>\n\n<pre><code>Outer static -&gt; Outer instance -&gt; Inner instance -&gt; getID()\n         \\------ Inner static ------^\n</code></pre>\n\n<p>In other words, static declarations in the inner class and instance declarations in the outer class are both in scope within the instance context of the inner class, but neither of these is actually nested in the other; both are instead nested in the static scope of Outer.</p>\n\n<p>That's just not how javac works - there is a single level of scope for both static and instance members, and scope always strictly nests. Even inheritance is implemented by copying declarations into the subclass rather than branching and searching the superclass scope.</p>\n\n<p>To support static members of inner classes javac would have to either split static and instance scopes <em>and</em> support branching and rejoining scope hierarchies, or it would have to extend its simple boolean \"static context\" idea to change to track the type of context at all levels of nested class in the current scope.</p>\n"},{"tags":[],"owner":{"account_id":1467412,"reputation":1095,"user_id":1379884,"accept_rate":57,"display_name":"Don Li"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1336454377,"creation_date":1336453783,"answer_id":10492875,"question_id":975134,"body_markdown":"The only reason is &quot;not a must&quot;, so why bother to support it?\r\n\r\nSyntactically,there is no reason to prohibit an inner class from having static members. Although an instance of `Inner` is associated with an instance of `Outer`, it&#39;s still possible to use `Outer.Inner.myStatic` to refer a static member of `Inner` if java decides to do so.\r\n\r\nIf you need to share something among all the instances of `Inner`, you can just put them into `Outer` as  static members. This is not worse than you use static members in `Inner`, where `Outer` can still access any private member of `Inner` anyway(does not improve encapsulation).\r\n\r\nIf you need to share something among all the instances of `Inner` created by one `outer` object,it makes more sense to put them into `Outer` class as ordinary members.\r\n\r\nI don&#39;t agree the opinion that &quot;a static nested class is pretty much just a top level class&quot;. I think its better to really regard a static nested class/inner class as a part of the outer class, because they can access outer class&#39;s private members. And members of outer class are &quot;members of inner class&quot; as well. So there is no need to support static member in inner class. An ordinary/static member in outer class will suffice.\r\n","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>The only reason is \"not a must\", so why bother to support it?</p>\n\n<p>Syntactically,there is no reason to prohibit an inner class from having static members. Although an instance of <code>Inner</code> is associated with an instance of <code>Outer</code>, it's still possible to use <code>Outer.Inner.myStatic</code> to refer a static member of <code>Inner</code> if java decides to do so.</p>\n\n<p>If you need to share something among all the instances of <code>Inner</code>, you can just put them into <code>Outer</code> as  static members. This is not worse than you use static members in <code>Inner</code>, where <code>Outer</code> can still access any private member of <code>Inner</code> anyway(does not improve encapsulation).</p>\n\n<p>If you need to share something among all the instances of <code>Inner</code> created by one <code>outer</code> object,it makes more sense to put them into <code>Outer</code> class as ordinary members.</p>\n\n<p>I don't agree the opinion that \"a static nested class is pretty much just a top level class\". I think its better to really regard a static nested class/inner class as a part of the outer class, because they can access outer class's private members. And members of outer class are \"members of inner class\" as well. So there is no need to support static member in inner class. An ordinary/static member in outer class will suffice.</p>\n"},{"tags":[],"owner":{"account_id":3927807,"reputation":265,"user_id":3247500,"accept_rate":30,"display_name":"Creative_Cimmons"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1431965017,"creation_date":1431965017,"answer_id":30307947,"question_id":975134,"body_markdown":"It is useless to have inner class members as static because you won&#39;t be able to access them in the first place.\r\n\r\nThink about this, to access a static member you use className.memberName ,, in our case , it should be something like outerclassName.innerclassName.memberName,,, now do you see why innerclass must be static....","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>It is useless to have inner class members as static because you won't be able to access them in the first place.</p>\n\n<p>Think about this, to access a static member you use className.memberName ,, in our case , it should be something like outerclassName.innerclassName.memberName,,, now do you see why innerclass must be static....</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443154677,"creation_date":1443154677,"answer_id":32774737,"question_id":975134,"body_markdown":"&gt; Why can&#39;t we have static method in a non-static inner class ?\r\n\r\n**Note:** A non-static nested class is known as inner class so you do not have `non-static inner class` as such.\r\n\r\nAn inner class instance has no existence without a corresponding instance of outer class. An inner class cannot declare static members other than compile time constants. If it were allowed then there would have been ambiguity about meaning of `static`. In that case there would have been certain confusions:\r\n\r\n 1. Does it mean there is only one instance in VM?\r\n 2. Or only one instance per outer object?\r\n\r\nThat is why the designers probably took the decision of not handling this issue at all.\r\n\r\n&gt; If I make the inner class static it works. Why ?\r\n\r\nAgain you cannot make an inner class static rather you can declare a static class as nested. In that case this nested class is actually part of outer class and can have static members without any issue.","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<blockquote>\n  <p>Why can't we have static method in a non-static inner class ?</p>\n</blockquote>\n\n<p><strong>Note:</strong> A non-static nested class is known as inner class so you do not have <code>non-static inner class</code> as such.</p>\n\n<p>An inner class instance has no existence without a corresponding instance of outer class. An inner class cannot declare static members other than compile time constants. If it were allowed then there would have been ambiguity about meaning of <code>static</code>. In that case there would have been certain confusions:</p>\n\n<ol>\n<li>Does it mean there is only one instance in VM?</li>\n<li>Or only one instance per outer object?</li>\n</ol>\n\n<p>That is why the designers probably took the decision of not handling this issue at all.</p>\n\n<blockquote>\n  <p>If I make the inner class static it works. Why ?</p>\n</blockquote>\n\n<p>Again you cannot make an inner class static rather you can declare a static class as nested. In that case this nested class is actually part of outer class and can have static members without any issue.</p>\n"},{"tags":[],"owner":{"account_id":8828229,"reputation":1,"user_id":6595731,"display_name":"Vishnu Saini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470726362,"creation_date":1470726362,"answer_id":38844222,"question_id":975134,"body_markdown":"First of all why someone want to define the static member in a non-static inner class? answer is, so that the outer class member can use those static member with the inner class name only, Right?\r\n\r\nBut for this case we can directly define the member in outer class. which will be associated with all object of inner class, within the outer class instance.\r\n\r\nlike below code,\r\n\r\n    public class Outer {\r\n    \r\n      class Inner {\r\n    \r\n        public static void method() {\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\ncan be written like this \r\n\r\n    public class Outer {\r\n    \r\n      void method() {\r\n    \r\n       }\r\n      \r\n       class Inner {\r\n    \r\n      \r\n      }\r\n    \r\n    }\r\n\r\nSo in my opinion not to complicate the code java designer is not allowing this functionality or we may see this functionality in future releases with some more features. \r\n","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>First of all why someone want to define the static member in a non-static inner class? answer is, so that the outer class member can use those static member with the inner class name only, Right?</p>\n\n<p>But for this case we can directly define the member in outer class. which will be associated with all object of inner class, within the outer class instance.</p>\n\n<p>like below code,</p>\n\n<pre><code>public class Outer {\n\n  class Inner {\n\n    public static void method() {\n\n    }\n\n  }\n\n}\n</code></pre>\n\n<p>can be written like this </p>\n\n<pre><code>public class Outer {\n\n  void method() {\n\n   }\n\n   class Inner {\n\n\n  }\n\n}\n</code></pre>\n\n<p>So in my opinion not to complicate the code java designer is not allowing this functionality or we may see this functionality in future releases with some more features. </p>\n"},{"tags":[],"owner":{"account_id":2127143,"reputation":626,"user_id":1888955,"accept_rate":59,"display_name":"user1888955"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1482372395,"creation_date":1482372395,"answer_id":41274766,"question_id":975134,"body_markdown":"Try to treat the class as a normal field, then you will understand. \r\n\r\n    //something must be static. Suppose something is an inner class, then it has static keyword which means it&#39;s a static class\r\n    Outer.something ","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>Try to treat the class as a normal field, then you will understand. </p>\n\n<pre><code>//something must be static. Suppose something is an inner class, then it has static keyword which means it's a static class\nOuter.something \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10298445,"reputation":418,"user_id":7597849,"display_name":"Doomed93"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495631269,"creation_date":1495631269,"answer_id":44159327,"question_id":975134,"body_markdown":"This topic has garnered attention from many, still I will try to explain in the most simplest of terms.\r\n\r\nFirstly, with reference to http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1, a class or interface is initialized immediately before the first occurence/invocation of any member which is preceeded by the static keyword. \r\n\r\n1. So, if we put up with a static member within an inner class, it will lead to the initialization of the inner class, not necessarily the outer/enclosing class. So, we hamper the class initialization sequence.\r\n\r\n2. Also consider the fact that a non-static inner class is associated with the instance of an enclosing/outer class. So, associating with an instance will mean, that the inner class will exist inside an Outer class instance and will be different amongst instances. \r\n\r\n**Simplifying the point, in order to access the static member we need an instance of an Outer class, from which we will again need to create an instance of non-static inner class. Static members are not supposed to be bound to instances and therefore you receive a compilation error.** ","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>This topic has garnered attention from many, still I will try to explain in the most simplest of terms.</p>\n\n<p>Firstly, with reference to <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1</a>, a class or interface is initialized immediately before the first occurence/invocation of any member which is preceeded by the static keyword. </p>\n\n<ol>\n<li><p>So, if we put up with a static member within an inner class, it will lead to the initialization of the inner class, not necessarily the outer/enclosing class. So, we hamper the class initialization sequence.</p></li>\n<li><p>Also consider the fact that a non-static inner class is associated with the instance of an enclosing/outer class. So, associating with an instance will mean, that the inner class will exist inside an Outer class instance and will be different amongst instances. </p></li>\n</ol>\n\n<p><strong>Simplifying the point, in order to access the static member we need an instance of an Outer class, from which we will again need to create an instance of non-static inner class. Static members are not supposed to be bound to instances and therefore you receive a compilation error.</strong> </p>\n"},{"tags":[],"owner":{"account_id":3032275,"reputation":210,"user_id":2571045,"display_name":"Benjamin Curtis Drake"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541891287,"creation_date":1540210732,"answer_id":52929199,"question_id":975134,"body_markdown":"From: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\r\n\r\n&gt;As with instance methods and variables, an inner class is associated with an instance of its enclosing class and has direct access to that object&#39;s methods and fields. Also, because an inner class is associated with an instance, it cannot define any static members itself.\r\n\r\nOracle&#39;s explanation is superficial and handwavy.  Since there&#39;s no technical or syntactic reason to preempt static members within an inner class (it&#39;s allowed in other languages such as C#) the Java designers&#39; motivation was likely conceptual taste and/or a matter of technical convenience.\r\n\r\nHere&#39;s my speculation:\r\n\r\nUnlike top-level classes, inner classes are instance-dependent: an inner-class instance is associated with an instance of every one of its outer classes and has direct access to their members. This is the chief motivation for having them in Java. Expressed another way: an inner class is *meant for* instantiation in the context of an outer class instance.  Without an outer class instance, an inner class ought not be any more *usable* than the other instance members of the outer class.  Let&#39;s refer to this as the **instance-dependent spirit** of inner classes.\r\n\r\nThe very nature of static members (which are NOT object-oriented) clashes with the **instance-dependent** spirit of inner classes (which IS object-oriented) because you can reference/call a static member of an inner class without an outer class instance by using the qualified inner class name.\r\n\r\nStatic variables in particular may offend in yet another way: two instances of an inner class that are associated with different instances of the outer class would share static variables. Since variables are a component of state, the two inner class instances would, in effect, share state independently of the outer class instances they&#39;re associated with.  It’s not that it’s unacceptable that static variables work this way (we accept them in Java as a sensible compromise to OOP purity), but there’s arguably a deeper offense to be had by allowing them in inner classes whose instances are already coupled with outer class instances by design.  Forbidding static members within inner classes in favor of the **instance-dependent spirit** reaps the added bonus of preempting this deeper OOP offense.\r\n\r\nOn the other hand, no such offense is entailed by static constants, which do not meaningfully constitute state and so these are allowable.  Why not forbid static constants for maximum consistency with the **instance-dependent spirit**?  Perhaps because *constants* need not take up more memory than necessary (if they&#39;re forced to be non-static then they’re copied into every inner class instance which is potentially wasteful).  Otherwise I can’t imagine the reason for the exception.\r\n\r\nIt may not be rock-solid reasoning but IMO it makes the most sense of Oracle&#39;s cursory remark on the matter.","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>From: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html</a></p>\n\n<blockquote>\n  <p>As with instance methods and variables, an inner class is associated with an instance of its enclosing class and has direct access to that object's methods and fields. Also, because an inner class is associated with an instance, it cannot define any static members itself.</p>\n</blockquote>\n\n<p>Oracle's explanation is superficial and handwavy.  Since there's no technical or syntactic reason to preempt static members within an inner class (it's allowed in other languages such as C#) the Java designers' motivation was likely conceptual taste and/or a matter of technical convenience.</p>\n\n<p>Here's my speculation:</p>\n\n<p>Unlike top-level classes, inner classes are instance-dependent: an inner-class instance is associated with an instance of every one of its outer classes and has direct access to their members. This is the chief motivation for having them in Java. Expressed another way: an inner class is <em>meant for</em> instantiation in the context of an outer class instance.  Without an outer class instance, an inner class ought not be any more <em>usable</em> than the other instance members of the outer class.  Let's refer to this as the <strong>instance-dependent spirit</strong> of inner classes.</p>\n\n<p>The very nature of static members (which are NOT object-oriented) clashes with the <strong>instance-dependent</strong> spirit of inner classes (which IS object-oriented) because you can reference/call a static member of an inner class without an outer class instance by using the qualified inner class name.</p>\n\n<p>Static variables in particular may offend in yet another way: two instances of an inner class that are associated with different instances of the outer class would share static variables. Since variables are a component of state, the two inner class instances would, in effect, share state independently of the outer class instances they're associated with.  It’s not that it’s unacceptable that static variables work this way (we accept them in Java as a sensible compromise to OOP purity), but there’s arguably a deeper offense to be had by allowing them in inner classes whose instances are already coupled with outer class instances by design.  Forbidding static members within inner classes in favor of the <strong>instance-dependent spirit</strong> reaps the added bonus of preempting this deeper OOP offense.</p>\n\n<p>On the other hand, no such offense is entailed by static constants, which do not meaningfully constitute state and so these are allowable.  Why not forbid static constants for maximum consistency with the <strong>instance-dependent spirit</strong>?  Perhaps because <em>constants</em> need not take up more memory than necessary (if they're forced to be non-static then they’re copied into every inner class instance which is potentially wasteful).  Otherwise I can’t imagine the reason for the exception.</p>\n\n<p>It may not be rock-solid reasoning but IMO it makes the most sense of Oracle's cursory remark on the matter.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616355258,"creation_date":1616355258,"answer_id":66736693,"question_id":975134,"body_markdown":"The work to add records to [JDK16][1] also mentions that static methods and fields can now be used with inner classes, even permitting `main()` to launch the class. \r\n\r\nFor example this compiles and runs in JDK16, and can select either main() to be run as `java Outer` or `java Outer$Inner`:\r\n\r\n    public class Outer {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Outer class main xxx=&quot;+Inner.xxx+&quot; nnn=&quot;+(++Inner.nnn)+&quot; iii=&quot;+(--iii));\r\n            aaa();\r\n            Inner.zzz();\r\n        }\r\n        public static void aaa() {\r\n            System.out.println(&quot;aaa() nnn=&quot;+(++Inner.nnn)+&quot; iii=&quot;+(--iii));\r\n        }\r\n        public static int iii = 100;\r\n\r\n        class Inner {\r\n            public static final String xxx= &quot;yyy&quot;;\r\n            public static int nnn = 0;\r\n\r\n            public static void zzz() {\r\n                System.out.println(&quot;zzz() &quot;+&quot; nnn=&quot;+(++nnn)+&quot; iii=&quot;+(--iii));\r\n            }\r\n            public static void main(String[] args) {\r\n                System.out.println(&quot;Inner class main xxx=&quot;+xxx+&quot; nnn=&quot;+(++nnn)+&quot; iii=&quot;+(--iii));\r\n                zzz();\r\n                aaa();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>The work to add records to <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JDK16</a> also mentions that static methods and fields can now be used with inner classes, even permitting <code>main()</code> to launch the class.</p>\n<p>For example this compiles and runs in JDK16, and can select either main() to be run as <code>java Outer</code> or <code>java Outer$Inner</code>:</p>\n<pre><code>public class Outer {\n    public static void main(String[] args) {\n        System.out.println(&quot;Outer class main xxx=&quot;+Inner.xxx+&quot; nnn=&quot;+(++Inner.nnn)+&quot; iii=&quot;+(--iii));\n        aaa();\n        Inner.zzz();\n    }\n    public static void aaa() {\n        System.out.println(&quot;aaa() nnn=&quot;+(++Inner.nnn)+&quot; iii=&quot;+(--iii));\n    }\n    public static int iii = 100;\n\n    class Inner {\n        public static final String xxx= &quot;yyy&quot;;\n        public static int nnn = 0;\n\n        public static void zzz() {\n            System.out.println(&quot;zzz() &quot;+&quot; nnn=&quot;+(++nnn)+&quot; iii=&quot;+(--iii));\n        }\n        public static void main(String[] args) {\n            System.out.println(&quot;Inner class main xxx=&quot;+xxx+&quot; nnn=&quot;+(++nnn)+&quot; iii=&quot;+(--iii));\n            zzz();\n            aaa();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27644,"reputation":8450,"user_id":73148,"accept_rate":80,"display_name":"Rahul Garg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76759,"favorite_count":0,"down_vote_count":2,"up_vote_count":155,"accepted_answer_id":975173,"answer_count":15,"score":153,"last_activity_date":1638377259,"creation_date":1244634725,"question_id":975134,"body_markdown":"Why can&#39;t we have static method in a non-static inner class?\r\n\r\n    public class Foo {\r\n        class Bar {\r\n            static void method() {} // Compiler error\r\n        }\r\n    }\r\n\r\nIf I make the inner class static it works. Why?\r\n\r\n    public class Foo {\r\n        static class Bar { // now static\r\n            static void method() {}\r\n        }\r\n    }\r\n\r\nIn Java 16+, both of these are valid.","title":"Why can&#39;t we have static method in a (non-static) inner class (pre-Java 16)?","body":"<p>Why can't we have static method in a non-static inner class?</p>\n<pre><code>public class Foo {\n    class Bar {\n        static void method() {} // Compiler error\n    }\n}\n</code></pre>\n<p>If I make the inner class static it works. Why?</p>\n<pre><code>public class Foo {\n    static class Bar { // now static\n        static void method() {}\n    }\n}\n</code></pre>\n<p>In Java 16+, both of these are valid.</p>\n"},{"tags":["java","arraylist","filter","hashmap","java-stream"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1586959238,"post_id":61230618,"comment_id":108320971,"body_markdown":"what do you mean not working ? On side not i would say to use `Set&lt;String&gt; cart;` instead of `List&lt;String&gt; cart;`","body":"what do you mean not working ? On side not i would say to use <code>Set&lt;String&gt; cart;</code> instead of <code>List&lt;String&gt; cart;</code>"},{"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"score":0,"creation_date":1586964710,"post_id":61230618,"comment_id":108324577,"body_markdown":"from OP: &quot;I want to filter this map on another ArrayList that contains productIDs so I can find all the carts that contain these products&quot; -&gt; all products from the cart must match all products from another ArrayList or some products from cart must match some products from another ArrayList?","body":"from OP: &quot;I want to filter this map on another ArrayList that contains productIDs so I can find all the carts that contain these products&quot; -&gt; all products from the cart must match all products from another ArrayList or some products from cart must match some products from another ArrayList?"},{"owner":{"account_id":17808882,"reputation":107,"user_id":12933968,"display_name":"Axel Dion"},"score":0,"creation_date":1587020778,"post_id":61230618,"comment_id":108345645,"body_markdown":"Yep, all products. For example carts = {cart1  = [1,2,3], cart2 = [1,3,4]} and cart = {1,2} then it will return cart1 because it containsAll of cart","body":"Yep, all products. For example carts = {cart1  = [1,2,3], cart2 = [1,3,4]} and cart = {1,2} then it will return cart1 because it containsAll of cart"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586960365,"creation_date":1586960365,"answer_id":61231092,"question_id":61230618,"body_markdown":"If you want to find IDs of the carts containing products _only_ in the list, this should work:\r\n```java\r\nList&lt;String&gt; cartIds = allCarts\r\n    .entrySet().stream()\r\n    .filter(e -&gt; \r\n        e.getValue().stream().allMatch(p -&gt; productIds.contains(p.getProductId())))\r\n    .map(e -&gt; e.getKey())\r\n    .collect(Collectors.toList());\r\n```\r\nSo the only difference is that I used `entrySet()` instead of `values()`.\r\n\r\nTo find carts, containing at least one product in the list, `.anyMatch` predicate needs to be used.","title":"Java Map with list value, filter on another list","body":"<p>If you want to find IDs of the carts containing products <em>only</em> in the list, this should work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; cartIds = allCarts\n    .entrySet().stream()\n    .filter(e -&gt; \n        e.getValue().stream().allMatch(p -&gt; productIds.contains(p.getProductId())))\n    .map(e -&gt; e.getKey())\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>So the only difference is that I used <code>entrySet()</code> instead of <code>values()</code>.</p>\n\n<p>To find carts, containing at least one product in the list, <code>.anyMatch</code> predicate needs to be used.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586962918,"creation_date":1586961181,"answer_id":61231374,"question_id":61230618,"body_markdown":"The following returns a list of all carts int the list that contain the specified product ids. Included is an `OrderLineDTO` class to fulfill the demo. \r\n```\r\n\t\tMap&lt;String, List&lt;OrderLineDTO&gt;&gt; allCarts = new HashMap&lt;&gt;();\r\n\t\tList&lt;String&gt; cart = new ArrayList&lt;&gt;(); // also contains fetched data for example [&quot;Product01&quot;, &quot;Product02&quot;]\r\n\t\tcart.add(&quot;ID7&quot;);\r\n\t\tcart.add(&quot;ID1&quot;);\r\n\t\tallCarts.put(&quot;cart1&quot;, List.of(new OrderLineDTO(&quot;ID1&quot;),\r\n\t\t\t\tnew OrderLineDTO(&quot;ID2&quot;)));\r\n\t\tallCarts.put(&quot;cart2&quot;, List.of(new OrderLineDTO(&quot;ID3&quot;),\r\n\t\t\t\tnew OrderLineDTO(&quot;ID5&quot;)));\r\n\t\tallCarts.put(&quot;cart3&quot;, List.of(new OrderLineDTO(&quot;ID3&quot;),\r\n\t\t\t\tnew OrderLineDTO(&quot;ID4&quot;)));\r\n\t\tallCarts.put(&quot;cart4&quot;, List.of(new OrderLineDTO(&quot;ID6&quot;),\r\n\t\t\t\tnew OrderLineDTO(&quot;ID7&quot;)));\r\n\t\t\r\n\t\tList&lt;String&gt; carts = allCarts.entrySet().stream()\r\n\t\t\t\t.filter(e -&gt; e.getValue().stream().anyMatch(\r\n\t\t\t\t\t\tprod -&gt; cart.contains(prod.getProductId())))\r\n\t\t\t\t.map(e -&gt; e.getKey()).collect(Collectors.toList());\r\n\t\t\r\n\t\tSystem.out.println(carts);\r\n\r\n\t\t\r\n```\r\nPrints\r\n```\r\n[cart1, cart4]\r\n```\r\n\t\r\n\tclass OrderLineDTO {\r\n\t\tString id;\r\n\t\t\r\n\t\tpublic OrderLineDTO(String id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String getProductId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic String toString() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t}\r\n}","title":"Java Map with list value, filter on another list","body":"<p>The following returns a list of all carts int the list that contain the specified product ids. Included is an <code>OrderLineDTO</code> class to fulfill the demo. </p>\n\n<pre><code>        Map&lt;String, List&lt;OrderLineDTO&gt;&gt; allCarts = new HashMap&lt;&gt;();\n        List&lt;String&gt; cart = new ArrayList&lt;&gt;(); // also contains fetched data for example [\"Product01\", \"Product02\"]\n        cart.add(\"ID7\");\n        cart.add(\"ID1\");\n        allCarts.put(\"cart1\", List.of(new OrderLineDTO(\"ID1\"),\n                new OrderLineDTO(\"ID2\")));\n        allCarts.put(\"cart2\", List.of(new OrderLineDTO(\"ID3\"),\n                new OrderLineDTO(\"ID5\")));\n        allCarts.put(\"cart3\", List.of(new OrderLineDTO(\"ID3\"),\n                new OrderLineDTO(\"ID4\")));\n        allCarts.put(\"cart4\", List.of(new OrderLineDTO(\"ID6\"),\n                new OrderLineDTO(\"ID7\")));\n\n        List&lt;String&gt; carts = allCarts.entrySet().stream()\n                .filter(e -&gt; e.getValue().stream().anyMatch(\n                        prod -&gt; cart.contains(prod.getProductId())))\n                .map(e -&gt; e.getKey()).collect(Collectors.toList());\n\n        System.out.println(carts);\n\n\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>[cart1, cart4]\n</code></pre>\n\n<pre><code>class OrderLineDTO {\n    String id;\n\n    public OrderLineDTO(String id) {\n        this.id = id;\n    }\n\n    public String getProductId() {\n        return id;\n    }\n\n    public String toString() {\n        return id;\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9643196,"reputation":593,"user_id":7156819,"display_name":"Răzvan Puiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586961658,"creation_date":1586961658,"answer_id":61231548,"question_id":61230618,"body_markdown":"Try to use entrySet() and anyMatch:\r\n\r\n            allCarts.entrySet().stream().filter(p -&gt; cart.stream().anyMatch(prod -&gt; p.getValue().contains(prod.get))).collect(Collectors.toList());\r\n\r\n","title":"Java Map with list value, filter on another list","body":"<p>Try to use entrySet() and anyMatch:</p>\n\n<pre><code>        allCarts.entrySet().stream().filter(p -&gt; cart.stream().anyMatch(prod -&gt; p.getValue().contains(prod.get))).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17808882,"reputation":107,"user_id":12933968,"display_name":"Axel Dion"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587020548,"creation_date":1587020548,"answer_id":61244469,"question_id":61230618,"body_markdown":"I had to use containsAll to find my answer. Thanks everyone for the help!\r\n \r\n   \r\n\r\n    List&lt;String&gt; carts = allCarts.entrySet().stream()\r\n                        .filter(e -&gt; (e.getValue().stream().map(f -&gt; f.getProductId()).collect(Collectors.toList()).containsAll(cart)))\r\n                        .map(e -&gt; e.getKey()).collect(Collectors.toList());","title":"Java Map with list value, filter on another list","body":"<p>I had to use containsAll to find my answer. Thanks everyone for the help!</p>\n\n<pre><code>List&lt;String&gt; carts = allCarts.entrySet().stream()\n                    .filter(e -&gt; (e.getValue().stream().map(f -&gt; f.getProductId()).collect(Collectors.toList()).containsAll(cart)))\n                    .map(e -&gt; e.getKey()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638376861,"creation_date":1638376861,"answer_id":70188020,"question_id":61230618,"body_markdown":"I think this one is more simple, filters if value equal x then returns a list of keys.\r\n\r\n    List&lt;String&gt; result = map.entrySet().stream()\r\n    .filter(e -&gt; e.getValue().equals(x))\r\n    .map(e -&gt; e.getKey()).collect(Collectors.toList());","title":"Java Map with list value, filter on another list","body":"<p>I think this one is more simple, filters if value equal x then returns a list of keys.</p>\n<pre><code>List&lt;String&gt; result = map.entrySet().stream()\n.filter(e -&gt; e.getValue().equals(x))\n.map(e -&gt; e.getKey()).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":17808882,"reputation":107,"user_id":12933968,"display_name":"Axel Dion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1065,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1638376861,"creation_date":1586959047,"question_id":61230618,"body_markdown":"I have looked on other topics but I cant find the solutions for my problem. I have a map that contains a key = cartID for example C01 and a ArrayList of products. I want to filter this map on another ArrayList that contains productIDs so I can find all the carts that contain these products. I have following code\r\n\r\n    Map&lt;String, List&lt;OrderLineDTO&gt;&gt; allCarts //contains data these are fetched\r\n    List&lt;String&gt; cart; //also contains fetched data for example [&quot;Product01&quot;, &quot;Product02&quot;]\r\n    \r\n    allCarts.values().stream().filter(list -&gt; list.stream().allMatch(value -&gt; cart.contains(value.getProductId()))).collect(Collectors.toList()); //filter I&#39;m using but not working\r\n\r\nAny ideas? \r\nThanks!","title":"Java Map with list value, filter on another list","body":"<p>I have looked on other topics but I cant find the solutions for my problem. I have a map that contains a key = cartID for example C01 and a ArrayList of products. I want to filter this map on another ArrayList that contains productIDs so I can find all the carts that contain these products. I have following code</p>\n\n<pre><code>Map&lt;String, List&lt;OrderLineDTO&gt;&gt; allCarts //contains data these are fetched\nList&lt;String&gt; cart; //also contains fetched data for example [\"Product01\", \"Product02\"]\n\nallCarts.values().stream().filter(list -&gt; list.stream().allMatch(value -&gt; cart.contains(value.getProductId()))).collect(Collectors.toList()); //filter I'm using but not working\n</code></pre>\n\n<p>Any ideas? \nThanks!</p>\n"},{"tags":["java","deserialization","java-9"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1521939555,"post_id":49471218,"comment_id":85945684,"body_markdown":"Why would the number go down? How would the `ObjectInputStream` know whether you keep the objects around? It&#39;s a simple counter of deserialized objects. To know whether an object has been garbage collected, it would have had to maintain a `WeakReference` to every deserialized object, and then check them all to get that count. Way overkill if not needed, so `ObjectInputStream` doesn&#39;t do that, but maybe that is what you need to do yourself.","body":"Why would the number go down? How would the <code>ObjectInputStream</code> know whether you keep the objects around? It&#39;s a simple counter of deserialized objects. To know whether an object has been garbage collected, it would have had to maintain a <code>WeakReference</code> to every deserialized object, and then check them all to get that count. Way overkill if not needed, so <code>ObjectInputStream</code> doesn&#39;t do that, but maybe that is what you need to do yourself."},{"owner":{"account_id":8497210,"reputation":173,"user_id":6371453,"display_name":"Caranown"},"score":0,"creation_date":1521969621,"post_id":49471218,"comment_id":85950880,"body_markdown":"The number going down would make more sense from a user perspective, because otherwise you&#39;d need to start with a low limit and continuously keep increasing it, so long as there is also a continuous stream of data coming in. Waiting for garbage collection doesn&#39;t really work as far as I know, because all objects are kept in the HandleTable of the ObjectInputStream, thus never collected. There may have been a mechanism to release objects from the HandleTable, but it doesn&#39;t seem like it, except to maybe use reset() on the stream, which has other complications.","body":"The number going down would make more sense from a user perspective, because otherwise you&#39;d need to start with a low limit and continuously keep increasing it, so long as there is also a continuous stream of data coming in. Waiting for garbage collection doesn&#39;t really work as far as I know, because all objects are kept in the HandleTable of the ObjectInputStream, thus never collected. There may have been a mechanism to release objects from the HandleTable, but it doesn&#39;t seem like it, except to maybe use reset() on the stream, which has other complications."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1521990657,"post_id":49471218,"comment_id":85957169,"body_markdown":"Actually, the documentation of [`setObjectInputFilter​`](https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputStream.html#setObjectInputFilter-java.io.ObjectInputFilter-) says *&quot;The number of references is the **cumulative** number of objects and references to objects already read from the stream including the current object being read&quot;*. I doubt that the functionality is intended for *continuous* streaming, so the number going down doesn&#39;t make any sense, and it would certainly go against the documented behavior.","body":"Actually, the documentation of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputStream.html#setObjectInputFilter-java.io.ObjectInputFilter-\" rel=\"nofollow noreferrer\"><code>setObjectInputFilter​</code></a> says <i>&quot;The number of references is the <b>cumulative</b> number of objects and references to objects already read from the stream including the current object being read&quot;</i>. I doubt that the functionality is intended for <i>continuous</i> streaming, so the number going down doesn&#39;t make any sense, and it would certainly go against the documented behavior."}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638376807,"creation_date":1638376807,"answer_id":70188007,"question_id":49471218,"body_markdown":"As noted in the question, `ObjectInputStream` maintains references to read objects (with the exception of those coming through `readUnshared`, through suitable `serialPersistentFields`, or similar). Data so far unread in the stream may have a backreference to any one of these objects (even if no other reference exists, so `WeakReference` is a red herring).\r\n\r\nContinuous streaming objects without a reset ***is*** a leak.\r\n\r\nI guess what the option is making an stab at mitigating is a stream using little data to create a huge number of objects, though I&#39;m guessing there is a reasonable*ish* linear factor between data size and number of objects (unless something special is going on).","title":"How to use Java 9 ObjectInputFilter size constraints?","body":"<p>As noted in the question, <code>ObjectInputStream</code> maintains references to read objects (with the exception of those coming through <code>readUnshared</code>, through suitable <code>serialPersistentFields</code>, or similar). Data so far unread in the stream may have a backreference to any one of these objects (even if no other reference exists, so <code>WeakReference</code> is a red herring).</p>\n<p>Continuous streaming objects without a reset <em><strong>is</strong></em> a leak.</p>\n<p>I guess what the option is making an stab at mitigating is a stream using little data to create a huge number of objects, though I'm guessing there is a reasonable<em>ish</em> linear factor between data size and number of objects (unless something special is going on).</p>\n"}],"owner":{"account_id":8497210,"reputation":173,"user_id":6371453,"display_name":"Caranown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1638376807,"creation_date":1521936110,"question_id":49471218,"body_markdown":"Java 9 has added some deserialization security measures to `ObjectInputStreams`, which in addition to the more widely used measures such as white/black lists for classes, also adds some size constraints: `arrayLength`​, `depth`​, `references​`, `streamBytes​`.\r\n\r\nArray length and depth are straightforward, but how would you use properly use `references`? The documentation says: `The current number of object references`, but where are those references stored? It is not the number of references currently in the InputStream. If I send a one time use instance through the stream and no longer need it, I would expect the number to go down again, at the very least when it is garbage collected. I realize ObjectStreams maintain a `HandleTable`, where instances and their references are stored by default, but even when this is circumvented by using `readUnshared/writeUnshared` the problem remains. From my testing I&#39;ve never seen the reference count ever going down (the same goes for `streamBytes`).\r\n\r\nIn case this number really does not ever go down, how would you handle an application that continuously sends data? Even if you were able to send everything `unshared` such that you could track when objects are finalized, how would you determine the `streamBytes` of that object?\r\n\r\nExample:\r\n\r\n\r\n    ObjectInputStream in; // e.g. get from a socket\r\n    in.setObjectInputFilter(new ObjectInputFilter() {\r\n\t\tpublic Status checkInput(FilterInfo fi) {\r\n            if (fi.references() &gt; 1000) return Status.REJECTED;\r\n\t\t\treturn Status.UNDECIDED;\r\n\t\t}\r\n\t});\r\n    ","title":"How to use Java 9 ObjectInputFilter size constraints?","body":"<p>Java 9 has added some deserialization security measures to <code>ObjectInputStreams</code>, which in addition to the more widely used measures such as white/black lists for classes, also adds some size constraints: <code>arrayLength</code>​, <code>depth</code>​, <code>references​</code>, <code>streamBytes​</code>.</p>\n\n<p>Array length and depth are straightforward, but how would you use properly use <code>references</code>? The documentation says: <code>The current number of object references</code>, but where are those references stored? It is not the number of references currently in the InputStream. If I send a one time use instance through the stream and no longer need it, I would expect the number to go down again, at the very least when it is garbage collected. I realize ObjectStreams maintain a <code>HandleTable</code>, where instances and their references are stored by default, but even when this is circumvented by using <code>readUnshared/writeUnshared</code> the problem remains. From my testing I've never seen the reference count ever going down (the same goes for <code>streamBytes</code>).</p>\n\n<p>In case this number really does not ever go down, how would you handle an application that continuously sends data? Even if you were able to send everything <code>unshared</code> such that you could track when objects are finalized, how would you determine the <code>streamBytes</code> of that object?</p>\n\n<p>Example:</p>\n\n<pre><code>ObjectInputStream in; // e.g. get from a socket\nin.setObjectInputFilter(new ObjectInputFilter() {\n    public Status checkInput(FilterInfo fi) {\n        if (fi.references() &gt; 1000) return Status.REJECTED;\n        return Status.UNDECIDED;\n    }\n});\n</code></pre>\n"},{"tags":["java","resources","micronaut"],"answers":[{"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638376704,"creation_date":1566244006,"answer_id":57563048,"question_id":57510886,"body_markdown":"There is no equivalent of the `Resource` interface, however you can retrieve resources in URL format.\r\n\r\nInject a `io.micronaut.context.env.ResourceLoader`. It has `Stream&lt;URL&gt; getResources(String name)`\r\n\r\nEDIT: An example\r\n\r\n```\r\nresourceLoader.getResources(&quot;some/directory/test.txt&quot;)\r\n```","title":"Micronaut list resources files","body":"<p>There is no equivalent of the <code>Resource</code> interface, however you can retrieve resources in URL format.</p>\n<p>Inject a <code>io.micronaut.context.env.ResourceLoader</code>. It has <code>Stream&lt;URL&gt; getResources(String name)</code></p>\n<p>EDIT: An example</p>\n<pre><code>resourceLoader.getResources(&quot;some/directory/test.txt&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17369937,"reputation":61,"user_id":12584290,"display_name":"doodzio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577099376,"creation_date":1577099376,"answer_id":59454290,"question_id":57510886,"body_markdown":"check [PathMatchingResourcePatternResolver][1]\r\nfrom io.micronaut.cli.io.support;\r\n\r\n\r\n  [1]: https://docs.micronaut.io/1.1.2/api/io/micronaut/cli/io/support/PathMatchingResourcePatternResolver.html","title":"Micronaut list resources files","body":"<p>check <a href=\"https://docs.micronaut.io/1.1.2/api/io/micronaut/cli/io/support/PathMatchingResourcePatternResolver.html\" rel=\"nofollow noreferrer\">PathMatchingResourcePatternResolver</a>\nfrom io.micronaut.cli.io.support;</p>\n"}],"owner":{"account_id":1573514,"reputation":1365,"user_id":1460643,"accept_rate":56,"display_name":"Aliaksei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57563048,"answer_count":2,"score":1,"last_activity_date":1638376704,"creation_date":1565877810,"question_id":57510886,"body_markdown":"In spring I can use **ResourceLoader** and **ResourcePatternUtils**: \r\n\r\n    class Foobar {\r\n        private ResourceLoader resourceLoader;\r\n    \r\n        @Autowired\r\n        public Foobar(ResourceLoader resourceLoader) {\r\n            this.resourceLoader = resourceLoader;\r\n        }\r\n    \r\n        Resource[] loadResources(String pattern) throws IOException {\r\n            return ResourcePatternUtils.getResourcePatternResolver(resourceLoader).getResources(pattern);\r\n        }\r\n    }\r\n\r\nand use it\r\n\r\n    Resource[] resources = foobar.loadResources(&quot;classpath*:../../dir/*.txt&quot;);\r\n\r\nHow I can do it in Micronaut?\r\n\r\nI find one solution\r\nhttps://stackoverflow.com/questions/53370135/is-there-an-equivalent-for-springs-resource-in-micronaut\r\n\r\n\r\nADD\r\n\r\n        @Inject\r\n        private DefaultClassPathResourceLoader resourceLoader;\r\n    \r\n    ...\r\n            Stream&lt;URL&gt; currencyStream = resourceLoader.getResources(&quot;currency/*.json&quot;);\r\n            long count = currencyStream.count();\r\n    ...\r\n\r\nBut count always 0 =(\r\n\r\n","title":"Micronaut list resources files","body":"<p>In spring I can use <strong>ResourceLoader</strong> and <strong>ResourcePatternUtils</strong>: </p>\n\n<pre><code>class Foobar {\n    private ResourceLoader resourceLoader;\n\n    @Autowired\n    public Foobar(ResourceLoader resourceLoader) {\n        this.resourceLoader = resourceLoader;\n    }\n\n    Resource[] loadResources(String pattern) throws IOException {\n        return ResourcePatternUtils.getResourcePatternResolver(resourceLoader).getResources(pattern);\n    }\n}\n</code></pre>\n\n<p>and use it</p>\n\n<pre><code>Resource[] resources = foobar.loadResources(\"classpath*:../../dir/*.txt\");\n</code></pre>\n\n<p>How I can do it in Micronaut?</p>\n\n<p>I find one solution\n<a href=\"https://stackoverflow.com/questions/53370135/is-there-an-equivalent-for-springs-resource-in-micronaut\">Is there an equivalent for Springs Resource in Micronaut?</a></p>\n\n<p>ADD</p>\n\n<pre><code>    @Inject\n    private DefaultClassPathResourceLoader resourceLoader;\n\n...\n        Stream&lt;URL&gt; currencyStream = resourceLoader.getResources(\"currency/*.json\");\n        long count = currencyStream.count();\n...\n</code></pre>\n\n<p>But count always 0 =(</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1637862748,"post_id":70115440,"comment_id":123944712,"body_markdown":"DId you try just calling the constructor with an array of values? Something like `Rara r = new Rara(values);`.","body":"DId you try just calling the constructor with an array of values? Something like <code>Rara r = new Rara(values);</code>."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1637862818,"post_id":70115440,"comment_id":123944749,"body_markdown":"You can&#39;t call `enum` constructor directly.","body":"You can&#39;t call <code>enum</code> constructor directly."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1637862886,"post_id":70115440,"comment_id":123944770,"body_markdown":"@talex Thanks for the clarification. What can you do instead?","body":"@talex Thanks for the clarification. What can you do instead?"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1637862959,"post_id":70115440,"comment_id":123944799,"body_markdown":"I am a bit confused, do you want to parse the data coming from the frontend or do you want to provide data in a different format to the frontend?","body":"I am a bit confused, do you want to parse the data coming from the frontend or do you want to provide data in a different format to the frontend?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1637863045,"post_id":70115440,"comment_id":123944832,"body_markdown":"@Jo&#227;oDias: Data comes either MGST or comes in group of Two or Three or four from front end or from anywhere. I will have LIst in my hand. I jus want to pass that in enum and enum shall return results. \n\nValues are already defined inside Enum(&quot;MGST&quot;) or Enum(&quot;&quot;,&quot;&quot;). So i just want to do tweak within enum so it shall return value based on values i supply. Is it possible?","body":"@Jo&#227;oDias: Data comes either MGST or comes in group of Two or Three or four from front end or from anywhere. I will have LIst in my hand. I jus want to pass that in enum and enum shall return results.   Values are already defined inside Enum(&quot;MGST&quot;) or Enum(&quot;&quot;,&quot;&quot;). So i just want to do tweak within enum so it shall return value based on values i supply. Is it possible?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1637863145,"post_id":70115440,"comment_id":123944869,"body_markdown":"@talex: Even if i write method within enum. How can this achievable.","body":"@talex: Even if i write method within enum. How can this achievable."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637863135,"creation_date":1637863135,"answer_id":70115530,"question_id":70115440,"body_markdown":"Only way is to iterate trough `Rara.value` and compare lists.","title":"How to compare list of string with enum string values without Map or switch case?","body":"<p>Only way is to iterate trough <code>Rara.value</code> and compare lists.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637866541,"creation_date":1637863753,"answer_id":70115626,"question_id":70115440,"body_markdown":"The following should work:\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\npublic enum Rara {\r\n    MAG_STRIPE_ONLY(&quot;MGST&quot;),\r\n    MAG_STRIPE_MANUAL(&quot;MGST&quot;, &quot;PHYS&quot;),\r\n    MAG_STRIPE_MANUAL_CHIP(&quot;MGST&quot;, &quot;PHYS&quot;, &quot;CICC&quot;),\r\n    BARCODE(&quot;BRCD&quot;);\r\n\r\n    Rara(String... codes) {\r\n        this.codes = List.of(codes);\r\n    }\r\n\r\n    private List&lt;String&gt; codes;\r\n\r\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\r\n        return Arrays.stream(values())\r\n                .filter(rara -&gt; rara.codes.stream().anyMatch(values::contains))\r\n                .findFirst();\r\n    }\r\n}\r\n```\r\n\r\nYou basically need to iterate over the list of codes for each `Rara` and check if they match any of the provided `values`. If they do you simply return the first one (`Optional` because you might find none). Without further requirements on what to do when to find multiple `Rare` matches or what to do if none is found, this is the best we can suggest to you.\r\n\r\n\r\n----------\r\n\r\n\r\nGiven that you want a full match between `values` and `codes`, you need to use another `filter` predicate as follows:\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\npublic enum Rara {\r\n    MAG_STRIPE_ONLY(&quot;MGST&quot;),\r\n    MAG_STRIPE_MANUAL(&quot;MGST&quot;, &quot;PHYS&quot;),\r\n    MAG_STRIPE_MANUAL_CHIP(&quot;MGST&quot;, &quot;PHYS&quot;, &quot;CICC&quot;),\r\n    BARCODE(&quot;BRCD&quot;);\r\n\r\n    Rara(String... codes) {\r\n        this.codes = List.of(codes);\r\n    }\r\n\r\n    private List&lt;String&gt; codes;\r\n\r\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\r\n        return Arrays.stream(values())\r\n                .filter(rara -&gt; rara.codes.containsAll(values))\r\n                .findFirst();\r\n    }\r\n}\r\n```\r\n\r\nThe code bellow shows that this is in fact working:\r\n```java\r\npublic class Main {\r\n    public static void main(String args[]){\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;MGST&quot;, &quot;PHYS&quot;)));  \r\n              // Optional[MAG_STRIPE_MANUAL]\r\n\r\n        System.out.println(Rara.getValue(Arrays.asList(&quot;MGST&quot;)));  \r\n              // Optional[MAG_STRIPE_ONLY]\r\n    }\r\n}\r\n```\r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n\r\n  [1]: https://ideone.com/uGj1vV","title":"How to compare list of string with enum string values without Map or switch case?","body":"<p>The following should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n\npublic enum Rara {\n    MAG_STRIPE_ONLY(&quot;MGST&quot;),\n    MAG_STRIPE_MANUAL(&quot;MGST&quot;, &quot;PHYS&quot;),\n    MAG_STRIPE_MANUAL_CHIP(&quot;MGST&quot;, &quot;PHYS&quot;, &quot;CICC&quot;),\n    BARCODE(&quot;BRCD&quot;);\n\n    Rara(String... codes) {\n        this.codes = List.of(codes);\n    }\n\n    private List&lt;String&gt; codes;\n\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\n        return Arrays.stream(values())\n                .filter(rara -&gt; rara.codes.stream().anyMatch(values::contains))\n                .findFirst();\n    }\n}\n</code></pre>\n<p>You basically need to iterate over the list of codes for each <code>Rara</code> and check if they match any of the provided <code>values</code>. If they do you simply return the first one (<code>Optional</code> because you might find none). Without further requirements on what to do when to find multiple <code>Rare</code> matches or what to do if none is found, this is the best we can suggest to you.</p>\n<hr />\n<p>Given that you want a full match between <code>values</code> and <code>codes</code>, you need to use another <code>filter</code> predicate as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n\npublic enum Rara {\n    MAG_STRIPE_ONLY(&quot;MGST&quot;),\n    MAG_STRIPE_MANUAL(&quot;MGST&quot;, &quot;PHYS&quot;),\n    MAG_STRIPE_MANUAL_CHIP(&quot;MGST&quot;, &quot;PHYS&quot;, &quot;CICC&quot;),\n    BARCODE(&quot;BRCD&quot;);\n\n    Rara(String... codes) {\n        this.codes = List.of(codes);\n    }\n\n    private List&lt;String&gt; codes;\n\n    public static Optional&lt;Rara&gt; getValue(List&lt;String&gt; values){\n        return Arrays.stream(values())\n                .filter(rara -&gt; rara.codes.containsAll(values))\n                .findFirst();\n    }\n}\n</code></pre>\n<p>The code bellow shows that this is in fact working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String args[]){\n        System.out.println(Rara.getValue(Arrays.asList(&quot;MGST&quot;, &quot;PHYS&quot;)));  \n              // Optional[MAG_STRIPE_MANUAL]\n\n        System.out.println(Rara.getValue(Arrays.asList(&quot;MGST&quot;)));  \n              // Optional[MAG_STRIPE_ONLY]\n    }\n}\n</code></pre>\n<p>See this <a href=\"https://ideone.com/uGj1vV\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70115626,"answer_count":2,"score":0,"last_activity_date":1638376408,"creation_date":1637862585,"question_id":70115440,"body_markdown":"In Enum i defined string values like\r\n\r\n    public enum Rara{\r\n      MA_ON(&quot;MO&quot;),\r\n      MA_MAN(&quot;MG&quot;, &quot;PH&quot;),\r\n      MA_IP(&quot;MG&quot;, &quot;PH&quot;, &quot;IC&quot;),\r\n      BAR(&quot;RC&quot;);\r\n      Rara(String... s){\r\n           //What here?\r\n      }\r\n      public Rara getValue(List&lt;Val&gt; v){\r\n            //What here?\r\n      }\r\n    }\r\n\r\nFrom front end i am getting data like\r\n\r\n    &lt;val&gt;MO&lt;val&gt;\r\n    &lt;val&gt;PH&lt;/val&gt;  &lt;--- This shall return MA_MAN from Enum\r\n\r\nor we get data like\r\n\r\n    &lt;val&gt;MO&lt;/val&gt; &lt;---- This shall return MA_ON\r\n\r\nIs there any tweak to do inside enum itself without using Map or switchcase but only with value parameters\r\n\r\nso that i supply say List&lt;Val&gt; and it should return appropriate Enum Value?","title":"How to compare list of string with enum string values without Map or switch case?","body":"<p>In Enum i defined string values like</p>\n<pre><code>public enum Rara{\n  MA_ON(&quot;MO&quot;),\n  MA_MAN(&quot;MG&quot;, &quot;PH&quot;),\n  MA_IP(&quot;MG&quot;, &quot;PH&quot;, &quot;IC&quot;),\n  BAR(&quot;RC&quot;);\n  Rara(String... s){\n       //What here?\n  }\n  public Rara getValue(List&lt;Val&gt; v){\n        //What here?\n  }\n}\n</code></pre>\n<p>From front end i am getting data like</p>\n<pre><code>&lt;val&gt;MO&lt;val&gt;\n&lt;val&gt;PH&lt;/val&gt;  &lt;--- This shall return MA_MAN from Enum\n</code></pre>\n<p>or we get data like</p>\n<pre><code>&lt;val&gt;MO&lt;/val&gt; &lt;---- This shall return MA_ON\n</code></pre>\n<p>Is there any tweak to do inside enum itself without using Map or switchcase but only with value parameters</p>\n<p>so that i supply say List and it should return appropriate Enum Value?</p>\n"},{"tags":["java","android","url","browser-history","android-browser"],"comments":[{"owner":{"account_id":65347,"reputation":56309,"user_id":192373,"accept_rate":74,"display_name":"Alex Cohn"},"score":0,"creation_date":1394709769,"post_id":18601038,"comment_id":34015504,"body_markdown":"The content resolver is working as expected: press back does not reload the `www.google.com` page, but reads it from the cache. Same happens when the user switches the tab: the history shows the latest loaded URL, not necessarily the one that is displayed. You can keep track of current URL in a WebView embedded into your app.","body":"The content resolver is working as expected: press back does not reload the <code>www.google.com</code> page, but reads it from the cache. Same happens when the user switches the tab: the history shows the latest loaded URL, not necessarily the one that is displayed. You can keep track of current URL in a WebView embedded into your app."},{"owner":{"account_id":2462887,"reputation":511,"user_id":2146635,"accept_rate":25,"display_name":"Michael Gregorov"},"score":0,"creation_date":1394715500,"post_id":18601038,"comment_id":34019543,"body_markdown":"I&#39;m not working with a WebView embedded in my app.\nI&#39;m trying to find the current web page of the Android browser app.","body":"I&#39;m not working with a WebView embedded in my app. I&#39;m trying to find the current web page of the Android browser app."},{"owner":{"account_id":2610782,"reputation":2381,"user_id":2260916,"accept_rate":68,"display_name":"Nanoc"},"score":0,"creation_date":1434714898,"post_id":18601038,"comment_id":49909773,"body_markdown":"I think thats outside of a normal app function, usually you cant access another app data unless it provides it by some way, getting browser history seems the only thing you can do.","body":"I think thats outside of a normal app function, usually you cant access another app data unless it provides it by some way, getting browser history seems the only thing you can do."}],"answers":[{"tags":[],"owner":{"account_id":3134264,"reputation":185,"user_id":2651125,"display_name":"Bala Subramanyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378241341,"creation_date":1378241341,"answer_id":18601208,"question_id":18601038,"body_markdown":"I think you did not have gone through the following approah. once try it!\r\nYou can access Browsing history the same way you do that for other ContentProviders. Besides browsing history you can also get list of Bookmarks. \r\n\r\n    Cursor webLinksCursor = getContentResolver().query(Browser.BOOKMARKS_URI, Browser.HISTORY_PROJECTION, null, null, Browser.BookmarkColumns.DATE + &quot; DESC&quot;);\r\n    int row_count = webLinksCursor.getCount();\r\n    \r\n    int title_column_index = webLinksCursor.getColumnIndexOrThrow(Browser.BookmarkColumns.TITLE);\r\n    int url_column_index = webLinksCursor.getColumnIndexOrThrow(Browser.BookmarkColumns.URL);\r\n    \r\n    if ((title_column_index &gt; -1) &amp;&amp; (url_column_index &gt; -1) &amp;&amp; (row_count &gt; 0))\r\n    {\r\n        webLinksCursor.moveToFirst();\r\n        while (webLinksCursor.isAfterLast() == false)\r\n        {\r\n            if (webLinksCursor.getInt(Browser.HISTORY_PROJECTION_BOOKMARK_INDEX) != 1)\r\n            {\r\n                if (!webLinksCursor.isNull(url_column_index))\r\n                {\r\n                    Log.i(&quot;History&quot; , &quot;Last page browsed &quot; + webLinksCursor.getString(url_column_index));\r\n                    break;\r\n                }\r\n            }\r\n            webLinksCursor.moveToNext();\r\n        }            \r\n    }\r\n    webLinksCursor.close();\r\n\r\nand you need the permission also\r\n\r\n    com.android.browser.permission.READ_HISTORY_BOOKMARKS","title":"Getting the current URL in an Android browser","body":"<p>I think you did not have gone through the following approah. once try it!\nYou can access Browsing history the same way you do that for other ContentProviders. Besides browsing history you can also get list of Bookmarks. </p>\n\n<pre><code>Cursor webLinksCursor = getContentResolver().query(Browser.BOOKMARKS_URI, Browser.HISTORY_PROJECTION, null, null, Browser.BookmarkColumns.DATE + \" DESC\");\nint row_count = webLinksCursor.getCount();\n\nint title_column_index = webLinksCursor.getColumnIndexOrThrow(Browser.BookmarkColumns.TITLE);\nint url_column_index = webLinksCursor.getColumnIndexOrThrow(Browser.BookmarkColumns.URL);\n\nif ((title_column_index &gt; -1) &amp;&amp; (url_column_index &gt; -1) &amp;&amp; (row_count &gt; 0))\n{\n    webLinksCursor.moveToFirst();\n    while (webLinksCursor.isAfterLast() == false)\n    {\n        if (webLinksCursor.getInt(Browser.HISTORY_PROJECTION_BOOKMARK_INDEX) != 1)\n        {\n            if (!webLinksCursor.isNull(url_column_index))\n            {\n                Log.i(\"History\" , \"Last page browsed \" + webLinksCursor.getString(url_column_index));\n                break;\n            }\n        }\n        webLinksCursor.moveToNext();\n    }            \n}\nwebLinksCursor.close();\n</code></pre>\n\n<p>and you need the permission also</p>\n\n<pre><code>com.android.browser.permission.READ_HISTORY_BOOKMARKS\n</code></pre>\n"}],"owner":{"account_id":2462887,"reputation":511,"user_id":2146635,"accept_rate":25,"display_name":"Michael Gregorov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5744,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1638376353,"creation_date":1378240626,"question_id":18601038,"body_markdown":"I&#39;m searching for a way to get the current URL a user is visiting on the android browser application.\r\nI figured out that I can get the last visited URL from the `Browser.BOOKMARKS_URI` database using the following technique:\r\n\r\n    Cursor cursor = context.getContentResolver().query(Browser.BOOKMARKS_URI,\r\n            Browser.HISTORY_PROJECTION, null, null,\r\n            Browser.BookmarkColumns.DATE + &quot; DESC&quot;);\r\n    cursor.moveToNext();\r\n    String url = cursor.getString(Browser.HISTORY_PROJECTION_URL_INDEX);\r\n    cursor.close();\r\n\r\nThe problem with this, is that the `Browser.BOOKMARKS_URI` db doesn&#39;t get updated when the user presses back in order to navigate to the previous page in the browser, and the query returns incorrect results.\r\n\r\nSee the following example:\r\n\r\n1. user navigates to www.google.com -&gt; &lt;b&gt;Query returns &quot;www.google.com&quot;&lt;/b&gt;\r\n2. user navigates to www.imdb.com -&gt; &lt;b&gt;Query returns &quot;www.imdb.com&quot;&lt;/b&gt;\r\n3. user presses back to return to www.google.com -&gt; &lt;b&gt;Query returns &quot;www.imdb.com&quot; (!!)&lt;/b&gt;\r\n\r\nDoes anyone have any idea how to return the correct url a user is viewing?","title":"Getting the current URL in an Android browser","body":"<p>I'm searching for a way to get the current URL a user is visiting on the android browser application.\nI figured out that I can get the last visited URL from the <code>Browser.BOOKMARKS_URI</code> database using the following technique:</p>\n\n<pre><code>Cursor cursor = context.getContentResolver().query(Browser.BOOKMARKS_URI,\n        Browser.HISTORY_PROJECTION, null, null,\n        Browser.BookmarkColumns.DATE + \" DESC\");\ncursor.moveToNext();\nString url = cursor.getString(Browser.HISTORY_PROJECTION_URL_INDEX);\ncursor.close();\n</code></pre>\n\n<p>The problem with this, is that the <code>Browser.BOOKMARKS_URI</code> db doesn't get updated when the user presses back in order to navigate to the previous page in the browser, and the query returns incorrect results.</p>\n\n<p>See the following example:</p>\n\n<ol>\n<li>user navigates to www.google.com -> <b>Query returns \"www.google.com\"</b></li>\n<li>user navigates to www.imdb.com -> <b>Query returns \"www.imdb.com\"</b></li>\n<li>user presses back to return to www.google.com -> <b>Query returns \"www.imdb.com\" (!!)</b></li>\n</ol>\n\n<p>Does anyone have any idea how to return the correct url a user is viewing?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":3,"creation_date":1638296490,"post_id":70174242,"comment_id":124049304,"body_markdown":"Why are you extending `RuntimeException`?","body":"Why are you extending <code>RuntimeException</code>?"},{"owner":{"account_id":14805024,"reputation":11,"user_id":15284099,"display_name":"Cleverton In&#225;cio"},"score":0,"creation_date":1638296739,"post_id":70174242,"comment_id":124049389,"body_markdown":"It was one of the attempts to mitigate the problem, but without success. I just forgot to remove","body":"It was one of the attempts to mitigate the problem, but without success. I just forgot to remove"},{"owner":{"account_id":14805024,"reputation":11,"user_id":15284099,"display_name":"Cleverton In&#225;cio"},"score":0,"creation_date":1638297019,"post_id":70174242,"comment_id":124049492,"body_markdown":"No advances. still remains on the same screen","body":"No advances. still remains on the same screen"}],"answers":[{"tags":[],"owner":{"account_id":14805024,"reputation":11,"user_id":15284099,"display_name":"Cleverton In&#225;cio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638376164,"creation_date":1638376164,"answer_id":70187856,"question_id":70174242,"body_markdown":"I finally understood what was going on. The fact that javascript makes the request and triggers the error in order to return the message made calling the view in the treatment method unnecessary. What I did was treatment with ajax making the page call in case of request error.\r\n\r\n```js\r\n$.ajaxSetup({\r\n        error: function (x) {\r\n            if (x.status == 500) {\r\n                window.location.replace(&quot;vixe&quot;)\r\n            }\r\n        }\r\n    });\r\n```\r\nSo, if I call at page load or at the end of requests, the error checking is done and the error screen is triggered.\r\n","title":"Trying to redirect view after exception with Spring Boot","body":"<p>I finally understood what was going on. The fact that javascript makes the request and triggers the error in order to return the message made calling the view in the treatment method unnecessary. What I did was treatment with ajax making the page call in case of request error.</p>\n<pre class=\"lang-js prettyprint-override\"><code>$.ajaxSetup({\n        error: function (x) {\n            if (x.status == 500) {\n                window.location.replace(&quot;vixe&quot;)\n            }\n        }\n    });\n</code></pre>\n<p>So, if I call at page load or at the end of requests, the error checking is done and the error screen is triggered.</p>\n"}],"owner":{"account_id":14805024,"reputation":11,"user_id":15284099,"display_name":"Cleverton In&#225;cio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70187856,"answer_count":1,"score":0,"last_activity_date":1638376164,"creation_date":1638296386,"question_id":70174242,"body_markdown":"I&#39;m having trouble redirecting any exception to an error page. When the error occurs, the method is called, but there is no redirection of the page, continuing in the same one that performs the action. The method code looks like this:\r\n```\r\n@ControllerAdvice\r\npublic class GlobalExceptionHandler extends RuntimeException {\r\n\r\n    private Logger logger = Logger.getLogger(GlobalExceptionHandler.class);\r\n\r\n    @ExceptionHandler(value = Exception.class)\r\n    public ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) throws Exception{\r\n        logger.info(&quot;Tratando erro de exception.&quot;);\r\n        logger.error(&quot;ERRO: &quot; + e);\r\n\r\n        ModelAndView mav = new ModelAndView();\r\n        mav.setViewName(&quot;vixe&quot;);\r\n        return mav;\r\n    }\r\n}\r\n```\r\nThe screenshot shows that the exception occurred at runtime, but nothing changes on the page:\r\n[Runtime error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gGW8G.png","title":"Trying to redirect view after exception with Spring Boot","body":"<p>I'm having trouble redirecting any exception to an error page. When the error occurs, the method is called, but there is no redirection of the page, continuing in the same one that performs the action. The method code looks like this:</p>\n<pre><code>@ControllerAdvice\npublic class GlobalExceptionHandler extends RuntimeException {\n\n    private Logger logger = Logger.getLogger(GlobalExceptionHandler.class);\n\n    @ExceptionHandler(value = Exception.class)\n    public ModelAndView defaultErrorHandler(HttpServletRequest req, Exception e) throws Exception{\n        logger.info(&quot;Tratando erro de exception.&quot;);\n        logger.error(&quot;ERRO: &quot; + e);\n\n        ModelAndView mav = new ModelAndView();\n        mav.setViewName(&quot;vixe&quot;);\n        return mav;\n    }\n}\n</code></pre>\n<p>The screenshot shows that the exception occurred at runtime, but nothing changes on the page:\n<a href=\"https://i.stack.imgur.com/gGW8G.png\" rel=\"nofollow noreferrer\">Runtime error</a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3310271,"reputation":160,"user_id":2783969,"accept_rate":50,"display_name":"Sunil Kumar"},"score":0,"creation_date":1638377098,"post_id":70187841,"comment_id":124073344,"body_markdown":"this basically looks like a design question: in a distributed environment, you can call a REST API and API shall return with 200 OK or basic validation failed messages \nthen underneath code can \nPATCH the update to a REST endpoint or \nwrite to KAFKA topic \ndepends on your architecture and use case","body":"this basically looks like a design question: in a distributed environment, you can call a REST API and API shall return with 200 OK or basic validation failed messages  then underneath code can  PATCH the update to a REST endpoint or  write to KAFKA topic  depends on your architecture and use case"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1638377265,"post_id":70187841,"comment_id":124073427,"body_markdown":"Use @Async to fire and return immediately.  You&#39;ll have to decide on a strategy for dealing with exceptions.  For example, 1) try again; 2) trigger an alert for a human to deal with; 3) invoke a callback and let app1 deal with it; 4) not critical so ignore the exception; 5) ...","body":"Use @Async to fire and return immediately.  You&#39;ll have to decide on a strategy for dealing with exceptions.  For example, 1) try again; 2) trigger an alert for a human to deal with; 3) invoke a callback and let app1 deal with it; 4) not critical so ignore the exception; 5) ..."},{"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"score":0,"creation_date":1638452805,"post_id":70187841,"comment_id":124095621,"body_markdown":"@AndrewS But a rest call in a thread started from &quot;@Async&quot; is also waiting for a response, isn&#39;t it? Isn&#39;t there a way to really fire and forget a rest call?","body":"@AndrewS But a rest call in a thread started from &quot;@Async&quot; is also waiting for a response, isn&#39;t it? Isn&#39;t there a way to really fire and forget a rest call?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1638543679,"post_id":70187841,"comment_id":124124105,"body_markdown":"@Async will run on a different thread, which allows the original rest call to return immediately. The response could just be an http OK indicating the call was successful (which is unrelated to the eventual result of the method running in some other thread).","body":"@Async will run on a different thread, which allows the original rest call to return immediately. The response could just be an http OK indicating the call was successful (which is unrelated to the eventual result of the method running in some other thread)."},{"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"score":0,"creation_date":1638775850,"post_id":70187841,"comment_id":124168887,"body_markdown":"@AndrewS I understand thank you for explanation. But what I mean is, that the (async) method running in some other thread would wait then for a response of a rest call (instead of the original), right?","body":"@AndrewS I understand thank you for explanation. But what I mean is, that the (async) method running in some other thread would wait then for a response of a rest call (instead of the original), right?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1638806888,"post_id":70187841,"comment_id":124179900,"body_markdown":"not sure what you mean, but app1 -&gt; app2.  where app2 has an async method so some response (such as just an HTTP OK with no body) is sent immediately back to app1.  Meanwhile (in the other thread), app2 -&gt; app3, and eventually app3 returns a response to app2.","body":"not sure what you mean, but app1 -&gt; app2.  where app2 has an async method so some response (such as just an HTTP OK with no body) is sent immediately back to app1.  Meanwhile (in the other thread), app2 -&gt; app3, and eventually app3 returns a response to app2."}],"owner":{"account_id":23296161,"reputation":62,"user_id":17377539,"display_name":"Cat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638376114,"creation_date":1638376114,"question_id":70187841,"body_markdown":"I am looking for a possibility to make non-blocking rest calls from a thread in spring boot like &quot;fire-and-forget&quot;.\r\n\r\nI somehow expected to be able to just configure RestTemplate to execute requests without waiting for the response, but apparently it&#39;s not that easy.\r\n\r\nOf course I have found @Async asking Google. But the problem in my case is, that sometimes at the end of my rest-api-call-chain (app1 -&gt; app2 -&gt; app3 -&gt; return to app2 -&gt; return to app1), something can fail without a direct exception. (I know this is also a problem.) But so the thread in the first position is waiting and waiting and never dies and just blocks following requests. And this I want to avoid by sending requests from app1 to app2 without waiting for a response, to not block the thread pool.\r\n\r\nIs there another possibility than @Async? Or any other ways I am missing?\r\n\r\n","title":"Spring Boot Fire and Forget Rest Calls","body":"<p>I am looking for a possibility to make non-blocking rest calls from a thread in spring boot like &quot;fire-and-forget&quot;.</p>\n<p>I somehow expected to be able to just configure RestTemplate to execute requests without waiting for the response, but apparently it's not that easy.</p>\n<p>Of course I have found @Async asking Google. But the problem in my case is, that sometimes at the end of my rest-api-call-chain (app1 -&gt; app2 -&gt; app3 -&gt; return to app2 -&gt; return to app1), something can fail without a direct exception. (I know this is also a problem.) But so the thread in the first position is waiting and waiting and never dies and just blocks following requests. And this I want to avoid by sending requests from app1 to app2 without waiting for a response, to not block the thread pool.</p>\n<p>Is there another possibility than @Async? Or any other ways I am missing?</p>\n"},{"tags":["java","sql","hibernate","jpa","check-constraints"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":1,"creation_date":1439455782,"post_id":31983454,"comment_id":51872314,"body_markdown":"Is it perhaps easier to convert &quot;a is null or (b is not null and c is not null)&quot;?","body":"Is it perhaps easier to convert &quot;a is null or (b is not null and c is not null)&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1439457865,"creation_date":1439456260,"answer_id":31983746,"question_id":31983454,"body_markdown":"Yes it is possible if `@Check` is used at class level like this:\r\n\r\n    @Entity\r\n    @Check(constraints = &quot;COL_A IS NULL OR (COL_B IS NOT NULL and COL_C IS NOT NULL)&quot;)\r\n    public class Sample {\r\n        \r\n        @Column(name = &quot;COL_A&quot;)\r\n        private Long a;\r\n\r\n        @Column(name = &quot;COL_B&quot;)\r\n        private Long b;\r\n\r\n        @Column(name = &quot;COL_C&quot;)\r\n        private Long c;\r\n\r\n    }\r\n\r\n(Note that I rewrote your condition using @jarlh comment.). The `constraints` clause of `@Check` annotation needs to refer to the `name` attribute of `@Column` (it must be pure SQL).\r\n\r\n`@Check` annotation needs to be at class level because of a [Hibernate bug](https://hibernate.atlassian.net/browse/HHH-4315).","title":"Hibernate Check Annotation","body":"<p>Yes it is possible if <code>@Check</code> is used at class level like this:</p>\n\n<pre><code>@Entity\n@Check(constraints = \"COL_A IS NULL OR (COL_B IS NOT NULL and COL_C IS NOT NULL)\")\npublic class Sample {\n\n    @Column(name = \"COL_A\")\n    private Long a;\n\n    @Column(name = \"COL_B\")\n    private Long b;\n\n    @Column(name = \"COL_C\")\n    private Long c;\n\n}\n</code></pre>\n\n<p>(Note that I rewrote your condition using @jarlh comment.). The <code>constraints</code> clause of <code>@Check</code> annotation needs to refer to the <code>name</code> attribute of <code>@Column</code> (it must be pure SQL).</p>\n\n<p><code>@Check</code> annotation needs to be at class level because of a <a href=\"https://hibernate.atlassian.net/browse/HHH-4315\" rel=\"noreferrer\">Hibernate bug</a>.</p>\n"},{"tags":[],"owner":{"account_id":23496283,"reputation":1,"user_id":17546672,"display_name":"Jesus Marin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638376105,"creation_date":1638228437,"answer_id":70162526,"question_id":31983454,"body_markdown":"Use next annotation at Class level to check all three columns, e.g.:\r\n\r\n@Check(constraints = &quot;COL_A &gt;= 15 AND COL_B &lt; 200 AND COL_C &gt; 100&quot;)\r\n\r\nbeing COL_A, COL_B and COL_C the column names to be checked\r\n\r\nDo not check nullable columns. @NotNull is preferred over @Check.","title":"Hibernate Check Annotation","body":"<p>Use next annotation at Class level to check all three columns, e.g.:</p>\n<p>@Check(constraints = &quot;COL_A &gt;= 15 AND COL_B &lt; 200 AND COL_C &gt; 100&quot;)</p>\n<p>being COL_A, COL_B and COL_C the column names to be checked</p>\n<p>Do not check nullable columns. @NotNull is preferred over @Check.</p>\n"}],"owner":{"account_id":5142223,"reputation":1211,"user_id":4119226,"accept_rate":53,"display_name":"blahblah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13623,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":31983746,"answer_count":2,"score":11,"last_activity_date":1638376105,"creation_date":1439455518,"question_id":31983454,"body_markdown":"I have a table with three fields, say a, b, c. I would like to add a constraint ensuring that if a is not null, then also b and c are not null. I have done that using following SQL\r\n\r\n    ALTER TABLE sample \r\n    ADD CONSTRAINT no_nulls\r\n    CHECK (CASE WHEN a IS NOT NULL THEN b IS NOT NULL AND c IS NOT NULL END)\r\n\r\nIs there a way to achieve same effect using hibernate annotation @Check? \r\n\r\nI can&#39;t find a helpful example with that annotation, do developers tend not to use it at all?","title":"Hibernate Check Annotation","body":"<p>I have a table with three fields, say a, b, c. I would like to add a constraint ensuring that if a is not null, then also b and c are not null. I have done that using following SQL</p>\n\n<pre><code>ALTER TABLE sample \nADD CONSTRAINT no_nulls\nCHECK (CASE WHEN a IS NOT NULL THEN b IS NOT NULL AND c IS NOT NULL END)\n</code></pre>\n\n<p>Is there a way to achieve same effect using hibernate annotation @Check? </p>\n\n<p>I can't find a helpful example with that annotation, do developers tend not to use it at all?</p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1268061447,"post_id":2401606,"comment_id":2382082,"body_markdown":"not very clear which distance you are calculating... Is each element of the list a pair of coordinates - one distance for each pair? Or are you calculating the distance of two adjacent coordinates of the list (is that meaningful)? Or is the distance calculated relative to a fixed coordinate (may change after each sort)?","body":"not very clear which distance you are calculating... Is each element of the list a pair of coordinates - one distance for each pair? Or are you calculating the distance of two adjacent coordinates of the list (is that meaningful)? Or is the distance calculated relative to a fixed coordinate (may change after each sort)?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1268061454,"post_id":2401606,"comment_id":2382085,"body_markdown":"Ordering on &quot;distance between their coordinates&quot;? Are you comparing them all against one fixed point or against each other? Because if you&#39;re comparing them against each other, then your order will be messed up, because that relation would not be transitive.","body":"Ordering on &quot;distance between their coordinates&quot;? Are you comparing them all against one fixed point or against each other? Because if you&#39;re comparing them against each other, then your order will be messed up, because that relation would not be transitive."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1268061476,"post_id":2401606,"comment_id":2382090,"body_markdown":"@Carlos: d&#39;oh! You were faster ;-)","body":"@Carlos: d&#39;oh! You were faster ;-)"},{"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"score":0,"creation_date":1269344336,"post_id":2401606,"comment_id":2493740,"body_markdown":"its compared against a fixed point yes","body":"its compared against a fixed point yes"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268061128,"creation_date":1268055542,"answer_id":2401625,"question_id":2401606,"body_markdown":"No, there is no cleaner way. Perhaps:\r\n\r\n- if the coordinates of both compared objects are null, return 0\r\n- if the coordinates of one of the objects are null, return -1 / 1 (depending on whether it&#39;s the first or the second argument)\r\n\r\nBut more importantly - try to get rid of / fill in the missing coordinates, or, better: don&#39;t put addresses with missing coordinates in the list.\r\n\r\nActually, not putting them in the list is the most logical behaviour. If you put them in the list, the result won&#39;t be actually ordered by distance.\r\n\r\nYou may create another list, containing the addresses with missing coordinates, and make it clear to whoever needs that information (end-user, API user), that the first list only contains addresses with the needed data, while the second list contains addresses that lack required information.","title":"comparator with null values","body":"<p>No, there is no cleaner way. Perhaps:</p>\n\n<ul>\n<li>if the coordinates of both compared objects are null, return 0</li>\n<li>if the coordinates of one of the objects are null, return -1 / 1 (depending on whether it's the first or the second argument)</li>\n</ul>\n\n<p>But more importantly - try to get rid of / fill in the missing coordinates, or, better: don't put addresses with missing coordinates in the list.</p>\n\n<p>Actually, not putting them in the list is the most logical behaviour. If you put them in the list, the result won't be actually ordered by distance.</p>\n\n<p>You may create another list, containing the addresses with missing coordinates, and make it clear to whoever needs that information (end-user, API user), that the first list only contains addresses with the needed data, while the second list contains addresses that lack required information.</p>\n"},{"tags":[],"owner":{"account_id":61382,"reputation":74430,"user_id":182971,"accept_rate":72,"display_name":"Sjoerd"},"down_vote_count":2,"up_vote_count":92,"is_accepted":true,"score":90,"last_activity_date":1455273311,"creation_date":1268055545,"answer_id":2401629,"question_id":2401606,"body_markdown":"Handle it like `null` means infinitely far away. Thus:\r\n\r\n- `comp(1234, null) == -1`\r\n- `comp(null, null) == 0`\r\n- `comp(null, 1234) == 1`\r\n\r\nWith this, you get a consistent ordering.","title":"comparator with null values","body":"<p>Handle it like <code>null</code> means infinitely far away. Thus:</p>\n\n<ul>\n<li><code>comp(1234, null) == -1</code></li>\n<li><code>comp(null, null) == 0</code></li>\n<li><code>comp(null, 1234) == 1</code></li>\n</ul>\n\n<p>With this, you get a consistent ordering.</p>\n"},{"tags":[],"owner":{"account_id":18142,"reputation":3075,"user_id":41292,"accept_rate":100,"display_name":"LenW"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268055698,"creation_date":1268055698,"answer_id":2401642,"question_id":2401606,"body_markdown":"You probably dont want to return 0 as that implies the addresses are equidistant and you really dont know. This is quite a classic problem where you are trying to deal with bad input data. I dont think its the responsibility of the comparator to try and determin how far the address is in realtive terms when you ***dont know*** the distance. I would remove those addresses from the list before sorting.\r\n\r\nThe hack would be to move them to the bottom of the list (but thats ugly !)","title":"comparator with null values","body":"<p>You probably dont want to return 0 as that implies the addresses are equidistant and you really dont know. This is quite a classic problem where you are trying to deal with bad input data. I dont think its the responsibility of the comparator to try and determin how far the address is in realtive terms when you <strong><em>dont know</em></strong> the distance. I would remove those addresses from the list before sorting.</p>\n\n<p>The hack would be to move them to the bottom of the list (but thats ugly !)</p>\n"},{"tags":[],"owner":{"account_id":2464,"reputation":9505,"user_id":3432,"accept_rate":86,"display_name":"Wouter Coekaerts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268057036,"creation_date":1268057036,"answer_id":2401787,"question_id":2401606,"body_markdown":"Instead of looking at this like it&#39;s a technical problem with the comparator, it&#39;s better to take a look at the requirements again: what you&#39;re really trying to do here, what are you going to do with this sorted list?\r\n\r\n* If you are trying to sort them to show the most relevant solutions first to a user, it might be a good idea to put the unknown locations last, so treat it like infinity (returning 0/-1/1 depending on which of them is null).\r\n* If you are going to use this result to draw some graph or do some other calculations that depend on them really being sorted by their distance, then the nulls probably shouldn&#39;t have been in there anyways (so either remove them first, or throw an exception if at that point there actually weren&#39;t supposed to be any addresses with a null location).\r\n\r\nAs you already realize, always returning 0 when one of them is null is not a good idea here; it can corrupt the result indeed. But what you should do instead depends on what you need, not on what others usually do/need. How your program behaves with addresses that don&#39;t have a location (so what the user is going to see) should not depend on some technical detail like what the &quot;best practice&quot; for comparators is.\r\n(To me, asking what the &quot;best practice&quot; is here, sounds like asking what the &quot;best requirements&quot; are).","title":"comparator with null values","body":"<p>Instead of looking at this like it's a technical problem with the comparator, it's better to take a look at the requirements again: what you're really trying to do here, what are you going to do with this sorted list?</p>\n\n<ul>\n<li>If you are trying to sort them to show the most relevant solutions first to a user, it might be a good idea to put the unknown locations last, so treat it like infinity (returning 0/-1/1 depending on which of them is null).</li>\n<li>If you are going to use this result to draw some graph or do some other calculations that depend on them really being sorted by their distance, then the nulls probably shouldn't have been in there anyways (so either remove them first, or throw an exception if at that point there actually weren't supposed to be any addresses with a null location).</li>\n</ul>\n\n<p>As you already realize, always returning 0 when one of them is null is not a good idea here; it can corrupt the result indeed. But what you should do instead depends on what you need, not on what others usually do/need. How your program behaves with addresses that don't have a location (so what the user is going to see) should not depend on some technical detail like what the \"best practice\" for comparators is.\n(To me, asking what the \"best practice\" is here, sounds like asking what the \"best requirements\" are).</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1638370127,"creation_date":1268057097,"answer_id":2401794,"question_id":2401606,"body_markdown":"My take on this is that anything you try to do to &quot;make good&quot; the `null` coordinates is just papering over the cracks.  What you really need to do is find and fix the bugs that are injecting the spurious `null` coordinates.\r\n\r\nIn my experience, infestations of NPE bugs are frequently caused by the following bad coding habits:\r\n\r\n  - inadequate validation of input parameters,\r\n  - using `null` to avoid creating empty arrays or collections,\r\n  - returning `null` when an exception should have been thrown, or\r\n  - using `null` to represent &quot;no value&quot; when there is a better solution.\r\n\r\n(Better solutions to the &quot;no value&quot; problem typically involve rewriting code so that you don&#39;t *need* to represent this and/or using a non-null value instead; e.g. an empty String, a special instance, a reserved value.  You can&#39;t always find a better solution, but you often can.)\r\n\r\nIf this describes your application, you should be spending your time trying to find and correct the code problems that are injecting the `null` values rather than thinking of ways to avoid the NPEs they cause.","title":"comparator with null values","body":"<p>My take on this is that anything you try to do to &quot;make good&quot; the <code>null</code> coordinates is just papering over the cracks.  What you really need to do is find and fix the bugs that are injecting the spurious <code>null</code> coordinates.</p>\n<p>In my experience, infestations of NPE bugs are frequently caused by the following bad coding habits:</p>\n<ul>\n<li>inadequate validation of input parameters,</li>\n<li>using <code>null</code> to avoid creating empty arrays or collections,</li>\n<li>returning <code>null</code> when an exception should have been thrown, or</li>\n<li>using <code>null</code> to represent &quot;no value&quot; when there is a better solution.</li>\n</ul>\n<p>(Better solutions to the &quot;no value&quot; problem typically involve rewriting code so that you don't <em>need</em> to represent this and/or using a non-null value instead; e.g. an empty String, a special instance, a reserved value.  You can't always find a better solution, but you often can.)</p>\n<p>If this describes your application, you should be spending your time trying to find and correct the code problems that are injecting the <code>null</code> values rather than thinking of ways to avoid the NPEs they cause.</p>\n"},{"tags":[],"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268079890,"creation_date":1268079890,"answer_id":2404485,"question_id":2401606,"body_markdown":"I personally hate dealing with special null cases everywhere in my comparators so i was looking for a cleaner soluation and finally found google collections. Their Ordering&lt;T&gt; is just awesome. They support compound comparators, offer to sort nulls to the top and to the end and allow to run certain functions before comparing. Writing comparators has never been so easy. You should give it a try.","title":"comparator with null values","body":"<p>I personally hate dealing with special null cases everywhere in my comparators so i was looking for a cleaner soluation and finally found google collections. Their Ordering is just awesome. They support compound comparators, offer to sort nulls to the top and to the end and allow to run certain functions before comparing. Writing comparators has never been so easy. You should give it a try.</p>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1268089407,"creation_date":1268089407,"answer_id":2405480,"question_id":2401606,"body_markdown":"Just to expand on Willi Sch&#246;nborn&#39;s answer, I came here to say that [google-collections](http://code.google.com/p/google-collections/) is exactly what you&#39;re after here. \r\n\r\nIn the general case, you can just write your own `Comparator` to ignore nulls (assume non-null, so it can concentrate on the important logic), and then use [Ordering](http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Ordering.html) to handle the nulls:\r\n\r\n    Collections.sort(addresses, Ordering.from(new AddressComparator()).nullsLast());\r\n\r\nIn your case, though, it&#39;s data WITHIN the Address (the Coordinates) that is being used to sort, right? google-collections is even _more_ useful in this case. So you might have something more like:\r\n\r\n    // Seems verbose at first glance, but you&#39;ll probably find yourself reusing \r\n    // this a lot and it will pay off quickly.\r\n    private static final Function&lt;Address, Coordinates&gt; ADDRESS_TO_COORDINATES = \r\n      new Function&lt;Address, Coordinates&gt;() {\r\n          public Coordinates apply(Address in) {\r\n              return in.getCoordinates();\r\n          }\r\n      };\r\n\r\n    private static final Comparator&lt;Coordinates&gt; COORDINATE_SORTER = .... // existing\r\n\r\nthen when you want to sort:\r\n\r\n    Collections.sort(addresses,\r\n        Ordering.from(COORDINATE_SORTER)\r\n                .nullsLast()\r\n                .onResultOf(ADDRESS_TO_COORDINATES));\r\n\r\nand that&#39;s where the power of google-collections really starts to pay off.","title":"comparator with null values","body":"<p>Just to expand on Willi Schönborn's answer, I came here to say that <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">google-collections</a> is exactly what you're after here. </p>\n\n<p>In the general case, you can just write your own <code>Comparator</code> to ignore nulls (assume non-null, so it can concentrate on the important logic), and then use <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Ordering.html\" rel=\"noreferrer\">Ordering</a> to handle the nulls:</p>\n\n<pre><code>Collections.sort(addresses, Ordering.from(new AddressComparator()).nullsLast());\n</code></pre>\n\n<p>In your case, though, it's data WITHIN the Address (the Coordinates) that is being used to sort, right? google-collections is even <em>more</em> useful in this case. So you might have something more like:</p>\n\n<pre><code>// Seems verbose at first glance, but you'll probably find yourself reusing \n// this a lot and it will pay off quickly.\nprivate static final Function&lt;Address, Coordinates&gt; ADDRESS_TO_COORDINATES = \n  new Function&lt;Address, Coordinates&gt;() {\n      public Coordinates apply(Address in) {\n          return in.getCoordinates();\n      }\n  };\n\nprivate static final Comparator&lt;Coordinates&gt; COORDINATE_SORTER = .... // existing\n</code></pre>\n\n<p>then when you want to sort:</p>\n\n<pre><code>Collections.sort(addresses,\n    Ordering.from(COORDINATE_SORTER)\n            .nullsLast()\n            .onResultOf(ADDRESS_TO_COORDINATES));\n</code></pre>\n\n<p>and that's where the power of google-collections really starts to pay off.</p>\n"},{"tags":[],"owner":{"account_id":943033,"reputation":1686,"user_id":970790,"accept_rate":60,"display_name":"stoilkov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1346478147,"creation_date":1331288963,"answer_id":9632538,"question_id":2401606,"body_markdown":"My solution (might be useful for someone looking here) is to do the comparison normal, with null values replaced not by 0, but the maximum value possible (e.g. Integer.MAX_VALUE). Returning 0 is not consistent, if you have values that are themselves 0. Here a correct example:\r\n\r\n\t\t\tpublic int compare(YourObject lhs, YourObject rhs) {\r\n\t\t\t\tInteger l = Integer.MAX_VALUE;\r\n\t\t\t\tInteger r = Integer.MAX_VALUE;\r\n\t\t\t\tif (lhs != null) {\r\n\t\t\t\t\tl = lhs.giveMeSomeMeasure();\r\n\t\t\t\t}\r\n\t\t\t\tif (rhs != null) {\r\n\t\t\t\t\tr = rhs.giveMeSomeMeasure();\r\n\t\t\t\t}\r\n\t\t\t\treturn l.compareTo(r);\r\n\t\t\t}\r\n\r\n\t\r\nI just wanted to add that you don&#39;t necessary need the max value for integer. It depends of what your giveMeSomeMeasure() method can return. If for example you compare Celsius degrees for weather, you can set l and r to -300 or +300, depending where you want to set the null objects - to the head or the tail of the list.","title":"comparator with null values","body":"<p>My solution (might be useful for someone looking here) is to do the comparison normal, with null values replaced not by 0, but the maximum value possible (e.g. Integer.MAX_VALUE). Returning 0 is not consistent, if you have values that are themselves 0. Here a correct example:</p>\n\n<pre><code>        public int compare(YourObject lhs, YourObject rhs) {\n            Integer l = Integer.MAX_VALUE;\n            Integer r = Integer.MAX_VALUE;\n            if (lhs != null) {\n                l = lhs.giveMeSomeMeasure();\n            }\n            if (rhs != null) {\n                r = rhs.giveMeSomeMeasure();\n            }\n            return l.compareTo(r);\n        }\n</code></pre>\n\n<p>I just wanted to add that you don't necessary need the max value for integer. It depends of what your giveMeSomeMeasure() method can return. If for example you compare Celsius degrees for weather, you can set l and r to -300 or +300, depending where you want to set the null objects - to the head or the tail of the list.</p>\n"},{"tags":[],"owner":{"account_id":1183867,"reputation":476,"user_id":1158219,"display_name":"Adrian Cosma"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1477320800,"creation_date":1477320800,"answer_id":40221430,"question_id":2401606,"body_markdown":"If you are using Java 8, you have 2 new static methods in the Comparator class, which come in handy:\r\n\r\n    public static &lt;T&gt; Comparator&lt;T&gt; nullsFirst(Comparator&lt;? super T&gt; comparator)\r\n    public static &lt;T&gt; Comparator&lt;T&gt; nullsLast(Comparator&lt;? super T&gt; comparator)\r\n\r\nThe comparison will be null safe and you can choose where to place the null values in the sorted sequence. \r\n\r\nThe following example:\r\n\r\n    List&lt;String&gt; monkeyBusiness = Arrays.asList(&quot;Chimp&quot;, &quot;eat&quot;, &quot;sleep&quot;, &quot;&quot;, null, &quot;banana&quot;,\r\n                &quot;throw banana peel&quot;, null, &quot;smile&quot;, &quot;run&quot;);\r\n    Comparator&lt;? super String&gt; comparator = (a, b) -&gt; a.compareTo(b);\r\n    monkeyBusiness.stream().sorted(Comparator.nullsFirst(comparator))\r\n                .forEach(x -&gt; System.out.print(&quot;[&quot; + x + &quot;] &quot;));\r\nwill print:\r\n[null] [null] [] [Chimp] [banana] [eat] [run] [sleep] [smile] [throw banana peel] ","title":"comparator with null values","body":"<p>If you are using Java 8, you have 2 new static methods in the Comparator class, which come in handy:</p>\n\n<pre><code>public static &lt;T&gt; Comparator&lt;T&gt; nullsFirst(Comparator&lt;? super T&gt; comparator)\npublic static &lt;T&gt; Comparator&lt;T&gt; nullsLast(Comparator&lt;? super T&gt; comparator)\n</code></pre>\n\n<p>The comparison will be null safe and you can choose where to place the null values in the sorted sequence. </p>\n\n<p>The following example:</p>\n\n<pre><code>List&lt;String&gt; monkeyBusiness = Arrays.asList(\"Chimp\", \"eat\", \"sleep\", \"\", null, \"banana\",\n            \"throw banana peel\", null, \"smile\", \"run\");\nComparator&lt;? super String&gt; comparator = (a, b) -&gt; a.compareTo(b);\nmonkeyBusiness.stream().sorted(Comparator.nullsFirst(comparator))\n            .forEach(x -&gt; System.out.print(\"[\" + x + \"] \"));\n</code></pre>\n\n<p>will print:\n[null] [null] [] [Chimp] [banana] [eat] [run] [sleep] [smile] [throw banana peel] </p>\n"},{"tags":[],"owner":{"account_id":13095631,"reputation":147,"user_id":9461640,"display_name":"Crude Code"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638376077,"creation_date":1638366140,"answer_id":70185283,"question_id":2401606,"body_markdown":"I know... I know... This post is quite old and already answered alot. But Guavas `Ordering` is obsolete and Java 8&#39;s `Comparator` has built in functionality to solve a lot of custom comparison stuff.\r\n\r\nAlso I wanted to add my approach in case anybody has a similar need for comparing objects via multiple fields in the object, which can be null.\r\n\r\n# Setup #\r\nLet&#39;s work with example data of the question.\r\nWe have a list of `Address` which contains `Coordinate` data, which can be null in some situations.\r\n\r\n# Custom Comparator #\r\nLet&#39;s asume we sort the list in a class `AddressSorter` and we only want to separate the sorting for concrete objects from those that are null. We can achieve this by using a custom `Comparator` that makes basic null checking.\r\n\r\n```java\r\npublic class AddressSorter&#160;{\r\n    private static final Comparator&lt;Coordinate&gt; COORDINATE_NULL_COMPARATOR = (c1, c2) -&gt; {\r\n        if (c1 != null &amp;&amp; c2 == null) {\r\n            return 1;\r\n        }\r\n        if (c1 == null &amp;&amp; c2 != null) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\r\n        return addresses.stream()\r\n            .sorted(Comparator.compare(Address::getCoordinate, COORDINATE_NULL_COMPARATOR))\r\n            .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\nIn this example we use the built in [`Comparator.comparing(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator- &quot;Oracle Java Docs Comparator&quot;)\r\n\r\nThis will construct a list where the `Address`es with `null` as `Coordinate` are at the beginning of the returned list.\r\n\r\n**This will skip any comparison between any two concrete `Coordinate` completely**\r\n\r\nThis may look odd, but there are occasions where it is valid to skip the object comparison. For example any `LocalDateTime` (or any other timely object) comparison with additional chaining will result in unexpected behaviour if you need to separate the objects by a `LocalDateTime`field that can be null.\r\n\r\n# Compare `Coordinate` with null safety #\r\n\r\nSo if you need the comparison of the `Coordinate` objects including null-safety you can use the natural order with a null check like this:\r\n\r\n```java\r\n    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\r\n        return addresses.stream()\r\n            .sorted(Comparator.compare(Address::getCoordinate, Comparator.nullsFirst(Comparator.naturalOrder())\r\n            .collect(Collectors.toList());\r\n    }\r\n```\r\nEdit: It is also possible to use `nullsLast` if you want the `Address`es with `Coordinate == null` at the end of your list.\r\n\r\n# Chaining #\r\n\r\nWith that we can also start to chain sortings base on multiple fields of our `Address`es, e.g.:\r\n\r\n```java\r\n    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\r\n        return addresses.stream()\r\n            .sorted(Comparator.compare(Address::getCoordinate, Comparator.nullsFirst(Comparator.naturalOrder())\r\n                .thenCompare(Address::getId))\r\n            .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nSo you will end up with a list where the leading `Address`es are the once containing `null` as `Coordinate` sorted by `id` and after that all `Address`es with a concrete `Coordinate` also sorted by `id`.\r\n\r\n# Comparable and Apache Commons #\r\n\r\nIf you want this behaviour as natural order for `Address` you can make `Address` implement `Comparable` and then work for example with Apache Commons `CompareToBuilder`:\r\n\r\n```java\r\n    @Override\r\n    public int compareTo(Address address) {\r\n        return new CompareToBuilder()\r\n            .append(this.coordinate, address.coordinate, Comparator.nullsFirst(Comparator.naturalOrder())\r\n            .append(this.id, address.id)\r\n            .toComparison();\r\n```\r\n\r\nThis then enables you to use `sorted()` in the stream, as it makes use of the `compareTo` of `Address`:\r\n\r\n```java\r\n    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\r\n        return addresses.stream()\r\n            .sorted()\r\n            .collect(Collectors.toList());\r\n    }\r\n```\r\n","title":"comparator with null values","body":"<p>I know... I know... This post is quite old and already answered alot. But Guavas <code>Ordering</code> is obsolete and Java 8's <code>Comparator</code> has built in functionality to solve a lot of custom comparison stuff.</p>\n<p>Also I wanted to add my approach in case anybody has a similar need for comparing objects via multiple fields in the object, which can be null.</p>\n<h1>Setup</h1>\n<p>Let's work with example data of the question.\nWe have a list of <code>Address</code> which contains <code>Coordinate</code> data, which can be null in some situations.</p>\n<h1>Custom Comparator</h1>\n<p>Let's asume we sort the list in a class <code>AddressSorter</code> and we only want to separate the sorting for concrete objects from those that are null. We can achieve this by using a custom <code>Comparator</code> that makes basic null checking.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddressSorter {\n    private static final Comparator&lt;Coordinate&gt; COORDINATE_NULL_COMPARATOR = (c1, c2) -&gt; {\n        if (c1 != null &amp;&amp; c2 == null) {\n            return 1;\n        }\n        if (c1 == null &amp;&amp; c2 != null) {\n            return -1;\n        }\n        return 0;\n    }\n\n    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\n        return addresses.stream()\n            .sorted(Comparator.compare(Address::getCoordinate, COORDINATE_NULL_COMPARATOR))\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>In this example we use the built in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-\" rel=\"noreferrer\" title=\"Oracle Java Docs Comparator\"><code>Comparator.comparing(Function&lt;? super T,? extends U&gt; keyExtractor, Comparator&lt;? super U&gt; keyComparator)</code></a></p>\n<p>This will construct a list where the <code>Address</code>es with <code>null</code> as <code>Coordinate</code> are at the beginning of the returned list.</p>\n<p><strong>This will skip any comparison between any two concrete <code>Coordinate</code> completely</strong></p>\n<p>This may look odd, but there are occasions where it is valid to skip the object comparison. For example any <code>LocalDateTime</code> (or any other timely object) comparison with additional chaining will result in unexpected behaviour if you need to separate the objects by a <code>LocalDateTime</code>field that can be null.</p>\n<h1>Compare <code>Coordinate</code> with null safety</h1>\n<p>So if you need the comparison of the <code>Coordinate</code> objects including null-safety you can use the natural order with a null check like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\n        return addresses.stream()\n            .sorted(Comparator.compare(Address::getCoordinate, Comparator.nullsFirst(Comparator.naturalOrder())\n            .collect(Collectors.toList());\n    }\n</code></pre>\n<p>Edit: It is also possible to use <code>nullsLast</code> if you want the <code>Address</code>es with <code>Coordinate == null</code> at the end of your list.</p>\n<h1>Chaining</h1>\n<p>With that we can also start to chain sortings base on multiple fields of our <code>Address</code>es, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\n        return addresses.stream()\n            .sorted(Comparator.compare(Address::getCoordinate, Comparator.nullsFirst(Comparator.naturalOrder())\n                .thenCompare(Address::getId))\n            .collect(Collectors.toList());\n    }\n</code></pre>\n<p>So you will end up with a list where the leading <code>Address</code>es are the once containing <code>null</code> as <code>Coordinate</code> sorted by <code>id</code> and after that all <code>Address</code>es with a concrete <code>Coordinate</code> also sorted by <code>id</code>.</p>\n<h1>Comparable and Apache Commons</h1>\n<p>If you want this behaviour as natural order for <code>Address</code> you can make <code>Address</code> implement <code>Comparable</code> and then work for example with Apache Commons <code>CompareToBuilder</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public int compareTo(Address address) {\n        return new CompareToBuilder()\n            .append(this.coordinate, address.coordinate, Comparator.nullsFirst(Comparator.naturalOrder())\n            .append(this.id, address.id)\n            .toComparison();\n</code></pre>\n<p>This then enables you to use <code>sorted()</code> in the stream, as it makes use of the <code>compareTo</code> of <code>Address</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;Address&gt; sortAddressList(List&lt;Address&gt; addresses) {\n        return addresses.stream()\n            .sorted()\n            .collect(Collectors.toList());\n    }\n</code></pre>\n"}],"owner":{"account_id":8495,"reputation":12718,"user_id":15355,"accept_rate":60,"display_name":"pvgoddijn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76777,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":2401629,"answer_count":10,"score":63,"last_activity_date":1638376077,"creation_date":1268055331,"question_id":2401606,"body_markdown":"We have some code which sorts a list of addresses based on the distance between their coordinates. this is done through collections.sort with a custom comparator.\r\n\r\nHowever from time to time an address without coordinates is in the list causing a NullPointerException. My initial idea to fix this was to have the comparator return 0 as distance for addresses where at least one of the coordinates is null. I fear this might lead to corruption of the order the &#39;valid&#39; elements in the list.\r\n\r\nso is returning a &#39;0&#39; values for null data in a comparator ok, or is there a cleaner way to resolve this?","title":"comparator with null values","body":"<p>We have some code which sorts a list of addresses based on the distance between their coordinates. this is done through collections.sort with a custom comparator.</p>\n<p>However from time to time an address without coordinates is in the list causing a NullPointerException. My initial idea to fix this was to have the comparator return 0 as distance for addresses where at least one of the coordinates is null. I fear this might lead to corruption of the order the 'valid' elements in the list.</p>\n<p>so is returning a '0' values for null data in a comparator ok, or is there a cleaner way to resolve this?</p>\n"},{"tags":["java","android","android-recyclerview","scrollbar"],"comments":[{"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"score":0,"creation_date":1638379023,"post_id":70187816,"comment_id":124074136,"body_markdown":"do you want like this https://github.com/plusCubed/recycler-fast-scroll ?","body":"do you want like this <a href=\"https://github.com/plusCubed/recycler-fast-scroll\" rel=\"nofollow noreferrer\">github.com/plusCubed/recycler-fast-scroll</a> ?"},{"owner":{"account_id":19595408,"reputation":41,"user_id":14341558,"display_name":"Clara Toubane"},"score":0,"creation_date":1638379176,"post_id":70187816,"comment_id":124074205,"body_markdown":"yes it would be great but this is the repository from 6 years ago. I don&#39;t think it still works","body":"yes it would be great but this is the repository from 6 years ago. I don&#39;t think it still works"},{"owner":{"account_id":7095631,"reputation":383,"user_id":5429327,"display_name":"Yura"},"score":0,"creation_date":1638381495,"post_id":70187816,"comment_id":124075248,"body_markdown":"I just showed the first one for example) or another earlier https://github.com/L4Digital/FastScroll  you can disable the popup if you need","body":"I just showed the first one for example) or another earlier <a href=\"https://github.com/L4Digital/FastScroll\" rel=\"nofollow noreferrer\">github.com/L4Digital/FastScroll</a>  you can disable the popup if you need"}],"owner":{"account_id":19595408,"reputation":41,"user_id":14341558,"display_name":"Clara Toubane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638376023,"creation_date":1638376023,"question_id":70187816,"body_markdown":"I have a Recyclerview in my app, but I can&#39;t add scrollbar to it. I tried every possible solution in web. Most solutions are not suitable for current system. In the solution I came closest to, the bar becomes tiny when scroll down and cannot be touched with a finger. So I need your help.\r\n\r\nHere my xml\r\n\r\n``` \r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    tools:context=&quot;.WordListFragment&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;&gt;\r\n\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/word_list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layoutManager=&quot;LinearLayoutManager&quot; /&gt;\r\n    \r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/clear_btn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_horizontal|bottom&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:src=&quot;@drawable/ic_delete_black_24dp&quot;\r\n        app:fabSize=&quot;normal&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        /&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/no_data&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/app_name&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textColor=&quot;?colorPrimaryDark&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;\r\n        android:visibility=&quot;gone&quot;/&gt;\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/scrollToTop&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:fabSize=&quot;mini&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        android:src=&quot;@drawable/ic_keyboard_arrow_up_black_24dp&quot;\r\n        app:layout_anchor=&quot;@id/word_list&quot;\r\n        app:layout_anchorGravity=&quot;bottom|end&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        /&gt;\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nmy java file\r\n```  public class RecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerAdapter.ViewHolder&gt;\r\n{\r\n    private final Context context;\r\n    ArrayList&lt;Word&gt; data_list;\r\n    private int[] theme_array;\r\n    ToggleButton selected_theme;\r\n\r\n    public RecyclerAdapter(Context context, ArrayList&lt;Word&gt; data_list)\r\n    {\r\n        this.context = context;\r\n        this.data_list = data_list;\r\n    }\r\n\r\n    public RecyclerAdapter(Context context)\r\n    {\r\n        this.context = context;\r\n        theme_array=new int[]{R.style.AppTheme\r\n                ,R.style.GreenTheme\r\n                ,R.style.RedTheme\r\n                ,R.style.PurpleTheme\r\n                ,R.style.TealTheme\r\n                ,R.style.GreenBlueTheme\r\n                ,R.style.BlueGrayTheme\r\n                ,R.style.PinkTheme\r\n                ,R.style.DarkBlueTheme\r\n                ,R.style.DarkYellowTheme\r\n                ,R.style.BrownTheme\r\n                ,R.style.DarkRedTheme};\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        int id=R.layout.word_list_item;\r\n        if (data_list==null)\r\n            id=R.layout.theme_chooser;\r\n        View v = LayoutInflater.from(context).inflate(id, parent, false);\r\n        return new ViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ViewHolder holder, int position)\r\n    {\r\n        if (data_list==null)\r\n        {\r\n            if (theme_array[position]==MainActivity.preferences.getInt(context.getString(R.string.theme_pref),R.style.AppTheme))\r\n            {\r\n                holder.color_btn.setChecked(true);\r\n                selected_theme=holder.color_btn;\r\n            }\r\n            TypedArray array=context.obtainStyledAttributes(theme_array[position],new int[]{R.attr.colorPrimary});\r\n            Drawable drawable= Objects.requireNonNull(ResourcesCompat.getDrawable(context.getResources(), R.drawable.color_state, null)).mutate();\r\n            int color=array.getColor(0, Color.WHITE);\r\n            drawable.setColorFilter(color, PorterDuff.Mode.SRC_IN);\r\n            drawable=getDrawable(color,drawable);\r\n            holder.color_btn.setBackgroundDrawable(drawable);\r\n            return;\r\n        }\r\n        final Word tmp=data_list.get(position);\r\n        if (MainActivity.isSecond)\r\n            holder.title.setText(tmp.getMeaning());\r\n        else\r\n            holder.title.setText(tmp.getWord());\r\n\r\n\r\n        if (tmp.isUserAdded())\r\n            holder.itemView.findViewById(R.id.user_added).setVisibility(View.VISIBLE);\r\n        else\r\n            holder.itemView.findViewById(R.id.user_added).setVisibility(View.GONE);\r\n\r\n        ((View)holder.title.getParent()).setOnClickListener(view -&gt; context.startActivity(new Intent(context,DetailActivity.class)\r\n        .putExtra(DetailActivity.EXTRA_DETAILS,tmp)));\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount()\r\n    {\r\n        if (data_list==null)\r\n            return theme_array.length;\r\n        return data_list.size();\r\n\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder\r\n    {\r\n        TextView title;\r\n        ToggleButton color_btn;\r\n        public ViewHolder(View itemView)\r\n        {\r\n            super(itemView);\r\n            if (data_list!=null)\r\n                title=itemView.findViewById(R.id.list_title);\r\n            else\r\n            {\r\n                color_btn = (ToggleButton) itemView;\r\n                color_btn.setOnClickListener(view -&gt; {\r\n                    if (color_btn.isChecked())\r\n                    {\r\n                        if (selected_theme!=null)\r\n                            selected_theme.setChecked(false);\r\n                        selected_theme=color_btn;\r\n                        MainActivity.preferences.edit().putInt(context.getString(R.string.theme_pref),theme_array[getAdapterPosition()]).apply();\r\n                        ((Activity)context).recreate();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    Drawable getDrawable(int  color,Drawable main_drawable)\r\n    {\r\n        Drawable drawable=ResourcesCompat.getDrawable(context.getResources(),R.drawable.ic_check_black_24dp,null);\r\n        StateListDrawable stateListDrawable=new StateListDrawable();\r\n        LayerDrawable layerDrawable=new LayerDrawable(new Drawable[]{main_drawable,drawable});\r\n        stateListDrawable.addState(new int[]{android.R.attr.state_checked},layerDrawable);\r\n        stateListDrawable.addState(new int[]{},main_drawable);\r\n        return stateListDrawable;\r\n    }\r\n} ```","title":"How to add scrollbar to Recyclerview","body":"<p>I have a Recyclerview in my app, but I can't add scrollbar to it. I tried every possible solution in web. Most solutions are not suitable for current system. In the solution I came closest to, the bar becomes tiny when scroll down and cannot be touched with a finger. So I need your help.</p>\n<p>Here my xml</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.WordListFragment&quot;\n    android:animateLayoutChanges=&quot;true&quot;&gt;\n\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/word_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layoutManager=&quot;LinearLayoutManager&quot; /&gt;\n    \n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/clear_btn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal|bottom&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:src=&quot;@drawable/ic_delete_black_24dp&quot;\n        app:fabSize=&quot;normal&quot;\n        android:visibility=&quot;gone&quot;\n        /&gt;\n    &lt;TextView\n        android:id=&quot;@+id/no_data&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/app_name&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textColor=&quot;?colorPrimaryDark&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_gravity=&quot;center_vertical&quot;\n        android:visibility=&quot;gone&quot;/&gt;\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/scrollToTop&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:fabSize=&quot;mini&quot;\n        android:layout_margin=&quot;20dp&quot;\n        android:src=&quot;@drawable/ic_keyboard_arrow_up_black_24dp&quot;\n        app:layout_anchor=&quot;@id/word_list&quot;\n        app:layout_anchorGravity=&quot;bottom|end&quot;\n        android:visibility=&quot;gone&quot;\n        /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>my java file</p>\n<pre><code>{\n    private final Context context;\n    ArrayList&lt;Word&gt; data_list;\n    private int[] theme_array;\n    ToggleButton selected_theme;\n\n    public RecyclerAdapter(Context context, ArrayList&lt;Word&gt; data_list)\n    {\n        this.context = context;\n        this.data_list = data_list;\n    }\n\n    public RecyclerAdapter(Context context)\n    {\n        this.context = context;\n        theme_array=new int[]{R.style.AppTheme\n                ,R.style.GreenTheme\n                ,R.style.RedTheme\n                ,R.style.PurpleTheme\n                ,R.style.TealTheme\n                ,R.style.GreenBlueTheme\n                ,R.style.BlueGrayTheme\n                ,R.style.PinkTheme\n                ,R.style.DarkBlueTheme\n                ,R.style.DarkYellowTheme\n                ,R.style.BrownTheme\n                ,R.style.DarkRedTheme};\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n    {\n        int id=R.layout.word_list_item;\n        if (data_list==null)\n            id=R.layout.theme_chooser;\n        View v = LayoutInflater.from(context).inflate(id, parent, false);\n        return new ViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final ViewHolder holder, int position)\n    {\n        if (data_list==null)\n        {\n            if (theme_array[position]==MainActivity.preferences.getInt(context.getString(R.string.theme_pref),R.style.AppTheme))\n            {\n                holder.color_btn.setChecked(true);\n                selected_theme=holder.color_btn;\n            }\n            TypedArray array=context.obtainStyledAttributes(theme_array[position],new int[]{R.attr.colorPrimary});\n            Drawable drawable= Objects.requireNonNull(ResourcesCompat.getDrawable(context.getResources(), R.drawable.color_state, null)).mutate();\n            int color=array.getColor(0, Color.WHITE);\n            drawable.setColorFilter(color, PorterDuff.Mode.SRC_IN);\n            drawable=getDrawable(color,drawable);\n            holder.color_btn.setBackgroundDrawable(drawable);\n            return;\n        }\n        final Word tmp=data_list.get(position);\n        if (MainActivity.isSecond)\n            holder.title.setText(tmp.getMeaning());\n        else\n            holder.title.setText(tmp.getWord());\n\n\n        if (tmp.isUserAdded())\n            holder.itemView.findViewById(R.id.user_added).setVisibility(View.VISIBLE);\n        else\n            holder.itemView.findViewById(R.id.user_added).setVisibility(View.GONE);\n\n        ((View)holder.title.getParent()).setOnClickListener(view -&gt; context.startActivity(new Intent(context,DetailActivity.class)\n        .putExtra(DetailActivity.EXTRA_DETAILS,tmp)));\n    }\n\n    @Override\n    public int getItemCount()\n    {\n        if (data_list==null)\n            return theme_array.length;\n        return data_list.size();\n\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder\n    {\n        TextView title;\n        ToggleButton color_btn;\n        public ViewHolder(View itemView)\n        {\n            super(itemView);\n            if (data_list!=null)\n                title=itemView.findViewById(R.id.list_title);\n            else\n            {\n                color_btn = (ToggleButton) itemView;\n                color_btn.setOnClickListener(view -&gt; {\n                    if (color_btn.isChecked())\n                    {\n                        if (selected_theme!=null)\n                            selected_theme.setChecked(false);\n                        selected_theme=color_btn;\n                        MainActivity.preferences.edit().putInt(context.getString(R.string.theme_pref),theme_array[getAdapterPosition()]).apply();\n                        ((Activity)context).recreate();\n                    }\n                });\n            }\n        }\n    }\n\n    Drawable getDrawable(int  color,Drawable main_drawable)\n    {\n        Drawable drawable=ResourcesCompat.getDrawable(context.getResources(),R.drawable.ic_check_black_24dp,null);\n        StateListDrawable stateListDrawable=new StateListDrawable();\n        LayerDrawable layerDrawable=new LayerDrawable(new Drawable[]{main_drawable,drawable});\n        stateListDrawable.addState(new int[]{android.R.attr.state_checked},layerDrawable);\n        stateListDrawable.addState(new int[]{},main_drawable);\n        return stateListDrawable;\n    }\n} ```\n</code></pre>\n"},{"tags":["java","javafx","controlsfx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1638366941,"post_id":70184698,"comment_id":124068692,"body_markdown":"what is SegmentedBar? not part of core fx, or is it? If not, please add the tag of the framework it is contained in","body":"what is SegmentedBar? not part of core fx, or is it? If not, please add the tag of the framework it is contained in"},{"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"score":0,"creation_date":1638367639,"post_id":70184698,"comment_id":124069016,"body_markdown":"It&#39;s from ControlsFX which I guessed was more widely known than it must be. I&#39;ve linked it in the post above. I&#39;ve read and read the info in the link but I&#39;m a newbie and can&#39;t figure out how to do it if .getStyle isn&#39;t an option for the bar segments","body":"It&#39;s from ControlsFX which I guessed was more widely known than it must be. I&#39;ve linked it in the post above. I&#39;ve read and read the info in the link but I&#39;m a newbie and can&#39;t figure out how to do it if .getStyle isn&#39;t an option for the bar segments"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1638369325,"post_id":70184698,"comment_id":124069873,"body_markdown":"Never used it, so not sure of the details, but you can set the style on the `SegmentedBar.SegmentView` if you&#39;re using the default view factory and/or define a custom view factory.","body":"Never used it, so not sure of the details, but you can set the style on the <code>SegmentedBar.SegmentView</code> if you&#39;re using the default view factory and/or define a custom view factory."},{"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"score":0,"creation_date":1638369829,"post_id":70184698,"comment_id":124070120,"body_markdown":"cheers. But I have no issue with setting the style for the bar itself by using something like: &quot;segments.setStyle(&quot;-fx-background-color:  #2D3339&quot;)&quot;. But not the Segments themselves. I can&#39;t see how SegmentView helps with that, but I could be wrong.","body":"cheers. But I have no issue with setting the style for the bar itself by using something like: &quot;segments.setStyle(&quot;-fx-background-color:  #2D3339&quot;)&quot;. But not the Segments themselves. I can&#39;t see how SegmentView helps with that, but I could be wrong."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1638370283,"post_id":70184698,"comment_id":124070351,"body_markdown":"As I said, you can set the style of the individual `SegmentView` objects. They are subclasses of `StackPane`.","body":"As I said, you can set the style of the individual <code>SegmentView</code> objects. They are subclasses of <code>StackPane</code>."},{"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"score":0,"creation_date":1638370649,"post_id":70184698,"comment_id":124070525,"body_markdown":"Sorry I&#39;m really not following- can you give an example line?","body":"Sorry I&#39;m really not following- can you give an example line?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1638372663,"post_id":70184698,"comment_id":124071396,"body_markdown":"`segments.setSegmentViewFactory(segment -&gt; { SegmentView view = new SegmentView(segment); view.setStyle(...); /* do other stuff with view */ ; return view;});`","body":"<code>segments.setSegmentViewFactory(segment -&gt; { SegmentView view = new SegmentView(segment); view.setStyle(...); &#47;* do other stuff with view *&#47; ; return view;});</code>"},{"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"score":0,"creation_date":1638375221,"post_id":70184698,"comment_id":124072476,"body_markdown":"Ok I&#39;m not trying to be difficult, but that code just doesn&#39;t seem to work. The IDE does not like/accept: &quot;SegmentView view = new SegmentView(segment)&quot; I get red squiggles. I am new to all this, but I really don&#39;t see how that allows me to then refer to each segment, unless instead of above I name a segment and then set its style somehow (to name it something like:  SegmentedBar.Segment segment1 = new SegmentedBar.Segment(10, &quot;10&quot;) - but that doesn&#39;t allow for setStyle). Is there any chance you could use what you replied with in the context of my example above please?","body":"Ok I&#39;m not trying to be difficult, but that code just doesn&#39;t seem to work. The IDE does not like/accept: &quot;SegmentView view = new SegmentView(segment)&quot; I get red squiggles. I am new to all this, but I really don&#39;t see how that allows me to then refer to each segment, unless instead of above I name a segment and then set its style somehow (to name it something like:  SegmentedBar.Segment segment1 = new SegmentedBar.Segment(10, &quot;10&quot;) - but that doesn&#39;t allow for setStyle). Is there any chance you could use what you replied with in the context of my example above please?"},{"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"score":0,"creation_date":1638379438,"post_id":70184698,"comment_id":124074316,"body_markdown":"Oh give over, it&#39;s just colloquial. It showed no error message...of course I checked. As it turns out, I did investigate. Your answer below, although very helpful, didn&#39;t fully solve the issue. The error was because when binding my segmented bar from scenebuilder/FXML I hadn&#39;t included the &lt;Segment&gt;type (as in original post above). So I still got the error after using the below and yes then went on to figure it out. I&#39;ve been coding now for about three weeks, just FYI, so no I probably didn&#39;t get there as quick as others. But don&#39;t assume I wasn&#39;t trying. Anyway, thanks for the help.","body":"Oh give over, it&#39;s just colloquial. It showed no error message...of course I checked. As it turns out, I did investigate. Your answer below, although very helpful, didn&#39;t fully solve the issue. The error was because when binding my segmented bar from scenebuilder/FXML I hadn&#39;t included the &lt;Segment&gt;type (as in original post above). So I still got the error after using the below and yes then went on to figure it out. I&#39;ve been coding now for about three weeks, just FYI, so no I probably didn&#39;t get there as quick as others. But don&#39;t assume I wasn&#39;t trying. Anyway, thanks for the help."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1638401591,"post_id":70184698,"comment_id":124081951,"body_markdown":"@strudelPie you might want to add a [self-answer](https://stackoverflow.com/help/self-answer) that fully solves the issue, to help future users who may have the same issue.","body":"@strudelPie you might want to add a <a href=\"https://stackoverflow.com/help/self-answer\">self-answer</a> that fully solves the issue, to help future users who may have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638375539,"creation_date":1638375539,"answer_id":70187692,"question_id":70184698,"body_markdown":"Use the `segmentViewFactory` to style the `SegmentView` used to display each `Segment`:\r\n\r\n    import org.controlsfx.control.SegmentedBar;\r\n    import org.controlsfx.control.SegmentedBar.Segment;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Orientation;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    \r\n    \r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            SegmentedBar&lt;Segment&gt; segments = new SegmentedBar&lt;&gt;();\r\n            segments.setOrientation(Orientation.HORIZONTAL);\r\n            segments.getSegments().addAll(\r\n            \t     new SegmentedBar.Segment(10, &quot;10&quot;),\r\n            \t     new SegmentedBar.Segment(90, &quot;90&quot;)\t\t\r\n            );\r\n            segments.setSegmentViewFactory(segment -&gt; {\r\n            \tSegmentedBar&lt;Segment&gt;.SegmentView view = segments.new SegmentView(segment);\r\n            \tString color = segment.getValue() &lt; 50 ? &quot;#66C2A5&quot; : &quot;#FC8D62&quot; ;\r\n            \tview.setStyle(&quot;-fx-background-color: &quot;+color);\r\n            \treturn view ;\r\n            });\r\n            \r\n            BorderPane root = new BorderPane(segments);\r\n            root.setPadding(new Insets(10));\r\n            Scene scene = new Scene(root, 800, 500);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jrOah.png","title":"How to set colours of Segmented Bar Segments in JavaFX?","body":"<p>Use the <code>segmentViewFactory</code> to style the <code>SegmentView</code> used to display each <code>Segment</code>:</p>\n<pre><code>import org.controlsfx.control.SegmentedBar;\nimport org.controlsfx.control.SegmentedBar.Segment;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Orientation;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\n\n\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        SegmentedBar&lt;Segment&gt; segments = new SegmentedBar&lt;&gt;();\n        segments.setOrientation(Orientation.HORIZONTAL);\n        segments.getSegments().addAll(\n                 new SegmentedBar.Segment(10, &quot;10&quot;),\n                 new SegmentedBar.Segment(90, &quot;90&quot;)     \n        );\n        segments.setSegmentViewFactory(segment -&gt; {\n            SegmentedBar&lt;Segment&gt;.SegmentView view = segments.new SegmentView(segment);\n            String color = segment.getValue() &lt; 50 ? &quot;#66C2A5&quot; : &quot;#FC8D62&quot; ;\n            view.setStyle(&quot;-fx-background-color: &quot;+color);\n            return view ;\n        });\n        \n        BorderPane root = new BorderPane(segments);\n        root.setPadding(new Insets(10));\n        Scene scene = new Scene(root, 800, 500);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jrOah.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jrOah.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23391367,"reputation":35,"user_id":17455978,"display_name":"sillyPin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70187692,"answer_count":1,"score":1,"last_activity_date":1638375539,"creation_date":1638363671,"question_id":70184698,"body_markdown":"How do I set the colur of specific segments of a segmented bar in JavafX - which is from ControlsFX?\r\n\r\nhttps://javadoc.io/static/org.controlsfx/controlsfx/8.40.16/org/controlsfx/control/SegmentedBar.html\r\n\r\nSo if I very basically constructed and set two segments as below, how would I set them as different colours?\r\n\r\n    @FXML SegmentedBar segments;\r\n    \r\n    public void setSegments() {\r\n    segments.getSegments().addAll(\r\n         new SegmentedBar.Segment(10, &quot;10&quot;),\r\n         new SegmentedBar.Segment(90, &quot;90&quot;));\r\n    }\r\n\r\nThe .setStyle() method, which I&#39;ve seen used elsewhere as a solution, seems to only work for the Segmented Bar object itself, not the individual segments. So I&#39;m at a loss. ","title":"How to set colours of Segmented Bar Segments in JavaFX?","body":"<p>How do I set the colur of specific segments of a segmented bar in JavafX - which is from ControlsFX?</p>\n<p><a href=\"https://javadoc.io/static/org.controlsfx/controlsfx/8.40.16/org/controlsfx/control/SegmentedBar.html\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.controlsfx/controlsfx/8.40.16/org/controlsfx/control/SegmentedBar.html</a></p>\n<p>So if I very basically constructed and set two segments as below, how would I set them as different colours?</p>\n<pre><code>@FXML SegmentedBar segments;\n\npublic void setSegments() {\nsegments.getSegments().addAll(\n     new SegmentedBar.Segment(10, &quot;10&quot;),\n     new SegmentedBar.Segment(90, &quot;90&quot;));\n}\n</code></pre>\n<p>The .setStyle() method, which I've seen used elsewhere as a solution, seems to only work for the Segmented Bar object itself, not the individual segments. So I'm at a loss.</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1573807804,"post_id":58866715,"comment_id":104014390,"body_markdown":"You don&#39;t need `retryLimit(0)`. `I would like to prove that an unforeseen database error will cause the job to fail`: What you need for such scenario is to tell Spring Batch to not skip these exceptions and fail the step (and its surrounding job) using [FaulTolerantStepBuilder#noSkip](https://docs.spring.io/spring-batch/docs/4.2.x/api/org/springframework/batch/core/step/builder/FaultTolerantStepBuilder.html#noSkip-java.lang.Class-). Have you tried that?","body":"You don&#39;t need <code>retryLimit(0)</code>. <code>I would like to prove that an unforeseen database error will cause the job to fail</code>: What you need for such scenario is to tell Spring Batch to not skip these exceptions and fail the step (and its surrounding job) using <a href=\"https://docs.spring.io/spring-batch/docs/4.2.x/api/org/springframework/batch/core/step/builder/FaultTolerantStepBuilder.html#noSkip-java.lang.Class-\" rel=\"nofollow noreferrer\">FaulTolerantStepBuilder#noSkip</a>. Have you tried that?"},{"owner":{"account_id":7034149,"reputation":133,"user_id":5388857,"display_name":"Tyler Helmuth"},"score":0,"creation_date":1573837230,"post_id":58866715,"comment_id":104030279,"body_markdown":"I&#39;ve added noSkip(Exception.class) and it still does the same behavior. I believe the issue is that the exception is happening not in my own Writer code, but internally in the framework as my jpa transaction is committed. In fact, even if I remove everything under faultTolerant() except for &quot;noSkip(Exception.class)&quot; the job still completes successfully.","body":"I&#39;ve added noSkip(Exception.class) and it still does the same behavior. I believe the issue is that the exception is happening not in my own Writer code, but internally in the framework as my jpa transaction is committed. In fact, even if I remove everything under faultTolerant() except for &quot;noSkip(Exception.class)&quot; the job still completes successfully."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1574068568,"post_id":58866715,"comment_id":104084541,"body_markdown":"Is this similar to https://jira.spring.io/browse/BATCH-2403 ? If not, please share a [minimal](https://stackoverflow.com/help/minimal-reproducible-example) example that reproduces the issue and I&#39;ll try to take a look asap. Thanks.","body":"Is this similar to <a href=\"https://jira.spring.io/browse/BATCH-2403\" rel=\"nofollow noreferrer\">jira.spring.io/browse/BATCH-2403</a> ? If not, please share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal</a> example that reproduces the issue and I&#39;ll try to take a look asap. Thanks."},{"owner":{"account_id":7034149,"reputation":133,"user_id":5388857,"display_name":"Tyler Helmuth"},"score":0,"creation_date":1574360630,"post_id":58866715,"comment_id":104215552,"body_markdown":"@MahmoudBenHassine sorry for not responding earlier. It is similar/the same as that issue and I have fixed by flushing EntityManager in writer, which is similar to what the default JpaItemWriter does.  Thank you.","body":"@MahmoudBenHassine sorry for not responding earlier. It is similar/the same as that issue and I have fixed by flushing EntityManager in writer, which is similar to what the default JpaItemWriter does.  Thank you."}],"answers":[{"tags":[],"owner":{"account_id":7034149,"reputation":133,"user_id":5388857,"display_name":"Tyler Helmuth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573844855,"creation_date":1573844855,"answer_id":58883234,"question_id":58866715,"body_markdown":"There seems to be a problem with the fact that the exceptions are not thrown inside my own reader/processor/writer code because the sql statements aren&#39;t executed until the transaction is trying to commit. \r\n\r\nThe workaround, which can also be seen in spring batches JpaItemWriter, is to inject my EntityManager into my writer and manually call flush(). This forces any sql exceptions to get thrown from my code and my fault tolerant step handles them as expected.","title":"Spring batch error handling with JPA transaction","body":"<p>There seems to be a problem with the fact that the exceptions are not thrown inside my own reader/processor/writer code because the sql statements aren't executed until the transaction is trying to commit. </p>\n\n<p>The workaround, which can also be seen in spring batches JpaItemWriter, is to inject my EntityManager into my writer and manually call flush(). This forces any sql exceptions to get thrown from my code and my fault tolerant step handles them as expected.</p>\n"},{"tags":[],"owner":{"account_id":1245802,"reputation":460,"user_id":1207297,"display_name":"Abderrahmen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638375450,"creation_date":1638375450,"answer_id":70187662,"question_id":58866715,"body_markdown":"I tested the method proposed by @Tyler Helmuth and it works.\r\nI created a generic writer (i am using spring data JPA repositories with spring batch) that calls flush after the write method of the parent.\r\nThe source code of the writer is the following:\r\n\r\n    public class GenericRepositoryItemWriter&lt;T&gt; extends RepositoryItemWriter&lt;T&gt; {\r\n    \r\n        @PersistenceContext\r\n        EntityManager entityManager;\r\n    \r\n        public void write(List&lt;? extends T&gt; items) throws Exception{\r\n            super.write(items);\r\n            entityManager.flush();\r\n        }\r\n    }\r\n\r\nMy writer is defined like this:\r\n\r\n    @Bean(name = &quot;joueurWriter&quot;)\r\n        @StepScope\r\n        public RepositoryItemWriter&lt;Joueur&gt; joueurWriter() throws Exception {\r\n            RepositoryItemWriter&lt;Joueur&gt; writer = new GenericRepositoryItemWriter&lt;&gt;();\r\n            writer.setRepository(joueurRepository);\r\n            writer.setMethodName(&quot;save&quot;);\r\n            return writer;\r\n        }\r\nI have many steps with many writers in my spring batch config and each time in the writer i instanciate the GenericRepositoryItemWriter with the right entity.","title":"Spring batch error handling with JPA transaction","body":"<p>I tested the method proposed by @Tyler Helmuth and it works.\nI created a generic writer (i am using spring data JPA repositories with spring batch) that calls flush after the write method of the parent.\nThe source code of the writer is the following:</p>\n<pre><code>public class GenericRepositoryItemWriter&lt;T&gt; extends RepositoryItemWriter&lt;T&gt; {\n\n    @PersistenceContext\n    EntityManager entityManager;\n\n    public void write(List&lt;? extends T&gt; items) throws Exception{\n        super.write(items);\n        entityManager.flush();\n    }\n}\n</code></pre>\n<p>My writer is defined like this:</p>\n<pre><code>@Bean(name = &quot;joueurWriter&quot;)\n    @StepScope\n    public RepositoryItemWriter&lt;Joueur&gt; joueurWriter() throws Exception {\n        RepositoryItemWriter&lt;Joueur&gt; writer = new GenericRepositoryItemWriter&lt;&gt;();\n        writer.setRepository(joueurRepository);\n        writer.setMethodName(&quot;save&quot;);\n        return writer;\n    }\n</code></pre>\n<p>I have many steps with many writers in my spring batch config and each time in the writer i instanciate the GenericRepositoryItemWriter with the right entity.</p>\n"}],"owner":{"account_id":7034149,"reputation":133,"user_id":5388857,"display_name":"Tyler Helmuth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3067,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58883234,"answer_count":2,"score":1,"last_activity_date":1638375450,"creation_date":1573766546,"question_id":58866715,"body_markdown":"I have a spring batch job working the way I want to in the happy path scenario, but now I&#39;m focusing on error handling. \r\n\r\nMy goal is to skip a set of known errors, and to fail the job on any other exception like a DB error or external API error. I will restart the job later. To accomplish this I created the step config as \r\n```\r\n.faultTolerant()\r\n    .skip(SkippableException.class)\r\n    .skip(FlatFileParseException.class)\r\n    .skipLimit(Integer.MAX_VALUE)\r\n    .retryLimit(0)\r\n```\r\nIn an integration test, I have proved that the job will appropriately skip a bad record if the skippable exception is thrown in my reader/processor/writer.\r\n\r\nIn another test though, I would like to prove that an unforeseen database error will cause the job to fail. To do this I create a trigger that causes inserts to the table I&#39;m inserting to to fail. \r\n\r\nThis seems to work, the exception is thrown during transaction commit after my writer executes, and I get the following log messages:\r\n   \r\n        2019-11-14 16:12:15.183 ERROR 88508 --- [           main] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.GenericJDBCException: could not execute statement]\r\n        2019-11-14 16:12:15.184  INFO 88508 --- [           main] o.s.batch.core.step.tasklet.TaskletStep  : Commit failed while step execution data was already updated. Reverting to old version.\r\n\r\nThis seems to be the expected behavior as well. The problem is, this doesn&#39;t stop the job. The step exits to the SimplyRetryExceptionHandler which seems to think that the exception is not fatal. It &quot;retries&quot; the chunk and marks it as a success and moves on as a successful completion.\r\n\r\n**If I force this exception to be thrown inside the reader/processor/writer by causing a DB error inside my own logic, then the job successfully.. fails.**\r\n\r\nIs there something I need to do that handles retry/skip logic for exceptions that happen as part of the transaction commit?\r\n\r\nUpdate: I can confirm that my skip/retry settings are correct because if I inject my EntityManager and call flush() in my writer, the job correctly fails. But I definitely don&#39;t want to have to do that.\r\n\r\nUpdate 2: On second look it seems like the JpaItemWriter implementation provided by the framework calls entityManager.flush at the end of the write() method... So I might as well just also do that. ","title":"Spring batch error handling with JPA transaction","body":"<p>I have a spring batch job working the way I want to in the happy path scenario, but now I'm focusing on error handling. </p>\n\n<p>My goal is to skip a set of known errors, and to fail the job on any other exception like a DB error or external API error. I will restart the job later. To accomplish this I created the step config as </p>\n\n<pre><code>.faultTolerant()\n    .skip(SkippableException.class)\n    .skip(FlatFileParseException.class)\n    .skipLimit(Integer.MAX_VALUE)\n    .retryLimit(0)\n</code></pre>\n\n<p>In an integration test, I have proved that the job will appropriately skip a bad record if the skippable exception is thrown in my reader/processor/writer.</p>\n\n<p>In another test though, I would like to prove that an unforeseen database error will cause the job to fail. To do this I create a trigger that causes inserts to the table I'm inserting to to fail. </p>\n\n<p>This seems to work, the exception is thrown during transaction commit after my writer executes, and I get the following log messages:</p>\n\n<pre><code>    2019-11-14 16:12:15.183 ERROR 88508 --- [           main] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.GenericJDBCException: could not execute statement]\n    2019-11-14 16:12:15.184  INFO 88508 --- [           main] o.s.batch.core.step.tasklet.TaskletStep  : Commit failed while step execution data was already updated. Reverting to old version.\n</code></pre>\n\n<p>This seems to be the expected behavior as well. The problem is, this doesn't stop the job. The step exits to the SimplyRetryExceptionHandler which seems to think that the exception is not fatal. It \"retries\" the chunk and marks it as a success and moves on as a successful completion.</p>\n\n<p><strong>If I force this exception to be thrown inside the reader/processor/writer by causing a DB error inside my own logic, then the job successfully.. fails.</strong></p>\n\n<p>Is there something I need to do that handles retry/skip logic for exceptions that happen as part of the transaction commit?</p>\n\n<p>Update: I can confirm that my skip/retry settings are correct because if I inject my EntityManager and call flush() in my writer, the job correctly fails. But I definitely don't want to have to do that.</p>\n\n<p>Update 2: On second look it seems like the JpaItemWriter implementation provided by the framework calls entityManager.flush at the end of the write() method... So I might as well just also do that. </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3624931,"reputation":5148,"user_id":3022836,"accept_rate":50,"display_name":"Kunu"},"score":0,"creation_date":1630563788,"post_id":69025008,"comment_id":121991419,"body_markdown":"Post complete code and error logcat.","body":"Post complete code and error logcat."},{"owner":{"account_id":17886473,"reputation":85,"user_id":12994031,"display_name":"Nicolas Zanforlini"},"score":0,"creation_date":1630564408,"post_id":69025008,"comment_id":121991615,"body_markdown":"ok just a moment to post","body":"ok just a moment to post"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1630564855,"post_id":69025008,"comment_id":121991754,"body_markdown":"have you debugged your code?","body":"have you debugged your code?"},{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":0,"creation_date":1630565149,"post_id":69025008,"comment_id":121991864,"body_markdown":"This has returned `null`: `rdioGrp = findViewById(R.id.rdioGrpLang);`. In `onCreate()` you need to set the correct layout with `setContentView()` and any `findViewById()` should be after it and not before. so there&#39;s something to check.","body":"This has returned <code>null</code>: <code>rdioGrp = findViewById(R.id.rdioGrpLang);</code>. In <code>onCreate()</code> you need to set the correct layout with <code>setContentView()</code> and any <code>findViewById()</code> should be after it and not before. so there&#39;s something to check."},{"owner":{"account_id":17886473,"reputation":85,"user_id":12994031,"display_name":"Nicolas Zanforlini"},"score":0,"creation_date":1630566128,"post_id":69025008,"comment_id":121992296,"body_markdown":"ok all code of activity is post","body":"ok all code of activity is post"},{"owner":{"account_id":17886473,"reputation":85,"user_id":12994031,"display_name":"Nicolas Zanforlini"},"score":0,"creation_date":1630567256,"post_id":69025008,"comment_id":121992724,"body_markdown":"no Stultuske, i try","body":"no Stultuske, i try"}],"answers":[{"tags":[],"owner":{"account_id":22598073,"reputation":452,"user_id":16780065,"display_name":"nima"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1630575884,"creation_date":1630565064,"answer_id":69025346,"question_id":69025008,"body_markdown":"Delete -//language configuration- In Your Code And \r\n\r\nEdit The onOptionsItemSelected method as follows:\r\n\r\n\r\n\r\n\r\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n \r\n        ....\r\n        ....\r\n        case R.id.langue:\r\n        AlertDialog alert = new AlertDialog.Builder( this ).setView( R.layout.choose_language).create();\r\n        alert.show();\r\n        rdioGrp = alert.findViewById(R.id.rdioGrpLang);\r\n        setRadioListener();\r\n            break;\r\n\r\n        ....\r\n        ....\r\n    } // End onOptionsItemSelected Mehtod\r\n\r\n\r\n    private void setRadioListener() {\r\n\r\n        rdioGrp.setOnCheckedChangeListener(new \r\n    RadioGroup.OnCheckedChangeListener() {\r\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                RadioButton rb = (RadioButton) \r\n    group.findViewById(checkedId);\r\n                if (rb!=null){\r\n                    switch(checkedId) {\r\n                        case R.id.radioBtnFr:\r\n                            changeLang(&quot;fr&quot;);\r\n                            break;\r\n\r\n                        case R.id.radioBtnEn:\r\n                            changeLang(&quot;en&quot;);\r\n                            break;\r\n\r\n                        case R.id.radioBtnIt:\r\n                            changeLang(&quot;it-rIT&quot;);\r\n                            break;\r\n\r\n                        default:\r\n                            app.l(&quot;iiii&quot;);\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void changeLang(String l) {\r\n        Locale locale = new Locale(l);\r\n        Locale.setDefault(locale);\r\n        Configuration config = new Configuration();\r\n        config.locale = locale;\r\n        getBaseContext().getResources().updateConfiguration(config, getBaseContext().getResources().getDisplayMetrics());\r\n        recreate();\r\n    }\r\n","title":"Exception we have null reference object but the radio button is initialized","body":"<p>Delete -//language configuration- In Your Code And</p>\n<p>Edit The onOptionsItemSelected method as follows:</p>\n<pre><code>@SuppressLint(&quot;NonConstantResourceId&quot;)\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n\n    ....\n    ....\n    case R.id.langue:\n    AlertDialog alert = new AlertDialog.Builder( this ).setView( R.layout.choose_language).create();\n    alert.show();\n    rdioGrp = alert.findViewById(R.id.rdioGrpLang);\n    setRadioListener();\n        break;\n\n    ....\n    ....\n} // End onOptionsItemSelected Mehtod\n\n\nprivate void setRadioListener() {\n\n    rdioGrp.setOnCheckedChangeListener(new \nRadioGroup.OnCheckedChangeListener() {\n        @SuppressLint(&quot;NonConstantResourceId&quot;)\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            RadioButton rb = (RadioButton) \ngroup.findViewById(checkedId);\n            if (rb!=null){\n                switch(checkedId) {\n                    case R.id.radioBtnFr:\n                        changeLang(&quot;fr&quot;);\n                        break;\n\n                    case R.id.radioBtnEn:\n                        changeLang(&quot;en&quot;);\n                        break;\n\n                    case R.id.radioBtnIt:\n                        changeLang(&quot;it-rIT&quot;);\n                        break;\n\n                    default:\n                        app.l(&quot;iiii&quot;);\n                }\n\n            }\n        }\n    });\n}\n\npublic void changeLang(String l) {\n    Locale locale = new Locale(l);\n    Locale.setDefault(locale);\n    Configuration config = new Configuration();\n    config.locale = locale;\n    getBaseContext().getResources().updateConfiguration(config, getBaseContext().getResources().getDisplayMetrics());\n    recreate();\n}\n</code></pre>\n"}],"owner":{"account_id":17886473,"reputation":85,"user_id":12994031,"display_name":"Nicolas Zanforlini"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69025346,"answer_count":1,"score":0,"last_activity_date":1638375305,"creation_date":1630563302,"question_id":69025008,"body_markdown":"I have been blocked for 2 days, I have an exception on a radio button for a change of language of the application, activity stop with nullPointerException on a null objet reference,\r\n\r\n&quot;NullPointerException: Attempt to invoke virtual method &#39;void android.widget.RadioGroup.setOnCheckedChangeListener(android.widget.RadioGroup$OnCheckedChangeListener)&#39; on a null object reference&quot;\r\n \r\nstrings file xml are ok, do you see something that I do not see? here is the code : \r\n\r\n    public class ArtistActivity extends AppCompatActivity implements View.OnClickListener {\r\n\r\n    TextView name;\r\n    ImageView img;\r\n    TextView music;\r\n    String title;\r\n    String musicArtist;\r\n    MaterialButton btnPlay;\r\n    MaterialButton btnStop;\r\n    TextView titleMusicArtist;\r\n    MediaPlayer mediaPlayer = new MediaPlayer();\r\n    RadioGroup rdioGrp;\r\n\r\n    // information artist\r\n    String imgUrl = &quot;https://st3.depositphotos.com/1008939/12603/i/950/depositphotos_126032722-stock-photo-roaring-singing-woman.jpg&quot;;\r\n    String musicUrl = &quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3&quot;;\r\n    String siteUrl = &quot;https://sites.google.com/view/bestrecord/accueil?authuser=1&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_artist);\r\n\r\n\r\n        // button music, playlist and new playlist\r\n        LinearLayout linearPlaylist = findViewById(R.id.linearPlaylist);\r\n        LinearLayout linearNewPlaylist = findViewById(R.id.linearNewPlaylist);\r\n        LinearLayout linearMusic = findViewById(R.id.linearMusic);\r\n        linearPlaylist.setOnClickListener(this);\r\n        linearNewPlaylist.setOnClickListener(this);\r\n        linearMusic.setOnClickListener(this);\r\n        linearMusic.setTag(0);\r\n        linearPlaylist.setTag(1);\r\n        linearNewPlaylist.setTag(2);\r\n\r\n        // button play\r\n        btnPlay = findViewById(R.id.btn_play_music_artist);\r\n        btnPlay.setOnClickListener(this);\r\n        btnPlay.setTag(3);\r\n\r\n        // button stop\r\n        btnStop = findViewById(R.id.btn_stop_music_artist);\r\n        btnStop.setOnClickListener(this);\r\n        btnStop.setTag(4);\r\n\r\n        // textView title Music\r\n        titleMusicArtist = findViewById(R.id.txtLastMusicPlayed);\r\n\r\n        // display artist information\r\n        name = findViewById(R.id.txtViewTitleArtist);\r\n        img = findViewById(R.id.imageArtist);\r\n        music = findViewById(R.id.txtViewMusicArtist);\r\n\r\n\r\n        // image artiste\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n\r\n        try {\r\n            InputStream input = new java.net.URL(imgUrl).openStream();\r\n            Bitmap bitmap = BitmapFactory.decodeStream(input);\r\n            img.setImageBitmap(bitmap);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // name and song title artist\r\n        Scrape scrapeTitle = new Scrape();\r\n        scrapeTitle.execute();\r\n\r\n\r\n        // prepare music artist\r\n        if (!mediaPlayer.isPlaying()) {\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                mediaPlayer.setDataSource(musicUrl);\r\n                mediaPlayer.prepare();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        // language configuration\r\n        init();\r\n\r\n    }\r\n\r\n\r\n\r\n    // scrape information artist\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private class Scrape extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n    @Override\r\n    protected void onPreExecute() {\r\n        super.onPreExecute();\r\n    }\r\n\r\n    @Override\r\n    protected Void doInBackground(Void... voids) {\r\n\r\n        Document document = null;\r\n        try {\r\n            // Connect to the website\r\n            document = Jsoup.connect(siteUrl).get();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        // take name artist\r\n        assert document != null;\r\n        List&lt;String&gt; e = document.getElementsByClass(&quot; jgG6ef&quot;).eachText();\r\n        title = e.get(0)+&quot; &quot;+e.get(1);\r\n        name.setText(title);\r\n\r\n        // take song title artist\r\n        List&lt;String&gt; ee = document.getElementsByAttributeValue(&quot;id&quot;,&quot;h.s0qhywz0cts2&quot;).eachText();\r\n        musicArtist = ee.get(0);\r\n        music.setText(musicArtist);\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Void aVoid) { }\r\n    }\r\n\r\n    // create menu application\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        super.onCreateOptionsMenu(menu);\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.menu_mainactivity, menu);\r\n        return true;\r\n    }\r\n\r\n    // menu buttons music / playlist / new playlist\r\n    public void onClick(View v) {\r\n        int btnInt = ( int ) v.getTag();\r\n\r\n        // button music clicked\r\n        if ( btnInt == 0 ) {\r\n            // go to page music\r\n            Intent musicIntent = new Intent(ArtistActivity.this, MainActivity.class );\r\n            startActivity( musicIntent );\r\n\r\n        // button playlist clicked\r\n        } else if ( btnInt == 1 ) {\r\n            // go to page playlist\r\n            Intent PlaylistIntent = new Intent(ArtistActivity.this, PlaylistActivity.class );\r\n            startActivity( PlaylistIntent );\r\n\r\n        // button new playlist clicked\r\n        }else if ( btnInt == 2 ) {\r\n            // go to page new playlist\r\n            Intent newPlaylistIntent = new Intent(ArtistActivity.this, NewPlaylistActivity.class );\r\n            startActivity( newPlaylistIntent );\r\n        }\r\n        // end menu button\r\n\r\n\r\n        // button play/pause\r\n        else if( btnInt == 3) {\r\n            if(mediaPlayer.isPlaying()) {\r\n                mediaPlayer.pause();\r\n                btnPlay.setIconResource(R.drawable.ic_baseline_play_arrow_24);\r\n            } else if(!mediaPlayer.isPlaying()) {\r\n                mediaPlayer.start();\r\n                if(mediaPlayer.isPlaying()) btnPlay.setIconResource(R.drawable.ic_pause);\r\n            }\r\n        }\r\n        // button stop\r\n        else if( btnInt == 4) {\r\n            mediaPlayer.reset();\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                mediaPlayer.setDataSource(musicUrl);\r\n                mediaPlayer.prepare();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    // menu hamburger, items clicked\r\n    @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n        switch (id){\r\n            case R.id.artiste:\r\n                Toast.makeText(ArtistActivity.this, item.getTitle().toString(), Toast.LENGTH_SHORT).show();\r\n                break;\r\n\r\n            case R.id.site_officiel:\r\n                Intent intent = new Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://sites.google.com/view/bestrecord/accueil?authuser=1&quot;));\r\n                startActivity(intent);\r\n                break;\r\n\r\n            case R.id.contact:\r\n                Intent contactIntent = new Intent(ArtistActivity.this, ContactBestRecord.class );\r\n                startActivity( contactIntent );\r\n                break;\r\n\r\n            case R.id.langue:\r\n                AlertDialog.Builder alertLang = new AlertDialog.Builder( this );\r\n                alertLang.setView( R.layout.layout_test )\r\n                        .create()\r\n                        .show();\r\n                break;\r\n\r\n            case R.id.about:\r\n                AlertDialog.Builder alert = new AlertDialog.Builder( this );\r\n                alert.setView( R.layout.about_us )\r\n                        .create()\r\n                        .show();\r\n                break;\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    // end menu\r\n\r\n\r\n\r\n    // change language\r\n    public void init() {\r\n        rdioGrp = findViewById(R.id.rdioGrpLang);\r\n        rdioGrp.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                RadioButton rb = (RadioButton) group.findViewById(checkedId);\r\n                if (rb!=null){\r\n                    switch(checkedId) {\r\n                        case R.id.radioBtnFr:\r\n                            changeLang(&quot;fr&quot;);\r\n                            break;\r\n\r\n                        case R.id.radioBtnEn:\r\n                            changeLang(&quot;en&quot;);\r\n                            break;\r\n\r\n                        case R.id.radioBtnIt:\r\n                            changeLang(&quot;it-rIT&quot;);\r\n                            break;\r\n\r\n                        default:\r\n                            changeLang(&quot;fr&quot;);\r\n                    }\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    // method to change language\r\n    public void changeLang(String l) {\r\n        Locale locale = new Locale(l);\r\n        Locale.setDefault(locale);\r\n        Configuration config = new Configuration();\r\n        config.locale = locale;\r\n        getBaseContext().getResources().updateConfiguration(config, getBaseContext().getResources().getDisplayMetrics());\r\n        recreate();\r\n    }\r\n    }\r\n\r\n\r\n\r\nthe layout call in dialBox layout &quot;test&quot; :\r\n\r\n    &lt;RelativeLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/border_layout_about_us&quot;\r\n    android:padding=&quot;@dimen/dim_15&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/chooseLanguage&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;@dimen/dim_20&quot;\r\n        android:gravity=&quot;center&quot;\r\n        tools:ignore=&quot;SpUsage&quot;\r\n        android:id=&quot;@+id/txtLangue&quot;/&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/txtLangue&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:gravity=&quot;center&quot;\r\n        &gt;\r\n\r\n\r\n        &lt;RadioGroup\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_margin=&quot;@dimen/dim_10&quot;\r\n            android:id=&quot;@+id/rdioGrpLang&quot;\r\n            tools:ignore=&quot;UselessParent&quot;&gt;\r\n\r\n            &lt;RadioButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/radioBtnFr&quot;\r\n                android:checked=&quot;true&quot;\r\n                android:buttonTint=&quot;@color/white&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:text=&quot;@string/langueFr&quot;&gt;\r\n            &lt;/RadioButton&gt;\r\n\r\n            &lt;RadioButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/radioBtnEn&quot;\r\n                android:text=&quot;@string/langueEn&quot;\r\n                android:buttonTint=&quot;@color/white&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:layout_marginLeft=&quot;@dimen/dim_10&quot;\r\n                android:layout_marginRight=&quot;@dimen/dim_10&quot;&gt;\r\n            &lt;/RadioButton&gt;\r\n\r\n            &lt;RadioButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/radioBtnIt&quot;\r\n                android:buttonTint=&quot;@color/white&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:text=&quot;@string/langueIt&quot;&gt;\r\n            &lt;/RadioButton&gt;\r\n\r\n        &lt;/RadioGroup&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n","title":"Exception we have null reference object but the radio button is initialized","body":"<p>I have been blocked for 2 days, I have an exception on a radio button for a change of language of the application, activity stop with nullPointerException on a null objet reference,</p>\n<p>&quot;NullPointerException: Attempt to invoke virtual method 'void android.widget.RadioGroup.setOnCheckedChangeListener(android.widget.RadioGroup$OnCheckedChangeListener)' on a null object reference&quot;</p>\n<p>strings file xml are ok, do you see something that I do not see? here is the code :</p>\n<pre><code>public class ArtistActivity extends AppCompatActivity implements View.OnClickListener {\n\nTextView name;\nImageView img;\nTextView music;\nString title;\nString musicArtist;\nMaterialButton btnPlay;\nMaterialButton btnStop;\nTextView titleMusicArtist;\nMediaPlayer mediaPlayer = new MediaPlayer();\nRadioGroup rdioGrp;\n\n// information artist\nString imgUrl = &quot;https://st3.depositphotos.com/1008939/12603/i/950/depositphotos_126032722-stock-photo-roaring-singing-woman.jpg&quot;;\nString musicUrl = &quot;https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3&quot;;\nString siteUrl = &quot;https://sites.google.com/view/bestrecord/accueil?authuser=1&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_artist);\n\n\n    // button music, playlist and new playlist\n    LinearLayout linearPlaylist = findViewById(R.id.linearPlaylist);\n    LinearLayout linearNewPlaylist = findViewById(R.id.linearNewPlaylist);\n    LinearLayout linearMusic = findViewById(R.id.linearMusic);\n    linearPlaylist.setOnClickListener(this);\n    linearNewPlaylist.setOnClickListener(this);\n    linearMusic.setOnClickListener(this);\n    linearMusic.setTag(0);\n    linearPlaylist.setTag(1);\n    linearNewPlaylist.setTag(2);\n\n    // button play\n    btnPlay = findViewById(R.id.btn_play_music_artist);\n    btnPlay.setOnClickListener(this);\n    btnPlay.setTag(3);\n\n    // button stop\n    btnStop = findViewById(R.id.btn_stop_music_artist);\n    btnStop.setOnClickListener(this);\n    btnStop.setTag(4);\n\n    // textView title Music\n    titleMusicArtist = findViewById(R.id.txtLastMusicPlayed);\n\n    // display artist information\n    name = findViewById(R.id.txtViewTitleArtist);\n    img = findViewById(R.id.imageArtist);\n    music = findViewById(R.id.txtViewMusicArtist);\n\n\n    // image artiste\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n\n    try {\n        InputStream input = new java.net.URL(imgUrl).openStream();\n        Bitmap bitmap = BitmapFactory.decodeStream(input);\n        img.setImageBitmap(bitmap);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    // name and song title artist\n    Scrape scrapeTitle = new Scrape();\n    scrapeTitle.execute();\n\n\n    // prepare music artist\n    if (!mediaPlayer.isPlaying()) {\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n        try {\n            mediaPlayer.setDataSource(musicUrl);\n            mediaPlayer.prepare();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // language configuration\n    init();\n\n}\n\n\n\n// scrape information artist\n@SuppressLint(&quot;StaticFieldLeak&quot;)\nprivate class Scrape extends AsyncTask&lt;Void, Void, Void&gt; {\n\n@Override\nprotected void onPreExecute() {\n    super.onPreExecute();\n}\n\n@Override\nprotected Void doInBackground(Void... voids) {\n\n    Document document = null;\n    try {\n        // Connect to the website\n        document = Jsoup.connect(siteUrl).get();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    // take name artist\n    assert document != null;\n    List&lt;String&gt; e = document.getElementsByClass(&quot; jgG6ef&quot;).eachText();\n    title = e.get(0)+&quot; &quot;+e.get(1);\n    name.setText(title);\n\n    // take song title artist\n    List&lt;String&gt; ee = document.getElementsByAttributeValue(&quot;id&quot;,&quot;h.s0qhywz0cts2&quot;).eachText();\n    musicArtist = ee.get(0);\n    music.setText(musicArtist);\n    return null;\n}\n\n@Override\nprotected void onPostExecute(Void aVoid) { }\n}\n\n// create menu application\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    super.onCreateOptionsMenu(menu);\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.menu_mainactivity, menu);\n    return true;\n}\n\n// menu buttons music / playlist / new playlist\npublic void onClick(View v) {\n    int btnInt = ( int ) v.getTag();\n\n    // button music clicked\n    if ( btnInt == 0 ) {\n        // go to page music\n        Intent musicIntent = new Intent(ArtistActivity.this, MainActivity.class );\n        startActivity( musicIntent );\n\n    // button playlist clicked\n    } else if ( btnInt == 1 ) {\n        // go to page playlist\n        Intent PlaylistIntent = new Intent(ArtistActivity.this, PlaylistActivity.class );\n        startActivity( PlaylistIntent );\n\n    // button new playlist clicked\n    }else if ( btnInt == 2 ) {\n        // go to page new playlist\n        Intent newPlaylistIntent = new Intent(ArtistActivity.this, NewPlaylistActivity.class );\n        startActivity( newPlaylistIntent );\n    }\n    // end menu button\n\n\n    // button play/pause\n    else if( btnInt == 3) {\n        if(mediaPlayer.isPlaying()) {\n            mediaPlayer.pause();\n            btnPlay.setIconResource(R.drawable.ic_baseline_play_arrow_24);\n        } else if(!mediaPlayer.isPlaying()) {\n            mediaPlayer.start();\n            if(mediaPlayer.isPlaying()) btnPlay.setIconResource(R.drawable.ic_pause);\n        }\n    }\n    // button stop\n    else if( btnInt == 4) {\n        mediaPlayer.reset();\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n        try {\n            mediaPlayer.setDataSource(musicUrl);\n            mediaPlayer.prepare();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n}\n\n// menu hamburger, items clicked\n@SuppressLint(&quot;NonConstantResourceId&quot;)\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n    switch (id){\n        case R.id.artiste:\n            Toast.makeText(ArtistActivity.this, item.getTitle().toString(), Toast.LENGTH_SHORT).show();\n            break;\n\n        case R.id.site_officiel:\n            Intent intent = new Intent(Intent.ACTION_VIEW).setData(Uri.parse(&quot;https://sites.google.com/view/bestrecord/accueil?authuser=1&quot;));\n            startActivity(intent);\n            break;\n\n        case R.id.contact:\n            Intent contactIntent = new Intent(ArtistActivity.this, ContactBestRecord.class );\n            startActivity( contactIntent );\n            break;\n\n        case R.id.langue:\n            AlertDialog.Builder alertLang = new AlertDialog.Builder( this );\n            alertLang.setView( R.layout.layout_test )\n                    .create()\n                    .show();\n            break;\n\n        case R.id.about:\n            AlertDialog.Builder alert = new AlertDialog.Builder( this );\n            alert.setView( R.layout.about_us )\n                    .create()\n                    .show();\n            break;\n    }\n    return super.onOptionsItemSelected(item);\n}\n// end menu\n\n\n\n// change language\npublic void init() {\n    rdioGrp = findViewById(R.id.rdioGrpLang);\n    rdioGrp.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @SuppressLint(&quot;NonConstantResourceId&quot;)\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            RadioButton rb = (RadioButton) group.findViewById(checkedId);\n            if (rb!=null){\n                switch(checkedId) {\n                    case R.id.radioBtnFr:\n                        changeLang(&quot;fr&quot;);\n                        break;\n\n                    case R.id.radioBtnEn:\n                        changeLang(&quot;en&quot;);\n                        break;\n\n                    case R.id.radioBtnIt:\n                        changeLang(&quot;it-rIT&quot;);\n                        break;\n\n                    default:\n                        changeLang(&quot;fr&quot;);\n                }\n\n            }\n        }\n    });\n\n}\n\n// method to change language\npublic void changeLang(String l) {\n    Locale locale = new Locale(l);\n    Locale.setDefault(locale);\n    Configuration config = new Configuration();\n    config.locale = locale;\n    getBaseContext().getResources().updateConfiguration(config, getBaseContext().getResources().getDisplayMetrics());\n    recreate();\n}\n}\n</code></pre>\n<p>the layout call in dialBox layout &quot;test&quot; :</p>\n<pre><code>&lt;RelativeLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@drawable/border_layout_about_us&quot;\nandroid:padding=&quot;@dimen/dim_15&quot;&gt;\n\n&lt;TextView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/chooseLanguage&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textSize=&quot;@dimen/dim_20&quot;\n    android:gravity=&quot;center&quot;\n    tools:ignore=&quot;SpUsage&quot;\n    android:id=&quot;@+id/txtLangue&quot;/&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_below=&quot;@+id/txtLangue&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:gravity=&quot;center&quot;\n    &gt;\n\n\n    &lt;RadioGroup\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:layout_margin=&quot;@dimen/dim_10&quot;\n        android:id=&quot;@+id/rdioGrpLang&quot;\n        tools:ignore=&quot;UselessParent&quot;&gt;\n\n        &lt;RadioButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/radioBtnFr&quot;\n            android:checked=&quot;true&quot;\n            android:buttonTint=&quot;@color/white&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;@string/langueFr&quot;&gt;\n        &lt;/RadioButton&gt;\n\n        &lt;RadioButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/radioBtnEn&quot;\n            android:text=&quot;@string/langueEn&quot;\n            android:buttonTint=&quot;@color/white&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:layout_marginLeft=&quot;@dimen/dim_10&quot;\n            android:layout_marginRight=&quot;@dimen/dim_10&quot;&gt;\n        &lt;/RadioButton&gt;\n\n        &lt;RadioButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/radioBtnIt&quot;\n            android:buttonTint=&quot;@color/white&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;@string/langueIt&quot;&gt;\n        &lt;/RadioButton&gt;\n\n    &lt;/RadioGroup&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n"},{"tags":["java","http","servlets","file-upload","mime"],"answers":[{"tags":[],"owner":{"account_id":13678259,"reputation":19,"user_id":9869203,"display_name":"HLGallon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638375016,"creation_date":1638375016,"answer_id":70187547,"question_id":70153230,"body_markdown":"This is an application developed under Eclipse IDE configured as a Maven project. The external JAR httpmime-4.5.6.jar needs to be added to the project&#39;s Java Build Path, and the dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n        &lt;version&gt;4.5.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nneeds to be added to the dependencies in pom.xml.\r\n\r\n","title":"java MultipartEntityBuilder java.lang.LinkageError","body":"<p>This is an application developed under Eclipse IDE configured as a Maven project. The external JAR httpmime-4.5.6.jar needs to be added to the project's Java Build Path, and the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n    &lt;version&gt;4.5.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>needs to be added to the dependencies in pom.xml.</p>\n"}],"owner":{"account_id":13678259,"reputation":19,"user_id":9869203,"display_name":"HLGallon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638375016,"creation_date":1638182369,"question_id":70153230,"body_markdown":"I have a Java application running under Apache Tomcat 8.0.21.0 on a RHEL 7.8 server. It takes input from a Browser and uploads a file to another Java application running on a remote server.\r\n\r\nThe partial code is:\r\n\r\n    // FileItem &quot;fileToUpload&quot; is passed by a HTML input type &quot;file&quot; in a JSP page\r\n    private void doPost (HttpServletRequest request, HttpServletResponse response) \r\n        throws IOException, ServletException\r\n    {\r\n        try\r\n        {\r\n            if (ServletFileUpload.isMultipartContent (request))\r\n            {\r\n                FileItemFactory factory = new DiskFileItemFactory ();\r\n                ServletFileUpload upload = new ServletFileUpload (factory);\r\n                List&lt;FileItem&gt; fileItems = upload.parseRequest (request);\r\n\r\n                // findFileItem () and generateFileDetails () are local functions\r\n                FileItem fileItemToUpload = findFileItem (fileItems, &quot;fileToUpload&quot;);\r\n                String fileDetails = generateFileDetails (fileItemToUpload);\r\n\r\n                MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create ();\r\n                entityBuilder.setMode (HttpMultipartMode.BROWSER_COMPATIBLE);\r\n                entityBuilder.addTextBody (&quot;fileDetails&quot;, fileDetails);\r\n\r\n                InputStream is = fileItemToUpload.getInputStream ();\r\n                entityBuilder.addBinaryBody (&quot;is&quot;, is);\r\n\r\n                HttpEntity entity = entityBuilder.build ();  // Exception thrown here\r\n\r\n                String url = &quot;[remote server URL]&quot;;\r\n                CloseableHttpClient httpClient = HttpClients.createDefault ();\r\n                HttpPost httpPost = new HttpPost (url);\r\n                httpPost.setEntity (entity);\r\n\r\n                CloseableHttpResponse response = httpClient.execute (httpPost);\r\n                .\r\n                .\r\n                .\r\n                response.close ();\r\n                httpClient.close ();\r\n            }\r\n            else\r\n            {\r\n                /* handle non-multipart POSTs */\r\n            }\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            .\r\n            .\r\n            .\r\n        }\r\n    }\r\n\r\nThe rather verbose Exception:\r\n\r\njava.lang.LinkageError: loader constraint violation: when resolving method &quot;org.apache.http.entity.mime.MultipartEntityBuilder.build()Lorg/apache/http/HttpEntity;&quot; the class loader (instance of org/apache/catalina/loader/WebappClassLoader) of the current class, uri_test_main/HttpHdlr, and the class loader (instance of java/net/URLClassLoader) for the method&#39;s defining class, org/apache/http/entity/mime/MultipartEntityBuilder, have different Class objects for the type er.build()Lorg/apache/http/HttpEntity; used in the signature\r\n\r\nis thrown at the line: &quot;HttpEntity entity = entityBuilder.build ();&quot;\r\n\r\nNote: the Exception is consistent across all browser products.\r\n\r\nIs there a quick or obvious fix? I have several workarounds available, but would prefer not to use the deprecated class MultipartEntity.\r\n\r\n","title":"java MultipartEntityBuilder java.lang.LinkageError","body":"<p>I have a Java application running under Apache Tomcat 8.0.21.0 on a RHEL 7.8 server. It takes input from a Browser and uploads a file to another Java application running on a remote server.</p>\n<p>The partial code is:</p>\n<pre><code>// FileItem &quot;fileToUpload&quot; is passed by a HTML input type &quot;file&quot; in a JSP page\nprivate void doPost (HttpServletRequest request, HttpServletResponse response) \n    throws IOException, ServletException\n{\n    try\n    {\n        if (ServletFileUpload.isMultipartContent (request))\n        {\n            FileItemFactory factory = new DiskFileItemFactory ();\n            ServletFileUpload upload = new ServletFileUpload (factory);\n            List&lt;FileItem&gt; fileItems = upload.parseRequest (request);\n\n            // findFileItem () and generateFileDetails () are local functions\n            FileItem fileItemToUpload = findFileItem (fileItems, &quot;fileToUpload&quot;);\n            String fileDetails = generateFileDetails (fileItemToUpload);\n\n            MultipartEntityBuilder entityBuilder = MultipartEntityBuilder.create ();\n            entityBuilder.setMode (HttpMultipartMode.BROWSER_COMPATIBLE);\n            entityBuilder.addTextBody (&quot;fileDetails&quot;, fileDetails);\n\n            InputStream is = fileItemToUpload.getInputStream ();\n            entityBuilder.addBinaryBody (&quot;is&quot;, is);\n\n            HttpEntity entity = entityBuilder.build ();  // Exception thrown here\n\n            String url = &quot;[remote server URL]&quot;;\n            CloseableHttpClient httpClient = HttpClients.createDefault ();\n            HttpPost httpPost = new HttpPost (url);\n            httpPost.setEntity (entity);\n\n            CloseableHttpResponse response = httpClient.execute (httpPost);\n            .\n            .\n            .\n            response.close ();\n            httpClient.close ();\n        }\n        else\n        {\n            /* handle non-multipart POSTs */\n        }\n    }\n    catch (Exception e)\n    {\n        .\n        .\n        .\n    }\n}\n</code></pre>\n<p>The rather verbose Exception:</p>\n<p>java.lang.LinkageError: loader constraint violation: when resolving method &quot;org.apache.http.entity.mime.MultipartEntityBuilder.build()Lorg/apache/http/HttpEntity;&quot; the class loader (instance of org/apache/catalina/loader/WebappClassLoader) of the current class, uri_test_main/HttpHdlr, and the class loader (instance of java/net/URLClassLoader) for the method's defining class, org/apache/http/entity/mime/MultipartEntityBuilder, have different Class objects for the type er.build()Lorg/apache/http/HttpEntity; used in the signature</p>\n<p>is thrown at the line: &quot;HttpEntity entity = entityBuilder.build ();&quot;</p>\n<p>Note: the Exception is consistent across all browser products.</p>\n<p>Is there a quick or obvious fix? I have several workarounds available, but would prefer not to use the deprecated class MultipartEntity.</p>\n"},{"tags":["java","html","spring-boot","thymeleaf"],"owner":{"account_id":5666775,"reputation":13,"user_id":4482737,"display_name":"MindGames2015"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638374568,"creation_date":1638374568,"question_id":70187435,"body_markdown":"I have a landing page success.html, where after a successful change of password, they land on this page, to be told their change of password was successful, from there, after pressing the continue button on that page, they go to the &#39;/home&#39; endpoint. On the backend, the mapping for this is:-\r\n```\r\n\r\n       model.clear();\r\n       model.setViewName(&quot;redirect:/home&quot;);\r\n       \r\n       return model;\r\n```\r\nMy question is how do I redirect to my success.html page with the success message, I have tried:\r\n```\r\nmodel.setViewName(&quot;redirect:/success.html&quot;);\r\n\r\n```\r\n\r\nSince I haven&#39;t created an endpoint for success, I just want this just to be a temporary landing page, then press continue, and stay on the changePassword endpoint &#39;/changePassword&#39;.\r\n\r\nThanks for any help\r\n\r\n","title":"Spring Boot redirect to a landing page then onto an endpoint","body":"<p>I have a landing page success.html, where after a successful change of password, they land on this page, to be told their change of password was successful, from there, after pressing the continue button on that page, they go to the '/home' endpoint. On the backend, the mapping for this is:-</p>\n<pre><code>\n       model.clear();\n       model.setViewName(&quot;redirect:/home&quot;);\n       \n       return model;\n</code></pre>\n<p>My question is how do I redirect to my success.html page with the success message, I have tried:</p>\n<pre><code>model.setViewName(&quot;redirect:/success.html&quot;);\n\n</code></pre>\n<p>Since I haven't created an endpoint for success, I just want this just to be a temporary landing page, then press continue, and stay on the changePassword endpoint '/changePassword'.</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","mongodb","quarkus","mongo-java-driver","quarkus-panache"],"answers":[{"tags":[],"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638374303,"creation_date":1638374303,"answer_id":70187377,"question_id":70185242,"body_markdown":"Constructing a Bson document did the trick:\r\n\r\n    Document id = new Document();\r\n    id.append(&quot;b&quot;, 1234);\r\n    id.append(&quot;a&quot;,  new ObjectId().toHexString());\r\n    Document entity = new Document(&quot;_id&quot;, id);\r\n    ...\r\n\r\n \r\n\r\n","title":"guarantee fields order in a mongodb documents using mongodb java driver","body":"<p>Constructing a Bson document did the trick:</p>\n<pre><code>Document id = new Document();\nid.append(&quot;b&quot;, 1234);\nid.append(&quot;a&quot;,  new ObjectId().toHexString());\nDocument entity = new Document(&quot;_id&quot;, id);\n...\n</code></pre>\n"}],"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638374303,"creation_date":1638365955,"question_id":70185242,"body_markdown":"Using MongoDB driver 4.1.0 (and quarkus 1.1.1), I have an entity with a composite `_id`:\r\n\r\n    @BsonId\r\n    @JsonProperty(&quot;_id&quot;)\r\n    private CompositeId id = new CompositeId();\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public static class CompositeId {\r\n        @BsonProperty(&quot;b&quot;)\r\n        private int b;\r\n        @BsonProperty(&quot;a&quot;)\r\n        private String a;\r\n    }\r\n(where a is actually an ObjectId hex string)\r\n\r\nAfter saving the entity, the `_id` fields are preserved in an alphabetic order:\r\n\r\n    &quot;_id&quot; : {\r\n\t\t&quot;a&quot; : &quot;61a480509da3560292eb1ab5&quot;,\r\n\t\t&quot;b&quot; : 1234\r\n\t},\r\n\r\nLater, the same logical entity is upserted elsewhere using `pymongo`:\r\n\r\n`collection.update_one({&#39;_id&#39;: id}, {&#39;$set&#39;: ...`\r\n\r\nThe `id` in the query document is constructed with `python` `OrderedDict`, with `b` as first in order, and `a` as second. \r\n\r\n**So I end up with two identical documents in collection, differ only in `_id` fields order:** \r\n\r\n    {\r\n\t    &quot;_id&quot; : {\r\n\t\t    &quot;a&quot; : &quot;61a480509da3560292eb1ab5&quot;,\r\n\t\t    &quot;b&quot; : 1234\r\n\t    },\r\n\t    // rest of identical fields for Java inserted document\r\n    }\r\n    {\r\n\t    &quot;_id&quot; : {\r\n\t\t    &quot;b&quot; : 1234,\r\n\t\t    &quot;a&quot; : &quot;61a480509da3560292eb1ab5&quot;\r\n\t    },\r\n\t    // rest of identical fields for Python upserted document\r\n    }\r\n\r\nSo, my question is, is there a way to configure the Java driver to preserve the order of fields in document (something such as `@JsonPropertyOrder`) or less realistically, using quarkus/panache configuration? \r\n\r\n","title":"guarantee fields order in a mongodb documents using mongodb java driver","body":"<p>Using MongoDB driver 4.1.0 (and quarkus 1.1.1), I have an entity with a composite <code>_id</code>:</p>\n<pre><code>@BsonId\n@JsonProperty(&quot;_id&quot;)\nprivate CompositeId id = new CompositeId();\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic static class CompositeId {\n    @BsonProperty(&quot;b&quot;)\n    private int b;\n    @BsonProperty(&quot;a&quot;)\n    private String a;\n}\n</code></pre>\n<p>(where a is actually an ObjectId hex string)</p>\n<p>After saving the entity, the <code>_id</code> fields are preserved in an alphabetic order:</p>\n<pre><code>&quot;_id&quot; : {\n    &quot;a&quot; : &quot;61a480509da3560292eb1ab5&quot;,\n    &quot;b&quot; : 1234\n},\n</code></pre>\n<p>Later, the same logical entity is upserted elsewhere using <code>pymongo</code>:</p>\n<p><code>collection.update_one({'_id': id}, {'$set': ...</code></p>\n<p>The <code>id</code> in the query document is constructed with <code>python</code> <code>OrderedDict</code>, with <code>b</code> as first in order, and <code>a</code> as second.</p>\n<p><strong>So I end up with two identical documents in collection, differ only in <code>_id</code> fields order:</strong></p>\n<pre><code>{\n    &quot;_id&quot; : {\n        &quot;a&quot; : &quot;61a480509da3560292eb1ab5&quot;,\n        &quot;b&quot; : 1234\n    },\n    // rest of identical fields for Java inserted document\n}\n{\n    &quot;_id&quot; : {\n        &quot;b&quot; : 1234,\n        &quot;a&quot; : &quot;61a480509da3560292eb1ab5&quot;\n    },\n    // rest of identical fields for Python upserted document\n}\n</code></pre>\n<p>So, my question is, is there a way to configure the Java driver to preserve the order of fields in document (something such as <code>@JsonPropertyOrder</code>) or less realistically, using quarkus/panache configuration?</p>\n"},{"tags":["java","xml","spring","ssl","soap"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":2,"creation_date":1638377781,"post_id":70187376,"comment_id":124073633,"body_markdown":"I could explain what the error message means if you had issued those DOM calls directly, but not, I&#39;m afraid, when you&#39;re 30 levels deep inside Spring and Soap and not directly responsible for the DOM calls. My only suggestion would be to check whether you&#39;re doing something improper with threads.","body":"I could explain what the error message means if you had issued those DOM calls directly, but not, I&#39;m afraid, when you&#39;re 30 levels deep inside Spring and Soap and not directly responsible for the DOM calls. My only suggestion would be to check whether you&#39;re doing something improper with threads."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1638378174,"post_id":70187376,"comment_id":124073795,"body_markdown":"Maybe you could also check that your libraries are in sync with one another (e.g. spring, spring ws, wss4j, ...) mixing versions can be troublesome.","body":"Maybe you could also check that your libraries are in sync with one another (e.g. spring, spring ws, wss4j, ...) mixing versions can be troublesome."},{"owner":{"account_id":3886051,"reputation":39,"user_id":3217382,"display_name":"SpringBootDev"},"score":0,"creation_date":1638433360,"post_id":70187376,"comment_id":124087921,"body_markdown":"Michael Kay: I&#39;m proper :)\n\nGPI: Here are what I assume are interesting parts of my build.gradle file:\n\nplugins:\n\nid &#39;org.springframework.boot&#39; version &#39;2.1.8.RELEASE&#39;\n\ndependencies:\n\n    implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;\n    implementation &#39;javax.jws:javax.jws-api:1.1&#39;\n    implementation &#39;org.springframework.boot:spring-boot-starter-web-services:2.1.9.RELEASE&#39;\n    implementation group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-security&#39;, version: &#39;2.3.0.RELEASE&#39;\n    implementation group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-support&#39;, version: &#39;2.1.2.RELEASE&#39;","body":"Michael Kay: I&#39;m proper :)  GPI: Here are what I assume are interesting parts of my build.gradle file:  plugins:  id &#39;org.springframework.boot&#39; version &#39;2.1.8.RELEASE&#39;  dependencies:      implementation &#39;javax.xml.ws:jaxws-api:2.3.1&#39;     implementation &#39;javax.jws:javax.jws-api:1.1&#39;     implementation &#39;org.springframework.boot:spring-boot-starter-web-services:2&zwnj;&#8203;.1.9.RELEASE&#39;     implementation group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-security&#39;, version: &#39;2.3.0.RELEASE&#39;     implementation group: &#39;org.springframework.ws&#39;, name: &#39;spring-ws-support&#39;, version: &#39;2.1.2.RELEASE&#39;"},{"owner":{"account_id":3886051,"reputation":39,"user_id":3217382,"display_name":"SpringBootDev"},"score":0,"creation_date":1638434984,"post_id":70187376,"comment_id":124088540,"body_markdown":"I changed versions for ws security, ws support and spring boot starter web services and now I&#39;m getting this error: \n\nsun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n\nWhen I use the provided WSDL with SoapUI and the correct certificate with correct password to connect to the service, I just get this:\n\nThu Dec 02 09:36:42 CET 2021:ERROR:javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n\nWould there be a reason to believe my cert is corrupt or something?","body":"I changed versions for ws security, ws support and spring boot starter web services and now I&#39;m getting this error:   sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target  When I use the provided WSDL with SoapUI and the correct certificate with correct password to connect to the service, I just get this:  Thu Dec 02 09:36:42 CET 2021:ERROR:javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure  Would there be a reason to believe my cert is corrupt or something?"}],"owner":{"account_id":3886051,"reputation":39,"user_id":3217382,"display_name":"SpringBootDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638374294,"creation_date":1638374294,"question_id":70187376,"body_markdown":"I&#39;m completely new to XML. I&#39;m implementing a SOAP client in Spring Boot with an SSL certificate to talk to a SOAP WS with SSL, a two way SSL connection. I&#39;m running the request through our API and I get this error. I have no idea what this means, as I don&#39;t know anything about SOAP. Can anyone clarify what the error is? And please, explain it as though I&#39;m 4 years old :D\r\n\r\n    2021-12-01 16:38:20.418 ERROR 6004 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.] with root cause\r\n\r\n    org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\r\n\tat java.xml/com.sun.org.apache.xerces.internal.dom.ParentNode.internalInsertBefore(ParentNode.java:355) ~[na:na]\r\n\tat java.xml/com.sun.org.apache.xerces.internal.dom.ParentNode.insertBefore(ParentNode.java:286) ~[na:na]\r\n\tat java.xml/com.sun.org.apache.xerces.internal.dom.NodeImpl.appendChild(NodeImpl.java:230) ~[na:na]\r\n\tat org.apache.wss4j.dom.util.WSSecurityUtil.prependChildElement(WSSecurityUtil.java:281) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\r\n\tat org.apache.wss4j.dom.util.WSSecurityUtil.findWsseSecurityHeaderBlock(WSSecurityUtil.java:375) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\r\n\tat org.apache.wss4j.dom.message.WSSecHeader.insertSecurityHeader(WSSecHeader.java:151) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\r\n\tat org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:113) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\r\n\tat org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) ~[spring-ws-security-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:563) ~[spring-ws-security-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) ~[spring-ws-security-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\r\n\tat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:378) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\r\n\tat se.idkollen.webportal.soap.SoapClient.getProduktResponse(SoapClient.java:40) ~[main/:na]\r\n\tat se.idkollen.webportal.soap.SoapClient$$FastClassBySpringCGLIB$$4e138981.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat se.idkollen.webportal.soap.SoapClient$$EnhancerBySpringCGLIB$$e8ae5ce3.getProduktResponse(&lt;generated&gt;) ~[main/:na]\r\n\tat se.idkollen.webportal.soap.Bolagsverket.blabla(Bolagsverket.java:58) ~[main/:na]\r\n\tat se.idkollen.webportal.soap.Bolagsverket$$FastClassBySpringCGLIB$$87d737d0.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat se.idkollen.webportal.soap.Bolagsverket$$EnhancerBySpringCGLIB$$bb55130.blabla(&lt;generated&gt;) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat se.idkollen.webportal.provider.MultiUser1Filter.doFilter(MultiUser1Filter.java:59) ~[main/:na]\r\n\tat se.idkollen.webportal.provider.MultiUser1Filter$$FastClassBySpringCGLIB$$220c964a.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat se.idkollen.webportal.provider.MultiUser1Filter$$EnhancerBySpringCGLIB$$d7bf48de.doFilter(&lt;generated&gt;) ~[main/:na]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88) ~[spring-boot-actuator-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat se.idkollen.webportal.provider.ClientApiAuthenticationFilter.doFilterInternal(ClientApiAuthenticationFilter.java:32) ~[main/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114) ~[spring-boot-actuator-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104) ~[spring-boot-actuator-2.1.8.RELEASE.jar:2.1.8.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]","title":"SOAP XML Error: A node is used in a different document than the one that created it","body":"<p>I'm completely new to XML. I'm implementing a SOAP client in Spring Boot with an SSL certificate to talk to a SOAP WS with SSL, a two way SSL connection. I'm running the request through our API and I get this error. I have no idea what this means, as I don't know anything about SOAP. Can anyone clarify what the error is? And please, explain it as though I'm 4 years old :D</p>\n<pre><code>2021-12-01 16:38:20.418 ERROR 6004 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.] with root cause\n\norg.w3c.dom.DOMException: WRONG_DOCUMENT_ERR: A node is used in a different document than the one that created it.\nat java.xml/com.sun.org.apache.xerces.internal.dom.ParentNode.internalInsertBefore(ParentNode.java:355) ~[na:na]\nat java.xml/com.sun.org.apache.xerces.internal.dom.ParentNode.insertBefore(ParentNode.java:286) ~[na:na]\nat java.xml/com.sun.org.apache.xerces.internal.dom.NodeImpl.appendChild(NodeImpl.java:230) ~[na:na]\nat org.apache.wss4j.dom.util.WSSecurityUtil.prependChildElement(WSSecurityUtil.java:281) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\nat org.apache.wss4j.dom.util.WSSecurityUtil.findWsseSecurityHeaderBlock(WSSecurityUtil.java:375) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\nat org.apache.wss4j.dom.message.WSSecHeader.insertSecurityHeader(WSSecHeader.java:151) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\nat org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:113) ~[wss4j-ws-security-dom-2.1.4.jar:2.1.4]\nat org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) ~[spring-ws-security-2.3.0.RELEASE.jar:2.3.0.RELEASE]\nat org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:563) ~[spring-ws-security-2.3.0.RELEASE.jar:2.3.0.RELEASE]\nat org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) ~[spring-ws-security-2.3.0.RELEASE.jar:2.3.0.RELEASE]\nat org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\nat org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\nat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\nat org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:378) ~[spring-ws-core-3.0.7.RELEASE.jar:na]\nat se.idkollen.webportal.soap.SoapClient.getProduktResponse(SoapClient.java:40) ~[main/:na]\nat se.idkollen.webportal.soap.SoapClient$$FastClassBySpringCGLIB$$4e138981.invoke(&lt;generated&gt;) ~[main/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat se.idkollen.webportal.soap.SoapClient$$EnhancerBySpringCGLIB$$e8ae5ce3.getProduktResponse(&lt;generated&gt;) ~[main/:na]\nat se.idkollen.webportal.soap.Bolagsverket.blabla(Bolagsverket.java:58) ~[main/:na]\nat se.idkollen.webportal.soap.Bolagsverket$$FastClassBySpringCGLIB$$87d737d0.invoke(&lt;generated&gt;) ~[main/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat se.idkollen.webportal.soap.Bolagsverket$$EnhancerBySpringCGLIB$$bb55130.blabla(&lt;generated&gt;) ~[main/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:892) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1039) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:634) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882) ~[spring-webmvc-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat se.idkollen.webportal.provider.MultiUser1Filter.doFilter(MultiUser1Filter.java:59) ~[main/:na]\nat se.idkollen.webportal.provider.MultiUser1Filter$$FastClassBySpringCGLIB$$220c964a.invoke(&lt;generated&gt;) ~[main/:na]\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:55) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat se.idkollen.webportal.provider.MultiUser1Filter$$EnhancerBySpringCGLIB$$d7bf48de.doFilter(&lt;generated&gt;) ~[main/:na]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88) ~[spring-boot-actuator-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat se.idkollen.webportal.provider.ClientApiAuthenticationFilter.doFilterInternal(ClientApiAuthenticationFilter.java:32) ~[main/:na]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114) ~[spring-boot-actuator-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104) ~[spring-boot-actuator-2.1.8.RELEASE.jar:2.1.8.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) ~[spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.24.jar:9.0.24]\nat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","androidhttpclient","loopj"],"comments":[{"owner":{"account_id":2846447,"reputation":21,"user_id":2444700,"display_name":"Forhad"},"score":0,"creation_date":1482218478,"post_id":41236735,"comment_id":69673250,"body_markdown":"Error file link:  [link](http://pastebin.com/HC7vayG0)","body":"Error file link:  <a href=\"http://pastebin.com/HC7vayG0\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2846447,"reputation":21,"user_id":2444700,"display_name":"Forhad"},"score":0,"creation_date":1482218724,"post_id":41236735,"comment_id":69673362,"body_markdown":"i tried with okhttp3. result is same.\n\nafter calling \n\n    OkHttpClient client = new OkHttpClient();","body":"i tried with okhttp3. result is same.  after calling       OkHttpClient client = new OkHttpClient();"},{"owner":{"account_id":6514981,"reputation":144,"user_id":5041109,"display_name":"Avinash Saran"},"score":0,"creation_date":1482226274,"post_id":41236735,"comment_id":69677421,"body_markdown":"Please post your log.","body":"Please post your log."},{"owner":{"account_id":2846447,"reputation":21,"user_id":2444700,"display_name":"Forhad"},"score":0,"creation_date":1482232930,"post_id":41236735,"comment_id":69681772,"body_markdown":"[Log file link : pastebin](http://pastebin.com/HC7vayG0)","body":"<a href=\"http://pastebin.com/HC7vayG0\" rel=\"nofollow noreferrer\">Log file link : pastebin</a>"},{"owner":{"account_id":6514981,"reputation":144,"user_id":5041109,"display_name":"Avinash Saran"},"score":0,"creation_date":1482260263,"post_id":41236735,"comment_id":69698919,"body_markdown":"Please Check whether the library is at perfect address-\nCaused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;cz.msebera.android.httpclient.conn.ssl.SSLSocketFactory&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.hellow-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]","body":"Please Check whether the library is at perfect address- Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;cz.msebera.android.httpclient.conn.ssl.SSLSocketFactory&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.hellow-2/base.apk&quot;],nativeLibraryDire&zwnj;&#8203;ctories=[/vendor/lib&zwnj;&#8203;, /system/lib]]"}],"owner":{"account_id":2846447,"reputation":21,"user_id":2444700,"display_name":"Forhad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638374193,"creation_date":1482218046,"question_id":41236735,"body_markdown":"I need to get some data from external server in an android app.\r\nfor that i use \r\n    \r\n    com.loopj.android:android-async-http:1.4.9\r\n\r\n\r\nBut my app crashed while initiating client in MainActivity\r\n\r\n\r\n    private MyClient client;\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\r\n       client = new MyCLient();\r\n    }\r\n\r\n\r\nThen, if I run the app, it crashes. except new MyCLient() app is ok.\r\n\r\n\r\nMyClient.java\r\n\r\n    package com.example.hellow;\r\n\r\n    import com.loopj.android.http.*;\r\n\r\n     public class MyClient {\r\n\t\r\n\tprivate static final String BASE_URL = &quot;https://httpbin.org/&quot;;\r\n\t\r\n\tprivate static AsyncHttpClient client = new AsyncHttpClient();\r\n\t\r\n\tpublic static void get(String url, RequestParams params, AsyncHttpResponseHandler responseHandler) {\r\n\t      client.get(getAbsoluteUrl(url), params, responseHandler);\r\n\t  }\r\n\r\n\t  public static void post(String url, RequestParams params, AsyncHttpResponseHandler responseHandler) {\r\n\t      client.post(getAbsoluteUrl(url), params, responseHandler);\r\n\t  }\r\n\r\n\t  private static String getAbsoluteUrl(String relativeUrl) {\r\n\t      return BASE_URL + relativeUrl;\r\n\t  }\r\n\r\n    }","title":"android app crashed while initiating lopoj AsyncHttpClient in Main activity","body":"<p>I need to get some data from external server in an android app.\nfor that i use</p>\n<pre><code>com.loopj.android:android-async-http:1.4.9\n</code></pre>\n<p>But my app crashed while initiating client in MainActivity</p>\n<pre><code>private MyClient client;\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n   client = new MyCLient();\n}\n</code></pre>\n<p>Then, if I run the app, it crashes. except new MyCLient() app is ok.</p>\n<p>MyClient.java</p>\n<pre><code>package com.example.hellow;\n\nimport com.loopj.android.http.*;\n\n public class MyClient {\n\nprivate static final String BASE_URL = &quot;https://httpbin.org/&quot;;\n\nprivate static AsyncHttpClient client = new AsyncHttpClient();\n\npublic static void get(String url, RequestParams params, AsyncHttpResponseHandler responseHandler) {\n      client.get(getAbsoluteUrl(url), params, responseHandler);\n  }\n\n  public static void post(String url, RequestParams params, AsyncHttpResponseHandler responseHandler) {\n      client.post(getAbsoluteUrl(url), params, responseHandler);\n  }\n\n  private static String getAbsoluteUrl(String relativeUrl) {\n      return BASE_URL + relativeUrl;\n  }\n\n}\n</code></pre>\n"},{"tags":["java","php","android","laravel"],"owner":{"account_id":13503330,"reputation":11,"user_id":9742190,"display_name":"Rais Azka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638374165,"creation_date":1558803711,"question_id":56306941,"body_markdown":"I&#39;m working on an Android project, the app need to download PDF file that is generated from the web. I&#39;m using Laravel and DOMPdf to generate the pdf file (laravel dependency). I want to download the file to to the android with retrofit, but when i log the response it says:\r\n\r\n&gt; onResponse: Response{protocol=http/1.0, code=500, message=Internal Server \r\n&gt; Error, url=http://10.0.2.2/warehouse-api/public/api/get-stock-out}\r\n\r\nWhen i try it on chrome / postman, it works and it will download the generated pdf file.\r\n\r\nI want to know what&#39;s happening in here.\r\n\r\nHere is my code:\r\n\r\n#ReportFragment.java\r\n\r\n```java\r\n@Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        v = inflater.inflate(R.layout.fragment_stock_out_report, container, false);\r\n        generateBtn = v.findViewById(R.id.btn_generate_stockout);\r\n        service = RetrofitBuilder.getRetrofit().create(ReportService.class);\r\n        generateBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n             Log.d(TAG, &quot;onClick: Clicked&quot;);\r\n              if(checkPermission()){\r\n                    call = service.getStockOutReport();\r\n                    call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                        @Override\r\n                        public void onResponse(Call&lt;ResponseBody&gt; call, final Response&lt;ResponseBody&gt; response) {\r\n                            Log.w(TAG, &quot;onResponse: &quot; + response);\r\n                            final String filename = System.currentTimeMillis() /1000L+&quot;.pdf&quot;;\r\n                            if(response.isSuccessful()){\r\n                                new AsyncTask&lt;Void, Void, Void&gt;() {\r\n                                    @Override\r\n                                    protected Void doInBackground(Void... voids) {\r\n                                        try{\r\n                                            File path = Environment.getExternalStorageDirectory();\r\n                                            File file = new File(path+File.separator+&quot;stock-out&quot;+File.separator,filename);\r\n                                            file.getParentFile().mkdirs();\r\n                                            FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n                                            IOUtils.write(response.body().bytes(), fileOutputStream);\r\n                                        }catch (IOException e){\r\n                                            Log.e(TAG, &quot;Erorr While Writing Files&quot;);\r\n                                            Log.e(TAG, e.toString());\r\n                                        }\r\n                                        return null;\r\n                                    }\r\n                                    @Override\r\n                                    protected void onPostExecute(Void aVoid) {\r\n                                        super.onPostExecute(aVoid);\r\n                                        Toast.makeText(getActivity(), &quot;Download Success&quot;, Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }.execute();\r\n                                Log.d(TAG, &quot;onResponse2: &quot; +response);\r\n                            }else{\r\n                                Toast.makeText(getActivity(), &quot;Download Fail&quot;, Toast.LENGTH_SHORT).show();\r\n                                Log.d(TAG, &quot;onResponse3: &quot; +response);\r\n                            }\r\n                        }\r\n                        @Override\r\n                        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                            Log.d(TAG, &quot;onFailure: &quot; + t.getMessage());\r\n                            Toast.makeText(getActivity(), t.getMessage(), Toast.LENGTH_LONG).show();\r\n                        }\r\n                    });\r\n                }else{\r\n                    requestPermission();\r\n                }\r\n            }\r\n        });\r\n        return v;\r\n    }\r\n```\r\n#ReportService.java\r\n\r\n```java\r\n@GET(&quot;get-stock-out&quot;)\r\n@Streaming\r\nCall&lt;ResponseBody&gt; getStockOutReport();\r\n```\r\n\r\n#ReportController.php\r\n```php\r\npublic function getWeeklyStockOutReport()\r\n{\r\n       $stockOuts = StockOut::whereBetween(&#39;created_at&#39;, [Carbon::now()-&gt;startOfWeek(), Carbon::now()-&gt;endOfWeek()])-&gt;get();\r\n        $pdf = PDF::loadView(&#39;stock-out&#39;, compact(&#39;stockOuts&#39;));\r\n        return $pdf-&gt;download(Carbon::now().&#39;-&#39;.&#39;stock-out.pdf&#39;);\r\n }\r\n```\r\n\r\ni&#39;m expecting the android app to be able to download the .pdf file\r\n\r\nThankyou!","title":"Android retrofit response return internal server error while downloading files from server","body":"<p>I'm working on an Android project, the app need to download PDF file that is generated from the web. I'm using Laravel and DOMPdf to generate the pdf file (laravel dependency). I want to download the file to to the android with retrofit, but when i log the response it says:</p>\n\n<blockquote>\n  <p>onResponse: Response{protocol=http/1.0, code=500, message=Internal Server \n  Error, url=<a href=\"http://10.0.2.2/warehouse-api/public/api/get-stock-out\" rel=\"nofollow noreferrer\">http://10.0.2.2/warehouse-api/public/api/get-stock-out</a>}</p>\n</blockquote>\n\n<p>When i try it on chrome / postman, it works and it will download the generated pdf file.</p>\n\n<p>I want to know what's happening in here.</p>\n\n<p>Here is my code:</p>\n\n<h1>ReportFragment.java</h1>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        v = inflater.inflate(R.layout.fragment_stock_out_report, container, false);\n        generateBtn = v.findViewById(R.id.btn_generate_stockout);\n        service = RetrofitBuilder.getRetrofit().create(ReportService.class);\n        generateBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n             Log.d(TAG, \"onClick: Clicked\");\n              if(checkPermission()){\n                    call = service.getStockOutReport();\n                    call.enqueue(new Callback&lt;ResponseBody&gt;() {\n                        @Override\n                        public void onResponse(Call&lt;ResponseBody&gt; call, final Response&lt;ResponseBody&gt; response) {\n                            Log.w(TAG, \"onResponse: \" + response);\n                            final String filename = System.currentTimeMillis() /1000L+\".pdf\";\n                            if(response.isSuccessful()){\n                                new AsyncTask&lt;Void, Void, Void&gt;() {\n                                    @Override\n                                    protected Void doInBackground(Void... voids) {\n                                        try{\n                                            File path = Environment.getExternalStorageDirectory();\n                                            File file = new File(path+File.separator+\"stock-out\"+File.separator,filename);\n                                            file.getParentFile().mkdirs();\n                                            FileOutputStream fileOutputStream = new FileOutputStream(file);\n                                            IOUtils.write(response.body().bytes(), fileOutputStream);\n                                        }catch (IOException e){\n                                            Log.e(TAG, \"Erorr While Writing Files\");\n                                            Log.e(TAG, e.toString());\n                                        }\n                                        return null;\n                                    }\n                                    @Override\n                                    protected void onPostExecute(Void aVoid) {\n                                        super.onPostExecute(aVoid);\n                                        Toast.makeText(getActivity(), \"Download Success\", Toast.LENGTH_SHORT).show();\n                                    }\n                                }.execute();\n                                Log.d(TAG, \"onResponse2: \" +response);\n                            }else{\n                                Toast.makeText(getActivity(), \"Download Fail\", Toast.LENGTH_SHORT).show();\n                                Log.d(TAG, \"onResponse3: \" +response);\n                            }\n                        }\n                        @Override\n                        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n                            Log.d(TAG, \"onFailure: \" + t.getMessage());\n                            Toast.makeText(getActivity(), t.getMessage(), Toast.LENGTH_LONG).show();\n                        }\n                    });\n                }else{\n                    requestPermission();\n                }\n            }\n        });\n        return v;\n    }\n</code></pre>\n\n<h1>ReportService.java</h1>\n\n<pre class=\"lang-java prettyprint-override\"><code>@GET(\"get-stock-out\")\n@Streaming\nCall&lt;ResponseBody&gt; getStockOutReport();\n</code></pre>\n\n<h1>ReportController.php</h1>\n\n<pre class=\"lang-php prettyprint-override\"><code>public function getWeeklyStockOutReport()\n{\n       $stockOuts = StockOut::whereBetween('created_at', [Carbon::now()-&gt;startOfWeek(), Carbon::now()-&gt;endOfWeek()])-&gt;get();\n        $pdf = PDF::loadView('stock-out', compact('stockOuts'));\n        return $pdf-&gt;download(Carbon::now().'-'.'stock-out.pdf');\n }\n</code></pre>\n\n<p>i'm expecting the android app to be able to download the .pdf file</p>\n\n<p>Thankyou!</p>\n"},{"tags":["java","azure-web-app-service","fileshare"],"answers":[{"tags":[],"owner":{"account_id":16156651,"reputation":381,"user_id":11663756,"display_name":"Rohit Tatiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638373986,"creation_date":1638373986,"answer_id":70187313,"question_id":70180114,"body_markdown":"I don&#39;t think its auth issue perhaps issue may be due to App service as PAAS offering and have port restriction documented here:\r\nhttps://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox#restricted-outgoing-ports\r\n\r\nFile share uses port 445 / 139 which is restricted to use with App services.","title":"Reading an on premise file share from Java based azure web app","body":"<p>I don't think its auth issue perhaps issue may be due to App service as PAAS offering and have port restriction documented here:\n<a href=\"https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox#restricted-outgoing-ports\" rel=\"nofollow noreferrer\">https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox#restricted-outgoing-ports</a></p>\n<p>File share uses port 445 / 139 which is restricted to use with App services.</p>\n"}],"owner":{"account_id":3898077,"reputation":93,"user_id":3226544,"display_name":"Sharon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638373986,"creation_date":1638341388,"question_id":70180114,"body_markdown":"I have a java based azure web app which is trying to connect to an on premise file share and read a file from there. If I try locally its connecting with my ID. but when I am hosting it in the server its giving **Access denied** error.\r\n\r\nI cannot alter the permissions in the file share and set to everyone. How can I read the file by providing the ID or impersonation?\r\n\r\nI have tried with below userauthenticator but is not working in the hosting environemt.\r\n\r\n    UserAuthenticator auth = new StaticUserAuthenticator(domain, userName, password); \r\n\r\nThanks in advance.","title":"Reading an on premise file share from Java based azure web app","body":"<p>I have a java based azure web app which is trying to connect to an on premise file share and read a file from there. If I try locally its connecting with my ID. but when I am hosting it in the server its giving <strong>Access denied</strong> error.</p>\n<p>I cannot alter the permissions in the file share and set to everyone. How can I read the file by providing the ID or impersonation?</p>\n<p>I have tried with below userauthenticator but is not working in the hosting environemt.</p>\n<pre><code>UserAuthenticator auth = new StaticUserAuthenticator(domain, userName, password); \n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638351431,"post_id":70181838,"comment_id":124062640,"body_markdown":"If `runstate` is never stored in a field the process never checks it otherwise it cannot be manipulated from the outside except when first passing it as a parameter (but passing `false` doesn&#39;t make much sense because you could just not call `run(false)` in the first place).","body":"If <code>runstate</code> is never stored in a field the process never checks it otherwise it cannot be manipulated from the outside except when first passing it as a parameter (but passing <code>false</code> doesn&#39;t make much sense because you could just not call <code>run(false)</code> in the first place)."}],"answers":[{"tags":[],"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638351372,"creation_date":1638351372,"answer_id":70181904,"question_id":70181838,"body_markdown":"You need to execute &quot;run()&quot; in a separate thread from the main process. Use this code to break the loop:\r\n\r\n    class Sample{\r\n    \r\n        private boolean runstate;\r\n    \r\n        public void run(boolean runstate) // this runs in a separate thread...\r\n        {\r\n            this.runstate = runstate;\r\n            \r\n            while(runstate)\r\n            {\r\n                //do something\r\n            }\r\n        \r\n        }\r\n        \r\n        public void setRunstate(boolean newrunstate)\r\n        {\r\n            this.runstate = newrunstate;\r\n        }\r\n        \r\n    }\r\n    \r\n    class Other{\r\n    \r\n        void foo(Sample sample) // this runs in a separate thread...\r\n        {\r\n            sample.setRunstate(false);\r\n        }\r\n    \r\n    }","title":"How to get a value from running instance","body":"<p>You need to execute &quot;run()&quot; in a separate thread from the main process. Use this code to break the loop:</p>\n<pre><code>class Sample{\n\n    private boolean runstate;\n\n    public void run(boolean runstate) // this runs in a separate thread...\n    {\n        this.runstate = runstate;\n        \n        while(runstate)\n        {\n            //do something\n        }\n    \n    }\n    \n    public void setRunstate(boolean newrunstate)\n    {\n        this.runstate = newrunstate;\n    }\n    \n}\n\nclass Other{\n\n    void foo(Sample sample) // this runs in a separate thread...\n    {\n        sample.setRunstate(false);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638351858,"creation_date":1638351858,"answer_id":70182002,"question_id":70181838,"body_markdown":"Naturally, there have to be 2 threads - one threads runs the above code, the other listens for a request to set the flag. Also, the flag has to be accessible to both objects running in the 2 threads.\r\n\r\nHere is an example code that starts 2 threads. One keeps working till `FLAG` has `true`. The other thread sleeps for 200ms and then sets `FLAG` to `false`. The other threads detects this and stops.\r\n\r\n```java\r\npackage practice.soflow.concurrent;\r\n\r\nimport java.util.concurrent.atomic.AtomicReference;\r\n\r\npublic class FlagSetting{\r\n\tprivate static AtomicReference&lt;Boolean&gt; FLAG = new AtomicReference&lt;Boolean&gt;( Boolean.TRUE );\r\n\r\n\tpublic static void main( String[] args ){\r\n\t\t/* Main activity thread. This depends upon the status of FLAG. */\r\n\t\tnew Thread( () -&gt; {\r\n\t\t\twhile( FLAG.get() ){\r\n\t\t\t\t//do something\r\n\t\t\t\tSystem.out.println( &quot;Hi&quot; );\r\n\t\t\t}\r\n\t\t} ).start();\r\n\r\n\t\t/* The controller thread. This changes the value of FLAG.\r\n\t\t * In this example, it will set it to false after 2 s; */\r\n\t\tnew Thread( () -&gt; {\r\n\t\t\ttry{\r\n\t\t\t\tThread.sleep( 200 );\r\n\t\t\t}\r\n\t\t\tcatch( InterruptedException e ){}\r\n\r\n\t\t\tFLAG.set( Boolean.FALSE );\r\n\t\t} ).start();\r\n\r\n\t}\r\n}\r\n\r\n```","title":"How to get a value from running instance","body":"<p>Naturally, there have to be 2 threads - one threads runs the above code, the other listens for a request to set the flag. Also, the flag has to be accessible to both objects running in the 2 threads.</p>\n<p>Here is an example code that starts 2 threads. One keeps working till <code>FLAG</code> has <code>true</code>. The other thread sleeps for 200ms and then sets <code>FLAG</code> to <code>false</code>. The other threads detects this and stops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package practice.soflow.concurrent;\n\nimport java.util.concurrent.atomic.AtomicReference;\n\npublic class FlagSetting{\n    private static AtomicReference&lt;Boolean&gt; FLAG = new AtomicReference&lt;Boolean&gt;( Boolean.TRUE );\n\n    public static void main( String[] args ){\n        /* Main activity thread. This depends upon the status of FLAG. */\n        new Thread( () -&gt; {\n            while( FLAG.get() ){\n                //do something\n                System.out.println( &quot;Hi&quot; );\n            }\n        } ).start();\n\n        /* The controller thread. This changes the value of FLAG.\n         * In this example, it will set it to false after 2 s; */\n        new Thread( () -&gt; {\n            try{\n                Thread.sleep( 200 );\n            }\n            catch( InterruptedException e ){}\n\n            FLAG.set( Boolean.FALSE );\n        } ).start();\n\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23512118,"reputation":1,"user_id":17560569,"display_name":"AyyappaLokesh Garlapati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638373819,"creation_date":1638351101,"question_id":70181838,"body_markdown":"Where i am maintaining one flag for running application\r\nif true always my application will run continuously.\r\n\r\nIf flag is false have to stop running application.\r\n\r\nNote: Parameters are considering as run time arguments.\r\n\r\nHow second process will change first process value.\r\n\r\nExe:\r\n\r\n    class Sample{\r\n    \r\n    \r\n        public void run(boolean runstate)\r\n        {\r\n        \r\n        while(runstate){\r\n        //do something\r\n        }\r\n        \r\n        }\r\n        \r\n        }","title":"How to get a value from running instance","body":"<p>Where i am maintaining one flag for running application\nif true always my application will run continuously.</p>\n<p>If flag is false have to stop running application.</p>\n<p>Note: Parameters are considering as run time arguments.</p>\n<p>How second process will change first process value.</p>\n<p>Exe:</p>\n<pre><code>class Sample{\n\n\n    public void run(boolean runstate)\n    {\n    \n    while(runstate){\n    //do something\n    }\n    \n    }\n    \n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":3,"creation_date":1638372620,"post_id":70186918,"comment_id":124071380,"body_markdown":"Java and JavaScript are different languages.","body":"Java and JavaScript are different languages."},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1638372849,"post_id":70186918,"comment_id":124071482,"body_markdown":"please format your code correctly, noone wants to read your unreadable formatted code","body":"please format your code correctly, noone wants to read your unreadable formatted code"},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1638372877,"post_id":70186918,"comment_id":124071495,"body_markdown":"Why did you edit the tag from `java` back to `javascript`?  This is not javascript","body":"Why did you edit the tag from <code>java</code> back to <code>javascript</code>?  This is not javascript"},{"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"score":0,"creation_date":1638372917,"post_id":70186918,"comment_id":124071512,"body_markdown":"So what is the problem?","body":"So what is the problem?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1638829813,"post_id":70186918,"comment_id":124187763,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638373801,"creation_date":1638373801,"answer_id":70187261,"question_id":70186918,"body_markdown":"Your code runs fine.\r\n\r\nI think the problem is, that you executed your code multiple times and the Strings are written to the same file.\r\n\r\nWhen you create 3 passwords one the first run, there are 3 lines in the file.\r\nWhen you create 3 passwords in a second run, it adds 3 lines, and there are 6 lines in the file.\r\n\r\n - 3 generations -&gt; 3 lines in file\r\n - 3 generations -&gt; 6 lines in file (3 from first run)\r\n\r\nWhat you can do is, to delete the file at the beginning like this: \r\n```java\r\n File file = new File(&quot;passcode.txt&quot;);\r\n if (!file.exists()) {\r\n   file.createNewFile();\r\n } else {\r\n   file.delete();\r\n }\r\n```\r\nBe aware that the generated Strings from the first run get lost here.","title":"How do I get the number of passwords I want to properly display instead of showing too many passwords?","body":"<p>Your code runs fine.</p>\n<p>I think the problem is, that you executed your code multiple times and the Strings are written to the same file.</p>\n<p>When you create 3 passwords one the first run, there are 3 lines in the file.\nWhen you create 3 passwords in a second run, it adds 3 lines, and there are 6 lines in the file.</p>\n<ul>\n<li>3 generations -&gt; 3 lines in file</li>\n<li>3 generations -&gt; 6 lines in file (3 from first run)</li>\n</ul>\n<p>What you can do is, to delete the file at the beginning like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code> File file = new File(&quot;passcode.txt&quot;);\n if (!file.exists()) {\n   file.createNewFile();\n } else {\n   file.delete();\n }\n</code></pre>\n<p>Be aware that the generated Strings from the first run get lost here.</p>\n"}],"owner":{"account_id":21371856,"reputation":1,"user_id":15739274,"display_name":"Carly H"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638373801,"creation_date":1638372549,"question_id":70186918,"body_markdown":"     import java.util.Scanner;\r\n     import java.io.File;\r\n     import java.io.FileWriter;\r\n     import java.io.IOException;\r\n \r\n \r\n     public class Main\r\n     {\r\n     public static void main(String[] args) {\r\n         try {\r\n             //Introduce Program\r\n            // System.out.println(&quot;**********************************************************&quot;);\r\n             //System.out.println(&quot;Welcome to a simple password generator.&quot;);\r\n             //System.out.println(&quot;The password will include lowercase, uppercase, &amp; numbers.&quot;);\r\n         \r\n             File file = new File(&quot;passcode.txt&quot;);\r\n             if (!file.exists()) {\r\n                 file.createNewFile();\r\n             }\r\n \r\n             \r\n                 while(true) {\r\n                     Scanner input = new Scanner(System.in);\r\n                     System.out.print(&quot;\\nEnter a password length (6 or more): &quot;);\r\n                     int length = input.nextInt();\r\n                 \r\n                     if(length &lt; 6) {\r\n                         System.out.println(&quot;\\n  Password length too short. Please try again.&quot;);\r\n                     } else {\r\n                         String randomPassword = &quot;&quot;;\r\n                                 for(int j = 0; j &lt; length; j++) {\r\n                                         randomPassword += randomCharacter();\r\n                                 }\r\n \r\n                                 FileWriter fw = new FileWriter(&quot;passcode.txt&quot;, true);\r\n                                 fw.write(randomPassword);\r\n                                 fw.write(&quot;\\n&quot;);\r\n                                 fw.close();\r\n                             \r\n                         System.out.println(&quot;\\nA password has been sent to text file&quot;);\r\n                         System.out.print(&quot;Would you like to generate another password?  Y/N &quot;);\r\n                         char choice = input.next().charAt(0);\r\n                     \r\n                         if(choice == &#39;n&#39;) {\r\n                             System.out.println(&quot;\\nThank you for using the Pass CodeGenerator.\\n&quot;);\r\n                             System.out.print(&quot;Here are your randomly generated codes:&quot;);\r\n                             \r\n \r\n                             **int count = 0;\r\n                             Scanner myReader = new Scanner(file);\r\n                             while (myReader.hasNextLine()) {\r\n                                 count += 1;\r\n                                 String data = myReader.nextLine();\r\n                                 System.out.format(&quot;\\n%d.  %s&quot;, count, data);**\r\n \r\n                             }\r\n                             myReader.close();\r\n                             \r\n                             break;\r\n                         } else if(choice == &#39;y&#39;) {\r\n                             continue;\r\n                         }\r\n                     }\r\n                 }\r\n         } catch (IOException e) {\r\n             System.out.println(&quot;An error occurred.&quot;);\r\n             e.printStackTrace();\r\n         }\r\n     }\r\n \r\n     \r\n     public static char randomCharacter() {\r\n                 int rand = (int)(Math.random()*62);\r\n                 //0-61 inclusive = all possible values of rand\r\n                 //0-9 inclusive = 10 possible numbers/digits\r\n                 //10-35 inclusive = 26 possible uppercase letters\r\n                 //36-61 inclusive = 26 possible lowercase letters\r\n                 //If rand is between 0 (inclusive) and 9 (inclusive), then it&#39;s a number/digit\r\n                 //If rand is between 10 (inclusive) and 35 (inclusive), then it&#39;s an uppercase letter\r\n                 //If rand is between 36 (inclusive) and 61 (inclusive), then it&#39;s a lowercase letter\r\n \r\n                 **if(rand &lt;= 9) {\r\n                         int number = rand + 48;\r\n                         return (char)(number);\r\n                 } else if(rand &lt;= 35) {\r\n                         int uppercase = rand + 55;\r\n                         return (char)(uppercase);\r\n                 } else {\r\n                         int lowercase = rand + 61;\r\n                         return (char)(lowercase);**\r\n                 }\r\n         } }\r\n\r\n\r\nSo if I picked to do 3 passwords, 1 with 8 letters, one with 6, and one with 7, it prints out this.\r\n```none\r\nThank you for using the Pass Code Generator.\r\n\r\nHere are your randomly generated codes:\r\n1.  EY0ZSJq\r\n2.  VmJxglEp\r\n3.  bily6wxBX4\r\n4.  L2MvxzHx\r\n5.  lLPAQC\r\n6.  CtnlU4\r\n7.  CB7z1ZIc\r\n8.  XIIm71ILe\r\n9.  JGmc79\r\n10.  ElwRG8Tf\r\n11.  13DJFi\r\n12.  loCZlIQ\r\n13.  oY7JhlHy\r\n14.  VmqD00\r\n15.  47HQf3GT\r\n16.  lNvR6z\r\n17.  nM45JvA\r\n18.  eXs0vkcP9\r\n19.  UO6G6sCQ\r\n20.  MrOsjvaZ\r\n21.  Gr028GvMM\r\n22.  cxBK6x\r\n23.  JSgXn6k9\r\n24.  A4miDf\r\n25.  oCeS54o\r\n```","title":"How do I get the number of passwords I want to properly display instead of showing too many passwords?","body":"<pre><code> import java.util.Scanner;\n import java.io.File;\n import java.io.FileWriter;\n import java.io.IOException;\n\n\n public class Main\n {\n public static void main(String[] args) {\n     try {\n         //Introduce Program\n        // System.out.println(&quot;**********************************************************&quot;);\n         //System.out.println(&quot;Welcome to a simple password generator.&quot;);\n         //System.out.println(&quot;The password will include lowercase, uppercase, &amp; numbers.&quot;);\n     \n         File file = new File(&quot;passcode.txt&quot;);\n         if (!file.exists()) {\n             file.createNewFile();\n         }\n\n         \n             while(true) {\n                 Scanner input = new Scanner(System.in);\n                 System.out.print(&quot;\\nEnter a password length (6 or more): &quot;);\n                 int length = input.nextInt();\n             \n                 if(length &lt; 6) {\n                     System.out.println(&quot;\\n  Password length too short. Please try again.&quot;);\n                 } else {\n                     String randomPassword = &quot;&quot;;\n                             for(int j = 0; j &lt; length; j++) {\n                                     randomPassword += randomCharacter();\n                             }\n\n                             FileWriter fw = new FileWriter(&quot;passcode.txt&quot;, true);\n                             fw.write(randomPassword);\n                             fw.write(&quot;\\n&quot;);\n                             fw.close();\n                         \n                     System.out.println(&quot;\\nA password has been sent to text file&quot;);\n                     System.out.print(&quot;Would you like to generate another password?  Y/N &quot;);\n                     char choice = input.next().charAt(0);\n                 \n                     if(choice == 'n') {\n                         System.out.println(&quot;\\nThank you for using the Pass CodeGenerator.\\n&quot;);\n                         System.out.print(&quot;Here are your randomly generated codes:&quot;);\n                         \n\n                         **int count = 0;\n                         Scanner myReader = new Scanner(file);\n                         while (myReader.hasNextLine()) {\n                             count += 1;\n                             String data = myReader.nextLine();\n                             System.out.format(&quot;\\n%d.  %s&quot;, count, data);**\n\n                         }\n                         myReader.close();\n                         \n                         break;\n                     } else if(choice == 'y') {\n                         continue;\n                     }\n                 }\n             }\n     } catch (IOException e) {\n         System.out.println(&quot;An error occurred.&quot;);\n         e.printStackTrace();\n     }\n }\n\n \n public static char randomCharacter() {\n             int rand = (int)(Math.random()*62);\n             //0-61 inclusive = all possible values of rand\n             //0-9 inclusive = 10 possible numbers/digits\n             //10-35 inclusive = 26 possible uppercase letters\n             //36-61 inclusive = 26 possible lowercase letters\n             //If rand is between 0 (inclusive) and 9 (inclusive), then it's a number/digit\n             //If rand is between 10 (inclusive) and 35 (inclusive), then it's an uppercase letter\n             //If rand is between 36 (inclusive) and 61 (inclusive), then it's a lowercase letter\n\n             **if(rand &lt;= 9) {\n                     int number = rand + 48;\n                     return (char)(number);\n             } else if(rand &lt;= 35) {\n                     int uppercase = rand + 55;\n                     return (char)(uppercase);\n             } else {\n                     int lowercase = rand + 61;\n                     return (char)(lowercase);**\n             }\n     } }\n</code></pre>\n<p>So if I picked to do 3 passwords, 1 with 8 letters, one with 6, and one with 7, it prints out this.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thank you for using the Pass Code Generator.\n\nHere are your randomly generated codes:\n1.  EY0ZSJq\n2.  VmJxglEp\n3.  bily6wxBX4\n4.  L2MvxzHx\n5.  lLPAQC\n6.  CtnlU4\n7.  CB7z1ZIc\n8.  XIIm71ILe\n9.  JGmc79\n10.  ElwRG8Tf\n11.  13DJFi\n12.  loCZlIQ\n13.  oY7JhlHy\n14.  VmqD00\n15.  47HQf3GT\n16.  lNvR6z\n17.  nM45JvA\n18.  eXs0vkcP9\n19.  UO6G6sCQ\n20.  MrOsjvaZ\n21.  Gr028GvMM\n22.  cxBK6x\n23.  JSgXn6k9\n24.  A4miDf\n25.  oCeS54o\n</code></pre>\n"},{"tags":["java","android","selenium","jsoup"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1629501814,"post_id":68868865,"comment_id":121711740,"body_markdown":"The site you&#39;re trying to scrape seems to be an Angular application. [This](https://stackoverflow.com/questions/40751981/jsoup-output-in-angularjs-web) seems related.","body":"The site you&#39;re trying to scrape seems to be an Angular application. <a href=\"https://stackoverflow.com/questions/40751981/jsoup-output-in-angularjs-web\">This</a> seems related."}],"answers":[{"tags":[],"owner":{"account_id":6575876,"reputation":1770,"user_id":9894142,"display_name":"Swaroop Humane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629504869,"creation_date":1629504533,"answer_id":68869159,"question_id":68868865,"body_markdown":"I hope this is what you are looking for. Please take a look at the below code and let me know if you have any questions about it. \r\n\r\nIn the code below, the user is asked for dollarvalue [Please enter dollar values in your editor and press enter]. The value is used in the URL and when the page opens with data, the required value is retrieved.\r\n\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.By;\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    \r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Enter the Dollar Value :- &quot;);\r\n    String dollarValue = input.nextLine();\r\n    \r\n    \r\n    driver.get(String.format(&quot;https://www.paysera.com/v2/en-DZ/fees/currency-conversion-calculator#/?locale=lt&amp;client&quot; +\r\n        &quot;Type=natural&amp;from_currency=USD&amp;from_amount=%s&amp;to_currency=EUR&quot;, dollarValue));\r\n    \r\n    String calculatedValue = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n        By.xpath(&quot;//span[@class=\\&quot;commercial-rate\\&quot;]/span&quot;))).getText();\r\n    System.out.println(&quot;CalculatedValue is &quot; + calculatedValue);\r\n\r\nfor launching a browser in the background you can use the below code -\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--headless&quot;, &quot;--silent&quot;);\r\n\r\nNote - All the classes I mentioned above must be imported. If I forgot any, import them as well.","title":"How to get a number from a website for an an android app use","body":"<p>I hope this is what you are looking for. Please take a look at the below code and let me know if you have any questions about it.</p>\n<p>In the code below, the user is asked for dollarvalue [Please enter dollar values in your editor and press enter]. The value is used in the URL and when the page opens with data, the required value is retrieved.</p>\n<pre><code>import org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.By;\n\nWebDriver driver = new ChromeDriver();\nWebDriverWait wait = new WebDriverWait(driver, 30);\n\nScanner input = new Scanner(System.in);\nSystem.out.print(&quot;Enter the Dollar Value :- &quot;);\nString dollarValue = input.nextLine();\n\n\ndriver.get(String.format(&quot;https://www.paysera.com/v2/en-DZ/fees/currency-conversion-calculator#/?locale=lt&amp;client&quot; +\n    &quot;Type=natural&amp;from_currency=USD&amp;from_amount=%s&amp;to_currency=EUR&quot;, dollarValue));\n\nString calculatedValue = wait.until(ExpectedConditions.visibilityOfElementLocated(\n    By.xpath(&quot;//span[@class=\\&quot;commercial-rate\\&quot;]/span&quot;))).getText();\nSystem.out.println(&quot;CalculatedValue is &quot; + calculatedValue);\n</code></pre>\n<p>for launching a browser in the background you can use the below code -</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--headless&quot;, &quot;--silent&quot;);\n</code></pre>\n<p>Note - All the classes I mentioned above must be imported. If I forgot any, import them as well.</p>\n"}],"owner":{"account_id":22523876,"reputation":3,"user_id":16716961,"display_name":"Dimtons"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1629616992,"accepted_answer_id":68869159,"answer_count":1,"score":0,"last_activity_date":1638373765,"creation_date":1629501033,"question_id":68868865,"body_markdown":"I have a question regarding __scraping__ data form a website.\r\n\r\nThere is this exchange rate website that I want to use to get the exchange amount after an exchange from USD to EURO :\r\n\r\n&gt; https://www.paysera.com/v2/en-DZ/fees/currency-conversion-calculator#/?locale=lt&amp;clientType=natural&amp;from_currency=USD&amp;from_amount=100&amp;to_currency=EUR\r\n\r\nI found out that if you add any number after **from_amount=** and before the **&amp;to_currency=EUR** (XXX), it will calculate the exchange rate of that exact amount; The exchange rate isn’t constant, so it depends on the amount.\r\n\r\nWhat I want to do is make the user input the amount (inpDollar) then add it between **from_amount=** and **&amp;to_currency=EUR**; Then extract the amount as a number. \r\n\r\nThe exact location of the amount i want is shown in this screenshot\r\n\r\n[https://i.imgur.com/79xGeG9.png][1]\r\n\r\nI’ve read some threads about Jsoup and Selenium, i have already added them to my dependencies, but I don’t have the necessary knowledge to write that kind of code.\r\n\r\nI want to use this inside an android app (android studio) to automate some calculations.\r\n\r\nThank for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sqxf7.png","title":"How to get a number from a website for an an android app use","body":"<p>I have a question regarding <strong>scraping</strong> data form a website.</p>\n<p>There is this exchange rate website that I want to use to get the exchange amount after an exchange from USD to EURO :</p>\n<blockquote>\n<p><a href=\"https://www.paysera.com/v2/en-DZ/fees/currency-conversion-calculator#/?locale=lt&amp;clientType=natural&amp;from_currency=USD&amp;from_amount=100&amp;to_currency=EUR\" rel=\"nofollow noreferrer\">https://www.paysera.com/v2/en-DZ/fees/currency-conversion-calculator#/?locale=lt&amp;clientType=natural&amp;from_currency=USD&amp;from_amount=100&amp;to_currency=EUR</a></p>\n</blockquote>\n<p>I found out that if you add any number after <strong>from_amount=</strong> and before the <strong>&amp;to_currency=EUR</strong> (XXX), it will calculate the exchange rate of that exact amount; The exchange rate isn’t constant, so it depends on the amount.</p>\n<p>What I want to do is make the user input the amount (inpDollar) then add it between <strong>from_amount=</strong> and <strong>&amp;to_currency=EUR</strong>; Then extract the amount as a number.</p>\n<p>The exact location of the amount i want is shown in this screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/sqxf7.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/79xGeG9.png</a></p>\n<p>I’ve read some threads about Jsoup and Selenium, i have already added them to my dependencies, but I don’t have the necessary knowledge to write that kind of code.</p>\n<p>I want to use this inside an android app (android studio) to automate some calculations.</p>\n<p>Thank for your help.</p>\n"},{"tags":["java","runtime"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1638376341,"post_id":70187128,"comment_id":124073016,"body_markdown":"Does this answer your question? [Compiling and executing Java code using Runtime#exec()](https://stackoverflow.com/questions/3577736/compiling-and-executing-java-code-using-runtimeexec)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3577736/compiling-and-executing-java-code-using-runtimeexec\">Compiling and executing Java code using Runtime#exec()</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1638377233,"post_id":70187128,"comment_id":124073410,"body_markdown":"You will get more helpful answers and comments if you indent your code properly.  Properly formatted code is easier for people to read.","body":"You will get more helpful answers and comments if you indent your code properly.  Properly formatted code is easier for people to read."},{"owner":{"account_id":18777009,"reputation":11,"user_id":13692519,"display_name":"Aahlad Kethineedi"},"score":0,"creation_date":1638441958,"post_id":70187128,"comment_id":124091099,"body_markdown":"Still no solution.","body":"Still no solution."}],"owner":{"account_id":18777009,"reputation":11,"user_id":13692519,"display_name":"Aahlad Kethineedi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638373317,"creation_date":1638373317,"question_id":70187128,"body_markdown":"\r\nHere is the code. It is taking SampleProg.java as input. I am unable to provide the  input for SampleProg.java. \r\nWhat I am looking for is to compile, run and give input for test cases for the program. \r\nI tried using Buffered Writer but I am unable to write into the input program.  \r\nIt is getting stuck while giving input. \r\nHow can i provide the input. I am getting stuck at the part where i am giving input and it is not processing further. I also tried to use ProcessBuilder, but i was stuck with the same issue.\r\n\r\n\r\n\r\n\r\nCODE:\r\nExample.java\r\n\r\n```\r\n    public class Example {\r\n    \r\n        public static void main(String[] args) {\r\n            try{\r\n                String path = &quot;src/main/java/SampleProg.java&quot;;\r\n                compile(pathJava);\r\n                Process runProcess = run();\r\n                runProcess.waitFor();\r\n                BufferedReader in = new BufferedReader(new \r\n                InputStreamReader(runProcess.getInputStream()));\r\n                String s;\r\n                Scanner sc = new Scanner(System.in);\r\n                while((s = in.readLine()) != null){\r\n                    System.out.println(s);\r\n                    op.write(sc.nextInt());\r\n                    op.close();\r\n                      }\r\n                    }\r\n                catch(Exception e){\r\n                e.printStackTrace();\r\n                 }\r\n               }\r\n            private static void compile(String pathJava) throws \r\n            IOException, InterruptedException {\r\n            String [] cmd = new String[4];\r\n            cmd[0] = &quot;javac&quot;;\r\n            cmd[1] = &quot;-d&quot;;\r\n            cmd[2] = &quot;.&quot;;\r\n            cmd[3] = pathJava;\r\n            Runtime r = Runtime.getRuntime();\r\n            Process compileProcess = r.exec(cmd);\r\n            compileProcess.waitFor();\r\n            }\r\n        \r\n            private static Process run() throws IOException {\r\n            String [] cmd = new String[2];\r\n            cmd[0] = &quot;java&quot;;\r\n            cmd[1] = &quot;SampleProg&quot;;\r\n            Runtime r = Runtime.getRuntime();\r\n            return r.exec(cmd);\r\n          }\r\n          }\r\n\r\n```","title":"How to give input to a Java program which is fed as input to another Java Program using Runtime.getRuntime.exec()?","body":"<p>Here is the code. It is taking SampleProg.java as input. I am unable to provide the  input for SampleProg.java.\nWhat I am looking for is to compile, run and give input for test cases for the program.\nI tried using Buffered Writer but I am unable to write into the input program.<br />\nIt is getting stuck while giving input.\nHow can i provide the input. I am getting stuck at the part where i am giving input and it is not processing further. I also tried to use ProcessBuilder, but i was stuck with the same issue.</p>\n<p>CODE:\nExample.java</p>\n<pre><code>    public class Example {\n    \n        public static void main(String[] args) {\n            try{\n                String path = &quot;src/main/java/SampleProg.java&quot;;\n                compile(pathJava);\n                Process runProcess = run();\n                runProcess.waitFor();\n                BufferedReader in = new BufferedReader(new \n                InputStreamReader(runProcess.getInputStream()));\n                String s;\n                Scanner sc = new Scanner(System.in);\n                while((s = in.readLine()) != null){\n                    System.out.println(s);\n                    op.write(sc.nextInt());\n                    op.close();\n                      }\n                    }\n                catch(Exception e){\n                e.printStackTrace();\n                 }\n               }\n            private static void compile(String pathJava) throws \n            IOException, InterruptedException {\n            String [] cmd = new String[4];\n            cmd[0] = &quot;javac&quot;;\n            cmd[1] = &quot;-d&quot;;\n            cmd[2] = &quot;.&quot;;\n            cmd[3] = pathJava;\n            Runtime r = Runtime.getRuntime();\n            Process compileProcess = r.exec(cmd);\n            compileProcess.waitFor();\n            }\n        \n            private static Process run() throws IOException {\n            String [] cmd = new String[2];\n            cmd[0] = &quot;java&quot;;\n            cmd[1] = &quot;SampleProg&quot;;\n            Runtime r = Runtime.getRuntime();\n            return r.exec(cmd);\n          }\n          }\n\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":23037589,"reputation":324,"user_id":17156150,"display_name":"MiniDev99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638373187,"creation_date":1638372694,"answer_id":70186969,"question_id":70186798,"body_markdown":"let&#39;s start with uploading New :\r\n\r\nI would suggest adding aditional `child` lets name is `id` for example and the value of this child would be same as the value of firebase push id.\r\n\r\nlet&#39;s get with Editing:\r\n\r\npass a (String) `textId` variable for adapter so that when you click on edit from the menu it would set the textId value to be the push id from the firebase, which would be the child that have data you need to edit.\r\n\r\nnow use the `child(textId).updateChildren(//Your hashmap);`\r\n\r\nand it would work.\r\n\r\nExample of my usage:\r\n\r\n    String textId= productRef.child(UID).child(&quot;images&quot;).push().getKey();\r\n\r\n\r\n    HashMap&lt;String ,Object&gt; hashMap = new HashMap&lt;&gt;();\r\n            hashMap.put(&quot;image&quot;, url);\r\n            hashMap.put(&quot;id&quot;, textId);\r\n\r\n     productRef.child(UID).child(&quot;images&quot;).child(textId).updateChildren(hashMap);\r\n\r\n\r\nIt would look like this:\r\n[![firebase][1]][1]\r\n\r\nhave you notice the id is the same as the Child Name\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8OX42.jpg","title":"Error when i try to update data from firebase","body":"<p>let's start with uploading New :</p>\n<p>I would suggest adding aditional <code>child</code> lets name is <code>id</code> for example and the value of this child would be same as the value of firebase push id.</p>\n<p>let's get with Editing:</p>\n<p>pass a (String) <code>textId</code> variable for adapter so that when you click on edit from the menu it would set the textId value to be the push id from the firebase, which would be the child that have data you need to edit.</p>\n<p>now use the <code>child(textId).updateChildren(//Your hashmap);</code></p>\n<p>and it would work.</p>\n<p>Example of my usage:</p>\n<pre><code>String textId= productRef.child(UID).child(&quot;images&quot;).push().getKey();\n\n\nHashMap&lt;String ,Object&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(&quot;image&quot;, url);\n        hashMap.put(&quot;id&quot;, textId);\n\n productRef.child(UID).child(&quot;images&quot;).child(textId).updateChildren(hashMap);\n</code></pre>\n<p>It would look like this:\n<a href=\"https://i.stack.imgur.com/8OX42.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8OX42.jpg\" alt=\"firebase\" /></a></p>\n<p>have you notice the id is the same as the Child Name</p>\n"}],"owner":{"account_id":21731568,"reputation":13,"user_id":16040239,"display_name":"daniparla90"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70186969,"answer_count":1,"score":0,"last_activity_date":1638373187,"creation_date":1638372082,"question_id":70186798,"body_markdown":"i want to update some data from firebase using my app, but when i submit it, the data only gets duplicated, not changed, and don&#39;t know why. I put my code below: \r\n\r\nMy class userPojo\r\n     \r\n     package com.example.proyectofinaldanielsanchez;\r\n\r\n    import java.io.Serializable;\r\n\r\n    public class userPojo implements Serializable {\r\n\r\n    private String Tipo;\r\n    private String Titulo;\r\n    private String Avance;\r\n    private String Plataforma;\r\n    private String Key;\r\n\r\n    public userPojo() {\r\n\r\n    }\r\n    public userPojo(String Tipo, String Titulo, String Avance, String Plataforma){\r\n        this.Tipo=Tipo;\r\n        this.Titulo=Titulo;\r\n        this.Avance=Avance;\r\n        this.Plataforma=Plataforma;\r\n    }\r\n\r\n    public String getTipo() {\r\n        return Tipo;\r\n    }\r\n\r\n    public void setTipo(String Tipo) {\r\n        this.Tipo = Tipo;\r\n    }\r\n\r\n    public String getKey() {\r\n        return Key;\r\n    }\r\n\r\n    public void setKey(String Key) {\r\n        this.Key = Key;\r\n    }\r\n\r\n    public String getTitulo() {\r\n\r\n        return Titulo;\r\n    }\r\n\r\n    public void setTitulo(String Titulo) {\r\n        this.Titulo = Titulo;\r\n    }\r\n\r\n    public String getAvance() {\r\n        return Avance;\r\n    }\r\n\r\n    public void setAvance (String Avance) {\r\n        this.Avance = Avance;\r\n    }\r\n\r\n\r\n\r\n    public String getPlataforma() {\r\n        return Plataforma;\r\n    }\r\n\r\n    public void setPlataforma(String Plataforma) {\r\n        this.Plataforma = Plataforma;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nClass Adapter:\r\n\r\n     package com.hellokh.sovary.firetest;\r\n\r\n      import android.content.Context; \r\n      import android.content.Intent;\r\n       import android.view.LayoutInflater;\r\n        import android.view.View;\r\n       import android.view.ViewGroup;\r\n     import android.widget.PopupMenu;\r\n     import android.widget.Toast;\r\n\r\n      import androidx.annotation.NonNull;\r\n     import androidx.recyclerview.widget.RecyclerView;\r\n\r\n      import java.util.ArrayList;\r\n\r\n      public class RVAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;\r\n    {\r\n    private Context context;\r\n    ArrayList&lt;Employee&gt; list = new ArrayList&lt;&gt;();\r\n    public RVAdapter(Context ctx)\r\n    {\r\n        this.context = ctx;\r\n    }\r\n    public void setItems(ArrayList&lt;Employee&gt; emp)\r\n    {\r\n        list.addAll(emp);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\r\n    {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.layout_item,parent,false);\r\n        return new EmployeeVH(view);\r\n    }\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position)\r\n    {\r\n        Employee e = null;\r\n        this.onBindViewHolder(holder,position,e);\r\n    }\r\n\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position, Employee e)\r\n    {\r\n        EmployeeVH vh = (EmployeeVH) holder;\r\n        Employee emp = e==null? list.get(position):e;\r\n        vh.txt_name.setText(emp.getName());\r\n        vh.txt_position.setText(emp.getPosition());\r\n        vh.txt_option.setOnClickListener(v-&gt;\r\n        {\r\n            PopupMenu popupMenu =new PopupMenu(context,vh.txt_option);\r\n            popupMenu.inflate(R.menu.option_menu);\r\n            popupMenu.setOnMenuItemClickListener(item-&gt;\r\n            {\r\n                switch (item.getItemId())\r\n                {\r\n                    case R.id.menu_edit:\r\n                        Intent intent=new Intent(context,MainActivity.class);\r\n                        intent.putExtra(&quot;EDIT&quot;,emp);\r\n                        context.startActivity(intent);\r\n                        break;\r\n                    case R.id.menu_remove:\r\n                        DAOEmployee dao=new DAOEmployee();\r\n                        dao.remove(emp.getKey()).addOnSuccessListener(suc-&gt;\r\n                        {\r\n                            Toast.makeText(context, &quot;Record is removed&quot;, Toast.LENGTH_SHORT).show();\r\n                            notifyItemRemoved(position);\r\n                            list.remove(emp);\r\n                        }).addOnFailureListener(er-&gt;\r\n                        {\r\n                            Toast.makeText(context, &quot;&quot;+er.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        });\r\n\r\n                        break;\r\n                }\r\n                return false;\r\n            });\r\n            popupMenu.show();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount()\r\n    {\r\n        return list.size();\r\n    }\r\n    }\r\n\r\n\r\n Class Archivos: \r\n\r\n\r\n       package com.example.proyectofinaldanielsanchez;\r\n\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class Archivos extends AppCompatActivity  {\r\n    \r\n\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        \r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_archivos2);\r\n        final EditText edit_tipo = findViewById(R.id.edit_tipo);\r\n        final EditText edit_titulo = findViewById(R.id.edit_titulo);\r\n        final EditText edit_avance=findViewById(R.id.edit_avance);\r\n        final EditText edit_plataforma=findViewById(R.id.edit_plataforma);\r\n        Button btn = findViewById(R.id.btn_submit);\r\n        Button btn_open = findViewById(R.id.btn_open);\r\n        btn_open.setOnClickListener(v-&gt;\r\n        {\r\n            Intent intent =new Intent(Archivos.this, Visualizar.class);\r\n            startActivity(intent);\r\n        });\r\n        DAOUserPojo dao =new DAOUserPojo();\r\n        userPojo user_edit = (userPojo) getIntent().getSerializableExtra(&quot;EDIT&quot;);\r\n        if(user_edit !=null)\r\n        {\r\n            btn.setText(&quot;UPDATE&quot;);\r\n            edit_tipo.setText(user_edit.getTipo());\r\n            edit_titulo.setText(user_edit.getTitulo());\r\n            edit_avance.setText(user_edit.getAvance());\r\n            edit_plataforma.setText(user_edit.getPlataforma());\r\n\r\n            btn_open.setVisibility(View.GONE);\r\n        }\r\n        else\r\n        {\r\n            btn.setText(&quot;SUBMIT&quot;);\r\n            btn_open.setVisibility(View.VISIBLE);\r\n        }\r\n        btn.setOnClickListener(v-&gt;\r\n        {\r\n            userPojo user = new userPojo(edit_tipo.getText().toString(), edit_titulo.getText().toString(),edit_avance.getText().toString(),edit_plataforma.getText().toString());\r\n            if(user_edit==null)\r\n            {\r\n                dao.add(user).addOnSuccessListener(suc -&gt;\r\n                {\r\n                    Toast.makeText(this, &quot;Record is inserted&quot;, Toast.LENGTH_SHORT).show();\r\n                }).addOnFailureListener(er -&gt;\r\n                {\r\n                    Toast.makeText(this, &quot;&quot; + er.getMessage(), Toast.LENGTH_SHORT).show();\r\n                });\r\n            }\r\n            else\r\n            {\r\n              \r\n                HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n                hashMap.put(&quot;tipo&quot;, edit_tipo.getText().toString());\r\n                hashMap.put(&quot;titulo&quot;, edit_titulo.getText().toString());\r\n                hashMap.put(&quot;avance&quot;, edit_avance.getText().toString());\r\n                hashMap.put(&quot;plataforma&quot;, edit_plataforma.getText().toString());\r\n                dao.update(user_edit.getKey(), hashMap).addOnSuccessListener(suc -&gt;\r\n                {\r\n                    Toast.makeText(this, &quot;Record is updated&quot;, Toast.LENGTH_SHORT).show();\r\n                    finish();\r\n                }).addOnFailureListener(er -&gt;\r\n                {\r\n                    Toast.makeText(this, &quot;&quot; + er.getMessage(), Toast.LENGTH_SHORT).show();\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n        }\r\n\r\nclass DAOUserPojo\r\n\r\n         public class DAOUserPojo {\r\n\r\n    private DatabaseReference databaseReference;\r\n    private FirebaseAuth userid;\r\n\r\n    public DAOUserPojo() {\r\n        FirebaseDatabase db =FirebaseDatabase.getInstance(&quot;https://proyecto-daniel-sanchez-default-rtdb.europe-west1.firebasedatabase.app&quot;);\r\n        databaseReference = db.getReference();\r\n        userid = FirebaseAuth.getInstance();\r\n\r\n\r\n       // userid=FirebaseAuth.getInstance().getCurrentUser();\r\n    }\r\n    public Task&lt;Void&gt; add(userPojo user)\r\n    {\r\n        return databaseReference.child(userid.getUid()).push().setValue(user);\r\n    }\r\n\r\n    public Task&lt;Void&gt; update(String Key, HashMap&lt;String ,Object&gt; hashMap)\r\n    {\r\n        return databaseReference.child(userid.getUid()).child(Key).updateChildren(hashMap);\r\n    }\r\n    public Task&lt;Void&gt; remove(String Key)\r\n    {\r\n        return databaseReference.child(userid.getUid()).child(Key).removeValue();\r\n    }\r\n\r\n    public Query get(String Key)\r\n    {\r\n        if(Key == null)\r\n        {\r\n            return databaseReference.child(userid.getUid()).orderByKey().limitToFirst(8);\r\n        }\r\n        return databaseReference.child(userid.getUid()).orderByKey().startAfter(Key).limitToFirst(8);\r\n    }\r\n\r\n    public Query get()\r\n    {\r\n        return databaseReference;\r\n    }\r\n    }\r\n\r\nAnd this is the nodes of my database when i try to update. It should be like first node, but it get duplicate: [firebase][1] \r\nSry for my bad english. If someone can help, would be amazing, Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eJ9vV.png","title":"Error when i try to update data from firebase","body":"<p>i want to update some data from firebase using my app, but when i submit it, the data only gets duplicated, not changed, and don't know why. I put my code below:</p>\n<p>My class userPojo</p>\n<pre><code> package com.example.proyectofinaldanielsanchez;\n\nimport java.io.Serializable;\n\npublic class userPojo implements Serializable {\n\nprivate String Tipo;\nprivate String Titulo;\nprivate String Avance;\nprivate String Plataforma;\nprivate String Key;\n\npublic userPojo() {\n\n}\npublic userPojo(String Tipo, String Titulo, String Avance, String Plataforma){\n    this.Tipo=Tipo;\n    this.Titulo=Titulo;\n    this.Avance=Avance;\n    this.Plataforma=Plataforma;\n}\n\npublic String getTipo() {\n    return Tipo;\n}\n\npublic void setTipo(String Tipo) {\n    this.Tipo = Tipo;\n}\n\npublic String getKey() {\n    return Key;\n}\n\npublic void setKey(String Key) {\n    this.Key = Key;\n}\n\npublic String getTitulo() {\n\n    return Titulo;\n}\n\npublic void setTitulo(String Titulo) {\n    this.Titulo = Titulo;\n}\n\npublic String getAvance() {\n    return Avance;\n}\n\npublic void setAvance (String Avance) {\n    this.Avance = Avance;\n}\n\n\n\npublic String getPlataforma() {\n    return Plataforma;\n}\n\npublic void setPlataforma(String Plataforma) {\n    this.Plataforma = Plataforma;\n}\n</code></pre>\n<p>}</p>\n<p>Class Adapter:</p>\n<pre><code> package com.hellokh.sovary.firetest;\n\n  import android.content.Context; \n  import android.content.Intent;\n   import android.view.LayoutInflater;\n    import android.view.View;\n   import android.view.ViewGroup;\n import android.widget.PopupMenu;\n import android.widget.Toast;\n\n  import androidx.annotation.NonNull;\n import androidx.recyclerview.widget.RecyclerView;\n\n  import java.util.ArrayList;\n\n  public class RVAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;\n{\nprivate Context context;\nArrayList&lt;Employee&gt; list = new ArrayList&lt;&gt;();\npublic RVAdapter(Context ctx)\n{\n    this.context = ctx;\n}\npublic void setItems(ArrayList&lt;Employee&gt; emp)\n{\n    list.addAll(emp);\n}\n\n@NonNull\n@Override\npublic RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)\n{\n    View view = LayoutInflater.from(context).inflate(R.layout.layout_item,parent,false);\n    return new EmployeeVH(view);\n}\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position)\n{\n    Employee e = null;\n    this.onBindViewHolder(holder,position,e);\n}\n\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position, Employee e)\n{\n    EmployeeVH vh = (EmployeeVH) holder;\n    Employee emp = e==null? list.get(position):e;\n    vh.txt_name.setText(emp.getName());\n    vh.txt_position.setText(emp.getPosition());\n    vh.txt_option.setOnClickListener(v-&gt;\n    {\n        PopupMenu popupMenu =new PopupMenu(context,vh.txt_option);\n        popupMenu.inflate(R.menu.option_menu);\n        popupMenu.setOnMenuItemClickListener(item-&gt;\n        {\n            switch (item.getItemId())\n            {\n                case R.id.menu_edit:\n                    Intent intent=new Intent(context,MainActivity.class);\n                    intent.putExtra(&quot;EDIT&quot;,emp);\n                    context.startActivity(intent);\n                    break;\n                case R.id.menu_remove:\n                    DAOEmployee dao=new DAOEmployee();\n                    dao.remove(emp.getKey()).addOnSuccessListener(suc-&gt;\n                    {\n                        Toast.makeText(context, &quot;Record is removed&quot;, Toast.LENGTH_SHORT).show();\n                        notifyItemRemoved(position);\n                        list.remove(emp);\n                    }).addOnFailureListener(er-&gt;\n                    {\n                        Toast.makeText(context, &quot;&quot;+er.getMessage(), Toast.LENGTH_SHORT).show();\n                    });\n\n                    break;\n            }\n            return false;\n        });\n        popupMenu.show();\n    });\n}\n\n@Override\npublic int getItemCount()\n{\n    return list.size();\n}\n}\n</code></pre>\n<p>Class Archivos:</p>\n<pre><code>   package com.example.proyectofinaldanielsanchez;\n\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Archivos extends AppCompatActivity  {\n\n\nprotected void onCreate(Bundle savedInstanceState)\n{\n    \n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_archivos2);\n    final EditText edit_tipo = findViewById(R.id.edit_tipo);\n    final EditText edit_titulo = findViewById(R.id.edit_titulo);\n    final EditText edit_avance=findViewById(R.id.edit_avance);\n    final EditText edit_plataforma=findViewById(R.id.edit_plataforma);\n    Button btn = findViewById(R.id.btn_submit);\n    Button btn_open = findViewById(R.id.btn_open);\n    btn_open.setOnClickListener(v-&gt;\n    {\n        Intent intent =new Intent(Archivos.this, Visualizar.class);\n        startActivity(intent);\n    });\n    DAOUserPojo dao =new DAOUserPojo();\n    userPojo user_edit = (userPojo) getIntent().getSerializableExtra(&quot;EDIT&quot;);\n    if(user_edit !=null)\n    {\n        btn.setText(&quot;UPDATE&quot;);\n        edit_tipo.setText(user_edit.getTipo());\n        edit_titulo.setText(user_edit.getTitulo());\n        edit_avance.setText(user_edit.getAvance());\n        edit_plataforma.setText(user_edit.getPlataforma());\n\n        btn_open.setVisibility(View.GONE);\n    }\n    else\n    {\n        btn.setText(&quot;SUBMIT&quot;);\n        btn_open.setVisibility(View.VISIBLE);\n    }\n    btn.setOnClickListener(v-&gt;\n    {\n        userPojo user = new userPojo(edit_tipo.getText().toString(), edit_titulo.getText().toString(),edit_avance.getText().toString(),edit_plataforma.getText().toString());\n        if(user_edit==null)\n        {\n            dao.add(user).addOnSuccessListener(suc -&gt;\n            {\n                Toast.makeText(this, &quot;Record is inserted&quot;, Toast.LENGTH_SHORT).show();\n            }).addOnFailureListener(er -&gt;\n            {\n                Toast.makeText(this, &quot;&quot; + er.getMessage(), Toast.LENGTH_SHORT).show();\n            });\n        }\n        else\n        {\n          \n            HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n            hashMap.put(&quot;tipo&quot;, edit_tipo.getText().toString());\n            hashMap.put(&quot;titulo&quot;, edit_titulo.getText().toString());\n            hashMap.put(&quot;avance&quot;, edit_avance.getText().toString());\n            hashMap.put(&quot;plataforma&quot;, edit_plataforma.getText().toString());\n            dao.update(user_edit.getKey(), hashMap).addOnSuccessListener(suc -&gt;\n            {\n                Toast.makeText(this, &quot;Record is updated&quot;, Toast.LENGTH_SHORT).show();\n                finish();\n            }).addOnFailureListener(er -&gt;\n            {\n                Toast.makeText(this, &quot;&quot; + er.getMessage(), Toast.LENGTH_SHORT).show();\n            });\n        }\n    });\n\n\n}\n    }\n</code></pre>\n<p>class DAOUserPojo</p>\n<pre><code>     public class DAOUserPojo {\n\nprivate DatabaseReference databaseReference;\nprivate FirebaseAuth userid;\n\npublic DAOUserPojo() {\n    FirebaseDatabase db =FirebaseDatabase.getInstance(&quot;https://proyecto-daniel-sanchez-default-rtdb.europe-west1.firebasedatabase.app&quot;);\n    databaseReference = db.getReference();\n    userid = FirebaseAuth.getInstance();\n\n\n   // userid=FirebaseAuth.getInstance().getCurrentUser();\n}\npublic Task&lt;Void&gt; add(userPojo user)\n{\n    return databaseReference.child(userid.getUid()).push().setValue(user);\n}\n\npublic Task&lt;Void&gt; update(String Key, HashMap&lt;String ,Object&gt; hashMap)\n{\n    return databaseReference.child(userid.getUid()).child(Key).updateChildren(hashMap);\n}\npublic Task&lt;Void&gt; remove(String Key)\n{\n    return databaseReference.child(userid.getUid()).child(Key).removeValue();\n}\n\npublic Query get(String Key)\n{\n    if(Key == null)\n    {\n        return databaseReference.child(userid.getUid()).orderByKey().limitToFirst(8);\n    }\n    return databaseReference.child(userid.getUid()).orderByKey().startAfter(Key).limitToFirst(8);\n}\n\npublic Query get()\n{\n    return databaseReference;\n}\n}\n</code></pre>\n<p>And this is the nodes of my database when i try to update. It should be like first node, but it get duplicate: <a href=\"https://i.stack.imgur.com/eJ9vV.png\" rel=\"nofollow noreferrer\">firebase</a>\nSry for my bad english. If someone can help, would be amazing, Thanks!</p>\n"},{"tags":["java","visual-studio","visual-studio-code","virtual"],"comments":[{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1638412741,"post_id":70187068,"comment_id":124083891,"body_markdown":"Does [reset VS Code](https://code.visualstudio.com/Docs/setup/setup-overview#_how-can-i-do-a-clean-uninstall-of-vs-code) help?","body":"Does <a href=\"https://code.visualstudio.com/Docs/setup/setup-overview#_how-can-i-do-a-clean-uninstall-of-vs-code\" rel=\"nofollow noreferrer\">reset VS Code</a> help?"},{"owner":{"account_id":22730606,"reputation":1,"user_id":17563487,"display_name":"Seeam Khan"},"score":0,"creation_date":1638417933,"post_id":70187068,"comment_id":124084627,"body_markdown":"@MollyWang-MSFT yeah i did, didnt work","body":"@MollyWang-MSFT yeah i did, didnt work"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1638423382,"post_id":70187068,"comment_id":124085423,"body_markdown":"Does this question happen in every java project?","body":"Does this question happen in every java project?"},{"owner":{"account_id":22730606,"reputation":1,"user_id":17563487,"display_name":"Seeam Khan"},"score":0,"creation_date":1638459551,"post_id":70187068,"comment_id":124099014,"body_markdown":"@MollyWang-MSFT yeah","body":"@MollyWang-MSFT yeah"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1638494125,"post_id":70187068,"comment_id":124110123,"body_markdown":"This question can&#39;t be reproduced in my project, you may ask in [github/vscode-java](https://github.com/redhat-developer/vscode-java/issues) for more help.","body":"This question can&#39;t be reproduced in my project, you may ask in <a href=\"https://github.com/redhat-developer/vscode-java/issues\" rel=\"nofollow noreferrer\">github/vscode-java</a> for more help."}],"owner":{"account_id":22730606,"reputation":1,"user_id":17563487,"display_name":"Seeam Khan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638373055,"creation_date":1638373055,"question_id":70187068,"body_markdown":"When I click the rocket ship icon to change to standard mode the following message comes up, &quot;command &#39;java.runtimevalidation.open&#39; already exists&quot;. I&#39;ve tried cleaning the language server workspace and changing it in settings by changing java server launch mode to standard which also doesn&#39;t work. My code runs but the debugger doesn&#39;t work. [My code][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i1mDV.png","title":"VS Code java won&#39;t change to standard mode","body":"<p>When I click the rocket ship icon to change to standard mode the following message comes up, &quot;command 'java.runtimevalidation.open' already exists&quot;. I've tried cleaning the language server workspace and changing it in settings by changing java server launch mode to standard which also doesn't work. My code runs but the debugger doesn't work. <a href=\"https://i.stack.imgur.com/i1mDV.png\" rel=\"nofollow noreferrer\">My code</a></p>\n"},{"tags":["java","spring","vaadin","spring-session","vaadin21"],"comments":[{"owner":{"account_id":9342494,"reputation":111,"user_id":6934778,"display_name":"mad_lobster"},"score":0,"creation_date":1638375992,"post_id":70186994,"comment_id":124072832,"body_markdown":"$vaadinVersion is 21.0.8, but this problem occures in latest 22.0.0 too.","body":"$vaadinVersion is 21.0.8, but this problem occures in latest 22.0.0 too."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1638383615,"post_id":70186994,"comment_id":124076084,"body_markdown":"Maybe it&#39;s unrelated and I never used Spring Session but why are you using an old version?","body":"Maybe it&#39;s unrelated and I never used Spring Session but why are you using an old version?"},{"owner":{"account_id":9342494,"reputation":111,"user_id":6934778,"display_name":"mad_lobster"},"score":0,"creation_date":1638428600,"post_id":70186994,"comment_id":124086505,"body_markdown":"@SimonMartinelli, as i know it&#39;s just different major releases and they&#39;re both supported","body":"@SimonMartinelli, as i know it&#39;s just different major releases and they&#39;re both supported"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1638431098,"post_id":70186994,"comment_id":124087179,"body_markdown":"No answer to your question but session replication with Vaadin is kind of a problem. Please read: https://vaadin.com/blog/session-replication-in-the-world-of-vaadin","body":"No answer to your question but session replication with Vaadin is kind of a problem. Please read: <a href=\"https://vaadin.com/blog/session-replication-in-the-world-of-vaadin\" rel=\"nofollow noreferrer\">vaadin.com/blog/session-replication-in-the-world-of-vaadin</a>"},{"owner":{"account_id":21520352,"reputation":1362,"user_id":15861571,"display_name":"Anna Koskinen"},"score":0,"creation_date":1638437254,"post_id":70186994,"comment_id":124089388,"body_markdown":"Just a note that neither Vaadin 21 nor 22 are LTS releases, so while they are indeed both supported at the moment, the support for 21 is ending in January 8 already: https://vaadin.com/roadmap#release-model","body":"Just a note that neither Vaadin 21 nor 22 are LTS releases, so while they are indeed both supported at the moment, the support for 21 is ending in January 8 already: <a href=\"https://vaadin.com/roadmap#release-model\" rel=\"nofollow noreferrer\">vaadin.com/roadmap#release-model</a>"},{"owner":{"account_id":2063788,"reputation":83,"user_id":1839776,"display_name":"Konrad Grochowski"},"score":0,"creation_date":1668450192,"post_id":70186994,"comment_id":131402903,"body_markdown":"@mad_lobster Did you find answer for your question ? I have same problem and I&#39;m in dead end.","body":"@mad_lobster Did you find answer for your question ? I have same problem and I&#39;m in dead end."},{"owner":{"account_id":9342494,"reputation":111,"user_id":6934778,"display_name":"mad_lobster"},"score":0,"creation_date":1688996016,"post_id":70186994,"comment_id":135146379,"body_markdown":"@KonradGrochowski no, we actually just switched to react and spring-boot","body":"@KonradGrochowski no, we actually just switched to react and spring-boot"}],"owner":{"account_id":9342494,"reputation":111,"user_id":6934778,"display_name":"mad_lobster"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1638372792,"creation_date":1638372792,"question_id":70186994,"body_markdown":"I&#39;ve just started to dive into Vaadin UI development, please excuse me in case of any silly mistakes. Can someone please help?\r\n\r\nI built a simple sbring-boot application, that uses spring-security for ldap based auth and vaadin for ui. It has 2 pages: login screen and main page.\r\n\r\nThe ```WebSecurityConfig.java``` is:\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter {\r\n    @Autowired\r\n    LdapDatasource ldapDatasource;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        setLoginView(http, LoginScreen.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(&quot;/img/**&quot;);\r\n        super.configure(web);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        var provider = ldapDatasource.createAuthProvider();\r\n        auth.authenticationProvider(provider);\r\n    }\r\n\r\n}\r\n```\r\nThe ```AppShell.java``` is:\r\n```\r\n@Theme(themeClass = Lumo.class, variant = Lumo.LIGHT)\r\npublic class AppShell implements AppShellConfigurator {\r\n}\r\n```\r\nThe ```Application.java``` is:\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n}\r\n```\r\nThe ```build.gradle``` is:\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.0&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n    id &#39;war&#39;\r\n    id &#39;com.vaadin&#39; version &quot;$vaadinVersion&quot;\r\n}\r\n\r\ngroup = &#39;com.sample&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url = &quot;https://maven.vaadin.com/vaadin-addons&quot; }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.vaadin:vaadin-spring-boot-starter&#39;\r\n    implementation &#39;dev.mett.vaadin:tooltip:2.2.0&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.security:spring-security-ldap&#39;\r\n\r\n    implementation &#39;org.springframework.session:spring-session-jdbc:2.4.2&#39;\r\n    implementation &#39;org.postgresql:postgresql:42.3.1&#39;\r\n\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ndependencyManagement {\r\n    imports {\r\n        mavenBom &quot;com.vaadin:vaadin-bom:$vaadinVersion&quot;\r\n        mavenBom &#39;org.springframework.session:spring-session-bom:2020.0.3&#39;\r\n    }\r\n}\r\n\r\n\r\nvaadin {\r\n    optimizeBundle = false\r\n    //productionMode = true\r\n}\r\n\r\n\r\ncompileJava {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\n```application.properties``` is empty.\r\n\r\nMain page has annotations:\r\n```\r\n@Route(&quot;&quot;)\r\n@PageTitle(&quot;Main page&quot;)\r\n@PermitAll\r\n```\r\nAnd login page has annotation:\r\n```\r\n@Route(&quot;login&quot;)\r\n@PageTitle(&quot;Login&quot;)\r\n```\r\n\r\nEverything works fine at this point. App automatically redirects to login page unauthorized users. Custom vaadin login page is displayed. Login through ldap goes completely well. And after login, app proceeds to main page.\r\n\r\nBut as soon as i try to store session information in PostgreSQL database, with adding file ```PostgresConfig.java``` with following contents:\r\n```\r\n@EnableJdbcHttpSession\r\npublic class PostgresConfig {\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        var ds = new PGSimpleDataSource();\r\n        ds.setUrl(&quot;jdbc:postgresql://localhost:5432/sample&quot;);\r\n        ds.setUser(&quot;postgres&quot;);\r\n        ds.setPassword(&quot;1111&quot;);\r\n\r\n        return ds;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\r\n        return new DataSourceTransactionManager(dataSource);\r\n    }\r\n}\r\n```\r\nvaadin starts endless reloading of login page after app startup.\r\n\r\nI&#39;ve tried to disable vaadin login page, changing:\r\n```\r\npublic class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter\r\n```\r\nto\r\n```\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter\r\n```\r\nand then standard spring-security login page opens fine and i can login. I see session  in my postgres database. But when i login, main page goes &quot;Connection lost&quot; and never loads.\r\n\r\nThere is no point in entire project it reaches during endless reload, except ```AppShell```&#39;s ```configurePage``` method on every page load.\r\n\r\nAnd i&#39;ve managed to capture web requests from development console, which happens every page reload:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zDRrN.png\r\n\r\nAfter that bunch of requests it goes reload all the time.\r\nThere is no such problem out in google, and reload happens somewhere inside spring/vaadin request filters or in js in my opinion.\r\n\r\nWhat can lead to this behavior?","title":"Vaadin login page conitiously and automatically reloads with spring-session-jdbc","body":"<p>I've just started to dive into Vaadin UI development, please excuse me in case of any silly mistakes. Can someone please help?</p>\n<p>I built a simple sbring-boot application, that uses spring-security for ldap based auth and vaadin for ui. It has 2 pages: login screen and main page.</p>\n<p>The <code>WebSecurityConfig.java</code> is:</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter {\n    @Autowired\n    LdapDatasource ldapDatasource;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        setLoginView(http, LoginScreen.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/img/**&quot;);\n        super.configure(web);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        var provider = ldapDatasource.createAuthProvider();\n        auth.authenticationProvider(provider);\n    }\n\n}\n</code></pre>\n<p>The <code>AppShell.java</code> is:</p>\n<pre><code>@Theme(themeClass = Lumo.class, variant = Lumo.LIGHT)\npublic class AppShell implements AppShellConfigurator {\n}\n</code></pre>\n<p>The <code>Application.java</code> is:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>The <code>build.gradle</code> is:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.6.0'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n    id 'idea'\n    id 'war'\n    id 'com.vaadin' version &quot;$vaadinVersion&quot;\n}\n\ngroup = 'com.sample'\nversion = '0.0.1-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    maven { url = &quot;https://maven.vaadin.com/vaadin-addons&quot; }\n}\n\ndependencies {\n    implementation 'com.vaadin:vaadin-spring-boot-starter'\n    implementation 'dev.mett.vaadin:tooltip:2.2.0'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.security:spring-security-ldap'\n\n    implementation 'org.springframework.session:spring-session-jdbc:2.4.2'\n    implementation 'org.postgresql:postgresql:42.3.1'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;com.vaadin:vaadin-bom:$vaadinVersion&quot;\n        mavenBom 'org.springframework.session:spring-session-bom:2020.0.3'\n    }\n}\n\n\nvaadin {\n    optimizeBundle = false\n    //productionMode = true\n}\n\n\ncompileJava {\n    options.encoding = 'UTF-8'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p><code>application.properties</code> is empty.</p>\n<p>Main page has annotations:</p>\n<pre><code>@Route(&quot;&quot;)\n@PageTitle(&quot;Main page&quot;)\n@PermitAll\n</code></pre>\n<p>And login page has annotation:</p>\n<pre><code>@Route(&quot;login&quot;)\n@PageTitle(&quot;Login&quot;)\n</code></pre>\n<p>Everything works fine at this point. App automatically redirects to login page unauthorized users. Custom vaadin login page is displayed. Login through ldap goes completely well. And after login, app proceeds to main page.</p>\n<p>But as soon as i try to store session information in PostgreSQL database, with adding file <code>PostgresConfig.java</code> with following contents:</p>\n<pre><code>@EnableJdbcHttpSession\npublic class PostgresConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        var ds = new PGSimpleDataSource();\n        ds.setUrl(&quot;jdbc:postgresql://localhost:5432/sample&quot;);\n        ds.setUser(&quot;postgres&quot;);\n        ds.setPassword(&quot;1111&quot;);\n\n        return ds;\n    }\n\n    @Bean\n    public PlatformTransactionManager transactionManager(DataSource dataSource) {\n        return new DataSourceTransactionManager(dataSource);\n    }\n}\n</code></pre>\n<p>vaadin starts endless reloading of login page after app startup.</p>\n<p>I've tried to disable vaadin login page, changing:</p>\n<pre><code>public class WebSecurityConfig extends VaadinWebSecurityConfigurerAdapter\n</code></pre>\n<p>to</p>\n<pre><code>public class WebSecurityConfig extends WebSecurityConfigurerAdapter\n</code></pre>\n<p>and then standard spring-security login page opens fine and i can login. I see session  in my postgres database. But when i login, main page goes &quot;Connection lost&quot; and never loads.</p>\n<p>There is no point in entire project it reaches during endless reload, except <code>AppShell</code>'s <code>configurePage</code> method on every page load.</p>\n<p>And i've managed to capture web requests from development console, which happens every page reload:\n<a href=\"https://i.stack.imgur.com/zDRrN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zDRrN.png\" alt=\"enter image description here\" /></a></p>\n<p>After that bunch of requests it goes reload all the time.\nThere is no such problem out in google, and reload happens somewhere inside spring/vaadin request filters or in js in my opinion.</p>\n<p>What can lead to this behavior?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":1,"creation_date":1638371670,"post_id":70186656,"comment_id":124070964,"body_markdown":"The problem is mostly `txtTotalBayar.setText(sum+&quot;&quot;)` returns `void`, not in the `parseInt()` method","body":"The problem is mostly <code>txtTotalBayar.setText(sum+&quot;&quot;)</code> returns <code>void</code>, not in the <code>parseInt()</code> method"},{"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"score":2,"creation_date":1638371691,"post_id":70186656,"comment_id":124070974,"body_markdown":"What are you trying to achieve in that line?","body":"What are you trying to achieve in that line?"},{"owner":{"account_id":23515015,"reputation":11,"user_id":17563072,"display_name":"adyt01"},"score":0,"creation_date":1638372008,"post_id":70186656,"comment_id":124071126,"body_markdown":"I want to keep the value from sum to field txtTotalBayar","body":"I want to keep the value from sum to field txtTotalBayar"}],"answers":[{"tags":[],"owner":{"account_id":1813630,"reputation":9872,"user_id":1649198,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638371958,"creation_date":1638371958,"answer_id":70186769,"question_id":70186656,"body_markdown":"```\r\nLN.Totalbayar= Integer.parseInt(txtTotalBayar.setText(sum+&quot;&quot;));\r\n```\r\n\r\nThe return type of `setText` is void. `Integer.parseInt` expects a `String`. Setters don&#39;t _usually_ return anything. Their purpose is to change a value, not retrieve it.\r\n\r\nI&#39;m not sure why you are trying to change `txtTotalBayar` while also parsing its value, so it is hard for me to say what the right thing to do is, but perhaps you want something like:\r\n\r\n```\r\ntxtTotalBayar.setText(sum+&quot;&quot;);\r\nLN.Totalbayar= Integer.parseInt(txtTotalBayar.getText());\r\n```","title":"What causes error &quot;&#39;void&#39; type not allowed here&quot; and how do I fix it?","body":"<pre><code>LN.Totalbayar= Integer.parseInt(txtTotalBayar.setText(sum+&quot;&quot;));\n</code></pre>\n<p>The return type of <code>setText</code> is void. <code>Integer.parseInt</code> expects a <code>String</code>. Setters don't <em>usually</em> return anything. Their purpose is to change a value, not retrieve it.</p>\n<p>I'm not sure why you are trying to change <code>txtTotalBayar</code> while also parsing its value, so it is hard for me to say what the right thing to do is, but perhaps you want something like:</p>\n<pre><code>txtTotalBayar.setText(sum+&quot;&quot;);\nLN.Totalbayar= Integer.parseInt(txtTotalBayar.getText());\n</code></pre>\n"}],"owner":{"account_id":23515015,"reputation":11,"user_id":17563072,"display_name":"adyt01"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1638372918,"accepted_answer_id":70186769,"answer_count":1,"score":-3,"last_activity_date":1638372779,"creation_date":1638371508,"question_id":70186656,"body_markdown":"I found error at line LN.Totalbayar= Integer.parseInt(txtTotalBayar.setText(sum+&quot;&quot;));\r\nPreviously I&#39;ve tried converting from string to integer. please help\r\n\r\n    private void btnProsesActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // TODO add your handling code here:        \r\n         ClassProgramTiket LN = new ClassProgramTiket();\r\n         String hrTiket = txtHargaTiket.getText();\r\n        String jmlTiket = txtJumlahTiket.getText();\r\n        int harga = Integer.valueOf(hrTiket);\r\n        int jumlah = Integer.valueOf(jmlTiket);\r\n        int sum = harga * jumlah;    \r\n        LN.Nama=txtNama.getText();\r\n        LN.KodeKereta= (String)cbokodeKereta.getSelectedItem();\r\n        LN.NamaKereta=(String)jenisKereta.getSelectedItem();\r\n        LN.Jurusan= (String)jurusan.getSelectedItem();\r\n        LN.JenisTiket= (String)jenisTiket.getSelectedItem();\r\n        LN.HargaTiket= Integer.parseInt(txtHargaTiket.getText());\r\n        LN.JumlahTiket= Integer.parseInt(txtJumlahTiket.getText());      \r\n        LN.Totalbayar= Integer.parseInt(txtTotalBayar.setText(sum+&quot;&quot;)); &lt;- Error &#39;void&#39; \r\n    type not allowed here\r\n        Tiket.addElement(LN);\r\n         }                \r\n    }\r\n\r\n    //========== class ClassProgramTiket ====  \r\n    public class ClassProgramTiket {\r\n    public String Nama;\r\n    public String KodeKereta;\r\n    public String NamaKereta;\r\n    public String Jurusan;\r\n    public String JenisTiket;\r\n    public int HargaTiket;\r\n    public int JumlahTiket;\r\n    public int Totalbayar;\r\n\r\n    @Override\r\n    public String toString(){     \r\n        return Nama +&quot;-&quot; + KodeKereta +&quot;-&quot; + NamaKereta + &quot;-&quot; + Jurusan +&quot;-&quot; + JenisTiket \r\n    + &quot;-&quot; + HargaTiket+&quot;-&quot; + JumlahTiket + &quot;-&quot; + Totalbayar;\r\n    }\r\n     }","title":"What causes error &quot;&#39;void&#39; type not allowed here&quot; and how do I fix it?","body":"<p>I found error at line LN.Totalbayar= Integer.parseInt(txtTotalBayar.setText(sum+&quot;&quot;));\nPreviously I've tried converting from string to integer. please help</p>\n<pre><code>private void btnProsesActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    // TODO add your handling code here:        \n     ClassProgramTiket LN = new ClassProgramTiket();\n     String hrTiket = txtHargaTiket.getText();\n    String jmlTiket = txtJumlahTiket.getText();\n    int harga = Integer.valueOf(hrTiket);\n    int jumlah = Integer.valueOf(jmlTiket);\n    int sum = harga * jumlah;    \n    LN.Nama=txtNama.getText();\n    LN.KodeKereta= (String)cbokodeKereta.getSelectedItem();\n    LN.NamaKereta=(String)jenisKereta.getSelectedItem();\n    LN.Jurusan= (String)jurusan.getSelectedItem();\n    LN.JenisTiket= (String)jenisTiket.getSelectedItem();\n    LN.HargaTiket= Integer.parseInt(txtHargaTiket.getText());\n    LN.JumlahTiket= Integer.parseInt(txtJumlahTiket.getText());      \n    LN.Totalbayar= Integer.parseInt(txtTotalBayar.setText(sum+&quot;&quot;)); &lt;- Error 'void' \ntype not allowed here\n    Tiket.addElement(LN);\n     }                \n}\n\n//========== class ClassProgramTiket ====  \npublic class ClassProgramTiket {\npublic String Nama;\npublic String KodeKereta;\npublic String NamaKereta;\npublic String Jurusan;\npublic String JenisTiket;\npublic int HargaTiket;\npublic int JumlahTiket;\npublic int Totalbayar;\n\n@Override\npublic String toString(){     \n    return Nama +&quot;-&quot; + KodeKereta +&quot;-&quot; + NamaKereta + &quot;-&quot; + Jurusan +&quot;-&quot; + JenisTiket \n+ &quot;-&quot; + HargaTiket+&quot;-&quot; + JumlahTiket + &quot;-&quot; + Totalbayar;\n}\n }\n</code></pre>\n"},{"tags":["java","json","parsing","avro"],"comments":[{"owner":{"account_id":8141400,"reputation":1959,"user_id":6131452,"display_name":"Scott"},"score":0,"creation_date":1638284184,"post_id":70170630,"comment_id":124044035,"body_markdown":"Are you able to post the full schema and full `body` data?","body":"Are you able to post the full schema and full <code>body</code> data?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1638394961,"post_id":70170630,"comment_id":124080117,"body_markdown":"If you get the Java dependency for the `CachedSchemaRegistryClient`, then it has methods to get the Avro `Schema` class for you. You then don&#39;t need to manually download and parse the AVSC json body","body":"If you get the Java dependency for the <code>CachedSchemaRegistryClient</code>, then it has methods to get the Avro <code>Schema</code> class for you. You then don&#39;t need to manually download and parse the AVSC json body"}],"answers":[{"tags":[],"owner":{"account_id":8141400,"reputation":1959,"user_id":6131452,"display_name":"Scott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638372717,"creation_date":1638372717,"answer_id":70186973,"question_id":70170630,"body_markdown":"For the example body that looks like this:\r\n\r\n```\r\n{&quot;field1&quot;:&quot;value1&quot;}\r\n```\r\n\r\nThe Java JSON decoder doesn&#39;t currently handle situations where a field is missing (even if it has a default value). Since the JAVA JSON encoder always write out the field, the decoder always expects the field to be there.\r\n\r\nFor the second example that looks like this:\r\n\r\n```\r\n{&quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;value2&quot;}\r\n```\r\n\r\nThis is not valid JSON encoded Avro data. I&#39;m guessing this is a data structure that was created by some means other than the Avro encoder because the Avro encoder would have created this:\r\n\r\n```\r\n{&quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;: {&quot;string&quot;: &quot;value2&quot;}}\r\n```\r\n\r\nThe specification describes how JSON encoding works in the case of unions and if the value is non-null then it will encode the type information: https://avro.apache.org/docs/current/spec.html#json_encoding","title":"Getting AvroTypeException when try parse nullable fields","body":"<p>For the example body that looks like this:</p>\n<pre><code>{&quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n<p>The Java JSON decoder doesn't currently handle situations where a field is missing (even if it has a default value). Since the JAVA JSON encoder always write out the field, the decoder always expects the field to be there.</p>\n<p>For the second example that looks like this:</p>\n<pre><code>{&quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;value2&quot;}\n</code></pre>\n<p>This is not valid JSON encoded Avro data. I'm guessing this is a data structure that was created by some means other than the Avro encoder because the Avro encoder would have created this:</p>\n<pre><code>{&quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;: {&quot;string&quot;: &quot;value2&quot;}}\n</code></pre>\n<p>The specification describes how JSON encoding works in the case of unions and if the value is non-null then it will encode the type information: <a href=\"https://avro.apache.org/docs/current/spec.html#json_encoding\" rel=\"nofollow noreferrer\">https://avro.apache.org/docs/current/spec.html#json_encoding</a></p>\n"}],"owner":{"account_id":23359267,"reputation":23,"user_id":17431780,"display_name":"Teofilo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638372717,"creation_date":1638280921,"question_id":70170630,"body_markdown":"I&#39;m getting my avro schema from Kafka Schema Registry API calling `/subjects/{subject}/versions/latest` and there is one field of `&quot;type&quot;:[&quot;null&quot;,&quot;string&quot;]`\r\n\r\nI create a new JsonDecoder and DatumReader with this schema:\r\n```Java\r\nJsonDecoder jsonDecoder = DecoderFactory.get().jsonDecoder(schema, body);\r\nDatumReader&lt;Object&gt; reader = new GenericDatumReader&lt;&gt;(schema);\r\n```\r\nThe variable `body` has an jsonString with all fields in the schema, inclusive the optional one...\r\n\r\nBut, when I call `reader.read(null, jsonDecoder);` I got a `AvroTypeException` with the message: `org.apache.avro.AvroTypeException: Expected start-union. Got END_OBJECT`\r\n\r\nThe same occurs if the `body` doesn&#39;t have that field...\r\n\r\nIs there some configuration that I&#39;m missig?\r\n\r\nThe Schema:\r\n```avro\r\n{\r\n\t&quot;type&quot;:&quot;record&quot;,\r\n\t&quot;name&quot;:&quot;evolution&quot;,\r\n\t&quot;namespace&quot;:&quot;com.landoop&quot;,\r\n\t&quot;doc&quot;:&quot;This is a sample Avro schema to get you started. Please edit&quot;,\r\n\t&quot;fields&quot;:[\r\n\t\t{\r\n\t\t\t&quot;name&quot;:&quot;field1&quot;,\r\n\t\t\t&quot;type&quot;:&quot;string&quot;\r\n\t\t},{\r\n\t\t\t&quot;name&quot;:&quot;field2&quot;,\r\n\t\t\t&quot;type&quot;: [\r\n\t\t\t\t&quot;null&quot;,\r\n\t\t\t\t&quot;string&quot;\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}\r\n```\r\nThe body variable:\r\n```JSON\r\n{\r\n\t&quot;field1&quot;:&quot;value1&quot;\r\n}\r\n```\r\nor\r\n```JSON\r\n{\r\n\t&quot;field1&quot;:&quot;value1&quot;,\r\n\t&quot;field2&quot;:&quot;value2&quot;\r\n}\r\n```\r\n","title":"Getting AvroTypeException when try parse nullable fields","body":"<p>I'm getting my avro schema from Kafka Schema Registry API calling <code>/subjects/{subject}/versions/latest</code> and there is one field of <code>&quot;type&quot;:[&quot;null&quot;,&quot;string&quot;]</code></p>\n<p>I create a new JsonDecoder and DatumReader with this schema:</p>\n<pre><code>JsonDecoder jsonDecoder = DecoderFactory.get().jsonDecoder(schema, body);\nDatumReader&lt;Object&gt; reader = new GenericDatumReader&lt;&gt;(schema);\n</code></pre>\n<p>The variable <code>body</code> has an jsonString with all fields in the schema, inclusive the optional one...</p>\n<p>But, when I call <code>reader.read(null, jsonDecoder);</code> I got a <code>AvroTypeException</code> with the message: <code>org.apache.avro.AvroTypeException: Expected start-union. Got END_OBJECT</code></p>\n<p>The same occurs if the <code>body</code> doesn't have that field...</p>\n<p>Is there some configuration that I'm missig?</p>\n<p>The Schema:</p>\n<pre><code>{\n    &quot;type&quot;:&quot;record&quot;,\n    &quot;name&quot;:&quot;evolution&quot;,\n    &quot;namespace&quot;:&quot;com.landoop&quot;,\n    &quot;doc&quot;:&quot;This is a sample Avro schema to get you started. Please edit&quot;,\n    &quot;fields&quot;:[\n        {\n            &quot;name&quot;:&quot;field1&quot;,\n            &quot;type&quot;:&quot;string&quot;\n        },{\n            &quot;name&quot;:&quot;field2&quot;,\n            &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>The body variable:</p>\n<pre><code>{\n    &quot;field1&quot;:&quot;value1&quot;\n}\n</code></pre>\n<p>or</p>\n<pre><code>{\n    &quot;field1&quot;:&quot;value1&quot;,\n    &quot;field2&quot;:&quot;value2&quot;\n}\n</code></pre>\n"},{"tags":["java","illegalargumentexception"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1638368830,"post_id":70185835,"comment_id":124069613,"body_markdown":"What is `getContext()` and `getActionMap(someClass)`? Standard swing just has `getActionMap()`. Are you using jdesktop perhaps? The full stacktrace and message of that exception is also missing. You&#39;ve pasted a lot, but not the most important parts.","body":"What is <code>getContext()</code> and <code>getActionMap(someClass)</code>? Standard swing just has <code>getActionMap()</code>. Are you using jdesktop perhaps? The full stacktrace and message of that exception is also missing. You&#39;ve pasted a lot, but not the most important parts."},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1638369446,"post_id":70185835,"comment_id":124069932,"body_markdown":"***UPDATE***: I tried to create a marker interface called `ActionsClass` that would simply mark any class that contains a method decorated with the `@Action` annotation, then updated my `Plugin` interface to have the method `public default Class&lt;ActionsClass&gt; getActionsClass() { return Actions.class; }`, but still get the same `IllegalArgumentException` for a `null ClassLoader`. So, I am still stuck on this...","body":"<b><i>UPDATE</i></b>: I tried to create a marker interface called <code>ActionsClass</code> that would simply mark any class that contains a method decorated with the <code>@Action</code> annotation, then updated my <code>Plugin</code> interface to have the method <code>public default Class&lt;ActionsClass&gt; getActionsClass() { return Actions.class; }</code>, but still get the same <code>IllegalArgumentException</code> for a <code>null ClassLoader</code>. So, I am still stuck on this..."},{"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"score":0,"creation_date":1638369531,"post_id":70185835,"comment_id":124069982,"body_markdown":"@rzwitserloot, my apologies...Yes, I am using jdesktop AppFramework (slightly updated) and I am posting the stacktrace now.","body":"@rzwitserloot, my apologies...Yes, I am using jdesktop AppFramework (slightly updated) and I am posting the stacktrace now."}],"answers":[{"tags":[],"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638372540,"creation_date":1638372540,"answer_id":70186916,"question_id":70185835,"body_markdown":"While reviewing the `org.jdesktop.application.ApplicationAction` class, I discovered my (extremely rookie) mistake in the `addMenuItem` method. The line of code that was blowing up with the `IllegalArgumentException` was:\r\n\r\n```java\r\nApplicationActionmap actMap = getContext().getActionMap(c.getClass());\r\n```\r\n\r\nI discovered the mistake in that line while reviewing the `ApplicationAction` class&#39; source code to be sure that I did not break something in it when I was updating it. I discovered this - You do not pass a class to `getActionMap`, but an instance of the class:\r\n\r\n```java\r\nactMap = getContext().getActionMap(c.getClass()); // WRONG!\r\nactMap = getContext().getActionMap(c)) // Correct!!!\r\n```\r\nTherefore, I was simply passing the wrong parameter in order to get my actions from my `MenuCommand` instance.\r\n\r\n[SOLVED] Pass an instance of the class that contains the action to `getActionMap`, not the class itself.","title":"IllegalArgumentException null ClassLoader Issue","body":"<p>While reviewing the <code>org.jdesktop.application.ApplicationAction</code> class, I discovered my (extremely rookie) mistake in the <code>addMenuItem</code> method. The line of code that was blowing up with the <code>IllegalArgumentException</code> was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ApplicationActionmap actMap = getContext().getActionMap(c.getClass());\n</code></pre>\n<p>I discovered the mistake in that line while reviewing the <code>ApplicationAction</code> class' source code to be sure that I did not break something in it when I was updating it. I discovered this - You do not pass a class to <code>getActionMap</code>, but an instance of the class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>actMap = getContext().getActionMap(c.getClass()); // WRONG!\nactMap = getContext().getActionMap(c)) // Correct!!!\n</code></pre>\n<p>Therefore, I was simply passing the wrong parameter in order to get my actions from my <code>MenuCommand</code> instance.</p>\n<p>[SOLVED] Pass an instance of the class that contains the action to <code>getActionMap</code>, not the class itself.</p>\n"}],"owner":{"account_id":23152272,"reputation":15,"user_id":17254090,"display_name":"Sean Carrick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638372540,"creation_date":1638368277,"question_id":70185835,"body_markdown":"I am getting an `IllegalArgumentException` when I attempt to load a class that describes a `JMenuItem`&#39;s properties from a list. To help out, I am including the pertinent parts of my API and the code that causes this exception.\r\n\r\nThe API is as follows:\r\n```java\r\npublic interface MenuCommand extends Comparable&lt;MenuCommand&gt; {\r\n    public String getName();\r\n    public String getOwner();\r\n    public int getPosition();\r\n    public String getActionName();\r\n    public default boolean separatorBefore() { return false; }\r\n    public default boolean separatorAfter() { return false; }\r\n}\r\n```\r\nThis interface defines the `javax.swing.JMenuItem` that will be created in my application&#39;s `initialize` method. However, since I am making the application completely pluggable, I actually instantiate the various `MenuCommand` classes in the individual module&#39;s using the following interface:\r\n\r\n```java\r\npublic interface Plugin {\r\n    public String getVersion();\r\n    public OptionsPanelProvider getOptionsPanel(); // A custom JPanel implementation.\r\n    public List&lt;MenuCommand&gt; getMenuItems(); // Retrieves all of the items I am having the issue with.\r\n    public List&lt;MenuProvider&gt; getMenus(); // Works as expected in the application.\r\n    public List&lt;ToolbarCommand&gt; getToolbarButtons(); // May experience this same issue again loading these...\r\n    public String getPluginName();\r\n    public String getVendorName();\r\n    public String getCopyright();\r\n    public default List&lt;String&gt; getContributors() { return Collections.emptyList(); }\r\n}\r\n```\r\n\r\nMy application&#39;s `initialize()` method calls a private method called `loadModules`, which loads all of the latter interface implementations into an `ArrayList&lt;Plugin&gt;` variable. Once the plugin modules are loaded, I call a method named `buildMainMenu`, which pulls all of the `MenuProvider`s out of each plugin and loads them into the main window&#39;s menubar, and this method works perfectly.\r\n\r\nOnce the main menubar has all of the top-level and sub-menus loaded into it from the various installed plugins, `initialize` then calls `addMenuItems` to load the former (`MenuCommand`) interface implementations into the appropriate menus, and that is where this exception is thrown. Here is the code that is not working:\r\n\r\n```java\r\nprivate void addMenuItems() {\r\n    List&lt;MenuCommand&gt; allCommands = new ArrayList&lt;&gt;();\r\n\r\n    for (Plugin p : modules) {\r\n        allCommands.addAll(p.getMenuItems());\r\n    }\r\n\r\n    Collections.sort(allCommands); // Hence the extension of Comparable on the interface.\r\n\r\n    javax.swing.JMenuBar bar = mainWindow.getMenuBar();\r\n    for (int x = 0; x &lt; bar.getMenuCount(); x++) {\r\n        javax.swing.JMenu m = bar.getMenu(x);\r\n\r\n        for (MenuCommand c : allCommands) {\r\n            if (m.getName().equals(c.getOwner())) {\r\n                m.add(createJMenuItem(c));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nprivate javax.swing.JMenuItem createJMenuItem(MenuCommand c) {\r\n    ResourceMap resMap = getContext().getResourceMap(c.getClass());\r\n\r\n    //vvv This is the line throwing the exception vvv\\\\\r\n    ActionMap actMap = getContext().getActionMap(c.getClass());\r\n\r\n    javax.swing.JMenuItem item = new javax.swing.JMenuItem();\r\n    item.setName(c.getName());\r\n    item.setAction(actMap.getAction(c.getActionName()));\r\n    getContext().getSessionStorage().injectComponent(item);\r\n\r\n    return item;\r\n}\r\n```\r\nIf the individual `MenuCommand` implementations that are stored in the `Plugin`&#39;s `getMenuItems` list have already been initialized (loaded), they should have a `ClassLoader` associated with them. When I break execution on the problem line, the `c` class has a `ClassLoader`, but I do see a couple of `null` property values:\r\n\r\n```\r\nc.getClass().getClassLoader().URLClassPath = #1975\r\nc.getClass().getClassLoader().URLClassPath.path = ArrayList.size = 0\r\nc.getClass().getClassLoader().URLClassPath.unopenedUrls = ArrayDeque.size = 0\r\nc.getClass().getClassLoader().URLClassPath.loaders = ArrayList.size = 0\r\nc.getClass().getClassLoader().URLClassPath.Imap = HashMap.size = 0\r\nc.getClass().getClassLoader().URLClassPath.jarHandler = null\r\nc.getClass().getClassLoader().URLClassPath.closed = false\r\nc.getClass().getClassLoader().URLClassPath.acc = null\r\n```\r\nFurthermore, from the `static` section of the `ClassLoader`, the `usr_paths` array has a length of 5, containing various JDK-related paths. The `sys_paths` array has a length of 1, pointing to the `/usr/lib/jvm/jdk-11.0.12/lib` folder, as it should. The `packageToModule` array has a size of 1079. The `ClassLoader$AppClassLoader` properties are identical to those listed above.\r\n\r\n### Attempts to solve\r\nIn an attempt to solve this issue, I have tried not using the `List&lt;Plugin&gt; modules.getMenuItems()` method, but to use the `ServiceLoader&lt;MenuCommand&gt;.load` method to see if that would do it, but it did not.\r\n\r\nI have read through numerous `ServiceLoader`, `ClassLoader`, and other documentation, including the book about the Java Virtual Machine that I have, but have not been able to discover what I am missing.\r\n\r\nI have looked at other questions about similar issues, but they have not helped either. I am hoping that posting this question will find me some help. Thank you all for your assistance.\r\n\r\n-SC\r\n\r\n***UPDATE*** `getResourceMap()` and `getActionMap()` are part of a slightly updated version of the JSR-296 `org.jdesktop` AppFramework. Here is the full stacktrace:\r\n\r\n```\r\nDec 01, 2021 8:33:28 AM org.jdesktop.application.Application$1 run\r\nSEVERE: Application class com.gs.nta.NTApp failed to launch\r\njava.lang.IllegalArgumentException: null ClassLoader\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceMap.&lt;init&gt;(ResourceMap.java:152)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMap(ResourceManager.java:436)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMapChain(ResourceManager.java:139)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.getClassResourceMap(ResourceManager.java:173)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.getResourceMap(ResourceManager.java:254)\r\n\tat appframework@1.0.3/org.jdesktop.application.ApplicationContext.getResourceMap(ApplicationContext.java:203)\r\n\tat appframework@1.0.3/org.jdesktop.application.ActionManager.getActionMap(ActionManager.java:168)\r\n\tat appframework@1.0.3/org.jdesktop.application.ApplicationContext.getActionMap(ApplicationContext.java:303)\r\n\tat NTA.Foundation/com.gs.nta.NTApp.createJMenuItem(NTApp.java:709)\r\n\tat NTA.Foundation/com.gs.nta.NTApp.addMenuItems(NTApp.java:636)\r\n\tat NTA.Foundation/com.gs.nta.NTApp.initialize(NTApp.java:171)\r\n\tat appframework@1.0.3/org.jdesktop.application.Application$1.run(Application.java:170)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Application class com.gs.nta.NTApp failed to launch\r\n\tat appframework@1.0.3/org.jdesktop.application.Application$1.run(Application.java:177)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nCaused by: java.lang.IllegalArgumentException: null ClassLoader\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceMap.&lt;init&gt;(ResourceMap.java:152)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMap(ResourceManager.java:436)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMapChain(ResourceManager.java:139)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.getClassResourceMap(ResourceManager.java:173)\r\n\tat appframework@1.0.3/org.jdesktop.application.ResourceManager.getResourceMap(ResourceManager.java:254)\r\n\tat appframework@1.0.3/org.jdesktop.application.ApplicationContext.getResourceMap(ApplicationContext.java:203)\r\n\tat appframework@1.0.3/org.jdesktop.application.ActionManager.getActionMap(ActionManager.java:168)\r\n\tat appframework@1.0.3/org.jdesktop.application.ApplicationContext.getActionMap(ApplicationContext.java:303)\r\n\tat NTA.Foundation/com.gs.nta.NTApp.createJMenuItem(NTApp.java:709)\r\n\tat NTA.Foundation/com.gs.nta.NTApp.addMenuItems(NTApp.java:636)\r\n\tat NTA.Foundation/com.gs.nta.NTApp.initialize(NTApp.java:171)\r\n\tat appframework@1.0.3/org.jdesktop.application.Application$1.run(Application.java:170)\r\n\t... 13 more\r\n```\r\n***UPDATE 2*** And, just for additional application flow information, here is the output of my logger:\r\n```\r\n[ENTER] (2021-12-01T14:33:27.942336Z): [SEQ 1]: com.gs.nta.NTApp.initialize - Initializing application and all objects. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\r\n[ENTER] (2021-12-01T14:33:27.964177Z): [SEQ 3]: com.gs.nta.NTApp.parseArguments - Parsing command-line arguments. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\r\nTRACE (2021-12-01T14:33:27.966121Z): [SEQ 6]: com.gs.nta.NTApp.parseArguments - development.mode=true; logger.level=TRACE | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\r\nCONFIG (2021-12-01T14:33:27.969736Z): [SEQ 7]: com.gs.nta.NTApp.parseArguments - Checking to see if the formatted logs argument is present. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\r\nTRACE (2021-12-01T14:33:27.969981Z): [SEQ 8]: com.gs.nta.NTApp.parseArguments - logging.format=false | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\r\n[EXIT] (2021-12-01T14:33:27.970190Z): [SEQ 9]: com.gs.nta.NTApp.parseArguments - Done parsing command-line arguments. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\n[ENTER] (2021-12-01T14:33:27.970608Z): [SEQ 10]: com.gs.nta.NTApp.loadModules - Loading modules: | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nCONFIG (2021-12-01T14:33:27.980256Z): [SEQ 11]: com.gs.nta.NTApp.loadModules - Plugin Loaded: NTA Properties Manager (GS United Labs) v. NTA_Properties_Manager-1.0-DEV-SNAPSHOT | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nCONFIG (2021-12-01T14:33:27.993990Z): [SEQ 12]: com.gs.nta.NTApp.loadModules - Plugin Loaded: Logging System (GS United Labs) v. Logging_System-5.0-SNAPSHOT | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nCONFIG (2021-12-01T14:33:27.994537Z): [SEQ 13]: com.gs.nta.NTApp.loadModules - Plugin Loaded: Northwind Traders Foundation (GS United Labs) v. Northwind_Traders_Foundation-1.0-DEV-SNAPSHOT | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\n[EXIT] (2021-12-01T14:33:27.994737Z): [SEQ 14]: com.gs.nta.NTApp.loadModules - Done loading modules. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\n[ENTER] (2021-12-01T14:33:28.045044Z): [SEQ 15]: com.gs.nta.NTApp.buildMainMenu - Building menu system... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nDEBUG (2021-12-01T14:33:28.045355Z): [SEQ 16]: com.gs.nta.NTApp.buildMainMenu - Getting all menus from all installed modules. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nTRACE (2021-12-01T14:33:28.047357Z): [SEQ 17]: com.gs.nta.NTApp.buildMainMenu - Retrieved 6 menus from installed modules. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nDEBUG (2021-12-01T14:33:28.047727Z): [SEQ 18]: com.gs.nta.NTApp.buildMainMenu - Getting only top-level menus from the list of all menus. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nTRACE (2021-12-01T14:33:28.047883Z): [SEQ 19]: com.gs.nta.NTApp.buildMainMenu - Of all 6 menus, 5 were top-level menus. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nTRACE (2021-12-01T14:33:28.048127Z): [SEQ 20]: com.gs.nta.NTApp.buildMainMenu - Of all 6 menus, 5 were menu items. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\n[ENTER] (2021-12-01T14:33:28.065047Z): [SEQ 21]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.FileMenuProvider@7e9d8d7b | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.FileMenuProvider@7e9d8d7b]\r\n\r\n&gt;&gt;&gt; Exception stacktrace located here &lt;&lt;&lt;\r\n\r\n[EXIT] (2021-12-01T14:33:28.075770Z): [SEQ 22]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[fileMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=File] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.FileMenuProvider@7e9d8d7b]\r\n[ENTER] (2021-12-01T14:33:28.226546Z): [SEQ 23]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.EditMenuProvider@6b3f648a | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.EditMenuProvider@6b3f648a]\r\n[EXIT] (2021-12-01T14:33:28.228859Z): [SEQ 24]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[editMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Edit] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.EditMenuProvider@6b3f648a]\r\n[ENTER] (2021-12-01T14:33:28.229384Z): [SEQ 25]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.ViewMenuProvider@26a1a787 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ViewMenuProvider@26a1a787]\r\n[EXIT] (2021-12-01T14:33:28.231477Z): [SEQ 26]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[viewMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=View] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ViewMenuProvider@26a1a787]\r\n[ENTER] (2021-12-01T14:33:28.232001Z): [SEQ 27]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.ToolsMenuProvider@2b41cd51 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ToolsMenuProvider@2b41cd51]\r\n[EXIT] (2021-12-01T14:33:28.234856Z): [SEQ 28]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[toolsMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Tools] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ToolsMenuProvider@2b41cd51]\r\n[ENTER] (2021-12-01T14:33:28.235381Z): [SEQ 29]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.HelpMenuProvider@2ee9de63 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\r\n[EXIT] (2021-12-01T14:33:28.237675Z): [SEQ 30]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[helpMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Help] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\r\nTRACE (2021-12-01T14:33:28.238275Z): [SEQ 31]: com.gs.nta.NTApp.createJMenu - Built the java.awt.MenuBar (javax.swing.JMenuBar[menuBar,0,0,0x0,invalid,layout=javax.swing.plaf.basic.DefaultMenuLayout,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuBarBorder@3ee2e400,flags=392,maximumSize=,minimumSize=,preferredSize=,margin=,paintBorder=true]) and setting it as the menuBar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\r\nTRACE (2021-12-01T14:33:28.239715Z): [SEQ 32]: com.gs.nta.NTApp.createJMenu - mainWindow.getJMenuBar() == javax.swing.JMenuBar[menuBar,0,0,0x0,invalid,layout=javax.swing.plaf.basic.DefaultMenuLayout,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuBarBorder@3ee2e400,flags=392,maximumSize=,minimumSize=,preferredSize=,margin=,paintBorder=true] | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\r\n[ENTER] (2021-12-01T14:33:28.240156Z): [SEQ 33]: com.gs.nta.NTApp.buildSubMenus - Building sub-menus... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.240356Z): [SEQ 34]: com.gs.nta.NTApp.buildSubMenus - Checking menus.getSize() &gt; 1: false | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.240641Z): [SEQ 35]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[fileMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=File], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\n[ENTER] (2021-12-01T14:33:28.241015Z): [SEQ 36]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.NewMenuProvider@15d4f1c4 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\n[EXIT] (2021-12-01T14:33:28.243433Z): [SEQ 37]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[fileNewMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=New] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\n[EXIT] (2021-12-01T14:33:28.248355Z): [SEQ 38]: com.gs.nta.NTApp.buildSubMenus - Added the menu created from MenuProvider (com.gs.nta.menus.NewMenuProvider@15d4f1c4) to the menubar. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.248355Z): [SEQ 39]: com.gs.nta.NTApp.buildSubMenus - Added the menu created from MenuProvider (com.gs.nta.menus.NewMenuProvider@15d4f1c4) to the menubar. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.248838Z): [SEQ 40]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[editMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Edit], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.249261Z): [SEQ 41]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=editMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.249519Z): [SEQ 42]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[viewMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=View], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.251184Z): [SEQ 43]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=viewMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.251751Z): [SEQ 44]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[toolsMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Tools], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.253902Z): [SEQ 45]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=toolsMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.254924Z): [SEQ 46]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[helpMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Help], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\nTRACE (2021-12-01T14:33:28.255386Z): [SEQ 47]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=helpMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\n[EXIT] (2021-12-01T14:33:28.255617Z): [SEQ 48]: com.gs.nta.NTApp.buildSubMenus - Sub-menus have all been added to the menu system. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\r\n[EXIT] (2021-12-01T14:33:28.255792Z): [SEQ 49]: com.gs.nta.NTApp.buildMainMenu - Menu system built. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\n[ENTER] (2021-12-01T14:33:28.255941Z): [SEQ 50]: com.gs.nta.NTApp.addMenuItems - Adding menu items to the menus... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nCONFIG (2021-12-01T14:33:28.256095Z): [SEQ 51]: com.gs.nta.NTApp.addMenuItems - Getting all registered menu commands... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nTRACE (2021-12-01T14:33:28.264841Z): [SEQ 52]: com.gs.nta.NTApp.addMenuItems - Retrieved a total of 3 menu commands. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\nCONFIG (2021-12-01T14:33:28.265224Z): [SEQ 53]: com.gs.nta.NTApp.addMenuItems - Sorted the menu commands. Now loading them into the application menus... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\r\n[ENTER] (2021-12-01T14:33:28.265478Z): [SEQ 54]: com.gs.nta.NTApp.createJMenuItem - Creating a javax.swing.JMenuItem from the MenuProvider: com.gs.nta.menus.ExitCommand@514e805f | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ExitCommand@514e805f]\r\n","title":"IllegalArgumentException null ClassLoader Issue","body":"<p>I am getting an <code>IllegalArgumentException</code> when I attempt to load a class that describes a <code>JMenuItem</code>'s properties from a list. To help out, I am including the pertinent parts of my API and the code that causes this exception.</p>\n<p>The API is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MenuCommand extends Comparable&lt;MenuCommand&gt; {\n    public String getName();\n    public String getOwner();\n    public int getPosition();\n    public String getActionName();\n    public default boolean separatorBefore() { return false; }\n    public default boolean separatorAfter() { return false; }\n}\n</code></pre>\n<p>This interface defines the <code>javax.swing.JMenuItem</code> that will be created in my application's <code>initialize</code> method. However, since I am making the application completely pluggable, I actually instantiate the various <code>MenuCommand</code> classes in the individual module's using the following interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Plugin {\n    public String getVersion();\n    public OptionsPanelProvider getOptionsPanel(); // A custom JPanel implementation.\n    public List&lt;MenuCommand&gt; getMenuItems(); // Retrieves all of the items I am having the issue with.\n    public List&lt;MenuProvider&gt; getMenus(); // Works as expected in the application.\n    public List&lt;ToolbarCommand&gt; getToolbarButtons(); // May experience this same issue again loading these...\n    public String getPluginName();\n    public String getVendorName();\n    public String getCopyright();\n    public default List&lt;String&gt; getContributors() { return Collections.emptyList(); }\n}\n</code></pre>\n<p>My application's <code>initialize()</code> method calls a private method called <code>loadModules</code>, which loads all of the latter interface implementations into an <code>ArrayList&lt;Plugin&gt;</code> variable. Once the plugin modules are loaded, I call a method named <code>buildMainMenu</code>, which pulls all of the <code>MenuProvider</code>s out of each plugin and loads them into the main window's menubar, and this method works perfectly.</p>\n<p>Once the main menubar has all of the top-level and sub-menus loaded into it from the various installed plugins, <code>initialize</code> then calls <code>addMenuItems</code> to load the former (<code>MenuCommand</code>) interface implementations into the appropriate menus, and that is where this exception is thrown. Here is the code that is not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void addMenuItems() {\n    List&lt;MenuCommand&gt; allCommands = new ArrayList&lt;&gt;();\n\n    for (Plugin p : modules) {\n        allCommands.addAll(p.getMenuItems());\n    }\n\n    Collections.sort(allCommands); // Hence the extension of Comparable on the interface.\n\n    javax.swing.JMenuBar bar = mainWindow.getMenuBar();\n    for (int x = 0; x &lt; bar.getMenuCount(); x++) {\n        javax.swing.JMenu m = bar.getMenu(x);\n\n        for (MenuCommand c : allCommands) {\n            if (m.getName().equals(c.getOwner())) {\n                m.add(createJMenuItem(c));\n            }\n        }\n    }\n}\n\nprivate javax.swing.JMenuItem createJMenuItem(MenuCommand c) {\n    ResourceMap resMap = getContext().getResourceMap(c.getClass());\n\n    //vvv This is the line throwing the exception vvv\\\\\n    ActionMap actMap = getContext().getActionMap(c.getClass());\n\n    javax.swing.JMenuItem item = new javax.swing.JMenuItem();\n    item.setName(c.getName());\n    item.setAction(actMap.getAction(c.getActionName()));\n    getContext().getSessionStorage().injectComponent(item);\n\n    return item;\n}\n</code></pre>\n<p>If the individual <code>MenuCommand</code> implementations that are stored in the <code>Plugin</code>'s <code>getMenuItems</code> list have already been initialized (loaded), they should have a <code>ClassLoader</code> associated with them. When I break execution on the problem line, the <code>c</code> class has a <code>ClassLoader</code>, but I do see a couple of <code>null</code> property values:</p>\n<pre><code>c.getClass().getClassLoader().URLClassPath = #1975\nc.getClass().getClassLoader().URLClassPath.path = ArrayList.size = 0\nc.getClass().getClassLoader().URLClassPath.unopenedUrls = ArrayDeque.size = 0\nc.getClass().getClassLoader().URLClassPath.loaders = ArrayList.size = 0\nc.getClass().getClassLoader().URLClassPath.Imap = HashMap.size = 0\nc.getClass().getClassLoader().URLClassPath.jarHandler = null\nc.getClass().getClassLoader().URLClassPath.closed = false\nc.getClass().getClassLoader().URLClassPath.acc = null\n</code></pre>\n<p>Furthermore, from the <code>static</code> section of the <code>ClassLoader</code>, the <code>usr_paths</code> array has a length of 5, containing various JDK-related paths. The <code>sys_paths</code> array has a length of 1, pointing to the <code>/usr/lib/jvm/jdk-11.0.12/lib</code> folder, as it should. The <code>packageToModule</code> array has a size of 1079. The <code>ClassLoader$AppClassLoader</code> properties are identical to those listed above.</p>\n<h3>Attempts to solve</h3>\n<p>In an attempt to solve this issue, I have tried not using the <code>List&lt;Plugin&gt; modules.getMenuItems()</code> method, but to use the <code>ServiceLoader&lt;MenuCommand&gt;.load</code> method to see if that would do it, but it did not.</p>\n<p>I have read through numerous <code>ServiceLoader</code>, <code>ClassLoader</code>, and other documentation, including the book about the Java Virtual Machine that I have, but have not been able to discover what I am missing.</p>\n<p>I have looked at other questions about similar issues, but they have not helped either. I am hoping that posting this question will find me some help. Thank you all for your assistance.</p>\n<p>-SC</p>\n<p><em><strong>UPDATE</strong></em> <code>getResourceMap()</code> and <code>getActionMap()</code> are part of a slightly updated version of the JSR-296 <code>org.jdesktop</code> AppFramework. Here is the full stacktrace:</p>\n<pre><code>Dec 01, 2021 8:33:28 AM org.jdesktop.application.Application$1 run\nSEVERE: Application class com.gs.nta.NTApp failed to launch\njava.lang.IllegalArgumentException: null ClassLoader\n    at appframework@1.0.3/org.jdesktop.application.ResourceMap.&lt;init&gt;(ResourceMap.java:152)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMap(ResourceManager.java:436)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMapChain(ResourceManager.java:139)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.getClassResourceMap(ResourceManager.java:173)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.getResourceMap(ResourceManager.java:254)\n    at appframework@1.0.3/org.jdesktop.application.ApplicationContext.getResourceMap(ApplicationContext.java:203)\n    at appframework@1.0.3/org.jdesktop.application.ActionManager.getActionMap(ActionManager.java:168)\n    at appframework@1.0.3/org.jdesktop.application.ApplicationContext.getActionMap(ApplicationContext.java:303)\n    at NTA.Foundation/com.gs.nta.NTApp.createJMenuItem(NTApp.java:709)\n    at NTA.Foundation/com.gs.nta.NTApp.addMenuItems(NTApp.java:636)\n    at NTA.Foundation/com.gs.nta.NTApp.initialize(NTApp.java:171)\n    at appframework@1.0.3/org.jdesktop.application.Application$1.run(Application.java:170)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.Error: Application class com.gs.nta.NTApp failed to launch\n    at appframework@1.0.3/org.jdesktop.application.Application$1.run(Application.java:177)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:313)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.IllegalArgumentException: null ClassLoader\n    at appframework@1.0.3/org.jdesktop.application.ResourceMap.&lt;init&gt;(ResourceMap.java:152)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMap(ResourceManager.java:436)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.createResourceMapChain(ResourceManager.java:139)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.getClassResourceMap(ResourceManager.java:173)\n    at appframework@1.0.3/org.jdesktop.application.ResourceManager.getResourceMap(ResourceManager.java:254)\n    at appframework@1.0.3/org.jdesktop.application.ApplicationContext.getResourceMap(ApplicationContext.java:203)\n    at appframework@1.0.3/org.jdesktop.application.ActionManager.getActionMap(ActionManager.java:168)\n    at appframework@1.0.3/org.jdesktop.application.ApplicationContext.getActionMap(ApplicationContext.java:303)\n    at NTA.Foundation/com.gs.nta.NTApp.createJMenuItem(NTApp.java:709)\n    at NTA.Foundation/com.gs.nta.NTApp.addMenuItems(NTApp.java:636)\n    at NTA.Foundation/com.gs.nta.NTApp.initialize(NTApp.java:171)\n    at appframework@1.0.3/org.jdesktop.application.Application$1.run(Application.java:170)\n    ... 13 more\n</code></pre>\n<p><em><strong>UPDATE 2</strong></em> And, just for additional application flow information, here is the output of my logger:</p>\n<pre><code>[ENTER] (2021-12-01T14:33:27.942336Z): [SEQ 1]: com.gs.nta.NTApp.initialize - Initializing application and all objects. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\n[ENTER] (2021-12-01T14:33:27.964177Z): [SEQ 3]: com.gs.nta.NTApp.parseArguments - Parsing command-line arguments. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\nTRACE (2021-12-01T14:33:27.966121Z): [SEQ 6]: com.gs.nta.NTApp.parseArguments - development.mode=true; logger.level=TRACE | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\nCONFIG (2021-12-01T14:33:27.969736Z): [SEQ 7]: com.gs.nta.NTApp.parseArguments - Checking to see if the formatted logs argument is present. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\nTRACE (2021-12-01T14:33:27.969981Z): [SEQ 8]: com.gs.nta.NTApp.parseArguments - logging.format=false | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [--ide]\n[EXIT] (2021-12-01T14:33:27.970190Z): [SEQ 9]: com.gs.nta.NTApp.parseArguments - Done parsing command-line arguments. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\n[ENTER] (2021-12-01T14:33:27.970608Z): [SEQ 10]: com.gs.nta.NTApp.loadModules - Loading modules: | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nCONFIG (2021-12-01T14:33:27.980256Z): [SEQ 11]: com.gs.nta.NTApp.loadModules - Plugin Loaded: NTA Properties Manager (GS United Labs) v. NTA_Properties_Manager-1.0-DEV-SNAPSHOT | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nCONFIG (2021-12-01T14:33:27.993990Z): [SEQ 12]: com.gs.nta.NTApp.loadModules - Plugin Loaded: Logging System (GS United Labs) v. Logging_System-5.0-SNAPSHOT | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nCONFIG (2021-12-01T14:33:27.994537Z): [SEQ 13]: com.gs.nta.NTApp.loadModules - Plugin Loaded: Northwind Traders Foundation (GS United Labs) v. Northwind_Traders_Foundation-1.0-DEV-SNAPSHOT | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\n[EXIT] (2021-12-01T14:33:27.994737Z): [SEQ 14]: com.gs.nta.NTApp.loadModules - Done loading modules. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\n[ENTER] (2021-12-01T14:33:28.045044Z): [SEQ 15]: com.gs.nta.NTApp.buildMainMenu - Building menu system... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nDEBUG (2021-12-01T14:33:28.045355Z): [SEQ 16]: com.gs.nta.NTApp.buildMainMenu - Getting all menus from all installed modules. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nTRACE (2021-12-01T14:33:28.047357Z): [SEQ 17]: com.gs.nta.NTApp.buildMainMenu - Retrieved 6 menus from installed modules. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nDEBUG (2021-12-01T14:33:28.047727Z): [SEQ 18]: com.gs.nta.NTApp.buildMainMenu - Getting only top-level menus from the list of all menus. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nTRACE (2021-12-01T14:33:28.047883Z): [SEQ 19]: com.gs.nta.NTApp.buildMainMenu - Of all 6 menus, 5 were top-level menus. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nTRACE (2021-12-01T14:33:28.048127Z): [SEQ 20]: com.gs.nta.NTApp.buildMainMenu - Of all 6 menus, 5 were menu items. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\n[ENTER] (2021-12-01T14:33:28.065047Z): [SEQ 21]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.FileMenuProvider@7e9d8d7b | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.FileMenuProvider@7e9d8d7b]\n\n&gt;&gt;&gt; Exception stacktrace located here &lt;&lt;&lt;\n\n[EXIT] (2021-12-01T14:33:28.075770Z): [SEQ 22]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[fileMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=File] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.FileMenuProvider@7e9d8d7b]\n[ENTER] (2021-12-01T14:33:28.226546Z): [SEQ 23]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.EditMenuProvider@6b3f648a | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.EditMenuProvider@6b3f648a]\n[EXIT] (2021-12-01T14:33:28.228859Z): [SEQ 24]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[editMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Edit] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.EditMenuProvider@6b3f648a]\n[ENTER] (2021-12-01T14:33:28.229384Z): [SEQ 25]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.ViewMenuProvider@26a1a787 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ViewMenuProvider@26a1a787]\n[EXIT] (2021-12-01T14:33:28.231477Z): [SEQ 26]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[viewMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=View] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ViewMenuProvider@26a1a787]\n[ENTER] (2021-12-01T14:33:28.232001Z): [SEQ 27]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.ToolsMenuProvider@2b41cd51 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ToolsMenuProvider@2b41cd51]\n[EXIT] (2021-12-01T14:33:28.234856Z): [SEQ 28]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[toolsMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Tools] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ToolsMenuProvider@2b41cd51]\n[ENTER] (2021-12-01T14:33:28.235381Z): [SEQ 29]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.HelpMenuProvider@2ee9de63 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\n[EXIT] (2021-12-01T14:33:28.237675Z): [SEQ 30]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[helpMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Help] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\nTRACE (2021-12-01T14:33:28.238275Z): [SEQ 31]: com.gs.nta.NTApp.createJMenu - Built the java.awt.MenuBar (javax.swing.JMenuBar[menuBar,0,0,0x0,invalid,layout=javax.swing.plaf.basic.DefaultMenuLayout,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuBarBorder@3ee2e400,flags=392,maximumSize=,minimumSize=,preferredSize=,margin=,paintBorder=true]) and setting it as the menuBar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\nTRACE (2021-12-01T14:33:28.239715Z): [SEQ 32]: com.gs.nta.NTApp.createJMenu - mainWindow.getJMenuBar() == javax.swing.JMenuBar[menuBar,0,0,0x0,invalid,layout=javax.swing.plaf.basic.DefaultMenuLayout,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuBarBorder@3ee2e400,flags=392,maximumSize=,minimumSize=,preferredSize=,margin=,paintBorder=true] | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.HelpMenuProvider@2ee9de63]\n[ENTER] (2021-12-01T14:33:28.240156Z): [SEQ 33]: com.gs.nta.NTApp.buildSubMenus - Building sub-menus... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.240356Z): [SEQ 34]: com.gs.nta.NTApp.buildSubMenus - Checking menus.getSize() &gt; 1: false | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.240641Z): [SEQ 35]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[fileMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=File], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\n[ENTER] (2021-12-01T14:33:28.241015Z): [SEQ 36]: com.gs.nta.NTApp.createJMenu - Creating a java.awt.Menu from the MenuProvider: com.gs.nta.menus.NewMenuProvider@15d4f1c4 | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\n[EXIT] (2021-12-01T14:33:28.243433Z): [SEQ 37]: com.gs.nta.NTApp.createJMenu - Menu javax.swing.JMenu[fileNewMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=New] created and returned. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\n[EXIT] (2021-12-01T14:33:28.248355Z): [SEQ 38]: com.gs.nta.NTApp.buildSubMenus - Added the menu created from MenuProvider (com.gs.nta.menus.NewMenuProvider@15d4f1c4) to the menubar. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.248355Z): [SEQ 39]: com.gs.nta.NTApp.buildSubMenus - Added the menu created from MenuProvider (com.gs.nta.menus.NewMenuProvider@15d4f1c4) to the menubar. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.248838Z): [SEQ 40]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[editMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Edit], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.249261Z): [SEQ 41]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=editMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.249519Z): [SEQ 42]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[viewMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=View], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.251184Z): [SEQ 43]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=viewMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.251751Z): [SEQ 44]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[toolsMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Tools], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.253902Z): [SEQ 45]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=toolsMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.254924Z): [SEQ 46]: com.gs.nta.NTApp.buildSubMenus - Got menu, javax.swing.JMenu[helpMenu,0,0,0x0,invalid,alignmentX=0.0,alignmentY=0.0,border=javax.swing.plaf.metal.MetalBorders$MenuItemBorder@74ee4a2b,flags=256,maximumSize=,minimumSize=,preferredSize=,defaultIcon=,disabledIcon=,disabledSelectedIcon=,margin=javax.swing.plaf.InsetsUIResource[top=2,left=2,bottom=2,right=2],paintBorder=true,paintFocus=false,pressedIcon=,rolloverEnabled=false,rolloverIcon=,rolloverSelectedIcon=,selectedIcon=,text=Help], from the menubar on the mainFrame. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\nTRACE (2021-12-01T14:33:28.255386Z): [SEQ 47]: com.gs.nta.NTApp.buildSubMenus - (p.getOwnerName()=fileMenu) != (m.getName()=helpMenu): moving on... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\n[EXIT] (2021-12-01T14:33:28.255617Z): [SEQ 48]: com.gs.nta.NTApp.buildSubMenus - Sub-menus have all been added to the menu system. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.NewMenuProvider@15d4f1c4]\n[EXIT] (2021-12-01T14:33:28.255792Z): [SEQ 49]: com.gs.nta.NTApp.buildMainMenu - Menu system built. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\n[ENTER] (2021-12-01T14:33:28.255941Z): [SEQ 50]: com.gs.nta.NTApp.addMenuItems - Adding menu items to the menus... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nCONFIG (2021-12-01T14:33:28.256095Z): [SEQ 51]: com.gs.nta.NTApp.addMenuItems - Getting all registered menu commands... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nTRACE (2021-12-01T14:33:28.264841Z): [SEQ 52]: com.gs.nta.NTApp.addMenuItems - Retrieved a total of 3 menu commands. | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\nCONFIG (2021-12-01T14:33:28.265224Z): [SEQ 53]: com.gs.nta.NTApp.addMenuItems - Sorted the menu commands. Now loading them into the application menus... | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]\n[ENTER] (2021-12-01T14:33:28.265478Z): [SEQ 54]: com.gs.nta.NTApp.createJMenuItem - Creating a javax.swing.JMenuItem from the MenuProvider: com.gs.nta.menus.ExitCommand@514e805f | (Thread AWT-EventQueue-0 [ID=16; PRIORITY=6; STATE=RUNNABLE]: Parameter(s): [com.gs.nta.menus.ExitCommand@514e805f]\n</code></pre>\n"},{"tags":["java","spring-boot","logging","cxf","cxfrs"],"answers":[{"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638372440,"creation_date":1638372440,"answer_id":70186889,"question_id":70186888,"body_markdown":"In order to have pretty logging you need to do following:\r\n\r\n```\r\n@Configuration\r\n/**\r\n * Configure CXF http requests for pretty logging\r\n */\r\npublic class CxfLoggingConfig {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(CxfLoggingConfig.class);\r\n\r\n    @Autowired\r\n    private Bus bus;\r\n\r\n    @PostConstruct\r\n    private void init() {\r\n        log.debug(&quot;Initialising CxfLoggingConfig&quot;);\r\n        LoggingFeature loggingFeature = new LoggingFeature();\r\n        loggingFeature.setPrettyLogging(true);\r\n        loggingFeature.setVerbose(true);\r\n        //loggingFeature.setLogMultipart(true);\r\n        bus.getFeatures().add(loggingFeature);\r\n        log.debug(&quot;CxfLoggingConfig initialised by {}&quot;);\r\n    }\r\n}\r\n","title":"CXF RS pretty HTTP request/response logging","body":"<p>In order to have pretty logging you need to do following:</p>\n<pre><code>@Configuration\n/**\n * Configure CXF http requests for pretty logging\n */\npublic class CxfLoggingConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(CxfLoggingConfig.class);\n\n    @Autowired\n    private Bus bus;\n\n    @PostConstruct\n    private void init() {\n        log.debug(&quot;Initialising CxfLoggingConfig&quot;);\n        LoggingFeature loggingFeature = new LoggingFeature();\n        loggingFeature.setPrettyLogging(true);\n        loggingFeature.setVerbose(true);\n        //loggingFeature.setLogMultipart(true);\n        bus.getFeatures().add(loggingFeature);\n        log.debug(&quot;CxfLoggingConfig initialised by {}&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638372440,"creation_date":1638372440,"question_id":70186888,"body_markdown":"I am struggling to set up pretty HTPP logging (for requests and responses)\r\n\r\nI am using CXF REST API and I am initializing CXF using Spring Boot (https://cxf.apache.org/docs/springboot.html). In other words I am just defining `application.properties`\r\n\r\n```\r\nserver.port=8443\r\nserver.servlet.contextPath=/api/\r\ncxf.path=/cxf\r\ncxf.jaxrs.classes-scan=true\r\ncxf.jaxrs.classes-scan-packages=com.mycomp \\\r\n  ,io.swagger.v3.jaxrs2.integration.resources  \\\r\n  ,com.fasterxml.jackson\r\n```\r\n\r\nand automagically I have _functional_ REST API. \r\n\r\n\r\nI do not want to use XML configuration, but I believe, that XML config would be (based on doc https://cxf.apache.org/docs/features.html):\r\n\r\n```\r\n    &lt;cxf:bus&gt;\r\n        &lt;cxf:features&gt;\r\n            &lt;cxf:logging/&gt;\r\n        &lt;/cxf:features&gt;\r\n    &lt;/cxf:bus&gt;\r\n```\r\n\r\nHow can I set up pretty logging programmatically ?\r\n","title":"CXF RS pretty HTTP request/response logging","body":"<p>I am struggling to set up pretty HTPP logging (for requests and responses)</p>\n<p>I am using CXF REST API and I am initializing CXF using Spring Boot (<a href=\"https://cxf.apache.org/docs/springboot.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/springboot.html</a>). In other words I am just defining <code>application.properties</code></p>\n<pre><code>server.port=8443\nserver.servlet.contextPath=/api/\ncxf.path=/cxf\ncxf.jaxrs.classes-scan=true\ncxf.jaxrs.classes-scan-packages=com.mycomp \\\n  ,io.swagger.v3.jaxrs2.integration.resources  \\\n  ,com.fasterxml.jackson\n</code></pre>\n<p>and automagically I have <em>functional</em> REST API.</p>\n<p>I do not want to use XML configuration, but I believe, that XML config would be (based on doc <a href=\"https://cxf.apache.org/docs/features.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/features.html</a>):</p>\n<pre><code>    &lt;cxf:bus&gt;\n        &lt;cxf:features&gt;\n            &lt;cxf:logging/&gt;\n        &lt;/cxf:features&gt;\n    &lt;/cxf:bus&gt;\n</code></pre>\n<p>How can I set up pretty logging programmatically ?</p>\n"},{"tags":["java","maven","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638354474,"creation_date":1638354474,"answer_id":70182563,"question_id":70179976,"body_markdown":"You were not too far off. You can refer to this example: https://github.com/jgperrin/net.jgp.books.spark.ch01 and more specifically its [pom.xml][1]. It is not yet with Spark 3.2 &amp; Scala 2.13, but you will get the gist of it.\r\n\r\nIn essence, Apache Spark needs several modules and you just included one. I also remove logging stuff from Spark, it is probably not needed anymore, but they were in earlier Spark built and could have created some confusion. This is how I structure mines:\r\n\r\n\r\n```\r\n  &lt;properties&gt;\r\n    &lt;scala.version&gt;2.12&lt;/scala.version&gt;\r\n    &lt;spark.version&gt;3.1.2&lt;/spark.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Spark --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\r\n      &lt;version&gt;${spark.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\r\n      &lt;version&gt;${spark.version}&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-mllib_${scala.version}&lt;/artifactId&gt;\r\n      &lt;version&gt;${spark.version}&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nI always use properties as you want to ensure the same version of Spark and Scala across all your dependencies.\r\n\r\nAlternatively, I also use the exec plugin, so you do not have to use those pesky complex Java command line and you can see `mvn exec:exec`. To do so, add: \r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;executable&gt;java&lt;/executable&gt;\r\n          &lt;arguments&gt;\r\n            &lt;argument&gt;-classpath&lt;/argument&gt;\r\n            &lt;classpath /&gt;\r\n            &lt;argument&gt;net.jgp.books.spark.ch01.lab100_csv_to_dataframe.CsvToDataframeApp&lt;/argument&gt;\r\n          &lt;/arguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n  [1]: https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/pom.xml","title":"Java Apache Spark Maven Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/SparkConf","body":"<p>You were not too far off. You can refer to this example: <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch01\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.books.spark.ch01</a> and more specifically its <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a>. It is not yet with Spark 3.2 &amp; Scala 2.13, but you will get the gist of it.</p>\n<p>In essence, Apache Spark needs several modules and you just included one. I also remove logging stuff from Spark, it is probably not needed anymore, but they were in earlier Spark built and could have created some confusion. This is how I structure mines:</p>\n<pre><code>  &lt;properties&gt;\n    &lt;scala.version&gt;2.12&lt;/scala.version&gt;\n    &lt;spark.version&gt;3.1.2&lt;/spark.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Spark --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\n      &lt;version&gt;${spark.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\n      &lt;version&gt;${spark.version}&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n      &lt;artifactId&gt;spark-mllib_${scala.version}&lt;/artifactId&gt;\n      &lt;version&gt;${spark.version}&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n          &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I always use properties as you want to ensure the same version of Spark and Scala across all your dependencies.</p>\n<p>Alternatively, I also use the exec plugin, so you do not have to use those pesky complex Java command line and you can see <code>mvn exec:exec</code>. To do so, add:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.6.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;executable&gt;java&lt;/executable&gt;\n      &lt;arguments&gt;\n        &lt;argument&gt;-classpath&lt;/argument&gt;\n        &lt;classpath /&gt;\n        &lt;argument&gt;net.jgp.books.spark.ch01.lab100_csv_to_dataframe.CsvToDataframeApp&lt;/argument&gt;\n      &lt;/arguments&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":12650885,"reputation":895,"user_id":9195085,"display_name":"Santeau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638372280,"creation_date":1638340372,"question_id":70179976,"body_markdown":"I&#39;m new to Maven, I&#39;m trying to use it to build an Apache Spark project, on VSCode.\r\n\r\nI&#39;ve followed that guide to create my project: \r\n[maven.apache](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html).\r\n\r\nAnd I&#39;ve been trying to follow [that video](https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html) on Youtube.\r\n\r\nWhen I try to run my code:\r\n\r\n# App.java\r\n\r\n```\r\npackage com.mycompany.app;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\nimport org.apache.spark.SparkConf;\r\n\r\npublic class App \r\n{\r\n    public static void main( String[] args )\r\n    {\r\n        try {\r\n            File test = new File(&quot;test/test.csv&quot;);\r\n            Scanner testReader = new Scanner(test);\r\n            testReader.close();\r\n            System.out.println(&quot;Will it work ?&quot;);\r\n\r\n            SparkConf confederation = new SparkConf();\r\n\r\n            System.out.println(&quot;Did it work ?&quot;);\r\n\r\n          } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n          }\r\n        System.out.println( &quot;Hello World!&quot; );\r\n    }\r\n}\r\n```\r\n\r\n# pom.xml\r\n\r\nI have added this in my pom.xml\r\n```\r\n  &lt;dependencies&gt;\r\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n# Output\r\n\r\nWhen I do ```$ mvn package ``` everything seems fine, but when I \r\nrun ``` java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App```\r\n\r\nI get:\r\n\r\n``` \r\n(base) ➜  my-app java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App\r\n\r\nWill it work?\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/SparkConf\r\n        at com.mycompany.app.App.main(App.java:30)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.SparkConf\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n        ... 1 more\r\n```\r\n\r\n\r\nDo you know what I&#39;m doing wrong ?\r\n","title":"Java Apache Spark Maven Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/SparkConf","body":"<p>I'm new to Maven, I'm trying to use it to build an Apache Spark project, on VSCode.</p>\n<p>I've followed that guide to create my project:\n<a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">maven.apache</a>.</p>\n<p>And I've been trying to follow <a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">that video</a> on Youtube.</p>\n<p>When I try to run my code:</p>\n<h1>App.java</h1>\n<pre><code>package com.mycompany.app;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport org.apache.spark.SparkConf;\n\npublic class App \n{\n    public static void main( String[] args )\n    {\n        try {\n            File test = new File(&quot;test/test.csv&quot;);\n            Scanner testReader = new Scanner(test);\n            testReader.close();\n            System.out.println(&quot;Will it work ?&quot;);\n\n            SparkConf confederation = new SparkConf();\n\n            System.out.println(&quot;Did it work ?&quot;);\n\n          } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n          }\n        System.out.println( &quot;Hello World!&quot; );\n    }\n}\n</code></pre>\n<h1>pom.xml</h1>\n<p>I have added this in my pom.xml</p>\n<pre><code>  &lt;dependencies&gt;\n  &lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<h1>Output</h1>\n<p>When I do <code>$ mvn package </code> everything seems fine, but when I\nrun <code> java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App</code></p>\n<p>I get:</p>\n<pre><code>(base) ➜  my-app java -cp target/my-app-1.0-SNAPSHOT.jar com.mycompany.app.App\n\nWill it work?\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/SparkConf\n        at com.mycompany.app.App.main(App.java:30)\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.SparkConf\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n        ... 1 more\n</code></pre>\n<p>Do you know what I'm doing wrong ?</p>\n"},{"tags":["java","json","spring","http","tomcat"],"comments":[{"owner":{"account_id":3995882,"reputation":146,"user_id":3293458,"display_name":"Fredster"},"score":5,"creation_date":1504889158,"post_id":46118627,"comment_id":79204845,"body_markdown":"In my opinion the refereced question does not answer this question. There is no default limit. I tried requests with roughly 20 MB and they were accepted.\n\nI also configured the server.tomcat.max-http-post-size property from spring - and it did not work. Though I can try configuring it directly in the tomcat settings","body":"In my opinion the refereced question does not answer this question. There is no default limit. I tried requests with roughly 20 MB and they were accepted.  I also configured the server.tomcat.max-http-post-size property from spring - and it did not work. Though I can try configuring it directly in the tomcat settings"}],"answers":[{"tags":[],"owner":{"account_id":14287385,"reputation":1,"user_id":10320384,"display_name":"Mohamad Mohebi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629793897,"creation_date":1629793897,"answer_id":68904244,"question_id":46118627,"body_markdown":"you can try this for post requests in spring boot :\r\n\r\n  \r\n    server.tomcat.max-http-form-post-size\r\n   ","title":"Limit size of http application/json request body in Spring, tomcat","body":"<p>you can try this for post requests in spring boot :</p>\n<pre><code>server.tomcat.max-http-form-post-size\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638372005,"creation_date":1638372005,"answer_id":70186778,"question_id":46118627,"body_markdown":"there is no out of the box solution, but simplest way would be to write a filter to check request length, something like this\r\n\r\n``` \r\n@Component\r\nstatic class ApplicationJsonRequestSizeLimitFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request,\r\n            HttpServletResponse response, FilterChain filterChain)\r\n                    throws ServletException, IOException {\r\n        if (isApplicationJson(request) &amp;&amp; request.getContentLengthLong() &gt; 10000) {\r\n            throw new IOException(&quot;Request content exceeded limit of 10000 bytes&quot;);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private boolean isApplicationJson(HttpServletRequest httpRequest) {\r\n        return (MediaType.APPLICATION_JSON.isCompatibleWith(MediaType\r\n                .parseMediaType(httpRequest.getHeader(HttpHeaders.CONTENT_TYPE))));\r\n    }\r\n}","title":"Limit size of http application/json request body in Spring, tomcat","body":"<p>there is no out of the box solution, but simplest way would be to write a filter to check request length, something like this</p>\n<pre><code>@Component\nstatic class ApplicationJsonRequestSizeLimitFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request,\n            HttpServletResponse response, FilterChain filterChain)\n                    throws ServletException, IOException {\n        if (isApplicationJson(request) &amp;&amp; request.getContentLengthLong() &gt; 10000) {\n            throw new IOException(&quot;Request content exceeded limit of 10000 bytes&quot;);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    private boolean isApplicationJson(HttpServletRequest httpRequest) {\n        return (MediaType.APPLICATION_JSON.isCompatibleWith(MediaType\n                .parseMediaType(httpRequest.getHeader(HttpHeaders.CONTENT_TYPE))));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3995882,"reputation":146,"user_id":3293458,"display_name":"Fredster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11082,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1638372005,"creation_date":1504880361,"question_id":46118627,"body_markdown":"I want to limit the size of accepted application/json http request bodys. So that it is not possible to send multiple megabytes of json to my application, which are then processed and make my app run for a long time.\r\n\r\nI&#39;ve read here that there is no out of the box solution to do this.\r\n https://stackoverflow.com/questions/38607159/spring-boot-embedded-tomcat-application-json-post-request-restriction-to-10kb\r\n\r\nIs there another solution beside implementing something myself.\r\nFor me this seems like a very common use-case and I can&#39;t believe that there is no general solution for this, because this is a very easily exploitable security issue.\r\n","title":"Limit size of http application/json request body in Spring, tomcat","body":"<p>I want to limit the size of accepted application/json http request bodys. So that it is not possible to send multiple megabytes of json to my application, which are then processed and make my app run for a long time.</p>\n\n<p>I've read here that there is no out of the box solution to do this.\n <a href=\"https://stackoverflow.com/questions/38607159/spring-boot-embedded-tomcat-application-json-post-request-restriction-to-10kb\">Spring boot Embedded Tomcat &quot;application/json&quot; post request restriction to 10KB</a></p>\n\n<p>Is there another solution beside implementing something myself.\nFor me this seems like a very common use-case and I can't believe that there is no general solution for this, because this is a very easily exploitable security issue.</p>\n"},{"tags":["java","overloading"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1638359321,"post_id":70183618,"comment_id":124065704,"body_markdown":"Maybe you do not *need* all those methods, but now you *can* do different stuff in each overloaded method.","body":"Maybe you do not <i>need</i> all those methods, but now you <i>can</i> do different stuff in each overloaded method."},{"owner":{"account_id":23081689,"reputation":37,"user_id":17193876,"display_name":"Punish_me_er"},"score":0,"creation_date":1638359630,"post_id":70183618,"comment_id":124065814,"body_markdown":"@luk2302 Yes I know I can do different stuff in each overloaded method. But I just think it&#39;s weird and maybe my teacher had a reason for writing the code this way other than showing us how to overload.","body":"@luk2302 Yes I know I can do different stuff in each overloaded method. But I just think it&#39;s weird and maybe my teacher had a reason for writing the code this way other than showing us how to overload."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1638359741,"post_id":70183618,"comment_id":124065854,"body_markdown":"Have you asked your teacher? We cannot know what their reasons were.","body":"Have you asked your teacher? We cannot know what their reasons were."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1638363533,"post_id":70183618,"comment_id":124067282,"body_markdown":"There is no *practical* reason to write code like this.","body":"There is no <i>practical</i> reason to write code like this."}],"answers":[{"tags":[],"owner":{"account_id":8904821,"reputation":324,"user_id":6647053,"display_name":"Zachary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638362692,"creation_date":1638362692,"answer_id":70184465,"question_id":70183618,"body_markdown":"Keep in mind, school will often try to teach concepts and often values the codes ability to illustrate those concepts over its practicality.\r\n\r\nWith that in mind, you are correct in your assertion that you&#39;re unlikely overload like this in the real world; however, it&#39;s also worth noting that in the real world, you probably wouldn&#39;t write a dedicated method whose sole purpose is to add 3 numbers together either.\r\n\r\nOne thing I think this exercise does well is helps articulate the practical limitations of overloading. For example, imagine having to support every combination of 10 different types across 10 different arguments.","title":"Doing all possible int + double combination in method overloading","body":"<p>Keep in mind, school will often try to teach concepts and often values the codes ability to illustrate those concepts over its practicality.</p>\n<p>With that in mind, you are correct in your assertion that you're unlikely overload like this in the real world; however, it's also worth noting that in the real world, you probably wouldn't write a dedicated method whose sole purpose is to add 3 numbers together either.</p>\n<p>One thing I think this exercise does well is helps articulate the practical limitations of overloading. For example, imagine having to support every combination of 10 different types across 10 different arguments.</p>\n"}],"owner":{"account_id":23081689,"reputation":37,"user_id":17193876,"display_name":"Punish_me_er"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1638371999,"accepted_answer_id":70184465,"answer_count":1,"score":1,"last_activity_date":1638371989,"creation_date":1638359195,"question_id":70183618,"body_markdown":"So our teacher gave us this method overloading example\r\n\r\n```\r\n//getting perimeter of Triangle\r\n\r\npublic int getPerimeter(int a, int b, int c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(double a, int b, int c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(int a, double b, int c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(int a, int b, double c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(double a, double b, int c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(int a, double b, double c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(double a, int b, double c){\r\n\treturn a + b + c;\r\n}\r\npublic double getPerimeter(double a, double b, double c){\r\n\treturn a + b + c;\r\n}\r\n```\r\nIn my opinion, isn&#39;t the first and last method enough? I think the methods between the first and last are redundant overloading because a mix of ints and doubles would be accepted by the one with an all double parameter.\r\n\r\nCan anyone enlighten what&#39;s the purpose of coding it this way?","title":"Doing all possible int + double combination in method overloading","body":"<p>So our teacher gave us this method overloading example</p>\n<pre><code>//getting perimeter of Triangle\n\npublic int getPerimeter(int a, int b, int c){\n    return a + b + c;\n}\npublic double getPerimeter(double a, int b, int c){\n    return a + b + c;\n}\npublic double getPerimeter(int a, double b, int c){\n    return a + b + c;\n}\npublic double getPerimeter(int a, int b, double c){\n    return a + b + c;\n}\npublic double getPerimeter(double a, double b, int c){\n    return a + b + c;\n}\npublic double getPerimeter(int a, double b, double c){\n    return a + b + c;\n}\npublic double getPerimeter(double a, int b, double c){\n    return a + b + c;\n}\npublic double getPerimeter(double a, double b, double c){\n    return a + b + c;\n}\n</code></pre>\n<p>In my opinion, isn't the first and last method enough? I think the methods between the first and last are redundant overloading because a mix of ints and doubles would be accepted by the one with an all double parameter.</p>\n<p>Can anyone enlighten what's the purpose of coding it this way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":6,"creation_date":1638372071,"post_id":70186765,"comment_id":124071156,"body_markdown":"They only way is: `public A(Object... args)`","body":"They only way is: <code>public A(Object... args)</code>"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":4,"creation_date":1638372157,"post_id":70186765,"comment_id":124071187,"body_markdown":"Ditto it&#39;s the only solution, but it looks like an XY problem. You won&#39;t know what these types are and will be able to do little aside from treating them as `Object`s.","body":"Ditto it&#39;s the only solution, but it looks like an XY problem. You won&#39;t know what these types are and will be able to do little aside from treating them as <code>Object</code>s."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1638372514,"post_id":70186765,"comment_id":124071329,"body_markdown":"You want to use `Object` because your data look like mixed `integer, float, String`","body":"You want to use <code>Object</code> because your data look like mixed <code>integer, float, String</code>"}],"owner":{"account_id":5516332,"reputation":109,"user_id":9184610,"display_name":"3SAT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1638371941,"creation_date":1638371941,"question_id":70186765,"body_markdown":"Is it possible to create a single constructor that will accept unknown number of variables of different types?\r\n\r\nI need something like:\r\n\r\n```\r\nA a=new A(&quot;a&quot;,1.1,&quot;b&quot;,2.2,&quot;c&quot;3.3....);\r\n```\r\n\r\nI know that I can define the following:\r\n\r\n```\r\nclass A{\r\n   public A(String... args){}\r\n}\r\n```\r\n\r\nbut this constructor receives only strings","title":"constructor that will accept unknown number of variables of different types","body":"<p>Is it possible to create a single constructor that will accept unknown number of variables of different types?</p>\n<p>I need something like:</p>\n<pre><code>A a=new A(&quot;a&quot;,1.1,&quot;b&quot;,2.2,&quot;c&quot;3.3....);\n</code></pre>\n<p>I know that I can define the following:</p>\n<pre><code>class A{\n   public A(String... args){}\n}\n</code></pre>\n<p>but this constructor receives only strings</p>\n"},{"tags":["java","spring-cloud","feign","circuit-breaker","resilience4j"],"owner":{"account_id":11626664,"reputation":23,"user_id":9362608,"display_name":"Artem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2047,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638371811,"creation_date":1638362411,"question_id":70184381,"body_markdown":"Circuit breaker works, fallback is called, but circuit breaker doesn&#39;t change it&#39;s state and every time send request to failed service.\r\nTried the same YAML config with rest template - works correctly.\r\n\r\nFeign client\r\n\r\n```java\r\n@FeignClient(\r\n        name = MyFeignClient.SERVICE_NAME,\r\n        url = &quot;https://httpbin.org/&quot;,\r\n        configuration = {FeignClientConfiguration.class})\r\npublic interface MyFeignClient {\r\n    String SERVICE_NAME = &quot;producer-service&quot;;\r\n\r\n    @GetMapping(value = &quot;/status/502&quot;)\r\n    ResponseEntity&lt;String&gt; gerRequest();\r\n}\r\n```\r\n\r\nFallback class\r\n\r\n\r\n```java\r\npublic class MyFallback implements MyFeignClient {\r\n    private final Exception cause;\r\n\r\n    public MyFallback(Exception cause) {\r\n        this.cause = cause;\r\n    }\r\n\r\n    public ResponseEntity&lt;String&gt; gerRequest() {\r\n        if (cause instanceof HttpServerErrorException){\r\n            return ResponseEntity.of(Optional.of(cause.getMessage()));\r\n        } else {\r\n            return ResponseEntity.of(Optional.of(cause.getMessage()));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nFeign client configuration\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class FeignClientConfiguration {\r\n    private final CircuitBreakerRegistry registry;\r\n\r\n    @Bean\r\n    @Scope(&quot;prototype&quot;)\r\n    public Feign.Builder feignBuilder() {\r\n        CircuitBreaker circuitBreaker = registry.circuitBreaker(&quot;producer-service&quot;);\r\n        FeignDecorators decorators = FeignDecorators.builder()\r\n                .withCircuitBreaker(circuitBreaker)\r\n                .withFallbackFactory(MyFallback::new)\r\n                .build();\r\n        return Resilience4jFeign.builder(decorators);\r\n    }\r\n}\r\n```\r\n\r\nCircuit breaker YAML config\r\n\r\n```yaml\r\nresilience4j.circuitbreaker:\r\n  configs:\r\n    default:\r\n      registerHealthIndicator: true\r\n      slidingWindowType: COUNT_BASED\r\n      slidingWindowSize: 5\r\n      minimumNumberOfCalls: 3\r\n      permittedNumberOfCallsInHalfOpenState: 1\r\n      automaticTransitionFromOpenToHalfOpenEnabled: true\r\n      waitDurationInOpenState: 5s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n      writableStackTraceEnabled: true\r\n      recordExceptions:\r\n        - org.springframework.web.client.HttpServerErrorException\r\n        - java.util.concurrent.TimeoutException\r\n        - java.io.IOException\r\n    shared:\r\n      slidingWindowSize: 100\r\n      permittedNumberOfCallsInHalfOpenState: 30\r\n      waitDurationInOpenState: 1s\r\n      failureRateThreshold: 50\r\n      eventConsumerBufferSize: 10\r\n  instances:\r\n    producer-service:\r\n      baseConfig: default\r\n```","title":"Spring Cloud Circuit Breaker: Feign doesn&#39;t open circuit breaker","body":"<p>Circuit breaker works, fallback is called, but circuit breaker doesn't change it's state and every time send request to failed service.\nTried the same YAML config with rest template - works correctly.</p>\n<p>Feign client</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(\n        name = MyFeignClient.SERVICE_NAME,\n        url = &quot;https://httpbin.org/&quot;,\n        configuration = {FeignClientConfiguration.class})\npublic interface MyFeignClient {\n    String SERVICE_NAME = &quot;producer-service&quot;;\n\n    @GetMapping(value = &quot;/status/502&quot;)\n    ResponseEntity&lt;String&gt; gerRequest();\n}\n</code></pre>\n<p>Fallback class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyFallback implements MyFeignClient {\n    private final Exception cause;\n\n    public MyFallback(Exception cause) {\n        this.cause = cause;\n    }\n\n    public ResponseEntity&lt;String&gt; gerRequest() {\n        if (cause instanceof HttpServerErrorException){\n            return ResponseEntity.of(Optional.of(cause.getMessage()));\n        } else {\n            return ResponseEntity.of(Optional.of(cause.getMessage()));\n        }\n    }\n}\n</code></pre>\n<p>Feign client configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class FeignClientConfiguration {\n    private final CircuitBreakerRegistry registry;\n\n    @Bean\n    @Scope(&quot;prototype&quot;)\n    public Feign.Builder feignBuilder() {\n        CircuitBreaker circuitBreaker = registry.circuitBreaker(&quot;producer-service&quot;);\n        FeignDecorators decorators = FeignDecorators.builder()\n                .withCircuitBreaker(circuitBreaker)\n                .withFallbackFactory(MyFallback::new)\n                .build();\n        return Resilience4jFeign.builder(decorators);\n    }\n}\n</code></pre>\n<p>Circuit breaker YAML config</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>resilience4j.circuitbreaker:\n  configs:\n    default:\n      registerHealthIndicator: true\n      slidingWindowType: COUNT_BASED\n      slidingWindowSize: 5\n      minimumNumberOfCalls: 3\n      permittedNumberOfCallsInHalfOpenState: 1\n      automaticTransitionFromOpenToHalfOpenEnabled: true\n      waitDurationInOpenState: 5s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n      writableStackTraceEnabled: true\n      recordExceptions:\n        - org.springframework.web.client.HttpServerErrorException\n        - java.util.concurrent.TimeoutException\n        - java.io.IOException\n    shared:\n      slidingWindowSize: 100\n      permittedNumberOfCallsInHalfOpenState: 30\n      waitDurationInOpenState: 1s\n      failureRateThreshold: 50\n      eventConsumerBufferSize: 10\n  instances:\n    producer-service:\n      baseConfig: default\n</code></pre>\n"},{"tags":["java","if-statement","intellij-idea","comments"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638346497,"post_id":70180847,"comment_id":124060916,"body_markdown":"step one, realize that that is not an else statement, but an else if statement. Totally different matter. Secondly, this has nothing to do with programming, just with the configuration of your IDE","body":"step one, realize that that is not an else statement, but an else if statement. Totally different matter. Secondly, this has nothing to do with programming, just with the configuration of your IDE"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1638346537,"post_id":70180847,"comment_id":124060934,"body_markdown":"Well, the comments are part of the previous block and I&#39;m not sure IntelliJ would even be able to distinguish between comments meant for the next line and those meant to be part of the block. You might be able to turn off auto-formatting using something like `// @formatter:off //comment // @formatter:on` (each on a new line of course) but I doubt that would improve issues. I&#39;d suggest thinking about putting the comments elsewhere, e.g. after the else-statement or right in front of it, e.g. `...} //comment else { ...` (again insert line breaks as needed).","body":"Well, the comments are part of the previous block and I&#39;m not sure IntelliJ would even be able to distinguish between comments meant for the next line and those meant to be part of the block. You might be able to turn off auto-formatting using something like <code>&#47;&#47; @formatter:off &#47;&#47;comment &#47;&#47; @formatter:on</code> (each on a new line of course) but I doubt that would improve issues. I&#39;d suggest thinking about putting the comments elsewhere, e.g. after the else-statement or right in front of it, e.g. <code>...} &#47;&#47;comment else { ...</code> (again insert line breaks as needed)."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1638346781,"post_id":70180847,"comment_id":124061013,"body_markdown":"@Stultuske I&#39;m pretty sure Java doesn&#39;t have a true else-if, i.e. `else if (condition) { block1 } else { block2 }` is actually just a `else { if(condition) { block1 }  else { block2 }}` (remove the optional braces around the &quot;inner&quot; if-else statement from the latter and you&#39;re back to `else if ...`).","body":"@Stultuske I&#39;m pretty sure Java doesn&#39;t have a true else-if, i.e. <code>else if (condition) { block1 } else { block2 }</code> is actually just a <code>else { if(condition) { block1 }  else { block2 }}</code> (remove the optional braces around the &quot;inner&quot; if-else statement from the latter and you&#39;re back to <code>else if ...</code>)."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1638347048,"post_id":70180847,"comment_id":124061104,"body_markdown":"@Stultuske by the way, questions about *&quot;software tools commonly used by programmers&quot;* are [on-topic](https://stackoverflow.com/help/on-topic).","body":"@Stultuske by the way, questions about <i>&quot;software tools commonly used by programmers&quot;</i> are <a href=\"https://stackoverflow.com/help/on-topic\">on-topic</a>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638347093,"post_id":70180847,"comment_id":124061124,"body_markdown":"@Thomas whether it is &#39;true&#39; or not, is irrelevant, what is relevant, is how the IDE looks at the code. It is possible that if he puts those brackets, the comment will go to the spot he wants them","body":"@Thomas whether it is &#39;true&#39; or not, is irrelevant, what is relevant, is how the IDE looks at the code. It is possible that if he puts those brackets, the comment will go to the spot he wants them"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638347123,"post_id":70180847,"comment_id":124061132,"body_markdown":"@FedericoklezCulloca yes, but since it&#39;s about a software tool, why tagging a programming language?","body":"@FedericoklezCulloca yes, but since it&#39;s about a software tool, why tagging a programming language?"}],"answers":[{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638352019,"creation_date":1638352019,"answer_id":70182035,"question_id":70180847,"body_markdown":"Go to `Preferences | Editor | Code Style | Java | Code Generation` in the settings and check the `Line comment at first column` checkbox.","title":"Prevent Intellij IDEA from indenting my comment on else statement","body":"<p>Go to <code>Preferences | Editor | Code Style | Java | Code Generation</code> in the settings and check the <code>Line comment at first column</code> checkbox.</p>\n"}],"owner":{"account_id":16589430,"reputation":115,"user_id":11987955,"display_name":"hat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638371797,"creation_date":1638346143,"question_id":70180847,"body_markdown":"Usually I write comment on else statement like this:\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        if (someStatements) {\r\n            do();\r\n        // comment on else statement\r\n        } else if (someOtherStatements) {\r\n            do();\r\n        // another comment on else statement\r\n        } else {\r\n            do();\r\n        }\r\n    }\r\n}\r\n```\r\nBut after IDEA rearranges code I got comments indented:\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        if (someStatements) {\r\n            do();\r\n            // comment on else statement\r\n        } else if (someOtherStatements) {\r\n            do();\r\n            // another comment on else statement\r\n        } else {\r\n            do();\r\n        }\r\n    }\r\n}\r\n```\r\nHow do I prevent IDEA code rearranging from intending comments?\r\nOr how to tell IDEA just dont rearrange my comments?","title":"Prevent Intellij IDEA from indenting my comment on else statement","body":"<p>Usually I write comment on else statement like this:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        if (someStatements) {\n            do();\n        // comment on else statement\n        } else if (someOtherStatements) {\n            do();\n        // another comment on else statement\n        } else {\n            do();\n        }\n    }\n}\n</code></pre>\n<p>But after IDEA rearranges code I got comments indented:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        if (someStatements) {\n            do();\n            // comment on else statement\n        } else if (someOtherStatements) {\n            do();\n            // another comment on else statement\n        } else {\n            do();\n        }\n    }\n}\n</code></pre>\n<p>How do I prevent IDEA code rearranging from intending comments?\nOr how to tell IDEA just dont rearrange my comments?</p>\n"},{"tags":["java","spring","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1413341977,"post_id":26373376,"comment_id":41403949,"body_markdown":"Sounds like a Windows bug. In any case, both your JDK and STS are extremely out of date; I suggest upgrading both as a first step.","body":"Sounds like a Windows bug. In any case, both your JDK and STS are extremely out of date; I suggest upgrading both as a first step."},{"owner":{"account_id":1713214,"reputation":13643,"user_id":1570834,"display_name":"DB5"},"score":0,"creation_date":1413354147,"post_id":26373376,"comment_id":41407374,"body_markdown":"how hard did you look? Googling your error message the first hit is to this web site, and specifically this question which is exactly your problem: http://stackoverflow.com/q/10519558/1570834.","body":"how hard did you look? Googling your error message the first hit is to this web site, and specifically this question which is exactly your problem: <a href=\"http://stackoverflow.com/q/10519558/1570834\">stackoverflow.com/q/10519558/1570834</a>."},{"owner":{"account_id":1713214,"reputation":13643,"user_id":1570834,"display_name":"DB5"},"score":0,"creation_date":1413354359,"post_id":26373376,"comment_id":41407453,"body_markdown":"By the way, you&#39;ve asked 19 questions, 18 of which have 1 or more answers, but you haven&#39;t [accepted](http://stackoverflow.com/help/accepted-answer) a single answer. It would be appreciated by everyone if you could [accept](http://stackoverflow.com/help/accepted-answer) any of the answers that actually solved your problem (you are allowed to accept your own answers).","body":"By the way, you&#39;ve asked 19 questions, 18 of which have 1 or more answers, but you haven&#39;t <a href=\"http://stackoverflow.com/help/accepted-answer\">accepted</a> a single answer. It would be appreciated by everyone if you could <a href=\"http://stackoverflow.com/help/accepted-answer\">accept</a> any of the answers that actually solved your problem (you are allowed to accept your own answers)."},{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1413461098,"post_id":26373376,"comment_id":41456771,"body_markdown":"Maybe the command line for Windows that gets generated behind the scenes is too long for the Windows limits. Did you try the workaround with setting the classpath via an environment variable?","body":"Maybe the command line for Windows that gets generated behind the scenes is too long for the Windows limits. Did you try the workaround with setting the classpath via an environment variable?"},{"owner":{"account_id":1258969,"reputation":3065,"user_id":1217811,"accept_rate":81,"display_name":"Vaibhav"},"score":0,"creation_date":1413724212,"post_id":26373376,"comment_id":41543057,"body_markdown":"My project is using Maven Dependencies which has so many files in it. Now in my project, This &quot;Maven Dependencies&quot; is included in classpath through Run-&gt;Run Configurations-&gt;classpath. I believe this &quot;Maven Dependencies&quot; makes my classpath very long. Is there any way I can include &quot;Maven Dependencies&quot; in classpath and stil my classpath length is short.","body":"My project is using Maven Dependencies which has so many files in it. Now in my project, This &quot;Maven Dependencies&quot; is included in classpath through Run-&gt;Run Configurations-&gt;classpath. I believe this &quot;Maven Dependencies&quot; makes my classpath very long. Is there any way I can include &quot;Maven Dependencies&quot; in classpath and stil my classpath length is short."}],"answers":[{"tags":[],"owner":{"account_id":21201095,"reputation":405,"user_id":15591732,"display_name":"Sofyane MAKERRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638371569,"creation_date":1638371569,"answer_id":70186669,"question_id":26373376,"body_markdown":"Make (configuration) fork = false in pom.xml \r\n","title":"CreateProcess error=206","body":"<p>Make (configuration) fork = false in pom.xml</p>\n"}],"owner":{"account_id":1258969,"reputation":3065,"user_id":1217811,"accept_rate":81,"display_name":"Vaibhav"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1877,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638371569,"creation_date":1413339038,"question_id":26373376,"body_markdown":"I am using SpringToolSuite 3.3.0 and this is a desktop application in java. I use to run my project from &quot;Run -&gt; Run configuration&quot; . My project was running OK for some time. But from last few days, when I try to run my project using &quot;Run -&gt; Run configuration-&gt; Main tab -&gt; Run&quot;, a pop up comes up saying \r\n&lt;BR&gt;&lt;BR&gt;\r\n***Exception occurred executing command line. Cannot run program &quot;C:\\Program Files(X86)\\jdk1.6.0_31\\bin\\javaw.exe&quot; (in directory &quot;C:\\projects\\arm\\src\\arm-positionBuilder&quot;): CreateProcess error=206, The filename or extension is too long***\r\n&lt;BR&gt;&lt;BR&gt;\r\nI look for this issue on this website but could not found solution for it. I am using Maven for build. Please advise what changes should I do in project configuration to resolve it.\r\n\r\n","title":"CreateProcess error=206","body":"<p>I am using SpringToolSuite 3.3.0 and this is a desktop application in java. I use to run my project from \"Run -> Run configuration\" . My project was running OK for some time. But from last few days, when I try to run my project using \"Run -> Run configuration-> Main tab -> Run\", a pop up comes up saying \n<BR><BR>\n<strong><em>Exception occurred executing command line. Cannot run program \"C:\\Program Files(X86)\\jdk1.6.0_31\\bin\\javaw.exe\" (in directory \"C:\\projects\\arm\\src\\arm-positionBuilder\"): CreateProcess error=206, The filename or extension is too long</em></strong>\n<BR><BR>\nI look for this issue on this website but could not found solution for it. I am using Maven for build. Please advise what changes should I do in project configuration to resolve it.</p>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636109554,"creation_date":1636109554,"answer_id":69852119,"question_id":69851986,"body_markdown":"The simplest is to remove `@Test` and make one single new `@Test public void test123()`. It is a bit more difficult processing failures, but then, the context is more clear: what went before, what is the intended pipeline.\r\n\r\nDisadvantage: statistics.\r\n\r\n    @Test\r\n    public void test123() {\r\n        test1();\r\n        test2();\r\n        test3();\r\n    }\r\n\r\n    private void test1() {\r\n        this.creds = creds;\r\n        Log.info(&quot;test1 creds: &quot; + creds);\r\n    }\r\n\r\n    private void test2() {\r\n        Log.info(&quot;test2 creds: &quot; + this.creds);\r\n    }\r\n\r\n    private void test3() {\r\n        Log.info(&quot;test3 creds: &quot; + this.creds);\r\n    }","title":"How to run tests in order with datarovider","body":"<p>The simplest is to remove <code>@Test</code> and make one single new <code>@Test public void test123()</code>. It is a bit more difficult processing failures, but then, the context is more clear: what went before, what is the intended pipeline.</p>\n<p>Disadvantage: statistics.</p>\n<pre><code>@Test\npublic void test123() {\n    test1();\n    test2();\n    test3();\n}\n\nprivate void test1() {\n    this.creds = creds;\n    Log.info(&quot;test1 creds: &quot; + creds);\n}\n\nprivate void test2() {\n    Log.info(&quot;test2 creds: &quot; + this.creds);\n}\n\nprivate void test3() {\n    Log.info(&quot;test3 creds: &quot; + this.creds);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16557745,"reputation":527,"user_id":11964458,"display_name":"Villa_7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636298739,"creation_date":1636298739,"answer_id":69873788,"question_id":69851986,"body_markdown":"Try to use `@Factory` annotation and create object via constructor of a Test class (with needed field values) and invoke all test methods of that class with passed field values.","title":"How to run tests in order with datarovider","body":"<p>Try to use <code>@Factory</code> annotation and create object via constructor of a Test class (with needed field values) and invoke all test methods of that class with passed field values.</p>\n"},{"tags":[],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638371256,"creation_date":1638371256,"answer_id":70186593,"question_id":69851986,"body_markdown":"Need add `group-by-instances=&quot;true&quot;` parameter in the `xml` test file:\r\n```xml\r\n    &lt;test name=&quot;test&quot; group-by-instances=&quot;true&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;tests.users.TestTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n```\r\n\r\nOf course, execution via XML (from maven/Gradle task) will be needed.","title":"How to run tests in order with datarovider","body":"<p>Need add <code>group-by-instances=&quot;true&quot;</code> parameter in the <code>xml</code> test file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;test name=&quot;test&quot; group-by-instances=&quot;true&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.users.TestTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n</code></pre>\n<p>Of course, execution via XML (from maven/Gradle task) will be needed.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70186593,"answer_count":3,"score":1,"last_activity_date":1638371256,"creation_date":1636108897,"question_id":69851986,"body_markdown":"I need to execute all tests in the order for each dataprovider object.\r\nMy try:\r\n\r\n```java\r\n\r\npublic class TestTest extends BaseTest {\r\n\r\n    private String creds;\r\n\r\n    @Factory(dataProvider = &quot;creds&quot;)\r\n    TestTest(String creds){\r\n        this.creds = creds;\r\n    }\r\n\r\n    @DataProvider\r\n    public static Object[][] creds(){\r\n        return new Object[][]{\r\n                {&quot;Creds1&quot;},\r\n                {&quot;Creds2&quot;}\r\n        };\r\n    }\r\n\r\n    @Test()\r\n    public void test1(){\r\n        this.creds = creds;\r\n        Log.info(&quot;test1 creds: &quot; + creds);\r\n    }\r\n\r\n    @Test(dependsOnMethods = &quot;test1&quot;)\r\n    public void test2(){\r\n        Log.info(&quot;test2 creds: &quot; + this.creds);\r\n    }\r\n    @Test(dependsOnMethods = &quot;test2&quot;)\r\n    public void test3(){\r\n        Log.info(&quot;test3 creds: &quot; + this.creds);\r\n    }\r\n    \r\n}\r\n\r\n\r\n``` \r\n\r\nout:\r\n```\r\n&gt; test1 creds: Creds2 \r\n&gt; test1 creds: Creds1 \r\n&gt; test2 creds: Creds2 \r\n&gt; test2 creds: Creds1\r\n&gt; test3 creds: Creds2\r\n&gt; test3 creds: Creds1\r\n```\r\n\r\nBut I need:\r\n\r\n```\r\n&gt; test1 creds: Creds1 \r\n&gt; test2 creds: Creds1 \r\n&gt; test3 creds: Creds1 \r\n&gt; test1 creds: Creds2\r\n&gt; test2 creds: Creds2\r\n&gt; test3 creds: Creds3\r\n```\r\n\r\n-  The reason why I need to move in this way - I need to have a report in the allure for each test, but if I&#39;ll use one-Test-method-way, I&#39;ll get results only for first test","title":"How to run tests in order with datarovider","body":"<p>I need to execute all tests in the order for each dataprovider object.\nMy try:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class TestTest extends BaseTest {\n\n    private String creds;\n\n    @Factory(dataProvider = &quot;creds&quot;)\n    TestTest(String creds){\n        this.creds = creds;\n    }\n\n    @DataProvider\n    public static Object[][] creds(){\n        return new Object[][]{\n                {&quot;Creds1&quot;},\n                {&quot;Creds2&quot;}\n        };\n    }\n\n    @Test()\n    public void test1(){\n        this.creds = creds;\n        Log.info(&quot;test1 creds: &quot; + creds);\n    }\n\n    @Test(dependsOnMethods = &quot;test1&quot;)\n    public void test2(){\n        Log.info(&quot;test2 creds: &quot; + this.creds);\n    }\n    @Test(dependsOnMethods = &quot;test2&quot;)\n    public void test3(){\n        Log.info(&quot;test3 creds: &quot; + this.creds);\n    }\n    \n}\n\n\n</code></pre>\n<p>out:</p>\n<pre><code>&gt; test1 creds: Creds2 \n&gt; test1 creds: Creds1 \n&gt; test2 creds: Creds2 \n&gt; test2 creds: Creds1\n&gt; test3 creds: Creds2\n&gt; test3 creds: Creds1\n</code></pre>\n<p>But I need:</p>\n<pre><code>&gt; test1 creds: Creds1 \n&gt; test2 creds: Creds1 \n&gt; test3 creds: Creds1 \n&gt; test1 creds: Creds2\n&gt; test2 creds: Creds2\n&gt; test3 creds: Creds3\n</code></pre>\n<ul>\n<li>The reason why I need to move in this way - I need to have a report in the allure for each test, but if I'll use one-Test-method-way, I'll get results only for first test</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":3,"creation_date":1355701034,"post_id":13906565,"comment_id":19164983,"body_markdown":"Have you looked at javadoc? If not, it is probably the tool you are looking for.","body":"Have you looked at javadoc? If not, it is probably the tool you are looking for."},{"owner":{"account_id":20772,"reputation":55133,"user_id":49942,"accept_rate":80,"display_name":"ChrisW"},"score":0,"creation_date":1355701053,"post_id":13906565,"comment_id":19164987,"body_markdown":"http://stackoverflow.com/questions/225447/doxygen-vs-javadoc","body":"<a href=\"http://stackoverflow.com/questions/225447/doxygen-vs-javadoc\">stackoverflow.com/questions/225447/doxygen-vs-javadoc</a>"},{"owner":{"account_id":1579311,"reputation":5408,"user_id":1465011,"accept_rate":98,"display_name":"recursion.ninja"},"score":1,"creation_date":1355701098,"post_id":13906565,"comment_id":19164995,"body_markdown":"I believe that the Eclipse IDE assists you in creating JavaDocs, a documentation format for Java code. You just need to type `/**` to start the documentation comment block AFTER you write the method.","body":"I believe that the Eclipse IDE assists you in creating JavaDocs, a documentation format for Java code. You just need to type <code>&#47;**</code> to start the documentation comment block AFTER you write the method."}],"answers":[{"tags":[],"owner":{"account_id":2131845,"reputation":1372,"user_id":1892523,"accept_rate":50,"display_name":"Link"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355701146,"creation_date":1355701146,"answer_id":13906594,"question_id":13906565,"body_markdown":"Maybe you are searching for [javadoc](http://en.wikipedia.org/wiki/Javadoc)\r\n\r\nJavadoc creates html-files of your code as a documentation. Just look at some [tutorial](http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html)","title":"How to create a summary of my code","body":"<p>Maybe you are searching for <a href=\"http://en.wikipedia.org/wiki/Javadoc\" rel=\"nofollow\">javadoc</a></p>\n\n<p>Javadoc creates html-files of your code as a documentation. Just look at some <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html\" rel=\"nofollow\">tutorial</a></p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355703651,"creation_date":1355703651,"answer_id":13906866,"question_id":13906565,"body_markdown":"If you have looked at javadoc, and it is not suitable for you, then look at this solution&lt;br&gt;\r\n\r\nhttps://stackoverflow.com/questions/8504013/how-to-read-javadoc-comments-by-reflection\r\n\r\nlook at answer &quot;doclet&quot;","title":"How to create a summary of my code","body":"<p>If you have looked at javadoc, and it is not suitable for you, then look at this solution<br></p>\n\n<p><a href=\"https://stackoverflow.com/questions/8504013/how-to-read-javadoc-comments-by-reflection\">How to read Javadoc comments by reflection?</a></p>\n\n<p>look at answer \"doclet\"</p>\n"},{"tags":[],"owner":{"account_id":19974229,"reputation":1,"user_id":14638969,"display_name":"Layon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638371230,"creation_date":1638371230,"answer_id":70186580,"question_id":13906565,"body_markdown":"If you are using **IntelliJ** then before the method you want to comment you have to type **/**** and hit enter. It automatically creates a comment with params or without depending on your function.","title":"How to create a summary of my code","body":"<p>If you are using <strong>IntelliJ</strong> then before the method you want to comment you have to type <strong>/</strong>** and hit enter. It automatically creates a comment with params or without depending on your function.</p>\n"}],"owner":{"account_id":1156010,"reputation":118,"user_id":1136614,"accept_rate":87,"display_name":"Joao Silva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1638371230,"creation_date":1355700894,"question_id":13906565,"body_markdown":"I want to automatically create some sort of report of my code(java).\r\nExample:\r\nI have something like:\r\n\r\n    public classe qwerty{\r\n    //CODE\r\n    /*\r\n    * Converts ...\r\n    * @param s\r\n    *        -string...\r\n    */\r\n    public static int mult(string s)\r\n       {\r\n       //CODE\r\n       } \r\n    }\r\nAnd I want to create something that looks like this:\r\n\r\n    ...............................\r\n    public static int mult(string s)\r\n    Converts ...\r\n    \r\n    Paramters:\r\n       s (String): string...\r\n    Returns (int)\r\n    .................................\r\n    ETC\r\nIs there any tool for that??\r\n\r\n ","title":"How to create a summary of my code","body":"<p>I want to automatically create some sort of report of my code(java).\nExample:\nI have something like:</p>\n\n<pre><code>public classe qwerty{\n//CODE\n/*\n* Converts ...\n* @param s\n*        -string...\n*/\npublic static int mult(string s)\n   {\n   //CODE\n   } \n}\n</code></pre>\n\n<p>And I want to create something that looks like this:</p>\n\n<pre><code>...............................\npublic static int mult(string s)\nConverts ...\n\nParamters:\n   s (String): string...\nReturns (int)\n.................................\nETC\n</code></pre>\n\n<p>Is there any tool for that??</p>\n"},{"tags":["java","multithreading","pool"],"comments":[{"owner":{"account_id":2968,"reputation":14291,"user_id":4213,"accept_rate":80,"display_name":"Marcio Aguiar"},"score":0,"creation_date":1331905174,"post_id":9738210,"comment_id":12384539,"body_markdown":"From what I understand this threads perform network communication?","body":"From what I understand this threads perform network communication?"},{"owner":{"account_id":171094,"reputation":41,"user_id":1272337,"accept_rate":0,"display_name":"Lobachevsky"},"score":0,"creation_date":1332169508,"post_id":9738210,"comment_id":12437164,"body_markdown":"Yes, but unfortunately I don&#39;t have low-level control on the communication layer.","body":"Yes, but unfortunately I don&#39;t have low-level control on the communication layer."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1502374896,"post_id":9738210,"comment_id":78191670,"body_markdown":"Just a note : Cached thred pools seem like a good fit for your use case, if the total number of threads is actually of concern. The caching would allow for a good thread reuse in case of activity spikes, and the time to live would allow them to get stopped (thus freeing resources) after a given amount of time. This would mitigate the issues (if you really do have one, e.g. 1000 threads is perfectly fine on typical current hardware).","body":"Just a note : Cached thred pools seem like a good fit for your use case, if the total number of threads is actually of concern. The caching would allow for a good thread reuse in case of activity spikes, and the time to live would allow them to get stopped (thus freeing resources) after a given amount of time. This would mitigate the issues (if you really do have one, e.g. 1000 threads is perfectly fine on typical current hardware)."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1638371040,"creation_date":1331905114,"answer_id":9738295,"question_id":9738210,"body_markdown":"&gt; I know in general this is not a good practice for thread pools usage \r\n\r\nI disagree.  I think this is a perfect practice.  Are you seeing problems with this approach, because otherwise, switching from standard threads, smacks of premature optimization to me.\r\n\r\n&gt; So is there any way to use some kind of light-weight threads that does not consume much memory?\r\n\r\nI think you are already there.  Threads are relatively lightweight already and I see no reason to worry about hundreds of them unless you are working in a very constrained JVM.\r\n\r\n&gt; Also do you have any suggestions for a better solution to my problem?\r\n\r\nAny solution that I see would be a _lot_ more complicated and would again be the definition of premature optimization.  For example, you could use NIO and do your own scheduling of the thread when the server response was available but this is the sort of thing that you get for free with threads.","title":"Thread pool with many blocked tasks","body":"<blockquote>\n<p>I know in general this is not a good practice for thread pools usage</p>\n</blockquote>\n<p>I disagree.  I think this is a perfect practice.  Are you seeing problems with this approach, because otherwise, switching from standard threads, smacks of premature optimization to me.</p>\n<blockquote>\n<p>So is there any way to use some kind of light-weight threads that does not consume much memory?</p>\n</blockquote>\n<p>I think you are already there.  Threads are relatively lightweight already and I see no reason to worry about hundreds of them unless you are working in a very constrained JVM.</p>\n<blockquote>\n<p>Also do you have any suggestions for a better solution to my problem?</p>\n</blockquote>\n<p>Any solution that I see would be a <em>lot</em> more complicated and would again be the definition of premature optimization.  For example, you could use NIO and do your own scheduling of the thread when the server response was available but this is the sort of thing that you get for free with threads.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1331905578,"creation_date":1331905578,"answer_id":9738399,"question_id":9738210,"body_markdown":"&gt; So is there any way to use some kind of light-weight threads that does not consume much memory? \r\n\r\nUsing plain threads in a thread pool is likely to be light weight enough.\r\n\r\n&gt; I now there&#39;s a JVM option -Xss to control the stacks memory but it&#39;s seems there&#39;s no way to control this per thread pool or thread only as opposed to changing it for all the threads inside the VM, right?\r\n\r\nThis is the maximum size per thread. Its the size at which you want to get a StackOverFlowError rather than keep running.  IMHO, There is little benefit in tuning this on a per thread basis.\r\n\r\nThe thread stack uses main memory for the portion which is actually used and virtual memory for the rest.  Virtual memory is cheap if you have a 64-bit JVM.  If this is a concern I would switch to 64-bit.\r\n\r\n&gt; Also do you have any suggestions for a better solution to my problem?\r\n\r\nIf you have thousands of threads you might consider using non-blocking IO. It doesn&#39;t sound like you need to worry.  In tests I have done, having 10,000 active threads consumes one CPU (if the threads are otherwise not doing anything) For every hundred threads, you could be wasting 1% of one CPU.  This is unlikely to be a problem if you have spare CPU.\r\n","title":"Thread pool with many blocked tasks","body":"<blockquote>\n  <p>So is there any way to use some kind of light-weight threads that does not consume much memory? </p>\n</blockquote>\n\n<p>Using plain threads in a thread pool is likely to be light weight enough.</p>\n\n<blockquote>\n  <p>I now there's a JVM option -Xss to control the stacks memory but it's seems there's no way to control this per thread pool or thread only as opposed to changing it for all the threads inside the VM, right?</p>\n</blockquote>\n\n<p>This is the maximum size per thread. Its the size at which you want to get a StackOverFlowError rather than keep running.  IMHO, There is little benefit in tuning this on a per thread basis.</p>\n\n<p>The thread stack uses main memory for the portion which is actually used and virtual memory for the rest.  Virtual memory is cheap if you have a 64-bit JVM.  If this is a concern I would switch to 64-bit.</p>\n\n<blockquote>\n  <p>Also do you have any suggestions for a better solution to my problem?</p>\n</blockquote>\n\n<p>If you have thousands of threads you might consider using non-blocking IO. It doesn't sound like you need to worry.  In tests I have done, having 10,000 active threads consumes one CPU (if the threads are otherwise not doing anything) For every hundred threads, you could be wasting 1% of one CPU.  This is unlikely to be a problem if you have spare CPU.</p>\n"}],"owner":{"account_id":171094,"reputation":41,"user_id":1272337,"accept_rate":0,"display_name":"Lobachevsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638371040,"creation_date":1331904802,"question_id":9738210,"body_markdown":"I&#39;m using a thread pool that should be able to execute hundreds of concurrent tasks. However the tasks usually do very little computation and spend most of their time waiting on some server response. So if the thread pool size contains hundreds of threads just a few of them will be active while most of them will be waiting.\r\n\r\nI know in general this is not a good practice for thread pools usage but the current design does not permit making my tasks asynchronous so that they can return the control without waiting for the server&#39;s response. So given this limitation I guess my biggest problem is increased memory consumption for the threads stack space.\r\n\r\nSo is there any way to use some kind of light-weight threads that does not consume much memory? \r\n\r\nI now there&#39;s a JVM option -Xss to control the stacks memory but it&#39;s seems there&#39;s no way to control this per thread pool or thread only as opposed to changing it for all the threads inside the VM, right?\r\n\r\nAlso do you have any suggestions for a better solution to my problem?\r\n","title":"Thread pool with many blocked tasks","body":"<p>I'm using a thread pool that should be able to execute hundreds of concurrent tasks. However the tasks usually do very little computation and spend most of their time waiting on some server response. So if the thread pool size contains hundreds of threads just a few of them will be active while most of them will be waiting.</p>\n\n<p>I know in general this is not a good practice for thread pools usage but the current design does not permit making my tasks asynchronous so that they can return the control without waiting for the server's response. So given this limitation I guess my biggest problem is increased memory consumption for the threads stack space.</p>\n\n<p>So is there any way to use some kind of light-weight threads that does not consume much memory? </p>\n\n<p>I now there's a JVM option -Xss to control the stacks memory but it's seems there's no way to control this per thread pool or thread only as opposed to changing it for all the threads inside the VM, right?</p>\n\n<p>Also do you have any suggestions for a better solution to my problem?</p>\n"},{"tags":["java","apache-tika"],"comments":[{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":0,"creation_date":1638369221,"post_id":70186012,"comment_id":124069813,"body_markdown":"Is also [commons-io](https://mvnrepository.com/artifact/commons-io/commons-io/2.11.0) in your pom.xml? If I see it well, the apple `BPListDetector` needs it, although I have no idea, why it does not link it statically.","body":"Is also <a href=\"https://mvnrepository.com/artifact/commons-io/commons-io/2.11.0\" rel=\"nofollow noreferrer\">commons-io</a> in your pom.xml? If I see it well, the apple <code>BPListDetector</code> needs it, although I have no idea, why it does not link it statically."},{"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"score":1,"creation_date":1638369472,"post_id":70186012,"comment_id":124069945,"body_markdown":"It says `NoSuchMethodError`, making likely that commons-io is in your pom.xml (at least indirectly, through a transient dependency). But this IOUtils has no `read` method. I think the most likely cause is that you are using an older commons-io which does not have this method yet. Use the latest, as I have shown in the link.","body":"It says <code>NoSuchMethodError</code>, making likely that commons-io is in your pom.xml (at least indirectly, through a transient dependency). But this IOUtils has no <code>read</code> method. I think the most likely cause is that you are using an older commons-io which does not have this method yet. Use the latest, as I have shown in the link."}],"answers":[{"tags":[],"owner":{"account_id":1988549,"reputation":12047,"user_id":1783163,"accept_rate":97,"display_name":"peterh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638370749,"creation_date":1638369781,"answer_id":70186228,"question_id":70186012,"body_markdown":"The stacktrace says that `org.apache.commons.io.IOUtils.read` is missing. This is a static method in `org.apache.commons.io.IOUtils`, which class is part of the [commons-io](https://mvnrepository.com/artifact/commons-io/commons-io/2.11.0) package.\r\n\r\n1. Make sure that commons-io is linked into your app (check the pom.xml, or an `mvn dependency:tree` output).\r\n\r\n2. Make sure it is linked in a relative newer version. V2.0 of the commons-io did not have this method yet ([link][1]), but the current one already has  ([link][2]). In general, it is a good practice to use always the last stable version of everything.\r\n\r\n  [1]: https://github.com/apache/commons-io/blob/commons-io-2.0-rc1/src/main/java/org/apache/commons/io/IOUtils.java\r\n  [2]: https://github.com/apache/commons-io/blob/master/src/main/java/org/apache/commons/io/IOUtils.java","title":"java.lang.NoSuchMethodError: org.apache.commons.io.IOUtils.read with Tika (detect method)","body":"<p>The stacktrace says that <code>org.apache.commons.io.IOUtils.read</code> is missing. This is a static method in <code>org.apache.commons.io.IOUtils</code>, which class is part of the <a href=\"https://mvnrepository.com/artifact/commons-io/commons-io/2.11.0\" rel=\"nofollow noreferrer\">commons-io</a> package.</p>\n<ol>\n<li><p>Make sure that commons-io is linked into your app (check the pom.xml, or an <code>mvn dependency:tree</code> output).</p>\n</li>\n<li><p>Make sure it is linked in a relative newer version. V2.0 of the commons-io did not have this method yet (<a href=\"https://github.com/apache/commons-io/blob/commons-io-2.0-rc1/src/main/java/org/apache/commons/io/IOUtils.java\" rel=\"nofollow noreferrer\">link</a>), but the current one already has  (<a href=\"https://github.com/apache/commons-io/blob/master/src/main/java/org/apache/commons/io/IOUtils.java\" rel=\"nofollow noreferrer\">link</a>). In general, it is a good practice to use always the last stable version of everything.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11068,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1638370932,"creation_date":1638368911,"question_id":70186012,"body_markdown":"Here is my method:\r\n\r\n    public String retrieveMimeType(InputStream stream, String filename) throws Exception {\r\n        \t TikaConfig config = TikaConfig.getDefaultConfig();\r\n        \t Detector detector = config.getDetector();\r\n    \r\n        \t TikaInputStream streams = TikaInputStream.get(stream);\r\n    \r\n        \t Metadata metadata = new Metadata();\r\n        \t metadata.add(TikaCoreProperties.RESOURCE_NAME_KEY, filename);\r\n        \t MediaType mediaType = null;\r\n            mediaType = detector.detect(stream, metadata);\r\n    \t\treturn mediaType.toString();\r\n        }\r\n\r\nIt give me this on the log :\r\n\r\n    java.lang.NoSuchMethodError: org.apache.commons.io.IOUtils.read(Ljava/io/InputStream;[B)I\r\n    \tat org.apache.tika.detect.apple.BPListDetector.detect(BPListDetector.java:106)\r\n    \tat org.apache.tika.detect.CompositeDetector.detect(CompositeDetector.java:85)\r\n    \tat com.hraccess.helper.UserFileValidator.retrieveMimeType(UserFileValidator.java:313)\r\n    \tat com.hraccess.webclient.servlets.ServletBlob.doPost(ServletBlob.java:429)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:755)\r\n\r\nFor this line : \r\n\r\n    at com.hraccess.helper.UserFileValidator.retrieveMimeType(UserFileValidator.java:313)\r\n\r\nhere is the line 313:\r\n\r\n    mediaType = detector.detect(stream, metadata);\r\n\r\nSo what can I do? It gives this error when I added the parsers to my pom.xml . How to find why?","title":"java.lang.NoSuchMethodError: org.apache.commons.io.IOUtils.read with Tika (detect method)","body":"<p>Here is my method:</p>\n<pre><code>public String retrieveMimeType(InputStream stream, String filename) throws Exception {\n         TikaConfig config = TikaConfig.getDefaultConfig();\n         Detector detector = config.getDetector();\n\n         TikaInputStream streams = TikaInputStream.get(stream);\n\n         Metadata metadata = new Metadata();\n         metadata.add(TikaCoreProperties.RESOURCE_NAME_KEY, filename);\n         MediaType mediaType = null;\n        mediaType = detector.detect(stream, metadata);\n        return mediaType.toString();\n    }\n</code></pre>\n<p>It give me this on the log :</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.commons.io.IOUtils.read(Ljava/io/InputStream;[B)I\n    at org.apache.tika.detect.apple.BPListDetector.detect(BPListDetector.java:106)\n    at org.apache.tika.detect.CompositeDetector.detect(CompositeDetector.java:85)\n    at com.hraccess.helper.UserFileValidator.retrieveMimeType(UserFileValidator.java:313)\n    at com.hraccess.webclient.servlets.ServletBlob.doPost(ServletBlob.java:429)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)\n</code></pre>\n<p>For this line :</p>\n<pre><code>at com.hraccess.helper.UserFileValidator.retrieveMimeType(UserFileValidator.java:313)\n</code></pre>\n<p>here is the line 313:</p>\n<pre><code>mediaType = detector.detect(stream, metadata);\n</code></pre>\n<p>So what can I do? It gives this error when I added the parsers to my pom.xml . How to find why?</p>\n"},{"tags":["java","jmx","mbeans"],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638370839,"creation_date":1368800257,"answer_id":16611322,"question_id":16611099,"body_markdown":"&gt; Do having multiple MBeans pose performance issues?\r\n\r\nNo, MBeans themselves are just stubs for JMX access to your application.  You could have performance problems if you are sending back a large amount of data (like 100s of attributes or large arrays or something) or making a large number of requests per second.  But in themselves, the mbeans are typically singletons and are themselves never a performance sink.\r\n\r\n&gt; I may end creating 30+ MBeans.  I am really concerned if it will be too chatty with JVM.\r\n\r\nAgain, unless you are requesting data from those mbeans at some high rate, you shouldn&#39;t have a problem.  We have literally hundreds of mbeans in our various and have seen no performance problem with them.\r\n","title":"Overhead with multiple MBeans","body":"<blockquote>\n<p>Do having multiple MBeans pose performance issues?</p>\n</blockquote>\n<p>No, MBeans themselves are just stubs for JMX access to your application.  You could have performance problems if you are sending back a large amount of data (like 100s of attributes or large arrays or something) or making a large number of requests per second.  But in themselves, the mbeans are typically singletons and are themselves never a performance sink.</p>\n<blockquote>\n<p>I may end creating 30+ MBeans.  I am really concerned if it will be too chatty with JVM.</p>\n</blockquote>\n<p>Again, unless you are requesting data from those mbeans at some high rate, you shouldn't have a problem.  We have literally hundreds of mbeans in our various and have seen no performance problem with them.</p>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16611322,"answer_count":1,"score":2,"last_activity_date":1638370839,"creation_date":1368799632,"question_id":16611099,"body_markdown":"Do having multiple MBeans pose performance issues?\r\n\r\nTrying to track multiple transactions run in the application. I may end creating 30+ MBeans.&lt;br/&gt;\r\nI am really concerned if it will be too chatty with JVM.  ","title":"Overhead with multiple MBeans","body":"<p>Do having multiple MBeans pose performance issues?</p>\n\n<p>Trying to track multiple transactions run in the application. I may end creating 30+ MBeans.<br/>\nI am really concerned if it will be too chatty with JVM.  </p>\n"},{"tags":["java","geometry","gps","point","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638370170,"creation_date":1638368836,"answer_id":70185990,"question_id":70183873,"body_markdown":"The `infoTool` is designed to not overwhelm the user with excessively large geometry strings. See [`FeatureLayerHelper` line 129][1] where only the name of the geometry class is stored to be returned to the user. \r\n\r\n                       if (value != null) {\r\n                            if (value instanceof Geometry) {\r\n                                result.setFeatureValue(name, value.getClass().getSimpleName());\r\n                            } else {\r\n                                result.setFeatureValue(name, value);\r\n                            }\r\n                        } else {\r\n                            result.setFeatureValue(name, &quot;null&quot;);\r\n                        }\r\n\r\nIf you want to get the point&#39;s coordinates back then you will need to override that class and change the way it handles that.\r\n\r\nAlternatively, if you can live with having the `geom: Point` show up as well, you could add the WKT of the geometry to your point as a `String` with some code like:\r\n\r\n    typeBuilder.add(&quot;Location&quot;, String.class);\r\n     ...\r\n    String pointString = &quot;(&quot; + point.getX() + &quot; &quot; + point.getY() + &quot;)&quot;; \r\n     ...\r\n    featureCollection.add( SimpleFeatureBuilder.build(TYPE, new Object[]{ point, pointString, name, ID }, &quot;PlatformPos&quot;));\r\n\r\n  [1]: https://github.com/geotools/geotools/blob/06c4b042f7a5d0e886027df627db2cc780892190/modules/unsupported/swing/src/main/java/org/geotools/swing/tool/FeatureLayerHelper.java#L129","title":"Java GeoTools Feature Information Window not correctly loading Feature information","body":"<p>The <code>infoTool</code> is designed to not overwhelm the user with excessively large geometry strings. See <a href=\"https://github.com/geotools/geotools/blob/06c4b042f7a5d0e886027df627db2cc780892190/modules/unsupported/swing/src/main/java/org/geotools/swing/tool/FeatureLayerHelper.java#L129\" rel=\"nofollow noreferrer\"><code>FeatureLayerHelper</code> line 129</a> where only the name of the geometry class is stored to be returned to the user.</p>\n<pre><code>                   if (value != null) {\n                        if (value instanceof Geometry) {\n                            result.setFeatureValue(name, value.getClass().getSimpleName());\n                        } else {\n                            result.setFeatureValue(name, value);\n                        }\n                    } else {\n                        result.setFeatureValue(name, &quot;null&quot;);\n                    }\n</code></pre>\n<p>If you want to get the point's coordinates back then you will need to override that class and change the way it handles that.</p>\n<p>Alternatively, if you can live with having the <code>geom: Point</code> show up as well, you could add the WKT of the geometry to your point as a <code>String</code> with some code like:</p>\n<pre><code>typeBuilder.add(&quot;Location&quot;, String.class);\n ...\nString pointString = &quot;(&quot; + point.getX() + &quot; &quot; + point.getY() + &quot;)&quot;; \n ...\nfeatureCollection.add( SimpleFeatureBuilder.build(TYPE, new Object[]{ point, pointString, name, ID }, &quot;PlatformPos&quot;));\n</code></pre>\n"}],"owner":{"account_id":5610216,"reputation":571,"user_id":4443260,"accept_rate":84,"display_name":"Kris Rice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70185990,"answer_count":1,"score":1,"last_activity_date":1638370170,"creation_date":1638360240,"question_id":70183873,"body_markdown":"So I have tried a few different ways to create SimpleFeatures for a single data point, from various different samples of code, with no success.\r\n\r\nI can successfully create a FeatureCollection that contains the information such that the point is drawn on the map in the display. The issue i&#39;m having is when I click on the point using the information tool, rather than displaying the ACTUAL data for the Point, it instead displays the word &quot;Point&quot; (which i believe is telling me it&#39;s of type Point.class rather than the Points data).\r\n\r\nFairly simple setup:\r\n    \r\n    SimpleFeatureTypeBuilder typeBuilder = new SimpleFeatureTypeBuilder();\r\n    typeBuilder.setName(&quot;test point information&quot;);\r\n    typeBuilder.setSRC(COORDINATE_REFERENCE_SYSTEM); // WGS84\r\n    typeBuilder.add(&quot;geom&quot;, Point.class);\r\n    typeBuilder.add(&quot;name&quot;, String.class);\r\n    typeBuilder.add(&quot;number&quot;, Integer.class);\r\n\r\n    SimpleFeatureType TYPE = typeBuilder.buildFeatureType();\r\n\r\n    DefaultFeatureCollection featureCollection = new DefaultFeatureCollection(&quot;internal&quot;,TYPE);\r\n    WKTReader2 wkt = new WKTReader2();\r\n    \r\n    double longitude = positionCoordinate.getX();\r\n    double latitude = positionCoordinate.getY();\r\n    \r\n    String pointString = &quot;POINT(&quot;+longitude+&quot; &quot;+latitude+&quot;)&quot;;\r\n    String name = &quot;Position&quot;\r\n    int ID = 0;\r\n\r\n    featureCollection.add( SimpleFeatureBuilder.build(TYPE, new Object[]{ wkt.read(pointString), name, ID }, &quot;PlatformPos&quot;));\r\n    Style style = SLD.createPointStyle(...)\r\n    return new FeatureLayer(featureCollection, style);\r\n\r\nThe name in the information panel appears correctly, along with the number. But the Point displays &quot;geom: Point&quot;. I have ensured it is not using awt Point anywhere and every reference to Point is the org.locationtech.jts.geom.Point.\r\n\r\nThanks","title":"Java GeoTools Feature Information Window not correctly loading Feature information","body":"<p>So I have tried a few different ways to create SimpleFeatures for a single data point, from various different samples of code, with no success.</p>\n<p>I can successfully create a FeatureCollection that contains the information such that the point is drawn on the map in the display. The issue i'm having is when I click on the point using the information tool, rather than displaying the ACTUAL data for the Point, it instead displays the word &quot;Point&quot; (which i believe is telling me it's of type Point.class rather than the Points data).</p>\n<p>Fairly simple setup:</p>\n<pre><code>SimpleFeatureTypeBuilder typeBuilder = new SimpleFeatureTypeBuilder();\ntypeBuilder.setName(&quot;test point information&quot;);\ntypeBuilder.setSRC(COORDINATE_REFERENCE_SYSTEM); // WGS84\ntypeBuilder.add(&quot;geom&quot;, Point.class);\ntypeBuilder.add(&quot;name&quot;, String.class);\ntypeBuilder.add(&quot;number&quot;, Integer.class);\n\nSimpleFeatureType TYPE = typeBuilder.buildFeatureType();\n\nDefaultFeatureCollection featureCollection = new DefaultFeatureCollection(&quot;internal&quot;,TYPE);\nWKTReader2 wkt = new WKTReader2();\n\ndouble longitude = positionCoordinate.getX();\ndouble latitude = positionCoordinate.getY();\n\nString pointString = &quot;POINT(&quot;+longitude+&quot; &quot;+latitude+&quot;)&quot;;\nString name = &quot;Position&quot;\nint ID = 0;\n\nfeatureCollection.add( SimpleFeatureBuilder.build(TYPE, new Object[]{ wkt.read(pointString), name, ID }, &quot;PlatformPos&quot;));\nStyle style = SLD.createPointStyle(...)\nreturn new FeatureLayer(featureCollection, style);\n</code></pre>\n<p>The name in the information panel appears correctly, along with the number. But the Point displays &quot;geom: Point&quot;. I have ensured it is not using awt Point anywhere and every reference to Point is the org.locationtech.jts.geom.Point.</p>\n<p>Thanks</p>\n"},{"tags":["java","recursion","stack-overflow"],"comments":[{"owner":{"account_id":12489064,"reputation":1172,"user_id":9091276,"accept_rate":100,"display_name":"Frontear"},"score":1,"creation_date":1638138743,"post_id":70147967,"comment_id":124001810,"body_markdown":"To avoid the stack overflowing, you need to implement this function differently. Recursion just won&#39;t cut it after a while.","body":"To avoid the stack overflowing, you need to implement this function differently. Recursion just won&#39;t cut it after a while."},{"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"score":0,"creation_date":1638139078,"post_id":70147967,"comment_id":124001886,"body_markdown":"So the recursion if called to many times will eventualy give a stack overflow error ?","body":"So the recursion if called to many times will eventualy give a stack overflow error ?"},{"owner":{"account_id":12489064,"reputation":1172,"user_id":9091276,"accept_rate":100,"display_name":"Frontear"},"score":2,"creation_date":1638159500,"post_id":70147967,"comment_id":124005015,"body_markdown":"Correct. This is a fundamental problem of recursion that cannot be changed.","body":"Correct. This is a fundamental problem of recursion that cannot be changed."},{"owner":{"account_id":8015275,"reputation":18609,"user_id":6045800,"display_name":"Tomerikoo"},"score":1,"creation_date":1638173471,"post_id":70147967,"comment_id":124007840,"body_markdown":"Does this answer your question? [What is a StackOverflowError?](https://stackoverflow.com/questions/214741/what-is-a-stackoverflowerror)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/214741/what-is-a-stackoverflowerror\">What is a StackOverflowError?</a>"},{"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"score":0,"creation_date":1638210894,"post_id":70147967,"comment_id":124022861,"body_markdown":"Thank you for the answers. It was a homework for me how to avoid the SO error. Have to solve it with standard for loop.","body":"Thank you for the answers. It was a homework for me how to avoid the SO error. Have to solve it with standard for loop."}],"answers":[{"tags":[],"owner":{"account_id":23482343,"reputation":79,"user_id":17534309,"display_name":"Based1776"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1638138320,"creation_date":1638138320,"answer_id":70148003,"question_id":70147967,"body_markdown":"Yes, you&#39;re encountering an overflow because your recursion stack becomes extremely deep with large inputs. There&#39;s no reason this function needs to be recursive, I would suggest implementing an iterative version using loops.","title":"How to solve a stack overflow error in recursive call?","body":"<p>Yes, you're encountering an overflow because your recursion stack becomes extremely deep with large inputs. There's no reason this function needs to be recursive, I would suggest implementing an iterative version using loops.</p>\n"}],"owner":{"account_id":23295836,"reputation":37,"user_id":17377261,"display_name":"Proximo_224"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70148003,"answer_count":1,"score":-1,"last_activity_date":1638370168,"creation_date":1638138015,"question_id":70147967,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Task5 {\r\n\r\n        private static void stack(int x) {\r\n            if (x == 0) return;\r\n            stack(x - 1);\r\n            if (x % 35 == 0) {\r\n                System.out.println();\r\n            }\r\n            System.out.print(x + &quot; &quot;);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Enter number: &quot;);\r\n            int x = sc.nextInt();\r\n            stack(x);\r\n        }\r\n    }\r\n\r\nAny number above 9200 results in a stack overflow error. Is it because a recursive call loops too many times ?","title":"How to solve a stack overflow error in recursive call?","body":"<pre><code>import java.util.Scanner;\n\npublic class Task5 {\n\n    private static void stack(int x) {\n        if (x == 0) return;\n        stack(x - 1);\n        if (x % 35 == 0) {\n            System.out.println();\n        }\n        System.out.print(x + &quot; &quot;);\n    }\n\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter number: &quot;);\n        int x = sc.nextInt();\n        stack(x);\n    }\n}\n</code></pre>\n<p>Any number above 9200 results in a stack overflow error. Is it because a recursive call loops too many times ?</p>\n"},{"tags":["java","time-complexity","runtime","big-o"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1638369841,"post_id":70185882,"comment_id":124070127,"body_markdown":"I don&#39;t know what you mean by &quot;Tilde&quot;.  Can you provide a citation that explains?  (Note that whatever it means, it has nothing to do with the subject of the `[tilde]` logic tag ... so I removed it.)","body":"I don&#39;t know what you mean by &quot;Tilde&quot;.  Can you provide a citation that explains?  (Note that whatever it means, it has nothing to do with the subject of the <code>[tilde]</code> logic tag ... so I removed it.)"}],"answers":[{"tags":[],"owner":{"account_id":5848223,"reputation":7526,"user_id":4607733,"accept_rate":80,"display_name":"logi-kal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638370066,"creation_date":1638369153,"answer_id":70186064,"question_id":70185882,"body_markdown":"For the first `k-1` steps you execute:\r\n1. the comparison `k==1`\r\n2. the subtraction `k-1`\r\n3. the product `x * ...`\r\n4. the `return` instruction\r\n\r\nIn the last step you execute:\r\n1. the comparison `k==1`\r\n2. the `return` instruction\r\n\r\nSo you have `4*(k-1)+2 = 4k-2` overall instructions.\r\n\r\n**EDIT**: As @rzwitserloot correctly pointed out, the quantity that you are searching for is not very significant, but it depends on how the code is compiled and executed. Above I&#39;ve just tried to figure out what your teacher meant with &quot;exact time-complexity&quot;.","title":"Calculate exact runtime (time complexity) given recursive functions","body":"<p>For the first <code>k-1</code> steps you execute:</p>\n<ol>\n<li>the comparison <code>k==1</code></li>\n<li>the subtraction <code>k-1</code></li>\n<li>the product <code>x * ...</code></li>\n<li>the <code>return</code> instruction</li>\n</ol>\n<p>In the last step you execute:</p>\n<ol>\n<li>the comparison <code>k==1</code></li>\n<li>the <code>return</code> instruction</li>\n</ol>\n<p>So you have <code>4*(k-1)+2 = 4k-2</code> overall instructions.</p>\n<p><strong>EDIT</strong>: As @rzwitserloot correctly pointed out, the quantity that you are searching for is not very significant, but it depends on how the code is compiled and executed. Above I've just tried to figure out what your teacher meant with &quot;exact time-complexity&quot;.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638369692,"creation_date":1638369692,"answer_id":70186204,"question_id":70185882,"body_markdown":"&gt; But how do I proceed from here to find the exact runtime?\r\n\r\nYou toss everything you did so far in the garbage and fire up JMH instead, see later for more on that.\r\n\r\nIt is completely impossible to determine exact runtime based on such academic analysis. Exact runtime depends on which song is playing in your music player, whether your OS is busy doing some disk cleanup, sending a ping to the network time server, which pages so happen to be on the on-die caches, which CPU core your code ends up being run on, and the phase of the moon.\r\n\r\nLet me say this as clear as I can: Something like `4k - 2` is __utterly irrelevant and misguided__ - that&#39;s just not how computers work. You can&#39;t say that an algorithm with &#39;exact runtime&#39; `4k - 2` will be faster than a `6k + 2` algorithm. It is equally likely to be slower: It holds zero predictive power. It&#39;s a completely pointless &#39;calculation&#39;. It means nothing. There&#39;s a reason big-O notation exist: That does mean something regardless of hardware vagary: Given 2 algorithms such that one has a &#39;better&#39; big-O notation than the other, then there exists some input size such that the better algorithm WILL be faster, regardless of hardware concerns. It might be a really big number and big-O does nothing whatsoever to tell you at what number this occurs.\r\n\r\nThe point of big-O notation is that it dictates with mathematical certainty what will __eventually__ happen if you change the size of the input to your algorithm, in very broad strokes. It is why you remove all constants and everything but the largest factor when showing a big-O notation.\r\n\r\nTake a graph; on the X-axis, there&#39;s &#39;input size&#39;, which is the &#39;k&#39; in `O(k)`. On the Y-axis, there&#39;s execution time (or if you prefer, max. memory load). Then, make up some input size and run your algorithm a few times. Average the result, and place a dot on that graph. For example, if you are running your algorithm on an input of k=5, and it takes 27ms on average, put a dot on x=5, y=27.\r\n\r\nKeep going. Lots of dots. Eventually those dots form a graph. The graph will, near the x=0 point, be _all over the place_. As if a drunk with a penchant for randomness is tossing darts at a board.\r\n\r\nBut, eventually (and when &#39;eventually&#39; kicks in is impossible to determine, as, again, it depends on so many OS things, don&#39;t bother attempting to predict such things), it&#39;ll start looking like a recognizable shape. We define these shapes in terms of simplistic formulas. For example, if it eventually (far enough to the right) coalesces into something that looks like what you&#39;d get if you graph `y=x^2`, then we call that `O(x^2)`.\r\n\r\nNow, `y=5x^2` looks exactly like `y=x^2`. For that matter, `y=158*x^2 + 25000x + 2134931239`, if you look far enough to the right on that curve, looks exactly like `y=x^2`. Hence why `O(158x^2+20x)` is completely missing the point, and therefore incorrect. The point of O is merely to tell you what it&#39;ll look like &#39;far enough to the right&#39;.\r\n\r\nThis leaves us with precisely 2 useful performance metrics:\r\n\r\n1. `O(k)` notation. Which you correctly determined here: This algorithm has an `O(k)` runtime.\r\n\r\n2. A timing report. There is __no point__ trying to figure this out by looking at the code, you need to __run__ the code. Repeatedly, with all sorts of guards around it to ensure that hotspot optimization isn&#39;t eliminating your code completely, re-running lots of times to get a good average, and ensuring that we&#39;re past the JVM&#39;s JIT step. You use [JMH](https://www.baeldung.com/java-microbenchmark-harness) to do this, and note that the result of JMH, naturally, depends on the hardware you run it on, and that&#39;s because programs can have wildly different performance characteristics depending on hardware.\r\n","title":"Calculate exact runtime (time complexity) given recursive functions","body":"<blockquote>\n<p>But how do I proceed from here to find the exact runtime?</p>\n</blockquote>\n<p>You toss everything you did so far in the garbage and fire up JMH instead, see later for more on that.</p>\n<p>It is completely impossible to determine exact runtime based on such academic analysis. Exact runtime depends on which song is playing in your music player, whether your OS is busy doing some disk cleanup, sending a ping to the network time server, which pages so happen to be on the on-die caches, which CPU core your code ends up being run on, and the phase of the moon.</p>\n<p>Let me say this as clear as I can: Something like <code>4k - 2</code> is <strong>utterly irrelevant and misguided</strong> - that's just not how computers work. You can't say that an algorithm with 'exact runtime' <code>4k - 2</code> will be faster than a <code>6k + 2</code> algorithm. It is equally likely to be slower: It holds zero predictive power. It's a completely pointless 'calculation'. It means nothing. There's a reason big-O notation exist: That does mean something regardless of hardware vagary: Given 2 algorithms such that one has a 'better' big-O notation than the other, then there exists some input size such that the better algorithm WILL be faster, regardless of hardware concerns. It might be a really big number and big-O does nothing whatsoever to tell you at what number this occurs.</p>\n<p>The point of big-O notation is that it dictates with mathematical certainty what will <strong>eventually</strong> happen if you change the size of the input to your algorithm, in very broad strokes. It is why you remove all constants and everything but the largest factor when showing a big-O notation.</p>\n<p>Take a graph; on the X-axis, there's 'input size', which is the 'k' in <code>O(k)</code>. On the Y-axis, there's execution time (or if you prefer, max. memory load). Then, make up some input size and run your algorithm a few times. Average the result, and place a dot on that graph. For example, if you are running your algorithm on an input of k=5, and it takes 27ms on average, put a dot on x=5, y=27.</p>\n<p>Keep going. Lots of dots. Eventually those dots form a graph. The graph will, near the x=0 point, be <em>all over the place</em>. As if a drunk with a penchant for randomness is tossing darts at a board.</p>\n<p>But, eventually (and when 'eventually' kicks in is impossible to determine, as, again, it depends on so many OS things, don't bother attempting to predict such things), it'll start looking like a recognizable shape. We define these shapes in terms of simplistic formulas. For example, if it eventually (far enough to the right) coalesces into something that looks like what you'd get if you graph <code>y=x^2</code>, then we call that <code>O(x^2)</code>.</p>\n<p>Now, <code>y=5x^2</code> looks exactly like <code>y=x^2</code>. For that matter, <code>y=158*x^2 + 25000x + 2134931239</code>, if you look far enough to the right on that curve, looks exactly like <code>y=x^2</code>. Hence why <code>O(158x^2+20x)</code> is completely missing the point, and therefore incorrect. The point of O is merely to tell you what it'll look like 'far enough to the right'.</p>\n<p>This leaves us with precisely 2 useful performance metrics:</p>\n<ol>\n<li><p><code>O(k)</code> notation. Which you correctly determined here: This algorithm has an <code>O(k)</code> runtime.</p>\n</li>\n<li><p>A timing report. There is <strong>no point</strong> trying to figure this out by looking at the code, you need to <strong>run</strong> the code. Repeatedly, with all sorts of guards around it to ensure that hotspot optimization isn't eliminating your code completely, re-running lots of times to get a good average, and ensuring that we're past the JVM's JIT step. You use <a href=\"https://www.baeldung.com/java-microbenchmark-harness\" rel=\"nofollow noreferrer\">JMH</a> to do this, and note that the result of JMH, naturally, depends on the hardware you run it on, and that's because programs can have wildly different performance characteristics depending on hardware.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":14363749,"reputation":661,"user_id":11346784,"display_name":"Mampenda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1638370066,"creation_date":1638368485,"question_id":70185882,"body_markdown":"Considering this code which calculates a power of a `double x`: \r\n\r\n    public static double F1 (double x, int k){\r\n        if (k==1) { return x; } // O(1)\r\n        return x * F1(x, k-1);  // O(k)\r\n    }\r\n\r\nI have concluded that \r\n- the nr of operations in `if (k==1) { return x; }` :  2 operations, the `if`-statement and the `return`-statement. Thus, `T(1) = 2`\r\n\r\n- the nr of operations in `return x * F1(x, k-1);` : 4 operations, the `return`-statement = 1, the `*`-operator = 1, and `F1(x, k-1);` = 2. So the first part of the equation = 4\r\n- We have one recursive call in `x * F1(x, k-1),` so `x = 1`. \r\n- We reduce the problem by 1 in each recursive call, so `y = k-1`. So the second part of the equation = T(k-1)\r\n\r\n\r\nPutting this all together, we get:\r\n\r\n&gt; 4 + T(k-1), T(1) = 2\r\n\r\nBut how do I proceed from here to find the exact runtime?\r\n\r\nI tried to look at [this][1] question for an explanation, but it focused on how to calculate the Big-O notation, and not the **exact** time complexity. How do I proceed to find the exact time-complexity? \r\n\r\nThe answer here should be: \r\n\r\n    Exact: 4k-2 \r\n    Tilde: 4k \r\n    Big-O: O(k)\r\n\r\nBut I don&#39;t know what they did to arrive at this.\r\n\r\n  [1]: https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm","title":"Calculate exact runtime (time complexity) given recursive functions","body":"<p>Considering this code which calculates a power of a <code>double x</code>:</p>\n<pre><code>public static double F1 (double x, int k){\n    if (k==1) { return x; } // O(1)\n    return x * F1(x, k-1);  // O(k)\n}\n</code></pre>\n<p>I have concluded that</p>\n<ul>\n<li><p>the nr of operations in <code>if (k==1) { return x; }</code> :  2 operations, the <code>if</code>-statement and the <code>return</code>-statement. Thus, <code>T(1) = 2</code></p>\n</li>\n<li><p>the nr of operations in <code>return x * F1(x, k-1);</code> : 4 operations, the <code>return</code>-statement = 1, the <code>*</code>-operator = 1, and <code>F1(x, k-1);</code> = 2. So the first part of the equation = 4</p>\n</li>\n<li><p>We have one recursive call in <code>x * F1(x, k-1),</code> so <code>x = 1</code>.</p>\n</li>\n<li><p>We reduce the problem by 1 in each recursive call, so <code>y = k-1</code>. So the second part of the equation = T(k-1)</p>\n</li>\n</ul>\n<p>Putting this all together, we get:</p>\n<blockquote>\n<p>4 + T(k-1), T(1) = 2</p>\n</blockquote>\n<p>But how do I proceed from here to find the exact runtime?</p>\n<p>I tried to look at <a href=\"https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm\">this</a> question for an explanation, but it focused on how to calculate the Big-O notation, and not the <strong>exact</strong> time complexity. How do I proceed to find the exact time-complexity?</p>\n<p>The answer here should be:</p>\n<pre><code>Exact: 4k-2 \nTilde: 4k \nBig-O: O(k)\n</code></pre>\n<p>But I don't know what they did to arrive at this.</p>\n"},{"tags":["java","swing","layout-manager","grouplayout"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1638343789,"post_id":70180030,"comment_id":124060129,"body_markdown":"*&quot;I am using `GroupLayout` for the main panel.&quot;* Why? And by &#39;I&#39; do you mean you wrote the layout code, or you&#39;re using a GUI designer? The latter is relevant because I&#39;ve only ever encountered one single person who claimed to be able to write `GroupLayout` code by hand. Tips: 1) [Edit] to add a simple drawing or ASCII art of the GUI at the minimum size and another of it when expanded. 2) Resizing images (especially smoothly) takes a significant amount of CPU cycles &amp; they&#39;ll never be as crisp and clear as if they&#39;re designed for the required size. Use images that **are** the right size. ..","body":"<i>&quot;I am using <code>GroupLayout</code> for the main panel.&quot;</i> Why? And by &#39;I&#39; do you mean you wrote the layout code, or you&#39;re using a GUI designer? The latter is relevant because I&#39;ve only ever encountered one single person who claimed to be able to write <code>GroupLayout</code> code by hand. Tips: 1) <a href=\"https://stackoverflow.com/posts/70180030/edit\">Edit</a> to add a simple drawing or ASCII art of the GUI at the minimum size and another of it when expanded. 2) Resizing images (especially smoothly) takes a significant amount of CPU cycles &amp; they&#39;ll never be as crisp and clear as if they&#39;re designed for the required size. Use images that <b>are</b> the right size. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1638343897,"post_id":70180030,"comment_id":124060158,"body_markdown":"3) `JPanel jpmain = new JPanel(){ @Override ..` And when creating a custom component, we should also override the `getPreferredSize` method to give hints to the layout manager.","body":"3) <code>JPanel jpmain = new JPanel(){ @Override ..</code> And when creating a custom component, we should also override the <code>getPreferredSize</code> method to give hints to the layout manager."},{"owner":{"account_id":23450270,"reputation":1,"user_id":17506527,"display_name":"tarun"},"score":0,"creation_date":1638344161,"post_id":70180030,"comment_id":124060230,"body_markdown":"I have written the code by hand, no GUI designer used. I have added the minimized size output image also to question.","body":"I have written the code by hand, no GUI designer used. I have added the minimized size output image also to question."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638344996,"creation_date":1638344996,"answer_id":70180650,"question_id":70180030,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\nThis type of layout is easily done using a `GridLayout`. We just need to add alternate icons and blank labels. Here is who it looks when stretched wider.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t7dFS.png\r\n  [2]: https://i.stack.imgur.com/B2fU8.png","title":"Unrequired border around first card","body":"<p><a href=\"https://i.stack.imgur.com/t7dFS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t7dFS.png\" alt=\"enter image description here\" /></a></p>\n<p>This type of layout is easily done using a <code>GridLayout</code>. We just need to add alternate icons and blank labels. Here is who it looks when stretched wider.</p>\n<p><a href=\"https://i.stack.imgur.com/B2fU8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B2fU8.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23450270,"reputation":1,"user_id":17506527,"display_name":"tarun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638369928,"creation_date":1638340831,"question_id":70180030,"body_markdown":"I am using `GroupLayout` for the main panel. All cards are in their place except the problem in the first one. It&#39;s leaving a border around it which reduces when the output window is minimized. What am I missing here?\r\n\r\nOutput:\r\n\r\n[![https://i.stack.imgur.com/upgRy.png][1]][1]\r\n\r\nOutput when window is minimized:\r\n\r\n[![https://i.stack.imgur.com/RVor7.png][2]][2]\r\n\r\n    public class UI2 extends JFrame {\r\n\r\n    UI2() {\r\n        setTitle(&quot;Dashboard&quot;);\r\n        Container c = getContentPane();\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        JPanel jpmain = new JPanel(){\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                int w = getWidth();\r\n                int h = getHeight();\r\n                Color color1 = new Color(90,63,55);\r\n                Color color2 = new Color(44,119,68);\r\n                GradientPaint gp = new GradientPaint(0, 0, color1, 0, h, color2);\r\n                g2d.setPaint(gp);\r\n                g2d.fillRect(0, 0, w, h);\r\n            }\r\n        };\r\n        GroupLayout layout = new GroupLayout(jpmain);\r\n        jpmain.setLayout(layout);\r\n        try{\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        }catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n        ImageIcon image = new ImageIcon(new File(&quot;path1&quot;).getPath());\r\n        JButton btn1 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\r\n        btn1.setText(&quot;First Menu&quot;);\r\n        btn1.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn1.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n        btn1.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\r\n        image = new ImageIcon(new File(&quot;path2&quot;).getPath());\r\n        JButton btn2 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\r\n        btn2.setText(&quot;Second Menu&quot;);\r\n        btn2.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn2.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n        btn2.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\r\n        image = new ImageIcon(new File(&quot;path3&quot;).getPath());\r\n        JButton btn3 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\r\n        btn3.setText(&quot;Third Menu&quot;);\r\n        btn3.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn3.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n        btn3.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\r\n        image = new ImageIcon(new File(&quot;path4&quot;).getPath());\r\n        JButton btn4 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\r\n        btn4.setText(&quot;Fourth Menu&quot;);\r\n        btn4.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn4.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n        btn4.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\r\n        image = new ImageIcon(new File(&quot;path5&quot;).getPath());\r\n        JButton btn5 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\r\n        btn5.setText(&quot;Fifth Menu&quot;);\r\n        btn5.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        btn5.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n        btn5.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\r\n        JPanel jp = new JPanel();\r\n\r\n        layout.setHorizontalGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(btn1)\r\n                        .addComponent(jp))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn4))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(btn2)\r\n                        .addComponent(jp))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn5))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n                        .addComponent(btn3)\r\n                        .addComponent(jp)));\r\n\r\n        layout.setVerticalGroup(layout.createSequentialGroup()\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\r\n                        .addComponent(btn1)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn2)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn3))\r\n                .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn4)\r\n                        .addComponent(jp)\r\n                        .addComponent(btn5)\r\n                        .addComponent(jp)));\r\n\r\n        layout.setAutoCreateGaps(true);\r\n        layout.setAutoCreateContainerGaps(true);\r\n\r\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        c.add(jpmain);\r\n        pack();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        UI2 frame = new UI2();\r\n        frame.setVisible(true);\r\n     }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/upgRy.png\r\n  [2]: https://i.stack.imgur.com/RVor7.png","title":"Unrequired border around first card","body":"<p>I am using <code>GroupLayout</code> for the main panel. All cards are in their place except the problem in the first one. It's leaving a border around it which reduces when the output window is minimized. What am I missing here?</p>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/upgRy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/upgRy.png\" alt=\"https://i.stack.imgur.com/upgRy.png\" /></a></p>\n<p>Output when window is minimized:</p>\n<p><a href=\"https://i.stack.imgur.com/RVor7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RVor7.png\" alt=\"https://i.stack.imgur.com/RVor7.png\" /></a></p>\n<pre><code>public class UI2 extends JFrame {\n\nUI2() {\n    setTitle(&quot;Dashboard&quot;);\n    Container c = getContentPane();\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    JPanel jpmain = new JPanel(){\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g;\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            int w = getWidth();\n            int h = getHeight();\n            Color color1 = new Color(90,63,55);\n            Color color2 = new Color(44,119,68);\n            GradientPaint gp = new GradientPaint(0, 0, color1, 0, h, color2);\n            g2d.setPaint(gp);\n            g2d.fillRect(0, 0, w, h);\n        }\n    };\n    GroupLayout layout = new GroupLayout(jpmain);\n    jpmain.setLayout(layout);\n    try{\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    }catch (Exception e){\n        System.out.println(e);\n    }\n\n    ImageIcon image = new ImageIcon(new File(&quot;path1&quot;).getPath());\n    JButton btn1 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\n    btn1.setText(&quot;First Menu&quot;);\n    btn1.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn1.setVerticalTextPosition(SwingConstants.BOTTOM);\n    btn1.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n\n    image = new ImageIcon(new File(&quot;path2&quot;).getPath());\n    JButton btn2 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\n    btn2.setText(&quot;Second Menu&quot;);\n    btn2.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn2.setVerticalTextPosition(SwingConstants.BOTTOM);\n    btn2.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n\n    image = new ImageIcon(new File(&quot;path3&quot;).getPath());\n    JButton btn3 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\n    btn3.setText(&quot;Third Menu&quot;);\n    btn3.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn3.setVerticalTextPosition(SwingConstants.BOTTOM);\n    btn3.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n\n    image = new ImageIcon(new File(&quot;path4&quot;).getPath());\n    JButton btn4 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\n    btn4.setText(&quot;Fourth Menu&quot;);\n    btn4.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn4.setVerticalTextPosition(SwingConstants.BOTTOM);\n    btn4.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n\n    image = new ImageIcon(new File(&quot;path5&quot;).getPath());\n    JButton btn5 = new JButton(new ImageIcon(image.getImage().getScaledInstance(150,150, java.awt.Image.SCALE_SMOOTH)));\n    btn5.setText(&quot;Fifth Menu&quot;);\n    btn5.setHorizontalTextPosition(SwingConstants.CENTER);\n    btn5.setVerticalTextPosition(SwingConstants.BOTTOM);\n    btn5.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n\n    JPanel jp = new JPanel();\n\n    layout.setHorizontalGroup(layout.createSequentialGroup()\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(btn1)\n                    .addComponent(jp))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(jp)\n                    .addComponent(btn4))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(btn2)\n                    .addComponent(jp))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(jp)\n                    .addComponent(btn5))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                    .addComponent(btn3)\n                    .addComponent(jp)));\n\n    layout.setVerticalGroup(layout.createSequentialGroup()\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\n                    .addComponent(btn1)\n                    .addComponent(jp)\n                    .addComponent(btn2)\n                    .addComponent(jp)\n                    .addComponent(btn3))\n            .addGroup(layout.createParallelGroup(GroupLayout.Alignment.CENTER)\n                    .addComponent(jp)\n                    .addComponent(btn4)\n                    .addComponent(jp)\n                    .addComponent(btn5)\n                    .addComponent(jp)));\n\n    layout.setAutoCreateGaps(true);\n    layout.setAutoCreateContainerGaps(true);\n\n    setExtendedState(JFrame.MAXIMIZED_BOTH);\n    c.add(jpmain);\n    pack();\n}\n\npublic static void main(String[] args) {\n    UI2 frame = new UI2();\n    frame.setVisible(true);\n }\n}\n</code></pre>\n"},{"tags":["java","android-studio","listview","bluetooth"],"answers":[{"tags":[],"owner":{"account_id":22199847,"reputation":1,"user_id":16440712,"display_name":"yanashay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626258415,"creation_date":1626193847,"answer_id":68366224,"question_id":68357922,"body_markdown":"You trying to get device name equals to &quot;MyArduino/&quot; but what you need is actually device name how start with &quot;MyArduino/&quot;:\r\n\r\njust replace this line in listPairedDevices() on MainActivity: \r\n\r\nfrom : **(equals)**\r\n\r\n       if (device.getName().equals(&quot;MyArduino/&quot;)){\r\nto : **(startsWith)**\r\n\r\n\r\n       if (device.getName().startsWith(&quot;MyArduino/&quot;)){\r\n**editting the answer**\r\n\r\n      if(BluetoothDevice.ACTION_FOUND.equals(action)){\r\n              \r\n        BluetoothDevice device=intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n  //before adding the device: \r\n\r\n         if(device.getName().startsWith(&quot;MyArduino/&quot;)){\r\n                // add the name to the list\r\n                mBTDevices.add(device);\r\n                mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n                mBTArrayAdapter.notifyDataSetChanged();\r\n            }\r\n}","title":"How to filter devices shown in ListView from bluetooth on discover","body":"<p>You trying to get device name equals to &quot;MyArduino/&quot; but what you need is actually device name how start with &quot;MyArduino/&quot;:</p>\n<p>just replace this line in listPairedDevices() on MainActivity:</p>\n<p>from : <strong>(equals)</strong></p>\n<pre><code>   if (device.getName().equals(&quot;MyArduino/&quot;)){\n</code></pre>\n<p>to : <strong>(startsWith)</strong></p>\n<pre><code>   if (device.getName().startsWith(&quot;MyArduino/&quot;)){\n</code></pre>\n<p><strong>editting the answer</strong></p>\n<pre><code>  if(BluetoothDevice.ACTION_FOUND.equals(action)){\n          \n    BluetoothDevice device=intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n</code></pre>\n<p>//before adding the device:</p>\n<pre><code>     if(device.getName().startsWith(&quot;MyArduino/&quot;)){\n            // add the name to the list\n            mBTDevices.add(device);\n            mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n            mBTArrayAdapter.notifyDataSetChanged();\n        }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":22140123,"reputation":11,"user_id":16390294,"display_name":"sdw2302"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638369602,"creation_date":1626342885,"answer_id":68391646,"question_id":68357922,"body_markdown":"So, after hours of trial and error, the problem was solved.\r\n\r\nI&#39;ve noticed this line in the errors on crash: \r\n\r\n```java\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.startsWith(java.lang.String)&#39; on a null object reference\r\n```\r\n\r\nIt means that the function was looking for &quot;MyArduino/&quot; in a null object.\r\nSo i modified this:\r\n\r\n```java\r\nif(device.getName().startsWith(&quot;MyArduino/&quot;)){\r\n    mBTDevices.add(device);\r\n    mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n    mBTArrayAdapter.notifyDataSetChanged();\r\n}\r\n```\r\n\r\nTo this:\r\n\r\n```java\r\nif (device.getName() != null) {\r\n    if (device.getName().contains(&quot;MyAdruino/&quot;)) {\r\n        mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n        mBTArrayAdapter.notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\n\r\nAnd the problem was solved. It just showed the devices with &quot;MyAdruino/&quot; names and only once. Hope this will help anyone that gets the same problem","title":"How to filter devices shown in ListView from bluetooth on discover","body":"<p>So, after hours of trial and error, the problem was solved.</p>\n<p>I've noticed this line in the errors on crash:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.startsWith(java.lang.String)' on a null object reference\n</code></pre>\n<p>It means that the function was looking for &quot;MyArduino/&quot; in a null object.\nSo i modified this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(device.getName().startsWith(&quot;MyArduino/&quot;)){\n    mBTDevices.add(device);\n    mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n    mBTArrayAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>To this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (device.getName() != null) {\n    if (device.getName().contains(&quot;MyAdruino/&quot;)) {\n        mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n        mBTArrayAdapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>And the problem was solved. It just showed the devices with &quot;MyAdruino/&quot; names and only once. Hope this will help anyone that gets the same problem</p>\n"}],"owner":{"account_id":22140123,"reputation":11,"user_id":16390294,"display_name":"sdw2302"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68391646,"answer_count":2,"score":1,"last_activity_date":1638369602,"creation_date":1626159892,"question_id":68357922,"body_markdown":"I&#39;m writing an app and it has a part which, on button click, scans for Bluetooth devices and shows them in a ListView. It works fine, but i need it to show only devices starting with a word in the name, for example: &quot;MyArduino/123&quot;, so I need it to look for the &quot;MyArduino/&quot; part in device names and only show those that have it. \r\n\r\nXML:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;com.test.app.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/title&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:text=&quot;@string/title&quot;\r\n        android:gravity=&quot;center_horizontal&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/title&quot;\r\n        android:text=&quot;@string/bt_menu&quot;\r\n        android:background=&quot;@color/button&quot;\r\n        android:onClick=&quot;showBt&quot;\r\n        android:id=&quot;@+id/to_bt_menu&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/to_vars_menu&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/title&quot;\r\n        android:layout_marginLeft=&quot;10sp&quot;\r\n        android:layout_marginStart=&quot;10sp&quot;\r\n        android:layout_toEndOf=&quot;@id/to_bt_menu&quot;\r\n        android:layout_toRightOf=&quot;@id/to_bt_menu&quot;\r\n        android:onClick=&quot;showVars&quot;\r\n        android:text=&quot;@string/vars_menu&quot;\r\n        android:background=&quot;@color/button&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/status&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/to_bt_menu&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:text=&quot;@string/status&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/bluetooth_status&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/to_bt_menu&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_toEndOf=&quot;@id/status&quot;\r\n        android:layout_toRightOf=&quot;@id/status&quot;\r\n        android:layout_marginLeft=&quot;20sp&quot;\r\n        android:layout_marginStart=&quot;20sp&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:text=&quot;@string/bluetooth_status&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/scan&quot;\r\n        android:layout_width=&quot;150sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/bluetooth_status&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:text=&quot;@string/bluetooth_on&quot;\r\n        android:background=&quot;@color/button&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/off&quot;\r\n        android:layout_width=&quot;150sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/bluetooth_status&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_toRightOf=&quot;@id/scan&quot;\r\n        android:layout_toEndOf=&quot;@id/scan&quot;\r\n        android:background=&quot;@color/button&quot;\r\n        android:text=&quot;@string/bluetooth_off&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/paired_btn&quot;\r\n        android:layout_width=&quot;150sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/off&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:text=&quot;@string/show_paired_devices&quot;\r\n        android:background=&quot;@color/button&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/discover&quot;\r\n        android:layout_width=&quot;150sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/off&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_toEndOf=&quot;@+id/paired_btn&quot;\r\n        android:layout_toRightOf=&quot;@id/paired_btn&quot;\r\n        android:text=&quot;@string/discover_new_devices&quot;\r\n        android:background=&quot;@color/button&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/devices_list_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/discover&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:choiceMode=&quot;singleChoice&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20sp&quot;\r\n        android:onClick=&quot;reqVars&quot;\r\n        android:text=&quot;@string/req_btn&quot;\r\n        android:layout_below=&quot;@id/user_edit&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/req_btn&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:background=&quot;@color/button&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/to_vars_menu&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/user_edit&quot;\r\n        android:hint=&quot;@string/hint_edit&quot;\r\n        tools:ignore=&quot;TextFields&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/send_edit_btn&quot;\r\n        android:layout_margin=&quot;10sp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/user_edit&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_marginStart=&quot;20sp&quot;\r\n        android:layout_marginLeft=&quot;20sp&quot;\r\n        android:layout_marginTop=&quot;20sp&quot;\r\n        android:layout_toEndOf=&quot;@+id/req_btn&quot;\r\n        android:layout_toRightOf=&quot;@+id/req_btn&quot;\r\n        android:onClick=&quot;editVar&quot;\r\n        android:text=&quot;@string/send_edit_btn&quot;\r\n        android:background=&quot;@color/button&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:layout_below=&quot;@id/req_btn&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/vars&quot;\r\n        android:choiceMode=&quot;singleChoice&quot;\r\n        android:listSelector=&quot;@color/list&quot;\r\n        android:layout_width=&quot;300sp&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nMainActivity:\r\n\r\n```java\r\npackage com.test.app;\r\n\r\nimport android.Manifest;\r\nimport android.bluetooth.BluetoothAdapter;\r\nimport android.bluetooth.BluetoothDevice;\r\nimport android.bluetooth.BluetoothSocket;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.content.pm.PackageManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.os.Message;\r\nimport android.os.SystemClock;\r\nimport android.support.v4.app.ActivityCompat;\r\nimport android.support.v4.content.ContextCompat;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\nimport java.util.UUID;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AdapterView.OnItemClickListener {\r\n\r\n    private final String TAG = MainActivity.class.getSimpleName();\r\n\r\n    private static final UUID BT_MODULE_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;); // &quot;random&quot; unique identifier\r\n\r\n    // #defines for identifying shared types between calling functions\r\n    private final static int REQUEST_ENABLE_BT = 1; // used to identify adding bluetooth names\r\n    public final static int MESSAGE_READ = 2; // used in bluetooth handler to identify message update\r\n    private final static int CONNECTING_STATUS = 3; // used in bluetooth handler to identify message status\r\n\r\n    // GUI Components\r\n    private TextView mBluetoothStatus;\r\n    private Button mScanBtn;\r\n    private Button mOffBtn;\r\n    private Button mListPairedDevicesBtn;\r\n    private Button mDiscoverBtn;\r\n    private ListView mDevicesListView;\r\n    private TextView mStatus;\r\n    private EditText mUserEdit;\r\n    private Button mReqBtn;\r\n    private Button mSendEdit;\r\n    private ListView mVars;\r\n    private String mSelecVar;\r\n    private String mMessage;\r\n\r\n    private BluetoothAdapter mBTAdapter;\r\n    private Set&lt;BluetoothDevice&gt; mPairedDevices;\r\n    private ArrayList&lt;BluetoothDevice&gt; mBTDevices;\r\n    private ArrayAdapter&lt;String&gt; mBTArrayAdapter;\r\n\r\n    private Handler mHandler; // Our main handler that will receive callback notifications\r\n    private ConnectedThread mConnectedThread; // bluetooth background worker thread to send and receive data\r\n    private BluetoothSocket mBTSocket = null; // bi-directional client-to-client data path\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            Objects.requireNonNull(getSupportActionBar()).hide();\r\n        } else {\r\n            getSupportActionBar().hide();\r\n        }\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mBluetoothStatus = (TextView)findViewById(R.id.bluetooth_status);\r\n        mScanBtn = (Button)findViewById(R.id.scan);\r\n        mOffBtn = (Button)findViewById(R.id.off);\r\n        mDiscoverBtn = (Button)findViewById(R.id.discover);\r\n        mListPairedDevicesBtn = (Button)findViewById(R.id.paired_btn);\r\n        mStatus = (TextView)findViewById(R.id.status);\r\n        mUserEdit = (EditText)findViewById(R.id.user_edit);\r\n        mReqBtn = (Button)findViewById(R.id.req_btn);\r\n        mSendEdit = (Button)findViewById(R.id.send_edit_btn);\r\n        mVars = (ListView)findViewById(R.id.vars);\r\n\r\n        mBTArrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\r\n        mBTDevices = new ArrayList&lt;&gt;();\r\n        mBTAdapter = BluetoothAdapter.getDefaultAdapter(); // get a handle on the bluetooth radio\r\n\r\n        mDevicesListView = (ListView)findViewById(R.id.devices_list_view);\r\n        assert mDevicesListView != null;\r\n        mDevicesListView.setAdapter(mBTArrayAdapter); // assign model to view\r\n        mDevicesListView.setOnItemClickListener(mDeviceClickListener);\r\n\r\n        mVars.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                mSelecVar = mVars.getItemAtPosition(position).toString().split(&quot;,&quot;)[0];\r\n            }\r\n        });\r\n\r\n        // Ask for location permission if not already allowed\r\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, 1);\r\n\r\n\r\n        mHandler = new Handler(Looper.getMainLooper()){\r\n            @Override\r\n            public void handleMessage(Message msg){\r\n                if(msg.what == MESSAGE_READ){\r\n                    String readMessage = null;\r\n                    try {\r\n                        readMessage = new String((byte[]) msg.obj, &quot;UTF-8&quot;);\r\n                    } catch (UnsupportedEncodingException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    mMessage = readMessage;\r\n                    if (mMessage != null) {\r\n                        for (int i = 0; i &lt; mMessage.length(); i++) {\r\n                            if (mMessage.toCharArray()[i] == &#39;;&#39;) {\r\n                                getVars(mMessage);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if(msg.what == CONNECTING_STATUS){\r\n                    if(msg.arg1 == 1) {\r\n                        mBluetoothStatus.setText(&quot;Connected to Device: &quot; + msg.obj);\r\n                        mConnectedThread.write(&quot;list&quot;);\r\n                    } else\r\n                        mBluetoothStatus.setText(&quot;Connection Failed&quot;);\r\n                }\r\n            }\r\n        };\r\n\r\n        if (mBTArrayAdapter == null) {\r\n            // Device does not support Bluetooth\r\n            mBluetoothStatus.setText(&quot;Status: Bluetooth not found&quot;);\r\n            Toast.makeText(getApplicationContext(),&quot;Bluetooth device not found!&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n        else {\r\n\r\n            mScanBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    bluetoothOn();\r\n                }\r\n            });\r\n\r\n            mOffBtn.setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View v){\r\n                    bluetoothOff();\r\n                }\r\n            });\r\n\r\n            mListPairedDevicesBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v){\r\n                    listPairedDevices();\r\n                }\r\n            });\r\n\r\n            mDiscoverBtn.setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View v){\r\n                    discover();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private void bluetoothOn(){\r\n        if (!mBTAdapter.isEnabled()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\r\n            mBluetoothStatus.setText(&quot;Bluetooth enabled&quot;);\r\n            Toast.makeText(getApplicationContext(),&quot;Bluetooth turned on&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n        else{\r\n            Toast.makeText(getApplicationContext(),&quot;Bluetooth is already on&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    // Enter here after user selects &quot;yes&quot; or &quot;no&quot; to enabling radio\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent Data){\r\n        // Check which request we&#39;re responding to\r\n        if (requestCode == REQUEST_ENABLE_BT) {\r\n            // Make sure the request was successful\r\n            if (resultCode == RESULT_OK) {\r\n                // The user picked a contact.\r\n                // The Intent&#39;s data Uri identifies which contact was selected.\r\n                mBluetoothStatus.setText(&quot;Enabled&quot;);\r\n            }\r\n            else\r\n                mBluetoothStatus.setText(&quot;Disabled&quot;);\r\n        }\r\n    }\r\n\r\n    private void bluetoothOff(){\r\n        mBTAdapter.disable(); // turn off\r\n        mBluetoothStatus.setText(&quot;Bluetooth disabled&quot;);\r\n        Toast.makeText(getApplicationContext(),&quot;Bluetooth turned Off&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void discover(){\r\n        // Check if the device is already discovering\r\n        if(mBTAdapter.isDiscovering()){\r\n            mBTAdapter.cancelDiscovery();\r\n            Toast.makeText(getApplicationContext(),&quot;Discovery stopped&quot;,Toast.LENGTH_SHORT).show();\r\n        }\r\n        else{\r\n            if(mBTAdapter.isEnabled()) {\r\n                mBTArrayAdapter.clear(); // clear items\r\n                mBTAdapter.startDiscovery();\r\n                Toast.makeText(getApplicationContext(), &quot;Discovery started&quot;, Toast.LENGTH_SHORT).show();\r\n                registerReceiver(blReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\r\n            }\r\n            else{\r\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth not on&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    final BroadcastReceiver blReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if(BluetoothDevice.ACTION_FOUND.equals(action)){\r\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                // add the name to the list\r\n                mBTDevices.add(device);\r\n                mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n                mBTArrayAdapter.notifyDataSetChanged();\r\n            }\r\n            if (action.equals(BluetoothDevice.ACTION_BOND_STATE_CHANGED)){\r\n                BluetoothDevice mDevice = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n                if (mDevice.getBondState() == BluetoothDevice.BOND_BONDED){\r\n                    Log.d(TAG, &quot;BroadcastReceiver: BOND_BONDED&quot;);\r\n                }\r\n                if (mDevice.getBondState() == BluetoothDevice.BOND_BONDING){\r\n                    Log.d(TAG, &quot;BroadcastReceiver: BOND_BONDING&quot;);\r\n                }\r\n                if (mDevice.getBondState() == BluetoothDevice.BOND_NONE){\r\n                    Log.d(TAG, &quot;BroadcastReceiver: BOND_NONE&quot;);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    private void listPairedDevices(){\r\n        mBTArrayAdapter.clear();\r\n        mPairedDevices = mBTAdapter.getBondedDevices();\r\n        if(mBTAdapter.isEnabled()) {\r\n            // put it&#39;s one to the adapter\r\n            for (BluetoothDevice device : mPairedDevices)\r\n                if (device.getName().equals(&quot;MyArduino/&quot;)){\r\n                    mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\r\n                }\r\n            Toast.makeText(getApplicationContext(), &quot;Show Paired Devices&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else\r\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth not on&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private AdapterView.OnItemClickListener mDeviceClickListener = new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n            if(!mBTAdapter.isEnabled()) {\r\n                Toast.makeText(getBaseContext(), &quot;Bluetooth not on&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            mBluetoothStatus.setText(&quot;Connecting...&quot;);\r\n            // Get the device MAC address, which is the last 17 chars in the View\r\n            String info = ((TextView) view).getText().toString();\r\n            final String address = info.substring(info.length() - 17);\r\n            final String name = info.substring(0,info.length() - 17);\r\n\r\n            // Spawn a new thread to avoid blocking the GUI one\r\n            new Thread()\r\n            {\r\n                @Override\r\n                public void run() {\r\n                    boolean fail = false;\r\n\r\n                    BluetoothDevice device = mBTAdapter.getRemoteDevice(address);\r\n\r\n                    try {\r\n                        mBTSocket = createBluetoothSocket(device);\r\n                    } catch (IOException e) {\r\n                        fail = true;\r\n                        Toast.makeText(getBaseContext(), &quot;Socket creation failed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    // Establish the Bluetooth socket connection.\r\n                    try {\r\n                        mBTSocket.connect();\r\n                    } catch (IOException e) {\r\n                        try {\r\n                            fail = true;\r\n                            mBTSocket.close();\r\n                            mHandler.obtainMessage(CONNECTING_STATUS, -1, -1)\r\n                                    .sendToTarget();\r\n                        } catch (IOException e2) {\r\n                            //insert code to deal with this\r\n                            Toast.makeText(getBaseContext(), &quot;Socket creation failed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                    if(!fail) {\r\n                        mConnectedThread = new ConnectedThread(mBTSocket, mHandler);\r\n                        mConnectedThread.start();\r\n\r\n                        mHandler.obtainMessage(CONNECTING_STATUS, 1, -1, name)\r\n                                .sendToTarget();\r\n                    }\r\n                }\r\n            }.start();\r\n        }\r\n    };\r\n\r\n    private BluetoothSocket createBluetoothSocket(BluetoothDevice device) throws IOException {\r\n        try {\r\n            final Method m = device.getClass().getMethod(&quot;createInsecureRfcommSocketToServiceRecord&quot;, UUID.class);\r\n            return (BluetoothSocket) m.invoke(device, BT_MODULE_UUID);\r\n        } catch (Exception e) {\r\n            Log.e(TAG, &quot;Could not create Insecure RFComm Connection&quot;,e);\r\n        }\r\n        return  device.createRfcommSocketToServiceRecord(BT_MODULE_UUID);\r\n    }\r\n\r\n    public void showBt(View view) {\r\n        mBluetoothStatus.setVisibility(View.VISIBLE);\r\n        mScanBtn.setVisibility(View.VISIBLE);\r\n        mOffBtn.setVisibility(View.VISIBLE);\r\n        mDiscoverBtn.setVisibility(View.VISIBLE);\r\n        mListPairedDevicesBtn.setVisibility(View.VISIBLE);\r\n        mDevicesListView.setVisibility(View.VISIBLE);\r\n        mStatus.setVisibility(View.VISIBLE);\r\n        mVars.setVisibility(View.GONE);\r\n        mUserEdit.setVisibility(View.GONE);\r\n        mSendEdit.setVisibility(View.GONE);\r\n        mReqBtn.setVisibility(View.GONE);\r\n    }\r\n\r\n    public void showVars(View view) {\r\n        mBluetoothStatus.setVisibility(View.GONE);\r\n        mScanBtn.setVisibility(View.GONE);\r\n        mOffBtn.setVisibility(View.GONE);\r\n        mDiscoverBtn.setVisibility(View.GONE);\r\n        mListPairedDevicesBtn.setVisibility(View.GONE);\r\n        mDevicesListView.setVisibility(View.GONE);\r\n        mStatus.setVisibility(View.GONE);\r\n        mVars.setVisibility(View.VISIBLE);\r\n        mUserEdit.setVisibility(View.VISIBLE);\r\n        mSendEdit.setVisibility(View.VISIBLE);\r\n        mReqBtn.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    public void reqVars(View view) {\r\n        if (mConnectedThread != null){\r\n            mConnectedThread.write(&quot;list&quot;);\r\n        }\r\n    }\r\n\r\n    public void getVars(String string) {\r\n        String[] str = string.split(&quot;;&quot;);\r\n        List&lt;String&gt; al;\r\n        al = Arrays.asList(str);\r\n        ArrayAdapter&lt;String&gt; mVarsArrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, al);\r\n        mVars.setAdapter(mVarsArrayAdapter);\r\n    }\r\n\r\n    public void editVar(View view) {\r\n        if (mConnectedThread != null) {\r\n            mConnectedThread.write(&quot;edit &quot; + mSelecVar + &quot; &quot; + mUserEdit.getText());\r\n            mUserEdit.setText(&quot;&quot;);\r\n            SystemClock.sleep(2000);\r\n            mConnectedThread.write(&quot;list&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n        mBTAdapter.cancelDiscovery();\r\n\r\n        Log.d(TAG, &quot;onItemClick: You clicked on a device.&quot;);\r\n        String deviceName = mBTDevices.get(i).getName();\r\n        String deviceAddress = mBTDevices.get(i).getAddress();\r\n\r\n        Log.d(TAG, &quot;onItemClick: deviceName = &quot; + deviceName);\r\n        Log.d(TAG, &quot;onItemClick: deviceAddress = &quot; + deviceAddress);\r\n\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN_MR2){\r\n            Log.d(TAG, &quot;Trying to pair with &quot; + deviceName);\r\n            mBTDevices.get(i).createBond();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nConnectedThread:\r\n\r\n```java\r\npackage com.test.app;\r\n\r\nimport android.bluetooth.BluetoothSocket;\r\nimport android.os.Handler;\r\nimport android.os.SystemClock;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\npublic class ConnectedThread extends Thread {\r\n    private final BluetoothSocket mmSocket;\r\n    private final InputStream mmInStream;\r\n    private final OutputStream mmOutStream;\r\n    private final Handler mHandler;\r\n\r\n    public ConnectedThread(BluetoothSocket socket, Handler handler) {\r\n        mmSocket = socket;\r\n        mHandler = handler;\r\n        InputStream tmpIn = null;\r\n        OutputStream tmpOut = null;\r\n\r\n        // Get the input and output streams, using temp objects because\r\n        // member streams are final\r\n        try {\r\n            tmpIn = socket.getInputStream();\r\n            tmpOut = socket.getOutputStream();\r\n        } catch (IOException e) { }\r\n\r\n        mmInStream = tmpIn;\r\n        mmOutStream = tmpOut;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        byte[] buffer = new byte[1024];  // buffer store for the stream\r\n        int bytes; // bytes returned from read()\r\n        // Keep listening to the InputStream until an exception occurs\r\n        while (true) {\r\n            try {\r\n                // Read from the InputStream\r\n                bytes = mmInStream.available();\r\n                if(bytes != 0) {\r\n                    buffer = new byte[1024];\r\n                    SystemClock.sleep(100); //pause and wait for rest of data. Adjust this depending on your sending speed.\r\n                    bytes = mmInStream.available(); // how many bytes are ready to be read?\r\n                    bytes = mmInStream.read(buffer, 0, bytes); // record how many bytes we actually read\r\n                    mHandler.obtainMessage(MainActivity.MESSAGE_READ, bytes, -1, buffer)\r\n                            .sendToTarget(); // Send the obtained bytes to the UI activity\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    /* Call this from the main activity to send data to the remote device */\r\n    public void write(String input) {\r\n        byte[] bytes = input.getBytes();           //converts entered String into bytes\r\n        try {\r\n            mmOutStream.write(bytes);\r\n        } catch (IOException e) { }\r\n    }\r\n\r\n    /* Call this from the main activity to shutdown the connection */\r\n    public void cancel() {\r\n        try {\r\n            mmSocket.close();\r\n        } catch (IOException e) { }\r\n    }\r\n}\r\n```\r\n\r\nRight now, the ListView shows all the devices that the Bluetooth founds, and sometimes, even shows them 2 or 3 times in the same list. As you can see in the MainActivity, i tried to make some sort of a filter in line 272 but it just does not work. Thanks","title":"How to filter devices shown in ListView from bluetooth on discover","body":"<p>I'm writing an app and it has a part which, on button click, scans for Bluetooth devices and shows them in a ListView. It works fine, but i need it to show only devices starting with a word in the name, for example: &quot;MyArduino/123&quot;, so I need it to look for the &quot;MyArduino/&quot; part in device names and only show those that have it.</p>\n<p>XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;com.test.app.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/title&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:text=&quot;@string/title&quot;\n        android:gravity=&quot;center_horizontal&quot; /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/title&quot;\n        android:text=&quot;@string/bt_menu&quot;\n        android:background=&quot;@color/button&quot;\n        android:onClick=&quot;showBt&quot;\n        android:id=&quot;@+id/to_bt_menu&quot;\n        android:layout_margin=&quot;10sp&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/to_vars_menu&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/title&quot;\n        android:layout_marginLeft=&quot;10sp&quot;\n        android:layout_marginStart=&quot;10sp&quot;\n        android:layout_toEndOf=&quot;@id/to_bt_menu&quot;\n        android:layout_toRightOf=&quot;@id/to_bt_menu&quot;\n        android:onClick=&quot;showVars&quot;\n        android:text=&quot;@string/vars_menu&quot;\n        android:background=&quot;@color/button&quot;\n        android:layout_margin=&quot;10sp&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/status&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/to_bt_menu&quot;\n        android:visibility=&quot;gone&quot;\n        android:ellipsize=&quot;end&quot;\n        android:maxLines=&quot;1&quot;\n        android:text=&quot;@string/status&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/bluetooth_status&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/to_bt_menu&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_toEndOf=&quot;@id/status&quot;\n        android:layout_toRightOf=&quot;@id/status&quot;\n        android:layout_marginLeft=&quot;20sp&quot;\n        android:layout_marginStart=&quot;20sp&quot;\n        android:ellipsize=&quot;end&quot;\n        android:maxLines=&quot;1&quot;\n        android:text=&quot;@string/bluetooth_status&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/scan&quot;\n        android:layout_width=&quot;150sp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/bluetooth_status&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:visibility=&quot;gone&quot;\n        android:text=&quot;@string/bluetooth_on&quot;\n        android:background=&quot;@color/button&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/off&quot;\n        android:layout_width=&quot;150sp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/bluetooth_status&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_toRightOf=&quot;@id/scan&quot;\n        android:layout_toEndOf=&quot;@id/scan&quot;\n        android:background=&quot;@color/button&quot;\n        android:text=&quot;@string/bluetooth_off&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/paired_btn&quot;\n        android:layout_width=&quot;150sp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/off&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:visibility=&quot;gone&quot;\n        android:text=&quot;@string/show_paired_devices&quot;\n        android:background=&quot;@color/button&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/discover&quot;\n        android:layout_width=&quot;150sp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/off&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_toEndOf=&quot;@+id/paired_btn&quot;\n        android:layout_toRightOf=&quot;@id/paired_btn&quot;\n        android:text=&quot;@string/discover_new_devices&quot;\n        android:background=&quot;@color/button&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/devices_list_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/discover&quot;\n        android:visibility=&quot;gone&quot;\n        android:choiceMode=&quot;singleChoice&quot; /&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20sp&quot;\n        android:onClick=&quot;reqVars&quot;\n        android:text=&quot;@string/req_btn&quot;\n        android:layout_below=&quot;@id/user_edit&quot;\n        android:visibility=&quot;gone&quot;\n        android:id=&quot;@+id/req_btn&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:background=&quot;@color/button&quot; /&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/to_vars_menu&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:visibility=&quot;gone&quot;\n        android:id=&quot;@+id/user_edit&quot;\n        android:hint=&quot;@string/hint_edit&quot;\n        tools:ignore=&quot;TextFields&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/send_edit_btn&quot;\n        android:layout_margin=&quot;10sp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/user_edit&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_marginStart=&quot;20sp&quot;\n        android:layout_marginLeft=&quot;20sp&quot;\n        android:layout_marginTop=&quot;20sp&quot;\n        android:layout_toEndOf=&quot;@+id/req_btn&quot;\n        android:layout_toRightOf=&quot;@+id/req_btn&quot;\n        android:onClick=&quot;editVar&quot;\n        android:text=&quot;@string/send_edit_btn&quot;\n        android:background=&quot;@color/button&quot; /&gt;\n\n    &lt;ListView\n        android:layout_below=&quot;@id/req_btn&quot;\n        android:visibility=&quot;gone&quot;\n        android:id=&quot;@+id/vars&quot;\n        android:choiceMode=&quot;singleChoice&quot;\n        android:listSelector=&quot;@color/list&quot;\n        android:layout_width=&quot;300sp&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>MainActivity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.app;\n\nimport android.Manifest;\nimport android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothSocket;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.content.pm.PackageManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.os.Message;\nimport android.os.SystemClock;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Set;\nimport java.util.UUID;\n\npublic class MainActivity extends AppCompatActivity implements AdapterView.OnItemClickListener {\n\n    private final String TAG = MainActivity.class.getSimpleName();\n\n    private static final UUID BT_MODULE_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;); // &quot;random&quot; unique identifier\n\n    // #defines for identifying shared types between calling functions\n    private final static int REQUEST_ENABLE_BT = 1; // used to identify adding bluetooth names\n    public final static int MESSAGE_READ = 2; // used in bluetooth handler to identify message update\n    private final static int CONNECTING_STATUS = 3; // used in bluetooth handler to identify message status\n\n    // GUI Components\n    private TextView mBluetoothStatus;\n    private Button mScanBtn;\n    private Button mOffBtn;\n    private Button mListPairedDevicesBtn;\n    private Button mDiscoverBtn;\n    private ListView mDevicesListView;\n    private TextView mStatus;\n    private EditText mUserEdit;\n    private Button mReqBtn;\n    private Button mSendEdit;\n    private ListView mVars;\n    private String mSelecVar;\n    private String mMessage;\n\n    private BluetoothAdapter mBTAdapter;\n    private Set&lt;BluetoothDevice&gt; mPairedDevices;\n    private ArrayList&lt;BluetoothDevice&gt; mBTDevices;\n    private ArrayAdapter&lt;String&gt; mBTArrayAdapter;\n\n    private Handler mHandler; // Our main handler that will receive callback notifications\n    private ConnectedThread mConnectedThread; // bluetooth background worker thread to send and receive data\n    private BluetoothSocket mBTSocket = null; // bi-directional client-to-client data path\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n            Objects.requireNonNull(getSupportActionBar()).hide();\n        } else {\n            getSupportActionBar().hide();\n        }\n        setContentView(R.layout.activity_main);\n\n        mBluetoothStatus = (TextView)findViewById(R.id.bluetooth_status);\n        mScanBtn = (Button)findViewById(R.id.scan);\n        mOffBtn = (Button)findViewById(R.id.off);\n        mDiscoverBtn = (Button)findViewById(R.id.discover);\n        mListPairedDevicesBtn = (Button)findViewById(R.id.paired_btn);\n        mStatus = (TextView)findViewById(R.id.status);\n        mUserEdit = (EditText)findViewById(R.id.user_edit);\n        mReqBtn = (Button)findViewById(R.id.req_btn);\n        mSendEdit = (Button)findViewById(R.id.send_edit_btn);\n        mVars = (ListView)findViewById(R.id.vars);\n\n        mBTArrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1);\n        mBTDevices = new ArrayList&lt;&gt;();\n        mBTAdapter = BluetoothAdapter.getDefaultAdapter(); // get a handle on the bluetooth radio\n\n        mDevicesListView = (ListView)findViewById(R.id.devices_list_view);\n        assert mDevicesListView != null;\n        mDevicesListView.setAdapter(mBTArrayAdapter); // assign model to view\n        mDevicesListView.setOnItemClickListener(mDeviceClickListener);\n\n        mVars.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                mSelecVar = mVars.getItemAtPosition(position).toString().split(&quot;,&quot;)[0];\n            }\n        });\n\n        // Ask for location permission if not already allowed\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_COARSE_LOCATION}, 1);\n\n\n        mHandler = new Handler(Looper.getMainLooper()){\n            @Override\n            public void handleMessage(Message msg){\n                if(msg.what == MESSAGE_READ){\n                    String readMessage = null;\n                    try {\n                        readMessage = new String((byte[]) msg.obj, &quot;UTF-8&quot;);\n                    } catch (UnsupportedEncodingException e) {\n                        e.printStackTrace();\n                    }\n                    mMessage = readMessage;\n                    if (mMessage != null) {\n                        for (int i = 0; i &lt; mMessage.length(); i++) {\n                            if (mMessage.toCharArray()[i] == ';') {\n                                getVars(mMessage);\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if(msg.what == CONNECTING_STATUS){\n                    if(msg.arg1 == 1) {\n                        mBluetoothStatus.setText(&quot;Connected to Device: &quot; + msg.obj);\n                        mConnectedThread.write(&quot;list&quot;);\n                    } else\n                        mBluetoothStatus.setText(&quot;Connection Failed&quot;);\n                }\n            }\n        };\n\n        if (mBTArrayAdapter == null) {\n            // Device does not support Bluetooth\n            mBluetoothStatus.setText(&quot;Status: Bluetooth not found&quot;);\n            Toast.makeText(getApplicationContext(),&quot;Bluetooth device not found!&quot;,Toast.LENGTH_SHORT).show();\n        }\n        else {\n\n            mScanBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    bluetoothOn();\n                }\n            });\n\n            mOffBtn.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View v){\n                    bluetoothOff();\n                }\n            });\n\n            mListPairedDevicesBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v){\n                    listPairedDevices();\n                }\n            });\n\n            mDiscoverBtn.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View v){\n                    discover();\n                }\n            });\n        }\n    }\n\n    private void bluetoothOn(){\n        if (!mBTAdapter.isEnabled()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(enableBtIntent, REQUEST_ENABLE_BT);\n            mBluetoothStatus.setText(&quot;Bluetooth enabled&quot;);\n            Toast.makeText(getApplicationContext(),&quot;Bluetooth turned on&quot;,Toast.LENGTH_SHORT).show();\n\n        }\n        else{\n            Toast.makeText(getApplicationContext(),&quot;Bluetooth is already on&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    // Enter here after user selects &quot;yes&quot; or &quot;no&quot; to enabling radio\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent Data){\n        // Check which request we're responding to\n        if (requestCode == REQUEST_ENABLE_BT) {\n            // Make sure the request was successful\n            if (resultCode == RESULT_OK) {\n                // The user picked a contact.\n                // The Intent's data Uri identifies which contact was selected.\n                mBluetoothStatus.setText(&quot;Enabled&quot;);\n            }\n            else\n                mBluetoothStatus.setText(&quot;Disabled&quot;);\n        }\n    }\n\n    private void bluetoothOff(){\n        mBTAdapter.disable(); // turn off\n        mBluetoothStatus.setText(&quot;Bluetooth disabled&quot;);\n        Toast.makeText(getApplicationContext(),&quot;Bluetooth turned Off&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    private void discover(){\n        // Check if the device is already discovering\n        if(mBTAdapter.isDiscovering()){\n            mBTAdapter.cancelDiscovery();\n            Toast.makeText(getApplicationContext(),&quot;Discovery stopped&quot;,Toast.LENGTH_SHORT).show();\n        }\n        else{\n            if(mBTAdapter.isEnabled()) {\n                mBTArrayAdapter.clear(); // clear items\n                mBTAdapter.startDiscovery();\n                Toast.makeText(getApplicationContext(), &quot;Discovery started&quot;, Toast.LENGTH_SHORT).show();\n                registerReceiver(blReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));\n            }\n            else{\n                Toast.makeText(getApplicationContext(), &quot;Bluetooth not on&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    final BroadcastReceiver blReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if(BluetoothDevice.ACTION_FOUND.equals(action)){\n                BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                // add the name to the list\n                mBTDevices.add(device);\n                mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n                mBTArrayAdapter.notifyDataSetChanged();\n            }\n            if (action.equals(BluetoothDevice.ACTION_BOND_STATE_CHANGED)){\n                BluetoothDevice mDevice = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\n                if (mDevice.getBondState() == BluetoothDevice.BOND_BONDED){\n                    Log.d(TAG, &quot;BroadcastReceiver: BOND_BONDED&quot;);\n                }\n                if (mDevice.getBondState() == BluetoothDevice.BOND_BONDING){\n                    Log.d(TAG, &quot;BroadcastReceiver: BOND_BONDING&quot;);\n                }\n                if (mDevice.getBondState() == BluetoothDevice.BOND_NONE){\n                    Log.d(TAG, &quot;BroadcastReceiver: BOND_NONE&quot;);\n                }\n            }\n        }\n    };\n\n    private void listPairedDevices(){\n        mBTArrayAdapter.clear();\n        mPairedDevices = mBTAdapter.getBondedDevices();\n        if(mBTAdapter.isEnabled()) {\n            // put it's one to the adapter\n            for (BluetoothDevice device : mPairedDevices)\n                if (device.getName().equals(&quot;MyArduino/&quot;)){\n                    mBTArrayAdapter.add(device.getName() + &quot;\\n&quot; + device.getAddress());\n                }\n            Toast.makeText(getApplicationContext(), &quot;Show Paired Devices&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else\n            Toast.makeText(getApplicationContext(), &quot;Bluetooth not on&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    private AdapterView.OnItemClickListener mDeviceClickListener = new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            if(!mBTAdapter.isEnabled()) {\n                Toast.makeText(getBaseContext(), &quot;Bluetooth not on&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            mBluetoothStatus.setText(&quot;Connecting...&quot;);\n            // Get the device MAC address, which is the last 17 chars in the View\n            String info = ((TextView) view).getText().toString();\n            final String address = info.substring(info.length() - 17);\n            final String name = info.substring(0,info.length() - 17);\n\n            // Spawn a new thread to avoid blocking the GUI one\n            new Thread()\n            {\n                @Override\n                public void run() {\n                    boolean fail = false;\n\n                    BluetoothDevice device = mBTAdapter.getRemoteDevice(address);\n\n                    try {\n                        mBTSocket = createBluetoothSocket(device);\n                    } catch (IOException e) {\n                        fail = true;\n                        Toast.makeText(getBaseContext(), &quot;Socket creation failed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                    // Establish the Bluetooth socket connection.\n                    try {\n                        mBTSocket.connect();\n                    } catch (IOException e) {\n                        try {\n                            fail = true;\n                            mBTSocket.close();\n                            mHandler.obtainMessage(CONNECTING_STATUS, -1, -1)\n                                    .sendToTarget();\n                        } catch (IOException e2) {\n                            //insert code to deal with this\n                            Toast.makeText(getBaseContext(), &quot;Socket creation failed&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                    if(!fail) {\n                        mConnectedThread = new ConnectedThread(mBTSocket, mHandler);\n                        mConnectedThread.start();\n\n                        mHandler.obtainMessage(CONNECTING_STATUS, 1, -1, name)\n                                .sendToTarget();\n                    }\n                }\n            }.start();\n        }\n    };\n\n    private BluetoothSocket createBluetoothSocket(BluetoothDevice device) throws IOException {\n        try {\n            final Method m = device.getClass().getMethod(&quot;createInsecureRfcommSocketToServiceRecord&quot;, UUID.class);\n            return (BluetoothSocket) m.invoke(device, BT_MODULE_UUID);\n        } catch (Exception e) {\n            Log.e(TAG, &quot;Could not create Insecure RFComm Connection&quot;,e);\n        }\n        return  device.createRfcommSocketToServiceRecord(BT_MODULE_UUID);\n    }\n\n    public void showBt(View view) {\n        mBluetoothStatus.setVisibility(View.VISIBLE);\n        mScanBtn.setVisibility(View.VISIBLE);\n        mOffBtn.setVisibility(View.VISIBLE);\n        mDiscoverBtn.setVisibility(View.VISIBLE);\n        mListPairedDevicesBtn.setVisibility(View.VISIBLE);\n        mDevicesListView.setVisibility(View.VISIBLE);\n        mStatus.setVisibility(View.VISIBLE);\n        mVars.setVisibility(View.GONE);\n        mUserEdit.setVisibility(View.GONE);\n        mSendEdit.setVisibility(View.GONE);\n        mReqBtn.setVisibility(View.GONE);\n    }\n\n    public void showVars(View view) {\n        mBluetoothStatus.setVisibility(View.GONE);\n        mScanBtn.setVisibility(View.GONE);\n        mOffBtn.setVisibility(View.GONE);\n        mDiscoverBtn.setVisibility(View.GONE);\n        mListPairedDevicesBtn.setVisibility(View.GONE);\n        mDevicesListView.setVisibility(View.GONE);\n        mStatus.setVisibility(View.GONE);\n        mVars.setVisibility(View.VISIBLE);\n        mUserEdit.setVisibility(View.VISIBLE);\n        mSendEdit.setVisibility(View.VISIBLE);\n        mReqBtn.setVisibility(View.VISIBLE);\n    }\n\n    public void reqVars(View view) {\n        if (mConnectedThread != null){\n            mConnectedThread.write(&quot;list&quot;);\n        }\n    }\n\n    public void getVars(String string) {\n        String[] str = string.split(&quot;;&quot;);\n        List&lt;String&gt; al;\n        al = Arrays.asList(str);\n        ArrayAdapter&lt;String&gt; mVarsArrayAdapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, al);\n        mVars.setAdapter(mVarsArrayAdapter);\n    }\n\n    public void editVar(View view) {\n        if (mConnectedThread != null) {\n            mConnectedThread.write(&quot;edit &quot; + mSelecVar + &quot; &quot; + mUserEdit.getText());\n            mUserEdit.setText(&quot;&quot;);\n            SystemClock.sleep(2000);\n            mConnectedThread.write(&quot;list&quot;);\n        }\n    }\n\n    @Override\n    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        mBTAdapter.cancelDiscovery();\n\n        Log.d(TAG, &quot;onItemClick: You clicked on a device.&quot;);\n        String deviceName = mBTDevices.get(i).getName();\n        String deviceAddress = mBTDevices.get(i).getAddress();\n\n        Log.d(TAG, &quot;onItemClick: deviceName = &quot; + deviceName);\n        Log.d(TAG, &quot;onItemClick: deviceAddress = &quot; + deviceAddress);\n\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.JELLY_BEAN_MR2){\n            Log.d(TAG, &quot;Trying to pair with &quot; + deviceName);\n            mBTDevices.get(i).createBond();\n        }\n    }\n}\n\n</code></pre>\n<p>ConnectedThread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.app;\n\nimport android.bluetooth.BluetoothSocket;\nimport android.os.Handler;\nimport android.os.SystemClock;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class ConnectedThread extends Thread {\n    private final BluetoothSocket mmSocket;\n    private final InputStream mmInStream;\n    private final OutputStream mmOutStream;\n    private final Handler mHandler;\n\n    public ConnectedThread(BluetoothSocket socket, Handler handler) {\n        mmSocket = socket;\n        mHandler = handler;\n        InputStream tmpIn = null;\n        OutputStream tmpOut = null;\n\n        // Get the input and output streams, using temp objects because\n        // member streams are final\n        try {\n            tmpIn = socket.getInputStream();\n            tmpOut = socket.getOutputStream();\n        } catch (IOException e) { }\n\n        mmInStream = tmpIn;\n        mmOutStream = tmpOut;\n    }\n\n    @Override\n    public void run() {\n        byte[] buffer = new byte[1024];  // buffer store for the stream\n        int bytes; // bytes returned from read()\n        // Keep listening to the InputStream until an exception occurs\n        while (true) {\n            try {\n                // Read from the InputStream\n                bytes = mmInStream.available();\n                if(bytes != 0) {\n                    buffer = new byte[1024];\n                    SystemClock.sleep(100); //pause and wait for rest of data. Adjust this depending on your sending speed.\n                    bytes = mmInStream.available(); // how many bytes are ready to be read?\n                    bytes = mmInStream.read(buffer, 0, bytes); // record how many bytes we actually read\n                    mHandler.obtainMessage(MainActivity.MESSAGE_READ, bytes, -1, buffer)\n                            .sendToTarget(); // Send the obtained bytes to the UI activity\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n\n                break;\n            }\n        }\n    }\n\n    /* Call this from the main activity to send data to the remote device */\n    public void write(String input) {\n        byte[] bytes = input.getBytes();           //converts entered String into bytes\n        try {\n            mmOutStream.write(bytes);\n        } catch (IOException e) { }\n    }\n\n    /* Call this from the main activity to shutdown the connection */\n    public void cancel() {\n        try {\n            mmSocket.close();\n        } catch (IOException e) { }\n    }\n}\n</code></pre>\n<p>Right now, the ListView shows all the devices that the Bluetooth founds, and sometimes, even shows them 2 or 3 times in the same list. As you can see in the MainActivity, i tried to make some sort of a filter in line 272 but it just does not work. Thanks</p>\n"},{"tags":["java","arrays","switch-statement"],"comments":[{"owner":{"account_id":223457,"reputation":4755,"user_id":482682,"accept_rate":95,"display_name":"Lrrr"},"score":0,"creation_date":1433594139,"post_id":30682723,"comment_id":49425987,"body_markdown":"I this [this](http://stackoverflow.com/questions/10873590/in-java-using-switch-statement-with-a-range-of-value-in-each-case/19062152#19062152) answer is clever","body":"I this <a href=\"http://stackoverflow.com/questions/10873590/in-java-using-switch-statement-with-a-range-of-value-in-each-case/19062152#19062152\">this</a> answer is clever"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433593220,"creation_date":1433593220,"answer_id":30682768,"question_id":30682723,"body_markdown":"`switch` is not the same as `if (...) { ... } else { ... }`. You can only use `==` within a `case`. You would have to do something like this:\r\n\r\n    int length = array.length;\r\n    switch (length) {\r\n        case 0:\r\n        case 1:\r\n        case 2:\r\n        [...]\r\n        case 11:\r\n            // your code here\r\n            break;\r\n        //other cases here\r\n    }\r\n\r\nNotice the missing `break`-statements, they are quite important.\r\nI would recommend [this tutorial][1] for more details.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html","title":"How to use switch in array comparison?","body":"<p><code>switch</code> is not the same as <code>if (...) { ... } else { ... }</code>. You can only use <code>==</code> within a <code>case</code>. You would have to do something like this:</p>\n\n<pre><code>int length = array.length;\nswitch (length) {\n    case 0:\n    case 1:\n    case 2:\n    [...]\n    case 11:\n        // your code here\n        break;\n    //other cases here\n}\n</code></pre>\n\n<p>Notice the missing <code>break</code>-statements, they are quite important.\nI would recommend <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/switch.html\" rel=\"nofollow\">this tutorial</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1433593261,"creation_date":1433593261,"answer_id":30682779,"question_id":30682723,"body_markdown":"You can&#39;t. `switch` can only test exact values.\r\n\r\nYou could do:\r\n\r\n    switch(array.length) {\r\n    case 0: case 1: case 2: case 3:\r\n    case 4: case 5: case 6: case 7:\r\n    case 8: case 9: case 10: case 11:\r\n        // do stuff\r\n        break;\r\n    default:\r\n        break;\r\n    }\r\n\r\nBut *why* do you want to do this? What makes you think it&#39;s faster?","title":"How to use switch in array comparison?","body":"<p>You can't. <code>switch</code> can only test exact values.</p>\n\n<p>You could do:</p>\n\n<pre><code>switch(array.length) {\ncase 0: case 1: case 2: case 3:\ncase 4: case 5: case 6: case 7:\ncase 8: case 9: case 10: case 11:\n    // do stuff\n    break;\ndefault:\n    break;\n}\n</code></pre>\n\n<p>But <em>why</em> do you want to do this? What makes you think it's faster?</p>\n"},{"tags":[],"owner":{"account_id":3207967,"reputation":1997,"user_id":2708608,"accept_rate":23,"display_name":"Amit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433593346,"creation_date":1433593346,"answer_id":30682790,"question_id":30682723,"body_markdown":"You can&#39;t do it(as per your example) using `switch`. Since the values of `case` are constant expression (`case *value*`).","title":"How to use switch in array comparison?","body":"<p>You can't do it(as per your example) using <code>switch</code>. Since the values of <code>case</code> are constant expression (<code>case *value*</code>).</p>\n"},{"tags":[],"owner":{"account_id":4240333,"reputation":5530,"user_id":3470414,"accept_rate":75,"display_name":"Always Learning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433593702,"creation_date":1433593702,"answer_id":30682857,"question_id":30682723,"body_markdown":"`Switch` statements operate by exact matches rather than comparisons like `if` does. You can do what you want by introducing a new variable like this:\r\n\r\n    int value = (array.length &lt;= 11 ? 0 : (array.length &lt;= 20 ? 1 : 2));\r\n    switch (value) {\r\n        case 0:  // 11 or under\r\n        break;\r\n        case 1:  // 12 to 20\r\n        break;\r\n        case 2:  // 21 or more\r\n        break;\r\n    }\r\nI don&#39;t know if this buys you much over `if`/`else` statements, but if you find it cleaner to code, you can do it.","title":"How to use switch in array comparison?","body":"<p><code>Switch</code> statements operate by exact matches rather than comparisons like <code>if</code> does. You can do what you want by introducing a new variable like this:</p>\n\n<pre><code>int value = (array.length &lt;= 11 ? 0 : (array.length &lt;= 20 ? 1 : 2));\nswitch (value) {\n    case 0:  // 11 or under\n    break;\n    case 1:  // 12 to 20\n    break;\n    case 2:  // 21 or more\n    break;\n}\n</code></pre>\n\n<p>I don't know if this buys you much over <code>if</code>/<code>else</code> statements, but if you find it cleaner to code, you can do it.</p>\n"},{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433594346,"creation_date":1433594346,"answer_id":30682971,"question_id":30682723,"body_markdown":"In your if/elseif, the `if(array.length&lt;=10)` will never run because if`(array.length&lt;=15)` is checked above it.\r\n\r\nDoing this with an if/elseif structure would require less lines of code.\r\nIf you want to do this using a switch/case statement, this would work:\r\n\r\n    int length = array.length;\r\n\t\t\r\n\t\tswitch(length) {\r\n\t\tcase 0:\r\n\t\tcase 1:\r\n\t\tcase 2:\r\n\t\tcase 3:\r\n\t\tcase 4:\r\n\t\tcase 5: {\r\n\t\t\tSystem.out.println(&quot;Case 0&lt;=length&lt;=5 triggered.&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase 6:\r\n\t\tcase 7:\r\n\t\tcase 8:\r\n\t\tcase 9:\r\n\t\tcase 10: {\r\n\t\t\tSystem.out.println(&quot;Case 6&lt;=length&lt;=10 triggered.&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase 11:\r\n\t\tcase 12:\r\n\t\tcase 13:\r\n\t\tcase 14:\r\n\t\tcase 15: {\r\n\t\t\tSystem.out.println(&quot;Case 10&lt;=length&lt;=15 triggered.&quot;);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tdefault: {\r\n\t\t\tSystem.out.println(&quot;Default case triggered.&quot;);\r\n\t\t}\r\n\t\t}","title":"How to use switch in array comparison?","body":"<p>In your if/elseif, the <code>if(array.length&lt;=10)</code> will never run because if<code>(array.length&lt;=15)</code> is checked above it.</p>\n\n<p>Doing this with an if/elseif structure would require less lines of code.\nIf you want to do this using a switch/case statement, this would work:</p>\n\n<pre><code>int length = array.length;\n\n    switch(length) {\n    case 0:\n    case 1:\n    case 2:\n    case 3:\n    case 4:\n    case 5: {\n        System.out.println(\"Case 0&lt;=length&lt;=5 triggered.\");\n        break;\n    }\n    case 6:\n    case 7:\n    case 8:\n    case 9:\n    case 10: {\n        System.out.println(\"Case 6&lt;=length&lt;=10 triggered.\");\n        break;\n    }\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n    case 15: {\n        System.out.println(\"Case 10&lt;=length&lt;=15 triggered.\");\n        break;\n    }\n    default: {\n        System.out.println(\"Default case triggered.\");\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":3917561,"reputation":426,"user_id":3241011,"accept_rate":67,"display_name":"AHSAN KHAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1433603736,"accepted_answer_id":30682779,"answer_count":5,"score":0,"last_activity_date":1638369450,"creation_date":1433592982,"question_id":30682723,"body_markdown":"I want to compare array length with some `int` values. I can do it with `if` `else` but how to do it with `switch` because `switch` is fast and I want to use that in my project\r\n\r\n    switch (array.length) {\r\n        case array.length &lt;= 11: // how to do this \r\n    \t    break;\r\n        default:\r\n    \t    break;\r\n    }\r\n\r\n   \r\nWith `if else` I can do this:\r\n\r\n    if (array.length &lt;= 5) { \r\n        //my is code here \r\n    }\r\n    else if (array.length &lt;= 15) {\r\n        //my is code here \r\n    }\r\n    else if (array.length &lt;= 10) {\r\n        //my is code here \r\n    }","title":"How to use switch in array comparison?","body":"<p>I want to compare array length with some <code>int</code> values. I can do it with <code>if</code> <code>else</code> but how to do it with <code>switch</code> because <code>switch</code> is fast and I want to use that in my project</p>\n<pre><code>switch (array.length) {\n    case array.length &lt;= 11: // how to do this \n        break;\n    default:\n        break;\n}\n</code></pre>\n<p>With <code>if else</code> I can do this:</p>\n<pre><code>if (array.length &lt;= 5) { \n    //my is code here \n}\nelse if (array.length &lt;= 15) {\n    //my is code here \n}\nelse if (array.length &lt;= 10) {\n    //my is code here \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1638369033,"post_id":70186003,"comment_id":124069715,"body_markdown":"`for (int i = 0; i &lt; array.length; i++)` would loop over the entire array. You&#39;re looping to `array.length - 1`, which means you&#39;re skipping the final entry. Given that you only have one entry, yes, empty array prints. Note that your `fakeArray` stuff in `Add` doesn&#39;t do anything. You make a new array, assign it to a local var, and then do nothing with it.","body":"<code>for (int i = 0; i &lt; array.length; i++)</code> would loop over the entire array. You&#39;re looping to <code>array.length - 1</code>, which means you&#39;re skipping the final entry. Given that you only have one entry, yes, empty array prints. Note that your <code>fakeArray</code> stuff in <code>Add</code> doesn&#39;t do anything. You make a new array, assign it to a local var, and then do nothing with it."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1638369270,"post_id":70186003,"comment_id":124069840,"body_markdown":"It&#39;s a good time to learn to use the debugger in your IDE. If you don&#39;t use an IDE, you can put print statement in your code. Learning to trace your own code is an extremely important skill that you need often as a developer","body":"It&#39;s a good time to learn to use the debugger in your IDE. If you don&#39;t use an IDE, you can put print statement in your code. Learning to trace your own code is an extremely important skill that you need often as a developer"}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638369311,"creation_date":1638369311,"answer_id":70186105,"question_id":70186003,"body_markdown":"Try mentally running through what your `toString()` method is doing. In your `for` loop, you have:\r\n\r\n    for (int i = 0; i &lt; array.length-1; i++) {\r\n\r\nand we know that `array.length == 1`, since it was initialized with `new double[1]`.\r\n\r\nSo your for loop condition is `i &lt; array.length - 1` which is `i &lt; 1 - 1` or `i &lt; 0`. Since this is a strict inequality and `i` is being incremented from `0`, the condition is never true.\r\n\r\nWhat you need is either\r\n\r\n    for (int i = 0; i &lt;= array.length - 1; i++) {\r\n\r\nor\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n\r\n\r\nin my opinion the second one is cleaner and more clear. It is also something you would see more commonly.","title":"void add does not fill the array","body":"<p>Try mentally running through what your <code>toString()</code> method is doing. In your <code>for</code> loop, you have:</p>\n<pre><code>for (int i = 0; i &lt; array.length-1; i++) {\n</code></pre>\n<p>and we know that <code>array.length == 1</code>, since it was initialized with <code>new double[1]</code>.</p>\n<p>So your for loop condition is <code>i &lt; array.length - 1</code> which is <code>i &lt; 1 - 1</code> or <code>i &lt; 0</code>. Since this is a strict inequality and <code>i</code> is being incremented from <code>0</code>, the condition is never true.</p>\n<p>What you need is either</p>\n<pre><code>for (int i = 0; i &lt;= array.length - 1; i++) {\n</code></pre>\n<p>or</p>\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n</code></pre>\n<p>in my opinion the second one is cleaner and more clear. It is also something you would see more commonly.</p>\n"}],"owner":{"account_id":23512362,"reputation":35,"user_id":17560782,"display_name":"Key_Keys"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1638369653,"accepted_answer_id":70186105,"answer_count":1,"score":-4,"last_activity_date":1638369311,"creation_date":1638368883,"question_id":70186003,"body_markdown":"I&#39;m trying to fill the array with void fucntion but it just prints \r\n\r\n**[]**\r\n```\r\npublic class main\r\n{\r\n    double[] array = new double[1];\r\n\r\n    public static void main(String[] args) {\r\n\r\n        main a=new main();\r\n         a.Add(3.5);\r\n       \r\n        System.out.println(a);\r\n    }\r\n     public void Add(double x)\r\n    {\r\n        var fakeArray=java.util.Arrays.copyOf(array, array.length+1);\r\n\r\n        array[array.length-1]=x;\r\n    }\r\n\r\n     public int size()\r\n    {\r\n        return array.length;\r\n    }\r\n\r\n     public String toString()\r\n     {\r\n         String values=new String();\r\n         values+=&quot;[&quot;;\r\n         for (int i = 0; i &lt; array.length-1; i++) {\r\n             values+=String.valueOf(array[i])+&quot;,&quot;;\r\n         }\r\n         values+=&quot;]&quot;;\r\n         return values;\r\n     }\r\n\r\n     public double average()\r\n     {\r\n         double total=0;\r\n         for (int i = 0; i &lt; array.length-1; i++) {\r\n             total+=array[i];\r\n         }\r\n         return (total/array.length);\r\n     }\r\n\r\n}\r\n```\r\nvoid add does not fill the array with the value that I want with ```a.Add(3.5);```\r\nwhat Should I do the fill it, it just prints an empty array","title":"void add does not fill the array","body":"<p>I'm trying to fill the array with void fucntion but it just prints</p>\n<p><strong>[]</strong></p>\n<pre><code>public class main\n{\n    double[] array = new double[1];\n\n    public static void main(String[] args) {\n\n        main a=new main();\n         a.Add(3.5);\n       \n        System.out.println(a);\n    }\n     public void Add(double x)\n    {\n        var fakeArray=java.util.Arrays.copyOf(array, array.length+1);\n\n        array[array.length-1]=x;\n    }\n\n     public int size()\n    {\n        return array.length;\n    }\n\n     public String toString()\n     {\n         String values=new String();\n         values+=&quot;[&quot;;\n         for (int i = 0; i &lt; array.length-1; i++) {\n             values+=String.valueOf(array[i])+&quot;,&quot;;\n         }\n         values+=&quot;]&quot;;\n         return values;\n     }\n\n     public double average()\n     {\n         double total=0;\n         for (int i = 0; i &lt; array.length-1; i++) {\n             total+=array[i];\n         }\n         return (total/array.length);\n     }\n\n}\n</code></pre>\n<p>void add does not fill the array with the value that I want with <code>a.Add(3.5);</code>\nwhat Should I do the fill it, it just prints an empty array</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":62229,"reputation":21708,"user_id":185022,"accept_rate":81,"display_name":"AZ_"},"score":2,"creation_date":1307715298,"post_id":671049,"comment_id":7370199,"body_markdown":"till now you can not kill a thread; because destroy() is never implemented due to dead-lock prone","body":"till now you can not kill a thread; because destroy() is never implemented due to dead-lock prone"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":1,"creation_date":1308273472,"post_id":671049,"comment_id":7474686,"body_markdown":"I prefer the answer regarding `ExecutorStatus` on this question: http://stackoverflow.com/questions/2275443/how-to-timeout-a-thread","body":"I prefer the answer regarding <code>ExecutorStatus</code> on this question: <a href=\"http://stackoverflow.com/questions/2275443/how-to-timeout-a-thread\" title=\"how to timeout a thread\">stackoverflow.com/questions/2275443/how-to-timeout-a-thread</a>"},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":9,"creation_date":1433947293,"post_id":671049,"comment_id":49572159,"body_markdown":"@loungerdork &quot;I think Java should implement a safe stop/destroy method for runaway threads that you have no control over, despite the caveats of losing locks and other pitfalls&quot; So you want an *unsafe* thread stop. I think you already have one.","body":"@loungerdork &quot;I think Java should implement a safe stop/destroy method for runaway threads that you have no control over, despite the caveats of losing locks and other pitfalls&quot; So you want an <i>unsafe</i> thread stop. I think you already have one."},{"owner":{"account_id":41153,"reputation":133824,"user_id":119527,"accept_rate":89,"display_name":"Jonathon Reinhart"},"score":4,"creation_date":1457724849,"post_id":671049,"comment_id":59553379,"body_markdown":"It&#39;s amazing what kind of questions would get 212 upvotes in 2009. This would be immediately destroyed today.","body":"It&#39;s amazing what kind of questions would get 212 upvotes in 2009. This would be immediately destroyed today."},{"owner":{"account_id":2855051,"reputation":1371,"user_id":2451480,"accept_rate":90,"display_name":"TFuto"},"score":8,"creation_date":1462642241,"post_id":671049,"comment_id":61726906,"body_markdown":"@JonathonReinhart: Why is that? It seems to be a legit question, even these days. Maybe you don&#39;t know the frustration it causes when you have runaway threads and can only use deprecated functions to handle this somehow?","body":"@JonathonReinhart: Why is that? It seems to be a legit question, even these days. Maybe you don&#39;t know the frustration it causes when you have runaway threads and can only use deprecated functions to handle this somehow?"},{"owner":{"account_id":65301,"reputation":1494,"user_id":192280,"display_name":"Weipeng"},"score":1,"creation_date":1540493625,"post_id":671049,"comment_id":92897386,"body_markdown":"@JonathonReinhart AFAIK more and more services are becoming hybrid and use managed environment to execute 3rd party code (plugin, scripts, etc.) which they don&#39;t have fully control over the code, it seems unreasonable to completely take thread.stop off the table, since for service engineers, a live-and-serving state can be infinitely better than a non serving state either due to hanging (which takes away threads), or busy infinite looping (which takes away cores), the state corruption issue is not such a big deal for per-query-state, data-serving services whose data integrity is not paramount","body":"@JonathonReinhart AFAIK more and more services are becoming hybrid and use managed environment to execute 3rd party code (plugin, scripts, etc.) which they don&#39;t have fully control over the code, it seems unreasonable to completely take thread.stop off the table, since for service engineers, a live-and-serving state can be infinitely better than a non serving state either due to hanging (which takes away threads), or busy infinite looping (which takes away cores), the state corruption issue is not such a big deal for per-query-state, data-serving services whose data integrity is not paramount"},{"owner":{"account_id":7342678,"reputation":474,"user_id":5591561,"accept_rate":44,"display_name":"neoexpert"},"score":0,"creation_date":1551098121,"post_id":671049,"comment_id":96503069,"body_markdown":"I think it is interesting, because while(true) is a bit faster than while(running) but there is no way to get out of while(true) without checking a field somewhere in the loop.","body":"I think it is interesting, because while(true) is a bit faster than while(running) but there is no way to get out of while(true) without checking a field somewhere in the loop."}],"answers":[{"tags":[],"owner":{"account_id":11948,"reputation":737758,"user_id":23283,"accept_rate":100,"display_name":"JaredPar"},"down_vote_count":5,"up_vote_count":210,"is_accepted":true,"score":205,"last_activity_date":1517771688,"creation_date":1237730808,"answer_id":671052,"question_id":671049,"body_markdown":"See this [thread by Sun on why they deprecated `Thread.stop()`][1].  It goes into detail about why this was a bad method and what should be done to safely stop threads in general.  \r\n\r\nThe way they recommend is to use a shared variable as a flag which asks the background thread to stop.  This variable can then be set by a different object requesting the thread terminate.  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html","title":"How do you kill a Thread in Java?","body":"<p>See this <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">thread by Sun on why they deprecated <code>Thread.stop()</code></a>.  It goes into detail about why this was a bad method and what should be done to safely stop threads in general.  </p>\n\n<p>The way they recommend is to use a shared variable as a flag which asks the background thread to stop.  This variable can then be set by a different object requesting the thread terminate.  </p>\n"},{"tags":[],"owner":{"account_id":23699,"reputation":5769,"user_id":59572,"display_name":"Fredrik"},"down_vote_count":2,"up_vote_count":134,"is_accepted":false,"score":132,"last_activity_date":1395830002,"creation_date":1237730826,"answer_id":671053,"question_id":671049,"body_markdown":"Generally you don&#39;t..\r\n\r\nYou ask it to interrupt whatever it is doing using [Thread.interrupt() (javadoc link)][1]\r\n\r\nA good explanation of why is in the javadoc [here  (java technote link)][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html","title":"How do you kill a Thread in Java?","body":"<p>Generally you don't..</p>\n\n<p>You ask it to interrupt whatever it is doing using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupt%28%29\" rel=\"noreferrer\">Thread.interrupt() (javadoc link)</a></p>\n\n<p>A good explanation of why is in the javadoc <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">here  (java technote link)</a></p>\n"},{"tags":[],"owner":{"account_id":26897,"reputation":340700,"user_id":70393,"accept_rate":86,"display_name":"karim79"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1368262449,"creation_date":1237731040,"answer_id":671058,"question_id":671049,"body_markdown":"One way is by setting a class variable and using it as a sentinel.\r\n\r\n    Class Outer {\r\n        public static volatile flag = true;\r\n    \r\n        Outer() {\r\n            new Test().start();\r\n        }\r\n        class Test extends Thread {\r\n    \r\n            public void run() {\r\n                while (Outer.flag) {\r\n                    //do stuff here\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nSet an external class variable, i.e. flag = true in the above example. Set it to false to &#39;kill&#39; the thread.","title":"How do you kill a Thread in Java?","body":"<p>One way is by setting a class variable and using it as a sentinel.</p>\n\n<pre><code>Class Outer {\n    public static volatile flag = true;\n\n    Outer() {\n        new Test().start();\n    }\n    class Test extends Thread {\n\n        public void run() {\n            while (Outer.flag) {\n                //do stuff here\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Set an external class variable, i.e. flag = true in the above example. Set it to false to 'kill' the thread.</p>\n"},{"tags":[],"owner":{"account_id":605144,"reputation":717,"user_id":318961,"accept_rate":83,"display_name":"mlohbihler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1298229903,"creation_date":1298229903,"answer_id":5059413,"question_id":671049,"body_markdown":"\r\nThere is of course the case where you are running some kind of not-completely-trusted code. (I personally have this by allowing uploaded scripts to execute in my Java environment. Yes, there are security alarm bell ringing everywhere, but it&#39;s part of the application.) In this unfortunate instance you first of all are merely being hopeful by asking script writers to respect some kind of boolean run/don&#39;t-run signal. Your only decent fail safe is to call the stop method on the thread if, say, it runs longer than some timeout.\r\n\r\nBut, this is just &quot;decent&quot;, and not absolute, because the code could catch the ThreadDeath error (or whatever exception you explicitly throw), and not rethrow it like a gentlemanly thread is supposed to do. So, the bottom line is AFAIA there is no absolute fail safe. ","title":"How do you kill a Thread in Java?","body":"<p>There is of course the case where you are running some kind of not-completely-trusted code. (I personally have this by allowing uploaded scripts to execute in my Java environment. Yes, there are security alarm bell ringing everywhere, but it's part of the application.) In this unfortunate instance you first of all are merely being hopeful by asking script writers to respect some kind of boolean run/don't-run signal. Your only decent fail safe is to call the stop method on the thread if, say, it runs longer than some timeout.</p>\n\n<p>But, this is just \"decent\", and not absolute, because the code could catch the ThreadDeath error (or whatever exception you explicitly throw), and not rethrow it like a gentlemanly thread is supposed to do. So, the bottom line is AFAIA there is no absolute fail safe. </p>\n"},{"tags":[],"owner":{"account_id":333062,"reputation":28113,"user_id":658718,"accept_rate":100,"display_name":"Konrad Reiche"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1525780229,"creation_date":1341792279,"answer_id":11387729,"question_id":671049,"body_markdown":"In Java threads are not killed, but the stopping of a thread is done in a **cooperative way**. The thread is asked to terminate and the thread can then shutdown gracefully.\r\n\r\nOften a `volatile boolean` field is used which the thread periodically checks and terminates when it is set to the corresponding value.\r\n\r\nI **would not** use a `boolean` to check whether the thread should **terminate**. If you use `volatile` as a field modifier, this will work reliable, but if your code becomes more complex, for instead uses other blocking methods inside the `while` loop, it might happen, that your code will **not terminate** at all or at least **takes longer** as you might want.\r\n\r\n&gt; Certain blocking library methods support interruption.\r\n\r\nEvery thread has already a boolean flag **interrupted status** and you should make use of it. It can be implemented like this:\r\n\r\n    public void run() {\r\n       try {\r\n          while (!interrupted()) {\r\n             // ...\r\n          }\r\n       } catch (InterruptedException consumed)\r\n          /* Allow thread to exit */\r\n       }\r\n    }\r\n\r\n    public void cancel() { interrupt(); }\r\n\r\nSource code adapted from [Java Concurrency in Practice][1]. Since the `cancel()` method is public you can let another thread invoke this method as you wanted.\r\n\r\n  [1]: http://jcip.net/","title":"How do you kill a Thread in Java?","body":"<p>In Java threads are not killed, but the stopping of a thread is done in a <strong>cooperative way</strong>. The thread is asked to terminate and the thread can then shutdown gracefully.</p>\n\n<p>Often a <code>volatile boolean</code> field is used which the thread periodically checks and terminates when it is set to the corresponding value.</p>\n\n<p>I <strong>would not</strong> use a <code>boolean</code> to check whether the thread should <strong>terminate</strong>. If you use <code>volatile</code> as a field modifier, this will work reliable, but if your code becomes more complex, for instead uses other blocking methods inside the <code>while</code> loop, it might happen, that your code will <strong>not terminate</strong> at all or at least <strong>takes longer</strong> as you might want.</p>\n\n<blockquote>\n  <p>Certain blocking library methods support interruption.</p>\n</blockquote>\n\n<p>Every thread has already a boolean flag <strong>interrupted status</strong> and you should make use of it. It can be implemented like this:</p>\n\n<pre><code>public void run() {\n   try {\n      while (!interrupted()) {\n         // ...\n      }\n   } catch (InterruptedException consumed)\n      /* Allow thread to exit */\n   }\n}\n\npublic void cancel() { interrupt(); }\n</code></pre>\n\n<p>Source code adapted from <a href=\"http://jcip.net/\" rel=\"noreferrer\">Java Concurrency in Practice</a>. Since the <code>cancel()</code> method is public you can let another thread invoke this method as you wanted.</p>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1383667673,"creation_date":1383667673,"answer_id":19793431,"question_id":671049,"body_markdown":"The question is rather vague. If you meant “how do I write a program so that a thread stops running when I want it to”, then various other responses should be helpful. But if you meant “I have an emergency with a server I cannot restart right now and I just need a particular thread to die, come what may”, then you need an intervention tool to match monitoring tools like `jstack`.\r\n\r\nFor this purpose I created [jkillthread](https://github.com/jglick/jkillthread). See its instructions for usage.","title":"How do you kill a Thread in Java?","body":"<p>The question is rather vague. If you meant “how do I write a program so that a thread stops running when I want it to”, then various other responses should be helpful. But if you meant “I have an emergency with a server I cannot restart right now and I just need a particular thread to die, come what may”, then you need an intervention tool to match monitoring tools like <code>jstack</code>.</p>\n\n<p>For this purpose I created <a href=\"https://github.com/jglick/jkillthread\" rel=\"noreferrer\">jkillthread</a>. See its instructions for usage.</p>\n"},{"tags":[],"owner":{"account_id":4124501,"reputation":147,"user_id":3384017,"display_name":"VadimPlatonov"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1398257115,"creation_date":1398255879,"answer_id":23244210,"question_id":671049,"body_markdown":"There is a way how you can do it. But if you had to use it, either you are a bad programmer or you are using a code written by bad programmers. So, you should think about stopping being a bad programmer or stopping using this bad code.\r\nThis solution is only for situations when THERE IS NO OTHER WAY.\r\n\r\n    Thread f = &lt;A thread to be stopped&gt;\r\n    Method m = Thread.class.getDeclaredMethod( &quot;stop0&quot; , new Class[]{Object.class} );\r\n    m.setAccessible( true );\r\n    m.invoke( f , new ThreadDeath() );\r\n\r\n","title":"How do you kill a Thread in Java?","body":"<p>There is a way how you can do it. But if you had to use it, either you are a bad programmer or you are using a code written by bad programmers. So, you should think about stopping being a bad programmer or stopping using this bad code.\nThis solution is only for situations when THERE IS NO OTHER WAY.</p>\n\n<pre><code>Thread f = &lt;A thread to be stopped&gt;\nMethod m = Thread.class.getDeclaredMethod( \"stop0\" , new Class[]{Object.class} );\nm.setAccessible( true );\nm.invoke( f , new ThreadDeath() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":896371,"reputation":827,"user_id":933537,"display_name":"Anand Rajasekar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408545452,"creation_date":1408545452,"answer_id":25407559,"question_id":671049,"body_markdown":"There is no way to gracefully kill a thread.\r\n\r\nYou can try to interrupt the thread, one commons strategy is to use a poison pill to message the thread to stop itself\r\n\r\n    public class CancelSupport {\r\n        public static class CommandExecutor implements Runnable {\r\n                private BlockingQueue&lt;String&gt; queue;\r\n                public static final String POISON_PILL  = “stopnow”;\r\n                public CommandExecutor(BlockingQueue&lt;String&gt; queue) {\r\n                        this.queue=queue;\r\n                }\r\n                @Override\r\n                public void run() {\r\n                        boolean stop=false;\r\n                        while(!stop) {\r\n                                try {\r\n                                        String command=queue.take();\r\n                                        if(POISON_PILL.equals(command)) {\r\n                                                stop=true;\r\n                                        } else {\r\n                                                // do command\r\n                                                System.out.println(command);\r\n                                        }\r\n                                } catch (InterruptedException e) {\r\n                                        stop=true;\r\n                                }\r\n                        }\r\n                        System.out.println(“Stopping execution”);\r\n                }\r\n               \r\n        }\r\n}\r\n\r\n    BlockingQueue&lt;String&gt; queue=new LinkedBlockingQueue&lt;String&gt;();\r\n    Thread t=new Thread(new CommandExecutor(queue));\r\n    queue.put(“hello”);\r\n    queue.put(“world”);\r\n    t.start();\r\n    Thread.sleep(1000);\r\n    queue.put(“stopnow”);\r\n\r\nhttp://anandsekar.github.io/cancel-support-for-threads/","title":"How do you kill a Thread in Java?","body":"<p>There is no way to gracefully kill a thread.</p>\n\n<p>You can try to interrupt the thread, one commons strategy is to use a poison pill to message the thread to stop itself</p>\n\n<pre><code>public class CancelSupport {\n    public static class CommandExecutor implements Runnable {\n            private BlockingQueue&lt;String&gt; queue;\n            public static final String POISON_PILL  = “stopnow”;\n            public CommandExecutor(BlockingQueue&lt;String&gt; queue) {\n                    this.queue=queue;\n            }\n            @Override\n            public void run() {\n                    boolean stop=false;\n                    while(!stop) {\n                            try {\n                                    String command=queue.take();\n                                    if(POISON_PILL.equals(command)) {\n                                            stop=true;\n                                    } else {\n                                            // do command\n                                            System.out.println(command);\n                                    }\n                            } catch (InterruptedException e) {\n                                    stop=true;\n                            }\n                    }\n                    System.out.println(“Stopping execution”);\n            }\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<pre><code>BlockingQueue&lt;String&gt; queue=new LinkedBlockingQueue&lt;String&gt;();\nThread t=new Thread(new CommandExecutor(queue));\nqueue.put(“hello”);\nqueue.put(“world”);\nt.start();\nThread.sleep(1000);\nqueue.put(“stopnow”);\n</code></pre>\n\n<p><a href=\"http://anandsekar.github.io/cancel-support-for-threads/\" rel=\"nofollow\">http://anandsekar.github.io/cancel-support-for-threads/</a></p>\n"},{"tags":[],"owner":{"account_id":1797499,"reputation":3494,"user_id":1636602,"display_name":"ZarathustrA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424251957,"creation_date":1424251957,"answer_id":28580102,"question_id":671049,"body_markdown":"Attempts of abrupt thread termination are well-known bad programming practice and evidence of poor application design. All threads in the multithreaded application explicitly and implicitly share the same process state and forced to cooperate with each other to keep it consistent, otherwise your application will be prone to the bugs which will be really hard to diagnose. So, it is a responsibility of developer to provide an assurance of such consistency via careful and clear application design.\r\n\r\nThere are two main right solutions for the controlled threads terminations:\r\n\r\n- Use of the shared volatile flag\r\n- Use of the pair of Thread.interrupt() and Thread.interrupted() methods.\r\n\r\nGood and detailed explanation of the issues related to the abrupt threads termination as well as examples of wrong and right solutions for the controlled threads termination can be found here:\r\n\r\nhttps://www.securecoding.cert.org/confluence/display/java/THI05-J.+Do+not+use+Thread.stop%28%29+to+terminate+threads","title":"How do you kill a Thread in Java?","body":"<p>Attempts of abrupt thread termination are well-known bad programming practice and evidence of poor application design. All threads in the multithreaded application explicitly and implicitly share the same process state and forced to cooperate with each other to keep it consistent, otherwise your application will be prone to the bugs which will be really hard to diagnose. So, it is a responsibility of developer to provide an assurance of such consistency via careful and clear application design.</p>\n\n<p>There are two main right solutions for the controlled threads terminations:</p>\n\n<ul>\n<li>Use of the shared volatile flag</li>\n<li>Use of the pair of Thread.interrupt() and Thread.interrupted() methods.</li>\n</ul>\n\n<p>Good and detailed explanation of the issues related to the abrupt threads termination as well as examples of wrong and right solutions for the controlled threads termination can be found here:</p>\n\n<p><a href=\"https://www.securecoding.cert.org/confluence/display/java/THI05-J.+Do+not+use+Thread.stop%28%29+to+terminate+threads\" rel=\"nofollow\">https://www.securecoding.cert.org/confluence/display/java/THI05-J.+Do+not+use+Thread.stop%28%29+to+terminate+threads</a></p>\n"},{"tags":[],"owner":{"account_id":1204576,"reputation":2855,"user_id":1174543,"accept_rate":80,"display_name":"Steve11235"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1581465434,"creation_date":1453746936,"answer_id":34999797,"question_id":671049,"body_markdown":"I want to add several observations, based on the comments that have accumulated.\r\n\r\n 1. `Thread.stop()` will stop a thread if the security manager allows it.\r\n 2. `Thread.stop()` is dangerous. Having said that, if you are working in a JEE environment and you have no control over the code being called, it may be necessary; see [Why is Thread.stop deprecated?][1]\r\n 3. You should never stop stop a container worker thread. If you want to run code that tends to hang, (carefully) start a new daemon thread and monitor it, killing if necessary.\r\n 4. `stop()` creates a new `ThreadDeathError` error on the *calling* thread and then throws that error on the *target* thread. Therefore, the stack trace is generally worthless.\r\n 5. In JRE 6, `stop()` checks with the security manager and then calls `stop1()` that calls `stop0()`. `stop0()` is native code.\r\n 6. As of Java 13 `Thread.stop()` has not been removed (yet), but `Thread.stop(Throwable)` was removed in Java 11.  ([mailing list][2], [JDK-8204243][3]) \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/doc-files/threadPrimitiveDeprecation.html\r\n  [2]: http://mail.openjdk.java.net/pipermail/jdk-dev/2018-June/001362.html\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8204243","title":"How do you kill a Thread in Java?","body":"<p>I want to add several observations, based on the comments that have accumulated.</p>\n\n<ol>\n<li><code>Thread.stop()</code> will stop a thread if the security manager allows it.</li>\n<li><code>Thread.stop()</code> is dangerous. Having said that, if you are working in a JEE environment and you have no control over the code being called, it may be necessary; see <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/doc-files/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\">Why is Thread.stop deprecated?</a></li>\n<li>You should never stop stop a container worker thread. If you want to run code that tends to hang, (carefully) start a new daemon thread and monitor it, killing if necessary.</li>\n<li><code>stop()</code> creates a new <code>ThreadDeathError</code> error on the <em>calling</em> thread and then throws that error on the <em>target</em> thread. Therefore, the stack trace is generally worthless.</li>\n<li>In JRE 6, <code>stop()</code> checks with the security manager and then calls <code>stop1()</code> that calls <code>stop0()</code>. <code>stop0()</code> is native code.</li>\n<li>As of Java 13 <code>Thread.stop()</code> has not been removed (yet), but <code>Thread.stop(Throwable)</code> was removed in Java 11.  (<a href=\"http://mail.openjdk.java.net/pipermail/jdk-dev/2018-June/001362.html\" rel=\"nofollow noreferrer\">mailing list</a>, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8204243\" rel=\"nofollow noreferrer\">JDK-8204243</a>) </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":383780,"reputation":397,"user_id":739836,"display_name":"Anfet"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1455796774,"creation_date":1455796774,"answer_id":35480884,"question_id":671049,"body_markdown":"I&#39;d vote for `Thread.stop()`.\r\n\r\nAs for instance you have a long lasting operation (like a network request).\r\nSupposedly you are waiting for a response, but it can take time and the user navigated to other UI.\r\nThis waiting thread is now a) useless b) potential problem because when he will get result, it&#39;s completely useless and he will trigger callbacks that can lead to number of errors.\r\n\r\nAll of that and he can do response processing that could be CPU intense. And you, as a developer, cannot even stop it, because you can&#39;t throw `if (Thread.currentThread().isInterrupted())` lines in all code.\r\n\r\nSo the inability to forcefully stop a thread it weird.","title":"How do you kill a Thread in Java?","body":"<p>I'd vote for <code>Thread.stop()</code>.</p>\n\n<p>As for instance you have a long lasting operation (like a network request).\nSupposedly you are waiting for a response, but it can take time and the user navigated to other UI.\nThis waiting thread is now a) useless b) potential problem because when he will get result, it's completely useless and he will trigger callbacks that can lead to number of errors.</p>\n\n<p>All of that and he can do response processing that could be CPU intense. And you, as a developer, cannot even stop it, because you can't throw <code>if (Thread.currentThread().isInterrupted())</code> lines in all code.</p>\n\n<p>So the inability to forcefully stop a thread it weird.</p>\n"},{"tags":[],"owner":{"account_id":1042691,"reputation":536,"user_id":1048376,"display_name":"splashout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470339740,"creation_date":1470339740,"answer_id":38776069,"question_id":671049,"body_markdown":"Here are a couple of good reads on the subject:\r\n\r\n[What Do You Do With InterruptedException?][1]\r\n\r\n\r\n[Shutting down threads cleanly][2]\r\n\r\n\r\n  [1]: http://www.yegor256.com/2015/10/20/interrupted-exception.html\r\n  [2]: http://www.javaspecialists.eu/archive/Issue056.html","title":"How do you kill a Thread in Java?","body":"<p>Here are a couple of good reads on the subject:</p>\n\n<p><a href=\"http://www.yegor256.com/2015/10/20/interrupted-exception.html\" rel=\"nofollow\">What Do You Do With InterruptedException?</a></p>\n\n<p><a href=\"http://www.javaspecialists.eu/archive/Issue056.html\" rel=\"nofollow\">Shutting down threads cleanly</a></p>\n"},{"tags":[],"owner":{"account_id":11257334,"reputation":73,"user_id":8256650,"display_name":"Mindborg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499424497,"creation_date":1499424497,"answer_id":44968910,"question_id":671049,"body_markdown":"I didn&#39;t get the interrupt to work in Android, so I used this method, works perfectly:\r\n\r\n    boolean shouldCheckUpdates = true;\r\n\r\n    private void startupCheckForUpdatesEveryFewSeconds() {\r\n        Thread t = new Thread(new CheckUpdates());\r\n        t.start();\r\n    }\r\n\r\n    private class CheckUpdates implements Runnable{\r\n        public void run() {\r\n            while (shouldCheckUpdates){\r\n                //Thread sleep 3 seconds\r\n                System.out.println(&quot;Do your thing here&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n     public void stop(){\r\n            shouldCheckUpdates = false;\r\n     }\r\n\r\n","title":"How do you kill a Thread in Java?","body":"<p>I didn't get the interrupt to work in Android, so I used this method, works perfectly:</p>\n\n<pre><code>boolean shouldCheckUpdates = true;\n\nprivate void startupCheckForUpdatesEveryFewSeconds() {\n    Thread t = new Thread(new CheckUpdates());\n    t.start();\n}\n\nprivate class CheckUpdates implements Runnable{\n    public void run() {\n        while (shouldCheckUpdates){\n            //Thread sleep 3 seconds\n            System.out.println(\"Do your thing here\");\n        }\n    }\n}\n\n public void stop(){\n        shouldCheckUpdates = false;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":486952,"reputation":271,"user_id":2104705,"display_name":"Wojciech Domalewski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529795142,"creation_date":1529794743,"answer_id":51005692,"question_id":671049,"body_markdown":"Generally you don&#39;t kill, stop, or interrupt a thread (or check wheter it is interrupted()), but let it terminate naturally.\r\n\r\nIt is simple. You can use any loop together with (volatile) boolean variable inside run() method to control thread&#39;s activity. You can also return from active thread to the main thread to stop it.\r\n\r\nThis way you gracefully kill a thread :) .","title":"How do you kill a Thread in Java?","body":"<p>Generally you don't kill, stop, or interrupt a thread (or check wheter it is interrupted()), but let it terminate naturally.</p>\n\n<p>It is simple. You can use any loop together with (volatile) boolean variable inside run() method to control thread's activity. You can also return from active thread to the main thread to stop it.</p>\n\n<p>This way you gracefully kill a thread :) .</p>\n"},{"tags":[],"owner":{"account_id":6248619,"reputation":73,"user_id":4859553,"display_name":"Adesh Srivastava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1552995675,"creation_date":1552995675,"answer_id":55240212,"question_id":671049,"body_markdown":"&#39;Killing a thread&#39; is not the right phrase to use. Here is one way we can implement graceful completion/exit of the thread on will:\r\n\r\nRunnable which I used:\r\n\r\n```\r\nclass TaskThread implements Runnable {\r\n\r\n    boolean shouldStop;\r\n\r\n    public TaskThread(boolean shouldStop) {\r\n        this.shouldStop = shouldStop;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        System.out.println(&quot;Thread has started&quot;);\r\n\r\n        while (!shouldStop) {\r\n            // do something\r\n        }\r\n\r\n        System.out.println(&quot;Thread has ended&quot;);\r\n\r\n    }\r\n\r\n    public void stop() {\r\n        shouldStop = true;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe triggering class:\r\n\r\n```\r\npublic class ThreadStop {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;Start&quot;);\r\n\r\n        // Start the thread\r\n        TaskThread task = new TaskThread(false);\r\n        Thread t = new Thread(task);\r\n        t.start();\r\n\r\n        // Stop the thread\r\n        task.stop();\r\n\r\n        System.out.println(&quot;End&quot;);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"How do you kill a Thread in Java?","body":"<p>'Killing a thread' is not the right phrase to use. Here is one way we can implement graceful completion/exit of the thread on will:</p>\n\n<p>Runnable which I used:</p>\n\n<pre><code>class TaskThread implements Runnable {\n\n    boolean shouldStop;\n\n    public TaskThread(boolean shouldStop) {\n        this.shouldStop = shouldStop;\n    }\n\n    @Override\n    public void run() {\n\n        System.out.println(\"Thread has started\");\n\n        while (!shouldStop) {\n            // do something\n        }\n\n        System.out.println(\"Thread has ended\");\n\n    }\n\n    public void stop() {\n        shouldStop = true;\n    }\n\n}\n</code></pre>\n\n<p>The triggering class:</p>\n\n<pre><code>public class ThreadStop {\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Start\");\n\n        // Start the thread\n        TaskThread task = new TaskThread(false);\n        Thread t = new Thread(task);\n        t.start();\n\n        // Stop the thread\n        task.stop();\n\n        System.out.println(\"End\");\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6187275,"reputation":952,"user_id":4821027,"display_name":"Gautam Tadigoppula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590094617,"creation_date":1590094047,"answer_id":61943587,"question_id":671049,"body_markdown":"Thread.stop is deprecated so how do we stop a thread in java ?\r\n\r\n Always use interrupt method and future to request cancellation    \r\n\r\n 1. When the task responds to interrupt signal, for example, blocking queue take method.\r\n``` \r\nCallable &lt; String &gt; callable = new Callable &lt; String &gt; () {\r\n    @Override\r\n    public String call() throws Exception {\r\n        String result = &quot;&quot;;\r\n        try {\r\n            //assume below take method is blocked as no work is produced.\r\n            result = queue.take();\r\n        } catch (InterruptedException e) {\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        return result;\r\n    }\r\n};\r\nFuture future = executor.submit(callable);\r\ntry {\r\n    String result = future.get(5, TimeUnit.SECONDS);\r\n} catch (TimeoutException e) {\r\n    logger.error(&quot;Thread timedout!&quot;);\r\n    return &quot;&quot;;\r\n} finally {\r\n    //this will call interrupt on queue which will abort the operation.\r\n    //if it completes before time out, it has no side effects\r\n    future.cancel(true);\r\n}\r\n        \r\n```\r\n 2. When the task does not respond to interrupt signal.Suppose the task performs socket I/O which does not respond to interrupt signal and thus using above approach will not abort the task, future would time out but the cancel in finally block will have no effect, thread will keep on listening to socket. We can close the socket or call close method on connection if implemented by pool.\r\n\r\n```\r\npublic interface CustomCallable &lt; T &gt; extends Callable &lt; T &gt; {\r\n    void cancel();\r\n    RunnableFuture &lt; T &gt; newTask();\r\n}\r\n\r\npublic class CustomExecutorPool extends ThreadPoolExecutor {\r\n    protected &lt; T &gt; RunnableFuture &lt; T &gt; newTaskFor(Callable &lt; T &gt; callable) {\r\n        if (callable instanceof CancellableTask)\r\n            return ((CancellableTask &lt; T &gt; ) callable).newTask();\r\n        else\r\n            return super.newTaskFor(callable);\r\n    }\r\n}\r\n\r\npublic abstract class UnblockingIOTask &lt; T &gt; implements CustomCallable &lt; T &gt; {\r\n    public synchronized void cancel() {\r\n        try {\r\n            obj.close();\r\n        } catch (IOException e) {\r\n            logger.error(&quot;io exception&quot;, e);\r\n        }\r\n    }\r\n\r\n    public RunnableFuture &lt; T &gt; newTask() {\r\n        return new FutureTask &lt; T &gt; (this) {\r\n            public boolean cancel(boolean mayInterruptIfRunning) {\r\n                try {\r\n                    this.cancel();\r\n                } finally {\r\n                    return super.cancel(mayInterruptIfRunning);\r\n                }\r\n            }\r\n\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How do you kill a Thread in Java?","body":"<p>Thread.stop is deprecated so how do we stop a thread in java ?</p>\n\n<p>Always use interrupt method and future to request cancellation    </p>\n\n<ol>\n<li>When the task responds to interrupt signal, for example, blocking queue take method.</li>\n</ol>\n\n<pre><code>Callable &lt; String &gt; callable = new Callable &lt; String &gt; () {\n    @Override\n    public String call() throws Exception {\n        String result = \"\";\n        try {\n            //assume below take method is blocked as no work is produced.\n            result = queue.take();\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n        return result;\n    }\n};\nFuture future = executor.submit(callable);\ntry {\n    String result = future.get(5, TimeUnit.SECONDS);\n} catch (TimeoutException e) {\n    logger.error(\"Thread timedout!\");\n    return \"\";\n} finally {\n    //this will call interrupt on queue which will abort the operation.\n    //if it completes before time out, it has no side effects\n    future.cancel(true);\n}\n\n</code></pre>\n\n<ol start=\"2\">\n<li>When the task does not respond to interrupt signal.Suppose the task performs socket I/O which does not respond to interrupt signal and thus using above approach will not abort the task, future would time out but the cancel in finally block will have no effect, thread will keep on listening to socket. We can close the socket or call close method on connection if implemented by pool.</li>\n</ol>\n\n<pre><code>public interface CustomCallable &lt; T &gt; extends Callable &lt; T &gt; {\n    void cancel();\n    RunnableFuture &lt; T &gt; newTask();\n}\n\npublic class CustomExecutorPool extends ThreadPoolExecutor {\n    protected &lt; T &gt; RunnableFuture &lt; T &gt; newTaskFor(Callable &lt; T &gt; callable) {\n        if (callable instanceof CancellableTask)\n            return ((CancellableTask &lt; T &gt; ) callable).newTask();\n        else\n            return super.newTaskFor(callable);\n    }\n}\n\npublic abstract class UnblockingIOTask &lt; T &gt; implements CustomCallable &lt; T &gt; {\n    public synchronized void cancel() {\n        try {\n            obj.close();\n        } catch (IOException e) {\n            logger.error(\"io exception\", e);\n        }\n    }\n\n    public RunnableFuture &lt; T &gt; newTask() {\n        return new FutureTask &lt; T &gt; (this) {\n            public boolean cancel(boolean mayInterruptIfRunning) {\n                try {\n                    this.cancel();\n                } finally {\n                    return super.cancel(mayInterruptIfRunning);\n                }\n            }\n\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820313,"reputation":1528,"user_id":1654526,"accept_rate":36,"display_name":"Jack"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1638368561,"creation_date":1638368561,"answer_id":70185905,"question_id":671049,"body_markdown":"After 15+ years of developing in Java there is one thing I want to say to the world.\r\n\r\nDeprecating `Thread.stop()` and all the holy battle against its use is just another bad habit or design flaw unfortunately became a reality... (eg. want to talk about the `Serializable` interface?)\r\n\r\nThe battle is focusing on the fact that killing a thread can leave an object into an inconsistent state. And so? Welcome to multithread programming. You are a programmer, and you need to know what you are doing, and yes.. killing a thread can leave an object in inconsistent state. If you are worried about it use a `flag` and let the thread quit gracefully; but there are TONS of times where there is no reason to be worried.\r\n\r\nBut no.. if you type `thread.stop()` you&#39;re likely to be killed by all the people who looks/comments/uses your code. So you have to use a `flag`, call `interrupt()`, place `if(!flag)` all around your code because you&#39;re not looping at all, and finally **pray** that the 3rd-party library you&#39;re using to do your external call is written correctly and doesn&#39;t handle the `InterruptException` improperly.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How do you kill a Thread in Java?","body":"<p>After 15+ years of developing in Java there is one thing I want to say to the world.</p>\n<p>Deprecating <code>Thread.stop()</code> and all the holy battle against its use is just another bad habit or design flaw unfortunately became a reality... (eg. want to talk about the <code>Serializable</code> interface?)</p>\n<p>The battle is focusing on the fact that killing a thread can leave an object into an inconsistent state. And so? Welcome to multithread programming. You are a programmer, and you need to know what you are doing, and yes.. killing a thread can leave an object in inconsistent state. If you are worried about it use a <code>flag</code> and let the thread quit gracefully; but there are TONS of times where there is no reason to be worried.</p>\n<p>But no.. if you type <code>thread.stop()</code> you're likely to be killed by all the people who looks/comments/uses your code. So you have to use a <code>flag</code>, call <code>interrupt()</code>, place <code>if(!flag)</code> all around your code because you're not looping at all, and finally <strong>pray</strong> that the 3rd-party library you're using to do your external call is written correctly and doesn't handle the <code>InterruptException</code> improperly.</p>\n"}],"owner":{"account_id":24717,"reputation":264452,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610225,"favorite_count":0,"down_vote_count":2,"up_vote_count":419,"accepted_answer_id":671052,"answer_count":17,"score":417,"last_activity_date":1638368561,"creation_date":1237730674,"question_id":671049,"body_markdown":"How do you kill a `java.lang.Thread` in Java?","title":"How do you kill a Thread in Java?","body":"<p>How do you kill a <code>java.lang.Thread</code> in Java?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638368172,"creation_date":1638362498,"answer_id":70184405,"question_id":70183734,"body_markdown":"The current implementation is not thread-safe because there is no happens-before edge between producing and consuming an item. And there is no happens before edge between releasing a slot and acquiring a slot.\r\n\r\nIt has been quite some time I played with ringbuffers. But it should be sufficient to make take and put index &#39;synchronized&#39; (e.g. an AtomicLong or a volatile long) and plain access to the array. That should create the happens-before edge between writing and reading an item. And typically the head and tail sequence of the ringbuffer are used to determine if there are items, no checking of null/not null within the array.\r\n\r\nIf you want to use something like this in production, I would suggest having a look at [JCTools][1]. \r\n\r\nJCTools is properly tested and typical performance bottlenecks like false sharing have been resolved. Apart from working with a full-blown volatile, which is relatively expensive, JCTools also offers more relaxed methods using release/acquire semantics which in most cases is good enough.  \r\n\r\nIf it is for educational purposes, I would check out the JCTools code and also the following [java-ring-buffer][2].\r\n\r\n\r\n  [1]: https://github.com/JCTools/JCTools\r\n  [2]: https://www.baeldung.com/java-ring-buffer","title":"Thread safety issues of SpscArrayQueue","body":"<p>The current implementation is not thread-safe because there is no happens-before edge between producing and consuming an item. And there is no happens before edge between releasing a slot and acquiring a slot.</p>\n<p>It has been quite some time I played with ringbuffers. But it should be sufficient to make take and put index 'synchronized' (e.g. an AtomicLong or a volatile long) and plain access to the array. That should create the happens-before edge between writing and reading an item. And typically the head and tail sequence of the ringbuffer are used to determine if there are items, no checking of null/not null within the array.</p>\n<p>If you want to use something like this in production, I would suggest having a look at <a href=\"https://github.com/JCTools/JCTools\" rel=\"nofollow noreferrer\">JCTools</a>.</p>\n<p>JCTools is properly tested and typical performance bottlenecks like false sharing have been resolved. Apart from working with a full-blown volatile, which is relatively expensive, JCTools also offers more relaxed methods using release/acquire semantics which in most cases is good enough.</p>\n<p>If it is for educational purposes, I would check out the JCTools code and also the following <a href=\"https://www.baeldung.com/java-ring-buffer\" rel=\"nofollow noreferrer\">java-ring-buffer</a>.</p>\n"}],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70184405,"answer_count":1,"score":1,"last_activity_date":1638368172,"creation_date":1638359651,"question_id":70183734,"body_markdown":"In a single producer and single consumer scenario, is this `queue` thread-safe?\r\n\r\n 1. `takeIndex` and `putIndex` need to be `AtomicLong`?\r\n 2. `Object[] ar` need to be `AtomicReferenceArray` so we can use `AtomicReferenceArray#set` to update `array`.\r\n\r\nMy understanding is that `Object[] arr` needs to be an `AtomicReferenceArray` to ensure visibility, so that when the `producer` puts an element, the consumer can see it immediately. Otherwise, when there is already an element in the array, maybe the `consumer` cannot consume it immediately (it may take the next `poll` to get the data), this will cause data consume delay?  But it will not bring abnormal behavior, such as consume the same element twice, or throw some unexpected exceptions (These are unacceptable).\r\n\r\n```\r\npublic class SpscArrayQueue&lt;E&gt; implements Queue&lt;E&gt; {\r\n\r\n    private final int cap;\r\n    private Object[] arr; // change to AtomicReferenceArray?\r\n    long takeIndex;  // change to AtomicLong?\r\n    long putIndex;   // change to AtomicLong?\r\n    final int mask;\r\n\r\n    static int ceilingNextPowerOfTwo(int x) {\r\n        return 1 &lt;&lt; (Integer.SIZE - Integer.numberOfLeadingZeros(x - 1));\r\n    }\r\n\r\n    public SpscArrayQueue(int cap) {\r\n        this.cap = ceilingNextPowerOfTwo(cap);\r\n        arr = new Object[this.cap];\r\n        mask = this.cap - 1;\r\n    }\r\n\r\n    @Override\r\n    public boolean offer(E e) {\r\n        if (null == e) {\r\n            throw new NullPointerException(&quot;Null element&quot;);\r\n        }\r\n        final long index = this.putIndex;\r\n        final int mask = this.mask;\r\n        final int offset = (int) (mask &amp; index);\r\n        if (arr[offset] != null) {\r\n            return false;\r\n        }\r\n        arr[offset] = e;  // use unsafe.xxx ? or AtomicReferenceArray#set?\r\n        putIndex = (index+1); // use AtomicLong#increment?\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public E poll() {\r\n        final long index = this.takeIndex;\r\n        final int mask = this.mask;\r\n        final int offset = (int) (mask &amp; index);\r\n        final E e = (E) arr[offset];\r\n        if (e == null) {\r\n            return null;\r\n        }\r\n        takeIndex = (index + 1); // use AtomicLong#increment?\r\n        arr[offset] = null; // use unsafe.xxx ? or AtomicReferenceArray#set?\r\n        return e;\r\n    }\r\n\r\n    // other methods\r\n}","title":"Thread safety issues of SpscArrayQueue","body":"<p>In a single producer and single consumer scenario, is this <code>queue</code> thread-safe?</p>\n<ol>\n<li><code>takeIndex</code> and <code>putIndex</code> need to be <code>AtomicLong</code>?</li>\n<li><code>Object[] ar</code> need to be <code>AtomicReferenceArray</code> so we can use <code>AtomicReferenceArray#set</code> to update <code>array</code>.</li>\n</ol>\n<p>My understanding is that <code>Object[] arr</code> needs to be an <code>AtomicReferenceArray</code> to ensure visibility, so that when the <code>producer</code> puts an element, the consumer can see it immediately. Otherwise, when there is already an element in the array, maybe the <code>consumer</code> cannot consume it immediately (it may take the next <code>poll</code> to get the data), this will cause data consume delay?  But it will not bring abnormal behavior, such as consume the same element twice, or throw some unexpected exceptions (These are unacceptable).</p>\n<pre><code>public class SpscArrayQueue&lt;E&gt; implements Queue&lt;E&gt; {\n\n    private final int cap;\n    private Object[] arr; // change to AtomicReferenceArray?\n    long takeIndex;  // change to AtomicLong?\n    long putIndex;   // change to AtomicLong?\n    final int mask;\n\n    static int ceilingNextPowerOfTwo(int x) {\n        return 1 &lt;&lt; (Integer.SIZE - Integer.numberOfLeadingZeros(x - 1));\n    }\n\n    public SpscArrayQueue(int cap) {\n        this.cap = ceilingNextPowerOfTwo(cap);\n        arr = new Object[this.cap];\n        mask = this.cap - 1;\n    }\n\n    @Override\n    public boolean offer(E e) {\n        if (null == e) {\n            throw new NullPointerException(&quot;Null element&quot;);\n        }\n        final long index = this.putIndex;\n        final int mask = this.mask;\n        final int offset = (int) (mask &amp; index);\n        if (arr[offset] != null) {\n            return false;\n        }\n        arr[offset] = e;  // use unsafe.xxx ? or AtomicReferenceArray#set?\n        putIndex = (index+1); // use AtomicLong#increment?\n        return true;\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public E poll() {\n        final long index = this.takeIndex;\n        final int mask = this.mask;\n        final int offset = (int) (mask &amp; index);\n        final E e = (E) arr[offset];\n        if (e == null) {\n            return null;\n        }\n        takeIndex = (index + 1); // use AtomicLong#increment?\n        arr[offset] = null; // use unsafe.xxx ? or AtomicReferenceArray#set?\n        return e;\n    }\n\n    // other methods\n}\n</code></pre>\n"},{"tags":["java","json","angular","spring-boot","syncfusion-calendar"],"comments":[{"owner":{"account_id":4886174,"reputation":261,"user_id":3938561,"display_name":"RBH"},"score":0,"creation_date":1638369541,"post_id":70185733,"comment_id":124069989,"body_markdown":"https://stackoverflow.com/questions/8100634/get-the-post-request-body-from-httpservletrequest","body":"<a href=\"https://stackoverflow.com/questions/8100634/get-the-post-request-body-from-httpservletrequest\" title=\"get the post request body from httpservletrequest\">stackoverflow.com/questions/8100634/&hellip;</a>"},{"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"score":0,"creation_date":1638413213,"post_id":70185733,"comment_id":124083971,"body_markdown":"Can&#39;t you just use a @RequestBody ?","body":"Can&#39;t you just use a @RequestBody ?"}],"owner":{"account_id":13494535,"reputation":45,"user_id":9735768,"display_name":"Niraj Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638367871,"creation_date":1638367871,"question_id":70185733,"body_markdown":"Getting the below data in the payload tab of my browser while sending post requests.\r\n\r\n\r\n&quot;--batch_8c82e185-cbdf-4d70-a62d-a48c9e869bf8\r\nContent-Type: application/http; msgtype=request\r\n\r\nPOST /api/null HTTP/1.1\r\nContent-Type: application/json; charset=utf-8\r\nHost: localhost:4200\r\n\r\n**{&quot;Subject&quot;:&quot;ankita&quot;,&quot;StartTime&quot;:&quot;2021-11-29T04:00:00.000Z&quot;,&quot;EndTime&quot;:&quot;2021-11-29T04:30:00.000Z&quot;,&quot;IsAllDay&quot;:false,&quot;StartTimezone&quot;:null,&quot;EndTimezone&quot;:null,&quot;RecurrenceRule&quot;:null,&quot;Id&quot;:4}**\r\n--batch_8c82e185-cbdf-4d70-a62d-a48c9e869bf8--&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Note:** I am using a third-party library(syncfusion calendar) where I can&#39;t customize my request in the body part with JSON.\r\n\r\n \r\nI am only concerned with the above JSON data.\r\n\r\nI want to access this data in the post API method(**addAppointment**) in spring boot.\r\nconsider the below code for the controller:\r\n\r\n    @RequestMapping(value = &quot;/appointment/{batch}&quot; , method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; addAppointment(@PathVariable Map batch,HttpServletRequest request) throws IOException {\r\n\r\n    /* code required to access that payload JSON data*/\r\n\r\n    }\r\n\r\nwhat line of code is required to access that JSON data?\r\nPlease help.\r\n\r\n  [1]: https://i.stack.imgur.com/rATwt.png","title":"How to access json data which is present in payload of angular request in springBoot post API || syncfusion angular calender","body":"<p>Getting the below data in the payload tab of my browser while sending post requests.</p>\n<p>&quot;--batch_8c82e185-cbdf-4d70-a62d-a48c9e869bf8\nContent-Type: application/http; msgtype=request</p>\n<p>POST /api/null HTTP/1.1\nContent-Type: application/json; charset=utf-8\nHost: localhost:4200</p>\n<p><strong>{&quot;Subject&quot;:&quot;ankita&quot;,&quot;StartTime&quot;:&quot;2021-11-29T04:00:00.000Z&quot;,&quot;EndTime&quot;:&quot;2021-11-29T04:30:00.000Z&quot;,&quot;IsAllDay&quot;:false,&quot;StartTimezone&quot;:null,&quot;EndTimezone&quot;:null,&quot;RecurrenceRule&quot;:null,&quot;Id&quot;:4}</strong>\n--batch_8c82e185-cbdf-4d70-a62d-a48c9e869bf8--&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/rATwt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rATwt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Note:</strong> I am using a third-party library(syncfusion calendar) where I can't customize my request in the body part with JSON.</p>\n<p>I am only concerned with the above JSON data.</p>\n<p>I want to access this data in the post API method(<strong>addAppointment</strong>) in spring boot.\nconsider the below code for the controller:</p>\n<pre><code>@RequestMapping(value = &quot;/appointment/{batch}&quot; , method = RequestMethod.POST)\npublic ResponseEntity&lt;?&gt; addAppointment(@PathVariable Map batch,HttpServletRequest request) throws IOException {\n\n/* code required to access that payload JSON data*/\n\n}\n</code></pre>\n<p>what line of code is required to access that JSON data?\nPlease help.</p>\n"},{"tags":["java","camunda"],"answers":[{"tags":[],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638367812,"creation_date":1638367812,"answer_id":70185722,"question_id":70097631,"body_markdown":"Add following code to the method `processEngineConfiguration()` above:\r\n\r\n```\r\nfinal ThreadPoolJobExecutor executor = new DefaultJobExecutor();\r\nexecutor.setMaxJobsPerAcquisition(3);\r\nexecutor.setWaitTimeInMillis(500);\r\nexecutor.setLockTimeInMillis(300000);\r\nexecutor.setMaxBackoff(150);\r\nexecutor.setMaxWait(50);\r\n\r\nfinal SpringProcessEngineConfiguration config = new SpringProcessEngineConfiguration();\r\n\r\nconfig.setJobExecutor(executor);\r\nconfig.setJobExecutorDeploymentAware(true);\r\n```","title":"How can I set `backoff-time-in-millis` parameter when creating a Camunda configuration programmatically?","body":"<p>Add following code to the method <code>processEngineConfiguration()</code> above:</p>\n<pre><code>final ThreadPoolJobExecutor executor = new DefaultJobExecutor();\nexecutor.setMaxJobsPerAcquisition(3);\nexecutor.setWaitTimeInMillis(500);\nexecutor.setLockTimeInMillis(300000);\nexecutor.setMaxBackoff(150);\nexecutor.setMaxWait(50);\n\nfinal SpringProcessEngineConfiguration config = new SpringProcessEngineConfiguration();\n\nconfig.setJobExecutor(executor);\nconfig.setJobExecutorDeploymentAware(true);\n</code></pre>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70185722,"answer_count":1,"score":0,"last_activity_date":1638367812,"creation_date":1637763095,"question_id":70097631,"body_markdown":"I have the class below in which I want to configure my Camunda process engine.\r\n\r\nI want to make the engine deployment-aware and set the [backoff-time-in-millis](https://docs.camunda.org/manual/latest/user-guide/spring-boot-integration/configuration/#camunda-engine-properties).\r\n\r\nI can do the former using `config.setJobExecutorDeploymentAware(true);`.\r\n\r\n**How can I set the `backoff-time-in-millis` and other parameters of the job executor?**\r\n\r\nThe obvious solution (`config.getJobExecutor().setBackoffTimeInMillis(100);`) is not applicable because when the method `org.example.Config#processEngineConfiguration` is called, `config.getJobExecutor()` is equal to `null`.\r\n\r\n```\r\n@Configuration\r\n@Import( SpringProcessEngineServicesConfiguration.class )\r\npublic class Config {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Config.class);\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;camundaBpmDataSource&quot;)\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;camundaTxManager&quot;)\r\n    private PlatformTransactionManager txManager;\r\n\r\n    @Autowired\r\n    private ResourcePatternResolver resourceLoader;\r\n\r\n    @Bean\r\n    public SpringProcessEngineConfiguration processEngineConfiguration() {\r\n        final SpringProcessEngineConfiguration config = new SpringProcessEngineConfiguration();\r\n\r\n        config.setJobExecutorDeploymentAware(true);\r\n        config.setIdGenerator(new StrongUuidGenerator());\r\n        config.setDataSource(dataSource);\r\n        config.setTransactionManager(txManager);\r\n        config.setDatabaseSchemaUpdate(&quot;true&quot;);\r\n\r\n        config.getProcessEnginePlugins().add(new SpinProcessEnginePlugin());\r\n\r\n        config.setHistory(HistoryLevel.HISTORY_LEVEL_FULL.getName());\r\n        config.setJobExecutorActivate(true);\r\n        config.setMetricsEnabled(false);\r\n        final Logger logger = LoggerFactory.getLogger(&quot;History Event Handler&quot;);\r\n\r\n        final HistoryEventHandler testHistoryEventHandler = new HistoryEventHandler() {\r\n\r\n            @Override\r\n            public void handleEvent(final HistoryEvent evt) {\r\n                LOGGER.debug(&quot;handleEvent | &quot; + evt.getProcessInstanceId() + &quot; | &quot;\r\n                        + evt.toString());\r\n            }\r\n\r\n            @Override\r\n            public void handleEvents(final List&lt;HistoryEvent&gt; events) {\r\n                for (final HistoryEvent curEvent : events) {\r\n                    handleEvent(curEvent);\r\n                }\r\n            }\r\n        };\r\n\r\n        config.setHistoryEventHandler(new CompositeHistoryEventHandler(Collections.singletonList(testHistoryEventHandler)));\r\n\r\n        try {\r\n            final Resource[] bpmnResources = resourceLoader.getResources(&quot;classpath:*.bpmn&quot;);\r\n            final Resource[] dmnResources = resourceLoader.getResources(&quot;classpath:*.dmn&quot;);\r\n            config.setDeploymentResources(addAll(bpmnResources, dmnResources));\r\n        } catch (final IOException exception) {\r\n            exception.printStackTrace();\r\n            LOGGER.error(&quot;An error occurred while trying to deploy BPMN and DMN files&quot;, exception);\r\n        }\r\n\r\n        return config;\r\n    }\r\n}\r\n```","title":"How can I set `backoff-time-in-millis` parameter when creating a Camunda configuration programmatically?","body":"<p>I have the class below in which I want to configure my Camunda process engine.</p>\n<p>I want to make the engine deployment-aware and set the <a href=\"https://docs.camunda.org/manual/latest/user-guide/spring-boot-integration/configuration/#camunda-engine-properties\" rel=\"nofollow noreferrer\">backoff-time-in-millis</a>.</p>\n<p>I can do the former using <code>config.setJobExecutorDeploymentAware(true);</code>.</p>\n<p><strong>How can I set the <code>backoff-time-in-millis</code> and other parameters of the job executor?</strong></p>\n<p>The obvious solution (<code>config.getJobExecutor().setBackoffTimeInMillis(100);</code>) is not applicable because when the method <code>org.example.Config#processEngineConfiguration</code> is called, <code>config.getJobExecutor()</code> is equal to <code>null</code>.</p>\n<pre><code>@Configuration\n@Import( SpringProcessEngineServicesConfiguration.class )\npublic class Config {\n    private static final Logger LOGGER = LoggerFactory.getLogger(Config.class);\n\n    @Autowired\n    @Qualifier(&quot;camundaBpmDataSource&quot;)\n    private DataSource dataSource;\n\n    @Autowired\n    @Qualifier(&quot;camundaTxManager&quot;)\n    private PlatformTransactionManager txManager;\n\n    @Autowired\n    private ResourcePatternResolver resourceLoader;\n\n    @Bean\n    public SpringProcessEngineConfiguration processEngineConfiguration() {\n        final SpringProcessEngineConfiguration config = new SpringProcessEngineConfiguration();\n\n        config.setJobExecutorDeploymentAware(true);\n        config.setIdGenerator(new StrongUuidGenerator());\n        config.setDataSource(dataSource);\n        config.setTransactionManager(txManager);\n        config.setDatabaseSchemaUpdate(&quot;true&quot;);\n\n        config.getProcessEnginePlugins().add(new SpinProcessEnginePlugin());\n\n        config.setHistory(HistoryLevel.HISTORY_LEVEL_FULL.getName());\n        config.setJobExecutorActivate(true);\n        config.setMetricsEnabled(false);\n        final Logger logger = LoggerFactory.getLogger(&quot;History Event Handler&quot;);\n\n        final HistoryEventHandler testHistoryEventHandler = new HistoryEventHandler() {\n\n            @Override\n            public void handleEvent(final HistoryEvent evt) {\n                LOGGER.debug(&quot;handleEvent | &quot; + evt.getProcessInstanceId() + &quot; | &quot;\n                        + evt.toString());\n            }\n\n            @Override\n            public void handleEvents(final List&lt;HistoryEvent&gt; events) {\n                for (final HistoryEvent curEvent : events) {\n                    handleEvent(curEvent);\n                }\n            }\n        };\n\n        config.setHistoryEventHandler(new CompositeHistoryEventHandler(Collections.singletonList(testHistoryEventHandler)));\n\n        try {\n            final Resource[] bpmnResources = resourceLoader.getResources(&quot;classpath:*.bpmn&quot;);\n            final Resource[] dmnResources = resourceLoader.getResources(&quot;classpath:*.dmn&quot;);\n            config.setDeploymentResources(addAll(bpmnResources, dmnResources));\n        } catch (final IOException exception) {\n            exception.printStackTrace();\n            LOGGER.error(&quot;An error occurred while trying to deploy BPMN and DMN files&quot;, exception);\n        }\n\n        return config;\n    }\n}\n</code></pre>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1638360078,"post_id":70183505,"comment_id":124065965,"body_markdown":"You can add potion effect ? Also, I know that armor stand have `setVisible(false)` but not bat on spigot 1.8","body":"You can add potion effect ? Also, I know that armor stand have <code>setVisible(false)</code> but not bat on spigot 1.8"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1638364018,"post_id":70183505,"comment_id":124067457,"body_markdown":"I specifically do not want to use potion effects, see my explaination above. Also, I&#39;m not using armor stands, I&#39;m using bats, which do not have this possibility. `setVisible` is specific for armor stands.","body":"I specifically do not want to use potion effects, see my explaination above. Also, I&#39;m not using armor stands, I&#39;m using bats, which do not have this possibility. <code>setVisible</code> is specific for armor stands."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1638364365,"post_id":70183505,"comment_id":124067576,"body_markdown":"From spigot&#39;s thread, wait 2 ticks before set invisible works (sorry i don&#39;t have the time to test it)","body":"From spigot&#39;s thread, wait 2 ticks before set invisible works (sorry i don&#39;t have the time to test it)"},{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1638366142,"post_id":70183505,"comment_id":124068335,"body_markdown":"I have read the available posts on the issue, and if you can explain me how to get the proper instance of `CraftBat` I&#39;ll be delighted to do as you suggested ^^","body":"I have read the available posts on the issue, and if you can explain me how to get the proper instance of <code>CraftBat</code> I&#39;ll be delighted to do as you suggested ^^"}],"answers":[{"tags":[],"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638367657,"creation_date":1638367657,"answer_id":70185672,"question_id":70183505,"body_markdown":"I&#39;ve found an alternate solution. It&#39;s actually possible to hide the particles per default on bukkit side. I therefore used PotionEffect&#39;s, looking like this:\r\n\r\n```java\r\nEntity entity = location.getWorld().spawnEntity(location, EntityType.BAT); \r\nLivingEntity livingEntity = (LivingEntity) entity;\r\nPotionEffect effect = new PotionEffect(PotionEffectType.INVISIBILITY, Integer.MAX_VALUE, 1, false, false);\r\nlivingEntity.addPotionEffect(effect);\r\nbats.add(livingEntity);\r\n```\r\n","title":"Spawn invisible Bat - convert org.bukkit.Entity to org.bukkit.craftbukkit.v1_8_R3.entity.CraftBat;","body":"<p>I've found an alternate solution. It's actually possible to hide the particles per default on bukkit side. I therefore used PotionEffect's, looking like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Entity entity = location.getWorld().spawnEntity(location, EntityType.BAT); \nLivingEntity livingEntity = (LivingEntity) entity;\nPotionEffect effect = new PotionEffect(PotionEffectType.INVISIBILITY, Integer.MAX_VALUE, 1, false, false);\nlivingEntity.addPotionEffect(effect);\nbats.add(livingEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638367787,"creation_date":1638367787,"answer_id":70185713,"question_id":70183505,"body_markdown":"I found a solution without packet. With a quick timer, it&#39;s fine :\r\n\r\n```java\r\nEntity bat = location.getWorld().spawnEntity(location, EntityType.BAT);\r\nBukkit.getScheduler().runTaskLater(MyPlugin.getInstance(), () -&gt; {\r\n\t((CraftBat) bat).getHandle().setInvisible(true);\r\n}, 2);\r\n```","title":"Spawn invisible Bat - convert org.bukkit.Entity to org.bukkit.craftbukkit.v1_8_R3.entity.CraftBat;","body":"<p>I found a solution without packet. With a quick timer, it's fine :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Entity bat = location.getWorld().spawnEntity(location, EntityType.BAT);\nBukkit.getScheduler().runTaskLater(MyPlugin.getInstance(), () -&gt; {\n    ((CraftBat) bat).getHandle().setInvisible(true);\n}, 2);\n</code></pre>\n"}],"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70185713,"answer_count":2,"score":0,"last_activity_date":1638367787,"creation_date":1638358643,"question_id":70183505,"body_markdown":"I&#39;m creating a Plugin that need some invisible Bats. I therefore have a method that spawns and stores my bats. This is the code, I currently have:\r\n\r\n```java\r\npublic class BatManager {\r\n    private static final List&lt;Entity&gt; bats = new ArrayList&lt;&gt;();\r\n\r\n    public static void spawnBat(Location location) {\r\n        Entity entity = location.getWorld().spawnEntity(location, EntityType.BAT);\r\n        try {\r\n            CraftBat l = (CraftBat) entity;\r\n            l.getHandle().setInvisible(true);\r\n        } catch (RuntimeException e) {\r\n            e.printStackTrace();\r\n        }\r\n        bats.add(entity);\r\n    }\r\n}\r\n```\r\n\r\nThis code does compile, however it does not make the bat invisible. I strongly suspect that I create a copy of the object at some point, and set the invisibility there. I&#39;m not sure however how I can set the invisibility without the conversion to CraftBat, since there are no methods I know of, to make a `org.bukkit.Entity` invisible on its&#39; own.\r\n\r\nHow can I correct this?\r\n\r\nI&#39;m open for other suggestions concerning the invisibility as well, but I do explicitly not want to use Potion effects, since those leave some particles for the Player to see.","title":"Spawn invisible Bat - convert org.bukkit.Entity to org.bukkit.craftbukkit.v1_8_R3.entity.CraftBat;","body":"<p>I'm creating a Plugin that need some invisible Bats. I therefore have a method that spawns and stores my bats. This is the code, I currently have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatManager {\n    private static final List&lt;Entity&gt; bats = new ArrayList&lt;&gt;();\n\n    public static void spawnBat(Location location) {\n        Entity entity = location.getWorld().spawnEntity(location, EntityType.BAT);\n        try {\n            CraftBat l = (CraftBat) entity;\n            l.getHandle().setInvisible(true);\n        } catch (RuntimeException e) {\n            e.printStackTrace();\n        }\n        bats.add(entity);\n    }\n}\n</code></pre>\n<p>This code does compile, however it does not make the bat invisible. I strongly suspect that I create a copy of the object at some point, and set the invisibility there. I'm not sure however how I can set the invisibility without the conversion to CraftBat, since there are no methods I know of, to make a <code>org.bukkit.Entity</code> invisible on its' own.</p>\n<p>How can I correct this?</p>\n<p>I'm open for other suggestions concerning the invisibility as well, but I do explicitly not want to use Potion effects, since those leave some particles for the Player to see.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8191,"page":1801,"page_size":100}
