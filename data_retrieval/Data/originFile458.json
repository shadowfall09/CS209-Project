{"items":[{"tags":["java","date"],"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":8,"creation_date":1335318867,"post_id":10308356,"comment_id":13267843,"body_markdown":"What do you mean it&#39;s &quot;not accurate&quot;?","body":"What do you mean it&#39;s &quot;not accurate&quot;?"},{"owner":{"account_id":419726,"reputation":92930,"user_id":797049,"accept_rate":91,"display_name":"Mark Reed"},"score":0,"creation_date":1335319078,"post_id":10308356,"comment_id":13267879,"body_markdown":"What&#39;s wrong with the code?  What are you getting that you don&#39;t expect?  What time zone do you want your days to start and end according to?","body":"What&#39;s wrong with the code?  What are you getting that you don&#39;t expect?  What time zone do you want your days to start and end according to?"},{"owner":{"account_id":1009841,"reputation":447,"user_id":1022678,"display_name":"Jerry Destremps"},"score":5,"creation_date":1381378406,"post_id":10308356,"comment_id":28559326,"body_markdown":"The code above does not even use the date passed into the method.  It should be doing: calendar.setTime( date ) after the calendar is created.","body":"The code above does not even use the date passed into the method.  It should be doing: calendar.setTime( date ) after the calendar is created."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1411144265,"post_id":10308356,"comment_id":40607415,"body_markdown":"This question assumes date-time values have a resolution of milliseconds. True for java.util.Date and Joda-Time. But False for java.time package in Java 8 (nanoseconds), some databases such as [Postgres](http://www.postgresql.org/docs/current/static/datatype-datetime.html) (microseconds), unix libraries (whole seconds), and perhaps others. See [my answer](http://stackoverflow.com/a/20536041/642706) for safer approach using Half-Open.","body":"This question assumes date-time values have a resolution of milliseconds. True for java.util.Date and Joda-Time. But False for java.time package in Java 8 (nanoseconds), some databases such as <a href=\"http://www.postgresql.org/docs/current/static/datatype-datetime.html\" rel=\"nofollow noreferrer\">Postgres</a> (microseconds), unix libraries (whole seconds), and perhaps others. See <a href=\"http://stackoverflow.com/a/20536041/642706\">my answer</a> for safer approach using Half-Open."},{"owner":{"account_id":1565422,"reputation":1256,"user_id":1454347,"accept_rate":50,"display_name":"astryk"},"score":0,"creation_date":1474689644,"post_id":10308356,"comment_id":66645794,"body_markdown":"The start of day is totally accurate to the mili. FOr the end of day why not just to TimeUnit.DAYS.toMiliseconds(1) - 1l to get the end of the day. Quite literally &#39;start of next day minus one&#39; . Easy.","body":"The start of day is totally accurate to the mili. FOr the end of day why not just to TimeUnit.DAYS.toMiliseconds(1) - 1l to get the end of the day. Quite literally &#39;start of next day minus one&#39; . Easy."},{"owner":{"account_id":103538,"reputation":13824,"user_id":277267,"accept_rate":69,"display_name":"Daniel F"},"score":2,"creation_date":1475573776,"post_id":10308356,"comment_id":66985916,"body_markdown":"Actually you should get the beginning of the next day and when iterating the items in that day (assuming you want to do that) you will specify the upper bound by using &lt; instead of &lt;=. That would exclude the next day but include all of the previous day down to the nanosecond.","body":"Actually you should get the beginning of the next day and when iterating the items in that day (assuming you want to do that) you will specify the upper bound by using &lt; instead of &lt;=. That would exclude the next day but include all of the previous day down to the nanosecond."},{"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"score":0,"creation_date":1565117622,"post_id":10308356,"comment_id":101248948,"body_markdown":"new Date(epochMillis).toInstant().truncatedTo(ChronoUnit.DAYS).plus(1, ChronoUnit.DAYS)","body":"new Date(epochMillis).toInstant().truncatedTo(ChronoUnit.DAYS).p&zwnj;&#8203;lus(1, ChronoUnit.DAYS)"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1404976297,"post_id":10308430,"comment_id":38247501,"body_markdown":"The second half of this answer is the best way. This approach is known as &quot;Half-Open&quot;. I explain further in [my answer](http://stackoverflow.com/a/20536041/642706).","body":"The second half of this answer is the best way. This approach is known as &quot;Half-Open&quot;. I explain further in <a href=\"http://stackoverflow.com/a/20536041/642706\">my answer</a>."}],"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1335319501,"creation_date":1335319501,"answer_id":10308430,"question_id":10308356,"body_markdown":"in getEndOfDay, you can add:\r\n\r\n    calendar.set(Calendar.MILLISECOND, 999);\r\n\r\nAlthough mathematically speaking, you can&#39;t specify the end of a day other than by saying it&#39;s &quot;before the beginning of the next day&quot;. \r\n\r\nSo instead of saying, `if(date &gt;= getStartOfDay(today) &amp;&amp; date &lt;= getEndOfDay(today))`, you should say: `if(date &gt;= getStartOfDay(today) &amp;&amp; date &lt; getStartOfDay(tomorrow))`. That is a much more solid definition (and you don&#39;t have to worry about millisecond precision).","title":"How to obtain the start time and end time of a day?","body":"<p>in getEndOfDay, you can add:</p>\n\n<pre><code>calendar.set(Calendar.MILLISECOND, 999);\n</code></pre>\n\n<p>Although mathematically speaking, you can't specify the end of a day other than by saying it's \"before the beginning of the next day\". </p>\n\n<p>So instead of saying, <code>if(date &gt;= getStartOfDay(today) &amp;&amp; date &lt;= getEndOfDay(today))</code>, you should say: <code>if(date &gt;= getStartOfDay(today) &amp;&amp; date &lt; getStartOfDay(tomorrow))</code>. That is a much more solid definition (and you don't have to worry about millisecond precision).</p>\n"},{"comments":[{"owner":{"account_id":31708,"reputation":13631,"user_id":87298,"accept_rate":67,"display_name":"Edward Anderson"},"score":5,"creation_date":1436814396,"post_id":12679472,"comment_id":50759458,"body_markdown":"I recommend against this approach because of the edge case issues you&#39;ll run into with time zones, daylight savings, etc. that a time library like Joda will take care of for you.","body":"I recommend against this approach because of the edge case issues you&#39;ll run into with time zones, daylight savings, etc. that a time library like Joda will take care of for you."},{"owner":{"account_id":5204481,"reputation":694,"user_id":4162883,"accept_rate":90,"display_name":"Konstantin Kulagin"},"score":8,"creation_date":1458062343,"post_id":12679472,"comment_id":59687156,"body_markdown":"I think in `getStartOfDay` should be: `LocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);` I.e. LocalTime, not LocalDateTime.","body":"I think in <code>getStartOfDay</code> should be: <code>LocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);</code> I.e. LocalTime, not LocalDateTime."},{"owner":{"account_id":1246120,"reputation":768,"user_id":1207540,"accept_rate":82,"display_name":"Glen Mazza"},"score":0,"creation_date":1465834673,"post_id":12679472,"comment_id":63055307,"body_markdown":"Don&#39;t think those `getEndOfDay(Date date)`. `getStartOfDay(Date date)` methods in the Java 8 section are correct, namely LocalDateTime.MAX and .MIN put you at the earliest possible dates in the past and in the future, *not* the beginning and ending of a day.  Instead I&#39;d suggest .atStartOfDay() for start and .plusDays(1).atStartOfDay().minusNanos(1) for end.","body":"Don&#39;t think those <code>getEndOfDay(Date date)</code>. <code>getStartOfDay(Date date)</code> methods in the Java 8 section are correct, namely LocalDateTime.MAX and .MIN put you at the earliest possible dates in the past and in the future, <i>not</i> the beginning and ending of a day.  Instead I&#39;d suggest .atStartOfDay() for start and .plusDays(1).atStartOfDay().minusNanos(1) for end."},{"owner":{"account_id":7633596,"reputation":1544,"user_id":5787829,"display_name":"sanluck"},"score":0,"creation_date":1474343439,"post_id":12679472,"comment_id":66480524,"body_markdown":"Method `localDateTimeToDate(LocalDateTime startOfDay)` throws Exception - java.lang.IllegalArgumentException: java.lang.ArithmeticException: long overflow","body":"Method <code>localDateTimeToDate(LocalDateTime startOfDay)</code> throws Exception - java.lang.IllegalArgumentException: java.lang.ArithmeticException: long overflow"},{"owner":{"account_id":7633596,"reputation":1544,"user_id":5787829,"display_name":"sanluck"},"score":0,"creation_date":1474343868,"post_id":12679472,"comment_id":66480604,"body_markdown":"As @KonstantinKulagin said, the answer must be corrected to `LocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);`  Otherwise it fails with error I posted above,","body":"As @KonstantinKulagin said, the answer must be corrected to <code>LocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);</code>  Otherwise it fails with error I posted above,"},{"owner":{"account_id":5456285,"reputation":317,"user_id":5490441,"accept_rate":75,"display_name":"Frederico Pantuzza"},"score":1,"creation_date":1477915820,"post_id":12679472,"comment_id":67937818,"body_markdown":"@GlenMazza the Java 8 solution uses [**LocalTime**.MAX](https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MAX), not [LocalDateTime.MAX](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#MAX). The solution is correct.","body":"@GlenMazza the Java 8 solution uses <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MAX\" rel=\"nofollow noreferrer\"><b>LocalTime</b>.MAX</a>, not <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#MAX\" rel=\"nofollow noreferrer\">LocalDateTime.MAX</a>. The solution is correct."},{"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"score":2,"creation_date":1520297440,"post_id":12679472,"comment_id":85249049,"body_markdown":"Doesn&#39;t look like `LocalDateTime` has method `atStartOfDay`","body":"Doesn&#39;t look like <code>LocalDateTime</code> has method <code>atStartOfDay</code>"},{"owner":{"account_id":6745229,"reputation":185,"user_id":5197036,"display_name":"Jeroen"},"score":0,"creation_date":1527163208,"post_id":12679472,"comment_id":88029552,"body_markdown":"If you are using this date for a database the without Apache commons methode won&#39;t work.\n\nThe calendar.set(Calendar.MILLISECOND, 999); gets rounded,\nIt should be: calendar.set(Calendar.MILLISECOND, 997); \nFor database the datetime values are rounded to increments of .000, .003, or .007 seconds.\nhttps://stackoverflow.com/questions/4307635/undesired-rounding-of-datetime-in-sql-server","body":"If you are using this date for a database the without Apache commons methode won&#39;t work.  The calendar.set(Calendar.MILLISECOND, 999); gets rounded, It should be: calendar.set(Calendar.MILLISECOND, 997);  For database the datetime values are rounded to increments of .000, .003, or .007 seconds. <a href=\"https://stackoverflow.com/questions/4307635/undesired-rounding-of-datetime-in-sql-server\" title=\"undesired rounding of datetime in sql server\">stackoverflow.com/questions/4307635/&hellip;</a>"}],"tags":[],"owner":{"account_id":191463,"reputation":2807,"user_id":1660607,"display_name":"RKumsher"},"comment_count":8,"down_vote_count":2,"up_vote_count":233,"is_accepted":false,"score":231,"last_activity_date":1521319451,"creation_date":1349118586,"answer_id":12679472,"question_id":10308356,"body_markdown":"Java 8\r\n------\r\n------\r\n\r\n\tpublic static Date atStartOfDay(Date date) {\r\n\t\tLocalDateTime localDateTime = dateToLocalDateTime(date);\r\n\t\tLocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);\r\n\t\treturn localDateTimeToDate(startOfDay);\r\n\t}\r\n\r\n\tpublic static Date atEndOfDay(Date date) {\r\n\t\tLocalDateTime localDateTime = dateToLocalDateTime(date);\r\n\t\tLocalDateTime endOfDay = localDateTime.with(LocalTime.MAX);\r\n\t\treturn localDateTimeToDate(endOfDay);\r\n\t}\r\n\r\n\tprivate static LocalDateTime dateToLocalDateTime(Date date) {\r\n\t\treturn LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());\r\n\t}\r\n\r\n\tprivate static Date localDateTimeToDate(LocalDateTime localDateTime) {\r\n\t\treturn Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());\r\n\t}\r\n\r\n**Update**: I&#39;ve added these 2 methods to my Java Utility Classes [here][1]\r\n\r\n - [DateUtils.atStartOfDay][2]\r\n - [DateUtils.atEndOfDay][3]\r\n\r\nIt is in the Maven Central Repository at:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.rkumsher&lt;/groupId&gt;\r\n      &lt;artifactId&gt;utils&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nJava 7 and Earlier\r\n------------------\r\n------------------\r\n\r\nWith Apache Commons\r\n-------------------\r\n\r\n    public static Date atEndOfDay(Date date) {\r\n        return DateUtils.addMilliseconds(DateUtils.ceiling(date, Calendar.DATE), -1);\r\n    }\r\n\r\n    public static Date atStartOfDay(Date date) {\r\n        return DateUtils.truncate(date, Calendar.DATE);\r\n    }\r\n\r\nWithout Apache Commons\r\n----------------------\r\n\r\n    \r\n    public Date atEndOfDay(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n        calendar.set(Calendar.HOUR_OF_DAY, 23);\r\n        calendar.set(Calendar.MINUTE, 59);\r\n        calendar.set(Calendar.SECOND, 59);\r\n        calendar.set(Calendar.MILLISECOND, 999);\r\n        return calendar.getTime();\r\n    }\r\n\r\n    public Date atStartOfDay(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(date);\r\n        calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n        calendar.set(Calendar.MINUTE, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n        return calendar.getTime();\r\n    }\r\n\r\n\r\n  [1]: https://github.com/RKumsher/utils\r\n  [2]: https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/date/DateUtils.java#L47\r\n  [3]: https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/date/DateUtils.java#L61","title":"How to obtain the start time and end time of a day?","body":"<h2>Java 8</h2>\n\n<hr>\n\n<pre><code>public static Date atStartOfDay(Date date) {\n    LocalDateTime localDateTime = dateToLocalDateTime(date);\n    LocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);\n    return localDateTimeToDate(startOfDay);\n}\n\npublic static Date atEndOfDay(Date date) {\n    LocalDateTime localDateTime = dateToLocalDateTime(date);\n    LocalDateTime endOfDay = localDateTime.with(LocalTime.MAX);\n    return localDateTimeToDate(endOfDay);\n}\n\nprivate static LocalDateTime dateToLocalDateTime(Date date) {\n    return LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());\n}\n\nprivate static Date localDateTimeToDate(LocalDateTime localDateTime) {\n    return Date.from(localDateTime.atZone(ZoneId.systemDefault()).toInstant());\n}\n</code></pre>\n\n<p><strong>Update</strong>: I've added these 2 methods to my Java Utility Classes <a href=\"https://github.com/RKumsher/utils\" rel=\"noreferrer\">here</a></p>\n\n<ul>\n<li><a href=\"https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/date/DateUtils.java#L47\" rel=\"noreferrer\">DateUtils.atStartOfDay</a></li>\n<li><a href=\"https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/date/DateUtils.java#L61\" rel=\"noreferrer\">DateUtils.atEndOfDay</a></li>\n</ul>\n\n<p>It is in the Maven Central Repository at:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.rkumsher&lt;/groupId&gt;\n  &lt;artifactId&gt;utils&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>Java 7 and Earlier</h2>\n\n<hr>\n\n<h2>With Apache Commons</h2>\n\n<pre><code>public static Date atEndOfDay(Date date) {\n    return DateUtils.addMilliseconds(DateUtils.ceiling(date, Calendar.DATE), -1);\n}\n\npublic static Date atStartOfDay(Date date) {\n    return DateUtils.truncate(date, Calendar.DATE);\n}\n</code></pre>\n\n<h2>Without Apache Commons</h2>\n\n<pre><code>public Date atEndOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    calendar.set(Calendar.HOUR_OF_DAY, 23);\n    calendar.set(Calendar.MINUTE, 59);\n    calendar.set(Calendar.SECOND, 59);\n    calendar.set(Calendar.MILLISECOND, 999);\n    return calendar.getTime();\n}\n\npublic Date atStartOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(date);\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n    return calendar.getTime();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1582617951,"post_id":20536041,"comment_id":106829533,"body_markdown":"I need to use `LocalDateTime`","body":"I need to use <code>LocalDateTime</code>"},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663254075,"post_id":20536041,"comment_id":130200638,"body_markdown":"But what if I do need the very last nanosecond of the day using just java.time? What should I do? Use the accepted answer, the comment in the accepted answer that states that we should code `.plusDays(1).atStartOfDay().minusNanos(1)` or something else?","body":"But what if I do need the very last nanosecond of the day using just java.time? What should I do? Use the accepted answer, the comment in the accepted answer that states that we should code <code>.plusDays(1).atStartOfDay().minusNanos(1)</code> or something else?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1663261524,"post_id":20536041,"comment_id":130203430,"body_markdown":"@PhilippeGioseffi No, you would never need to know the last minute/second/nanosecond. All that you need to know is the *first moment of the following day*. If you want to know if a moment occurs by the end of tomorrow: `myInstant.isBefore( LocalDate.now( zoneId ).plusDays( 2 ).atStartOfDay( zoneId ).toInstant() )`. Notice we added *two* days, to get past tomorrow, to the first moment of the day after tomorrow. I suggest you shift your thinking to the Half-Open approach. Date-time handling is much easier, and less error-prone, with Half-Open.","body":"@PhilippeGioseffi No, you would never need to know the last minute/second/nanosecond. All that you need to know is the <i>first moment of the following day</i>. If you want to know if a moment occurs by the end of tomorrow: <code>myInstant.isBefore( LocalDate.now( zoneId ).plusDays( 2 ).atStartOfDay( zoneId ).toInstant() )</code>. Notice we added <i>two</i> days, to get past tomorrow, to the first moment of the day after tomorrow. I suggest you shift your thinking to the Half-Open approach. Date-time handling is much easier, and less error-prone, with Half-Open."},{"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"score":0,"creation_date":1663279455,"post_id":20536041,"comment_id":130208696,"body_markdown":"@BasilBourque, I&#39;ve been reading about this specific subject and got convinced that you&#39;re right. In addition to that, the user accepted the solution using with just the last second of the day.","body":"@BasilBourque, I&#39;ve been reading about this specific subject and got convinced that you&#39;re right. In addition to that, the user accepted the solution using with just the last second of the day."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":2,"up_vote_count":175,"is_accepted":true,"score":173,"last_activity_date":1595278710,"creation_date":1386827652,"answer_id":20536041,"question_id":10308356,"body_markdown":"# tl;dr\r\n\r\n    LocalDate                       // Represents an entire day, without time-of-day and without time zone.\r\n    .now(                           // Capture the current date.\r\n        ZoneId.of( &quot;Asia/Tokyo&quot; )   // Returns a `ZoneId` object.\r\n    )                               // Returns a `LocalDate` object.\r\n    .atStartOfDay(                  // Determines the first moment of the day as seen on that date in that time zone. Not all days start at 00:00!\r\n        ZoneId.of( &quot;Asia/Tokyo&quot; ) \r\n    )                               // Returns a `ZonedDateTime` object.\r\n\r\n\r\n\r\n\r\n\r\n# Start of day\r\n\r\nGet the full length of the today as seen in a time zone. \r\n\r\nUsing Half-Open approach, where the beginning is *inclusive* while the ending is *exclusive*. This approach solves the flaw in your code that fails to account for the very last second of the day.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n    LocalDate today = LocalDate.now( zoneId  ) ;\r\n\r\n    ZonedDateTime zdtStart = today.atStartOfDay( zoneId ) ;\r\n    ZonedDateTime zdtStop = today.plusDays( 1 ).atStartOfDay( zoneId ) ;\r\n\r\n&gt;zdtStart.toString() = 2020-01-30T00:00+01:00[Africa/Tunis]\r\n\r\n&gt;zdtStop.toString() = 2020-01-31T00:00+01:00[Africa/Tunis]\r\n\r\nSee the same moments in UTC. \r\n\r\n    Instant start = zdtStart.toInstant() ;\r\n    Instant stop = zdtStop.toInstant() ;\r\n\r\n&gt;start.toString() = 2020-01-29T23:00:00Z\r\n\r\n&gt;stop.toString() = 2020-01-30T23:00:00Z\r\n\r\nIf you want the entire day of a date as seen in UTC rather than in a time zone, use `OffsetDateTime`.\r\n\r\n    LocalDate today = LocalDate.now( ZoneOffset.UTC  ) ;\r\n\r\n    OffsetDateTime odtStart = today.atTime( OffsetTime.MIN ) ;\r\n    OffsetDateTime odtStop = today.plusDays( 1 ).atTime( OffsetTime.MIN ) ;\r\n\r\n&gt;odtStart.toString() = 2020-01-30T00:00+18:00\r\n\r\n&gt;odtStop.toString() = 2020-01-31T00:00+18:00\r\n\r\n\r\nThese `OffsetDateTime ` objects will already be in UTC, but you can call `toInstant` if you need such objects which are always in UTC by definition.\r\n\r\n    Instant start = odtStart.toInstant() ;\r\n    Instant stop = odtStop.toInstant() ;\r\n\r\n&gt;start.toString() = 2020-01-29T06:00:00Z\r\n\r\n&gt;stop.toString() = 2020-01-30T06:00:00Z\r\n\r\n\r\n\r\nTip: You may be interested in adding the [*ThreeTen-Extra*](https://www.threeten.org/threeten-extra/) library to your project to use its [`Interval`](https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html) class to represent this pair of `Instant` objects. This class offers useful methods for comparison such as `abuts`, `overlaps`, `contains`, and more.\r\n\r\n    Interval interval = Interval.of( start , stop ) ;\r\n\r\n&gt;interval.toString() = 2020-01-29T06:00:00Z/2020-01-30T06:00:00Z\r\n\r\n\r\n\r\n# Half-Open\r\n\r\nThe [answer by mprivat][2] is correct. His point is to not try to obtain end of a day, but rather compare to &quot;before start of next day&quot;. His idea is known as the &quot;Half-Open&quot; approach where a span of time has a **beginning that is inclusive** while the **ending is exclusive**.\r\n\r\n - The current date-time frameworks of Java (java.util.Date/Calendar and [Joda-Time][3]) both use milliseconds from the [epoch][4]. But in Java 8, the new JSR 310 java.time.* classes use nanoseconds resolution. Any code you wrote based on forcing the milliseconds count of last moment of day would be incorrect if switched to the new classes.\r\n - Comparing data from other sources becomes faulty if they employ other resolutions. For example, Unix libraries typically employ whole seconds, and databases such as [Postgres][5] resolve date-time to microseconds.\r\n - Some Daylight Saving Time changes happen over midnight which might further confuse things.\r\n\r\n![enter image description here][6]\r\n\r\n[Joda-Time][3] 2.3 offers a method for this very purpose, to obtain first moment of the day: [`withTimeAtStartOfDay()`](http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay()). Similarly in java.time, `LocalDate::atStartOfDay`.\r\n\r\n[Search StackOverflow for &quot;joda half-open&quot;](https://stackoverflow.com/search?q=joda+half-open) to see more discussion and examples.\r\n\r\nSee this post, [Time intervals and other ranges should be half-open](http://wrschneider.blogspot.com/2014/01/time-intervals-and-other-ranges-should.html), by Bill Schneider.\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe java.util.Date and .Calendar classes are notoriously troublesome. Avoid them. \r\n\r\nUse [*java.time*][7] classes. The *java.time* framework is the official successor of the highly successful [*Joda-Time*][8] library.\r\n\r\n# java.time\r\n\r\nThe java.time framework is built into Java 8 and later. Back-ported to Java 6 &amp; 7 in the [ThreeTen-Backport][9] project, further adapted to Android in the [ThreeTenABP][10] project.\r\n\r\nAn [`Instant`][11] is a moment on the timeline in [UTC][12] with a resolution of [nanoseconds][13]. \r\n\r\n    Instant instant = Instant.now();\r\n\r\nApply a time zone to get the [wall-clock time][14] for some locality. \r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\nTo get the first moment of the day go through the [`LocalDate`][15] class and its [`atStartOfDay`][16] method.\r\n\r\n    ZonedDateTime zdtStart = zdt.toLocalDate().atStartOfDay( zoneId );\r\n\r\nUsing Half-Open approach, get first moment of following day.\r\n\r\n    ZonedDateTime zdtTomorrowStart = zdtStart.plusDays( 1 );\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][1]][1]\r\n\r\nCurrently the java.time framework lacks an `Interval` class as described below for Joda-Time. However, the [ThreeTen-Extra][18] project extends java.time with additional classes. This project is the proving ground for possible future additions to java.time. Among its classes is [`Interval`][19]. Construct an `Interval` by passing a pair of `Instant` objects. We can extract an `Instant` from our `ZonedDateTime` objects.\r\n\r\n    Interval today = Interval.of( zdtStart.toInstant() , zdtTomorrowStart.toInstant() );\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\nUPDATE: The Joda-Time project is now in maintenance-mode, and advises migration to the *java.time* classes. I am leaving this section intact for history. \r\n\r\nJoda-Time has three classes to represent a span of time in various ways: `Interval`, `Period`, and `Duration`. An `Interval` has a specific beginning and ending on the timeline of the Universe. This fits our need to represent &quot;a day&quot;.\r\n\r\nWe call the method `withTimeAtStartOfDay` rather than set time of day to zeros. Because of Daylight Saving Time and other anomalies the first moment of the day may not be `00:00:00`.\r\n\r\nExample code using Joda-Time 2.3.\r\n\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;America/Montreal&quot; );\r\n    DateTime now = DateTime.now( timeZone );\r\n    DateTime todayStart = now.withTimeAtStartOfDay();\r\n    DateTime tomorrowStart = now.plusDays( 1 ).withTimeAtStartOfDay();\r\n    Interval today = new Interval( todayStart, tomorrowStart );\r\n\r\nIf you must, you can convert to a java.util.Date.\r\n\r\n    java.util.Date date = todayStart.toDate();\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WyAl2.png\r\n  [2]: https://stackoverflow.com/a/10308430/642706\r\n  [3]: http://www.joda.org/joda-time/\r\n  [4]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\r\n  [5]: http://www.postgresql.org/docs/current/static/datatype-datetime.html\r\n  [6]: http://i.stack.imgur.com/kE3r8.png\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [8]: https://www.joda.org/joda-time/\r\n  [9]: http://www.threeten.org/threetenbp/\r\n  [10]: https://github.com/JakeWharton/ThreeTenABP\r\n  [11]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [12]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [13]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [14]: https://en.wikipedia.org/wiki/Wall-clock_time\r\n  [15]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [16]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\r\n  [17]: https://i.stack.imgur.com/YTnDA.png\r\n  [18]: http://www.threeten.org/threeten-extra/\r\n  [19]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html","title":"How to obtain the start time and end time of a day?","body":"<h1>tl;dr</h1>\n<pre><code>LocalDate                       // Represents an entire day, without time-of-day and without time zone.\n.now(                           // Capture the current date.\n    ZoneId.of( &quot;Asia/Tokyo&quot; )   // Returns a `ZoneId` object.\n)                               // Returns a `LocalDate` object.\n.atStartOfDay(                  // Determines the first moment of the day as seen on that date in that time zone. Not all days start at 00:00!\n    ZoneId.of( &quot;Asia/Tokyo&quot; ) \n)                               // Returns a `ZonedDateTime` object.\n</code></pre>\n<h1>Start of day</h1>\n<p>Get the full length of the today as seen in a time zone.</p>\n<p>Using Half-Open approach, where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. This approach solves the flaw in your code that fails to account for the very last second of the day.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\nLocalDate today = LocalDate.now( zoneId  ) ;\n\nZonedDateTime zdtStart = today.atStartOfDay( zoneId ) ;\nZonedDateTime zdtStop = today.plusDays( 1 ).atStartOfDay( zoneId ) ;\n</code></pre>\n<blockquote>\n<p>zdtStart.toString() = 2020-01-30T00:00+01:00[Africa/Tunis]</p>\n</blockquote>\n<blockquote>\n<p>zdtStop.toString() = 2020-01-31T00:00+01:00[Africa/Tunis]</p>\n</blockquote>\n<p>See the same moments in UTC.</p>\n<pre><code>Instant start = zdtStart.toInstant() ;\nInstant stop = zdtStop.toInstant() ;\n</code></pre>\n<blockquote>\n<p>start.toString() = 2020-01-29T23:00:00Z</p>\n</blockquote>\n<blockquote>\n<p>stop.toString() = 2020-01-30T23:00:00Z</p>\n</blockquote>\n<p>If you want the entire day of a date as seen in UTC rather than in a time zone, use <code>OffsetDateTime</code>.</p>\n<pre><code>LocalDate today = LocalDate.now( ZoneOffset.UTC  ) ;\n\nOffsetDateTime odtStart = today.atTime( OffsetTime.MIN ) ;\nOffsetDateTime odtStop = today.plusDays( 1 ).atTime( OffsetTime.MIN ) ;\n</code></pre>\n<blockquote>\n<p>odtStart.toString() = 2020-01-30T00:00+18:00</p>\n</blockquote>\n<blockquote>\n<p>odtStop.toString() = 2020-01-31T00:00+18:00</p>\n</blockquote>\n<p>These <code>OffsetDateTime </code> objects will already be in UTC, but you can call <code>toInstant</code> if you need such objects which are always in UTC by definition.</p>\n<pre><code>Instant start = odtStart.toInstant() ;\nInstant stop = odtStop.toInstant() ;\n</code></pre>\n<blockquote>\n<p>start.toString() = 2020-01-29T06:00:00Z</p>\n</blockquote>\n<blockquote>\n<p>stop.toString() = 2020-01-30T06:00:00Z</p>\n</blockquote>\n<p>Tip: You may be interested in adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><em>ThreeTen-Extra</em></a> library to your project to use its <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a> class to represent this pair of <code>Instant</code> objects. This class offers useful methods for comparison such as <code>abuts</code>, <code>overlaps</code>, <code>contains</code>, and more.</p>\n<pre><code>Interval interval = Interval.of( start , stop ) ;\n</code></pre>\n<blockquote>\n<p>interval.toString() = 2020-01-29T06:00:00Z/2020-01-30T06:00:00Z</p>\n</blockquote>\n<h1>Half-Open</h1>\n<p>The <a href=\"https://stackoverflow.com/a/10308430/642706\">answer by mprivat</a> is correct. His point is to not try to obtain end of a day, but rather compare to &quot;before start of next day&quot;. His idea is known as the &quot;Half-Open&quot; approach where a span of time has a <strong>beginning that is inclusive</strong> while the <strong>ending is exclusive</strong>.</p>\n<ul>\n<li>The current date-time frameworks of Java (java.util.Date/Calendar and <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>) both use milliseconds from the <a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\" rel=\"noreferrer\">epoch</a>. But in Java 8, the new JSR 310 java.time.* classes use nanoseconds resolution. Any code you wrote based on forcing the milliseconds count of last moment of day would be incorrect if switched to the new classes.</li>\n<li>Comparing data from other sources becomes faulty if they employ other resolutions. For example, Unix libraries typically employ whole seconds, and databases such as <a href=\"http://www.postgresql.org/docs/current/static/datatype-datetime.html\" rel=\"noreferrer\">Postgres</a> resolve date-time to microseconds.</li>\n<li>Some Daylight Saving Time changes happen over midnight which might further confuse things.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/kE3r8.png\" alt=\"enter image description here\" /></p>\n<p><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> 2.3 offers a method for this very purpose, to obtain first moment of the day: <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay()\" rel=\"noreferrer\"><code>withTimeAtStartOfDay()</code></a>. Similarly in java.time, <code>LocalDate::atStartOfDay</code>.</p>\n<p><a href=\"https://stackoverflow.com/search?q=joda+half-open\">Search StackOverflow for &quot;joda half-open&quot;</a> to see more discussion and examples.</p>\n<p>See this post, <a href=\"http://wrschneider.blogspot.com/2014/01/time-intervals-and-other-ranges-should.html\" rel=\"noreferrer\">Time intervals and other ranges should be half-open</a>, by Bill Schneider.</p>\n<h1>Avoid legacy date-time classes</h1>\n<p>The java.util.Date and .Calendar classes are notoriously troublesome. Avoid them.</p>\n<p>Use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> classes. The <em>java.time</em> framework is the official successor of the highly successful <a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> library.</p>\n<h1>java.time</h1>\n<p>The java.time framework is built into Java 8 and later. Back-ported to Java 6 &amp; 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> project, further adapted to Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> project.</p>\n<p>An <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>.</p>\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n<p>Apply a time zone to get the <a href=\"https://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"noreferrer\">wall-clock time</a> for some locality.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<p>To get the first moment of the day go through the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class and its <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\" rel=\"noreferrer\"><code>atStartOfDay</code></a> method.</p>\n<pre><code>ZonedDateTime zdtStart = zdt.toLocalDate().atStartOfDay( zoneId );\n</code></pre>\n<p>Using Half-Open approach, get first moment of following day.</p>\n<pre><code>ZonedDateTime zdtTomorrowStart = zdtStart.plusDays( 1 );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WyAl2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WyAl2.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<p>Currently the java.time framework lacks an <code>Interval</code> class as described below for Joda-Time. However, the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is the proving ground for possible future additions to java.time. Among its classes is <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>. Construct an <code>Interval</code> by passing a pair of <code>Instant</code> objects. We can extract an <code>Instant</code> from our <code>ZonedDateTime</code> objects.</p>\n<pre><code>Interval today = Interval.of( zdtStart.toInstant() , zdtTomorrowStart.toInstant() );\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<h1>Joda-Time</h1>\n<p>UPDATE: The Joda-Time project is now in maintenance-mode, and advises migration to the <em>java.time</em> classes. I am leaving this section intact for history.</p>\n<p>Joda-Time has three classes to represent a span of time in various ways: <code>Interval</code>, <code>Period</code>, and <code>Duration</code>. An <code>Interval</code> has a specific beginning and ending on the timeline of the Universe. This fits our need to represent &quot;a day&quot;.</p>\n<p>We call the method <code>withTimeAtStartOfDay</code> rather than set time of day to zeros. Because of Daylight Saving Time and other anomalies the first moment of the day may not be <code>00:00:00</code>.</p>\n<p>Example code using Joda-Time 2.3.</p>\n<pre><code>DateTimeZone timeZone = DateTimeZone.forID( &quot;America/Montreal&quot; );\nDateTime now = DateTime.now( timeZone );\nDateTime todayStart = now.withTimeAtStartOfDay();\nDateTime tomorrowStart = now.plusDays( 1 ).withTimeAtStartOfDay();\nInterval today = new Interval( todayStart, tomorrowStart );\n</code></pre>\n<p>If you must, you can convert to a java.util.Date.</p>\n<pre><code>java.util.Date date = todayStart.toDate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1463418665,"post_id":33812041,"comment_id":62045744,"body_markdown":"This Answer ignores anomalies such as Daylight Saving Time (DST). The `Local…` classes have no concept of time zones and adjusting for anomalies. For example, some time zones have a DST change-over at midnight, so the first moment of the day is at the time `01:00:00.0` (1 AM) rather than the `00:00:00.0` value produced by this code. Use `ZonedDateTime` instead.","body":"This Answer ignores anomalies such as Daylight Saving Time (DST). The <code>Local…</code> classes have no concept of time zones and adjusting for anomalies. For example, some time zones have a DST change-over at midnight, so the first moment of the day is at the time <code>01:00:00.0</code> (1 AM) rather than the <code>00:00:00.0</code> value produced by this code. Use <code>ZonedDateTime</code> instead."}],"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"comment_count":1,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1461145659,"creation_date":1447958918,"answer_id":33812041,"question_id":10308356,"body_markdown":"# java.time\r\n\r\nUsing `java.time` framework built into Java 8.\r\n\r\n    import java.time.LocalTime;\r\n    import java.time.LocalDateTime;\r\n\r\n    LocalDateTime now = LocalDateTime.now(); // 2015-11-19T19:42:19.224\r\n    // start of a day\r\n    now.with(LocalTime.MIN); // 2015-11-19T00:00\r\n    now.with(LocalTime.MIDNIGHT); // 2015-11-19T00:00\r\n    // end of a day\r\n    now.with(LocalTime.MAX); // 2015-11-19T23:59:59.999999999","title":"How to obtain the start time and end time of a day?","body":"<h1>java.time</h1>\n\n<p>Using <code>java.time</code> framework built into Java 8.</p>\n\n<pre><code>import java.time.LocalTime;\nimport java.time.LocalDateTime;\n\nLocalDateTime now = LocalDateTime.now(); // 2015-11-19T19:42:19.224\n// start of a day\nnow.with(LocalTime.MIN); // 2015-11-19T00:00\nnow.with(LocalTime.MIDNIGHT); // 2015-11-19T00:00\n// end of a day\nnow.with(LocalTime.MAX); // 2015-11-19T23:59:59.999999999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":233512,"reputation":1264,"user_id":499059,"accept_rate":33,"display_name":"jack jin"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1480140432,"creation_date":1480140432,"answer_id":40815506,"question_id":10308356,"body_markdown":"    public static Date beginOfDay(Date date) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n        cal.set(Calendar.HOUR_OF_DAY, 0);\r\n        cal.set(Calendar.MINUTE, 0);\r\n        cal.set(Calendar.SECOND, 0);\r\n        cal.set(Calendar.MILLISECOND, 0);\r\n        \r\n        return cal.getTime();\r\n\t}\r\n\r\n\tpublic static Date endOfDay(Date date) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);\r\n        cal.set(Calendar.HOUR_OF_DAY, 23);\r\n        cal.set(Calendar.MINUTE, 59);\r\n        cal.set(Calendar.SECOND, 59);\r\n        cal.set(Calendar.MILLISECOND, 999);\r\n        \r\n        return cal.getTime();\r\n\t}","title":"How to obtain the start time and end time of a day?","body":"<pre><code>public static Date beginOfDay(Date date) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n\n    return cal.getTime();\n}\n\npublic static Date endOfDay(Date date) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);\n    cal.set(Calendar.HOUR_OF_DAY, 23);\n    cal.set(Calendar.MINUTE, 59);\n    cal.set(Calendar.SECOND, 59);\n    cal.set(Calendar.MILLISECOND, 999);\n\n    return cal.getTime();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1500084707,"post_id":45107643,"comment_id":77198985,"body_markdown":"How does this add value beyond that of the existing Answers? Also, you ignore the crucial issue of time zone. And passing the UTC constant to `toInstant` is illegal syntax and redundant conceptually.","body":"How does this add value beyond that of the existing Answers? Also, you ignore the crucial issue of time zone. And passing the UTC constant to <code>toInstant</code> is illegal syntax and redundant conceptually."},{"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"score":0,"creation_date":1500101786,"post_id":45107643,"comment_id":77201991,"body_markdown":"@BasilBourque &quot;How does this add value beyond that of the existing Answers?&quot; This is how stackoverflow works. BTW this is just a template. People can change the way they want. passing UTC to toInstant is totally legal you can examine the outputs.","body":"@BasilBourque &quot;How does this add value beyond that of the existing Answers?&quot; This is how stackoverflow works. BTW this is just a template. People can change the way they want. passing UTC to toInstant is totally legal you can examine the outputs."}],"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500277007,"creation_date":1500049438,"answer_id":45107643,"question_id":10308356,"body_markdown":"For java 8 the following single line statements are working. In this example I use UTC timezone. Please consider to change TimeZone that you currently used.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    System.out.println(new Date());\r\n\r\n    final LocalDateTime endOfDay       = LocalDateTime.of(LocalDate.now(), LocalTime.MAX);\r\n    final Date          endOfDayAsDate = Date.from(endOfDay.toInstant(ZoneOffset.UTC));\r\n\r\n    System.out.println(endOfDayAsDate);\r\n\r\n    final LocalDateTime startOfDay       = LocalDateTime.of(LocalDate.now(), LocalTime.MIN);\r\n    final Date          startOfDayAsDate = Date.from(startOfDay.toInstant(ZoneOffset.UTC));\r\n\r\n    System.out.println(startOfDayAsDate);\r\n\r\nIf no time difference with output. Try: `ZoneOffset.ofHours(0)`","title":"How to obtain the start time and end time of a day?","body":"<p>For java 8 the following single line statements are working. In this example I use UTC timezone. Please consider to change TimeZone that you currently used.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>System.out.println(new Date());\n\nfinal LocalDateTime endOfDay       = LocalDateTime.of(LocalDate.now(), LocalTime.MAX);\nfinal Date          endOfDayAsDate = Date.from(endOfDay.toInstant(ZoneOffset.UTC));\n\nSystem.out.println(endOfDayAsDate);\n\nfinal LocalDateTime startOfDay       = LocalDateTime.of(LocalDate.now(), LocalTime.MIN);\nfinal Date          startOfDayAsDate = Date.from(startOfDay.toInstant(ZoneOffset.UTC));\n\nSystem.out.println(startOfDayAsDate);\n</code></pre>\n\n<p>If no time difference with output. Try: <code>ZoneOffset.ofHours(0)</code></p>\n"},{"tags":[],"owner":{"account_id":2016446,"reputation":508,"user_id":1803648,"accept_rate":54,"display_name":"laur"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501692319,"creation_date":1501692319,"answer_id":45466580,"question_id":10308356,"body_markdown":"Additional way of finding start of day with java8 java.time.ZonedDateTime instead of going through `LocalDateTime` is simply truncating the input ZonedDateTime to DAYS:\r\n\r\n    zonedDateTimeInstance.truncatedTo( ChronoUnit.DAYS );","title":"How to obtain the start time and end time of a day?","body":"<p>Additional way of finding start of day with java8 java.time.ZonedDateTime instead of going through <code>LocalDateTime</code> is simply truncating the input ZonedDateTime to DAYS:</p>\n\n<pre><code>zonedDateTimeInstance.truncatedTo( ChronoUnit.DAYS );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4148905,"reputation":394,"user_id":3401913,"display_name":"Alexander Chingarev"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1517409069,"creation_date":1517409069,"answer_id":48544603,"question_id":10308356,"body_markdown":"Another one solution which does not depend on any framework is:\r\n\r\n    static public Date getStartOfADay(Date day) {\r\n        final long oneDayInMillis = 24 * 60 * 60 * 1000;\r\n        return new Date(day.getTime() / oneDayInMillis * oneDayInMillis);\r\n    }\r\n\r\n    static public Date getEndOfADay(Date day) {\r\n        final long oneDayInMillis = 24 * 60 * 60 * 1000;\r\n        return new Date((day.getTime() / oneDayInMillis + 1) * oneDayInMillis - 1);\r\n    }\r\n\r\nNote that it returns UTC based time\r\n","title":"How to obtain the start time and end time of a day?","body":"<p>Another one solution which does not depend on any framework is:</p>\n\n<pre><code>static public Date getStartOfADay(Date day) {\n    final long oneDayInMillis = 24 * 60 * 60 * 1000;\n    return new Date(day.getTime() / oneDayInMillis * oneDayInMillis);\n}\n\nstatic public Date getEndOfADay(Date day) {\n    final long oneDayInMillis = 24 * 60 * 60 * 1000;\n    return new Date((day.getTime() / oneDayInMillis + 1) * oneDayInMillis - 1);\n}\n</code></pre>\n\n<p>Note that it returns UTC based time</p>\n"},{"comments":[{"owner":{"account_id":1522907,"reputation":1475,"user_id":1422098,"display_name":"Mr. Anderson"},"score":0,"creation_date":1535046558,"post_id":50400321,"comment_id":90932804,"body_markdown":"The &quot;atTime&quot; method is a very good approach togheter with the constant &quot;LocalTime.MAX&quot; for end of day. Nice!","body":"The &quot;atTime&quot; method is a very good approach togheter with the constant &quot;LocalTime.MAX&quot; for end of day. Nice!"},{"owner":{"account_id":2748512,"reputation":1589,"user_id":2368386,"accept_rate":64,"display_name":"fudy"},"score":0,"creation_date":1679457518,"post_id":50400321,"comment_id":133724343,"body_markdown":"I can&#39;t find atStartOfDay method in LocalDateTime for java 8","body":"I can&#39;t find atStartOfDay method in LocalDateTime for java 8"},{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":0,"creation_date":1683129354,"post_id":50400321,"comment_id":134320101,"body_markdown":"@sudoplz\nplease describe startOfTomorrow ?","body":"@sudoplz please describe startOfTomorrow ?"},{"owner":{"account_id":1825287,"reputation":21576,"user_id":1658268,"accept_rate":72,"display_name":"SudoPlz"},"score":1,"creation_date":1683206640,"post_id":50400321,"comment_id":134333452,"body_markdown":"@ArnabDutta I changed the code, take a look.","body":"@ArnabDutta I changed the code, take a look."}],"tags":[],"owner":{"account_id":1825287,"reputation":21576,"user_id":1658268,"accept_rate":72,"display_name":"SudoPlz"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1683206526,"creation_date":1526590290,"answer_id":50400321,"question_id":10308356,"body_markdown":"#Java 8 or ThreeTenABP\r\n\r\n\r\n\r\n###ZonedDateTime\r\n\r\n\r\n    ZonedDateTime curDate = ZonedDateTime.now();\r\n\r\n    public ZonedDateTime startOfDay() {\r\n        return curDate\r\n        .toLocalDate()\r\n        .atStartOfDay()\r\n        .atZone(curDate.getZone())\r\n        .withEarlierOffsetAtOverlap();\r\n    }\r\n\r\n    public ZonedDateTime endOfDay() {\r\n\r\n        ZonedDateTime startOfTomorrow =\r\n            curDate\r\n            .toLocalDate()\r\n            .plusDays(1)\r\n            .atStartOfDay()\r\n            .atZone(curDate.getZone())\r\n            .withEarlierOffsetAtOverlap();\r\n\r\n        return startOfTomorrow.minusSeconds(1);\r\n    }\r\n\r\n    // based on https://stackoverflow.com/a/29145886/1658268\r\n\r\n###LocalDateTime\r\n\r\n\r\n    LocalDateTime curDate = LocalDateTime.now();\r\n\r\n    public LocalDateTime startOfDay() {\r\n        return curDate.atStartOfDay();\r\n    }\r\n\r\n    public LocalDateTime endOfDay() {\r\n        return curDate.atTime(LocalTime.MAX);  //23:59:59.999999999;\r\n    }\r\n\r\n    // based on https://stackoverflow.com/a/36408726/1658268\r\n\r\n\r\nI hope that helps someone.","title":"How to obtain the start time and end time of a day?","body":"<p>#Java 8 or ThreeTenABP</p>\n<p>###ZonedDateTime</p>\n<pre><code>ZonedDateTime curDate = ZonedDateTime.now();\n\npublic ZonedDateTime startOfDay() {\n    return curDate\n    .toLocalDate()\n    .atStartOfDay()\n    .atZone(curDate.getZone())\n    .withEarlierOffsetAtOverlap();\n}\n\npublic ZonedDateTime endOfDay() {\n\n    ZonedDateTime startOfTomorrow =\n        curDate\n        .toLocalDate()\n        .plusDays(1)\n        .atStartOfDay()\n        .atZone(curDate.getZone())\n        .withEarlierOffsetAtOverlap();\n\n    return startOfTomorrow.minusSeconds(1);\n}\n\n// based on https://stackoverflow.com/a/29145886/1658268\n</code></pre>\n<p>###LocalDateTime</p>\n<pre><code>LocalDateTime curDate = LocalDateTime.now();\n\npublic LocalDateTime startOfDay() {\n    return curDate.atStartOfDay();\n}\n\npublic LocalDateTime endOfDay() {\n    return curDate.atTime(LocalTime.MAX);  //23:59:59.999999999;\n}\n\n// based on https://stackoverflow.com/a/36408726/1658268\n</code></pre>\n<p>I hope that helps someone.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1533061161,"post_id":51606759,"comment_id":90204989,"body_markdown":"If you have `ZonedDateTime` and `Instant` at your disposal there is no need to ever use `java.sql.Timestamp`. That class is one of the terrible old legacy classes now supplanted by the *java.time* classes. As of JDBC 4.2, we can directly exchange *java.time* objects with the database. Your mixing of the legacy and modern classes makes no sense to me.","body":"If you have <code>ZonedDateTime</code> and <code>Instant</code> at your disposal there is no need to ever use <code>java.sql.Timestamp</code>. That class is one of the terrible old legacy classes now supplanted by the <i>java.time</i> classes. As of JDBC 4.2, we can directly exchange <i>java.time</i> objects with the database. Your mixing of the legacy and modern classes makes no sense to me."}],"tags":[],"owner":{"account_id":13246682,"reputation":61,"user_id":9565586,"display_name":"Siddhey Sankhe"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534576233,"creation_date":1533018650,"answer_id":51606759,"question_id":10308356,"body_markdown":"I tried this code and it works well!\r\n\r\n    final ZonedDateTime now = ZonedDateTime.now(ZoneOffset.UTC);\r\n    final ZonedDateTime startofDay =\r\n        now.toLocalDate().atStartOfDay(ZoneOffset.UTC);\r\n    final ZonedDateTime endOfDay =\r\n        now.toLocalDate().atTime(LocalTime.MAX).atZone(ZoneOffset.UTC);\r\n\r\n   ","title":"How to obtain the start time and end time of a day?","body":"<p>I tried this code and it works well!</p>\n\n<pre><code>final ZonedDateTime now = ZonedDateTime.now(ZoneOffset.UTC);\nfinal ZonedDateTime startofDay =\n    now.toLocalDate().atStartOfDay(ZoneOffset.UTC);\nfinal ZonedDateTime endOfDay =\n    now.toLocalDate().atTime(LocalTime.MAX).atZone(ZoneOffset.UTC);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4970483,"reputation":21,"user_id":3998453,"display_name":"Florin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567195183,"creation_date":1567195183,"answer_id":57732611,"question_id":10308356,"body_markdown":"I know it&#39;s a bit late, but in case of Java 8, if you are using OffsetDateTime (which offers a lot of advantages, such as TimeZone, Nanoseconds, etc.), you can use the following code:\r\n\r\n    OffsetDateTime reallyEndOfDay = someDay.withHour(23).withMinute(59).withSecond(59).withNano(999999999);\r\n    // output: 2019-01-10T23:59:59.999999999Z\r\n\r\n","title":"How to obtain the start time and end time of a day?","body":"<p>I know it's a bit late, but in case of Java 8, if you are using OffsetDateTime (which offers a lot of advantages, such as TimeZone, Nanoseconds, etc.), you can use the following code:</p>\n\n<pre><code>OffsetDateTime reallyEndOfDay = someDay.withHour(23).withMinute(59).withSecond(59).withNano(999999999);\n// output: 2019-01-10T23:59:59.999999999Z\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1580407097,"post_id":59989560,"comment_id":106096805,"body_markdown":"The day actually ends at the arrival of the first moment of the *following* day. Your code skips over the last full second of a day, a billion nanoseconds that are never reported. See [my Answer](https://stackoverflow.com/a/20536041/642706) to learn about Half-Open approach to defining a span-of-time.","body":"The day actually ends at the arrival of the first moment of the <i>following</i> day. Your code skips over the last full second of a day, a billion nanoseconds that are never reported. See <a href=\"https://stackoverflow.com/a/20536041/642706\">my Answer</a> to learn about Half-Open approach to defining a span-of-time."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1580407417,"post_id":59989560,"comment_id":106096952,"body_markdown":"Manipulating strings as a way of handling date-time values is generally a poor approach. Use smart objects rather than dumb strings for this work. The *java.time* classes give all the functionality you need for this problem without resorting to string manipulation.","body":"Manipulating strings as a way of handling date-time values is generally a poor approach. Use smart objects rather than dumb strings for this work. The <i>java.time</i> classes give all the functionality you need for this problem without resorting to string manipulation."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1580408254,"post_id":59989560,"comment_id":106097341,"body_markdown":"I just now added a *tl;dr* section to [my Answer](https://stackoverflow.com/a/20536041/642706) showing how to get the range of a day as a pair of `Instant` objects. Tip: you may be interested in adding the *ThreeTen-Extra* library to your project to use its `Interval` class.","body":"I just now added a <i>tl;dr</i> section to <a href=\"https://stackoverflow.com/a/20536041/642706\">my Answer</a> showing how to get the range of a day as a pair of <code>Instant</code> objects. Tip: you may be interested in adding the <i>ThreeTen-Extra</i> library to your project to use its <code>Interval</code> class."}],"tags":[],"owner":{"account_id":7184343,"reputation":850,"user_id":5486945,"display_name":"yOshi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580398865,"creation_date":1580398865,"answer_id":59989560,"question_id":10308356,"body_markdown":"I had several inconveniences with all the solutions because I needed the type of **Instant** variable and the Time Zone always interfered changing everything, then combining solutions I saw that this is a good option.\r\n\r\n    \r\n            LocalDate today = LocalDate.now();\r\n            Instant startDate = Instant.parse(today.toString()+&quot;T00:00:00Z&quot;);\r\n            Instant endDate = Instant.parse(today.toString()+&quot;T23:59:59Z&quot;);\r\n\r\nand we have as a result\r\n\r\n            startDate = 2020-01-30T00:00:00Z\r\n            endDate = 2020-01-30T23:59:59Z\r\n\r\nI hope it helps you","title":"How to obtain the start time and end time of a day?","body":"<p>I had several inconveniences with all the solutions because I needed the type of <strong>Instant</strong> variable and the Time Zone always interfered changing everything, then combining solutions I saw that this is a good option.</p>\n\n<pre><code>        LocalDate today = LocalDate.now();\n        Instant startDate = Instant.parse(today.toString()+\"T00:00:00Z\");\n        Instant endDate = Instant.parse(today.toString()+\"T23:59:59Z\");\n</code></pre>\n\n<p>and we have as a result</p>\n\n<pre><code>        startDate = 2020-01-30T00:00:00Z\n        endDate = 2020-01-30T23:59:59Z\n</code></pre>\n\n<p>I hope it helps you</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1580491416,"post_id":60001245,"comment_id":106127562,"body_markdown":"These terrible date-time classes were years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"These terrible date-time classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."},{"owner":{"account_id":8787746,"reputation":408,"user_id":7541231,"display_name":"ivan8m8"},"score":0,"creation_date":1582724582,"post_id":60001245,"comment_id":106875647,"body_markdown":"@BasilBourque the package _java.time_ only appeared in Java 8 which is available only since Android N (API 26)","body":"@BasilBourque the package <i>java.time</i> only appeared in Java 8 which is available only since Android N (API 26)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1582737621,"post_id":60001245,"comment_id":106883530,"body_markdown":"@ivan8m8  Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in the *ThreeTen-Backport* library. Further adapted for early Android (&lt;26) in the *ThreeTenABP* library.","body":"@ivan8m8  Most of the <i>java.time</i> functionality is back-ported to Java 6 &amp; 7 in the <i>ThreeTen-Backport</i> library. Further adapted for early Android (&lt;26) in the <i>ThreeTenABP</i> library."},{"owner":{"account_id":8787746,"reputation":408,"user_id":7541231,"display_name":"ivan8m8"},"score":0,"creation_date":1582789952,"post_id":60001245,"comment_id":106900136,"body_markdown":"@BasilBourque but the ThreeTen uses _an extremely inefficient mechanism on Android_.","body":"@BasilBourque but the ThreeTen uses <i>an extremely inefficient mechanism on Android</i>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1582821461,"post_id":60001245,"comment_id":106917311,"body_markdown":"@ivan8m8  You may be thinking of the predecessor of *java.time*, *Joda-Time*. Again, see the [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project. I’ve not heard of such inefficiency on Android using that library.","body":"@ivan8m8  You may be thinking of the predecessor of <i>java.time</i>, <i>Joda-Time</i>. Again, see the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><i>ThreeTenABP</i></a> project. I’ve not heard of such inefficiency on Android using that library."}],"tags":[],"owner":{"account_id":8899931,"reputation":39,"user_id":10138519,"display_name":"manik venkat"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1580463311,"creation_date":1580463311,"answer_id":60001245,"question_id":10308356,"body_markdown":"    private Date getStartOfDay(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calendar.get(Calendar.MONTH);\r\n        int day = calendar.get(Calendar.DATE);\r\n        calendar.setTimeInMillis(0);\r\n        calendar.set(year, month, day, 0, 0, 0);\r\n        return calendar.getTime();\r\n        }\r\n    \r\n    private Date getEndOfDay(Date date) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calendar.get(Calendar.MONTH);\r\n        int day = calendar.get(Calendar.DATE);\r\n        calendar.setTimeInMillis(0);\r\n        calendar.set(year, month, day, 23, 59, 59);\r\n        return calendar.getTime();\r\n        }\r\n\r\n**calendar.setTimeInMillis(0);** gives you accuracy upto milliseconds","title":"How to obtain the start time and end time of a day?","body":"<pre><code>private Date getStartOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    int year = calendar.get(Calendar.YEAR);\n    int month = calendar.get(Calendar.MONTH);\n    int day = calendar.get(Calendar.DATE);\n    calendar.setTimeInMillis(0);\n    calendar.set(year, month, day, 0, 0, 0);\n    return calendar.getTime();\n    }\n\nprivate Date getEndOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    int year = calendar.get(Calendar.YEAR);\n    int month = calendar.get(Calendar.MONTH);\n    int day = calendar.get(Calendar.DATE);\n    calendar.setTimeInMillis(0);\n    calendar.set(year, month, day, 23, 59, 59);\n    return calendar.getTime();\n    }\n</code></pre>\n\n<p><strong>calendar.setTimeInMillis(0);</strong> gives you accuracy upto milliseconds</p>\n"},{"tags":[],"owner":{"account_id":3698895,"reputation":279,"user_id":3079309,"accept_rate":100,"display_name":"happyvirus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585219651,"creation_date":1585219651,"answer_id":60865514,"question_id":10308356,"body_markdown":"I think the easiest would be something like:\r\n\r\n    // Joda Time\r\n    \r\n    DateTime dateTime=new DateTime(); \r\n    \r\n    StartOfDayMillis = dateTime.withMillis(System.currentTimeMillis()).withTimeAtStartOfDay().getMillis();\r\n    EndOfDayMillis = dateTime.withMillis(StartOfDayMillis).plusDays(1).minusSeconds(1).getMillis();\r\n\r\nThese millis can be then converted into Calendar,Instant or LocalDate as per your requirement with Joda Time.\r\n\r\n","title":"How to obtain the start time and end time of a day?","body":"<p>I think the easiest would be something like:</p>\n\n<pre><code>// Joda Time\n\nDateTime dateTime=new DateTime(); \n\nStartOfDayMillis = dateTime.withMillis(System.currentTimeMillis()).withTimeAtStartOfDay().getMillis();\nEndOfDayMillis = dateTime.withMillis(StartOfDayMillis).plusDays(1).minusSeconds(1).getMillis();\n</code></pre>\n\n<p>These millis can be then converted into Calendar,Instant or LocalDate as per your requirement with Joda Time.</p>\n"},{"tags":[],"owner":{"account_id":18061748,"reputation":11,"user_id":13128710,"display_name":"Jessica Long"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612018534,"creation_date":1612018534,"answer_id":65969397,"question_id":10308356,"body_markdown":"The following code takes the OP&#39;s original formula, and adjusts for the ms inexactness:\r\n\r\n```\r\n    private static Date getStartOfDay() {\r\n        Calendar calendar = Calendar.getInstance();\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calendar.get(Calendar.MONTH);\r\n        int day = calendar.get(Calendar.DATE);\r\n        calendar.set(year, month, day, 0, 0, 0);\r\n        long approximateTimestamp = calendar.getTime().getTime();\r\n        long extraMillis = (approximateTimestamp % 1000);\r\n        long exactTimestamp = approximateTimestamp - extraMillis;\r\n        return new Date(exactTimestamp);\r\n    }\r\n\r\n    private static Date getEndOfDay() {\r\n        Calendar calendar = Calendar.getInstance();\r\n        int year = calendar.get(Calendar.YEAR);\r\n        int month = calendar.get(Calendar.MONTH);\r\n        int day = calendar.get(Calendar.DATE);\r\n        calendar.set(year, month, day, 23, 59, 59);\r\n        long approximateTimestamp = calendar.getTime().getTime();\r\n        long extraMillis = (approximateTimestamp % 1000);\r\n        long exactTimestamp = approximateTimestamp - extraMillis + 999;\r\n        return new Date(exactTimestamp);\r\n    }\r\n```\r\n\r\nUnlike many other answers on this thread, it is compatible with older versions of Java and Android APIs.","title":"How to obtain the start time and end time of a day?","body":"<p>The following code takes the OP's original formula, and adjusts for the ms inexactness:</p>\n<pre><code>    private static Date getStartOfDay() {\n        Calendar calendar = Calendar.getInstance();\n        int year = calendar.get(Calendar.YEAR);\n        int month = calendar.get(Calendar.MONTH);\n        int day = calendar.get(Calendar.DATE);\n        calendar.set(year, month, day, 0, 0, 0);\n        long approximateTimestamp = calendar.getTime().getTime();\n        long extraMillis = (approximateTimestamp % 1000);\n        long exactTimestamp = approximateTimestamp - extraMillis;\n        return new Date(exactTimestamp);\n    }\n\n    private static Date getEndOfDay() {\n        Calendar calendar = Calendar.getInstance();\n        int year = calendar.get(Calendar.YEAR);\n        int month = calendar.get(Calendar.MONTH);\n        int day = calendar.get(Calendar.DATE);\n        calendar.set(year, month, day, 23, 59, 59);\n        long approximateTimestamp = calendar.getTime().getTime();\n        long extraMillis = (approximateTimestamp % 1000);\n        long exactTimestamp = approximateTimestamp - extraMillis + 999;\n        return new Date(exactTimestamp);\n    }\n</code></pre>\n<p>Unlike many other answers on this thread, it is compatible with older versions of Java and Android APIs.</p>\n"},{"tags":[],"owner":{"account_id":19306875,"reputation":27,"user_id":14113500,"display_name":"Captain K"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1614381078,"creation_date":1614359761,"answer_id":66390149,"question_id":10308356,"body_markdown":"Shortest answer, given your timezone being `TZ`:\r\n\r\n    LocalDateTime start = LocalDate.now(TZ).atStartOfDay()\r\n    LocalDateTime end = start.plusDays(1)\r\n\r\nCompare using `isAfter()` and `isBefore()` methods, or convert it using `toEpochSecond()` or `toInstant()` methods.","title":"How to obtain the start time and end time of a day?","body":"<p>Shortest answer, given your timezone being <code>TZ</code>:</p>\n<pre><code>LocalDateTime start = LocalDate.now(TZ).atStartOfDay()\nLocalDateTime end = start.plusDays(1)\n</code></pre>\n<p>Compare using <code>isAfter()</code> and <code>isBefore()</code> methods, or convert it using <code>toEpochSecond()</code> or <code>toInstant()</code> methods.</p>\n"},{"comments":[{"owner":{"account_id":7792578,"reputation":137,"user_id":5894962,"display_name":"Yusuf gndz"},"score":0,"creation_date":1638352886,"post_id":69192291,"comment_id":124063267,"body_markdown":"java.util.Date is deprecated see https://stackoverflow.com/questions/5677470/java-why-is-the-date-constructor-deprecated-and-what-do-i-use-instead","body":"java.util.Date is deprecated see <a href=\"https://stackoverflow.com/questions/5677470/java-why-is-the-date-constructor-deprecated-and-what-do-i-use-instead\" title=\"java why is the date constructor deprecated and what do i use instead\">stackoverflow.com/questions/5677470/&hellip;</a>"}],"tags":[],"owner":{"account_id":6467614,"reputation":300,"user_id":6191695,"display_name":"Sahi Repswal"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1631705440,"creation_date":1631705440,"answer_id":69192291,"question_id":10308356,"body_markdown":"    Date date = new Date();\r\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());\r\n    LocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);\r\n    LocalDateTime endOfDay = localDateTime.with(LocalTime.MAX);\r\n\r\nTimestamp:\r\n\r\n    Timestamp startTs = Timestamp.valueOf(startOfDay);\r\n    Timestamp endTs = Timestamp.valueOf(endOfDay);","title":"How to obtain the start time and end time of a day?","body":"<pre><code>Date date = new Date();\nLocalDateTime localDateTime = LocalDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());\nLocalDateTime startOfDay = localDateTime.with(LocalTime.MIN);\nLocalDateTime endOfDay = localDateTime.with(LocalTime.MAX);\n</code></pre>\n<p>Timestamp:</p>\n<pre><code>Timestamp startTs = Timestamp.valueOf(startOfDay);\nTimestamp endTs = Timestamp.valueOf(endOfDay);\n</code></pre>\n"}],"owner":{"account_id":243408,"reputation":1810,"user_id":515561,"display_name":"kalman03"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303724,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"accepted_answer_id":20536041,"answer_count":17,"score":174,"last_activity_date":1683206526,"creation_date":1335318780,"question_id":10308356,"body_markdown":"How to obtain the start time and end time of a day?\r\n\r\ncode like this is not accurate:\r\n\r\n     private Date getStartOfDay(Date date) {\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tint year = calendar.get(Calendar.YEAR);\r\n\t\tint month = calendar.get(Calendar.MONTH);\r\n\t\tint day = calendar.get(Calendar.DATE);\r\n\t\tcalendar.set(year, month, day, 0, 0, 0);\r\n\t\treturn calendar.getTime();\r\n\t}\r\n\r\n\tprivate Date getEndOfDay(Date date) {\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tint year = calendar.get(Calendar.YEAR);\r\n\t\tint month = calendar.get(Calendar.MONTH);\r\n\t\tint day = calendar.get(Calendar.DATE);\r\n\t\tcalendar.set(year, month, day, 23, 59, 59);\r\n\t\treturn calendar.getTime();\r\n\t}\r\n\r\nIt is not accurate to the millisecond.\r\n","title":"How to obtain the start time and end time of a day?","body":"<p>How to obtain the start time and end time of a day?</p>\n\n<p>code like this is not accurate:</p>\n\n<pre><code> private Date getStartOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    int year = calendar.get(Calendar.YEAR);\n    int month = calendar.get(Calendar.MONTH);\n    int day = calendar.get(Calendar.DATE);\n    calendar.set(year, month, day, 0, 0, 0);\n    return calendar.getTime();\n}\n\nprivate Date getEndOfDay(Date date) {\n    Calendar calendar = Calendar.getInstance();\n    int year = calendar.get(Calendar.YEAR);\n    int month = calendar.get(Calendar.MONTH);\n    int day = calendar.get(Calendar.DATE);\n    calendar.set(year, month, day, 23, 59, 59);\n    return calendar.getTime();\n}\n</code></pre>\n\n<p>It is not accurate to the millisecond.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-data-mongodb-reactive"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1683206931,"post_id":76173465,"comment_id":134333551,"body_markdown":"I guess you need only one EnableReactiveMongoRepositories annotation.","body":"I guess you need only one EnableReactiveMongoRepositories annotation."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683207269,"post_id":76173465,"comment_id":134333655,"body_markdown":"..trick (assuming/preserving the same model): you have to separate repository *packages* [1](https://www.baeldung.com/mongodb-multiple-databases-spring-data), [2](https://hasangalakdinu.medium.com/how-to-connect-multiple-mongo-db-databases-with-spring-boot-239cb464a114), ...","body":"..trick (assuming/preserving the same model): you have to separate repository <i>packages</i> <a href=\"https://www.baeldung.com/mongodb-multiple-databases-spring-data\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://hasangalakdinu.medium.com/how-to-connect-multiple-mongo-db-databases-with-spring-boot-239cb464a114\" rel=\"nofollow noreferrer\">2</a>, ..."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683207400,"post_id":76173465,"comment_id":134333692,"body_markdown":"... or: deactivate auto configuration &amp; wire manually :) https://frandorado.github.io/spring/2020/12/14/spring-multiple-mongo-database.html","body":"... or: deactivate auto configuration &amp; wire manually :) <a href=\"https://frandorado.github.io/spring/2020/12/14/spring-multiple-mongo-database.html\" rel=\"nofollow noreferrer\">frandorado.github.io/spring/2020/12/14/&hellip;</a>"}],"owner":{"account_id":1705601,"reputation":547,"user_id":1564698,"accept_rate":82,"display_name":"Shourya Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683205640,"creation_date":1683204969,"question_id":76173465,"body_markdown":"I need to configure 2 MongoDB databases with my Spring Boot v3.0.5 application.\r\n\r\nI have made 2 MongoDB configurations as follows:\r\n\r\n**RemindersConfig.java**\r\n\r\n    @Configuration\r\n    @EnableReactiveMongoRepositories(basePackages = &quot;com.shourya.learn.repository&quot;)\r\n    public class RemindersConfig extends AbstractReactiveMongoConfiguration {\r\n        @Value(&quot;${mongodb.reminders.database}&quot;)\r\n        private String database;\r\n    \r\n        @Bean(name = &quot;reminders&quot;)\r\n        public MongoClient mongoClient() {\r\n            String uri = &quot;mongodb://localhost:27017/&quot; + database;\r\n            return MongoClients.create(uri);\r\n        }\r\n    \r\n        @Override\r\n        protected String getDatabaseName() {\r\n            return database;\r\n        }\r\n    }\r\n\r\n**NotificationsConfig.java**\r\n\r\n    @Configuration\r\n    @EnableReactiveMongoRepositories(basePackages = &quot;com.shourya.learn.repository&quot;)\r\n    public class NotificationsConfig extends AbstractReactiveMongoConfiguration {\r\n        @Value(&quot;${mongodb.notifications.database}&quot;)\r\n        private String database;\r\n    \r\n        @Bean(name = &quot;notifications&quot;)\r\n        public MongoClient mongoClient() {\r\n            String uri = &quot;mongodb://localhost:27017/&quot; + database;\r\n            return MongoClients.create(uri);\r\n        }\r\n    \r\n        @Override\r\n        protected String getDatabaseName() {\r\n            return database;\r\n        }\r\n    }\r\n\r\nRepositories:\r\n\r\n**NotificationRepository.java**\r\n\r\n    @Repository\r\n    public interface NotificationRepository extends ReactiveMongoRepository&lt;NotificationModel, String&gt; {\r\n    }\r\n\r\n**ReminderRepository.java**\r\n\r\n    @Repository(&quot;reminderRepository&quot;)\r\n    public interface ReminderRepository extends ReactiveMongoRepository&lt;ReminderModel, String&gt; {\r\n    }\r\n\r\nThey run fine individually but when run together they give the following error:\r\n\r\n&gt; **Description:**\r\n&gt; \r\n&gt; The bean &#39;reminderRepository&#39;, defined in\r\n&gt; com.shourya.learn.repository.ReminderRepository defined in\r\n&gt; @EnableReactiveMongoRepositories declared on RemindersConfig, could\r\n&gt; not be registered. A bean with that name has already been defined in\r\n&gt; com.shourya.learn.repository.ReminderRepository defined in\r\n&gt; @EnableReactiveMongoRepositories declared on NotificationsConfig and\r\n&gt; overriding is disabled.\r\n&gt; \r\n&gt; **Action:**\r\n&gt; \r\n&gt; Consider renaming one of the beans or enabling overriding by setting\r\n&gt; spring.main.allow-bean-definition-overriding=true","title":"Multiple Database Configurations in Spring Boot","body":"<p>I need to configure 2 MongoDB databases with my Spring Boot v3.0.5 application.</p>\n<p>I have made 2 MongoDB configurations as follows:</p>\n<p><strong>RemindersConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableReactiveMongoRepositories(basePackages = &quot;com.shourya.learn.repository&quot;)\npublic class RemindersConfig extends AbstractReactiveMongoConfiguration {\n    @Value(&quot;${mongodb.reminders.database}&quot;)\n    private String database;\n\n    @Bean(name = &quot;reminders&quot;)\n    public MongoClient mongoClient() {\n        String uri = &quot;mongodb://localhost:27017/&quot; + database;\n        return MongoClients.create(uri);\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return database;\n    }\n}\n</code></pre>\n<p><strong>NotificationsConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableReactiveMongoRepositories(basePackages = &quot;com.shourya.learn.repository&quot;)\npublic class NotificationsConfig extends AbstractReactiveMongoConfiguration {\n    @Value(&quot;${mongodb.notifications.database}&quot;)\n    private String database;\n\n    @Bean(name = &quot;notifications&quot;)\n    public MongoClient mongoClient() {\n        String uri = &quot;mongodb://localhost:27017/&quot; + database;\n        return MongoClients.create(uri);\n    }\n\n    @Override\n    protected String getDatabaseName() {\n        return database;\n    }\n}\n</code></pre>\n<p>Repositories:</p>\n<p><strong>NotificationRepository.java</strong></p>\n<pre><code>@Repository\npublic interface NotificationRepository extends ReactiveMongoRepository&lt;NotificationModel, String&gt; {\n}\n</code></pre>\n<p><strong>ReminderRepository.java</strong></p>\n<pre><code>@Repository(&quot;reminderRepository&quot;)\npublic interface ReminderRepository extends ReactiveMongoRepository&lt;ReminderModel, String&gt; {\n}\n</code></pre>\n<p>They run fine individually but when run together they give the following error:</p>\n<blockquote>\n<p><strong>Description:</strong></p>\n<p>The bean 'reminderRepository', defined in\ncom.shourya.learn.repository.ReminderRepository defined in\n@EnableReactiveMongoRepositories declared on RemindersConfig, could\nnot be registered. A bean with that name has already been defined in\ncom.shourya.learn.repository.ReminderRepository defined in\n@EnableReactiveMongoRepositories declared on NotificationsConfig and\noverriding is disabled.</p>\n<p><strong>Action:</strong></p>\n<p>Consider renaming one of the beans or enabling overriding by setting\nspring.main.allow-bean-definition-overriding=true</p>\n</blockquote>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"display_name":"user972946"},"score":13,"creation_date":1389181688,"post_id":20994768,"comment_id":31548526,"body_markdown":"A &quot;shorter UUID&quot; is no longer a UUID, by the way.","body":"A &quot;shorter UUID&quot; is no longer a UUID, by the way."},{"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"score":0,"creation_date":1389181734,"post_id":20994768,"comment_id":31548554,"body_markdown":"possible duplicate of [generating UUID but only for 8 characters](http://stackoverflow.com/questions/4267475/generating-uuid-but-only-for-8-characters)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4267475/generating-uuid-but-only-for-8-characters\">generating UUID but only for 8 characters</a>"},{"owner":{"account_id":401940,"reputation":13996,"user_id":768795,"display_name":"Thomas W"},"score":1,"creation_date":1598505926,"post_id":20994768,"comment_id":112481821,"body_markdown":"The avoidance of Hash or UUID collisions is proportional to the size the value space and the square of the number of elements. Decreasing to 16 random hex characters would most likely lose a UUID&#39;s effective guarantee of uniqueness.","body":"The avoidance of Hash or UUID collisions is proportional to the size the value space and the square of the number of elements. Decreasing to 16 random hex characters would most likely lose a UUID&#39;s effective guarantee of uniqueness."}],"answers":[{"comments":[{"owner":{"account_id":9642232,"reputation":441,"user_id":7156103,"accept_rate":100,"display_name":"Vibhav Chaddha"},"score":0,"creation_date":1491215256,"post_id":20995129,"comment_id":73437071,"body_markdown":"Hi, @Peter Lawrey. I want to keep my numbers unique and within the range of integers in Java. I have modified your code according to my need, which is `UUID uuid = UUID.randomUUID();`\n\t\t\t`String idString = Long.toString(uuid.getMostSignificantBits(), 36).replaceAll(&quot;-&quot;, &quot;&quot;).replaceAll(&quot;[a-z]&quot;,&quot;&quot;);` \n`int id;\n\t\t\tSystem.out.println(id = Integer.parseInt(idString));`\nbut when I was testing my code, there was a repetitive number within 12 numbers. So can you please suggest me any foolproof solution for this?","body":"Hi, @Peter Lawrey. I want to keep my numbers unique and within the range of integers in Java. I have modified your code according to my need, which is <code>UUID uuid = UUID.randomUUID();</code> \t\t\t<code>String idString = Long.toString(uuid.getMostSignificantBits(), 36).replaceAll(&quot;-&quot;, &quot;&quot;).replaceAll(&quot;[a-z]&quot;,&quot;&quot;);</code>  <code>int id; \t\t\tSystem.out.println(id = Integer.parseInt(idString));</code> but when I was testing my code, there was a repetitive number within 12 numbers. So can you please suggest me any foolproof solution for this?"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1389182615,"creation_date":1389182615,"answer_id":20995129,"question_id":20994768,"body_markdown":"If you don&#39;t need it to be unique, you can use any length you like.\r\n\r\nFor example, you can do this.\r\n\r\n    Random rand = new Random();\r\n    char[] chars = new char[16];\r\n    for(int i=0;i&lt;chars.length;i++) {\r\n        chars[i] = (char) rand.nextInt(65536);\r\n        if (!Character.isValidCodePoint(chars[i]))\r\n            i--;\r\n    }\r\n    String s = new String(chars);\r\n\r\nThis will give you almost the same degree of randomness but will use every possible character between `\\u0000` and `\\ufffd`\r\n\r\nIf you need printable ASCII characters you can make it as short as you like but the likelihood of uniqueness drops significantly. What can do is use base 36 instead of base 16\r\n\r\n    UUID uuid = UUID.randomUUID();\r\n    String s = Long.toString(uuid.getMostSignificantBits(), 36) + &#39;-&#39; + Long.toString(uuid.getLeastSignificantBits(), 36);\r\n\r\nThis will 26 characters on average, at most 27 character.\r\n\r\nYou can use base64 encoding and reduce it to 22 characters.\r\n\r\nIf you use base94 you can get it does to 20 characters.\r\n\r\nIf you use the whole range of valid chars fro \\u0000 to \\ufffd you can reduce it to just 9 characters or 17 bytes.\r\n\r\nIf you don&#39;t care about Strings you can use 16, 8-bit bytes.\r\n\r\n","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>If you don't need it to be unique, you can use any length you like.</p>\n\n<p>For example, you can do this.</p>\n\n<pre><code>Random rand = new Random();\nchar[] chars = new char[16];\nfor(int i=0;i&lt;chars.length;i++) {\n    chars[i] = (char) rand.nextInt(65536);\n    if (!Character.isValidCodePoint(chars[i]))\n        i--;\n}\nString s = new String(chars);\n</code></pre>\n\n<p>This will give you almost the same degree of randomness but will use every possible character between <code>\\u0000</code> and <code>\\ufffd</code></p>\n\n<p>If you need printable ASCII characters you can make it as short as you like but the likelihood of uniqueness drops significantly. What can do is use base 36 instead of base 16</p>\n\n<pre><code>UUID uuid = UUID.randomUUID();\nString s = Long.toString(uuid.getMostSignificantBits(), 36) + '-' + Long.toString(uuid.getLeastSignificantBits(), 36);\n</code></pre>\n\n<p>This will 26 characters on average, at most 27 character.</p>\n\n<p>You can use base64 encoding and reduce it to 22 characters.</p>\n\n<p>If you use base94 you can get it does to 20 characters.</p>\n\n<p>If you use the whole range of valid chars fro \\u0000 to \\ufffd you can reduce it to just 9 characters or 17 bytes.</p>\n\n<p>If you don't care about Strings you can use 16, 8-bit bytes.</p>\n"},{"comments":[{"owner":{"account_id":2450779,"reputation":1014,"user_id":2137125,"accept_rate":75,"display_name":"Lifeweaver"},"score":2,"creation_date":1532021051,"post_id":44134279,"comment_id":89828365,"body_markdown":"Comments on the following answer may be relevant: https://stackoverflow.com/a/17183247/2137125","body":"Comments on the following answer may be relevant: <a href=\"https://stackoverflow.com/a/17183247/2137125\">stackoverflow.com/a/17183247/2137125</a>"}],"tags":[],"owner":{"account_id":10459485,"reputation":39,"user_id":7710717,"display_name":"Pritam Panja"},"comment_count":1,"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1499149437,"creation_date":1495540892,"answer_id":44134279,"question_id":20994768,"body_markdown":"Yes,You can create by using this function.\r\n\r\n    public static String shortUUID() {\r\n      UUID uuid = UUID.randomUUID();\r\n      long l = ByteBuffer.wrap(uuid.toString().getBytes()).getLong();\r\n      return Long.toString(l, Character.MAX_RADIX);\r\n    }","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>Yes,You can create by using this function.</p>\n\n<pre><code>public static String shortUUID() {\n  UUID uuid = UUID.randomUUID();\n  long l = ByteBuffer.wrap(uuid.toString().getBytes()).getLong();\n  return Long.toString(l, Character.MAX_RADIX);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8465868,"reputation":136,"user_id":6350057,"display_name":"Pramin Senapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1683205596,"creation_date":1570782798,"answer_id":58337262,"question_id":20994768,"body_markdown":"    String uuid = String.format(&quot;%040d&quot;, new BigInteger(UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;), 16));\r\n    \r\n    String uuid16digits = uuid.substring(uuid.length() - 16);\r\n\r\nThis will return the last 16 digits of actual uuid.","title":"how to reduce length of UUID generated using randomUUID( )","body":"<pre><code>String uuid = String.format(&quot;%040d&quot;, new BigInteger(UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;), 16));\n\nString uuid16digits = uuid.substring(uuid.length() - 16);\n</code></pre>\n<p>This will return the last 16 digits of actual uuid.</p>\n"},{"tags":[],"owner":{"account_id":1423057,"reputation":39,"user_id":1347272,"display_name":"Joaqu&#237;n Figueroa Arru&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632943097,"creation_date":1632943097,"answer_id":69382262,"question_id":20994768,"body_markdown":"You could evaluate using the `${__time()}` function","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>You could evaluate using the <code>${__time()}</code> function</p>\n"},{"tags":[],"owner":{"account_id":11844660,"reputation":514,"user_id":9708285,"display_name":"baradhili"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634255318,"creation_date":1634255318,"answer_id":69578522,"question_id":20994768,"body_markdown":"Convert it from base 16(0-9,A-F) to base 36(0-9,A-Z).. You could go to base 62 (0-9, A-Z, a-z) but if you need to read it over a phone or something then this can be error prone.\r\nhttps://github.com/salieri/uuid-encoder is a lib that might work for you...\r\n\r\nAlso this means you still have a GUID -you haven&#39;t truncated it like the other answers","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>Convert it from base 16(0-9,A-F) to base 36(0-9,A-Z).. You could go to base 62 (0-9, A-Z, a-z) but if you need to read it over a phone or something then this can be error prone.\n<a href=\"https://github.com/salieri/uuid-encoder\" rel=\"nofollow noreferrer\">https://github.com/salieri/uuid-encoder</a> is a lib that might work for you...</p>\n<p>Also this means you still have a GUID -you haven't truncated it like the other answers</p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669716413,"creation_date":1669716413,"answer_id":74612308,"question_id":20994768,"body_markdown":"The following snippet is a dynamic UUID code. By default, the legth of the UUID depends on bits but the function randomly chooses characters from the UUID\r\n\r\n \r\n\r\n     public String myUUID(int length) {\r\n        String allChars = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\r\n        Random random = new Random();\r\n        char[] otp = new char[length];\r\n        for (int i = 0; i &lt; length; i++) {\r\n          otp[i] =\r\n              allChars.charAt(random.nextInt(allChars.length()));\r\n        }\r\n        return String.valueOf(otp);\r\n      }\r\n\r\n","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>The following snippet is a dynamic UUID code. By default, the legth of the UUID depends on bits but the function randomly chooses characters from the UUID</p>\n<pre><code> public String myUUID(int length) {\n    String allChars = UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;);\n    Random random = new Random();\n    char[] otp = new char[length];\n    for (int i = 0; i &lt; length; i++) {\n      otp[i] =\n          allChars.charAt(random.nextInt(allChars.length()));\n    }\n    return String.valueOf(otp);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26625119,"reputation":19,"user_id":20243284,"display_name":"21TK505 MadhU AsyLuM"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1673732105,"creation_date":1670225818,"answer_id":74684743,"question_id":20994768,"body_markdown":"You can use the substring method to decrease the string length while generating uuid. \r\n\r\n    UUID.randomUUID().toString().substring(0, 5)","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>You can use the substring method to decrease the string length while generating uuid.</p>\n<pre><code>UUID.randomUUID().toString().substring(0, 5)\n</code></pre>\n"}],"owner":{"account_id":3135892,"reputation":1501,"user_id":2652405,"accept_rate":38,"display_name":"AppleBud"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97561,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":20995129,"answer_count":7,"score":27,"last_activity_date":1683205596,"creation_date":1389181599,"question_id":20994768,"body_markdown":"I have a short utility in which I am generating a UUID using randomUUID(). \r\n\r\n    String uuid = UUID.randomUUID().toString();\r\n\r\nHowever, the uuid generated is too long which is 36 in length.\r\n\r\nIs there any way I can reduce the length of the UUID from 36 to near 16 or make the UUID length dynamic?","title":"how to reduce length of UUID generated using randomUUID( )","body":"<p>I have a short utility in which I am generating a UUID using randomUUID().</p>\n<pre><code>String uuid = UUID.randomUUID().toString();\n</code></pre>\n<p>However, the uuid generated is too long which is 36 in length.</p>\n<p>Is there any way I can reduce the length of the UUID from 36 to near 16 or make the UUID length dynamic?</p>\n"},{"tags":["java","throwable","unchecked-exception"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1568831980,"post_id":57998978,"comment_id":102403853,"body_markdown":"You know that RuntimeException extends Throwable?","body":"You know that RuntimeException extends Throwable?"},{"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"score":0,"creation_date":1568832160,"post_id":57998978,"comment_id":102403923,"body_markdown":"Yes - I was avoiding extending `RuntimeException` because 1) my throwable is not an exception, and 2) I want to avoid my throwable getting caught by `catch(Exception e) { }` blocks.","body":"Yes - I was avoiding extending <code>RuntimeException</code> because 1) my throwable is not an exception, and 2) I want to avoid my throwable getting caught by <code>catch(Exception e) { }</code> blocks."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1568832623,"post_id":57998978,"comment_id":102404103,"body_markdown":"Throwables are unchecked (or rather do not need to be declared).  The link you refer to, is about fooling the compiler about checked _exceptions_ which does not apply to Throwables (and Word of God explicitly says it is a Bad Idea (TM)).  Have you tried just throwing CustomThrowable directly?","body":"Throwables are unchecked (or rather do not need to be declared).  The link you refer to, is about fooling the compiler about checked <i>exceptions</i> which does not apply to Throwables (and Word of God explicitly says it is a Bad Idea (TM)).  Have you tried just throwing CustomThrowable directly?"},{"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"score":4,"creation_date":1568833436,"post_id":57998978,"comment_id":102404465,"body_markdown":"I cannot reconcile your statement &quot;Throwables are unchecked&quot; with the compiler errors I see &quot;Unhandled exception&quot;. Unless there is a bizarre bug in IntelliJ, I have empirical evidence that Throwables are checked.","body":"I cannot reconcile your statement &quot;Throwables are unchecked&quot; with the compiler errors I see &quot;Unhandled exception&quot;. Unless there is a bizarre bug in IntelliJ, I have empirical evidence that Throwables are checked."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1568834117,"post_id":57998978,"comment_id":102404769,"body_markdown":"Show your complete code.  Please make it as brief as possible while stil showing your problem.","body":"Show your complete code.  Please make it as brief as possible while stil showing your problem."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":3,"creation_date":1568834534,"post_id":57998978,"comment_id":102404911,"body_markdown":"@Thorbj&#248;rnRavnAndersen: Throwable are checked. See Java Doc: *For the purposes of compile-time checking of exceptions, Throwable and any subclass of Throwable that is not also a subclass of either RuntimeException or Error are regarded as **checked** exceptions.*","body":"@Thorbj&#248;rnRavnAndersen: Throwable are checked. See Java Doc: <i>For the purposes of compile-time checking of exceptions, Throwable and any subclass of Throwable that is not also a subclass of either RuntimeException or Error are regarded as <b>checked</b> exceptions.</i>"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1568835686,"post_id":57998978,"comment_id":102405350,"body_markdown":"It appears I got Throwable mixed up with Error (which is unchecked) in my mind.  My bad for not actually checking before sounding knowledgeable.","body":"It appears I got Throwable mixed up with Error (which is unchecked) in my mind.  My bad for not actually checking before sounding knowledgeable."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1568838814,"post_id":57998978,"comment_id":102406541,"body_markdown":"What is the point of this whole exercise?","body":"What is the point of this whole exercise?"},{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":1,"creation_date":1568839610,"post_id":57998978,"comment_id":102406818,"body_markdown":"&quot;I had wanted to avoid inheriting from RuntimeException because my throwable is not an exception, but instead a yield instruction.&quot; - Using exceptions/throwables for cases that are _expected to occur during normal operation_, rather than to handle errors and other exceptional circumstances, is not recommended. This includes flow control and &quot;returning from multiple methods in one go&quot;. One of the reasons why is because throwing a Throwable is considerably slower than, say, returning a value.","body":"&quot;I had wanted to avoid inheriting from RuntimeException because my throwable is not an exception, but instead a yield instruction.&quot; - Using exceptions/throwables for cases that are <i>expected to occur during normal operation</i>, rather than to handle errors and other exceptional circumstances, is not recommended. This includes flow control and &quot;returning from multiple methods in one go&quot;. One of the reasons why is because throwing a Throwable is considerably slower than, say, returning a value."}],"answers":[{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1568846087,"post_id":57999767,"comment_id":102408684,"body_markdown":"The problem is not in the Java compiler, but that you explicitly suppress the unchecked warning.","body":"The problem is not in the Java compiler, but that you explicitly suppress the unchecked warning."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":2,"creation_date":1568846332,"post_id":57999767,"comment_id":102408749,"body_markdown":"@Thorbj&#248;rnRavnAndersen: No. Suppressed it type casting. You cannot suppress exception. It is just *warning, not a compiler error&quot;. We can remove this Suppress and the code will still compile, i.e. .class file will be created and can be executed. Where as if there were unlatched exception, then there would be compiler error and .class file would not be created and it would be impossible to executed anything. So your comment does not explain anything, unfortunately.","body":"@Thorbj&#248;rnRavnAndersen: No. Suppressed it type casting. You cannot suppress exception. It is just *warning, not a compiler error&quot;. We can remove this Suppress and the code will still compile, i.e. .class file will be created and can be executed. Where as if there were unlatched exception, then there would be compiler error and .class file would not be created and it would be impossible to executed anything. So your comment does not explain anything, unfortunately."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1568846583,"post_id":57999767,"comment_id":102408812,"body_markdown":"Try removing `@SuppressWarnings(&quot;unchecked&quot;)`and see what happens.","body":"Try removing <code>@SuppressWarnings(&quot;unchecked&quot;)</code>and see what happens."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":1,"creation_date":1568849932,"post_id":57999767,"comment_id":102409482,"body_markdown":"After removing the result is the same: Java compiler has created .class file. If you open the source in IDE, it shows warning when I have default severity settings. But the code is *successfully* compiled, .class file was created and I successfully executed it. Have *you* tried it? ;-)","body":"After removing the result is the same: Java compiler has created .class file. If you open the source in IDE, it shows warning when I have default severity settings. But the code is <i>successfully</i> compiled, .class file was created and I successfully executed it. Have <i>you</i> tried it? ;-)"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1568874000,"post_id":57999767,"comment_id":102414491,"body_markdown":"Of course removing a suppress warning results in a warning, not a compilation error.  The warning explicitly tells you there is something wrong with your code (but not that the code is illegal).  This is not a bug in the Java compiler because it strictly adheres to the JLS but is a design decision when adding Generics.  This is just a very clever way to explicitly trick the compiler.","body":"Of course removing a suppress warning results in a warning, not a compilation error.  The warning explicitly tells you there is something wrong with your code (but not that the code is illegal).  This is not a bug in the Java compiler because it strictly adheres to the JLS but is a design decision when adding Generics.  This is just a very clever way to explicitly trick the compiler."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":2,"creation_date":1568910163,"post_id":57999767,"comment_id":102434352,"body_markdown":"No. This warning has nothing to do with the effect we are talking about.","body":"No. This warning has nothing to do with the effect we are talking about."}],"tags":[],"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568844072,"creation_date":1568835719,"answer_id":57999767,"question_id":57998978,"body_markdown":"`Throwable` is a **checked** error and actually it *should* be impossible to throw such errors, except of cases when it is a RuntimeException or an Error.\r\n\r\nBut actually it is possible. Here is an example.\r\n\r\nHere is a utility that throws **any** unchecked exception as checked:\r\n\r\n```Java\r\npackage org.mentallurg;\r\n\r\npublic class ExceptionUtil {\r\n\r\n\tprivate static class ThrowableWrapper extends Throwable {\r\n\r\n\t\tprivate Throwable throwable;\r\n\r\n\t\tpublic ThrowableWrapper(Throwable throwable) {\r\n\t\t\tsuper();\r\n\t\t\tthis.throwable = throwable;\r\n\t\t}\r\n\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tpublic &lt;T extends Throwable&gt; T throwNested() throws T {\r\n\t\t\tthrow (T) throwable;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static &lt;T extends Throwable&gt; T throwThis(T throwable) throws T {\r\n\t\tthrow throwable;\r\n\t}\r\n\r\n\tpublic static &lt;T extends Throwable&gt; void throwUnchecked(T throwable) {\r\n\t\tnew ThrowableWrapper(throwable).throwNested();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nHere is an example of usage:\r\n\r\n```Java\r\npackage org.mentallurg;\r\n\r\npublic class Test {\r\n\r\n\tprivate static void doSomething() {\r\n\t\tException checkedException = new Exception(&quot;I am checked exception&quot;);\r\n\t\tExceptionUtil.throwUnchecked(checkedException);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tdoSomething();\r\n\t}\r\n\r\n}\r\n```\r\nPay attention that there is no `throws Throwable` clause, neither in `main` not in `doSomething`. And there is no compile error. In case of `RuntimeException` it would be understandable, but not in case of `Throwable`.\r\n\r\nIf we execute it, we get following:\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: I am checked exception\r\n\tat org.mentallurg.Test.doSomething(Test.java:6)\r\n\tat org.mentallurg.Test.main(Test.java:11)\r\n```\r\n\r\nHow it works?\r\n\r\nThe most important part is this one:\r\n```Java\r\nnew ThrowableWrapper(throwable).throwNested();\r\n```\r\n\r\nActually method `throwNested` here *can* throw a `Throwable`. That&#39;s why Java compiler *should* raise an error and *should* require that this line of code is either surrounded with try/catch or `Throwable` clause should be added. But it doesn&#39;t. Why? I believe this is a flaw in Java compiler. Some comments on SO in other threads refer to type erasure, but they are incorrect, because type erasure is relevant during the *run* time, where as we are talking about the *compile* time.\r\n\r\nIt is interesting that the decompiled code shows that here a `Throwable` (not `RuntimeException`, not `Error`) will be thrown:\r\n```\r\n  public static &lt;T extends java.lang.Throwable&gt; void throwUnchecked(T);\r\n    Code:\r\n       0: new           #28                 // class org/mentallurg/ExceptionUtil$ThrowableWrapper\r\n       3: dup\r\n       4: aload_0\r\n       5: invokespecial #30                 // Method org/mentallurg/ExceptionUtil$ThrowableWrapper.&quot;&lt;init&gt;&quot;:(Ljava/lang/Throwable;)V\r\n       8: invokevirtual #32                 // Method org/mentallurg/ExceptionUtil$ThrowableWrapper.throwNested:()Ljava/lang/Throwable;\r\n      11: pop\r\n      12: return\r\n```\r\n\r\nThis behaviour is not specific for `Throwable`. We can replace it with a checked `Exception` and will get the same result:\r\n```Java\r\npublic &lt;T extends Exception&gt; T throwNested() throws T {\r\n```\r\n\r\nIn all such cases if we replace generics with particular classes, then Java compiler will report an error, which is correct. In cases with generics Java compiler ignores checked exceptions and doesn&#39;t reports any error. That&#39;s why I believe that this is a **bug in Java compiler**.\r\n","title":"How to write an unchecked Throwable in java","body":"<p><code>Throwable</code> is a <strong>checked</strong> error and actually it <em>should</em> be impossible to throw such errors, except of cases when it is a RuntimeException or an Error.</p>\n\n<p>But actually it is possible. Here is an example.</p>\n\n<p>Here is a utility that throws <strong>any</strong> unchecked exception as checked:</p>\n\n<pre><code>package org.mentallurg;\n\npublic class ExceptionUtil {\n\n    private static class ThrowableWrapper extends Throwable {\n\n        private Throwable throwable;\n\n        public ThrowableWrapper(Throwable throwable) {\n            super();\n            this.throwable = throwable;\n        }\n\n        @SuppressWarnings(\"unchecked\")\n        public &lt;T extends Throwable&gt; T throwNested() throws T {\n            throw (T) throwable;\n        }\n    }\n\n    private static &lt;T extends Throwable&gt; T throwThis(T throwable) throws T {\n        throw throwable;\n    }\n\n    public static &lt;T extends Throwable&gt; void throwUnchecked(T throwable) {\n        new ThrowableWrapper(throwable).throwNested();\n    }\n\n}\n</code></pre>\n\n<p>Here is an example of usage:</p>\n\n<pre><code>package org.mentallurg;\n\npublic class Test {\n\n    private static void doSomething() {\n        Exception checkedException = new Exception(\"I am checked exception\");\n        ExceptionUtil.throwUnchecked(checkedException);\n    }\n\n    public static void main(String[] args) {\n        doSomething();\n    }\n\n}\n</code></pre>\n\n<p>Pay attention that there is no <code>throws Throwable</code> clause, neither in <code>main</code> not in <code>doSomething</code>. And there is no compile error. In case of <code>RuntimeException</code> it would be understandable, but not in case of <code>Throwable</code>.</p>\n\n<p>If we execute it, we get following:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.Exception: I am checked exception\n    at org.mentallurg.Test.doSomething(Test.java:6)\n    at org.mentallurg.Test.main(Test.java:11)\n</code></pre>\n\n<p>How it works?</p>\n\n<p>The most important part is this one:</p>\n\n<pre><code>new ThrowableWrapper(throwable).throwNested();\n</code></pre>\n\n<p>Actually method <code>throwNested</code> here <em>can</em> throw a <code>Throwable</code>. That's why Java compiler <em>should</em> raise an error and <em>should</em> require that this line of code is either surrounded with try/catch or <code>Throwable</code> clause should be added. But it doesn't. Why? I believe this is a flaw in Java compiler. Some comments on SO in other threads refer to type erasure, but they are incorrect, because type erasure is relevant during the <em>run</em> time, where as we are talking about the <em>compile</em> time.</p>\n\n<p>It is interesting that the decompiled code shows that here a <code>Throwable</code> (not <code>RuntimeException</code>, not <code>Error</code>) will be thrown:</p>\n\n<pre><code>  public static &lt;T extends java.lang.Throwable&gt; void throwUnchecked(T);\n    Code:\n       0: new           #28                 // class org/mentallurg/ExceptionUtil$ThrowableWrapper\n       3: dup\n       4: aload_0\n       5: invokespecial #30                 // Method org/mentallurg/ExceptionUtil$ThrowableWrapper.\"&lt;init&gt;\":(Ljava/lang/Throwable;)V\n       8: invokevirtual #32                 // Method org/mentallurg/ExceptionUtil$ThrowableWrapper.throwNested:()Ljava/lang/Throwable;\n      11: pop\n      12: return\n</code></pre>\n\n<p>This behaviour is not specific for <code>Throwable</code>. We can replace it with a checked <code>Exception</code> and will get the same result:</p>\n\n<pre><code>public &lt;T extends Exception&gt; T throwNested() throws T {\n</code></pre>\n\n<p>In all such cases if we replace generics with particular classes, then Java compiler will report an error, which is correct. In cases with generics Java compiler ignores checked exceptions and doesn't reports any error. That's why I believe that this is a <strong>bug in Java compiler</strong>.</p>\n"},{"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":1,"creation_date":1568844209,"post_id":58000381,"comment_id":102408230,"body_markdown":"The question is rather about throwing any `Throwable`as unchecked exception, without having to use try/catch and without having to declare it in the `throws` clause.","body":"The question is rather about throwing any <code>Throwable</code>as unchecked exception, without having to use try/catch and without having to declare it in the <code>throws</code> clause."},{"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"score":0,"creation_date":1568846496,"post_id":58000381,"comment_id":102408794,"body_markdown":"This is not a bad idea, as it will avoid `catch (Exception ex) { }` blocks - if I can&#39;t find anything more direct, I may give this a try.","body":"This is not a bad idea, as it will avoid <code>catch (Exception ex) { }</code> blocks - if I can&#39;t find anything more direct, I may give this a try."}],"tags":[],"owner":{"account_id":2977588,"reputation":1839,"user_id":2741114,"display_name":"Nathaniel Jones"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1568838808,"creation_date":1568838808,"answer_id":58000381,"question_id":57998978,"body_markdown":"You can extend `Error` rather than `Throwable`. The Java `Error` class is an unchecked `Throwable`.","title":"How to write an unchecked Throwable in java","body":"<p>You can extend <code>Error</code> rather than <code>Throwable</code>. The Java <code>Error</code> class is an unchecked <code>Throwable</code>.</p>\n"},{"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1568846946,"post_id":58001549,"comment_id":102408894,"body_markdown":"Yes, you cannot define a subclass of Throwable that you can throw without declaring it in the `throws` clause. But there is a way how to throw *any* checked exception without having to declare it in the `throws` clause. See my example above: You can call `ExceptionUtil.throwUnchecked(checkedException);` *without* having to declare `throws`. That&#39;s why it is not necessary to look for some exceptions that you could throw as unchecked. With the approach that I described you can throw *any* checked exception as unchecked, without declaring it.","body":"Yes, you cannot define a subclass of Throwable that you can throw without declaring it in the <code>throws</code> clause. But there is a way how to throw <i>any</i> checked exception without having to declare it in the <code>throws</code> clause. See my example above: You can call <code>ExceptionUtil.throwUnchecked(checkedException);</code> <i>without</i> having to declare <code>throws</code>. That&#39;s why it is not necessary to look for some exceptions that you could throw as unchecked. With the approach that I described you can throw <i>any</i> checked exception as unchecked, without declaring it."},{"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"score":0,"creation_date":1568848768,"post_id":58001549,"comment_id":102409224,"body_markdown":"Yes - you&#39;ll see in my question that I already use a similar tactic to throw the exception. However, when I try to catch the exception, I get a compiler error because it &quot;knows&quot; that I am trying to catch a checked exception, and therefore there should be a `throws` declaration somewhere in the `try` block (which there isn&#39;t, because I convert it to an unchecked exception). \n\nSo, if you are just trying to throw checked exceptions, you are fine, but if you want to catch them too you have a problem.","body":"Yes - you&#39;ll see in my question that I already use a similar tactic to throw the exception. However, when I try to catch the exception, I get a compiler error because it &quot;knows&quot; that I am trying to catch a checked exception, and therefore there should be a <code>throws</code> declaration somewhere in the <code>try</code> block (which there isn&#39;t, because I convert it to an unchecked exception).   So, if you are just trying to throw checked exceptions, you are fine, but if you want to catch them too you have a problem."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1568849716,"post_id":58001549,"comment_id":102409430,"body_markdown":"In the comment below you say that you want to avoid `catch`. Perfect.  Look at my approach. In the method `throwUnchecked` there is no `throws` clause and you don&#39;t need to catch anything. See the usage in the class `Test`: Methods `doSomething` just throws checked exception as unchecked and uses no try/catch, no `throws` clause. Why doesn&#39;t it fit your expectation?","body":"In the comment below you say that you want to avoid <code>catch</code>. Perfect.  Look at my approach. In the method <code>throwUnchecked</code> there is no <code>throws</code> clause and you don&#39;t need to catch anything. See the usage in the class <code>Test</code>: Methods <code>doSomething</code> just throws checked exception as unchecked and uses no try/catch, no <code>throws</code> clause. Why doesn&#39;t it fit your expectation?"}],"tags":[],"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1568846167,"creation_date":1568846167,"answer_id":58001549,"question_id":57998978,"body_markdown":"Per https://stackoverflow.com/questions/11547914/why-runtime-exception-is-unchecked-exception (and the unquestionable authority of Jon Skeet ;), it appears that unchecked-exception support is built into the java compiler, and is probably not something I can plug into. \r\n\r\nQuoting from Jon&#39;s post: \r\n\r\n&gt; It&#39;s explicitly in the specification, section 11.1.1:\r\n&gt; \r\n&gt; RuntimeException and all its subclasses are, collectively, the runtime\r\n&gt; exception classes.\r\n&gt; \r\n&gt; The unchecked exception classes are the runtime exception classes and\r\n&gt; the error classes.\r\n&gt; \r\n&gt; The checked exception classes are all exception classes other than the\r\n&gt; unchecked exception classes. That is, the checked exception classes\r\n&gt; are all subclasses of Throwable other than RuntimeException and its\r\n&gt; subclasses and Error and its subclasses.\r\n&gt;\r\n&gt; So yes, the compiler definitely knows about RuntimeException.\r\n\r\nI&#39;m still hoping that someone else will come up with a &quot;yes you can&quot; answer, so I&#39;ll wait a few more days before closing this question.","title":"How to write an unchecked Throwable in java","body":"<p>Per <a href=\"https://stackoverflow.com/questions/11547914/why-runtime-exception-is-unchecked-exception\">Why runtime exception is unchecked exception?</a> (and the unquestionable authority of Jon Skeet ;), it appears that unchecked-exception support is built into the java compiler, and is probably not something I can plug into. </p>\n\n<p>Quoting from Jon's post: </p>\n\n<blockquote>\n  <p>It's explicitly in the specification, section 11.1.1:</p>\n  \n  <p>RuntimeException and all its subclasses are, collectively, the runtime\n  exception classes.</p>\n  \n  <p>The unchecked exception classes are the runtime exception classes and\n  the error classes.</p>\n  \n  <p>The checked exception classes are all exception classes other than the\n  unchecked exception classes. That is, the checked exception classes\n  are all subclasses of Throwable other than RuntimeException and its\n  subclasses and Error and its subclasses.</p>\n  \n  <p>So yes, the compiler definitely knows about RuntimeException.</p>\n</blockquote>\n\n<p>I'm still hoping that someone else will come up with a \"yes you can\" answer, so I'll wait a few more days before closing this question.</p>\n"},{"tags":[],"owner":{"account_id":13113492,"reputation":1198,"user_id":10082531,"display_name":"Michael Pfaff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683204837,"creation_date":1657924899,"answer_id":73000222,"question_id":57998978,"body_markdown":"This approach is fundamentally the same as mentallurg&#39;s but it avoids the unnecessary wrapper class.\r\n\r\n```java\r\npublic final class ThrowUtil {\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprivate static &lt;T extends Throwable&gt; void throwUnchecked0(Throwable t) throws T {\r\n\t\t// because `T` is a generic it will be erased at compile time\r\n\t\t// the cast will be replaced with `(Throwable) t` which will always succeed\r\n\t\tthrow (T) t;\r\n\t}\r\n\r\n\tpublic static void throwUnchecked(Throwable t) {\r\n\t\tthrowUnchecked0(t);\r\n\t}\r\n\r\n\tprivate ThrowUtil() {}\r\n}\r\n```\r\n\r\nIn your code:\r\n\r\n```java\r\n// no throws clause\r\npublic void foo() {\r\n\tThrowUtil.throwUnchecked(new IllegalAccessException(&quot;you are not allowed to call foo&quot;));\r\n}\r\n```\r\n\r\nAnd for the sake of completeness, here&#39;s the generated bytecode for comparison:\r\n```\r\n  private static &lt;T extends java.lang.Throwable&gt; void throwUnchecked0(java.lang.Throwable) throws T;\r\n    Code:\r\n       0: aload_0\r\n       1: athrow\r\n\r\n  public static void throwUnchecked(java.lang.Throwable);\r\n    Code:\r\n       0: aload_0\r\n       1: invokestatic  #1                  // Method throwUnchecked0:(Ljava/lang/Throwable;)V\r\n       4: return\r\n```\r\n\r\nIf `throwUnchecked0` is made to take a parameter of type `T` instead of any `Throwable` then the requirement for either a throws clause or a try/catch statement will be propagated to callers&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nInterestingly, this is very different behaviour from generics in most contexts. For example, if the code is changed so that the internal method returns `T` instead of throwing `T` and then the public method throws that return value, the type of `T` is inferred to be `Throwable` and the throws clause requirement will be propagated. Therefore it does seem likely that this is a bug in the Java compiler, albeit one that I would like to see remain since it would still be possible directly in bytecode (and other JVM languages like Kotlin use this extensively) and can be useful in some cases.\r\n\r\nThe unchecked cast to `T` is completely&lt;sup&gt;2&lt;/sup&gt; safe because `T` is erased at compile time and replaced with `Throwable`, which will always succeed because the parameter is a `Throwable`.\r\n\r\nHiding the real implementation from the public api is not strictly necessary. It simply serves to make clear to readers (and enforce) that the generic type is intended to be completely ignored and omitted from call-sites.\r\n\r\n&lt;hr&gt;\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; The caller could also explicitly specify a type for the generic parameter and cause the requirement for a throws clause to propagate. That&#39;s part of the reason for the public wrapper method.\r\n\r\n&lt;sup&gt;2&lt;/sup&gt; Well, only in the sense that it will never fail at runtime. After all, we are throwing unchecked exceptions.","title":"How to write an unchecked Throwable in java","body":"<p>This approach is fundamentally the same as mentallurg's but it avoids the unnecessary wrapper class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class ThrowUtil {\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static &lt;T extends Throwable&gt; void throwUnchecked0(Throwable t) throws T {\n        // because `T` is a generic it will be erased at compile time\n        // the cast will be replaced with `(Throwable) t` which will always succeed\n        throw (T) t;\n    }\n\n    public static void throwUnchecked(Throwable t) {\n        throwUnchecked0(t);\n    }\n\n    private ThrowUtil() {}\n}\n</code></pre>\n<p>In your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// no throws clause\npublic void foo() {\n    ThrowUtil.throwUnchecked(new IllegalAccessException(&quot;you are not allowed to call foo&quot;));\n}\n</code></pre>\n<p>And for the sake of completeness, here's the generated bytecode for comparison:</p>\n<pre><code>  private static &lt;T extends java.lang.Throwable&gt; void throwUnchecked0(java.lang.Throwable) throws T;\n    Code:\n       0: aload_0\n       1: athrow\n\n  public static void throwUnchecked(java.lang.Throwable);\n    Code:\n       0: aload_0\n       1: invokestatic  #1                  // Method throwUnchecked0:(Ljava/lang/Throwable;)V\n       4: return\n</code></pre>\n<p>If <code>throwUnchecked0</code> is made to take a parameter of type <code>T</code> instead of any <code>Throwable</code> then the requirement for either a throws clause or a try/catch statement will be propagated to callers<sup>1</sup>.</p>\n<p>Interestingly, this is very different behaviour from generics in most contexts. For example, if the code is changed so that the internal method returns <code>T</code> instead of throwing <code>T</code> and then the public method throws that return value, the type of <code>T</code> is inferred to be <code>Throwable</code> and the throws clause requirement will be propagated. Therefore it does seem likely that this is a bug in the Java compiler, albeit one that I would like to see remain since it would still be possible directly in bytecode (and other JVM languages like Kotlin use this extensively) and can be useful in some cases.</p>\n<p>The unchecked cast to <code>T</code> is completely<sup>2</sup> safe because <code>T</code> is erased at compile time and replaced with <code>Throwable</code>, which will always succeed because the parameter is a <code>Throwable</code>.</p>\n<p>Hiding the real implementation from the public api is not strictly necessary. It simply serves to make clear to readers (and enforce) that the generic type is intended to be completely ignored and omitted from call-sites.</p>\n<hr>\n<p><sup>1</sup> The caller could also explicitly specify a type for the generic parameter and cause the requirement for a throws clause to propagate. That's part of the reason for the public wrapper method.</p>\n<p><sup>2</sup> Well, only in the sense that it will never fail at runtime. After all, we are throwing unchecked exceptions.</p>\n"}],"owner":{"account_id":1998072,"reputation":4342,"user_id":2288986,"accept_rate":71,"display_name":"Gordon Bean"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58001549,"answer_count":4,"score":3,"last_activity_date":1683204837,"creation_date":1568831783,"question_id":57998978,"body_markdown":"I want to write a custom Throwable that is unchecked.\r\n\r\nThere are ways to trick the compiler at throw time (e.g. https://stackoverflow.com/questions/13528624/utility-class-that-re-throws-a-throwable-as-unchecked), which I have implemented thus:\r\n\r\n```java\r\npublic class CustomThrowable extends Throwable {\r\n    public CustomThrowable(String message) {\r\n        super(message);\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T extends Throwable&gt; T unchecked() throws T {\r\n        throw (T) this;\r\n    }\r\n}\r\n```\r\n but I&#39;m running into issues at &quot;catch time&quot;:\r\n\r\n```java\r\ntry { \r\n    throw new CustomThrowable(&quot;foo&quot;).unchecked();\r\n}\r\ncatch (CustomThrowable t) { } // &lt;- compiler error because the try block does not &quot;throw&quot; a CustomThrowable\r\n```\r\nIs there a way to simply implement an unchecked `Throwable`, or is `RuntimeException` the only way to do that? I had wanted to avoid inheriting from `RuntimeException` because my throwable is not an exception, but instead a yield instruction.\r\n\r\n**Update**:\r\nAnother reason to avoid extending `RuntimeException` is that my `CustomThrowable` will get caught by generic `catch (Exception ex) { }` blocks. Thus, if I want to communicate information from within the stack, each layer needs to potentially be aware that `CustomThrowable` might come through and explicitly catch-rethrow it; this awareness is a large part of what one is trying to avoid when using the `Throwable` design.","title":"How to write an unchecked Throwable in java","body":"<p>I want to write a custom Throwable that is unchecked.</p>\n\n<p>There are ways to trick the compiler at throw time (e.g. <a href=\"https://stackoverflow.com/questions/13528624/utility-class-that-re-throws-a-throwable-as-unchecked\">Utility class that re-throws a throwable as unchecked?</a>), which I have implemented thus:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomThrowable extends Throwable {\n    public CustomThrowable(String message) {\n        super(message);\n    }\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T extends Throwable&gt; T unchecked() throws T {\n        throw (T) this;\n    }\n}\n</code></pre>\n\n<p>but I'm running into issues at \"catch time\":</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try { \n    throw new CustomThrowable(\"foo\").unchecked();\n}\ncatch (CustomThrowable t) { } // &lt;- compiler error because the try block does not \"throw\" a CustomThrowable\n</code></pre>\n\n<p>Is there a way to simply implement an unchecked <code>Throwable</code>, or is <code>RuntimeException</code> the only way to do that? I had wanted to avoid inheriting from <code>RuntimeException</code> because my throwable is not an exception, but instead a yield instruction.</p>\n\n<p><strong>Update</strong>:\nAnother reason to avoid extending <code>RuntimeException</code> is that my <code>CustomThrowable</code> will get caught by generic <code>catch (Exception ex) { }</code> blocks. Thus, if I want to communicate information from within the stack, each layer needs to potentially be aware that <code>CustomThrowable</code> might come through and explicitly catch-rethrow it; this awareness is a large part of what one is trying to avoid when using the <code>Throwable</code> design.</p>\n"},{"tags":["java","linux","debian","apt","openjdk-8"],"answers":[{"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1584926254,"post_id":60806789,"comment_id":107582967,"body_markdown":"You beat me to it.  It sounds like the OP forgot to run `apt-get update` after editing /etc/apt/sources.list.","body":"You beat me to it.  It sounds like the OP forgot to run <code>apt-get update</code> after editing /etc/apt/sources.list."},{"owner":{"account_id":17497314,"reputation":244,"user_id":12688301,"display_name":"Xiao Yu"},"score":1,"creation_date":1584927073,"post_id":60806789,"comment_id":107583109,"body_markdown":"I would be glad if it would help.","body":"I would be glad if it would help."},{"owner":{"account_id":1051439,"reputation":24363,"user_id":1055279,"accept_rate":99,"display_name":"realtebo"},"score":3,"creation_date":1614606605,"post_id":60806789,"comment_id":117428277,"body_markdown":"WARNING !!! do not add an unstable repository on a production server !!!!!","body":"WARNING !!! do not add an unstable repository on a production server !!!!!"}],"tags":[],"owner":{"account_id":17497314,"reputation":244,"user_id":12688301,"display_name":"Xiao Yu"},"comment_count":3,"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1683204389,"creation_date":1584925944,"answer_id":60806789,"question_id":60806605,"body_markdown":" 1. add the following line to `/etc/apt/sources.list`\r\n\r\n    `deb http://deb.debian.org/debian/ sid main`\r\n\r\n 2. install openjdk8\r\n\r\n    ```\r\n    //Update the repositories&lt;br/&gt;\r\n    $ sudo apt-get update&lt;br/&gt;\r\n    $ sudo apt-get install -y openjdk-8-jdk\r\n    ```\r\n\r\nIn fact, I think it is better to search for your question first before ask.&lt;br/&gt;\r\n\r\n[https://stackoverflow.com/questions/57031649/how-to-install-openjdk-8-jdk-on-debian-10-buster][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57031649/how-to-install-openjdk-8-jdk-on-debian-10-buster","title":"debian apt cant find openjdk-8-jdk","body":"<ol>\n<li><p>add the following line to <code>/etc/apt/sources.list</code></p>\n<p><code>deb http://deb.debian.org/debian/ sid main</code></p>\n</li>\n<li><p>install openjdk8</p>\n<pre><code>//Update the repositories&lt;br/&gt;\n$ sudo apt-get update&lt;br/&gt;\n$ sudo apt-get install -y openjdk-8-jdk\n</code></pre>\n</li>\n</ol>\n<p>In fact, I think it is better to search for your question first before ask.<br/></p>\n<p><a href=\"https://stackoverflow.com/questions/57031649/how-to-install-openjdk-8-jdk-on-debian-10-buster\">How to install openjdk-8-jdk on Debian 10 (Buster)?</a></p>\n"}],"owner":{"account_id":16443769,"reputation":213,"user_id":11879204,"display_name":"Flowly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20135,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":60806789,"answer_count":1,"score":4,"last_activity_date":1683204389,"creation_date":1584923941,"question_id":60806605,"body_markdown":"im trying to install openjdk-8-jdk as suggested [here](https://openjdk.java.net/install/) with the command:\r\n```\r\nsudo apt-get install openjdk-8-jdk\r\n```\r\nbut apt dosnt find the package. i did find it at [packages.debian.org](https://packages.debian.org/de/sid/amd64/java/openjdk-8-jdk) manualy and tried to tell apt to also load from there, as suggested on the [mirrors page](https://packages.debian.org/de/sid/amd64/openjdk-8-jdk/download) of that package by adding the following line to /etc/apt/sources.list\r\n```\r\ndeb http://ftp.de.debian.org/debian sid main\r\n```\r\nbut apt still cant find the package. i also tried to change the\r\n\r\n - url to http://deb.debian.org/debian\r\n - sid to buster or buster-backports \r\n - main to unstable, non-free, contrib (or a list of some or all of those)\r\n - combinations of all of the above\r\n\r\nstill no luck.","title":"debian apt cant find openjdk-8-jdk","body":"<p>im trying to install openjdk-8-jdk as suggested <a href=\"https://openjdk.java.net/install/\" rel=\"nofollow noreferrer\">here</a> with the command:</p>\n\n<pre><code>sudo apt-get install openjdk-8-jdk\n</code></pre>\n\n<p>but apt dosnt find the package. i did find it at <a href=\"https://packages.debian.org/de/sid/amd64/java/openjdk-8-jdk\" rel=\"nofollow noreferrer\">packages.debian.org</a> manualy and tried to tell apt to also load from there, as suggested on the <a href=\"https://packages.debian.org/de/sid/amd64/openjdk-8-jdk/download\" rel=\"nofollow noreferrer\">mirrors page</a> of that package by adding the following line to /etc/apt/sources.list</p>\n\n<pre><code>deb http://ftp.de.debian.org/debian sid main\n</code></pre>\n\n<p>but apt still cant find the package. i also tried to change the</p>\n\n<ul>\n<li>url to <a href=\"http://deb.debian.org/debian\" rel=\"nofollow noreferrer\">http://deb.debian.org/debian</a></li>\n<li>sid to buster or buster-backports </li>\n<li>main to unstable, non-free, contrib (or a list of some or all of those)</li>\n<li>combinations of all of the above</li>\n</ul>\n\n<p>still no luck.</p>\n"},{"tags":["java","apache-kafka","quarkus"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683204248,"post_id":76170451,"comment_id":134332742,"body_markdown":"Clarify &quot;doesn&#39;t work&quot;. You shouldn&#39;t be able to import NewTopic from Spring in Quarkus","body":"Clarify &quot;doesn&#39;t work&quot;. You shouldn&#39;t be able to import NewTopic from Spring in Quarkus"}],"answers":[{"tags":[],"owner":{"account_id":7236580,"reputation":16360,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683185542,"creation_date":1683185542,"answer_id":76170608,"question_id":76170451,"body_markdown":"Probably not the easiest solution but you can create an [`AdminClient`](https://quarkus.io/guides/kafka#kafka-bare-clients) by yourself\r\n\r\n```java\r\n@Produces\r\nAdminClient getAdmin() {\r\n  Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n  ...\r\n  return KafkaAdminClient.create(props);\r\n}\r\n```\r\n\r\nand use [`AdminClient.createTopics`](https://kafka.apache.org/30/javadoc/org/apache/kafka/clients/admin/Admin.html#createTopics(java.util.Collection)) method to create your topics programatically\r\n\r\n","title":"How to create topic kafka quarkus?","body":"<p>Probably not the easiest solution but you can create an <a href=\"https://quarkus.io/guides/kafka#kafka-bare-clients\" rel=\"nofollow noreferrer\"><code>AdminClient</code></a> by yourself</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Produces\nAdminClient getAdmin() {\n  Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n  ...\n  return KafkaAdminClient.create(props);\n}\n</code></pre>\n<p>and use <a href=\"https://kafka.apache.org/30/javadoc/org/apache/kafka/clients/admin/Admin.html#createTopics(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>AdminClient.createTopics</code></a> method to create your topics programatically</p>\n"}],"owner":{"account_id":22140032,"reputation":23,"user_id":16390219,"display_name":"Andrew Samoilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683204166,"creation_date":1683184205,"question_id":76170451,"body_markdown":"Using Spring to create a topic, it is enough to create such a bean.\r\n\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@EnableKafka\r\n@EnableConfigurationProperties(KafkaProperties.class)\r\npublic class KafkaConfig {\r\n    private final KafkaProperties kafkaProperties;\r\n\r\n    @Bean\r\n    public NewTopic requestTopic() {\r\n        Map&lt;String, String&gt; configs = new HashMap&lt;&gt;();\r\n        configs.put(&quot;retention.ms&quot;, kafkaProperties.getStartReport().getRequestReplyTimeOut().toString());\r\n        return new NewTopic(kafkaProperties.getStartReport().getTopicName(), kafkaProperties.getStartReport().getTopicPartitions(), kafkaProperties.getStartReport().getReplicationFactor()).configs(configs);\r\n    }\r\n\r\n```\r\n\r\n\r\nHow can I create a topic with the required number of partitions and replication factor from the Quarkus code?\r\n\r\n\r\n\r\n```\r\n@Slf4j\r\n@Startup\r\n@ApplicationScoped\r\npublic class KafkaConfig {\r\n\r\n    @Inject\r\n    @ConfigProperty(name = &quot;kafka.bootstrap.servers&quot;)\r\n    String kafkaHost;\r\n\r\n    @Inject\r\n    KafkaOutgoingProperties kafkaOutgoingProperties;\r\n\r\n\r\n    @Produces\r\n    public NewTopic requestTopic() {\r\n        Map&lt;String, String&gt; configs = new HashMap&lt;&gt;();\r\n        return new NewTopic(kafkaOutgoingProperties.finishReportChannel().topic(),\r\n                kafkaOutgoingProperties.finishReportChannel().partitions(),\r\n                kafkaOutgoingProperties.finishReportChannel().replicationFactor()).configs(configs);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI tried to create the same in quarkus but it doesn&#39;t work.","title":"How to create topic kafka quarkus?","body":"<p>Using Spring to create a topic, it is enough to create such a bean.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@EnableKafka\n@EnableConfigurationProperties(KafkaProperties.class)\npublic class KafkaConfig {\n    private final KafkaProperties kafkaProperties;\n\n    @Bean\n    public NewTopic requestTopic() {\n        Map&lt;String, String&gt; configs = new HashMap&lt;&gt;();\n        configs.put(&quot;retention.ms&quot;, kafkaProperties.getStartReport().getRequestReplyTimeOut().toString());\n        return new NewTopic(kafkaProperties.getStartReport().getTopicName(), kafkaProperties.getStartReport().getTopicPartitions(), kafkaProperties.getStartReport().getReplicationFactor()).configs(configs);\n    }\n\n</code></pre>\n<p>How can I create a topic with the required number of partitions and replication factor from the Quarkus code?</p>\n<pre><code>@Slf4j\n@Startup\n@ApplicationScoped\npublic class KafkaConfig {\n\n    @Inject\n    @ConfigProperty(name = &quot;kafka.bootstrap.servers&quot;)\n    String kafkaHost;\n\n    @Inject\n    KafkaOutgoingProperties kafkaOutgoingProperties;\n\n\n    @Produces\n    public NewTopic requestTopic() {\n        Map&lt;String, String&gt; configs = new HashMap&lt;&gt;();\n        return new NewTopic(kafkaOutgoingProperties.finishReportChannel().topic(),\n                kafkaOutgoingProperties.finishReportChannel().partitions(),\n                kafkaOutgoingProperties.finishReportChannel().replicationFactor()).configs(configs);\n    }\n    \n}\n</code></pre>\n<p>I tried to create the same in quarkus but it doesn't work.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683200377,"post_id":76172590,"comment_id":134331723,"body_markdown":"what is the actual line of code you get an error?","body":"what is the actual line of code you get an error?"},{"owner":{"account_id":22368250,"reputation":11,"user_id":16583686,"display_name":"Stefancic Samuel"},"score":0,"creation_date":1683200446,"post_id":76172590,"comment_id":134331741,"body_markdown":"Hi @Stultuske, the actual error i&#39;m getting an error on is :             secretSantaGroup.addMember(creator) in my createSecretSantaGroup method","body":"Hi @Stultuske, the actual error i&#39;m getting an error on is :             secretSantaGroup.addMember(creator) in my createSecretSantaGroup method"},{"owner":{"account_id":22368250,"reputation":11,"user_id":16583686,"display_name":"Stefancic Samuel"},"score":0,"creation_date":1683200496,"post_id":76172590,"comment_id":134331752,"body_markdown":"I i can add another comment, the add basic method was throwing the exact same error","body":"I i can add another comment, the add basic method was throwing the exact same error"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683200503,"post_id":76172590,"comment_id":134331755,"body_markdown":"yes, I get that, but to what line of your code causes the issue? have you debugged your code?","body":"yes, I get that, but to what line of your code causes the issue? have you debugged your code?"},{"owner":{"account_id":22368250,"reputation":11,"user_id":16583686,"display_name":"Stefancic Samuel"},"score":0,"creation_date":1683200774,"post_id":76172590,"comment_id":134331806,"body_markdown":"It&#39;s this particular line\nThe creator have the full Users objet in it, but the debugger is running indefinitely while passing this particular line, could be the issue ...","body":"It&#39;s this particular line The creator have the full Users objet in it, but the debugger is running indefinitely while passing this particular line, could be the issue ..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683201518,"post_id":76172590,"comment_id":134332015,"body_markdown":"saying &quot;it&#39;s this particular line&quot; without showing an actual line isn&#39;t all that helpful, I&#39;m afraid","body":"saying &quot;it&#39;s this particular line&quot; without showing an actual line isn&#39;t all that helpful, I&#39;m afraid"},{"owner":{"account_id":22368250,"reputation":11,"user_id":16583686,"display_name":"Stefancic Samuel"},"score":0,"creation_date":1683201704,"post_id":76172590,"comment_id":134332054,"body_markdown":"Sorry ! I thought i had pasted it in.\nTo be more precise, this is the following line :             secretSantaGroup.addMember(creator); \nwho&#39;s causing the infinite loop in the debugger, also, it&#39;s using the normal add method but with different methods in my entities :   \n\n public void addGroup(SecretSantaGroup group) {\n        groups.add(group);\n        group.addMember(this);\n    }\n\n    public void addMember(Users user) {\n        this.members.add(user);\n        user.addGroup(this);\n    }\n\nI do not know what else to say about it ...","body":"Sorry ! I thought i had pasted it in. To be more precise, this is the following line :             secretSantaGroup.addMember(creator);  who&#39;s causing the infinite loop in the debugger, also, it&#39;s using the normal add method but with different methods in my entities :      public void addGroup(SecretSantaGroup group) {         groups.add(group);         group.addMember(this);     }      public void addMember(Users user) {         this.members.add(user);         user.addGroup(this);     }  I do not know what else to say about it ..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683202963,"post_id":76172590,"comment_id":134332372,"body_markdown":"just follow the code that is triggered there. you are calling method a from method b, and method b from method a, that is what is causing your loop","body":"just follow the code that is triggered there. you are calling method a from method b, and method b from method a, that is what is causing your loop"}],"owner":{"account_id":22368250,"reputation":11,"user_id":16583686,"display_name":"Stefancic Samuel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683204025,"creation_date":1683199055,"question_id":76172590,"body_markdown":"I am currently building an application based on the SantaSecret (or drawnames) and this app is currently in the testing phase.&lt;br&gt;\r\nThe application is using Hibernate and JPA.&lt;br&gt;\r\nMy project is built with a ManyToMany relations between the entity &quot;Users&quot; and the entity &quot;SecretSantaGroup&quot;.&lt;br&gt;\r\nI want to add a new group to the user and update the user list of groups as well, but while trying to add the creator of the group in the group newly created, i&#39;m getting the following error :\r\n\r\n\r\nSolved ! Here is the changes i made : &lt;br&gt;\r\nI started to manually add Getters to overpass the immutable ArrayLists : \r\n\r\nUsers and SecretSantaGroup : \r\n\r\n```   \r\n public List&lt;SecretSantaGroup&gt; getGroups() {\r\n        if (groups == null) {\r\n            groups = new ArrayList&lt;&gt;();\r\n        }\r\n        return groups;\r\n    }\r\n\r\n    public List&lt;Users&gt; getMembers() {\r\n        if (members == null) {\r\n            members = new ArrayList&lt;&gt;();\r\n        }\r\n        return members;\r\n    }\r\n\r\n```\r\n\r\nAnd i changed my create method to this, with the adding line change :\r\n\r\n```\r\n public SecretSantaGroup createSecretSantaGroup(SecretSantaGroup secretSantaGroup, UUID creatorId) {\r\n        try {\r\n            secretSantaGroupRepository.save(secretSantaGroup);\r\n            // Validate if the creator user has the appropriate role (admin)\r\n            Users creator = userRepository.findById(creatorId)\r\n                    .orElseThrow(() -&gt; new SecretSantaGroupException(&quot;User not found&quot;, HttpStatus.NOT_FOUND));\r\n            creator.setRole(Role.ADMIN);\r\n\r\n            // Define the group creator as admin\r\n            secretSantaGroup.setAdmin(creator);\r\n            String uniqueUrl = generateUniqueGroupUrl(secretSantaGroup.getName(), secretSantaGroup.getId());\r\n            secretSantaGroup.setUrl(uniqueUrl);\r\n\r\n            // Add the creator as a group member\r\n            SecretSantaGroup createdGroup = secretSantaGroupRepository.save(secretSantaGroup);\r\n            This line : createdGroup.setMembers(userRepository.findAllById(Collections.singleton(creatorId)));\r\n\r\n            secretSantaGroupRepository.save(createdGroup);\r\n            userRepository.save(creator);\r\n\r\n            if (!creator.getRole().equals(Role.ADMIN)) {\r\n                throw new SecretSantaGroupException(&quot;User does not have the appropriate role to create a group&quot;, HttpStatus.FORBIDDEN);\r\n            }\r\n\r\n            // Add the groups in the List of groups of the creator\r\n            creator.getGroups().add(createdGroup);\r\n            userRepository.save(creator);\r\n\r\n            if (createdGroup.getId() == null) {\r\n                throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: group id is null&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n            return createdGroup;\r\n        } catch (DataAccessException | ConstraintViolationException e) {\r\n            throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\n2023-05-04T13:05:29.534+02:00 ERROR 12272 --- [nio-5757-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.UnsupportedOperationException] with root cause\r\n\r\njava.lang.UnsupportedOperationException: null\r\n\tat java.base/java.util.AbstractList.add(AbstractList.java:155) ~[na:na]\r\n\tat java.base/java.util.AbstractList.add(AbstractList.java:113) ~[na:na]\r\n\tat org.hibernate.collection.spi.PersistentBag.add(PersistentBag.java:386) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat com.santa.work.entity.SecretSantaGroup.addMember(SecretSantaGroup.java:80) ~[classes/:na]\r\n\tat com.santa.work.service.secretSantaGroup.SecretSantaGroupServiceImpl.createSecretSantaGroup(SecretSantaGroupServiceImpl.java:59) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat com.santa.work.service.secretSantaGroup.SecretSantaGroupServiceImpl$$SpringCGLIB$$1.createSecretSantaGroup(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat com.santa.work.service.secretSantaGroup.SecretSantaGroupServiceImpl$$SpringCGLIB$$0.createSecretSantaGroup(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.santa.work.controller.SecretSantaGroupController.createSecretSantaGroup(SecretSantaGroupController.java:40) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]\r\n\r\n```\r\n\r\nAlso, here are the files defined in the error and other ones to give you more context : \r\n\r\nUsers : \r\n```@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class Users {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @SequenceGenerator(name=&quot;UUID&quot;, sequenceName = &quot;sequence_user&quot;, allocationSize = 1)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Column(name = &quot;id_user&quot;, nullable = false, unique = true)\r\n    private UUID id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;role&quot;, nullable = false)\r\n    private Role role;\r\n\r\n    @Column(name = &quot;firstname&quot;, nullable = false)\r\n    private String firstname;\r\n\r\n    @Column(name=&quot;lastname&quot;, nullable = false)\r\n    private String lastname;\r\n\r\n    @Column(name=&quot;login&quot;, nullable = false, unique = true)\r\n    private String login;\r\n\r\n    @Column(name=&quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n    @Column(name =&quot;email&quot;, nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @OneToMany(mappedBy = &quot;users&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;Wish&gt; wishList = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany(mappedBy = &quot;members&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private List&lt;SecretSantaGroup&gt; groups = new ArrayList&lt;&gt;();\r\n\r\n    @OneToMany(mappedBy = &quot;invitedUser&quot;)\r\n    private Set&lt;Invitation&gt; invitations;\r\n\r\n    public void addGroup(SecretSantaGroup group) {\r\n        groups.add(group);\r\n        group.getMembers().add(this);\r\n    }\r\n}\r\n```\r\n\r\nSecretSantaGroup : \r\n```\r\n@Entity\r\n@Table(name = &quot;santa_group&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class SecretSantaGroup {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator=&quot;UUID&quot;)\r\n    @SequenceGenerator(name=&quot;UUID&quot;, sequenceName = &quot;sequence_santa&quot;)\r\n    @GenericGenerator(\r\n            name = &quot;UUID&quot;,\r\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n    )\r\n    @Column(name =&quot;id_santa_group&quot;, nullable = false, unique = true)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;secret_santa_group_name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @ManyToOne(fetch= FetchType.LAZY)\r\n    @JoinColumn(name = &quot;admin_id&quot;)\r\n    private Users admin;\r\n\r\n    @Column(name = &quot;group_url&quot;, unique = true)\r\n    private String url;\r\n\r\n    @Column(name = &quot;matches_generated&quot;, nullable = false)\r\n    private boolean matchesGenerated = false;\r\n\r\n    //List des membres du groupe\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;group_members&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;member_id&quot;)\r\n    )\r\n    private List&lt;Users&gt; members = new ArrayList&lt;&gt;();\r\n\r\n    //List invitation groupe secretsanta, invitation li&#233;e &#224; un groupe\r\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;Invitation&gt; invitations = new ArrayList&lt;&gt;();\r\n\r\n    //Liste de correspondance pour membre de chaque groupe, match associ&#233; &#224; un groupe santa sp&#233;cifique\r\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;Match&gt; matches = new ArrayList&lt;&gt;();\r\n\r\n    public void addInvitation(Invitation invitation) {\r\n        invitations.add(invitation);\r\n        invitation.setGroup(this);\r\n    }\r\n    public void addMatch(Match match) {\r\n        matches.add(match);\r\n        match.setGroup(this);\r\n    }\r\n    public boolean allInvitationsAccepted() {\r\n        for (Invitation invitation : this.invitations) {\r\n            if (invitation.getStatus() != InvitationStatus.ACCEPTED) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    public void addMember(Users user) {\r\n        this.members.add(user);\r\n        user.addGroup(this);\r\n    }\r\n}\r\n```\r\n\r\nThe method to create (messy i know but I&#39;m improving !)\r\n```\r\n public SecretSantaGroup createSecretSantaGroup(SecretSantaGroup secretSantaGroup, UUID creatorId) {\r\n        try {\r\n            secretSantaGroupRepository.save(secretSantaGroup);\r\n            // Validate if the creator user has the appropriate role (admin)\r\n            Users creator = userRepository.findById(creatorId)\r\n                    .orElseThrow(() -&gt; new SecretSantaGroupException(&quot;User not found&quot;, HttpStatus.NOT_FOUND));\r\n            creator.setRole(Role.ADMIN);\r\n\r\n            // Define the group creator as admin\r\n            secretSantaGroup.setAdmin(creator);\r\n            String uniqueUrl = generateUniqueGroupUrl(secretSantaGroup.getName(), secretSantaGroup.getId());\r\n            secretSantaGroup.setUrl(uniqueUrl);\r\n\r\n            // Add the creator as a group member\r\n            secretSantaGroup.addMember(creator);\r\n\r\n            SecretSantaGroup createdGroup = secretSantaGroupRepository.save(secretSantaGroup);\r\n\r\n            if (!creator.getRole().equals(Role.ADMIN)) {\r\n                throw new SecretSantaGroupException(&quot;User does not have the appropriate role to create a group&quot;, HttpStatus.FORBIDDEN);\r\n            }\r\n\r\n            // Add the groups in the List of groups of the creator\r\n            creator.getGroups().add(createdGroup);\r\n            userRepository.save(creator);\r\n\r\n            if (createdGroup.getId() == null) {\r\n                throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: group id is null&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n            return createdGroup;\r\n        } catch (DataAccessException | ConstraintViolationException e) {\r\n            throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n```\r\n\r\nThanks in advance, and due to my karma i might not be able to upvote your answer or answer it","title":"Adding a new group to user - java.lang.UnsupporterOperationException for a List that is not accepting the adding in herself","body":"<p>I am currently building an application based on the SantaSecret (or drawnames) and this app is currently in the testing phase.<br>\nThe application is using Hibernate and JPA.<br>\nMy project is built with a ManyToMany relations between the entity &quot;Users&quot; and the entity &quot;SecretSantaGroup&quot;.<br>\nI want to add a new group to the user and update the user list of groups as well, but while trying to add the creator of the group in the group newly created, i'm getting the following error :</p>\n<p>Solved ! Here is the changes i made : <br>\nI started to manually add Getters to overpass the immutable ArrayLists :</p>\n<p>Users and SecretSantaGroup :</p>\n<pre><code> public List&lt;SecretSantaGroup&gt; getGroups() {\n        if (groups == null) {\n            groups = new ArrayList&lt;&gt;();\n        }\n        return groups;\n    }\n\n    public List&lt;Users&gt; getMembers() {\n        if (members == null) {\n            members = new ArrayList&lt;&gt;();\n        }\n        return members;\n    }\n\n</code></pre>\n<p>And i changed my create method to this, with the adding line change :</p>\n<pre><code> public SecretSantaGroup createSecretSantaGroup(SecretSantaGroup secretSantaGroup, UUID creatorId) {\n        try {\n            secretSantaGroupRepository.save(secretSantaGroup);\n            // Validate if the creator user has the appropriate role (admin)\n            Users creator = userRepository.findById(creatorId)\n                    .orElseThrow(() -&gt; new SecretSantaGroupException(&quot;User not found&quot;, HttpStatus.NOT_FOUND));\n            creator.setRole(Role.ADMIN);\n\n            // Define the group creator as admin\n            secretSantaGroup.setAdmin(creator);\n            String uniqueUrl = generateUniqueGroupUrl(secretSantaGroup.getName(), secretSantaGroup.getId());\n            secretSantaGroup.setUrl(uniqueUrl);\n\n            // Add the creator as a group member\n            SecretSantaGroup createdGroup = secretSantaGroupRepository.save(secretSantaGroup);\n            This line : createdGroup.setMembers(userRepository.findAllById(Collections.singleton(creatorId)));\n\n            secretSantaGroupRepository.save(createdGroup);\n            userRepository.save(creator);\n\n            if (!creator.getRole().equals(Role.ADMIN)) {\n                throw new SecretSantaGroupException(&quot;User does not have the appropriate role to create a group&quot;, HttpStatus.FORBIDDEN);\n            }\n\n            // Add the groups in the List of groups of the creator\n            creator.getGroups().add(createdGroup);\n            userRepository.save(creator);\n\n            if (createdGroup.getId() == null) {\n                throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: group id is null&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n            }\n            return createdGroup;\n        } catch (DataAccessException | ConstraintViolationException e) {\n            throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<pre><code>2023-05-04T13:05:29.534+02:00 ERROR 12272 --- [nio-5757-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.UnsupportedOperationException] with root cause\n\njava.lang.UnsupportedOperationException: null\n    at java.base/java.util.AbstractList.add(AbstractList.java:155) ~[na:na]\n    at java.base/java.util.AbstractList.add(AbstractList.java:113) ~[na:na]\n    at org.hibernate.collection.spi.PersistentBag.add(PersistentBag.java:386) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at com.santa.work.entity.SecretSantaGroup.addMember(SecretSantaGroup.java:80) ~[classes/:na]\n    at com.santa.work.service.secretSantaGroup.SecretSantaGroupServiceImpl.createSecretSantaGroup(SecretSantaGroupServiceImpl.java:59) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702) ~[spring-aop-6.0.8.jar:6.0.8]\n    at com.santa.work.service.secretSantaGroup.SecretSantaGroupServiceImpl$$SpringCGLIB$$1.createSecretSantaGroup(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-6.0.8.jar:6.0.8]\n    at com.santa.work.service.secretSantaGroup.SecretSantaGroupServiceImpl$$SpringCGLIB$$0.createSecretSantaGroup(&lt;generated&gt;) ~[classes/:na]\n    at com.santa.work.controller.SecretSantaGroupController.createSecretSantaGroup(SecretSantaGroupController.java:40) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:1623) ~[na:na]\n\n</code></pre>\n<p>Also, here are the files defined in the error and other ones to give you more context :</p>\n<p>Users :</p>\n<pre><code>@Table(name = &quot;users&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class Users {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n    @SequenceGenerator(name=&quot;UUID&quot;, sequenceName = &quot;sequence_user&quot;, allocationSize = 1)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Column(name = &quot;id_user&quot;, nullable = false, unique = true)\n    private UUID id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;role&quot;, nullable = false)\n    private Role role;\n\n    @Column(name = &quot;firstname&quot;, nullable = false)\n    private String firstname;\n\n    @Column(name=&quot;lastname&quot;, nullable = false)\n    private String lastname;\n\n    @Column(name=&quot;login&quot;, nullable = false, unique = true)\n    private String login;\n\n    @Column(name=&quot;password&quot;, nullable = false)\n    private String password;\n\n    @Column(name =&quot;email&quot;, nullable = false, unique = true)\n    private String email;\n\n    @OneToMany(mappedBy = &quot;users&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;Wish&gt; wishList = new ArrayList&lt;&gt;();\n\n    @ManyToMany(mappedBy = &quot;members&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private List&lt;SecretSantaGroup&gt; groups = new ArrayList&lt;&gt;();\n\n    @OneToMany(mappedBy = &quot;invitedUser&quot;)\n    private Set&lt;Invitation&gt; invitations;\n\n    public void addGroup(SecretSantaGroup group) {\n        groups.add(group);\n        group.getMembers().add(this);\n    }\n}\n</code></pre>\n<p>SecretSantaGroup :</p>\n<pre><code>@Entity\n@Table(name = &quot;santa_group&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class SecretSantaGroup {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator=&quot;UUID&quot;)\n    @SequenceGenerator(name=&quot;UUID&quot;, sequenceName = &quot;sequence_santa&quot;)\n    @GenericGenerator(\n            name = &quot;UUID&quot;,\n            strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n    )\n    @Column(name =&quot;id_santa_group&quot;, nullable = false, unique = true)\n    private UUID id;\n\n    @Column(name = &quot;secret_santa_group_name&quot;, nullable = false)\n    private String name;\n\n    @ManyToOne(fetch= FetchType.LAZY)\n    @JoinColumn(name = &quot;admin_id&quot;)\n    private Users admin;\n\n    @Column(name = &quot;group_url&quot;, unique = true)\n    private String url;\n\n    @Column(name = &quot;matches_generated&quot;, nullable = false)\n    private boolean matchesGenerated = false;\n\n    //List des membres du groupe\n    @ManyToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;group_members&quot;,\n            joinColumns = @JoinColumn(name = &quot;group_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;member_id&quot;)\n    )\n    private List&lt;Users&gt; members = new ArrayList&lt;&gt;();\n\n    //List invitation groupe secretsanta, invitation liée à un groupe\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    private List&lt;Invitation&gt; invitations = new ArrayList&lt;&gt;();\n\n    //Liste de correspondance pour membre de chaque groupe, match associé à un groupe santa spécifique\n    @OneToMany(mappedBy = &quot;group&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    private List&lt;Match&gt; matches = new ArrayList&lt;&gt;();\n\n    public void addInvitation(Invitation invitation) {\n        invitations.add(invitation);\n        invitation.setGroup(this);\n    }\n    public void addMatch(Match match) {\n        matches.add(match);\n        match.setGroup(this);\n    }\n    public boolean allInvitationsAccepted() {\n        for (Invitation invitation : this.invitations) {\n            if (invitation.getStatus() != InvitationStatus.ACCEPTED) {\n                return false;\n            }\n        }\n        return true;\n    }\n    public void addMember(Users user) {\n        this.members.add(user);\n        user.addGroup(this);\n    }\n}\n</code></pre>\n<p>The method to create (messy i know but I'm improving !)</p>\n<pre><code> public SecretSantaGroup createSecretSantaGroup(SecretSantaGroup secretSantaGroup, UUID creatorId) {\n        try {\n            secretSantaGroupRepository.save(secretSantaGroup);\n            // Validate if the creator user has the appropriate role (admin)\n            Users creator = userRepository.findById(creatorId)\n                    .orElseThrow(() -&gt; new SecretSantaGroupException(&quot;User not found&quot;, HttpStatus.NOT_FOUND));\n            creator.setRole(Role.ADMIN);\n\n            // Define the group creator as admin\n            secretSantaGroup.setAdmin(creator);\n            String uniqueUrl = generateUniqueGroupUrl(secretSantaGroup.getName(), secretSantaGroup.getId());\n            secretSantaGroup.setUrl(uniqueUrl);\n\n            // Add the creator as a group member\n            secretSantaGroup.addMember(creator);\n\n            SecretSantaGroup createdGroup = secretSantaGroupRepository.save(secretSantaGroup);\n\n            if (!creator.getRole().equals(Role.ADMIN)) {\n                throw new SecretSantaGroupException(&quot;User does not have the appropriate role to create a group&quot;, HttpStatus.FORBIDDEN);\n            }\n\n            // Add the groups in the List of groups of the creator\n            creator.getGroups().add(createdGroup);\n            userRepository.save(creator);\n\n            if (createdGroup.getId() == null) {\n                throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: group id is null&quot;, HttpStatus.INTERNAL_SERVER_ERROR);\n            }\n            return createdGroup;\n        } catch (DataAccessException | ConstraintViolationException e) {\n            throw new SecretSantaGroupException(&quot;Failed to create Secret Santa Group: &quot; + e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>Thanks in advance, and due to my karma i might not be able to upvote your answer or answer it</p>\n"},{"tags":["java","selenium-webdriver","microsoft-edge","cucumber-serenity"],"answers":[{"tags":[],"owner":{"account_id":28505208,"reputation":1,"user_id":21815951,"display_name":"Denisas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683203734,"creation_date":1683203659,"answer_id":76173244,"question_id":75988043,"body_markdown":"How I resolved my issue with chrome and edge, maybe you can do similar approach.if web driver setup class\r\noption.addArguments(&quot;--remote-allow-origins=*&quot;);(&quot;--remote-allow-origins=*&quot;);\r\n       \r\n            &quot;Chrome&quot;:\r\n                ChromeOptions options = new ChromeOptions();\r\n                options.addArguments(&quot;start-maximized&quot;);\r\n                options.addArguments(&quot;allow-running-insecure-content&quot;);\r\n                options.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n                // in Chrome\r\n                options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n                WebDriverManager.chromedriver().setup();\r\n                webDriver = new ChromeDriver(options);\r\n              \r\n           &quot;Edge&quot;:\r\n                EdgeOptions option = new EdgeOptions();\r\n                option.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\n                // in Edge\r\n                option.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n                WebDriverManager.edgedriver().setup();\r\n                webDriver = new EdgeDriver(option);\r\n               \r\n","title":"JAVA Could not instantiate class org.openqa.selenium.edge.EdgeDriver","body":"<p>How I resolved my issue with chrome and edge, maybe you can do similar approach.if web driver setup class\noption.addArguments(&quot;--remote-allow-origins=<em>&quot;);(&quot;--remote-allow-origins=</em>&quot;);</p>\n<pre><code>        &quot;Chrome&quot;:\n            ChromeOptions options = new ChromeOptions();\n            options.addArguments(&quot;start-maximized&quot;);\n            options.addArguments(&quot;allow-running-insecure-content&quot;);\n            options.addArguments(&quot;--ignore-certificate-errors&quot;);\n            // in Chrome\n            options.addArguments(&quot;--remote-allow-origins=*&quot;);\n            WebDriverManager.chromedriver().setup();\n            webDriver = new ChromeDriver(options);\n          \n       &quot;Edge&quot;:\n            EdgeOptions option = new EdgeOptions();\n            option.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\n            // in Edge\n            option.addArguments(&quot;--remote-allow-origins=*&quot;);\n            WebDriverManager.edgedriver().setup();\n            webDriver = new EdgeDriver(option);\n           \n</code></pre>\n"}],"owner":{"account_id":6445824,"reputation":1,"user_id":4994361,"display_name":"Job46"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683203734,"creation_date":1681229674,"question_id":75988043,"body_markdown":"Hello I am using Java/selenium for test automation and starting from today I am having this error while using Edge. Everything was working just fine.\r\nIt started with Chrome 4 weeks ago then I used -Dchrome.switches=&quot;--remote-allow-origins=*&quot; to solve it.\r\nBut now with Edge I have no idea how to solve it.\r\n\r\nI would really appreciate your help, thank you !\r\n\r\n\r\n\r\n\r\n&gt; Microsoft Edge WebDriver was started successfully.\r\n&gt; avr. 11, 2023 5:59:48 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n&gt; INFOS: Detected dialect: W3C\r\n&gt; avr. 11, 2023 5:59:48 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n&gt; AVERTISSEMENT: Invalid Status code=403 text=Forbidden\r\n\r\n\r\n\r\n```\r\nwebdriver.driver=Edge\r\nserenity.keep.unscaled.screenshots = true\r\nserenity.project.name = Socle Automate Cucumber\r\nserenity.use.unique.browser = false\r\nserenity.batch.count=1\r\nserenity.batch.number=1\r\nwebdriver.timeouts.implicitlywait 10000\r\nserenity.console.colors = true\r\nwebdriver.autodownload=true\r\n```","title":"JAVA Could not instantiate class org.openqa.selenium.edge.EdgeDriver","body":"<p>Hello I am using Java/selenium for test automation and starting from today I am having this error while using Edge. Everything was working just fine.\nIt started with Chrome 4 weeks ago then I used -Dchrome.switches=&quot;--remote-allow-origins=*&quot; to solve it.\nBut now with Edge I have no idea how to solve it.</p>\n<p>I would really appreciate your help, thank you !</p>\n<blockquote>\n<p>Microsoft Edge WebDriver was started successfully.\navr. 11, 2023 5:59:48 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFOS: Detected dialect: W3C\navr. 11, 2023 5:59:48 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nAVERTISSEMENT: Invalid Status code=403 text=Forbidden</p>\n</blockquote>\n<pre><code>webdriver.driver=Edge\nserenity.keep.unscaled.screenshots = true\nserenity.project.name = Socle Automate Cucumber\nserenity.use.unique.browser = false\nserenity.batch.count=1\nserenity.batch.number=1\nwebdriver.timeouts.implicitlywait 10000\nserenity.console.colors = true\nwebdriver.autodownload=true\n</code></pre>\n"},{"tags":["java","android","character-encoding","http-post"],"answers":[{"comments":[{"owner":{"account_id":159523,"reputation":12477,"user_id":378968,"accept_rate":87,"display_name":"Dead Programmer"},"score":0,"creation_date":1302267695,"post_id":5595206,"comment_id":6369341,"body_markdown":"@BalusC: can you please let me know, how did u find out, that would be helpful.","body":"@BalusC: can you please let me know, how did u find out, that would be helpful."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1302268798,"post_id":5595206,"comment_id":6369650,"body_markdown":"@Suresh: convert them back to bytes using UTF-8 and then read hex patterns.","body":"@Suresh: convert them back to bytes using UTF-8 and then read hex patterns."},{"owner":{"account_id":266239,"reputation":210,"user_id":553710,"accept_rate":31,"display_name":"user553710"},"score":0,"creation_date":1302274076,"post_id":5595206,"comment_id":6371396,"body_markdown":"It does not work, yeah right that is chinese character. However, when i retrieve string in xml form it show : &#239;&#187;&#191;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; and getContentType().Name always return &quot;Content-Type&quot; and value return &quot;text/xml&quot; it does not return chartset; from HttpEntity.getContentType().","body":"It does not work, yeah right that is chinese character. However, when i retrieve string in xml form it show : &#239;&#187;&#191;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; and getContentType().Name always return &quot;Content-Type&quot; and value return &quot;text/xml&quot; it does not return chartset; from HttpEntity.getContentType()."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1302274627,"post_id":5595206,"comment_id":6371587,"body_markdown":"The `&#239;&#187;&#191;` indicates that you&#39;re reading or printing it to console/file as CP1252 or ISO-8859 instead of UTF-8. Was that Chinese content part of the XML response? XML is supposed to be always in UTF-8. Probably the other end did it incorrectly. What is the URL?","body":"The <code>&#239;&#187;&#191;</code> indicates that you&#39;re reading or printing it to console/file as CP1252 or ISO-8859 instead of UTF-8. Was that Chinese content part of the XML response? XML is supposed to be always in UTF-8. Probably the other end did it incorrectly. What is the URL?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1302274759,"post_id":5595206,"comment_id":6371642,"body_markdown":"As per your comment on the other answer, you&#39;re getting &quot;an exception&quot; when using Big5. If it was an `UnsupportedEncodingException`, then it means that your platform doesn&#39;t support this charset and that you have to install the charset on the platform first. Big5 works for me on default Win7 x64 setup with latest Java 1.6. Likely Android simply doesn&#39;t support the charset.","body":"As per your comment on the other answer, you&#39;re getting &quot;an exception&quot; when using Big5. If it was an <code>UnsupportedEncodingException</code>, then it means that your platform doesn&#39;t support this charset and that you have to install the charset on the platform first. Big5 works for me on default Win7 x64 setup with latest Java 1.6. Likely Android simply doesn&#39;t support the charset."},{"owner":{"account_id":266239,"reputation":210,"user_id":553710,"accept_rate":31,"display_name":"user553710"},"score":0,"creation_date":1302275242,"post_id":5595206,"comment_id":6371798,"body_markdown":"Error only throw if i use saxparser. However, Big5 interpret in chinese but it lost all english character. Url:http://www.epsilon.com/RSS/PressReleasesRSS.aspx?reg=11","body":"Error only throw if i use saxparser. However, Big5 interpret in chinese but it lost all english character. Url:<a href=\"http://www.epsilon.com/RSS/PressReleasesRSS.aspx?reg=11\" rel=\"nofollow noreferrer\">epsilon.com/RSS/PressReleasesRSS.aspx?reg=11</a>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1302276325,"post_id":5595206,"comment_id":6372126,"body_markdown":"That URL shows fine here using UTF-8 on my Eclipse UTF-8 console. You are apparently simply not outputting/displaying the result the right way. I however wonder how you end up with a malformed Big5 string. Was it from a different URL or something? As to hex patterns, just convert byte array to hex string. Recognizing and relating the patterns to a certain charset is however a whole story apart :)","body":"That URL shows fine here using UTF-8 on my Eclipse UTF-8 console. You are apparently simply not outputting/displaying the result the right way. I however wonder how you end up with a malformed Big5 string. Was it from a different URL or something? As to hex patterns, just convert byte array to hex string. Recognizing and relating the patterns to a certain charset is however a whole story apart :)"},{"owner":{"account_id":266239,"reputation":210,"user_id":553710,"accept_rate":31,"display_name":"user553710"},"score":0,"creation_date":1302277008,"post_id":5595206,"comment_id":6372327,"body_markdown":"Thank you, finally, i solved a problem. I use &quot;ISO-8859-1&quot;, below details how i solved those issue : suppose i have string - String test = &quot;&#232;&#170;&#231;&#169;&#186;&#230;&#165;&#173;&#231;&#229;&#229;&#188;&#183;&#232;&#229;&#174;&#162;&#230;&#186;&#233;&#229;&#162;&#228;&#184;&#229;&#175;&#230;&quot;, then i did String t = new String(st.getBytes(&quot;ISO-8859-1&quot;)); and t gets in converted value. thank you","body":"Thank you, finally, i solved a problem. I use &quot;ISO-8859-1&quot;, below details how i solved those issue : suppose i have string - String test = &quot;&#232;&#170;&#231;&#169;&#186;&#230;&#165;&#173;&#231;&#229;&#229;&#188;&#183;&#232;&#229;&#174;&#162;&#230;&#186;&#233;&#229;&#162;&#228;&#184;&#229;&#175;&#230;&quot;, then i did String t = new String(st.getBytes(&quot;ISO-8859-1&quot;)); and t gets in converted value. thank you"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1302278130,"post_id":5595206,"comment_id":6372707,"body_markdown":"@user533710: this is *definitely* not the right solution. Your ugly hack is relying on the platform default encoding and the code will break when you run it on other platforms. You need to ensure that the stream comes in with UTF-8 bytes and that you parse it to chars using UTF-8 charset and that you manipulate it as UTF-8 and that you streams it as UTF-8 bytes to the display and that the display uses UTF-8 charset to interpret it.","body":"@user533710: this is <i>definitely</i> not the right solution. Your ugly hack is relying on the platform default encoding and the code will break when you run it on other platforms. You need to ensure that the stream comes in with UTF-8 bytes and that you parse it to chars using UTF-8 charset and that you manipulate it as UTF-8 and that you streams it as UTF-8 bytes to the display and that the display uses UTF-8 charset to interpret it."},{"owner":{"account_id":266239,"reputation":210,"user_id":553710,"accept_rate":31,"display_name":"user553710"},"score":0,"creation_date":1303638437,"post_id":5595206,"comment_id":6609380,"body_markdown":"BalusC - Sorry for delay reply, you are right, it is ugly hack. I change using UTF-8 it works. Now, no need any hack. Thank you","body":"BalusC - Sorry for delay reply, you are right, it is ugly hack. I change using UTF-8 it works. Now, no need any hack. Thank you"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":10,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1302266636,"creation_date":1302266636,"answer_id":5595206,"question_id":5594826,"body_markdown":"It&#39;s not in `UTF-8` encoding, it&#39;s likely in `Big5` encoding (your question history confirms that you&#39;re from China / Hong Kong).\r\n\r\n&gt; Mytest簿翹癡職疇繡矇簿翹疇簞簣癡瞽竄疆癡穠矇簡疇瞼矇罈疇簫矇繕瓣罈繞癟糧罈癟繕簣瓣繡瓣繙矇癟瞼疇簧瞽疆繞\r\n\r\nYou should be able to determine that by reading `HttpEntity#getContentType()` yourself. It should return something like\r\n\r\n    text/html;charset=Big5","title":"ByteArrayOutputStream encoding issue","body":"<p>It's not in <code>UTF-8</code> encoding, it's likely in <code>Big5</code> encoding (your question history confirms that you're from China / Hong Kong).</p>\n\n<blockquote>\n  <p>Mytest簿翹癡職疇繡矇簿翹疇簞簣癡瞽竄疆癡穠矇簡疇瞼矇罈疇簫矇繕瓣罈繞癟糧罈癟繕簣瓣繡瓣繙矇癟瞼疇簧瞽疆繞</p>\n</blockquote>\n\n<p>You should be able to determine that by reading <code>HttpEntity#getContentType()</code> yourself. It should return something like</p>\n\n<pre><code>text/html;charset=Big5\n</code></pre>\n"}],"owner":{"account_id":266239,"reputation":210,"user_id":553710,"accept_rate":31,"display_name":"user553710"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5595206,"answer_count":1,"score":1,"last_activity_date":1683203648,"creation_date":1302264519,"question_id":5594826,"body_markdown":"I have issue on encoding, after i download data of rss feed from website. Some character does not interpret properly. \r\nI use `HttpResponse.getEntity()` and put in loop read inputStream and write in `ByteArrayOutPutStream`.\r\n\r\nE.g. ByteArrayOutPutStream bs;\r\n after write on &quot;bs&quot;, i use \r\n\r\n`String test = bs.toString(&quot;UTF-8&quot;);`\r\n\r\nhowever some character comes like this: \r\n\r\n&gt; Mytest&#239;&#188;&#232;&#190;&#229;&#184;&#233;&#239;&#188;&#229;&#176;&#177;&#232;&#162;&#171;&#230;&#232;&#170;&#233;&#178;&#229;&#165;&#233;&#187;&#229;&#173;&#233;&#181;&#228;&#187;&#182;&#231;&#179;&#187;&#231;&#181;&#177;&#228;&#184;&#228;&#186;&#233;&#231;&#165;&#229;&#174;&#162;&#230;&#182;\r\n\r\nI cannot convert those character, any idea.\r\n\r\n\r\nThank you\r\n\r\n","title":"ByteArrayOutputStream encoding issue","body":"<p>I have issue on encoding, after i download data of rss feed from website. Some character does not interpret properly.\nI use <code>HttpResponse.getEntity()</code> and put in loop read inputStream and write in <code>ByteArrayOutPutStream</code>.</p>\n<p>E.g. ByteArrayOutPutStream bs;\nafter write on &quot;bs&quot;, i use</p>\n<p><code>String test = bs.toString(&quot;UTF-8&quot;);</code></p>\n<p>however some character comes like this:</p>\n<blockquote>\n<p>Mytestï¼è¾å¸éï¼å°±è¢«æèªé²å¥é»å­éµä»¶ç³»çµ±ä¸äºéç¥å®¢æ¶</p>\n</blockquote>\n<p>I cannot convert those character, any idea.</p>\n<p>Thank you</p>\n"},{"tags":["java","mongodb","spring-boot","rest","spring-data"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1661347958,"post_id":73473785,"comment_id":129750742,"body_markdown":"Empty list means there is no data in the collection.","body":"Empty list means there is no data in the collection."},{"owner":{"account_id":8467230,"reputation":459,"user_id":6351048,"display_name":"Nipuna Jayawardana"},"score":0,"creation_date":1661348036,"post_id":73473785,"comment_id":129750784,"body_markdown":"there are data in the collection. api to get the number of documents in the collection works fine.","body":"there are data in the collection. api to get the number of documents in the collection works fine."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1661348163,"post_id":73473785,"comment_id":129750849,"body_markdown":"What code is used for counting?","body":"What code is used for counting?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661348258,"post_id":73473785,"comment_id":129750898,"body_markdown":"can you check connection details as well if they are correct","body":"can you check connection details as well if they are correct"},{"owner":{"account_id":8467230,"reputation":459,"user_id":6351048,"display_name":"Nipuna Jayawardana"},"score":0,"creation_date":1661348330,"post_id":73473785,"comment_id":129750942,"body_markdown":"public int getAuthScopesCount() {\n        return  (int) authScopeRepository.count();\n  } \nthis works fine. so connections details cannot be incorrect","body":"public int getAuthScopesCount() {         return  (int) authScopeRepository.count();   }  this works fine. so connections details cannot be incorrect"},{"owner":{"account_id":8467230,"reputation":459,"user_id":6351048,"display_name":"Nipuna Jayawardana"},"score":0,"creation_date":1661348772,"post_id":73473785,"comment_id":129751196,"body_markdown":"named queries also working","body":"named queries also working"}],"answers":[{"tags":[],"owner":{"account_id":8467230,"reputation":459,"user_id":6351048,"display_name":"Nipuna Jayawardana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661415044,"creation_date":1661415044,"answer_id":73484040,"question_id":73473785,"body_markdown":"found the issue. in order to findAll() to work, the model has to have deleted status.\r\n\r\nI&#39;ve updated the model as follows\r\n```\r\n@Data\r\n@Document(&quot;auth-scopes&quot;)\r\npublic class AuthScope  {\r\n    @Id\r\n    private String scope;\r\n    private String belongsToApi;\r\n    private String belongsToApiTitle;\r\n    private String description;\r\n    private boolean deleted;\r\n\r\n}\r\n```","title":"Springboot MongoRepository findAll() method returns an empty list, But other Methods return valid results","body":"<p>found the issue. in order to findAll() to work, the model has to have deleted status.</p>\n<p>I've updated the model as follows</p>\n<pre><code>@Data\n@Document(&quot;auth-scopes&quot;)\npublic class AuthScope  {\n    @Id\n    private String scope;\n    private String belongsToApi;\n    private String belongsToApiTitle;\n    private String description;\n    private boolean deleted;\n\n}\n</code></pre>\n"}],"owner":{"account_id":8467230,"reputation":459,"user_id":6351048,"display_name":"Nipuna Jayawardana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683203168,"creation_date":1661346494,"question_id":73473785,"body_markdown":"`findAll()` method of mongoRepository returns an empty list. what is wrong with the below code?\r\nAPI used for counting the number of documents in the collection works fine and because of that, `findAll()` also should return a valid result.\r\n\r\nController\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/api-management/scopes&quot;)\r\npublic class AuthScopesController {\r\n    private final ScopesService scopesService;\r\n\r\n    @Autowired\r\n    AuthScopesController(ScopesService scopesService) {\r\n        this.scopesService = scopesService;\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public AuthScope createScope(@RequestBody AuthScope authScope) {\r\n        return scopesService.createAuthScope(authScope);\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;AuthScope&gt; getAllScopes() {\r\n        return scopesService.getAuthScopes();\r\n    }\r\n}\r\n```\r\nservice\r\n\r\n```\r\n@Service\r\npublic class ScopesService {\r\n\r\n    private final AuthScopeRepository authScopeRepository;\r\n\r\n    public ScopesService(AuthScopeRepository authScopeRepository) {\r\n        this.authScopeRepository = authScopeRepository;\r\n    }\r\n\r\n    public AuthScope createAuthScope(AuthScope authScope) {\r\n        return authScopeRepository.save(authScope);\r\n    }\r\n    //TODO: recheck\r\n    public List&lt;AuthScope&gt; getAuthScopes() {\r\n        return authScopeRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\nrepository\r\n```\r\n@Repository\r\npublic interface AuthScopeRepository extends MongoRepository&lt;AuthScope, String&gt; {\r\n    Optional&lt;AuthScope&gt; findByScope(String id);\r\n}\r\n \r\n```\r\nmodel is as follows\r\n\r\n```\r\n@Data\r\n@Document(&quot;auth-scopes&quot;)\r\npublic class AuthScope  {\r\n    @Id\r\n    private String scope;\r\n    private String belongsToApi;\r\n    private String belongsToApiTitle;\r\n    private String description;\r\n}\r\n```","title":"Springboot MongoRepository findAll() method returns an empty list, But other Methods return valid results","body":"<p><code>findAll()</code> method of mongoRepository returns an empty list. what is wrong with the below code?\nAPI used for counting the number of documents in the collection works fine and because of that, <code>findAll()</code> also should return a valid result.</p>\n<p>Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/api-management/scopes&quot;)\npublic class AuthScopesController {\n    private final ScopesService scopesService;\n\n    @Autowired\n    AuthScopesController(ScopesService scopesService) {\n        this.scopesService = scopesService;\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public AuthScope createScope(@RequestBody AuthScope authScope) {\n        return scopesService.createAuthScope(authScope);\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public List&lt;AuthScope&gt; getAllScopes() {\n        return scopesService.getAuthScopes();\n    }\n}\n</code></pre>\n<p>service</p>\n<pre><code>@Service\npublic class ScopesService {\n\n    private final AuthScopeRepository authScopeRepository;\n\n    public ScopesService(AuthScopeRepository authScopeRepository) {\n        this.authScopeRepository = authScopeRepository;\n    }\n\n    public AuthScope createAuthScope(AuthScope authScope) {\n        return authScopeRepository.save(authScope);\n    }\n    //TODO: recheck\n    public List&lt;AuthScope&gt; getAuthScopes() {\n        return authScopeRepository.findAll();\n    }\n}\n</code></pre>\n<p>repository</p>\n<pre><code>@Repository\npublic interface AuthScopeRepository extends MongoRepository&lt;AuthScope, String&gt; {\n    Optional&lt;AuthScope&gt; findByScope(String id);\n}\n \n</code></pre>\n<p>model is as follows</p>\n<pre><code>@Data\n@Document(&quot;auth-scopes&quot;)\npublic class AuthScope  {\n    @Id\n    private String scope;\n    private String belongsToApi;\n    private String belongsToApiTitle;\n    private String description;\n}\n</code></pre>\n"},{"tags":["java","scala","ssh","jsch","ssh-tunnel"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683038596,"creation_date":1681827173,"answer_id":76045670,"question_id":76038189,"body_markdown":"It looks like you expect the `direct-tcpip` to be somehow magically connected to the `setPortForwardingL`. I&#39;m quite sure it won&#39;t. You are basically trying twice the same thing, but in neither case you do all that is needed.\r\n\r\nEither:\r\n\r\n- Use `Session.setPortForwardingL` to forward a local port and connect `Socket` to `localhost:tunnelLocalPort` and talk to the remote side over it. That&#39;s an overkill, but maybe easier to implement.\r\n\r\n- Or correctly setup the `tunnelChannel` (by calling `setHost` and `setPort`). Or rather use `Session.getStreamForwarder` that does exactly that. And talk to the remote side directly over the channel, without need for a physical local port. The local port is only needed as an interface to another process. If you have everything within one process, you do not need the port. It would be just an additional useless layer.","title":"Communicate through JSch SSH tunnel with remote process/server","body":"<p>It looks like you expect the <code>direct-tcpip</code> to be somehow magically connected to the <code>setPortForwardingL</code>. I'm quite sure it won't. You are basically trying twice the same thing, but in neither case you do all that is needed.</p>\n<p>Either:</p>\n<ul>\n<li><p>Use <code>Session.setPortForwardingL</code> to forward a local port and connect <code>Socket</code> to <code>localhost:tunnelLocalPort</code> and talk to the remote side over it. That's an overkill, but maybe easier to implement.</p>\n</li>\n<li><p>Or correctly setup the <code>tunnelChannel</code> (by calling <code>setHost</code> and <code>setPort</code>). Or rather use <code>Session.getStreamForwarder</code> that does exactly that. And talk to the remote side directly over the channel, without need for a physical local port. The local port is only needed as an interface to another process. If you have everything within one process, you do not need the port. It would be just an additional useless layer.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":32473,"reputation":2320,"user_id":90173,"accept_rate":72,"display_name":"gknauth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683203089,"creation_date":1681756112,"question_id":76038189,"body_markdown":"I&#39;m trying to do programmatically in `JSch` what works fine in Bash.  I set up an SSH tunnel and then communicate through the tunnel.  I&#39;m supposed to send an authentication string every 10 seconds or so, and in return I will get from the remote host a steady stream of lines.  In `JSch` I&#39;ve established the connection to the remote host Ok, but when I try to set up a channel with the `direct-tcpip` option, reading and writing the channel&#39;s `getInputStream` and `getOutputStream`, it throws an exception `failed to initialize the channel`.  After reading what people wrote in other SO answers regarding `JSch`, I did `channel.connect()` before I tried to write to the outputStream.  This is what works in Bash:\r\n\r\nIn one shell:\r\n\r\n    ssh -l username -L LOCALPORT:127.0.0.1:REMOTEPORT REMOTEHOST\r\n\r\nIn another shell:\r\n\r\n    ID=&#39;{ &quot;id&quot;: 1234, &quot;auth&quot;: &quot;abcdefhijklmnopqrstuvwxyz&quot; }&#39;\r\n    while true; do echo $ID; sleep 10; done | nc localhost LOCALPORT\r\n\r\n\r\n**Attempted/failing bugfix code commenter requested I show:**\r\n\r\nWhen I try **session.setPortForwardingL** and open a Socket to `localhost:tunnelLocalPort`, the session says it is connected and the socket says it is connected but before I can even use the socket, the `DirectTCPIP thread remoteIp` throws `JSchException(&quot;channel is not opened&quot;) // SSH_MSG_CHANNEL_OPEN_FAILURE` at the bottom of `sendChannelOpen()` in `Channel.java`.\r\n\r\n    JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;)\r\n    JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)\r\n    val jsch = new JSch()\r\n    jsch.addIdentity(relPathPrivateKey)\r\n    val session = jsch.getSession(usernameAtRemote, remoteIp, 22)\r\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)\r\n    session.connect()   // session is verified connected &amp; authenticated after this call\r\n    val assignedPort: Int = session.setPortForwardingL(tunnelLocalPort, localhost, remotePort)\r\n    val socket = new Socket(localhost, assignedPort)\r\n    val inputStream = socket.getInputStream\r\n    val outputStream = socket.getOutputStream\r\n    val bufferedReader = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\r\n    val writer = new PrintWriter(outputStream)\r\n    writer.println(auth)\r\n    readLines(bufferedReader)\r\n    socket.close()\r\n    session.disconnect()\r\n\r\n    // com.jcraft.jsch.Channel\r\n    protected void sendChannelOpen() throws Exception {\r\n      // ... lines 819-821 below ...\r\n      if (this.open_confirmation == false) { // SSH_MSG_CHANNEL_OPEN_FAILURE\r\n        throw new JSchException(&quot;channel is not opened.&quot;);  // &lt;== FAILS HERE in DirectTCPIP thread\r\n      }\r\n      // ...\r\n    }\r\n\r\nWhen I try **session.getStreamForwarder** and I try `channel.connect()`, it throws `JSchException(&quot;session is down&quot;)` at the end of `sendChannelOpen` in `Channel.java` in the main thread.\r\n\r\n    JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;)\r\n    JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)\r\n    val jsch = new JSch()\r\n    jsch.addIdentity(relPathPrivateKey)\r\n    val session = jsch.getSession(usernameAtRemote, remoteIp, 22)\r\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)\r\n    session.connect()   // session is verified connected &amp; authenticated after this call\r\n    val channel = session.getStreamForwarder(remoteIp, remotePort)\r\n    channel.connect()   // this FAILS\r\n    val inputStream = channel.getInputStream\r\n    val outputStream = channel.getOutputStream\r\n    val bufferedReader = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\r\n    val writer = new PrintWriter(outputStream)\r\n    writer.println(auth)\r\n    readLines(bufferedReader)\r\n    channel.disconnect()\r\n    session.disconnect()\r\n\r\n    // com.jcraft.jsch.Channel\r\n    protected void sendChannelOpen() throws Exception {\r\n      // ... lines 816-818 below ...\r\n      if (!_session.isConnected()) {\r\n\t    throw new JSchException(&quot;session is down&quot;);  // &lt;== FAILS HERE in main thread\r\n      }\r\n      // ...\r\n    }\r\n\r\n\r\n**Code below is from original post, here for original discussion context only, and can be ignored for now. Instead see the code segments inserted above, as a commenter requested I show new code.**\r\n\r\nHere is some test code in Scala calling JSch. I realize it&#39;s rough. I&#39;m just trying to get JSch to work for me.\r\n\r\n    import com.jcraft.jsch._\r\n    \r\n    object Main extends Log4JLogging {\r\n      def main(args: Array[String]): Unit = {\r\n        // $ ssh -l username -L LOCALPORT:127.0.0.1:REMOTEPORT REMOTEHOST\r\n        // $ ID=&#39;{ &quot;id&quot;: 1234, &quot;auth&quot;: &quot;abcdefghijklmnopqrstuvwxyz&quot; }&#39;\r\n        // $ while true; do echo $ID; sleep 10; done | nc localhost LOCALPORT\r\n    \r\n        val remoteIpaddr = &quot;123.45.54.321&quot;\r\n        val localhost = &quot;127.0.0.1&quot;\r\n        val sshPort = 22\r\n        val tunnelLocalPort = LOCALPORT\r\n        val tunnelRemotePort = REMOTEPORT\r\n    \r\n        val usernameAtRemoteHost = &quot;username&quot;\r\n        val privateKeyForRemoteHost = &quot;ssh/for-remotehost/id_rsa&quot;\r\n    \r\n        val auth = &quot;{ \\&quot;id\\&quot;: 1234, \\&quot;auth\\&quot;: \\&quot;abcdefghijklmnopqrstuvwxyz\\&quot; }\\n&quot;\r\n        try {\r\n          val currentWorkingDirectory: String = System.getProperty(&quot;user.dir&quot;)\r\n          val pathPrivateKeyForRemoteHost: String = s&quot;$currentWorkingDirectory/$privateKeyForRemoteHost&quot;\r\n          JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;)\r\n          JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)\r\n          val tunnelJSch = new JSch()\r\n          tunnelJSch.addIdentity(pathPrivateKeyForRemoteHost)\r\n          val tunnelSessionPort = sshPort\r\n          val tunnelSession = tunnelJSch.getSession(usernameAtRemoteHost, remoteIpaddr, tunnelSessionPort)\r\n          tunnelSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;) // yes I know this is bad, will change once things work\r\n          tunnelSession.setPortForwardingL(tunnelLocalPort, localhost, tunnelRemotePort)\r\n          tunnelSession.connect()\r\n    \r\n          val tunnelChannel = tunnelSession.openChannel(&quot;direct-tcpip&quot;)\r\n          val input = tunnelChannel.getInputStream()\r\n          val output = tunnelChannel.getOutputStream()\r\n          tunnelChannel.connect()\r\n    //      tunnelChannel.setInputStream(System.in)\r\n    //      tunnelChannel.setOutputStream(System.out)\r\n          output.write(auth.getBytes(StandardCharsets.UTF_8))\r\n          val buffer = new Array[Byte](1024)\r\n          var n = input.read(buffer)\r\n          while (n &gt; 0) {\r\n            n = input.read(buffer)\r\n          }\r\n    //      val dataJsch = new JSch()\r\n    //      dataJsch.addIdentity(pathPrivateKeyForRemoteHost)\r\n    //      val dataSession = dataJsch.getSession(usernameAtRemoteHost, localhost, tunnelLocalPort)\r\n    //      dataSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;) // yes I know this is bad, will change once things work\r\n    //\r\n    //      val dataChannel = dataSession.openChannel(&quot;forwarded-tcpip&quot;)\r\n    //      dataChannel.setInputStream(System.in)\r\n    //      dataChannel.setOutputStream(System.out)\r\n    //      dataChannel.connect()\r\n    //\r\n    //      val input = dataChannel.getInputStream()\r\n    //      val output = dataChannel.getOutputStream()\r\n    //      output.write(auth.getBytes(StandardCharsets.UTF_8))\r\n    //      val buffer = new Array[Byte](1024)\r\n    //      var n = input.read(buffer)\r\n    //      while (n &gt; 0) {\r\n    //        n = input.read(buffer)\r\n    //      }\r\n    //      dataChannel.disconnect()\r\n          tunnelSession.disconnect()\r\n        } catch {\r\n          case e: Exception =&gt;\r\n            logStackTrace(e)\r\n    \tSystem.exit(1)\r\n        }\r\n      }\r\n    }\r\n","title":"Communicate through JSch SSH tunnel with remote process/server","body":"<p>I'm trying to do programmatically in <code>JSch</code> what works fine in Bash.  I set up an SSH tunnel and then communicate through the tunnel.  I'm supposed to send an authentication string every 10 seconds or so, and in return I will get from the remote host a steady stream of lines.  In <code>JSch</code> I've established the connection to the remote host Ok, but when I try to set up a channel with the <code>direct-tcpip</code> option, reading and writing the channel's <code>getInputStream</code> and <code>getOutputStream</code>, it throws an exception <code>failed to initialize the channel</code>.  After reading what people wrote in other SO answers regarding <code>JSch</code>, I did <code>channel.connect()</code> before I tried to write to the outputStream.  This is what works in Bash:</p>\n<p>In one shell:</p>\n<pre><code>ssh -l username -L LOCALPORT:127.0.0.1:REMOTEPORT REMOTEHOST\n</code></pre>\n<p>In another shell:</p>\n<pre><code>ID='{ &quot;id&quot;: 1234, &quot;auth&quot;: &quot;abcdefhijklmnopqrstuvwxyz&quot; }'\nwhile true; do echo $ID; sleep 10; done | nc localhost LOCALPORT\n</code></pre>\n<p><strong>Attempted/failing bugfix code commenter requested I show:</strong></p>\n<p>When I try <strong>session.setPortForwardingL</strong> and open a Socket to <code>localhost:tunnelLocalPort</code>, the session says it is connected and the socket says it is connected but before I can even use the socket, the <code>DirectTCPIP thread remoteIp</code> throws <code>JSchException(&quot;channel is not opened&quot;) // SSH_MSG_CHANNEL_OPEN_FAILURE</code> at the bottom of <code>sendChannelOpen()</code> in <code>Channel.java</code>.</p>\n<pre><code>JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;)\nJSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)\nval jsch = new JSch()\njsch.addIdentity(relPathPrivateKey)\nval session = jsch.getSession(usernameAtRemote, remoteIp, 22)\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)\nsession.connect()   // session is verified connected &amp; authenticated after this call\nval assignedPort: Int = session.setPortForwardingL(tunnelLocalPort, localhost, remotePort)\nval socket = new Socket(localhost, assignedPort)\nval inputStream = socket.getInputStream\nval outputStream = socket.getOutputStream\nval bufferedReader = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\nval writer = new PrintWriter(outputStream)\nwriter.println(auth)\nreadLines(bufferedReader)\nsocket.close()\nsession.disconnect()\n\n// com.jcraft.jsch.Channel\nprotected void sendChannelOpen() throws Exception {\n  // ... lines 819-821 below ...\n  if (this.open_confirmation == false) { // SSH_MSG_CHANNEL_OPEN_FAILURE\n    throw new JSchException(&quot;channel is not opened.&quot;);  // &lt;== FAILS HERE in DirectTCPIP thread\n  }\n  // ...\n}\n</code></pre>\n<p>When I try <strong>session.getStreamForwarder</strong> and I try <code>channel.connect()</code>, it throws <code>JSchException(&quot;session is down&quot;)</code> at the end of <code>sendChannelOpen</code> in <code>Channel.java</code> in the main thread.</p>\n<pre><code>JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;)\nJSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)\nval jsch = new JSch()\njsch.addIdentity(relPathPrivateKey)\nval session = jsch.getSession(usernameAtRemote, remoteIp, 22)\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;)\nsession.connect()   // session is verified connected &amp; authenticated after this call\nval channel = session.getStreamForwarder(remoteIp, remotePort)\nchannel.connect()   // this FAILS\nval inputStream = channel.getInputStream\nval outputStream = channel.getOutputStream\nval bufferedReader = new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.UTF_8))\nval writer = new PrintWriter(outputStream)\nwriter.println(auth)\nreadLines(bufferedReader)\nchannel.disconnect()\nsession.disconnect()\n\n// com.jcraft.jsch.Channel\nprotected void sendChannelOpen() throws Exception {\n  // ... lines 816-818 below ...\n  if (!_session.isConnected()) {\n    throw new JSchException(&quot;session is down&quot;);  // &lt;== FAILS HERE in main thread\n  }\n  // ...\n}\n</code></pre>\n<p><strong>Code below is from original post, here for original discussion context only, and can be ignored for now. Instead see the code segments inserted above, as a commenter requested I show new code.</strong></p>\n<p>Here is some test code in Scala calling JSch. I realize it's rough. I'm just trying to get JSch to work for me.</p>\n<pre><code>import com.jcraft.jsch._\n\nobject Main extends Log4JLogging {\n  def main(args: Array[String]): Unit = {\n    // $ ssh -l username -L LOCALPORT:127.0.0.1:REMOTEPORT REMOTEHOST\n    // $ ID='{ &quot;id&quot;: 1234, &quot;auth&quot;: &quot;abcdefghijklmnopqrstuvwxyz&quot; }'\n    // $ while true; do echo $ID; sleep 10; done | nc localhost LOCALPORT\n\n    val remoteIpaddr = &quot;123.45.54.321&quot;\n    val localhost = &quot;127.0.0.1&quot;\n    val sshPort = 22\n    val tunnelLocalPort = LOCALPORT\n    val tunnelRemotePort = REMOTEPORT\n\n    val usernameAtRemoteHost = &quot;username&quot;\n    val privateKeyForRemoteHost = &quot;ssh/for-remotehost/id_rsa&quot;\n\n    val auth = &quot;{ \\&quot;id\\&quot;: 1234, \\&quot;auth\\&quot;: \\&quot;abcdefghijklmnopqrstuvwxyz\\&quot; }\\n&quot;\n    try {\n      val currentWorkingDirectory: String = System.getProperty(&quot;user.dir&quot;)\n      val pathPrivateKeyForRemoteHost: String = s&quot;$currentWorkingDirectory/$privateKeyForRemoteHost&quot;\n      JSch.setConfig(&quot;server_host_key&quot;, JSch.getConfig(&quot;server_host_key&quot;) + &quot;,ssh-rsa&quot;)\n      JSch.setConfig(&quot;PubkeyAcceptedAlgorithms&quot;, JSch.getConfig(&quot;PubkeyAcceptedAlgorithms&quot;) + &quot;,ssh-rsa&quot;)\n      val tunnelJSch = new JSch()\n      tunnelJSch.addIdentity(pathPrivateKeyForRemoteHost)\n      val tunnelSessionPort = sshPort\n      val tunnelSession = tunnelJSch.getSession(usernameAtRemoteHost, remoteIpaddr, tunnelSessionPort)\n      tunnelSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;) // yes I know this is bad, will change once things work\n      tunnelSession.setPortForwardingL(tunnelLocalPort, localhost, tunnelRemotePort)\n      tunnelSession.connect()\n\n      val tunnelChannel = tunnelSession.openChannel(&quot;direct-tcpip&quot;)\n      val input = tunnelChannel.getInputStream()\n      val output = tunnelChannel.getOutputStream()\n      tunnelChannel.connect()\n//      tunnelChannel.setInputStream(System.in)\n//      tunnelChannel.setOutputStream(System.out)\n      output.write(auth.getBytes(StandardCharsets.UTF_8))\n      val buffer = new Array[Byte](1024)\n      var n = input.read(buffer)\n      while (n &gt; 0) {\n        n = input.read(buffer)\n      }\n//      val dataJsch = new JSch()\n//      dataJsch.addIdentity(pathPrivateKeyForRemoteHost)\n//      val dataSession = dataJsch.getSession(usernameAtRemoteHost, localhost, tunnelLocalPort)\n//      dataSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;) // yes I know this is bad, will change once things work\n//\n//      val dataChannel = dataSession.openChannel(&quot;forwarded-tcpip&quot;)\n//      dataChannel.setInputStream(System.in)\n//      dataChannel.setOutputStream(System.out)\n//      dataChannel.connect()\n//\n//      val input = dataChannel.getInputStream()\n//      val output = dataChannel.getOutputStream()\n//      output.write(auth.getBytes(StandardCharsets.UTF_8))\n//      val buffer = new Array[Byte](1024)\n//      var n = input.read(buffer)\n//      while (n &gt; 0) {\n//        n = input.read(buffer)\n//      }\n//      dataChannel.disconnect()\n      tunnelSession.disconnect()\n    } catch {\n      case e: Exception =&gt;\n        logStackTrace(e)\n    System.exit(1)\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","angular","cookies","session-cookies","setcookie"],"answers":[{"comments":[{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1683806179,"post_id":76173140,"comment_id":134424666,"body_markdown":"Tried this but it didn&#39;t work.","body":"Tried this but it didn&#39;t work."}],"tags":[],"owner":{"account_id":7789452,"reputation":380,"user_id":5893015,"accept_rate":43,"display_name":"ispostback"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683203034,"creation_date":1683203034,"answer_id":76173140,"question_id":76171268,"body_markdown":"On this case, I believe you have to write 2 separate cookies [one for the hosted url and another for the localhost]. I don&#39;t think there is a way to write a singular cookie for both the url&#39;s.\r\n\r\nIn your deployment pipeline / yaml file, you can restrict the deployment of localhost specific cookie.","title":"Writing a cookie for a specific domain, localhost debugging is not working","body":"<p>On this case, I believe you have to write 2 separate cookies [one for the hosted url and another for the localhost]. I don't think there is a way to write a singular cookie for both the url's.</p>\n<p>In your deployment pipeline / yaml file, you can restrict the deployment of localhost specific cookie.</p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683203034,"creation_date":1683190222,"question_id":76171268,"body_markdown":"I have a use case where I had to write a cookie upon login with a code, and for a specific domain, lets say domain is &quot;uat.example.com&quot;. \r\n\r\nThis will be written bya backend API after validating users authenticity, then the application calls on the domain uat.example.com/* will use this cookie read the code and use the code which is a special use case for us.\r\n\r\nNow the problem is, our front end team&#39;s development is stuck as they use localhost:4200 on their local machine and point localhost:4200 to uat.example.com/context in order to point to this specific env, but since cookie is written for a specific domain calls from localhost:4200 are failing which earlier used to work as there was no cookie logic.\r\nWhat can we do in cookie  to enable front debugging.","title":"Writing a cookie for a specific domain, localhost debugging is not working","body":"<p>I have a use case where I had to write a cookie upon login with a code, and for a specific domain, lets say domain is &quot;uat.example.com&quot;.</p>\n<p>This will be written bya backend API after validating users authenticity, then the application calls on the domain uat.example.com/* will use this cookie read the code and use the code which is a special use case for us.</p>\n<p>Now the problem is, our front end team's development is stuck as they use localhost:4200 on their local machine and point localhost:4200 to uat.example.com/context in order to point to this specific env, but since cookie is written for a specific domain calls from localhost:4200 are failing which earlier used to work as there was no cookie logic.\nWhat can we do in cookie  to enable front debugging.</p>\n"},{"tags":["java","pg-jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683203571,"post_id":76173087,"comment_id":134332539,"body_markdown":"*with `java Test`* That won&#39;t work. There&#39;s no classpath there apart from the implied current directory. You should do `java -cp .;C:\\libs\\postgresql-42.6.0.jar Test`","body":"<i>with <code>java Test</code></i> That won&#39;t work. There&#39;s no classpath there apart from the implied current directory. You should do <code>java -cp .;C:\\libs\\postgresql-42.6.0.jar Test</code>"},{"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"score":0,"creation_date":1683204001,"post_id":76173087,"comment_id":134332657,"body_markdown":"So I should compile *without* imported `postgresql-42.6.0.jar`, but I should run with it?","body":"So I should compile <i>without</i> imported <code>postgresql-42.6.0.jar</code>, but I should run with it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683204992,"post_id":76173087,"comment_id":134332957,"body_markdown":"That&#39;s right. Compiling *with* it would not be a problem though ;)","body":"That&#39;s right. Compiling <i>with</i> it would not be a problem though ;)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683205547,"post_id":76173087,"comment_id":134333123,"body_markdown":"The compilation doesn&#39;t reference any of the classes of the PostgreSQL JDBC driver, so it doesn&#39;t need to be present during compilation, but they do have to be present when *running* your application (so the JDBC `DriverManager` can find them and register them).","body":"The compilation doesn&#39;t reference any of the classes of the PostgreSQL JDBC driver, so it doesn&#39;t need to be present during compilation, but they do have to be present when <i>running</i> your application (so the JDBC <code>DriverManager</code> can find them and register them)."}],"owner":{"account_id":28220672,"reputation":13,"user_id":21571451,"display_name":"jachai.sotaro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683205510,"answer_count":0,"score":0,"last_activity_date":1683202607,"creation_date":1683202607,"question_id":76173087,"body_markdown":"I&#39;m learning how to connect Java to PostgreSQL, but doing almost everything manually so I learn the basics.\r\n\r\nHere is my code \r\n\r\n```java\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\nclass Test {\r\n\r\n    public static void main(String[] args) {\r\n        Connection myConnection;\r\n        PreparedStatement stmt;\r\n    \r\n        try {\r\n            myConnection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/testdb&quot;, &quot;admin&quot;, &quot;admin&quot;);\r\n            stmt = myConnection.prepareStatement(&quot;SELECT * FROM table&quot;);\r\n            ResultSet rs = stmt.executeQuery();\r\n    \r\n            while (rs.next()) {\r\n                rs.getString(&quot;bird&quot;);\r\n            }\r\n        } catch (SQLException sqlException) {\r\n            System.out.println(sqlException.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy Java version is 20, and I&#39;ve put `postgresql-42.6.0.jar` in `C:\\libs\\`. \r\n\r\nI compiled my `Test.java` file with `javac -cp C:\\libs\\postgresql-42.6.0.jar Test.java`, and also tried with path between double quotes, but when I try to run `Test.class` with `java Test` I get the following error:\r\n\r\n&gt; No suitable driver found for jdbc:postgresql://localhost:5432/testdb","title":"Added PostgreSQL JDBC in CLASSPATH, but I still get the error that no suitable driver is found","body":"<p>I'm learning how to connect Java to PostgreSQL, but doing almost everything manually so I learn the basics.</p>\n<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nclass Test {\n\n    public static void main(String[] args) {\n        Connection myConnection;\n        PreparedStatement stmt;\n    \n        try {\n            myConnection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/testdb&quot;, &quot;admin&quot;, &quot;admin&quot;);\n            stmt = myConnection.prepareStatement(&quot;SELECT * FROM table&quot;);\n            ResultSet rs = stmt.executeQuery();\n    \n            while (rs.next()) {\n                rs.getString(&quot;bird&quot;);\n            }\n        } catch (SQLException sqlException) {\n            System.out.println(sqlException.getMessage());\n        }\n    }\n\n}\n</code></pre>\n<p>My Java version is 20, and I've put <code>postgresql-42.6.0.jar</code> in <code>C:\\libs\\</code>.</p>\n<p>I compiled my <code>Test.java</code> file with <code>javac -cp C:\\libs\\postgresql-42.6.0.jar Test.java</code>, and also tried with path between double quotes, but when I try to run <code>Test.class</code> with <code>java Test</code> I get the following error:</p>\n<blockquote>\n<p>No suitable driver found for jdbc:postgresql://localhost:5432/testdb</p>\n</blockquote>\n"},{"tags":["java","linux","performance","memory","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1349777366,"creation_date":1349777366,"answer_id":12797686,"question_id":12797560,"body_markdown":"Without using JMX, which is what most tools use, all you can do is use\r\n\r\n    jps -lvm\r\n\r\nand infer that the settings will be from the command line options.\r\n\r\nYou can&#39;t get dynamic information without JMX by default but you could write your own service to do this.\r\n\r\nBTW: I prefer to use VisualVM rather than JConsole.","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Without using JMX, which is what most tools use, all you can do is use</p>\n\n<pre><code>jps -lvm\n</code></pre>\n\n<p>and infer that the settings will be from the command line options.</p>\n\n<p>You can't get dynamic information without JMX by default but you could write your own service to do this.</p>\n\n<p>BTW: I prefer to use VisualVM rather than JConsole.</p>\n"},{"comments":[{"owner":{"account_id":146387,"reputation":4170,"user_id":356815,"accept_rate":74,"display_name":"basZero"},"score":24,"creation_date":1391593485,"post_id":12802597,"comment_id":32586688,"body_markdown":"Is there a recommendation which options of `jstat` one should use in order to verify just the overall memory usage of a JVM? Let&#39;s say you start the JVM with `Xms=4g` and `Xmx=4g` and you want to see, how much memory of that is already used?","body":"Is there a recommendation which options of <code>jstat</code> one should use in order to verify just the overall memory usage of a JVM? Let&#39;s say you start the JVM with <code>Xms=4g</code> and <code>Xmx=4g</code> and you want to see, how much memory of that is already used?"},{"owner":{"account_id":1630724,"reputation":2887,"user_id":1505341,"display_name":"Kerem"},"score":4,"creation_date":1426298228,"post_id":12802597,"comment_id":46328870,"body_markdown":"&quot;jstat -gcutil &lt;pid&gt; 250 N&quot; was very useful to take N samples with 250ms intervals and display the output as percentages for the corresponding spaces. Thanks.","body":"&quot;jstat -gcutil &lt;pid&gt; 250 N&quot; was very useful to take N samples with 250ms intervals and display the output as percentages for the corresponding spaces. Thanks."},{"owner":{"account_id":1390774,"reputation":4886,"user_id":1321680,"accept_rate":68,"display_name":"patryk.beza"},"score":5,"creation_date":1432066812,"post_id":12802597,"comment_id":48765280,"body_markdown":"Worth noting quote from `jstat` Oracle Java 8 manual [page](https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html): `This command is experimental and unsupported`.","body":"Worth noting quote from <code>jstat</code> Oracle Java 8 manual <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html\" rel=\"nofollow noreferrer\">page</a>: <code>This command is experimental and unsupported</code>."},{"owner":{"account_id":3296493,"reputation":1463,"user_id":2773647,"accept_rate":67,"display_name":"cybersoft"},"score":2,"creation_date":1485970660,"post_id":12802597,"comment_id":71149941,"body_markdown":"`awk &#39;print {$3+$4+$6+$8}&#39;` can print summarized usage on Java 8&#39;s jstat columns","body":"<code>awk &#39;print {$3+$4+$6+$8}&#39;</code> can print summarized usage on Java 8&#39;s jstat columns"},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1508793966,"post_id":12802597,"comment_id":80744775,"body_markdown":"Had trouble with the other answers, but a basic `ps -ef | grep java` showed me the vm args, which in my case included the -Xmx value, which was all I needed.","body":"Had trouble with the other answers, but a basic <code>ps -ef | grep java</code> showed me the vm args, which in my case included the -Xmx value, which was all I needed."},{"owner":{"account_id":1910942,"reputation":1698,"user_id":1724770,"accept_rate":100,"display_name":"linehrr"},"score":0,"creation_date":1555290070,"post_id":12802597,"comment_id":98047069,"body_markdown":"@cybersoft should be `awk &#39;{print $3+$4+$6+$8}&#39;`","body":"@cybersoft should be <code>awk &#39;{print $3+$4+$6+$8}&#39;</code>"},{"owner":{"account_id":1910942,"reputation":1698,"user_id":1724770,"accept_rate":100,"display_name":"linehrr"},"score":0,"creation_date":1555291266,"post_id":12802597,"comment_id":98047230,"body_markdown":"and also, it should be `awk &#39;{print $3+$9}&#39;` aka NGC + OGC, if we don&#39;t consider perm space.","body":"and also, it should be <code>awk &#39;{print $3+$9}&#39;</code> aka NGC + OGC, if we don&#39;t consider perm space."},{"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"score":2,"creation_date":1567590706,"post_id":12802597,"comment_id":102005168,"body_markdown":"or `awk &#39;NR&gt;1 {print $3+$4+$6+$8}&#39;` to skip first line with column titles","body":"or <code>awk &#39;NR&gt;1 {print $3+$4+$6+$8}&#39;</code> to skip first line with column titles"},{"owner":{"account_id":1204548,"reputation":5005,"user_id":1174521,"accept_rate":60,"display_name":"jbg"},"score":0,"creation_date":1657277652,"post_id":12802597,"comment_id":128778136,"body_markdown":"@xdhmoore FYI `ps` reports usage of the entire process, not just the java heap.","body":"@xdhmoore FYI <code>ps</code> reports usage of the entire process, not just the java heap."}],"tags":[],"owner":{"account_id":1174195,"reputation":7926,"user_id":1150606,"accept_rate":20,"display_name":"farmer1992"},"comment_count":9,"down_vote_count":2,"up_vote_count":205,"is_accepted":false,"score":203,"last_activity_date":1485979414,"creation_date":1349793869,"answer_id":12802597,"question_id":12797560,"body_markdown":"Each Java process has a `pid`, which you first need to find with the `jps` command. \r\n\r\nOnce you have the pid, you can use `jstat -gc [insert-pid-here]` to find statistics of the behavior of the garbage collected heap.\r\n\r\n* `jstat -gccapacity [insert-pid-here]` will present information about memory pool generation and space capabilities.\r\n\r\n* `jstat -gcutil [insert-pid-here]` will present the utilization of each generation as a percentage of its capacity. Useful to get an at a glance view of usage.\r\n\r\nSee [jstat docs][1] on Oracle&#39;s site.\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Each Java process has a <code>pid</code>, which you first need to find with the <code>jps</code> command. </p>\n\n<p>Once you have the pid, you can use <code>jstat -gc [insert-pid-here]</code> to find statistics of the behavior of the garbage collected heap.</p>\n\n<ul>\n<li><p><code>jstat -gccapacity [insert-pid-here]</code> will present information about memory pool generation and space capabilities.</p></li>\n<li><p><code>jstat -gcutil [insert-pid-here]</code> will present the utilization of each generation as a percentage of its capacity. Useful to get an at a glance view of usage.</p></li>\n</ul>\n\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html\" rel=\"noreferrer\">jstat docs</a> on Oracle's site.</p>\n"},{"comments":[{"owner":{"account_id":1691984,"reputation":855,"user_id":1554153,"accept_rate":95,"display_name":"oski86"},"score":0,"creation_date":1430944095,"post_id":15861780,"comment_id":48287034,"body_markdown":"It is indeed a great tool, kind of htop but with metrics from jstat. Thanks for suggestion, @MRalwasser .","body":"It is indeed a great tool, kind of htop but with metrics from jstat. Thanks for suggestion, @MRalwasser ."},{"owner":{"account_id":9346423,"reputation":1452,"user_id":6937584,"display_name":"cdalxndr"},"score":8,"creation_date":1611255638,"post_id":15861780,"comment_id":116399390,"body_markdown":"only works until java 8 because of tools.jar dependency","body":"only works until java 8 because of tools.jar dependency"}],"tags":[],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":2,"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1448044161,"creation_date":1365333597,"answer_id":15861780,"question_id":12797560,"body_markdown":"[jvmtop][1] is a command-line tool which provides a live-view at several metrics, including heap.\r\n\r\n### Example output of the VM overview mode:\r\n\r\n     JvmTop 0.3 alpha (expect bugs)  amd64  8 cpus, Linux 2.6.32-27, load avg 0.12\r\n     http://code.google.com/p/jvmtop\r\n    \r\n      PID MAIN-CLASS      HPCUR HPMAX NHCUR NHMAX    CPU     GC    VM USERNAME   #T DL\r\n     3370 rapperSimpleApp  165m  455m  109m  176m  0.12%  0.00% S6U37 web        21\r\n    11272 ver.resin.Resin [ERROR: Could not attach to VM]\r\n    27338 WatchdogManager   11m   28m   23m  130m  0.00%  0.00% S6U37 web        31\r\n    19187 m.jvmtop.JvmTop   20m 3544m   13m  130m  0.93%  0.47% S6U37 web        20\r\n    16733 artup.Bootstrap  159m  455m  166m  304m  0.12%  0.00% S6U37 web        46\r\n\r\n  [1]: https://github.com/patric-r/jvmtop\r\n","title":"How can I find Java heap size and memory used (Linux)?","body":"<p><a href=\"https://github.com/patric-r/jvmtop\" rel=\"noreferrer\">jvmtop</a> is a command-line tool which provides a live-view at several metrics, including heap.</p>\n\n<h3>Example output of the VM overview mode:</h3>\n\n<pre><code> JvmTop 0.3 alpha (expect bugs)  amd64  8 cpus, Linux 2.6.32-27, load avg 0.12\n http://code.google.com/p/jvmtop\n\n  PID MAIN-CLASS      HPCUR HPMAX NHCUR NHMAX    CPU     GC    VM USERNAME   #T DL\n 3370 rapperSimpleApp  165m  455m  109m  176m  0.12%  0.00% S6U37 web        21\n11272 ver.resin.Resin [ERROR: Could not attach to VM]\n27338 WatchdogManager   11m   28m   23m  130m  0.00%  0.00% S6U37 web        31\n19187 m.jvmtop.JvmTop   20m 3544m   13m  130m  0.93%  0.47% S6U37 web        20\n16733 artup.Bootstrap  159m  455m  166m  304m  0.12%  0.00% S6U37 web        46\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2779586,"reputation":21,"user_id":2392366,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368762039,"creation_date":1368762039,"answer_id":16601033,"question_id":12797560,"body_markdown":"If using jrockit try the jrcmd command line tool. For example:\r\n\r\n    $ jrcmd 5127 print_memusage\r\n    5127:\r\n    Total mapped                  1074596KB           (reserved=3728KB)\r\n    -              Java heap       786432KB           (reserved=0KB)\r\n    -              GC tables        26316KB          \r\n    -          Thread stacks        13452KB           (#threads=34)\r\n    -          Compiled code         9856KB           (used=9761KB)\r\n    -               Internal          840KB          \r\n    -                     OS        15036KB          \r\n    -                  Other       146632KB          \r\n    -        Java class data        75008KB           (malloced=74861KB #103221 in 18709 classes)\r\n    - Native memory tracking         1024KB           (malloced=102KB #8)\r\n\r\nFor more commands, like heap_diagnostics, use &quot;jrcmd &lt;java pid&gt; help&quot; to list them.\r\n\r\nhttps://blogs.oracle.com/jrockit/entry/why_is_my_jvm_process_larger_t","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>If using jrockit try the jrcmd command line tool. For example:</p>\n\n<pre><code>$ jrcmd 5127 print_memusage\n5127:\nTotal mapped                  1074596KB           (reserved=3728KB)\n-              Java heap       786432KB           (reserved=0KB)\n-              GC tables        26316KB          \n-          Thread stacks        13452KB           (#threads=34)\n-          Compiled code         9856KB           (used=9761KB)\n-               Internal          840KB          \n-                     OS        15036KB          \n-                  Other       146632KB          \n-        Java class data        75008KB           (malloced=74861KB #103221 in 18709 classes)\n- Native memory tracking         1024KB           (malloced=102KB #8)\n</code></pre>\n\n<p>For more commands, like heap_diagnostics, use \"jrcmd  help\" to list them.</p>\n\n<p><a href=\"https://blogs.oracle.com/jrockit/entry/why_is_my_jvm_process_larger_t\" rel=\"nofollow\">https://blogs.oracle.com/jrockit/entry/why_is_my_jvm_process_larger_t</a></p>\n"},{"comments":[{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":52,"creation_date":1480525834,"post_id":22108304,"comment_id":69002322,"body_markdown":"This doesn&#39;t answer the question, which specifically asks how to check heap usage of  a process.  The command here lists JVM defaults across all processes.","body":"This doesn&#39;t answer the question, which specifically asks how to check heap usage of  a process.  The command here lists JVM defaults across all processes."},{"owner":{"account_id":114463,"reputation":5015,"user_id":300963,"accept_rate":77,"display_name":"Johan"},"score":34,"creation_date":1516888395,"post_id":22108304,"comment_id":83880417,"body_markdown":"Yet, it is a very helpful answer for me coming to this page via google search on how to find the global heap size.","body":"Yet, it is a very helpful answer for me coming to this page via google search on how to find the global heap size."},{"owner":{"account_id":59461,"reputation":19172,"user_id":177920,"accept_rate":77,"display_name":"Madbreaks"},"score":0,"creation_date":1576864690,"post_id":22108304,"comment_id":105044931,"body_markdown":"@jumping_monkey not indirect, incorrect. If what you&#39;re saying is true, the answer should be edited or you should feel free to add a new answer.","body":"@jumping_monkey not indirect, incorrect. If what you&#39;re saying is true, the answer should be edited or you should feel free to add a new answer."},{"owner":{"account_id":1619965,"reputation":465,"user_id":1524650,"display_name":"John Haberstroh"},"score":1,"creation_date":1623260770,"post_id":22108304,"comment_id":120031286,"body_markdown":"The initial question&#39;s title is ambiguous enough that this should remain a listed answer. Furthermore, it is the most findable answer on google to answer the configuration question.","body":"The initial question&#39;s title is ambiguous enough that this should remain a listed answer. Furthermore, it is the most findable answer on google to answer the configuration question."}],"tags":[],"owner":{"account_id":31010,"reputation":29249,"user_id":84885,"accept_rate":73,"display_name":"Atma"},"comment_count":4,"down_vote_count":18,"up_vote_count":149,"is_accepted":false,"score":131,"last_activity_date":1513205058,"creation_date":1393633155,"answer_id":22108304,"question_id":12797560,"body_markdown":"This command shows the configured heap sizes in bytes.\r\n\r\n    java -XX:+PrintFlagsFinal -version | grep HeapSize\r\n\r\nIt works on Amazon AMI on EC2 as well.","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>This command shows the configured heap sizes in bytes.</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | grep HeapSize\n</code></pre>\n\n<p>It works on Amazon AMI on EC2 as well.</p>\n"},{"comments":[{"owner":{"account_id":1910942,"reputation":1698,"user_id":1724770,"accept_rate":100,"display_name":"linehrr"},"score":5,"creation_date":1512162585,"post_id":34296084,"comment_id":82161726,"body_markdown":"top command is showing how much OS is given to the JVM. this guys is asking how we can see heap space usage inside JVM. JVM is using 10g does not mean the real heap space is full of 10g data, because jvm almost never return memory back to OS from heap until you kill the process.","body":"top command is showing how much OS is given to the JVM. this guys is asking how we can see heap space usage inside JVM. JVM is using 10g does not mean the real heap space is full of 10g data, because jvm almost never return memory back to OS from heap until you kill the process."}],"tags":[],"owner":{"account_id":6958148,"reputation":934,"user_id":5338542,"accept_rate":78,"display_name":"Morteza Mashayekhi"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1450202873,"creation_date":1450201802,"answer_id":34296084,"question_id":12797560,"body_markdown":"Using `top` command is the simplest way to check memory usage of the program. `RES` column shows the real physical memory that is occupied by a process.\r\n\r\nFor my case, I had a 10g file read in java and each time I got outOfMemory exception. This happened when the value in the `RES` column reached to the value set in `-Xmx` option. Then by increasing the memory using `-Xmx` option everything went fine. \r\n\r\n","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Using <code>top</code> command is the simplest way to check memory usage of the program. <code>RES</code> column shows the real physical memory that is occupied by a process.</p>\n\n<p>For my case, I had a 10g file read in java and each time I got outOfMemory exception. This happened when the value in the <code>RES</code> column reached to the value set in <code>-Xmx</code> option. Then by increasing the memory using <code>-Xmx</code> option everything went fine. </p>\n"},{"comments":[{"owner":{"account_id":1167867,"reputation":5014,"user_id":1145750,"accept_rate":69,"display_name":"Gary Gauh"},"score":0,"creation_date":1484636685,"post_id":38759136,"comment_id":70578060,"body_markdown":"How to find the memory usage separated by heap, permsize,... of specific java process by pid ?","body":"How to find the memory usage separated by heap, permsize,... of specific java process by pid ?"},{"owner":{"account_id":5256683,"reputation":1188,"user_id":4199385,"display_name":"padippist"},"score":9,"creation_date":1484722042,"post_id":38759136,"comment_id":70620856,"body_markdown":"@GaryGauh This is the default heap size. To find usage of running application you should  do it within code or you can use jconsole.  This is what I know there should also be many other ways.","body":"@GaryGauh This is the default heap size. To find usage of running application you should  do it within code or you can use jconsole.  This is what I know there should also be many other ways."},{"owner":{"account_id":1841815,"reputation":20206,"user_id":1671066,"accept_rate":82,"display_name":"Micha Wiedenmann"},"score":2,"creation_date":1530611637,"post_id":38759136,"comment_id":89286521,"body_markdown":"Use `jstat -gc &lt;vmid&gt;` for running applications.","body":"Use <code>jstat -gc &lt;vmid&gt;</code> for running applications."}],"tags":[],"owner":{"account_id":5256683,"reputation":1188,"user_id":4199385,"display_name":"padippist"},"comment_count":3,"down_vote_count":7,"up_vote_count":69,"is_accepted":false,"score":62,"last_activity_date":1513205159,"creation_date":1470288719,"answer_id":38759136,"question_id":12797560,"body_markdown":"Try this it worked in Ubuntu and RedHat:\r\n\r\n    java -XX:+PrintFlagsFinal -version | grep -iE &#39;HeapSize|PermSize|ThreadStackSize&#39;\r\n\r\nFor Windows:\r\n\r\n    java -XX:+PrintFlagsFinal -version | findstr /i &quot;HeapSize PermSize ThreadStackSize&quot;\r\n\r\nFor Mac\r\n\r\n    java -XX:+PrintFlagsFinal -version | grep -iE &#39;heapsize|permsize|threadstacksize&#39;\r\n\r\nThe output of all this commands resembles the output below:\r\n\r\n\r\n    uintx InitialHeapSize                          := 20655360        {product}\r\n    uintx MaxHeapSize                              := 331350016       {product}\r\n    uintx PermSize                                  = 21757952        {pd product}\r\n    uintx MaxPermSize                               = 85983232        {pd product}\r\n    intx ThreadStackSize                           = 1024            {pd product}\r\n    java version &quot;1.7.0_05&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_05-b05)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)\r\n\r\nTo find the size in MB, divide the value with (1024*1024).","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Try this it worked in Ubuntu and RedHat:</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | grep -iE 'HeapSize|PermSize|ThreadStackSize'\n</code></pre>\n\n<p>For Windows:</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | findstr /i \"HeapSize PermSize ThreadStackSize\"\n</code></pre>\n\n<p>For Mac</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | grep -iE 'heapsize|permsize|threadstacksize'\n</code></pre>\n\n<p>The output of all this commands resembles the output below:</p>\n\n<pre><code>uintx InitialHeapSize                          := 20655360        {product}\nuintx MaxHeapSize                              := 331350016       {product}\nuintx PermSize                                  = 21757952        {pd product}\nuintx MaxPermSize                               = 85983232        {pd product}\nintx ThreadStackSize                           = 1024            {pd product}\njava version \"1.7.0_05\"\nJava(TM) SE Runtime Environment (build 1.7.0_05-b05)\nJava HotSpot(TM) 64-Bit Server VM (build 23.1-b03, mixed mode)\n</code></pre>\n\n<p>To find the size in MB, divide the value with (1024*1024).</p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481148164,"creation_date":1481144924,"answer_id":41027402,"question_id":12797560,"body_markdown":"    jstat -gccapacity javapid  (ex. stat -gccapacity 28745)\r\n    jstat -gccapacity javapid gaps frames (ex.  stat -gccapacity 28745 550 10 )\r\n\r\nSample O/P of above command\r\n\r\n    NGCMN    NGCMX     NGC     S0C  \r\n    87040.0 1397760.0 1327616.0 107520.0 \r\n\r\n    NGCMN\tMinimum new generation capacity (KB).\r\n    NGCMX\tMaximum new generation capacity (KB).\r\n    NGC\tCurrent new generation capacity (KB).\r\n\r\nGet more details about this at http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html\r\n\r\n","title":"How can I find Java heap size and memory used (Linux)?","body":"<pre><code>jstat -gccapacity javapid  (ex. stat -gccapacity 28745)\njstat -gccapacity javapid gaps frames (ex.  stat -gccapacity 28745 550 10 )\n</code></pre>\n\n<p>Sample O/P of above command</p>\n\n<pre><code>NGCMN    NGCMX     NGC     S0C  \n87040.0 1397760.0 1327616.0 107520.0 \n\nNGCMN   Minimum new generation capacity (KB).\nNGCMX   Maximum new generation capacity (KB).\nNGC Current new generation capacity (KB).\n</code></pre>\n\n<p>Get more details about this at <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/tooldocs/share/jstat.html</a></p>\n"},{"tags":[],"owner":{"account_id":3197479,"reputation":27833,"user_id":2700356,"accept_rate":76,"display_name":"Yuci"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1481197226,"creation_date":1481196619,"answer_id":41038419,"question_id":12797560,"body_markdown":"In terms of Java heap size, in Linux, you can use\r\n\r\n    ps aux | grep java\r\n\r\nor\r\n\r\n    ps -ef | grep java\r\n\r\nand look for -Xms, -Xmx to find out the initial and maximum heap size specified.\r\n\r\nHowever, if -Xms or -Xmx is absent for the Java process you are interested in, it means your Java process is using the default heap sizes. You can use the following command to find out the default sizes.\r\n\r\n    java -XX:+PrintFlagsFinal -version | grep HeapSize\r\n\r\nor a particular jvm, for example,\r\n\r\n    /path/to/jdk1.8.0_102/bin/java -XX:+PrintFlagsFinal -version | grep HeapSize\r\n\r\nand look for InitialHeapSize and MaxHeapSize, which is in bytes.","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>In terms of Java heap size, in Linux, you can use</p>\n\n<pre><code>ps aux | grep java\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ps -ef | grep java\n</code></pre>\n\n<p>and look for -Xms, -Xmx to find out the initial and maximum heap size specified.</p>\n\n<p>However, if -Xms or -Xmx is absent for the Java process you are interested in, it means your Java process is using the default heap sizes. You can use the following command to find out the default sizes.</p>\n\n<pre><code>java -XX:+PrintFlagsFinal -version | grep HeapSize\n</code></pre>\n\n<p>or a particular jvm, for example,</p>\n\n<pre><code>/path/to/jdk1.8.0_102/bin/java -XX:+PrintFlagsFinal -version | grep HeapSize\n</code></pre>\n\n<p>and look for InitialHeapSize and MaxHeapSize, which is in bytes.</p>\n"},{"comments":[{"owner":{"account_id":553370,"reputation":932,"user_id":1774078,"accept_rate":100,"display_name":"tmanolatos"},"score":2,"creation_date":1506007048,"post_id":42303173,"comment_id":79655404,"body_markdown":"Just to note that jvm-mon runs only for Java8","body":"Just to note that jvm-mon runs only for Java8"},{"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"score":1,"creation_date":1589034054,"post_id":42303173,"comment_id":109133869,"body_markdown":"^ There&#39;s a new version that now also supports Java 11.","body":"^ There&#39;s a new version that now also supports Java 11."}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1487349864,"creation_date":1487349864,"answer_id":42303173,"question_id":12797560,"body_markdown":"There is a command line tool with a visual aspect - [jvm-mon][1]. It is a JVM monitoring tool for the command line that disaplys:\r\n\r\n - heap usage, size and max\r\n - jvm processes\r\n - cpu and GC usage\r\n - top threads\r\n\r\nThe metrics and charts update while the tool is open.\r\n\r\nSample: [![jvm-mon][2]][1]\r\n\r\n\r\n  [1]: https://github.com/ajermakovics/jvm-mon\r\n  [2]: https://i.stack.imgur.com/xlBSu.png","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>There is a command line tool with a visual aspect - <a href=\"https://github.com/ajermakovics/jvm-mon\" rel=\"noreferrer\">jvm-mon</a>. It is a JVM monitoring tool for the command line that disaplys:</p>\n\n<ul>\n<li>heap usage, size and max</li>\n<li>jvm processes</li>\n<li>cpu and GC usage</li>\n<li>top threads</li>\n</ul>\n\n<p>The metrics and charts update while the tool is open.</p>\n\n<p>Sample: <a href=\"https://github.com/ajermakovics/jvm-mon\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xlBSu.png\" alt=\"jvm-mon\"></a></p>\n"},{"tags":[],"owner":{"account_id":424976,"reputation":18834,"user_id":805284,"accept_rate":100,"display_name":"sjas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497189235,"creation_date":1497186948,"answer_id":44484265,"question_id":12797560,"body_markdown":"First get the process id, the first number from the process listed, from one of the following: (or just use `ps aux | grep java`, if you prefer that)\r\n\r\n    jps -lvm\r\n\r\nThen use the process ID here:\r\n\r\n    jmap -heap $MY_PID 2&gt;/dev/null | sed -ne &#39;/Heap Configuration/,$p&#39;;\r\n    jmap -permstat $MY_PID","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>First get the process id, the first number from the process listed, from one of the following: (or just use <code>ps aux | grep java</code>, if you prefer that)</p>\n\n<pre><code>jps -lvm\n</code></pre>\n\n<p>Then use the process ID here:</p>\n\n<pre><code>jmap -heap $MY_PID 2&gt;/dev/null | sed -ne '/Heap Configuration/,$p';\njmap -permstat $MY_PID\n</code></pre>\n"},{"comments":[{"owner":{"account_id":75645,"reputation":908,"user_id":216919,"display_name":"Chris"},"score":0,"creation_date":1509426858,"post_id":46025098,"comment_id":81003545,"body_markdown":"does not seem to work out of the box on a SUSE Linux  (line 38: declare: -A: invalid option)","body":"does not seem to work out of the box on a SUSE Linux  (line 38: declare: -A: invalid option)"},{"owner":{"account_id":4788747,"reputation":465,"user_id":3868505,"display_name":"amarjeetAnand"},"score":0,"creation_date":1509439518,"post_id":46025098,"comment_id":81008661,"body_markdown":"sounds like you get error in associative array declaration which need bash &gt;= 4. Also another problem may be due to running the script as &quot;sh jpsstat.sh&quot; . If so, try to run the script as &quot;./jpsstat.sh&quot;.","body":"sounds like you get error in associative array declaration which need bash &gt;= 4. Also another problem may be due to running the script as &quot;sh jpsstat.sh&quot; . If so, try to run the script as &quot;./jpsstat.sh&quot;."},{"owner":{"account_id":3195718,"reputation":506,"user_id":2698939,"accept_rate":33,"display_name":"Vladimir Filipchenko"},"score":1,"creation_date":1607089929,"post_id":46025098,"comment_id":115170043,"body_markdown":"Thanks! Simple and just amazing tool for fast troubleshooting. Must have!","body":"Thanks! Simple and just amazing tool for fast troubleshooting. Must have!"},{"owner":{"account_id":2222021,"reputation":640,"user_id":1961192,"accept_rate":43,"display_name":"Suryaprakash Pisay"},"score":0,"creation_date":1613978780,"post_id":46025098,"comment_id":117232797,"body_markdown":"@amarjeetAnand, what is the default units of currHead and maxHeap? Is there any way to get these units in mb or user defined unit?","body":"@amarjeetAnand, what is the default units of currHead and maxHeap? Is there any way to get these units in mb or user defined unit?"}],"tags":[],"owner":{"account_id":4788747,"reputation":465,"user_id":3868505,"display_name":"amarjeetAnand"},"comment_count":4,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1528610014,"creation_date":1504453323,"answer_id":46025098,"question_id":12797560,"body_markdown":"Late at party, but a very simple solution is to use the jpsstat.sh script. It provides a simple live **current memory**, **max memory** and **cpu use** details.\r\n\r\n - Goto [GitHub project][1] and download the **jpsstat.sh** file\r\n - Right click on **jpsstat.sh** and goto *permissions* tab and make it executable                                       \r\n - Now Run the script using following command **./jpsstat.sh**\r\n\r\nHere is the sample output of script - \r\n\r\n    =====  ======  =======  =======  =====\r\n     PID    Name   CurHeap  MaxHeap  %_CPU\r\n    =====  ======  =======  =======  =====\r\n    2777   Test3      1.26     1.26    5.8\r\n    2582   Test1      2.52     2.52    8.3\r\n    2562   Test2      2.52     2.52    6.4\r\n\r\n  [1]: https://github.com/amarjeetanandsingh/jps_stat","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Late at party, but a very simple solution is to use the jpsstat.sh script. It provides a simple live <strong>current memory</strong>, <strong>max memory</strong> and <strong>cpu use</strong> details.</p>\n\n<ul>\n<li>Goto <a href=\"https://github.com/amarjeetanandsingh/jps_stat\" rel=\"noreferrer\">GitHub project</a> and download the <strong>jpsstat.sh</strong> file</li>\n<li>Right click on <strong>jpsstat.sh</strong> and goto <em>permissions</em> tab and make it executable                                       </li>\n<li>Now Run the script using following command <strong>./jpsstat.sh</strong></li>\n</ul>\n\n<p>Here is the sample output of script - </p>\n\n<pre><code>=====  ======  =======  =======  =====\n PID    Name   CurHeap  MaxHeap  %_CPU\n=====  ======  =======  =======  =====\n2777   Test3      1.26     1.26    5.8\n2582   Test1      2.52     2.52    8.3\n2562   Test2      2.52     2.52    6.4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215223,"reputation":2949,"user_id":469718,"accept_rate":12,"display_name":"kisna"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1555301808,"creation_date":1520369930,"answer_id":49139834,"question_id":12797560,"body_markdown":"Any approach should give you roughly same number. It is always a good idea to allocate the heap using `-X..m` `-X..x` for all generations. You can then guarantee and also do ps to see what parameters were passed and hence being used.\r\n\r\nFor actual memory usages, you can roughly compare VIRT (allocated and shared) and RES (actual used) compare against the jstat values as well:\r\n\r\nFor Java 8, see [jstat][1] for these values actually mean. Assuming you run a simple class with no mmap or file processing.\r\n\r\n    $ jstat -gccapacity 32277\r\n     NGCMN    NGCMX     NGC     S0C   S1C       EC      OGCMN      OGCMX       OGC         OC       MCMN     MCMX      MC     CCSMN    CCSMX     CCSC    YGC    FGC\r\n    215040.0 3433472.0  73728.0  512.0  512.0  67072.0   430080.0  6867968.0   392704.0   392704.0      0.0 1083392.0  39680.0      0.0 1048576.0   4864.0   7225     2\r\n&lt;!-- --&gt;\r\n\r\n    $ jstat -gcutil 32277\r\n      S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\r\n      6.25   0.00   7.96  18.21  98.01  95.29   7228   30.859     2    0.173   31.032\r\n\r\n**Max**:\r\n\r\n         NGCMX + S0C + S1C + EC    + OGCMX   + MCMX    + CCSMX\r\n       3433472 + 512 + 512 + 67072 + 6867968 + 1083392 + 1048576 = 12 GB\r\n\r\n(roughly close and below to VIRT memory)\r\n\r\n**Max(Min, Used):**\r\n\r\n    215040 + 512 + 512 + 67072 + 430080  + 39680    +  4864  = ~ 1GB\r\n\r\n\r\n (roughly close to RES memory)\r\n\r\n&quot;Don&#39;t quote me on this&quot; but VIRT mem is roughly close to or more than Max memory allocated but as long as **memory being used** is free/available in physical memory, JVM does not throw memory exception. In fact, max memory is not even checked against physical memory on JVM startup even with swap off on OS. A better explanation of what Virtual memory really used by a Java process is discussed [here][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html\r\n  [2]: https://stackoverflow.com/questions/561245/virtual-memory-usage-from-java-under-linux-too-much-memory-used\r\n\r\n\r\n","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Any approach should give you roughly same number. It is always a good idea to allocate the heap using <code>-X..m</code> <code>-X..x</code> for all generations. You can then guarantee and also do ps to see what parameters were passed and hence being used.</p>\n\n<p>For actual memory usages, you can roughly compare VIRT (allocated and shared) and RES (actual used) compare against the jstat values as well:</p>\n\n<p>For Java 8, see <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html\" rel=\"noreferrer\">jstat</a> for these values actually mean. Assuming you run a simple class with no mmap or file processing.</p>\n\n<pre><code>$ jstat -gccapacity 32277\n NGCMN    NGCMX     NGC     S0C   S1C       EC      OGCMN      OGCMX       OGC         OC       MCMN     MCMX      MC     CCSMN    CCSMX     CCSC    YGC    FGC\n215040.0 3433472.0  73728.0  512.0  512.0  67072.0   430080.0  6867968.0   392704.0   392704.0      0.0 1083392.0  39680.0      0.0 1048576.0   4864.0   7225     2\n</code></pre>\n\n\n\n<pre><code>$ jstat -gcutil 32277\n  S0     S1     E      O      M     CCS    YGC     YGCT    FGC    FGCT     GCT\n  6.25   0.00   7.96  18.21  98.01  95.29   7228   30.859     2    0.173   31.032\n</code></pre>\n\n<p><strong>Max</strong>:</p>\n\n<pre><code>     NGCMX + S0C + S1C + EC    + OGCMX   + MCMX    + CCSMX\n   3433472 + 512 + 512 + 67072 + 6867968 + 1083392 + 1048576 = 12 GB\n</code></pre>\n\n<p>(roughly close and below to VIRT memory)</p>\n\n<p><strong>Max(Min, Used):</strong></p>\n\n<pre><code>215040 + 512 + 512 + 67072 + 430080  + 39680    +  4864  = ~ 1GB\n</code></pre>\n\n<p>(roughly close to RES memory)</p>\n\n<p>\"Don't quote me on this\" but VIRT mem is roughly close to or more than Max memory allocated but as long as <strong>memory being used</strong> is free/available in physical memory, JVM does not throw memory exception. In fact, max memory is not even checked against physical memory on JVM startup even with swap off on OS. A better explanation of what Virtual memory really used by a Java process is discussed <a href=\"https://stackoverflow.com/questions/561245/virtual-memory-usage-from-java-under-linux-too-much-memory-used\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":1,"creation_date":1551999701,"post_id":53985531,"comment_id":96857869,"body_markdown":"You need to correct your comment. GC.heap_info is available in Java 9 and above. It&#39;s not available in the Java 8. See another thread here: https://stackoverflow.com/questions/41891127/jcmd-where-can-i-find-complementary-information","body":"You need to correct your comment. GC.heap_info is available in Java 9 and above. It&#39;s not available in the Java 8. See another thread here: <a href=\"https://stackoverflow.com/questions/41891127/jcmd-where-can-i-find-complementary-information\" title=\"jcmd where can i find complementary information\">stackoverflow.com/questions/41891127/&hellip;</a>"},{"owner":{"account_id":6536933,"reputation":415,"user_id":5056080,"display_name":"vaibhav gupta"},"score":4,"creation_date":1552980129,"post_id":53985531,"comment_id":97204267,"body_markdown":"@PavelMolchanov I am able to use the command in jdk1.8.0_172. /Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/bin/jcmd 98270 GC.heap_info. \nPlease if you may, Add the info to referred thread as well as I don&#39;t have enough reputation as of now to add a comment there.","body":"@PavelMolchanov I am able to use the command in jdk1.8.0_172. /Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/&zwnj;&#8203;Home/bin/jcmd 98270 GC.heap_info.  Please if you may, Add the info to referred thread as well as I don&#39;t have enough reputation as of now to add a comment there."},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1553008854,"post_id":53985531,"comment_id":97221827,"body_markdown":"Do you use Mac? Do you use Oracle JDK? I don&#39;t know how it can be available in your jdk1.8.0_172, Oracle documented this feature only in Java 9 and up: https://docs.oracle.com/javase/9/tools/jcmd.htm. It&#39;s not in the Oracle JDK documentation for Java 8. It&#39;s not mentioned in the link that you gave at the bottom: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html","body":"Do you use Mac? Do you use Oracle JDK? I don&#39;t know how it can be available in your jdk1.8.0_172, Oracle documented this feature only in Java 9 and up: <a href=\"https://docs.oracle.com/javase/9/tools/jcmd.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/tools/jcmd.htm</a>. It&#39;s not in the Oracle JDK documentation for Java 8. It&#39;s not mentioned in the link that you gave at the bottom: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":261278,"reputation":2329,"user_id":545353,"display_name":"Pavel Molchanov"},"score":0,"creation_date":1553009091,"post_id":53985531,"comment_id":97221982,"body_markdown":"One more question. Please check JDK version that is running process 98270 in your example. jcmd gets available commands from JVM of the process (in your case 98270). If process 98270 process is executed with different JDK (JDK 9 or above), you will see GC.heap_info command available even in JCMD itself is from Java 8. Available commands may be different for different processes. To get available commands execute: jcmp &lt;PID&gt; help.","body":"One more question. Please check JDK version that is running process 98270 in your example. jcmd gets available commands from JVM of the process (in your case 98270). If process 98270 process is executed with different JDK (JDK 9 or above), you will see GC.heap_info command available even in JCMD itself is from Java 8. Available commands may be different for different processes. To get available commands execute: jcmp &lt;PID&gt; help."},{"owner":{"account_id":6536933,"reputation":415,"user_id":5056080,"display_name":"vaibhav gupta"},"score":0,"creation_date":1553173254,"post_id":53985531,"comment_id":97291765,"body_markdown":"Yes, I am using Mac. (Can you let me know, how it may make difference). Yes, I think i am using oracle jdk (can you help me know, what all others are available and how can i verify). Process is using jdk1.8.0_172 (verified on multiple java processes). \nI have these 5 extra commands than are documented in my referred link, on jcmd &lt;PID&gt; help -&gt; VM.classloader_stats, GC.rotate_log, GC.finalizer_info, GC.heap_info, VM.dynlibs","body":"Yes, I am using Mac. (Can you let me know, how it may make difference). Yes, I think i am using oracle jdk (can you help me know, what all others are available and how can i verify). Process is using jdk1.8.0_172 (verified on multiple java processes).  I have these 5 extra commands than are documented in my referred link, on jcmd &lt;PID&gt; help -&gt; VM.classloader_stats, GC.rotate_log, GC.finalizer_info, GC.heap_info, VM.dynlibs"},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":3,"creation_date":1569407458,"post_id":53985531,"comment_id":102584829,"body_markdown":"FWIW, `GC.heap_info` is definitely available in OpenJDK 8 also. Maybe only in recent versions? I am using this one: 8u191-b12-2ubuntu0.18.04.1","body":"FWIW, <code>GC.heap_info</code> is definitely available in OpenJDK 8 also. Maybe only in recent versions? I am using this one: 8u191-b12-2ubuntu0.18.04.1"},{"owner":{"account_id":5728888,"reputation":125,"user_id":4525046,"display_name":"devildelta"},"score":0,"creation_date":1618456957,"post_id":53985531,"comment_id":118608532,"body_markdown":"Interesting thing is I checked there is `GC.heap_info` in 1.8.0_101-b13 but not in 1.8.0_144-b01.","body":"Interesting thing is I checked there is <code>GC.heap_info</code> in 1.8.0_101-b13 but not in 1.8.0_144-b01."}],"tags":[],"owner":{"account_id":6536933,"reputation":415,"user_id":5056080,"display_name":"vaibhav gupta"},"comment_count":7,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1611241536,"creation_date":1546247071,"answer_id":53985531,"question_id":12797560,"body_markdown":"From **Java8 and above**, you may use below command:\r\n\r\njcmd `JAVA_PROCESS_ID` GC.heap_info\r\n\r\nYou may refer to sum of, total and used memory from the output. \r\n\r\n    Sample Command And Output: jcmd 9758 GC.heap_info\r\n\r\n    PSYoungGen  total 1579520K, used 487543K [0x0000000751d80000, 0x00000007c0000000, 0x00000007c0000000)\r\n      eden space 1354240K, 36% used [0x0000000751d80000,0x000000076f99dc40,0x00000007a4800000)\r\n      from space 225280K, 0% used [0x00000007b2400000,0x00000007b2400000,0x00000007c0000000)\r\n      to   space 225280K, 0% used [0x00000007a4800000,0x00000007a4800000,0x00000007b2400000)\r\n    ParOldGen       total 3610112K, used 0K [0x0000000675800000, 0x0000000751d80000, 0x0000000751d80000)\r\n      object space 3610112K, 0% used [0x0000000675800000,0x0000000675800000,0x0000000751d80000)\r\n    Metaspace       used 16292K, capacity 16582K, committed 16896K, reserved 1064960K\r\n      class space    used 1823K, capacity 1936K, committed 2048K, reserved 1048576K\r\n\r\n\r\nFor more details on jcmd command, visit link [here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>From <strong>Java8 and above</strong>, you may use below command:</p>\n<p>jcmd <code>JAVA_PROCESS_ID</code> GC.heap_info</p>\n<p>You may refer to sum of, total and used memory from the output.</p>\n<pre><code>Sample Command And Output: jcmd 9758 GC.heap_info\n\nPSYoungGen  total 1579520K, used 487543K [0x0000000751d80000, 0x00000007c0000000, 0x00000007c0000000)\n  eden space 1354240K, 36% used [0x0000000751d80000,0x000000076f99dc40,0x00000007a4800000)\n  from space 225280K, 0% used [0x00000007b2400000,0x00000007b2400000,0x00000007c0000000)\n  to   space 225280K, 0% used [0x00000007a4800000,0x00000007a4800000,0x00000007b2400000)\nParOldGen       total 3610112K, used 0K [0x0000000675800000, 0x0000000751d80000, 0x0000000751d80000)\n  object space 3610112K, 0% used [0x0000000675800000,0x0000000675800000,0x0000000751d80000)\nMetaspace       used 16292K, capacity 16582K, committed 16896K, reserved 1064960K\n  class space    used 1823K, capacity 1936K, committed 2048K, reserved 1048576K\n</code></pre>\n<p>For more details on jcmd command, visit link <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr006.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":15365252,"reputation":69,"user_id":11084985,"display_name":"Gowtham Prasath"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1561211998,"creation_date":1561211998,"answer_id":56716077,"question_id":12797560,"body_markdown":"*There is no such tool till now to print the heap memory in the format as you requested*\r\n**The Only and only way to print is to write a java program with the help of Runtime Class**,\r\n\r\n    public class TestMemory {\r\n\t\r\n\tpublic static void main(String [] args) {\r\n\t\t\r\n\t\tint MB = 1024*1024;\r\n\t\t\r\n\t\t//Getting the runtime reference from system\r\n\t\tRuntime runtime = Runtime.getRuntime();\r\n\t\r\n\t\t//Print used memory\r\n\t\tSystem.out.println(&quot;Used Memory:&quot; \r\n\t\t\t+ (runtime.totalMemory() - runtime.freeMemory()) / MB);\r\n\r\n\t\t//Print free memory\r\n\t\tSystem.out.println(&quot;Free Memory:&quot; \r\n\t\t\t+ runtime.freeMemory() / mb);\r\n\t\t\r\n\t\t//Print total available memory\r\n\t\tSystem.out.println(&quot;Total Memory:&quot; + runtime.totalMemory() / MB);\r\n\r\n\t\t//Print Maximum available memory\r\n\t\tSystem.out.println(&quot;Max Memory:&quot; + runtime.maxMemory() / MB);\r\n\t}\r\n}\r\n\r\nreference:https://viralpatel.net/blogs/getting-jvm-heap-size-used-memory-total-memory-using-java-runtime/\r\n\r\n\r\n","title":"How can I find Java heap size and memory used (Linux)?","body":"<p><em>There is no such tool till now to print the heap memory in the format as you requested</em>\n<strong>The Only and only way to print is to write a java program with the help of Runtime Class</strong>,</p>\n\n<pre><code>public class TestMemory {\n\npublic static void main(String [] args) {\n\n    int MB = 1024*1024;\n\n    //Getting the runtime reference from system\n    Runtime runtime = Runtime.getRuntime();\n\n    //Print used memory\n    System.out.println(\"Used Memory:\" \n        + (runtime.totalMemory() - runtime.freeMemory()) / MB);\n\n    //Print free memory\n    System.out.println(\"Free Memory:\" \n        + runtime.freeMemory() / mb);\n\n    //Print total available memory\n    System.out.println(\"Total Memory:\" + runtime.totalMemory() / MB);\n\n    //Print Maximum available memory\n    System.out.println(\"Max Memory:\" + runtime.maxMemory() / MB);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>reference:<a href=\"https://viralpatel.net/blogs/getting-jvm-heap-size-used-memory-total-memory-using-java-runtime/\" rel=\"nofollow noreferrer\">https://viralpatel.net/blogs/getting-jvm-heap-size-used-memory-total-memory-using-java-runtime/</a></p>\n"},{"tags":[],"owner":{"account_id":10377124,"reputation":1597,"user_id":7653022,"accept_rate":75,"display_name":"froblesmartin"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1568372828,"creation_date":1568372828,"answer_id":57922480,"question_id":12797560,"body_markdown":"In my case I needed to check the flags inside a docker container which didn&#39;t had most of the basic utilities (ps, pstree...)\r\n\r\nUsing `jps` I got the PID of the JVM running (in my case 1) and then with `jcmd 1 VM.flags` I got the flags from the running JVM.\r\n\r\nIt depends on what commands you have available, but this might help someone. :)","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>In my case I needed to check the flags inside a docker container which didn't had most of the basic utilities (ps, pstree...)</p>\n\n<p>Using <code>jps</code> I got the PID of the JVM running (in my case 1) and then with <code>jcmd 1 VM.flags</code> I got the flags from the running JVM.</p>\n\n<p>It depends on what commands you have available, but this might help someone. :)</p>\n"},{"comments":[{"owner":{"account_id":6333793,"reputation":397,"user_id":4917907,"display_name":"Ronan"},"score":4,"creation_date":1641912594,"post_id":62839631,"comment_id":124928024,"body_markdown":"Perfect answer to the original question, which isn&#39;t to just display the max allocated heap size, but also the currently used heap. Not shown on the screenshot, but the jmap heap command displays free and used space in absolute and percentage values.\nYou may have to use jhsdb rather than jmap directly : jhsdb jmap --heap --pid &lt;your PID&gt;","body":"Perfect answer to the original question, which isn&#39;t to just display the max allocated heap size, but also the currently used heap. Not shown on the screenshot, but the jmap heap command displays free and used space in absolute and percentage values. You may have to use jhsdb rather than jmap directly : jhsdb jmap --heap --pid &lt;your PID&gt;"}],"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594402873,"creation_date":1594402873,"answer_id":62839631,"question_id":12797560,"body_markdown":"Find the process id of your webapp/java process from top. \r\nUse jmap heap &lt;pid&gt; to get the heap allocation. I tested this on AWS-Ec2 for elastic beanstalk\r\n\r\nYou can see in image below 3GB max heap for the application\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D3qOj.png","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>Find the process id of your webapp/java process from top.\nUse jmap heap  to get the heap allocation. I tested this on AWS-Ec2 for elastic beanstalk</p>\n<p>You can see in image below 3GB max heap for the application</p>\n<p><a href=\"https://i.stack.imgur.com/D3qOj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/D3qOj.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"score":0,"creation_date":1697553228,"post_id":74901369,"comment_id":136292664,"body_markdown":"This works for me. But the MaxHeapSize is always 4GB for me, even I set -Xmx2G. How come ?","body":"This works for me. But the MaxHeapSize is always 4GB for me, even I set -Xmx2G. How come ?"}],"tags":[],"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671809468,"creation_date":1671809468,"answer_id":74901369,"question_id":12797560,"body_markdown":"I think jmap is deprecated or something. I used the following command to monitor the heap of a running java app. As in the answers obtain the `PID` from `PS -aux` (or using other method) and use the command\r\n\r\n\r\n    jhsdb jmap --heap --pid &lt;PID&gt;\r\n\r\n\r\nYou can observe the following details;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ub5zw.png","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>I think jmap is deprecated or something. I used the following command to monitor the heap of a running java app. As in the answers obtain the <code>PID</code> from <code>PS -aux</code> (or using other method) and use the command</p>\n<pre><code>jhsdb jmap --heap --pid &lt;PID&gt;\n</code></pre>\n<p>You can observe the following details;\n<a href=\"https://i.stack.imgur.com/ub5zw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ub5zw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":947165,"reputation":8480,"user_id":974169,"accept_rate":57,"display_name":"Jasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":899095,"favorite_count":0,"down_vote_count":1,"up_vote_count":229,"answer_count":18,"score":228,"last_activity_date":1683202353,"creation_date":1349776990,"question_id":12797560,"body_markdown":"How can I check heap size (and used memory) of a Java application on Linux through the command line?\r\n\r\nI have tried through jmap. But it gives information about internal memory areas, like Eden, PermGen, etc., which is not useful to me.\r\n\r\nI am looking for something like:\r\n\r\n - Maximum Memory: 1 GB\r\n - Minimum Memory: 256 MB\r\n - Heap Memory: 700 MB\r\n - Used Memory: 460 MB\r\n\r\nThat&#39;s all. I know that I can see this in [JConsole][1], etc., but I need to do it via the command-line (I can&#39;t enable [JMX][2], etc.)\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JConsole\r\n  [2]: https://en.wikipedia.org/wiki/Java_Management_Extensions\r\n\r\n\r\n","title":"How can I find Java heap size and memory used (Linux)?","body":"<p>How can I check heap size (and used memory) of a Java application on Linux through the command line?</p>\n<p>I have tried through jmap. But it gives information about internal memory areas, like Eden, PermGen, etc., which is not useful to me.</p>\n<p>I am looking for something like:</p>\n<ul>\n<li>Maximum Memory: 1 GB</li>\n<li>Minimum Memory: 256 MB</li>\n<li>Heap Memory: 700 MB</li>\n<li>Used Memory: 460 MB</li>\n</ul>\n<p>That's all. I know that I can see this in <a href=\"https://en.wikipedia.org/wiki/JConsole\" rel=\"noreferrer\">JConsole</a>, etc., but I need to do it via the command-line (I can't enable <a href=\"https://en.wikipedia.org/wiki/Java_Management_Extensions\" rel=\"noreferrer\">JMX</a>, etc.)</p>\n"},{"tags":["java","spring","spring-mvc","junit","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"comment_count":0,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1393969309,"creation_date":1393969309,"answer_id":22183678,"question_id":22183178,"body_markdown":"I see a couple of issues with the request mapped method:\r\n\r\nIdeally, you should have a `@ResponseBody` annotation on your method, to indicate that the returned content is to be streamed out:\r\n\r\n    @RequestMapping(value = &quot;index&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public HashMap&lt;String, String&gt; handleRequest() {\r\n        HashMap&lt;String, String&gt; model = new HashMap&lt;String, String&gt;();\r\n        String name = &quot;Hello World&quot;;\r\n        model.put(&quot;greeting&quot;, name);\r\n    \r\n        return model;\r\n    }\r\n\r\nNow with this done, your test can look like this:\r\n\r\n    mockMvc.perform(get(&quot;/index&quot;).contentType(MediaType.APPLICATION_JSON)).andExpect(status().isOk()).andExpect(content().contentTypeCompatibleWith(&quot;application/json&quot;))\r\n            .andExpect(jsonPath(&quot;$.greeting&quot;).value(&quot;Hello World&quot;));\r\n\r\nIn your case, what is happening is Spring is trying to figure out the view name and is getting the view name as `index`, which is again the controller path, thus the circular view path error that you are seeing.","title":"java.lang.AssertionError: Content type not set while junit Spring MVC Controller?","body":"<p>I see a couple of issues with the request mapped method:</p>\n\n<p>Ideally, you should have a <code>@ResponseBody</code> annotation on your method, to indicate that the returned content is to be streamed out:</p>\n\n<pre><code>@RequestMapping(value = \"index\", method = RequestMethod.GET)\n@ResponseBody\npublic HashMap&lt;String, String&gt; handleRequest() {\n    HashMap&lt;String, String&gt; model = new HashMap&lt;String, String&gt;();\n    String name = \"Hello World\";\n    model.put(\"greeting\", name);\n\n    return model;\n}\n</code></pre>\n\n<p>Now with this done, your test can look like this:</p>\n\n<pre><code>mockMvc.perform(get(\"/index\").contentType(MediaType.APPLICATION_JSON)).andExpect(status().isOk()).andExpect(content().contentTypeCompatibleWith(\"application/json\"))\n        .andExpect(jsonPath(\"$.greeting\").value(\"Hello World\"));\n</code></pre>\n\n<p>In your case, what is happening is Spring is trying to figure out the view name and is getting the view name as <code>index</code>, which is again the controller path, thus the circular view path error that you are seeing.</p>\n"},{"comments":[{"owner":{"account_id":390869,"reputation":431,"user_id":751204,"accept_rate":38,"display_name":"Kumar S"},"score":0,"creation_date":1635971659,"post_id":42093091,"comment_id":123437453,"body_markdown":"You are  absolutely correct! I just changed the mapping in the code , missed to do the same in my Junit! Thank you!","body":"You are  absolutely correct! I just changed the mapping in the code , missed to do the same in my Junit! Thank you!"}],"tags":[],"owner":{"account_id":2153873,"reputation":13216,"user_id":1909531,"accept_rate":79,"display_name":"Matthias M"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486479620,"creation_date":1486479620,"answer_id":42093091,"question_id":22183178,"body_markdown":"You should also check your request mappings:\r\n\r\nDoes get(&quot;/...&quot;) match @RequestMapping ?\r\n\r\nIf the handleRequest is never called, you will get the same error `Content type not set`.","title":"java.lang.AssertionError: Content type not set while junit Spring MVC Controller?","body":"<p>You should also check your request mappings:</p>\n\n<p>Does get(\"/...\") match @RequestMapping ?</p>\n\n<p>If the handleRequest is never called, you will get the same error <code>Content type not set</code>.</p>\n"},{"tags":[],"owner":{"account_id":2120003,"reputation":11,"user_id":1883467,"display_name":"user1883467"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683202277,"creation_date":1683202277,"answer_id":76173039,"question_id":22183178,"body_markdown":"Make sure the mocked services in your controller return something. \r\n\r\nwhen(myservice.getResult()).thenReturn(someObject);\r\n\r\nWithout some form of result Spring cannot determine the content type.\r\n\r\n\r\n","title":"java.lang.AssertionError: Content type not set while junit Spring MVC Controller?","body":"<p>Make sure the mocked services in your controller return something.</p>\n<p>when(myservice.getResult()).thenReturn(someObject);</p>\n<p>Without some form of result Spring cannot determine the content type.</p>\n"}],"owner":{"account_id":434144,"reputation":19198,"user_id":819916,"accept_rate":81,"display_name":"AKIWEB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51169,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22183678,"answer_count":3,"score":9,"last_activity_date":1683202277,"creation_date":1393967693,"question_id":22183178,"body_markdown":"I am using JUnit to test my Spring MVC controller. Below is my method which returns a `index.jsp` page and shows `Hello World` on the screen - \r\n\r\n\t@RequestMapping(value = &quot;index&quot;, method = RequestMethod.GET)\r\n\tpublic HashMap&lt;String, String&gt; handleRequest() {\r\n\t\tHashMap&lt;String, String&gt; model = new HashMap&lt;String, String&gt;();\r\n\r\n\t\tString name = &quot;Hello World&quot;;\r\n\t\tmodel.put(&quot;greeting&quot;, name);\r\n\r\n\t\treturn model;\r\n\t}\r\n\t\r\nAnd below is my JUnit test for the above method:\r\n\r\n\tpublic class ControllerTest {\r\n\r\n\t\tprivate MockMvc mockMvc;\r\n\r\n\t\t@Before\r\n\t\tpublic void setup() throws Exception {\r\n\t\t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n\t\t\tviewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n\t\t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n\r\n\t\t\tthis.mockMvc = standaloneSetup(new Controller()).setViewResolvers(viewResolver).build();\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void test01_Index() throws Exception {\r\n\r\n\t\tmockMvc.perform(get(&quot;/index&quot;)).andExpect(status().isOk()).andExpect(content().contentType(&quot;application/json&quot;))\r\n\t\t\t.andExpect(jsonPath(&quot;$.greeting&quot;).value(&quot;Hello World&quot;));\r\n\r\n\t\t}\r\n\t}\r\n\t\r\nAbove junit was working fine when I debugged it but when I ran the junit as `run as junit`, it gave me this error - \r\n\r\n\tMockMvc : Circular view path [view]: would dispatch back to the current handler URL [/view] again\r\n\t\r\nSo to fix that I followed this [tutorial](http://myshittycode.com/2014/01/17/mockmvc-circular-view-path-view-would-dispatch-back-to-the-current-handler-url-view-again/) and after that I am getting this exception - \r\n\r\n\tjava.lang.AssertionError: Content type not set\r\n\t\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:39)\r\n\t\tat org.springframework.test.util.AssertionErrors.assertTrue(AssertionErrors.java:72)\r\n\t\tat org.springframework.test.web.servlet.result.ContentResultMatchers$1.match(ContentResultMatchers.java:75)\r\n\t\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:141)\r\n\t\tat com.ebay.personalization.bullseye.zookeeper.test.ZookeeperControllerTest.test01_Index(ZookeeperControllerTest.java:32)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:76)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:602)\r\n\t\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\t\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\t\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n\t\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n\t\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n\t\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\r\n\t\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\t\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n\t\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n\t\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n\t\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n\t\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n\t\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n\t\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\nWhat am I doing wrong here? On the .jsp page it shows `Hello World`..\r\n\r\nI am following up on my previous question [here](https://stackoverflow.com/questions/22182167/how-to-junit-return-type-of-a-method-in-spring-mvc-controller/22182342?noredirect=1#comment33670375_22182342)","title":"java.lang.AssertionError: Content type not set while junit Spring MVC Controller?","body":"<p>I am using JUnit to test my Spring MVC controller. Below is my method which returns a <code>index.jsp</code> page and shows <code>Hello World</code> on the screen - </p>\n\n<pre><code>@RequestMapping(value = \"index\", method = RequestMethod.GET)\npublic HashMap&lt;String, String&gt; handleRequest() {\n    HashMap&lt;String, String&gt; model = new HashMap&lt;String, String&gt;();\n\n    String name = \"Hello World\";\n    model.put(\"greeting\", name);\n\n    return model;\n}\n</code></pre>\n\n<p>And below is my JUnit test for the above method:</p>\n\n<pre><code>public class ControllerTest {\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() throws Exception {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n\n        this.mockMvc = standaloneSetup(new Controller()).setViewResolvers(viewResolver).build();\n    }\n\n    @Test\n    public void test01_Index() throws Exception {\n\n    mockMvc.perform(get(\"/index\")).andExpect(status().isOk()).andExpect(content().contentType(\"application/json\"))\n        .andExpect(jsonPath(\"$.greeting\").value(\"Hello World\"));\n\n    }\n}\n</code></pre>\n\n<p>Above junit was working fine when I debugged it but when I ran the junit as <code>run as junit</code>, it gave me this error - </p>\n\n<pre><code>MockMvc : Circular view path [view]: would dispatch back to the current handler URL [/view] again\n</code></pre>\n\n<p>So to fix that I followed this <a href=\"http://myshittycode.com/2014/01/17/mockmvc-circular-view-path-view-would-dispatch-back-to-the-current-handler-url-view-again/\" rel=\"noreferrer\">tutorial</a> and after that I am getting this exception - </p>\n\n<pre><code>java.lang.AssertionError: Content type not set\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:39)\n    at org.springframework.test.util.AssertionErrors.assertTrue(AssertionErrors.java:72)\n    at org.springframework.test.web.servlet.result.ContentResultMatchers$1.match(ContentResultMatchers.java:75)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:141)\n    at com.ebay.personalization.bullseye.zookeeper.test.ZookeeperControllerTest.test01_Index(ZookeeperControllerTest.java:32)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:76)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:602)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:236)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n\n<p>What am I doing wrong here? On the .jsp page it shows <code>Hello World</code>..</p>\n\n<p>I am following up on my previous question <a href=\"https://stackoverflow.com/questions/22182167/how-to-junit-return-type-of-a-method-in-spring-mvc-controller/22182342?noredirect=1#comment33670375_22182342\">here</a></p>\n"},{"tags":["java","spring-boot","ssl","resttemplate","truststore"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683202244,"creation_date":1683202244,"answer_id":76173030,"question_id":76170853,"body_markdown":"Your application doesn&#39;t trust in the certificate of the service. You need to create an SSLContext which is configured to use the truststore that contains the certificate and then use it to configure the HttpClient used by RestTemplate.","title":"I/O error on GET request for &quot;https://localhost:8775/api/n1/nkl/application1&quot;: PKIX path building failed","body":"<p>Your application doesn't trust in the certificate of the service. You need to create an SSLContext which is configured to use the truststore that contains the certificate and then use it to configure the HttpClient used by RestTemplate.</p>\n"}],"owner":{"account_id":28401802,"reputation":1,"user_id":21726514,"display_name":"nidhi tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683202244,"creation_date":1683187292,"question_id":76170853,"body_markdown":"We are getting below mentioned exception while making a microservice call using REST template in springBoot. \r\nI/O error on GET request for &quot;https://localhost:8775/api/n1/nkl/app1&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\r\n\r\nWe are using SSL. We have a single certificate which we should be used for both applications.We are able to make microservice call successfully after disabling the SSL. However, once we enable it, we are getting above mentioned exception.","title":"I/O error on GET request for &quot;https://localhost:8775/api/n1/nkl/application1&quot;: PKIX path building failed","body":"<p>We are getting below mentioned exception while making a microservice call using REST template in springBoot.\nI/O error on GET request for &quot;https://localhost:8775/api/n1/nkl/app1&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.</p>\n<p>We are using SSL. We have a single certificate which we should be used for both applications.We are able to make microservice call successfully after disabling the SSL. However, once we enable it, we are getting above mentioned exception.</p>\n"},{"tags":["java","selenium","webdriver","chat"],"comments":[{"owner":{"account_id":2464420,"reputation":658,"user_id":2147846,"display_name":"Vinay"},"score":0,"creation_date":1375163059,"post_id":17938381,"comment_id":26213342,"body_markdown":"What is it you want to automate in the app? Can you provide the URL...","body":"What is it you want to automate in the app? Can you provide the URL..."},{"owner":{"account_id":1915784,"reputation":257,"user_id":1728406,"display_name":"user1728406"},"score":0,"creation_date":1376731792,"post_id":17938381,"comment_id":26828447,"body_markdown":"Hi Vinay,  I am extremely sorry as i cannot provide you the URL as it is highly confidential for our firm. For example just take an example of gtalk chat app. I need to automate the way two users will be using it.","body":"Hi Vinay,  I am extremely sorry as i cannot provide you the URL as it is highly confidential for our firm. For example just take an example of gtalk chat app. I need to automate the way two users will be using it."}],"answers":[{"comments":[{"owner":{"account_id":172217,"reputation":567,"user_id":400101,"accept_rate":39,"display_name":"sasikumar"},"score":0,"creation_date":1387359036,"post_id":17939259,"comment_id":30920775,"body_markdown":"Is it working any sample code?,i have same situation to test an chat application.","body":"Is it working any sample code?,i have same situation to test an chat application."}],"tags":[],"owner":{"account_id":1831013,"reputation":1513,"user_id":1662411,"accept_rate":47,"display_name":"Akbar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375163761,"creation_date":1375163761,"answer_id":17939259,"question_id":17938381,"body_markdown":"If you dont have to test it on same browser, then refer to this post on how to open multiple browser windows for testing - https://stackoverflow.com/questions/17855406/how-to-switch-instances-in-webdriver/17855545#17855545.","title":"How to automate a chat application using Selenium/Webdriver?","body":"<p>If you dont have to test it on same browser, then refer to this post on how to open multiple browser windows for testing - <a href=\"https://stackoverflow.com/questions/17855406/how-to-switch-instances-in-webdriver/17855545#17855545\">How to switch instances in WebDriver</a>.</p>\n"},{"comments":[{"owner":{"account_id":1915784,"reputation":257,"user_id":1728406,"display_name":"user1728406"},"score":0,"creation_date":1376914476,"post_id":17940976,"comment_id":26873816,"body_markdown":"Thank you for your suggestions. I&#39;m working on it. However the two chat windows are opening as a different web window, and I am unable to select the window of second user and hence unable to assert the arrival of message there. Any Help?","body":"Thank you for your suggestions. I&#39;m working on it. However the two chat windows are opening as a different web window, and I am unable to select the window of second user and hence unable to assert the arrival of message there. Any Help?"},{"owner":{"account_id":51368,"reputation":1849,"user_id":153463,"accept_rate":75,"display_name":"Dylan Lacey"},"score":0,"creation_date":1381790617,"post_id":17940976,"comment_id":28704644,"body_markdown":"Are you using two different WebDriver objects for the windows?","body":"Are you using two different WebDriver objects for the windows?"},{"owner":{"account_id":422217,"reputation":186,"user_id":800864,"accept_rate":8,"display_name":"Bimlesh Sharma"},"score":0,"creation_date":1541078797,"post_id":17940976,"comment_id":93099985,"body_markdown":"@DylanLacey I tried option Managing 2 browser and written code below. But only last browser(FF) opening with url while first (Chrome) is opening but not dealing with url. strange is that Chrome browser object is working in assertion that i did for FF. Not sure how. Could you please help? Here is code.   ` self.driver = launchApplication.driver_initialized(browser=run_browser)\n        self.driver_ff = launchApplication.driver_initialized(browser=run_ff_browser)\n        \n        # Opening 2 browsers\n        self.driver.get(run_server)        \n        self.driver_ff.get(run_server)`","body":"@DylanLacey I tried option Managing 2 browser and written code below. But only last browser(FF) opening with url while first (Chrome) is opening but not dealing with url. strange is that Chrome browser object is working in assertion that i did for FF. Not sure how. Could you please help? Here is code.   ` self.driver = launchApplication.driver_initialized(browser=run_browser)         self.driver_ff = launchApplication.driver_initialized(browser=run_ff_browser)                  # Opening 2 browsers         self.driver.get(run_server)                 self.driver_ff.get(run_server)`"}],"tags":[],"owner":{"account_id":51368,"reputation":1849,"user_id":153463,"accept_rate":75,"display_name":"Dylan Lacey"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1375169854,"creation_date":1375169854,"answer_id":17940976,"question_id":17938381,"body_markdown":"You&#39;ve got two concerns to worry about.  The first is making sure you&#39;ve different browsers for each user, and the second is running the two users concurrently.  There are a couple of different ways to do each of them, so I&#39;ll look at them separately.\r\n\r\n\r\nManaging two browsers\r\n======================\r\n\r\nThe first part, that of opening two browsers, isn&#39;t too difficult;  You can just create a separate WebDriver object for each one.  You may have to use two different browsers, however, to avoid any kind of session sharing issues:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    WebDriver user_1 = new FirefoxDriver();\r\n    WebDriver user_2 = new ChromeDriver();\r\n\r\nIf you need to open two instances of the same browser, your best option is to use [Selenium Grid][1] to host your desired browsers, and then creating remote connections to them:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.remote.RemoteWebDriver;\r\n    import org.openqa.selenium.remote.DesiredCapabilities;\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.firefox();\r\n    URL server = new URL(&quot;http://your-server-location.com&quot;);\r\n    WebDriver driver = new RemoteWebDriver(server, capabilities);\r\n\r\nIf you don&#39;t want to set up your own Selenium Grid, you can use a service like [Sauce Labs][2] to manage it for you (and also give you an easy way to add extra test platform resources).\r\n\r\n\r\nManaging two users simultaneously\r\n=================================\r\n\r\nIt sounds like you can just have the one test class performing each action in turn against the relevant Webdriver.  Use something like the [Page Object Model][3] to provide service objects representing your pages, which you can pass an instance of WebDriver too.  Then, you can express your test logic more fluently rather then dealing with different webdrivers and elements:\r\n\r\n    public class Chatsite{\r\n      public WebDriver driver;\r\n      private WebElement talkbox;\r\n      private WebElement chatlog;\r\n      private WebElement sendbutton;\r\n\r\n      public Chatsite(WebDriver passed_in_driver){\r\n          driver = passed_in_driver;\r\n          talkbox = driver.find_element(&quot;name&quot;, &quot;talkbox&quot;);\r\n          sendbutton = driver.find_element(&quot;name&quot;, &quot;send&quot;);\r\n          chatlog = driver.find_element(&quot;name&quot;, &quot;chatlog&quot;);\r\n          driver.get(&quot;http://www.yoursite.com&quot;);\r\n      }\r\n \r\n      public void say(String string_to_type){\r\n          talkbox.send_keys(string_to_type);\r\n          sendbutton.click();\r\n      }\r\n\r\n      public void sees_in_the_chatlog(String expected_content){\r\n          String current_chat_text =  chatlog.getText();\r\n          assertTrue(&quot;Couldn&#39;t find content&quot;, current_chat_text.contains(expected_content));\r\n      }\r\n    }\r\n\r\n    #Now, in your tests\r\n    #Name your users so it&#39;s easier to keep track of them\r\n    Chatsite david = Chatsite.new(user_1);\r\n    Chatsite susan = Chatsite.new(user_2);\r\n\r\n    david.say(&quot;Isn&#39;t it a fine day?&quot;);\r\n    susan.sees_in_the_chatlog(&quot;Isn&#39;t it a fine day?&quot;);\r\n\r\n    susan.say(&quot;If you&#39;re going to talk about the weather I&#39;m failing this test case&quot;);\r\n    ## And so on in that fashion\r\n\r\n  [1]: https://code.google.com/p/selenium/wiki/Grid2 &quot;Selenium Grid&quot;\r\n  [2]: http://saucelabs.com/ &quot;Sauce Labs&quot;\r\n  [3]: https://code.google.com/p/selenium/wiki/PageObjects","title":"How to automate a chat application using Selenium/Webdriver?","body":"<p>You've got two concerns to worry about.  The first is making sure you've different browsers for each user, and the second is running the two users concurrently.  There are a couple of different ways to do each of them, so I'll look at them separately.</p>\n\n<h1>Managing two browsers</h1>\n\n<p>The first part, that of opening two browsers, isn't too difficult;  You can just create a separate WebDriver object for each one.  You may have to use two different browsers, however, to avoid any kind of session sharing issues:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nWebDriver user_1 = new FirefoxDriver();\nWebDriver user_2 = new ChromeDriver();\n</code></pre>\n\n<p>If you need to open two instances of the same browser, your best option is to use <a href=\"https://code.google.com/p/selenium/wiki/Grid2\" rel=\"noreferrer\" title=\"Selenium Grid\">Selenium Grid</a> to host your desired browsers, and then creating remote connections to them:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\n\nDesiredCapabilities capabilities = DesiredCapabilities.firefox();\nURL server = new URL(\"http://your-server-location.com\");\nWebDriver driver = new RemoteWebDriver(server, capabilities);\n</code></pre>\n\n<p>If you don't want to set up your own Selenium Grid, you can use a service like <a href=\"http://saucelabs.com/\" rel=\"noreferrer\" title=\"Sauce Labs\">Sauce Labs</a> to manage it for you (and also give you an easy way to add extra test platform resources).</p>\n\n<h1>Managing two users simultaneously</h1>\n\n<p>It sounds like you can just have the one test class performing each action in turn against the relevant Webdriver.  Use something like the <a href=\"https://code.google.com/p/selenium/wiki/PageObjects\" rel=\"noreferrer\">Page Object Model</a> to provide service objects representing your pages, which you can pass an instance of WebDriver too.  Then, you can express your test logic more fluently rather then dealing with different webdrivers and elements:</p>\n\n<pre><code>public class Chatsite{\n  public WebDriver driver;\n  private WebElement talkbox;\n  private WebElement chatlog;\n  private WebElement sendbutton;\n\n  public Chatsite(WebDriver passed_in_driver){\n      driver = passed_in_driver;\n      talkbox = driver.find_element(\"name\", \"talkbox\");\n      sendbutton = driver.find_element(\"name\", \"send\");\n      chatlog = driver.find_element(\"name\", \"chatlog\");\n      driver.get(\"http://www.yoursite.com\");\n  }\n\n  public void say(String string_to_type){\n      talkbox.send_keys(string_to_type);\n      sendbutton.click();\n  }\n\n  public void sees_in_the_chatlog(String expected_content){\n      String current_chat_text =  chatlog.getText();\n      assertTrue(\"Couldn't find content\", current_chat_text.contains(expected_content));\n  }\n}\n\n#Now, in your tests\n#Name your users so it's easier to keep track of them\nChatsite david = Chatsite.new(user_1);\nChatsite susan = Chatsite.new(user_2);\n\ndavid.say(\"Isn't it a fine day?\");\nsusan.sees_in_the_chatlog(\"Isn't it a fine day?\");\n\nsusan.say(\"If you're going to talk about the weather I'm failing this test case\");\n## And so on in that fashion\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15700507,"reputation":11,"user_id":11328757,"display_name":"Aneesh PK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683201647,"creation_date":1683201647,"answer_id":76172943,"question_id":17938381,"body_markdown":"You can very easily automate the chat application by using playwright + javascript/typescript. Im using more than 10 browser instance at a time to handle different users. its very easy to handle different users in same browser type[10 chrome browser can load an handle] with multiple browser context. ","title":"How to automate a chat application using Selenium/Webdriver?","body":"<p>You can very easily automate the chat application by using playwright + javascript/typescript. Im using more than 10 browser instance at a time to handle different users. its very easy to handle different users in same browser type[10 chrome browser can load an handle] with multiple browser context.</p>\n"}],"owner":{"account_id":1915784,"reputation":257,"user_id":1728406,"display_name":"user1728406"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683201647,"creation_date":1375158840,"question_id":17938381,"body_markdown":"I have a task for automating a chat application.I am using Webdriver along with Java. Two different users will login simultaneously on two different browsers and initiate chat. I would appreciate if anybody can provide me some suggestions. ","title":"How to automate a chat application using Selenium/Webdriver?","body":"<p>I have a task for automating a chat application.I am using Webdriver along with Java. Two different users will login simultaneously on two different browsers and initiate chat. I would appreciate if anybody can provide me some suggestions. </p>\n"},{"tags":["java","rsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1683209917,"post_id":76172903,"comment_id":134334413,"body_markdown":"Is `keyBytes` an ASN.1/DER encoded RSA private key in PKCS#8 format?","body":"Is <code>keyBytes</code> an ASN.1/DER encoded RSA private key in PKCS#8 format?"},{"owner":{"account_id":19161929,"reputation":87,"user_id":13997509,"display_name":"Anirudh Saladi"},"score":0,"creation_date":1683213483,"post_id":76172903,"comment_id":134335363,"body_markdown":"No it is not in PKCS#8 format","body":"No it is not in PKCS#8 format"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1683214344,"post_id":76172903,"comment_id":134335606,"body_markdown":"`PKCS8EncodedKeySpec` requires a key in PKCS#8 format. You need to convert the key to a PKCS#8 key or adjust the import to your key format.","body":"<code>PKCS8EncodedKeySpec</code> requires a key in PKCS#8 format. You need to convert the key to a PKCS#8 key or adjust the import to your key format."},{"owner":{"account_id":19161929,"reputation":87,"user_id":13997509,"display_name":"Anirudh Saladi"},"score":0,"creation_date":1683216587,"post_id":76172903,"comment_id":134336180,"body_markdown":"Can you provide how to do that?","body":"Can you provide how to do that?"},{"owner":{"account_id":19161929,"reputation":87,"user_id":13997509,"display_name":"Anirudh Saladi"},"score":0,"creation_date":1683216816,"post_id":76172903,"comment_id":134336224,"body_markdown":"the length of the keyBytes is 1476 and when print it i get [B@35851384","body":"the length of the keyBytes is 1476 and when print it i get [B@35851384"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1683217359,"post_id":76172903,"comment_id":134336361,"body_markdown":"Identify key format and encoding or post a (non-productive **!**) sample key (PEM or Base64 encoded).","body":"Identify key format and encoding or post a (non-productive <b>!</b>) sample key (PEM or Base64 encoded)."}],"owner":{"account_id":19161929,"reputation":87,"user_id":13997509,"display_name":"Anirudh Saladi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683201352,"creation_date":1683201352,"question_id":76172903,"body_markdown":"I have implemeted a RSA Client and Server for end to end encryption of files.\r\n\r\nI am getting this following error when I run my command`java Client localhost 1234 server sample.txt`\r\n\r\n    Connected to server\r\n    Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=109, too big.\r\n            at sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\r\n            at java.security.KeyFactory.generatePrivate(Unknown Source)\r\n            at Client.sign(Client.java:123)\r\n            at Client.main(Client.java:54)\r\n    Caused by: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=109, too big.\r\n            at sun.security.pkcs.PKCS8Key.decode(Unknown Source)\r\n            at sun.security.pkcs.PKCS8Key.decode(Unknown Source)\r\n            at sun.security.rsa.RSAPrivateCrtKeyImpl.&lt;init&gt;(Unknown Source)\r\n            at sun.security.rsa.RSAPrivateCrtKeyImpl.newKey(Unknown Source)\r\n            at sun.security.rsa.RSAKeyFactory.generatePrivate(Unknown Source)\r\n            ... 4 more\r\n\r\nand the sign method causing the error is\r\n\r\n    public static byte[] sign(byte[] data, String privateKeyFile) throws Exception {\r\n            // Read the private key from file\r\n            FileInputStream keyfis = new FileInputStream(privateKeyFile);\r\n            byte[] keyBytes = new byte[keyfis.available()];\r\n            keyfis.read(keyBytes);\r\n            keyfis.close();\r\n    \r\n            // Create the private key object\r\n            PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privateKey = kf.generatePrivate(spec);\r\n    \r\n            // Sign the data using SHA-256 with RSA\r\n            Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n            signature.initSign(privateKey);\r\n            signature.update(data);\r\n            byte[] signed = signature.sign();\r\n    \r\n            return signed;\r\n    }\r\n\r\nand the line that calls this method is \r\n\r\n    byte[] signature = sign(encryptedBytes, userid + PRIVATE_KEY_FILENAME);\r\n\r\n\r\n\r\nI am attaching my Client.java file for reference. Can anyone help with this issue. Thanks in advance\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.security.*;\r\n    import java.security.spec.*;\r\n    import javax.crypto.*;\r\n    import javax.crypto.spec.*;\r\n    import java.util.*;\r\n    import java.math.BigInteger;\r\n    import java.security.interfaces.*;\r\n    import java.security.Signature;\r\n    import java.security.SignatureException;\r\n    \r\n    public class Client {\r\n    \r\n        private static final String PUBLIC_KEY_FILENAME = &quot;server.pub&quot;;\r\n        private static final String PRIVATE_KEY_FILENAME = &quot;.prv&quot;;\r\n        private static final int AES_KEY_SIZE = 256;\r\n        private static final int IV_SIZE = 16;\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            // Check command line arguments\r\n            if (args.length != 4) {\r\n                System.out.println(&quot;Usage: java Client host port userid filename&quot;);\r\n                return;\r\n            }\r\n    \r\n            // Get command line arguments\r\n            String host = args[0];\r\n            int port = Integer.parseInt(args[1]);\r\n            String userid = args[2];\r\n            String filename = args[3];\r\n    \r\n            // Connect to server\r\n            Socket socket = new Socket(host, port);\r\n            System.out.println(&quot;Connected to server&quot;);\r\n    \r\n            // Set up input and output streams\r\n            DataInputStream input = new DataInputStream(socket.getInputStream());\r\n            DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n    \r\n            // Send userid to server\r\n            output.writeUTF(userid);\r\n    \r\n            // Key agreement stage\r\n            byte[] clientBytes = new byte[16];\r\n            SecureRandom random = new SecureRandom();\r\n            random.nextBytes(clientBytes);\r\n    \r\n            byte[] encryptedBytes = encryptRSA(clientBytes, userid + PRIVATE_KEY_FILENAME);\r\n            output.writeInt(encryptedBytes.length);\r\n            output.write(encryptedBytes);\r\n    \r\n            byte[] signature = sign(encryptedBytes, userid + PRIVATE_KEY_FILENAME);\r\n            output.writeInt(signature.length);\r\n            output.write(signature);\r\n    \r\n            int serverEncryptedBytesLength = input.readInt();\r\n            byte[] serverEncryptedBytes = new byte[serverEncryptedBytesLength];\r\n            input.readFully(serverEncryptedBytes);\r\n    \r\n            int serverSignatureLength = input.readInt();\r\n            byte[] serverSignature = new byte[serverSignatureLength];\r\n            input.readFully(serverSignature);\r\n    \r\n            if (!verify(serverEncryptedBytes, serverSignature, PUBLIC_KEY_FILENAME)) {\r\n                System.out.println(&quot;Signature verification failed&quot;);\r\n                return;\r\n            }\r\n    \r\n            byte[] serverBytes = decryptRSA(serverEncryptedBytes, userid + PRIVATE_KEY_FILENAME);\r\n            byte[] keyBytes = new byte[AES_KEY_SIZE / 8];\r\n            System.arraycopy(clientBytes, 0, keyBytes, 0, IV_SIZE);\r\n            System.arraycopy(serverBytes, 0, keyBytes, IV_SIZE, IV_SIZE);\r\n    \r\n            SecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    \r\n            // File transmission stage\r\n            File file = new File(filename);\r\n            byte[] fileBytes = new byte[(int) file.length()];\r\n            FileInputStream fileInput = new FileInputStream(file);\r\n            fileInput.read(fileBytes);\r\n            fileInput.close();\r\n    \r\n            byte[] iv = new byte[IV_SIZE];\r\n            random.nextBytes(iv);\r\n    \r\n            byte[] encryptedFileBytes = encryptAES(fileBytes, key, iv);\r\n    \r\n            output.writeInt(iv.length);\r\n            output.write(iv);\r\n            output.writeInt(encryptedFileBytes.length);\r\n            output.write(encryptedFileBytes);\r\n    \r\n            socket.close();\r\n        }\r\n    \r\n        private static byte[] encryptRSA(byte[] data, String privateKeyFilename) throws Exception {\r\n            PrivateKey privateKey = readPrivateKey(privateKeyFilename);\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, privateKey);\r\n            return cipher.doFinal(data);\r\n        }\r\n    \r\n        private static byte[] decryptRSA(byte[] cipherText, String privateKeyFile) throws Exception {\r\n            PrivateKey privateKey = readPrivateKey(privateKeyFile);\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n            return cipher.doFinal(cipherText);\r\n        }\r\n    \r\n        // Method to sign data using the specified private key file\r\n        public static byte[] sign(byte[] data, String privateKeyFile) throws Exception {\r\n            // Read the private key from file\r\n            FileInputStream keyfis = new FileInputStream(privateKeyFile);\r\n            byte[] keyBytes = new byte[keyfis.available()];\r\n            keyfis.read(keyBytes);\r\n            keyfis.close();\r\n    \r\n            // Create the private key object\r\n            PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\r\n            KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            PrivateKey privateKey = kf.generatePrivate(spec);\r\n    \r\n            // Sign the data using SHA-256 with RSA\r\n            Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n            signature.initSign(privateKey);\r\n            signature.update(data);\r\n            byte[] signed = signature.sign();\r\n    \r\n            return signed;\r\n        }\r\n    \r\n        private static boolean verify(byte[] data, byte[] signature, String publicKeyFile) throws Exception {\r\n            PublicKey publicKey = readPublicKey(publicKeyFile);\r\n            Signature verifier = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n            verifier.initVerify(publicKey);\r\n            verifier.update(data);\r\n            return verifier.verify(signature);\r\n        }\r\n    \r\n        private static byte[] encryptAES(byte[] plainText, SecretKey key, byte[] iv) throws Exception {\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\r\n            return cipher.doFinal(plainText);\r\n        }\r\n    \r\n        private static PrivateKey readPrivateKey(String fileName) throws Exception {\r\n            ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(fileName));\r\n            PrivateKey key = (PrivateKey) inputStream.readObject();\r\n            inputStream.close();\r\n            return key;\r\n        }\r\n    \r\n        private static PublicKey readPublicKey(String fileName) throws Exception {\r\n            ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(fileName));\r\n            PublicKey key = (PublicKey) inputStream.readObject();\r\n            inputStream.close();\r\n            return key;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"JAVA RSA algorithm - Client server java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=109","body":"<p>I have implemeted a RSA Client and Server for end to end encryption of files.</p>\n<p>I am getting this following error when I run my command<code>java Client localhost 1234 server sample.txt</code></p>\n<pre><code>Connected to server\nException in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=109, too big.\n        at sun.security.rsa.RSAKeyFactory.engineGeneratePrivate(Unknown Source)\n        at java.security.KeyFactory.generatePrivate(Unknown Source)\n        at Client.sign(Client.java:123)\n        at Client.main(Client.java:54)\nCaused by: java.security.InvalidKeyException: IOException : DerInputStream.getLength(): lengthTag=109, too big.\n        at sun.security.pkcs.PKCS8Key.decode(Unknown Source)\n        at sun.security.pkcs.PKCS8Key.decode(Unknown Source)\n        at sun.security.rsa.RSAPrivateCrtKeyImpl.&lt;init&gt;(Unknown Source)\n        at sun.security.rsa.RSAPrivateCrtKeyImpl.newKey(Unknown Source)\n        at sun.security.rsa.RSAKeyFactory.generatePrivate(Unknown Source)\n        ... 4 more\n</code></pre>\n<p>and the sign method causing the error is</p>\n<pre><code>public static byte[] sign(byte[] data, String privateKeyFile) throws Exception {\n        // Read the private key from file\n        FileInputStream keyfis = new FileInputStream(privateKeyFile);\n        byte[] keyBytes = new byte[keyfis.available()];\n        keyfis.read(keyBytes);\n        keyfis.close();\n\n        // Create the private key object\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey privateKey = kf.generatePrivate(spec);\n\n        // Sign the data using SHA-256 with RSA\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n        signature.initSign(privateKey);\n        signature.update(data);\n        byte[] signed = signature.sign();\n\n        return signed;\n}\n</code></pre>\n<p>and the line that calls this method is</p>\n<pre><code>byte[] signature = sign(encryptedBytes, userid + PRIVATE_KEY_FILENAME);\n</code></pre>\n<p>I am attaching my Client.java file for reference. Can anyone help with this issue. Thanks in advance</p>\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.security.*;\nimport java.security.spec.*;\nimport javax.crypto.*;\nimport javax.crypto.spec.*;\nimport java.util.*;\nimport java.math.BigInteger;\nimport java.security.interfaces.*;\nimport java.security.Signature;\nimport java.security.SignatureException;\n\npublic class Client {\n\n    private static final String PUBLIC_KEY_FILENAME = &quot;server.pub&quot;;\n    private static final String PRIVATE_KEY_FILENAME = &quot;.prv&quot;;\n    private static final int AES_KEY_SIZE = 256;\n    private static final int IV_SIZE = 16;\n\n    public static void main(String[] args) throws Exception {\n\n        // Check command line arguments\n        if (args.length != 4) {\n            System.out.println(&quot;Usage: java Client host port userid filename&quot;);\n            return;\n        }\n\n        // Get command line arguments\n        String host = args[0];\n        int port = Integer.parseInt(args[1]);\n        String userid = args[2];\n        String filename = args[3];\n\n        // Connect to server\n        Socket socket = new Socket(host, port);\n        System.out.println(&quot;Connected to server&quot;);\n\n        // Set up input and output streams\n        DataInputStream input = new DataInputStream(socket.getInputStream());\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n\n        // Send userid to server\n        output.writeUTF(userid);\n\n        // Key agreement stage\n        byte[] clientBytes = new byte[16];\n        SecureRandom random = new SecureRandom();\n        random.nextBytes(clientBytes);\n\n        byte[] encryptedBytes = encryptRSA(clientBytes, userid + PRIVATE_KEY_FILENAME);\n        output.writeInt(encryptedBytes.length);\n        output.write(encryptedBytes);\n\n        byte[] signature = sign(encryptedBytes, userid + PRIVATE_KEY_FILENAME);\n        output.writeInt(signature.length);\n        output.write(signature);\n\n        int serverEncryptedBytesLength = input.readInt();\n        byte[] serverEncryptedBytes = new byte[serverEncryptedBytesLength];\n        input.readFully(serverEncryptedBytes);\n\n        int serverSignatureLength = input.readInt();\n        byte[] serverSignature = new byte[serverSignatureLength];\n        input.readFully(serverSignature);\n\n        if (!verify(serverEncryptedBytes, serverSignature, PUBLIC_KEY_FILENAME)) {\n            System.out.println(&quot;Signature verification failed&quot;);\n            return;\n        }\n\n        byte[] serverBytes = decryptRSA(serverEncryptedBytes, userid + PRIVATE_KEY_FILENAME);\n        byte[] keyBytes = new byte[AES_KEY_SIZE / 8];\n        System.arraycopy(clientBytes, 0, keyBytes, 0, IV_SIZE);\n        System.arraycopy(serverBytes, 0, keyBytes, IV_SIZE, IV_SIZE);\n\n        SecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n\n        // File transmission stage\n        File file = new File(filename);\n        byte[] fileBytes = new byte[(int) file.length()];\n        FileInputStream fileInput = new FileInputStream(file);\n        fileInput.read(fileBytes);\n        fileInput.close();\n\n        byte[] iv = new byte[IV_SIZE];\n        random.nextBytes(iv);\n\n        byte[] encryptedFileBytes = encryptAES(fileBytes, key, iv);\n\n        output.writeInt(iv.length);\n        output.write(iv);\n        output.writeInt(encryptedFileBytes.length);\n        output.write(encryptedFileBytes);\n\n        socket.close();\n    }\n\n    private static byte[] encryptRSA(byte[] data, String privateKeyFilename) throws Exception {\n        PrivateKey privateKey = readPrivateKey(privateKeyFilename);\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, privateKey);\n        return cipher.doFinal(data);\n    }\n\n    private static byte[] decryptRSA(byte[] cipherText, String privateKeyFile) throws Exception {\n        PrivateKey privateKey = readPrivateKey(privateKeyFile);\n        Cipher cipher = Cipher.getInstance(&quot;RSA&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n        return cipher.doFinal(cipherText);\n    }\n\n    // Method to sign data using the specified private key file\n    public static byte[] sign(byte[] data, String privateKeyFile) throws Exception {\n        // Read the private key from file\n        FileInputStream keyfis = new FileInputStream(privateKeyFile);\n        byte[] keyBytes = new byte[keyfis.available()];\n        keyfis.read(keyBytes);\n        keyfis.close();\n\n        // Create the private key object\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey privateKey = kf.generatePrivate(spec);\n\n        // Sign the data using SHA-256 with RSA\n        Signature signature = Signature.getInstance(&quot;SHA256withRSA&quot;);\n        signature.initSign(privateKey);\n        signature.update(data);\n        byte[] signed = signature.sign();\n\n        return signed;\n    }\n\n    private static boolean verify(byte[] data, byte[] signature, String publicKeyFile) throws Exception {\n        PublicKey publicKey = readPublicKey(publicKeyFile);\n        Signature verifier = Signature.getInstance(&quot;SHA256withRSA&quot;);\n        verifier.initVerify(publicKey);\n        verifier.update(data);\n        return verifier.verify(signature);\n    }\n\n    private static byte[] encryptAES(byte[] plainText, SecretKey key, byte[] iv) throws Exception {\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        cipher.init(Cipher.ENCRYPT_MODE, key, new IvParameterSpec(iv));\n        return cipher.doFinal(plainText);\n    }\n\n    private static PrivateKey readPrivateKey(String fileName) throws Exception {\n        ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(fileName));\n        PrivateKey key = (PrivateKey) inputStream.readObject();\n        inputStream.close();\n        return key;\n    }\n\n    private static PublicKey readPublicKey(String fileName) throws Exception {\n        ObjectInputStream inputStream = new ObjectInputStream(new FileInputStream(fileName));\n        PublicKey key = (PublicKey) inputStream.readObject();\n        inputStream.close();\n        return key;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","spring-data","spring-webflux","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":63165,"reputation":2268,"user_id":187148,"display_name":"Bruno Medeiros"},"score":0,"creation_date":1700193640,"post_id":76172844,"comment_id":136627151,"body_markdown":"what about a service with a @Transactional method that runs a JPA query and a R2DBC query in the same transaction?","body":"what about a service with a @Transactional method that runs a JPA query and a R2DBC query in the same transaction?"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683200958,"creation_date":1683200958,"answer_id":76172844,"question_id":76054146,"body_markdown":"You can use (Spring Data) JPA and (Spring Data) R2DBC in one application, but they don&#39;t really interoperate, so you can&#39;t have a repository or template that uses JPA and R2DBC.","title":"Is there any way to use spring data r2dbc and spring data jpa together?","body":"<p>You can use (Spring Data) JPA and (Spring Data) R2DBC in one application, but they don't really interoperate, so you can't have a repository or template that uses JPA and R2DBC.</p>\n"}],"owner":{"account_id":20164939,"reputation":19,"user_id":14789134,"display_name":"AmirHossein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683200958,"creation_date":1681904880,"question_id":76054146,"body_markdown":"I have a webflux application that I use JPA repository and hibernate in it, But I need reactive transaction management too , for this I need to add spring data r2dbc to application.\r\nIs there any way to do this? ","title":"Is there any way to use spring data r2dbc and spring data jpa together?","body":"<p>I have a webflux application that I use JPA repository and hibernate in it, But I need reactive transaction management too , for this I need to add spring data r2dbc to application.\nIs there any way to do this?</p>\n"},{"tags":["java","spring-boot","kotlin","liquibase","spring-data-r2dbc"],"comments":[{"owner":{"account_id":529540,"reputation":301,"user_id":937070,"accept_rate":50,"display_name":"Николай Мишин"},"score":0,"creation_date":1682964942,"post_id":76149064,"comment_id":134291724,"body_markdown":"spring:\n  liquibase:\n    url: jdbc:postgresql://localhost:5432/mydb\n    user: postgres\n  r2dbc:\n    url: r2dbc:postgresql://localhost:5432/mydb\n    username: postgres","body":"spring:   liquibase:     url: jdbc:postgresql://localhost:5432/mydb     user: postgres   r2dbc:     url: r2dbc:postgresql://localhost:5432/mydb     username: postgres"},{"owner":{"account_id":529540,"reputation":301,"user_id":937070,"accept_rate":50,"display_name":"Николай Мишин"},"score":0,"creation_date":1682964963,"post_id":76149064,"comment_id":134291729,"body_markdown":"https://stackoverflow.com/questions/62555217/r2dbc-and-liquibase","body":"<a href=\"https://stackoverflow.com/questions/62555217/r2dbc-and-liquibase\">stackoverflow.com/questions/62555217/r2dbc-and-liquibase</a>"},{"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"score":1,"creation_date":1682967101,"post_id":76149064,"comment_id":134292125,"body_markdown":"@НиколайМишин with postgresql works without problem, but with mysql does not work","body":"@НиколайМишин with postgresql works without problem, but with mysql does not work"},{"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"score":1,"creation_date":1682969547,"post_id":76149064,"comment_id":134292566,"body_markdown":"@НиколайМишин as you mention, I needed to add the same configuration with jdbc and r2dbc driver. Thanks","body":"@НиколайМишин as you mention, I needed to add the same configuration with jdbc and r2dbc driver. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683200825,"creation_date":1683200825,"answer_id":76172824,"question_id":76149064,"body_markdown":"Liquibase is based on JDBC not R2DBC, you therefore need to provide a JDBC connection to it.\r\n\r\n[This answer to a similar question explains how to do that with Boot.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/62578933/66686","title":"Why liquibase does not work with r2dbc and mysql","body":"<p>Liquibase is based on JDBC not R2DBC, you therefore need to provide a JDBC connection to it.</p>\n<p><a href=\"https://stackoverflow.com/a/62578933/66686\">This answer to a similar question explains how to do that with Boot.</a></p>\n"}],"owner":{"account_id":7407752,"reputation":157,"user_id":5636168,"accept_rate":33,"display_name":"5frags"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683200825,"creation_date":1682963781,"question_id":76149064,"body_markdown":"I have an issue, I want to work with kotlin-springboot-r2dbc-liquibase\r\n\r\nSo, when put my build.gradle.kts like this\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n    \r\n    plugins {\r\n    \tid(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\r\n    \tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    \tid(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\r\n    \tid(&quot;org.jetbrains.kotlin.plugin.jpa&quot;) version &quot;1.8.21&quot;\r\n    \tkotlin(&quot;jvm&quot;) version &quot;1.7.22&quot;\r\n    \tkotlin(&quot;plugin.spring&quot;) version &quot;1.7.22&quot;\r\n    }\r\n    \r\n    group = &quot;com.abahafart.kotlin.template&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom(configurations.annotationProcessor.get())\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\r\n    //\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n    \truntimeOnly(&quot;mysql:mysql-connector-java:8.0.32&quot;)\r\n    //\truntimeOnly(&quot;dev.miku:r2dbc-mysql:0.8.2.RELEASE&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n    \tkotlinOptions {\r\n    \t\tfreeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n    \t\tjvmTarget = &quot;17&quot;\r\n    \t}\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\r\n        username: mysql\r\n        password: mysqlpw\r\n    #  r2dbc:\r\n    #    url: r2dbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\r\n    #    username: mysql\r\n    #    password: mysqlpw\r\n    #    pool:\r\n    #      enabled: true\r\n    #      initial-size: 1\r\n    #      max-size: 20\r\n\r\n\r\nIt works that I excpected, connection to database and liquibase work\r\n\r\nBut if I want to work with r2dbc and liquibase with my gradle and application look like this, liquibase does not work, but connection to database works\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n    \r\n    plugins {\r\n    \tid(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\r\n    \tid(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n    \tid(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\r\n    \tid(&quot;org.jetbrains.kotlin.plugin.jpa&quot;) version &quot;1.8.21&quot;\r\n    \tkotlin(&quot;jvm&quot;) version &quot;1.7.22&quot;\r\n    \tkotlin(&quot;plugin.spring&quot;) version &quot;1.7.22&quot;\r\n    }\r\n    \r\n    group = &quot;com.abahafart.kotlin.template&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom(configurations.annotationProcessor.get())\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    //\timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    \timplementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n    \timplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n    \timplementation(&quot;org.liquibase:liquibase-core&quot;)\r\n    \timplementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n    \tdevelopmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\r\n    \truntimeOnly(&quot;mysql:mysql-connector-java:8.0.32&quot;)\r\n    \truntimeOnly(&quot;dev.miku:r2dbc-mysql:0.8.2.RELEASE&quot;)\r\n    \ttestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n    \tkotlinOptions {\r\n    \t\tfreeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n    \t\tjvmTarget = &quot;17&quot;\r\n    \t}\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n\r\n    spring:\r\n    #  datasource:\r\n    #    url: jdbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\r\n    #    username: mysql\r\n    #    password: mysqlpw\r\n      r2dbc:\r\n        url: r2dbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\r\n        username: mysql\r\n        password: mysqlpw\r\n        pool:\r\n          enabled: true\r\n          initial-size: 1\r\n          max-size: 20\r\n\r\n\r\nSo, my question here is: What dependecy I need to liquibase work? \r\nWhy does liquibase work with jdbc and not with r2dbc?\r\n\r\nThanks","title":"Why liquibase does not work with r2dbc and mysql","body":"<p>I have an issue, I want to work with kotlin-springboot-r2dbc-liquibase</p>\n<p>So, when put my build.gradle.kts like this</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n    id(&quot;org.jetbrains.kotlin.plugin.jpa&quot;) version &quot;1.8.21&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.7.22&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.7.22&quot;\n}\n\ngroup = &quot;com.abahafart.kotlin.template&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\n//  implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    runtimeOnly(&quot;mysql:mysql-connector-java:8.0.32&quot;)\n//  runtimeOnly(&quot;dev.miku:r2dbc-mysql:0.8.2.RELEASE&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\n    username: mysql\n    password: mysqlpw\n#  r2dbc:\n#    url: r2dbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\n#    username: mysql\n#    password: mysqlpw\n#    pool:\n#      enabled: true\n#      initial-size: 1\n#      max-size: 20\n</code></pre>\n<p>It works that I excpected, connection to database and liquibase work</p>\n<p>But if I want to work with r2dbc and liquibase with my gradle and application look like this, liquibase does not work, but connection to database works</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n    id(&quot;org.jetbrains.kotlin.plugin.jpa&quot;) version &quot;1.8.21&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.7.22&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.7.22&quot;\n}\n\ngroup = &quot;com.abahafart.kotlin.template&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nconfigurations {\n    compileOnly {\n        extendsFrom(configurations.annotationProcessor.get())\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n//  implementation(&quot;org.springframework.boot:spring-boot-starter-data-jdbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.liquibase:liquibase-core&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    developmentOnly(&quot;org.springframework.boot:spring-boot-devtools&quot;)\n    runtimeOnly(&quot;mysql:mysql-connector-java:8.0.32&quot;)\n    runtimeOnly(&quot;dev.miku:r2dbc-mysql:0.8.2.RELEASE&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\n\nspring:\n#  datasource:\n#    url: jdbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\n#    username: mysql\n#    password: mysqlpw\n  r2dbc:\n    url: r2dbc:mysql://localhost:3333/library?tlsVersion=TLSv1.2\n    username: mysql\n    password: mysqlpw\n    pool:\n      enabled: true\n      initial-size: 1\n      max-size: 20\n</code></pre>\n<p>So, my question here is: What dependecy I need to liquibase work?\nWhy does liquibase work with jdbc and not with r2dbc?</p>\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1683143090,"post_id":76167229,"comment_id":134322847,"body_markdown":"I only see an option for complete string values, but maybe there&#39;s a tweak somewhere.","body":"I only see an option for complete string values, but maybe there&#39;s a tweak somewhere."}],"owner":{"account_id":27835683,"reputation":142,"user_id":21253186,"display_name":"otaxhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683200667,"creation_date":1683140445,"question_id":76167229,"body_markdown":"Please, I just came from using visual studio code with golang and there it did show me the format specifier (format specifiers examples: %s, %d, %c, etc.) of the same color as that of a variable (in my case, I want it to look the same color as that of a variable). Sorry for my english, I translated it with google translate\r\n\r\nAll the string have the same color including the format specifier. I just want to change the color of the format specifier.","title":"how can i change the string format specifier color in intellij IDEA?","body":"<p>Please, I just came from using visual studio code with golang and there it did show me the format specifier (format specifiers examples: %s, %d, %c, etc.) of the same color as that of a variable (in my case, I want it to look the same color as that of a variable). Sorry for my english, I translated it with google translate</p>\n<p>All the string have the same color including the format specifier. I just want to change the color of the format specifier.</p>\n"},{"tags":["java","for-loop","ends-with"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1682942101,"post_id":76146661,"comment_id":134287146,"body_markdown":"Two main problems: (1) instead of `false` you should use `return false;`, (2) that `return false;` should be moved *after the loop*. Aside from that `return true` needs `;` after it.","body":"Two main problems: (1) instead of <code>false</code> you should use <code>return false;</code>, (2) that <code>return false;</code> should be moved <i>after the loop</i>. Aside from that <code>return true</code> needs <code>;</code> after it."},{"owner":{"account_id":23841551,"reputation":1,"user_id":17846542,"display_name":"MRQAtester"},"score":0,"creation_date":1683055972,"post_id":76146661,"comment_id":134307278,"body_markdown":"Thanks I realized this after coping and pasting code here. Think I did come up with a solution.","body":"Thanks I realized this after coping and pasting code here. Think I did come up with a solution."}],"answers":[{"tags":[],"owner":{"account_id":23841551,"reputation":1,"user_id":17846542,"display_name":"MRQAtester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683200548,"creation_date":1683055822,"answer_id":76158278,"question_id":76146661,"body_markdown":"This is what I ended up doing and it seems to be working:\r\n\r\n    boolean ListEndsWithLetter (String column, String text) {\r\n        List&lt;WebElement&gt; liElements = driver.findElements(By.xpath(&quot;//div[@col-id=&#39;&quot; + column + &quot;&#39;]&quot;))\r\n        for (int i = 0; i &lt; liElements.size(); i++)\r\n        {\r\n            String j = liElements.get(i).getText()\r\n            if (j.endsWith(text)) {\r\n                return true\r\n            }\r\n            false\r\n        }\r\n    }","title":"How to loop through a list of elements and verify if one ends with a specific letter in Java","body":"<p>This is what I ended up doing and it seems to be working:</p>\n<pre><code>boolean ListEndsWithLetter (String column, String text) {\n    List&lt;WebElement&gt; liElements = driver.findElements(By.xpath(&quot;//div[@col-id='&quot; + column + &quot;']&quot;))\n    for (int i = 0; i &lt; liElements.size(); i++)\n    {\n        String j = liElements.get(i).getText()\n        if (j.endsWith(text)) {\n            return true\n        }\n        false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23841551,"reputation":1,"user_id":17846542,"display_name":"MRQAtester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1683200548,"creation_date":1682941617,"question_id":76146661,"body_markdown":"How would I go about looping through a list of elements and finding out whether the list ends with a specific letter? \r\n\r\nMy code keeps breaking on the `if` line saying stale element. Any suggestions?\r\n\r\nMy code is as follows:\r\n\r\n```java\r\nboolean ListEndsWithLetter(String column, String text) {\r\n    List&lt;WebElement&gt; liElements = driver.findElements(By.xpath(&quot;//div[@col-id=&#39;&quot; + column + &quot;&#39;]&quot;));\r\n    for (int i = 0; i &lt; liElements.size(); i++) {\r\n        if (liElements.get(i).getText().endsWith(text))\r\n            return true;\r\n        return false;\r\n    }\r\n}\r\n```","title":"How to loop through a list of elements and verify if one ends with a specific letter in Java","body":"<p>How would I go about looping through a list of elements and finding out whether the list ends with a specific letter?</p>\n<p>My code keeps breaking on the <code>if</code> line saying stale element. Any suggestions?</p>\n<p>My code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean ListEndsWithLetter(String column, String text) {\n    List&lt;WebElement&gt; liElements = driver.findElements(By.xpath(&quot;//div[@col-id='&quot; + column + &quot;']&quot;));\n    for (int i = 0; i &lt; liElements.size(); i++) {\n        if (liElements.get(i).getText().endsWith(text))\n            return true;\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","visual-studio-code"],"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1636207245,"post_id":69853926,"comment_id":123497346,"body_markdown":"The first and probably most important part of the error message is missing (*which* Exception has occured and where?). The following `at` lines are just the stack trace helping to trace down the problem.","body":"The first and probably most important part of the error message is missing (<i>which</i> Exception has occured and where?). The following <code>at</code> lines are just the stack trace helping to trace down the problem."}],"answers":[{"tags":[],"owner":{"account_id":10316820,"reputation":350,"user_id":7610903,"display_name":"Jeremiah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647973534,"creation_date":1647973534,"answer_id":71577174,"question_id":69853926,"body_markdown":"This is simply caused by running an application using `compileSdkVersion = 31` without JDK 11, just try to upgrade your jdk to 11.\r\n\r\nWorks like magic.","title":"Flutter - unrecognized Attribute name MODULE (class com.sun.tools.javac.util.UnsharedNameTable$NameImpl)","body":"<p>This is simply caused by running an application using <code>compileSdkVersion = 31</code> without JDK 11, just try to upgrade your jdk to 11.</p>\n<p>Works like magic.</p>\n"}],"owner":{"account_id":20893715,"reputation":11,"user_id":15348513,"display_name":"Ana Cec&#237;lia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683200409,"creation_date":1636118471,"question_id":69853926,"body_markdown":"```\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:geolocator_android:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m 30s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n```\r\n\r\nI&#39;m trying to run a flutter project using java 17.0.1 and flutter 2.5.3 however it returns this error. Someone knows what it is?","title":"Flutter - unrecognized Attribute name MODULE (class com.sun.tools.javac.util.UnsharedNameTable$NameImpl)","body":"<pre><code>    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':geolocator_android:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 30s\nException: Gradle task assembleDebug failed with exit code 1\n\n</code></pre>\n<p>I'm trying to run a flutter project using java 17.0.1 and flutter 2.5.3 however it returns this error. Someone knows what it is?</p>\n"},{"tags":["java","integer-overflow"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1683197496,"post_id":76172335,"comment_id":134331082,"body_markdown":"The max integer is 2147483647, which *is* 2^30+2^29+2^28+...","body":"The max integer is 2147483647, which <i>is</i> 2^30+2^29+2^28+..."},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1683198292,"post_id":76172335,"comment_id":134331267,"body_markdown":"&quot;..also when I use the value 3, I got the binary as &quot;0000 0000 0000 0000 0000 0000 0000 0011&quot;. How is that possible because 2^0+2^1=3?&quot; &lt;- What is that even supposed to mean? What are you asking here?","body":"&quot;..also when I use the value 3, I got the binary as &quot;0000 0000 0000 0000 0000 0000 0000 0011&quot;. How is that possible because 2^0+2^1=3?&quot; &lt;- What is that even supposed to mean? What are you asking here?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1683267820,"post_id":76172335,"comment_id":134343513,"body_markdown":"Why only 30 bits??? The last bit is for power 0, 2^0 till 2^30 are 31 summands / bits.","body":"Why only 30 bits??? The last bit is for power 0, 2^0 till 2^30 are 31 summands / bits."}],"answers":[{"comments":[{"owner":{"account_id":28504051,"reputation":31,"user_id":21814936,"display_name":"Tholkappiar"},"score":0,"creation_date":1683199428,"post_id":76172436,"comment_id":134331526,"body_markdown":"Hence why the largest (non-negative!) number is 0111 1111 1111 1111 1111 1111 1111 1111. In decimal it is, as you would expect, 2^0+2^1+2^2+.....2^30. Which is the same as 2^31-1, which is 2147483647 why ? Stopped on 2^30 instead of 2^31 because it have 32 bit right , the 32 nd bit is for positive or negative, then why not include 31 bit for that calculation?","body":"Hence why the largest (non-negative!) number is 0111 1111 1111 1111 1111 1111 1111 1111. In decimal it is, as you would expect, 2^0+2^1+2^2+.....2^30. Which is the same as 2^31-1, which is 2147483647 why ? Stopped on 2^30 instead of 2^31 because it have 32 bit right , the 32 nd bit is for positive or negative, then why not include 31 bit for that calculation?"},{"owner":{"account_id":10471985,"reputation":344,"user_id":8898840,"display_name":"Guy Incognito"},"score":1,"creation_date":1683201254,"post_id":76172436,"comment_id":134331940,"body_markdown":"@Tholkappiar 2^0 represents the 1st bit, 2^1 is the 2nd bit ... and 2^30 is the 31st bit. 2^31 is the 32nd bit which represents the negative sign.","body":"@Tholkappiar 2^0 represents the 1st bit, 2^1 is the 2nd bit ... and 2^30 is the 31st bit. 2^31 is the 32nd bit which represents the negative sign."},{"owner":{"account_id":28504051,"reputation":31,"user_id":21814936,"display_name":"Tholkappiar"},"score":0,"creation_date":1683201754,"post_id":76172436,"comment_id":134332064,"body_markdown":"Ok now I understand the thing , which ruined my mind..so people are calling the 31st bit as a 32nd bit because it has 32  chars right ?","body":"Ok now I understand the thing , which ruined my mind..so people are calling the 31st bit as a 32nd bit because it has 32  chars right ?"},{"owner":{"account_id":10471985,"reputation":344,"user_id":8898840,"display_name":"Guy Incognito"},"score":1,"creation_date":1683202786,"post_id":76172436,"comment_id":134332324,"body_markdown":"No, they call it the 32nd bit because it *is* the 32nd bit","body":"No, they call it the 32nd bit because it <i>is</i> the 32nd bit"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1683203568,"post_id":76172436,"comment_id":134332537,"body_markdown":"@Tholkappiar: How many numbers are this `0`, `1`? Its 2 numbers. The first one is `0` and the second one `1`. `0`, `1` and `2` Is three numbers with `0` the first and `2` the third. And in the same way 0-31 is 32 numbers/bits with `0` being the first and `31` being bit number 32. You main thinking error is that you constantly seem to not want to start counting at `2^0` despite the fact that you include it in e very example calculation you post. `2^0` is the first bit and not the &quot;zeroest&quot; bit (Whatever that would be) and therfor `2^31` is bit number 32.","body":"@Tholkappiar: How many numbers are this <code>0</code>, <code>1</code>? Its 2 numbers. The first one is <code>0</code> and the second one <code>1</code>. <code>0</code>, <code>1</code> and <code>2</code> Is three numbers with <code>0</code> the first and <code>2</code> the third. And in the same way 0-31 is 32 numbers/bits with <code>0</code> being the first and <code>31</code> being bit number 32. You main thinking error is that you constantly seem to not want to start counting at <code>2^0</code> despite the fact that you include it in e very example calculation you post. <code>2^0</code> is the first bit and not the &quot;zeroest&quot; bit (Whatever that would be) and therfor <code>2^31</code> is bit number 32."},{"owner":{"account_id":28504051,"reputation":31,"user_id":21814936,"display_name":"Tholkappiar"},"score":0,"creation_date":1683203965,"post_id":76172436,"comment_id":134332646,"body_markdown":"It&#39;s a 32 bit number, the maximum number is 2^31 because it&#39;s starts from 2^0 , so 2^32 not included , right ?","body":"It&#39;s a 32 bit number, the maximum number is 2^31 because it&#39;s starts from 2^0 , so 2^32 not included , right ?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1683207455,"post_id":76172436,"comment_id":134333716,"body_markdown":"2^32 is not representable by 32 bits, period. Because 2^32 represents the 33rd bit. At some point you&#39;re going to have to look at this sentence intently: __2^0 is representing the FIRST BIT__ and keep looking at it until you understand that one sentence.","body":"2^32 is not representable by 32 bits, period. Because 2^32 represents the 33rd bit. At some point you&#39;re going to have to look at this sentence intently: <b>2^0 is representing the FIRST BIT</b> and keep looking at it until you understand that one sentence."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683198004,"creation_date":1683198004,"answer_id":76172436,"question_id":76172335,"body_markdown":"The negative numbers also need a slot. Computers just have ones and zeroes; there is no &#39;minus sign&#39;. So we &#39;encode&#39; negative numbers with zeroes and ones. The first bit is the sign bit; if it is a 1, the number is actually negative. Hence why the largest (non-negative!) number is 0111 1111 1111 1111 1111 1111 1111 1111. In decimal it is, as you would expect, 2^0+2^1+2^2+.....2^30. Which is the same as 2^31-1, which is 2147483647. And indeed it is:\r\n\r\n```\r\nSystem.out.println(Integer.MAX_VALUE); // prints 2147483647.\r\nSystem.out.println(0b0111_1111_1111_1111_1111_1111_1111_1111); // same\r\nint v = 0;\r\nfor (int i = 0; i &lt; 31; i++) {\r\n  int z = (int) Math.pow(2, i);\r\n  v += z;\r\n}\r\nSystem.out.println(v); // same\r\n```\r\n\r\nThe &#39;0&#39; also has to go somewhere, and it is all zero bits. That means a bit of an intriguing detail: There are, of course, as many numbers that starts with a 1-bit as with a 0-bit, but the 0-bit space (our positive numbers) needs to allocate one sequence for zero, but the negative space does not. Hence, the largest __negative__ number you can represent is actually one higher: It&#39;s -2^31:\r\n\r\n```\r\nSystem.out.println(Integer.MIN_VALUE);\r\n```\r\n\r\nThis prints -2147483648.\r\n\r\nNegative numbers are represented in 2&#39;s complement. Basically, &#39;in reverse&#39;. `1000 0000 0000 0000 0000 0000 0000 0000` is in fact -2147483648, and `1111 1111 1111 1111 1111 1111 1111 1111` is -1. You can read e.g. wikipedia about all the details of two&#39;s complement, but one massive advantage is that the `+` and `-` operations (as well as increment/decrement-by-one operations) work identically regardless of whether you treat the bits as unsigned (negative numbers are not possible, can represent 0 up to 2^32-1), or as signed (negative numbers ARE possible, can represent -2^31 to +2^31-1). Now &#39;is it signed or unsigned&#39; is math-wise irrelevant, and that saves instructions.\r\n\r\nFor a quick moment of enlightenment: Take -1 in two&#39;s complement (in bits: 32x `1`), and add 1 to it. This trivially results in a 1 followed by thirty-two zeroes, and as computers just lop off the excess, that&#39;s just thirty-two zero bits. Which represents zero. And -1 incremented by 1 is.. indeed zero. Neat!\r\n\r\n2&#39;s complement boils down to &#39;flip all bits and add one to it&#39;, e.g:\r\n\r\n* `5 = 0000.....0101`\r\n* -5 thus becomes: 1111....1011.\r\n* reversing that operation produces 000...0101 again.\r\n","title":"Integer Overflow Java","body":"<p>The negative numbers also need a slot. Computers just have ones and zeroes; there is no 'minus sign'. So we 'encode' negative numbers with zeroes and ones. The first bit is the sign bit; if it is a 1, the number is actually negative. Hence why the largest (non-negative!) number is 0111 1111 1111 1111 1111 1111 1111 1111. In decimal it is, as you would expect, 2^0+2^1+2^2+.....2^30. Which is the same as 2^31-1, which is 2147483647. And indeed it is:</p>\n<pre><code>System.out.println(Integer.MAX_VALUE); // prints 2147483647.\nSystem.out.println(0b0111_1111_1111_1111_1111_1111_1111_1111); // same\nint v = 0;\nfor (int i = 0; i &lt; 31; i++) {\n  int z = (int) Math.pow(2, i);\n  v += z;\n}\nSystem.out.println(v); // same\n</code></pre>\n<p>The '0' also has to go somewhere, and it is all zero bits. That means a bit of an intriguing detail: There are, of course, as many numbers that starts with a 1-bit as with a 0-bit, but the 0-bit space (our positive numbers) needs to allocate one sequence for zero, but the negative space does not. Hence, the largest <strong>negative</strong> number you can represent is actually one higher: It's -2^31:</p>\n<pre><code>System.out.println(Integer.MIN_VALUE);\n</code></pre>\n<p>This prints -2147483648.</p>\n<p>Negative numbers are represented in 2's complement. Basically, 'in reverse'. <code>1000 0000 0000 0000 0000 0000 0000 0000</code> is in fact -2147483648, and <code>1111 1111 1111 1111 1111 1111 1111 1111</code> is -1. You can read e.g. wikipedia about all the details of two's complement, but one massive advantage is that the <code>+</code> and <code>-</code> operations (as well as increment/decrement-by-one operations) work identically regardless of whether you treat the bits as unsigned (negative numbers are not possible, can represent 0 up to 2^32-1), or as signed (negative numbers ARE possible, can represent -2^31 to +2^31-1). Now 'is it signed or unsigned' is math-wise irrelevant, and that saves instructions.</p>\n<p>For a quick moment of enlightenment: Take -1 in two's complement (in bits: 32x <code>1</code>), and add 1 to it. This trivially results in a 1 followed by thirty-two zeroes, and as computers just lop off the excess, that's just thirty-two zero bits. Which represents zero. And -1 incremented by 1 is.. indeed zero. Neat!</p>\n<p>2's complement boils down to 'flip all bits and add one to it', e.g:</p>\n<ul>\n<li><code>5 = 0000.....0101</code></li>\n<li>-5 thus becomes: 1111....1011.</li>\n<li>reversing that operation produces 000...0101 again.</li>\n</ul>\n"}],"owner":{"account_id":28504051,"reputation":31,"user_id":21814936,"display_name":"Tholkappiar"},"comment_count":3,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1683198167,"answer_count":1,"score":-3,"last_activity_date":1683199804,"creation_date":1683197268,"question_id":76172335,"body_markdown":"I have a question in java about integer overflow.\r\n\r\nWhen I search max integer and surfed integer for that binary, I got this &quot;0111 1111 1111 1111 1111 1111 1111 1111&quot; and also when I use the value 3, I got the binary as &quot;0000 0000 0000 0000 0000 0000 0000 0011&quot;. How is that possible because 2^0+2^1=3? Fine but for the maximum value, 2^31 is 2147483648 and it reached the maximum value for int for just 2^31, we still not add the remaining 2^30 +2^29 and so on? So, how all the bits of the maximum integer number becomes &quot;1&quot; except the MSB?\r\n\r\nI want to know that full working, how the things work clearly.\r\n\r\nEdit : How some people calculate without the 2^31 in there calculation like 2^0+2^1+....2^30 (not including the 2^31) why because it has 32 bits , 1 bit is for positive or negative, so remaining 31 bits , we have to calculate the 31 bits right ?why only 30 bit?","title":"Integer Overflow Java","body":"<p>I have a question in java about integer overflow.</p>\n<p>When I search max integer and surfed integer for that binary, I got this &quot;0111 1111 1111 1111 1111 1111 1111 1111&quot; and also when I use the value 3, I got the binary as &quot;0000 0000 0000 0000 0000 0000 0000 0011&quot;. How is that possible because 2^0+2^1=3? Fine but for the maximum value, 2^31 is 2147483648 and it reached the maximum value for int for just 2^31, we still not add the remaining 2^30 +2^29 and so on? So, how all the bits of the maximum integer number becomes &quot;1&quot; except the MSB?</p>\n<p>I want to know that full working, how the things work clearly.</p>\n<p>Edit : How some people calculate without the 2^31 in there calculation like 2^0+2^1+....2^30 (not including the 2^31) why because it has 32 bits , 1 bit is for positive or negative, so remaining 31 bits , we have to calculate the 31 bits right ?why only 30 bit?</p>\n"},{"tags":["java","gradle","jdbc"],"answers":[{"tags":[],"owner":{"account_id":4185192,"reputation":661,"user_id":3429115,"display_name":"Rafs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683199652,"creation_date":1682594404,"answer_id":76119767,"question_id":76072756,"body_markdown":"I resorted to a &quot;simpler&quot; solution:\r\n\r\n- I offloaded all the JDBC jars from Gradle `build.gradle` to a folder after deployment - let&#39;s call it jdbcs.\r\n- I told java to include that folder as part of the class path using `-cp` when running the software.\r\n\r\nOn Windows systems:\r\n`java -cp &quot;my_package.jar;jdbcs\\*&quot; my_src_pkg.func`\r\n\r\nOn Linux:\r\n`java -cp &quot;my_package.jar:jdbcs/*&quot; my_src_pkg.func`\r\n","title":"How to use JDBC external jars dynamically from a folder without recompilation in Gradle","body":"<p>I resorted to a &quot;simpler&quot; solution:</p>\n<ul>\n<li>I offloaded all the JDBC jars from Gradle <code>build.gradle</code> to a folder after deployment - let's call it jdbcs.</li>\n<li>I told java to include that folder as part of the class path using <code>-cp</code> when running the software.</li>\n</ul>\n<p>On Windows systems:\n<code>java -cp &quot;my_package.jar;jdbcs\\*&quot; my_src_pkg.func</code></p>\n<p>On Linux:\n<code>java -cp &quot;my_package.jar:jdbcs/*&quot; my_src_pkg.func</code></p>\n"}],"owner":{"account_id":4185192,"reputation":661,"user_id":3429115,"display_name":"Rafs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76119767,"answer_count":1,"score":0,"last_activity_date":1683199652,"creation_date":1682076828,"question_id":76072756,"body_markdown":"First thing I am new to Gradle.\r\n\r\nI have a Java project, built with Gradle. I get a fat jar using the Application plugin, which uses java plugin under the bonnet.\r\n\r\nI want to be able to supply some JDBC jars to talk to different DBMSs (Oracle, Postgres, DB2 etc.) in different deployment environments - so without re-compilation.\r\n\r\nPreviously, using ANT, we could manually drop a JDBC jar in `lib` folder, and the application would pick it up and use it without compilation.\r\n\r\nCurrently, I am trying to achieve the same with Gradle. I tried  the following:\r\n\r\n 1. Adding the dependency `runtimeOnly fileTree(&#39;lib&#39;) { include &#39;*.jar&#39; }`: but that requires a compilation every time I drop a new jar in the lib folder.\r\n \r\n 1. Setting `runtimeClasspath` in [`sourceSets`](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html#org.gradle.api.tasks.SourceSet:runtimeClasspath):\r\n```\r\nsourceSets {\r\n    main {\r\n        java {\r\n            runtimeClasspath = fileTree(&#39;lib&#39;) { include &#39;*.jar&#39; }\r\n        }\r\n    }\r\n}\r\n```\r\nBut it doesn&#39;t change anything.\r\n\r\nHow can this be done? here is how my `build.gradle` looks like:\r\n\r\n```\r\nplugins {\r\n    id &#39;application&#39; // implicitly applies java and distribution, see https://docs.gradle.org/7.4/userguide/application_plugin.html    \r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39; // For fat jars\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.apache.poi:poi:5.2.3&#39;\r\n    implementation &#39;org.apache.poi:poi-ooxml:5.2.3&#39;\r\n\r\n    // :\r\n    // more implementation dependencies...\r\n    // :\r\n\r\n    // runtimeOnly fileTree(&#39;lib&#39;) { include &#39;*.jar&#39; } &lt;- requires compilation\r\n\r\n}\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n    }\r\n    \r\n}\r\n\r\napplication {\r\n    mainClass = &#39;my_pkg.ProcessAll&#39;\r\n}\r\n\r\nshadowJar {\r\n    archiveBaseName.set(&#39;MyApp&#39;)\r\n    classifier = null\r\n}\r\n\r\n\r\nsourceSets {\r\n    main {\r\n        java {\r\n            runtimeClasspath = fileTree(&#39;lib&#39;) { include &#39;*.jar&#39; } // &lt;- doesn&#39;t work\r\n        }\r\n    }\r\n}\r\n```","title":"How to use JDBC external jars dynamically from a folder without recompilation in Gradle","body":"<p>First thing I am new to Gradle.</p>\n<p>I have a Java project, built with Gradle. I get a fat jar using the Application plugin, which uses java plugin under the bonnet.</p>\n<p>I want to be able to supply some JDBC jars to talk to different DBMSs (Oracle, Postgres, DB2 etc.) in different deployment environments - so without re-compilation.</p>\n<p>Previously, using ANT, we could manually drop a JDBC jar in <code>lib</code> folder, and the application would pick it up and use it without compilation.</p>\n<p>Currently, I am trying to achieve the same with Gradle. I tried  the following:</p>\n<ol>\n<li><p>Adding the dependency <code>runtimeOnly fileTree('lib') { include '*.jar' }</code>: but that requires a compilation every time I drop a new jar in the lib folder.</p>\n</li>\n<li><p>Setting <code>runtimeClasspath</code> in <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.SourceSet.html#org.gradle.api.tasks.SourceSet:runtimeClasspath\" rel=\"nofollow noreferrer\"><code>sourceSets</code></a>:</p>\n</li>\n</ol>\n<pre><code>sourceSets {\n    main {\n        java {\n            runtimeClasspath = fileTree('lib') { include '*.jar' }\n        }\n    }\n}\n</code></pre>\n<p>But it doesn't change anything.</p>\n<p>How can this be done? here is how my <code>build.gradle</code> looks like:</p>\n<pre><code>plugins {\n    id 'application' // implicitly applies java and distribution, see https://docs.gradle.org/7.4/userguide/application_plugin.html    \n    id 'com.github.johnrengelman.shadow' version '7.1.2' // For fat jars\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.apache.poi:poi:5.2.3'\n    implementation 'org.apache.poi:poi-ooxml:5.2.3'\n\n    // :\n    // more implementation dependencies...\n    // :\n\n    // runtimeOnly fileTree('lib') { include '*.jar' } &lt;- requires compilation\n\n}\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n    \n}\n\napplication {\n    mainClass = 'my_pkg.ProcessAll'\n}\n\nshadowJar {\n    archiveBaseName.set('MyApp')\n    classifier = null\n}\n\n\nsourceSets {\n    main {\n        java {\n            runtimeClasspath = fileTree('lib') { include '*.jar' } // &lt;- doesn't work\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","combobox","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683199999,"post_id":23571643,"comment_id":134331641,"body_markdown":"hmm .. can&#39;t reproduce (adjusting the sizes a bit to really see the combo), fx17: it starts empty and after selecting a value in the dropdown, that value is shown as selected. Might have been a bug that&#39;s fixed some time in the last decade?","body":"hmm .. can&#39;t reproduce (adjusting the sizes a bit to really see the combo), fx17: it starts empty and after selecting a value in the dropdown, that value is shown as selected. Might have been a bug that&#39;s fixed some time in the last decade?"}],"owner":{"account_id":4448977,"reputation":11,"user_id":3621503,"display_name":"Rathu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683199520,"creation_date":1399660157,"question_id":23571643,"body_markdown":"In the below example i&#39;m trying to add a combo box inside a subscene. But it is not working correctly .If I select a value from the combo box ,it&#39;s is not set in the combobox and the combobox values are not displaying properly.\r\n  \r\n                          \r\n    package javaFxExamples;\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.binding.When;\r\n    import javafx.beans.property.BooleanProperty;\r\n    import javafx.beans.property.DoubleProperty;\r\n    import javafx.beans.property.SimpleBooleanProperty;\r\n    import javafx.beans.property.SimpleDoubleProperty;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Group;\r\n    import javafx.scene.PerspectiveCamera;\r\n    import javafx.scene.PointLight;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SubScene;\r\n    import javafx.scene.control.CheckBox;\r\n    import javafx.scene.control.ComboBox;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Slider;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.paint.PhongMaterial;\r\n    import javafx.scene.shape.DrawMode;\r\n    import javafx.scene.shape.MeshView;\r\n    import javafx.scene.shape.TriangleMesh;\r\n    import javafx.scene.transform.Rotate;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MeshCubeSubScene extends Application {\r\n    \r\n        double anchorX, anchorY;\r\n        private static final float EDGE_LENGTH = 380;\r\n        private double anchorAngleX = 0;\r\n        private double anchorAngleY = 0;\r\n    \r\n        private final DoubleProperty angleX = new SimpleDoubleProperty(25);\r\n        private final DoubleProperty angleY = new SimpleDoubleProperty(40);\r\n    \r\n        PerspectiveCamera camera = new PerspectiveCamera(false);\r\n    \r\n        private Slider zSlider;\r\n        private final DoubleProperty zPos = new SimpleDoubleProperty(-200);\r\n        ComboBox comboBox;\r\n    \r\n        private CheckBox meshCheckBox;\r\n    \r\n        private final BooleanProperty showWireframe = new SimpleBooleanProperty(false);\r\n    \r\n        static TriangleMesh createMesh(float w, float h, float d) {\r\n    \r\n            if (w * h * d == 0) {\r\n                return null;\r\n            }\r\n    \r\n            float hw = w / 2f;\r\n            float hh = h / 2f;\r\n            float hd = d / 2f;\r\n    \r\n            float x0 = 0f;\r\n            float x1 = 1f / 4f;\r\n            float x2 = 2f / 4f;\r\n            float x3 = 3f / 4f;\r\n            float x4 = 1f;\r\n            float y0 = 0f;\r\n            float y1 = 1f / 3f;\r\n            float y2 = 2f / 3f;\r\n            float y3 = 1f;\r\n    \r\n            TriangleMesh mesh = new TriangleMesh();\r\n            mesh.getPoints().addAll(hw, hh, hd, // point A\r\n                    hw, hh, -hd, // point B\r\n                    hw, -hh, hd, // point C\r\n                    hw, -hh, -hd, // point D\r\n                    -hw, hh, hd, // point E\r\n                    -hw, hh, -hd, // point F\r\n                    -hw, -hh, hd, // point G\r\n                    -hw, -hh, -hd // point H\r\n            );\r\n            mesh.getTexCoords().addAll(x1, y0, x2, y0, x0, y1, x1, y1, x2, y1, x3, y1, x4, y1, x0, y2, x1, y2, x2,\r\n                    y2, x3, y2, x4, y2, x1, y3, x2, y3);\r\n            mesh.getFaces().addAll(0, 10, 2, 5, 1, 9, // triangle A-C-B\r\n                    2, 5, 3, 4, 1, 9, // triangle C-D-B\r\n                    4, 7, 5, 8, 6, 2, // triangle E-F-G\r\n                    6, 2, 5, 8, 7, 3, // triangle G-F-H\r\n                    0, 13, 1, 9, 4, 12, // triangle A-B-E\r\n                    4, 12, 1, 9, 5, 8, // triangle E-B-F\r\n                    2, 1, 6, 0, 3, 4, // triangle C-G-D\r\n                    3, 4, 6, 0, 7, 3, // triangle D-G-H\r\n                    0, 10, 4, 11, 2, 5, // triangle A-E-C\r\n                    2, 5, 4, 11, 6, 6, // triangle C-E-G\r\n                    1, 9, 3, 4, 5, 8, // triangle B-D-F\r\n                    5, 8, 3, 4, 7, 3 // triangle F-D-H\r\n            );\r\n            mesh.getFaceSmoothingGroups().addAll(0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5);\r\n            return mesh;\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;MeshCubeSubScene&quot;);\r\n    \r\n            Image diffuseMap = new Image(MeshCubeSubScene.class.getResource(&quot;cbGn_pof-bm.png&quot;).toExternalForm());\r\n    \r\n            PhongMaterial earthMaterial = new PhongMaterial();\r\n            earthMaterial.setDiffuseMap(diffuseMap);\r\n    \r\n            MeshView cube = new MeshView(createMesh(EDGE_LENGTH, EDGE_LENGTH, EDGE_LENGTH));\r\n            cube.setMaterial(earthMaterial);\r\n    \r\n            final Group parent = new Group(cube);\r\n            parent.setTranslateX(450);\r\n            parent.setTranslateY(400);\r\n            parent.setTranslateZ(0);\r\n    \r\n            Rotate xRotate;\r\n            Rotate yRotate;\r\n            parent.getTransforms().setAll(xRotate = new Rotate(0, Rotate.X_AXIS),\r\n                    yRotate = new Rotate(0, Rotate.Y_AXIS));\r\n            xRotate.angleProperty().bind(angleX);\r\n            yRotate.angleProperty().bind(angleY);\r\n    \r\n            final Group root = new Group(parent);\r\n    \r\n            final Scene scene = new Scene(root, 900, 900, true);\r\n            scene.setFill(Color.WHITE);\r\n    \r\n            scene.setOnMousePressed(event -&gt; {\r\n                anchorX = event.getSceneX();\r\n                anchorY = event.getSceneY();\r\n                anchorAngleX = angleX.get();\r\n                anchorAngleY = angleY.get();\r\n            });\r\n    \r\n            scene.setOnMouseDragged(event -&gt; {\r\n                angleX.set(anchorAngleX - (anchorY - event.getSceneY()));\r\n                angleY.set(anchorAngleY + anchorX - event.getSceneX());\r\n            });\r\n    \r\n            PointLight pointLight = new PointLight(Color.WHITE);\r\n            pointLight.setTranslateX(300);\r\n            pointLight.setTranslateY(200);\r\n            pointLight.setTranslateZ(-2000);\r\n    \r\n            root.getChildren().add(pointLight);\r\n    \r\n            scene.setCamera(camera);\r\n            primaryStage.setScene(scene);\r\n    \r\n            // SubScene code\r\n            PerspectiveCamera subSceneCamera = new PerspectiveCamera(false);\r\n            scene.setCamera(subSceneCamera);\r\n            Label zLabel = new Label(&quot;Z&quot;);\r\n            zSlider = new Slider(-200, 3000, -200);\r\n            meshCheckBox = new CheckBox(&quot;Wireframe&quot;);\r\n            comboBox = new ComboBox();\r\n            comboBox.getItems().add(&quot;test1&quot;);\r\n            comboBox.getItems().add(&quot;test2&quot;);\r\n            comboBox.getItems().add(&quot;test3&quot;);\r\n    \r\n            HBox subSceneGroup = new HBox(70, new HBox(10, zLabel, zSlider), meshCheckBox, comboBox);\r\n            subSceneGroup.setPadding(new Insets(100, 100, 0, 100));\r\n            SubScene subScene = new SubScene(subSceneGroup, 600, 200);\r\n            subScene.setLayoutX(180);\r\n            subScene.setLayoutY(720);\r\n    \r\n            root.getChildren().add(subScene);\r\n    \r\n            // Setup binding\r\n            zSlider.valueProperty().bindBidirectional(zPos);\r\n            parent.translateZProperty().bind(zPos);\r\n    \r\n            meshCheckBox.selectedProperty().bindBidirectional(showWireframe);\r\n            cube.drawModeProperty().bind(new When(showWireframe).then(DrawMode.LINE).otherwise(DrawMode.FILL));\r\n    \r\n            primaryStage.show();\r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n    }\r\n","title":"Combo box in subscene is not working in javaFX","body":"<p>In the below example i'm trying to add a combo box inside a subscene. But it is not working correctly .If I select a value from the combo box ,it's is not set in the combobox and the combobox values are not displaying properly.</p>\n<pre><code>package javaFxExamples;\n\nimport javafx.application.Application;\nimport javafx.beans.binding.When;\nimport javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.DoubleProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.beans.property.SimpleDoubleProperty;\nimport javafx.geometry.Insets;\nimport javafx.scene.Group;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.PointLight;\nimport javafx.scene.Scene;\nimport javafx.scene.SubScene;\nimport javafx.scene.control.CheckBox;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.image.Image;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.DrawMode;\nimport javafx.scene.shape.MeshView;\nimport javafx.scene.shape.TriangleMesh;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\n\npublic class MeshCubeSubScene extends Application {\n\n    double anchorX, anchorY;\n    private static final float EDGE_LENGTH = 380;\n    private double anchorAngleX = 0;\n    private double anchorAngleY = 0;\n\n    private final DoubleProperty angleX = new SimpleDoubleProperty(25);\n    private final DoubleProperty angleY = new SimpleDoubleProperty(40);\n\n    PerspectiveCamera camera = new PerspectiveCamera(false);\n\n    private Slider zSlider;\n    private final DoubleProperty zPos = new SimpleDoubleProperty(-200);\n    ComboBox comboBox;\n\n    private CheckBox meshCheckBox;\n\n    private final BooleanProperty showWireframe = new SimpleBooleanProperty(false);\n\n    static TriangleMesh createMesh(float w, float h, float d) {\n\n        if (w * h * d == 0) {\n            return null;\n        }\n\n        float hw = w / 2f;\n        float hh = h / 2f;\n        float hd = d / 2f;\n\n        float x0 = 0f;\n        float x1 = 1f / 4f;\n        float x2 = 2f / 4f;\n        float x3 = 3f / 4f;\n        float x4 = 1f;\n        float y0 = 0f;\n        float y1 = 1f / 3f;\n        float y2 = 2f / 3f;\n        float y3 = 1f;\n\n        TriangleMesh mesh = new TriangleMesh();\n        mesh.getPoints().addAll(hw, hh, hd, // point A\n                hw, hh, -hd, // point B\n                hw, -hh, hd, // point C\n                hw, -hh, -hd, // point D\n                -hw, hh, hd, // point E\n                -hw, hh, -hd, // point F\n                -hw, -hh, hd, // point G\n                -hw, -hh, -hd // point H\n        );\n        mesh.getTexCoords().addAll(x1, y0, x2, y0, x0, y1, x1, y1, x2, y1, x3, y1, x4, y1, x0, y2, x1, y2, x2,\n                y2, x3, y2, x4, y2, x1, y3, x2, y3);\n        mesh.getFaces().addAll(0, 10, 2, 5, 1, 9, // triangle A-C-B\n                2, 5, 3, 4, 1, 9, // triangle C-D-B\n                4, 7, 5, 8, 6, 2, // triangle E-F-G\n                6, 2, 5, 8, 7, 3, // triangle G-F-H\n                0, 13, 1, 9, 4, 12, // triangle A-B-E\n                4, 12, 1, 9, 5, 8, // triangle E-B-F\n                2, 1, 6, 0, 3, 4, // triangle C-G-D\n                3, 4, 6, 0, 7, 3, // triangle D-G-H\n                0, 10, 4, 11, 2, 5, // triangle A-E-C\n                2, 5, 4, 11, 6, 6, // triangle C-E-G\n                1, 9, 3, 4, 5, 8, // triangle B-D-F\n                5, 8, 3, 4, 7, 3 // triangle F-D-H\n        );\n        mesh.getFaceSmoothingGroups().addAll(0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5);\n        return mesh;\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;MeshCubeSubScene&quot;);\n\n        Image diffuseMap = new Image(MeshCubeSubScene.class.getResource(&quot;cbGn_pof-bm.png&quot;).toExternalForm());\n\n        PhongMaterial earthMaterial = new PhongMaterial();\n        earthMaterial.setDiffuseMap(diffuseMap);\n\n        MeshView cube = new MeshView(createMesh(EDGE_LENGTH, EDGE_LENGTH, EDGE_LENGTH));\n        cube.setMaterial(earthMaterial);\n\n        final Group parent = new Group(cube);\n        parent.setTranslateX(450);\n        parent.setTranslateY(400);\n        parent.setTranslateZ(0);\n\n        Rotate xRotate;\n        Rotate yRotate;\n        parent.getTransforms().setAll(xRotate = new Rotate(0, Rotate.X_AXIS),\n                yRotate = new Rotate(0, Rotate.Y_AXIS));\n        xRotate.angleProperty().bind(angleX);\n        yRotate.angleProperty().bind(angleY);\n\n        final Group root = new Group(parent);\n\n        final Scene scene = new Scene(root, 900, 900, true);\n        scene.setFill(Color.WHITE);\n\n        scene.setOnMousePressed(event -&gt; {\n            anchorX = event.getSceneX();\n            anchorY = event.getSceneY();\n            anchorAngleX = angleX.get();\n            anchorAngleY = angleY.get();\n        });\n\n        scene.setOnMouseDragged(event -&gt; {\n            angleX.set(anchorAngleX - (anchorY - event.getSceneY()));\n            angleY.set(anchorAngleY + anchorX - event.getSceneX());\n        });\n\n        PointLight pointLight = new PointLight(Color.WHITE);\n        pointLight.setTranslateX(300);\n        pointLight.setTranslateY(200);\n        pointLight.setTranslateZ(-2000);\n\n        root.getChildren().add(pointLight);\n\n        scene.setCamera(camera);\n        primaryStage.setScene(scene);\n\n        // SubScene code\n        PerspectiveCamera subSceneCamera = new PerspectiveCamera(false);\n        scene.setCamera(subSceneCamera);\n        Label zLabel = new Label(&quot;Z&quot;);\n        zSlider = new Slider(-200, 3000, -200);\n        meshCheckBox = new CheckBox(&quot;Wireframe&quot;);\n        comboBox = new ComboBox();\n        comboBox.getItems().add(&quot;test1&quot;);\n        comboBox.getItems().add(&quot;test2&quot;);\n        comboBox.getItems().add(&quot;test3&quot;);\n\n        HBox subSceneGroup = new HBox(70, new HBox(10, zLabel, zSlider), meshCheckBox, comboBox);\n        subSceneGroup.setPadding(new Insets(100, 100, 0, 100));\n        SubScene subScene = new SubScene(subSceneGroup, 600, 200);\n        subScene.setLayoutX(180);\n        subScene.setLayoutY(720);\n\n        root.getChildren().add(subScene);\n\n        // Setup binding\n        zSlider.valueProperty().bindBidirectional(zPos);\n        parent.translateZProperty().bind(zPos);\n\n        meshCheckBox.selectedProperty().bindBidirectional(showWireframe);\n        cube.drawModeProperty().bind(new When(showWireframe).then(DrawMode.LINE).otherwise(DrawMode.FILL));\n\n        primaryStage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","itext","itext7"],"owner":{"account_id":10870321,"reputation":35,"user_id":16924338,"display_name":"Vasiliy  Tungusov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683199495,"creation_date":1683109007,"question_id":76162722,"body_markdown":"Is it possible to add text with gradient color using itext 7+ ?\r\n\r\n[![like this][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/jzkv9.png\r\n\r\nI tried doing this but it didn&#39;t help\r\n\r\n    AbstractLinearGradientBuilder gradientBuilder = new LinearGradientBuilder()\r\n                .setGradientVector(A6.getLeft(), A6.getLeft(), A6.getRight(), A6.getRight())\r\n                .addColorStop(new GradientColorStop(COLOR_PURPLE.getColorValue()))\r\n                .addColorStop(new GradientColorStop(COLOR_RED.getColorValue()));\r\n    BackgroundImage backgroundImage = new BackgroundImage.Builder()\r\n                .setLinearGradientBuilder(gradientBuilder)\r\n                .build();\r\n    Text text = new Text(code);\r\n    text.setProperty(Property.BACKGROUND_IMAGE, List.of(backgroundImage));\r\n\r\nalso tried some libs for converting html to pdf, but can`t find any which recognized -webkit-background-clip and -webkit-text-fill-color tags","title":"IText 7 add text color with gradient","body":"<p>Is it possible to add text with gradient color using itext 7+ ?</p>\n<p><a href=\"https://i.stack.imgur.com/jzkv9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jzkv9.png\" alt=\"like this\" /></a></p>\n<p>I tried doing this but it didn't help</p>\n<pre><code>AbstractLinearGradientBuilder gradientBuilder = new LinearGradientBuilder()\n            .setGradientVector(A6.getLeft(), A6.getLeft(), A6.getRight(), A6.getRight())\n            .addColorStop(new GradientColorStop(COLOR_PURPLE.getColorValue()))\n            .addColorStop(new GradientColorStop(COLOR_RED.getColorValue()));\nBackgroundImage backgroundImage = new BackgroundImage.Builder()\n            .setLinearGradientBuilder(gradientBuilder)\n            .build();\nText text = new Text(code);\ntext.setProperty(Property.BACKGROUND_IMAGE, List.of(backgroundImage));\n</code></pre>\n<p>also tried some libs for converting html to pdf, but can`t find any which recognized -webkit-background-clip and -webkit-text-fill-color tags</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683196140,"creation_date":1683196140,"answer_id":76172191,"question_id":76171592,"body_markdown":"Set the profile manually for `application-fail.yml` to be loaded:\r\n\r\n```java\r\nSpringApplication springApplication = new SpringApplication(SpringBootApplication.class);\r\nspringApplication.setAdditionalProfiles(&quot;fail&quot;);\r\n\r\nAssertions.assertThrows(\r\n        Exception.class,\r\n        () -&gt; springApplication.run(),\r\n        &quot;Expected springApplication.run() to throw, but it didn&#39;t&quot;\r\n);\r\n```\r\n\r\nThe `@ActiveProfiles(&quot;fail&quot;)` is not acted upon as the SpringBoot application is not automatically stood up for the test class.","title":"How can I set configuration properties for a SpringBootApplication that I start programmatically in a unit test?","body":"<p>Set the profile manually for <code>application-fail.yml</code> to be loaded:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SpringApplication springApplication = new SpringApplication(SpringBootApplication.class);\nspringApplication.setAdditionalProfiles(&quot;fail&quot;);\n\nAssertions.assertThrows(\n        Exception.class,\n        () -&gt; springApplication.run(),\n        &quot;Expected springApplication.run() to throw, but it didn't&quot;\n);\n</code></pre>\n<p>The <code>@ActiveProfiles(&quot;fail&quot;)</code> is not acted upon as the SpringBoot application is not automatically stood up for the test class.</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76172191,"answer_count":1,"score":0,"last_activity_date":1683199316,"creation_date":1683192248,"question_id":76171592,"body_markdown":"I have the following unit test in a SpringBoot 2.7.7 project.\r\n\r\nI programmatically start the SpringBoot application so that I can catch an error I expect to be thrown on startup.\r\n\r\nBut the error is only thrown when a specific combination of `YAML` configuration properties are active, which is what I am trying to enable below.\r\n\r\nAny ideas how I can reference the YAML and pass them along to the `springApplication` instance for startup?\r\n\r\n```java\r\n@ActiveProfiles(&quot;fail&quot;)\r\npublic class DatabaseMigratorFailTest {\r\n\r\n  @Test\r\n  public void testDatabaseMigrator() throws Exception {\r\n\r\n    SpringApplication springApplication = new SpringApplication(SpringBootApplication.class);\r\n    \r\n    //springApplication.setSources(); &lt;- Unsure how to configure my application-fail.yml as a source of configuration values?\r\n\r\n    springApplication.run();\r\n    \r\n\r\n    //assertThatThrownBy(() -&gt; {\r\n      //springApplication.run();\r\n    //}).isInstanceOf(Exception.class);\r\n  }\r\n}\r\n```\r\n\r\nI have a YAML configuration file at the location:\r\n\r\n```\r\nsrc/test/resources/application-fail.yml\r\n```\r\n\r\nwhich contains various config values e.g:\r\n\r\n```yaml\r\nmulti-tenancy:\r\n  tenants:\r\n    &quot;001&quot;:\r\n      configuration:\r\n        database:\r\n          jdbc-url: &quot;jdbc:postgresql://localhost:5432/postgres?currentSchema=001&quot;\r\n```","title":"How can I set configuration properties for a SpringBootApplication that I start programmatically in a unit test?","body":"<p>I have the following unit test in a SpringBoot 2.7.7 project.</p>\n<p>I programmatically start the SpringBoot application so that I can catch an error I expect to be thrown on startup.</p>\n<p>But the error is only thrown when a specific combination of <code>YAML</code> configuration properties are active, which is what I am trying to enable below.</p>\n<p>Any ideas how I can reference the YAML and pass them along to the <code>springApplication</code> instance for startup?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ActiveProfiles(&quot;fail&quot;)\npublic class DatabaseMigratorFailTest {\n\n  @Test\n  public void testDatabaseMigrator() throws Exception {\n\n    SpringApplication springApplication = new SpringApplication(SpringBootApplication.class);\n    \n    //springApplication.setSources(); &lt;- Unsure how to configure my application-fail.yml as a source of configuration values?\n\n    springApplication.run();\n    \n\n    //assertThatThrownBy(() -&gt; {\n      //springApplication.run();\n    //}).isInstanceOf(Exception.class);\n  }\n}\n</code></pre>\n<p>I have a YAML configuration file at the location:</p>\n<pre><code>src/test/resources/application-fail.yml\n</code></pre>\n<p>which contains various config values e.g:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>multi-tenancy:\n  tenants:\n    &quot;001&quot;:\n      configuration:\n        database:\n          jdbc-url: &quot;jdbc:postgresql://localhost:5432/postgres?currentSchema=001&quot;\n</code></pre>\n"},{"tags":["java","java-stream","lazy-evaluation"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1683191946,"post_id":76171490,"comment_id":134329800,"body_markdown":"&quot;a collection whose elements are created only when they are actually iterated&quot; That&#39;s a `Stream`. How about returning a `IntStream` from `getInts`?","body":"&quot;a collection whose elements are created only when they are actually iterated&quot; That&#39;s a <code>Stream</code>. How about returning a <code>IntStream</code> from <code>getInts</code>?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683191956,"post_id":76171490,"comment_id":134329806,"body_markdown":"`getInts()` should return a `Stream`, not a collection, or you need to take the effort to write a custom `Collection` implementation to lazily populate itself, which will not be easy to do.","body":"<code>getInts()</code> should return a <code>Stream</code>, not a collection, or you need to take the effort to write a custom <code>Collection</code> implementation to lazily populate itself, which will not be easy to do."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1683192229,"post_id":76171490,"comment_id":134329875,"body_markdown":"`getInts` collects the stream. Collecting a stream is a terminal operation and usually consumes the full stream. I am not aware of &quot;lazy collections&quot;, you&#39;d use a stream for that use case. Plus, you must change the `getInts()` method if its return value should be built lazily","body":"<code>getInts</code> collects the stream. Collecting a stream is a terminal operation and usually consumes the full stream. I am not aware of &quot;lazy collections&quot;, you&#39;d use a stream for that use case. Plus, you must change the <code>getInts()</code> method if its return value should be built lazily"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683192450,"post_id":76171490,"comment_id":134329925,"body_markdown":"Lazy collection: `class LazyInts extends AbstractCollection&lt;Integer&gt; { @Override public Iterator&lt;Integer&gt; iterator() {\n  return IntStream.range(1, 100) .peek(value -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value)) .boxed().iterator(); }\n  @Override public int size() { return 99; }\n}`","body":"Lazy collection: <code>class LazyInts extends AbstractCollection&lt;Integer&gt; { @Override public Iterator&lt;Integer&gt; iterator() {   return IntStream.range(1, 100) .peek(value -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value)) .boxed().iterator(); }   @Override public int size() { return 99; } }</code>"}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1683198279,"post_id":76171635,"comment_id":134331263,"body_markdown":"The question asks: &quot;Is Y possibly __without__ doing X&quot; and you answer with: &quot;Here is X&quot;.  This is not what OP is interested in. (Y = be lazy, X = changing the return type to `Stream`).","body":"The question asks: &quot;Is Y possibly <b>without</b> doing X&quot; and you answer with: &quot;Here is X&quot;.  This is not what OP is interested in. (Y = be lazy, X = changing the return type to <code>Stream</code>)."}],"tags":[],"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683192556,"creation_date":1683192556,"answer_id":76171635,"question_id":76171490,"body_markdown":"You need to return `Stream` instead of `Collection`. As while generating the collection it will read all values from the stream. So `pick` gets called 10 times.\r\n\r\nUpdated program.\r\n```Java\r\npublic class Main {\r\n\r\n    public static boolean isPrime(Integer n) {\r\n        if (n &lt; 2) {\r\n            return false;\r\n        }\r\n\r\n        for (var i = 2; (i * i) &lt;= n; i++) {\r\n            if ((n % i) == 0) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public static Stream&lt;Integer&gt; getInts() {\r\n        return IntStream.range(1, 10).peek((value) -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value))\r\n                .boxed();\r\n    }\r\n\r\n    public static boolean primeExists() {\r\n        return getInts().peek((value) -&gt; System.out.printf(&quot;primeExists(): iterating over [%d]\\n&quot;, value))\r\n                .anyMatch(Main::isPrime);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        primeExists();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe output:\r\n```\r\ngetInts(): iterating over [1]\r\nprimeExists(): iterating over [1]\r\ngetInts(): iterating over [2]\r\nprimeExists(): iterating over [2]\r\n```\r\nAs it will fetch one element and process it so it will print `getInts()` and `primeExists()` for each element.","title":"Java streams and lazy collections","body":"<p>You need to return <code>Stream</code> instead of <code>Collection</code>. As while generating the collection it will read all values from the stream. So <code>pick</code> gets called 10 times.</p>\n<p>Updated program.</p>\n<pre><code>public class Main {\n\n    public static boolean isPrime(Integer n) {\n        if (n &lt; 2) {\n            return false;\n        }\n\n        for (var i = 2; (i * i) &lt;= n; i++) {\n            if ((n % i) == 0) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public static Stream&lt;Integer&gt; getInts() {\n        return IntStream.range(1, 10).peek((value) -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value))\n                .boxed();\n    }\n\n    public static boolean primeExists() {\n        return getInts().peek((value) -&gt; System.out.printf(&quot;primeExists(): iterating over [%d]\\n&quot;, value))\n                .anyMatch(Main::isPrime);\n    }\n\n    public static void main(String[] args) throws IOException {\n        primeExists();\n    }\n\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>getInts(): iterating over [1]\nprimeExists(): iterating over [1]\ngetInts(): iterating over [2]\nprimeExists(): iterating over [2]\n</code></pre>\n<p>As it will fetch one element and process it so it will print <code>getInts()</code> and <code>primeExists()</code> for each element.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683199136,"creation_date":1683199136,"answer_id":76172604,"question_id":76171490,"body_markdown":"__NO__.\r\n\r\nOkay, I have answered the question. But let&#39;s provide a whole bunch of context:\r\n\r\n&gt; I think that the ideal solution is to return a lazy collection from getInts() (e.g. a collection whose elements are created only when they are actually iterated). Is there a way to create such collections in Java?\r\n\r\nYou&#39;re confused about terminology. Often in officially defined systems (and a programming language is certainly far more specifically defined than your usual human-to-human conversations), terminology gains a far more specific, far more detailedly defined meaning.\r\n\r\nIn your head, &#39;collection&#39; could be lazy, why not, right? Collection is a word, in a dictionary, nothing in the dictionary dictates it MUST be eager.\r\n\r\nBut in java, _`j.u.Collection` __IMPLIES__ eager_. Asking for a lazy collection, &#39;collection&#39; there referring to the english word, that makes sense. asking for &#39;a lazy Collection&#39;, with collection referring specifically to `java.util.Collection`, __makes no sense__. It&#39;s like asking for: &quot;A circle but with a corner&quot;. It&#39;s an oxymoron. Given that you&#39;re in java land, using the word &#39;collection&#39; and intending for that to be taken as the dictionary word and not `j.u.Collection` is a mistake: Words serve to communicate ideas, if the words don&#39;t do the job right, you&#39;ve chosen bad words. It is, naturally, virtually impossible to attempt to disambiguate &#39;collection - in the sense of english dictionary&#39; and &#39;collection - in the sense of j.u.Collection&#39;, so find another word to convey that notion.\r\n\r\nSo, what is java&#39;s official term for &#39;a lazy collection-as-in-dictionary&#39;? __It is `Stream`__.\r\n\r\nSaid differently, you have a method whose return type is &quot;EagerCollection&quot; (Except in java we just call that Collection), and are asking: Is there any way to make that non-eager? Well, no. The spec is literally telling you it has to be eager.\r\n\r\nThinking about the API of a hypothetical &#39;lazy collection&#39;, and going by the API of `j.u.Collection` for inspiration, it just wouldn&#39;t make sense. Lots of API needs to either:\r\n\r\n* Be removed entirely for not making sense / having nasty side-effects we would never want to expose.\r\n* Document that it &#39;consumes&#39; the collection, with no way to return, and/or have ridiculous side-effects such as taking an hour and allocating 2 GB worth of RAM.\r\n* Just isn&#39;t a thing you generally would be interested in.\r\n* Needs to throw something.\r\n* Needs to return magic values that have weird meanings, such as `size()` being specced to return -1 for infinite collections and -2 for &#39;I have no idea, I might even be infinite&#39;.\r\n* Handcuffs the notion into eliminating the ability of such a concept to apply to use cases even though they feel right (such as adding the handcuff that lazy collections are nevertheless __required__ to accurately report size() in a quick and non-destructive manner, which means you can&#39;t make a lazy collection to represent data being piped in across the network).\r\n\r\nThis is _why_ `Stream` exists: Different API was required. This is _why_ `java.util.Collection` (and particularly, `java.util.List`) inherently means &#39;eager&#39;. Even though a few things (really, just `iterator()`, almost every other method is non-sensical or not implementable in a fast and non-destructive manner) could also apply to &#39;lazy collections&#39;.\r\n\r\nAs a trivial example, `.get(1000)` often involves either destruction (I could give you the 1000th element, but in doing so, elements 0-999 are consumed and can never be returned again, so if you call `.get(500)` afterwards, an exception will have to occur), or caching (I will allocate some memory and pull 1000 elements, caching 0-999, so that `.get(500)` later does actually work, though it grabs from cache).\r\n\r\nInstead in streams, you&#39;d write `.skip(1000).findFirst()` which is about as simple and which is far more accurate in what it _actually does_ - whereas with `.get(1000)` I have no idea if that is going to create a cache or crash or how the heck is that going to work, I&#39;d have to read the docs, with `.skip(1000).findFirst()` it&#39;s obvious from just that little bit of text: That will destroy elements 0-999 (pull them from the source and discard them, I can never return to these).\r\n","title":"Java streams and lazy collections","body":"<p><strong>NO</strong>.</p>\n<p>Okay, I have answered the question. But let's provide a whole bunch of context:</p>\n<blockquote>\n<p>I think that the ideal solution is to return a lazy collection from getInts() (e.g. a collection whose elements are created only when they are actually iterated). Is there a way to create such collections in Java?</p>\n</blockquote>\n<p>You're confused about terminology. Often in officially defined systems (and a programming language is certainly far more specifically defined than your usual human-to-human conversations), terminology gains a far more specific, far more detailedly defined meaning.</p>\n<p>In your head, 'collection' could be lazy, why not, right? Collection is a word, in a dictionary, nothing in the dictionary dictates it MUST be eager.</p>\n<p>But in java, <em><code>j.u.Collection</code> <strong>IMPLIES</strong> eager</em>. Asking for a lazy collection, 'collection' there referring to the english word, that makes sense. asking for 'a lazy Collection', with collection referring specifically to <code>java.util.Collection</code>, <strong>makes no sense</strong>. It's like asking for: &quot;A circle but with a corner&quot;. It's an oxymoron. Given that you're in java land, using the word 'collection' and intending for that to be taken as the dictionary word and not <code>j.u.Collection</code> is a mistake: Words serve to communicate ideas, if the words don't do the job right, you've chosen bad words. It is, naturally, virtually impossible to attempt to disambiguate 'collection - in the sense of english dictionary' and 'collection - in the sense of j.u.Collection', so find another word to convey that notion.</p>\n<p>So, what is java's official term for 'a lazy collection-as-in-dictionary'? <strong>It is <code>Stream</code></strong>.</p>\n<p>Said differently, you have a method whose return type is &quot;EagerCollection&quot; (Except in java we just call that Collection), and are asking: Is there any way to make that non-eager? Well, no. The spec is literally telling you it has to be eager.</p>\n<p>Thinking about the API of a hypothetical 'lazy collection', and going by the API of <code>j.u.Collection</code> for inspiration, it just wouldn't make sense. Lots of API needs to either:</p>\n<ul>\n<li>Be removed entirely for not making sense / having nasty side-effects we would never want to expose.</li>\n<li>Document that it 'consumes' the collection, with no way to return, and/or have ridiculous side-effects such as taking an hour and allocating 2 GB worth of RAM.</li>\n<li>Just isn't a thing you generally would be interested in.</li>\n<li>Needs to throw something.</li>\n<li>Needs to return magic values that have weird meanings, such as <code>size()</code> being specced to return -1 for infinite collections and -2 for 'I have no idea, I might even be infinite'.</li>\n<li>Handcuffs the notion into eliminating the ability of such a concept to apply to use cases even though they feel right (such as adding the handcuff that lazy collections are nevertheless <strong>required</strong> to accurately report size() in a quick and non-destructive manner, which means you can't make a lazy collection to represent data being piped in across the network).</li>\n</ul>\n<p>This is <em>why</em> <code>Stream</code> exists: Different API was required. This is <em>why</em> <code>java.util.Collection</code> (and particularly, <code>java.util.List</code>) inherently means 'eager'. Even though a few things (really, just <code>iterator()</code>, almost every other method is non-sensical or not implementable in a fast and non-destructive manner) could also apply to 'lazy collections'.</p>\n<p>As a trivial example, <code>.get(1000)</code> often involves either destruction (I could give you the 1000th element, but in doing so, elements 0-999 are consumed and can never be returned again, so if you call <code>.get(500)</code> afterwards, an exception will have to occur), or caching (I will allocate some memory and pull 1000 elements, caching 0-999, so that <code>.get(500)</code> later does actually work, though it grabs from cache).</p>\n<p>Instead in streams, you'd write <code>.skip(1000).findFirst()</code> which is about as simple and which is far more accurate in what it <em>actually does</em> - whereas with <code>.get(1000)</code> I have no idea if that is going to create a cache or crash or how the heck is that going to work, I'd have to read the docs, with <code>.skip(1000).findFirst()</code> it's obvious from just that little bit of text: That will destroy elements 0-999 (pull them from the source and discard them, I can never return to these).</p>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76172604,"answer_count":2,"score":0,"last_activity_date":1683199136,"creation_date":1683191628,"question_id":76171490,"body_markdown":"I have a method which returns a `Collection` of objects by performing some costly operation (e.g. using a database for resolving objects by ther ID).\r\n\r\nLet&#39;s use this method as an example:\r\n``` java\r\npublic static Collection&lt;Integer&gt; getInts()\r\n{\r\n\treturn IntStream.range(1, 100)\r\n\t\t\t.peek((value) -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value))\r\n\t\t\t.boxed()\r\n\t\t\t.collect(Collectors.toList());\r\n}\r\n```\r\n\r\nThen I have another method which checks if an object which matches a predicate exists in that collection:\r\n\r\n``` java\r\npublic static boolean primeExists()\r\n{\r\n\treturn getInts().stream()\r\n\t\t.peek((value) -&gt; System.out.printf(&quot;primeExists(): iterating over [%d]\\n&quot;, value))\r\n\t\t.anyMatch(Main::isPrime); // checks if there is a prime number\r\n}\r\n```\r\n\r\nBy running this code, I have noticed that the `peek` in `getInts()` method prints 10 times, one for each number, even though the `primeExists()` actually needs only the first two elements.\r\n\r\nHere is a full code example:\r\n\r\n``` java\r\npublic class Main\r\n{\r\n    private static boolean isPrime(int n)\r\n    {\r\n        if (n &lt; 2)\r\n        {\r\n            return false;\r\n        }\r\n\r\n        for (int i = 2; i * i &lt;= n; i++)\r\n        {\r\n            if (n % i == 0)\r\n            {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    public static Collection&lt;Integer&gt; getInts()\r\n    {\r\n        return IntStream.range(1, 10)\r\n                .peek((value) -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value))\r\n                .boxed()\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static boolean primeExists()\r\n    {\r\n        return getInts().stream()\r\n                        .peek((value) -&gt; System.out.printf(&quot;primeExists(): iterating over [%d]\\n&quot;, value))\r\n                        .anyMatch(Main::isPrime);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException\r\n    {\r\n        primeExists();\r\n    }\r\n}\r\n```\r\n\r\nThis is the output:\r\n```\r\ngetInts(): iterating over [1]\r\ngetInts(): iterating over [2]\r\ngetInts(): iterating over [3]\r\ngetInts(): iterating over [4]\r\ngetInts(): iterating over [5]\r\ngetInts(): iterating over [6]\r\ngetInts(): iterating over [7]\r\ngetInts(): iterating over [8]\r\ngetInts(): iterating over [9]\r\nprimeExists(): iterating over [1]\r\nprimeExists(): iterating over [2]\r\n```\r\n\r\nHow can I change this code to get this output instead:\r\n\r\n```\r\ngetInts(): iterating over [1]\r\ngetInts(): iterating over [2]\r\nprimeExists(): iterating over [1]\r\nprimeExists(): iterating over [2]\r\n```\r\n\r\nIs it possible to get this behaviour without changing the `getInts()` method to return an intermediate `Stream`?\r\n\r\nI think that the ideal solution is to return a lazy collection from `getInts()` (e.g. a collection whose elements are created only when they are actually iterated). Is there a way to create such collections in Java?","title":"Java streams and lazy collections","body":"<p>I have a method which returns a <code>Collection</code> of objects by performing some costly operation (e.g. using a database for resolving objects by ther ID).</p>\n<p>Let's use this method as an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Collection&lt;Integer&gt; getInts()\n{\n    return IntStream.range(1, 100)\n            .peek((value) -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value))\n            .boxed()\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Then I have another method which checks if an object which matches a predicate exists in that collection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean primeExists()\n{\n    return getInts().stream()\n        .peek((value) -&gt; System.out.printf(&quot;primeExists(): iterating over [%d]\\n&quot;, value))\n        .anyMatch(Main::isPrime); // checks if there is a prime number\n}\n</code></pre>\n<p>By running this code, I have noticed that the <code>peek</code> in <code>getInts()</code> method prints 10 times, one for each number, even though the <code>primeExists()</code> actually needs only the first two elements.</p>\n<p>Here is a full code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    private static boolean isPrime(int n)\n    {\n        if (n &lt; 2)\n        {\n            return false;\n        }\n\n        for (int i = 2; i * i &lt;= n; i++)\n        {\n            if (n % i == 0)\n            {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public static Collection&lt;Integer&gt; getInts()\n    {\n        return IntStream.range(1, 10)\n                .peek((value) -&gt; System.out.printf(&quot;getInts(): iterating over [%d]\\n&quot;, value))\n                .boxed()\n                .collect(Collectors.toList());\n    }\n\n    public static boolean primeExists()\n    {\n        return getInts().stream()\n                        .peek((value) -&gt; System.out.printf(&quot;primeExists(): iterating over [%d]\\n&quot;, value))\n                        .anyMatch(Main::isPrime);\n    }\n\n    public static void main(String[] args) throws IOException\n    {\n        primeExists();\n    }\n}\n</code></pre>\n<p>This is the output:</p>\n<pre><code>getInts(): iterating over [1]\ngetInts(): iterating over [2]\ngetInts(): iterating over [3]\ngetInts(): iterating over [4]\ngetInts(): iterating over [5]\ngetInts(): iterating over [6]\ngetInts(): iterating over [7]\ngetInts(): iterating over [8]\ngetInts(): iterating over [9]\nprimeExists(): iterating over [1]\nprimeExists(): iterating over [2]\n</code></pre>\n<p>How can I change this code to get this output instead:</p>\n<pre><code>getInts(): iterating over [1]\ngetInts(): iterating over [2]\nprimeExists(): iterating over [1]\nprimeExists(): iterating over [2]\n</code></pre>\n<p>Is it possible to get this behaviour without changing the <code>getInts()</code> method to return an intermediate <code>Stream</code>?</p>\n<p>I think that the ideal solution is to return a lazy collection from <code>getInts()</code> (e.g. a collection whose elements are created only when they are actually iterated). Is there a way to create such collections in Java?</p>\n"},{"tags":["java","bouncycastle","elliptic-curve"],"answers":[{"tags":[],"owner":{"account_id":1695756,"reputation":36,"user_id":1557165,"display_name":"Dmitrii Krasovskikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683198741,"creation_date":1683198741,"answer_id":76172538,"question_id":76172252,"body_markdown":"It will work if you normalize point in java:\r\n```\r\nval m = p.multiply(BigInteger(&quot;3&quot;)).normalize()\r\n```","title":"Bouncycastle migration from python fastecdsa library for Custom Fp Curve","body":"<p>It will work if you normalize point in java:</p>\n<pre><code>val m = p.multiply(BigInteger(&quot;3&quot;)).normalize()\n</code></pre>\n"}],"owner":{"account_id":1345666,"reputation":412,"user_id":1286484,"accept_rate":40,"display_name":"Stefano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76172538,"answer_count":1,"score":1,"last_activity_date":1683198741,"creation_date":1683196614,"question_id":76172252,"body_markdown":"Due to some security requirements, we need to implement a sign/verify for a custom EC Curve defined as: https://docs.starkware.co/starkex/crypto/stark-curve.html, the issue I am encountering is that the result of `Point` multiplication does not equal the existing python implementation - which as can be imagined, breaks all other functionality. \r\n\r\n``` kotlin\r\nimport org.bouncycastle.math.ec.ECCurve\r\nimport org.junit.jupiter.api.Test\r\nimport java.math.BigInteger\r\n\r\ninternal class StarkEcTest {\r\n    @Test\r\n    fun testIt() {\r\n        val curve: ECCurve = ECCurve.Fp(\r\n            BigInteger(&quot;3618502788666131213697322783095070105623107215331596699973092056135872020481&quot;),\r\n            BigInteger.ONE,\r\n            BigInteger(&quot;3141592653589793238462643383279502884197169399375105820974944592307816406665&quot;),\r\n            BigInteger(&quot;3618502788666131213697322783095070105526743751716087489154079457884512865583&quot;),\r\n            BigInteger.ONE\r\n        )\r\n        val p = curve.createPoint(\r\n            BigInteger(&quot;2251563274489750535117886426533222435294046428347329203627021249169616184184&quot;),\r\n            BigInteger(&quot;1798716007562728905295480679789526322175868328062420237419143593021674992973&quot;)\r\n        )\r\n        val m = p.multiply(BigInteger(&quot;3&quot;))\r\n        println(m.xCoord.toBigInteger())\r\n        println(m.yCoord.toBigInteger())\r\n    }\r\n}\r\n```\r\npython\r\n```python\r\nfrom fastecdsa.curve import Curve\r\nfrom fastecdsa.point import Point\r\n\r\n\r\ncurve = Curve(\r\n    &#39;Curve0&#39;,\r\n    3618502788666131213697322783095070105623107215331596699973092056135872020481,\r\n    1,\r\n    3141592653589793238462643383279502884197169399375105820974944592307816406665,\r\n    3618502788666131213697322783095070105526743751716087489154079457884512865583,\r\n    None, None)\r\n\r\nP_1 = Point(2251563274489750535117886426533222435294046428347329203627021249169616184184,\r\n            1798716007562728905295480679789526322175868328062420237419143593021674992973, curve=curve)\r\nM = P_1 * 3\r\nprint(M.x)\r\nprint(M.y)\r\n```\r\n\r\nbouncycastle output:\r\n```\r\n2795384649576597138876330049383140213054452425478601942220916936105483260349\r\n2237299821780817033836570741512068317061212432514505879654119963526983263668\r\n```\r\n\r\npython output:\r\n```\r\n2692261938318494776777664756074555416313431118463720872468237610494977391696\r\n3211431005308242515933993754747870488911784503098259550627317667807118007131\r\n```\r\n\r\nCan anyone spot somewhere I&#39;ve gone wrong? \r\n","title":"Bouncycastle migration from python fastecdsa library for Custom Fp Curve","body":"<p>Due to some security requirements, we need to implement a sign/verify for a custom EC Curve defined as: <a href=\"https://docs.starkware.co/starkex/crypto/stark-curve.html\" rel=\"nofollow noreferrer\">https://docs.starkware.co/starkex/crypto/stark-curve.html</a>, the issue I am encountering is that the result of <code>Point</code> multiplication does not equal the existing python implementation - which as can be imagined, breaks all other functionality.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.bouncycastle.math.ec.ECCurve\nimport org.junit.jupiter.api.Test\nimport java.math.BigInteger\n\ninternal class StarkEcTest {\n    @Test\n    fun testIt() {\n        val curve: ECCurve = ECCurve.Fp(\n            BigInteger(&quot;3618502788666131213697322783095070105623107215331596699973092056135872020481&quot;),\n            BigInteger.ONE,\n            BigInteger(&quot;3141592653589793238462643383279502884197169399375105820974944592307816406665&quot;),\n            BigInteger(&quot;3618502788666131213697322783095070105526743751716087489154079457884512865583&quot;),\n            BigInteger.ONE\n        )\n        val p = curve.createPoint(\n            BigInteger(&quot;2251563274489750535117886426533222435294046428347329203627021249169616184184&quot;),\n            BigInteger(&quot;1798716007562728905295480679789526322175868328062420237419143593021674992973&quot;)\n        )\n        val m = p.multiply(BigInteger(&quot;3&quot;))\n        println(m.xCoord.toBigInteger())\n        println(m.yCoord.toBigInteger())\n    }\n}\n</code></pre>\n<p>python</p>\n<pre class=\"lang-py prettyprint-override\"><code>from fastecdsa.curve import Curve\nfrom fastecdsa.point import Point\n\n\ncurve = Curve(\n    'Curve0',\n    3618502788666131213697322783095070105623107215331596699973092056135872020481,\n    1,\n    3141592653589793238462643383279502884197169399375105820974944592307816406665,\n    3618502788666131213697322783095070105526743751716087489154079457884512865583,\n    None, None)\n\nP_1 = Point(2251563274489750535117886426533222435294046428347329203627021249169616184184,\n            1798716007562728905295480679789526322175868328062420237419143593021674992973, curve=curve)\nM = P_1 * 3\nprint(M.x)\nprint(M.y)\n</code></pre>\n<p>bouncycastle output:</p>\n<pre><code>2795384649576597138876330049383140213054452425478601942220916936105483260349\n2237299821780817033836570741512068317061212432514505879654119963526983263668\n</code></pre>\n<p>python output:</p>\n<pre><code>2692261938318494776777664756074555416313431118463720872468237610494977391696\n3211431005308242515933993754747870488911784503098259550627317667807118007131\n</code></pre>\n<p>Can anyone spot somewhere I've gone wrong?</p>\n"},{"tags":["java","android"],"owner":{"account_id":12181558,"reputation":1,"user_id":8892833,"display_name":"Abdul Ahad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683198539,"creation_date":1683194603,"question_id":76171951,"body_markdown":"I want to perform my own app functionality when user click on this red highlighted suggestion. How can I capture its event or callback ?\r\n[Image of what I mean](https://i.stack.imgur.com/YQacd.jpg)\r\n\r\nI tried autofill callback and editor listener but that is not working.","title":"How to capture android autofill or clipboard suggestion click event?","body":"<p>I want to perform my own app functionality when user click on this red highlighted suggestion. How can I capture its event or callback ?\n<a href=\"https://i.stack.imgur.com/YQacd.jpg\" rel=\"nofollow noreferrer\">Image of what I mean</a></p>\n<p>I tried autofill callback and editor listener but that is not working.</p>\n"},{"tags":["java","java-17","file-attributes"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683195476,"post_id":76171622,"comment_id":134330644,"body_markdown":"If my source (https://wiki.linuxquestions.org/wiki/Extended_attributes, https://man7.org/linux/man-pages/man7/xattr.7.html) are trustworthy extended attributes should always be prefixed with a namespace and the namespace for user-attributes is &quot;user.&quot;. That would mean that Java is correct in filtering out other namespaces.","body":"If my source (<a href=\"https://wiki.linuxquestions.org/wiki/Extended_attributes\" rel=\"nofollow noreferrer\">wiki.linuxquestions.org/wiki/Extended_attributes</a>, <a href=\"https://man7.org/linux/man-pages/man7/xattr.7.html\" rel=\"nofollow noreferrer\">man7.org/linux/man-pages/man7/xattr.7.html</a>) are trustworthy extended attributes should always be prefixed with a namespace and the namespace for user-attributes is &quot;user.&quot;. That would mean that Java is correct in filtering out other namespaces."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1683196039,"post_id":76171622,"comment_id":134330769,"body_markdown":"If you use set via Java it prefixes your chosen name with &quot;user.&quot;. Also its not the same on Windows which doesn&#39;t add or check for prefix.","body":"If you use set via Java it prefixes your chosen name with &quot;user.&quot;. Also its not the same on Windows which doesn&#39;t add or check for prefix."},{"owner":{"account_id":454778,"reputation":532,"user_id":852569,"accept_rate":64,"display_name":"Fabrizio Giudici"},"score":0,"creation_date":1683201359,"post_id":76171622,"comment_id":134331972,"body_markdown":"We&#39;re discussing a different topic, that is whether Java is correct in enforcing the pattern. The Linux document says that there many namespaces, not only &#39;user&#39;: we could say that the UserDefinedFileAttributeView restriction is correct, but at this point the API is lacking the capability of managing other namespaces. Anyway, what I needed was a confirmation and it seems I got it.","body":"We&#39;re discussing a different topic, that is whether Java is correct in enforcing the pattern. The Linux document says that there many namespaces, not only &#39;user&#39;: we could say that the UserDefinedFileAttributeView restriction is correct, but at this point the API is lacking the capability of managing other namespaces. Anyway, what I needed was a confirmation and it seems I got it."}],"owner":{"account_id":454778,"reputation":532,"user_id":852569,"accept_rate":64,"display_name":"Fabrizio Giudici"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683198348,"creation_date":1683192451,"question_id":76171622,"body_markdown":"It seems that Java (Java 17 and 20) is not able to read extended file attributes not having the prefix `user` in their name. I&#39;ve done my research and test, but I&#39;d like to have a confirmation before proceeding with a B-plan for my application.\r\n\r\nMore in detail: what I need is to read and write my own extended attributes to files. This is done by means of the `UserDefinedFileAttributeView` view, e.g.:\r\n\r\n    final var view = Files.getFileAttributeView(file, UserDefinedFileAttributeView.class);\r\n    log.info(&quot;file: {} attributes {}&quot;, file, view.list());\r\n\r\nMy attributes are named `it.tidalwave.datamanager.id`, etc.; they have been handled so far by a Python application I wrote a few years ago (I&#39;m porting it to Java before further development).\r\n\r\nWhat it turns out is that Java internally retrieves the attributes, but filters away those whose names are not prefixed by `user` (this is obliquely mentioned in the code examples in the javadocs). A debugging screenshot of the involved JDK code proves this:\r\n\r\n[![debugging screenshot][1]][1]\r\n\r\nFurthermore, in the method that transforms the attribute name to the byte array expected by the native code, `user.` is explicitly prefixed.\r\n\r\nI&#39;m not aware of other ways to query extended attributes of files; other kinds of file attribute views are (such as `PosixFileAttributeView`) restricted to standard filesystem stuff. I&#39;ve also tested it on Java 20, it&#39;s unchanged, and I&#39;m not aware of new APIs in this context.\r\n\r\nI&#39;d like to have a confirmation.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kDV3S.png","title":"Accessing extended file attributes without the &#39;user&#39; prefix: impossibile?","body":"<p>It seems that Java (Java 17 and 20) is not able to read extended file attributes not having the prefix <code>user</code> in their name. I've done my research and test, but I'd like to have a confirmation before proceeding with a B-plan for my application.</p>\n<p>More in detail: what I need is to read and write my own extended attributes to files. This is done by means of the <code>UserDefinedFileAttributeView</code> view, e.g.:</p>\n<pre><code>final var view = Files.getFileAttributeView(file, UserDefinedFileAttributeView.class);\nlog.info(&quot;file: {} attributes {}&quot;, file, view.list());\n</code></pre>\n<p>My attributes are named <code>it.tidalwave.datamanager.id</code>, etc.; they have been handled so far by a Python application I wrote a few years ago (I'm porting it to Java before further development).</p>\n<p>What it turns out is that Java internally retrieves the attributes, but filters away those whose names are not prefixed by <code>user</code> (this is obliquely mentioned in the code examples in the javadocs). A debugging screenshot of the involved JDK code proves this:</p>\n<p><a href=\"https://i.stack.imgur.com/kDV3S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kDV3S.png\" alt=\"debugging screenshot\" /></a></p>\n<p>Furthermore, in the method that transforms the attribute name to the byte array expected by the native code, <code>user.</code> is explicitly prefixed.</p>\n<p>I'm not aware of other ways to query extended attributes of files; other kinds of file attribute views are (such as <code>PosixFileAttributeView</code>) restricted to standard filesystem stuff. I've also tested it on Java 20, it's unchanged, and I'm not aware of new APIs in this context.</p>\n<p>I'd like to have a confirmation.</p>\n"},{"tags":["java","grails"],"comments":[{"owner":{"account_id":380677,"reputation":3656,"user_id":734861,"accept_rate":58,"display_name":"kofhearts"},"score":0,"creation_date":1683267516,"post_id":76172469,"comment_id":134343458,"body_markdown":"this might help? https://stackoverflow.com/questions/11126340/using-value-of-enum-in-gselect-when-enum-is-attribute-of-selection-object","body":"this might help? <a href=\"https://stackoverflow.com/questions/11126340/using-value-of-enum-in-gselect-when-enum-is-attribute-of-selection-object\" title=\"using value of enum in gselect when enum is attribute of selection object\">stackoverflow.com/questions/11126340/&hellip;</a>"}],"owner":{"account_id":4523275,"reputation":1,"user_id":3675843,"display_name":"user3675843"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683198255,"creation_date":1683198170,"question_id":76172469,"body_markdown":"\r\nAfter checking https://stackoverflow.com/questions/12046624/enum-in-grails-domain and following the tutorial, I don&#39;t get the translated values for my enum.\r\n```\r\nstatic final enum ActivityType implements MessageSourceResolvable {\r\n        TRAINING,\r\n        COMPETITION\r\n\r\n        public Object[] getArguments() {\r\n            [] as Object[]\r\n        }\r\n\r\n        public String[] getCodes() {\r\n            [ name() ]\r\n        }\r\n\r\n        public String getDefaultMessage() {\r\n            &quot;activity.type.&quot; + name()\r\n        }\r\n}\r\n```\r\n\r\nand my select looks like\r\n\r\n```\r\n&lt;g:select\r\n    name=&quot;type&quot;\r\n    from=&quot;${ClassActivity.ActivityType.values()}&quot;\r\n    value=&quot;${classActivityInstance?.type}&quot;\r\n    class=&quot;chzn-select form-control&quot;\r\n    noSelection=&quot;${[&#39;&#39;: &#39;-&#39;]}&quot;\r\n/&gt;\r\n```\r\n\r\n\r\nwhile my `message.properties` contains\r\n```\r\nactivity.type.TRAINING = Training\r\nactivity.type.COMPETITION = Competition\r\n```\r\nI expect my dropdown to contain &quot;Training&quot; but instead I get `activity.type.TRAINING`. Have I missed something?\r\n","title":"Grails translated enum","body":"<p>After checking <a href=\"https://stackoverflow.com/questions/12046624/enum-in-grails-domain\">Enum in Grails Domain</a> and following the tutorial, I don't get the translated values for my enum.</p>\n<pre><code>static final enum ActivityType implements MessageSourceResolvable {\n        TRAINING,\n        COMPETITION\n\n        public Object[] getArguments() {\n            [] as Object[]\n        }\n\n        public String[] getCodes() {\n            [ name() ]\n        }\n\n        public String getDefaultMessage() {\n            &quot;activity.type.&quot; + name()\n        }\n}\n</code></pre>\n<p>and my select looks like</p>\n<pre><code>&lt;g:select\n    name=&quot;type&quot;\n    from=&quot;${ClassActivity.ActivityType.values()}&quot;\n    value=&quot;${classActivityInstance?.type}&quot;\n    class=&quot;chzn-select form-control&quot;\n    noSelection=&quot;${['': '-']}&quot;\n/&gt;\n</code></pre>\n<p>while my <code>message.properties</code> contains</p>\n<pre><code>activity.type.TRAINING = Training\nactivity.type.COMPETITION = Competition\n</code></pre>\n<p>I expect my dropdown to contain &quot;Training&quot; but instead I get <code>activity.type.TRAINING</code>. Have I missed something?</p>\n"},{"tags":["java","eclipse","file-io","resources","project-organization"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1421202219,"post_id":27934796,"comment_id":44267161,"body_markdown":"Show the code that produces the exception. You probably specify incorrect path.","body":"Show the code that produces the exception. You probably specify incorrect path."},{"owner":{"account_id":4758544,"reputation":1355,"user_id":3846627,"accept_rate":81,"display_name":"redeagle47"},"score":0,"creation_date":1421202724,"post_id":27934796,"comment_id":44267305,"body_markdown":"@PM77-1 that is the code I&#39;ve used for each different way of adding the res folder","body":"@PM77-1 that is the code I&#39;ve used for each different way of adding the res folder"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1421203066,"post_id":27934796,"comment_id":44267379,"body_markdown":"Please post your project directory structure and let us know your destination for  `.class` files.","body":"Please post your project directory structure and let us know your destination for  <code>.class</code> files."},{"owner":{"account_id":4758544,"reputation":1355,"user_id":3846627,"accept_rate":81,"display_name":"redeagle47"},"score":0,"creation_date":1421203554,"post_id":27934796,"comment_id":44267489,"body_markdown":"I have everything set up like this right now:\n\nworkspace/JFramePractice/src/main/res/islands.png\n\nmy .class files are here:\n\nworkspace/JFramePractice/bin/*.class","body":"I have everything set up like this right now:  workspace/JFramePractice/src/main/res/islands.png  my .class files are here:  workspace/JFramePractice/bin/*.class"},{"owner":{"account_id":1230564,"reputation":2043,"user_id":1195268,"accept_rate":50,"display_name":"vinsinraw"},"score":0,"creation_date":1577359049,"post_id":27934796,"comment_id":105150026,"body_markdown":"Right Click on your project &gt; New &gt; Source Folder","body":"Right Click on your project &gt; New &gt; Source Folder"}],"answers":[{"tags":[],"owner":{"account_id":4094294,"reputation":1140,"user_id":3361529,"accept_rate":69,"display_name":"Rami Del Toro"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1421205634,"creation_date":1421203148,"answer_id":27934990,"question_id":27934796,"body_markdown":"\r\nAfter adding a resource folder try this :\r\n\r\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n\tInputStream input = classLoader.getResourceAsStream(&quot;test.png&quot;);\r\n\r\n    try {\r\n        image = ImageIO.read(input);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>After adding a resource folder try this :</p>\n\n<pre><code>ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\nInputStream input = classLoader.getResourceAsStream(\"test.png\");\n\ntry {\n    image = ImageIO.read(input);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1033238,"reputation":7494,"user_id":1041122,"accept_rate":72,"display_name":"Julian F. Weinert"},"score":0,"creation_date":1421206115,"post_id":27935114,"comment_id":44267986,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient [reputation](http://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](http://stackoverflow.com/help/privileges/comment).","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post - you can always comment on your own posts, and once you have sufficient <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"http://stackoverflow.com/help/privileges/comment\">comment on any post</a>."},{"owner":{"account_id":5591403,"reputation":1798,"user_id":4430504,"display_name":"Lautaro Cozzani"},"score":3,"creation_date":1421207312,"post_id":27935114,"comment_id":44268269,"body_markdown":"I think this is a right answer, the author really doesnt know about how to add resources to a proyecto. He need to know how to open in from the code.","body":"I think this is a right answer, the author really doesnt know about how to add resources to a proyecto. He need to know how to open in from the code."},{"owner":{"account_id":1033238,"reputation":7494,"user_id":1041122,"accept_rate":72,"display_name":"Julian F. Weinert"},"score":0,"creation_date":1421207499,"post_id":27935114,"comment_id":44268307,"body_markdown":"You should add more informations. Please explain what the OP did wrong and why (especially *how*) your code fixes the problem.","body":"You should add more informations. Please explain what the OP did wrong and why (especially <i>how</i>) your code fixes the problem."},{"owner":{"account_id":5591403,"reputation":1798,"user_id":4430504,"display_name":"Lautaro Cozzani"},"score":1,"creation_date":1421207812,"post_id":27935114,"comment_id":44268386,"body_markdown":"Ok, in the original example, readagle try to open the file with File class, then you have to provide a path starting from the executable is running, whether or not a resource.\nIf you open a resource with getResourceAsStream(), it will be open from project resources folder.","body":"Ok, in the original example, readagle try to open the file with File class, then you have to provide a path starting from the executable is running, whether or not a resource. If you open a resource with getResourceAsStream(), it will be open from project resources folder."},{"owner":{"account_id":1033238,"reputation":7494,"user_id":1041122,"accept_rate":72,"display_name":"Julian F. Weinert"},"score":2,"creation_date":1421207995,"post_id":27935114,"comment_id":44268437,"body_markdown":"Great information, now go ahead, edit your post and put the info there ;-)","body":"Great information, now go ahead, edit your post and put the info there ;-)"},{"owner":{"account_id":4758544,"reputation":1355,"user_id":3846627,"accept_rate":81,"display_name":"redeagle47"},"score":0,"creation_date":1421209552,"post_id":27935114,"comment_id":44268777,"body_markdown":"but this isn&#39;t what my question is about. I&#39;m trying to figure out how to add resources folders to Eclipse projects, and that means any project, not just this one. I just used this as an example because it happened to be what I was working on at the time.","body":"but this isn&#39;t what my question is about. I&#39;m trying to figure out how to add resources folders to Eclipse projects, and that means any project, not just this one. I just used this as an example because it happened to be what I was working on at the time."},{"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"score":0,"creation_date":1450866550,"post_id":27935114,"comment_id":56607920,"body_markdown":"getClass().getResource(&quot;/file.txt&quot;) has worked for me","body":"getClass().getResource(&quot;/file.txt&quot;) has worked for me"},{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1485143846,"post_id":27935114,"comment_id":70786390,"body_markdown":"what does build path mean? i downvoted because i have no idea where that is - can you be more specific?","body":"what does build path mean? i downvoted because i have no idea where that is - can you be more specific?"},{"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"score":0,"creation_date":1516025716,"post_id":27935114,"comment_id":83512322,"body_markdown":"Why does /myfile.txt work and not /resources/myfile.txt ?","body":"Why does /myfile.txt work and not /resources/myfile.txt ?"},{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1559298247,"post_id":27935114,"comment_id":99385165,"body_markdown":"It is about how to create a file named resource, not how to mark a file as a resource one.","body":"It is about how to create a file named resource, not how to mark a file as a resource one."}],"tags":[],"owner":{"account_id":5591403,"reputation":1798,"user_id":4430504,"display_name":"Lautaro Cozzani"},"comment_count":10,"down_vote_count":2,"up_vote_count":82,"is_accepted":false,"score":80,"last_activity_date":1540414658,"creation_date":1421203941,"answer_id":27935114,"question_id":27934796,"body_markdown":"When at the &quot;Add resource folder&quot;, \r\nBuild Path -&gt; Configure Build Path -&gt; Source (Tab) -&gt; Add Folder -&gt; Create new Folder\r\n![enter image description here][1]\r\n\r\nadd &quot;my-resource.txt&quot; file inside the new folder.\r\nThen in your code:\r\n\r\n        InputStream res =\r\n        Main.class.getResourceAsStream(&quot;/my-resource.txt&quot;);\r\n\r\n        BufferedReader reader =\r\n            new BufferedReader(new InputStreamReader(res));\r\n        String line = null;\r\n        while ((line = reader.readLine()) != null) {\r\n            System.out.println(line);\r\n        }\r\n        reader.close();\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/faKmp.png","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>When at the \"Add resource folder\", \nBuild Path -> Configure Build Path -> Source (Tab) -> Add Folder -> Create new Folder\n<img src=\"https://i.stack.imgur.com/faKmp.png\" alt=\"enter image description here\"></p>\n\n<p>add \"my-resource.txt\" file inside the new folder.\nThen in your code:</p>\n\n<pre><code>    InputStream res =\n    Main.class.getResourceAsStream(\"/my-resource.txt\");\n\n    BufferedReader reader =\n        new BufferedReader(new InputStreamReader(res));\n    String line = null;\n    while ((line = reader.readLine()) != null) {\n        System.out.println(line);\n    }\n    reader.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"score":0,"creation_date":1421208785,"post_id":27935566,"comment_id":44268601,"body_markdown":"Initialise your class at the end","body":"Initialise your class at the end"},{"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"score":0,"creation_date":1421208806,"post_id":27935566,"comment_id":44268606,"body_markdown":"new PracticeFrame().add(panel);","body":"new PracticeFrame().add(panel);"}],"tags":[],"owner":{"account_id":4560023,"reputation":941,"user_id":3702644,"accept_rate":40,"display_name":"jones j alapat"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1421209298,"creation_date":1421207293,"answer_id":27935566,"question_id":27934796,"body_markdown":"Try To Give Full path for reading image.\r\n\r\nExample\r\n image = ImageIO.read(new File(&quot;D:/work1/Jan14Stackoverflow/src/Strawberry.jpg&quot;));\r\n\r\nyour code is not producing any exception after giving the full path.\r\nIf you want to just read an image file in java code.\r\nRefer the following - http://docs.oracle.com/javase/tutorial/2d/images/examples/LoadImageApp.java\r\n\r\nIf the object of your class is created at end your code works fine for me and displays the image\r\n   \r\n    // PracticeFrame pframe = new PracticeFrame();//comment this\r\n\r\n    new PracticeFrame().add(panel);","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>Try To Give Full path for reading image.</p>\n\n<p>Example\n image = ImageIO.read(new File(\"D:/work1/Jan14Stackoverflow/src/Strawberry.jpg\"));</p>\n\n<p>your code is not producing any exception after giving the full path.\nIf you want to just read an image file in java code.\nRefer the following - <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/examples/LoadImageApp.java\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/2d/images/examples/LoadImageApp.java</a></p>\n\n<p>If the object of your class is created at end your code works fine for me and displays the image</p>\n\n<pre><code>// PracticeFrame pframe = new PracticeFrame();//comment this\n\nnew PracticeFrame().add(panel);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":11,"creation_date":1559298101,"post_id":46950488,"comment_id":99385072,"body_markdown":"...And it is set as a SOURCE folder, not a RESOURCE one. That is not an answer to the question.","body":"...And it is set as a SOURCE folder, not a RESOURCE one. That is not an answer to the question."}],"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"comment_count":1,"down_vote_count":4,"up_vote_count":20,"is_accepted":false,"score":16,"last_activity_date":1509009779,"creation_date":1509009779,"answer_id":46950488,"question_id":27934796,"body_markdown":"**To answer your question posted in the title of this topic...**  \r\n  \r\nStep 1--&gt; Right Click on Java Project, Select the option &quot;Properties&quot;\r\n[![Step 1--&gt; Right Click on Java Project, Select the option &quot;Properties&quot;][1]][1]  \r\n\r\nStep 2--&gt; Select &quot;Java Build Path&quot; from the left side menu, make sure you are on &quot;Source&quot; tab, click &quot;Add Folder&quot;\r\n[![Select &quot;Java Build Path&quot; from the left side menu, make sure you are on &quot;Source&quot; tab, click &quot;Add Folder&quot;][2]][2]\r\n  \r\nStep 3--&gt; Click the option &quot;Create New Folder...&quot; available at the bottom of the window\r\n[![Click the option &quot;Create New Folder...&quot; available at the bottom of the window][3]][3]  \r\n\r\n\r\nStep 4--&gt; Enter the name of the new folder as &quot;resources&quot; and then click &quot;Finish&quot;\r\n[![Enter the name of the new folder as &quot;resources&quot; and then click &quot;Finish&quot;][4]][4]\r\n\r\nStep 5--&gt; Now you&#39;ll be able to see the newly created folder &quot;resources&quot; under your java project, Click &quot;Ok&quot;, again Click &quot;Ok&quot;  \r\n[![Now you&#39;ll be able to see the newly created folder &quot;resources&quot; under your java project, Click &quot;Ok&quot;, again Click &quot;Ok&quot;][5]][5]\r\n\r\nFinal Step --&gt; Now you should be able to see the new folder &quot;resources&quot; under your java project  \r\n[![Now you should be able to see the new folder &quot;resources&quot; under your java project][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0H6Bh.png\r\n  [2]: https://i.stack.imgur.com/fsxiT.png\r\n  [3]: https://i.stack.imgur.com/1Hmgc.png\r\n  [4]: https://i.stack.imgur.com/v5KxL.png\r\n  [5]: https://i.stack.imgur.com/GORks.png\r\n  [6]: https://i.stack.imgur.com/h8Hir.png","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p><strong>To answer your question posted in the title of this topic...</strong>  </p>\n\n<p>Step 1--> Right Click on Java Project, Select the option \"Properties\"\n<a href=\"https://i.stack.imgur.com/0H6Bh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0H6Bh.png\" alt=\"Step 1--&gt; Right Click on Java Project, Select the option &quot;Properties&quot;\"></a>  </p>\n\n<p>Step 2--> Select \"Java Build Path\" from the left side menu, make sure you are on \"Source\" tab, click \"Add Folder\"\n<a href=\"https://i.stack.imgur.com/fsxiT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fsxiT.png\" alt=\"Select &quot;Java Build Path&quot; from the left side menu, make sure you are on &quot;Source&quot; tab, click &quot;Add Folder&quot;\"></a></p>\n\n<p>Step 3--> Click the option \"Create New Folder...\" available at the bottom of the window\n<a href=\"https://i.stack.imgur.com/1Hmgc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1Hmgc.png\" alt=\"Click the option &quot;Create New Folder...&quot; available at the bottom of the window\"></a>  </p>\n\n<p>Step 4--> Enter the name of the new folder as \"resources\" and then click \"Finish\"\n<a href=\"https://i.stack.imgur.com/v5KxL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v5KxL.png\" alt=\"Enter the name of the new folder as &quot;resources&quot; and then click &quot;Finish&quot;\"></a></p>\n\n<p>Step 5--> Now you'll be able to see the newly created folder \"resources\" under your java project, Click \"Ok\", again Click \"Ok\"<br>\n<a href=\"https://i.stack.imgur.com/GORks.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GORks.png\" alt=\"Now you&#39;ll be able to see the newly created folder &quot;resources&quot; under your java project, Click &quot;Ok&quot;, again Click &quot;Ok&quot;\"></a></p>\n\n<p>Final Step --> Now you should be able to see the new folder \"resources\" under your java project<br>\n<a href=\"https://i.stack.imgur.com/h8Hir.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/h8Hir.png\" alt=\"Now you should be able to see the new folder &quot;resources&quot; under your java project\"></a></p>\n"},{"comments":[{"owner":{"account_id":7725061,"reputation":419,"user_id":5849965,"accept_rate":100,"display_name":"FriskySaga"},"score":2,"creation_date":1584327529,"post_id":58919847,"comment_id":107394320,"body_markdown":"This answer worked for me! None of the answers above worked! None of the answers in any other thread worked either!","body":"This answer worked for me! None of the answers above worked! None of the answers in any other thread worked either!"}],"tags":[],"owner":{"account_id":11974135,"reputation":331,"user_id":8761799,"display_name":"BHA Bilel"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1574097426,"creation_date":1574097426,"answer_id":58919847,"question_id":27934796,"body_markdown":"Build Path -&gt; Configure Build Path -&gt; Libraries (Tab) -&gt; Add Class Folder, then select your folder or create one.","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>Build Path -> Configure Build Path -> Libraries (Tab) -> Add Class Folder, then select your folder or create one.</p>\n"},{"tags":[],"owner":{"account_id":1230564,"reputation":2043,"user_id":1195268,"accept_rate":50,"display_name":"vinsinraw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577359403,"creation_date":1577359403,"answer_id":59487733,"question_id":27934796,"body_markdown":"If aim is to create a **resources** folder parallel to **src/main/java**, then do the following: \r\n\r\n    Right Click on your project &gt; New &gt; Source Folder\r\n    Provide Folder Name as src/main/resources\r\n    Finish\r\n\r\n","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>If aim is to create a <strong>resources</strong> folder parallel to <strong>src/main/java</strong>, then do the following: </p>\n\n<pre><code>Right Click on your project &gt; New &gt; Source Folder\nProvide Folder Name as src/main/resources\nFinish\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12400562,"reputation":1175,"user_id":9038027,"display_name":"Mandeep Singh Gill"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1683197636,"creation_date":1577956912,"answer_id":59560894,"question_id":27934796,"body_markdown":"Right click on project &gt; Click on properties &gt; Java Build Path &gt; Source &gt; Add Folder ","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>Right click on project &gt; Click on properties &gt; Java Build Path &gt; Source &gt; Add Folder</p>\n"},{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581418624,"creation_date":1581418624,"answer_id":60167311,"question_id":27934796,"body_markdown":"If you have multiple sub-projects then you need to add the resources folder to each project&#39;s run configuration class path like so:\r\n\r\n[![class path][1]][1]\r\n\r\nEnsure the new path is top of the entries and then the runtime will check that path first for any resources (before checking sub-paths)\r\n\r\n  [1]: https://i.stack.imgur.com/ZHdHg.jpg","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>If you have multiple sub-projects then you need to add the resources folder to each project's run configuration class path like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZHdHg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZHdHg.jpg\" alt=\"class path\"></a></p>\n\n<p>Ensure the new path is top of the entries and then the runtime will check that path first for any resources (before checking sub-paths)</p>\n"}],"owner":{"account_id":4758544,"reputation":1355,"user_id":3846627,"accept_rate":81,"display_name":"redeagle47"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198506,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":8,"score":57,"last_activity_date":1683197636,"creation_date":1421201615,"question_id":27934796,"body_markdown":"I want to have a place to store my image files to use in my Java project (a really simple class that just loads an image onto a panel). I have looked everywhere and cannot find how to do this. How do I do this?\r\n\r\nI have tried adding a new folder to the project, adding a new class folder to the project, and adding a new source folder to the project. No matter what I do, I always get a `IOException`. The folders always say they are on the build path, so I&#39;m not sure what to do.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class PracticeFrame extends JFrame{\r\n\t\r\n\tprivate static BufferedImage image;\r\n\tThread thread;\r\n\t\r\n\tpublic PracticeFrame() {\r\n\t\tsuper();\r\n\t\tsetPreferredSize(new Dimension(640,480));\r\n\t\tsetResizable(false);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main (String[] args) {\r\n\t\tPracticeFrame pframe = new PracticeFrame();\r\n\t\ttry {\r\n\t\t\timage = ImageIO.read(new File(&quot;/islands.png&quot;));\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tJPanel panel = new JPanel() {\r\n\t\t\t@Override\r\n\t\t\tprotected void  paintComponent(Graphics g) {\r\n\t\t\t\tsuper.paintComponent(g);\r\n\t\t\t\tg.drawImage(image,0,0,null);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tpanel.setBackground(Color.BLUE);\r\n\t\tpanel.repaint();\r\n\t\tpframe.add(panel);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n    }\r\n\r\nEDIT: Something that worked for me, and I have no idea why, was adding the `main/res/` folder as a class folder and then removing it.  I ran it while the `/main/res/` was part of the build path as a class folder and it still didn&#39;t work. When i added it, i got a popup that told me something about excluded filters. But when i removed the folder from the libraries in the build path, and changed my file path to:\r\n\r\n    image = ImageIO.read(new File(&quot;src/main/res/islands.png&quot;));\r\n\r\nI at least stopped getting the `IOException` thrown. I must not be adding the image to the panel correctly, because it&#39;s not showing up, but at least it found the file (I think).","title":"How do I add a resources folder to my Java project in Eclipse","body":"<p>I want to have a place to store my image files to use in my Java project (a really simple class that just loads an image onto a panel). I have looked everywhere and cannot find how to do this. How do I do this?</p>\n\n<p>I have tried adding a new folder to the project, adding a new class folder to the project, and adding a new source folder to the project. No matter what I do, I always get a <code>IOException</code>. The folders always say they are on the build path, so I'm not sure what to do.</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class PracticeFrame extends JFrame{\n\nprivate static BufferedImage image;\nThread thread;\n\npublic PracticeFrame() {\n    super();\n    setPreferredSize(new Dimension(640,480));\n    setResizable(false);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    pack();\n    setVisible(true);\n}\n\npublic static void main (String[] args) {\n    PracticeFrame pframe = new PracticeFrame();\n    try {\n        image = ImageIO.read(new File(\"/islands.png\"));\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    JPanel panel = new JPanel() {\n        @Override\n        protected void  paintComponent(Graphics g) {\n            super.paintComponent(g);\n            g.drawImage(image,0,0,null);\n        }\n    };\n\n    panel.setBackground(Color.BLUE);\n    panel.repaint();\n    pframe.add(panel);\n\n\n}\n\n\n}\n</code></pre>\n\n<p>EDIT: Something that worked for me, and I have no idea why, was adding the <code>main/res/</code> folder as a class folder and then removing it.  I ran it while the <code>/main/res/</code> was part of the build path as a class folder and it still didn't work. When i added it, i got a popup that told me something about excluded filters. But when i removed the folder from the libraries in the build path, and changed my file path to:</p>\n\n<pre><code>image = ImageIO.read(new File(\"src/main/res/islands.png\"));\n</code></pre>\n\n<p>I at least stopped getting the <code>IOException</code> thrown. I must not be adding the image to the panel correctly, because it's not showing up, but at least it found the file (I think).</p>\n"},{"tags":["java","spring","kotlin","transactions"],"comments":[{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1680965305,"post_id":75948318,"comment_id":133984888,"body_markdown":"Read that article, https://reflectoring.io/spring-transactions-and-exceptions/ . Are you interested in &quot;noRollbackFor &quot; instead of &quot;rollbackFor&quot; ? ( You want to prevent rollback , but use &quot;rollbackFor&quot; (that annotation doing opposite thing) , is that ok?)","body":"Read that article, <a href=\"https://reflectoring.io/spring-transactions-and-exceptions/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-transactions-and-exceptions</a> . Are you interested in &quot;noRollbackFor &quot; instead of &quot;rollbackFor&quot; ? ( You want to prevent rollback , but use &quot;rollbackFor&quot; (that annotation doing opposite thing) , is that ok?)"},{"owner":{"account_id":1007093,"reputation":959,"user_id":1020541,"accept_rate":40,"display_name":"Kotodid"},"score":0,"creation_date":1681051955,"post_id":75948318,"comment_id":133993619,"body_markdown":"Good article, but it confirms my misunderstanding.\nIn my example I want to fully rollback **add_agent** (it contains multiple inserts) at any exception, so I add `rollbackFor = [Throwable::class]`.\nBut I want to suppress this exception and commit some other information in add_payment.\n\nIf I add noRollbackFor, this may cause partially commit of **add_agent** and it breaks transactionality meaning.","body":"Good article, but it confirms my misunderstanding. In my example I want to fully rollback <b>add_agent</b> (it contains multiple inserts) at any exception, so I add <code>rollbackFor = [Throwable::class]</code>. But I want to suppress this exception and commit some other information in add_payment.  If I add noRollbackFor, this may cause partially commit of <b>add_agent</b> and it breaks transactionality meaning."},{"owner":{"account_id":16101320,"reputation":121,"user_id":11622006,"display_name":"Slongtong"},"score":0,"creation_date":1681069646,"post_id":75948318,"comment_id":133995848,"body_markdown":"I&#39;ll upvote your question (dont know the solution, but interested in it)","body":"I&#39;ll upvote your question (dont know the solution, but interested in it)"}],"answers":[{"tags":[],"owner":{"account_id":1007093,"reputation":959,"user_id":1020541,"accept_rate":40,"display_name":"Kotodid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683196748,"creation_date":1683196748,"answer_id":76172267,"question_id":75948318,"body_markdown":"Seems I find the solution: `isGlobalRollbackOnParticipationFailure = false`\r\n\r\nDisabling this global parameter makes transaction behaviour as I expect.\r\nAccoing to it&#39;s documentation disabling it is not very recommended, but why not, if it works?\r\nI don&#39;t find a lot information about best practices, so I&#39;ll give this solution a try:\r\n\r\n```\r\n@SpringBootApplication\r\nclass MyCustomApplication(\r\n    private val applicationContext: ApplicationContext,\r\n) {\r\n    init {\r\n        val trm = applicationContext.getBean(&quot;transactionManager&quot;, AbstractPlatformTransactionManager::class.java)\r\n        trm.isGlobalRollbackOnParticipationFailure = false\r\n    }\r\n}\r\n```\r\n\r\nMaybe anyone find this helpful or anyone tell me why it is wrong.","title":"Why, Spring Transactional, why? (UnexpectedRollbackException)","body":"<p>Seems I find the solution: <code>isGlobalRollbackOnParticipationFailure = false</code></p>\n<p>Disabling this global parameter makes transaction behaviour as I expect.\nAccoing to it's documentation disabling it is not very recommended, but why not, if it works?\nI don't find a lot information about best practices, so I'll give this solution a try:</p>\n<pre><code>@SpringBootApplication\nclass MyCustomApplication(\n    private val applicationContext: ApplicationContext,\n) {\n    init {\n        val trm = applicationContext.getBean(&quot;transactionManager&quot;, AbstractPlatformTransactionManager::class.java)\n        trm.isGlobalRollbackOnParticipationFailure = false\n    }\n}\n</code></pre>\n<p>Maybe anyone find this helpful or anyone tell me why it is wrong.</p>\n"}],"owner":{"account_id":1007093,"reputation":959,"user_id":1020541,"accept_rate":40,"display_name":"Kotodid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683196748,"creation_date":1680775682,"question_id":75948318,"body_markdown":"\\\r\nI really struggle with spring Transactional and need your help.\\\r\nI used to be Oracle Developer so I have some understanding and habits with transaction processing.\r\n\r\nMy Spring application written on kotlin and use PostgreSQL database, but I think it does not matter at all.\\\r\nAnd spring Transactional annotation does not lay on them.\r\n\r\nCould you please explain how to realize this scenario and not fail with **UnexpectedRollbackException**.\\\r\nI try to explain my question with pseudo code based on pl/sql\r\n\r\n```\r\n-- DocumentService\r\nbegin\r\n  begin\r\n    savepoint sav_agent;\r\n    l_agent:= add_agent(); -- method in AgentService\r\n  exception when others then\r\n    rollback to savepoint sav_agent;\r\n    l_agent := DEFAULT_AGENT;\r\n  end;\r\n  \r\n  add_payment(l_agent); -- method in PaymentService\r\nend;\r\n```\r\n\r\na) I want to add agent, if possible and always add payment.\\\r\nb) But if add payment fails, I do not want to add agent.\r\n\r\nLogically, I add Transactional on each of two methods. Common method in `DocumentService` is Transactional too.\\\r\nEach methods in `AgentService` and `PaymentService` do some checks and can throw any exception.\\\r\nSo I use `rollbackFor = [Throwable::class]` for any Transactional. \r\n\r\nBut if add_agent fails and add_payment - does not, I catch UnexpectedRollbackException.\\\r\nI understand this exception and what it means, but I don&#39;t understand why anyone can need such behaviour...\\\r\nIf I add `propagation = Propagation.REQUIRES_NEW` on `AgentService` - there is no UnexpectedRollbackException, but AgentService commits anyway, so my &quot;b&quot; is not realized.\r\nSecond problem is `REQUIRES_NEW`-Transactional uses one more connection from my pool.\r\nThird problem of `REQUIRES_NEW` - if I do some insert before add_agent - I cannot use it before add_agent, because it is another transaction and even connect.\r\n\r\nI found this article https://dzone.com/articles/transaction-savepoints-in-spring-jdbc about savepoints.\\\r\nBut `JdbcTemplate` and `TransactionTemplate` not work when I using Transactional.\\\r\nSo I can realize fully manual transaction processing, but I want somethig more basic and convinient.\r\n\r\nThird solution  `@Transactional(propagation = Propagation.NESTED)` fails with\r\n`org.springframework.transaction.NestedTransactionNotSupportedException: JpaDialect does not support savepoints - check your JPA provider&#39;s capabilities`\r\nin Hybernate.\r\n\r\nI read spring docs and a lot of articles and Stackoverflow answers,but I really don&#39;t have understanding.\\\r\nPlease help me understand and solve my problem (I think this is not problem but basic functionality and I miss something extremly simple...)\r\n","title":"Why, Spring Transactional, why? (UnexpectedRollbackException)","body":"<p><br />\nI really struggle with spring Transactional and need your help.<br />\nI used to be Oracle Developer so I have some understanding and habits with transaction processing.</p>\n<p>My Spring application written on kotlin and use PostgreSQL database, but I think it does not matter at all.<br />\nAnd spring Transactional annotation does not lay on them.</p>\n<p>Could you please explain how to realize this scenario and not fail with <strong>UnexpectedRollbackException</strong>.<br />\nI try to explain my question with pseudo code based on pl/sql</p>\n<pre><code>-- DocumentService\nbegin\n  begin\n    savepoint sav_agent;\n    l_agent:= add_agent(); -- method in AgentService\n  exception when others then\n    rollback to savepoint sav_agent;\n    l_agent := DEFAULT_AGENT;\n  end;\n  \n  add_payment(l_agent); -- method in PaymentService\nend;\n</code></pre>\n<p>a) I want to add agent, if possible and always add payment.<br />\nb) But if add payment fails, I do not want to add agent.</p>\n<p>Logically, I add Transactional on each of two methods. Common method in <code>DocumentService</code> is Transactional too.<br />\nEach methods in <code>AgentService</code> and <code>PaymentService</code> do some checks and can throw any exception.<br />\nSo I use <code>rollbackFor = [Throwable::class]</code> for any Transactional.</p>\n<p>But if add_agent fails and add_payment - does not, I catch UnexpectedRollbackException.<br />\nI understand this exception and what it means, but I don't understand why anyone can need such behaviour...<br />\nIf I add <code>propagation = Propagation.REQUIRES_NEW</code> on <code>AgentService</code> - there is no UnexpectedRollbackException, but AgentService commits anyway, so my &quot;b&quot; is not realized.\nSecond problem is <code>REQUIRES_NEW</code>-Transactional uses one more connection from my pool.\nThird problem of <code>REQUIRES_NEW</code> - if I do some insert before add_agent - I cannot use it before add_agent, because it is another transaction and even connect.</p>\n<p>I found this article <a href=\"https://dzone.com/articles/transaction-savepoints-in-spring-jdbc\" rel=\"nofollow noreferrer\">https://dzone.com/articles/transaction-savepoints-in-spring-jdbc</a> about savepoints.<br />\nBut <code>JdbcTemplate</code> and <code>TransactionTemplate</code> not work when I using Transactional.<br />\nSo I can realize fully manual transaction processing, but I want somethig more basic and convinient.</p>\n<p>Third solution  <code>@Transactional(propagation = Propagation.NESTED)</code> fails with\n<code>org.springframework.transaction.NestedTransactionNotSupportedException: JpaDialect does not support savepoints - check your JPA provider's capabilities</code>\nin Hybernate.</p>\n<p>I read spring docs and a lot of articles and Stackoverflow answers,but I really don't have understanding.<br />\nPlease help me understand and solve my problem (I think this is not problem but basic functionality and I miss something extremly simple...)</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7211520,"reputation":77,"user_id":5505435,"accept_rate":20,"display_name":"onepunchman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683196666,"creation_date":1642451741,"answer_id":70747222,"question_id":70747097,"body_markdown":"I put @Column(name = &quot;  &quot;) on my Student.java class on all my values and that way the columns were read through data.sql file.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Column not found; SQL statement [SPRINGBOOT]","body":"<p>I put @Column(name = &quot;  &quot;) on my Student.java class on all my values and that way the columns were read through data.sql file.</p>\n"}],"owner":{"account_id":7211520,"reputation":77,"user_id":5505435,"accept_rate":20,"display_name":"onepunchman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2627,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683196666,"creation_date":1642450979,"question_id":70747097,"body_markdown":"I&#39;ve recently started using Spring Boot!\r\nI&#39;m currently using:\r\n\r\n - Spring Tool Suite 4 (Spring Boot version 2.6.2)\r\n - JAVA 8\r\n - H2 Console\r\n\r\nMy goal:\r\nDisplay each of my Student(model) values respective to its type:\r\n\r\nEx: \r\n\r\n - ID: 1,2,3,... \r\n - NAME: Bob Kim, Marley Z,...\r\n - DEPARTMENT: Computer Science, Nursing,...\r\n - UPDATEDBY: chopp3r\r\n - UPDATEDON: 2022-01-17\r\n\r\nStudent.java (Model Class):\r\n```\r\n@Entity\r\npublic class Student \r\n{\r\n\t@Id\r\n\tprivate Integer Id;\r\n\tprivate String name;\r\n\tprivate String department;\r\n\tprivate String updatedBy;\r\n\t@DateTimeFormat(pattern=&quot;yyy-MM-dd&quot;)\r\n\tprivate Date updatedOn;\r\n\t\r\n\tpublic Student()\r\n\t{\r\n\t\t\r\n\t}\r\n\r\n\tpublic Student(Integer id, String name, String department, String updatedBy, Date updatedOn) {\r\n\t\tsuper();\r\n\t\tId = id;\r\n\t\tthis.name = name;\r\n\t\tthis.department = department;\r\n\t\tthis.updatedBy = updatedBy;\r\n\t\tthis.updatedOn = updatedOn;\r\n\t}\r\n\r\n\tGETTERS/SETTERS METHODS...\r\n    TOSTRING METHOD...\r\n\t\r\n}\r\n\r\n```\r\n\r\nDependencies i&#39;m using:\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\ndata.sql that works without ERROR but gives me diff values in h2-console:\r\n```\r\ninsert into student values (1,&#39;Bob Kim&#39;,&#39;Computer Science&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;);\r\ninsert into student values (2,&#39;Marley Z&#39;,&#39;Nursing&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;);\r\ninsert into student values (3,&#39;Cyka Blyat&#39;,&#39;Russian Literature&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;);\r\n```\r\n\r\nThe following picture is what shows in H2-Console and as you notice the DEPARTMENT and NAME column is swapped:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rclln.png\r\n\r\nbut if I run the Spring Boot Application with the following data.sql:\r\n```\r\ninsert into student (id,name,department,updatedBy,updatedOn) values (1,&#39;Bob Kim&#39;,&#39;Computer Science&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;);\r\ninsert into student (id,name,department,updatedBy,updatedOn) values (2,&#39;Marley Z&#39;,&#39;Nursing&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;);\r\ninsert into student (id,name,department,updatedBy,updatedOn) values (3,&#39;Cyka Blyat&#39;,&#39;Russian Literature&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;);\r\n```\r\nI get an error saying:\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;UPDATEDBY&quot; not found; SQL statement:\r\ninsert into student (id,name,department,updatedBy,updatedOn) values (1,&#39;Bob Kim&#39;,&#39;Computer Science&#39;,&#39;chopp3r&#39;,&#39;2022-01-17&#39;) [42122-200]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.table.Table.getColumn(Table.java:703) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parseColumn(Parser.java:1450) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parseColumnList(Parser.java:1435) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parseInsertGivenTable(Parser.java:1804) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parseInsert(Parser.java:1749) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:954) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n\tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.14.jar:5.3.14]\r\n\t... 28 common frames omitted\r\n```\r\n\r\nI tried searching for solutions whether it might be reserved words affecting my program or adding DATABASE_TO_UPPER=FALSE in my spring.datasource.url but I still get the same error that it wouldn&#39;t be able to find my updatedBy column.\r\n\r\nPlease criticize me if i&#39;m doing something wrong or missing any spring boot info.","title":"org.h2.jdbc.JdbcSQLSyntaxErrorException: Column not found; SQL statement [SPRINGBOOT]","body":"<p>I've recently started using Spring Boot!\nI'm currently using:</p>\n<ul>\n<li>Spring Tool Suite 4 (Spring Boot version 2.6.2)</li>\n<li>JAVA 8</li>\n<li>H2 Console</li>\n</ul>\n<p>My goal:\nDisplay each of my Student(model) values respective to its type:</p>\n<p>Ex:</p>\n<ul>\n<li>ID: 1,2,3,...</li>\n<li>NAME: Bob Kim, Marley Z,...</li>\n<li>DEPARTMENT: Computer Science, Nursing,...</li>\n<li>UPDATEDBY: chopp3r</li>\n<li>UPDATEDON: 2022-01-17</li>\n</ul>\n<p>Student.java (Model Class):</p>\n<pre><code>@Entity\npublic class Student \n{\n    @Id\n    private Integer Id;\n    private String name;\n    private String department;\n    private String updatedBy;\n    @DateTimeFormat(pattern=&quot;yyy-MM-dd&quot;)\n    private Date updatedOn;\n    \n    public Student()\n    {\n        \n    }\n\n    public Student(Integer id, String name, String department, String updatedBy, Date updatedOn) {\n        super();\n        Id = id;\n        this.name = name;\n        this.department = department;\n        this.updatedBy = updatedBy;\n        this.updatedOn = updatedOn;\n    }\n\n    GETTERS/SETTERS METHODS...\n    TOSTRING METHOD...\n    \n}\n\n</code></pre>\n<p>Dependencies i'm using:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>data.sql that works without ERROR but gives me diff values in h2-console:</p>\n<pre><code>insert into student values (1,'Bob Kim','Computer Science','chopp3r','2022-01-17');\ninsert into student values (2,'Marley Z','Nursing','chopp3r','2022-01-17');\ninsert into student values (3,'Cyka Blyat','Russian Literature','chopp3r','2022-01-17');\n</code></pre>\n<p>The following picture is what shows in H2-Console and as you notice the DEPARTMENT and NAME column is swapped:\n<a href=\"https://i.stack.imgur.com/Rclln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rclln.png\" alt=\"enter image description here\" /></a></p>\n<p>but if I run the Spring Boot Application with the following data.sql:</p>\n<pre><code>insert into student (id,name,department,updatedBy,updatedOn) values (1,'Bob Kim','Computer Science','chopp3r','2022-01-17');\ninsert into student (id,name,department,updatedBy,updatedOn) values (2,'Marley Z','Nursing','chopp3r','2022-01-17');\ninsert into student (id,name,department,updatedBy,updatedOn) values (3,'Cyka Blyat','Russian Literature','chopp3r','2022-01-17');\n</code></pre>\n<p>I get an error saying:</p>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Column &quot;UPDATEDBY&quot; not found; SQL statement:\ninsert into student (id,name,department,updatedBy,updatedOn) values (1,'Bob Kim','Computer Science','chopp3r','2022-01-17') [42122-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:205) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.get(DbException.java:181) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.table.Table.getColumn(Table.java:703) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseColumn(Parser.java:1450) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseColumnList(Parser.java:1435) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseInsertGivenTable(Parser.java:1804) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseInsert(Parser.java:1749) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:954) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-5.3.14.jar:5.3.14]\n    ... 28 common frames omitted\n</code></pre>\n<p>I tried searching for solutions whether it might be reserved words affecting my program or adding DATABASE_TO_UPPER=FALSE in my spring.datasource.url but I still get the same error that it wouldn't be able to find my updatedBy column.</p>\n<p>Please criticize me if i'm doing something wrong or missing any spring boot info.</p>\n"},{"tags":["java","openstreetmap","osmosis"],"answers":[{"tags":[],"owner":{"account_id":17852140,"reputation":11,"user_id":12967667,"display_name":"Jacopo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683196394,"creation_date":1669286317,"answer_id":74559374,"question_id":74380714,"body_markdown":"I found out the answer now: \r\n\r\nHere is an example of how you would get all the shops in a specific bouding box and store them in lists for the nodes, ways, and relations in lists.\r\n\r\nI use kotllin with gradle.\r\n\r\nIn the gradle.kts:\r\n\r\n```\r\ndependencies {\r\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-pbf:0.48.3&quot;)\r\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-areafilter:0.48.3&quot;)\r\n}\r\n```\r\n\r\nThe code:\r\n\r\n```\r\nimport crosby.binary.osmosis.OsmosisReader\r\nimport org.openstreetmap.osmosis.areafilter.v0_6.BoundingBoxFilter\r\nimport org.openstreetmap.osmosis.core.container.v0_6.*\r\nimport org.openstreetmap.osmosis.core.domain.v0_6.*\r\nimport org.openstreetmap.osmosis.core.filter.common.IdTrackerType\r\nimport org.openstreetmap.osmosis.core.task.v0_6.Sink\r\nimport java.io.FileInputStream\r\n\r\nclass CustomProcessor : Sink {\r\n    // Here the results will be stored\r\n    val nodes = mutableListOf&lt;Node&gt;()\r\n    val ways = mutableListOf&lt;Way&gt;()\r\n    val relations = mutableListOf&lt;Relation&gt;()\r\n\r\n    override fun close() {\r\n        // Close all your readers and such\r\n    }\r\n\r\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {\r\n        // Don&#39;t know when to use this\r\n    }\r\n\r\n    override fun complete() {\r\n        // If you first put data into storages you can process them here after you have all you need\r\n    }\r\n\r\n    override fun process(entityContainer: EntityContainer?) {\r\n        val entity = entityContainer?.entity\r\n\r\n        // Filter for shops\r\n        var foundIt = false\r\n        if (entity != null) {\r\n            for (tag in entity.tags) {\r\n                if (tag.key == &quot;shop&quot;) {\r\n                    foundIt = true\r\n                    break\r\n                }\r\n            }\r\n        }\r\n\r\n        // If the object is a shop\r\n        if (foundIt) {\r\n            if (entity is Node) {\r\n                nodes.add(entity)\r\n            } else if (entity is Way) {\r\n                ways.add(entity)\r\n            } else if (entity is Relation) {\r\n                relations.add(entity)\r\n            } else if (entity is Bound) {\r\n                // We don&#39;t store bounds\r\n            } else {\r\n                // Shouldn&#39;t be possible\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    // Set input stream\r\n    val inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\r\n\r\n    // Create the bounding box filter\r\n    val bbFilter = BoundingBoxFilter(\r\n        IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\r\n        11.5256, // Left lon\r\n        11.5004, // Right lon\r\n        48.84543, // Top lat\r\n        48.8015, // Bottom lat\r\n        true, // Remove ways and relation only partly in bounding box?\r\n        false, // Include all nodes of ways only partly in bounding box.\r\n        false, // Include all nodes and ways of relations only partly in bounding box.\r\n        false // Include all relations that reference relation inside bounding box.\r\n    )\r\n\r\n    // Create your processor\r\n    val processor = CustomProcessor()\r\n\r\n    // Define your pipeline\r\n    val reader = OsmosisReader(inputStream)\r\n    bbFilter.setSink(processor)\r\n    reader.setSink(bbFilter)\r\n\r\n    // Run\r\n    reader.run()\r\n\r\n    // Get your data\r\n    val nodes = processor.nodes\r\n    val ways = processor.ways\r\n    val relations = processor.relations\r\n}\r\n\r\n```\r\n\r\nIf you want the geometries of ways and relations you will also need to store the nodes they consist of. These are not tagged with &quot;shop&quot;. Storing them in lists is quite RAM intensive so it is best to use the org.openstreetmap.osmosis.core.store.SimpleObjectStore class.\r\n","title":"Osmosis. Use bounding box filter in java code","body":"<p>I found out the answer now:</p>\n<p>Here is an example of how you would get all the shops in a specific bouding box and store them in lists for the nodes, ways, and relations in lists.</p>\n<p>I use kotllin with gradle.</p>\n<p>In the gradle.kts:</p>\n<pre><code>dependencies {\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-pbf:0.48.3&quot;)\n    implementation(&quot;org.openstreetmap.osmosis:osmosis-areafilter:0.48.3&quot;)\n}\n</code></pre>\n<p>The code:</p>\n<pre><code>import crosby.binary.osmosis.OsmosisReader\nimport org.openstreetmap.osmosis.areafilter.v0_6.BoundingBoxFilter\nimport org.openstreetmap.osmosis.core.container.v0_6.*\nimport org.openstreetmap.osmosis.core.domain.v0_6.*\nimport org.openstreetmap.osmosis.core.filter.common.IdTrackerType\nimport org.openstreetmap.osmosis.core.task.v0_6.Sink\nimport java.io.FileInputStream\n\nclass CustomProcessor : Sink {\n    // Here the results will be stored\n    val nodes = mutableListOf&lt;Node&gt;()\n    val ways = mutableListOf&lt;Way&gt;()\n    val relations = mutableListOf&lt;Relation&gt;()\n\n    override fun close() {\n        // Close all your readers and such\n    }\n\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {\n        // Don't know when to use this\n    }\n\n    override fun complete() {\n        // If you first put data into storages you can process them here after you have all you need\n    }\n\n    override fun process(entityContainer: EntityContainer?) {\n        val entity = entityContainer?.entity\n\n        // Filter for shops\n        var foundIt = false\n        if (entity != null) {\n            for (tag in entity.tags) {\n                if (tag.key == &quot;shop&quot;) {\n                    foundIt = true\n                    break\n                }\n            }\n        }\n\n        // If the object is a shop\n        if (foundIt) {\n            if (entity is Node) {\n                nodes.add(entity)\n            } else if (entity is Way) {\n                ways.add(entity)\n            } else if (entity is Relation) {\n                relations.add(entity)\n            } else if (entity is Bound) {\n                // We don't store bounds\n            } else {\n                // Shouldn't be possible\n            }\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    // Set input stream\n    val inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\n\n    // Create the bounding box filter\n    val bbFilter = BoundingBoxFilter(\n        IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\n        11.5256, // Left lon\n        11.5004, // Right lon\n        48.84543, // Top lat\n        48.8015, // Bottom lat\n        true, // Remove ways and relation only partly in bounding box?\n        false, // Include all nodes of ways only partly in bounding box.\n        false, // Include all nodes and ways of relations only partly in bounding box.\n        false // Include all relations that reference relation inside bounding box.\n    )\n\n    // Create your processor\n    val processor = CustomProcessor()\n\n    // Define your pipeline\n    val reader = OsmosisReader(inputStream)\n    bbFilter.setSink(processor)\n    reader.setSink(bbFilter)\n\n    // Run\n    reader.run()\n\n    // Get your data\n    val nodes = processor.nodes\n    val ways = processor.ways\n    val relations = processor.relations\n}\n\n</code></pre>\n<p>If you want the geometries of ways and relations you will also need to store the nodes they consist of. These are not tagged with &quot;shop&quot;. Storing them in lists is quite RAM intensive so it is best to use the org.openstreetmap.osmosis.core.store.SimpleObjectStore class.</p>\n"},{"comments":[{"owner":{"account_id":17852140,"reputation":11,"user_id":12967667,"display_name":"Jacopo"},"score":0,"creation_date":1683196510,"post_id":76162445,"comment_id":134330863,"body_markdown":"Ah, yeah I had a typo in my answer. Now it should be correct.","body":"Ah, yeah I had a typo in my answer. Now it should be correct."}],"tags":[],"owner":{"account_id":13001480,"reputation":1,"user_id":9397444,"display_name":"Jesper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683107033,"creation_date":1683107033,"answer_id":76162445,"question_id":74380714,"body_markdown":"I tried using the pipeline which is described in the answer from Jacopo, for me the way the pipeline was constructed made it not filter the given pbf file.\r\n\r\nWhat did work for me is the following piece of code.\r\n\r\n    // Set input stream\r\n    val inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\r\n\r\n    // Create the bounding box filter\r\n    val bbFilter = BoundingBoxFilter(\r\n        IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\r\n        11.5256, // Left lon\r\n        11.5004, // Right lon\r\n        48.84543, // Top lat\r\n        48.8015, // Bottom lat\r\n        true, // Remove ways and relation only partly in bounding box?\r\n        false, // Include all nodes of ways only partly in bounding box.\r\n        false, // Include all nodes and ways of relations only partly in bounding box.\r\n        false // Include all relations that reference relation inside bounding box.\r\n    )\r\n\r\n    // Create your processor\r\n    val processor = CustomProcessor()\r\n\r\n    // Define your pipeline\r\n    val reader = OsmosisReader(inputStream)\r\n    bbFilter.setSink(processor)\r\n    reader.setSink(bbFilter) // This part is important in using the BoundingBoxFilter\r\n\r\n    // Run\r\n    reader.run()\r\n\r\nSome extra information about the way this pipeline works.\r\n\r\nWhen running the OsmosisReader it runs the process method in the given sink, which in this case is the boundingboxfilter, the boundingboxfilter then filters the given data and calls the process method from the given sink, which in this case is the customprocessor, this way only the items which are inside the bounding box will reach the CustomProcessor.\r\n\r\nHopefully this answers helps other people looking for information how to use the boundingboxfilter from osmosis. ","title":"Osmosis. Use bounding box filter in java code","body":"<p>I tried using the pipeline which is described in the answer from Jacopo, for me the way the pipeline was constructed made it not filter the given pbf file.</p>\n<p>What did work for me is the following piece of code.</p>\n<pre><code>// Set input stream\nval inputStream = FileInputStream(&quot;path/to/my/file.osm.pbf&quot;)\n\n// Create the bounding box filter\nval bbFilter = BoundingBoxFilter(\n    IdTrackerType.Dynamic, // ID tracker used internally. This is the default.\n    11.5256, // Left lon\n    11.5004, // Right lon\n    48.84543, // Top lat\n    48.8015, // Bottom lat\n    true, // Remove ways and relation only partly in bounding box?\n    false, // Include all nodes of ways only partly in bounding box.\n    false, // Include all nodes and ways of relations only partly in bounding box.\n    false // Include all relations that reference relation inside bounding box.\n)\n\n// Create your processor\nval processor = CustomProcessor()\n\n// Define your pipeline\nval reader = OsmosisReader(inputStream)\nbbFilter.setSink(processor)\nreader.setSink(bbFilter) // This part is important in using the BoundingBoxFilter\n\n// Run\nreader.run()\n</code></pre>\n<p>Some extra information about the way this pipeline works.</p>\n<p>When running the OsmosisReader it runs the process method in the given sink, which in this case is the boundingboxfilter, the boundingboxfilter then filters the given data and calls the process method from the given sink, which in this case is the customprocessor, this way only the items which are inside the bounding box will reach the CustomProcessor.</p>\n<p>Hopefully this answers helps other people looking for information how to use the boundingboxfilter from osmosis.</p>\n"}],"owner":{"account_id":17852140,"reputation":11,"user_id":12967667,"display_name":"Jacopo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683196394,"creation_date":1668024006,"question_id":74380714,"body_markdown":"I am importing a osm.pbf file into my java application using Osmosis like this:\r\n\r\n\r\n```\r\ndata class MapObject (\r\n    val lat: Double,\r\n    val lon: Double,\r\n    val id: Long\r\n)\r\n\r\nclass OsmReader : Sink {\r\n    val data = mutableListOf&lt;MapObject&gt;()\r\n\r\n    override fun close() {}\r\n\r\n    override fun complete() {}\r\n\r\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {}\r\n\r\n    override fun process(entityContainer: EntityContainer?) {\r\n        if (entityContainer is NodeContainer) {\r\n            val node = entityContainer.entity\r\n\r\n            data.add( MapObject(node.latitude, node.longitude, node.id) )\r\n        }\r\n    }\r\n}\r\n\r\nfun readOSM(pathToPBF: String) {\r\n    val inputStream = FileInputStream(pathToPBF)\r\n\r\n    // read from osm pbf file:\r\n    val custom = OsmReader()\r\n    val reader = OsmosisReader(inputStream)\r\n    reader.setSink(custom)\r\n    // initial parsing of the .pbf file:\r\n    reader.run()\r\n    println(&quot;Break&quot;)\r\n}\r\n```\r\n\r\nI would like to only read the nodes in a given bounding box. Then using Osmosis from the command line you can use --bounding-box, but how would you do the same thing in code?\r\n\r\n\r\n\r\n\r\nCurrently I intersect each node with the bounding box using the JTS, however that is rather slow.","title":"Osmosis. Use bounding box filter in java code","body":"<p>I am importing a osm.pbf file into my java application using Osmosis like this:</p>\n<pre><code>data class MapObject (\n    val lat: Double,\n    val lon: Double,\n    val id: Long\n)\n\nclass OsmReader : Sink {\n    val data = mutableListOf&lt;MapObject&gt;()\n\n    override fun close() {}\n\n    override fun complete() {}\n\n    override fun initialize(metaData: MutableMap&lt;String, Any&gt;?) {}\n\n    override fun process(entityContainer: EntityContainer?) {\n        if (entityContainer is NodeContainer) {\n            val node = entityContainer.entity\n\n            data.add( MapObject(node.latitude, node.longitude, node.id) )\n        }\n    }\n}\n\nfun readOSM(pathToPBF: String) {\n    val inputStream = FileInputStream(pathToPBF)\n\n    // read from osm pbf file:\n    val custom = OsmReader()\n    val reader = OsmosisReader(inputStream)\n    reader.setSink(custom)\n    // initial parsing of the .pbf file:\n    reader.run()\n    println(&quot;Break&quot;)\n}\n</code></pre>\n<p>I would like to only read the nodes in a given bounding box. Then using Osmosis from the command line you can use --bounding-box, but how would you do the same thing in code?</p>\n<p>Currently I intersect each node with the bounding box using the JTS, however that is rather slow.</p>\n"},{"tags":["java","java-8","java-time"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683196512,"post_id":76171776,"comment_id":134330864,"body_markdown":"Truncating to an occurrence of 61 minutes must require some base to measure the 61 minutes from. The docs don’t tell us what that base is. You seem to assume that the base is midnight today in UTC. So maybe it isn’t.","body":"Truncating to an occurrence of 61 minutes must require some base to measure the 61 minutes from. The docs don’t tell us what that base is. You seem to assume that the base is midnight today in UTC. So maybe it isn’t."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683312122,"post_id":76171776,"comment_id":134353171,"body_markdown":"If in your code I use `Duration.ofDays(100_000)`, I get `1970-01-01T00:00:00Z`. Which is probably the base from which the duration is measured.","body":"If in your code I use <code>Duration.ofDays(100_000)</code>, I get <code>1970-01-01T00:00:00Z</code>. Which is probably the base from which the duration is measured."},{"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"score":0,"creation_date":1683357695,"post_id":76171776,"comment_id":134357511,"body_markdown":"Also confused, the base to measure Duration looks like Irregular to humans, so how can i control the behavior of `TickClock`","body":"Also confused, the base to measure Duration looks like Irregular to humans, so how can i control the behavior of <code>TickClock</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683359898,"post_id":76171776,"comment_id":134357714,"body_markdown":"First, the documentation is bad and doesn’t properly specify the behaviour. Second, if you want a clock that ticks every, say, 7 or 61 minutes past midnight in some time zone, you can probably code a clock implementation yourself. Be aware that the clock will skip a different amount of minutes over midnight if your duration doesn’t divide evenly into a day, and be aware that the behaviour will depend in time zone. Are you really wanting to work with such a clock?","body":"First, the documentation is bad and doesn’t properly specify the behaviour. Second, if you want a clock that ticks every, say, 7 or 61 minutes past midnight in some time zone, you can probably code a clock implementation yourself. Be aware that the clock will skip a different amount of minutes over midnight if your duration doesn’t divide evenly into a day, and be aware that the behaviour will depend in time zone. Are you really wanting to work with such a clock?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683196276,"creation_date":1683195920,"answer_id":76172159,"question_id":76171776,"body_markdown":"This is correct. Given 2023-05-04T01:20:20Z, 2023-05-04T00:40:00Z is indeed the last occurrence of &quot;61 minutes&quot;. Specifically, it is the 459880th occurrence since the epoch. The next occurrence is 2023-05-04T01:41:00Z.\r\n\r\nYou can find this number by finding the number of minutes since the epoch:\r\n\r\n    Instant.parse(&quot;2023-05-04T00:40:00Z&quot;).getEpochSecond() / 60\r\n\r\nThat evaluates to 28052680. Dividing that by 61 is *exactly* 459880.\r\n\r\nSee also: the implementation of [`TickClock`][1] in the openjdk. You can see that it uses `Math.floorMod` to find how much time to substract from the current timestamp (i.e. milliseconds since the epoch). It uses the current timestamp as the dividend.\r\n\r\n\r\n  [1]: https://github.com/bpupadhyaya/openjdk-8/blob/master/jdk/src/share/classes/java/time/Clock.java#L618","title":"Why TickClock out of control when the Duration value more than 60mins","body":"<p>This is correct. Given 2023-05-04T01:20:20Z, 2023-05-04T00:40:00Z is indeed the last occurrence of &quot;61 minutes&quot;. Specifically, it is the 459880th occurrence since the epoch. The next occurrence is 2023-05-04T01:41:00Z.</p>\n<p>You can find this number by finding the number of minutes since the epoch:</p>\n<pre><code>Instant.parse(&quot;2023-05-04T00:40:00Z&quot;).getEpochSecond() / 60\n</code></pre>\n<p>That evaluates to 28052680. Dividing that by 61 is <em>exactly</em> 459880.</p>\n<p>See also: the implementation of <a href=\"https://github.com/bpupadhyaya/openjdk-8/blob/master/jdk/src/share/classes/java/time/Clock.java#L618\" rel=\"nofollow noreferrer\"><code>TickClock</code></a> in the openjdk. You can see that it uses <code>Math.floorMod</code> to find how much time to substract from the current timestamp (i.e. milliseconds since the epoch). It uses the current timestamp as the dividend.</p>\n"}],"owner":{"account_id":17096208,"reputation":15,"user_id":12371145,"display_name":"wang junweiiii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683196276,"creation_date":1683193556,"question_id":76171776,"body_markdown":"First of all, i tried this:\r\n```java\r\nClock clock = Clock.fixed(Instant.parse(&quot;2023-05-04T01:20:20Z&quot;), ZoneId.systemDefault());\r\nClock tick = Clock.tick(clock, Duration.ofMinutes(3));\r\nSystem.out.println(clock.instant());\r\nSystem.out.println(tick.instant());\r\n```\r\n\r\nWhen the duration is 3min, the nearest occurrence of 20min is 18min, it works fine, and print as below:\r\n```\r\n2023-05-04T01:20:20Z\r\n2023-05-04T01:18:00Z\r\n```\r\n\r\nWhen i modify it to `Duration.ofMinutes(61)` by accident, things changed, it print this:\r\n```\r\n2023-05-04T01:20:20Z\r\n2023-05-04T00:40:00Z\r\n```\r\n\r\nAs API [Class Clock](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html) says: \r\n&gt; Obtains a clock that returns instants from the specified clock truncated to the nearest occurrence of the specified duration.\r\n\r\n\r\nSo the question is why the result is not `2023-05-04T00:01:00Z` or `2023-05-04T01:01:00Z`? The results are not what it says.","title":"Why TickClock out of control when the Duration value more than 60mins","body":"<p>First of all, i tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Clock clock = Clock.fixed(Instant.parse(&quot;2023-05-04T01:20:20Z&quot;), ZoneId.systemDefault());\nClock tick = Clock.tick(clock, Duration.ofMinutes(3));\nSystem.out.println(clock.instant());\nSystem.out.println(tick.instant());\n</code></pre>\n<p>When the duration is 3min, the nearest occurrence of 20min is 18min, it works fine, and print as below:</p>\n<pre><code>2023-05-04T01:20:20Z\n2023-05-04T01:18:00Z\n</code></pre>\n<p>When i modify it to <code>Duration.ofMinutes(61)</code> by accident, things changed, it print this:</p>\n<pre><code>2023-05-04T01:20:20Z\n2023-05-04T00:40:00Z\n</code></pre>\n<p>As API <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\">Class Clock</a> says:</p>\n<blockquote>\n<p>Obtains a clock that returns instants from the specified clock truncated to the nearest occurrence of the specified duration.</p>\n</blockquote>\n<p>So the question is why the result is not <code>2023-05-04T00:01:00Z</code> or <code>2023-05-04T01:01:00Z</code>? The results are not what it says.</p>\n"},{"tags":["java","android-studio","junit4"],"owner":{"account_id":23356086,"reputation":134,"user_id":17429040,"display_name":"ayeshchanaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683196255,"creation_date":1679560506,"question_id":75820731,"body_markdown":"I am working on unit testing and I have to test a method which is return a &quot;MutableLiveData&lt;Pair&lt;String, Boolean&gt;&gt;&quot; .So make a Pair variable and set value . But when I debug the test case, I notice that Pair varible is null\r\n\r\n    Pair&lt;String,Boolean&gt; pair = new Pair&lt;&gt;(&quot;dsn&quot;,true);\r\n\r\nplease don&#39;t suggest android.support.v4.util.Pair instead of android.util.Pair,it  doesn&#39;t work for me.","title":"how to set value for android.util.Pair variable in android studio java unit testing","body":"<p>I am working on unit testing and I have to test a method which is return a &quot;MutableLiveData&lt;Pair&lt;String, Boolean&gt;&gt;&quot; .So make a Pair variable and set value . But when I debug the test case, I notice that Pair varible is null</p>\n<pre><code>Pair&lt;String,Boolean&gt; pair = new Pair&lt;&gt;(&quot;dsn&quot;,true);\n</code></pre>\n<p>please don't suggest android.support.v4.util.Pair instead of android.util.Pair,it  doesn't work for me.</p>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":2,"creation_date":1682899143,"post_id":76132256,"comment_id":134282980,"body_markdown":"What version did you update from?","body":"What version did you update from?"},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":1,"creation_date":1682942198,"post_id":76132256,"comment_id":134287166,"body_markdown":"@RafaelWinterhalter updated from 1.10.14 - updated the question to clarify that.","body":"@RafaelWinterhalter updated from 1.10.14 - updated the question to clarify that."}],"answers":[{"comments":[{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":1,"creation_date":1683201445,"post_id":76171970,"comment_id":134331998,"body_markdown":"But if byte-buddy itself is in 2 different wars, on 2 different classpaths, aren&#39;t there 2 different BOOTSTRAP_LOADER_LOCK instances?","body":"But if byte-buddy itself is in 2 different wars, on 2 different classpaths, aren&#39;t there 2 different BOOTSTRAP_LOADER_LOCK instances?"},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1683232388,"post_id":76171970,"comment_id":134339543,"body_markdown":"That&#39;s true. Thanks for your PR, that will fix that issue.","body":"That&#39;s true. Thanks for your PR, that will fix that issue."}],"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683196082,"creation_date":1683194729,"answer_id":76171970,"question_id":76132256,"body_markdown":"The corresponding code looks checks if the class is already loaded:\r\n\r\n    synchronized (classLoader == null\r\n      ? BOOTSTRAP_LOADER_LOCK\r\n      : classLoader) {\r\n        for (Map.Entry&lt;? extends String, byte[]&gt; entry : types.entrySet()) {\r\n          try {\r\n            result.put(entry.getKey(), Class.forName(entry.getKey(), false, classLoader));\r\n          } catch (ClassNotFoundException ignored) {\r\n            result.put(entry.getKey(), dispatcher.defineClass(classLoader, entry.getKey(), entry.getValue(), protectionDomain));\r\n          }\r\n        }\r\n      }\r\n\r\nThis should prevent the error you are experiencing. Could you check why this happens? The change was made to support GraalVM which struggles with randomized names.\r\n\r\nI could not reproduce this, at least: https://github.com/raphw/byte-buddy/commit/fa4b2ac09db71352c248900a633a4adc0d69124b","title":"What is causing duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1 with INJECTION strategy?","body":"<p>The corresponding code looks checks if the class is already loaded:</p>\n<pre><code>synchronized (classLoader == null\n  ? BOOTSTRAP_LOADER_LOCK\n  : classLoader) {\n    for (Map.Entry&lt;? extends String, byte[]&gt; entry : types.entrySet()) {\n      try {\n        result.put(entry.getKey(), Class.forName(entry.getKey(), false, classLoader));\n      } catch (ClassNotFoundException ignored) {\n        result.put(entry.getKey(), dispatcher.defineClass(classLoader, entry.getKey(), entry.getValue(), protectionDomain));\n      }\n    }\n  }\n</code></pre>\n<p>This should prevent the error you are experiencing. Could you check why this happens? The change was made to support GraalVM which struggles with randomized names.</p>\n<p>I could not reproduce this, at least: <a href=\"https://github.com/raphw/byte-buddy/commit/fa4b2ac09db71352c248900a633a4adc0d69124b\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/commit/fa4b2ac09db71352c248900a633a4adc0d69124b</a></p>\n"}],"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76171970,"answer_count":1,"score":3,"last_activity_date":1683196082,"creation_date":1682705806,"question_id":76132256,"body_markdown":"When updating to bytebuddy 1.12.22 (from 1.10.14) we have started occasionally seeing exception indicating that java.lang.ClassLoader$ByteBuddyAccessor$V1 is (already) in module java.base of loader &#39;bootstrap&#39;.\r\nWe have bytebuddy (shaded into one of our jars) included in our wars. We only occasionally see this issue when we have multiple wars running in the same tomcat instance. For tomcat instances with only 1 war or simple single classpath applications, there are never issues.\r\n\r\nWe are calling DynamicType.Unloaded.load with a classloader from class in same war and ClassLoadingStrategy.Default.INJECTION strategy.\r\n\r\nhttps://javadoc.io/static/net.bytebuddy/byte-buddy/1.14.4/net/bytebuddy/dynamic/DynamicType.Unloaded.html#load-S-net.bytebuddy.dynamic.loading.ClassLoadingStrategy-\r\n\r\nThis is failing with message:\r\n\r\n```\r\njava.lang.UnsupportedOperationException: Cannot define class using reflection: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1. (java.lang.ClassLoader$ByteBuddyAccessor$V1 is in module java.base of loader &#39;bootstrap&#39;)\r\n```\r\n\r\nIt looks like there was a change which moved from generating an accessor class from having a random name to always using &quot;V1&quot;.\r\nhttps://github.com/raphw/byte-buddy/commit/201c6b69480b5b9ee35b5cdc9e35fb1bab2005dc#diff-f2e06c83c21b2a52e4ebf4392e271c68d13cdc2e5fba055773f1ffd81ce18776\r\n\r\n[![github change][1]][1]\r\n\r\nIs this the expected behavior? Is it not allowed to have byte buddy in multiple wars in the same tomcat instance, or at least not allowed if using INJECTION strategy?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKfFx.png","title":"What is causing duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1 with INJECTION strategy?","body":"<p>When updating to bytebuddy 1.12.22 (from 1.10.14) we have started occasionally seeing exception indicating that java.lang.ClassLoader$ByteBuddyAccessor$V1 is (already) in module java.base of loader 'bootstrap'.\nWe have bytebuddy (shaded into one of our jars) included in our wars. We only occasionally see this issue when we have multiple wars running in the same tomcat instance. For tomcat instances with only 1 war or simple single classpath applications, there are never issues.</p>\n<p>We are calling DynamicType.Unloaded.load with a classloader from class in same war and ClassLoadingStrategy.Default.INJECTION strategy.</p>\n<p><a href=\"https://javadoc.io/static/net.bytebuddy/byte-buddy/1.14.4/net/bytebuddy/dynamic/DynamicType.Unloaded.html#load-S-net.bytebuddy.dynamic.loading.ClassLoadingStrategy-\" rel=\"nofollow noreferrer\">https://javadoc.io/static/net.bytebuddy/byte-buddy/1.14.4/net/bytebuddy/dynamic/DynamicType.Unloaded.html#load-S-net.bytebuddy.dynamic.loading.ClassLoadingStrategy-</a></p>\n<p>This is failing with message:</p>\n<pre><code>java.lang.UnsupportedOperationException: Cannot define class using reflection: java.lang.LinkageError: loader 'bootstrap' attempted duplicate class definition for java.lang.ClassLoader$ByteBuddyAccessor$V1. (java.lang.ClassLoader$ByteBuddyAccessor$V1 is in module java.base of loader 'bootstrap')\n</code></pre>\n<p>It looks like there was a change which moved from generating an accessor class from having a random name to always using &quot;V1&quot;.\n<a href=\"https://github.com/raphw/byte-buddy/commit/201c6b69480b5b9ee35b5cdc9e35fb1bab2005dc#diff-f2e06c83c21b2a52e4ebf4392e271c68d13cdc2e5fba055773f1ffd81ce18776\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/commit/201c6b69480b5b9ee35b5cdc9e35fb1bab2005dc#diff-f2e06c83c21b2a52e4ebf4392e271c68d13cdc2e5fba055773f1ffd81ce18776</a></p>\n<p><a href=\"https://i.stack.imgur.com/hKfFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKfFx.png\" alt=\"github change\" /></a></p>\n<p>Is this the expected behavior? Is it not allowed to have byte buddy in multiple wars in the same tomcat instance, or at least not allowed if using INJECTION strategy?</p>\n"},{"tags":["java","gradle","eclipse-wtp","spotless"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1612796113,"post_id":66103499,"comment_id":116871162,"body_markdown":"That&#39;s a path relative to where you locate your workspace--it&#39;ll be *in* the workspace once you create the workspace (although possibly require you go in and change a preference before the file itself will be created).","body":"That&#39;s a path relative to where you locate your workspace--it&#39;ll be <i>in</i> the workspace once you create the workspace (although possibly require you go in and change a preference before the file itself will be created)."},{"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"score":0,"creation_date":1612797052,"post_id":66103499,"comment_id":116871664,"body_markdown":"Do you know a guide on the property that could be used there ?","body":"Do you know a guide on the property that could be used there ?"}],"answers":[{"tags":[],"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1612796873,"creation_date":1612796873,"answer_id":66104184,"question_id":66103499,"body_markdown":"As mentiontioned by @nitind the file is in the workspace.\r\nThe way i found it was to run the following commend.\r\n\r\n`find  ~/ -name &#39;org.eclipse.wst.html.core.prefs&#39;`","title":"spotless elicpse wtp format config file","body":"<p>As mentiontioned by @nitind the file is in the workspace.\nThe way i found it was to run the following commend.</p>\n<p><code>find  ~/ -name 'org.eclipse.wst.html.core.prefs'</code></p>\n"},{"tags":[],"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683195939,"creation_date":1683195939,"answer_id":76172162,"question_id":66103499,"body_markdown":"Just FYI here&#39;s `spotless-maven-plugin` configuration (as specified in `pom.xml`) and the Eclipse preferences file I ended up using - I am using Netbeans as my development platform. I still haven&#39;t figured out if everything works as it should though. Because it seems that e.g. spotless&#39; own `&lt;indent&gt;` configuration seems to need to be specified apart from `eclipseWtp`, because the latter doesn&#39;t do tab-to-spaces substitution exactly the way I expect it to do it.\r\n```xml\r\n...\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.29.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;formats&gt;\r\n\t\t   &lt;format&gt;\r\n\t\t\t  &lt;includes&gt;\r\n\t\t\t\t &lt;include&gt;**/*.html&lt;/include&gt;\r\n\t\t\t  &lt;/includes&gt;\r\n\t\t\t  &lt;eclipseWtp&gt;\r\n\t\t\t\t &lt;type&gt;HTML&lt;/type&gt;\r\n\t\t\t\t &lt;files&gt;\r\n\t\t\t\t\t&lt;file&gt;${project.basedir}/src/main/resources/org.eclipse.wst.html.core.prefs&lt;/file&gt;\r\n\t\t\t\t &lt;/files&gt;\r\n\t\t\t  &lt;/eclipseWtp&gt;\r\n\t\t\t  &lt;trimTrailingWhitespace/&gt;\r\n\t\t\t  &lt;endWithNewline/&gt;\r\n\t\t\t  &lt;indent&gt;\r\n\t\t\t\t &lt;spaces&gt;true&lt;/spaces&gt;\r\n\t\t\t\t &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n\t\t\t  &lt;/indent&gt;                        \r\n\t\t   &lt;/format&gt;\r\n\t\t&lt;/formats&gt;                   \r\n\t\t&lt;java&gt;\r\n\t\t   &lt;toggleOffOn/&gt;\r\n\t\t   &lt;importOrder/&gt;\r\n\t\t   &lt;removeUnusedImports/&gt;\r\n\t\t\t&lt;indent&gt;\r\n\t\t\t\t&lt;spaces&gt;true&lt;/spaces&gt;\r\n\t\t\t\t&lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n\t\t\t&lt;/indent&gt;\r\n\t\t   &lt;trimTrailingWhitespace /&gt;\r\n\t\t   &lt;formatAnnotations/&gt;                        \r\n\t\t   &lt;palantirJavaFormat&gt;&lt;/palantirJavaFormat&gt;\r\n\t\t&lt;/java&gt;                    \r\n\t&lt;/configuration&gt;   \r\n&lt;/plugin&gt;\r\n...\r\n``` \r\n\r\nAnd here&#39;s contents of `org.eclipse.wst.html.core.prefs` file I have placed into aforementioned `${project.basedir}/src/main/resources` folder (I did a rough search on the internet to find core and html specific content):\r\n```\r\nlineWidth=72\r\nclearAllBlankLines=false\r\nindentationChar=space\r\nindentationSize=4\r\nsplitMultiAttrs=false\r\nalignEndBracket=false\r\ncleanupTagNameCase=0\r\ncleanupAttrNameCase=0\r\ninsertRequiredAttrs=false\r\ninsertMissingTags=false\r\nquoteAttrValues=true\r\nformatSource=true\r\nconvertEOLCodes=false\r\ninputCodeset=\r\noutputCodeset=UTF-8\r\nendOfLineCode=\r\ntagNameCase=1\r\nattrNameCase=1\r\ndefaultExtension=html\r\ninlineElements=a,abbr,acronym,b,basefont,big,br,cite,em,font,i,img,input,label,li,q,s,select,small,span,strike,strong,sub,sup,td,th,title,u\r\n\r\nattrDuplicate=2\r\nattrInvalidName=2\r\nattrInvalidValue=2\r\nattrNameMismatch=2\r\nattrNamesToIgnore=\r\nattrUndefName=2\r\nattrUndefValue=2\r\nattrValueEqualsMissing=2\r\nattrValueMismatch=1\r\nattrValueUnclosed=2\r\ncdataInvalidContent=2\r\ncdataUnclosed=1\r\ncommentInvalidContent=2\r\ncommentUnclosed=1\r\ndocDoctypeUnclosed=1\r\ndocDuplicateTag=1\r\ndocInvalidChar=2\r\ndocInvalidContent=2\r\neclipse.preferences.version=1\r\nelemCoexistence=2\r\nelemDuplicate=2\r\nelemEndInvalidCase=1\r\nelemInvalidContent=2\r\nelemInvalidDirective=1\r\nelemInvalidEmptyTag=2\r\nelemInvalidName=1\r\nelemInvalidText=2\r\nelemMissingEnd=2\r\nelemMissingStart=2\r\nelemStartInvalidCase=2\r\nelemUnclosedEndTag=1\r\nelemUnclosedStartTag=1\r\nelemUnknownName=-1\r\nelemUnnecessaryEnd=2\r\nignoreAttrNames=false\r\nignoreElementNames=false\r\npiInvalidContent=2\r\npiUnclosed=1\r\npiUndefined=2\r\nrefInvalidContent=2\r\nresourceNotFound=2\r\n```","title":"spotless elicpse wtp format config file","body":"<p>Just FYI here's <code>spotless-maven-plugin</code> configuration (as specified in <code>pom.xml</code>) and the Eclipse preferences file I ended up using - I am using Netbeans as my development platform. I still haven't figured out if everything works as it should though. Because it seems that e.g. spotless' own <code>&lt;indent&gt;</code> configuration seems to need to be specified apart from <code>eclipseWtp</code>, because the latter doesn't do tab-to-spaces substitution exactly the way I expect it to do it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;plugin&gt;\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.29.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;formats&gt;\n           &lt;format&gt;\n              &lt;includes&gt;\n                 &lt;include&gt;**/*.html&lt;/include&gt;\n              &lt;/includes&gt;\n              &lt;eclipseWtp&gt;\n                 &lt;type&gt;HTML&lt;/type&gt;\n                 &lt;files&gt;\n                    &lt;file&gt;${project.basedir}/src/main/resources/org.eclipse.wst.html.core.prefs&lt;/file&gt;\n                 &lt;/files&gt;\n              &lt;/eclipseWtp&gt;\n              &lt;trimTrailingWhitespace/&gt;\n              &lt;endWithNewline/&gt;\n              &lt;indent&gt;\n                 &lt;spaces&gt;true&lt;/spaces&gt;\n                 &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n              &lt;/indent&gt;                        \n           &lt;/format&gt;\n        &lt;/formats&gt;                   \n        &lt;java&gt;\n           &lt;toggleOffOn/&gt;\n           &lt;importOrder/&gt;\n           &lt;removeUnusedImports/&gt;\n            &lt;indent&gt;\n                &lt;spaces&gt;true&lt;/spaces&gt;\n                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n            &lt;/indent&gt;\n           &lt;trimTrailingWhitespace /&gt;\n           &lt;formatAnnotations/&gt;                        \n           &lt;palantirJavaFormat&gt;&lt;/palantirJavaFormat&gt;\n        &lt;/java&gt;                    \n    &lt;/configuration&gt;   \n&lt;/plugin&gt;\n...\n</code></pre>\n<p>And here's contents of <code>org.eclipse.wst.html.core.prefs</code> file I have placed into aforementioned <code>${project.basedir}/src/main/resources</code> folder (I did a rough search on the internet to find core and html specific content):</p>\n<pre><code>lineWidth=72\nclearAllBlankLines=false\nindentationChar=space\nindentationSize=4\nsplitMultiAttrs=false\nalignEndBracket=false\ncleanupTagNameCase=0\ncleanupAttrNameCase=0\ninsertRequiredAttrs=false\ninsertMissingTags=false\nquoteAttrValues=true\nformatSource=true\nconvertEOLCodes=false\ninputCodeset=\noutputCodeset=UTF-8\nendOfLineCode=\ntagNameCase=1\nattrNameCase=1\ndefaultExtension=html\ninlineElements=a,abbr,acronym,b,basefont,big,br,cite,em,font,i,img,input,label,li,q,s,select,small,span,strike,strong,sub,sup,td,th,title,u\n\nattrDuplicate=2\nattrInvalidName=2\nattrInvalidValue=2\nattrNameMismatch=2\nattrNamesToIgnore=\nattrUndefName=2\nattrUndefValue=2\nattrValueEqualsMissing=2\nattrValueMismatch=1\nattrValueUnclosed=2\ncdataInvalidContent=2\ncdataUnclosed=1\ncommentInvalidContent=2\ncommentUnclosed=1\ndocDoctypeUnclosed=1\ndocDuplicateTag=1\ndocInvalidChar=2\ndocInvalidContent=2\neclipse.preferences.version=1\nelemCoexistence=2\nelemDuplicate=2\nelemEndInvalidCase=1\nelemInvalidContent=2\nelemInvalidDirective=1\nelemInvalidEmptyTag=2\nelemInvalidName=1\nelemInvalidText=2\nelemMissingEnd=2\nelemMissingStart=2\nelemStartInvalidCase=2\nelemUnclosedEndTag=1\nelemUnclosedStartTag=1\nelemUnknownName=-1\nelemUnnecessaryEnd=2\nignoreAttrNames=false\nignoreElementNames=false\npiInvalidContent=2\npiUnclosed=1\npiUndefined=2\nrefInvalidContent=2\nresourceNotFound=2\n</code></pre>\n"}],"owner":{"account_id":136750,"reputation":6224,"user_id":340467,"accept_rate":68,"display_name":"benzen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66104184,"answer_count":2,"score":1,"last_activity_date":1683195939,"creation_date":1612794374,"question_id":66103499,"body_markdown":"I&#39;m using spotless to format code in my project.\r\nI&#39;ve decided to use WTP plugin to format html, css and js in this projet.\r\n\r\nThere should be a config to select the way html is formated. eg. with space instead of tab.\r\n\r\nhttps://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-web-tools-platform\r\n\r\nThe file path given is .metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.wst.html.core.prefs.\r\n\r\nBut I have no clue where this file is. I tryed to install elicpse and find the given file, with no luck.","title":"spotless elicpse wtp format config file","body":"<p>I'm using spotless to format code in my project.\nI've decided to use WTP plugin to format html, css and js in this projet.</p>\n<p>There should be a config to select the way html is formated. eg. with space instead of tab.</p>\n<p><a href=\"https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-web-tools-platform\" rel=\"nofollow noreferrer\">https://github.com/diffplug/spotless/tree/main/plugin-gradle#eclipse-web-tools-platform</a></p>\n<p>The file path given is .metadata/.plugins/org.eclipse.core.runtime/.settings/org.eclipse.wst.html.core.prefs.</p>\n<p>But I have no clue where this file is. I tryed to install elicpse and find the given file, with no luck.</p>\n"},{"tags":["java","spring-boot","kotlin","mockito","logback"],"answers":[{"comments":[{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":1,"creation_date":1680008011,"post_id":71823439,"comment_id":133820230,"body_markdown":"You can also think about not mocking the exception. Then you don&#39;t have to override the logback version.","body":"You can also think about not mocking the exception. Then you don&#39;t have to override the logback version."}],"tags":[],"owner":{"account_id":21260902,"reputation":984,"user_id":15641685,"display_name":"Huu Phuong Vu"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1666177314,"creation_date":1649658312,"answer_id":71823439,"question_id":71810594,"body_markdown":"This issue was introduced in `logback:1.2.11` by this [commit][1]. It is tracked in this Jira [ticket][2].\r\n\r\n`Logback` was upgraded to 1.2.11 from spring boot 2.6.5, you can refer to this [changelog][3]. So you would have encountered this same error if you upgraded to 2.6.5.\r\n\r\nWhat we can do now is override the version of `logback` to 1.2.10 by adding this line in `build.gradle` file.\r\n\r\n```kotlin\r\next[&quot;logback.version&quot;] = &quot;1.2.10&quot;\r\n```\r\n\r\nIf you&#39;re using Maven `dependencyManagement` section for Spring Boot dependencies instead of the starter parent then you can try this:\r\n\r\n```xml\r\n&lt;!-- ... --&gt;\r\n&lt;dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;!-- temp. override logback version for https://jira.qos.ch/browse/LOGBACK-1623--&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.5&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencyManagement&gt;\r\n&lt;!-- ... --&gt;\r\n```\r\n\r\n**Update**: Spring Boot 2 latest version (2.7.5) is still using `logback:1.2.11`.\r\n\r\n\r\n  [1]: https://github.com/qos-ch/logback/commit/398aa4bd8f2bc0bb7f1465e8f7aca418c4464c15#diff-91f381102ba772e2944bcc4d01e615b39d0f366a91b9dddd05b29d736cbea9c1\r\n  [2]: https://jira.qos.ch/browse/LOGBACK-1623\r\n  [3]: https://github.com/spring-projects/spring-boot/releases/tag/v2.6.5","title":"Spring Boot 2.6.4 -&gt; 2.6.6 : strange NullPointerException within Logback when logging a mock Exception","body":"<p>This issue was introduced in <code>logback:1.2.11</code> by this <a href=\"https://github.com/qos-ch/logback/commit/398aa4bd8f2bc0bb7f1465e8f7aca418c4464c15#diff-91f381102ba772e2944bcc4d01e615b39d0f366a91b9dddd05b29d736cbea9c1\" rel=\"noreferrer\">commit</a>. It is tracked in this Jira <a href=\"https://jira.qos.ch/browse/LOGBACK-1623\" rel=\"noreferrer\">ticket</a>.</p>\n<p><code>Logback</code> was upgraded to 1.2.11 from spring boot 2.6.5, you can refer to this <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.6.5\" rel=\"noreferrer\">changelog</a>. So you would have encountered this same error if you upgraded to 2.6.5.</p>\n<p>What we can do now is override the version of <code>logback</code> to 1.2.10 by adding this line in <code>build.gradle</code> file.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ext[&quot;logback.version&quot;] = &quot;1.2.10&quot;\n</code></pre>\n<p>If you're using Maven <code>dependencyManagement</code> section for Spring Boot dependencies instead of the starter parent then you can try this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;!-- temp. override logback version for https://jira.qos.ch/browse/LOGBACK-1623--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n      &lt;version&gt;1.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;2.7.5&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencyManagement&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n<p><strong>Update</strong>: Spring Boot 2 latest version (2.7.5) is still using <code>logback:1.2.11</code>.</p>\n"},{"comments":[{"owner":{"account_id":8103646,"reputation":1127,"user_id":7027380,"display_name":"BartusZak"},"score":0,"creation_date":1692351197,"post_id":76172149,"comment_id":135614131,"body_markdown":"`Cannot resolve method &#39;when&#39; in &#39;LoggerFactory&#39;`","body":"<code>Cannot resolve method &#39;when&#39; in &#39;LoggerFactory&#39;</code>"}],"tags":[],"owner":{"account_id":10666242,"reputation":47,"user_id":7852740,"display_name":"hpu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683195851,"creation_date":1683195851,"answer_id":76172149,"question_id":71810594,"body_markdown":"If it is just for tests you can mock the LoggerFactory\r\n\r\n```\r\n        try (MockedStatic&lt;LoggerFactory&gt; loggerFactoryMock = Mockito.mockStatic(LoggerFactory.class)) {\r\n            loggerFactoryMock.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(Mockito.mock(Logger.class));\r\n            // your code\r\n        }\r\n```","title":"Spring Boot 2.6.4 -&gt; 2.6.6 : strange NullPointerException within Logback when logging a mock Exception","body":"<p>If it is just for tests you can mock the LoggerFactory</p>\n<pre><code>        try (MockedStatic&lt;LoggerFactory&gt; loggerFactoryMock = Mockito.mockStatic(LoggerFactory.class)) {\n            loggerFactoryMock.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(Mockito.mock(Logger.class));\n            // your code\n        }\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3736,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":71823439,"answer_count":2,"score":8,"last_activity_date":1683195851,"creation_date":1649527106,"question_id":71810594,"body_markdown":"while upgrading from Spring Boot 2.6.4 to 2.6.6 , one of my tests (written in Kotlin), fails :\r\n\r\n```java\r\n    @Test\r\n    fun shouldLogProperMessageIfNotAbleToHitAPI() {\r\n\r\n        val configValidator = ConfigValidator(GitHubCrawlerProperties(SourceControlConfig(url = &quot;someIncorrectURL&quot;,organizationName=&quot;someOrg&quot;)),mockRemoteSourceControl)\r\n\r\n        `when`(mockRemoteSourceControl.validateRemoteConfig(&quot;someOrg&quot;)).thenThrow(NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java)))\r\n\r\n        val validationErrors=configValidator.getValidationErrors()\r\n\r\n        assertThat(validationErrors).hasSize(1);\r\n\r\n    }\r\n\r\n```\r\n\r\nthe build passes with Spring Boot 2.6.4. It works in Spring Boot 2.6.6 when I run the test individually in my IDE, but fails during the maven build.\r\n\r\nthe stacktrace was not showing by default, but after surrounding the call by a try/catch, I am able to get it, and it points to Logback : \r\n\r\n    java.lang.NullPointerException: null\r\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\r\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\r\n            at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\r\n            at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\r\n            at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\r\n            at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\r\n            at ch.qos.logback.classic.Logger.error(Logger.java:538)\r\n            at com.societegenerale.githubcrawler.ConfigValidator.getValidationErrors(ConfigValidator.kt:48)\r\n\r\nLogback version doesn&#39;t seem to change, I still get v 1.2.11 .\r\n\r\nLooking at Logback source code, in ThrowableProxy :\r\n\r\n```java\r\n\t\tif (GET_SUPPRESSED_METHOD != null) {\r\n\t\t\t// this will only execute on Java 7\r\n\t\t\tThrowable[] throwableSuppressed = extractSupressedThrowables(throwable);\r\n\t\t\t\r\n\t\t\tif (throwableSuppressed.length &gt; 0) {\r\n\t\t\t\tList&lt;ThrowableProxy&gt; suppressedList = new ArrayList&lt;ThrowableProxy&gt;(throwableSuppressed.length);\r\n\t\t\t\tfor (Throwable sup : throwableSuppressed) {\r\n...\r\n```\r\n\r\nnote : I build with Java 11, so the comment saying in Logback source code that `this will only execute on Java 7` , seems wrong.\r\n\r\nIt seems that `throwableSuppressed` is null, and I get the NPE when `throwableSuppressed.size` is called.\r\n\r\n\r\nThe test passes if instead of using a mock in `NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java))` , I use `NoReachableRepositories(&quot;problem !&quot;,Exception())`\r\n\r\nI realize it&#39;s probably better to use a real Exception rather than a mock, so my problem is solved in a way (after spending 2 hours on this..). \r\n\r\nHowever, I am curious : what could cause this issue after upgrading to Spring Boot 2.6.6 which should be a a minor change ?","title":"Spring Boot 2.6.4 -&gt; 2.6.6 : strange NullPointerException within Logback when logging a mock Exception","body":"<p>while upgrading from Spring Boot 2.6.4 to 2.6.6 , one of my tests (written in Kotlin), fails :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    fun shouldLogProperMessageIfNotAbleToHitAPI() {\n\n        val configValidator = ConfigValidator(GitHubCrawlerProperties(SourceControlConfig(url = &quot;someIncorrectURL&quot;,organizationName=&quot;someOrg&quot;)),mockRemoteSourceControl)\n\n        `when`(mockRemoteSourceControl.validateRemoteConfig(&quot;someOrg&quot;)).thenThrow(NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java)))\n\n        val validationErrors=configValidator.getValidationErrors()\n\n        assertThat(validationErrors).hasSize(1);\n\n    }\n\n</code></pre>\n<p>the build passes with Spring Boot 2.6.4. It works in Spring Boot 2.6.6 when I run the test individually in my IDE, but fails during the maven build.</p>\n<p>the stacktrace was not showing by default, but after surrounding the call by a try/catch, I am able to get it, and it points to Logback :</p>\n<pre><code>java.lang.NullPointerException: null\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:99)\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:89)\n        at ch.qos.logback.classic.spi.ThrowableProxy.&lt;init&gt;(ThrowableProxy.java:62)\n        at ch.qos.logback.classic.spi.LoggingEvent.&lt;init&gt;(LoggingEvent.java:119)\n        at ch.qos.logback.classic.Logger.buildLoggingEventAndAppend(Logger.java:419)\n        at ch.qos.logback.classic.Logger.filterAndLog_0_Or3Plus(Logger.java:383)\n        at ch.qos.logback.classic.Logger.error(Logger.java:538)\n        at com.societegenerale.githubcrawler.ConfigValidator.getValidationErrors(ConfigValidator.kt:48)\n</code></pre>\n<p>Logback version doesn't seem to change, I still get v 1.2.11 .</p>\n<p>Looking at Logback source code, in ThrowableProxy :</p>\n<pre class=\"lang-java prettyprint-override\"><code>        if (GET_SUPPRESSED_METHOD != null) {\n            // this will only execute on Java 7\n            Throwable[] throwableSuppressed = extractSupressedThrowables(throwable);\n            \n            if (throwableSuppressed.length &gt; 0) {\n                List&lt;ThrowableProxy&gt; suppressedList = new ArrayList&lt;ThrowableProxy&gt;(throwableSuppressed.length);\n                for (Throwable sup : throwableSuppressed) {\n...\n</code></pre>\n<p>note : I build with Java 11, so the comment saying in Logback source code that <code>this will only execute on Java 7</code> , seems wrong.</p>\n<p>It seems that <code>throwableSuppressed</code> is null, and I get the NPE when <code>throwableSuppressed.size</code> is called.</p>\n<p>The test passes if instead of using a mock in <code>NoReachableRepositories(&quot;problem !&quot;,mock(Exception::class.java))</code> , I use <code>NoReachableRepositories(&quot;problem !&quot;,Exception())</code></p>\n<p>I realize it's probably better to use a real Exception rather than a mock, so my problem is solved in a way (after spending 2 hours on this..).</p>\n<p>However, I am curious : what could cause this issue after upgrading to Spring Boot 2.6.6 which should be a a minor change ?</p>\n"},{"tags":["java","arraylist","collections"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1420612425,"post_id":27813616,"comment_id":44034297,"body_markdown":"do you mean just swapping n-1 with 1st element?","body":"do you mean just swapping n-1 with 1st element?"},{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1420612611,"post_id":27813616,"comment_id":44034369,"body_markdown":"I&#39;m sorry I have edited my question. I did not mean to swap n-1 with 1st element, I meant to move n-1 element to the 1st index position so that the element at 1st index will be pushed down to the 2nd index after rotating.","body":"I&#39;m sorry I have edited my question. I did not mean to swap n-1 with 1st element, I meant to move n-1 element to the 1st index position so that the element at 1st index will be pushed down to the 2nd index after rotating."}],"answers":[{"comments":[{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1420613763,"post_id":27813883,"comment_id":44034804,"body_markdown":"Perfect! Thanks a lot for an insightful information. Now works as expected.","body":"Perfect! Thanks a lot for an insightful information. Now works as expected."},{"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"score":0,"creation_date":1420614617,"post_id":27813883,"comment_id":44035131,"body_markdown":"Just a clarification, if the distance is positive (1) then element at max+1 will be moved to min right? and if the distance is negative (-1) then element at min will be moved to max+1 right? I did not quite get the hang of rotate() method, would be of great help if you could shed some light on this.","body":"Just a clarification, if the distance is positive (1) then element at max+1 will be moved to min right? and if the distance is negative (-1) then element at min will be moved to max+1 right? I did not quite get the hang of rotate() method, would be of great help if you could shed some light on this."},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1420616870,"post_id":27813883,"comment_id":44035936,"body_markdown":"so if your elements are a,b,c and if your distance is 1, then output would be c,a,b (right shift), while if was negative then it would be a left shift b,c,a.","body":"so if your elements are a,b,c and if your distance is 1, then output would be c,a,b (right shift), while if was negative then it would be a left shift b,c,a."}],"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1420613244,"creation_date":1420613244,"answer_id":27813883,"question_id":27813616,"body_markdown":"Two issues:\r\n\r\n- You are trying to get sublist from 3 to 1 which should be vice versa. So you could check min and max and then try to get sublist.\r\n- Your sublist call will bring you element say from index 1 to n-1 i.e. if you pass 3, you will get just two elements i.e. index 1 and 2 and not the third one. See this [javadoc](http://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList(int,%20int)) for details. You could do something like:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        int indexOfSubName = 0;\r\n        int indexOfMultipleName = 0;\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            String name = list.get(i);\r\n            if (name.equalsIgnoreCase(&quot;Subsequent&quot;)) {\r\n                indexOfSubName = list.indexOf(name);\r\n            }\r\n            if (name.equalsIgnoreCase(&quot;Multiple&quot;)) {\r\n                indexOfMultipleName = list.indexOf(name);\r\n            }\r\n        }\r\n        int min = Math.min(indexOfMultipleName, indexOfSubName);\r\n        int max = Math.max(indexOfMultipleName, indexOfSubName);\r\n        Collections.rotate(list.subList(min, max+1), 1);\r\n        System.out.println(list);\r\n\r\nif you run this, you will get output as what you need:\r\n\r\n    [Periodic, Subsequent, Multiple, Single, Consecutive]","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>Two issues:</p>\n\n<ul>\n<li>You are trying to get sublist from 3 to 1 which should be vice versa. So you could check min and max and then try to get sublist.</li>\n<li><p>Your sublist call will bring you element say from index 1 to n-1 i.e. if you pass 3, you will get just two elements i.e. index 1 and 2 and not the third one. See this <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/List.html#subList(int,%20int)\" rel=\"nofollow\">javadoc</a> for details. You could do something like:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\"));\nint indexOfSubName = 0;\nint indexOfMultipleName = 0;\nfor (int i = 0; i &lt; list.size(); i++) {\n    String name = list.get(i);\n    if (name.equalsIgnoreCase(\"Subsequent\")) {\n        indexOfSubName = list.indexOf(name);\n    }\n    if (name.equalsIgnoreCase(\"Multiple\")) {\n        indexOfMultipleName = list.indexOf(name);\n    }\n}\nint min = Math.min(indexOfMultipleName, indexOfSubName);\nint max = Math.max(indexOfMultipleName, indexOfSubName);\nCollections.rotate(list.subList(min, max+1), 1);\nSystem.out.println(list);\n</code></pre></li>\n</ul>\n\n<p>if you run this, you will get output as what you need:</p>\n\n<pre><code>[Periodic, Subsequent, Multiple, Single, Consecutive]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":183892,"reputation":1036,"user_id":419581,"accept_rate":100,"display_name":"r&#233;my"},"score":0,"creation_date":1441210914,"post_id":27814247,"comment_id":52589456,"body_markdown":"for me it&#39;s distance 1 forward and -1 backward","body":"for me it&#39;s distance 1 forward and -1 backward"}],"tags":[],"owner":{"account_id":5542470,"reputation":176,"user_id":4398479,"display_name":"Brian Whipple"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420614962,"creation_date":1420614962,"answer_id":27814247,"question_id":27813616,"body_markdown":"Almas is correct but the code can be a bit more concise:\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        System.out.format(&quot;Before: %s%n&quot;, list);\r\n        int indexOfSubName = list.indexOf(&quot;Subsequent&quot;);\r\n        int indexOfMultipleName = list.indexOf(&quot;Multiple&quot;);\r\n        int min = Math.min(indexOfMultipleName, indexOfSubName);\r\n        int max = Math.max(indexOfMultipleName, indexOfSubName);\r\n        int distance = 1; // Can be 1 or -2\r\n        Collections.rotate(list.subList(min, max + 1), distance);\r\n        System.out.format(&quot;After: %s%n&quot;, list);\r\n\r\nYou can rotate the sublist 1 distance forward or -2 distance backward for the same effect.","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>Almas is correct but the code can be a bit more concise:</p>\n\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\"));\n    System.out.format(\"Before: %s%n\", list);\n    int indexOfSubName = list.indexOf(\"Subsequent\");\n    int indexOfMultipleName = list.indexOf(\"Multiple\");\n    int min = Math.min(indexOfMultipleName, indexOfSubName);\n    int max = Math.max(indexOfMultipleName, indexOfSubName);\n    int distance = 1; // Can be 1 or -2\n    Collections.rotate(list.subList(min, max + 1), distance);\n    System.out.format(\"After: %s%n\", list);\n</code></pre>\n\n<p>You can rotate the sublist 1 distance forward or -2 distance backward for the same effect.</p>\n"},{"tags":[],"owner":{"account_id":8698932,"reputation":342,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683195804,"creation_date":1683195804,"answer_id":76172143,"question_id":27813616,"body_markdown":"actually list does it automatically when adding an item to a certain index, no need to use rotate:\r\n\r\n    //                                                                   (.) -----------------&gt; (.)\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        list.remove(&quot;Multiple&quot;);\r\n        int newPosition = 3;\r\n        list.add(newPosition, &quot;Multiple&quot;);\r\n        System.out.println(list);\r\n        //                                                   (.) &lt;------------------ (.)\r\n        list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n        list.remove(&quot;Subsequent&quot;);\r\n        newPosition = 1;\r\n        list.add(newPosition, &quot;Subsequent&quot;);\r\n        System.out.println(list);\r\n\r\n\r\noutput:\r\n\r\n   \r\n\r\n    [Periodic, Single, Subsequent, Multiple, Consecutive]\r\n    [Periodic, Subsequent, Multiple, Single, Consecutive]","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>actually list does it automatically when adding an item to a certain index, no need to use rotate:</p>\n<pre><code>//                                                                   (.) -----------------&gt; (.)\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\n    list.remove(&quot;Multiple&quot;);\n    int newPosition = 3;\n    list.add(newPosition, &quot;Multiple&quot;);\n    System.out.println(list);\n    //                                                   (.) &lt;------------------ (.)\n    list = new ArrayList&lt;&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\n    list.remove(&quot;Subsequent&quot;);\n    newPosition = 1;\n    list.add(newPosition, &quot;Subsequent&quot;);\n    System.out.println(list);\n</code></pre>\n<p>output:</p>\n<pre><code>[Periodic, Single, Subsequent, Multiple, Consecutive]\n[Periodic, Subsequent, Multiple, Single, Consecutive]\n</code></pre>\n"}],"owner":{"account_id":4084752,"reputation":355,"user_id":3354299,"accept_rate":54,"display_name":"Sangli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27813883,"answer_count":3,"score":1,"last_activity_date":1683195804,"creation_date":1420612003,"question_id":27813616,"body_markdown":"I have an ArrayList as mentioned below (My Code Snippet). \r\n\r\nMy List elements are in this order initially - *(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;).*\r\n\r\nAfter applying **Collections.rotate()** on my List elements the modified List should look like - \r\n\r\n*(&quot;Periodic&quot;, &quot;Subsequent&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Consecutive&quot;)*. \r\n\r\nElement &quot;Subsequent&quot; needs to be moved backward to the 1st index element in the List which is &quot;Multiple&quot;, so that the element at 1st index will be pushed down to the 2nd index after rotating.\r\n\r\nWhen I tried using **Collections.rotate()**, it throws an Exception.\r\n\r\n&gt; **IllegalArgumentException** **&quot;fromIndex &gt; toIndex&quot;**.\r\n\r\nI researched and understood the error, **toIndex** should always be greater than or equal to **fromIndex**, but I could not quite figure out how to modify my code snippet in order to achieve what I need. \r\n\r\nAny suggestions would greatly be appreciated. \r\n\r\nIsn&#39;t it possible to move an element backward in a List using **rotate()** method?\r\n\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(&quot;Periodic&quot;, &quot;Multiple&quot;, &quot;Single&quot;, &quot;Subsequent&quot;, &quot;Consecutive&quot;));\r\n           for (int i = 0; i &lt; list.size(); i++) {\r\n                int indexOfSubName = 0;\r\n                int indexOfMultipleName = 0;\r\n\r\n                String name = list.get(i);\r\n\r\n                if (name.equalsIgnoreCase(&quot;Subsequent&quot;)) {\r\n                    indexOfSubName = list.indexOf(name);\r\n\r\n                }\r\n\r\n                if (name.equalsIgnoreCase(&quot;Multiple&quot;)) {\r\n                    int indexOfMultipleName = list.indexOf(name);\r\n                }\r\n               Collections.rotate(list.subList(indexOfSubName , indexOfMultipleName ), 1);\r\n            }\r\n\r\n     \r\n","title":"Move element backward in a List using Collections.rotate() in Java","body":"<p>I have an ArrayList as mentioned below (My Code Snippet). </p>\n\n<p>My List elements are in this order initially - <em>(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\").</em></p>\n\n<p>After applying <strong>Collections.rotate()</strong> on my List elements the modified List should look like - </p>\n\n<p><em>(\"Periodic\", \"Subsequent\", \"Multiple\", \"Single\", \"Consecutive\")</em>. </p>\n\n<p>Element \"Subsequent\" needs to be moved backward to the 1st index element in the List which is \"Multiple\", so that the element at 1st index will be pushed down to the 2nd index after rotating.</p>\n\n<p>When I tried using <strong>Collections.rotate()</strong>, it throws an Exception.</p>\n\n<blockquote>\n  <p><strong>IllegalArgumentException</strong> <strong>\"fromIndex > toIndex\"</strong>.</p>\n</blockquote>\n\n<p>I researched and understood the error, <strong>toIndex</strong> should always be greater than or equal to <strong>fromIndex</strong>, but I could not quite figure out how to modify my code snippet in order to achieve what I need. </p>\n\n<p>Any suggestions would greatly be appreciated. </p>\n\n<p>Isn't it possible to move an element backward in a List using <strong>rotate()</strong> method?</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(\"Periodic\", \"Multiple\", \"Single\", \"Subsequent\", \"Consecutive\"));\n       for (int i = 0; i &lt; list.size(); i++) {\n            int indexOfSubName = 0;\n            int indexOfMultipleName = 0;\n\n            String name = list.get(i);\n\n            if (name.equalsIgnoreCase(\"Subsequent\")) {\n                indexOfSubName = list.indexOf(name);\n\n            }\n\n            if (name.equalsIgnoreCase(\"Multiple\")) {\n                int indexOfMultipleName = list.indexOf(name);\n            }\n           Collections.rotate(list.subList(indexOfSubName , indexOfMultipleName ), 1);\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3395988,"reputation":469,"user_id":2849596,"accept_rate":86,"display_name":"Meet K."},"score":0,"creation_date":1592661074,"post_id":62486042,"comment_id":110507399,"body_markdown":"Please add the code you have written and the log generated by your Spring application when you make this request.","body":"Please add the code you have written and the log generated by your Spring application when you make this request."},{"owner":{"account_id":1068173,"reputation":766,"user_id":1068125,"accept_rate":17,"display_name":"jrh"},"score":0,"creation_date":1592664648,"post_id":62486042,"comment_id":110508579,"body_markdown":"@Ferdinand, I guess your server is not running at 8080. Please verify whether the server is running or not.","body":"@Ferdinand, I guess your server is not running at 8080. Please verify whether the server is running or not."},{"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"score":0,"creation_date":1593170450,"post_id":62486042,"comment_id":110692704,"body_markdown":"@jrhamza how do i  verify?","body":"@jrhamza how do i  verify?"},{"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"score":0,"creation_date":1593170501,"post_id":62486042,"comment_id":110692729,"body_markdown":"@MeetK. Github link maybe, cause its a lot of code! https://github.com/ferdinandmwal123/SpringRedditClone","body":"@MeetK. Github link maybe, cause its a lot of code! <a href=\"https://github.com/ferdinandmwal123/SpringRedditClone\" rel=\"nofollow noreferrer\">github.com/ferdinandmwal123/SpringRedditClone</a>"},{"owner":{"account_id":1068173,"reputation":766,"user_id":1068125,"accept_rate":17,"display_name":"jrh"},"score":0,"creation_date":1593187047,"post_id":62486042,"comment_id":110701362,"body_markdown":"@Ferdinand, You can check in application.properties for the server.port. If not specified, please check the console for default port, while starting the application. I can see server port  in the eclipse console, while starting the application from eclipse.","body":"@Ferdinand, You can check in application.properties for the server.port. If not specified, please check the console for default port, while starting the application. I can see server port  in the eclipse console, while starting the application from eclipse."}],"answers":[{"tags":[],"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1593502376,"creation_date":1593502376,"answer_id":62652407,"question_id":62486042,"body_markdown":"Missing an @Entity annotation in my models and this was causing a failure in the server. Also, I hadn&#39;t properly mapped some variables.Turns out spring annotations are really important :)","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>Missing an @Entity annotation in my models and this was causing a failure in the server. Also, I hadn't properly mapped some variables.Turns out spring annotations are really important :)</p>\n"},{"tags":[],"owner":{"account_id":11911643,"reputation":184,"user_id":8716705,"display_name":"Ahmad Alhaj-Karim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614680134,"creation_date":1614680134,"answer_id":66437381,"question_id":62486042,"body_markdown":"Api Port Number could also cause this problem.  ","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>Api Port Number could also cause this problem.</p>\n"},{"tags":[],"owner":{"account_id":25466696,"reputation":9,"user_id":19265628,"display_name":"treef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683195700,"creation_date":1683195700,"answer_id":76172120,"question_id":62486042,"body_markdown":"This error could also be caused when your project isn&#39;t running.","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>This error could also be caused when your project isn't running.</p>\n"}],"owner":{"account_id":17379792,"reputation":513,"user_id":13781222,"display_name":"Ferdinand "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62652407,"answer_count":3,"score":1,"last_activity_date":1683195700,"creation_date":1592657470,"question_id":62486042,"body_markdown":"I&#39;m using the spring framework and when I try to register a user with postman I keep getting this error in the console, so I cannot register a user \r\n\r\n```sh\r\nPOST http://localhost:8080/api/auth/signup\r\nError: connect ECONNREFUSED 127.0.0.1:8080\r\nRequest Headers\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.25.0\r\nAccept: */*\r\nPostman-Token: c8f92e31-e8f6-40d9-90b0-2bd4faba0552\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n\r\nRequest Body\r\n{\r\n    &quot;username&quot;:&quot;TestUserX&quot;,\r\n    &quot;email&quot;:&quot;TestUserX@bla.com&quot;,\r\n    &quot;password&quot;:&quot;password1&quot;\r\n}\r\n```\r\n\r\n","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 (Spring Framework)","body":"<p>I'm using the spring framework and when I try to register a user with postman I keep getting this error in the console, so I cannot register a user</p>\n<pre class=\"lang-sh prettyprint-override\"><code>POST http://localhost:8080/api/auth/signup\nError: connect ECONNREFUSED 127.0.0.1:8080\nRequest Headers\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.25.0\nAccept: */*\nPostman-Token: c8f92e31-e8f6-40d9-90b0-2bd4faba0552\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n\nRequest Body\n{\n    &quot;username&quot;:&quot;TestUserX&quot;,\n    &quot;email&quot;:&quot;TestUserX@bla.com&quot;,\n    &quot;password&quot;:&quot;password1&quot;\n}\n</code></pre>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":71001,"reputation":24097,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":0,"creation_date":1312925368,"post_id":7003238,"comment_id":8360977,"body_markdown":"Looks an awful lot like homework, apologies if it is not.","body":"Looks an awful lot like homework, apologies if it is not."}],"answers":[{"comments":[{"owner":{"account_id":71001,"reputation":24097,"user_id":205426,"accept_rate":60,"display_name":"Woot4Moo"},"score":1,"creation_date":1312925408,"post_id":7003249,"comment_id":8360988,"body_markdown":"don&#39;t forget the try/catch block","body":"don&#39;t forget the try/catch block"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":2,"creation_date":1312925454,"post_id":7003249,"comment_id":8360999,"body_markdown":"@Woot, the asker specified that each element is convertible to an `int` so I intentionally omitted it.","body":"@Woot, the asker specified that each element is convertible to an <code>int</code> so I intentionally omitted it."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1312927399,"post_id":7003249,"comment_id":8361444,"body_markdown":"You have a } in place of a { at the start of the for loop.","body":"You have a } in place of a { at the start of the for loop."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1312927507,"creation_date":1312925322,"answer_id":7003249,"question_id":7003238,"body_markdown":"    public static int[] StringArrToIntArr(String[] s) {\r\n       int[] result = new int[s.length];\r\n       for (int i = 0; i &lt; s.length; i++) {\r\n          result[i] = Integer.parseInt(s[i]);\r\n       }\r\n       return result;\r\n    }\r\n\r\nSimply iterate through the string array and convert each element.\r\n\r\n\r\n*Note:*  If any of your elements fail to parse to an `int` this method will throw an exception.  To keep that from happening each call to `Integer.parseInt()` should be placed in a `try/catch` block.  ","title":"Java convert String[] to int[]","body":"<pre><code>public static int[] StringArrToIntArr(String[] s) {\n   int[] result = new int[s.length];\n   for (int i = 0; i &lt; s.length; i++) {\n      result[i] = Integer.parseInt(s[i]);\n   }\n   return result;\n}\n</code></pre>\n\n<p>Simply iterate through the string array and convert each element.</p>\n\n<p><em>Note:</em>  If any of your elements fail to parse to an <code>int</code> this method will throw an exception.  To keep that from happening each call to <code>Integer.parseInt()</code> should be placed in a <code>try/catch</code> block.  </p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1312925633,"creation_date":1312925633,"answer_id":7003280,"question_id":7003238,"body_markdown":"With [Guava][1]:\r\n\r\n    return Ints.toArray(Collections2.transform(Arrays.asList(s), new Function&lt;String, Integer&gt;() {\r\n        public Integer apply(String input) {\r\n            return Integer.valueOf(input);\r\n        }\r\n    });\r\n\r\nAdmittedly this isn&#39;t the cleanest use ever, but since the `Function` could be elsewhere declared it might still be cleaner.\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/index.html","title":"Java convert String[] to int[]","body":"<p>With <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/index.html\" rel=\"nofollow\">Guava</a>:</p>\n\n<pre><code>return Ints.toArray(Collections2.transform(Arrays.asList(s), new Function&lt;String, Integer&gt;() {\n    public Integer apply(String input) {\n        return Integer.valueOf(input);\n    }\n});\n</code></pre>\n\n<p>Admittedly this isn't the cleanest use ever, but since the <code>Function</code> could be elsewhere declared it might still be cleaner.</p>\n"},{"tags":[],"owner":{"account_id":6692881,"reputation":35,"user_id":5161831,"display_name":"Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619308683,"creation_date":1438022893,"answer_id":31660939,"question_id":7003238,"body_markdown":"This is a simple way to convert a String to an Int.\r\n\r\n```java\r\n    String str = &quot;15&quot;;\r\n    int i;\r\n    \r\n    i = Integer.parseInt(str);\r\n```\r\n\r\n\r\nHere is an example were you to do some math with an User&#39;s input:\r\n```java\r\n    int i;\r\n    String input;\r\n    i = Integer.parseInt(str);\r\n    input = JOptionPane.showMessageDialog(null, &quot;Give me a number, and I&#39;ll multiply with 2&quot;);\r\n    JOptionPane.showMessageDialog(null, &quot;The number is: &quot; + i * 2);\r\n```\r\nOutput:\r\n\r\nPopup: A dialog with an input box that says: Give me a number, and I&#39;ll multiply it with 2.\r\n\r\nPopup: The number is: inputNumber * 2\r\n\r\n","title":"Java convert String[] to int[]","body":"<p>This is a simple way to convert a String to an Int.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String str = &quot;15&quot;;\n    int i;\n    \n    i = Integer.parseInt(str);\n</code></pre>\n<p>Here is an example were you to do some math with an User's input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int i;\n    String input;\n    i = Integer.parseInt(str);\n    input = JOptionPane.showMessageDialog(null, &quot;Give me a number, and I'll multiply with 2&quot;);\n    JOptionPane.showMessageDialog(null, &quot;The number is: &quot; + i * 2);\n</code></pre>\n<p>Output:</p>\n<p>Popup: A dialog with an input box that says: Give me a number, and I'll multiply it with 2.</p>\n<p>Popup: The number is: inputNumber * 2</p>\n"},{"tags":[],"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1545383751,"creation_date":1438386425,"answer_id":31756783,"question_id":7003238,"body_markdown":"Now that Java&#39;s finally caught up to functional programming, there&#39;s a better answer:\r\n\r\n    int[] StringArrayToIntArray(String[] stringArray)\r\n    {\r\n        return Stream.of(stringArray).mapToInt(Integer::parseInt).toArray();\r\n    }","title":"Java convert String[] to int[]","body":"<p>Now that Java's finally caught up to functional programming, there's a better answer:</p>\n\n<pre><code>int[] StringArrayToIntArray(String[] stringArray)\n{\n    return Stream.of(stringArray).mapToInt(Integer::parseInt).toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10317284,"reputation":518,"user_id":10130045,"display_name":"Daniel Bentes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661792059,"creation_date":1661792059,"answer_id":73532148,"question_id":7003238,"body_markdown":"convert String[] to Integer[] in java 8:\r\n \r\n\r\n    Integer[] myArray = Stream.of(new String[] { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; })\r\n            .map(Integer::parseInt)\r\n            .toArray(Integer[]::new);","title":"Java convert String[] to int[]","body":"<p>convert String[] to Integer[] in java 8:</p>\n<pre><code>Integer[] myArray = Stream.of(new String[] { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; })\n        .map(Integer::parseInt)\n        .toArray(Integer[]::new);\n</code></pre>\n"}],"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15610,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":7003249,"answer_count":5,"score":10,"last_activity_date":1683195553,"creation_date":1312925242,"question_id":7003238,"body_markdown":"I have a String[], where each element is convertible to an integer.  What&#39;s the best way I can convert this to an int[]?  \r\n\r\n    int[] StringArrayToIntArray(String[] s)\r\n    {\r\n        ... ? ...\r\n    }","title":"Java convert String[] to int[]","body":"<p>I have a String[], where each element is convertible to an integer.  What's the best way I can convert this to an int[]?  </p>\n\n<pre><code>int[] StringArrayToIntArray(String[] s)\n{\n    ... ? ...\n}\n</code></pre>\n"},{"tags":["java","class","naming-conventions"],"comments":[{"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"score":2,"creation_date":1343320024,"post_id":11673750,"comment_id":15473988,"body_markdown":"I think most would say it is perfectly fine to have a plural class name.","body":"I think most would say it is perfectly fine to have a plural class name."},{"owner":{"account_id":5670392,"reputation":2796,"user_id":4485195,"display_name":"Lawakush Kurmi"},"score":0,"creation_date":1454653516,"post_id":11673750,"comment_id":58149978,"body_markdown":"I have a query regarding the naming convention , i want to create a been  which will store list of repair job of a product. Then which name will be appropriate like:- ProductJob or ProductJobs, Please suggest.","body":"I have a query regarding the naming convention , i want to create a been  which will store list of repair job of a product. Then which name will be appropriate like:- ProductJob or ProductJobs, Please suggest."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1458217431,"post_id":11673750,"comment_id":59767478,"body_markdown":"Package names equivalent: http://programmers.stackexchange.com/q/75919/78534","body":"Package names equivalent: <a href=\"http://programmers.stackexchange.com/q/75919/78534\">programmers.stackexchange.com/q/75919/78534</a>"}],"answers":[{"tags":[],"owner":{"account_id":1592427,"reputation":7865,"user_id":1475461,"accept_rate":81,"display_name":"Jon Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343320074,"creation_date":1343320074,"answer_id":11673805,"question_id":11673750,"body_markdown":"Yes perfectly acceptable to have plurals, look at `Collections` for example, it is a class which has many static methods which help when dealing with different flavours of collection.","title":"Is it good practice for Java class names to be plural?","body":"<p>Yes perfectly acceptable to have plurals, look at <code>Collections</code> for example, it is a class which has many static methods which help when dealing with different flavours of collection.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1343323049,"creation_date":1343320191,"answer_id":11673838,"question_id":11673750,"body_markdown":"[`Arrays`](http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html), [`Collections`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html), [`Executors`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html), [`Files`](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html), [`Objects`](http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html), [`Utilities` [!]](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/Utilities.html) - examples from JDK. It *kind of* violates OO design since all these classes are just namespaces holding utility or factory methods of objects in question while the name suggest they actually contain or maintain a collection of such objects. But being reasonable - I find these names readable and completely fine.\r\n\r\nBTW looks like such a naming convention was very popular among Java 7 API designers.","title":"Is it good practice for Java class names to be plural?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"noreferrer\"><code>Arrays</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html\" rel=\"noreferrer\"><code>Collections</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html\" rel=\"noreferrer\"><code>Executors</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\"><code>Files</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html\" rel=\"noreferrer\"><code>Objects</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/Utilities.html\" rel=\"noreferrer\"><code>Utilities</code> [!]</a> - examples from JDK. It <em>kind of</em> violates OO design since all these classes are just namespaces holding utility or factory methods of objects in question while the name suggest they actually contain or maintain a collection of such objects. But being reasonable - I find these names readable and completely fine.</p>\n\n<p>BTW looks like such a naming convention was very popular among Java 7 API designers.</p>\n"},{"tags":[],"owner":{"account_id":1413944,"reputation":59688,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343320200,"creation_date":1343320200,"answer_id":11673844,"question_id":11673750,"body_markdown":"Only issue I see is that a &quot;utils&quot; is pretty ill-defined.  You want the class to refer to the object, not the collection of methods in the object.  Basically, it&#39;s just not a very object oriented name, and it&#39;s not even about OOP - a &quot;utils&quot; file is pretty poor structured programming often.\r\n\r\n","title":"Is it good practice for Java class names to be plural?","body":"<p>Only issue I see is that a \"utils\" is pretty ill-defined.  You want the class to refer to the object, not the collection of methods in the object.  Basically, it's just not a very object oriented name, and it's not even about OOP - a \"utils\" file is pretty poor structured programming often.</p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1343320295,"post_id":11673853,"comment_id":15474084,"body_markdown":"The question is not whether it is valid in java but whether it is a standard practice.","body":"The question is not whether it is valid in java but whether it is a standard practice."},{"owner":{"account_id":334119,"reputation":885,"user_id":660352,"accept_rate":64,"display_name":"Jagdev Singh"},"score":1,"creation_date":1343325818,"post_id":11673853,"comment_id":15476415,"body_markdown":"Thanks to all for your suggetions.So the conclusion is plurals are allowed in class name but it should be named properly.","body":"Thanks to all for your suggetions.So the conclusion is plurals are allowed in class name but it should be named properly."}],"tags":[],"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343320229,"creation_date":1343320229,"answer_id":11673853,"question_id":11673750,"body_markdown":"Have a look at jls7 http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf . I found anything wrong about naming classes in plural.","title":"Is it good practice for Java class names to be plural?","body":"<p>Have a look at jls7 <a href=\"http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se7/jls7.pdf</a> . I found anything wrong about naming classes in plural.</p>\n"}],"owner":{"account_id":334119,"reputation":885,"user_id":660352,"accept_rate":64,"display_name":"Jagdev Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33472,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":11673838,"answer_count":4,"score":36,"last_activity_date":1683195167,"creation_date":1343319858,"question_id":11673750,"body_markdown":"Is it good to have Java class name like `ExtractionUtils`? In naming conventions I couldn&#39;t find anything about using plural names for Java classes.\r\nI have seen classes with names like this before.","title":"Is it good practice for Java class names to be plural?","body":"<p>Is it good to have Java class name like <code>ExtractionUtils</code>? In naming conventions I couldn't find anything about using plural names for Java classes.\nI have seen classes with names like this before.</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"score":0,"creation_date":1583508295,"post_id":60565611,"comment_id":107152476,"body_markdown":"Where and how your controller is defined? Did you override the `DispatcherServlet` default config? It seems strange that your controller is not hit after the filters processing.","body":"Where and how your controller is defined? Did you override the <code>DispatcherServlet</code> default config? It seems strange that your controller is not hit after the filters processing."},{"owner":{"account_id":9136131,"reputation":35,"user_id":6795764,"display_name":"Sandwich"},"score":0,"creation_date":1583508429,"post_id":60565611,"comment_id":107152545,"body_markdown":"My controller is defined in a separate class, I&#39;ve verified that it is working without authentication by disabling it and manually going to `/api/example`. So far, it is a very basic one just for testing purposes. It simply writes the URL to the response body. I did not override any configuration for the DispatcherServlet.\n\nThe issue seems to stem from the fact that Spring Security always wants to redirect somewhere, even though I just want it to act like a gateway to the controller.","body":"My controller is defined in a separate class, I&#39;ve verified that it is working without authentication by disabling it and manually going to <code>&#47;api&#47;example</code>. So far, it is a very basic one just for testing purposes. It simply writes the URL to the response body. I did not override any configuration for the DispatcherServlet.  The issue seems to stem from the fact that Spring Security always wants to redirect somewhere, even though I just want it to act like a gateway to the controller."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1583609641,"post_id":60565611,"comment_id":107177874,"body_markdown":"@Sandwich If you don&#39;t want to redirect the request you could always forward the request to your controller. However, you are loosing authorization. All authenticated users with any role are forwarded.","body":"@Sandwich If you don&#39;t want to redirect the request you could always forward the request to your controller. However, you are loosing authorization. All authenticated users with any role are forwarded."},{"owner":{"account_id":9136131,"reputation":35,"user_id":6795764,"display_name":"Sandwich"},"score":0,"creation_date":1583630091,"post_id":60565611,"comment_id":107182003,"body_markdown":"@dur Thanks for the suggestion, I will try that (even though it is a bit of a hack). Thankfully, there are no roles to speak of in this use case. Losing authorisation should not be an issue.","body":"@dur Thanks for the suggestion, I will try that (even though it is a bit of a hack). Thankfully, there are no roles to speak of in this use case. Losing authorisation should not be an issue."}],"owner":{"account_id":9136131,"reputation":35,"user_id":6795764,"display_name":"Sandwich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683194935,"creation_date":1583503248,"question_id":60565611,"body_markdown":"I&#39;m trying to implement the following request flow:\r\n\r\n 1. GET request is sent to `/api/example` with authentication GET parameters\r\n 2. Parameters are parsed in a filter and a generated authentication object is sent for authentication\r\n 3. Provider successfully authenticates the object and returns it to the filter\r\n 4. Filter lets the request through to a controller mapped to `/api/example`\r\n 5. Controller returns the response\r\n\r\nPoints 1 to 3 are already implemented and working, the `successfulAuthentication` method gets called in the filter and there are no issues passing the request to an authentication success handler. I already ran into similar questions (such as [this one][1]) but most of them are outdated, use a lot of XML configuration and most importantly, the answers are not applicable to this use case (usually, some sort of cookie and/or token is expected to be passed both ways between the parties or a controller is not used).\r\n\r\nThe authentication parameters are mandatory and sent with every request, so there is zero need to remember any authentication states outside of the single request scope. The other party sending the GET request also does not need to be informed beyond sending a 401 or returning the expected response.\r\n\r\nUnfortunately, I do not know how to achieve point 4 in the list above. Spring Security authentication success handler attempts to redirect by default which is undesirable as it either causes a infinite redirect loop (in case of redirect to `/api/example`) or invoking an entirely different part of the application (in case of the default `/`).\r\n\r\nHTTP security configuration:\r\n```\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t\t.anonymous().disable()\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t.and()\r\n\t\t.csrf().disable();\r\n\r\n\thttp\r\n\t\t.antMatcher(&quot;/api/**&quot;)\r\n\t\t.addFilterBefore(this.apiAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\r\n\t\t.authorizeRequests()\r\n\t\t.anyRequest()\r\n\t\t.authenticated();\r\n}\r\n```\r\n\r\nRelevant snippet from the authentication filter (extends `AbstractAuthenticationProcessingFilter`):\r\n```\r\n@Override\r\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\r\n\t\t\t\t\t\t\t\t\t\tAuthentication authenticationResult) throws IOException, ServletException {\r\n    SecurityContextHolder.getContext().setAuthentication(authenticationResult);\r\n\r\n    if (this.eventPublisher != null) {\r\n\t    eventPublisher.publishEvent(new InteractiveAuthenticationSuccessEvent(authenticationResult, this.getClass()));\r\n    }\r\n\r\n\tthis.getSuccessHandler().onAuthenticationSuccess(request, response, authenticationResult);\r\n}\r\n```\r\n\r\nThere is also a custom `ApiAuthenticationProvider`, but it&#39;s working without any issues. I&#39;d like to avoid any XML configuration and if possible, also redirects and cookies. Also keep in mind that there are multiple mappings to be authenticated with the same configuration (e.g. `/api/example`, `/api/sample`...).\r\n\r\nApproaches I&#39;ve already tried:\r\n\r\n 1. Redirecting to URL obtained from the request (causes an infinite redirect loop)\r\n 2. Leaving the `onAuthenticationSuccess` method of the `ApiAuthenticationSuccessHandler` empty (returns a blank page)\r\n 3. Continuing the filtering in the `successfulAuthentication` method of the filter (eventually causes a NullPointerException to be thrown)\r\n 4. Extending `SimpleUrlAuthenticationSuccessHandler` and using `setUseReferer(true)` in the constructor (redirects to `/`)\r\n 5. Using `setDefaultTargetUrl` in the handler when extending `SimpleUrlAuthenticationSuccessHandler` and passing URL from the request as an argument (causes an infinite redirect loop)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31842162/how-to-make-spring-security-to-call-the-requested-resource-after-a-successful-au","title":"How do I process the request in a controller after successful stateless authentication in Spring Security 5 &amp; Spring Boot 2?","body":"<p>I'm trying to implement the following request flow:</p>\n<ol>\n<li>GET request is sent to <code>/api/example</code> with authentication GET parameters</li>\n<li>Parameters are parsed in a filter and a generated authentication object is sent for authentication</li>\n<li>Provider successfully authenticates the object and returns it to the filter</li>\n<li>Filter lets the request through to a controller mapped to <code>/api/example</code></li>\n<li>Controller returns the response</li>\n</ol>\n<p>Points 1 to 3 are already implemented and working, the <code>successfulAuthentication</code> method gets called in the filter and there are no issues passing the request to an authentication success handler. I already ran into similar questions (such as <a href=\"https://stackoverflow.com/questions/31842162/how-to-make-spring-security-to-call-the-requested-resource-after-a-successful-au\">this one</a>) but most of them are outdated, use a lot of XML configuration and most importantly, the answers are not applicable to this use case (usually, some sort of cookie and/or token is expected to be passed both ways between the parties or a controller is not used).</p>\n<p>The authentication parameters are mandatory and sent with every request, so there is zero need to remember any authentication states outside of the single request scope. The other party sending the GET request also does not need to be informed beyond sending a 401 or returning the expected response.</p>\n<p>Unfortunately, I do not know how to achieve point 4 in the list above. Spring Security authentication success handler attempts to redirect by default which is undesirable as it either causes a infinite redirect loop (in case of redirect to <code>/api/example</code>) or invoking an entirely different part of the application (in case of the default <code>/</code>).</p>\n<p>HTTP security configuration:</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .anonymous().disable()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .csrf().disable();\n\n    http\n        .antMatcher(&quot;/api/**&quot;)\n        .addFilterBefore(this.apiAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class)\n        .authorizeRequests()\n        .anyRequest()\n        .authenticated();\n}\n</code></pre>\n<p>Relevant snippet from the authentication filter (extends <code>AbstractAuthenticationProcessingFilter</code>):</p>\n<pre><code>@Override\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain,\n                                        Authentication authenticationResult) throws IOException, ServletException {\n    SecurityContextHolder.getContext().setAuthentication(authenticationResult);\n\n    if (this.eventPublisher != null) {\n        eventPublisher.publishEvent(new InteractiveAuthenticationSuccessEvent(authenticationResult, this.getClass()));\n    }\n\n    this.getSuccessHandler().onAuthenticationSuccess(request, response, authenticationResult);\n}\n</code></pre>\n<p>There is also a custom <code>ApiAuthenticationProvider</code>, but it's working without any issues. I'd like to avoid any XML configuration and if possible, also redirects and cookies. Also keep in mind that there are multiple mappings to be authenticated with the same configuration (e.g. <code>/api/example</code>, <code>/api/sample</code>...).</p>\n<p>Approaches I've already tried:</p>\n<ol>\n<li>Redirecting to URL obtained from the request (causes an infinite redirect loop)</li>\n<li>Leaving the <code>onAuthenticationSuccess</code> method of the <code>ApiAuthenticationSuccessHandler</code> empty (returns a blank page)</li>\n<li>Continuing the filtering in the <code>successfulAuthentication</code> method of the filter (eventually causes a NullPointerException to be thrown)</li>\n<li>Extending <code>SimpleUrlAuthenticationSuccessHandler</code> and using <code>setUseReferer(true)</code> in the constructor (redirects to <code>/</code>)</li>\n<li>Using <code>setDefaultTargetUrl</code> in the handler when extending <code>SimpleUrlAuthenticationSuccessHandler</code> and passing URL from the request as an argument (causes an infinite redirect loop)</li>\n</ol>\n"},{"tags":["java","file-upload","sftp","quarkus","jsch"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683193089,"post_id":76171627,"comment_id":134330077,"body_markdown":"You forgot to add logging for the actual names of the paths used for the transfer, and it looks like you forgot the specify a filename (with extension) for the destination of the transfer.","body":"You forgot to add logging for the actual names of the paths used for the transfer, and it looks like you forgot the specify a filename (with extension) for the destination of the transfer."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1683199746,"post_id":76171627,"comment_id":134331590,"body_markdown":"See [Can&#39;t upload file to SFTP server using JSch - No such file (SftpException)](https://stackoverflow.com/q/69016420/850848).","body":"See <a href=\"https://stackoverflow.com/q/69016420/850848\">Can&#39;t upload file to SFTP server using JSch - No such file (SftpException)</a>."}],"answers":[{"tags":[],"owner":{"account_id":13892273,"reputation":43,"user_id":10029945,"display_name":"Eve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683194877,"creation_date":1683194877,"answer_id":76171993,"question_id":76171627,"body_markdown":"Lol, I just found out the answer by my own.\r\n\r\nSimply put the file name in dst. Sample:\r\n\r\n    File file = new File(LOCAL_PATH + fileName);\r\n    sftpChannel.put(new FileInputStream(file), file.getName());\r\n\r\nor simply\r\n\r\n    sftpChannel.put(LOCAL_PATH + fileName, &lt;whatever you want to name for your file + extension&gt;);\r\n\r\nI just realize that JSCH automatically calls the SFTP server directory. So in my case. My default SFTP local server is &quot;/SFTPRoot&quot;. So no need to call the SFTPRoot directory and just simply add the filename (or change it to something new. Example: cat.jpg to cutecat.jpg)\r\n\r\nThen If I create a folder inside of the server then put a file inside that folder, the code will be like this:\r\n\r\n    sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.homePath() + &quot;/cutecat.jpg&quot;);\r\n    \r\n\r\nHope it helps.\r\nmy home folder config is like this:\r\n\r\n    sftp.home-path=/Home\r\n\r\n","title":"JSCH: Success uploading file but not in the right extension","body":"<p>Lol, I just found out the answer by my own.</p>\n<p>Simply put the file name in dst. Sample:</p>\n<pre><code>File file = new File(LOCAL_PATH + fileName);\nsftpChannel.put(new FileInputStream(file), file.getName());\n</code></pre>\n<p>or simply</p>\n<pre><code>sftpChannel.put(LOCAL_PATH + fileName, &lt;whatever you want to name for your file + extension&gt;);\n</code></pre>\n<p>I just realize that JSCH automatically calls the SFTP server directory. So in my case. My default SFTP local server is &quot;/SFTPRoot&quot;. So no need to call the SFTPRoot directory and just simply add the filename (or change it to something new. Example: cat.jpg to cutecat.jpg)</p>\n<p>Then If I create a folder inside of the server then put a file inside that folder, the code will be like this:</p>\n<pre><code>sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.homePath() + &quot;/cutecat.jpg&quot;);\n</code></pre>\n<p>Hope it helps.\nmy home folder config is like this:</p>\n<pre><code>sftp.home-path=/Home\n</code></pre>\n"}],"owner":{"account_id":13892273,"reputation":43,"user_id":10029945,"display_name":"Eve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76171993,"answer_count":1,"score":-1,"last_activity_date":1683194877,"creation_date":1683192501,"question_id":76171627,"body_markdown":"So I uploaded my file to SFTP directory successfully. But here&#39;s the thing. The file uploaded is in &quot;File format&quot; and its name is the same as its directory.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut the actual file is in .jpg file. I also tried it on a .txt file but it&#39;s the same.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlthough, when I manually add &quot;.jpg&quot; or &quot;.txt&quot; on SFTPRoot file, it reads my file and shows the cat picture.\r\n\r\nHere&#39;s my code:\r\n\r\n    private final SFTPConfig sftpConfig;\r\n    private final String KNOWN_HOST = &quot;/Users/xxx/.ssh/known_hosts&quot;;\r\n    private final String LOCAL_PATH = &quot;C:/Users/xxx/Downloads/&quot;;\r\n\r\n    public void setupJsch(int configType, String fileName) throws JSchException, SftpException {\r\n        log.info(&quot;+++++ CONNECTING TO SFTP +++++&quot;);\r\n        JSch jsch = new JSch();\r\n        jsch.setKnownHosts(KNOWN_HOST);\r\n        Session jschSession = jsch.getSession(sftpConfig.username(), sftpConfig.remoteHost(), 22);\r\n        jschSession.setPassword(sftpConfig.password());\r\n        jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        jschSession.connect();\r\n\r\n        Channel channel = jschSession.openChannel(&quot;sftp&quot;);\r\n        ChannelSftp sftpChannel = (ChannelSftp) channel;\r\n        sftpChannel.connect(60000);\r\n        log.info(&quot;+++++ ESTABLISHED CONNECTION +++++&quot;);\r\n\r\n        try {\r\n            if (configType == 1) {\r\n                log.info(&quot;+++++ BEGIN SENDING {} TO SFTP&quot;, fileName);\r\n                sendFile(sftpChannel, fileName);\r\n            } else {\r\n                log.info(&quot;+++++ BEGIN DOWNLOADING {} FROM SFTP&quot;, fileName);\r\n                downloadFile(sftpChannel, fileName);\r\n            }\r\n        } catch (SftpException | FileNotFoundException e) {\r\n            log.error(&quot;Error downloading/sending the file: {}&quot;, e.getMessage());\r\n        }\r\n\r\n        sftpChannel.disconnect();\r\n        jschSession.disconnect();\r\n        log.info(&quot;+++++ DISCONNECTED TO SFTP +++++&quot;);\r\n    }\r\n\r\n    public void sendFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\r\n        sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.sftpPath());\r\n    }\r\n\r\n    public void downloadFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\r\n        sftpChannel.get(sftpConfig.sftpPath()+&quot;/&quot;+filename,LOCAL_PATH);\r\n    }\r\n    }\r\n\r\n\r\nAlso, here&#39;s my sftp config:\r\n\r\n    #---- SFTP CONFIGURATIONS\r\n    sftp.remote-host=localhost\r\n    sftp.username=root\r\n    sftp.password=root\r\n    sftp.path=/SFTPRoot\r\n\r\nI also try the File and FileInputStream but it&#39;s giving me **No Such File** That&#39;s why I&#39;m sticking to earlier approach. Below is my code using input stream.\r\n\r\n    //File file = new File(LOCAL_PATH + fileName);\r\n    //log.warn(&quot;File {}: Exist? {} : {}, Path = {} &quot;, file.getName(), file.exists(), file.isFile(), file.getPath());\r\n    //sftpChannel.put(new FileInputStream(file), sftpConfig.sftpPath());\r\n\r\nDid I forget something? Or do something wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/xB1Jc.png\r\n  [2]: https://i.stack.imgur.com/JKHSy.png","title":"JSCH: Success uploading file but not in the right extension","body":"<p>So I uploaded my file to SFTP directory successfully. But here's the thing. The file uploaded is in &quot;File format&quot; and its name is the same as its directory.</p>\n<p><a href=\"https://i.stack.imgur.com/xB1Jc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xB1Jc.png\" alt=\"enter image description here\" /></a></p>\n<p>But the actual file is in .jpg file. I also tried it on a .txt file but it's the same.</p>\n<p><a href=\"https://i.stack.imgur.com/JKHSy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKHSy.png\" alt=\"enter image description here\" /></a></p>\n<p>Although, when I manually add &quot;.jpg&quot; or &quot;.txt&quot; on SFTPRoot file, it reads my file and shows the cat picture.</p>\n<p>Here's my code:</p>\n<pre><code>private final SFTPConfig sftpConfig;\nprivate final String KNOWN_HOST = &quot;/Users/xxx/.ssh/known_hosts&quot;;\nprivate final String LOCAL_PATH = &quot;C:/Users/xxx/Downloads/&quot;;\n\npublic void setupJsch(int configType, String fileName) throws JSchException, SftpException {\n    log.info(&quot;+++++ CONNECTING TO SFTP +++++&quot;);\n    JSch jsch = new JSch();\n    jsch.setKnownHosts(KNOWN_HOST);\n    Session jschSession = jsch.getSession(sftpConfig.username(), sftpConfig.remoteHost(), 22);\n    jschSession.setPassword(sftpConfig.password());\n    jschSession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    jschSession.connect();\n\n    Channel channel = jschSession.openChannel(&quot;sftp&quot;);\n    ChannelSftp sftpChannel = (ChannelSftp) channel;\n    sftpChannel.connect(60000);\n    log.info(&quot;+++++ ESTABLISHED CONNECTION +++++&quot;);\n\n    try {\n        if (configType == 1) {\n            log.info(&quot;+++++ BEGIN SENDING {} TO SFTP&quot;, fileName);\n            sendFile(sftpChannel, fileName);\n        } else {\n            log.info(&quot;+++++ BEGIN DOWNLOADING {} FROM SFTP&quot;, fileName);\n            downloadFile(sftpChannel, fileName);\n        }\n    } catch (SftpException | FileNotFoundException e) {\n        log.error(&quot;Error downloading/sending the file: {}&quot;, e.getMessage());\n    }\n\n    sftpChannel.disconnect();\n    jschSession.disconnect();\n    log.info(&quot;+++++ DISCONNECTED TO SFTP +++++&quot;);\n}\n\npublic void sendFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\n    sftpChannel.put(LOCAL_PATH + fileName, sftpConfig.sftpPath());\n}\n\npublic void downloadFile(ChannelSftp sftpChannel, String fileName) throws SftpException, FileNotFoundException {\n    sftpChannel.get(sftpConfig.sftpPath()+&quot;/&quot;+filename,LOCAL_PATH);\n}\n}\n</code></pre>\n<p>Also, here's my sftp config:</p>\n<pre><code>#---- SFTP CONFIGURATIONS\nsftp.remote-host=localhost\nsftp.username=root\nsftp.password=root\nsftp.path=/SFTPRoot\n</code></pre>\n<p>I also try the File and FileInputStream but it's giving me <strong>No Such File</strong> That's why I'm sticking to earlier approach. Below is my code using input stream.</p>\n<pre><code>//File file = new File(LOCAL_PATH + fileName);\n//log.warn(&quot;File {}: Exist? {} : {}, Path = {} &quot;, file.getName(), file.exists(), file.isFile(), file.getPath());\n//sftpChannel.put(new FileInputStream(file), sftpConfig.sftpPath());\n</code></pre>\n<p>Did I forget something? Or do something wrong?</p>\n"},{"tags":["java","jackson","objectmapper","fasterxml"],"comments":[{"owner":{"account_id":5646909,"reputation":1460,"user_id":4468663,"display_name":"Anand Dwivedi"},"score":0,"creation_date":1680598985,"post_id":75927375,"comment_id":133921375,"body_markdown":"https://stackoverflow.com/questions/23469784/com-fasterxml-jackson-databind-exc-unrecognizedpropertyexception-unrecognized-f","body":"<a href=\"https://stackoverflow.com/questions/23469784/com-fasterxml-jackson-databind-exc-unrecognizedpropertyexception-unrecognized-f\" title=\"com fasterxml jackson databind exc unrecognizedpropertyexception unrecognized f\">stackoverflow.com/questions/23469784/&hellip;</a>"},{"owner":{"account_id":13356967,"reputation":9,"user_id":9640195,"display_name":"Joe"},"score":0,"creation_date":1680599583,"post_id":75927375,"comment_id":133921525,"body_markdown":"Thanks for your reply. I tried the accepted answer, but with that solution we are missing the Child class member &quot;field&quot; in baseResult object.","body":"Thanks for your reply. I tried the accepted answer, but with that solution we are missing the Child class member &quot;field&quot; in baseResult object."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1680623832,"post_id":75927375,"comment_id":133927960,"body_markdown":"If you don&#39;t want to add any annotation you can check the presence or not of the &quot;field&quot; property. If you want I can write a possible solution without annotations, but this could be resolved automatically with jackson annotations for polymorphism.","body":"If you don&#39;t want to add any annotation you can check the presence or not of the &quot;field&quot; property. If you want I can write a possible solution without annotations, but this could be resolved automatically with jackson annotations for polymorphism."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194803,"creation_date":1683194803,"answer_id":76171982,"question_id":75927375,"body_markdown":"You need to tell Jackson to use deduction-based inference for determing the appropriate sub-class. Jackson will inspect the fields in the JSON and compare to the fields in the sub-classes.\r\n\r\nIf you don&#39;t want to add annotations to the original classes then you can use mix-ins, e.g.:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\r\n    @JsonSubTypes({ @JsonSubTypes.Type(Child.class) })\r\n    public abstract class ParentMixin {}\r\n\r\nand then just register it with your ObjectMapper (the one used for deserialisation):\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.addMixIn(Parent.class, ParentMixin.class);","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent)","body":"<p>You need to tell Jackson to use deduction-based inference for determing the appropriate sub-class. Jackson will inspect the fields in the JSON and compare to the fields in the sub-classes.</p>\n<p>If you don't want to add annotations to the original classes then you can use mix-ins, e.g.:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION)\n@JsonSubTypes({ @JsonSubTypes.Type(Child.class) })\npublic abstract class ParentMixin {}\n</code></pre>\n<p>and then just register it with your ObjectMapper (the one used for deserialisation):</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.addMixIn(Parent.class, ParentMixin.class);\n</code></pre>\n"}],"owner":{"account_id":13356967,"reputation":9,"user_id":9640195,"display_name":"Joe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683194803,"creation_date":1680598520,"question_id":75927375,"body_markdown":"I got a deserialization problem: \r\nTrying to convert class which extends parent class. Please find my class below,\r\n```\r\npublic class Base {\r\n\tParent parent;\r\n\tpublic Parent getParent() {\r\n\t\treturn parent;\r\n\t}\r\n\tpublic void setParent(Parent parent) {\r\n\t\tthis.parent = parent;\r\n\t}\r\n}\r\n-----------------\r\npublic class Parent {\r\n\tString name;\r\n\tString city;\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n}\r\n-----------------\r\npublic class Child extends Parent {\r\n\tString field;\r\n\tpublic String getField() {\r\n\t\treturn field;\r\n\t}\r\n\tpublic void setField(String field) {\r\n\t\tthis.field = field;\r\n\t}\r\n}\r\n```\r\nMain method:\r\n```\r\npublic class TestDeserial {\r\n\tpublic static void main(String[] args) {\r\n\t\tChild c = new Child();\r\n\t\tc.setName(&quot;test1&quot;);\r\n\t\tc.setCity(&quot;Mumbai&quot;);\r\n\t\tc.setField(&quot;allow&quot;);\r\n\t\tBase b = new Base();\r\n\t\tb.setParent(c);\r\n\t\t// Convert object to json\r\n\t\tFile file = new File(&quot;C:\\\\temp\\\\c.json&quot;);\r\n\t\ttry {\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\t\tmapper.writeValue(file, b);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t// Convert json to object\r\n\t\tBase baseResult = null;\r\n\t\ttry (InputStream in = new FileInputStream(&quot;C:\\\\temp\\\\c.json&quot;)) {\r\n\t\t\tObjectMapper objMapper = new ObjectMapper();\r\n\t\t\tbaseResult = objMapper.readValue(in, Base.class);\r\n\t\t} catch (Exception e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nError:\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent), not marked as ignorable (2 known properties: &quot;name&quot;, &quot;city&quot;])\r\n at [Source: (FileInputStream); line: 1, column: 52] (through reference chain: com.mapper.example.Base[&quot;parent&quot;]-&gt;com.mapper.example.Parent[&quot;field&quot;])\r\n\r\nI don&#39;t want to add any annotation in class file. \r\n","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent)","body":"<p>I got a deserialization problem:\nTrying to convert class which extends parent class. Please find my class below,</p>\n<pre><code>public class Base {\n    Parent parent;\n    public Parent getParent() {\n        return parent;\n    }\n    public void setParent(Parent parent) {\n        this.parent = parent;\n    }\n}\n-----------------\npublic class Parent {\n    String name;\n    String city;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n}\n-----------------\npublic class Child extends Parent {\n    String field;\n    public String getField() {\n        return field;\n    }\n    public void setField(String field) {\n        this.field = field;\n    }\n}\n</code></pre>\n<p>Main method:</p>\n<pre><code>public class TestDeserial {\n    public static void main(String[] args) {\n        Child c = new Child();\n        c.setName(&quot;test1&quot;);\n        c.setCity(&quot;Mumbai&quot;);\n        c.setField(&quot;allow&quot;);\n        Base b = new Base();\n        b.setParent(c);\n        // Convert object to json\n        File file = new File(&quot;C:\\\\temp\\\\c.json&quot;);\n        try {\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.writeValue(file, b);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n        // Convert json to object\n        Base baseResult = null;\n        try (InputStream in = new FileInputStream(&quot;C:\\\\temp\\\\c.json&quot;)) {\n            ObjectMapper objMapper = new ObjectMapper();\n            baseResult = objMapper.readValue(in, Base.class);\n        } catch (Exception e1) {\n            e1.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Error:\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;field&quot; (class com.mapper.example.Parent), not marked as ignorable (2 known properties: &quot;name&quot;, &quot;city&quot;])\nat [Source: (FileInputStream); line: 1, column: 52] (through reference chain: com.mapper.example.Base[&quot;parent&quot;]-&gt;com.mapper.example.Parent[&quot;field&quot;])</p>\n<p>I don't want to add any annotation in class file.</p>\n"},{"tags":["java","android","arraylist","adapter","recycle"],"owner":{"account_id":20588509,"reputation":1,"user_id":15112800,"display_name":"Poseid0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683194640,"creation_date":1683194341,"question_id":76171915,"body_markdown":"I have this code block on my `MainActivity`, which I have a recycleview and I am able to reorder a list, when I finish I have a button that finalize and save and return the reordered list in order to check if the items is in the right order\r\n\r\n```\r\n    private void initRecyclerView() {\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter();\r\n        adapter.setDataList(dataModelList,5);\r\n\r\n        ItemTouchHelper.Callback callback = new RecyclerRowMoveCallback(adapter);\r\n        ItemTouchHelper touchHelper = new ItemTouchHelper(callback);\r\n        touchHelper.attachToRecyclerView(recyclerView);\r\n\r\n        recyclerView.setAdapter(adapter);\r\n\r\n\r\n        // Button to finalize the positions\r\n        Button finalizeButton = findViewById(R.id.finalize_button);\r\n        finalizeButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//\r\n                SharedPreferences preferences = getPreferences(MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n\r\n                for (int i = 0; i &lt; dataModelList.size(); i++) {\r\n                    editor.putString(&quot;item_&quot; + i, dataModelList.get(i).getTitle());\r\n                }\r\n                editor.apply();\r\n                isTimerRunning = false;\r\n                // Check if the list is in the right order\r\n                boolean areInOrder = areItemsInOrder(savedList, dataModelList);\r\n                // Display a message\r\n                if (areInOrder) {Do something}\r\n                else{Do something else}\r\n\r\n```\r\nand I have my adapter with all the necessary functions and this \r\n\r\n\r\n```\r\n    public ArrayList&lt;DataModel&gt; getItems() {\r\n        return dataList;\r\n    }\r\n```\r\nin order to return the reordered list.\r\n\r\nBut the reordered list every time is return in same order.\r\n\r\nI include also here the algorithm that check the right order of (reordered)list1 according the order of list2.\r\n\r\n\r\n```\r\npublic boolean areItemsInOrder(ArrayList&lt;String&gt; list1, ArrayList&lt;DataModel&gt; list2) {\r\n        boolean found = true;\r\n        int index = 0;\r\n        for (String item : list1) {\r\n            if (list2.contains(item)) {\r\n                if (list2.indexOf(item) &lt; index) {\r\n                    found = false;\r\n                    break;\r\n                }\r\n                index = list2.indexOf(item);\r\n            } else {\r\n                found = false;\r\n                break;\r\n            }\r\n        }\r\n        return found;\r\n    }\r\n```\r\n\r\n\r\nCould you please help me to find the issue in here?","title":"How to save and return an ArrayList from my recycleview adapter after reorder it in recycleview.widget(xml)","body":"<p>I have this code block on my <code>MainActivity</code>, which I have a recycleview and I am able to reorder a list, when I finish I have a button that finalize and save and return the reordered list in order to check if the items is in the right order</p>\n<pre><code>    private void initRecyclerView() {\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        RecyclerViewAdapter adapter = new RecyclerViewAdapter();\n        adapter.setDataList(dataModelList,5);\n\n        ItemTouchHelper.Callback callback = new RecyclerRowMoveCallback(adapter);\n        ItemTouchHelper touchHelper = new ItemTouchHelper(callback);\n        touchHelper.attachToRecyclerView(recyclerView);\n\n        recyclerView.setAdapter(adapter);\n\n\n        // Button to finalize the positions\n        Button finalizeButton = findViewById(R.id.finalize_button);\n        finalizeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n//\n                SharedPreferences preferences = getPreferences(MODE_PRIVATE);\n                SharedPreferences.Editor editor = preferences.edit();\n\n                for (int i = 0; i &lt; dataModelList.size(); i++) {\n                    editor.putString(&quot;item_&quot; + i, dataModelList.get(i).getTitle());\n                }\n                editor.apply();\n                isTimerRunning = false;\n                // Check if the list is in the right order\n                boolean areInOrder = areItemsInOrder(savedList, dataModelList);\n                // Display a message\n                if (areInOrder) {Do something}\n                else{Do something else}\n\n</code></pre>\n<p>and I have my adapter with all the necessary functions and this</p>\n<pre><code>    public ArrayList&lt;DataModel&gt; getItems() {\n        return dataList;\n    }\n</code></pre>\n<p>in order to return the reordered list.</p>\n<p>But the reordered list every time is return in same order.</p>\n<p>I include also here the algorithm that check the right order of (reordered)list1 according the order of list2.</p>\n<pre><code>public boolean areItemsInOrder(ArrayList&lt;String&gt; list1, ArrayList&lt;DataModel&gt; list2) {\n        boolean found = true;\n        int index = 0;\n        for (String item : list1) {\n            if (list2.contains(item)) {\n                if (list2.indexOf(item) &lt; index) {\n                    found = false;\n                    break;\n                }\n                index = list2.indexOf(item);\n            } else {\n                found = false;\n                break;\n            }\n        }\n        return found;\n    }\n</code></pre>\n<p>Could you please help me to find the issue in here?</p>\n"},{"tags":["java","eclipse","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"score":2,"creation_date":1329358062,"post_id":9303889,"comment_id":11736070,"body_markdown":"What version of java do you have? What operating system are you running on?","body":"What version of java do you have? What operating system are you running on?"},{"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"score":0,"creation_date":1329420743,"post_id":9303889,"comment_id":11755301,"body_markdown":"This was Win7, and I had 3 different Java versions installed. One of those was the 32-bit JRE that Eclipse was using.","body":"This was Win7, and I had 3 different Java versions installed. One of those was the 32-bit JRE that Eclipse was using."},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":3,"creation_date":1363813853,"post_id":9303889,"comment_id":22007879,"body_markdown":"Don&#39;t forget to mark an answer as correct.","body":"Don&#39;t forget to mark an answer as correct."},{"owner":{"account_id":8517910,"reputation":109,"user_id":6385791,"display_name":"Bhushan"},"score":0,"creation_date":1495393451,"post_id":9303889,"comment_id":75221735,"body_markdown":"Just change setting in gridle.property with your sutaible space","body":"Just change setting in gridle.property with your sutaible space"}],"answers":[{"comments":[{"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"score":8,"creation_date":1329353304,"post_id":9303948,"comment_id":11735263,"body_markdown":"Sorry for the stupid question, but how would I check that? And how can I use 64-bit?","body":"Sorry for the stupid question, but how would I check that? And how can I use 64-bit?"},{"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"score":3,"creation_date":1329353477,"post_id":9303948,"comment_id":11735286,"body_markdown":"Actually, I just tried java -d64 -version in the command line, and it came up with 64-bit server VM.","body":"Actually, I just tried java -d64 -version in the command line, and it came up with 64-bit server VM."},{"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"score":6,"creation_date":1329420493,"post_id":9303948,"comment_id":11755195,"body_markdown":"Apparently Eclipse was using the 32-bit version of JRE that I had installed previously, even though the 64-bit was the latest installation. I changed the settings in Preferences --&gt; Installed JREs to solve this issue. Thank you very much for your answer!","body":"Apparently Eclipse was using the 32-bit version of JRE that I had installed previously, even though the 64-bit was the latest installation. I changed the settings in Preferences --&gt; Installed JREs to solve this issue. Thank you very much for your answer!"},{"owner":{"account_id":1506850,"reputation":2751,"user_id":1410037,"accept_rate":53,"display_name":"Thomas"},"score":3,"creation_date":1369398962,"post_id":9303948,"comment_id":24099964,"body_markdown":"in any case, shouldnt 32 bit be enough to address 4gb?","body":"in any case, shouldnt 32 bit be enough to address 4gb?"},{"owner":{"account_id":1991410,"reputation":1365,"user_id":1785339,"display_name":"Steven"},"score":7,"creation_date":1384941260,"post_id":9303948,"comment_id":29935418,"body_markdown":"It should be, but this solves my problem. No upvote for this answer because of the lack of explanation. [This link explains how a 32bit jvm can&#39;t go over 1gb max heap space](http://javarevisited.blogspot.be/2011/05/java-heap-space-memory-size-jvm.html)","body":"It should be, but this solves my problem. No upvote for this answer because of the lack of explanation. <a href=\"http://javarevisited.blogspot.be/2011/05/java-heap-space-memory-size-jvm.html\" rel=\"nofollow noreferrer\">This link explains how a 32bit jvm can&#39;t go over 1gb max heap space</a>"},{"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"score":2,"creation_date":1432802164,"post_id":9303948,"comment_id":49078598,"body_markdown":"Please provide an answer in the answer, not a question","body":"Please provide an answer in the answer, not a question"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":1,"creation_date":1445248140,"post_id":9303948,"comment_id":54226865,"body_markdown":"@user1212731: Nothing dumb about that question!  `java -version` will give you a hint.  If it does *not* say `64-Bit`, assume 32-bit.","body":"@user1212731: Nothing dumb about that question!  <code>java -version</code> will give you a hint.  If it does <i>not</i> say <code>64-Bit</code>, assume 32-bit."},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1563583464,"post_id":9303948,"comment_id":100760024,"body_markdown":"@Thomas You&#39;d think that, yes. But the 4GiB limit is for the *whole process* and not just the heap. The kernel takes a large chunk of that space. For example, on Windows, the OS maps fully *half* of that address space to itself. So you are already down to a maximum userspace memory of 2GiB. The JVM isn&#39;t memory-less, there are non-heap spaces, then you actually have to load *code* to execute and that needs to be JIT-compiled into actual code runnable by the CPU and pretty soon you find that your Java heap is limited to something like 1.5GiB.","body":"@Thomas You&#39;d think that, yes. But the 4GiB limit is for the <i>whole process</i> and not just the heap. The kernel takes a large chunk of that space. For example, on Windows, the OS maps fully <i>half</i> of that address space to itself. So you are already down to a maximum userspace memory of 2GiB. The JVM isn&#39;t memory-less, there are non-heap spaces, then you actually have to load <i>code</i> to execute and that needs to be JIT-compiled into actual code runnable by the CPU and pretty soon you find that your Java heap is limited to something like 1.5GiB."}],"tags":[],"owner":{"account_id":255591,"reputation":930,"user_id":535742,"display_name":"Laurent"},"comment_count":8,"down_vote_count":3,"up_vote_count":74,"is_accepted":false,"score":71,"last_activity_date":1329353160,"creation_date":1329353160,"answer_id":9303948,"question_id":9303889,"body_markdown":"Could it be that you&#39;re using a 32-bit jvm on that machine?","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Could it be that you're using a 32-bit jvm on that machine?</p>\n"},{"comments":[{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":2,"creation_date":1424081285,"post_id":9304270,"comment_id":45391811,"body_markdown":"In my case, your answer seems work. I did not restart windows but I tried closing other apps in my windows and then run java and it was able to kick up the VM.","body":"In my case, your answer seems work. I did not restart windows but I tried closing other apps in my windows and then run java and it was able to kick up the VM."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":1,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1329355944,"creation_date":1329355944,"answer_id":9304270,"question_id":9303889,"body_markdown":"This is actually not an Eclipse-specific issue; it&#39;s a general \r\nJava-on-Windows issue. It&#39;s because of how the JVM allocates memory on \r\nWindows; it insists on allocating a contiguous chunk of memory, which \r\noften Windows can&#39;t provide, even if there are enough separate chunks to \r\nsatisfy the allocation request.\r\nThere are utilities that will try to help Windows &quot;defrag&quot; its memory, \r\nwhich would, in theory, help this situation; but I&#39;ve not really tried \r\nthem in earnest so can&#39;t speak to their effectiveness.\r\nOne thing that I&#39;ve heard sometimes that might help is to reboot Windows \r\nand, before starting any other apps, launch the Java app that needs the \r\nbig chunk of memory. If you&#39;re lucky, Windows won&#39;t have fragmented its \r\nmemory space yet and Java will get the contiguous block that is asks for.\r\n\r\nSomewhere out on the interwebs there are more technical explanations and \r\nanalyses of this issue, but I don&#39;t have any references handy.\r\n\r\nI did find this, though, which looks helpful: https://stackoverflow.com/a/497757/639520\r\n\r\n","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>This is actually not an Eclipse-specific issue; it's a general \nJava-on-Windows issue. It's because of how the JVM allocates memory on \nWindows; it insists on allocating a contiguous chunk of memory, which \noften Windows can't provide, even if there are enough separate chunks to \nsatisfy the allocation request.\nThere are utilities that will try to help Windows \"defrag\" its memory, \nwhich would, in theory, help this situation; but I've not really tried \nthem in earnest so can't speak to their effectiveness.\nOne thing that I've heard sometimes that might help is to reboot Windows \nand, before starting any other apps, launch the Java app that needs the \nbig chunk of memory. If you're lucky, Windows won't have fragmented its \nmemory space yet and Java will get the contiguous block that is asks for.</p>\n\n<p>Somewhere out on the interwebs there are more technical explanations and \nanalyses of this issue, but I don't have any references handy.</p>\n\n<p>I did find this, though, which looks helpful: <a href=\"https://stackoverflow.com/a/497757/639520\">https://stackoverflow.com/a/497757/639520</a></p>\n"},{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1329404592,"post_id":9304550,"comment_id":11748695,"body_markdown":"The -vm argument should point to the Java executable, not just a folder. See http://wiki.eclipse.org/%C2%A0eclipse.ini#Specifying_the_JVM","body":"The -vm argument should point to the Java executable, not just a folder. See <a href=\"http://wiki.eclipse.org/%C2%A0eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\">wiki.eclipse.org/%C2%A0eclipse.ini#Specifying_the_JVM</a>"},{"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"score":1,"creation_date":1329409101,"post_id":9304550,"comment_id":11750767,"body_markdown":"Wrong. See this Eclipse bug: https://bugs.eclipse.org/bugs/show_bug.cgi?id=314805","body":"Wrong. See this Eclipse bug: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=314805\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=314805</a>"},{"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"score":0,"creation_date":1329420359,"post_id":9304550,"comment_id":11755151,"body_markdown":"This was indeed the issue! Eclipse was using the 32-bit version of JRE that I had installed at some point. Thank you very much for the answer and leading me in the right direction! I very much appreciate it.","body":"This was indeed the issue! Eclipse was using the 32-bit version of JRE that I had installed at some point. Thank you very much for the answer and leading me in the right direction! I very much appreciate it."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1329423151,"post_id":9304550,"comment_id":11756209,"body_markdown":"@AdamRofer, that bug is interesting, but specifically about Windows 7 and to work around a problem with pinning Eclipse to the taskbar. In general, eclipse.ini should point to the java executable, although the Equinox launcher seems to be intelligent in that it will look for a java executable if -vm points to a folder (on Windows, at least).","body":"@AdamRofer, that bug is interesting, but specifically about Windows 7 and to work around a problem with pinning Eclipse to the taskbar. In general, eclipse.ini should point to the java executable, although the Equinox launcher seems to be intelligent in that it will look for a java executable if -vm points to a folder (on Windows, at least)."},{"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"score":0,"creation_date":1329424861,"post_id":9304550,"comment_id":11756793,"body_markdown":"@E-Riz &quot;should&quot; is too strict for my taste :) Hopefully they resolve the bug without having to change the vm argument sometime. Here&#39;s more information that would be be good for them to update on their `eclipse.ini` page: http://wiki.eclipse.org/Equinox_Launcher#Finding_a_VM.2C_Using_JNI_Invocation_or_Executing_Java","body":"@E-Riz &quot;should&quot; is too strict for my taste :) Hopefully they resolve the bug without having to change the vm argument sometime. Here&#39;s more information that would be be good for them to update on their <code>eclipse.ini</code> page: <a href=\"http://wiki.eclipse.org/Equinox_Launcher#Finding_a_VM.2C_Using_JNI_Invocation_or_Executing_Java\" rel=\"nofollow noreferrer\">wiki.eclipse.org/&hellip;</a>"}],"tags":[],"owner":{"account_id":1089021,"reputation":6241,"user_id":1084078,"display_name":"Adam Rofer"},"comment_count":5,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1329358318,"creation_date":1329358318,"answer_id":9304550,"question_id":9303889,"body_markdown":"Make sure that Eclipse is actually running the same JVM you think it&#39;s running. If you use java in your web browser ever, you likely have a 32-bit version floating around too that might be taking precedence if it installed or updated lately.\r\n\r\nTo be absolutely sure, I recommend adding these two lines to your `eclipse.ini` file at the top:\r\n\r\n    -vm \r\n    C:/Java/jdk1.6.0_27/bin\r\n\r\n...where on my machine `C:/Java/jdk1.6.0_27/bin` where the JVM I know is 64-bit is located. Be sure to have the `bin` folder there.\r\n\r\n(As a bonus, on Windows 7, this also allows you to actually &quot;pin the tab&quot; which is why I had to do this for my own usage)","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Make sure that Eclipse is actually running the same JVM you think it's running. If you use java in your web browser ever, you likely have a 32-bit version floating around too that might be taking precedence if it installed or updated lately.</p>\n\n<p>To be absolutely sure, I recommend adding these two lines to your <code>eclipse.ini</code> file at the top:</p>\n\n<pre><code>-vm \nC:/Java/jdk1.6.0_27/bin\n</code></pre>\n\n<p>...where on my machine <code>C:/Java/jdk1.6.0_27/bin</code> where the JVM I know is 64-bit is located. Be sure to have the <code>bin</code> folder there.</p>\n\n<p>(As a bonus, on Windows 7, this also allows you to actually \"pin the tab\" which is why I had to do this for my own usage)</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1358449272,"creation_date":1340690197,"answer_id":11201475,"question_id":9303889,"body_markdown":"First the JRE of 32bits can&#39;t use more ~1.5Gb of ram. So if you want more, use a 64bits JRE.\r\n\r\nSecond, When a new JVM starts, this sum the -Xmx property of the all JVM that are running, and check if there is enough memory left on the system to run at their own -Xmx, if is not enough then the error occurs.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>First the JRE of 32bits can't use more ~1.5Gb of ram. So if you want more, use a 64bits JRE.</p>\n\n<p>Second, When a new JVM starts, this sum the -Xmx property of the all JVM that are running, and check if there is enough memory left on the system to run at their own -Xmx, if is not enough then the error occurs.</p>\n"},{"tags":[],"owner":{"account_id":1931294,"reputation":53,"user_id":1740626,"display_name":"user1740626"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1350033285,"creation_date":1350033043,"answer_id":12855764,"question_id":9303889,"body_markdown":"This is the issue of Heap size. Edit your `.bat` (Batch file). It might be showing Heap size 1024. Change it to 512 Then it should work.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>This is the issue of Heap size. Edit your <code>.bat</code> (Batch file). It might be showing Heap size 1024. Change it to 512 Then it should work.</p>\n"},{"comments":[{"owner":{"account_id":115678,"reputation":7829,"user_id":303631,"accept_rate":82,"display_name":"bulltorious"},"score":0,"creation_date":1407531027,"post_id":20759327,"comment_id":39266975,"body_markdown":"http://www.genericarticles.com/mediawiki/index.php?title=How_to_increase_tomcat_memory_inside_eclipse","body":"<a href=\"http://www.genericarticles.com/mediawiki/index.php?title=How_to_increase_tomcat_memory_inside_eclipse\" rel=\"nofollow noreferrer\">genericarticles.com/mediawiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":3769657,"reputation":171,"user_id":3132205,"display_name":"Prathap"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1387881303,"creation_date":1387881303,"answer_id":20759327,"question_id":9303889,"body_markdown":"I was using Liferay with Tomcat server from eclipse IDE.\r\nI was stuck with this same error on click on server start up.\r\nDouble click on server from eclipse. \r\nit open up Server Overview page. Updated memory arguments from -Xmx1024m -XX:MaxPermSize=256m to -Xmx512m -XX:MaxPermSize=256m.\r\nThen it was working for me.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I was using Liferay with Tomcat server from eclipse IDE.\nI was stuck with this same error on click on server start up.\nDouble click on server from eclipse. \nit open up Server Overview page. Updated memory arguments from -Xmx1024m -XX:MaxPermSize=256m to -Xmx512m -XX:MaxPermSize=256m.\nThen it was working for me.</p>\n"},{"tags":[],"owner":{"account_id":4755650,"reputation":1737,"user_id":3844490,"display_name":"AKs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407773368,"creation_date":1407773368,"answer_id":25247692,"question_id":9303889,"body_markdown":"I also had the same problem while using Eclipse which was 32 bit and the JVM used by it was 64 bit.\r\nWhen I routed the Eclipse to 32 bit JVM then it worked","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I also had the same problem while using Eclipse which was 32 bit and the JVM used by it was 64 bit.\nWhen I routed the Eclipse to 32 bit JVM then it worked</p>\n"},{"tags":[],"owner":{"account_id":2396647,"reputation":786,"user_id":2095321,"accept_rate":100,"display_name":"Mateva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421416842,"creation_date":1421351418,"answer_id":27971822,"question_id":9303889,"body_markdown":"Probably you are trying wrong options anyways.\r\nI got a similar error with supporting error log:\r\n\r\n    Java HotSpot(TM) Client VM warning: ignoring option PermSize=32M; support was removed in 8.0\r\n    Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=128M; support was removed in 8.0\r\n\r\nIm my case, the software did not support java 8 yet(script was using old JVM arguments) but I had had java 8 by default.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Probably you are trying wrong options anyways.\nI got a similar error with supporting error log:</p>\n\n<pre><code>Java HotSpot(TM) Client VM warning: ignoring option PermSize=32M; support was removed in 8.0\nJava HotSpot(TM) Client VM warning: ignoring option MaxPermSize=128M; support was removed in 8.0\n</code></pre>\n\n<p>Im my case, the software did not support java 8 yet(script was using old JVM arguments) but I had had java 8 by default.</p>\n"},{"comments":[{"owner":{"account_id":1837730,"reputation":1004,"user_id":1667739,"accept_rate":40,"display_name":"captain_jim1"},"score":5,"creation_date":1490195535,"post_id":30090225,"comment_id":73005958,"body_markdown":"Just a note for others. You add a SYSTEM variable, not a USER variable. I ran into this problem in Eclipse and did not have to reboot my machine after making the above changes... I only had to restart Eclipse. Thanks!","body":"Just a note for others. You add a SYSTEM variable, not a USER variable. I ran into this problem in Eclipse and did not have to reboot my machine after making the above changes... I only had to restart Eclipse. Thanks!"},{"owner":{"account_id":8075635,"reputation":2057,"user_id":6086782,"display_name":"varun"},"score":1,"creation_date":1551288203,"post_id":30090225,"comment_id":96589079,"body_markdown":"For the curious people, the -Xmx flag in _JAVA_OPTIONS specifies the maximum allowed JVM heap size. This prevents JVM from requesting unreasonable space (especially unallocatable contiguously for 32-bit machines...)","body":"For the curious people, the -Xmx flag in _JAVA_OPTIONS specifies the maximum allowed JVM heap size. This prevents JVM from requesting unreasonable space (especially unallocatable contiguously for 32-bit machines...)"}],"tags":[],"owner":{"account_id":4440614,"reputation":1980,"user_id":3615225,"display_name":"Mohamed Adel"},"comment_count":2,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1467264216,"creation_date":1430960830,"answer_id":30090225,"question_id":9303889,"body_markdown":"Here is how to fix it:\r\n**Go to** `Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System` \r\n\r\n    Variables-&gt;New:\r\n    Variable name: _JAVA_OPTIONS   \r\n    Variable value: -Xmx512M\r\n    \r\n    Variable name: Path  \r\n    Variable value: ;C:\\Program Files\\Java\\jre6\\bin;F:\\JDK\\bin;  \r\n\r\nChange this to your **appropriate path**.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Here is how to fix it:\n<strong>Go to</strong> <code>Start-&gt;Control Panel-&gt;System-&gt;Advanced(tab)-&gt;Environment Variables-&gt;System</code> </p>\n\n<pre><code>Variables-&gt;New:\nVariable name: _JAVA_OPTIONS   \nVariable value: -Xmx512M\n\nVariable name: Path  \nVariable value: ;C:\\Program Files\\Java\\jre6\\bin;F:\\JDK\\bin;  \n</code></pre>\n\n<p>Change this to your <strong>appropriate path</strong>.</p>\n"},{"tags":[],"owner":{"account_id":4780047,"reputation":33,"user_id":3862091,"accept_rate":60,"display_name":"sooribabu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451060583,"creation_date":1451060583,"answer_id":34464452,"question_id":9303889,"body_markdown":"One of the reason for this issue is no memory available for Tomcat to start. Try to delete the unwanted running software from windows and restart the eclipse and tomcat.\r\n","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>One of the reason for this issue is no memory available for Tomcat to start. Try to delete the unwanted running software from windows and restart the eclipse and tomcat.</p>\n"},{"comments":[{"owner":{"account_id":1930371,"reputation":24901,"user_id":1739882,"accept_rate":71,"display_name":"Chintan Soni"},"score":0,"creation_date":1587914036,"post_id":59034573,"comment_id":108690820,"body_markdown":"Not sure how it worked while trying Kotlin-multiplatform on mac os! anyways, thanks!","body":"Not sure how it worked while trying Kotlin-multiplatform on mac os! anyways, thanks!"}],"tags":[],"owner":{"account_id":7921259,"reputation":101,"user_id":5982168,"display_name":"Ms. Sonia"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574696220,"creation_date":1574693846,"answer_id":59034573,"question_id":9303889,"body_markdown":"Just put `#` symbol in front of `org.gradle.jvmargs=-Xmx1536m` in gradle.properties\r\n```\r\n # org.gradle.jvmargs=-Xmx1536m\r\n```","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Just put <code>#</code> symbol in front of <code>org.gradle.jvmargs=-Xmx1536m</code> in gradle.properties</p>\n\n<pre><code> # org.gradle.jvmargs=-Xmx1536m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16215361,"reputation":1260,"user_id":11708327,"display_name":"Phake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598547725,"creation_date":1598547725,"answer_id":63620888,"question_id":9303889,"body_markdown":"I know that i am a bit late, but here my answer comes:\r\n\r\nI just installed the Java online Version from Oracle(not the offline 64-Bit one).\r\n\r\nAfter having added the JAVA_HOME ENV variable, it just worked!\r\n\r\nHope I could help :)","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I know that i am a bit late, but here my answer comes:</p>\n<p>I just installed the Java online Version from Oracle(not the offline 64-Bit one).</p>\n<p>After having added the JAVA_HOME ENV variable, it just worked!</p>\n<p>Hope I could help :)</p>\n"},{"tags":[],"owner":{"display_name":"user13378232"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610034896,"creation_date":1610034896,"answer_id":65615689,"question_id":9303889,"body_markdown":"Solution is simple. No need to go deep into this issue.\r\n\r\n**If you are running on **64bit** machine then follow below steps:**\r\n\r\n- Unistall 32 bit java first (check in C:\\Program Files (x86) for its existence)\r\n- Install the newer version JDK kit 64 bit (includes JRE)\r\n- Set the environment path (To avoid conflict error if you have two different 64bit JRE)\r\n- Check in command prompt by typing javac command.\r\n- Restart / Done\r\n\r\n*You can have two different Java installed but don&#39;t forgot to set path.*","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Solution is simple. No need to go deep into this issue.</p>\n<p><strong>If you are running on <strong>64bit</strong> machine then follow below steps:</strong></p>\n<ul>\n<li>Unistall 32 bit java first (check in C:\\Program Files (x86) for its existence)</li>\n<li>Install the newer version JDK kit 64 bit (includes JRE)</li>\n<li>Set the environment path (To avoid conflict error if you have two different 64bit JRE)</li>\n<li>Check in command prompt by typing javac command.</li>\n<li>Restart / Done</li>\n</ul>\n<p><em>You can have two different Java installed but don't forgot to set path.</em></p>\n"},{"tags":[],"owner":{"account_id":9288362,"reputation":199,"user_id":6897485,"display_name":"vinay j"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628754353,"creation_date":1628754353,"answer_id":68753485,"question_id":9303889,"body_markdown":"Please set **JAVA_OPTS=-Xms256m -Xmx512m** in environment variables, it should solve the issue, it worked for me.","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Please set <strong>JAVA_OPTS=-Xms256m -Xmx512m</strong> in environment variables, it should solve the issue, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":12483229,"reputation":1532,"user_id":9087250,"display_name":"Teja Goud Kandula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649383453,"creation_date":1649383453,"answer_id":71790885,"question_id":9303889,"body_markdown":"Find out if you are using a 32bit version or 64bit version of Java. To know that use the command \r\n\r\n```java -version```\r\n\r\n\r\nThe 3rd line of the output should give you if it 32bit or 64bit.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf it is 32bit uninstall and install a 64bit version.\r\n\r\n  [1]: https://i.stack.imgur.com/hvmiT.png","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>Find out if you are using a 32bit version or 64bit version of Java. To know that use the command</p>\n<p><code>java -version</code></p>\n<p>The 3rd line of the output should give you if it 32bit or 64bit.</p>\n<p><a href=\"https://i.stack.imgur.com/hvmiT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hvmiT.png\" alt=\"enter image description here\" /></a></p>\n<p>If it is 32bit uninstall and install a 64bit version.</p>\n"},{"tags":[],"owner":{"account_id":1482499,"reputation":3409,"user_id":1391521,"accept_rate":100,"display_name":"Bibaswann Bandyopadhyay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194342,"creation_date":1683194342,"answer_id":76171916,"question_id":9303889,"body_markdown":"I know this is a eclipse-related question, but I faced this problem in Android studio. I am posting what I did, in case someone gets this error in Android studio.\r\nFirst of all, I have the following line in gradle.properties\r\n&gt;org.gradle.jvmargs=-Xmx2048m\r\n\r\nIf I remove the line, the problem is solved but this is not the proper way.\r\nWhat you need to do is, set the proper gradle JDK.\r\nGo to **File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Build Tools-Gradle** and set the Gradle JDK to something like **xx java version &quot;xx.x.xx&quot; C:/Program Files/Android/Android Studio/jbr**\r\n\r\n*Please note: This solution is applicable to Android studio only*","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>I know this is a eclipse-related question, but I faced this problem in Android studio. I am posting what I did, in case someone gets this error in Android studio.\nFirst of all, I have the following line in gradle.properties</p>\n<blockquote>\n<p>org.gradle.jvmargs=-Xmx2048m</p>\n</blockquote>\n<p>If I remove the line, the problem is solved but this is not the proper way.\nWhat you need to do is, set the proper gradle JDK.\nGo to <strong>File-&gt;Settings-&gt;Build, Execution, Deployment-&gt;Build Tools-Gradle</strong> and set the Gradle JDK to something like <strong>xx java version &quot;xx.x.xx&quot; C:/Program Files/Android/Android Studio/jbr</strong></p>\n<p><em>Please note: This solution is applicable to Android studio only</em></p>\n"}],"owner":{"account_id":1252636,"reputation":1041,"user_id":1212731,"display_name":"user1212731"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710432,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"answer_count":16,"score":104,"last_activity_date":1683194342,"creation_date":1329352659,"question_id":9303889,"body_markdown":"First of all, I have a box with 8gb of ram, so I doubt total memory is the issue.\r\nThis application is running fine on machines with 6gb or less.\r\n\r\nI am trying to reserve 3GB of space using -Xmx3G under &quot;VM Arguments&quot; in Run Configurations in Eclipse.\r\n\r\nEvery time I try to reserve more than 1500mb, I get this error:\r\n“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G\r\n\r\nWhat is going on here?","title":"“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G","body":"<p>First of all, I have a box with 8gb of ram, so I doubt total memory is the issue.\nThis application is running fine on machines with 6gb or less.</p>\n\n<p>I am trying to reserve 3GB of space using -Xmx3G under \"VM Arguments\" in Run Configurations in Eclipse.</p>\n\n<p>Every time I try to reserve more than 1500mb, I get this error:\n“Error occurred during initialization of VM; Could not reserve enough space for object heap” using -Xmx3G</p>\n\n<p>What is going on here?</p>\n"},{"tags":["java","hashmap","runnable"],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1339491637,"creation_date":1339491637,"answer_id":10993417,"question_id":10993403,"body_markdown":"Why not iterate over the [Map.Entry][1] objects ? Each `Entry` will give you the key and value and you don&#39;t have to perform an additional `get()` on the `Map` to get a value.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.Entry.html","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>Why not iterate over the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Map.Entry.html\">Map.Entry</a> objects ? Each <code>Entry</code> will give you the key and value and you don't have to perform an additional <code>get()</code> on the <code>Map</code> to get a value.</p>\n"},{"comments":[{"owner":{"account_id":1188692,"reputation":1597,"user_id":1162078,"accept_rate":86,"display_name":"Zach Sugano"},"score":0,"creation_date":1339491863,"post_id":10993440,"comment_id":14362606,"body_markdown":"I can&#39;t believe I didn&#39;t think of that. Thanks.","body":"I can&#39;t believe I didn&#39;t think of that. Thanks."},{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":4,"creation_date":1443779913,"post_id":10993440,"comment_id":53637736,"body_markdown":"Actually there is a FindBugs-Warning for that pattern: _Inefficient use of keySet iterator instead of entrySet iterator_ And even if it doesn&#39;t matter in most cases, performance wise, it can make huge difference in some cases. Besides, I even think the code is clear and readable in both cases. Why use and post a pattern that clearly has some disadvantages and no advantage whatsoever? (Even if the disadvantages are arguably small)","body":"Actually there is a FindBugs-Warning for that pattern: <i>Inefficient use of keySet iterator instead of entrySet iterator</i> And even if it doesn&#39;t matter in most cases, performance wise, it can make huge difference in some cases. Besides, I even think the code is clear and readable in both cases. Why use and post a pattern that clearly has some disadvantages and no advantage whatsoever? (Even if the disadvantages are arguably small)"},{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":0,"creation_date":1443784771,"post_id":10993440,"comment_id":53640043,"body_markdown":"@aioobe: I can imagine that this has different effects on different map implementation, sure, but is there one where the former form of iterating is more efficient then the latter? And therefore the FindBugs-Warning would be a false-positive? But you&#39;re right, we don&#39;t have to discuss that here. You answer is still okay, I guess.","body":"@aioobe: I can imagine that this has different effects on different map implementation, sure, but is there one where the former form of iterating is more efficient then the latter? And therefore the FindBugs-Warning would be a false-positive? But you&#39;re right, we don&#39;t have to discuss that here. You answer is still okay, I guess."},{"owner":{"account_id":10623204,"reputation":244,"user_id":7830459,"display_name":"Alex Li"},"score":3,"creation_date":1523558539,"post_id":10993440,"comment_id":86622147,"body_markdown":"Can you explain why this works? As I recall, you are not allowed to change elements of a collection while you iterator over them using a for each loop.","body":"Can you explain why this works? As I recall, you are not allowed to change elements of a collection while you iterator over them using a for each loop."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":6,"creation_date":1523560764,"post_id":10993440,"comment_id":86623274,"body_markdown":"You&#39;re not allowed to do *structural* changes such as adding or removing elements.","body":"You&#39;re not allowed to do <i>structural</i> changes such as adding or removing elements."},{"owner":{"account_id":2019920,"reputation":1770,"user_id":1806348,"accept_rate":84,"display_name":"Jochem Kuijpers"},"score":0,"creation_date":1540382058,"post_id":10993440,"comment_id":92842852,"body_markdown":"@AlexLi The values of a hashmap do not influence the structure. You cannot change the keys of the hashmap, but you can change the values. Inserting and removing items is not allowed, thus you cannot change the key of an entry. The iterator often allows you to remove items though, because it has knowledge of the underlying structure and can prevent bad things from happening (skipping items, double-iterating items, iterating over random garbage, etc.).","body":"@AlexLi The values of a hashmap do not influence the structure. You cannot change the keys of the hashmap, but you can change the values. Inserting and removing items is not allowed, thus you cannot change the key of an entry. The iterator often allows you to remove items though, because it has knowledge of the underlying structure and can prevent bad things from happening (skipping items, double-iterating items, iterating over random garbage, etc.)."},{"owner":{"account_id":462269,"reputation":191,"user_id":864498,"accept_rate":100,"display_name":"Kasper Nielsen"},"score":0,"creation_date":1547111498,"post_id":10993440,"comment_id":95081838,"body_markdown":"As mentioned above I believe the keySet loop in the java 7 section to be wrong. As specified in https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#keySet-- the behavior of the iteration is undefined if the map is changed - which it could be using put, even if the key remains constant. The entry set example does not have the same flaw, as that is modifying the value directly, which is allowed by https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--","body":"As mentioned above I believe the keySet loop in the java 7 section to be wrong. As specified in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#keySet--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Map.html#keySet-&zwnj;&#8203;-</a> the behavior of the iteration is undefined if the map is changed - which it could be using put, even if the key remains constant. The entry set example does not have the same flaw, as that is modifying the value directly, which is allowed by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySe&zwnj;&#8203;t--</a>"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1547123604,"post_id":10993440,"comment_id":95088741,"body_markdown":"@KasperNielsen good point. If it&#39;s the same restriction as for lists this refers to structural modifications (addition / removal of entries). Regardless, I&#39;ve updated the answer to be on the safe side here. The `entrySet` is probably faster anyway. Thanks!","body":"@KasperNielsen good point. If it&#39;s the same restriction as for lists this refers to structural modifications (addition / removal of entries). Regardless, I&#39;ve updated the answer to be on the safe side here. The <code>entrySet</code> is probably faster anyway. Thanks!"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":8,"down_vote_count":1,"up_vote_count":143,"is_accepted":true,"score":142,"last_activity_date":1547123534,"creation_date":1339491713,"answer_id":10993440,"question_id":10993403,"body_markdown":"**Using Java 8:**\r\n\r\n    map.replaceAll((k, v) -&gt; v - 20);\r\n\r\n\r\n----------\r\n\r\n\r\n**Using Java 7 or older:**\r\n\r\nYou can iterate over the entries and update the values as follows:\r\n\r\n    for (Map.Entry&lt;Key, Long&gt; entry : playerCooldowns.entrySet()) {\r\n        entry.setValue(entry.getValue() - 20);\r\n    }\r\n\r\n","title":"How to replace HashMap Values while iterating over them in Java","body":"<p><strong>Using Java 8:</strong></p>\n\n<pre><code>map.replaceAll((k, v) -&gt; v - 20);\n</code></pre>\n\n<hr>\n\n<p><strong>Using Java 7 or older:</strong></p>\n\n<p>You can iterate over the entries and update the values as follows:</p>\n\n<pre><code>for (Map.Entry&lt;Key, Long&gt; entry : playerCooldowns.entrySet()) {\n    entry.setValue(entry.getValue() - 20);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":43822,"reputation":3532,"user_id":128285,"accept_rate":64,"display_name":"Jon"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1339492415,"creation_date":1339492079,"answer_id":10993535,"question_id":10993403,"body_markdown":"Well, you can&#39;t do it by iterating over the set of values in the `Map` (as you are doing now), because if you do that then you have no reference to the keys, and if you have no reference to the keys, then you can&#39;t update the entries in the map, because you have no way of finding out which key was associated with the value you just updated. \r\n\r\nWhen working with Maps, you have two options for updates like this, iterate through each `Map.Entry&lt;K,V&gt;` in the `Map`, or you can iterate through the key `Set`. There are methods on `Map` to do both of these things. Personally, I would iterate through each `Map.Entry&lt;K,V&gt;`.\r\n\r\n    for (Map.Entry&lt;String, Long&gt; entry : playerCooldowns.entrySet()) {\r\n        entry.setValue(entry.getValue() - 20);\r\n    }","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>Well, you can't do it by iterating over the set of values in the <code>Map</code> (as you are doing now), because if you do that then you have no reference to the keys, and if you have no reference to the keys, then you can't update the entries in the map, because you have no way of finding out which key was associated with the value you just updated. </p>\n\n<p>When working with Maps, you have two options for updates like this, iterate through each <code>Map.Entry&lt;K,V&gt;</code> in the <code>Map</code>, or you can iterate through the key <code>Set</code>. There are methods on <code>Map</code> to do both of these things. Personally, I would iterate through each <code>Map.Entry&lt;K,V&gt;</code>.</p>\n\n<pre><code>for (Map.Entry&lt;String, Long&gt; entry : playerCooldowns.entrySet()) {\n    entry.setValue(entry.getValue() - 20);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17504779,"reputation":468,"user_id":12694268,"display_name":"Harshad Panmand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194145,"creation_date":1683194145,"answer_id":76171879,"question_id":10993403,"body_markdown":"If you try to add value to unmodifiable map then you will get `java.lang.UnsupportedOperationException`. If you are using unmodifiable map then you need to do like below.\r\n\r\n    Map&lt;String, Object&gt; modifiableMap = new HashMap&lt;&gt;(unmodifiableMap);\r\n    \r\n    // Update the value of a key in the new map\r\n    modifiableMap.put(&quot;new key1&quot;, &quot;new value&quot;);\r\n\r\n","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>If you try to add value to unmodifiable map then you will get <code>java.lang.UnsupportedOperationException</code>. If you are using unmodifiable map then you need to do like below.</p>\n<pre><code>Map&lt;String, Object&gt; modifiableMap = new HashMap&lt;&gt;(unmodifiableMap);\n\n// Update the value of a key in the new map\nmodifiableMap.put(&quot;new key1&quot;, &quot;new value&quot;);\n</code></pre>\n"}],"owner":{"account_id":1188692,"reputation":1597,"user_id":1162078,"accept_rate":86,"display_name":"Zach Sugano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100247,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":10993440,"answer_count":4,"score":79,"last_activity_date":1683194145,"creation_date":1339491570,"question_id":10993403,"body_markdown":"I am using a Runnable to automatically subtract 20 from a players cooldown every second, but I have no idea how to replace the value of a value as I iterate through it. How can I have it update the value of each key?\r\n\r\n\tpublic class CoolDownTimer implements Runnable {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tfor (Long l : playerCooldowns.values()) {\r\n\t\t\t\tl = l - 20;\r\n\t\t\t\tplayerCooldowns.put(Key???, l);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to replace HashMap Values while iterating over them in Java","body":"<p>I am using a Runnable to automatically subtract 20 from a players cooldown every second, but I have no idea how to replace the value of a value as I iterate through it. How can I have it update the value of each key?</p>\n\n<pre><code>public class CoolDownTimer implements Runnable {\n    @Override\n    public void run() {\n        for (Long l : playerCooldowns.values()) {\n            l = l - 20;\n            playerCooldowns.put(Key???, l);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","display","assertion"],"comments":[{"owner":{"account_id":6837963,"reputation":848,"user_id":5259214,"display_name":"Prakash Boda"},"score":0,"creation_date":1683215063,"post_id":76170507,"comment_id":134335814,"body_markdown":"Please add more context to the question like give code snippet of whole class. It will help others to answer or try it themselves.","body":"Please add more context to the question like give code snippet of whole class. It will help others to answer or try it themselves."}],"answers":[{"comments":[{"owner":{"account_id":20667034,"reputation":29,"user_id":15173637,"display_name":"abhisekh"},"score":0,"creation_date":1683197941,"post_id":76171873,"comment_id":134331193,"body_markdown":"Hi Tamas, Tried above step. getting no such element: Unable to locate element:","body":"Hi Tamas, Tried above step. getting no such element: Unable to locate element:"},{"owner":{"account_id":28490665,"reputation":66,"user_id":21803364,"display_name":"Tamas Demeny"},"score":0,"creation_date":1683198553,"post_id":76171873,"comment_id":134331329,"body_markdown":"Is the exception pointing towards id = &quot;book-seat&quot;? Maybe use isVisible() instead of isDisplayed()\nBut you might have to put the locator inside the if, instead of @FindBy, there are cases where this is not working as we would expect","body":"Is the exception pointing towards id = &quot;book-seat&quot;? Maybe use isVisible() instead of isDisplayed() But you might have to put the locator inside the if, instead of @FindBy, there are cases where this is not working as we would expect"}],"tags":[],"owner":{"account_id":28490665,"reputation":66,"user_id":21803364,"display_name":"Tamas Demeny"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683194086,"creation_date":1683194086,"answer_id":76171873,"question_id":76170507,"body_markdown":"Try with an if statement: \r\n\r\n    if (SlotBooking.isDisplayed()){\r\n         SlotBooking.click;\r\n    }\r\n    SlotBookingConfirmation.click;","title":"How to work on IsDisplayed() in Selenium WebDriver","body":"<p>Try with an if statement:</p>\n<pre><code>if (SlotBooking.isDisplayed()){\n     SlotBooking.click;\n}\nSlotBookingConfirmation.click;\n</code></pre>\n"}],"owner":{"account_id":20667034,"reputation":29,"user_id":15173637,"display_name":"abhisekh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683194086,"creation_date":1683184759,"question_id":76170507,"body_markdown":"```\r\n\r\nHere I have Created page factory for both buttons\r\n\t@FindBy (id = &quot;book-seat&quot;)\r\n\tWebElement SlotBooking;\r\n\t\r\n\t@FindBy (id = &quot;proceed-to-purchase&quot;)\r\n\tWebElement SlotBookingConfirmation;\r\n\r\n \r\n```\r\n1. Hi Have two buttons in UI. For the first time Book Slot Button will display and next It will ask for Book SLot Confirmation Button.\r\n2. If i run the same test case again Book Slot button not showing. It is showing Slot Confirmation button\r\n3. Is there any way to validate if element is displayed() select SlotBooking button or else select SlotBookingConfirmation button","title":"How to work on IsDisplayed() in Selenium WebDriver","body":"<pre><code>\nHere I have Created page factory for both buttons\n    @FindBy (id = &quot;book-seat&quot;)\n    WebElement SlotBooking;\n    \n    @FindBy (id = &quot;proceed-to-purchase&quot;)\n    WebElement SlotBookingConfirmation;\n\n \n</code></pre>\n<ol>\n<li>Hi Have two buttons in UI. For the first time Book Slot Button will display and next It will ask for Book SLot Confirmation Button.</li>\n<li>If i run the same test case again Book Slot button not showing. It is showing Slot Confirmation button</li>\n<li>Is there any way to validate if element is displayed() select SlotBooking button or else select SlotBookingConfirmation button</li>\n</ol>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":2548436,"reputation":1245,"user_id":2212726,"accept_rate":63,"display_name":"user2212726"},"score":0,"creation_date":1399285355,"post_id":23469897,"comment_id":35982816,"body_markdown":"well i did, i called it ResObj, which has the wanted fields, but it still not working, i mean:\n\npublic class Response {\n\nprivate ResObj resObj;\n\n  public ResObj getResObj() {\n        return resObj;\n    }\n....\n\npublic class ResObj {\n\n    private String ClientNum;\n    private String ServerNum;\n    private String IdNum;\n\n    public String getClientNum() {\n        return ClientNum;\n    }\n\n    public String getServerNum() {\n        return ServerNum;\n    }\n\n    public String getIdNum() {\n        return IdNum;\n    }\n}","body":"well i did, i called it ResObj, which has the wanted fields, but it still not working, i mean:  public class Response {  private ResObj resObj;    public ResObj getResObj() {         return resObj;     } ....  public class ResObj {      private String ClientNum;     private String ServerNum;     private String IdNum;      public String getClientNum() {         return ClientNum;     }      public String getServerNum() {         return ServerNum;     }      public String getIdNum() {         return IdNum;     } }"}],"tags":[],"owner":{"account_id":4403883,"reputation":1,"user_id":3588826,"display_name":"user3588826"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1399284538,"creation_date":1399284538,"answer_id":23469897,"question_id":23469784,"body_markdown":"You need to define another class for the information within ResObj {&quot;ClientNum&quot;:&quot;12345&quot;,&quot;ServerNum&quot;:&quot;78945&quot;,&quot;IdNum&quot;:&quot;020252&quot;}. Otherwise jackson cannot determine how to deserialize.\r\n\r\n","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>You need to define another class for the information within ResObj {\"ClientNum\":\"12345\",\"ServerNum\":\"78945\",\"IdNum\":\"020252\"}. Otherwise jackson cannot determine how to deserialize.</p>\n"},{"comments":[{"owner":{"account_id":2548436,"reputation":1245,"user_id":2212726,"accept_rate":63,"display_name":"user2212726"},"score":0,"creation_date":1399284920,"post_id":23469933,"comment_id":35982564,"body_markdown":"apparently you do not need setters","body":"apparently you do not need setters"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1399285568,"post_id":23469933,"comment_id":35982946,"body_markdown":"Depends how you&#39;ve configured your de/serializer. I think by default Jackson will try bean-style serialisation - based on the getXXX methods available on your classes. Have you tried adding the set method?","body":"Depends how you&#39;ve configured your de/serializer. I think by default Jackson will try bean-style serialisation - based on the getXXX methods available on your classes. Have you tried adding the set method?"},{"owner":{"account_id":2548436,"reputation":1245,"user_id":2212726,"accept_rate":63,"display_name":"user2212726"},"score":0,"creation_date":1399286212,"post_id":23469933,"comment_id":35983308,"body_markdown":"yea sure.. it didn&#39;t effect .. still the same error","body":"yea sure.. it didn&#39;t effect .. still the same error"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1399398814,"post_id":23469933,"comment_id":36041947,"body_markdown":"You need to change the JSON fields to begin with a lower case field as well.","body":"You need to change the JSON fields to begin with a lower case field as well."},{"owner":{"account_id":4307921,"reputation":1393,"user_id":3519829,"accept_rate":90,"display_name":"Ungeheuer"},"score":0,"creation_date":1586385463,"post_id":23469933,"comment_id":108113241,"body_markdown":"Where is this documented jon? I&#39;m trying to unmarshal some JSON and I&#39;m finding a very hard time finding good documentation for the XML DSL, which is what we&#39;re using. This would explain my issue, but I don&#39;t control the JSON I&#39;m receiving :(","body":"Where is this documented jon? I&#39;m trying to unmarshal some JSON and I&#39;m finding a very hard time finding good documentation for the XML DSL, which is what we&#39;re using. This would explain my issue, but I don&#39;t control the JSON I&#39;m receiving :("},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1586853434,"post_id":23469933,"comment_id":108273475,"body_markdown":"@Ungeheuer Don&#39;t know to be honest - most docs seem to be on 3rd party sites. Most of my knowledge of Jackson came from having to debug the implementation code every time it did something weird. I&#39;ve since stopped using it as it&#39;s just too idiosyncratic - you invariably have to use annotations everywhere to try and get it to cooperate.","body":"@Ungeheuer Don&#39;t know to be honest - most docs seem to be on 3rd party sites. Most of my knowledge of Jackson came from having to debug the implementation code every time it did something weird. I&#39;ve since stopped using it as it&#39;s just too idiosyncratic - you invariably have to use annotations everywhere to try and get it to cooperate."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":6,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1683194014,"creation_date":1399284653,"answer_id":23469933,"question_id":23469784,"body_markdown":"You need Setter methods to allow Jackson to set the properties, and you need to change the fields in the json to begin with a lower case letter:\r\n\r\n    public class Response {\r\n    \r\n        private Object ResObj;\r\n        private int ResInt;\r\n    \r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n    \r\n        public void setResObj(Object ResObj) {\r\n            this.ResObj = ResObj;\r\n        }\r\n\r\n        // ...\r\n    }\r\n\r\nand:\r\n\r\n    {&quot;resObj&quot;:{&quot;clientNum&quot;:&quot;12345&quot;,&quot;serverNum&quot;:&quot;78945&quot;,&quot;idNum&quot;:&quot;020252&quot;},&quot;resInt&quot;:0}\r\n\r\nThe reason for the JSON change is that the Jackson bean serialisation will reflect over the class, and when it sees getXyz() and setXyz() methods it will map these to a Json field named &quot;xyz&quot; (and not &quot;Xyz&quot;).\r\n\r\nI think there are several ways to override this behaviour, one is to use the one of the Jackson annotations.\r\n","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>You need Setter methods to allow Jackson to set the properties, and you need to change the fields in the json to begin with a lower case letter:</p>\n<pre><code>public class Response {\n\n    private Object ResObj;\n    private int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public void setResObj(Object ResObj) {\n        this.ResObj = ResObj;\n    }\n\n    // ...\n}\n</code></pre>\n<p>and:</p>\n<pre><code>{&quot;resObj&quot;:{&quot;clientNum&quot;:&quot;12345&quot;,&quot;serverNum&quot;:&quot;78945&quot;,&quot;idNum&quot;:&quot;020252&quot;},&quot;resInt&quot;:0}\n</code></pre>\n<p>The reason for the JSON change is that the Jackson bean serialisation will reflect over the class, and when it sees getXyz() and setXyz() methods it will map these to a Json field named &quot;xyz&quot; (and not &quot;Xyz&quot;).</p>\n<p>I think there are several ways to override this behaviour, one is to use the one of the Jackson annotations.</p>\n"},{"comments":[{"owner":{"account_id":216306,"reputation":1549,"user_id":471467,"accept_rate":57,"display_name":"Jay"},"score":0,"creation_date":1440599091,"post_id":26371693,"comment_id":52341098,"body_markdown":"If this resolves the issue, @user2212726 can you please approve so it can be useful to others as well?","body":"If this resolves the issue, @user2212726 can you please approve so it can be useful to others as well?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1586262189,"post_id":26371693,"comment_id":108058568,"body_markdown":"You should give the complete conf. How do you make this &quot;mapper&quot; object you&#39;ve created yourself to be used by Spring ?","body":"You should give the complete conf. How do you make this &quot;mapper&quot; object you&#39;ve created yourself to be used by Spring ?"},{"owner":{"account_id":216306,"reputation":1549,"user_id":471467,"accept_rate":57,"display_name":"Jay"},"score":0,"creation_date":1586349347,"post_id":26371693,"comment_id":108094991,"body_markdown":"@Tristan just wrap the above piece of code in a method and annotate it with `@Bean`\n\nif you want example, check this - https://stackoverflow.com/a/32842962/471467","body":"@Tristan just wrap the above piece of code in a method and annotate it with <code>@Bean</code>  if you want example, check this - <a href=\"https://stackoverflow.com/a/32842962/471467\">stackoverflow.com/a/32842962/471467</a>"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1586351178,"post_id":26371693,"comment_id":108096038,"body_markdown":"Well, this may fail as you can read below the answer you are quoting.","body":"Well, this may fail as you can read below the answer you are quoting."},{"owner":{"account_id":216306,"reputation":1549,"user_id":471467,"accept_rate":57,"display_name":"Jay"},"score":0,"creation_date":1586353121,"post_id":26371693,"comment_id":108097075,"body_markdown":"By &quot;may fail&quot; if you are referring to spring boot then there is a comment which says that use a different name. Makes sense?","body":"By &quot;may fail&quot; if you are referring to spring boot then there is a comment which says that use a different name. Makes sense?"},{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":0,"creation_date":1608635492,"post_id":26371693,"comment_id":115637850,"body_markdown":"Visibility checker is deprecated, having only `mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);` without required fields doesn&#39;t resolve for me the exception. Update your answer.","body":"Visibility checker is deprecated, having only <code>mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPER&zwnj;&#8203;TIES);</code> without required fields doesn&#39;t resolve for me the exception. Update your answer."},{"owner":{"account_id":216306,"reputation":1549,"user_id":471467,"accept_rate":57,"display_name":"Jay"},"score":0,"creation_date":1608768039,"post_id":26371693,"comment_id":115681826,"body_markdown":"@improbable answer is from 2014 and in the context of the question asked at that time. But as you rightly mentioned, `setVisibilityChecker` is deprecated, did you try to use `setVisibility(VisibilityChecker)` as mentioned in javadoc?","body":"@improbable answer is from 2014 and in the context of the question asked at that time. But as you rightly mentioned, <code>setVisibilityChecker</code> is deprecated, did you try to use <code>setVisibility(VisibilityChecker)</code> as mentioned in javadoc?"},{"owner":{"account_id":11885028,"reputation":2467,"user_id":8697659,"display_name":"improbable"},"score":0,"creation_date":1608811472,"post_id":26371693,"comment_id":115691519,"body_markdown":"@Jay `setVisibility(VisibilityChecker)` should be used for this purpose instead.\nRead Javadocs:\n`/**\n     * @deprecated Since 2.6 use {@link #setVisibility(VisibilityChecker)} instead.\n     */\n    @Deprecated`","body":"@Jay <code>setVisibility(VisibilityChecker)</code> should be used for this purpose instead. Read Javadocs: <code>&#47;**      * @deprecated Since 2.6 use {@link #setVisibility(VisibilityChecker)} instead.      *&#47;     @Deprecated</code>"}],"tags":[],"owner":{"account_id":216306,"reputation":1549,"user_id":471467,"accept_rate":57,"display_name":"Jay"},"comment_count":8,"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1609189143,"creation_date":1413326993,"answer_id":26371693,"question_id":23469784,"body_markdown":"If you don&#39;t want to have a setter in your bean and only use fields and getters, you can use the visibility checker of `ObjectMapper` to allow field visibility.&lt;br&gt;\r\nSomething like following:\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\nmapper.setVisibility(VisibilityChecker.Std.defaultInstance().withFieldVisibility(JsonAutoDetect.Visibility.ANY));\r\n```  ","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>If you don't want to have a setter in your bean and only use fields and getters, you can use the visibility checker of <code>ObjectMapper</code> to allow field visibility.<br>\nSomething like following:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\nmapper.setVisibility(VisibilityChecker.Std.defaultInstance().withFieldVisibility(JsonAutoDetect.Visibility.ANY));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782587,"reputation":1339,"user_id":1624917,"accept_rate":50,"display_name":"Ashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1461070544,"creation_date":1461070544,"answer_id":36719103,"question_id":23469784,"body_markdown":"I think you should try this\r\n\r\n    public class Response {\r\n        @JsonProperty\r\n        private Object ResObj;\r\n        @JsonProperty\r\n        private int ResInt;\r\n    \r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n    \r\n        public int getResInt() {\r\n            return ResInt;\r\n        } \r\n    } \r\n\r\nIt will resolve your issue with UnrecognizedPropertyExceptions","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I think you should try this</p>\n\n<pre><code>public class Response {\n    @JsonProperty\n    private Object ResObj;\n    @JsonProperty\n    private int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public int getResInt() {\n        return ResInt;\n    } \n} \n</code></pre>\n\n<p>It will resolve your issue with UnrecognizedPropertyExceptions</p>\n"},{"tags":[],"owner":{"account_id":10467381,"reputation":1,"user_id":7716392,"display_name":"Bhupesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489606988,"creation_date":1489595672,"answer_id":42815663,"question_id":23469784,"body_markdown":"    public class Response {\r\n        public Object ResObj;\r\n        public int ResInt;\r\n\r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n\r\n        public int getResInt() {\r\n            return ResInt;\r\n        } \r\n    } \r\n\r\n**Use this to resolve the above issue.**","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<pre><code>public class Response {\n    public Object ResObj;\n    public int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public int getResInt() {\n        return ResInt;\n    } \n} \n</code></pre>\n\n<p><strong>Use this to resolve the above issue.</strong></p>\n"},{"tags":[],"owner":{"account_id":15012948,"reputation":926,"user_id":10837620,"display_name":"Atul KS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545974153,"creation_date":1545974153,"answer_id":53953961,"question_id":23469784,"body_markdown":"I have sorted this problem using the Jackson library. Here is my code snippet.\r\n\r\n    **Main Class with JSON String in all lower case:**\r\n\r\n     public class MainClass {\r\n\r\n\tpublic static void main(String[] args) throws JsonParseException, \r\n        JsonMappingException, IOException {\r\n\r\n\t\tString jsonStr = &quot;{\\r\\n&quot; + &quot;\t\\&quot;resObj\\&quot;: {\\r\\n&quot; + &quot;\t\t\\&quot;clientNum\\&quot;: \r\n                   \\&quot;12345\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\t\\&quot;serverNum\\&quot;: \\&quot;78945\\&quot;,\\r\\n&quot; + &quot;\t\t\\&quot;idNum\\&quot;: \r\n              \\&quot;020252\\&quot;\\r\\n&quot; + &quot;\t},\\r\\n&quot;\r\n\t\t\t\t+ &quot;\t\\&quot;resInt\\&quot;: 0\\r\\n&quot; + &quot;}&quot;;\r\n\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tMyPojo details = mapper.readValue(jsonStr, MyPojo.class);\r\n\r\n\t\tSystem.out.println(&quot;value of clientNum: &quot; + details.getResObj().getClientNum());\r\n\t\tSystem.out.println(&quot;value of getServerNum: &quot; + \r\n                   details.getResObj().getServerNum());\r\n\t\tSystem.out.println(&quot;value of getIdNum: &quot; + details.getResObj().getIdNum());\r\n\t\tSystem.out.println(&quot;value of getResInt: &quot; + details.getResInt());\r\n\r\n\t} }\r\n\r\n    **MyPojo Class:**\r\n     \r\n     public class MyPojo {\r\n\tprivate ResObj resObj;\r\n\r\n\tprivate String resInt;\r\n\r\n\tpublic ResObj getResObj() {\r\n\t\treturn resObj;\r\n\t}\r\n\r\n\t  public String getResInt() {\r\n\t\t   return resInt; \t} }\r\n\r\n    **ResObj class:**\r\n  \r\n\r\n    public class ResObj {\r\n\tprivate String serverNum;\r\n\r\n\tprivate String idNum;\r\n\r\n\tprivate String clientNum;\r\n\r\n\tpublic String getServerNum() {\r\n\t\treturn serverNum;\r\n\t}\r\n\r\n\tpublic String getIdNum() {\r\n\t\treturn idNum;\r\n\t}\r\n\r\n\tpublic String getClientNum() {\r\n\t\treturn clientNum;\r\n\t} }\r\n\r\n    **RESULT**\r\n\r\n      value of clientNum: 12345\r\n      value of getServerNum: 78945\r\n      value of getIdNum: 020252\r\n      value of getResInt: 0\r\n\r\n    NOTE: I have removed Setters in classes &amp; there is no effect on the result.","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I have sorted this problem using the Jackson library. Here is my code snippet.</p>\n\n<pre><code>**Main Class with JSON String in all lower case:**\n\n public class MainClass {\n\npublic static void main(String[] args) throws JsonParseException, \n    JsonMappingException, IOException {\n\n    String jsonStr = \"{\\r\\n\" + \"    \\\"resObj\\\": {\\r\\n\" + \"      \\\"clientNum\\\": \n               \\\"12345\\\",\\r\\n\"\n            + \"     \\\"serverNum\\\": \\\"78945\\\",\\r\\n\" + \"      \\\"idNum\\\": \n          \\\"020252\\\"\\r\\n\" + \"   },\\r\\n\"\n            + \" \\\"resInt\\\": 0\\r\\n\" + \"}\";\n\n    ObjectMapper mapper = new ObjectMapper();\n\n    MyPojo details = mapper.readValue(jsonStr, MyPojo.class);\n\n    System.out.println(\"value of clientNum: \" + details.getResObj().getClientNum());\n    System.out.println(\"value of getServerNum: \" + \n               details.getResObj().getServerNum());\n    System.out.println(\"value of getIdNum: \" + details.getResObj().getIdNum());\n    System.out.println(\"value of getResInt: \" + details.getResInt());\n\n} }\n\n**MyPojo Class:**\n\n public class MyPojo {\nprivate ResObj resObj;\n\nprivate String resInt;\n\npublic ResObj getResObj() {\n    return resObj;\n}\n\n  public String getResInt() {\n       return resInt;   } }\n\n**ResObj class:**\n\n\npublic class ResObj {\nprivate String serverNum;\n\nprivate String idNum;\n\nprivate String clientNum;\n\npublic String getServerNum() {\n    return serverNum;\n}\n\npublic String getIdNum() {\n    return idNum;\n}\n\npublic String getClientNum() {\n    return clientNum;\n} }\n\n**RESULT**\n\n  value of clientNum: 12345\n  value of getServerNum: 78945\n  value of getIdNum: 020252\n  value of getResInt: 0\n\nNOTE: I have removed Setters in classes &amp; there is no effect on the result.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638984579,"creation_date":1638984579,"answer_id":70279293,"question_id":23469784,"body_markdown":"I tried all the ways mentioned above but in my case, this is the only solution that worked as answered [here][1] Solution 2. Here I have enabled `@EnableWebMvc` in my spring boot application.\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig implements WebMvcConfigurer {\r\n        @Autowired\r\n        private ObjectMapper objectMapper;// created elsewhere\r\n        @Override\r\n        public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            // this will add a 2nd MappingJackson2HttpMessageConverter \r\n            converters.add(new MappingJackson2HttpMessageConverter(this.objectMapper));\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/55958912/2462531","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>I tried all the ways mentioned above but in my case, this is the only solution that worked as answered <a href=\"https://stackoverflow.com/a/55958912/2462531\">here</a> Solution 2. Here I have enabled <code>@EnableWebMvc</code> in my spring boot application.</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Autowired\n    private ObjectMapper objectMapper;// created elsewhere\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        // this will add a 2nd MappingJackson2HttpMessageConverter \n        converters.add(new MappingJackson2HttpMessageConverter(this.objectMapper));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2548436,"reputation":1245,"user_id":2212726,"accept_rate":63,"display_name":"user2212726"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131348,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"accepted_answer_id":26371693,"answer_count":7,"score":35,"last_activity_date":1683194014,"creation_date":1399284193,"question_id":23469784,"body_markdown":"i got a deserialization problem: \r\n\r\nThis is my class:\r\n\r\n    public class Response {\r\n\r\n        private Object ResObj;\r\n        private int ResInt;\r\n\r\n        public Object getResObj() {\r\n            return ResObj;\r\n        }\r\n\r\n        public int getResInt() {\r\n            return ResInt;\r\n        } \r\n    } \r\n\r\nthe JSON i want to deserialize is:\r\n\r\n    {&quot;ResObj&quot;:{&quot;ClientNum&quot;:&quot;12345&quot;,&quot;ServerNum&quot;:&quot;78945&quot;,&quot;IdNum&quot;:&quot;020252&quot;},&quot;ResInt&quot;:0}\r\n\r\nI get this exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;ResObj&quot; , not marked as ignorable (0 known properties: ])\r\n     at [Source: java.io.StringReader@1f758500; line: 1, column: 20] (through reference chain: [&quot;ResObj&quot;])\r\n\r\n\r\nI don&#39;t want to add:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nbecause I want to get the ResObj...\r\n\r\nif I add the annotation, it pass but it will set it as null .. which I don&#39;t want.","title":"com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field","body":"<p>i got a deserialization problem: </p>\n\n<p>This is my class:</p>\n\n<pre><code>public class Response {\n\n    private Object ResObj;\n    private int ResInt;\n\n    public Object getResObj() {\n        return ResObj;\n    }\n\n    public int getResInt() {\n        return ResInt;\n    } \n} \n</code></pre>\n\n<p>the JSON i want to deserialize is:</p>\n\n<pre><code>{\"ResObj\":{\"ClientNum\":\"12345\",\"ServerNum\":\"78945\",\"IdNum\":\"020252\"},\"ResInt\":0}\n</code></pre>\n\n<p>I get this exception:</p>\n\n<pre><code>Exception in thread \"main\" com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"ResObj\" , not marked as ignorable (0 known properties: ])\n at [Source: java.io.StringReader@1f758500; line: 1, column: 20] (through reference chain: [\"ResObj\"])\n</code></pre>\n\n<p>I don't want to add:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>because I want to get the ResObj...</p>\n\n<p>if I add the annotation, it pass but it will set it as null .. which I don't want.</p>\n"},{"tags":["java","postgresql","specifications","hibernate-criteria"],"owner":{"account_id":8011525,"reputation":61,"user_id":6043054,"display_name":"sushil sinha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683193723,"creation_date":1683193723,"question_id":76171807,"body_markdown":"I have one column which is of string array in db.  \r\n`@Type(type = &quot;com.here.tao.ctaas.jpa.entity.CustomStringArrayType&quot;) @Column(columnDefinition = &quot;text[]&quot;) private String[] tags;`\r\nIn database column contains values as {&#39;Tag1&#39;, &#39;Tag2&#39;, &#39;Tag3&#39;}\r\n\r\nI am using Specification and overriding toPredicate() method for findAll() method .\r\n\r\n\\`tags = \\[&quot;tag1&quot;, &quot;tag2&quot;\\];\r\n\r\n    if(tags != null &amp;&amp; !c.getTags().isEmpty()) {\r\n                Expression&lt;String&gt; delimiter = builder.literal(&quot;,&quot;);\r\n                tags.stream().forEach(tag -&gt; {\r\n                    predicates.add(builder.like(\r\n                            builder.function(\r\n                                    &quot;array_to_string&quot;, String.class, root.get(&quot;tags&quot;), delimiter),\r\n                            &quot;%&quot; + tag.toLowerCase() + &quot;%&quot;));\r\n    \r\n                });\r\n    \r\n            }`\r\n\r\nProblem with this is it returns if it find partial values too because of like query.\r\n\r\nBut my expectation is it should search exact word from the given array.\r\n\r\nI tried with Predicate Function of jpa\r\n\r\nProblem with this is it returns if it find partial values too because of like query.\r\n\r\nBut my expectation is it should search exact word from the given array.","title":"Search Value in array of string column posgres java","body":"<p>I have one column which is of string array in db.<br />\n<code>@Type(type = &quot;com.here.tao.ctaas.jpa.entity.CustomStringArrayType&quot;) @Column(columnDefinition = &quot;text[]&quot;) private String[] tags;</code>\nIn database column contains values as {'Tag1', 'Tag2', 'Tag3'}</p>\n<p>I am using Specification and overriding toPredicate() method for findAll() method .</p>\n<p>`tags = [&quot;tag1&quot;, &quot;tag2&quot;];</p>\n<pre><code>if(tags != null &amp;&amp; !c.getTags().isEmpty()) {\n            Expression&lt;String&gt; delimiter = builder.literal(&quot;,&quot;);\n            tags.stream().forEach(tag -&gt; {\n                predicates.add(builder.like(\n                        builder.function(\n                                &quot;array_to_string&quot;, String.class, root.get(&quot;tags&quot;), delimiter),\n                        &quot;%&quot; + tag.toLowerCase() + &quot;%&quot;));\n\n            });\n\n        }`\n</code></pre>\n<p>Problem with this is it returns if it find partial values too because of like query.</p>\n<p>But my expectation is it should search exact word from the given array.</p>\n<p>I tried with Predicate Function of jpa</p>\n<p>Problem with this is it returns if it find partial values too because of like query.</p>\n<p>But my expectation is it should search exact word from the given array.</p>\n"},{"tags":["java","hibernate","dialect","wildfly-11"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1683146046,"post_id":76163862,"comment_id":134323421,"body_markdown":"That is a pretty big jump in WildFly. I&#39;d suggest upgrading WildFly instead of Hibernate.","body":"That is a pretty big jump in WildFly. I&#39;d suggest upgrading WildFly instead of Hibernate."},{"owner":{"account_id":2719435,"reputation":521,"user_id":2346038,"accept_rate":89,"display_name":"WDrgn"},"score":0,"creation_date":1683180730,"post_id":76163862,"comment_id":134327471,"body_markdown":"Well, I&#39;m not in a position to change anything in the application. I just need to update the app to a client from a certain version that have that hibernate to a newer version with hibernate 5.4.27.Final. The point is that on my machine, it is working with wildfly 11. The application being with java 8, I know that newer versions of wildfly need at least java 11.","body":"Well, I&#39;m not in a position to change anything in the application. I just need to update the app to a client from a certain version that have that hibernate to a newer version with hibernate 5.4.27.Final. The point is that on my machine, it is working with wildfly 11. The application being with java 8, I know that newer versions of wildfly need at least java 11."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1683208203,"post_id":76163862,"comment_id":134333926,"body_markdown":"WildFly 26 is Jakarta EE 8 and works on Java 8. WildFly 27+ is Jakarta EE 10 and requires Java 11.","body":"WildFly 26 is Jakarta EE 8 and works on Java 8. WildFly 27+ is Jakarta EE 10 and requires Java 11."}],"answers":[{"tags":[],"owner":{"account_id":2719435,"reputation":521,"user_id":2346038,"accept_rate":89,"display_name":"WDrgn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683192395,"creation_date":1683192395,"answer_id":76171613,"question_id":76163862,"body_markdown":"Enabling more logs found that was something related to the XA of my database. I changed in &lt;bindings&gt; my active datasource to point toward a non-xa datasource and it worked.","title":"app using hibernate 5.4.27.Final is not deploying successful in wildfly-11.0.0.Final","body":"<p>Enabling more logs found that was something related to the XA of my database. I changed in  my active datasource to point toward a non-xa datasource and it worked.</p>\n"}],"owner":{"account_id":2719435,"reputation":521,"user_id":2346038,"accept_rate":89,"display_name":"WDrgn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76171613,"answer_count":1,"score":1,"last_activity_date":1683192395,"creation_date":1683117060,"question_id":76163862,"body_markdown":"I have an app (version 201908) deployed in wildfly-11.0.0.Final that&#39;s using org.hibernate-hibernate-core-3.6.9.Final and java 8 and is successfully deployed. \r\n\r\nWhen I&#39;m trying to deploy this app&#39;s newer version (202211), that&#39;s using org.hibernate-hibernate-core-5.4.27.Final, in the same wildfly-11.0.0.Final, still with java 8, with the same standalone.xml it gets stuck on this last line from here:\r\n\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - Determining Hibernate dialect\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - Using DialectFactory and DB properties to determine dialect\r\n    INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.27.Final\r\n    INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - Chosen dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    INFO  com.commons.utilities.persistence.HibernateUtils - There are mapping resources, examining for SQLSERVER\r\n    INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n\r\nAnd it&#39;s failing with a timeout:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GS66F.png\r\n\r\nOn my machine, both versions are deploying successfully and logs are looking like this:\r\n\r\n    INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\r\n    WARN  org.hibernate.id.UUIDHexGenerator - HHH000409: Using org.hibernate.id.UUIDHexGenerator which does not generate IETF RFC 4122 compliant UUID values; consider using org.hibernate.id.UUIDGenerator instead\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\r\n    INFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Post-Processing the Bean Factory\r\n    INFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Listing the DB-stored configuration overrides\r\n    INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.springframework.orm.hibernate5.ConfigurableJtaPlatform]\r\n    ........\r\n\r\nI tried to increase the timeout, even the deployment-timeout in standalone.xml, but still not passing this line...\r\nAnyone, any suggestion what I can try to make it work? Thanks!","title":"app using hibernate 5.4.27.Final is not deploying successful in wildfly-11.0.0.Final","body":"<p>I have an app (version 201908) deployed in wildfly-11.0.0.Final that's using org.hibernate-hibernate-core-3.6.9.Final and java 8 and is successfully deployed.</p>\n<p>When I'm trying to deploy this app's newer version (202211), that's using org.hibernate-hibernate-core-5.4.27.Final, in the same wildfly-11.0.0.Final, still with java 8, with the same standalone.xml it gets stuck on this last line from here:</p>\n<pre><code>INFO  com.commons.utilities.persistence.HibernateUtils - Determining Hibernate dialect\nINFO  com.commons.utilities.persistence.HibernateUtils - Using DialectFactory and DB properties to determine dialect\nINFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.4.27.Final\nINFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\nINFO  com.commons.utilities.persistence.HibernateUtils - Chosen dialect: org.hibernate.dialect.SQLServer2012Dialect\nINFO  com.commons.utilities.persistence.HibernateUtils - There are mapping resources, examining for SQLSERVER\nINFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nINFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\n</code></pre>\n<p>And it's failing with a timeout:\n<a href=\"https://i.stack.imgur.com/GS66F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GS66F.png\" alt=\"enter image description here\" /></a></p>\n<p>On my machine, both versions are deploying successfully and logs are looking like this:</p>\n<pre><code>INFO  org.hibernate.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\nINFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.SQLServer2012Dialect\nWARN  org.hibernate.id.UUIDHexGenerator - HHH000409: Using org.hibernate.id.UUIDHexGenerator which does not generate IETF RFC 4122 compliant UUID values; consider using org.hibernate.id.UUIDGenerator instead\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  org.hibernate.id.enhanced.TableGenerator - HHH000398: Explicit segment value for id generator [hibernate_unique_key.sequence_name] suggested; using default [default]\nINFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Post-Processing the Bean Factory\nINFO  com.commons.preferences.spring.PreferenceBasedPropertyOverrideConfigurer - Listing the DB-stored configuration overrides\nINFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.springframework.orm.hibernate5.ConfigurableJtaPlatform]\n........\n</code></pre>\n<p>I tried to increase the timeout, even the deployment-timeout in standalone.xml, but still not passing this line...\nAnyone, any suggestion what I can try to make it work? Thanks!</p>\n"},{"tags":["java","docker","google-cloud-platform","google-cloud-build","cloudbuild.yaml"],"answers":[{"comments":[{"owner":{"account_id":28490164,"reputation":3,"user_id":21802905,"display_name":"Gunel"},"score":0,"creation_date":1683188717,"post_id":76170899,"comment_id":134329059,"body_markdown":"Thank you. I&#39;ll try this. My project was also built successfully until a few days ago. Until that I was able to push my code to the same project and Cloud Build was running successfully","body":"Thank you. I&#39;ll try this. My project was also built successfully until a few days ago. Until that I was able to push my code to the same project and Cloud Build was running successfully"}],"tags":[],"owner":{"account_id":4336562,"reputation":1,"user_id":3540918,"display_name":"user3540918"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683187615,"creation_date":1683187586,"answer_id":76170899,"question_id":76162801,"body_markdown":"My project was build successful previously in GCP cloud build with bash script\r\nbut I got similar error yesterday - Fatal error compiling: invalid target release: 11\r\n\r\nMy solution was replace script with example:\r\nhttps://github.com/GoogleCloudPlatform/cloud-build-samples/blob/main/maven-example/cloudbuild.yaml\r\n\r\n      - name: maven:3-eclipse-temurin-17-alpine\r\n    entrypoint: mvn\r\n    args: [&#39;package&#39;,&#39;-Dmaven.test.skip=true&#39;]","title":"error in Cloud Build (GCP) - javac: invalid target release: 11","body":"<p>My project was build successful previously in GCP cloud build with bash script\nbut I got similar error yesterday - Fatal error compiling: invalid target release: 11</p>\n<p>My solution was replace script with example:\n<a href=\"https://github.com/GoogleCloudPlatform/cloud-build-samples/blob/main/maven-example/cloudbuild.yaml\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/cloud-build-samples/blob/main/maven-example/cloudbuild.yaml</a></p>\n<pre><code>  - name: maven:3-eclipse-temurin-17-alpine\nentrypoint: mvn\nargs: ['package','-Dmaven.test.skip=true']\n</code></pre>\n"}],"owner":{"account_id":28490164,"reputation":3,"user_id":21802905,"display_name":"Gunel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683192299,"creation_date":1683109639,"question_id":76162801,"body_markdown":"I have a maven project which runs normally on my local computer, but when I push the code to the cloud repository, it fails in Cloud Build with the error below:\r\n\r\n```\r\n\r\nStep #0: [ERROR] COMPILATION ERROR : \r\nStep #0: [INFO] -------------------------------------------------------------\r\nStep #0: [ERROR] javac: invalid target release: 11\r\nStep #0: Usage: javac &lt;options&gt; &lt;source files&gt;\r\nStep #0: use -help for a list of possible options\r\nStep #0: \r\nStep #0: [INFO] 1 error\r\nStep #0: [INFO] -------------------------------------------------------------\r\nStep #0: [INFO] ------------------------------------------------------------------------\r\nStep #0: [INFO] BUILD FAILURE\r\nStep #0: [INFO] ------------------------------------------------------------------------\r\nStep #0: [INFO] Total time:  18.785 s\r\nStep #0: [INFO] Finished at: 2023-05-03T05:52:33Z\r\nStep #0: [INFO] ------------------------------------------------------------------------\r\nStep #0: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project job: Compilation failure\r\nStep #0: [ERROR] javac: invalid target release: 11\r\nStep #0: [ERROR] Usage: javac &lt;options&gt; &lt;source files&gt;\r\n```\r\n\r\nHere is my `pom.xml`:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project \r\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.ddd.dd&lt;/groupId&gt;\r\n    &lt;artifactId&gt;job&lt;/artifactId&gt; \r\n    &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;name&gt;job&lt;/name&gt;\r\n    &lt;description&gt;project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; \r\n\t    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n\t    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n\t    &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt; \r\n        &lt;!-- spring-boot-starter-web (spring-webmvc + tomcat) --&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;!-- job-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/ob_core-2.1.0.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- kml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/joda-time/joda-time --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;2.10.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t\r\n\t\t    &lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;6.2.3.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.6.10.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;10.0.22&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;8.0.29&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n\t            &lt;configuration&gt;\r\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n  &lt;/configuration&gt;\r\n\t             &lt;executions&gt;\r\n\t\t\t      &lt;execution&gt;\r\n\t\t\t        &lt;goals&gt;\r\n\t\t\t          &lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t        &lt;/goals&gt;\r\n\t\t\t        &lt;configuration&gt;\r\n\t\t\t          \r\n\t\t\t          &lt;mainClass&gt;map.job.executor.JobExecutorApplication&lt;/mainClass&gt;\r\n\t\t\t        &lt;/configuration&gt;\r\n\t\t\t      &lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n                 \r\n\t        &lt;/plugin&gt;\r\n        \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;configurationFile&gt;src/main/resources/mybatis/generator/generatorConfig.xml&lt;/configurationFile&gt;\r\n                    &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                        &lt;version&gt;8.0.29&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mapper-generator&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;fork&gt;true&lt;/fork&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*Test.java&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/Test*.java&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIn the project structure (intellij idea) I&#39;ve selected Java 11 (oracle) as SDK, in the modules -\\&gt; dependencies I have done same. In the settings -\\&gt; compiler, I selected java compiler and target bytecode as 11.  Also  $JAVA_HOME is : /usr/lib/jvm/jdk-11. It runs on my local machine, however build fails in Cloud Build with the above error once I push my code.\r\n\r\nHere is the `Dockerfile`:\r\n\r\n```\r\nFROM openjdk:11\r\n\r\nWORKDIR /job\r\nADD ./target/xxxx-1.0.0-RELEASE.jar /job\r\n\r\nEXPOSE 22 9999\r\nENV NAME job\r\n\r\nCMD [&quot;java&quot;,&quot;-jar&quot;, &quot;-Duser.timezone=Australia/Sydney&quot;, &quot;xxxx-1.0.0-RELEASE.jar&quot;] \r\n```\r\n\r\nThis is my `cloudbuild.yaml` file: \r\n\r\n```\r\n steps:\r\n# build the container image\r\n- name: &#39;gcr.io/cloud-builders/mvn&#39;\r\n  args: [&#39;install&#39;, &#39;-Dmaven.test.skip=true&#39;]\r\n# build the container image\r\n- name: &#39;gcr.io/cloud-builders/docker&#39;\r\n  args: [&#39;build&#39;, &#39;-t&#39;, &#39;gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID&#39;, &#39;.&#39;]\r\n  \r\n  \r\n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\r\n  entrypoint: &#39;bash&#39;\r\n  args:\r\n  - &#39;-c&#39;\r\n  - |\r\n    for image_name in $(gcloud container images list); do\r\n      for digest in $(gcloud container images list-tags $image_name --format=json | awk &#39;/digest/{ print $2 }&#39; | sed -e &#39;s/^&quot;//&#39; -e &#39;s/.\\{2\\}$//&#39; | tail -n +6); do\r\n          gcloud container images -q delete $image_name@$digest --force-delete-tags;\r\n      done;\r\n    done;\r\n  \r\n  # push the container image to Container Registry\r\n- name: &#39;gcr.io/cloud-builders/docker&#39;\r\n  args: [&#39;push&#39;, &#39;gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID&#39;]\r\n  # Deploy container image to Cloud Run\r\n\r\n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\r\n  entrypoint: &#39;bash&#39;\r\n  args:\r\n  - &#39;-c&#39;\r\n  - |\r\n    gcloud container clusters get-credentials oni-cluster --zone australia-southeast1-b\r\n    sed -i.bak &#39;s#IMAGE_PLACEHOLDER#gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID#&#39; ./k8s/sync/*.yaml\r\n    sed -i.bak &#39;s#NAMESPACE_PLACEHOLDER#$_NAMESPACE#&#39; ./k8s/sync/*.yaml\r\n    kubectl --namespace=$_NAMESPACE apply -f k8s/sync/\r\n\r\nimages:\r\n- gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID\r\n```","title":"error in Cloud Build (GCP) - javac: invalid target release: 11","body":"<p>I have a maven project which runs normally on my local computer, but when I push the code to the cloud repository, it fails in Cloud Build with the error below:</p>\n<pre><code>\nStep #0: [ERROR] COMPILATION ERROR : \nStep #0: [INFO] -------------------------------------------------------------\nStep #0: [ERROR] javac: invalid target release: 11\nStep #0: Usage: javac &lt;options&gt; &lt;source files&gt;\nStep #0: use -help for a list of possible options\nStep #0: \nStep #0: [INFO] 1 error\nStep #0: [INFO] -------------------------------------------------------------\nStep #0: [INFO] ------------------------------------------------------------------------\nStep #0: [INFO] BUILD FAILURE\nStep #0: [INFO] ------------------------------------------------------------------------\nStep #0: [INFO] Total time:  18.785 s\nStep #0: [INFO] Finished at: 2023-05-03T05:52:33Z\nStep #0: [INFO] ------------------------------------------------------------------------\nStep #0: [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project job: Compilation failure\nStep #0: [ERROR] javac: invalid target release: 11\nStep #0: [ERROR] Usage: javac &lt;options&gt; &lt;source files&gt;\n</code></pre>\n<p>Here is my <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project \n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.ddd.dd&lt;/groupId&gt;\n    &lt;artifactId&gt;job&lt;/artifactId&gt; \n    &lt;version&gt;1.0.0-RELEASE&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;job&lt;/name&gt;\n    &lt;description&gt;project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; \n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt; \n        &lt;!-- spring-boot-starter-web (spring-webmvc + tomcat) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- job-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.xuxueli&lt;/groupId&gt;\n            &lt;artifactId&gt;xxl-job-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/src/main/resources/lib/ob_core-2.1.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;!-- kml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n            &lt;version&gt;1.25&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/joda-time/joda-time --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;2.10.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n            &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n            &lt;version&gt;5.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;10.0.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.29&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n    &lt;version&gt;3.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n                &lt;configuration&gt;\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n  &lt;/configuration&gt;\n                 &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                      \n                      &lt;mainClass&gt;map.job.executor.JobExecutorApplication&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n                 \n            &lt;/plugin&gt;\n        \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configurationFile&gt;src/main/resources/mybatis/generator/generatorConfig.xml&lt;/configurationFile&gt;\n                    &lt;overwrite&gt;true&lt;/overwrite&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;mysql&lt;/groupId&gt;\n                        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                        &lt;version&gt;8.0.29&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;tk.mybatis&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapper-generator&lt;/artifactId&gt;\n                        &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*Test.java&lt;/exclude&gt;\n                        &lt;exclude&gt;**/Test*.java&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the project structure (intellij idea) I've selected Java 11 (oracle) as SDK, in the modules -&gt; dependencies I have done same. In the settings -&gt; compiler, I selected java compiler and target bytecode as 11.  Also  $JAVA_HOME is : /usr/lib/jvm/jdk-11. It runs on my local machine, however build fails in Cloud Build with the above error once I push my code.</p>\n<p>Here is the <code>Dockerfile</code>:</p>\n<pre><code>FROM openjdk:11\n\nWORKDIR /job\nADD ./target/xxxx-1.0.0-RELEASE.jar /job\n\nEXPOSE 22 9999\nENV NAME job\n\nCMD [&quot;java&quot;,&quot;-jar&quot;, &quot;-Duser.timezone=Australia/Sydney&quot;, &quot;xxxx-1.0.0-RELEASE.jar&quot;] \n</code></pre>\n<p>This is my <code>cloudbuild.yaml</code> file:</p>\n<pre><code> steps:\n# build the container image\n- name: 'gcr.io/cloud-builders/mvn'\n  args: ['install', '-Dmaven.test.skip=true']\n# build the container image\n- name: 'gcr.io/cloud-builders/docker'\n  args: ['build', '-t', 'gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID', '.']\n  \n  \n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\n  entrypoint: 'bash'\n  args:\n  - '-c'\n  - |\n    for image_name in $(gcloud container images list); do\n      for digest in $(gcloud container images list-tags $image_name --format=json | awk '/digest/{ print $2 }' | sed -e 's/^&quot;//' -e 's/.\\{2\\}$//' | tail -n +6); do\n          gcloud container images -q delete $image_name@$digest --force-delete-tags;\n      done;\n    done;\n  \n  # push the container image to Container Registry\n- name: 'gcr.io/cloud-builders/docker'\n  args: ['push', 'gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID']\n  # Deploy container image to Cloud Run\n\n- name: &quot;gcr.io/cloud-builders/gcloud&quot;\n  entrypoint: 'bash'\n  args:\n  - '-c'\n  - |\n    gcloud container clusters get-credentials oni-cluster --zone australia-southeast1-b\n    sed -i.bak 's#IMAGE_PLACEHOLDER#gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID#' ./k8s/sync/*.yaml\n    sed -i.bak 's#NAMESPACE_PLACEHOLDER#$_NAMESPACE#' ./k8s/sync/*.yaml\n    kubectl --namespace=$_NAMESPACE apply -f k8s/sync/\n\nimages:\n- gcr.io/$PROJECT_ID/xxxx-$_NAMESPACE:$BUILD_ID\n</code></pre>\n"},{"tags":["java","pdf","base64","blob","octet-stream"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1683089656,"post_id":76150019,"comment_id":134311212,"body_markdown":"Please share the `error message` in plain text format","body":"Please share the <code>error message</code> in plain text format"},{"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"score":0,"creation_date":1683107425,"post_id":76150019,"comment_id":134314579,"body_markdown":"@FarkhodAbdukodirov, this was the message when opening the file: &#39;Adobe Acrobat Reader could not open Car Theft2_0001.pott because it is either not a supported file type or because the file has been damaged (for example, it was sent as an email attachment and wasn&#39;t correctly decoded).&#39;","body":"@FarkhodAbdukodirov, this was the message when opening the file: &#39;Adobe Acrobat Reader could not open Car Theft2_0001.pott because it is either not a supported file type or because the file has been damaged (for example, it was sent as an email attachment and wasn&#39;t correctly decoded).&#39;"}],"answers":[{"tags":[],"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683192130,"creation_date":1683106823,"answer_id":76162419,"question_id":76150019,"body_markdown":"I found that the initial base64 string gotten from the blob data is still an encoded string and that it required a bit extra step to show the original pdf contents:\r\n\r\n\r\n    private static void pdfBlobToDoc(String blobData, String fileName) {\r\n        String path = &quot;src/main/resources/&quot; + fileName;\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(path)) {\r\n            byte[] blobValue = Base64.getDecoder().decode(blobData.replaceAll(&quot;[^A-Za-z0-9+/=]&quot;, &quot;&quot;));\r\n            Blob blob = new SerialBlob(blobValue);\r\n            fos.write(blob.getBytes(1, (int) blob.length()));\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error writing pdf blob to &quot; + fileName + &quot;: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nWith this, I am able to read the pdf documents properly.","title":"Converted byteArray data to PDF not opening","body":"<p>I found that the initial base64 string gotten from the blob data is still an encoded string and that it required a bit extra step to show the original pdf contents:</p>\n<pre><code>private static void pdfBlobToDoc(String blobData, String fileName) {\n    String path = &quot;src/main/resources/&quot; + fileName;\n\n    try (FileOutputStream fos = new FileOutputStream(path)) {\n        byte[] blobValue = Base64.getDecoder().decode(blobData.replaceAll(&quot;[^A-Za-z0-9+/=]&quot;, &quot;&quot;));\n        Blob blob = new SerialBlob(blobValue);\n        fos.write(blob.getBytes(1, (int) blob.length()));\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Error writing pdf blob to &quot; + fileName + &quot;: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>With this, I am able to read the pdf documents properly.</p>\n"}],"owner":{"account_id":25606831,"reputation":1,"user_id":19380802,"display_name":"Ikechukwu Paul Anene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683192130,"creation_date":1682973424,"question_id":76150019,"body_markdown":"I am reading data from a CSV file and saving it to a Map object called &#39;record&#39;. I am trying to convert the blob data from the record object and save the data to its document file. I have tested for image documents and they convert &amp; save fine to files that can be opened. However, the pdf images after saving, do not open and return an error instead.\r\n\r\n\r\n```\r\nprivate static void convertBlobToBase64(Map&lt;String, Object&gt; record) {\r\n        boolean blob = record.keySet().stream().anyMatch(key -&gt; key.contains(&quot;Blob&quot;));\r\n\r\n        if (blob) {\r\n            for (Map.Entry&lt;String, Object&gt; entry : record.entrySet()) {\r\n                if (entry.getKey().contains(&quot;Blob&quot;)) {\r\n                    try {\r\n                        String hexData = (String) entry.getValue();\r\n                        hexData = hexData.substring(1).replaceAll(&quot;[^0-9A-Fa-f]&quot;, &quot;&quot;);\r\n                        if (hexData.length() % 2 != 0) {\r\n                            throw new IllegalArgumentException(&quot;Invalid hex string&quot;);\r\n                        }\r\n                        byte[] hexBinary = DatatypeConverter.parseHexBinary(hexData);\r\n                        String base64String = Base64.getEncoder().encodeToString(hexBinary);\r\n                        blobToDoc(base64String, (String) record.get(&quot;Document_FileName&quot;));\r\n                    } catch (IOException | SQLException e) {\r\n                        throw new RuntimeException(&quot;Error converting blob:  &quot;+ e.getMessage());\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void blobToDoc(String blobData, String fileName) throws SQLException, IOException {\r\n        byte[] blobValue = Base64.getDecoder().decode(blobData);\r\n        Blob blob = new SerialBlob(blobValue);\r\n        String path = &quot;src/main/resources/&quot; + fileName;\r\n        Path outputFile = Paths.get(path);\r\n        try (OutputStream outputStream = Files.newOutputStream(outputFile)) {\r\n            byte[] buffer = new byte[4096];\r\n            int bytesRead = -1;\r\n            InputStream inputStream = blob.getBinaryStream();\r\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n            inputStream.close();\r\n            outputStream.flush();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n[This is the error that comes up when opening the saved PDFs:](https://i.stack.imgur.com/jHAMp.jpg)\r\n\r\nPlease, how can I fix this?\r\n\r\n\r\nI took the blob data to an online tool to convert first to base64 and then to pdf. It complained about being unable to convert &#39;application/octet-stream&#39; to &#39;application/pdf&#39;. Is there a way to convert the octet-stream data to readable pdf file?","title":"Converted byteArray data to PDF not opening","body":"<p>I am reading data from a CSV file and saving it to a Map object called 'record'. I am trying to convert the blob data from the record object and save the data to its document file. I have tested for image documents and they convert &amp; save fine to files that can be opened. However, the pdf images after saving, do not open and return an error instead.</p>\n<pre><code>private static void convertBlobToBase64(Map&lt;String, Object&gt; record) {\n        boolean blob = record.keySet().stream().anyMatch(key -&gt; key.contains(&quot;Blob&quot;));\n\n        if (blob) {\n            for (Map.Entry&lt;String, Object&gt; entry : record.entrySet()) {\n                if (entry.getKey().contains(&quot;Blob&quot;)) {\n                    try {\n                        String hexData = (String) entry.getValue();\n                        hexData = hexData.substring(1).replaceAll(&quot;[^0-9A-Fa-f]&quot;, &quot;&quot;);\n                        if (hexData.length() % 2 != 0) {\n                            throw new IllegalArgumentException(&quot;Invalid hex string&quot;);\n                        }\n                        byte[] hexBinary = DatatypeConverter.parseHexBinary(hexData);\n                        String base64String = Base64.getEncoder().encodeToString(hexBinary);\n                        blobToDoc(base64String, (String) record.get(&quot;Document_FileName&quot;));\n                    } catch (IOException | SQLException e) {\n                        throw new RuntimeException(&quot;Error converting blob:  &quot;+ e.getMessage());\n                    }\n                    return;\n                }\n            }\n        }\n    }\n\n    private static void blobToDoc(String blobData, String fileName) throws SQLException, IOException {\n        byte[] blobValue = Base64.getDecoder().decode(blobData);\n        Blob blob = new SerialBlob(blobValue);\n        String path = &quot;src/main/resources/&quot; + fileName;\n        Path outputFile = Paths.get(path);\n        try (OutputStream outputStream = Files.newOutputStream(outputFile)) {\n            byte[] buffer = new byte[4096];\n            int bytesRead = -1;\n            InputStream inputStream = blob.getBinaryStream();\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                outputStream.write(buffer, 0, bytesRead);\n            }\n            inputStream.close();\n            outputStream.flush();\n        }\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jHAMp.jpg\" rel=\"nofollow noreferrer\">This is the error that comes up when opening the saved PDFs:</a></p>\n<p>Please, how can I fix this?</p>\n<p>I took the blob data to an online tool to convert first to base64 and then to pdf. It complained about being unable to convert 'application/octet-stream' to 'application/pdf'. Is there a way to convert the octet-stream data to readable pdf file?</p>\n"},{"tags":["java","spring","multithreading","spring-statemachine"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1509096349,"post_id":46955741,"comment_id":80890782,"body_markdown":"But if every state machine would use its own scheduler, wouldn&#39;t you end up with the same problem you are trying to solve - too many threads?","body":"But if every state machine would use its own scheduler, wouldn&#39;t you end up with the same problem you are trying to solve - too many threads?"},{"owner":{"account_id":9982522,"reputation":91,"user_id":7384959,"display_name":"Alejandro Raiczyk"},"score":0,"creation_date":1509096850,"post_id":46955741,"comment_id":80891112,"body_markdown":"State machine instances are limited, because they are pooled. If each machine has a task scheduler that has a limited threadPool, then I assume the total # of threads is limited because no one would be creating threads on demand. Am I wrong?","body":"State machine instances are limited, because they are pooled. If each machine has a task scheduler that has a limited threadPool, then I assume the total # of threads is limited because no one would be creating threads on demand. Am I wrong?"}],"answers":[{"comments":[{"owner":{"account_id":9982522,"reputation":91,"user_id":7384959,"display_name":"Alejandro Raiczyk"},"score":0,"creation_date":1509048820,"post_id":46956023,"comment_id":80873786,"body_markdown":"Thanks for the quick reply! I did what you suggested, see #Update 1 in the original post please.","body":"Thanks for the quick reply! I did what you suggested, see #Update 1 in the original post please."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509025418,"creation_date":1509025418,"answer_id":46956023,"question_id":46955741,"body_markdown":"The [spring docs][1] provide this example configuration:\r\n\r\n    @Configuration\r\n    @EnableStateMachine\r\n    public class Config17\r\n            extends EnumStateMachineConfigurerAdapter&lt;States, Events&gt; {\r\n    \r\n        @Override\r\n        public void configure(StateMachineConfigurationConfigurer&lt;States, Events&gt; config)\r\n                throws Exception {\r\n            config\r\n                .withConfiguration()\r\n                    .autoStartup(true)\r\n                    .beanFactory(new StaticListableBeanFactory())\r\n                    .taskExecutor(new SyncTaskExecutor())\r\n                    .taskScheduler(new ConcurrentTaskScheduler())\r\n                    .listener(new StateMachineListenerAdapter&lt;States, Events&gt;());\r\n        }\r\n    }\r\n\r\nYou just need to replace the `taskScheduler` with a bean that is configured for your needs. For example another instance of [`ConcurrentTaskScheduler`][2] that uses a `scheduledExecutor` with a limited number of threads.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-statemachine/docs/1.2.x/reference/htmlsingle/#statemachine-config-commonsettings\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ConcurrentTaskScheduler.html","title":"How can I limit the threads quantity used by a spring state machine instance?","body":"<p>The <a href=\"https://docs.spring.io/spring-statemachine/docs/1.2.x/reference/htmlsingle/#statemachine-config-commonsettings\" rel=\"nofollow noreferrer\">spring docs</a> provide this example configuration:</p>\n\n<pre><code>@Configuration\n@EnableStateMachine\npublic class Config17\n        extends EnumStateMachineConfigurerAdapter&lt;States, Events&gt; {\n\n    @Override\n    public void configure(StateMachineConfigurationConfigurer&lt;States, Events&gt; config)\n            throws Exception {\n        config\n            .withConfiguration()\n                .autoStartup(true)\n                .beanFactory(new StaticListableBeanFactory())\n                .taskExecutor(new SyncTaskExecutor())\n                .taskScheduler(new ConcurrentTaskScheduler())\n                .listener(new StateMachineListenerAdapter&lt;States, Events&gt;());\n    }\n}\n</code></pre>\n\n<p>You just need to replace the <code>taskScheduler</code> with a bean that is configured for your needs. For example another instance of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ConcurrentTaskScheduler.html\" rel=\"nofollow noreferrer\"><code>ConcurrentTaskScheduler</code></a> that uses a <code>scheduledExecutor</code> with a limited number of threads.</p>\n"}],"owner":{"account_id":9982522,"reputation":91,"user_id":7384959,"display_name":"Alejandro Raiczyk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1194,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1683192120,"creation_date":1509024681,"question_id":46955741,"body_markdown":"I have an event queue with n message listeners. When a message arrives, one message listener takes it, gets a state machine instance from the corresponding pool, sets the state machine context and starts it. \nThis works perfect but I have an issue with threading. Since state machine instances are limited by its pool size, I thought total threads quantity would have a limit, but I&#39;m wrong:\n\n    org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException: Listener method &#39;consume&#39; threw exception\n    at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:395) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:298) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:848) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:771) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$001(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$1.invokeListener(SimpleMessageListenerContainer.java:198) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.invokeListener(SimpleMessageListenerContainer.java:1311) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:752) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1254) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1224) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1470) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\n    Caused by: java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method) [na:1.8.0_152]\n    at java.lang.Thread.start(Thread.java:717) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957) [na:1.8.0_152]\n    at java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1603) [na:1.8.0_152]\n    at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:334) ~[na:1.8.0_152]\n    at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_152]\n    at java.util.concurrent.Executors$DelegatedScheduledExecutorService.schedule(Executors.java:729) ~[na:1.8.0_152]\n    at org.springframework.scheduling.concurrent.ConcurrentTaskScheduler.schedule(ConcurrentTaskScheduler.java:182) ~[spring-context-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\n    at org.springframework.statemachine.state.AbstractState.scheduleAction(AbstractState.java:415) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.state.AbstractState.scheduleStateActions(AbstractState.java:377) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.state.AbstractState.entry(AbstractState.java:208) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.state.ObjectState.entry(ObjectState.java:156) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1216) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1161) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.setCurrentStateInternal(AbstractStateMachine.java:971) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.setCurrentState(AbstractStateMachine.java:949) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.switchToState(AbstractStateMachine.java:841) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.access$400(AbstractStateMachine.java:77) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine$2.transit(AbstractStateMachine.java:301) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.handleTriggerTrans(DefaultStateMachineExecutor.java:248) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.processTriggerQueue(DefaultStateMachineExecutor.java:395) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.access$100(DefaultStateMachineExecutor.java:61) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor$1.run(DefaultStateMachineExecutor.java:281) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.scheduleEventQueueProcessing(DefaultStateMachineExecutor.java:300) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.DefaultStateMachineExecutor.execute(DefaultStateMachineExecutor.java:144) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.sendEventInternal(AbstractStateMachine.java:559) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:211) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:223) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\n    at io.botbit.backend.consumers.EventConsumer.consume(EventConsumer.java:39) ~[classes!/:0.0.1-SNAPSHOT]\n    at sun.reflect.GeneratedMethodAccessor74.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\n    at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:269) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\n    at org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n    ... 14 common frames omitted\n\nAnalyzing the stack trace, the cause is:\n\n    Caused by: java.lang.OutOfMemoryError: unable to create new native thread\n\nHow can I limit the threads quantity used by a spring state machine instance?\n\nThanks in advance!\n\n# Update 1\n\nI did what @SpaceTrucker suggests:\n\n\n    @Bean(name = &quot;stateMachineTaskScheduler&quot;)\n    public ConcurrentTaskScheduler stateMachineTaskScheduler() {\n        ScheduledThreadPoolExecutor threadPool = new ScheduledThreadPoolExecutor(10);\n        ConcurrentTaskScheduler taskScheduler = new ConcurrentTaskScheduler(threadPool);\n        return taskScheduler;\n    }\n\nand then\n\n`builder.configureConfiguration().withConfiguration().taskScheduler(stateMachineTaskScheduler());`\n\nNow state machines are using this pool. The problem is that all state machine instances are using the same instance of this pool instead each state machine instance having it&#39;s own taskScheduler instance.\n","title":"How can I limit the threads quantity used by a spring state machine instance?","body":"<p>I have an event queue with n message listeners. When a message arrives, one message listener takes it, gets a state machine instance from the corresponding pool, sets the state machine context and starts it.\nThis works perfect but I have an issue with threading. Since state machine instances are limited by its pool size, I thought total threads quantity would have a limit, but I'm wrong:</p>\n<pre><code>org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException: Listener method 'consume' threw exception\nat org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:395) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:298) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:848) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:771) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$001(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$1.invokeListener(SimpleMessageListenerContainer.java:198) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.invokeListener(SimpleMessageListenerContainer.java:1311) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:752) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1254) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1224) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:102) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1470) [spring-rabbit-1.7.4.RELEASE.jar!/:na]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_152]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_152]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_152]\nCaused by: java.lang.OutOfMemoryError: unable to create new native thread\nat java.lang.Thread.start0(Native Method) [na:1.8.0_152]\nat java.lang.Thread.start(Thread.java:717) [na:1.8.0_152]\nat java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957) [na:1.8.0_152]\nat java.util.concurrent.ThreadPoolExecutor.ensurePrestart(ThreadPoolExecutor.java:1603) [na:1.8.0_152]\nat java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:334) ~[na:1.8.0_152]\nat java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[na:1.8.0_152]\nat java.util.concurrent.Executors$DelegatedScheduledExecutorService.schedule(Executors.java:729) ~[na:1.8.0_152]\nat org.springframework.scheduling.concurrent.ConcurrentTaskScheduler.schedule(ConcurrentTaskScheduler.java:182) ~[spring-context-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\nat org.springframework.statemachine.state.AbstractState.scheduleAction(AbstractState.java:415) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.state.AbstractState.scheduleStateActions(AbstractState.java:377) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.state.AbstractState.entry(AbstractState.java:208) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.state.ObjectState.entry(ObjectState.java:156) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1216) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.entryToState(AbstractStateMachine.java:1161) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.setCurrentStateInternal(AbstractStateMachine.java:971) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.setCurrentState(AbstractStateMachine.java:949) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.switchToState(AbstractStateMachine.java:841) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.access$400(AbstractStateMachine.java:77) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine$2.transit(AbstractStateMachine.java:301) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.handleTriggerTrans(DefaultStateMachineExecutor.java:248) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.processTriggerQueue(DefaultStateMachineExecutor.java:395) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.access$100(DefaultStateMachineExecutor.java:61) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor$1.run(DefaultStateMachineExecutor.java:281) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.scheduleEventQueueProcessing(DefaultStateMachineExecutor.java:300) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.DefaultStateMachineExecutor.execute(DefaultStateMachineExecutor.java:144) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.sendEventInternal(AbstractStateMachine.java:559) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:211) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat org.springframework.statemachine.support.AbstractStateMachine.sendEvent(AbstractStateMachine.java:223) ~[spring-statemachine-core-1.2.6.RELEASE.jar!/:1.2.6.RELEASE]\nat io.botbit.backend.consumers.EventConsumer.consume(EventConsumer.java:39) ~[classes!/:0.0.1-SNAPSHOT]\nat sun.reflect.GeneratedMethodAccessor74.invoke(Unknown Source) ~[na:na]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_152]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_152]\nat org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:269) ~[spring-core-4.3.11.RELEASE.jar!/:4.3.11.RELEASE]\nat org.springframework.amqp.rabbit.listener.adapter.MessageListenerAdapter.invokeListenerMethod(MessageListenerAdapter.java:387) ~[spring-rabbit-1.7.4.RELEASE.jar!/:na]\n... 14 common frames omitted\n</code></pre>\n<p>Analyzing the stack trace, the cause is:</p>\n<pre><code>Caused by: java.lang.OutOfMemoryError: unable to create new native thread\n</code></pre>\n<p>How can I limit the threads quantity used by a spring state machine instance?</p>\n<p>Thanks in advance!</p>\n<h1>Update 1</h1>\n<p>I did what @SpaceTrucker suggests:</p>\n<pre><code>@Bean(name = &quot;stateMachineTaskScheduler&quot;)\npublic ConcurrentTaskScheduler stateMachineTaskScheduler() {\n    ScheduledThreadPoolExecutor threadPool = new ScheduledThreadPoolExecutor(10);\n    ConcurrentTaskScheduler taskScheduler = new ConcurrentTaskScheduler(threadPool);\n    return taskScheduler;\n}\n</code></pre>\n<p>and then</p>\n<p><code>builder.configureConfiguration().withConfiguration().taskScheduler(stateMachineTaskScheduler());</code></p>\n<p>Now state machines are using this pool. The problem is that all state machine instances are using the same instance of this pool instead each state machine instance having it's own taskScheduler instance.</p>\n"},{"tags":["java","intellij-idea","build.gradle","profile"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683192366,"post_id":76171548,"comment_id":134329912,"body_markdown":"`Compact3` is the biggest of [the compact profiles](https://docs.oracle.com/javase/8/docs/technotes/guides/compactprofiles/compactprofiles.html), but still doesn&#39;t contain everything the &quot;Full SE API&quot; contains. If you want &quot;more than compact3&quot; then just remove any mention of profiles at all. I *think* that compact profiles were a feature that only ever existed **exactly** in Java 8, because in Java 9+ it was replaced with the way more general module system. (Slight correction: the JDK still supports profiles, but *only* when targeting Java 8)","body":"<code>Compact3</code> is the biggest of <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/compactprofiles/compactprofiles.html\" rel=\"nofollow noreferrer\">the compact profiles</a>, but still doesn&#39;t contain everything the &quot;Full SE API&quot; contains. If you want &quot;more than compact3&quot; then just remove any mention of profiles at all. I <i>think</i> that compact profiles were a feature that only ever existed <b>exactly</b> in Java 8, because in Java 9+ it was replaced with the way more general module system. (Slight correction: the JDK still supports profiles, but <i>only</i> when targeting Java 8)"}],"owner":{"account_id":28503186,"reputation":1,"user_id":21814176,"display_name":"CodingNoob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683191995,"creation_date":1683191995,"question_id":76171548,"body_markdown":"I am trying to perform a gradle build on IntelliJ IDEA but when I try and build it I get an error saying “BufferedImage is not available in profile ‘Compact3’”.\r\n\r\nIs there any way I can change the profile manually so that the build will work? I am very new to Java and am not entirely sure what’s going on, but I thought Compact3 had the most features out of the profiles, so if it’s not available in Compact3, where is it available?\r\n\r\nThanks for any help!\r\n\r\nIt’s taken me long enough to figure out how to get my syntax right, so this seems like an annoyingly minor hurdle to fall down at :(","title":"How do I change from profile Compact 3 in IntelliJ IDEA for Java?","body":"<p>I am trying to perform a gradle build on IntelliJ IDEA but when I try and build it I get an error saying “BufferedImage is not available in profile ‘Compact3’”.</p>\n<p>Is there any way I can change the profile manually so that the build will work? I am very new to Java and am not entirely sure what’s going on, but I thought Compact3 had the most features out of the profiles, so if it’s not available in Compact3, where is it available?</p>\n<p>Thanks for any help!</p>\n<p>It’s taken me long enough to figure out how to get my syntax right, so this seems like an annoyingly minor hurdle to fall down at :(</p>\n"},{"tags":["java","loops","arraylist"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539134977,"post_id":52731240,"comment_id":92387793,"body_markdown":"What is the code supposed to do? The &quot;problem statement&quot; doesn&#39;t define any behaviour, it only defines what a &quot;binary gap&quot; is. Is the task to find *if* there&#39;s a binary gap? The *quantity* of binary gaps? The *longest* binary gap? The *length* of the longest binary gap? Something else?","body":"What is the code supposed to do? The &quot;problem statement&quot; doesn&#39;t define any behaviour, it only defines what a &quot;binary gap&quot; is. Is the task to find <i>if</i> there&#39;s a binary gap? The <i>quantity</i> of binary gaps? The <i>longest</i> binary gap? The <i>length</i> of the longest binary gap? Something else?"},{"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"score":0,"creation_date":1539136967,"post_id":52731240,"comment_id":92388234,"body_markdown":"@Bohemian I think you didn&#39;t carefully read the statement and run the code.","body":"@Bohemian I think you didn&#39;t carefully read the statement and run the code."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539185072,"post_id":52731240,"comment_id":92411942,"body_markdown":"The question is unclear. The problem statement says *what* a gap is, but not what to *do* with gaps that are found. The code is irrelevant if you don’t know what it’s supposed to do. And btw there’s probably a 1 line solution.","body":"The question is unclear. The problem statement says <i>what</i> a gap is, but not what to <i>do</i> with gaps that are found. The code is irrelevant if you don’t know what it’s supposed to do. And btw there’s probably a 1 line solution."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539202638,"post_id":52731240,"comment_id":92420780,"body_markdown":"Where in the problem statement does it say to print anything? In fact, the problem statement doesn’t say to do anything, it only defines *what* a binary gap is, not what to do when you find one.","body":"Where in the problem statement does it say to print anything? In fact, the problem statement doesn’t say to do anything, it only defines <i>what</i> a binary gap is, not what to do when you find one."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1539202733,"post_id":52731240,"comment_id":92420825,"body_markdown":"what should the output be for `529`, which is binary `1000010001`?","body":"what should the output be for <code>529</code>, which is binary <code>1000010001</code>?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1539202821,"post_id":52731240,"comment_id":92420865,"body_markdown":"@Bohemian:  I&#39;d imagine that there&#39;s three binary gaps, one of length 2, one of length 4 and one of length 3.  Not sure why you&#39;re asking ***me***, though.  I just made the question more presentable since its original presentation wasn&#39;t all that great.","body":"@Bohemian:  I&#39;d imagine that there&#39;s three binary gaps, one of length 2, one of length 4 and one of length 3.  Not sure why you&#39;re asking <b><i>me</i></b>, though.  I just made the question more presentable since its original presentation wasn&#39;t all that great."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1539202977,"post_id":52731240,"comment_id":92420930,"body_markdown":"@makoto oops - I meant to ask Ameeq","body":"@makoto oops - I meant to ask Ameeq"}],"answers":[{"comments":[{"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"score":0,"creation_date":1539137335,"post_id":52731414,"comment_id":92388310,"body_markdown":"so what will be the best solution for real-world use?","body":"so what will be the best solution for real-world use?"},{"owner":{"account_id":9599750,"reputation":2970,"user_id":7208029,"display_name":"Chai T. Rex"},"score":0,"creation_date":1539137786,"post_id":52731414,"comment_id":92388402,"body_markdown":"@AmeeqHanzlahSohail Sorry, my code had a small negative number bug that&#39;s been fixed (`&gt;&gt;&gt;=` is now used instead of `&gt;&gt;=`), so refresh if you see code with `&gt;&gt;=` in it. You can use `ArrayList`s instead of arrays if you want, just test the speed of both in your application. If you just need to print the gaps, you can do that without an array at all. Just `System.out.println(gapSize);` instead of array assignment.","body":"@AmeeqHanzlahSohail Sorry, my code had a small negative number bug that&#39;s been fixed (<code>&gt;&gt;&gt;=</code> is now used instead of <code>&gt;&gt;=</code>), so refresh if you see code with <code>&gt;&gt;=</code> in it. You can use <code>ArrayList</code>s instead of arrays if you want, just test the speed of both in your application. If you just need to print the gaps, you can do that without an array at all. Just <code>System.out.println(gapSize);</code> instead of array assignment."},{"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"score":0,"creation_date":1539138335,"post_id":52731414,"comment_id":92388509,"body_markdown":"got it your last statement but didn&#39;t this one&quot;&gt;&gt;=&quot;  and thank you for your answer!!!","body":"got it your last statement but didn&#39;t this one&quot;&gt;&gt;=&quot;  and thank you for your answer!!!"}],"tags":[],"owner":{"account_id":9599750,"reputation":2970,"user_id":7208029,"display_name":"Chai T. Rex"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1641216165,"creation_date":1539135326,"answer_id":52731414,"question_id":52731240,"body_markdown":"If this is for homework, your problem is here:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        for (int j = i - 1; j &gt;= 0; j--) {\r\n            if (binaryNum[j] == 0) {\r\n                k = j;\r\n                do {\r\n                    ctr++;\r\n                    k++;\r\n                } while (binaryNum[k] == 0);\r\n                al.add(ctr);\r\n                ctr = 0;\r\n            }\r\n        }\r\n\r\n\r\nNote that:\r\n\r\n* You update `k` as you go along, but you don&#39;t update `j`, so you get 1 through whatever the proper value is (`[1, 2, 3, 4, 5, 1, 2, 3]` instead of `[5, 3]`).\r\n* You don&#39;t need `k` at all.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        for (int j = i - 1; j &gt;= 0; j--) {\r\n            if (binaryNum[j] == 0) {\r\n                int ctr = 0;\r\n                while (binaryNum[j] == 0) {\r\n                    ctr++;\r\n                    j--;\r\n                }\r\n                al.add(ctr);\r\n            }\r\n        }\r\n\r\nThis is [shown to work here](https://ideone.com/UP2nVz#stdout).\r\n\r\n---\r\n\r\nIf you&#39;re not doing this for homework, and you need performance for a real-world use, use Java&#39;s built-in bitwise methods in [the `Integer` class](https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#method.summary), which use very, very fast CPU instructions on CPUs that have them:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Abc {\r\n        public static final int[] gaps(int n) {\r\n    \t    // The number of gaps is the number of one bits minus one.\r\n            final int[] result = new int[Math.max(0, Integer.bitCount(n) - 1)];\r\n            \r\n            // Remove the last one bit and all bits after to get to first gap.\r\n            n &gt;&gt;&gt;= Integer.numberOfTrailingZeros(n) + 1;\r\n            \r\n            for (int i = result.length - 1; i &gt;= 0; i--) {\r\n            \tfinal int gapSize = Integer.numberOfTrailingZeros(n);\r\n                result[i] = gapSize;\r\n                // Remove the last one bit and all bits after to get to next gap.\r\n                n &gt;&gt;&gt;= gapSize + 1;\r\n            }\r\n            \r\n            return result;\r\n        }\r\n        \r\n        // Driver program \r\n        public static void main(final String[] args) {\r\n            final int n = 1041;\r\n            System.out.println(Integer.toBinaryString(n));\r\n            System.out.println(Arrays.toString(gaps(n)));\r\n        }\r\n    }\r\n\r\nThis is [shown to work here](https://ideone.com/6gBB5X#stdout).","title":"Binary Gap Program in Java","body":"<p>If this is for homework, your problem is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int j = i - 1; j &gt;= 0; j--) {\n        if (binaryNum[j] == 0) {\n            k = j;\n            do {\n                ctr++;\n                k++;\n            } while (binaryNum[k] == 0);\n            al.add(ctr);\n            ctr = 0;\n        }\n    }\n</code></pre>\n<p>Note that:</p>\n<ul>\n<li>You update <code>k</code> as you go along, but you don't update <code>j</code>, so you get 1 through whatever the proper value is (<code>[1, 2, 3, 4, 5, 1, 2, 3]</code> instead of <code>[5, 3]</code>).</li>\n<li>You don't need <code>k</code> at all.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int j = i - 1; j &gt;= 0; j--) {\n        if (binaryNum[j] == 0) {\n            int ctr = 0;\n            while (binaryNum[j] == 0) {\n                ctr++;\n                j--;\n            }\n            al.add(ctr);\n        }\n    }\n</code></pre>\n<p>This is <a href=\"https://ideone.com/UP2nVz#stdout\" rel=\"nofollow noreferrer\">shown to work here</a>.</p>\n<hr />\n<p>If you're not doing this for homework, and you need performance for a real-world use, use Java's built-in bitwise methods in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#method.summary\" rel=\"nofollow noreferrer\">the <code>Integer</code> class</a>, which use very, very fast CPU instructions on CPUs that have them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Abc {\n    public static final int[] gaps(int n) {\n        // The number of gaps is the number of one bits minus one.\n        final int[] result = new int[Math.max(0, Integer.bitCount(n) - 1)];\n        \n        // Remove the last one bit and all bits after to get to first gap.\n        n &gt;&gt;&gt;= Integer.numberOfTrailingZeros(n) + 1;\n        \n        for (int i = result.length - 1; i &gt;= 0; i--) {\n            final int gapSize = Integer.numberOfTrailingZeros(n);\n            result[i] = gapSize;\n            // Remove the last one bit and all bits after to get to next gap.\n            n &gt;&gt;&gt;= gapSize + 1;\n        }\n        \n        return result;\n    }\n    \n    // Driver program \n    public static void main(final String[] args) {\n        final int n = 1041;\n        System.out.println(Integer.toBinaryString(n));\n        System.out.println(Arrays.toString(gaps(n)));\n    }\n}\n</code></pre>\n<p>This is <a href=\"https://ideone.com/6gBB5X#stdout\" rel=\"nofollow noreferrer\">shown to work here</a>.</p>\n"},{"tags":[],"owner":{"account_id":10980857,"reputation":446,"user_id":8067983,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539139395,"creation_date":1539135430,"answer_id":52731426,"question_id":52731240,"body_markdown":" var k should be also decreased, because j decreases, also after iteration has completed you should assign j = k. and you have to check if k is greater or equals to zero `while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);`, otherwise you get ArrayIndexOutOfBoundsException. also you have to check if k is less than zero to count binary gaps properly `if(k &lt; 0) {j = k;break;}`\r\n\t\r\n\r\n\r\n      for (int j = i - 1; j &gt;= 0; j--) {\r\n            System.out.print(binaryNum[j]);\r\n            if (binaryNum[j] == 0) {\r\n                k = j;\r\n                do {\r\n                    ctr++;\r\n                    k--;\r\n                } while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);\r\n                if(k &lt; 0) {\r\n                \tj = k;\r\n                \tbreak;\r\n                }\r\n                al.add(ctr);\r\n                ctr = 0;\r\n                j = k;\r\n            }\r\n        }","title":"Binary Gap Program in Java","body":"<p>var k should be also decreased, because j decreases, also after iteration has completed you should assign j = k. and you have to check if k is greater or equals to zero <code>while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);</code>, otherwise you get ArrayIndexOutOfBoundsException. also you have to check if k is less than zero to count binary gaps properly <code>if(k &lt; 0) {j = k;break;}</code></p>\n\n<pre><code>  for (int j = i - 1; j &gt;= 0; j--) {\n        System.out.print(binaryNum[j]);\n        if (binaryNum[j] == 0) {\n            k = j;\n            do {\n                ctr++;\n                k--;\n            } while (k &gt;= 0 &amp;&amp; binaryNum[k] == 0);\n            if(k &lt; 0) {\n                j = k;\n                break;\n            }\n            al.add(ctr);\n            ctr = 0;\n            j = k;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5731120,"reputation":107,"user_id":4526618,"display_name":"Gilbert Parreno"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1557468308,"creation_date":1557468308,"answer_id":56071623,"question_id":52731240,"body_markdown":"I got perfect 100 with this answer. Hope this will help you.   \r\n\r\n    public int solution(int N) {\r\n            String binary = Integer.toBinaryString(N);\r\n            int count = 0;\r\n            int tmpCount = 0;\r\n            for (int i = 0; i &lt; binary.length(); i++) {\r\n                if (binary.charAt(i) == &#39;0&#39;) {\r\n                    if (i &gt; 0 &amp;&amp; binary.charAt(i - 1) == &#39;1&#39;) {\r\n                        tmpCount++;\r\n                    } else {\r\n                        if (tmpCount &gt; 0) tmpCount++;\r\n                    }\r\n                } else if (binary.charAt(i) == &#39;1&#39;) {\r\n                    if (tmpCount &gt; 0 &amp;&amp; tmpCount &gt; count) {\r\n                        count = tmpCount;\r\n                    }\r\n                    tmpCount = 0;\r\n                }\r\n            }\r\n            return count;\r\n        }","title":"Binary Gap Program in Java","body":"<p>I got perfect 100 with this answer. Hope this will help you.   </p>\n\n<pre><code>public int solution(int N) {\n        String binary = Integer.toBinaryString(N);\n        int count = 0;\n        int tmpCount = 0;\n        for (int i = 0; i &lt; binary.length(); i++) {\n            if (binary.charAt(i) == '0') {\n                if (i &gt; 0 &amp;&amp; binary.charAt(i - 1) == '1') {\n                    tmpCount++;\n                } else {\n                    if (tmpCount &gt; 0) tmpCount++;\n                }\n            } else if (binary.charAt(i) == '1') {\n                if (tmpCount &gt; 0 &amp;&amp; tmpCount &gt; count) {\n                    count = tmpCount;\n                }\n                tmpCount = 0;\n            }\n        }\n        return count;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5751918,"reputation":189,"user_id":4541304,"display_name":"Rathakrishnan Duraimoni"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1566923991,"creation_date":1566923991,"answer_id":57679044,"question_id":52731240,"body_markdown":"\r\n//working 100% with all the test cases\r\n\r\n    public static void main(String ar[]) {\r\n    \t\tInteger val = 10092;\r\n    \t\tString vals = val.toBinaryString(val);\r\n    \t\tint gapVal = findBinaryGap(vals);\r\n    \t\tSystem.out.println(vals);\r\n    \t\tSystem.out.println(&quot;gapVal=&quot; + gapVal);\r\n    \r\n    \t}\r\n    \r\n    public static Integer findBinaryGap(String binVal) {\r\n    \t\tInteger retVal = 0;\r\n    \t\tString splitVal[] = binVal.split(&quot;1&quot;);\r\n    \t\tint endVal = splitVal.length;\r\n    \t\tif (binVal.endsWith(&quot;0&quot;)) {\r\n    \t\t\tendVal = endVal - 1;\r\n    \t\t}\r\n    \t\tfor (int incr = 0; incr &lt; endVal; incr++) {\r\n    \t\t\tif (retVal &lt; splitVal[incr].length()) {\r\n    \t\t\t\tretVal = splitVal[incr].length();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn retVal;\r\n    \t}","title":"Binary Gap Program in Java","body":"<p>//working 100% with all the test cases</p>\n\n<pre><code>public static void main(String ar[]) {\n        Integer val = 10092;\n        String vals = val.toBinaryString(val);\n        int gapVal = findBinaryGap(vals);\n        System.out.println(vals);\n        System.out.println(\"gapVal=\" + gapVal);\n\n    }\n\npublic static Integer findBinaryGap(String binVal) {\n        Integer retVal = 0;\n        String splitVal[] = binVal.split(\"1\");\n        int endVal = splitVal.length;\n        if (binVal.endsWith(\"0\")) {\n            endVal = endVal - 1;\n        }\n        for (int incr = 0; incr &lt; endVal; incr++) {\n            if (retVal &lt; splitVal[incr].length()) {\n                retVal = splitVal[incr].length();\n            }\n        }\n        return retVal;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2801832,"reputation":179,"user_id":2409946,"display_name":"Ramnath"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1567060368,"creation_date":1567057245,"answer_id":57703645,"question_id":52731240,"body_markdown":"Try the below codes,\r\n\r\n```java\r\npublic int solution(int n) {\r\n    String binaryString = Integer.toBinaryString(n);\r\n    int count = 0, bigGap = 0, temptCount = 0;\r\n    for (int i = 0; i &lt; binaryString.length(); i++) {\r\n        char c = binaryString.charAt(i);\r\n        if (c == &#39;0&#39;) {\r\n            temptCount++;\r\n        } else {\r\n            count = temptCount;\r\n\r\n            if (count &gt; bigGap) {\r\n                bigGap = count;\r\n            }\r\n            temptCount = 0;\r\n        }\r\n\r\n    }\r\n    \r\n    return bigGap;\r\n}\r\n```","title":"Binary Gap Program in Java","body":"<p>Try the below codes,</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public int solution(int n) {\n    String binaryString = Integer.toBinaryString(n);\n    int count = 0, bigGap = 0, temptCount = 0;\n    for (int i = 0; i &lt; binaryString.length(); i++) {\n        char c = binaryString.charAt(i);\n        if (c == '0') {\n            temptCount++;\n        } else {\n            count = temptCount;\n\n            if (count &gt; bigGap) {\n                bigGap = count;\n            }\n            temptCount = 0;\n        }\n\n    }\n\n    return bigGap;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15078225,"reputation":39,"user_id":10881634,"display_name":"El Atendedor"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1583826422,"creation_date":1583826422,"answer_id":60613349,"question_id":52731240,"body_markdown":"Try this one, I got 100%\r\n\r\n    public int solution(int N) {\r\n        String binaryNumber = Integer.toBinaryString(N);\r\n\r\n        String[] gaps = binaryNumber.replaceAll(&quot;0+$&quot;, &quot;&quot;).split(&quot;1&quot;);\r\n\r\n\r\n        int maxLength = 0;\r\n        for (String gap: gaps) {\r\n            if (gap.length() &gt; 0 &amp;&amp; gap.length() &gt; maxLength) {\r\n                maxLength = gap.length();\r\n            }\r\n        }\r\n        return maxLength;\r\n    }","title":"Binary Gap Program in Java","body":"<p>Try this one, I got 100%</p>\n\n<pre><code>public int solution(int N) {\n    String binaryNumber = Integer.toBinaryString(N);\n\n    String[] gaps = binaryNumber.replaceAll(\"0+$\", \"\").split(\"1\");\n\n\n    int maxLength = 0;\n    for (String gap: gaps) {\n        if (gap.length() &gt; 0 &amp;&amp; gap.length() &gt; maxLength) {\n            maxLength = gap.length();\n        }\n    }\n    return maxLength;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8382762,"reputation":210,"user_id":6294106,"display_name":"lombocska"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1592222195,"creation_date":1592222195,"answer_id":62387701,"question_id":52731240,"body_markdown":"on codility, my solution for BinaryGap &quot;problem&quot; was\r\n\r\n```\r\npublic int solution(int N) {\r\n        //get binary representation\r\n\t\tString binaryRep = Integer.toBinaryString(N);\r\n        //cut last zeros since they aren&#39;t between &quot;1&quot;\r\n\t\tif (!binaryRep.endsWith(&quot;1&quot;)) {\r\n\t\t\tfinal int i = binaryRep.lastIndexOf(&quot;1&quot;);\r\n\t\t\tbinaryRep = binaryRep.substring(0, i);\r\n\t\t}\r\n\r\n        //count the longest zero string\r\n\t\tString[] binaryBlocks = binaryRep.split(&quot;1&quot;);\r\n\t\tint result = 0;\r\n\t\tfor (String binaryBlock : binaryBlocks) {\r\n\t\t\tint binaryBlockLength = binaryBlock.length();\r\n\t\t\tif (binaryBlockLength &gt; result) {\r\n\t\t\t\tresult = binaryBlockLength;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n    }\r\n```\r\n\r\nHope it helps! :) \r\n","title":"Binary Gap Program in Java","body":"<p>on codility, my solution for BinaryGap \"problem\" was</p>\n\n<pre><code>public int solution(int N) {\n        //get binary representation\n        String binaryRep = Integer.toBinaryString(N);\n        //cut last zeros since they aren't between \"1\"\n        if (!binaryRep.endsWith(\"1\")) {\n            final int i = binaryRep.lastIndexOf(\"1\");\n            binaryRep = binaryRep.substring(0, i);\n        }\n\n        //count the longest zero string\n        String[] binaryBlocks = binaryRep.split(\"1\");\n        int result = 0;\n        for (String binaryBlock : binaryBlocks) {\n            int binaryBlockLength = binaryBlock.length();\n            if (binaryBlockLength &gt; result) {\n                result = binaryBlockLength;\n            }\n        }\n        return result;\n    }\n</code></pre>\n\n<p>Hope it helps! :) </p>\n"},{"tags":[],"owner":{"account_id":16577270,"reputation":413,"user_id":11978765,"display_name":"Marcos Mitozo"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1594512728,"creation_date":1594512728,"answer_id":62855854,"question_id":52731240,"body_markdown":"The solution below gave me 100%:\r\n    \r\n    class Solution {\r\n            public int solution(int N) {\r\n                String value = Integer.toBinaryString(N);\r\n                int counter = 0;\r\n                List&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i &lt; value.length(); i++) {\r\n                    char current = value.charAt(i);\r\n                    if (current == &#39;0&#39;) {\r\n                        counter += 1;\r\n                    } else {\r\n                        counters.add(counter);\r\n                        counter = 0;\r\n                    }\r\n                }\r\n                return Collections.max(counters);\r\n            }\r\n        }","title":"Binary Gap Program in Java","body":"<p>The solution below gave me 100%:</p>\n<pre><code>class Solution {\n        public int solution(int N) {\n            String value = Integer.toBinaryString(N);\n            int counter = 0;\n            List&lt;Integer&gt; counters = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; value.length(); i++) {\n                char current = value.charAt(i);\n                if (current == '0') {\n                    counter += 1;\n                } else {\n                    counters.add(counter);\n                    counter = 0;\n                }\n            }\n            return Collections.max(counters);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595074982,"creation_date":1595071935,"answer_id":62968038,"question_id":52731240,"body_markdown":"     \r\n    public int solution(int N){\r\n        try {\r\n            return Collections.max(Arrays.asList(Integer.toBinaryString(N)\r\n                    .replaceAll(&quot;0+$&quot;, &quot;&quot;).split(&quot;1&quot;))\r\n                    .stream().mapToInt(String::length).boxed()\r\n                    .collect(Collectors.toList()));\r\n        }catch (NoSuchElementException e){\r\n            return 0;\r\n        }\r\n    }\r\n  -------------------\r\n    &quot;0+$&quot; - replacing all trailing zeros","title":"Binary Gap Program in Java","body":"<pre><code>public int solution(int N){\n    try {\n        return Collections.max(Arrays.asList(Integer.toBinaryString(N)\n                .replaceAll(&quot;0+$&quot;, &quot;&quot;).split(&quot;1&quot;))\n                .stream().mapToInt(String::length).boxed()\n                .collect(Collectors.toList()));\n    }catch (NoSuchElementException e){\n        return 0;\n    }\n}\n</code></pre>\n<hr />\n<pre><code>&quot;0+$&quot; - replacing all trailing zeros\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14402419,"reputation":37,"user_id":10403609,"display_name":"Abdelrahman Ibrahim"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1598913805,"creation_date":1598913805,"answer_id":63679102,"question_id":52731240,"body_markdown":"This solution gave me 100% score, I used indexOf to get the first index of 1, then get the first second index of 1 and calculate the difference between them, this gives me a substring of 0s, save the length of that substring and then calculate the second substring of 0s as we did before and so, at every time you calculate the substring make sure to pick the longest one.\r\n\r\n    class Solution {\r\n        public int solution(int N) {\r\n            String bin = intToBinary(N);\r\n            int firstOne = bin.indexOf(&#39;1&#39;);\r\n            int cnt = 0;\r\n            \r\n            for(int i=firstOne; i&lt;bin.length(); ++i){\r\n                int sec = bin.indexOf(&#39;1&#39;, i);\r\n                cnt = Math.max(sec-firstOne-1, cnt);\r\n                firstOne = sec;\r\n            }\r\n            return cnt;\r\n            \r\n        }\r\n        \r\n        private static String intToBinary(int N){\r\n            String s = &quot;&quot;;\r\n            while(N&gt;0){\r\n                s = ( (N%2) == 0 ? &quot;0&quot; : &quot;1&quot;) + s;\r\n                N = N / 2;\r\n            }\r\n            return s;\r\n        }\r\n    }","title":"Binary Gap Program in Java","body":"<p>This solution gave me 100% score, I used indexOf to get the first index of 1, then get the first second index of 1 and calculate the difference between them, this gives me a substring of 0s, save the length of that substring and then calculate the second substring of 0s as we did before and so, at every time you calculate the substring make sure to pick the longest one.</p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        String bin = intToBinary(N);\n        int firstOne = bin.indexOf('1');\n        int cnt = 0;\n        \n        for(int i=firstOne; i&lt;bin.length(); ++i){\n            int sec = bin.indexOf('1', i);\n            cnt = Math.max(sec-firstOne-1, cnt);\n            firstOne = sec;\n        }\n        return cnt;\n        \n    }\n    \n    private static String intToBinary(int N){\n        String s = &quot;&quot;;\n        while(N&gt;0){\n            s = ( (N%2) == 0 ? &quot;0&quot; : &quot;1&quot;) + s;\n            N = N / 2;\n        }\n        return s;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19682149,"reputation":1,"user_id":14409021,"display_name":"Stanislav Marek"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602113527,"creation_date":1602091202,"answer_id":64249157,"question_id":52731240,"body_markdown":"This one was easiest to understand IMO\r\n\r\n```\r\nclass Solution {\r\n    public int solution(int N) {\r\n        int gapSize = 0;\r\n        int tempCount = 0;\r\n        String s = Integer.toBinaryString(N);\r\n\r\n/* You can start the loop from index 1, since all binary numbers\r\nexcept 0 start with 1 and 0 is covered by initializing the variables (saves 2 conditions) */\r\n        for(int i = 1; i &lt; s.length(); i++) {\r\n            if(s.charAt(i) == &#39;0&#39;) {\r\n                tempCount++; // count the number of 0\r\n            } else if(s.charAt(i) == &#39;1&#39;) {  // when 1 is found\r\n                if(tempCount &gt; gapSize) {    // and gap is smaller than the now measured one\r\n                    gapSize = tempCount;     // record the so far biggest gap\r\n                }\r\n                tempCount = 0;               // reset the counter when 1 is found\r\n            }\r\n        }\r\n        return gapSize;\r\n     }\r\n} \r\n```","title":"Binary Gap Program in Java","body":"<p>This one was easiest to understand IMO</p>\n<pre><code>class Solution {\n    public int solution(int N) {\n        int gapSize = 0;\n        int tempCount = 0;\n        String s = Integer.toBinaryString(N);\n\n/* You can start the loop from index 1, since all binary numbers\nexcept 0 start with 1 and 0 is covered by initializing the variables (saves 2 conditions) */\n        for(int i = 1; i &lt; s.length(); i++) {\n            if(s.charAt(i) == '0') {\n                tempCount++; // count the number of 0\n            } else if(s.charAt(i) == '1') {  // when 1 is found\n                if(tempCount &gt; gapSize) {    // and gap is smaller than the now measured one\n                    gapSize = tempCount;     // record the so far biggest gap\n                }\n                tempCount = 0;               // reset the counter when 1 is found\n            }\n        }\n        return gapSize;\n     }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6707946,"reputation":595,"user_id":5172204,"display_name":"Shoaib Mushtaq"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1611944500,"creation_date":1611944022,"answer_id":65959705,"question_id":52731240,"body_markdown":"By the way , this is respective solution in KOTLIN, If anyone is interested.\r\n&gt;I first converted the Number to Binary String and then convert binary String to a char Array , Then I loop through forEachIndexed\r\n&gt; loop and try to find the indices of 1 and save them in an\r\n&gt; oneIndicesArrayList and also check the newGap , if the newGap is\r\n&gt; greater than maxGap , I assign the newGap value to maxGap otherwise\r\n&gt; maxGap would keep the old value. This works perfect and score was\r\n&gt; 100%.\r\n\r\n    fun solution(N: Int): Int {\r\n            // write your code in Kotlin\r\n            val binaryStr = toBinary(N)\r\n            val charArray = binaryStr.toCharArray()\r\n    \r\n    \r\n        var maxGap = 0\r\n        var oneIndicesArray = arrayListOf&lt;Int&gt;() \r\n        charArray.forEachIndexed { index, element -&gt;\r\n            \r\n            if(element == &#39;1&#39;) {\r\n                if(oneIndicesArray.isNotEmpty()) {\r\n                   val newGap =  (index - oneIndicesArray[oneIndicesArray.size - 1]) - 1\r\n                    if(newGap &gt; maxGap) maxGap = newGap\r\n                }\r\n                oneIndicesArray.add(index)\r\n            }\r\n        }\r\n        return maxGap\r\n    }\r\n    \r\n    fun toBinary(decimalNumber: Int, binaryString: String = &quot;&quot;) : String {\r\n        while (decimalNumber &gt; 0) {\r\n            val temp = &quot;${binaryString}${decimalNumber%2}&quot;\r\n            return toBinary(decimalNumber/2, temp)\r\n        }\r\n        return binaryString.reversed()\r\n    }\r\n\r\n","title":"Binary Gap Program in Java","body":"<p>By the way , this is respective solution in KOTLIN, If anyone is interested.</p>\n<blockquote>\n<p>I first converted the Number to Binary String and then convert binary String to a char Array , Then I loop through forEachIndexed\nloop and try to find the indices of 1 and save them in an\noneIndicesArrayList and also check the newGap , if the newGap is\ngreater than maxGap , I assign the newGap value to maxGap otherwise\nmaxGap would keep the old value. This works perfect and score was\n100%.</p>\n</blockquote>\n<pre><code>fun solution(N: Int): Int {\n        // write your code in Kotlin\n        val binaryStr = toBinary(N)\n        val charArray = binaryStr.toCharArray()\n\n\n    var maxGap = 0\n    var oneIndicesArray = arrayListOf&lt;Int&gt;() \n    charArray.forEachIndexed { index, element -&gt;\n        \n        if(element == '1') {\n            if(oneIndicesArray.isNotEmpty()) {\n               val newGap =  (index - oneIndicesArray[oneIndicesArray.size - 1]) - 1\n                if(newGap &gt; maxGap) maxGap = newGap\n            }\n            oneIndicesArray.add(index)\n        }\n    }\n    return maxGap\n}\n\nfun toBinary(decimalNumber: Int, binaryString: String = &quot;&quot;) : String {\n    while (decimalNumber &gt; 0) {\n        val temp = &quot;${binaryString}${decimalNumber%2}&quot;\n        return toBinary(decimalNumber/2, temp)\n    }\n    return binaryString.reversed()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4579991,"reputation":532,"user_id":3717301,"display_name":"Owais"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621146693,"creation_date":1621146693,"answer_id":67553735,"question_id":52731240,"body_markdown":"**I got 100% score on this one**\r\n\r\n    fun solution(N: Int): Int {\r\n    // write your code in Kotlin\r\n    var maxNumber= 0\r\n    val binary= Integer.toBinaryString(N)\r\n    val split= binary.split(&quot;1&quot;)\r\n    val loop= if(binary.endsWith(&quot;1&quot;)) split.size else split.size-1\r\n    for (s in 0 until loop){\r\n        maxNumber=Integer.max(maxNumber, split[s].length)\r\n    }\r\n    return maxNumber\r\n}","title":"Binary Gap Program in Java","body":"<p><strong>I got 100% score on this one</strong></p>\n<pre><code>fun solution(N: Int): Int {\n// write your code in Kotlin\nvar maxNumber= 0\nval binary= Integer.toBinaryString(N)\nval split= binary.split(&quot;1&quot;)\nval loop= if(binary.endsWith(&quot;1&quot;)) split.size else split.size-1\nfor (s in 0 until loop){\n    maxNumber=Integer.max(maxNumber, split[s].length)\n}\nreturn maxNumber\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2422738,"reputation":97,"user_id":2115371,"display_name":"Yitbareck"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631884728,"creation_date":1631884728,"answer_id":69224135,"question_id":52731240,"body_markdown":"    public static int solution(int N) {\r\n        // write your code in Java SE 8\r\n        int result = 0;\r\n        int prev = 0;\r\n        int diff;\r\n        int length = (int)(Math.ceil(Math.log(N) / Math.log(2)));\r\n        int[] binary=new int[length];\r\n        for(int i = length-1;i &gt; -1;i--,N /= 2) binary[i] = N % 2;\r\n        for(int i = 0;i &lt; length;i++){\r\n            if(binary[i] == 1){\r\n                diff = i - prev;\r\n                result = diff &gt; 1 &amp;&amp; diff &gt; result ? diff - 1 : result;\r\n                prev = i;\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Binary Gap Program in Java","body":"<pre><code>public static int solution(int N) {\n    // write your code in Java SE 8\n    int result = 0;\n    int prev = 0;\n    int diff;\n    int length = (int)(Math.ceil(Math.log(N) / Math.log(2)));\n    int[] binary=new int[length];\n    for(int i = length-1;i &gt; -1;i--,N /= 2) binary[i] = N % 2;\n    for(int i = 0;i &lt; length;i++){\n        if(binary[i] == 1){\n            diff = i - prev;\n            result = diff &gt; 1 &amp;&amp; diff &gt; result ? diff - 1 : result;\n            prev = i;\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":310878,"reputation":124,"user_id":4767104,"display_name":"Kathees"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631993995,"creation_date":1631993995,"answer_id":69237902,"question_id":52731240,"body_markdown":"    public int solution(int N) {\r\n     String binaryNo = Integer.toBinaryString(N);\r\n     int firstIndex = binaryNo.lastIndexOf(&quot;1&quot;);\r\n     int currentGap = 0;\r\n     int biggestGap = 0;\r\n     for (int i = firstIndex; i &gt;= 0; i--) {\r\n      if (getNthDegit(binaryNo, i) == 0) {\r\n       currentGap++;\r\n      } else {\r\n       if (biggestGap &lt; currentGap) {\r\n        biggestGap = currentGap;\r\n       }\r\n       currentGap = 0;\r\n      }\r\n     }\r\n     return biggestGap;\r\n    }\r\n    \r\n    public static int getNthDegit(String number, int position) {\r\n     String numberString = &quot;&quot; + number;\r\n     char c = numberString.charAt(position);\r\n     return Character.getNumericValue(c);\r\n    }","title":"Binary Gap Program in Java","body":"<pre><code>public int solution(int N) {\n String binaryNo = Integer.toBinaryString(N);\n int firstIndex = binaryNo.lastIndexOf(&quot;1&quot;);\n int currentGap = 0;\n int biggestGap = 0;\n for (int i = firstIndex; i &gt;= 0; i--) {\n  if (getNthDegit(binaryNo, i) == 0) {\n   currentGap++;\n  } else {\n   if (biggestGap &lt; currentGap) {\n    biggestGap = currentGap;\n   }\n   currentGap = 0;\n  }\n }\n return biggestGap;\n}\n\npublic static int getNthDegit(String number, int position) {\n String numberString = &quot;&quot; + number;\n char c = numberString.charAt(position);\n return Character.getNumericValue(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1484651,"reputation":7,"user_id":1393158,"display_name":"ranaFire"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635027092,"creation_date":1634984213,"answer_id":69687164,"question_id":52731240,"body_markdown":"Python style solution and it  got 100% score:\r\n\r\n    public static int solution(int N) {      \r\n        List&lt;String&gt;result = Arrays.asList(Integer.toBinaryString(N).replace(&quot;0&quot;,&quot; &quot;).strip().split(&quot;1&quot;)); \r\n        if(!result.isEmpty()){\r\n        \t return Collections.max(result.stream().map(String::length).collect(Collectors.toList()));\r\n        }     \t \r\n         return 0;   \r\n    }\r\n    ","title":"Binary Gap Program in Java","body":"<p>Python style solution and it  got 100% score:</p>\n<pre><code>public static int solution(int N) {      \n    List&lt;String&gt;result = Arrays.asList(Integer.toBinaryString(N).replace(&quot;0&quot;,&quot; &quot;).strip().split(&quot;1&quot;)); \n    if(!result.isEmpty()){\n         return Collections.max(result.stream().map(String::length).collect(Collectors.toList()));\n    }        \n     return 0;   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366172,"reputation":99,"user_id":2071814,"display_name":"Suman Mitra"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639847998,"creation_date":1639847998,"answer_id":70405499,"question_id":52731240,"body_markdown":"All tests passed in Codility.\r\n\r\n    public class BinaryGap {\r\n\r\n      public static void main(String ar[]) {\r\n       Integer val = 328;\r\n\r\n       int gapVal = findBinaryGap(val);\r\n       System.out.println(&quot;gapVal=&quot; + gapVal);\r\n\r\n     }\r\n\r\n     public static Integer findBinaryGap(Integer binVal) {\r\n\r\n      String values = Integer.toBinaryString(binVal);\r\n      String[] splitVal = values.substring(0, values.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\r\n\r\n      if (Arrays.stream(splitVal).noneMatch(v -&gt; v.length() &gt; 0)) {\r\n        return 0;\r\n      }\r\n\r\n       return java.util.Arrays.stream(splitVal).mapToInt(String::length)\r\n                           .max().orElse(0);\r\n     }\r\n\r\n    }\r\n","title":"Binary Gap Program in Java","body":"<p>All tests passed in Codility.</p>\n<pre><code>public class BinaryGap {\n\n  public static void main(String ar[]) {\n   Integer val = 328;\n\n   int gapVal = findBinaryGap(val);\n   System.out.println(&quot;gapVal=&quot; + gapVal);\n\n }\n\n public static Integer findBinaryGap(Integer binVal) {\n\n  String values = Integer.toBinaryString(binVal);\n  String[] splitVal = values.substring(0, values.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\n\n  if (Arrays.stream(splitVal).noneMatch(v -&gt; v.length() &gt; 0)) {\n    return 0;\n  }\n\n   return java.util.Arrays.stream(splitVal).mapToInt(String::length)\n                       .max().orElse(0);\n }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1641370107,"post_id":70560459,"comment_id":124784294,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit](https://stackoverflow.com/posts/70568923/edit) to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on [how to write good answers](https://stackoverflow.com/help/how-to-answer) in the help center.","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70568923/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on <a href=\"https://stackoverflow.com/help/how-to-answer\">how to write good answers</a> in the help center."}],"tags":[],"owner":{"account_id":3254726,"reputation":39,"user_id":2744154,"display_name":"John Kelly"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641165388,"creation_date":1641165388,"answer_id":70560459,"question_id":52731240,"body_markdown":"My solution 100% \r\n\r\n    public class Solution {\r\n    public int solution( int N ){\r\n\r\n        String rep = &quot;&quot;;\r\n        String[] zoros = null;\r\n        int maxi = 0;\r\n\r\n        try{\r\n            if( N &lt; 5 ){ return maxi; } // 5 is the first positive integer that contains a bi-gap\r\n\r\n            rep = Integer.toBinaryString(N);\r\n            zoros = rep.split(&quot;1&quot;);\r\n\r\n            // deal with edges\r\n            if(!rep.startsWith(&quot;1&quot;)){ zoros[0] = &quot;&quot;; }\r\n            if(!rep.endsWith(&quot;1&quot;)){ zoros[zoros.length - 1] = &quot;&quot;;}\r\n            \r\n            //now looper\r\n            for( int i = 0; i &lt; zoros.length ;i++ ){\r\n                if(zoros[i].length() &gt; maxi){\r\n                    maxi = zoros[i].length();\r\n                }\r\n            }\r\n        } \r\n        catch( Exception e ){ \r\n            System.console().writer().println(e.getMessage()); \r\n        }\r\n        System.console().writer().println(&quot;Neo-Maxi Zoomdweebie: &quot; + Integer.toString(maxi));\r\n        return maxi;\r\n    }\r\n    }","title":"Binary Gap Program in Java","body":"<p>My solution 100%</p>\n<pre><code>public class Solution {\npublic int solution( int N ){\n\n    String rep = &quot;&quot;;\n    String[] zoros = null;\n    int maxi = 0;\n\n    try{\n        if( N &lt; 5 ){ return maxi; } // 5 is the first positive integer that contains a bi-gap\n\n        rep = Integer.toBinaryString(N);\n        zoros = rep.split(&quot;1&quot;);\n\n        // deal with edges\n        if(!rep.startsWith(&quot;1&quot;)){ zoros[0] = &quot;&quot;; }\n        if(!rep.endsWith(&quot;1&quot;)){ zoros[zoros.length - 1] = &quot;&quot;;}\n        \n        //now looper\n        for( int i = 0; i &lt; zoros.length ;i++ ){\n            if(zoros[i].length() &gt; maxi){\n                maxi = zoros[i].length();\n            }\n        }\n    } \n    catch( Exception e ){ \n        System.console().writer().println(e.getMessage()); \n    }\n    System.console().writer().println(&quot;Neo-Maxi Zoomdweebie: &quot; + Integer.toString(maxi));\n    return maxi;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2072373,"reputation":724,"user_id":1846528,"display_name":"M-sAnNan"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1644243652,"creation_date":1644243652,"answer_id":71020099,"question_id":52731240,"body_markdown":"another solution that I did and it works totally fine\r\n\r\n    public int solution(int N) {\r\n            String value = Integer.toBinaryString(N);\r\n            String[] a = value.split(&quot;1&quot;);\r\n            if (value.endsWith(&quot;0&quot;)) {\r\n                a = Arrays.copyOf(a, a.length-1);\r\n            }\r\n            OptionalInt finalResult = Arrays.stream(a).filter(h -&gt; h.length() &gt; 0).mapToInt(String::length).max();\r\n    \r\n            return finalResult.isPresent() ? finalResult.getAsInt() :  0;\r\n        }","title":"Binary Gap Program in Java","body":"<p>another solution that I did and it works totally fine</p>\n<pre><code>public int solution(int N) {\n        String value = Integer.toBinaryString(N);\n        String[] a = value.split(&quot;1&quot;);\n        if (value.endsWith(&quot;0&quot;)) {\n            a = Arrays.copyOf(a, a.length-1);\n        }\n        OptionalInt finalResult = Arrays.stream(a).filter(h -&gt; h.length() &gt; 0).mapToInt(String::length).max();\n\n        return finalResult.isPresent() ? finalResult.getAsInt() :  0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23857656,"reputation":477,"user_id":17860991,"display_name":"Musaib Mushtaq"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644726718,"creation_date":1644672559,"answer_id":71092283,"question_id":52731240,"body_markdown":"\r\nThe following code gives the 100% solution for the same problem in **javascript**. Also I have added console logs which show the flow and results before returning.\r\nThis problem is to return the maximum binary gap of 0&#39;s from a binary number which we obtain from decimal numbers. \r\nFlow:\r\n* function that converts given decimal into binary equivalent number and store each value of binary into an array. then return the same array.\r\n* function to evaluate the number of gaps of 0&#39;s in the returned array.\r\n* check the maximum gap, if available then return the max number. Else return 0; \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // you can write to stdout for debugging purposes, e.g.\r\n    // console.log(&#39;this is a debug message&#39;);\r\n\r\n    function solution(N) {\r\n        // write your code in JavaScript (Node.js 8.9.4)\r\n        const aBi = returnBinary(N);\r\n        var gaps = [];\r\n        var flag = false;\r\n        var counter = null;\r\n        for(var digit in aBi){\r\n            \r\n            let nexdigit= parseInt(digit) + 1; \r\n            if(aBi[digit]===1 &amp;&amp; aBi[nexdigit] === 0 ){\r\n                flag = true;counter=0;\r\n            }\r\n            if(flag === true){\r\n                counter +=1;\r\n              }\r\n            if(aBi[digit]===0 &amp;&amp; aBi[nexdigit] === 1 ){\r\n                counter-=1;\r\n                gaps.push(counter);\r\n                  counter = null;\r\n            }\r\n        }\r\n        let max;\r\n        if(gaps[0]!== undefined){\r\n         max = gaps[0];\r\n        }\r\n        else {\r\n        console.log(0);\r\n             return 0;\r\n             }\r\n    for(var i = 1; i &lt; gaps.length;i++){\r\n     if(max &lt; gaps[i] ){ max = gaps[i] }\r\n    }\r\n    console.log(max);\r\n    return max;\r\n    }\r\n\r\n    function returnBinary(nDeccimal){\r\n var aBinary = [];\r\n    if(nDeccimal &gt; 0){\r\n    // this will return a binary sequence of numbers of given number and will return as a string.\r\n    while(nDeccimal &gt;= 1){\r\n    let remainder = nDeccimal % 2;\r\n    aBinary.unshift(remainder);\r\n    nDeccimal = parseInt(nDeccimal / 2);\r\n    }\r\n    }\r\n    console.log(aBinary.join(&quot;&quot;));\r\n    return aBinary;\r\n    }\r\n    console.log(&quot;#####Test One ######&quot;);\r\n    solution(24);\r\n    console.log(&quot;######Test Two #####&quot;);\r\n    solution(98);\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Binary Gap Program in Java","body":"<p>The following code gives the 100% solution for the same problem in <strong>javascript</strong>. Also I have added console logs which show the flow and results before returning.\nThis problem is to return the maximum binary gap of 0's from a binary number which we obtain from decimal numbers.\nFlow:</p>\n<ul>\n<li>function that converts given decimal into binary equivalent number and store each value of binary into an array. then return the same array.</li>\n<li>function to evaluate the number of gaps of 0's in the returned array.</li>\n<li>check the maximum gap, if available then return the max number. Else return 0;\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// you can write to stdout for debugging purposes, e.g.\n// console.log('this is a debug message');\n\nfunction solution(N) {\n    // write your code in JavaScript (Node.js 8.9.4)\n    const aBi = returnBinary(N);\n    var gaps = [];\n    var flag = false;\n    var counter = null;\n    for(var digit in aBi){\n        \n        let nexdigit= parseInt(digit) + 1; \n        if(aBi[digit]===1 &amp;&amp; aBi[nexdigit] === 0 ){\n            flag = true;counter=0;\n        }\n        if(flag === true){\n            counter +=1;\n          }\n        if(aBi[digit]===0 &amp;&amp; aBi[nexdigit] === 1 ){\n            counter-=1;\n            gaps.push(counter);\n              counter = null;\n        }\n    }\n    let max;\n    if(gaps[0]!== undefined){\n     max = gaps[0];\n    }\n    else {\n    console.log(0);\n         return 0;\n         }\nfor(var i = 1; i &lt; gaps.length;i++){\n if(max &lt; gaps[i] ){ max = gaps[i] }\n}\nconsole.log(max);\nreturn max;\n}\n\nfunction returnBinary(nDeccimal){\n var aBinary = [];\nif(nDeccimal &gt; 0){\n// this will return a binary sequence of numbers of given number and will return as a string.\nwhile(nDeccimal &gt;= 1){\nlet remainder = nDeccimal % 2;\naBinary.unshift(remainder);\nnDeccimal = parseInt(nDeccimal / 2);\n}\n}\nconsole.log(aBinary.join(\"\"));\nreturn aBinary;\n}\nconsole.log(\"#####Test One ######\");\nsolution(24);\nconsole.log(\"######Test Two #####\");\nsolution(98);</code></pre>\r\n</div>\r\n</div>\r\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2345376,"reputation":3008,"user_id":2055782,"accept_rate":58,"display_name":"Mohsin AR"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650480974,"creation_date":1650480974,"answer_id":71944872,"question_id":52731240,"body_markdown":"Binary Gap in java when you enter `529` binary is `1000010001` and large gap is`4` and for `32` number binary is `100000` no binary gap (`0`)\r\n\r\n    public class BinaryGap {    \r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;please enter number&quot;);\r\n            int positiveInt = scanner.nextInt();\r\n            char c[] = Integer.toBinaryString(positiveInt).toCharArray();\r\n            System.out.println(c);\r\n            int count=0;\r\n            int temp = 0;\r\n            for (int i = 0; i &lt; c.length; i++) {\r\n                if(c[i] == &#39;0&#39;) {\r\n                    count++;\r\n                } else if(count &gt; 0 &amp;&amp; count &gt; temp) {\r\n                    temp = count;\r\n                    count =0;\r\n                }\r\n            }\r\n            System.out.println(temp);\r\n        }\r\n       }","title":"Binary Gap Program in Java","body":"<p>Binary Gap in java when you enter <code>529</code> binary is <code>1000010001</code> and large gap is<code>4</code> and for <code>32</code> number binary is <code>100000</code> no binary gap (<code>0</code>)</p>\n<pre><code>public class BinaryGap {    \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;please enter number&quot;);\n        int positiveInt = scanner.nextInt();\n        char c[] = Integer.toBinaryString(positiveInt).toCharArray();\n        System.out.println(c);\n        int count=0;\n        int temp = 0;\n        for (int i = 0; i &lt; c.length; i++) {\n            if(c[i] == '0') {\n                count++;\n            } else if(count &gt; 0 &amp;&amp; count &gt; temp) {\n                temp = count;\n                count =0;\n            }\n        }\n        System.out.println(temp);\n    }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7066006,"reputation":1,"user_id":5409305,"display_name":"Amit Dhawan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657919012,"creation_date":1657919012,"answer_id":72999576,"question_id":52731240,"body_markdown":"This solution gave me 100% pass\r\n\r\n````\r\n public int solution(int N) {\r\n        if (N == 0) {\r\n            return N;\r\n        }\r\n\r\n        String binaryStr = Integer.toBinaryString(N);\r\n        int length = binaryStr.length();\r\n        int result = 0;\r\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; length; i++) {\r\n            char c = binaryStr.charAt(i);\r\n            if (binaryStr.charAt(i) == &#39;1&#39;) {\r\n                list.add(i + 1);\r\n\r\n            }\r\n        }\r\n\r\n        for (int i = list.size() - 1; i &gt; 0; i--) {\r\n            result = Math.max(result, (list.get(i) - list.get(i - 1) - 1));\r\n        }\r\n        return result;\r\n    }\r\n\r\n````\r\n","title":"Binary Gap Program in Java","body":"<p>This solution gave me 100% pass</p>\n<pre><code> public int solution(int N) {\n        if (N == 0) {\n            return N;\n        }\n\n        String binaryStr = Integer.toBinaryString(N);\n        int length = binaryStr.length();\n        int result = 0;\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; length; i++) {\n            char c = binaryStr.charAt(i);\n            if (binaryStr.charAt(i) == '1') {\n                list.add(i + 1);\n\n            }\n        }\n\n        for (int i = list.size() - 1; i &gt; 0; i--) {\n            result = Math.max(result, (list.get(i) - list.get(i - 1) - 1));\n        }\n        return result;\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16542733,"reputation":1,"user_id":11953083,"display_name":"EricDCS"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665622666,"creation_date":1665622666,"answer_id":74049407,"question_id":52731240,"body_markdown":"The best solution for me is (and got 100% on Codility)\r\n\r\n   \r\n\r\n    import java.util.*; //that can be changed to the specific import you need\r\n    \r\n    class Solution {\r\n        public int solution(int N) {\r\n            String binary = Integer.toBinaryString(N);\r\n            String[] splitted = binary.substring(0, binary.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\r\n            return Arrays.stream(splitted).mapToInt(String::length).max().orElse(0);\r\n        }\r\n    }","title":"Binary Gap Program in Java","body":"<p>The best solution for me is (and got 100% on Codility)</p>\n<pre><code>import java.util.*; //that can be changed to the specific import you need\n\nclass Solution {\n    public int solution(int N) {\n        String binary = Integer.toBinaryString(N);\n        String[] splitted = binary.substring(0, binary.lastIndexOf(&quot;1&quot;)).split(&quot;1&quot;);\n        return Arrays.stream(splitted).mapToInt(String::length).max().orElse(0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12282704,"reputation":739,"user_id":8963654,"display_name":"Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676895654,"creation_date":1676895654,"answer_id":75509212,"question_id":52731240,"body_markdown":"    public static int solution(int N) {\r\n\t\tString x= Integer.toBinaryString(N);\r\n\t\tint max =0, count=0;\r\n\t\tfor(int i=0;i&lt;x.length();i++) {\r\n\t\t\tif(x.charAt(i)==&#39;0&#39;){\r\n\t\t\t\tcount+=1;\r\n\t\t\t}else {\r\n\t\t\t\tif(x.charAt(x.length()-1)==0 &amp;&amp; x.length()-1==i)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif(max&lt;count  ) {\r\n\t\t\t\t\tmax=count;\r\n\t\t\t\t}\r\n\t\t\t\tcount=0;\r\n\t\t\t}\r\n\t\t}\r\n        return max;\r\n    }","title":"Binary Gap Program in Java","body":"<pre><code>public static int solution(int N) {\n    String x= Integer.toBinaryString(N);\n    int max =0, count=0;\n    for(int i=0;i&lt;x.length();i++) {\n        if(x.charAt(i)=='0'){\n            count+=1;\n        }else {\n            if(x.charAt(x.length()-1)==0 &amp;&amp; x.length()-1==i)\n                continue;\n            if(max&lt;count  ) {\n                max=count;\n            }\n            count=0;\n        }\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4990101,"reputation":475,"user_id":4012589,"display_name":"Michel Dambros Figueiredo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683191825,"creation_date":1683191825,"answer_id":76171518,"question_id":52731240,"body_markdown":"You can use arrays and streams for a more elegant solution. I scored 100% with the following solution:\r\n\r\n    import java.util.OptionalInt;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Solution {\r\n        public int solution(int N) {\r\n            String binary = Integer.toBinaryString(N);\r\n            binary = binary.substring(0, binary.lastIndexOf(&quot;1&quot;));\r\n            String[] split = binary.split(&quot;1&quot;);\r\n            if(split.length==0){\r\n                return 0;\r\n            }\r\n            OptionalInt max = Stream.of(split).map(String::length).mapToInt(value -&gt; value).max();\r\n            return max.getAsInt();\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nYbFJ.png","title":"Binary Gap Program in Java","body":"<p>You can use arrays and streams for a more elegant solution. I scored 100% with the following solution:</p>\n<pre><code>import java.util.OptionalInt;\nimport java.util.stream.Stream;\n\nclass Solution {\n    public int solution(int N) {\n        String binary = Integer.toBinaryString(N);\n        binary = binary.substring(0, binary.lastIndexOf(&quot;1&quot;));\n        String[] split = binary.split(&quot;1&quot;);\n        if(split.length==0){\n            return 0;\n        }\n        OptionalInt max = Stream.of(split).map(String::length).mapToInt(value -&gt; value).max();\n        return max.getAsInt();\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nYbFJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nYbFJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8274479,"reputation":117,"user_id":6221192,"display_name":"AmeeQ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15899,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52731414,"answer_count":25,"score":1,"last_activity_date":1683191825,"creation_date":1539133537,"question_id":52731240,"body_markdown":"My problem statement:\r\n\r\n&gt; A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N. For example, number 9 has binary representation 1001 and contains a binary gap of length 2. The number 529 has binary representation 1000010001 and contains two binary gaps: one of length 4 and one of length 3. The number 20 has binary representation 10100 and contains one binary gap of length 1. The number 15 has binary representation 1111 and has no binary gaps. The number 32 has binary representation 100000 and has no binary gaps.\r\n\r\nMy code:\r\n\r\n    public class Abc {\r\n    \r\n        static void decToBinary(int n) {\r\n    \r\n            int[] binaryNum = new int[1000];\r\n    \r\n            // counter for binary array \r\n            int i = 0;\r\n            while (n &gt; 0) {\r\n                // storing remainder in binary array \r\n                binaryNum[i] = n % 2;\r\n                n = n / 2;\r\n                i++;\r\n            }\r\n            int ctr = 0, k = 0;\r\n            ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\r\n    \r\n            // printing binary array in reverse order \r\n            for (int j = i - 1; j &gt;= 0; j--) {\r\n                System.out.print(binaryNum[j]);\r\n                if (binaryNum[j] == 0) {\r\n                    k = j;\r\n                    do {\r\n                        ctr++;\r\n                        k++;\r\n                    } while (binaryNum[k] == 0);\r\n                    al.add(ctr);\r\n                    ctr = 0;\r\n                }\r\n            }\r\n    \r\n            for (int ii = 0; ii &lt; al.size(); ii++) {\r\n                System.out.println(al.get(ii));\r\n            }\r\n        }\r\n    \r\n        // driver program \r\n        public static void main(String[] args) {\r\n            int n = 1041;\r\n            decToBinary(n);\r\n        }\r\n    }\r\n\r\n\r\nI am trying to show the output of binary gap that is stored in my ArrayList.  But the output is quite different for a given input of 1041. I  don&#39;t know why it is storing 1,2,3,4; according to my logic it should store only the gap values 5 and 3 in case of input:1041, even though 5 and 3 are also stored in the ArrayList but at some other index.\r\n\r\nI think there is a problem in the do-while loop especially in `al.add(ctr)` but I haven&#39;t figured it out yet. \r\n\r\n","title":"Binary Gap Program in Java","body":"<p>My problem statement:</p>\n\n<blockquote>\n  <p>A binary gap within a positive integer N is any maximal sequence of consecutive zeros that is surrounded by ones at both ends in the binary representation of N. For example, number 9 has binary representation 1001 and contains a binary gap of length 2. The number 529 has binary representation 1000010001 and contains two binary gaps: one of length 4 and one of length 3. The number 20 has binary representation 10100 and contains one binary gap of length 1. The number 15 has binary representation 1111 and has no binary gaps. The number 32 has binary representation 100000 and has no binary gaps.</p>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>public class Abc {\n\n    static void decToBinary(int n) {\n\n        int[] binaryNum = new int[1000];\n\n        // counter for binary array \n        int i = 0;\n        while (n &gt; 0) {\n            // storing remainder in binary array \n            binaryNum[i] = n % 2;\n            n = n / 2;\n            i++;\n        }\n        int ctr = 0, k = 0;\n        ArrayList&lt;Integer&gt; al = new ArrayList&lt;Integer&gt;();\n\n        // printing binary array in reverse order \n        for (int j = i - 1; j &gt;= 0; j--) {\n            System.out.print(binaryNum[j]);\n            if (binaryNum[j] == 0) {\n                k = j;\n                do {\n                    ctr++;\n                    k++;\n                } while (binaryNum[k] == 0);\n                al.add(ctr);\n                ctr = 0;\n            }\n        }\n\n        for (int ii = 0; ii &lt; al.size(); ii++) {\n            System.out.println(al.get(ii));\n        }\n    }\n\n    // driver program \n    public static void main(String[] args) {\n        int n = 1041;\n        decToBinary(n);\n    }\n}\n</code></pre>\n\n<p>I am trying to show the output of binary gap that is stored in my ArrayList.  But the output is quite different for a given input of 1041. I  don't know why it is storing 1,2,3,4; according to my logic it should store only the gap values 5 and 3 in case of input:1041, even though 5 and 3 are also stored in the ArrayList but at some other index.</p>\n\n<p>I think there is a problem in the do-while loop especially in <code>al.add(ctr)</code> but I haven't figured it out yet. </p>\n"},{"tags":["java","android","websocket","rtmp"],"owner":{"account_id":21877686,"reputation":21,"user_id":16166494,"display_name":"m3rcy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683191579,"creation_date":1683191579,"question_id":76171484,"body_markdown":"I am streaming via RTMP protocol with Web Socket. I need to record this stream with sound and save as mp4 file locally. Any ideas?\r\n\r\nI&#39;ve tried FFmpegKit library but it fails after executing\r\n\r\nFFmpeg command:\r\n\r\n```\r\nFFmpegKit.executeAsync(&quot;-i&quot; + &quot;rtmp://someurl&quot; + &quot;-c:v copy -c:a copy&quot; + targetFile, session -&gt; {\r\n    com.arthenica.ffmpegkit.SessionState mState = session.getState();\r\n    ReturnCode returnCode = session.getReturnCode();\r\n    \r\n    Log.d(&quot;TAG&quot;, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, mState, returnCode, session.getFailStackTrace()));\r\n});\r\n```\r\n\r\nAfter executing the command, I get the following error:\r\n&gt; Server error: RTMP playback is disabled. Operation not permitted.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/aZXCN.png)](https://i.stack.imgur.com/aZXCN.png)","title":"Recording stream via RTMP Android","body":"<p>I am streaming via RTMP protocol with Web Socket. I need to record this stream with sound and save as mp4 file locally. Any ideas?</p>\n<p>I've tried FFmpegKit library but it fails after executing</p>\n<p>FFmpeg command:</p>\n<pre><code>FFmpegKit.executeAsync(&quot;-i&quot; + &quot;rtmp://someurl&quot; + &quot;-c:v copy -c:a copy&quot; + targetFile, session -&gt; {\n    com.arthenica.ffmpegkit.SessionState mState = session.getState();\n    ReturnCode returnCode = session.getReturnCode();\n    \n    Log.d(&quot;TAG&quot;, String.format(&quot;FFmpeg process exited with state %s and rc %s.%s&quot;, mState, returnCode, session.getFailStackTrace()));\n});\n</code></pre>\n<p>After executing the command, I get the following error:</p>\n<blockquote>\n<p>Server error: RTMP playback is disabled. Operation not permitted.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/aZXCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZXCN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","css","select","styles","vaadin"],"comments":[{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1683181089,"post_id":76169198,"comment_id":134327525,"body_markdown":"Could you describe how you created your application in the first place? 2.2.0 is a very old version of the Select component, and that image you posted looks nothing like the Vaadin Select component.","body":"Could you describe how you created your application in the first place? 2.2.0 is a very old version of the Select component, and that image you posted looks nothing like the Vaadin Select component."},{"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"score":0,"creation_date":1683183957,"post_id":76169198,"comment_id":134328086,"body_markdown":"Hi, I create new .java file, after that `import` the component `import com.vaadin.flow.component.select.Select;`  , and then i create new object Select like above .","body":"Hi, I create new .java file, after that <code>import</code> the component <code>import com.vaadin.flow.component.select.Select;</code>  , and then i create new object Select like above ."},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1683185816,"post_id":76169198,"comment_id":134328426,"body_markdown":"Ok so what I meant to ask is: Are you building that app based on the Vaadin Flow framework, and if so, which version of Vaadin?","body":"Ok so what I meant to ask is: Are you building that app based on the Vaadin Flow framework, and if so, which version of Vaadin?"},{"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"score":0,"creation_date":1683187221,"post_id":76169198,"comment_id":134328725,"body_markdown":"Ok, i use Gradle, and Vaadin version 14, build with eclipse.","body":"Ok, i use Gradle, and Vaadin version 14, build with eclipse."},{"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"score":0,"creation_date":1683196587,"post_id":76169198,"comment_id":134330878,"body_markdown":"Is this an existing application that you&#39;re continuing developing, or did you just start building it? Because if this is a new Vaadin app that you&#39;ve just started working on, I would recommend generating a new project through start.vaadin.com","body":"Is this an existing application that you&#39;re continuing developing, or did you just start building it? Because if this is a new Vaadin app that you&#39;ve just started working on, I would recommend generating a new project through start.vaadin.com"}],"answers":[{"comments":[{"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"score":0,"creation_date":1683183797,"post_id":76169962,"comment_id":134328064,"body_markdown":"I try this way, but after i clicked save button, this disappear. That&#39;s why i can not use `field.addThemeVariants(SelectVariant.LUMO_SMALL);` . By the way, i will try get style default of Select component `field.getElement().setAttribute(&quot;theme&quot;,&quot;vaadin-select&quot;);` , but it&#39;s still not work.","body":"I try this way, but after i clicked save button, this disappear. That&#39;s why i can not use <code>field.addThemeVariants(SelectVariant.LUMO_SMALL);</code> . By the way, i will try get style default of Select component <code>field.getElement().setAttribute(&quot;theme&quot;,&quot;vaadin-select&quot;);</code> , but it&#39;s still not work."},{"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"score":0,"creation_date":1683184240,"post_id":76169962,"comment_id":134328139,"body_markdown":"i have added more detail in my question.","body":"i have added more detail in my question."}],"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683179694,"creation_date":1683179694,"answer_id":76169962,"question_id":76169198,"body_markdown":"&gt; SelectVariant cannot be resolved to a variable\r\n\r\nIf you get that message as an error from the compiler, then the first thing to look for is to make sure you have an `import` statement for the `SelectVariant` class in the beginning of you Java file.\r\n\r\n```java\r\nimport com.vaadin.flow.component.select.SelectVariant;\r\n```","title":"How can add style lumo default to component?","body":"<blockquote>\n<p>SelectVariant cannot be resolved to a variable</p>\n</blockquote>\n<p>If you get that message as an error from the compiler, then the first thing to look for is to make sure you have an <code>import</code> statement for the <code>SelectVariant</code> class in the beginning of you Java file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.vaadin.flow.component.select.SelectVariant;\n</code></pre>\n"}],"owner":{"account_id":1910393,"reputation":432,"user_id":1724358,"accept_rate":70,"display_name":"Headshot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683191504,"creation_date":1683167370,"question_id":76169198,"body_markdown":"I try use Select component, and try to use Variant style, but  doesn&#39;t apply. I know, vaadin has default style as Lumo, how can I add this style to component. My select is vaadin-select-2.2.0\r\n\r\nThis can not work because SelectVariant cannot be resolved to a variable\r\n\r\n    Select&lt;String&gt; field = new Select&lt;&gt;();\r\n\tfield.setLabel(&quot;Group&quot;);\r\n\tfield.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\r\n    field.addThemeVariants(\r\n        SelectVariant.LUMO_SMALL,\r\n        SelectVariant.LUMO_ALIGN_RIGHT,\r\n        SelectVariant.LUMO_HELPER_ABOVE_FIELD\r\n    );\r\n\r\nAnd i try add class css default to select component , but not change (picture attachment)\r\nhttps://vaadin.com/docs/latest/components/select\r\n\r\n    field.addClassName(&quot;vaadin-select&quot;); \r\n\tfield.getElement().setAttribute(&quot;class&quot;, &quot;vaadin-select&quot;);\r\n\tfield.getElement().setAttribute(&quot;theme&quot;, &quot;vaadin-select&quot;);\r\n\r\nThe result is showing without style css\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, how can i do it with style css ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HIyhe.png","title":"How can add style lumo default to component?","body":"<p>I try use Select component, and try to use Variant style, but  doesn't apply. I know, vaadin has default style as Lumo, how can I add this style to component. My select is vaadin-select-2.2.0</p>\n<p>This can not work because SelectVariant cannot be resolved to a variable</p>\n<pre><code>Select&lt;String&gt; field = new Select&lt;&gt;();\nfield.setLabel(&quot;Group&quot;);\nfield.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;);\nfield.addThemeVariants(\n    SelectVariant.LUMO_SMALL,\n    SelectVariant.LUMO_ALIGN_RIGHT,\n    SelectVariant.LUMO_HELPER_ABOVE_FIELD\n);\n</code></pre>\n<p>And i try add class css default to select component , but not change (picture attachment)\n<a href=\"https://vaadin.com/docs/latest/components/select\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/latest/components/select</a></p>\n<pre><code>field.addClassName(&quot;vaadin-select&quot;); \nfield.getElement().setAttribute(&quot;class&quot;, &quot;vaadin-select&quot;);\nfield.getElement().setAttribute(&quot;theme&quot;, &quot;vaadin-select&quot;);\n</code></pre>\n<p>The result is showing without style css</p>\n<p><a href=\"https://i.stack.imgur.com/HIyhe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HIyhe.png\" alt=\"enter image description here\" /></a></p>\n<p>So, how can i do it with style css ?</p>\n"},{"tags":["java","android-studio","time","java-time","offsetdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683195835,"post_id":76171455,"comment_id":134330723,"body_markdown":"My first thought would be to store UTC times in the database and convert to the user’s time zone only when displaying the times. If you don’t want that, you may use `OffsetDateTime.now(ZoneId.systemDefault())`. While the obtained `OffsetDateTime` will not know which time zone it came from, the `now` method will respect the time zone and its anomalies and give you the time at the correct offset for the time of year according to standard time and summer time and other anomalies. For example in my time zone you may get 2023-05-04T12:28+02:00 now and 2023-12-12T23:15+01:00 next winter.","body":"My first thought would be to store UTC times in the database and convert to the user’s time zone only when displaying the times. If you don’t want that, you may use <code>OffsetDateTime.now(ZoneId.systemDefault())</code>. While the obtained <code>OffsetDateTime</code> will not know which time zone it came from, the <code>now</code> method will respect the time zone and its anomalies and give you the time at the correct offset for the time of year according to standard time and summer time and other anomalies. For example in my time zone you may get 2023-05-04T12:28+02:00 now and 2023-12-12T23:15+01:00 next winter."}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683191412,"creation_date":1683191412,"question_id":76171455,"body_markdown":"one question. I want to store some time data in room Database. In my application the user can press a Start and Stop Button to save a Start- and a EndTime for doing different tasks. Later he can review all times with a RecyclerView...\r\n\r\nNow, the problem is, that i want to keep special anomalies of the different TimeZones. For Example if Summertime (DST) occurs in the TimeZone of the User, then he should have that correct time if he presses the Button and later review the times. But i read that OffsetDateTime does not store such anomalies. Instead ZonedDateTime would be the right one.\r\nBut if i want to store the times i need to use OffsetDateTime.\r\n\r\nWhat can i do? I guess if i create a ZonedDateTime at the moment the user presses a button, and then i convert it to OffsetDatetime and then back for retrieving Data, the Summertime, or DST, is lost in the converting process?\r\n\r\nAnybody can help, please? Searched everything but couldnt see any anwsers. \r\n\r\nThank you. ","title":"Android Room OffsetDateTime how to safe the Zone Anomalies","body":"<p>one question. I want to store some time data in room Database. In my application the user can press a Start and Stop Button to save a Start- and a EndTime for doing different tasks. Later he can review all times with a RecyclerView...</p>\n<p>Now, the problem is, that i want to keep special anomalies of the different TimeZones. For Example if Summertime (DST) occurs in the TimeZone of the User, then he should have that correct time if he presses the Button and later review the times. But i read that OffsetDateTime does not store such anomalies. Instead ZonedDateTime would be the right one.\nBut if i want to store the times i need to use OffsetDateTime.</p>\n<p>What can i do? I guess if i create a ZonedDateTime at the moment the user presses a button, and then i convert it to OffsetDatetime and then back for retrieving Data, the Summertime, or DST, is lost in the converting process?</p>\n<p>Anybody can help, please? Searched everything but couldnt see any anwsers.</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","nfc","mifare"],"owner":{"account_id":14564750,"reputation":301,"user_id":10519836,"display_name":"Karam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683191406,"creation_date":1683191406,"question_id":76171454,"body_markdown":"I have an App which write SRAM in NTAG using MifareUltralight class in android. \r\n\r\nusing this snippt of code\r\n\r\n```\r\nprotected boolean fastWrite(byte[] payload) throws IOException {\r\n    byte[] command = new byte[3];\r\n    command[0] = FAST_WRITE_COMMAND; // 0x3A\r\n    command[1] = NxpTag.SRAM_STARTING_PAGE;// 0xF0\r\n    command[2] = NxpTag.SRAM_LAST_PAGE; //0xFF\r\n    byte[] commandAndPayload = new byte[command.length + payload.length];\r\n    System.arraycopy(command, 0, commandAndPayload, 0, command.length);\r\n    System.arraycopy(payload, 0, commandAndPayload, command.length, payload.length);\r\n    return sendNxpCommand(commandAndPayload)[0] == ACK;\r\n}\r\n\r\nprivate byte[] sendNxpCommand(byte[] bytes) throws IOException {\r\n    byte[] answer;\r\n    answer = mfu.transceive(bytes);\r\n    if (answer == null) throw new IOException(&quot;null&quot;);\r\n    return answer;\r\n}\r\n```\r\neverything went smoothly until I test it against new Device &quot;Cyrus CM17&quot; which has android 7(SDK 24) and I get always when I use `transceive(data)` to write anything I get `IOException(&quot;Transceive failed&quot;)` .\r\n\r\nSo I changed my code and instead of writing the whole SRAM (64bytes) I tried to write only 4 bytes a once by using this code:\r\n\r\n    private boolean writeSRAM(byte[] byteArray) throws IOException {\r\n        boolean res = true;\r\n        byte[] command = new byte[6];\r\n        command[0] = (byte) 0xA2;\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            command[1] = (byte) (NxpTag.SRAM_STARTING_PAGE + (byte) i);\r\n            System.arraycopy(byteArray, 4 * i, command, 2, 4);\r\n            res &amp;= (mfu.transceive(command)[0] == ACK);\r\n        }\r\n        return res;\r\n    }\r\nit returns the same exception on the CYRUS device and it works for modern devices `Samsung M21 (SDK 32)`\r\n\r\nSo I deceied to take the advantage of `MifareUltralight` and I used `writePage(pageNum, Data)` method \r\n\r\n    private boolean writeSRAMPages(byte[] byteArray) throws IOExcepti\r\n        boolean res = true;\r\n        for (int i = 0; i &lt; 16; i++) {\r\n            mfu.writePage(240 + i, Arrays.copyOfRange(byteArray, 4 * i, 4 * (i + 1))); \r\n        }\r\n        return res;\r\n    }\r\n\r\nand finally it works for old and new devices. the source code of `writePage(pageNum, Data)` use internally `transceive(cmd, false)` while the `transceive(data)` use `transceive(cmd, true)` and the implementation of `transceive(byte[] data, boolean raw)` is:\r\n\r\n    /** Internal transceive */\r\n    byte[] transceive(byte[] data, boolean raw) throws IOException {\r\n        checkConnected();\r\n        try {\r\n            TransceiveResult result = mTag.getTagService().transceive(mTag.getServiceHandle(),\r\n                    data, raw);\r\n            if (result == null) {\r\n                throw new IOException(&quot;transceive failed&quot;);\r\n            } else {\r\n                return result.getResponseOrThrow();\r\n            }\r\n        } catch (RemoteException e) {\r\n            Log.e(TAG, &quot;NFC service dead&quot;, e);\r\n            throw new IOException(&quot;NFC service died&quot;);\r\n        }\r\n    }\r\n\r\nSO when I use `transceive(cmd, true)` on CYRUS with SDK24  it doesn&#39;t work because it can&#39;t handle `raw = true`. in debugging this method `transceive(byte[] data, boolean raw)` I forced `raw = false` and It worked.\r\n\r\nI could still use `writePage(pageNum, Data)` but the app would run slow as I had to send 16 commands instead of 1 each time I need to read the whole SRAM. \r\n\r\nCan anyone explain why some devices on SDK24 can&#39;t handle `transceive(data, true)` ?. ","title":"MifareUltralight.transceive throws a IOException on SDK24","body":"<p>I have an App which write SRAM in NTAG using MifareUltralight class in android.</p>\n<p>using this snippt of code</p>\n<pre><code>protected boolean fastWrite(byte[] payload) throws IOException {\n    byte[] command = new byte[3];\n    command[0] = FAST_WRITE_COMMAND; // 0x3A\n    command[1] = NxpTag.SRAM_STARTING_PAGE;// 0xF0\n    command[2] = NxpTag.SRAM_LAST_PAGE; //0xFF\n    byte[] commandAndPayload = new byte[command.length + payload.length];\n    System.arraycopy(command, 0, commandAndPayload, 0, command.length);\n    System.arraycopy(payload, 0, commandAndPayload, command.length, payload.length);\n    return sendNxpCommand(commandAndPayload)[0] == ACK;\n}\n\nprivate byte[] sendNxpCommand(byte[] bytes) throws IOException {\n    byte[] answer;\n    answer = mfu.transceive(bytes);\n    if (answer == null) throw new IOException(&quot;null&quot;);\n    return answer;\n}\n</code></pre>\n<p>everything went smoothly until I test it against new Device &quot;Cyrus CM17&quot; which has android 7(SDK 24) and I get always when I use <code>transceive(data)</code> to write anything I get <code>IOException(&quot;Transceive failed&quot;)</code> .</p>\n<p>So I changed my code and instead of writing the whole SRAM (64bytes) I tried to write only 4 bytes a once by using this code:</p>\n<pre><code>private boolean writeSRAM(byte[] byteArray) throws IOException {\n    boolean res = true;\n    byte[] command = new byte[6];\n    command[0] = (byte) 0xA2;\n    for (int i = 0; i &lt; 16; i++) {\n        command[1] = (byte) (NxpTag.SRAM_STARTING_PAGE + (byte) i);\n        System.arraycopy(byteArray, 4 * i, command, 2, 4);\n        res &amp;= (mfu.transceive(command)[0] == ACK);\n    }\n    return res;\n}\n</code></pre>\n<p>it returns the same exception on the CYRUS device and it works for modern devices <code>Samsung M21 (SDK 32)</code></p>\n<p>So I deceied to take the advantage of <code>MifareUltralight</code> and I used <code>writePage(pageNum, Data)</code> method</p>\n<pre><code>private boolean writeSRAMPages(byte[] byteArray) throws IOExcepti\n    boolean res = true;\n    for (int i = 0; i &lt; 16; i++) {\n        mfu.writePage(240 + i, Arrays.copyOfRange(byteArray, 4 * i, 4 * (i + 1))); \n    }\n    return res;\n}\n</code></pre>\n<p>and finally it works for old and new devices. the source code of <code>writePage(pageNum, Data)</code> use internally <code>transceive(cmd, false)</code> while the <code>transceive(data)</code> use <code>transceive(cmd, true)</code> and the implementation of <code>transceive(byte[] data, boolean raw)</code> is:</p>\n<pre><code>/** Internal transceive */\nbyte[] transceive(byte[] data, boolean raw) throws IOException {\n    checkConnected();\n    try {\n        TransceiveResult result = mTag.getTagService().transceive(mTag.getServiceHandle(),\n                data, raw);\n        if (result == null) {\n            throw new IOException(&quot;transceive failed&quot;);\n        } else {\n            return result.getResponseOrThrow();\n        }\n    } catch (RemoteException e) {\n        Log.e(TAG, &quot;NFC service dead&quot;, e);\n        throw new IOException(&quot;NFC service died&quot;);\n    }\n}\n</code></pre>\n<p>SO when I use <code>transceive(cmd, true)</code> on CYRUS with SDK24  it doesn't work because it can't handle <code>raw = true</code>. in debugging this method <code>transceive(byte[] data, boolean raw)</code> I forced <code>raw = false</code> and It worked.</p>\n<p>I could still use <code>writePage(pageNum, Data)</code> but the app would run slow as I had to send 16 commands instead of 1 each time I need to read the whole SRAM.</p>\n<p>Can anyone explain why some devices on SDK24 can't handle <code>transceive(data, true)</code> ?.</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1673017688,"post_id":68239143,"comment_id":132409338,"body_markdown":"maybe you use some keywords which reserved by jpa in you entities as fields.","body":"maybe you use some keywords which reserved by jpa in you entities as fields."}],"answers":[{"tags":[],"owner":{"account_id":16453214,"reputation":578,"user_id":11886111,"display_name":"anish sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625339534,"creation_date":1625339534,"answer_id":68239256,"question_id":68239143,"body_markdown":"\r\n\r\nThere are several possible causes:\r\n\r\n    Your entity classes are in the same or in a sub-package relative one where you have you class with @EnableAutoConfiguration. If not then your spring app does not see them and hence will not create anything in db\r\n\r\n    Your application.properties must be in src/main/resources folder.\r\n\r\ntry adding @ComponentScan(&quot;package which contains entity classes, configurations and services&quot;)\r\n","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>There are several possible causes:</p>\n<pre><code>Your entity classes are in the same or in a sub-package relative one where you have you class with @EnableAutoConfiguration. If not then your spring app does not see them and hence will not create anything in db\n\nYour application.properties must be in src/main/resources folder.\n</code></pre>\n<p>try adding @ComponentScan(&quot;package which contains entity classes, configurations and services&quot;)</p>\n"},{"tags":[],"owner":{"account_id":14793162,"reputation":1,"user_id":10683463,"display_name":"Descartes fowo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625352342,"creation_date":1625352342,"answer_id":68240468,"question_id":68239143,"body_markdown":"This is what you have to do:\r\n\r\n1- Add `@Entity` annotation to every class you want to see as table\r\n\r\n2- Add these lines in your application.properties:\r\n```\r\nspring.jpa.generate-ddl=true\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.jpa.show-sql=false \r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n```","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>This is what you have to do:</p>\n<p>1- Add <code>@Entity</code> annotation to every class you want to see as table</p>\n<p>2- Add these lines in your application.properties:</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=root\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.show-sql=false \nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625377308,"creation_date":1625377308,"answer_id":68242042,"question_id":68239143,"body_markdown":"Check these annotations:\r\n1- @Table( name:    ), @ Entity  on you class.\r\n2- @Column(name: ), on each field.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>Check these annotations:\n1- @Table( name:    ), @ Entity  on you class.\n2- @Column(name: ), on each field.</p>\n"},{"tags":[],"owner":{"account_id":22187935,"reputation":161,"user_id":16430556,"display_name":"manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626238643,"creation_date":1626238643,"answer_id":68372267,"question_id":68239143,"body_markdown":"u can use `spring.jpa.hibernate.ddl-auto=update` and check u are using @Table(name=&quot;table_name&quot;) top on  entity class.\r\nit may help","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>u can use <code>spring.jpa.hibernate.ddl-auto=update</code> and check u are using @Table(name=&quot;table_name&quot;) top on  entity class.\nit may help</p>\n"},{"tags":[],"owner":{"account_id":22188269,"reputation":41,"user_id":16430846,"display_name":"Kaushik Shaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626248723,"creation_date":1626248393,"answer_id":68373964,"question_id":68239143,"body_markdown":"You can use this in the application.properties file it was work for me.\r\n\r\n```\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=TRACE\r\n\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nspring.data.jpa.repositories.enabled=true\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\n`````\r\n\r\n And also use this annotation above the entity class.\r\n\r\n```\r\n @Entity\r\n @Table(name=&quot; give the name of the table you want &quot;)\r\n```","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>You can use this in the application.properties file it was work for me.</p>\n<pre><code>logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n\n\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\nspring.data.jpa.repositories.enabled=true\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.datasource.driverClassName=org.postgresql.Driver\n</code></pre>\n<p>And also use this annotation above the entity class.</p>\n<pre><code> @Entity\n @Table(name=&quot; give the name of the table you want &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22191049,"reputation":71,"user_id":16433233,"display_name":"S Badal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626407698,"creation_date":1626407698,"answer_id":68403219,"question_id":68239143,"body_markdown":"Check that you have added @Entity annotation to your model classes. Also, make sure that model classes are in the desired package.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>Check that you have added @Entity annotation to your model classes. Also, make sure that model classes are in the desired package.</p>\n"},{"tags":[],"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668633236,"creation_date":1668633236,"answer_id":74467310,"question_id":68239143,"body_markdown":"My issue was that I created a new model, and one of the fields had a column name that was a reserved SQL keyword (e.g. &quot;start&quot;, &quot;end&quot;, &quot;table&quot;, etc.) The table creation would fail due to a syntax error, but the application still started &quot;successfully&quot; for some reason.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>My issue was that I created a new model, and one of the fields had a column name that was a reserved SQL keyword (e.g. &quot;start&quot;, &quot;end&quot;, &quot;table&quot;, etc.) The table creation would fail due to a syntax error, but the application still started &quot;successfully&quot; for some reason.</p>\n"},{"tags":[],"owner":{"account_id":19529368,"reputation":1,"user_id":14289530,"display_name":"Brandon Hauser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669276897,"creation_date":1669276897,"answer_id":74557424,"question_id":68239143,"body_markdown":"Make sure that your imports are from `javax.persistence` and not `jakarta.persistence`. Took me a while to solve this problem in a project where I was importing `jakarta.persistence.Entity` as well as other annotations.  Once I switched all annotation imports to `javax.persistence` it all worked.","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>Make sure that your imports are from <code>javax.persistence</code> and not <code>jakarta.persistence</code>. Took me a while to solve this problem in a project where I was importing <code>jakarta.persistence.Entity</code> as well as other annotations.  Once I switched all annotation imports to <code>javax.persistence</code> it all worked.</p>\n"},{"tags":[],"owner":{"account_id":14824469,"reputation":1085,"user_id":10705803,"display_name":"Muhammad Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683191155,"creation_date":1683191155,"answer_id":76171422,"question_id":68239143,"body_markdown":"i faced this issue so in application.properties, i replace \r\n\r\n    spring.jpa.hibernate.ddl.auto=update\r\n\r\nwith\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nadditionally i added(optional)\r\n\r\n    spring.jpa.defer-datasource-initialization=true\r\n    spring.jpa.database = MYSQL","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>i faced this issue so in application.properties, i replace</p>\n<pre><code>spring.jpa.hibernate.ddl.auto=update\n</code></pre>\n<p>with</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>additionally i added(optional)</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\nspring.jpa.database = MYSQL\n</code></pre>\n"}],"owner":{"account_id":6558714,"reputation":81,"user_id":5070603,"display_name":"Blay-Z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11495,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":9,"score":4,"last_activity_date":1683191155,"creation_date":1625338438,"question_id":68239143,"body_markdown":"I have this code in my `application.properties` file:\r\n\r\n```\r\n# Spring DataSource\r\nspring.datasource.driverClassName=org.postgresql.Driver\r\nspring.sql.init.mode=always\r\nspring.sql.init.platform=postgres\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\r\nspring.datasource.username=postgres\r\nspring.datasource.password=root\r\n\r\n# JPA-Hibernate\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.show-sql=false\r\nspring.jpa.hibernate.ddl-auto=create\r\n\r\n# https://stackoverflow.com/questions/43905119/postgres-error-method-org-postgresql-jdbc-pgconnection-createclob-is-not-imple\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\n# Optimization for POSTGRES queries\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\r\n```\r\n\r\nAs you can see I have the `spring.jpa.hibernate.ddl-auto=create` line added but the tables are still not being created by the JPA. I have to manually create them in order for the project to compile. What is wrong?","title":"Spring Boot - JPA Hibernate not creating tables automatically?","body":"<p>I have this code in my <code>application.properties</code> file:</p>\n<pre><code># Spring DataSource\nspring.datasource.driverClassName=org.postgresql.Driver\nspring.sql.init.mode=always\nspring.sql.init.platform=postgres\nspring.datasource.url=jdbc:postgresql://localhost:5432/dbname\nspring.datasource.username=postgres\nspring.datasource.password=root\n\n# JPA-Hibernate\nspring.jpa.generate-ddl=true\nspring.jpa.show-sql=false\nspring.jpa.hibernate.ddl-auto=create\n\n# https://stackoverflow.com/questions/43905119/postgres-error-method-org-postgresql-jdbc-pgconnection-createclob-is-not-imple\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n\n# Optimization for POSTGRES queries\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect\n</code></pre>\n<p>As you can see I have the <code>spring.jpa.hibernate.ddl-auto=create</code> line added but the tables are still not being created by the JPA. I have to manually create them in order for the project to compile. What is wrong?</p>\n"},{"tags":["java","rest","spring-boot"],"comments":[{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509000637,"post_id":46947554,"comment_id":80842288,"body_markdown":"Yes i know but can&#39;t figure out where i went wrong.","body":"Yes i know but can&#39;t figure out where i went wrong."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509006726,"post_id":46947554,"comment_id":80845961,"body_markdown":"According to your console output, it seems that the method `getAlldu()` didn&#39;t be called. So, did you get any message after invoking `http://localhost:8080/dunames`?","body":"According to your console output, it seems that the method <code>getAlldu()</code> didn&#39;t be called. So, did you get any message after invoking <code>http:&#47;&#47;localhost:8080&#47;dunames</code>?"},{"owner":{"account_id":3622923,"reputation":96,"user_id":3021232,"display_name":"Wabi"},"score":0,"creation_date":1509057609,"post_id":46947554,"comment_id":80877574,"body_markdown":"What does your `web.xml` look like?","body":"What does your <code>web.xml</code> look like?"},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509080375,"post_id":46947554,"comment_id":80882836,"body_markdown":"@LHCHIN Yes it is not called. I got the 404 message.","body":"@LHCHIN Yes it is not called. I got the 404 message."},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509080456,"post_id":46947554,"comment_id":80882857,"body_markdown":"@Wabi It does not have web.xml . It is spring boot application","body":"@Wabi It does not have web.xml . It is spring boot application"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509081471,"post_id":46947554,"comment_id":80883214,"body_markdown":"It is weird that I didn&#39;t see any request mapping information in your console output after application startup. Normally, it should print something like `Mapped &quot;{[/dunames]}&quot; onto public xxx.xxx.ducontroller`.","body":"It is weird that I didn&#39;t see any request mapping information in your console output after application startup. Normally, it should print something like <code>Mapped &quot;{[&#47;dunames]}&quot; onto public xxx.xxx.ducontroller</code>."},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509085038,"post_id":46947554,"comment_id":80884569,"body_markdown":"@LHCHIN Yes. I have tried many things but don&#39;t know what went wrong","body":"@LHCHIN Yes. I have tried many things but don&#39;t know what went wrong"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509086009,"post_id":46947554,"comment_id":80884971,"body_markdown":"Another question, why you need to add the dependency of `spring-boot-starter-jersey` into your pom file?","body":"Another question, why you need to add the dependency of <code>spring-boot-starter-jersey</code> into your pom file?"},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509086137,"post_id":46947554,"comment_id":80885018,"body_markdown":"@LHCHIN Yes that&#39;s of no use. I removed it.","body":"@LHCHIN Yes that&#39;s of no use. I removed it."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1509088012,"post_id":46947554,"comment_id":80885939,"body_markdown":"I have imported your source into my STS IDE with small modification, and it worked well. I can perform selection and insertion via the services. What I have modified are: (1) \n Use h2 database with configuring property by `spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FALSE` (2) Add `@Component` to `duservice` class.","body":"I have imported your source into my STS IDE with small modification, and it worked well. I can perform selection and insertion via the services. What I have modified are: (1)   Use h2 database with configuring property by <code>spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_ON_EXIT=FA&zwnj;&#8203;LSE</code> (2) Add <code>@Component</code> to <code>duservice</code> class."},{"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"score":0,"creation_date":1509338505,"post_id":46947554,"comment_id":80963043,"body_markdown":"I added @Component to my duservice class but stll not working.","body":"I added @Component to my duservice class but stll not working."}],"answers":[{"tags":[],"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1584665538,"creation_date":1509341968,"answer_id":47008719,"question_id":46947554,"body_markdown":"I got the solution. It was due to package visibility. \r\nMain class was not able to find package in which controller class is present. \r\nSo, I added all classes under the same package. You can also place application class one level up.\r\n\r\nGot help from below link:\r\n\r\nhttps://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\r\n","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>I got the solution. It was due to package visibility. \nMain class was not able to find package in which controller class is present. \nSo, I added all classes under the same package. You can also place application class one level up.</p>\n\n<p>Got help from below link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\">Spring Boot: Cannot access REST Controller on localhost (404)</a></p>\n"},{"tags":[],"owner":{"account_id":4138262,"reputation":21,"user_id":3394370,"display_name":"Ratnesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651741826,"creation_date":1651741826,"answer_id":72124675,"question_id":46947554,"body_markdown":"There is serval reason associated with error 404, in my case I created a spring boot starter project in eclipse and forget to include spring-boot-starter-web in my project .I solved the issue after adding dependency in  pom.xml\r\n\r\n \r\n\r\n&gt;    &lt;/dependency&gt;\r\n&gt;     \t&lt;dependency&gt; \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; \t&lt;/dependency&gt;","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>There is serval reason associated with error 404, in my case I created a spring boot starter project in eclipse and forget to include spring-boot-starter-web in my project .I solved the issue after adding dependency in  pom.xml</p>\n<blockquote>\n   \n              org.springframework.boot         spring-boot-starter-web    \n</blockquote>\n"},{"tags":[],"owner":{"account_id":26116391,"reputation":11,"user_id":19809470,"display_name":"Isam Nagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670204295,"creation_date":1669931955,"answer_id":74648636,"question_id":46947554,"body_markdown":"A lot of people said file management but I found my issue to be not including a path for my `@GetMapping` \r\n\r\nFor example, instead of `@GetMapping`\r\nI had: `@GetMapping(&quot;/&quot;)`\r\n\r\nThis issue held me back so much and though might not solve yours&#39;s, I&#39;m sure and hoping will help someone.\r\nThanks\r\n","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>A lot of people said file management but I found my issue to be not including a path for my <code>@GetMapping</code></p>\n<p>For example, instead of <code>@GetMapping</code>\nI had: <code>@GetMapping(&quot;/&quot;)</code></p>\n<p>This issue held me back so much and though might not solve yours's, I'm sure and hoping will help someone.\nThanks</p>\n"}],"owner":{"account_id":12088051,"reputation":391,"user_id":8835739,"display_name":"Adi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56451,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47008719,"answer_count":3,"score":9,"last_activity_date":1683191029,"creation_date":1509000527,"question_id":46947554,"body_markdown":"While running springboot restservice application got 404 error.  I am using spring boot, jersey rest. I have tried GET requests *`http://localhost:8080/dunames`* but not able to resolve. Please help.  \r\n\r\n**Model Class:**\r\n\r\n    @Entity\r\n    @Table(name = &quot;du&quot;)\r\n    public class duname {\r\n    \r\n    \t\r\n    \tprivate String duname;\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate int id; \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic duname()\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic duname(String duname, int id)\r\n    \t{\r\n    \tthis.duname=duname;\t\r\n    \tthis.id=id;\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic String getDuname() {\r\n    \t\treturn duname;\r\n    \t}\r\n    \r\n    \tpublic void setDuname(String duname) {\r\n    \t\tthis.duname = duname;\r\n    \t}\r\n    }\r\n\r\n\r\n**Service Class:** \r\n\r\n    public class duservice {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate durepo durepository;\r\n    \t\r\n    \tpublic List&lt;duname&gt; getAlldu()\r\n    \t{\r\n    \t\tList&lt;duname&gt; dunames=new ArrayList&lt;duname&gt;();\r\n    \t\tdurepository.findAll()\r\n    \t\t.forEach(dunames::add);\r\n    \t\treturn dunames;\r\n    \t}\r\n    \t\r\n    \tpublic void addDu(duname dunames)\r\n    \t{\r\n    \t\tdurepository.save(dunames);\r\n    \t}\r\n    \t\r\n    \tpublic duname getDu(int id)\r\n    \t{\r\n    \t\treturn durepository.findOne(id);\r\n    \t}\r\n    \t\r\n    \tpublic void deleteDu(int id)\r\n    \t{\r\n    \t\tdurepository.delete(id);\r\n    \t}\r\n    \t\r\n    \tpublic void updateDu(int id, duname dunames)\r\n    \t{\r\n    \t\tdurepository.save(dunames);\r\n    \t}\r\n    }\r\n\r\n\r\n**Controller class:**\r\n\r\n        @RestController\r\n    public class ducontroller {\r\n    \r\n    \t\r\n    \t@Autowired\r\n    \tprivate duservice duService;\r\n    \t\r\n    \tprivate final Logger log=(java.util.logging.Logger) LoggerFactory.getLogger(ducontroller.class);\r\n    \t\r\n    \t\r\n    \t@RequestMapping(&quot;/dunames&quot;)\r\n    \tpublic List&lt;duname&gt; getAlldu()\r\n    \t{\r\n    \t\t  log.info(&quot;Starting&quot;);\r\n    \treturn duService.getAlldu();\r\n        }\r\n    \t\r\n    \t@RequestMapping(&quot;/duname/{id}&quot;)\r\n    \tpublic duname getdu(@PathVariable int id)\r\n    \t{\r\n    \t\treturn duService.getDu(id);\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(method=RequestMethod.POST,value=&quot;/dunames&quot;)\r\n    \tpublic void addDuname(@RequestBody duname dunames)\r\n    \t{\r\n    \t\tduService.addDu(dunames);\r\n    \t}\r\n    \t\r\n\r\n**Repository:** \r\n\r\n    public interface durepo extends CrudRepository&lt;duname,Integer&gt; {\r\n    \r\n    \t\r\n    }\r\n\r\n\r\n**Main Class:**\r\n\r\n   \r\n\r\n     @SpringBootApplication\r\n    public class DuaddApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DuaddApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Pom File:**\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.du&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;duadd&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;duadd&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n**Application Properties:**\r\n\r\n   \r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:2280/todo\r\n    spring.datasource.username=test\r\n    spring.datasource.password=test\r\n    spring.jpa.generate-ddl=true\r\n    server.port=8080 \r\n\r\n\r\n Some console output:\r\n\r\n \r\n\r\n    2017-10-26 11:06:08.952  INFO 4552 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\r\n    2017-10-26 11:06:08.975  INFO 4552 --- [           main] com.soprasteria.du.DuaddApplication      : Started DuaddApplication in 7.096 seconds (JVM running for 7.633)\r\n    2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2017-10-26 11:06:32.800  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 21 ms\r\n\r\n\r\n","title":"404-not-found-while-running-spring-boot-rest-api","body":"<p>While running springboot restservice application got 404 error.  I am using spring boot, jersey rest. I have tried GET requests <em><code>http://localhost:8080/dunames</code></em> but not able to resolve. Please help.  </p>\n\n<p><strong>Model Class:</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"du\")\npublic class duname {\n\n\n    private String duname;\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id; \n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public duname()\n    {\n\n    }\n\n    public duname(String duname, int id)\n    {\n    this.duname=duname; \n    this.id=id;\n    }\n\n\n    public String getDuname() {\n        return duname;\n    }\n\n    public void setDuname(String duname) {\n        this.duname = duname;\n    }\n}\n</code></pre>\n\n<p><strong>Service Class:</strong> </p>\n\n<pre><code>public class duservice {\n\n    @Autowired\n    private durepo durepository;\n\n    public List&lt;duname&gt; getAlldu()\n    {\n        List&lt;duname&gt; dunames=new ArrayList&lt;duname&gt;();\n        durepository.findAll()\n        .forEach(dunames::add);\n        return dunames;\n    }\n\n    public void addDu(duname dunames)\n    {\n        durepository.save(dunames);\n    }\n\n    public duname getDu(int id)\n    {\n        return durepository.findOne(id);\n    }\n\n    public void deleteDu(int id)\n    {\n        durepository.delete(id);\n    }\n\n    public void updateDu(int id, duname dunames)\n    {\n        durepository.save(dunames);\n    }\n}\n</code></pre>\n\n<p><strong>Controller class:</strong></p>\n\n<pre><code>    @RestController\npublic class ducontroller {\n\n\n    @Autowired\n    private duservice duService;\n\n    private final Logger log=(java.util.logging.Logger) LoggerFactory.getLogger(ducontroller.class);\n\n\n    @RequestMapping(\"/dunames\")\n    public List&lt;duname&gt; getAlldu()\n    {\n          log.info(\"Starting\");\n    return duService.getAlldu();\n    }\n\n    @RequestMapping(\"/duname/{id}\")\n    public duname getdu(@PathVariable int id)\n    {\n        return duService.getDu(id);\n    }\n\n    @RequestMapping(method=RequestMethod.POST,value=\"/dunames\")\n    public void addDuname(@RequestBody duname dunames)\n    {\n        duService.addDu(dunames);\n    }\n</code></pre>\n\n<p><strong>Repository:</strong> </p>\n\n<pre><code>public interface durepo extends CrudRepository&lt;duname,Integer&gt; {\n\n\n}\n</code></pre>\n\n<p><strong>Main Class:</strong></p>\n\n<pre><code> @SpringBootApplication\npublic class DuaddApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DuaddApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Pom File:</strong></p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.du&lt;/groupId&gt;\n    &lt;artifactId&gt;duadd&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;duadd&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>Application Properties:</strong></p>\n\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:2280/todo\nspring.datasource.username=test\nspring.datasource.password=test\nspring.jpa.generate-ddl=true\nserver.port=8080 \n</code></pre>\n\n<p>Some console output:</p>\n\n<pre><code>2017-10-26 11:06:08.952  INFO 4552 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2017-10-26 11:06:08.975  INFO 4552 --- [           main] com.soprasteria.du.DuaddApplication      : Started DuaddApplication in 7.096 seconds (JVM running for 7.633)\n2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2017-10-26 11:06:32.779  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2017-10-26 11:06:32.800  INFO 4552 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 21 ms\n</code></pre>\n"},{"tags":["java","serialization","hashmap","deserialization"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1683185014,"post_id":76170442,"comment_id":134328266,"body_markdown":"What does `safelyCastObjectToHashMap` do? And isn&#39;t it an option to replace your custom `Date` class with `LocalDate`?","body":"What does <code>safelyCastObjectToHashMap</code> do? And isn&#39;t it an option to replace your custom <code>Date</code> class with <code>LocalDate</code>?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683185532,"post_id":76170442,"comment_id":134328367,"body_markdown":"[mcve] please .. btw: this is unrelated to javafx","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. btw: this is unrelated to javafx"},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683186153,"post_id":76170442,"comment_id":134328494,"body_markdown":"@RobSpoor it basically just cast an `Object` to a `HashMap&lt;Date, String&gt;` using @SuppressWarnings(&quot;unchecked&quot;), because IntelliJ yelled at me that my code isn&#39;t clean.\n\n\nAnd @kleopatra thank you for helping me describe my problem in a better way ^^","body":"@RobSpoor it basically just cast an <code>Object</code> to a <code>HashMap&lt;Date, String&gt;</code> using @SuppressWarnings(&quot;unchecked&quot;), because IntelliJ yelled at me that my code isn&#39;t clean.   And @kleopatra thank you for helping me describe my problem in a better way ^^"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1683186549,"post_id":76170442,"comment_id":134328566,"body_markdown":"@Yoni in order for people to help you to find the issue, a [mre] is almost necessary here, since otherwise we cannot tell what goes wrong and where, since we don&#39;t have the full picture. So try to extract only the needed code for the (de-)serialization and your data classes into a seperate runnable project and provide it here.","body":"@Yoni in order for people to help you to find the issue, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is almost necessary here, since otherwise we cannot tell what goes wrong and where, since we don&#39;t have the full picture. So try to extract only the needed code for the (de-)serialization and your data classes into a seperate runnable project and provide it here."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683186857,"post_id":76170442,"comment_id":134328652,"body_markdown":"@maloomeister what&#39;s missing?\nI&#39;ve described the HashMap and File being static, handled using simple `put` and JavaFX&#39;s `FileChooser`, and I provided the serialization and deserialization methods... the rest is unimportant JavaFX code... or is it? Please tell me if you need anything specific that I didn&#39;t provide","body":"@maloomeister what&#39;s missing? I&#39;ve described the HashMap and File being static, handled using simple <code>put</code> and JavaFX&#39;s <code>FileChooser</code>, and I provided the serialization and deserialization methods... the rest is unimportant JavaFX code... or is it? Please tell me if you need anything specific that I didn&#39;t provide"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1683187048,"post_id":76170442,"comment_id":134328694,"body_markdown":"@Yoni I&#39;m currently not able to simply copy your provided code and simply run it myself. Please take a quick minute to read the information about what a [mre] is and ideally provide one afterwards.","body":"@Yoni I&#39;m currently not able to simply copy your provided code and simply run it myself. Please take a quick minute to read the information about what a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is and ideally provide one afterwards."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683187260,"post_id":76170442,"comment_id":134328729,"body_markdown":"@maloomeister I&#39;ve read it (thank you both btw for providing this post), I still don&#39;t understand what specific information is missing. Will it help if I upload it to GitHub so anyone can pull it and reproduce the problem on their machine?","body":"@maloomeister I&#39;ve read it (thank you both btw for providing this post), I still don&#39;t understand what specific information is missing. Will it help if I upload it to GitHub so anyone can pull it and reproduce the problem on their machine?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683187510,"post_id":76170442,"comment_id":134328779,"body_markdown":"@Yoni there’s a lot missing: field definitions in Date, the class that surrounds loadNotebook and saveNotebook, something that creates the HashMap and calls them. If the problem is with serialization of your Date class, you should be able to reproduce the problem by serializing and deserializing just a Date without needing a HashMap.","body":"@Yoni there’s a lot missing: field definitions in Date, the class that surrounds loadNotebook and saveNotebook, something that creates the HashMap and calls them. If the problem is with serialization of your Date class, you should be able to reproduce the problem by serializing and deserializing just a Date without needing a HashMap."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683187691,"post_id":76170442,"comment_id":134328824,"body_markdown":"@TimMoore alright thank you, since this is much code I&#39;ll later on upload it to GitHub and post the link in here.","body":"@TimMoore alright thank you, since this is much code I&#39;ll later on upload it to GitHub and post the link in here."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1683188639,"post_id":76170442,"comment_id":134329038,"body_markdown":"@Yoni sorry, no that’s not the right way to use this site. Please read what others are asking for and put the _minimum_ code that _reproduces the problem_ into the question text. This might require making a new test project to strip the code down to the minimum. Yes, that requires some work, but right now you’re essentially asking other people to do that work for you. Often, the process of doing this will help you work out what the problem is on your own.","body":"@Yoni sorry, no that’s not the right way to use this site. Please read what others are asking for and put the <i>minimum</i> code that <i>reproduces the problem</i> into the question text. This might require making a new test project to strip the code down to the minimum. Yes, that requires some work, but right now you’re essentially asking other people to do that work for you. Often, the process of doing this will help you work out what the problem is on your own."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683190109,"post_id":76170442,"comment_id":134329373,"body_markdown":"@TimMoore I&#39;m sorry, but I don&#39;t understand :(\nI was being told 3 times to read the [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example), but you&#39;re request contradicts this post because in order to reproduce my issue, you need my entire project - including JavaFX&#39;s logic.\n\nNow, after this being said, I can say that I&#39;ve just found the error, and it was indeed related to the way I extracted the `Date` from my `ComboBox`es. But the main topic right now is not the problem, rather than what I&#39;ve learned from it - because I&#39;m not sure was have I learned...","body":"@TimMoore I&#39;m sorry, but I don&#39;t understand :( I was being told 3 times to read the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but you&#39;re request contradicts this post because in order to reproduce my issue, you need my entire project - including JavaFX&#39;s logic.  Now, after this being said, I can say that I&#39;ve just found the error, and it was indeed related to the way I extracted the <code>Date</code> from my <code>ComboBox</code>es. But the main topic right now is not the problem, rather than what I&#39;ve learned from it - because I&#39;m not sure was have I learned..."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683190334,"post_id":76170442,"comment_id":134329428,"body_markdown":"To be more precise, was I supposed to add the JavaFX code as well?\nOr, a more important question, was I supposed to ask you &quot;is my code right&quot; rather than &quot;what&#39;s the problem&quot;?\n\nI want to understand better how to describe my issues in order to be a better StackOverflow user, and that might just be the point - I was actually asking &quot;hey I&#39;m new to Java, is there some serialization step I missed?&quot;, and if the answer was &quot;no&quot; than I&#39;d know to look somewhere else (in the JavaFX code).\n\nSo, what do you think about that? Should have I asked &quot;is this code right&quot;?","body":"To be more precise, was I supposed to add the JavaFX code as well? Or, a more important question, was I supposed to ask you &quot;is my code right&quot; rather than &quot;what&#39;s the problem&quot;?  I want to understand better how to describe my issues in order to be a better StackOverflow user, and that might just be the point - I was actually asking &quot;hey I&#39;m new to Java, is there some serialization step I missed?&quot;, and if the answer was &quot;no&quot; than I&#39;d know to look somewhere else (in the JavaFX code).  So, what do you think about that? Should have I asked &quot;is this code right&quot;?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683191318,"post_id":76170442,"comment_id":134329654,"body_markdown":"you suspect that the problem is de/serialization: so you write a [mcve] doing nothing but de/serialize (with a in-memory InputStream  f.i.). Exhibiting the problem? debug and fix - if you can&#39;t, use that example in a question. Not exhibiting the problem? your assumption was wrong. Look elsewhere: suspect the combo? write a [mcve] demonstrating the problem (no de/serialization, just your plain data objects) .. and so on :) The idea is divide-and-conquer, reduce complexity, separate concerns to get to the real reason and enable a solution, by you or others","body":"you suspect that the problem is de/serialization: so you write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> doing nothing but de/serialize (with a in-memory InputStream  f.i.). Exhibiting the problem? debug and fix - if you can&#39;t, use that example in a question. Not exhibiting the problem? your assumption was wrong. Look elsewhere: suspect the combo? write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem (no de/serialization, just your plain data objects) .. and so on :) The idea is divide-and-conquer, reduce complexity, separate concerns to get to the real reason and enable a solution, by you or others"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683191401,"post_id":76170442,"comment_id":134329677,"body_markdown":"To your answer &quot;was I supposed to add the JavaFX code as well?&quot;: *we don&#39;t know*. That&#39;s why **you** have to try to strip down your problem to the smallest possible thing that can demonstrate what&#39;s wrong. If removing the JavaFX code makes the problem go away, then you might have to keep at least some of it. If you remove that code and the problem persists (i.e. you can still demonstrate it some other way) then you *don&#39;t* need the JavaFX code. That process is a fundamental skill for honing in on what the exact problem is that you&#39;ll need over and over again, not just for asking SO questions.","body":"To your answer &quot;was I supposed to add the JavaFX code as well?&quot;: <i>we don&#39;t know</i>. That&#39;s why <b>you</b> have to try to strip down your problem to the smallest possible thing that can demonstrate what&#39;s wrong. If removing the JavaFX code makes the problem go away, then you might have to keep at least some of it. If you remove that code and the problem persists (i.e. you can still demonstrate it some other way) then you <i>don&#39;t</i> need the JavaFX code. That process is a fundamental skill for honing in on what the exact problem is that you&#39;ll need over and over again, not just for asking SO questions."},{"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"score":0,"creation_date":1683194431,"post_id":76170442,"comment_id":134330394,"body_markdown":"Alrighty then, thank you all for helping me with this issue and with describing me problem, I&#39;ll try to do better next time :)","body":"Alrighty then, thank you all for helping me with this issue and with describing me problem, I&#39;ll try to do better next time :)"}],"owner":{"account_id":19551662,"reputation":33,"user_id":14307115,"display_name":"Yoni"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683190860,"creation_date":1683184126,"question_id":76170442,"body_markdown":"# Edit:\r\nI found the problem, it was related to the way I extracted the `Date` from my JavaFX `ComboBox`es, and to the fact that Java&#39;s `HashMap` stores keys and values *by reference* and not *by value*.\r\nThanks for everyone who help me during the process ^^\r\n\r\n---\r\n\r\n# Overview\r\nI&#39;m writing a simple JavaFX exercise to represent a notebook.\r\nEach note has a date, and is represented by a String, so the notebook is actually a `HashMap&lt;Date, String&gt;`, where the `Date` is my own written hashable and serializable class. The notebook should be written to a file and loaded from a file as needed (I&#39;m using `FileChooser` for this methodology).\r\n\r\n# My problem\r\nThe problem is that I can write a notebook to a file, and immediately read a notebook from the same file, but the **deserialized HashMap is incomplete**, and also some notes are appear in the **wrong date**.\r\n\r\n# My steps to try and solve the problem\r\n1. I know that `HashMap` and `String` implement Serializable, so all left is to make `Date` serializable as well; Below is the class&#39; code (without c&#39;tor and getters / setters):\r\n```java\r\npublic class Date implements Serializable {\r\n//    private static final long serialVersionUID = 1L;\r\n    \r\n    public boolean equals(Object other) {\r\n        if (!(other instanceof Date date))\r\n            return false;\r\n        return day == date.day &amp;&amp; month == date.month &amp;&amp; year == date.year;\r\n    }\r\n    \r\n    public int hashCode() {\r\n        return Objects.hash(day, month, year);\r\n    }\r\n    \r\n    public String toString() {\r\n        return String.format(&quot;%02d/%02d/%04d&quot;, day, month, year);\r\n    }\r\n}\r\n\r\n```\r\n\r\n2. After making sure my `HashMap&lt;Date, String&gt;` is serializable, it&#39;s time to read and write from/to it:\r\n```\r\npublic static void loadNotebook(File file) {\r\n        currentFile = file;\r\n\r\n        try (FileInputStream fis = new FileInputStream(file);\r\n             ObjectInputStream ois = new ObjectInputStream(fis)) {\r\n            Object deserializedObject = ois.readObject();\r\n            if (deserializedObject instanceof HashMap) {\r\n                currentNotebook = safelyCastObjectToHashMap(deserializedObject);\r\n                System.out.println(&quot;Total notes loaded: &quot; + currentNotebook.size());\r\n                return;\r\n            }\r\n        } catch (IOException | ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public static boolean saveNotebook() {\r\n        try (FileOutputStream fos = new FileOutputStream(currentFile);\r\n             ObjectOutputStream oos = new ObjectOutputStream(fos)) {\r\n            oos.writeObject(currentNotebook);\r\n            System.out.println(&quot;Total notes saved: &quot; + currentNotebook.size());\r\n            return true;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n```\r\n\r\n&gt; It&#39;s worth mentioning that `currentFile` is a static `File` instance, and `currentNotebook` is a static `HashMap&lt;Date, String&gt;`. I&#39;ve decided to use `static` methodology as for there&#39;s only *one* notebook read and written to at any given time during the run of the application.\r\n\r\n3. As can be seen in the code above, I&#39;ve also logged some *debugging information* to better understand my problem; Every time I load/save a file, I also write how many notes where written from/to the file. In order to debug this issue, I&#39;ve added three notes to the notebook, saved it to a file (called `saveNotebook`), and then immediately read from the same file (used `FileChooser` to choose the same file and called `loadNotebook`. The results where surprising:\r\n```\r\nTotal notes saved: 3\r\nTotal notes loaded: 1\r\n```\r\n\r\n&gt; It&#39;s worth mentioning that adding each note is just calling `currentNotebook.put(key, value)` with the user provided date and string. The *&quot;Total notes saved&quot;* debugging log holds the correct amount of notes in the notebook, so I don&#39;t believe that&#39;s what causing the problem.\r\n\r\n---\r\n\r\n# Summary\r\nSo... any ideas what&#39;s causing the problem? Is there something obvious I missed the whole time?\r\nAny help would be greatly appreciated, both with helping me solve the problem and with helping me describe the problem better if I can :)\r\n\r\nI tried the whole steps above, I expected the `HashMap` to hold the same information after serialized and deserialized, but it had actually less information, and some of it was wrong (values that belonged to the wrong keys).","title":"Java deserialization gone wrong","body":"<h1>Edit:</h1>\n<p>I found the problem, it was related to the way I extracted the <code>Date</code> from my JavaFX <code>ComboBox</code>es, and to the fact that Java's <code>HashMap</code> stores keys and values <em>by reference</em> and not <em>by value</em>.\nThanks for everyone who help me during the process ^^</p>\n<hr />\n<h1>Overview</h1>\n<p>I'm writing a simple JavaFX exercise to represent a notebook.\nEach note has a date, and is represented by a String, so the notebook is actually a <code>HashMap&lt;Date, String&gt;</code>, where the <code>Date</code> is my own written hashable and serializable class. The notebook should be written to a file and loaded from a file as needed (I'm using <code>FileChooser</code> for this methodology).</p>\n<h1>My problem</h1>\n<p>The problem is that I can write a notebook to a file, and immediately read a notebook from the same file, but the <strong>deserialized HashMap is incomplete</strong>, and also some notes are appear in the <strong>wrong date</strong>.</p>\n<h1>My steps to try and solve the problem</h1>\n<ol>\n<li>I know that <code>HashMap</code> and <code>String</code> implement Serializable, so all left is to make <code>Date</code> serializable as well; Below is the class' code (without c'tor and getters / setters):</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Date implements Serializable {\n//    private static final long serialVersionUID = 1L;\n    \n    public boolean equals(Object other) {\n        if (!(other instanceof Date date))\n            return false;\n        return day == date.day &amp;&amp; month == date.month &amp;&amp; year == date.year;\n    }\n    \n    public int hashCode() {\n        return Objects.hash(day, month, year);\n    }\n    \n    public String toString() {\n        return String.format(&quot;%02d/%02d/%04d&quot;, day, month, year);\n    }\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>After making sure my <code>HashMap&lt;Date, String&gt;</code> is serializable, it's time to read and write from/to it:</li>\n</ol>\n<pre><code>public static void loadNotebook(File file) {\n        currentFile = file;\n\n        try (FileInputStream fis = new FileInputStream(file);\n             ObjectInputStream ois = new ObjectInputStream(fis)) {\n            Object deserializedObject = ois.readObject();\n            if (deserializedObject instanceof HashMap) {\n                currentNotebook = safelyCastObjectToHashMap(deserializedObject);\n                System.out.println(&quot;Total notes loaded: &quot; + currentNotebook.size());\n                return;\n            }\n        } catch (IOException | ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n\n\n    public static boolean saveNotebook() {\n        try (FileOutputStream fos = new FileOutputStream(currentFile);\n             ObjectOutputStream oos = new ObjectOutputStream(fos)) {\n            oos.writeObject(currentNotebook);\n            System.out.println(&quot;Total notes saved: &quot; + currentNotebook.size());\n            return true;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n</code></pre>\n<blockquote>\n<p>It's worth mentioning that <code>currentFile</code> is a static <code>File</code> instance, and <code>currentNotebook</code> is a static <code>HashMap&lt;Date, String&gt;</code>. I've decided to use <code>static</code> methodology as for there's only <em>one</em> notebook read and written to at any given time during the run of the application.</p>\n</blockquote>\n<ol start=\"3\">\n<li>As can be seen in the code above, I've also logged some <em>debugging information</em> to better understand my problem; Every time I load/save a file, I also write how many notes where written from/to the file. In order to debug this issue, I've added three notes to the notebook, saved it to a file (called <code>saveNotebook</code>), and then immediately read from the same file (used <code>FileChooser</code> to choose the same file and called <code>loadNotebook</code>. The results where surprising:</li>\n</ol>\n<pre><code>Total notes saved: 3\nTotal notes loaded: 1\n</code></pre>\n<blockquote>\n<p>It's worth mentioning that adding each note is just calling <code>currentNotebook.put(key, value)</code> with the user provided date and string. The <em>&quot;Total notes saved&quot;</em> debugging log holds the correct amount of notes in the notebook, so I don't believe that's what causing the problem.</p>\n</blockquote>\n<hr />\n<h1>Summary</h1>\n<p>So... any ideas what's causing the problem? Is there something obvious I missed the whole time?\nAny help would be greatly appreciated, both with helping me solve the problem and with helping me describe the problem better if I can :)</p>\n<p>I tried the whole steps above, I expected the <code>HashMap</code> to hold the same information after serialized and deserialized, but it had actually less information, and some of it was wrong (values that belonged to the wrong keys).</p>\n"},{"tags":["java","eclipse","compilation","javac"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1486049356,"post_id":939194,"comment_id":71188166,"body_markdown":"[This tutorial](https://docs.oracle.com/javase/tutorial/reflect/member/methodparameterreflection.html) about the compiler option `-parameters` is *at least* applicable to Java 8.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/reflect/member/methodparameterreflection.html\" rel=\"nofollow noreferrer\">This tutorial</a> about the compiler option <code>-parameters</code> is <i>at least</i> applicable to Java 8."},{"owner":{"account_id":21346018,"reputation":91,"user_id":15716074,"display_name":"SRI HARSHA S V S"},"score":0,"creation_date":1684392065,"post_id":939194,"comment_id":134512064,"body_markdown":"Is there a solution for the interfaces?","body":"Is there a solution for the interfaces?"}],"answers":[{"comments":[{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":0,"creation_date":1243945598,"post_id":939201,"comment_id":747283,"body_markdown":"That solution works for me, thanks. Anyway, I&#39;d be interested if it is possible to have information about parameter names stored in the class file.","body":"That solution works for me, thanks. Anyway, I&#39;d be interested if it is possible to have information about parameter names stored in the class file."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1243947442,"post_id":939201,"comment_id":747420,"body_markdown":"No, it&#39;s not, and it wouldn&#39;t make any sense / have any value in a language that is compiled into bytecode","body":"No, it&#39;s not, and it wouldn&#39;t make any sense / have any value in a language that is compiled into bytecode"},{"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"score":0,"creation_date":1243948679,"post_id":939201,"comment_id":747539,"body_markdown":"The parameter names are preserved in the class file.","body":"The parameter names are preserved in the class file."}],"tags":[],"owner":{"account_id":36493,"reputation":11667,"user_id":104117,"accept_rate":89,"display_name":"Valentin Rocher"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1243945054,"creation_date":1243945054,"answer_id":939201,"question_id":939194,"body_markdown":"You don&#39;t specially need the source to make arg names appear in Eclipse...If you specify the Javadoc, Eclipse will display the args.","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>You don't specially need the source to make arg names appear in Eclipse...If you specify the Javadoc, Eclipse will display the args.</p>\n"},{"comments":[{"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"score":0,"creation_date":1243947272,"post_id":939234,"comment_id":747406,"body_markdown":"Yes, try project properties, Java compiler, then &quot;Add variable attributes to generated class files&quot;. This should preserve the parameter names.","body":"Yes, try project properties, Java compiler, then &quot;Add variable attributes to generated class files&quot;. This should preserve the parameter names."}],"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1243945570,"creation_date":1243945570,"answer_id":939234,"question_id":939194,"body_markdown":"It might help to compile with debug support, which stores all names in the .class file.\r\n\r\nthough I don&#39;t know whether Eclipse takes that into account.","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>It might help to compile with debug support, which stores all names in the .class file.</p>\n\n<p>though I don't know whether Eclipse takes that into account.</p>\n"},{"comments":[{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":1,"creation_date":1243946526,"post_id":939255,"comment_id":747351,"body_markdown":"I&#39;m currently compiling with source,lines,vars and Eclipse does not see the argument names. I&#39;ll double check if there is something wrong with my ant script, maybe the debug level is lost on the way from ant to javac...","body":"I&#39;m currently compiling with source,lines,vars and Eclipse does not see the argument names. I&#39;ll double check if there is something wrong with my ant script, maybe the debug level is lost on the way from ant to javac..."},{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":0,"creation_date":1243948628,"post_id":939255,"comment_id":747533,"body_markdown":"As I added to my question text, -g:vars adds some information for classes, but no information for interfaces. And in both cases, Eclipse does not use this information.","body":"As I added to my question text, -g:vars adds some information for classes, but no information for interfaces. And in both cases, Eclipse does not use this information."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1243957478,"post_id":939255,"comment_id":748371,"body_markdown":"Please double check that the class file contains debug information. Maybe you&#39;ve found a bug in Eclipse. I also noticed that Eclipse *sometimes* doesn&#39;t pick up argument names but I haven&#39;t really bothered to check why.","body":"Please double check that the class file contains debug information. Maybe you&#39;ve found a bug in Eclipse. I also noticed that Eclipse <i>sometimes</i> doesn&#39;t pick up argument names but I haven&#39;t really bothered to check why."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243945934,"creation_date":1243945934,"answer_id":939255,"question_id":939194,"body_markdown":"Eclipse will pick up the names of arguments if you include debug information in the class file: `javac -g:vars` should be enough.","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>Eclipse will pick up the names of arguments if you include debug information in the class file: <code>javac -g:vars</code> should be enough.</p>\n"},{"comments":[{"owner":{"account_id":38696,"reputation":6419,"user_id":111245,"accept_rate":50,"display_name":"Salandur"},"score":0,"creation_date":1243946783,"post_id":939256,"comment_id":747363,"body_markdown":"javadocs are not compiled in the resulting class-files, but you can generate a site with the javadocs.","body":"javadocs are not compiled in the resulting class-files, but you can generate a site with the javadocs."},{"owner":{"account_id":5303874,"reputation":5062,"user_id":4464702,"accept_rate":96,"display_name":"randers"},"score":0,"creation_date":1459236079,"post_id":939256,"comment_id":60182160,"body_markdown":"Also, there is no need to write `@return void` - I think it even goes against the spec.","body":"Also, there is no need to write <code>@return void</code> - I think it even goes against the spec."}],"tags":[],"owner":{"account_id":38567,"reputation":131,"user_id":110778,"display_name":"MESLewis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243945972,"creation_date":1243945972,"answer_id":939256,"question_id":939194,"body_markdown":"You don&#39;t need a separate Javadoc file you can create &#39;inline&#39; javadocs in Eclipse using a special comment with two asterisks(*) after the first slash of a multi-line comment.\r\n\r\nexample code:\r\n\r\n       public class MyClass\r\n    {\r\n     /**\r\n      * documentation of your method\r\n      * \r\n      * @param name    a String describing the name\r\n      * @param options used to describe current option\r\n      * @param query\r\n      * @param comment\r\n      * @return void\r\n      */\r\n        void myMethod(String name, String options, String query, String comment)\r\n        {\r\n            ...\r\n        }\r\n    }\r\n\r\n","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>You don't need a separate Javadoc file you can create 'inline' javadocs in Eclipse using a special comment with two asterisks(*) after the first slash of a multi-line comment.</p>\n\n<p>example code:</p>\n\n<pre><code>   public class MyClass\n{\n /**\n  * documentation of your method\n  * \n  * @param name    a String describing the name\n  * @param options used to describe current option\n  * @param query\n  * @param comment\n  * @return void\n  */\n    void myMethod(String name, String options, String query, String comment)\n    {\n        ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":0,"creation_date":1243947366,"post_id":939296,"comment_id":747413,"body_markdown":"I haven&#39;t read the class file spec, but from what I can see, this seems to be true.","body":"I haven&#39;t read the class file spec, but from what I can see, this seems to be true."},{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":0,"creation_date":1243947714,"post_id":939296,"comment_id":747445,"body_markdown":"it&#39;s also the reason given by the groovy for not supporting named parameters","body":"it&#39;s also the reason given by the groovy for not supporting named parameters"},{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":1,"creation_date":1243947729,"post_id":939296,"comment_id":747447,"body_markdown":"Just changed my mind. http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817 seems to describe that data structure as existing. Anyway, my class files do not contain this information, no matter what debug setting I use for javac.","body":"Just changed my mind. <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jvms/second_edition/html/&hellip;</a> seems to describe that data structure as existing. Anyway, my class files do not contain this information, no matter what debug setting I use for javac."},{"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"score":1,"creation_date":1243947799,"post_id":939296,"comment_id":747454,"body_markdown":"This isn&#39;t true, names can be preserved using the debug flag in javac. You can open the class file up in a decompiler (or use Eclipse&#39;s decompiler - just drop it in the editor pane) to see the parameter names are preserved.","body":"This isn&#39;t true, names can be preserved using the debug flag in javac. You can open the class file up in a decompiler (or use Eclipse&#39;s decompiler - just drop it in the editor pane) to see the parameter names are preserved."},{"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"score":0,"creation_date":1243948365,"post_id":939296,"comment_id":747504,"body_markdown":"Sorry, I was a bit confusing (or confused) with classes and interfaces. What you say seems to be true when applied to classes (which I asked for in my initial question) but is not true for interfaces. I&#39;ve added some information to my question to reflect that.","body":"Sorry, I was a bit confusing (or confused) with classes and interfaces. What you say seems to be true when applied to classes (which I asked for in my initial question) but is not true for interfaces. I&#39;ve added some information to my question to reflect that."}],"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1243948538,"creation_date":1243946733,"answer_id":939296,"question_id":939194,"body_markdown":"There is no support in the class file data structure for storing the parameter names to any method, no matter what javac options you use. \r\n\r\nIn order to see the original names in an IDE you have to supply them with either the javadoc or the source.\r\n\r\nIf you have a particular need to get at them at runtime it is possible to add annotations to parameters, but you&#39;ll have to create your own as there isn&#39;t a standard set to use.\r\n\r\nSorry can&#39;t be more helpful\r\n\r\n**EDIT**: \r\nI stand completely corrected...the class file format does clearly have space for named parameters ([JLS 4.7][1])\r\n\r\nWhat I can&#39;t see is how the hell you can get at them using `java.lang.reflect.*`\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>There is no support in the class file data structure for storing the parameter names to any method, no matter what javac options you use. </p>\n\n<p>In order to see the original names in an IDE you have to supply them with either the javadoc or the source.</p>\n\n<p>If you have a particular need to get at them at runtime it is possible to add annotations to parameters, but you'll have to create your own as there isn't a standard set to use.</p>\n\n<p>Sorry can't be more helpful</p>\n\n<p><strong>EDIT</strong>: \nI stand completely corrected...the class file format does clearly have space for named parameters (<a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817\" rel=\"nofollow noreferrer\">JLS 4.7</a>)</p>\n\n<p>What I can't see is how the hell you can get at them using <code>java.lang.reflect.*</code></p>\n"},{"tags":[],"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1243950300,"creation_date":1243948624,"answer_id":939451,"question_id":939194,"body_markdown":"To preserve names in the class file for debugging purposes try project properties, Java compiler, then &quot;Add variable attributes to generated class files&quot; (See &lt;a href=&quot;http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-preferences-compiler.htm&quot;&gt;Eclipse Help&lt;/a&gt;).\r\n\r\n\r\nCompiling the following source:\r\n\r\n    public class StackOverflowTest {\r\n        public void test(String foo, String bar) {\r\n            // blah\r\n        }\r\n    }\r\n\r\n\r\nIs decompiled into:\r\n\r\n    // Compiled from StackOverflowTest.java (version 1.5 : 49.0, super bit)\r\n    public class StackOverflowTest {\r\n  \r\n        // Method descriptor #6 ()V\r\n        // Stack: 1, Locals: 1\r\n        public StackOverflowTest();\r\n            0  aload_0 [this]\r\n            1  invokespecial java.lang.Object() [8]\r\n            4  return\r\n            Line numbers:\r\n                [pc: 0, line: 1]\r\n            Local variable table:\r\n                [pc: 0, pc: 5] local: this index: 0 type: StackOverflowTest\r\n  \r\n        // Method descriptor #15 (Ljava/lang/String;Ljava/lang/String;)V\r\n        // Stack: 0, Locals: 3\r\n        public void test(java.lang.String foo, java.lang.String bar);\r\n            0  return\r\n            Line numbers:\r\n                [pc: 0, line: 4]\r\n            Local variable table:\r\n                [pc: 0, pc: 1] local: this index: 0 type: StackOverflowTest\r\n                [pc: 0, pc: 1] local: foo index: 1 type: java.lang.String\r\n                [pc: 0, pc: 1] local: bar index: 2 type: java.lang.String\r\n    }\r\n\r\nSee the parameter names are preserved in the class files.\r\n\r\nI would suggest you look into how your source is being compiled, which version it is compiled for etc.\r\n\r\n**EDIT:**\r\n\r\nAh, I see this is different for interfaces - they don&#39;t seem to have this information available for the debugger which I guess makes sense. I don&#39;t think there&#39;ll be a way round this, if you just want to see the parameter names when you&#39;re editing source you&#39;ll need to go the javadoc route as Nagrom_17 suggests (attach the source).","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>To preserve names in the class file for debugging purposes try project properties, Java compiler, then \"Add variable attributes to generated class files\" (See <a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/ref-preferences-compiler.htm\" rel=\"noreferrer\">Eclipse Help</a>).</p>\n\n<p>Compiling the following source:</p>\n\n<pre><code>public class StackOverflowTest {\n    public void test(String foo, String bar) {\n        // blah\n    }\n}\n</code></pre>\n\n<p>Is decompiled into:</p>\n\n<pre><code>// Compiled from StackOverflowTest.java (version 1.5 : 49.0, super bit)\npublic class StackOverflowTest {\n\n    // Method descriptor #6 ()V\n    // Stack: 1, Locals: 1\n    public StackOverflowTest();\n        0  aload_0 [this]\n        1  invokespecial java.lang.Object() [8]\n        4  return\n        Line numbers:\n            [pc: 0, line: 1]\n        Local variable table:\n            [pc: 0, pc: 5] local: this index: 0 type: StackOverflowTest\n\n    // Method descriptor #15 (Ljava/lang/String;Ljava/lang/String;)V\n    // Stack: 0, Locals: 3\n    public void test(java.lang.String foo, java.lang.String bar);\n        0  return\n        Line numbers:\n            [pc: 0, line: 4]\n        Local variable table:\n            [pc: 0, pc: 1] local: this index: 0 type: StackOverflowTest\n            [pc: 0, pc: 1] local: foo index: 1 type: java.lang.String\n            [pc: 0, pc: 1] local: bar index: 2 type: java.lang.String\n}\n</code></pre>\n\n<p>See the parameter names are preserved in the class files.</p>\n\n<p>I would suggest you look into how your source is being compiled, which version it is compiled for etc.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Ah, I see this is different for interfaces - they don't seem to have this information available for the debugger which I guess makes sense. I don't think there'll be a way round this, if you just want to see the parameter names when you're editing source you'll need to go the javadoc route as Nagrom_17 suggests (attach the source).</p>\n"}],"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20003,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":939451,"answer_count":6,"score":22,"last_activity_date":1683190784,"creation_date":1243944869,"question_id":939194,"body_markdown":"When I compile something like this:\r\n\r\n    public class MyClass\r\n    {\r\n    \tvoid myMethod(String name, String options, String query, String comment)\r\n    \t{\r\n    \t\t...\r\n    \t}\r\n    }\r\n\r\nand compile this to a class file, it seems that argument names are lost. That is, when some other Java code references `MyClass` and wants to call or overwrite `myMethod`, my IDE (currently Eclipse) seems to get this method signature from the class-file:\r\n\r\n    void myMethod(String arg0, String arg1, String arg2, String arg3);\r\n\r\nI know that Eclipse (and possibly other IDEs too) allows me to provide a link to the source or the Javadoc *(as Bishiboosh pointed out)* of `MyClass` and can take advantage of this. But I&#39;m curious if there is some way to tell `javac` to include the names into the class-file, so that users of that class can see the argument names even if they only have the class file.\r\n\r\nSolution for classes\r\n----\r\nWhen I compile a class with `java -g:vars`, the names of parameters are included in the class file. `-g:vars` seems to be equivalent to *Eclipse -&gt; project properties -&gt; Java compiler -&gt; Add variable attributes to generated class files*. \r\n\r\nThis solution was suggested by several authors, but the answer from Nick finally made me believe.\r\n\r\nOn my machine, Eclipse sometimes used this info, sometimes it didn&#39;t, which was probably my fault or a bug in Eclipse, but not a problem with the class files or the compiler. Anyway, now I know that the information is definitely present.\r\n\r\nBut no solution for interfaces\r\n----\r\nWhile this works (kind of) fine for classes, it&#39;s not working for interfaces. \r\n\r\nFor me, the logical reason seems to be, that `-g:vars` only provides the names of local variables, which is what the documentation for javac also states. In the body of a method, it&#39;s parameters are very similar to local variables, thus they are covered by `-g:vars`. interface methods don&#39;t have bodies, so they can&#39;t have local variables.\r\n\r\nMy initial question only asked for classes, because I was not aware that there might be any difference.\r\n\r\nClass file format\r\n----\r\nAs *gid* pointed out, the class file format does not support storage of parameter names. I found a [section in the class file spec][1] that describes a data structure which should hold the parameter names of methods, but this is definitely not used when compiling interfaces.\r\n\r\nWhen compiling a class, I can&#39;t tell if the mentioned data structure is used, or if Eclipse infers the parameter names from the usage of parameters inside the method body. An expert could clarify this, but it&#39;s not that relevant I think.\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817","title":"Preserving parameter/argument names in compiled Java classes","body":"<p>When I compile something like this:</p>\n<pre><code>public class MyClass\n{\n    void myMethod(String name, String options, String query, String comment)\n    {\n        ...\n    }\n}\n</code></pre>\n<p>and compile this to a class file, it seems that argument names are lost. That is, when some other Java code references <code>MyClass</code> and wants to call or overwrite <code>myMethod</code>, my IDE (currently Eclipse) seems to get this method signature from the class-file:</p>\n<pre><code>void myMethod(String arg0, String arg1, String arg2, String arg3);\n</code></pre>\n<p>I know that Eclipse (and possibly other IDEs too) allows me to provide a link to the source or the Javadoc <em>(as Bishiboosh pointed out)</em> of <code>MyClass</code> and can take advantage of this. But I'm curious if there is some way to tell <code>javac</code> to include the names into the class-file, so that users of that class can see the argument names even if they only have the class file.</p>\n<h2>Solution for classes</h2>\n<p>When I compile a class with <code>java -g:vars</code>, the names of parameters are included in the class file. <code>-g:vars</code> seems to be equivalent to <em>Eclipse -&gt; project properties -&gt; Java compiler -&gt; Add variable attributes to generated class files</em>.</p>\n<p>This solution was suggested by several authors, but the answer from Nick finally made me believe.</p>\n<p>On my machine, Eclipse sometimes used this info, sometimes it didn't, which was probably my fault or a bug in Eclipse, but not a problem with the class files or the compiler. Anyway, now I know that the information is definitely present.</p>\n<h2>But no solution for interfaces</h2>\n<p>While this works (kind of) fine for classes, it's not working for interfaces.</p>\n<p>For me, the logical reason seems to be, that <code>-g:vars</code> only provides the names of local variables, which is what the documentation for javac also states. In the body of a method, it's parameters are very similar to local variables, thus they are covered by <code>-g:vars</code>. interface methods don't have bodies, so they can't have local variables.</p>\n<p>My initial question only asked for classes, because I was not aware that there might be any difference.</p>\n<h2>Class file format</h2>\n<p>As <em>gid</em> pointed out, the class file format does not support storage of parameter names. I found a <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#43817\" rel=\"nofollow noreferrer\">section in the class file spec</a> that describes a data structure which should hold the parameter names of methods, but this is definitely not used when compiling interfaces.</p>\n<p>When compiling a class, I can't tell if the mentioned data structure is used, or if Eclipse infers the parameter names from the usage of parameters inside the method body. An expert could clarify this, but it's not that relevant I think.</p>\n"},{"tags":["java","mobile","appium","adb","docker-container"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1665841296,"post_id":74071437,"comment_id":130795522,"body_markdown":"Do you execute `mvn clean test` also inside the container?","body":"Do you execute <code>mvn clean test</code> also inside the container?"},{"owner":{"account_id":19616103,"reputation":271,"user_id":14357543,"display_name":"Rozmaryn"},"score":0,"creation_date":1665847054,"post_id":74071437,"comment_id":130796773,"body_markdown":"Yes, in a container on the local computer.","body":"Yes, in a container on the local computer."}],"answers":[{"tags":[],"owner":{"account_id":19616103,"reputation":271,"user_id":14357543,"display_name":"Rozmaryn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666959821,"creation_date":1666959821,"answer_id":74235366,"question_id":74071437,"body_markdown":"Finally, I was able to do remote tests for one device.\r\nIn the driver code it is necessary to indicate the remote host, port and device.\r\n```\r\n UiAutomator2Options options = new UiAutomator2Options();\r\n [...]\r\n options.setRemoteAdbHost(&quot;10.38.223.243&quot;);\r\n options.setAdbPort(5038);\r\n options.setUdid(udid);\r\n```\r\n\r\nThis resolved the problem described in the question.\r\nHowever, this only works when one smartphone is connected to the remote server.\r\n\r\nWhen I run the same tests on the same phone, but several phones are connected to the remote server, I have the following error:\r\n```\r\n Original error: Error executing adbExec. Original error: &#39;Command \r\n&#39;/opt/android/platform-tools/adb -H 10.38.223.243 -P 5038 -s 8e410c3e forward \r\ntcp\\:8200 tcp\\:6790&#39; exited with code 1&#39;; \r\nCommand output: adb: error: more than one device/emulator\r\n```\r\n```\r\nadb devices\r\nList of devices attached\r\n8e410c3e        device     \r\nR58N12HEW3E     device     \r\nRZCT50M61JX     device  \r\n```\r\n\r\nEhh, so far I have no idea how to solve this.\r\n\r\n","title":"Mobile tests: java + appium container + remote adb server + real mobile devices","body":"<p>Finally, I was able to do remote tests for one device.\nIn the driver code it is necessary to indicate the remote host, port and device.</p>\n<pre><code> UiAutomator2Options options = new UiAutomator2Options();\n [...]\n options.setRemoteAdbHost(&quot;10.38.223.243&quot;);\n options.setAdbPort(5038);\n options.setUdid(udid);\n</code></pre>\n<p>This resolved the problem described in the question.\nHowever, this only works when one smartphone is connected to the remote server.</p>\n<p>When I run the same tests on the same phone, but several phones are connected to the remote server, I have the following error:</p>\n<pre><code> Original error: Error executing adbExec. Original error: 'Command \n'/opt/android/platform-tools/adb -H 10.38.223.243 -P 5038 -s 8e410c3e forward \ntcp\\:8200 tcp\\:6790' exited with code 1'; \nCommand output: adb: error: more than one device/emulator\n</code></pre>\n<pre><code>adb devices\nList of devices attached\n8e410c3e        device     \nR58N12HEW3E     device     \nRZCT50M61JX     device  \n</code></pre>\n<p>Ehh, so far I have no idea how to solve this.</p>\n"},{"comments":[{"owner":{"account_id":22084389,"reputation":211938,"user_id":16343464,"display_name":"mozway"},"score":1,"creation_date":1683188566,"post_id":76171029,"comment_id":134329024,"body_markdown":"Jmerconsulting, a link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](/help/deleted-answers)","body":"Jmerconsulting, a link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. <a href=\"/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683210866,"post_id":76171029,"comment_id":134334688,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76171029/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28502613,"reputation":1,"user_id":21813665,"display_name":"Jmerconsulting"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683189601,"creation_date":1683188478,"answer_id":76171029,"question_id":74071437,"body_markdown":"You should use Selenium grid instead.\r\n\r\nhttp://appium.io/docs/en/2.0/guides/grid/","title":"Mobile tests: java + appium container + remote adb server + real mobile devices","body":"<p>You should use Selenium grid instead.</p>\n<p><a href=\"http://appium.io/docs/en/2.0/guides/grid/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/2.0/guides/grid/</a></p>\n"}],"owner":{"account_id":19616103,"reputation":271,"user_id":14357543,"display_name":"Rozmaryn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74235366,"answer_count":2,"score":0,"last_activity_date":1683189601,"creation_date":1665760795,"question_id":74071437,"body_markdown":"I am currently developing a testing system for a mobile application. \r\n\r\nI&#39;m ran the appium container on my local computer. I started  the ADB server on a separate computer in the local network. Smartphones via USB are connected to the second computer.\r\n\r\nI run the container on local computer with the command:\r\n```\r\ndocker run -d -p 4723:4723 -e REMOTE_ADB=true -e &quot;ADB_SERVER_SOCKET=tcp:10.38.223.243:5037&quot; --name container-appium-tests ross/appium-tests:v1.0.1\r\n\r\ndocker exec -it container-appium-tests sh\r\n\r\n```\r\nThen, in the container, I run the command\r\n```\r\nadb devices\r\n```\r\nEverything works beautifully and in the container I can see a list of phones connected to the remote computer:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pmy69.png\r\n\r\nThe problems start when I run the tests ``` mvn clean test -Dxml=parallel ```. The error i am getting:\r\n\r\n\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Could not find a connected Android device in 20026ms. \r\nHost info: host: &#39;8e41f735a077&#39;, ip: &#39;172.17.0.2&#39;\r\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.10.104-linuxkit&#39;, java.version: &#39;17.0.4&#39;\r\nDriver info: io.appium.java_client.AppiumDriver\r\nCommand: [null, newSession {capabilities=[{appium:newCommandTimeout=60, appium:appWaitForLaunch=true, appium:resetKeyboard=true, appium:appWaitDuration=60000, appium:appWaitActivity=pl.com.rossmann.centauros.dashboard.presentation.main.DashboardActivity, appium:automationName=UIAutomator2, appium:udid=3691688b, appium:autoGrantPermissions=true, appium:unicodeKeyboard=true, appium:ignoreHiddenApiPolicyError=true, appium:suppressKillServer=true, appium:disableWindowAnimation=true, appium:appActivity=.splash.SplashActivityV6, platformName=ANDROID, appium:enableMultiWindows=true, appium:appPackage=pl.com.rossmann.centauros}], desiredCapabilities=Capabilities {appium:appActivity: .splash.SplashActivityV6, appium:appPackage: pl.com.rossmann.centauros, appium:appWaitActivity: pl.com.rossmann.centauros.d..., appium:appWaitDuration: 60000, appium:appWaitForLaunch: true, appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:disableWindowAnimation: true, appium:enableMultiWindows: true, appium:ignoreHiddenApiPolicyError: true, appium:newCommandTimeout: 60, appium:resetKeyboard: true, appium:suppressKillServer: true, appium:udid: 3691688b, appium:unicodeKeyboard: true, platformName: ANDROID}}]\r\nCapabilities {}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:126)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:155)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:189)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n\tat configuration.drivers.Drivers.initializeAndroidDriver(Drivers.java:43)\r\n\tat basetest.BaseTest.setUp(BaseTest.java:43)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n... Removed 25 stack frames\r\n```\r\n\r\nMy class that sets the driver configuration:\r\n\r\n```\r\npublic abstract class Drivers {\r\n\r\n    protected AppiumDriver driver;\r\n    protected AppiumDriverLocalService service;\r\n\r\n    protected void initializeAndroidDriver(String udid, int appiumPort) {\r\n\r\n        UiAutomator2Options options = new UiAutomator2Options();\r\n\r\n        options.setAppWaitForLaunch(true);\r\n        options.setNewCommandTimeout(Duration.ofSeconds(60));\r\n        options.setAppWaitDuration(Duration.ofSeconds(60));\r\n        options.setPlatformName(&quot;android&quot;);\r\n        options.setUdid(udid);\r\n        options.setAutoGrantPermissions(true);\r\n        options.setAppPackage(ConfigProperties.getProperty(&quot;app.package&quot;));\r\n        options.setAppWaitActivity(ConfigProperties.getProperty(&quot;app.wait.activity&quot;));\r\n        options.setAppActivity(ConfigProperties.getProperty(&quot;app.activity&quot;));\r\n        options.setCapability(&quot;enableMultiWindows&quot;, true);\r\n        options.setDisableWindowAnimation(true);\r\n        options.setSuppressKillServer(true);\r\n        options.setIgnoreHiddenApiPolicyError(true);\r\n\r\n        options.setCapability(&quot;unicodeKeyboard&quot;, true);\r\n        options.setCapability(&quot;resetKeyboard&quot;, true);\r\n\r\n        try {\r\n            driver = new AppiumDriver(new URL(&quot;http://127.0.0.1:&quot; + appiumPort + &quot;/wd/hub&quot;), options);\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n\r\n    }\r\n\r\n    protected void runAppiumServer() {\r\n        AppiumServiceBuilder builder = new AppiumServiceBuilder()\r\n                .withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;)\r\n                .withArgument(() -&gt; &quot;--log-level&quot;, &quot;error:debug&quot;)\r\n                .withIPAddress(&quot;127.0.0.1&quot;)\r\n                .usingAnyFreePort();\r\n        service = AppiumDriverLocalService.buildService(builder);\r\n        service.start();\r\n        Logger.info(&quot;Appium has been started successfully.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nTried with different IP addresses with ports - always similar errors.\r\nI am asking for tips. \r\n\r\nThank you!","title":"Mobile tests: java + appium container + remote adb server + real mobile devices","body":"<p>I am currently developing a testing system for a mobile application.</p>\n<p>I'm ran the appium container on my local computer. I started  the ADB server on a separate computer in the local network. Smartphones via USB are connected to the second computer.</p>\n<p>I run the container on local computer with the command:</p>\n<pre><code>docker run -d -p 4723:4723 -e REMOTE_ADB=true -e &quot;ADB_SERVER_SOCKET=tcp:10.38.223.243:5037&quot; --name container-appium-tests ross/appium-tests:v1.0.1\n\ndocker exec -it container-appium-tests sh\n\n</code></pre>\n<p>Then, in the container, I run the command</p>\n<pre><code>adb devices\n</code></pre>\n<p>Everything works beautifully and in the container I can see a list of phones connected to the remote computer:</p>\n<p><a href=\"https://i.stack.imgur.com/pmy69.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmy69.png\" alt=\"enter image description here\" /></a></p>\n<p>The problems start when I run the tests <code>mvn clean test -Dxml=parallel</code>. The error i am getting:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Could not find a connected Android device in 20026ms. \nHost info: host: '8e41f735a077', ip: '172.17.0.2'\nBuild info: version: '4.5.0', revision: 'fe167b119a'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.10.104-linuxkit', java.version: '17.0.4'\nDriver info: io.appium.java_client.AppiumDriver\nCommand: [null, newSession {capabilities=[{appium:newCommandTimeout=60, appium:appWaitForLaunch=true, appium:resetKeyboard=true, appium:appWaitDuration=60000, appium:appWaitActivity=pl.com.rossmann.centauros.dashboard.presentation.main.DashboardActivity, appium:automationName=UIAutomator2, appium:udid=3691688b, appium:autoGrantPermissions=true, appium:unicodeKeyboard=true, appium:ignoreHiddenApiPolicyError=true, appium:suppressKillServer=true, appium:disableWindowAnimation=true, appium:appActivity=.splash.SplashActivityV6, platformName=ANDROID, appium:enableMultiWindows=true, appium:appPackage=pl.com.rossmann.centauros}], desiredCapabilities=Capabilities {appium:appActivity: .splash.SplashActivityV6, appium:appPackage: pl.com.rossmann.centauros, appium:appWaitActivity: pl.com.rossmann.centauros.d..., appium:appWaitDuration: 60000, appium:appWaitForLaunch: true, appium:autoGrantPermissions: true, appium:automationName: UIAutomator2, appium:disableWindowAnimation: true, appium:enableMultiWindows: true, appium:ignoreHiddenApiPolicyError: true, appium:newCommandTimeout: 60, appium:resetKeyboard: true, appium:suppressKillServer: true, appium:udid: 3691688b, appium:unicodeKeyboard: true, platformName: ANDROID}}]\nCapabilities {}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:126)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:155)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:189)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at configuration.drivers.Drivers.initializeAndroidDriver(Drivers.java:43)\n    at basetest.BaseTest.setUp(BaseTest.java:43)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n... Removed 25 stack frames\n</code></pre>\n<p>My class that sets the driver configuration:</p>\n<pre><code>public abstract class Drivers {\n\n    protected AppiumDriver driver;\n    protected AppiumDriverLocalService service;\n\n    protected void initializeAndroidDriver(String udid, int appiumPort) {\n\n        UiAutomator2Options options = new UiAutomator2Options();\n\n        options.setAppWaitForLaunch(true);\n        options.setNewCommandTimeout(Duration.ofSeconds(60));\n        options.setAppWaitDuration(Duration.ofSeconds(60));\n        options.setPlatformName(&quot;android&quot;);\n        options.setUdid(udid);\n        options.setAutoGrantPermissions(true);\n        options.setAppPackage(ConfigProperties.getProperty(&quot;app.package&quot;));\n        options.setAppWaitActivity(ConfigProperties.getProperty(&quot;app.wait.activity&quot;));\n        options.setAppActivity(ConfigProperties.getProperty(&quot;app.activity&quot;));\n        options.setCapability(&quot;enableMultiWindows&quot;, true);\n        options.setDisableWindowAnimation(true);\n        options.setSuppressKillServer(true);\n        options.setIgnoreHiddenApiPolicyError(true);\n\n        options.setCapability(&quot;unicodeKeyboard&quot;, true);\n        options.setCapability(&quot;resetKeyboard&quot;, true);\n\n        try {\n            driver = new AppiumDriver(new URL(&quot;http://127.0.0.1:&quot; + appiumPort + &quot;/wd/hub&quot;), options);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        }\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n\n    }\n\n    protected void runAppiumServer() {\n        AppiumServiceBuilder builder = new AppiumServiceBuilder()\n                .withArgument(() -&gt; &quot;--base-path&quot;, &quot;/wd/hub&quot;)\n                .withArgument(() -&gt; &quot;--log-level&quot;, &quot;error:debug&quot;)\n                .withIPAddress(&quot;127.0.0.1&quot;)\n                .usingAnyFreePort();\n        service = AppiumDriverLocalService.buildService(builder);\n        service.start();\n        Logger.info(&quot;Appium has been started successfully.&quot;);\n    }\n}\n</code></pre>\n<p>Tried with different IP addresses with ports - always similar errors.\nI am asking for tips.</p>\n<p>Thank you!</p>\n"},{"tags":["java","ssl","dns","aws-api-gateway"],"comments":[{"owner":{"account_id":352779,"reputation":1130,"user_id":690041,"display_name":"Denis Weerasiri"},"score":1,"creation_date":1550882831,"post_id":54835253,"comment_id":96448743,"body_markdown":"Based on the error, it looks like the back end return the certificate for the domain name &quot;*.execute-api.us-east-1.amazonaws.com&quot;. Most probably this is due to some issue with the Route53 config (just guessing at the moment). 1. Can you post the verbose output (curl -vvv) of the successful request/response? 2. Also are you using CNAME alias  record or A Alias record to point your custom domain name to the target endpoint config? 3. What is the target endpoint you have configured in the Route53 (does it start with d-..., OR the api endpoint such as abcd123.execute-api.....)?","body":"Based on the error, it looks like the back end return the certificate for the domain name &quot;*.execute-api.us-east-1.amazonaws.com&quot;. Most probably this is due to some issue with the Route53 config (just guessing at the moment). 1. Can you post the verbose output (curl -vvv) of the successful request/response? 2. Also are you using CNAME alias  record or A Alias record to point your custom domain name to the target endpoint config? 3. What is the target endpoint you have configured in the Route53 (does it start with d-..., OR the api endpoint such as abcd123.execute-api.....)?"},{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":4,"creation_date":1550908446,"post_id":54835253,"comment_id":96452686,"body_markdown":"Another possible cause would be the Java HTTPS code being old enough that it doesn&#39;t properly send server name identification (SNI).  From a command prompt try `true | openssl s_client -connect custom.example.com:443 -showcerts | openssl x509 -text -noout`  If you get the `*.execute-api` certificate, repeat the command exactly the same, but with `-servername custom.example.com` added before `-showcerts`.  Otherwise, repeat with `-noservername` before `-showcerts`.  If you can trigger the cert to change from one to the other like this, you have an issue with SNI rather than DNS.","body":"Another possible cause would be the Java HTTPS code being old enough that it doesn&#39;t properly send server name identification (SNI).  From a command prompt try <code>true | openssl s_client -connect custom.example.com:443 -showcerts | openssl x509 -text -noout</code>  If you get the <code>*.execute-api</code> certificate, repeat the command exactly the same, but with <code>-servername custom.example.com</code> added before <code>-showcerts</code>.  Otherwise, repeat with <code>-noservername</code> before <code>-showcerts</code>.  If you can trigger the cert to change from one to the other like this, you have an issue with SNI rather than DNS."},{"owner":{"account_id":1305314,"reputation":85,"user_id":1254416,"display_name":"feanor114"},"score":0,"creation_date":1551105133,"post_id":54835253,"comment_id":96507316,"body_markdown":"@Michael-sqlbot I think you may be right was able to trigger the cert to change with those commands. I found the java application is currently using java version 1.7.0_201 though. From some quick searches I&#39;ve so far only seen that SNI issue mentioned related to some older versions of java 8 not 7 though. Do you know if that issue was also in java 7? Either way the test you provided seems to indicate the SNI issue.","body":"@Michael-sqlbot I think you may be right was able to trigger the cert to change with those commands. I found the java application is currently using java version 1.7.0_201 though. From some quick searches I&#39;ve so far only seen that SNI issue mentioned related to some older versions of java 8 not 7 though. Do you know if that issue was also in java 7? Either way the test you provided seems to indicate the SNI issue."},{"owner":{"account_id":1845098,"reputation":171677,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1551107438,"post_id":54835253,"comment_id":96508805,"body_markdown":"@feanor114 I&#39;m not sure about Java.  [This](https://stackoverflow.com/a/14884941/1695906) *seems* to indicate that it&#39;s present in 7 and should be enabled by default, which is not exactly what I was hoping to see... but if you actually saw the cert on the custom.example.com endpoint change from custom.example.com back to execute-api based on how you used (or omitted) `-[no]servername`, then that seems like a really compelling indicator that you are getting the wrong cert because SNI is not enabled on the client code, so API Gateway returns a generic default certificate.","body":"@feanor114 I&#39;m not sure about Java.  <a href=\"https://stackoverflow.com/a/14884941/1695906\">This</a> <i>seems</i> to indicate that it&#39;s present in 7 and should be enabled by default, which is not exactly what I was hoping to see... but if you actually saw the cert on the custom.example.com endpoint change from custom.example.com back to execute-api based on how you used (or omitted) <code>-[no]servername</code>, then that seems like a really compelling indicator that you are getting the wrong cert because SNI is not enabled on the client code, so API Gateway returns a generic default certificate."},{"owner":{"account_id":1305314,"reputation":85,"user_id":1254416,"display_name":"feanor114"},"score":0,"creation_date":1551278949,"post_id":54835253,"comment_id":96583231,"body_markdown":"@Michael-sqlbot updating the Java version resolved the issue. Thank you for your help","body":"@Michael-sqlbot updating the Java version resolved the issue. Thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":2296792,"reputation":315,"user_id":2018043,"display_name":"Romain Spinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683189569,"creation_date":1683189569,"answer_id":76171190,"question_id":54835253,"body_markdown":"I was exactly in the same situation, and I changed my Route53 record routing to the API endpoint from **CNAME** to **A** (by following the [AWS documentation][1]), and that solved the issue.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-api-gateway.html","title":"AWS API Gateway custom domain hostname doesn&#39;t match certificate","body":"<p>I was exactly in the same situation, and I changed my Route53 record routing to the API endpoint from <strong>CNAME</strong> to <strong>A</strong> (by following the <a href=\"https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-to-api-gateway.html\" rel=\"nofollow noreferrer\">AWS documentation</a>), and that solved the issue.</p>\n"}],"owner":{"account_id":1305314,"reputation":85,"user_id":1254416,"display_name":"feanor114"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683189569,"creation_date":1550869899,"question_id":54835253,"body_markdown":"I have an api gateway setup. It has a custom domain name setup on a regional endpoint and is using a certificate in ACM. I am able to make successful requests to the custom name from my local machine and even with curl from the remote machine I&#39;m attempting to use. However, from the java application running on the remote machine I see this\r\n\r\n    ! javax.net.ssl.SSLException: hostname in certificate didn&#39;t match: &lt;my.custom.domain.name.com&gt; != &lt;*.execute-api.us-east-1.amazonaws.com&gt; OR &lt;*.execute-api.us-east-1.amazonaws.com&gt;\r\n\r\n\r\nI have a route53 alias record pointing to the target domain name of the custom domain name endpoint configuration.\r\n\r\nAny idea how to resolve this without just removing host checking from the java application.\r\n","title":"AWS API Gateway custom domain hostname doesn&#39;t match certificate","body":"<p>I have an api gateway setup. It has a custom domain name setup on a regional endpoint and is using a certificate in ACM. I am able to make successful requests to the custom name from my local machine and even with curl from the remote machine I'm attempting to use. However, from the java application running on the remote machine I see this</p>\n\n<pre><code>! javax.net.ssl.SSLException: hostname in certificate didn't match: &lt;my.custom.domain.name.com&gt; != &lt;*.execute-api.us-east-1.amazonaws.com&gt; OR &lt;*.execute-api.us-east-1.amazonaws.com&gt;\n</code></pre>\n\n<p>I have a route53 alias record pointing to the target domain name of the custom domain name endpoint configuration.</p>\n\n<p>Any idea how to resolve this without just removing host checking from the java application.</p>\n"},{"tags":["java","spring","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683189866,"post_id":76171124,"comment_id":134329319,"body_markdown":"You have a version of ASM on the classpath which does not support Java 18 (class version 62 means Java 18). Spring 5.0 is relatively &quot;old&quot;, and it is likely it simply doesn&#39;t support such a new Java version, you may want to consider upgrading to Spring 5.3.","body":"You have a version of ASM on the classpath which does not support Java 18 (class version 62 means Java 18). Spring 5.0 is relatively &quot;old&quot;, and it is likely it simply doesn&#39;t support such a new Java version, you may want to consider upgrading to Spring 5.3."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683190258,"post_id":76171124,"comment_id":134329405,"body_markdown":"For Java 18 support, you need at least ASM version 9.2, but upgrading to that version will not necessarily make Spring 5.0 work on Java 18. As an aside, Java 18 went out of support a year ago. I&#39;d suggest sticking to an LTS version like Java 17.","body":"For Java 18 support, you need at least ASM version 9.2, but upgrading to that version will not necessarily make Spring 5.0 work on Java 18. As an aside, Java 18 went out of support a year ago. I&#39;d suggest sticking to an LTS version like Java 17."}],"owner":{"account_id":13044317,"reputation":1,"user_id":14278586,"display_name":"Manoj Spyder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683189181,"creation_date":1683189181,"question_id":76171124,"body_markdown":"I am new to spring and trying to learn Spring MVC, jdk-17, tomcat-9.0.74, spring-5.0.38\r\n\r\n\r\n\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [FrontController] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\torg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n\r\n\r\n\r\nRoot Cause\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse \r\n\r\norg.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse Workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp2\\wtpwebapps\\Spring MVC\\WEB-INF\\classes\\controllers\\First.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 62\r\n\torg.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)\r\n\r\n\r\n\r\n\r\n\torg.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\r\n\torg.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\torg.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\torg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\r\n\torg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\r\n\torg.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\r\n\torg.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\r\n\torg.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\r\n\torg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\r\n\torg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\r\n\torg.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\r\n\t\r\n\r\nI have tried downgrading jdk to 8, 17 from 18. But still no use.","title":"ASM class reader failed to parse - due to class file version that isnt supported","body":"<p>I am new to spring and trying to learn Spring MVC, jdk-17, tomcat-9.0.74, spring-5.0.38</p>\n<p>javax.servlet.ServletException: Servlet.init() for servlet [FrontController] threw exception\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\norg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:673)\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\norg.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\norg.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\njava.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>Root Cause</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse</p>\n<p>org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\dhine\\OneDrive\\Documents\\Eclipse Workspace.metadata.plugins\\org.eclipse.wst.server.core\\tmp2\\wtpwebapps\\Spring MVC\\WEB-INF\\classes\\controllers\\First.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 62\norg.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:60)</p>\n<pre><code>org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:49)\norg.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\norg.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\norg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:429)\norg.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:315)\norg.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)\norg.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:90)\norg.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:74)\norg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1391)\norg.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1371)\norg.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:179)\n</code></pre>\n<p>I have tried downgrading jdk to 8, 17 from 18. But still no use.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1683187886,"post_id":76170898,"comment_id":134328863,"body_markdown":"For `HashMap`, CMEs don&#39;t *have* be thrown. It&#39;s on a &quot;best-effort basis&quot;. As soon as you start iterating and modifying at the same time, the behaviour is undefined.","body":"For <code>HashMap</code>, CMEs don&#39;t <i>have</i> be thrown. It&#39;s on a &quot;best-effort basis&quot;. As soon as you start iterating and modifying at the same time, the behaviour is undefined."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1683188019,"post_id":76170898,"comment_id":134328888,"body_markdown":"See [this answer of mine](https://stackoverflow.com/a/73341695/5133585), the [documentation for `HashMap`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html) has a similar paragraph as the one quoted in that asnwer. While you&#39;re at that page, check out the documentation for `values()`, which is also relevant.","body":"See <a href=\"https://stackoverflow.com/a/73341695/5133585\">this answer of mine</a>, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">documentation for <code>HashMap</code></a> has a similar paragraph as the one quoted in that asnwer. While you&#39;re at that page, check out the documentation for <code>values()</code>, which is also relevant."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1683189468,"post_id":76170898,"comment_id":134329225,"body_markdown":"Add more than one value to the map (e.g. `xx.put(3L, &quot;2&quot;);`), and all of them will produce an exception; on the other hand, if you add `xx.put(2L, &quot;2&quot;);` the first and third example will also not produce an exception). This has to do with the mechanism used to detect the modification.","body":"Add more than one value to the map (e.g. <code>xx.put(3L, &quot;2&quot;);</code>), and all of them will produce an exception; on the other hand, if you add <code>xx.put(2L, &quot;2&quot;);</code> the first and third example will also not produce an exception). This has to do with the mechanism used to detect the modification."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683269994,"post_id":76170898,"comment_id":134343887,"body_markdown":"Usually, `forEach` methods can detect changes more reliably because the operation has a well-defined end (when `forEach` returns), so there can be a final check. In contrast, the for-each loop uses an `Iterator` which has no mechanism to tell the implementation when the iteration is over. The caller may abandon the iterator at any time. • But updating an existing key is not a structural modification at all. And, by the way, calling `forEach` on a `Collection` is not using the `Stream` API.","body":"Usually, <code>forEach</code> methods can detect changes more reliably because the operation has a well-defined end (when <code>forEach</code> returns), so there can be a final check. In contrast, the for-each loop uses an <code>Iterator</code> which has no mechanism to tell the implementation when the iteration is over. The caller may abandon the iterator at any time. • But updating an existing key is not a structural modification at all. And, by the way, calling <code>forEach</code> on a <code>Collection</code> is not using the <code>Stream</code> API."}],"owner":{"account_id":317363,"reputation":1074,"user_id":634012,"display_name":"Fatih Arslan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683189600,"answer_count":0,"score":0,"last_activity_date":1683189027,"creation_date":1683187581,"question_id":76170898,"body_markdown":"I am trying to understand the below examples and how they behave and they do not really behave as I expect. \r\n\r\nExample 1: \r\n```     \r\nMap&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\r\nxx.put(1L, &quot;1&quot;);\r\n//Does not throw exception even if the map during iteration is changed\r\nfor (String value : xx.values()) {\r\n    xx.put(Long.parseLong(value) +1 , value + 1);\r\n}\r\n```\r\nExample 2: \r\n\r\n```\r\nMap&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\r\nxx.put(1L, &quot;1&quot;);\r\n// same operation in stream api and throws exception\r\nxx.values()\r\n        .forEach(value -&gt; {\r\n            xx.put( Long.parseLong(value) + 1, value + 1);\r\n        });\r\n```\r\nExample 3: \r\n\r\n\r\n```\r\nMap&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\r\nxx.put(1L, &quot;1&quot;);\r\n// stream api this time does not put a new value but updates the former value and does not throw Concurrent Modification exception\r\nxx.values()\r\n        .forEach(value -&gt; {\r\n            xx.put( Long.parseLong(value), value + 1);\r\n        });\r\n```\r\n\r\nI was pretty confused with the behavior here. I expect first one to throw exception because collection is changed during iteration. I would expect second and third example to throw exception. After seeing the first example, I would expect the second example not to throw exception because it is basically the same thing with first one and first one does not throw exception. I would expect third example to throw exception but it does not.  \r\n\r\nCan someone explain what is happening here? ","title":"Concurrent Modification exception in streams vs iteration","body":"<p>I am trying to understand the below examples and how they behave and they do not really behave as I expect.</p>\n<p>Example 1:</p>\n<pre><code>Map&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\nxx.put(1L, &quot;1&quot;);\n//Does not throw exception even if the map during iteration is changed\nfor (String value : xx.values()) {\n    xx.put(Long.parseLong(value) +1 , value + 1);\n}\n</code></pre>\n<p>Example 2:</p>\n<pre><code>Map&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\nxx.put(1L, &quot;1&quot;);\n// same operation in stream api and throws exception\nxx.values()\n        .forEach(value -&gt; {\n            xx.put( Long.parseLong(value) + 1, value + 1);\n        });\n</code></pre>\n<p>Example 3:</p>\n<pre><code>Map&lt;Long, String&gt; xx = new HashMap&lt;&gt;();\nxx.put(1L, &quot;1&quot;);\n// stream api this time does not put a new value but updates the former value and does not throw Concurrent Modification exception\nxx.values()\n        .forEach(value -&gt; {\n            xx.put( Long.parseLong(value), value + 1);\n        });\n</code></pre>\n<p>I was pretty confused with the behavior here. I expect first one to throw exception because collection is changed during iteration. I would expect second and third example to throw exception. After seeing the first example, I would expect the second example not to throw exception because it is basically the same thing with first one and first one does not throw exception. I would expect third example to throw exception but it does not.</p>\n<p>Can someone explain what is happening here?</p>\n"},{"tags":["java","angular","xml","soap","frontend"],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683188686,"creation_date":1683188686,"answer_id":76171050,"question_id":76145195,"body_markdown":"Spring-Boot is the best and easy way to create ReST APIs. Create a simple spring-boot project. Define a ReST API endpoint accepting user inputs from the front end.\r\n\r\nAt a high level, you can run your spring-boot app on PORT 6060 and your angular app on PORT 8080. PORT can be anything else for both apps.\r\n\r\nCORS changes:\r\n\r\nIn the spring boot app, you either need to disable CORS or pass angular app-related CORS information to accept any request from the front end.\r\n\r\nIf you want to avoid CORS then go for a spring-mvc based approach in your spring boot app. Create a form in HTML accepting user inputs and passing that info to a ReST API endpoint either by submitting a form or using ajax call.","title":"How to get values from a form in frontend and pass it to JAVA and display back in frontend using Angular","body":"<p>Spring-Boot is the best and easy way to create ReST APIs. Create a simple spring-boot project. Define a ReST API endpoint accepting user inputs from the front end.</p>\n<p>At a high level, you can run your spring-boot app on PORT 6060 and your angular app on PORT 8080. PORT can be anything else for both apps.</p>\n<p>CORS changes:</p>\n<p>In the spring boot app, you either need to disable CORS or pass angular app-related CORS information to accept any request from the front end.</p>\n<p>If you want to avoid CORS then go for a spring-mvc based approach in your spring boot app. Create a form in HTML accepting user inputs and passing that info to a ReST API endpoint either by submitting a form or using ajax call.</p>\n"}],"owner":{"account_id":9121850,"reputation":781,"user_id":6787022,"accept_rate":100,"display_name":"Hanz Cheah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683188686,"creation_date":1682923930,"question_id":76145195,"body_markdown":"This is a payment verification SOAP XML API that I managed to get it working in JAVA. The JAVA code will post XML request to a payment API using XML with SOAPAction headers and Body.  Then it will get a response from the API. \r\n\r\nHowever I wish to create a simple Form in the Frontend using Angular (If this is the right approach) get the values from user input like `CardNum, CardType, CardCVC` and sending the values back to JAVA and the JAVA will then get the XML Response and display back to the Frontend webpage like `Transaction ID, Order Status, Order Reason, Transaction Status Payment`. I am still new in JAVA and Angular. Any pointers is greatly appreciated. \r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.DataOutputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.StringReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    import org.w3c.dom.NodeList;\r\n    import org.xml.sax.InputSource;\r\n    public class Send_XML_Post_Request_1 {\r\n        public static void main(String[] args) {\r\n            try {\r\n                 String url = &quot;https://onepay-services.uat.aws.emagin.eu/api/soap/payment&quot;;\r\n                 URL obj = new URL(url);\r\n                 HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n                 con.setRequestMethod(&quot;POST&quot;);\r\n                 con.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml&quot;);\r\n                 con.setRequestProperty(&quot;SOAPAction&quot;,&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0/authorize&quot;);\r\n                 String CardType=&quot;VISA&quot;;\r\n                 String CardNum = &quot;4444333322221111&quot;;\r\n                 String CardCVC = &quot;425&quot;;\r\n                 String xml = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot;\r\n                            + &quot;  xmlns:ns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot;&gt;&quot;\r\n                        + &quot;&lt;soapenv:Header/&gt;&quot;\r\n                        + &quot;    &lt;soapenv:Body&gt;&quot;\r\n                        + &quot;        &lt;tns:authorize version=\\&quot;1.0\\&quot; xmlns:tns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot; xmlns:emagin=\\&quot;http://www.mondial-assistance.com/ecommerce/schema/\\&quot;&gt;&quot;\r\n                        + &quot;            &lt;tns:globalRequestId&gt;paymentOrder&lt;/tns:globalRequestId&gt;&quot;\r\n                        + &quot;            &lt;tns:authentication&gt;&quot;\r\n                        + &quot;                &lt;tns:userId&gt;AWC_LIFEEUR&lt;/tns:userId&gt;&quot;\r\n                        + &quot;                &lt;tns:password&gt;awclifeeur$2018&lt;/tns:password&gt;&quot;\r\n                        + &quot;            &lt;/tns:authentication&gt;&quot;\r\n                        + &quot;            &lt;tns:accountId&gt;ACCOUNT_AWC_LIFEEUR&lt;/tns:accountId&gt;&quot;\r\n                        + &quot;            &lt;tns:customerInformation&gt;&quot;\r\n                        + &quot;                &lt;tns:partnerCode&gt;ALS&lt;/tns:partnerCode&gt;&quot;\r\n                        + &quot;                &lt;tns:buCode&gt;CH&lt;/tns:buCode&gt;&quot;\r\n                        + &quot;            &lt;/tns:customerInformation&gt;&quot;\r\n                        + &quot;            &lt;tns:paymentInformation&gt;&quot;\r\n                        + &quot;                &lt;tns:paymentHolder&gt;&quot;\r\n                        + &quot;                    &lt;tns:name&gt;Charlie&lt;/tns:name&gt;&quot;\r\n                        + &quot;                    &lt;tns:email&gt;charlie@allianz.com&lt;/tns:email&gt;&quot;\r\n                        + &quot;                    &lt;tns:address&gt;&quot;\r\n                        + &quot;                        &lt;tns:address&gt;11/22 Street1 Road1&lt;/tns:address&gt;&quot;\r\n                        + &quot;                        &lt;tns:city&gt;Penang&lt;/tns:city&gt;&quot;\r\n                        + &quot;                        &lt;tns:country&gt;ID&lt;/tns:country&gt;&quot;\r\n                        + &quot;                    &lt;/tns:address&gt;&quot;\r\n                        + &quot;                &lt;/tns:paymentHolder&gt;&quot;\r\n                        + &quot;                &lt;tns:amount currency=\\&quot;USD\\&quot;&gt;33.33&lt;/tns:amount&gt;&quot;\r\n                        + &quot;                &lt;tns:cardInformation&gt;&quot;\r\n                        + &quot;                    &lt;tns:cardType&gt;&quot; + CardType + &quot;&lt;/tns:cardType&gt;&quot;\r\n                        + &quot;                    &lt;tns:cardNumber&gt;&quot; + CardNum +&quot;&lt;/tns:cardNumber&gt;&quot;\r\n                        + &quot;                    &lt;tns:cvc&gt;&quot; + CardCVC + &quot;&lt;/tns:cvc&gt;&quot;\r\n                        + &quot;                    &lt;tns:expiryDate month=\\&quot;10\\&quot; year=\\&quot;2023\\&quot;/&gt;&quot;\r\n                        + &quot;                &lt;/tns:cardInformation&gt;&quot;\r\n                        + &quot;                &lt;tns:shopperInformation&gt;&quot;\r\n                        + &quot;                    &lt;tns:browser&gt;&quot;\r\n                        + &quot;                        &lt;tns:userAgentHeader&gt;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36&lt;/tns:userAgentHeader&gt;&quot;\r\n                        + &quot;                        &lt;tns:acceptHeader&gt;application/json, text/plain, */*&lt;/tns:acceptHeader&gt;&quot;\r\n                        + &quot;                    &lt;/tns:browser&gt;&quot;\r\n                        + &quot;                    &lt;tns:ipAddress&gt;103.233.174.2&lt;/tns:ipAddress&gt;&quot;\r\n                        + &quot;                    &lt;tns:sessionId&gt;1&lt;/tns:sessionId&gt;&quot;\r\n                        + &quot;                &lt;/tns:shopperInformation&gt;&quot;\r\n                        + &quot;            &lt;/tns:paymentInformation&gt;&quot;\r\n                        + &quot;        &lt;/tns:authorize&gt;&quot;\r\n                        + &quot;    &lt;/soapenv:Body&gt;&quot;\r\n                        + &quot;&lt;/soapenv:Envelope&gt;&quot;;\r\n                  \r\n                  con.setDoOutput(true);\r\n                  DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n                  wr.writeBytes(xml);\r\n                  wr.flush();\r\n                  wr.close();\r\n                  String responseStatus = con.getResponseMessage();\r\n                  System.out.println(responseStatus);\r\n                  BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n                  String inputLine;\r\n                  StringBuffer response = new StringBuffer();\r\n                  while ((inputLine = in.readLine()) != null) {\r\n                      response.append(inputLine);\r\n                  }\r\n                  in.close();\r\n                  //System.out.println(&quot;response:&quot; + response.toString());\r\n                  \r\n                  Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder()\r\n                    .parse(new InputSource(new StringReader(response.toString())));\r\n                  NodeList errNodes = doc.getElementsByTagName(&quot;ns2:paymentStatus&quot;);\r\n                  if (errNodes.getLength() &gt; 0) {\r\n                      Element err = (Element)errNodes.item(0);\r\n                      System.out.println(&quot;Transaction ID -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionId&quot;).item(0).getTextContent());\r\n                      System.out.println(&quot;Order Status -&quot;+err.getElementsByTagName(&quot;ns2:orderStatus&quot;).item(0).getTextContent());\r\n                      System.out.println(&quot;Order Reason -&quot;+err.getElementsByTagName(&quot;ns2:orderReason&quot;).item(0).getTextContent());\r\n                      System.out.println(&quot;Transaction Status -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionStatus&quot;).item(0).getTextContent());\r\n                  } else {\r\n                      // success\r\n                  }\r\n\r\n              } catch (Exception e) {\r\n                  System.out.println(e);\r\n              }","title":"How to get values from a form in frontend and pass it to JAVA and display back in frontend using Angular","body":"<p>This is a payment verification SOAP XML API that I managed to get it working in JAVA. The JAVA code will post XML request to a payment API using XML with SOAPAction headers and Body.  Then it will get a response from the API.</p>\n<p>However I wish to create a simple Form in the Frontend using Angular (If this is the right approach) get the values from user input like <code>CardNum, CardType, CardCVC</code> and sending the values back to JAVA and the JAVA will then get the XML Response and display back to the Frontend webpage like <code>Transaction ID, Order Status, Order Reason, Transaction Status Payment</code>. I am still new in JAVA and Angular. Any pointers is greatly appreciated.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.InputStreamReader;\nimport java.io.StringReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.NodeList;\nimport org.xml.sax.InputSource;\npublic class Send_XML_Post_Request_1 {\n    public static void main(String[] args) {\n        try {\n             String url = &quot;https://onepay-services.uat.aws.emagin.eu/api/soap/payment&quot;;\n             URL obj = new URL(url);\n             HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n             con.setRequestMethod(&quot;POST&quot;);\n             con.setRequestProperty(&quot;Content-Type&quot;,&quot;text/xml&quot;);\n             con.setRequestProperty(&quot;SOAPAction&quot;,&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0/authorize&quot;);\n             String CardType=&quot;VISA&quot;;\n             String CardNum = &quot;4444333322221111&quot;;\n             String CardCVC = &quot;425&quot;;\n             String xml = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot;\n                        + &quot;  xmlns:ns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot;&gt;&quot;\n                    + &quot;&lt;soapenv:Header/&gt;&quot;\n                    + &quot;    &lt;soapenv:Body&gt;&quot;\n                    + &quot;        &lt;tns:authorize version=\\&quot;1.0\\&quot; xmlns:tns=\\&quot;http://www.allianz-assistance.com/emagin/services/PaymentService/1.0\\&quot; xmlns:emagin=\\&quot;http://www.mondial-assistance.com/ecommerce/schema/\\&quot;&gt;&quot;\n                    + &quot;            &lt;tns:globalRequestId&gt;paymentOrder&lt;/tns:globalRequestId&gt;&quot;\n                    + &quot;            &lt;tns:authentication&gt;&quot;\n                    + &quot;                &lt;tns:userId&gt;AWC_LIFEEUR&lt;/tns:userId&gt;&quot;\n                    + &quot;                &lt;tns:password&gt;awclifeeur$2018&lt;/tns:password&gt;&quot;\n                    + &quot;            &lt;/tns:authentication&gt;&quot;\n                    + &quot;            &lt;tns:accountId&gt;ACCOUNT_AWC_LIFEEUR&lt;/tns:accountId&gt;&quot;\n                    + &quot;            &lt;tns:customerInformation&gt;&quot;\n                    + &quot;                &lt;tns:partnerCode&gt;ALS&lt;/tns:partnerCode&gt;&quot;\n                    + &quot;                &lt;tns:buCode&gt;CH&lt;/tns:buCode&gt;&quot;\n                    + &quot;            &lt;/tns:customerInformation&gt;&quot;\n                    + &quot;            &lt;tns:paymentInformation&gt;&quot;\n                    + &quot;                &lt;tns:paymentHolder&gt;&quot;\n                    + &quot;                    &lt;tns:name&gt;Charlie&lt;/tns:name&gt;&quot;\n                    + &quot;                    &lt;tns:email&gt;charlie@allianz.com&lt;/tns:email&gt;&quot;\n                    + &quot;                    &lt;tns:address&gt;&quot;\n                    + &quot;                        &lt;tns:address&gt;11/22 Street1 Road1&lt;/tns:address&gt;&quot;\n                    + &quot;                        &lt;tns:city&gt;Penang&lt;/tns:city&gt;&quot;\n                    + &quot;                        &lt;tns:country&gt;ID&lt;/tns:country&gt;&quot;\n                    + &quot;                    &lt;/tns:address&gt;&quot;\n                    + &quot;                &lt;/tns:paymentHolder&gt;&quot;\n                    + &quot;                &lt;tns:amount currency=\\&quot;USD\\&quot;&gt;33.33&lt;/tns:amount&gt;&quot;\n                    + &quot;                &lt;tns:cardInformation&gt;&quot;\n                    + &quot;                    &lt;tns:cardType&gt;&quot; + CardType + &quot;&lt;/tns:cardType&gt;&quot;\n                    + &quot;                    &lt;tns:cardNumber&gt;&quot; + CardNum +&quot;&lt;/tns:cardNumber&gt;&quot;\n                    + &quot;                    &lt;tns:cvc&gt;&quot; + CardCVC + &quot;&lt;/tns:cvc&gt;&quot;\n                    + &quot;                    &lt;tns:expiryDate month=\\&quot;10\\&quot; year=\\&quot;2023\\&quot;/&gt;&quot;\n                    + &quot;                &lt;/tns:cardInformation&gt;&quot;\n                    + &quot;                &lt;tns:shopperInformation&gt;&quot;\n                    + &quot;                    &lt;tns:browser&gt;&quot;\n                    + &quot;                        &lt;tns:userAgentHeader&gt;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36&lt;/tns:userAgentHeader&gt;&quot;\n                    + &quot;                        &lt;tns:acceptHeader&gt;application/json, text/plain, */*&lt;/tns:acceptHeader&gt;&quot;\n                    + &quot;                    &lt;/tns:browser&gt;&quot;\n                    + &quot;                    &lt;tns:ipAddress&gt;103.233.174.2&lt;/tns:ipAddress&gt;&quot;\n                    + &quot;                    &lt;tns:sessionId&gt;1&lt;/tns:sessionId&gt;&quot;\n                    + &quot;                &lt;/tns:shopperInformation&gt;&quot;\n                    + &quot;            &lt;/tns:paymentInformation&gt;&quot;\n                    + &quot;        &lt;/tns:authorize&gt;&quot;\n                    + &quot;    &lt;/soapenv:Body&gt;&quot;\n                    + &quot;&lt;/soapenv:Envelope&gt;&quot;;\n              \n              con.setDoOutput(true);\n              DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n              wr.writeBytes(xml);\n              wr.flush();\n              wr.close();\n              String responseStatus = con.getResponseMessage();\n              System.out.println(responseStatus);\n              BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n              String inputLine;\n              StringBuffer response = new StringBuffer();\n              while ((inputLine = in.readLine()) != null) {\n                  response.append(inputLine);\n              }\n              in.close();\n              //System.out.println(&quot;response:&quot; + response.toString());\n              \n              Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder()\n                .parse(new InputSource(new StringReader(response.toString())));\n              NodeList errNodes = doc.getElementsByTagName(&quot;ns2:paymentStatus&quot;);\n              if (errNodes.getLength() &gt; 0) {\n                  Element err = (Element)errNodes.item(0);\n                  System.out.println(&quot;Transaction ID -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionId&quot;).item(0).getTextContent());\n                  System.out.println(&quot;Order Status -&quot;+err.getElementsByTagName(&quot;ns2:orderStatus&quot;).item(0).getTextContent());\n                  System.out.println(&quot;Order Reason -&quot;+err.getElementsByTagName(&quot;ns2:orderReason&quot;).item(0).getTextContent());\n                  System.out.println(&quot;Transaction Status -&quot;+err.getElementsByTagName(&quot;ns2:paymentTransactionStatus&quot;).item(0).getTextContent());\n              } else {\n                  // success\n              }\n\n          } catch (Exception e) {\n              System.out.println(e);\n          }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","springfox"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1627433108,"post_id":68553077,"comment_id":121153496,"body_markdown":"since you have written a custom filter, you are on your own. Then you have to do all the exclusions by yourself. Spring has had support for Baerer tokens for 3 years now with filters that you can customize. No idea why you would write a custom security solution from scratch which is usually concidered bad practice https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture i suggest when you are looking around on the internet that you look at the reference first","body":"since you have written a custom filter, you are on your own. Then you have to do all the exclusions by yourself. Spring has had support for Baerer tokens for 3 years now with filters that you can customize. No idea why you would write a custom security solution from scratch which is usually concidered bad practice <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#oauth2resourceserver-jwt-architecture\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/reference/&hellip;</a> i suggest when you are looking around on the internet that you look at the reference first"},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1627437454,"post_id":68553077,"comment_id":121154163,"body_markdown":"@Toerktumlare As far as I understand, for what I&#39;m trying to do using an authenticationfilter is a pretty common pattern: https://stackoverflow.com/questions/49731231/authentication-with-custom-token-in-spring-boot and https://stackoverflow.com/questions/42354138/spring-security-token-based-authentication. I see articles using this pattern well into 2020 so it doesn&#39;t seem so crazy to me. Granted, I&#39;m not looking for my bearer token to be in my security context, I want other specific header values (like IAT) in my security context at the controller level; hence the filter.","body":"@Toerktumlare As far as I understand, for what I&#39;m trying to do using an authenticationfilter is a pretty common pattern: <a href=\"https://stackoverflow.com/questions/49731231/authentication-with-custom-token-in-spring-boot\" title=\"authentication with custom token in spring boot\">stackoverflow.com/questions/49731231/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/42354138/spring-security-token-based-authentication\" title=\"spring security token based authentication\">stackoverflow.com/questions/42354138/&hellip;</a>. I see articles using this pattern well into 2020 so it doesn&#39;t seem so crazy to me. Granted, I&#39;m not looking for my bearer token to be in my security context, I want other specific header values (like IAT) in my security context at the controller level; hence the filter."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1627467851,"post_id":68553077,"comment_id":121162522,"body_markdown":"My jwt token auth is being done at a higher level at the api gateway layer, with a completely separate application.","body":"My jwt token auth is being done at a higher level at the api gateway layer, with a completely separate application."}],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1627479156,"creation_date":1627479156,"answer_id":68561393,"question_id":68553077,"body_markdown":"In your custom `AuthenticationFilter` you can define a `RequestMatcher` and use it before doing your logic, like so: \r\n```java\r\npublic class AuthenticationFilter extends OncePerRequestFilter {\r\n    private final RequestMatcher ignoredPaths = new AntPathRequestMatcher(&quot;/swagger-ui&quot;);\r\n\r\n    @Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\r\n        if (this.ignoredPaths.matches(request)) { \r\n             filterChain.doFilter(request, response);\r\n             return;\r\n        }\r\n\r\n        // do your logic\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```","title":"Disabling a filter for only a few paths","body":"<p>In your custom <code>AuthenticationFilter</code> you can define a <code>RequestMatcher</code> and use it before doing your logic, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthenticationFilter extends OncePerRequestFilter {\n    private final RequestMatcher ignoredPaths = new AntPathRequestMatcher(&quot;/swagger-ui&quot;);\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) {\n        if (this.ignoredPaths.matches(request)) { \n             filterChain.doFilter(request, response);\n             return;\n        }\n\n        // do your logic\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656589731,"creation_date":1656589731,"answer_id":72815265,"question_id":68553077,"body_markdown":"You can override ```shouldNotFilter``` method of ```OncePerRequestFilter``` in your custom filter to split your *filter* and *not_filter* logic, e.g. like this:\r\n\r\n```\r\npublic class AuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final List&lt;AntPathRequestMatcher&gt; excludedMatchers;\r\n\r\n    public AuthenticationFilter (List&lt;AntPathRequestMatcher&gt; excludedMatchers) {\r\n        this.excludedMatchers = excludedMatchers;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        // your filter logic here\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return excludedMatchers.stream()\r\n                .anyMatch(matcher -&gt; matcher.matches(request));\r\n    }\r\n}\r\n\r\n```\r\n\r\nBy default this method always returns ```false```, so a filter is applied to any request unless otherwise specified.\r\n\r\nNote, that ```AntPathRequestMatcher```&#39;s constructor also can take http method, allowing to create more specific *not_filter* logic, if you have multiple endpoints with the same path and different request methods, but want to allow a free access only to a specific one.","title":"Disabling a filter for only a few paths","body":"<p>You can override <code>shouldNotFilter</code> method of <code>OncePerRequestFilter</code> in your custom filter to split your <em>filter</em> and <em>not_filter</em> logic, e.g. like this:</p>\n<pre><code>public class AuthenticationFilter extends OncePerRequestFilter {\n\n    private final List&lt;AntPathRequestMatcher&gt; excludedMatchers;\n\n    public AuthenticationFilter (List&lt;AntPathRequestMatcher&gt; excludedMatchers) {\n        this.excludedMatchers = excludedMatchers;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        // your filter logic here\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return excludedMatchers.stream()\n                .anyMatch(matcher -&gt; matcher.matches(request));\n    }\n}\n\n</code></pre>\n<p>By default this method always returns <code>false</code>, so a filter is applied to any request unless otherwise specified.</p>\n<p>Note, that <code>AntPathRequestMatcher</code>'s constructor also can take http method, allowing to create more specific <em>not_filter</em> logic, if you have multiple endpoints with the same path and different request methods, but want to allow a free access only to a specific one.</p>\n"}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68561393,"answer_count":2,"score":1,"last_activity_date":1683188646,"creation_date":1627432483,"question_id":68553077,"body_markdown":"How do I get a filter to apply to every request off the root path except for ones I want to ignore? Here&#39;s my example:\r\n\r\nI have a Spring Security filter like so:\r\n\r\n```java\r\nprivate static class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .antMatcher(&quot;/**&quot;)\r\n            .addFilterBefore(new AuthenticationFilter(), basicAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web\r\n           .ignoring()\r\n               .requestMatchers(SecurityServletRequestMatchers.servletIgnoreAuthMatcher());\r\n    }\r\n}\r\n```\r\n\r\nThis filter populates a `CustomApiToken` object which contains all of our header information and puts it in the Spring Security context `SecurityContextHolder.getContext().setAuthentication(token)` for easy access to the token on the requesting controller.\r\n\r\nI&#39;m trying to add Springfox to the project, which means I want to disable the filter for the UI and API docs pages.\r\n\r\nMy original attempt was to add a clause to the method:\r\n\r\n```java\r\n@Override\r\npublic void configure(HttpSecurity http) throws Exception {\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/**&quot;)\r\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class);\r\n\r\n    http\r\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\r\n        .headers() //.servletIgnoreAuthMatchers has all the swagger urls also\r\n            .defaultsDisabled()\r\n            .disable()\r\n        .authorizeRequests()\r\n            .anyRequest().authenticated();\r\n}\r\n```\r\n\r\nHowever I discovered that this only takes the second clause into account due to Spring Security only accepting the last clause.\r\n\r\nI&#39;ve since tried:\r\n\r\n```java\r\n@Override\r\npublic void configure(HttpSecurity http) throws Exception {\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/**&quot;)\r\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class)\r\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\r\n        .headers()\r\n            .defaultsDisabled()\r\n            .disable()\r\n        .authorizeRequests()\r\n            .anyRequest().authenticated();\r\n}\r\n```\r\n\r\nBut that left the web filter on the Springfox URL giving me a missing authentication token error.\r\n\r\nI&#39;ve tried looking around here, and on the internet, but none of the examples have given me an acceptable response yet.\r\n","title":"Disabling a filter for only a few paths","body":"<p>How do I get a filter to apply to every request off the root path except for ones I want to ignore? Here's my example:</p>\n<p>I have a Spring Security filter like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .antMatcher(&quot;/**&quot;)\n            .addFilterBefore(new AuthenticationFilter(), basicAuthenticationFilter.class);\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web\n           .ignoring()\n               .requestMatchers(SecurityServletRequestMatchers.servletIgnoreAuthMatcher());\n    }\n}\n</code></pre>\n<p>This filter populates a <code>CustomApiToken</code> object which contains all of our header information and puts it in the Spring Security context <code>SecurityContextHolder.getContext().setAuthentication(token)</code> for easy access to the token on the requesting controller.</p>\n<p>I'm trying to add Springfox to the project, which means I want to disable the filter for the UI and API docs pages.</p>\n<p>My original attempt was to add a clause to the method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .antMatcher(&quot;/**&quot;)\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class);\n\n    http\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\n        .headers() //.servletIgnoreAuthMatchers has all the swagger urls also\n            .defaultsDisabled()\n            .disable()\n        .authorizeRequests()\n            .anyRequest().authenticated();\n}\n</code></pre>\n<p>However I discovered that this only takes the second clause into account due to Spring Security only accepting the last clause.</p>\n<p>I've since tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http\n        .csrf().disable()\n        .antMatcher(&quot;/**&quot;)\n        .addFilterBefore(new AuthenticationFilter(), BasicAuthenticationFilter.class)\n        .requestMatcher(SecurityServletRequestMatchers.servletIgnoreAuthMatcher())\n        .headers()\n            .defaultsDisabled()\n            .disable()\n        .authorizeRequests()\n            .anyRequest().authenticated();\n}\n</code></pre>\n<p>But that left the web filter on the Springfox URL giving me a missing authentication token error.</p>\n<p>I've tried looking around here, and on the internet, but none of the examples have given me an acceptable response yet.</p>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"score":0,"creation_date":1683189500,"post_id":76171033,"comment_id":134329233,"body_markdown":"pom.xml mentioned here is your parent-pom inherited by your project? if this is the parent pom.xml and please share your project pom.xml too. If there is a single pom then please move AWS dependency to dependencies and remove dependencyManagement and change scope to runtime.","body":"pom.xml mentioned here is your parent-pom inherited by your project? if this is the parent pom.xml and please share your project pom.xml too. If there is a single pom then please move AWS dependency to dependencies and remove dependencyManagement and change scope to runtime."},{"owner":{"account_id":1705601,"reputation":547,"user_id":1564698,"accept_rate":82,"display_name":"Shourya Sharma"},"score":0,"creation_date":1683202842,"post_id":76171033,"comment_id":134332342,"body_markdown":"what do you mean by: &quot;my team was using the older version of jdk 1.8&quot;?","body":"what do you mean by: &quot;my team was using the older version of jdk 1.8&quot;?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683216646,"post_id":76171033,"comment_id":134336194,"body_markdown":"Rerun that with the `-e` flag.  You need to figure out why the `software.amazon.awssdk:bom:pom:2.5.61` artifact dependency is not being downloaded.","body":"Rerun that with the <code>-e</code> flag.  You need to figure out why the <code>software.amazon.awssdk:bom:pom:2.5.61</code> artifact dependency is not being downloaded."}],"owner":{"account_id":28502441,"reputation":1,"user_id":21813507,"display_name":"Roshan Jogi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683188510,"creation_date":1683188510,"question_id":76171033,"body_markdown":"\r\nI am using jdk 1.8 and facing the issue while cleaning the package using maven. First, I tried with latest version of jdk but it was having some conflicts w.r.t my test case file. Because, I was able to build it when commenting out the testcases and If I uncomment those testcases, then I was facing the same issue. Now, my team was using the older version of jdk 1.8, so now when I am trying with that I am facing the issue for cleaning the package also.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n        &lt;slf4j.version&gt;1.7.21&lt;/slf4j.version&gt;\r\n        &lt;maven.versions.plugin&gt;2.8.1&lt;/maven.versions.plugin&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;XYZ-dal-mysql&lt;/module&gt;\r\n        &lt;module&gt;XYZ-dal&lt;/module&gt;\r\n        &lt;module&gt;XYZ-api&lt;/module&gt;\r\n        &lt;module&gt;XYZ-api-dist&lt;/module&gt;\r\n        &lt;module&gt;XYZ-api-model&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.9&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.versions.plugin}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.61&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n      &lt;repository&gt;\r\n        &lt;id&gt;XYZ-repo&lt;/id&gt;\r\n        &lt;name&gt;XYZ-repo&lt;/name&gt;\r\n        &lt;url&gt;XYZ-URL&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe error looks like this :-\r\n(xyz-repo is a private link which needs credentials to download the dependency and I am generating a token so that It can pass the authentication using that token and download)\r\n```\r\nPS C:\\Users\\DELLUSER\\xyz &gt; mvn clean\r\n[INFO] Scanning for projects...\r\nDownloading from XYZ-Repo\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] Non-resolvable import POM: The following artifacts could not be resolved: software.amazon.awssdk:bom:pom:2.5.61 (absent): Could not transfer artifact software.amazon.awssdk:bom\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n```","title":"Facing issue while processing the POMs when I am cleaning and building the project using maven","body":"<p>I am using jdk 1.8 and facing the issue while cleaning the package using maven. First, I tried with latest version of jdk but it was having some conflicts w.r.t my test case file. Because, I was able to build it when commenting out the testcases and If I uncomment those testcases, then I was facing the same issue. Now, my team was using the older version of jdk 1.8, so now when I am trying with that I am facing the issue for cleaning the package also.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;slf4j.version&gt;1.7.21&lt;/slf4j.version&gt;\n        &lt;maven.versions.plugin&gt;2.8.1&lt;/maven.versions.plugin&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;XYZ-dal-mysql&lt;/module&gt;\n        &lt;module&gt;XYZ-dal&lt;/module&gt;\n        &lt;module&gt;XYZ-api&lt;/module&gt;\n        &lt;module&gt;XYZ-api-dist&lt;/module&gt;\n        &lt;module&gt;XYZ-api-model&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.9&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.versions.plugin}&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;2.5.61&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;distributionManagement&gt;\n      &lt;repository&gt;\n        &lt;id&gt;XYZ-repo&lt;/id&gt;\n        &lt;name&gt;XYZ-repo&lt;/name&gt;\n        &lt;url&gt;XYZ-URL&lt;/url&gt;\n      &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>The error looks like this :-\n(xyz-repo is a private link which needs credentials to download the dependency and I am generating a token so that It can pass the authentication using that token and download)</p>\n<pre><code>PS C:\\Users\\DELLUSER\\xyz &gt; mvn clean\n[INFO] Scanning for projects...\nDownloading from XYZ-Repo\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Non-resolvable import POM: The following artifacts could not be resolved: software.amazon.awssdk:bom:pom:2.5.61 (absent): Could not transfer artifact software.amazon.awssdk:bom\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\n\n</code></pre>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1598289882,"post_id":63565589,"comment_id":112404429,"body_markdown":"[`SparkContext`](https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html) seems to be available from java api so why cannot you use it?","body":"<a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/SparkContext.html\" rel=\"nofollow noreferrer\"><code>SparkContext</code></a> seems to be available from java api so why cannot you use it?"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1598291529,"post_id":63565589,"comment_id":112405231,"body_markdown":"Specifically you can obtain `SparkContext` from `JavaSparkContext` by using static method [`JavaSparkContext::toSparkContext`](https://spark.apache.org/docs/latest/api/java/org/apache/spark/api/java/JavaSparkContext.html#toSparkContext-org.apache.spark.api.java.JavaSparkContext-)","body":"Specifically you can obtain <code>SparkContext</code> from <code>JavaSparkContext</code> by using static method <a href=\"https://spark.apache.org/docs/latest/api/java/org/apache/spark/api/java/JavaSparkContext.html#toSparkContext-org.apache.spark.api.java.JavaSparkContext-\" rel=\"nofollow noreferrer\"><code>JavaSparkContext::toSparkContext</code></a>"},{"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"score":0,"creation_date":1598328655,"post_id":63565589,"comment_id":112415243,"body_markdown":"This SO answer will help you - https://stackoverflow.com/a/47405382/4758823","body":"This SO answer will help you - <a href=\"https://stackoverflow.com/a/47405382/4758823\">stackoverflow.com/a/47405382/4758823</a>"}],"answers":[{"comments":[{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1598509217,"post_id":63572353,"comment_id":112482728,"body_markdown":"Thanks for replying, @Someshwar. I am not sure if my spark package version is too old or it should be some other packages, I cannot see the class RichSparkContext. Any idea?","body":"Thanks for replying, @Someshwar. I am not sure if my spark package version is too old or it should be some other packages, I cannot see the class RichSparkContext. Any idea?"}],"tags":[],"owner":{"account_id":6099207,"reputation":6223,"user_id":4758823,"display_name":"Som"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598331905,"creation_date":1598331905,"answer_id":63572353,"question_id":63565589,"body_markdown":"My answer is mostly based on [this SO Answer][1].\r\nRecently, `getExecutorStorageStatus` has been removed from `SparkContext`(in the newer version of spark). Hence you can&#39;t use `sc. getExecutorStorageStatus`. Instead we can use SparkEnv&#39;s `blockManager.master.getStorageStatus.length - 1` (the minus one is for the driver again). The normal way to get to it, via `env` of `SparkContext`. But it is not accessible outside of the `org.apache.spark` package. Therefore, we use an **`encapsulation violation pattern`** as:\r\n```scala\r\npackage org.apache.spark.util\r\n\r\nimport org.apache.spark.{SparkContext, SparkEnv}\r\n\r\n/**\r\n  * Below objects are not accessible outside of the org.apache.spark.util package.\r\n  * Therefore, we use an encapsulation violation pattern.\r\n  */\r\nobject SparkInternalUtils {\r\n\r\n  def sparkEnv(sc: SparkContext): SparkEnv = sc.env\r\n  def getThreadUtils: ThreadUtils.type = ThreadUtils\r\n\r\n}\r\n```\r\nNow, we can get the instance of `SparkEnv` using `SparkInternalUtils.sparkEnv(sc)`\r\n\r\nDefine RichSparkContext as below-\r\n```scala\r\n\r\nimport org.apache.spark.SparkContext\r\nimport org.apache.spark.util.SparkInternalUtils\r\n\r\nimport scala.language.implicitConversions\r\n\r\n\r\nclass RichSparkContext(val sc: SparkContext) {\r\n\r\n  def executorCount: Int =\r\n    SparkInternalUtils.sparkEnv(sc).blockManager.master.getStorageStatus.length - 1 // one is the driver\r\n\r\n  def coresPerExecutor: Int =\r\n    RichSparkContext.coresPerExecutor(sc)\r\n\r\n  def coreCount: Int =\r\n    executorCount * coresPerExecutor\r\n\r\n  def coreCount(coresPerExecutor: Int): Int =\r\n    executorCount * coresPerExecutor\r\n\r\n}\r\n\r\n\r\nobject RichSparkContext {\r\n\r\n  trait Enrichment {\r\n    implicit def enrichMetadata(sc: SparkContext): RichSparkContext =\r\n      new RichSparkContext(sc)\r\n  }\r\n\r\n  object implicits extends Enrichment\r\n\r\n  private var _coresPerExecutor: Int = 0\r\n\r\n  def coresPerExecutor(sc: SparkContext): Int =\r\n    synchronized {\r\n      if (_coresPerExecutor == 0)\r\n        sc.range(0, 1).map(_ =&gt; java.lang.Runtime.getRuntime.availableProcessors).collect.head\r\n      else _coresPerExecutor\r\n    }\r\n\r\n}\r\n```\r\n**`In scala, get the number of executors &amp; and core count`**\r\n```scala\r\nval sc = ... // SparkContext instance\r\n    import RichSparkContext.implicits._\r\n    val executorCount = sc.executorCount\r\nval coresPerExecutor = sc.coresPerExecutor\r\nval totalCoreCount = sc.coreCount\r\n```\r\n\r\n**`In java, get the number of executors &amp; and core count`**\r\n```java\r\n JavaSparkContext javaSparkContext = new JavaSparkContext(spark.sparkContext());\r\n        RichSparkContext richSparkContext = new RichSparkContext(javaSparkContext.sc());\r\n        System.out.println(richSparkContext.coresPerExecutor());\r\n        System.out.println(richSparkContext.coreCount());\r\n        System.out.println(richSparkContext.executorCount());\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47405382/4758823","title":"How to get number of executors and number of cores in Java spark","body":"<p>My answer is mostly based on <a href=\"https://stackoverflow.com/a/47405382/4758823\">this SO Answer</a>.\nRecently, <code>getExecutorStorageStatus</code> has been removed from <code>SparkContext</code>(in the newer version of spark). Hence you can't use <code>sc. getExecutorStorageStatus</code>. Instead we can use SparkEnv's <code>blockManager.master.getStorageStatus.length - 1</code> (the minus one is for the driver again). The normal way to get to it, via <code>env</code> of <code>SparkContext</code>. But it is not accessible outside of the <code>org.apache.spark</code> package. Therefore, we use an <strong><code>encapsulation violation pattern</code></strong> as:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>package org.apache.spark.util\n\nimport org.apache.spark.{SparkContext, SparkEnv}\n\n/**\n  * Below objects are not accessible outside of the org.apache.spark.util package.\n  * Therefore, we use an encapsulation violation pattern.\n  */\nobject SparkInternalUtils {\n\n  def sparkEnv(sc: SparkContext): SparkEnv = sc.env\n  def getThreadUtils: ThreadUtils.type = ThreadUtils\n\n}\n</code></pre>\n<p>Now, we can get the instance of <code>SparkEnv</code> using <code>SparkInternalUtils.sparkEnv(sc)</code></p>\n<p>Define RichSparkContext as below-</p>\n<pre class=\"lang-scala prettyprint-override\"><code>\nimport org.apache.spark.SparkContext\nimport org.apache.spark.util.SparkInternalUtils\n\nimport scala.language.implicitConversions\n\n\nclass RichSparkContext(val sc: SparkContext) {\n\n  def executorCount: Int =\n    SparkInternalUtils.sparkEnv(sc).blockManager.master.getStorageStatus.length - 1 // one is the driver\n\n  def coresPerExecutor: Int =\n    RichSparkContext.coresPerExecutor(sc)\n\n  def coreCount: Int =\n    executorCount * coresPerExecutor\n\n  def coreCount(coresPerExecutor: Int): Int =\n    executorCount * coresPerExecutor\n\n}\n\n\nobject RichSparkContext {\n\n  trait Enrichment {\n    implicit def enrichMetadata(sc: SparkContext): RichSparkContext =\n      new RichSparkContext(sc)\n  }\n\n  object implicits extends Enrichment\n\n  private var _coresPerExecutor: Int = 0\n\n  def coresPerExecutor(sc: SparkContext): Int =\n    synchronized {\n      if (_coresPerExecutor == 0)\n        sc.range(0, 1).map(_ =&gt; java.lang.Runtime.getRuntime.availableProcessors).collect.head\n      else _coresPerExecutor\n    }\n\n}\n</code></pre>\n<p><strong><code>In scala, get the number of executors &amp; and core count</code></strong></p>\n<pre class=\"lang-scala prettyprint-override\"><code>val sc = ... // SparkContext instance\n    import RichSparkContext.implicits._\n    val executorCount = sc.executorCount\nval coresPerExecutor = sc.coresPerExecutor\nval totalCoreCount = sc.coreCount\n</code></pre>\n<p><strong><code>In java, get the number of executors &amp; and core count</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code> JavaSparkContext javaSparkContext = new JavaSparkContext(spark.sparkContext());\n        RichSparkContext richSparkContext = new RichSparkContext(javaSparkContext.sc());\n        System.out.println(richSparkContext.coresPerExecutor());\n        System.out.println(richSparkContext.coreCount());\n        System.out.println(richSparkContext.executorCount());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28434218,"reputation":1,"user_id":21754524,"display_name":"Xia Gong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683188336,"creation_date":1683188336,"answer_id":76171007,"question_id":63565589,"body_markdown":"Tried above answer and found the executor count can be fetched this way:\r\n\r\n    import org.apache.spark.SparkEnv\r\n    val executorCount = SparkEnv.get.blockManager.master.getStorageStatus.length\r\n","title":"How to get number of executors and number of cores in Java spark","body":"<p>Tried above answer and found the executor count can be fetched this way:</p>\n<pre><code>import org.apache.spark.SparkEnv\nval executorCount = SparkEnv.get.blockManager.master.getStorageStatus.length\n</code></pre>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683188336,"creation_date":1598288817,"question_id":63565589,"body_markdown":"I am new to Spark and we are coding in Java now. The problem is that we are trying to figure out the number of executors and number of cores. I googled and saw some articles that mentioning that  the way to do that in Spark as below. But didn&#39;t see anything similar in Java (JavaSparkContext doesn&#39;t have `getExecutorMemoryStatus` or `getExecutorStorageStatus`). Can anyone help, please?\r\n\r\n     // for executor numbers\r\n     def currentActiveExecutors(sc: SparkContext): Seq[String] = {\r\n             val allExecutors = sc.getExecutorMemoryStatus.map(_._1)\r\n             val driverHost: String = sc.getConf.get(&quot;spark.driver.host&quot;)\r\n             allExecutors.filter(! _.split(&quot;:&quot;)(0).equals(driverHost)).toList\r\n           }\r\n    \r\n      // for executor core numbers\r\n      int(sc._conf.get(&#39;spark.executor.cores&#39;))","title":"How to get number of executors and number of cores in Java spark","body":"<p>I am new to Spark and we are coding in Java now. The problem is that we are trying to figure out the number of executors and number of cores. I googled and saw some articles that mentioning that  the way to do that in Spark as below. But didn't see anything similar in Java (JavaSparkContext doesn't have <code>getExecutorMemoryStatus</code> or <code>getExecutorStorageStatus</code>). Can anyone help, please?</p>\n<pre><code> // for executor numbers\n def currentActiveExecutors(sc: SparkContext): Seq[String] = {\n         val allExecutors = sc.getExecutorMemoryStatus.map(_._1)\n         val driverHost: String = sc.getConf.get(&quot;spark.driver.host&quot;)\n         allExecutors.filter(! _.split(&quot;:&quot;)(0).equals(driverHost)).toList\n       }\n\n  // for executor core numbers\n  int(sc._conf.get('spark.executor.cores'))\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683187562,"creation_date":1683187562,"answer_id":76170894,"question_id":76168780,"body_markdown":"Currently your Filter is always executing, even before the non authenticated calls.\r\n\r\nTo solve that you have to add the `shouldNotFilter` method to your filter:\r\n\r\n        @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n          return request.getRequestURI().startsWith(&quot;/api/v1/login&quot;);\r\n        }\r\n\r\n\r\nExactly the same issue has been discussed in the following video at 1:11:11 timestamp: [Spring Security, demystified by Daniel Garnier Moiroux][1]\r\n\r\n\r\n  [1]: https://youtu.be/iJ2muJniikY?t=4271","title":"make access to &quot;/api/v1/login&quot; without do any filter","body":"<p>Currently your Filter is always executing, even before the non authenticated calls.</p>\n<p>To solve that you have to add the <code>shouldNotFilter</code> method to your filter:</p>\n<pre><code>    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n      return request.getRequestURI().startsWith(&quot;/api/v1/login&quot;);\n    }\n</code></pre>\n<p>Exactly the same issue has been discussed in the following video at 1:11:11 timestamp: <a href=\"https://youtu.be/iJ2muJniikY?t=4271\" rel=\"nofollow noreferrer\">Spring Security, demystified by Daniel Garnier Moiroux</a></p>\n"}],"owner":{"account_id":28499263,"reputation":1,"user_id":21810686,"display_name":"Hamza BOUSALIH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683189927,"answer_count":1,"score":-1,"last_activity_date":1683187562,"creation_date":1683159901,"question_id":76168780,"body_markdown":"i want make access to `/api/v1/login` without do any filter\r\n\r\nthis the WebSecurityConfig  class\r\n\r\n```\r\npackage com.siti.analyseapp.z_security.config.securityConfig;\r\n\r\nimport com.siti.analyseapp.z_security.config.jwt.JwtAuthenticationEntryPoint;\r\nimport com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter;\r\nimport com.siti.analyseapp.z_utils.enums.UserRole;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport java.util.Collections;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\npublic class WebSecurityConfig {\r\n    private static final String SUPER_ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.SUPER_ADMIN;\r\n    private static final String ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.ADMIN;\r\n    private static final String CLIENT_ROLE = &quot;ROLE_&quot; + UserRole.CLIENT;\r\n\r\n    @Autowired private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    @Autowired @Qualifier(&quot;delegatedOncePerRequestFilter&quot;)\r\n    private JwtRequestFilter jwtRequestFilter;\r\n    @Autowired private UserDetailsService jwtService;\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() {\r\n        return new ProviderManager(Collections.singletonList(authenticationProvider()));\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .cors().disable()\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/v1/login&quot;).permitAll()\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/laboratory/**&quot;).authenticated()\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/client/**&quot;).authenticated()\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE, CLIENT_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.GET,&quot;**/analyse/**&quot;).authenticated()\r\n                        .requestMatchers(HttpMethod.PUT,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.POST,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\r\n\r\n                        .requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n                        .anyRequest().permitAll()\r\n                )\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(jwtService);\r\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n    }\r\n}\r\n```\r\n\r\n\r\nand this the filter\r\n\r\n\r\n```\r\npackage com.siti.analyseapp.z_security.config.jwt;\r\n\r\nimport com.siti.analyseapp.exceptions.ApiException;\r\nimport com.siti.analyseapp.z_security.service.JwtService;\r\nimport com.siti.analyseapp.z_utils.securityUtils.JwtUtil;\r\nimport io.jsonwebtoken.ExpiredJwtException;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.HEADER_STRING;\r\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.TOKEN_PREFIX;\r\n\r\n@Component(&quot;delegatedOncePerRequestFilter&quot;)\r\npublic class JwtRequestFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired private JwtUtil jwtUtil;\r\n    @Autowired private JwtService jwtService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain) throws ServletException, IOException, ApiException {\r\n\r\n        final String header = request.getHeader(HEADER_STRING);\r\n\r\n        String jwtToken = null;\r\n        String username = null;\r\n        if (header == null) {\r\n//            System.out.println(&quot;Authorization header is missing&quot;);\r\n            throw new ApiException(&quot;Authorization header is missing&quot;, HttpStatus.UNAUTHORIZED);\r\n        } else if (!header.startsWith(TOKEN_PREFIX)) {\r\n            throw new ApiException(&quot;Authorization header is not a bearer token&quot;, HttpStatus.UNAUTHORIZED);\r\n        } else {\r\n            jwtToken = header.substring(7);\r\n\r\n            try {\r\n                username = jwtUtil.getUsernameFromToken(jwtToken);\r\n            } catch (IllegalArgumentException e) {\r\n                throw new ApiException(&quot;Unable to get Jwt&quot;, HttpStatus.UNAUTHORIZED);\r\n            } catch (ExpiredJwtException e) {\r\n                throw new ApiException(&quot;Jwt is expired&quot;, HttpStatus.UNAUTHORIZED);\r\n            }\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = jwtService.loadUserByUsername(username);\r\n\r\n            boolean isValid = jwtUtil.validateToken(jwtToken, userDetails);\r\n            if (isValid) {\r\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n            }\r\n        }\r\n\r\n        filterChain.doFilter(request,response);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nPOST http://localhost:8036/api/v1/login\r\ncontent-type: application/json\r\n\r\n{\r\n  &quot;username&quot;: &quot;admin.super@661&quot;,\r\n  &quot;password&quot;: &quot;0000&quot;\r\n}\r\n```\r\n\r\n\r\nthis the output\r\n\r\n```\r\ncom.siti.analyseapp.exceptions.ApiException: Authorization header is missing\r\n\tat com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:44) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] ...\r\n\r\n```\r\n\r\n","title":"make access to &quot;/api/v1/login&quot; without do any filter","body":"<p>i want make access to <code>/api/v1/login</code> without do any filter</p>\n<p>this the WebSecurityConfig  class</p>\n<pre><code>package com.siti.analyseapp.z_security.config.securityConfig;\n\nimport com.siti.analyseapp.z_security.config.jwt.JwtAuthenticationEntryPoint;\nimport com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter;\nimport com.siti.analyseapp.z_utils.enums.UserRole;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport java.util.Collections;\n\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class WebSecurityConfig {\n    private static final String SUPER_ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.SUPER_ADMIN;\n    private static final String ADMIN_ROLE = &quot;ROLE_&quot; + UserRole.ADMIN;\n    private static final String CLIENT_ROLE = &quot;ROLE_&quot; + UserRole.CLIENT;\n\n    @Autowired private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired @Qualifier(&quot;delegatedOncePerRequestFilter&quot;)\n    private JwtRequestFilter jwtRequestFilter;\n    @Autowired private UserDetailsService jwtService;\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() {\n        return new ProviderManager(Collections.singletonList(authenticationProvider()));\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .cors().disable()\n                .csrf().disable()\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/api/v1/login&quot;).permitAll()\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.PUT,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE, ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/admin/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/laboratory/**&quot;).authenticated()\n                        .requestMatchers(HttpMethod.PUT,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/laboratory/**&quot;).hasAnyAuthority(SUPER_ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/client/**&quot;).authenticated()\n                        .requestMatchers(HttpMethod.PUT,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE, CLIENT_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/client/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.GET,&quot;**/analyse/**&quot;).authenticated()\n                        .requestMatchers(HttpMethod.PUT,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.POST,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n                        .requestMatchers(HttpMethod.DELETE,&quot;**/analyse/**&quot;).hasAnyAuthority(ADMIN_ROLE)\n\n                        .requestMatchers(HttpMethod.OPTIONS).permitAll()\n                        .anyRequest().permitAll()\n                )\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(jwtService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>and this the filter</p>\n<pre><code>package com.siti.analyseapp.z_security.config.jwt;\n\nimport com.siti.analyseapp.exceptions.ApiException;\nimport com.siti.analyseapp.z_security.service.JwtService;\nimport com.siti.analyseapp.z_utils.securityUtils.JwtUtil;\nimport io.jsonwebtoken.ExpiredJwtException;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.HEADER_STRING;\nimport static com.siti.analyseapp.z_utils.securityUtils.JwtProperties.TOKEN_PREFIX;\n\n@Component(&quot;delegatedOncePerRequestFilter&quot;)\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    @Autowired private JwtUtil jwtUtil;\n    @Autowired private JwtService jwtService;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain) throws ServletException, IOException, ApiException {\n\n        final String header = request.getHeader(HEADER_STRING);\n\n        String jwtToken = null;\n        String username = null;\n        if (header == null) {\n//            System.out.println(&quot;Authorization header is missing&quot;);\n            throw new ApiException(&quot;Authorization header is missing&quot;, HttpStatus.UNAUTHORIZED);\n        } else if (!header.startsWith(TOKEN_PREFIX)) {\n            throw new ApiException(&quot;Authorization header is not a bearer token&quot;, HttpStatus.UNAUTHORIZED);\n        } else {\n            jwtToken = header.substring(7);\n\n            try {\n                username = jwtUtil.getUsernameFromToken(jwtToken);\n            } catch (IllegalArgumentException e) {\n                throw new ApiException(&quot;Unable to get Jwt&quot;, HttpStatus.UNAUTHORIZED);\n            } catch (ExpiredJwtException e) {\n                throw new ApiException(&quot;Jwt is expired&quot;, HttpStatus.UNAUTHORIZED);\n            }\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = jwtService.loadUserByUsername(username);\n\n            boolean isValid = jwtUtil.validateToken(jwtToken, userDetails);\n            if (isValid) {\n                UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n            }\n        }\n\n        filterChain.doFilter(request,response);\n    }\n}\n\n</code></pre>\n<pre><code>POST http://localhost:8036/api/v1/login\ncontent-type: application/json\n\n{\n  &quot;username&quot;: &quot;admin.super@661&quot;,\n  &quot;password&quot;: &quot;0000&quot;\n}\n</code></pre>\n<p>this the output</p>\n<pre><code>com.siti.analyseapp.exceptions.ApiException: Authorization header is missing\n    at com.siti.analyseapp.z_security.config.jwt.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:44) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8] ...\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1488380691,"post_id":42535083,"comment_id":72205849,"body_markdown":"You can dump your traffic using `tcpdump` or `wireshark` and analyze difference.","body":"You can dump your traffic using <code>tcpdump</code> or <code>wireshark</code> and analyze difference."},{"owner":{"account_id":4440396,"reputation":315,"user_id":4575509,"accept_rate":43,"display_name":"Hari Ram"},"score":0,"creation_date":1567160693,"post_id":42535083,"comment_id":101890219,"body_markdown":"@qbolt - any solution for this??","body":"@qbolt - any solution for this??"}],"answers":[{"comments":[{"owner":{"account_id":4543550,"reputation":553,"user_id":3690744,"accept_rate":43,"display_name":"qbolt"},"score":1,"creation_date":1488381558,"post_id":42535166,"comment_id":72206577,"body_markdown":"I manually added all of them via connection.setRequestProperty() and recieved the same error.","body":"I manually added all of them via connection.setRequestProperty() and recieved the same error."},{"owner":{"account_id":4252718,"reputation":67,"user_id":3479238,"accept_rate":0,"display_name":"Scaddenp"},"score":0,"creation_date":1628460399,"post_id":42535166,"comment_id":121419730,"body_markdown":"Ditto, for me. Added every header, checked in wireshark, no change.","body":"Ditto, for me. Added every header, checked in wireshark, no change."}],"tags":[],"owner":{"account_id":10347632,"reputation":632,"user_id":7632058,"display_name":"Boschi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488380631,"creation_date":1488380631,"answer_id":42535166,"question_id":42535083,"body_markdown":"As you are receiving a &quot;403: Forbidden&quot; error, it means that your Java code can reach the URL, but it lacks something that is required to access it.\r\n\r\nIn the browser, press F12 (developer/debug mode) and request the URL again. Check the headers and cookies that are being sent. Most likely you will need to add one of these for you to be able to receive the content you need.","title":"403 forbidden for url in java but not in browser","body":"<p>As you are receiving a \"403: Forbidden\" error, it means that your Java code can reach the URL, but it lacks something that is required to access it.</p>\n\n<p>In the browser, press F12 (developer/debug mode) and request the URL again. Check the headers and cookies that are being sent. Most likely you will need to add one of these for you to be able to receive the content you need.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602198800,"creation_date":1602195222,"answer_id":64271362,"question_id":42535083,"body_markdown":"Adding &quot;User-Agent&quot; header fixed it for me:\r\n\r\n    connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n","title":"403 forbidden for url in java but not in browser","body":"<p>Adding &quot;User-Agent&quot; header fixed it for me:</p>\n<pre><code>connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1683093386,"post_id":76142367,"comment_id":134311663,"body_markdown":"code view should be updated","body":"code view should be updated"}],"tags":[],"owner":{"account_id":10478949,"reputation":1,"user_id":7724552,"display_name":"BigTexan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683187524,"creation_date":1682872586,"answer_id":76142367,"question_id":42535083,"body_markdown":"I had to add the following headers to `URLConnection` to get past this. Found them with inspector via a refresh from the network tab.\t\t\t\t\r\n\r\n    conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/112.0&quot;); \r\n    conn.addRequestProperty(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8&quot;);\r\n    conn.addRequestProperty(&quot;Referer&quot;, &quot;http://dig.ccmixter.org/&quot;);","title":"403 forbidden for url in java but not in browser","body":"<p>I had to add the following headers to <code>URLConnection</code> to get past this. Found them with inspector via a refresh from the network tab.</p>\n<pre><code>conn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/112.0&quot;); \nconn.addRequestProperty(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8&quot;);\nconn.addRequestProperty(&quot;Referer&quot;, &quot;http://dig.ccmixter.org/&quot;);\n</code></pre>\n"}],"owner":{"account_id":4543550,"reputation":553,"user_id":3690744,"accept_rate":43,"display_name":"qbolt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1683187524,"creation_date":1488380427,"question_id":42535083,"body_markdown":"I&#39;m behind a corporate firewall, but i can paste the URL in my browser with and without my proxy settings enabled within the browser and can retrieve the data fine. I just can&#39;t within java.\r\n\r\nAny ideas?\r\n\r\n\r\nCode:\r\n\r\n     private static String getURLToString(String strUrl) throws IOException {\r\n\t\t// LOG.debug(&quot;Calling URL: [&quot; + strUrl + &quot;]&quot;);\r\n\t\tString content = &quot;&quot;;\r\n\t\t\r\n\t\tURLConnection connection = new URL(strUrl).openConnection();\r\n\t\tconnection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11&quot;);\r\n\t\tconnection.connect();\r\n\t\tBufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\r\n\r\n\t\tString inputLine;\r\n\t\twhile ((inputLine = br.readLine()) != null) {\r\n\t\t\tcontent += inputLine;\r\n\t\t}\r\n\r\n\t\tbr.close();\r\n\r\n\t\treturn content;\r\n\t}\r\n\r\nError:\r\n\r\n    java.io.FileNotFoundException: Response: &#39;403: Forbidden&#39; for url: &#39;&lt;url here&gt;&#39;\r\n        at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:778)\r\n        at weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\r\n\r\nNote: The &#39;&lt;url here&gt;&#39; portion is for anonymizing.","title":"403 forbidden for url in java but not in browser","body":"<p>I'm behind a corporate firewall, but i can paste the URL in my browser with and without my proxy settings enabled within the browser and can retrieve the data fine. I just can't within java.</p>\n\n<p>Any ideas?</p>\n\n<p>Code:</p>\n\n<pre><code> private static String getURLToString(String strUrl) throws IOException {\n    // LOG.debug(\"Calling URL: [\" + strUrl + \"]\");\n    String content = \"\";\n\n    URLConnection connection = new URL(strUrl).openConnection();\n    connection.setRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11\");\n    connection.connect();\n    BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream(), Charset.forName(\"UTF-8\")));\n\n    String inputLine;\n    while ((inputLine = br.readLine()) != null) {\n        content += inputLine;\n    }\n\n    br.close();\n\n    return content;\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>java.io.FileNotFoundException: Response: '403: Forbidden' for url: '&lt;url here&gt;'\n    at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:778)\n    at weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\n</code></pre>\n\n<p>Note: The '' portion is for anonymizing.</p>\n"},{"tags":["java","spring-mvc","redirect","multipartform-data"],"owner":{"account_id":7060641,"reputation":857,"user_id":5406023,"accept_rate":39,"display_name":"Mr. Mak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683187503,"creation_date":1683187503,"question_id":76170886,"body_markdown":"I have an external service address outside my Spring-MVC application where to submit this type of request shown below.\r\n\r\n    \r\n    &lt;form action=&quot;http://external.address.com/show.php&quot; method=&quot;POST&quot;  enctype=&quot;multipart/form-data&quot;&gt;\r\n\t\t&lt;input type=&#39;text&#39; name=&#39;inst_id&#39; value=&#39;102&#39;&gt;\r\n\t\t&lt;input type=&#39;text&#39; name=&#39;student_id&#39; value=&#39;2305014&#39;&gt;\r\n\t\t&lt;button type=&quot;submit&quot;&gt;Post&lt;/button&gt;\r\n\t&lt;/form&gt;\r\n\r\nAnd the link `(http://external.address.com/show.php)` show another view/html page in browser.\r\n\r\nHow can I make this request with form-data and post/redirect it form my spring controller of my native application.\r\n\r\n","title":"Spring Redirect POST to external link with Form Data","body":"<p>I have an external service address outside my Spring-MVC application where to submit this type of request shown below.</p>\n<pre><code>&lt;form action=&quot;http://external.address.com/show.php&quot; method=&quot;POST&quot;  enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;input type='text' name='inst_id' value='102'&gt;\n    &lt;input type='text' name='student_id' value='2305014'&gt;\n    &lt;button type=&quot;submit&quot;&gt;Post&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>And the link <code>(http://external.address.com/show.php)</code> show another view/html page in browser.</p>\n<p>How can I make this request with form-data and post/redirect it form my spring controller of my native application.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"score":5,"creation_date":1509374837,"post_id":47018120,"comment_id":80982641,"body_markdown":"And what have you tried so far?","body":"And what have you tried so far?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1509374858,"post_id":47018120,"comment_id":80982657,"body_markdown":"what are &#39;generators&#39;?","body":"what are &#39;generators&#39;?"},{"owner":{"account_id":415281,"reputation":461,"user_id":789999,"display_name":"Victor"},"score":0,"creation_date":1509374948,"post_id":47018120,"comment_id":80982740,"body_markdown":"If you want to take them randomly then you need to get random numbers to determine positions from where to take them","body":"If you want to take them randomly then you need to get random numbers to determine positions from where to take them"},{"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"score":5,"creation_date":1509374995,"post_id":47018120,"comment_id":80982768,"body_markdown":"1) Take 4 random indices. 2) Create an array with size 4. 3) Copy the 4 numbers to second array 4) Profit","body":"1) Take 4 random indices. 2) Create an array with size 4. 3) Copy the 4 numbers to second array 4) Profit"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1509374996,"post_id":47018120,"comment_id":80982769,"body_markdown":"hi there steve. what have you tried? please show us you made a reasonable attempt to get a random number through your code. And... generator? what are you referring to? Did you mean a constructor? atomic types such as `int` dont have constructors.","body":"hi there steve. what have you tried? please show us you made a reasonable attempt to get a random number through your code. And... generator? what are you referring to? Did you mean a constructor? atomic types such as <code>int</code> dont have constructors."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509375207,"post_id":47018120,"comment_id":80982947,"body_markdown":"@vikingsteve with *atomic* i think you refer to `primitives` right?","body":"@vikingsteve with <i>atomic</i> i think you refer to <code>primitives</code> right?"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1509375802,"post_id":47018120,"comment_id":80983372,"body_markdown":"@Lino correct, thx for clarifying","body":"@Lino correct, thx for clarifying"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1509375911,"post_id":47018120,"comment_id":80983468,"body_markdown":"@vikingsteve okay, thought i missed something about `int` being magically concurrent :)","body":"@vikingsteve okay, thought i missed something about <code>int</code> being magically concurrent :)"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1509395607,"post_id":47018120,"comment_id":80994472,"body_markdown":"@Lino not in this universe at least... ;)","body":"@Lino not in this universe at least... ;)"}],"answers":[{"tags":[],"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509376597,"creation_date":1509376597,"answer_id":47018706,"question_id":47018120,"body_markdown":"Below snippet should do the trick:\r\n\r\n    private static final Random RANDOM = new Random();\r\n\r\n    public int[] getRandom4( int[] input ){\r\n        final int[] output = new int[4];\r\n        for( int i = 0; i &lt; 4; i++ ){\r\n            output[i] = input[RANDOM.nextInt(input.length)];\r\n        }\r\n        return output;\r\n    }\r\n\r\n**Note:** I prefer the `Random` instance to be static, but if you dislike that. Then just move it inside the method","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>Below snippet should do the trick:</p>\n\n<pre><code>private static final Random RANDOM = new Random();\n\npublic int[] getRandom4( int[] input ){\n    final int[] output = new int[4];\n    for( int i = 0; i &lt; 4; i++ ){\n        output[i] = input[RANDOM.nextInt(input.length)];\n    }\n    return output;\n}\n</code></pre>\n\n<p><strong>Note:</strong> I prefer the <code>Random</code> instance to be static, but if you dislike that. Then just move it inside the method</p>\n"},{"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509382195,"creation_date":1509382195,"answer_id":47020391,"question_id":47018120,"body_markdown":"You can but the elements inside `ArrayList` instead of simple `array`\r\n \r\nand then shuffle the elements using`Collections.shuffle(list)`\r\n\r\nand then take first three or four elements or whatever you wants.","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>You can but the elements inside <code>ArrayList</code> instead of simple <code>array</code></p>\n\n<p>and then shuffle the elements using<code>Collections.shuffle(list)</code></p>\n\n<p>and then take first three or four elements or whatever you wants.</p>\n"},{"tags":[],"owner":{"account_id":23109521,"reputation":16,"user_id":17217653,"display_name":"Victor Fumei Rosenqvist 6CCE15"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683187479,"creation_date":1683187479,"answer_id":76170881,"question_id":47018120,"body_markdown":"To randomly select and move elements from one array to another in Java, you can use the Random class to generate a random index within the range of the original array, and then use that index to access and remove the element from the original array and add it to the new array.\r\n\r\nHere&#39;s an example code snippet that randomly selects four elements from the original array and inserts them into a new array called selected:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        int[] original = {1, 2, 3, 4, 5, 6, 7, 8};\r\n        int[] selected = new int[4];\r\n        Random rand = new Random();\r\n    \r\n        for (int i = 0; i &lt; selected.length; i++) {\r\n          int randomIndex = rand.nextInt(original.length);\r\n          selected[i] = original[randomIndex];\r\n          original[randomIndex] = original[original.length - 1];\r\n          original = Arrays.copyOf(original, original.length - 1);\r\n        }\r\n    \r\n        System.out.println(Arrays.toString(selected));\r\n      }\r\n    }\r\n\r\nRegarding your question about generators, you don&#39;t need to use any explicit generator in this code. The Random class takes care of generating the random numbers for us.","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>To randomly select and move elements from one array to another in Java, you can use the Random class to generate a random index within the range of the original array, and then use that index to access and remove the element from the original array and add it to the new array.</p>\n<p>Here's an example code snippet that randomly selects four elements from the original array and inserts them into a new array called selected:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n  public static void main(String[] args) {\n    int[] original = {1, 2, 3, 4, 5, 6, 7, 8};\n    int[] selected = new int[4];\n    Random rand = new Random();\n\n    for (int i = 0; i &lt; selected.length; i++) {\n      int randomIndex = rand.nextInt(original.length);\n      selected[i] = original[randomIndex];\n      original[randomIndex] = original[original.length - 1];\n      original = Arrays.copyOf(original, original.length - 1);\n    }\n\n    System.out.println(Arrays.toString(selected));\n  }\n}\n</code></pre>\n<p>Regarding your question about generators, you don't need to use any explicit generator in this code. The Random class takes care of generating the random numbers for us.</p>\n"}],"owner":{"account_id":9974587,"reputation":3,"user_id":7379643,"display_name":"Hamad Alsayed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"accepted_answer_id":76170881,"answer_count":3,"score":-7,"last_activity_date":1683187479,"creation_date":1509374785,"question_id":47018120,"body_markdown":"For example `int new [] {1, 2, 3, 4, 5, 6, 7, 8}`, I&#39;d like to take 4 of them randomly then insert them to another array for later use.\r\n\r\nDumb question, but does this also need generators? The elements are already there so I don&#39;t see any use for generators here...","title":"How do you randomly take an element from an array and insert it to another for later use in Java?","body":"<p>For example <code>int new [] {1, 2, 3, 4, 5, 6, 7, 8}</code>, I'd like to take 4 of them randomly then insert them to another array for later use.</p>\n\n<p>Dumb question, but does this also need generators? The elements are already there so I don't see any use for generators here...</p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1638875243,"post_id":70258883,"comment_id":124198434,"body_markdown":"When we were need smth. similar we implemented [AbstractChange](https://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/change/AbstractChange.java) which was registering other changesets.","body":"When we were need smth. similar we implemented <a href=\"https://github.com/liquibase/liquibase/blob/master/liquibase-core/src/main/java/liquibase/change/AbstractChange.java\" rel=\"nofollow noreferrer\">AbstractChange</a> which was registering other changesets."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1638875659,"post_id":70258883,"comment_id":124198605,"body_markdown":"@AndreyB.Panfilov I posted an answer. That seems to be the way to go for me.","body":"@AndreyB.Panfilov I posted an answer. That seems to be the way to go for me."}],"answers":[{"tags":[],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638875619,"creation_date":1638875619,"answer_id":70259140,"question_id":70258883,"body_markdown":"I brought down the source for `liquibase-core` and found there are helper methods already in there to execute a `changelogsync`. \r\n\r\nBasically the foundation of all CLI and plugins is the java based liquibase-core module so there are public methods to do all the possible tasks. They are simply not exposed to the spring module. \r\n\r\nI tried the below changelogsync method and it seems to do what needs to be done. \r\n\r\n\r\n[![ChangeLogSync methods in Liquibase.java file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s9OHo.png","title":"liquibase changelogsync with spring boot","body":"<p>I brought down the source for <code>liquibase-core</code> and found there are helper methods already in there to execute a <code>changelogsync</code>.</p>\n<p>Basically the foundation of all CLI and plugins is the java based liquibase-core module so there are public methods to do all the possible tasks. They are simply not exposed to the spring module.</p>\n<p>I tried the below changelogsync method and it seems to do what needs to be done.</p>\n<p><a href=\"https://i.stack.imgur.com/s9OHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s9OHo.png\" alt=\"ChangeLogSync methods in Liquibase.java file\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1638883329,"post_id":70259467,"comment_id":124201492,"body_markdown":"I think maybe I didnt mention this clearly. But I dont have issue number 2 as outlined in your answer. Only issue I have is with synching changelog against existing db. \n\ncan you please clarify further on why 1.1 is only reasonable for single client and what do you mean by a client in this context.","body":"I think maybe I didnt mention this clearly. But I dont have issue number 2 as outlined in your answer. Only issue I have is with synching changelog against existing db.   can you please clarify further on why 1.1 is only reasonable for single client and what do you mean by a client in this context."},{"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"score":0,"creation_date":1638883853,"post_id":70259467,"comment_id":124201725,"body_markdown":"you have both issues, #1 and #2, cause you ask `if there is a way to execute a changelogsync on application startup`. You consider this option, cause you want explicitly run `changelogsync`. You could avoid it entirely. I&#39;ll update my answer a bit later. I did exactly the same task, but only for JEE environment, not with Spring Boot.","body":"you have both issues, #1 and #2, cause you ask <code>if there is a way to execute a changelogsync on application startup</code>. You consider this option, cause you want explicitly run <code>changelogsync</code>. You could avoid it entirely. I&#39;ll update my answer a bit later. I did exactly the same task, but only for JEE environment, not with Spring Boot."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1638884577,"post_id":70259467,"comment_id":124202087,"body_markdown":"I also mentioned `I tested this against an empty database and works as expected and liquibase executes the changelog on application startup and maintains the DATABASECHANGELOG tables.` \nI do not have issue 2 since liquibase is already running on startup as expected and checking against the changelog table to check if a changeset needs to be executed or not.\n\nI just want to call the `changelogsync` command only when i set a specific property in `application-env.yml` as true. Because I want to control when liquibase blindly baselines the database using this property","body":"I also mentioned <code>I tested this against an empty database and works as expected and liquibase executes the changelog on application startup and maintains the DATABASECHANGELOG tables.</code>  I do not have issue 2 since liquibase is already running on startup as expected and checking against the changelog table to check if a changeset needs to be executed or not.  I just want to call the <code>changelogsync</code> command only when i set a specific property in <code>application-env.yml</code> as true. Because I want to control when liquibase blindly baselines the database using this property"},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1638884581,"post_id":70259467,"comment_id":124202091,"body_markdown":"and when this property is set to false, I want liquibase to run as expected and run only missing changesets.","body":"and when this property is set to false, I want liquibase to run as expected and run only missing changesets."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":0,"creation_date":1638884896,"post_id":70259467,"comment_id":124202258,"body_markdown":"I understand the solution you took by using a precondition to mark a changeset as executed on failure. It would work for me if I had a small changelog and if it only contains simple create/alter changesets. \nI currently have 10 microservices for which this needs to be done. Each microservice has its own changelog with an average of 20 changesets. \nIt seems error prone to go with manually adding preconditions per your suggestion for that scale. Especially when `changelogsync` allows us to do that automatically by turning off the update command altogether and protecting existing database.","body":"I understand the solution you took by using a precondition to mark a changeset as executed on failure. It would work for me if I had a small changelog and if it only contains simple create/alter changesets.  I currently have 10 microservices for which this needs to be done. Each microservice has its own changelog with an average of 20 changesets.  It seems error prone to go with manually adding preconditions per your suggestion for that scale. Especially when <code>changelogsync</code> allows us to do that automatically by turning off the update command altogether and protecting existing database."},{"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"score":0,"creation_date":1638886032,"post_id":70259467,"comment_id":124202812,"body_markdown":"@MukulGoel, yes, it is the error prone solution, you need to be carefull. You have 2 choices. Either you try to automate running `changeLogSync`, which is just a command, so it is possible but with external tool. Or you wrapp each statement in your log with preconditions, but it is the standard liquibase solution, not other tools. In my case I had ~10 tables but even in this case, met some issues.","body":"@MukulGoel, yes, it is the error prone solution, you need to be carefull. You have 2 choices. Either you try to automate running <code>changeLogSync</code>, which is just a command, so it is possible but with external tool. Or you wrapp each statement in your log with preconditions, but it is the standard liquibase solution, not other tools. In my case I had ~10 tables but even in this case, met some issues."}],"tags":[],"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638877145,"creation_date":1638877145,"answer_id":70259467,"question_id":70258883,"body_markdown":"There are 2 independent issues in your topic.\r\n\r\n1. Sync the existing databases with the new change log file. Liquibase must not try to run those changes on existing database, only on the new one.\r\n2. Trigger liquibase each time (not only once), when the application starts up. Liquibase using `DATABASECHANGELOG` table identifies, what changes have been applied. You do not need to try it run only once. \r\n\r\n\r\nFor the first issue, you have 2 options: \r\n\r\n1.1 Use `changeLogSync` or `changeLogSyncSQL`. It is reasonable only if you have a single client. \r\n\r\n1.2 A better approach, adopt the new change log file (each statement) with `preConditions`, like:\r\n\r\n    &lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;&lt;not&gt;&lt;tableExists tableName=&quot;settings&quot;/&gt;&lt;/not&gt;&lt;/preConditions&gt;\r\n\r\n\r\n2. To trigger liquibase with Spring Boot during application startup, there are 2 articles on the official site: \r\n\r\n[Using Liquibase with Spring Boot][1]\r\n\r\n[Using Liquibase with Spring Boot and Maven][2]\r\n\r\n\r\n\r\n  [1]: https://docs.liquibase.com/tools-integrations/springboot/springboot.html?Highlight=spring\r\n  [2]: https://docs.liquibase.com/tools-integrations/springboot/using-springboot-with-maven.html?Highlight=spring","title":"liquibase changelogsync with spring boot","body":"<p>There are 2 independent issues in your topic.</p>\n<ol>\n<li>Sync the existing databases with the new change log file. Liquibase must not try to run those changes on existing database, only on the new one.</li>\n<li>Trigger liquibase each time (not only once), when the application starts up. Liquibase using <code>DATABASECHANGELOG</code> table identifies, what changes have been applied. You do not need to try it run only once.</li>\n</ol>\n<p>For the first issue, you have 2 options:</p>\n<p>1.1 Use <code>changeLogSync</code> or <code>changeLogSyncSQL</code>. It is reasonable only if you have a single client.</p>\n<p>1.2 A better approach, adopt the new change log file (each statement) with <code>preConditions</code>, like:</p>\n<pre><code>&lt;preConditions onFail=&quot;MARK_RAN&quot;&gt;&lt;not&gt;&lt;tableExists tableName=&quot;settings&quot;/&gt;&lt;/not&gt;&lt;/preConditions&gt;\n</code></pre>\n<ol start=\"2\">\n<li>To trigger liquibase with Spring Boot during application startup, there are 2 articles on the official site:</li>\n</ol>\n<p><a href=\"https://docs.liquibase.com/tools-integrations/springboot/springboot.html?Highlight=spring\" rel=\"nofollow noreferrer\">Using Liquibase with Spring Boot</a></p>\n<p><a href=\"https://docs.liquibase.com/tools-integrations/springboot/using-springboot-with-maven.html?Highlight=spring\" rel=\"nofollow noreferrer\">Using Liquibase with Spring Boot and Maven</a></p>\n"}],"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683186965,"creation_date":1638874507,"question_id":70258883,"body_markdown":"I am migrating an existing database to be managed by liquibase. \r\n\r\nI have the changelog already. \r\nthe application is a spring boot application and I updated the pom with `liquibase-core` and set up the spring liquibase properties.\r\n\r\nI tested this against an empty database and works as expected and liquibase executes the changelog on application startup and maintains the `DATABASECHANGELOG` tables.\r\n\r\n\r\nNow the issue that I am facing is that the database already exist in all other environments and I just want to baseline the changelog against these environments on the first application run with liquibase migration done.\r\n\r\nI am aware that the liquibase `changelogsync` command is what I need and I am aware of the maven plugin that can execute it.\r\n\r\nHowever, the maven plugin is not my first preference as I do not want to bring in another component and was hoping if there is a way to execute a `changelogsync` on application startup like how the `liquibase-core executes the liquibase on app startup` and control that with a spring application property.\r\n\r\nI did a lot of research on this but only found answers using the maven plugin. ","title":"liquibase changelogsync with spring boot","body":"<p>I am migrating an existing database to be managed by liquibase.</p>\n<p>I have the changelog already.\nthe application is a spring boot application and I updated the pom with <code>liquibase-core</code> and set up the spring liquibase properties.</p>\n<p>I tested this against an empty database and works as expected and liquibase executes the changelog on application startup and maintains the <code>DATABASECHANGELOG</code> tables.</p>\n<p>Now the issue that I am facing is that the database already exist in all other environments and I just want to baseline the changelog against these environments on the first application run with liquibase migration done.</p>\n<p>I am aware that the liquibase <code>changelogsync</code> command is what I need and I am aware of the maven plugin that can execute it.</p>\n<p>However, the maven plugin is not my first preference as I do not want to bring in another component and was hoping if there is a way to execute a <code>changelogsync</code> on application startup like how the <code>liquibase-core executes the liquibase on app startup</code> and control that with a spring application property.</p>\n<p>I did a lot of research on this but only found answers using the maven plugin.</p>\n"},{"tags":["java","spring","spring-mvc","spring-annotations","path-variables"],"answers":[{"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1625986020,"creation_date":1433420653,"answer_id":30643764,"question_id":30641675,"body_markdown":"Can you try with below snippet:\r\n\r\n    @RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \r\n    public Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(value=&quot;page&quot;, required=false) int page, @RequestParam(value=&quot;size&quot;, required=false) int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\r\n        return nodeService.getConnectedNodes(nodeId, relType,page,size);    \r\n    }\r\n\r\n","title":"@PathVariable and @RequestParam not working together","body":"<p>Can you try with below snippet:</p>\n<pre><code>@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \npublic Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(value=&quot;page&quot;, required=false) int page, @RequestParam(value=&quot;size&quot;, required=false) int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\n    return nodeService.getConnectedNodes(nodeId, relType,page,size);    \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1683214673,"post_id":76170742,"comment_id":134335689,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76170742/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13376204,"reputation":1,"user_id":9653022,"display_name":"Tshepo Thoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683186534,"creation_date":1683186486,"answer_id":76170742,"question_id":30641675,"body_markdown":"@Parameter(name = &quot;nodeId&quot;, in = ParameterIn.PATH)\r\n\r\n@Parameter(name = &quot;relType&quot;, in = ParameterIn.PATH)*\r\n\r\n@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \r\npublic Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\r\n    return nodeService.getConnectedNodes(nodeId, relType,page,size);   ","title":"@PathVariable and @RequestParam not working together","body":"<p>@Parameter(name = &quot;nodeId&quot;, in = ParameterIn.PATH)</p>\n<p>@Parameter(name = &quot;relType&quot;, in = ParameterIn.PATH)*</p>\n<p>@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)<br />\npublic Iterable getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\nreturn nodeService.getConnectedNodes(nodeId, relType,page,size);</p>\n"}],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5894,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30643764,"answer_count":2,"score":7,"last_activity_date":1683186534,"creation_date":1433414443,"question_id":30641675,"body_markdown":"I have below code in my controller:\r\n\r\n    @RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \r\n    public Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\r\n        return nodeService.getConnectedNodes(nodeId, relType,page,size);    \r\n    }\r\n\r\nAnd this is the API URL I am hitting \r\n\r\nhttp://localhost:8080/node/child/e17a64ff-dc2b-49b1-a995-67dba9413d67/Collegues?page=0&amp;size=1\r\n\r\nHere in debug mode I can see values of path variables, i.e. `nodeId` and `relType`, but can not see values of request param `page` and `size` which I am passing through my request in URL above.\r\n\r\nWhat&#39;s wrong with @RequestParam?\r\n","title":"@PathVariable and @RequestParam not working together","body":"<p>I have below code in my controller:</p>\n<pre><code>@RequestMapping(value = &quot;/child/{nodeId}/{relType}&quot;,method = RequestMethod.GET, produces=MediaType.APPLICATION_JSON)    \npublic Iterable&lt;Node&gt; getConnectedNodes(@RequestParam(&quot;page&quot;)int page, @RequestParam(&quot;size&quot;)int size, @PathVariable(&quot;nodeId&quot;) String nodeId, @PathVariable(&quot;relType&quot;) String relType) {\n    return nodeService.getConnectedNodes(nodeId, relType,page,size);    \n}\n</code></pre>\n<p>And this is the API URL I am hitting</p>\n<p>http://localhost:8080/node/child/e17a64ff-dc2b-49b1-a995-67dba9413d67/Collegues?page=0&amp;size=1</p>\n<p>Here in debug mode I can see values of path variables, i.e. <code>nodeId</code> and <code>relType</code>, but can not see values of request param <code>page</code> and <code>size</code> which I am passing through my request in URL above.</p>\n<p>What's wrong with @RequestParam?</p>\n"},{"tags":["java","spring","spring-boot","quartz-scheduler","spring-boot-actuator"],"comments":[{"owner":{"account_id":22562332,"reputation":582,"user_id":16749821,"display_name":"Hans-Christian"},"score":0,"creation_date":1684220122,"post_id":76167975,"comment_id":134481474,"body_markdown":"Try to have a look at how the quartz actuator endpoint is implement and see if you can fetch the same information, see this link for the source code: https://github.com/spring-projects/spring-boot/blob/1c8bd93fe5fd79b4499e313133ebfb2bce3b6bc1/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/quartz/QuartzEndpoint.java#L115","body":"Try to have a look at how the quartz actuator endpoint is implement and see if you can fetch the same information, see this link for the source code: <a href=\"https://github.com/spring-projects/spring-boot/blob/1c8bd93fe5fd79b4499e313133ebfb2bce3b6bc1/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/quartz/QuartzEndpoint.java#L115\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/&hellip;</a>"}],"owner":{"account_id":337076,"reputation":144,"user_id":3816621,"display_name":"user3816621"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683186311,"creation_date":1683147870,"question_id":76167975,"body_markdown":"I would like to implement liveness health indicator which will base on data described here:\r\n\r\n[https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group\r\n](https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group)\r\n\r\nMy goal is to access this data from the same application which expose this endpoint, from code.\r\n\r\nI&#39;m using: Spring Boot 2.6.7\r\n\r\nI tried to retrieve it from `MeterRegistry` but there are no &quot;quartz&quot; related metrics.\r\n\r\nI care most about these 2 metrics:\r\n```\r\n&quot;previousFireTime&quot; : &quot;2020-12-04T03:00:00.000+00:00&quot;,\r\n&quot;nextFireTime&quot;     : &quot;2020-12-07T03:00:00.000+00:00&quot;,\r\n```\r\n\r\nI know that I can get nextFireTime and previousFireTime from `JobExecutionContext` in Job implementation class but in our service this method:\r\n\r\n```\r\n  @Override\r\n  public void execute(JobExecutionContext context) {\r\n  ...\r\n  }\r\n```\r\n\r\nRandomly stop executing and the role of this health indicator will be to detect it.","title":"How to get /actuator/quartz metrics from code?","body":"<p>I would like to implement liveness health indicator which will base on data described here:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.6.7/actuator-api/htmlsingle/#quartz.trigger-group\n</a></p>\n<p>My goal is to access this data from the same application which expose this endpoint, from code.</p>\n<p>I'm using: Spring Boot 2.6.7</p>\n<p>I tried to retrieve it from <code>MeterRegistry</code> but there are no &quot;quartz&quot; related metrics.</p>\n<p>I care most about these 2 metrics:</p>\n<pre><code>&quot;previousFireTime&quot; : &quot;2020-12-04T03:00:00.000+00:00&quot;,\n&quot;nextFireTime&quot;     : &quot;2020-12-07T03:00:00.000+00:00&quot;,\n</code></pre>\n<p>I know that I can get nextFireTime and previousFireTime from <code>JobExecutionContext</code> in Job implementation class but in our service this method:</p>\n<pre><code>  @Override\n  public void execute(JobExecutionContext context) {\n  ...\n  }\n</code></pre>\n<p>Randomly stop executing and the role of this health indicator will be to detect it.</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683186306,"creation_date":1683186306,"question_id":76170715,"body_markdown":"I have this business object:\r\n\r\n```java\r\npublic class Association implements Serializable {\r\n   /** Serial ID.*/\r\n   @Serial\r\n   private static final long serialVersionUID = -7206954677114644630L;\r\n\r\n   /** Num&#233;ro Waldec national unique de l’association. */\r\n   private NumeroWaldec numeroWaldec;\r\n   \r\n   /** Ancien num&#233;ro waldec. */\r\n   private AncienNumeroWaldec ancienNumeroWaldec;\r\n   \r\n   /** Siret de l&#39;association (facultatif). */\r\n   private SIRET siret;\r\n   \r\n   /** Num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re. */\r\n   private NumeroRUP numeroRUP;\r\n   [...]\r\n\r\n   /**\r\n    * Construire une association.\r\n    */\r\n   public Association() {\r\n   }\r\n\r\n   /**\r\n    * Construire une association.\r\n    * @param numeroWaldec Num&#233;ro waldec de l&#39;association.\r\n    * @param ancienNumeroWaldec Ancien num&#233;ro waldec de l&#39;association.\r\n    * @param siret SIRET de l&#39;association.\r\n    * @param numeroRUP N&#176; de RUP attribu&#233; par le Minist&#232;re.\r\n    * [...]\r\n    */\r\n   public Association(String numeroWaldec, String ancienNumeroWaldec, String siret, String numeroRUP, String gestion,\r\n         String nature, String groupement, String titre, String titreCourt, String objet, \r\n         String codeObjetSocial1, String codeObjetSocial2, String nomDeclarant, String civiliteDeclarant, String siteWeb, \r\n         String autorisationPublicationWeb, String observation, String positionActivite, Instant majTime, String libelleObjetSocial1, \r\n         String libelleObjetSocial2, String codeCommune, String nomCommune, String codeRegion, String codeDepartement, \r\n         String codeEPCI, String nomEPCI, Integer populationTotale, LocalDate dateCreation, LocalDate dateDerniereDeclaration,\r\n         LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, Double nombreAnneesDerniereDeclaration, String adresseSiegeComplement, \r\n         String adresseSiegeNumeroVoie, String adresseSiegeTypeVoie, String adresseSiegeLibelleVoie, String adresseSiegeDistribution, \r\n         String adresseSiegeCodePostal, String adresseGestionComplementAssociation, String adresseGestionComplementGeo, String adresseGestionLibelleVoie, String adresseGestionDistributionFacturation, \r\n         String adresseGestionCodePostal, String adresseGestionAchemine, String adresseGestionPays) {\r\n      this(numeroWaldec != null ? new NumeroWaldec(numeroWaldec) : null, \r\n         ancienNumeroWaldec != null ? new AncienNumeroWaldec(ancienNumeroWaldec) : null, \r\n         siret != null ? new SIRET(siret) : null, \r\n         numeroRUP != null ? new NumeroRUP(numeroRUP) : null, \r\n         gestion,\r\n         \r\n         nature,\r\n         groupement != null ? Arrays.stream(RegroupementAssociation.values()).filter(e -&gt; groupement.equals(e.getCode())).findFirst().get() : null,\r\n         titre, \r\n         titreCourt, \r\n         objet, \r\n         \r\n         codeObjetSocial1, \r\n         codeObjetSocial2,\r\n         \r\n         new Adresse(titreCourt, null, adresseSiegeComplement, adresseSiegeNumeroVoie, adresseSiegeTypeVoie,\r\n               null, adresseSiegeLibelleVoie, adresseSiegeCodePostal, null, adresseSiegeDistribution, \r\n               null, codeCommune, nomCommune, null, null, null),\r\n         \r\n         nomDeclarant,\r\n         \r\n         new Adresse(adresseGestionComplementGeo, adresseGestionAchemine, adresseGestionComplementAssociation, null, null,\r\n               null, adresseGestionLibelleVoie, adresseGestionCodePostal, null, adresseGestionDistributionFacturation, \r\n               null, null, null, null, adresseGestionPays, null),\r\n         \r\n         civiliteDeclarant, \r\n         siteWeb, \r\n         toBoolean(autorisationPublicationWeb), \r\n         observation, \r\n         positionActivite, \r\n         \r\n         majTime, \r\n         libelleObjetSocial1, \r\n         libelleObjetSocial2,\r\n         codeCommune != null ? new CodeCommune(codeCommune) : null, \r\n         nomCommune, \r\n         \r\n         codeRegion != null ? new CodeRegion(codeRegion) : null, \r\n         codeDepartement != null ? new CodeDepartement(codeDepartement) : null, \r\n         codeEPCI != null ? new SIRET(codeEPCI) : null,\r\n         nomEPCI, \r\n         populationTotale,\r\n         \r\n         dateCreation, \r\n         dateDerniereDeclaration, \r\n         datePublicationJOcreation, \r\n         dateDissolution, \r\n         nombreAnneesExistence, \r\n         nombreAnneesDerniereDeclaration);\r\n   }\r\n   \r\n   /**\r\n    * Construire une association.\r\n    * @param numeroWaldec Num&#233;ro waldec de l&#39;association.\r\n    * @param ancienNumeroWaldec Ancien num&#233;ro waldec de l&#39;association.\r\n    * @param siret SIRET de l&#39;association.\r\n    * @param numeroRUP N&#176; de RUP attribu&#233; par le Minist&#232;re.\r\n    * [...]\r\n    */\r\n   public Association(NumeroWaldec numeroWaldec, AncienNumeroWaldec ancienNumeroWaldec, SIRET siret, NumeroRUP numeroRUP, String gestion, \r\n         String nature, RegroupementAssociation groupement, String titre, String titreCourt, String objet, \r\n         String codeObjetSocial1, String codeObjetSocial2, Adresse adresseSiege, String nomDeclarant, Adresse adresseGestion, \r\n         String civiliteDeclarant, String siteWeb, boolean autorisationPublicationWeb, String observation, String positionActivite, \r\n         Instant majTime, String libelleObjetSocial1, String libelleObjetSocial2, CodeCommune codeCommune, String nomCommune, \r\n         CodeRegion codeRegion, CodeDepartement codeDepartement, SIRET codeEPCI, String nomEPCI, Integer populationTotale, \r\n         LocalDate dateCreation, LocalDate dateDerniereDeclaration, LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, \r\n         Double nombreAnneesDerniereDeclaration) {\r\n      this.numeroWaldec = numeroWaldec;\r\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\r\n      this.siret = siret;\r\n      this.numeroRUP = numeroRUP;\r\n      [...]\r\n   }\r\n   \r\n   /**\r\n    * Renvoyer le num&#233;ro waldec de l&#39;association.\r\n    * @return Num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public NumeroWaldec getNumeroWaldec() {\r\n      return this.numeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Fixer le num&#233;ro waldec de l&#39;association.\r\n    * @param numeroWaldec Num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public void setNumeroWaldec(NumeroWaldec numeroWaldec) {\r\n      this.numeroWaldec = numeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer l&#39;ancien num&#233;ro waldec de l&#39;association.\r\n    * @return Ancien num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public AncienNumeroWaldec getAncienNumeroWaldec() {\r\n      return this.ancienNumeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Fixer l&#39;ancien num&#233;ro waldec de l&#39;association.\r\n    * @param ancienNumeroWaldec Ancien num&#233;ro waldec de l&#39;association.\r\n    */\r\n   public void setAncienNumeroWaldec(AncienNumeroWaldec ancienNumeroWaldec) {\r\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le siret de l&#39;association.\r\n    * @return SIRET.\r\n    */\r\n   public SIRET getSiret() {\r\n      return this.siret;\r\n   }\r\n\r\n   /**\r\n    * Fixer le siret de l&#39;association.\r\n    * @param siret SIRET.\r\n    */\r\n   public void setSiret(SIRET siret) {\r\n      this.siret = siret;\r\n   }\r\n\r\n   /**\r\n    * Renvoyer le num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re.\r\n    * @return Num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re..\r\n    */\r\n   public NumeroRUP getNumeroRUP() {\r\n      return this.numeroRUP;\r\n   }\r\n\r\n   /**\r\n    * Fixer le num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re.\r\n    * @param numeroRUP Num&#233;ro d&#39;association reconnue d&#39;utilit&#233; publique (RUP) attribu&#233; par le Minist&#232;re.\r\n    */\r\n   public void setNumeroRUP(NumeroRUP numeroRUP) {\r\n      this.numeroRUP = numeroRUP;\r\n   }\r\n[...]\r\n}\r\n```\r\n\r\nI have a test, extracting a `Dataset&lt;Association&gt;` from a `Dataset&lt;Row&gt;`, that is working well. It has to use an `Encoders.bean(Association.class)` in a step of what it is doing:\r\n\r\n```java\r\n/**\r\n * Lecture d&#39;associations, sous forme d&#39;objets m&#233;tiers.\r\n */\r\n@Test\r\n@DisplayName(&quot;Associations en objets m&#233;tiers&quot;)\r\nvoid associationObjetsMetiers() {\r\n   Dataset&lt;Row&gt; rowAssociations = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications)\r\n      .limit(100);\r\n\r\n   List&lt;Association&gt; associations = this.associationsDataset.toObjetsMetiersList(rowAssociations);\r\n   assertNotEquals(0, associations.size(), &quot;Un objet m&#233;tier association au moins aurait du &#234;tre obtenue&quot;);\r\n}\r\n```\r\n\r\nwhere `associationsDataset.toObjetsMetiersList(rowAssociations)` goes through a piece of code:\r\n\r\n```java\r\nrows.map((MapFunction&lt;Row, Association&gt;)this::toObjetMetier, Encoders.bean(Association.class))\r\n```\r\n\r\nwith:\r\n\r\n```java\r\npublic Association toObjetMetier(Row r) {\r\n   return new Association(r.getAs(&quot;numero_waldec&quot;),\r\n      r.getAs(&quot;ancien_numero_waldec&quot;),\r\n      r.getAs(&quot;siret&quot;),\r\n      r.getAs(&quot;numero_rup&quot;),\r\n      [...]\r\n}\r\n```\r\n\r\nBut I have also another simpler test, converting a single `Row` to an `Association`:\r\n\r\n```java\r\n/**\r\n * Lecture d&#39;associations, sous forme d&#39;objets m&#233;tiers.\r\n */\r\n@Test\r\n@DisplayName(&quot;Row en objet m&#233;tier&quot;)\r\nvoid associationObjetMetier() {\r\n   Row rowAssociation = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications).first();\r\n\r\n   assertDoesNotThrow(() -&gt; {\r\n      Association association = this.associationsDataset.toObjetMetier(rowAssociation);\r\n      LOGGER.info(&quot;Association lue  par conversion de Row en objet m&#233;tier : {}&quot;, association);\r\n      });\r\n}\r\n```\r\n\r\nand it is working very well too!  \r\n...But it isn&#39;t using any encoder.\r\n\r\n```\r\n2023-05-04 09:22:25.665  INFO 42379 --- [           main] f.e.a.o.s.d.a.AssociationsDatasetIT      : Association lue  par conversion de Row en objet m&#233;tier : fr.ecoemploi.domain.model.territoire.association.Association@3594aadb[adresseGestion=Adresse {nom : null, compl&#233;ment de nom : VILLENEUVE-DE-BERG, compl&#233;ment de voie : null, type de voie : null, num&#233;ro dans la voie : null, r&#233;p&#233;tition dans la voie : null, voie : 238  RUE DU JARDIN PUBLIC, code postal : 07170, commune : null, commentaire : null, code commune: null, bureau distributeur : null, code cedex : null, libell&#233; cedex : null, code pays &#233;tranger : null, nom pays &#233;tranger : FRANCE},adresseSiege=Adresse {nom : UNION REGIONALE DES FOYERS RURAUX R..., compl&#233;ment de nom : null, compl&#233;ment de voie : null, type de voie : RUE, num&#233;ro dans la voie : null, r&#233;p&#233;tition dans la voie : 238, voie : du jardin public, code postal : 07170, commune : Villeneuve-de-Berg, commentaire : null, code commune: null, bureau distributeur : _, code cedex : null, libell&#233; cedex : 07341, code pays &#233;tranger : null, nom pays &#233;tranger : null},ancienNumeroWaldec=0012006868,autorisationPublicationWeb=false,civiliteDeclarant=PM,codeCommune=07341,codeDepartement=07,codeEPCI=240700815,codeObjetSocial1=009035,codeObjetSocial2=023040,codeRegion=84,dateCreation=1986-07-11,dateDerniereDeclaration=2012-06-27,dateDissolution=1901-01-01,datePublicationJOcreation=1986-08-06,gestion=071S,groupement=SIMPLE,libelleObjetSocial1=Foyers ruraux,libelleObjetSocial2=Repr&#233;sentation d&#39;int&#233;r&#234;ts &#233;conomiques sectoriels,majTime=2012-06-27T13:23:30Z,nature=D,nomCommune=Villeneuve-de-Berg,nomDeclarant=&lt;null&gt;,nomEPCI=CC Berg et Coiron,nombreAnneesDerniereDeclaration=10.857534246575343,nombreAnneesExistence=36.83835616438356,numeroRUP=&lt;null&gt;,numeroWaldec=W012003219,objet=susciter et d&#39;encourager la cr&#233;ation de foyers ruraux et associations et de faciliter la constitution et le fonctionnement des f&#233;d&#233;rations d&#233;partementales\r\n la solidarit&#233; entre ses membres\r\n un r&#244;le d&#39;information et de documentation\r\n  procurer &#224; ses membres la documentation et les renseignements de tous ordres dont ils peuvent avoir besoin et de mettre &#224; leur disposition les moyens dont elle b&#233;n&#233;ficie\r\n servir de centre permanent de relations\r\n de r&#233;flexion et de recherche\r\n organiser la formation et le perfectionnement des animateurs professionnels et b&#233;n&#233;voles du mouvement et plus g&#233;n&#233;ralement du milieu rural\r\n participer et contribuer de fa&#231;on active et permanente &#224; toute action favorisant le d&#233;veloppement culturel, &#233;conomique et social du milieu rural\r\n favoriser de d&#233;veloppement en contribuant en particulier &#224; la promotion des produits agricoles, des produits artisanaux et autres\r\n contribuer et s&#39;engager dans toute action d&#39;accueil et de tourisme social et rural,observation=Reprise  =&gt;  date publication cr&#233;ation au JO &#224; v&#233;rifier date ag=0000-00-00,populationTotale=3097,positionActivite=A,siret=&lt;null&gt;,siteWeb=&lt;null&gt;,titre=UNION REGIONALE DES FOYERS RURAUX RH&#212;NE-ALPES  (U.R.F.R.  RH&#212;NE-ALPES),titreCourt=UNION REGIONALE DES FOYERS RURAUX R...,ejecter=false]\r\n```\r\n\r\nSo I conclude that `Encoders.bean(Association.class)` isn&#39;t really necessary to the Spark map function, provided I&#39;m creating myself the wished instance of each target business object with a `new` calling a constructor with all the properties of that business object.\r\n\r\nDo I have a way to remove the `Encoders.bean(Association.class)` in the map function?","title":"Why does the map function, in Java Spark, need an Encoder? It looks sometimes superfluous. Do I have a way asking map function not to use any encoder?","body":"<p>I have this business object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Association implements Serializable {\n   /** Serial ID.*/\n   @Serial\n   private static final long serialVersionUID = -7206954677114644630L;\n\n   /** Numéro Waldec national unique de l’association. */\n   private NumeroWaldec numeroWaldec;\n   \n   /** Ancien numéro waldec. */\n   private AncienNumeroWaldec ancienNumeroWaldec;\n   \n   /** Siret de l'association (facultatif). */\n   private SIRET siret;\n   \n   /** Numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère. */\n   private NumeroRUP numeroRUP;\n   [...]\n\n   /**\n    * Construire une association.\n    */\n   public Association() {\n   }\n\n   /**\n    * Construire une association.\n    * @param numeroWaldec Numéro waldec de l'association.\n    * @param ancienNumeroWaldec Ancien numéro waldec de l'association.\n    * @param siret SIRET de l'association.\n    * @param numeroRUP N° de RUP attribué par le Ministère.\n    * [...]\n    */\n   public Association(String numeroWaldec, String ancienNumeroWaldec, String siret, String numeroRUP, String gestion,\n         String nature, String groupement, String titre, String titreCourt, String objet, \n         String codeObjetSocial1, String codeObjetSocial2, String nomDeclarant, String civiliteDeclarant, String siteWeb, \n         String autorisationPublicationWeb, String observation, String positionActivite, Instant majTime, String libelleObjetSocial1, \n         String libelleObjetSocial2, String codeCommune, String nomCommune, String codeRegion, String codeDepartement, \n         String codeEPCI, String nomEPCI, Integer populationTotale, LocalDate dateCreation, LocalDate dateDerniereDeclaration,\n         LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, Double nombreAnneesDerniereDeclaration, String adresseSiegeComplement, \n         String adresseSiegeNumeroVoie, String adresseSiegeTypeVoie, String adresseSiegeLibelleVoie, String adresseSiegeDistribution, \n         String adresseSiegeCodePostal, String adresseGestionComplementAssociation, String adresseGestionComplementGeo, String adresseGestionLibelleVoie, String adresseGestionDistributionFacturation, \n         String adresseGestionCodePostal, String adresseGestionAchemine, String adresseGestionPays) {\n      this(numeroWaldec != null ? new NumeroWaldec(numeroWaldec) : null, \n         ancienNumeroWaldec != null ? new AncienNumeroWaldec(ancienNumeroWaldec) : null, \n         siret != null ? new SIRET(siret) : null, \n         numeroRUP != null ? new NumeroRUP(numeroRUP) : null, \n         gestion,\n         \n         nature,\n         groupement != null ? Arrays.stream(RegroupementAssociation.values()).filter(e -&gt; groupement.equals(e.getCode())).findFirst().get() : null,\n         titre, \n         titreCourt, \n         objet, \n         \n         codeObjetSocial1, \n         codeObjetSocial2,\n         \n         new Adresse(titreCourt, null, adresseSiegeComplement, adresseSiegeNumeroVoie, adresseSiegeTypeVoie,\n               null, adresseSiegeLibelleVoie, adresseSiegeCodePostal, null, adresseSiegeDistribution, \n               null, codeCommune, nomCommune, null, null, null),\n         \n         nomDeclarant,\n         \n         new Adresse(adresseGestionComplementGeo, adresseGestionAchemine, adresseGestionComplementAssociation, null, null,\n               null, adresseGestionLibelleVoie, adresseGestionCodePostal, null, adresseGestionDistributionFacturation, \n               null, null, null, null, adresseGestionPays, null),\n         \n         civiliteDeclarant, \n         siteWeb, \n         toBoolean(autorisationPublicationWeb), \n         observation, \n         positionActivite, \n         \n         majTime, \n         libelleObjetSocial1, \n         libelleObjetSocial2,\n         codeCommune != null ? new CodeCommune(codeCommune) : null, \n         nomCommune, \n         \n         codeRegion != null ? new CodeRegion(codeRegion) : null, \n         codeDepartement != null ? new CodeDepartement(codeDepartement) : null, \n         codeEPCI != null ? new SIRET(codeEPCI) : null,\n         nomEPCI, \n         populationTotale,\n         \n         dateCreation, \n         dateDerniereDeclaration, \n         datePublicationJOcreation, \n         dateDissolution, \n         nombreAnneesExistence, \n         nombreAnneesDerniereDeclaration);\n   }\n   \n   /**\n    * Construire une association.\n    * @param numeroWaldec Numéro waldec de l'association.\n    * @param ancienNumeroWaldec Ancien numéro waldec de l'association.\n    * @param siret SIRET de l'association.\n    * @param numeroRUP N° de RUP attribué par le Ministère.\n    * [...]\n    */\n   public Association(NumeroWaldec numeroWaldec, AncienNumeroWaldec ancienNumeroWaldec, SIRET siret, NumeroRUP numeroRUP, String gestion, \n         String nature, RegroupementAssociation groupement, String titre, String titreCourt, String objet, \n         String codeObjetSocial1, String codeObjetSocial2, Adresse adresseSiege, String nomDeclarant, Adresse adresseGestion, \n         String civiliteDeclarant, String siteWeb, boolean autorisationPublicationWeb, String observation, String positionActivite, \n         Instant majTime, String libelleObjetSocial1, String libelleObjetSocial2, CodeCommune codeCommune, String nomCommune, \n         CodeRegion codeRegion, CodeDepartement codeDepartement, SIRET codeEPCI, String nomEPCI, Integer populationTotale, \n         LocalDate dateCreation, LocalDate dateDerniereDeclaration, LocalDate datePublicationJOcreation, LocalDate dateDissolution, Double nombreAnneesExistence, \n         Double nombreAnneesDerniereDeclaration) {\n      this.numeroWaldec = numeroWaldec;\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\n      this.siret = siret;\n      this.numeroRUP = numeroRUP;\n      [...]\n   }\n   \n   /**\n    * Renvoyer le numéro waldec de l'association.\n    * @return Numéro waldec de l'association.\n    */\n   public NumeroWaldec getNumeroWaldec() {\n      return this.numeroWaldec;\n   }\n\n   /**\n    * Fixer le numéro waldec de l'association.\n    * @param numeroWaldec Numéro waldec de l'association.\n    */\n   public void setNumeroWaldec(NumeroWaldec numeroWaldec) {\n      this.numeroWaldec = numeroWaldec;\n   }\n\n   /**\n    * Renvoyer l'ancien numéro waldec de l'association.\n    * @return Ancien numéro waldec de l'association.\n    */\n   public AncienNumeroWaldec getAncienNumeroWaldec() {\n      return this.ancienNumeroWaldec;\n   }\n\n   /**\n    * Fixer l'ancien numéro waldec de l'association.\n    * @param ancienNumeroWaldec Ancien numéro waldec de l'association.\n    */\n   public void setAncienNumeroWaldec(AncienNumeroWaldec ancienNumeroWaldec) {\n      this.ancienNumeroWaldec = ancienNumeroWaldec;\n   }\n\n   /**\n    * Renvoyer le siret de l'association.\n    * @return SIRET.\n    */\n   public SIRET getSiret() {\n      return this.siret;\n   }\n\n   /**\n    * Fixer le siret de l'association.\n    * @param siret SIRET.\n    */\n   public void setSiret(SIRET siret) {\n      this.siret = siret;\n   }\n\n   /**\n    * Renvoyer le numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère.\n    * @return Numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère..\n    */\n   public NumeroRUP getNumeroRUP() {\n      return this.numeroRUP;\n   }\n\n   /**\n    * Fixer le numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère.\n    * @param numeroRUP Numéro d'association reconnue d'utilité publique (RUP) attribué par le Ministère.\n    */\n   public void setNumeroRUP(NumeroRUP numeroRUP) {\n      this.numeroRUP = numeroRUP;\n   }\n[...]\n}\n</code></pre>\n<p>I have a test, extracting a <code>Dataset&lt;Association&gt;</code> from a <code>Dataset&lt;Row&gt;</code>, that is working well. It has to use an <code>Encoders.bean(Association.class)</code> in a step of what it is doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Lecture d'associations, sous forme d'objets métiers.\n */\n@Test\n@DisplayName(&quot;Associations en objets métiers&quot;)\nvoid associationObjetsMetiers() {\n   Dataset&lt;Row&gt; rowAssociations = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications)\n      .limit(100);\n\n   List&lt;Association&gt; associations = this.associationsDataset.toObjetsMetiersList(rowAssociations);\n   assertNotEquals(0, associations.size(), &quot;Un objet métier association au moins aurait du être obtenue&quot;);\n}\n</code></pre>\n<p>where <code>associationsDataset.toObjetsMetiersList(rowAssociations)</code> goes through a piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>rows.map((MapFunction&lt;Row, Association&gt;)this::toObjetMetier, Encoders.bean(Association.class))\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Association toObjetMetier(Row r) {\n   return new Association(r.getAs(&quot;numero_waldec&quot;),\n      r.getAs(&quot;ancien_numero_waldec&quot;),\n      r.getAs(&quot;siret&quot;),\n      r.getAs(&quot;numero_rup&quot;),\n      [...]\n}\n</code></pre>\n<p>But I have also another simpler test, converting a single <code>Row</code> to an <code>Association</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Lecture d'associations, sous forme d'objets métiers.\n */\n@Test\n@DisplayName(&quot;Row en objet métier&quot;)\nvoid associationObjetMetier() {\n   Row rowAssociation = this.associationsDataset.rowAssociations(this.session, ANNEE_RNA, COG, true, AssociationWaldecTri.RNA_WALDEC, this.verifications).first();\n\n   assertDoesNotThrow(() -&gt; {\n      Association association = this.associationsDataset.toObjetMetier(rowAssociation);\n      LOGGER.info(&quot;Association lue  par conversion de Row en objet métier : {}&quot;, association);\n      });\n}\n</code></pre>\n<p>and it is working very well too!<br />\n...But it isn't using any encoder.</p>\n<pre><code>2023-05-04 09:22:25.665  INFO 42379 --- [           main] f.e.a.o.s.d.a.AssociationsDatasetIT      : Association lue  par conversion de Row en objet métier : fr.ecoemploi.domain.model.territoire.association.Association@3594aadb[adresseGestion=Adresse {nom : null, complément de nom : VILLENEUVE-DE-BERG, complément de voie : null, type de voie : null, numéro dans la voie : null, répétition dans la voie : null, voie : 238  RUE DU JARDIN PUBLIC, code postal : 07170, commune : null, commentaire : null, code commune: null, bureau distributeur : null, code cedex : null, libellé cedex : null, code pays étranger : null, nom pays étranger : FRANCE},adresseSiege=Adresse {nom : UNION REGIONALE DES FOYERS RURAUX R..., complément de nom : null, complément de voie : null, type de voie : RUE, numéro dans la voie : null, répétition dans la voie : 238, voie : du jardin public, code postal : 07170, commune : Villeneuve-de-Berg, commentaire : null, code commune: null, bureau distributeur : _, code cedex : null, libellé cedex : 07341, code pays étranger : null, nom pays étranger : null},ancienNumeroWaldec=0012006868,autorisationPublicationWeb=false,civiliteDeclarant=PM,codeCommune=07341,codeDepartement=07,codeEPCI=240700815,codeObjetSocial1=009035,codeObjetSocial2=023040,codeRegion=84,dateCreation=1986-07-11,dateDerniereDeclaration=2012-06-27,dateDissolution=1901-01-01,datePublicationJOcreation=1986-08-06,gestion=071S,groupement=SIMPLE,libelleObjetSocial1=Foyers ruraux,libelleObjetSocial2=Représentation d'intérêts économiques sectoriels,majTime=2012-06-27T13:23:30Z,nature=D,nomCommune=Villeneuve-de-Berg,nomDeclarant=&lt;null&gt;,nomEPCI=CC Berg et Coiron,nombreAnneesDerniereDeclaration=10.857534246575343,nombreAnneesExistence=36.83835616438356,numeroRUP=&lt;null&gt;,numeroWaldec=W012003219,objet=susciter et d'encourager la création de foyers ruraux et associations et de faciliter la constitution et le fonctionnement des fédérations départementales\n la solidarité entre ses membres\n un rôle d'information et de documentation\n  procurer à ses membres la documentation et les renseignements de tous ordres dont ils peuvent avoir besoin et de mettre à leur disposition les moyens dont elle bénéficie\n servir de centre permanent de relations\n de réflexion et de recherche\n organiser la formation et le perfectionnement des animateurs professionnels et bénévoles du mouvement et plus généralement du milieu rural\n participer et contribuer de façon active et permanente à toute action favorisant le développement culturel, économique et social du milieu rural\n favoriser de développement en contribuant en particulier à la promotion des produits agricoles, des produits artisanaux et autres\n contribuer et s'engager dans toute action d'accueil et de tourisme social et rural,observation=Reprise  =&gt;  date publication création au JO à vérifier date ag=0000-00-00,populationTotale=3097,positionActivite=A,siret=&lt;null&gt;,siteWeb=&lt;null&gt;,titre=UNION REGIONALE DES FOYERS RURAUX RHÔNE-ALPES  (U.R.F.R.  RHÔNE-ALPES),titreCourt=UNION REGIONALE DES FOYERS RURAUX R...,ejecter=false]\n</code></pre>\n<p>So I conclude that <code>Encoders.bean(Association.class)</code> isn't really necessary to the Spark map function, provided I'm creating myself the wished instance of each target business object with a <code>new</code> calling a constructor with all the properties of that business object.</p>\n<p>Do I have a way to remove the <code>Encoders.bean(Association.class)</code> in the map function?</p>\n"},{"tags":["java","groovy","formatting","configuration-files"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168420,"user_id":6509,"display_name":"tim_yates"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1319616556,"creation_date":1319616556,"answer_id":7900141,"question_id":7898068,"body_markdown":"Unfortunately, you&#39;ll need to write your own `writeTo` as you say.\r\n\r\nIf you have a config file with structure like:\r\n\r\n    graphs {\r\n      a=[&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;cpurawlinux&quot;]\r\n      b=[&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;memory&quot;]\r\n    }\r\n\r\nThen writeTo will write it out with structure, but if your config file is just a big old list of things, it will write it out as a big old list\r\n","title":"Pretty print for a groovy ConfigObject?","body":"<p>Unfortunately, you'll need to write your own <code>writeTo</code> as you say.</p>\n\n<p>If you have a config file with structure like:</p>\n\n<pre><code>graphs {\n  a=[\"type\":\"std\", \"host\":\"localhost\", \"name\":\"cpurawlinux\"]\n  b=[\"type\":\"std\", \"host\":\"localhost\", \"name\":\"memory\"]\n}\n</code></pre>\n\n<p>Then writeTo will write it out with structure, but if your config file is just a big old list of things, it will write it out as a big old list</p>\n"},{"tags":[],"owner":{"account_id":1452055,"reputation":504,"user_id":1368685,"display_name":"mike b"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367873983,"creation_date":1367873245,"answer_id":16407022,"question_id":7898068,"body_markdown":"if it helps anyone, i had the same question and wrote this...not pretty (ha), but works:\r\n\r\n    def prettyPrint(properties, level=1, stringBuilder = new StringBuilder()) {\r\n        return properties.inject(stringBuilder) { sb, name, value -&gt;\r\n            sb.append(&quot;\\n&quot;).append(&quot;\\t&quot; * level).append(name)\r\n            if (!(value instanceof Map) &amp;&amp; !(value instanceof List)) {\r\n                return sb.append(&quot;=&quot;).append(value)\r\n            } else {\r\n                return prettyPrint(properties.getProperty(name), level+1, sb)\r\n            }\r\n        }\r\n    }","title":"Pretty print for a groovy ConfigObject?","body":"<p>if it helps anyone, i had the same question and wrote this...not pretty (ha), but works:</p>\n\n<pre><code>def prettyPrint(properties, level=1, stringBuilder = new StringBuilder()) {\n    return properties.inject(stringBuilder) { sb, name, value -&gt;\n        sb.append(\"\\n\").append(\"\\t\" * level).append(name)\n        if (!(value instanceof Map) &amp;&amp; !(value instanceof List)) {\n            return sb.append(\"=\").append(value)\n        } else {\n            return prettyPrint(properties.getProperty(name), level+1, sb)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461967616,"creation_date":1461967616,"answer_id":36948183,"question_id":7898068,"body_markdown":"Based on mike&#39;s answer above:\r\n\r\n    def prettyPrint\r\n    prettyPrint = {obj, level = 0, sb = new StringBuilder() -&gt;\r\n        def indent = { lev -&gt; sb.append(&quot;  &quot; * lev) }\r\n        if(obj instanceof Map){\r\n            sb.append(&quot;{\\n&quot;)\r\n            obj.each{ name, value -&gt;\r\n                if(name.contains(&#39;.&#39;)) return // skip keys like &quot;a.b.c&quot;, which are redundant\r\n                indent(level+1).append(name)\r\n                (value instanceof Map) ? sb.append(&quot; &quot;) : sb.append(&quot; = &quot;)\r\n                prettyPrint(value, level+1, sb)\r\n                sb.append(&quot;\\n&quot;)\r\n            }\r\n            indent(level).append(&quot;}&quot;)\r\n        }\r\n        else if(obj instanceof List){\r\n            sb.append(&quot;[\\n&quot;)\r\n            obj.each{ value -&gt;\r\n                indent(level+1)\r\n                prettyPrint(value, level+1, sb).append(&quot;,&quot;)\r\n                sb.append(&quot;\\n&quot;)\r\n            }\r\n            indent(level).append(&quot;]&quot;)\r\n        }\r\n        else if(obj instanceof String){\r\n            sb.append(&#39;&quot;&#39;).append(obj).append(&#39;&quot;&#39;)\r\n        }\r\n        else {\r\n            sb.append(obj)\r\n        }\r\n    }\r\n\r\nFor an input like:\r\n\r\n    {\r\n      grails {\r\n        scaffolding {\r\n          templates.domainSuffix = &quot;Instance&quot;\r\n        }\r\n        enable {\r\n          native2ascii = true\r\n          blah = [ 1, 2, 3 ]\r\n        }\r\n        mime.disable.accept.header.userAgents = [ &quot;WebKit&quot;, &quot;Presto&quot;, &quot;Trident&quot; ]\r\n      }\r\n    }\r\n\r\nProduces:\r\n\r\n    {\r\n      grails {\r\n        scaffolding {\r\n          templates {\r\n            domainSuffix = &quot;Instance&quot;\r\n          }\r\n        }\r\n        enable {\r\n          native2ascii = true\r\n          blah = [\r\n            1,\r\n            2,\r\n            3,\r\n          ]\r\n        }\r\n        mime {\r\n          disable {\r\n            accept {\r\n              header {\r\n                userAgents = [\r\n                  &quot;WebKit&quot;,\r\n                  &quot;Presto&quot;,\r\n                  &quot;Trident&quot;,\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }","title":"Pretty print for a groovy ConfigObject?","body":"<p>Based on mike's answer above:</p>\n\n<pre><code>def prettyPrint\nprettyPrint = {obj, level = 0, sb = new StringBuilder() -&gt;\n    def indent = { lev -&gt; sb.append(\"  \" * lev) }\n    if(obj instanceof Map){\n        sb.append(\"{\\n\")\n        obj.each{ name, value -&gt;\n            if(name.contains('.')) return // skip keys like \"a.b.c\", which are redundant\n            indent(level+1).append(name)\n            (value instanceof Map) ? sb.append(\" \") : sb.append(\" = \")\n            prettyPrint(value, level+1, sb)\n            sb.append(\"\\n\")\n        }\n        indent(level).append(\"}\")\n    }\n    else if(obj instanceof List){\n        sb.append(\"[\\n\")\n        obj.each{ value -&gt;\n            indent(level+1)\n            prettyPrint(value, level+1, sb).append(\",\")\n            sb.append(\"\\n\")\n        }\n        indent(level).append(\"]\")\n    }\n    else if(obj instanceof String){\n        sb.append('\"').append(obj).append('\"')\n    }\n    else {\n        sb.append(obj)\n    }\n}\n</code></pre>\n\n<p>For an input like:</p>\n\n<pre><code>{\n  grails {\n    scaffolding {\n      templates.domainSuffix = \"Instance\"\n    }\n    enable {\n      native2ascii = true\n      blah = [ 1, 2, 3 ]\n    }\n    mime.disable.accept.header.userAgents = [ \"WebKit\", \"Presto\", \"Trident\" ]\n  }\n}\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>{\n  grails {\n    scaffolding {\n      templates {\n        domainSuffix = \"Instance\"\n      }\n    }\n    enable {\n      native2ascii = true\n      blah = [\n        1,\n        2,\n        3,\n      ]\n    }\n    mime {\n      disable {\n        accept {\n          header {\n            userAgents = [\n              \"WebKit\",\n              \"Presto\",\n              \"Trident\",\n            ]\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6594034,"reputation":61,"user_id":5094389,"display_name":"Clem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683186163,"creation_date":1683186163,"answer_id":76170690,"question_id":7898068,"body_markdown":"Since GreenGiant answer seems broken when I tried using it, here&#39;s a working version for future reference :\r\n\r\n```Groovy\r\nstatic String prettify(obj, level = 0, StringBuilder sb = new StringBuilder()) {\r\n    def indent = { lev -&gt; sb.append(&quot;  &quot; * lev) }\r\n    if (!obj) return sb\r\n    if(obj instanceof Map&lt;String, ?&gt;){\r\n        sb.append(&quot;{\\n&quot;)\r\n        obj.each{ name, value -&gt;\r\n            if(name.contains(&#39;.&#39;)) return // skip keys like &quot;a.b.c&quot;, which are redundant\r\n            indent(level+1).append(name)\r\n            (value instanceof Map) ? sb.append(&quot; &quot;) : sb.append(&quot; = &quot;)\r\n            prettify(value, level+1, sb)\r\n            sb.append(&quot;\\n&quot;)\r\n        }\r\n        indent(level).append(&quot;}&quot;)\r\n    } else if(obj instanceof List){\r\n        sb.append(&quot;[\\n&quot;)\r\n        obj.each{ value -&gt;\r\n            indent(level+1)\r\n            prettify(value, level+1, sb).append(&quot;,&quot;)\r\n            sb.append(&quot;\\n&quot;)\r\n        }\r\n        indent(level).append(&quot;]&quot;)\r\n    } else if(obj instanceof String){\r\n        sb.append(&#39;&quot;&#39;).append(obj).append(&#39;&quot;&#39;)\r\n    } else {\r\n        sb.append(obj)\r\n    }\r\n}\r\n```","title":"Pretty print for a groovy ConfigObject?","body":"<p>Since GreenGiant answer seems broken when I tried using it, here's a working version for future reference :</p>\n<pre><code>static String prettify(obj, level = 0, StringBuilder sb = new StringBuilder()) {\n    def indent = { lev -&gt; sb.append(&quot;  &quot; * lev) }\n    if (!obj) return sb\n    if(obj instanceof Map&lt;String, ?&gt;){\n        sb.append(&quot;{\\n&quot;)\n        obj.each{ name, value -&gt;\n            if(name.contains('.')) return // skip keys like &quot;a.b.c&quot;, which are redundant\n            indent(level+1).append(name)\n            (value instanceof Map) ? sb.append(&quot; &quot;) : sb.append(&quot; = &quot;)\n            prettify(value, level+1, sb)\n            sb.append(&quot;\\n&quot;)\n        }\n        indent(level).append(&quot;}&quot;)\n    } else if(obj instanceof List){\n        sb.append(&quot;[\\n&quot;)\n        obj.each{ value -&gt;\n            indent(level+1)\n            prettify(value, level+1, sb).append(&quot;,&quot;)\n            sb.append(&quot;\\n&quot;)\n        }\n        indent(level).append(&quot;]&quot;)\n    } else if(obj instanceof String){\n        sb.append('&quot;').append(obj).append('&quot;')\n    } else {\n        sb.append(obj)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":113891,"reputation":6782,"user_id":299754,"accept_rate":75,"display_name":"Jules Oll&#233;on"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5303,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7900141,"answer_count":4,"score":5,"last_activity_date":1683186163,"creation_date":1319595502,"question_id":7898068,"body_markdown":"I have this groovy program that creates a groovy configuration file, using a ConfigObject. Once the ConfigObject is set up, it is written to a file using:\r\n\r\n    myFile.withWriter {writer -&gt; myConfigObject.writeTo(writer)}\r\n\r\nThis results in each property of the ConfigObject being written on a single line. So for instance a map will be printed as:\r\n\r\n    graphs=[[&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;cpurawlinux&quot;], [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;memory&quot;], [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;udp&quot;] ... ]\r\n\r\nwhich is quite unreadable if someone has to take a look at it.\r\nIs there a way to get a more friendly output? Something like that would be great:\r\n\r\n    graphs=[\r\n        [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;cpurawlinux&quot;],\r\n        [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;memory&quot;],\r\n        [&quot;type&quot;:&quot;std&quot;, &quot;host&quot;:&quot;localhost&quot;, &quot;name&quot;:&quot;udp&quot;]\r\n        ...\r\n    ]\r\n\r\nI know I could create my own `writeTo`, but isn&#39;t there already something in Groovy for that?","title":"Pretty print for a groovy ConfigObject?","body":"<p>I have this groovy program that creates a groovy configuration file, using a ConfigObject. Once the ConfigObject is set up, it is written to a file using:</p>\n\n<pre><code>myFile.withWriter {writer -&gt; myConfigObject.writeTo(writer)}\n</code></pre>\n\n<p>This results in each property of the ConfigObject being written on a single line. So for instance a map will be printed as:</p>\n\n<pre><code>graphs=[[\"type\":\"std\", \"host\":\"localhost\", \"name\":\"cpurawlinux\"], [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"memory\"], [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"udp\"] ... ]\n</code></pre>\n\n<p>which is quite unreadable if someone has to take a look at it.\nIs there a way to get a more friendly output? Something like that would be great:</p>\n\n<pre><code>graphs=[\n    [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"cpurawlinux\"],\n    [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"memory\"],\n    [\"type\":\"std\", \"host\":\"localhost\", \"name\":\"udp\"]\n    ...\n]\n</code></pre>\n\n<p>I know I could create my own <code>writeTo</code>, but isn't there already something in Groovy for that?</p>\n"},{"tags":["java","datetime","calendar"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":4,"creation_date":1581675363,"post_id":60224183,"comment_id":106524194,"body_markdown":"The major problem I can see is that you&#39;re using the outdated `Date` class. You should take a look at Date/Time API added in Java 8 (`LocalDate`, `LocalTime`,`LocalDateTime`), here is an [introduction tutorial](https://www.baeldung.com/java-8-date-time-intro).","body":"The major problem I can see is that you&#39;re using the outdated <code>Date</code> class. You should take a look at Date/Time API added in Java 8 (<code>LocalDate</code>, <code>LocalTime</code>,<code>LocalDateTime</code>), here is an <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">introduction tutorial</a>."},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":1,"creation_date":1581675510,"post_id":60224183,"comment_id":106524275,"body_markdown":"Use `c.add(Calendar.DATE, nDays); ` to increment the date. And why are you always adding `2`? If it&#39;s saturday OK, but if it&#39;s sunday?? And as Amongalen said, `Date` class is outdated.","body":"Use <code>c.add(Calendar.DATE, nDays); </code> to increment the date. And why are you always adding <code>2</code>? If it&#39;s saturday OK, but if it&#39;s sunday?? And as Amongalen said, <code>Date</code> class is outdated."},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1581675860,"post_id":60224183,"comment_id":106524449,"body_markdown":"I take it you mean date calculations involving working days only. What about public holidays?","body":"I take it you mean date calculations involving working days only. What about public holidays?"},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1581676178,"post_id":60224183,"comment_id":106524622,"body_markdown":"I&#39;ve seen people do this in the past by having a working calendar database table. You have 366 characters one per day. You can pre-generated it to exclude Sat/Sun easily - so those days would say have a zero in them. Working days have 1. Then you omit ad-hoc public holidays. Then you have a seed date, then say 5 working days later.. You count 5 ones into the array. You also have to read 2 records on year end... Or if your date span crosses multiple years, like say 400 days more...","body":"I&#39;ve seen people do this in the past by having a working calendar database table. You have 366 characters one per day. You can pre-generated it to exclude Sat/Sun easily - so those days would say have a zero in them. Working days have 1. Then you omit ad-hoc public holidays. Then you have a seed date, then say 5 working days later.. You count 5 ones into the array. You also have to read 2 records on year end... Or if your date span crosses multiple years, like say 400 days more..."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1581711621,"post_id":60224183,"comment_id":106540968,"body_markdown":"I too recommend you don’t use `Date` and `Calendar`. Those classes are poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I too recommend you don’t use <code>Date</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1581711741,"post_id":60224183,"comment_id":106541013,"body_markdown":"Does your observed result differ from the expected? If so, how? *Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include …a specific problem …* From [What topics can I ask about here?](https://stackoverflow.com/help/on-topic)","body":"Does your observed result differ from the expected? If so, how? <i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include …a specific problem …</i> From <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>"},{"owner":{"account_id":16421910,"reputation":21,"user_id":11862902,"display_name":"Shweta Kathalkar"},"score":0,"creation_date":1582177691,"post_id":60224183,"comment_id":106689472,"body_markdown":"Thank You all. But due to some restrictions, I am using date and Calender class.","body":"Thank You all. But due to some restrictions, I am using date and Calender class."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683185581,"creation_date":1683178621,"answer_id":76169871,"question_id":60224183,"body_markdown":"# tl;dr\r\n\r\n    Calendar c =\r\n        GregorianCalendar                                                  // A subclass of `Calendar` legacy class.\r\n        .from(                                                             // Convert from modern to legacy class. \r\n            myLegacyJavaUtilDate                                           // Legacy class representing a moment as seen in UTC.  \r\n            .toInstant()                                                   // Convert this moment as seen in UTC from legacy class to modern class.\r\n            .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                           // See the same moment through the wall-clock date &amp; time of a particular time zone. Returns an `ZonedDateTime`. \r\n            .toLocalDate()                                                 // Extract a date-only value.\r\n            .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() )   // Move to the next weekday if not already a weekday.\r\n            .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                     // Determine the first moment of the day as seen in that zone on that date. Returns an `ZonedDateTime`. \r\n        )\r\n    ;\r\n\r\n# Avoid legacy date-time classes\r\n\r\nAvoid the troubled legacy date-time classes such as both `Date` classes. If necessary to interoperate with old code not yet updated to *java.time* classes, write new logic in *java.time* and at the end convert to legacy objects.\r\n\r\n# `java.time.Instant` is the new `java.util.Date`.\r\n\r\nThe `java.util.Date` class was replaced by `java.time.Instant`. Convert using new methods added to old classes.\r\n\r\n    Instant instant = myJUDate.toInstant() ;\r\n\r\n# Date-only values: `LocalDate`\r\n\r\nYou said:\r\n\r\n```java\r\n  Date today = new Date();\r\n  Calendar cal = Calendar.getInstance();\r\n  cal.setTime(today);\r\n  cal.set(Calendar.HOUR_OF_DAY, 0);\r\n  cal.set(Calendar.MINUTE, 0);\r\n  cal.set(Calendar.SECOND, 0);\r\n  cal.set(Calendar.MILLISECOND, 0);\r\n```\r\n\r\nApparently you want to extract a date-only value from a `java.util.Date` object that contains a date &amp; time-of-day as seen with an offset from UTC of zero hours-minutes-seconds. To extract a date properly, you must specify a time zone by which you want to interpret a date. For any given moment, the date varies around the world by time zone.\r\n\r\n    Instant instant = myJUDate.toInstant() ;    // A moment as seen in UTC.\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ); \r\n    ZonedDateTime zdt = instant.atZone( z ) ;   // The same simultaneous moment, but as seen through a particular time zone. The time of day, and even the date, may differ from that of the `Instant` above.\r\n    LocalDate localDate = zdt.toLocalDate() ;   // Extract a date only, discarding the time-of-day and the time zone.\r\n\r\nOr more briefly:\r\n\r\n    LocalDate localDate =\r\n        myJUDate\r\n        .toInstant()\r\n        .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\r\n        .toLocalDate()\r\n    ;\r\n\r\nUse that kind of code for 3 of your 4 `java.util.Date` inputs. For the current date, today, use this:\r\n\r\n    LocalDate today = LocalDate.now( z ) ;\r\n\r\n# Moving between dates\r\n\r\nYou asked:\r\n\r\n&gt; if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday. \r\n\r\nThis is surprisingly easy in *java.time*. \r\n\r\nThe [`TemporalAdjuster`][1] interface provides for moving from one date to another. The algorithm by which you want to jump between dates is defined in an implementation of that interface. \r\n\r\nThe [`TemporalAdjusters`][2] class provides several useful such implementations. But none of those bundled implementations jumps both Saturday and Sunday. \r\n\r\nThe third-party library [*ThreeTen-Extra*][3] happens to provide an implementation of `TemporalAdjuster` which does just what you want, jump past both Saturday and Sunday. Add that library to your project. Then access the `TemporalAdjuster` object returned by a call to [`org.threeten.extra.Temporals.nextWorkingDayOrSame()`][4]. The “OrSame” means if the date is already a weekday, keep it, no need to move to another date.\r\n\r\n    TemporalAdjuster nextOrSameWeekdayAdjuster = org.threeten.extra.Temporals.nextWorkingDayOrSame() ;\r\n\r\nPut that adjuster to work on each of the dates you care about.\r\n\r\n    LocalDate nextOrSameWeekDayClosestToToday = today.with( nextOrSameWeekdayAdjuster ) ;\r\n\r\nNotice that *java.time* uses immutable objects. Rather than alter (“mutate”) the original, a new object is returned with values based on the original.\r\n\r\n# Obtain a moment from a date-only value\r\n\r\nSo we have some `LocalDate` objects adjusted to avoid weekends. But you asked for `java.util.Date` objects (apparently). \r\n\r\nTo get from a date-only value (`LocalDate`) to a moment, we must apply a time zone by which to determine the first moment of that day in that zone. \r\n\r\nDo not assume a day starts at 00:00. Some dates in some time zones start at another time, such as 01:00. Let *java.time* determine the first moment.\r\n\r\n    ZonedDateTime firstMomentOfNextOrSameWeekDayClosestToToday = nextOrSameWeekDayClosestToToday.atStartOfDay( z ) ;\r\n\r\n# Converting from modern to legacy class\r\n\r\nYou commented:\r\n\r\n&gt;But due to some restrictions, I am using date and Calender class.\r\n\r\nAs mentioned above, you should avoid the legacy date-time classes. They really are that troublesome. \r\n\r\nBut if you must have objects of the legacy classes to interoperate with old code not yet updated to *java.time*, call new conversion methods added to the old classes.\r\n\r\nTo convert, first extract a `java.time.Instant` from our `java.time.ZonedDateTime` object.\r\n\r\n    Instant instant = firstMomentOfNextOrSameWeekDayClosestToToday.toInstant() ;\r\n\r\nThen convert from modern to legacy.\r\n\r\n    java.util.Date d = java.util.Date.from( instant ) ;\r\n\r\nIf instead of a moment as seen in UTC (`java.util.Date`) you want a moment as seen in our particular time zone, convert from [`ZonedDateTime`][5] to [`GregorianCalendar`][6] class which extends from [`Calendar`][7]. \r\n\r\n    Calendar c = GregorianCalendar.from( firstMomentOfNextOrSameWeekDayClosestToToday ) ;\r\n\r\nPutting all this code together:\r\n\r\n    Calendar c =\r\n        GregorianCalendar.from( \r\n            myJUDate\r\n            .toInstant()\r\n            .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\r\n            .toLocalDate()\r\n            .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() ) \r\n            .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \r\n        )\r\n    ;\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjuster.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjusters.html\r\n  [3]: https://www.threeten.org/threeten-extra/\r\n  [4]: https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Temporals.html#nextWorkingDayOrSame()\r\n  [5]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [6]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/GregorianCalendar.html\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html","title":"How to calculate day from date object and if i is falling under weekend then increment it in java?","body":"<h1>tl;dr</h1>\n<pre><code>Calendar c =\n    GregorianCalendar                                                  // A subclass of `Calendar` legacy class.\n    .from(                                                             // Convert from modern to legacy class. \n        myLegacyJavaUtilDate                                           // Legacy class representing a moment as seen in UTC.  \n        .toInstant()                                                   // Convert this moment as seen in UTC from legacy class to modern class.\n        .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                           // See the same moment through the wall-clock date &amp; time of a particular time zone. Returns an `ZonedDateTime`. \n        .toLocalDate()                                                 // Extract a date-only value.\n        .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() )   // Move to the next weekday if not already a weekday.\n        .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) )                     // Determine the first moment of the day as seen in that zone on that date. Returns an `ZonedDateTime`. \n    )\n;\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>Avoid the troubled legacy date-time classes such as both <code>Date</code> classes. If necessary to interoperate with old code not yet updated to <em>java.time</em> classes, write new logic in <em>java.time</em> and at the end convert to legacy objects.</p>\n<h1><code>java.time.Instant</code> is the new <code>java.util.Date</code>.</h1>\n<p>The <code>java.util.Date</code> class was replaced by <code>java.time.Instant</code>. Convert using new methods added to old classes.</p>\n<pre><code>Instant instant = myJUDate.toInstant() ;\n</code></pre>\n<h1>Date-only values: <code>LocalDate</code></h1>\n<p>You said:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Date today = new Date();\n  Calendar cal = Calendar.getInstance();\n  cal.setTime(today);\n  cal.set(Calendar.HOUR_OF_DAY, 0);\n  cal.set(Calendar.MINUTE, 0);\n  cal.set(Calendar.SECOND, 0);\n  cal.set(Calendar.MILLISECOND, 0);\n</code></pre>\n<p>Apparently you want to extract a date-only value from a <code>java.util.Date</code> object that contains a date &amp; time-of-day as seen with an offset from UTC of zero hours-minutes-seconds. To extract a date properly, you must specify a time zone by which you want to interpret a date. For any given moment, the date varies around the world by time zone.</p>\n<pre><code>Instant instant = myJUDate.toInstant() ;    // A moment as seen in UTC.\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ); \nZonedDateTime zdt = instant.atZone( z ) ;   // The same simultaneous moment, but as seen through a particular time zone. The time of day, and even the date, may differ from that of the `Instant` above.\nLocalDate localDate = zdt.toLocalDate() ;   // Extract a date only, discarding the time-of-day and the time zone.\n</code></pre>\n<p>Or more briefly:</p>\n<pre><code>LocalDate localDate =\n    myJUDate\n    .toInstant()\n    .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\n    .toLocalDate()\n;\n</code></pre>\n<p>Use that kind of code for 3 of your 4 <code>java.util.Date</code> inputs. For the current date, today, use this:</p>\n<pre><code>LocalDate today = LocalDate.now( z ) ;\n</code></pre>\n<h1>Moving between dates</h1>\n<p>You asked:</p>\n<blockquote>\n<p>if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday.</p>\n</blockquote>\n<p>This is surprisingly easy in <em>java.time</em>.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjuster.html\" rel=\"nofollow noreferrer\"><code>TemporalAdjuster</code></a> interface provides for moving from one date to another. The algorithm by which you want to jump between dates is defined in an implementation of that interface.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/temporal/TemporalAdjusters.html\" rel=\"nofollow noreferrer\"><code>TemporalAdjusters</code></a> class provides several useful such implementations. But none of those bundled implementations jumps both Saturday and Sunday.</p>\n<p>The third-party library <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> happens to provide an implementation of <code>TemporalAdjuster</code> which does just what you want, jump past both Saturday and Sunday. Add that library to your project. Then access the <code>TemporalAdjuster</code> object returned by a call to <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/Temporals.html#nextWorkingDayOrSame()\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.Temporals.nextWorkingDayOrSame()</code></a>. The “OrSame” means if the date is already a weekday, keep it, no need to move to another date.</p>\n<pre><code>TemporalAdjuster nextOrSameWeekdayAdjuster = org.threeten.extra.Temporals.nextWorkingDayOrSame() ;\n</code></pre>\n<p>Put that adjuster to work on each of the dates you care about.</p>\n<pre><code>LocalDate nextOrSameWeekDayClosestToToday = today.with( nextOrSameWeekdayAdjuster ) ;\n</code></pre>\n<p>Notice that <em>java.time</em> uses immutable objects. Rather than alter (“mutate”) the original, a new object is returned with values based on the original.</p>\n<h1>Obtain a moment from a date-only value</h1>\n<p>So we have some <code>LocalDate</code> objects adjusted to avoid weekends. But you asked for <code>java.util.Date</code> objects (apparently).</p>\n<p>To get from a date-only value (<code>LocalDate</code>) to a moment, we must apply a time zone by which to determine the first moment of that day in that zone.</p>\n<p>Do not assume a day starts at 00:00. Some dates in some time zones start at another time, such as 01:00. Let <em>java.time</em> determine the first moment.</p>\n<pre><code>ZonedDateTime firstMomentOfNextOrSameWeekDayClosestToToday = nextOrSameWeekDayClosestToToday.atStartOfDay( z ) ;\n</code></pre>\n<h1>Converting from modern to legacy class</h1>\n<p>You commented:</p>\n<blockquote>\n<p>But due to some restrictions, I am using date and Calender class.</p>\n</blockquote>\n<p>As mentioned above, you should avoid the legacy date-time classes. They really are that troublesome.</p>\n<p>But if you must have objects of the legacy classes to interoperate with old code not yet updated to <em>java.time</em>, call new conversion methods added to the old classes.</p>\n<p>To convert, first extract a <code>java.time.Instant</code> from our <code>java.time.ZonedDateTime</code> object.</p>\n<pre><code>Instant instant = firstMomentOfNextOrSameWeekDayClosestToToday.toInstant() ;\n</code></pre>\n<p>Then convert from modern to legacy.</p>\n<pre><code>java.util.Date d = java.util.Date.from( instant ) ;\n</code></pre>\n<p>If instead of a moment as seen in UTC (<code>java.util.Date</code>) you want a moment as seen in our particular time zone, convert from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/GregorianCalendar.html\" rel=\"nofollow noreferrer\"><code>GregorianCalendar</code></a> class which extends from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>.</p>\n<pre><code>Calendar c = GregorianCalendar.from( firstMomentOfNextOrSameWeekDayClosestToToday ) ;\n</code></pre>\n<p>Putting all this code together:</p>\n<pre><code>Calendar c =\n    GregorianCalendar.from( \n        myJUDate\n        .toInstant()\n        .atZone( ZoneId.of( &quot;Asia/Tokyo&quot; ) )\n        .toLocalDate()\n        .with( org.threeten.extra.Temporals.nextWorkingDayOrSame() ) \n        .atStartOfDay( ZoneId.of( &quot;Asia/Tokyo&quot; ) ) \n    )\n;\n</code></pre>\n"}],"owner":{"account_id":16421910,"reputation":21,"user_id":11862902,"display_name":"Shweta Kathalkar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683185581,"creation_date":1581674936,"question_id":60224183,"body_markdown":"I have 4 dates i.e. today(current system date), activity date, quoteFinishFirstFolloupDate, and quoteFinishSecondFollowupDate which I have calculated based on some criteria but if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday. So, how can I calculate days and add it so that it will be a weekday date? I have tried something but for Date object, I am not able to calculate the days.\r\n\r\nHere is my piece of code:\r\n```\r\nif (logs != null &amp;&amp; logs.size() &gt; 0) {\r\n  ActivityLog latestActivityLog = logs.get(0);\r\n  Date activityDate = latestActivityLog.getActivityDate();\r\n\r\n  Date today = new Date();\r\n  Calendar cal = Calendar.getInstance();\r\n  cal.setTime(today);\r\n  cal.set(Calendar.HOUR_OF_DAY, 0);\r\n  cal.set(Calendar.MINUTE, 0);\r\n  cal.set(Calendar.SECOND, 0);\r\n  cal.set(Calendar.MILLISECOND, 0);\r\n\r\n  int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\r\n  // check if it is Saturday(day=7) or Sunday(day=1)\r\n  if ((dayOfWeek == 7)) {\r\n    cal.add(Calendar.DAY_OF_WEEK, 2);\r\n    today = cal.getTime();\r\n  }else if ((dayOfWeek == 1)) {\r\n    cal.add(Calendar.DAY_OF_WEEK, 2);\r\n    today = cal.getTime();\r\n  }else {\r\n    today = cal.getTime();\r\n  }\r\n\r\n  // @TODO: @RD to check +1 day logic\r\n  // plus 1 to include the endate=today+26 with time at 1pm\r\n  Date quoteFinishFirstFolloupDate = DateUtils.addDays(activityDate, -1 * getUnboundQuoteFirstFollowupDays());\r\n\r\n\r\n  Date quoteFinishSecondFollowupDate = DateUtils.addDays(quoteFinishFirstFolloupDate, getUnboundQuoteSecondFollowupDays());\r\n\r\n  if (today.compareTo(quoteFinishFirstFolloupDate) == 0 || today.compareTo(quoteFinishSecondFollowupDate) == 0) {\r\n    isValidCCVB_ActivityLog = Boolean.TRUE;\r\n    log.info(&quot;isValidCCVB_ActivityLog:&quot; + isValidCCVB_ActivityLog);\r\n  }\r\n}\r\n```\r\n\r\nCan anyone help me?","title":"How to calculate day from date object and if i is falling under weekend then increment it in java?","body":"<p>I have 4 dates i.e. today(current system date), activity date, quoteFinishFirstFolloupDate, and quoteFinishSecondFollowupDate which I have calculated based on some criteria but if that calculated date is falling on weekend (ie. Saturday, Sunday) then we need to increment or add days to it so that the next date will be weekday. So, how can I calculate days and add it so that it will be a weekday date? I have tried something but for Date object, I am not able to calculate the days.</p>\n\n<p>Here is my piece of code:</p>\n\n<pre><code>if (logs != null &amp;&amp; logs.size() &gt; 0) {\n  ActivityLog latestActivityLog = logs.get(0);\n  Date activityDate = latestActivityLog.getActivityDate();\n\n  Date today = new Date();\n  Calendar cal = Calendar.getInstance();\n  cal.setTime(today);\n  cal.set(Calendar.HOUR_OF_DAY, 0);\n  cal.set(Calendar.MINUTE, 0);\n  cal.set(Calendar.SECOND, 0);\n  cal.set(Calendar.MILLISECOND, 0);\n\n  int dayOfWeek = cal.get(Calendar.DAY_OF_WEEK);\n  // check if it is Saturday(day=7) or Sunday(day=1)\n  if ((dayOfWeek == 7)) {\n    cal.add(Calendar.DAY_OF_WEEK, 2);\n    today = cal.getTime();\n  }else if ((dayOfWeek == 1)) {\n    cal.add(Calendar.DAY_OF_WEEK, 2);\n    today = cal.getTime();\n  }else {\n    today = cal.getTime();\n  }\n\n  // @TODO: @RD to check +1 day logic\n  // plus 1 to include the endate=today+26 with time at 1pm\n  Date quoteFinishFirstFolloupDate = DateUtils.addDays(activityDate, -1 * getUnboundQuoteFirstFollowupDays());\n\n\n  Date quoteFinishSecondFollowupDate = DateUtils.addDays(quoteFinishFirstFolloupDate, getUnboundQuoteSecondFollowupDays());\n\n  if (today.compareTo(quoteFinishFirstFolloupDate) == 0 || today.compareTo(quoteFinishSecondFollowupDate) == 0) {\n    isValidCCVB_ActivityLog = Boolean.TRUE;\n    log.info(\"isValidCCVB_ActivityLog:\" + isValidCCVB_ActivityLog);\n  }\n}\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683183009,"post_id":76170285,"comment_id":134327920,"body_markdown":"hello and welcome to SO. Please first read some guidelines: https://stackoverflow.com/help/how-to-ask https://stackoverflow.com/help/minimal-reproducible-example. After that please share your code in which you were trying to solve this issue, or any errors you encountered.","body":"hello and welcome to SO. Please first read some guidelines: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. After that please share your code in which you were trying to solve this issue, or any errors you encountered."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1683183097,"post_id":76170285,"comment_id":134327947,"body_markdown":"It seems like you are trying to do &quot;unicode normalization&quot;. It is not quite as trivial at is seems: https://towardsdatascience.com/what-on-earth-is-unicode-normalization-56c005c55ad0","body":"It seems like you are trying to do &quot;unicode normalization&quot;. It is not quite as trivial at is seems: <a href=\"https://towardsdatascience.com/what-on-earth-is-unicode-normalization-56c005c55ad0\" rel=\"nofollow noreferrer\">towardsdatascience.com/&hellip;</a>"},{"owner":{"account_id":17743526,"reputation":55,"user_id":12883271,"display_name":"JOJU"},"score":0,"creation_date":1683183139,"post_id":76170285,"comment_id":134327961,"body_markdown":"fascynacja I don&#39;t know the problem, so I can&#39;t reproduce it.","body":"fascynacja I don&#39;t know the problem, so I can&#39;t reproduce it."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683184025,"post_id":76170285,"comment_id":134328100,"body_markdown":"@JOJU it seems that you want to replace an apostrophe &quot;&#39;&quot; character with an accent &quot;`&quot;? This would seem wrong to me...","body":"@JOJU it seems that you want to replace an apostrophe &quot;&#39;&quot; character with an accent &quot;`&quot;? This would seem wrong to me..."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683184489,"post_id":76170285,"comment_id":134328175,"body_markdown":"See https://www.unicode.org/charts/nameslist/n_02B0.html for the names of these symbols.","body":"See <a href=\"https://www.unicode.org/charts/nameslist/n_02B0.html\" rel=\"nofollow noreferrer\">unicode.org/charts/nameslist/n_02B0.html</a> for the names of these symbols."},{"owner":{"account_id":17743526,"reputation":55,"user_id":12883271,"display_name":"JOJU"},"score":0,"creation_date":1683529703,"post_id":76170285,"comment_id":134374992,"body_markdown":"Changed the encoding method to unicode mb4. Normalization couldn&#39;t solve all my problems. thanks","body":"Changed the encoding method to unicode mb4. Normalization couldn&#39;t solve all my problems. thanks"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683185197,"creation_date":1683185197,"answer_id":76170563,"question_id":76170285,"body_markdown":"At least for the example you provided, the conversion can be done by normalising the text to the compatibility decomposition form. The weird-looking, non ASCII letters are &quot;mathematical bold&quot; letters, as Unicode calls them. These are *compatibility equivalent* to their ASCII counterparts.\r\n\r\nIn Java, you do normalisation with the [`Normalizer`][1] class.\r\n\r\n```\r\nString normalised = Normalizer.normalize(yourString, Normalizer.Form.NFKD);\r\n```\r\n\r\nLearn more about how normalisation forms [here][2].\r\n\r\nThat said, other characters in your string might also have a compatibility decomposed form. This will change those characters too, which might be undesirable.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\r\n  [2]: https://unicode.org/reports/tr15/","title":"How to replace 2-byte English characters with 1-byte English characters?","body":"<p>At least for the example you provided, the conversion can be done by normalising the text to the compatibility decomposition form. The weird-looking, non ASCII letters are &quot;mathematical bold&quot; letters, as Unicode calls them. These are <em>compatibility equivalent</em> to their ASCII counterparts.</p>\n<p>In Java, you do normalisation with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\"><code>Normalizer</code></a> class.</p>\n<pre><code>String normalised = Normalizer.normalize(yourString, Normalizer.Form.NFKD);\n</code></pre>\n<p>Learn more about how normalisation forms <a href=\"https://unicode.org/reports/tr15/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>That said, other characters in your string might also have a compatibility decomposed form. This will change those characters too, which might be undesirable.</p>\n"}],"owner":{"account_id":17743526,"reputation":55,"user_id":12883271,"display_name":"JOJU"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76170563,"answer_count":1,"score":1,"last_activity_date":1683185197,"creation_date":1683182784,"question_id":76170285,"body_markdown":"It&#39;s a unicode English character and I&#39;m not sure what to call it exactly.\r\nBelow is the English text source and the desired result.\r\n\r\nsource = &quot;Kep&#119826;&#119853;&#119851;&#119838;&#119838;&#119853; &#119810;&#119834;&#119853;’&#119852; &#119810;&#119845;&#119854;&#119835; Collab&quot;\r\n\r\ni want result = &quot;KepStreet Cat`s Club Collab&quot;","title":"How to replace 2-byte English characters with 1-byte English characters?","body":"<p>It's a unicode English character and I'm not sure what to call it exactly.\nBelow is the English text source and the desired result.</p>\n<p>source = &quot;Kep𝐒𝐭𝐫𝐞𝐞𝐭 𝐂𝐚𝐭’𝐬 𝐂𝐥𝐮𝐛 Collab&quot;</p>\n<p>i want result = &quot;KepStreet Cat`s Club Collab&quot;</p>\n"},{"tags":["java","jsf","primefaces","el"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683124837,"post_id":76165047,"comment_id":134318924,"body_markdown":"_&quot;this is not what I need in principle&quot;_ Why not?","body":"<i>&quot;this is not what I need in principle&quot;</i> Why not?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1683124996,"post_id":76165047,"comment_id":134318961,"body_markdown":"Possible duplicate: [Double.toString without the exponential notation for large values](https://stackoverflow.com/questions/25039035/double-tostring-without-the-exponential-notation-for-large-values)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/25039035/double-tostring-without-the-exponential-notation-for-large-values\">Double.toString without the exponential notation for large values</a>"}],"answers":[{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683135395,"creation_date":1683135395,"answer_id":76166627,"question_id":76165047,"body_markdown":"You can use `f:convertNumber` only on components containing a number. If your component value is `Some text and #{bean.someNumber}`, it first evaluates the value, and the resulting string (for example `Some text and 1.0E7`) cannot be formatted using `f:convertNumber`.\r\n\r\nIt&#39;s not documented, but you can `p:outputLabel` without the `value` attribute, but use the body instead. So:\r\n\r\n```xhtml\r\n&lt;p:outputLabel for=&quot;...&quot;&gt;Label value&lt;/p:outputLabel&gt;\r\n```\r\n\r\nThis allows you to place the number in its own component and format it:\r\n\r\n```xhtml\r\n&lt;p:outputLabel for=&quot;...&quot;&gt;\r\n  Some text\r\n  &lt;h:outputText value=&quot;#{testView.amount}&quot;&gt;\r\n    &lt;f:convertNumber pattern=&quot;#&quot;/&gt;\r\n  &lt;/h:outputText&gt;\r\n&lt;/p:outputLabel&gt;\r\n```\r\n","title":"How to format a number which is part of the value of p:outputLabel","body":"<p>You can use <code>f:convertNumber</code> only on components containing a number. If your component value is <code>Some text and #{bean.someNumber}</code>, it first evaluates the value, and the resulting string (for example <code>Some text and 1.0E7</code>) cannot be formatted using <code>f:convertNumber</code>.</p>\n<p>It's not documented, but you can <code>p:outputLabel</code> without the <code>value</code> attribute, but use the body instead. So:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p:outputLabel for=&quot;...&quot;&gt;Label value&lt;/p:outputLabel&gt;\n</code></pre>\n<p>This allows you to place the number in its own component and format it:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p:outputLabel for=&quot;...&quot;&gt;\n  Some text\n  &lt;h:outputText value=&quot;#{testView.amount}&quot;&gt;\n    &lt;f:convertNumber pattern=&quot;#&quot;/&gt;\n  &lt;/h:outputText&gt;\n&lt;/p:outputLabel&gt;\n</code></pre>\n"}],"owner":{"account_id":20021208,"reputation":13,"user_id":17084265,"display_name":"Владимир Царьков"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76166627,"answer_count":1,"score":1,"last_activity_date":1683183690,"creation_date":1683124334,"question_id":76165047,"body_markdown":"I have this JSF .xhtml code:\r\n```xml\r\n&lt;p:outputLabel value=&quot;#{bundle[&#39;my.bundle.name&#39;]} - #{Myclass.current.amount}&quot;/&gt;\r\n```\r\n`Myclass.current.amount` is a double in Java. There is a problem in conversion. For example, if `Myclass.current.amount` is equal to `10000000`, it&#39;s displayed like `1.0E7`, but I want `10000000`.\r\n\r\nNOTE: I want a solution in JSF, not in Java.\r\n\r\nI tried to use `&lt;f:convertNumber/&gt;` construction, but it didn&#39;t work, and this is not what I need in principle.","title":"How to format a number which is part of the value of p:outputLabel","body":"<p>I have this JSF .xhtml code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;p:outputLabel value=&quot;#{bundle['my.bundle.name']} - #{Myclass.current.amount}&quot;/&gt;\n</code></pre>\n<p><code>Myclass.current.amount</code> is a double in Java. There is a problem in conversion. For example, if <code>Myclass.current.amount</code> is equal to <code>10000000</code>, it's displayed like <code>1.0E7</code>, but I want <code>10000000</code>.</p>\n<p>NOTE: I want a solution in JSF, not in Java.</p>\n<p>I tried to use <code>&lt;f:convertNumber/&gt;</code> construction, but it didn't work, and this is not what I need in principle.</p>\n"},{"tags":["java","caching","jakarta-ee","hazelcast","jcache"],"owner":{"account_id":20069604,"reputation":11,"user_id":14714654,"display_name":"atos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683183431,"creation_date":1683125598,"question_id":76165282,"body_markdown":"I have a `JavaEE` WebApp using `jCache` abstraction. Given I have an interface like this:\r\n\r\n\r\n```\r\npublic interface Service {\r\n\r\n    default ReturnObject getReturnObject(String userId) {\r\n        return getReturnObject(userId, null);\r\n    }\r\n\r\n    ReturnObject getReturnObject(String userId, String customerId);\r\n\r\n}\r\n```\r\n\r\nAnd its implementation as follows:\r\n```\r\npublic class ServiceImpl {\r\n\r\n    @Override\r\n    @CacheResult(cacheName = CACHE_NAME, cacheKeyGenerator = DefaultObjectsCacheKeyGenerator.class)\r\n    public ReturnObject getReturnObject(@CacheKey String userId, @CacheKey String customerId) {\r\n...\r\n\r\n    }\r\n}\r\n```\r\n\r\nCan I expect the caching functionality to work properly, i.e. when the default method is getting called with one argument, then the caching will kick in with `null` as the second half of the cache key? I&#39;m worried about something similar to what happens in a Spring proxy where in-class method calls are not proxied and hence no caching/transactioning stuff happens.\r\n\r\nAny clues?\r\n","title":"@CacheResult in combination with default interface method call","body":"<p>I have a <code>JavaEE</code> WebApp using <code>jCache</code> abstraction. Given I have an interface like this:</p>\n<pre><code>public interface Service {\n\n    default ReturnObject getReturnObject(String userId) {\n        return getReturnObject(userId, null);\n    }\n\n    ReturnObject getReturnObject(String userId, String customerId);\n\n}\n</code></pre>\n<p>And its implementation as follows:</p>\n<pre><code>public class ServiceImpl {\n\n    @Override\n    @CacheResult(cacheName = CACHE_NAME, cacheKeyGenerator = DefaultObjectsCacheKeyGenerator.class)\n    public ReturnObject getReturnObject(@CacheKey String userId, @CacheKey String customerId) {\n...\n\n    }\n}\n</code></pre>\n<p>Can I expect the caching functionality to work properly, i.e. when the default method is getting called with one argument, then the caching will kick in with <code>null</code> as the second half of the cache key? I'm worried about something similar to what happens in a Spring proxy where in-class method calls are not proxied and hence no caching/transactioning stuff happens.</p>\n<p>Any clues?</p>\n"},{"tags":["java","spring-boot","maven","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1584403666,"post_id":60714649,"comment_id":107421373,"body_markdown":"How have you named your test class? Do you like to run your tests with JUnit Jupiter or TestNG?","body":"How have you named your test class? Do you like to run your tests with JUnit Jupiter or TestNG?"},{"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"score":0,"creation_date":1584404056,"post_id":60714649,"comment_id":107421444,"body_markdown":"My tests are named MovieApplicationTests.java and UserMoviesTests.java both are in the src/test/java/movieweb.movies package.  I had been running my tests in IntelliJ using  whatever tool it provides by default. Now that I am trying to get it to run on the command line so I can do CI/CD with Bitbucket, im getting these problems.","body":"My tests are named MovieApplicationTests.java and UserMoviesTests.java both are in the src/test/java/movieweb.movies package.  I had been running my tests in IntelliJ using  whatever tool it provides by default. Now that I am trying to get it to run on the command line so I can do CI/CD with Bitbucket, im getting these problems."},{"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"score":0,"creation_date":1584407777,"post_id":60714649,"comment_id":107422051,"body_markdown":"I&#39;m using JUnit 5","body":"I&#39;m using JUnit 5"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1584423247,"post_id":60714649,"comment_id":107424762,"body_markdown":"As a first step I’d remove the dependency to testng and see what happens. My guess is that you’ve been using testng all the time without being aware of it.","body":"As a first step I’d remove the dependency to testng and see what happens. My guess is that you’ve been using testng all the time without being aware of it."},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":1,"creation_date":1584430488,"post_id":60714649,"comment_id":107426847,"body_markdown":"You need to add JUnit dependency to your `pom.xml` (exclude JUnit provided by Intellij), resolve dependency errors and then it will work","body":"You need to add JUnit dependency to your <code>pom.xml</code> (exclude JUnit provided by Intellij), resolve dependency errors and then it will work"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1584443077,"post_id":60714649,"comment_id":107432021,"body_markdown":"Then remove testng dependency cause you are using TestNG instead of JUnit jupiter cause you don&#39;t have a dependency to it which means your class contains imports from `org.testng.` instead `org.junit.jupiter.api.*` instead...","body":"Then remove testng dependency cause you are using TestNG instead of JUnit jupiter cause you don&#39;t have a dependency to it which means your class contains imports from <code>org.testng.</code> instead <code>org.junit.jupiter.api.*</code> instead..."},{"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"score":0,"creation_date":1584476787,"post_id":60714649,"comment_id":107447552,"body_markdown":"Yep removing org.testing and replacing it with org.junit.jupiter broke my testing but showed me that the break was in needing to change the  Beforemethod which org.testing uses to BeforeEach which JUnit uses. \n\nReplaced that and ran mvn clean test and it worked.","body":"Yep removing org.testing and replacing it with org.junit.jupiter broke my testing but showed me that the break was in needing to change the  Beforemethod which org.testing uses to BeforeEach which JUnit uses.   Replaced that and ran mvn clean test and it worked."}],"answers":[{"tags":[],"owner":{"account_id":27598952,"reputation":1,"user_id":21064585,"display_name":"maw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683183169,"creation_date":1683118786,"answer_id":76164131,"question_id":60714649,"body_markdown":"In my case I had to set `MAVEN_HOME` in IntelliJ: File-&gt;Settings (or\r\n &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt; under windows), then search for maven and set the &quot;Maven home path&quot; to your local maven installation.\r\n\r\nThis prevented the use of TestNG and my tests were executed. Don&#39;t know why TestNG was used before, I had no TestNG dependency in my `pom.xml`.","title":"mvn test returns 0 tests run","body":"<p>In my case I had to set <code>MAVEN_HOME</code> in IntelliJ: File-&gt;Settings (or\n<kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>S</kbd> under windows), then search for maven and set the &quot;Maven home path&quot; to your local maven installation.</p>\n<p>This prevented the use of TestNG and my tests were executed. Don't know why TestNG was used before, I had no TestNG dependency in my <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":11675542,"reputation":428,"user_id":8549223,"accept_rate":88,"display_name":"Jamie"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3218,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1683183169,"creation_date":1584402793,"question_id":60714649,"body_markdown":"Trying to run mvn from the IntelliJ terminal and it is not running the tests? Like it runs but returns the following \r\n\r\nWhen I run mvn test from the project directory&#39;s command line I get the following.....\r\n\r\n    [INFO] Running TestSuite\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.308 s - in TestSuite\r\n    [INFO]\r\n    [INFO] Results:\r\n    [INFO]\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n\r\n\r\nI read the following and it said that you should be sure your Maven is at 3.6.0 which mine is at 3.6.1\r\n\r\nhttps://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is my pom file. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;movieweb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;movies&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;movies&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;version&gt;6.9.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i5MNp.png\r\n\r\n\r\nAnyone know why this may be happening? I&#39;m stumped. ","title":"mvn test returns 0 tests run","body":"<p>Trying to run mvn from the IntelliJ terminal and it is not running the tests? Like it runs but returns the following </p>\n\n<p>When I run mvn test from the project directory's command line I get the following.....</p>\n\n<pre><code>[INFO] Running TestSuite\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.308 s - in TestSuite\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>I read the following and it said that you should be sure your Maven is at 3.6.0 which mine is at 3.6.1</p>\n\n<p><a href=\"https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/\" rel=\"noreferrer\">https://springframework.guru/why-your-junit-5-tests-are-not-running-under-maven/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/i5MNp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/i5MNp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my pom file. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;movieweb&lt;/groupId&gt;\n    &lt;artifactId&gt;movies&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;movies&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.9.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Anyone know why this may be happening? I'm stumped. </p>\n"},{"tags":["java","spring-boot","gradle","junit","mockito"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683108271,"post_id":76162496,"comment_id":134314748,"body_markdown":"the  void addTestRecord() is only creating objects but not saving them in the repository","body":"the  void addTestRecord() is only creating objects but not saving them in the repository"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1683109573,"post_id":76162496,"comment_id":134315024,"body_markdown":"Try to add @Transactional on the class level. It might help.","body":"Try to add @Transactional on the class level. It might help."},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683110425,"post_id":76162496,"comment_id":134315203,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683116178,"post_id":76162496,"comment_id":134316502,"body_markdown":"could you also share the code of the &quot;Domain&quot; class? Also please share bigger part of stacktrace not only the last two lines.","body":"could you also share the code of the &quot;Domain&quot; class? Also please share bigger part of stacktrace not only the last two lines."},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683118329,"post_id":76162496,"comment_id":134317065,"body_markdown":"ohk i share full error","body":"ohk i share full error"},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683119280,"post_id":76162496,"comment_id":134317344,"body_markdown":"when a first test case is executed successfully then hibernate executed select query for finding domain object with id = 1 but why? @fascynacja","body":"when a first test case is executed successfully then hibernate executed select query for finding domain object with id = 1 but why? @fascynacja"},{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683142183,"post_id":76162496,"comment_id":134322684,"body_markdown":"Maybe you can remove &quot;GeneratedValue&quot;,  or change the strategy to smth else? You can also try to select and print all domain values from dB in order to see what ids they really have.","body":"Maybe you can remove &quot;GeneratedValue&quot;,  or change the strategy to smth else? You can also try to select and print all domain values from dB in order to see what ids they really have."},{"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"score":0,"creation_date":1683176864,"post_id":76162496,"comment_id":134326944,"body_markdown":"but i am using H2 database for test cases only @fascynacja","body":"but i am using H2 database for test cases only @fascynacja"}],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683182551,"creation_date":1683182551,"answer_id":76170264,"question_id":76162496,"body_markdown":"The problem here might be that while you are saving entities in the database their &quot;id&quot; is generated by the database. So the id which you assigned  to the *Domain* object: &quot;1&quot;, does not really exist.\r\nYou can try to \r\n\r\na) after saving *Domain* into database reuse the returned entity ( which will have real id assigned)\r\n\r\nb) remove the *Domain* creation in the *createTopic* method, instead always reuse the one which was created before\r\n\r\nc) in your testcases do not recreate those objects again but reuse the ones created in @BeforeEach\r\n\r\n\t@BeforeEach\r\n\tvoid addTestRecord() {\r\n\t\tdomain = domainRepository.save(createDomain());  //a\r\n\t\tSystem.out.println(&quot;Domain id is: &quot; + domain.getId());\r\n\t\ttopic = topicRepository.save(createTopic());\r\n\t\tSystem.out.println(&quot;Topic id is: &quot; + topic.getId());\r\n\t}\r\n\r\n\r\n\tprivate Topic createTopic() {\r\n\t\tTopic topic = new Topic();\r\n\t\ttopic.setId(1);\r\n\t\ttopic.setName(&quot;Java&quot;);\r\n\t\ttopic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\r\n\t\ttopic.setDomain(domain); //b\r\n\t\treturn topic;\r\n\t}\r\n\r\n    @Test\r\n\tvoid findAllTopicByDomainId() {\r\n\t\t//domainRepository.save(domain); // c remove those lines\r\n\t\t//topicRepository.save(topic);   // c remove those lines\r\n\t\tfinal var result =\r\n\t\t\ttopicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n\t\tassertEquals(1, result.size());\r\n\t\tassertEquals(&quot;Java&quot;, result.get(0).getName());\r\n\t}","title":"JUnit5 test case on Repository class","body":"<p>The problem here might be that while you are saving entities in the database their &quot;id&quot; is generated by the database. So the id which you assigned  to the <em>Domain</em> object: &quot;1&quot;, does not really exist.\nYou can try to</p>\n<p>a) after saving <em>Domain</em> into database reuse the returned entity ( which will have real id assigned)</p>\n<p>b) remove the <em>Domain</em> creation in the <em>createTopic</em> method, instead always reuse the one which was created before</p>\n<p>c) in your testcases do not recreate those objects again but reuse the ones created in @BeforeEach</p>\n<pre><code>@BeforeEach\nvoid addTestRecord() {\n    domain = domainRepository.save(createDomain());  //a\n    System.out.println(&quot;Domain id is: &quot; + domain.getId());\n    topic = topicRepository.save(createTopic());\n    System.out.println(&quot;Topic id is: &quot; + topic.getId());\n}\n\n\nprivate Topic createTopic() {\n    Topic topic = new Topic();\n    topic.setId(1);\n    topic.setName(&quot;Java&quot;);\n    topic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\n    topic.setDomain(domain); //b\n    return topic;\n}\n\n@Test\nvoid findAllTopicByDomainId() {\n    //domainRepository.save(domain); // c remove those lines\n    //topicRepository.save(topic);   // c remove those lines\n    final var result =\n        topicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    assertEquals(1, result.size());\n    assertEquals(&quot;Java&quot;, result.get(0).getName());\n}\n</code></pre>\n"}],"owner":{"account_id":28144527,"reputation":37,"user_id":21507039,"display_name":"Anup Panchal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683182551,"creation_date":1683107439,"question_id":76162496,"body_markdown":"I am writing JUnit test cases for the repository layer.\r\n\r\nI am working on a spring boot gradle project.\r\n\r\nusing the H2 in-memory database for the test cases.\r\n\r\n**This is my Repository layer test cases**\r\n\r\n```\r\n@DataJpaTest\r\n@ExtendWith(MockitoExtension.class)\r\n@ActiveProfiles(Constant.TEST_PROFILE)\r\n@AutoConfigureTestDatabase(replace = Replace.NONE)\r\nclass TopicRepositoryTest {\r\n  @Autowired TopicRepository topicRepository;\r\n  @Autowired DomainRepository domainRepository;\r\n\r\n  private Topic topic;\r\n  private Domain domain;\r\n\r\n  @BeforeEach\r\n  void addTestRecord() {\r\n    domain = createDomain();\r\n    topic = createTopic();\r\n  }\r\n\r\n  private Topic createTopic() {\r\n    Topic topic = new Topic();\r\n    topic.setId(1);\r\n    topic.setName(&quot;Java&quot;);\r\n    topic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\r\n    Domain domain = new Domain();\r\n    domain.setId(1);\r\n    domain.setName(&quot;Java&quot;);\r\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n    topic.setDomain(domain);\r\n    return topic;\r\n  }\r\n\r\n  private Domain createDomain() {\r\n    Domain domain = new Domain();\r\n    domain.setId(1);\r\n    domain.setName(&quot;Java&quot;);\r\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n    return domain;\r\n  }\r\n\r\n  @Test\r\n  void findAllTopicByDomainId() {\r\n    domainRepository.save(domain);\r\n    topicRepository.save(topic);\r\n    final var result =\r\n        topicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\r\n    assertEquals(1, result.size());\r\n    assertEquals(&quot;Java&quot;, result.get(0).getName());\r\n  }\r\n\r\n  @Test\r\n  void deleteByUid() {\r\n    domainRepository.save(domain);\r\n    topicRepository.save(topic);\r\n    assertTrue(topicRepository.findById(topic.getId()).isPresent());\r\n    topicRepository.deleteByUid(topic.getUid());\r\n    assertFalse(topicRepository.findById(topic.getId()).isPresent());\r\n  }\r\n\r\n  @Test\r\n  void getTopicByUid() {\r\n    domainRepository.save(domain);\r\n    topicRepository.save(topic);\r\n    final var result = topicRepository.getTopicByUid(topic.getUid());\r\n    assertEquals(&quot;Java&quot;, result.getName());\r\n  }\r\n}\r\n```\r\n**AND this is my Domain.class**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Domain {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer id;\r\n\r\n  private String name;\r\n\r\n  private String uid;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nwhen I run all test cases manually they execute successfully\r\n\r\nand if I run TopicRepositoryTest.class I am facing this error.\r\n\r\n\r\n```\r\nHibernate: drop table if exists domain cascade \r\nHibernate: drop table if exists topic cascade \r\nHibernate: create table domain (id integer generated by default as identity, name varchar(255), uid varchar(255), primary key (id))\r\nHibernate: create table topic (id integer generated by default as identity, name varchar(255), uid varchar(255), domain_id integer, primary key (id))\r\nHibernate: alter table if exists topic add constraint FKdg7t6kdm25v4v8ekv96mlcm1l foreign key (domain_id) references domain\r\n2023-05-03T18:04:21.764+05:30  INFO 24738 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-03T18:04:21.773+05:30  INFO 24738 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-03T18:04:22.125+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.testiqo.exam.engine.repository.TopicRepository\r\n2023-05-03T18:04:22.476+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated &#39;-debug&#39; fallback for parameter name resolution. Compile the affected code with &#39;-parameters&#39; instead or avoid its introspection: com.testiqo.exam.engine.repository.DomainRepository\r\n2023-05-03T18:04:22.538+05:30  INFO 24738 --- [    Test worker] c.t.e.e.repository.TopicRepositoryTest   : Started TopicRepositoryTest in 4.103 seconds (process running for 5.541)\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\r\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\r\nHibernate: insert into topic (id, domain_id, name, uid) values (default, ?, ?, ?)\r\nHibernate: select t1_0.id,t1_0.domain_id,t1_0.name,t1_0.uid from topic t1_0 where t1_0.uid=?\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\r\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\n\r\nUnable to find com.testiqo.exam.engine.entity.Domain with id 1\r\norg.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\r\n\tat app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:376)\r\n\tat app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:234)\r\n\tat app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy115.save(Unknown Source)\r\n\tat app//com.testiqo.exam.engine.repository.TopicRepositoryTest.setUp(TopicRepositoryTest.java:107)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: jakarta.persistence.EntityNotFoundException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\r\n\tat app//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:182)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:228)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:358)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)\r\n\tat app//org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:72)\r\n\tat app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat app//org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)\r\n\tat app//org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1097)\r\n\tat app//org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:653)\r\n\tat app//org.hibernate.type.EntityType.resolve(EntityType.java:396)\r\n\tat app//org.hibernate.type.EntityType.replace(EntityType.java:314)\r\n\tat app//org.hibernate.type.AbstractType.replace(AbstractType.java:143)\r\n\tat app//org.hibernate.type.TypeHelper.replace(TypeHelper.java:154)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:531)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:247)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:356)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\r\n\tat app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\r\n\tat app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat app//org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\r\n\tat app//org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy107.merge(Unknown Source)\r\n\tat app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:616)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 96 more\r\n\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\r\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\r\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\r\n\r\n```\r\n**I dont know how solve this**","title":"JUnit5 test case on Repository class","body":"<p>I am writing JUnit test cases for the repository layer.</p>\n<p>I am working on a spring boot gradle project.</p>\n<p>using the H2 in-memory database for the test cases.</p>\n<p><strong>This is my Repository layer test cases</strong></p>\n<pre><code>@DataJpaTest\n@ExtendWith(MockitoExtension.class)\n@ActiveProfiles(Constant.TEST_PROFILE)\n@AutoConfigureTestDatabase(replace = Replace.NONE)\nclass TopicRepositoryTest {\n  @Autowired TopicRepository topicRepository;\n  @Autowired DomainRepository domainRepository;\n\n  private Topic topic;\n  private Domain domain;\n\n  @BeforeEach\n  void addTestRecord() {\n    domain = createDomain();\n    topic = createTopic();\n  }\n\n  private Topic createTopic() {\n    Topic topic = new Topic();\n    topic.setId(1);\n    topic.setName(&quot;Java&quot;);\n    topic.setUid(&quot;35f66eaa-2fc7-4170-8470-feb83ddbf6b0&quot;);\n    Domain domain = new Domain();\n    domain.setId(1);\n    domain.setName(&quot;Java&quot;);\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    topic.setDomain(domain);\n    return topic;\n  }\n\n  private Domain createDomain() {\n    Domain domain = new Domain();\n    domain.setId(1);\n    domain.setName(&quot;Java&quot;);\n    domain.setUid(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    return domain;\n  }\n\n  @Test\n  void findAllTopicByDomainId() {\n    domainRepository.save(domain);\n    topicRepository.save(topic);\n    final var result =\n        topicRepository.findAllTopicByDomainId(&quot;1234z637-c6c1-4dc3-9755-9f6ad974d70b&quot;);\n    assertEquals(1, result.size());\n    assertEquals(&quot;Java&quot;, result.get(0).getName());\n  }\n\n  @Test\n  void deleteByUid() {\n    domainRepository.save(domain);\n    topicRepository.save(topic);\n    assertTrue(topicRepository.findById(topic.getId()).isPresent());\n    topicRepository.deleteByUid(topic.getUid());\n    assertFalse(topicRepository.findById(topic.getId()).isPresent());\n  }\n\n  @Test\n  void getTopicByUid() {\n    domainRepository.save(domain);\n    topicRepository.save(topic);\n    final var result = topicRepository.getTopicByUid(topic.getUid());\n    assertEquals(&quot;Java&quot;, result.getName());\n  }\n}\n</code></pre>\n<p><strong>AND this is my Domain.class</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Getter\n@Setter\n@ToString\npublic class Domain {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  private String name;\n\n  private String uid;\n}\n\n\n</code></pre>\n<p>when I run all test cases manually they execute successfully</p>\n<p>and if I run TopicRepositoryTest.class I am facing this error.</p>\n<pre><code>Hibernate: drop table if exists domain cascade \nHibernate: drop table if exists topic cascade \nHibernate: create table domain (id integer generated by default as identity, name varchar(255), uid varchar(255), primary key (id))\nHibernate: create table topic (id integer generated by default as identity, name varchar(255), uid varchar(255), domain_id integer, primary key (id))\nHibernate: alter table if exists topic add constraint FKdg7t6kdm25v4v8ekv96mlcm1l foreign key (domain_id) references domain\n2023-05-03T18:04:21.764+05:30  INFO 24738 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-03T18:04:21.773+05:30  INFO 24738 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-03T18:04:22.125+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.testiqo.exam.engine.repository.TopicRepository\n2023-05-03T18:04:22.476+05:30  WARN 24738 --- [    Test worker] ocalVariableTableParameterNameDiscoverer : Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.testiqo.exam.engine.repository.DomainRepository\n2023-05-03T18:04:22.538+05:30  INFO 24738 --- [    Test worker] c.t.e.e.repository.TopicRepositoryTest   : Started TopicRepositoryTest in 4.103 seconds (process running for 5.541)\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\nHibernate: insert into topic (id, domain_id, name, uid) values (default, ?, ?, ?)\nHibernate: select t1_0.id,t1_0.domain_id,t1_0.name,t1_0.uid from topic t1_0 where t1_0.uid=?\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\n\nUnable to find com.testiqo.exam.engine.entity.Domain with id 1\norg.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\n    at app//org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:376)\n    at app//org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:234)\n    at app//org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at app//org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at app//org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy115.save(Unknown Source)\n    at app//com.testiqo.exam.engine.repository.TopicRepositoryTest.setUp(TopicRepositoryTest.java:107)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.6/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: jakarta.persistence.EntityNotFoundException: Unable to find com.testiqo.exam.engine.entity.Domain with id 1\n    at app//org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:182)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:228)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:358)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)\n    at app//org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:72)\n    at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at app//org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)\n    at app//org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1097)\n    at app//org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:653)\n    at app//org.hibernate.type.EntityType.resolve(EntityType.java:396)\n    at app//org.hibernate.type.EntityType.replace(EntityType.java:314)\n    at app//org.hibernate.type.AbstractType.replace(AbstractType.java:143)\n    at app//org.hibernate.type.TypeHelper.replace(TypeHelper.java:154)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.copyValues(DefaultMergeEventListener.java:531)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:247)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:356)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:178)\n    at app//org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:81)\n    at app//org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at app//org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:830)\n    at app//org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy107.merge(Unknown Source)\n    at app//org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:616)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.6/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at app//org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at app//org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at app//org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 96 more\n\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\nHibernate: insert into domain (id, name, uid) values (default, ?, ?)\nHibernate: select t1_0.id,d1_0.id,d1_0.name,d1_0.uid,t1_0.name,t1_0.uid from topic t1_0 left join domain d1_0 on d1_0.id=t1_0.domain_id where t1_0.id=?\nHibernate: select d1_0.id,d1_0.name,d1_0.uid from domain d1_0 where d1_0.id=?\n\n</code></pre>\n<p><strong>I dont know how solve this</strong></p>\n"},{"tags":["java","soap"],"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683182496,"creation_date":1683182496,"question_id":76170261,"body_markdown":"I am facing a problem while parsing the soap response i am getting back from the server.\r\n\r\nBelow is a sample screenshot of the response from the server :\r\n\r\n[![enter image description here](https://i.stack.imgur.com/3N10Q.png)](https://i.stack.imgur.com/3N10Q.png)\r\n\r\nI am sending a soap request to the server and getting a soap response back. I need to parse each value in the soap response and store it in the database.  Below is the code i am using for sending the soap request\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hkx4W.png)](https://i.stack.imgur.com/hkx4W.png)\r\n\r\nSo basically i have 3 issue\r\n\r\n1. when querytext has value like like brackets or &quot;;&quot; --\\&gt; i get error like &quot;\\[Fatal Error\\] :1:2543: The content of elements must consist of well-formed character data or markup.&quot;\r\n\r\n2. Secondly the querytext html escaped values instead of normal value . I need \\&gt; or \\&lt; and it has \\&gt;\r\n\r\n3. The formating of lines is lost. every text is next to each other . it doesnt look like sql any more\r\n\r\ncan you let me know where i am making mistake","title":"Java Text formating","body":"<p>I am facing a problem while parsing the soap response i am getting back from the server.</p>\n<p>Below is a sample screenshot of the response from the server :</p>\n<p><a href=\"https://i.stack.imgur.com/3N10Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3N10Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I am sending a soap request to the server and getting a soap response back. I need to parse each value in the soap response and store it in the database.  Below is the code i am using for sending the soap request</p>\n<p><a href=\"https://i.stack.imgur.com/hkx4W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkx4W.png\" alt=\"enter image description here\" /></a></p>\n<p>So basically i have 3 issue</p>\n<ol>\n<li><p>when querytext has value like like brackets or &quot;;&quot; --&gt; i get error like &quot;[Fatal Error] :1:2543: The content of elements must consist of well-formed character data or markup.&quot;</p>\n</li>\n<li><p>Secondly the querytext html escaped values instead of normal value . I need &gt; or &lt; and it has &gt;</p>\n</li>\n<li><p>The formating of lines is lost. every text is next to each other . it doesnt look like sql any more</p>\n</li>\n</ol>\n<p>can you let me know where i am making mistake</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1683182357,"post_id":76170192,"comment_id":134327779,"body_markdown":"Just a guess - I suppose `Levels\\default` is the path to the file? Perhaps there is a `\\n` or other whitespace character appended at the end when you press enter?","body":"Just a guess - I suppose <code>Levels\\default</code> is the path to the file? Perhaps there is a <code>\\n</code> or other whitespace character appended at the end when you press enter?"},{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1683182738,"post_id":76170192,"comment_id":134327852,"body_markdown":"yes, i just added &quot;e.getKeyCode!=KeyEvent.VK_ENTER&quot; to the condition and it worked, thanks","body":"yes, i just added &quot;e.getKeyCode!=KeyEvent.VK_ENTER&quot; to the condition and it worked, thanks"}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683182023,"creation_date":1683182023,"question_id":76170192,"body_markdown":"My file is not copied, when I press Enter, it gives an error: Illegal char &lt;\r\n&gt; at index 14: Levels\\default\r\n\r\n\r\n\r\n```\r\nprivate static void copyFile(File source, File dest) {\r\n        try {\r\n            Files.copy(source.toPath(), dest.toPath());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n```\r\ncase KeyEvent.VK_ENTER -&gt; {\r\n    if (new File(panel.level[panel.levelPage].levelPath).exists()) {\r\n       copyFile(new File(panel.level[panel.levelPage].levelPath), new File(panel.path + panel.levelRename));\r\n       try {\r\n          Files.delete(Paths.get(panel.level[panel.levelPage].levelPath));\r\n       } catch (IOException ex) {\r\n          ex.printStackTrace();\r\n       }\r\n   }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t know why, but the same code in MousePressed func works","title":"Why is the file not being copied? (Illegal char &lt; &gt; at index 14: Levels\\default)","body":"<p>My file is not copied, when I press Enter, it gives an error: Illegal char &lt;</p>\n<blockquote>\n<p>at index 14: Levels\\default</p>\n</blockquote>\n<pre><code>private static void copyFile(File source, File dest) {\n        try {\n            Files.copy(source.toPath(), dest.toPath());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>case KeyEvent.VK_ENTER -&gt; {\n    if (new File(panel.level[panel.levelPage].levelPath).exists()) {\n       copyFile(new File(panel.level[panel.levelPage].levelPath), new File(panel.path + panel.levelRename));\n       try {\n          Files.delete(Paths.get(panel.level[panel.levelPage].levelPath));\n       } catch (IOException ex) {\n          ex.printStackTrace();\n       }\n   }\n}\n</code></pre>\n<p>I don't know why, but the same code in MousePressed func works</p>\n"},{"tags":["java","binaryfiles"],"comments":[{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1683182501,"post_id":76170166,"comment_id":134327800,"body_markdown":"before reading the values of your bytes `itemCount = raf.readInt();`, you have to [reverse the array](https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java).","body":"before reading the values of your bytes <code>itemCount = raf.readInt();</code>, you have to <a href=\"https://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\">reverse the array</a>."}],"owner":{"account_id":2692923,"reputation":463,"user_id":2325753,"accept_rate":92,"display_name":"adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683184393,"answer_count":0,"score":0,"last_activity_date":1683181713,"creation_date":1683181713,"question_id":76170166,"body_markdown":"I am trying to make a program that reads the PS3 PARAM.SFO file in java. I am having trouble reading the shorts and the ints. I think they are backwards in the PARAM.SFO file. Here&#39;s the code I have.\r\n```java\r\nif(isOpen())\r\n\tclose();\r\n\t\t\r\nfile = new File(path);\r\n\t\t\r\nString mode = &quot;rw&quot;;\r\nif(!file.canWrite())\r\n\tmode = &quot;r&quot;;\r\n\t\t\r\nraf = new RandomAccessFile(path, mode);\r\n\t\t\r\nbyte[] mgc = new byte[4];\r\nraf.read(mgc);\r\nmagic = new String(mgc, StandardCharsets.UTF_8);\r\n\t\t\r\nif(magic.compareTo(&quot;\\0PSF&quot;) != 0)\r\n\tthrow new IOException(&quot;Not a valid param.sfo file&quot;);\r\n\t\t\r\nmajorVersion = raf.readByte();\r\nminorVersion = raf.readByte();\r\nreserved1 = raf.readShort();\r\nkeysOffset = raf.readInt();\r\nvaluesOffset = raf.readInt();\r\n\r\nitemCount = raf.readInt();\r\n\t\t\r\nitems = new ArrayList&lt;ParamSfoEntry&gt;();\r\n\t\t\r\nfor(int i = 0; i &lt; itemCount; i++)\r\n     items.add(new ParamSfoEntry(raf, this, i));\r\n```\r\n\r\nHere is a screenshot of PARAM.SFO\r\n![](https://i.postimg.cc/nh4jZ6vD/Screenshot-2023-05-04-010521.png)\r\n\r\nWhen I try to read `keysOffset` in it comes out to be `-469762048` and its supposed to be `228`. So the program throws a negative offset error.","title":"Problem reading offsets from file in java","body":"<p>I am trying to make a program that reads the PS3 PARAM.SFO file in java. I am having trouble reading the shorts and the ints. I think they are backwards in the PARAM.SFO file. Here's the code I have.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(isOpen())\n    close();\n        \nfile = new File(path);\n        \nString mode = &quot;rw&quot;;\nif(!file.canWrite())\n    mode = &quot;r&quot;;\n        \nraf = new RandomAccessFile(path, mode);\n        \nbyte[] mgc = new byte[4];\nraf.read(mgc);\nmagic = new String(mgc, StandardCharsets.UTF_8);\n        \nif(magic.compareTo(&quot;\\0PSF&quot;) != 0)\n    throw new IOException(&quot;Not a valid param.sfo file&quot;);\n        \nmajorVersion = raf.readByte();\nminorVersion = raf.readByte();\nreserved1 = raf.readShort();\nkeysOffset = raf.readInt();\nvaluesOffset = raf.readInt();\n\nitemCount = raf.readInt();\n        \nitems = new ArrayList&lt;ParamSfoEntry&gt;();\n        \nfor(int i = 0; i &lt; itemCount; i++)\n     items.add(new ParamSfoEntry(raf, this, i));\n</code></pre>\n<p>Here is a screenshot of PARAM.SFO\n<img src=\"https://i.postimg.cc/nh4jZ6vD/Screenshot-2023-05-04-010521.png\" alt=\"\" /></p>\n<p>When I try to read <code>keysOffset</code> in it comes out to be <code>-469762048</code> and its supposed to be <code>228</code>. So the program throws a negative offset error.</p>\n"},{"tags":["java","class","methods","time","localdate"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1683190733,"post_id":76170138,"comment_id":134329517,"body_markdown":"`return dateR.format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.ROOT));`. Or for many purposes even better `dateR.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.SHORT))` to get the localized format for the default locale. Under all circumstances extract the formatter into a constant.","body":"<code>return dateR.format(DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.ROOT));</code>. Or for many purposes even better <code>dateR.format(DateTimeFormatter.ofLocalizedDate(FormatStyle.S&zwnj;&#8203;HORT))</code> to get the localized format for the default locale. Under all circumstances extract the formatter into a constant."}],"owner":{"account_id":28501595,"reputation":1,"user_id":21812768,"display_name":"dhiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683182977,"answer_count":0,"score":0,"last_activity_date":1683181542,"creation_date":1683181443,"question_id":76170138,"body_markdown":"i used the class localDAte in a method like this :\r\n\r\n    public String dateR(int ageR) {\r\n\t\t    LocalDate dateR= dateN.plusYears(ageR);\r\n\t        return dateR.toString();\r\n\t}\r\n\r\nand it gives me the date in &quot;yyyy-mm-dd&quot; format however i want it in &quot;dd-mm-yyyy&quot; format\r\n\r\n i want the result date in &quot;dd-mm-yyyy&quot; format","title":"how to change date format in java from &quot;yyyy-mm-dd&quot; to &quot;dd-mm-yyyy&quot;","body":"<p>i used the class localDAte in a method like this :</p>\n<pre><code>public String dateR(int ageR) {\n        LocalDate dateR= dateN.plusYears(ageR);\n        return dateR.toString();\n}\n</code></pre>\n<p>and it gives me the date in &quot;yyyy-mm-dd&quot; format however i want it in &quot;dd-mm-yyyy&quot; format</p>\n<p>i want the result date in &quot;dd-mm-yyyy&quot; format</p>\n"},{"tags":["java","selenium-webdriver","properties"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1683178533,"post_id":76169837,"comment_id":134327145,"body_markdown":"It isn’t clear what the question is. I guess the key passed to the method isn’t in the file, but we can’t see either the key or the contents of the file.","body":"It isn’t clear what the question is. I guess the key passed to the method isn’t in the file, but we can’t see either the key or the contents of the file."}],"owner":{"account_id":17623676,"reputation":1,"user_id":12789082,"display_name":"Bhagat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683178562,"answer_count":0,"score":0,"last_activity_date":1683179031,"creation_date":1683178267,"question_id":76169837,"body_markdown":"i have used Property Reader Method but getting the error - Cannot invoke &quot;Object.toString()&quot; because the return value of `java.util.Properties.get(Object)` is null\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;java.util.Properties.get(Object)&quot; is null\r\n\tat org.automation.library.PropertyReader.elementLocatorReader(PropertyReader.java:25)\r\n\tat org.webservices.testcase.TC_001_Homepage.startBrowser(TC_001_Homepage.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \r\n\r\n    public class PropertyReader {\r\n    \r\n    \tpublic static String applicationConfigReader(String key) throws IOException {\r\n    \t\tFile f = new File(&quot;./Configurations/ApplicationCOnfig.properties&quot;);\r\n    \t\tFileReader fr = new FileReader(f);\r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.load(fr);\r\n    \t\treturn prop.get(key).toString();\r\n    \t}\r\n    \t\r\n    \tpublic static String elementLocatorReader(String key) throws IOException {\r\n    \t\tFile f = new File(&quot;./ElementLocator/Locator.properties&quot;);\r\n    \t\tFileReader fr = new FileReader(f);\r\n    \t\tProperties prop = new Properties();\r\n    \t\tprop.load(fr);\r\n    \t\treturn prop.get(key).toString();\r\n    \t}\r\n    }\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot;\r\n&gt; because the return value of &quot;java.util.Properties.get(Object)&quot; is null\r\n\r\n","title":"Property Reader","body":"<p>i have used Property Reader Method but getting the error - Cannot invoke &quot;Object.toString()&quot; because the return value of <code>java.util.Properties.get(Object)</code> is null\njava.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;java.util.Properties.get(Object)&quot; is null\nat org.automation.library.PropertyReader.elementLocatorReader(PropertyReader.java:25)\nat org.webservices.testcase.TC_001_Homepage.startBrowser(TC_001_Homepage.java:26)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:564)\nat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\nat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\nat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\nat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\nat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:969)\nat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\nat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\nat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)</p>\n<pre><code>public class PropertyReader {\n\n    public static String applicationConfigReader(String key) throws IOException {\n        File f = new File(&quot;./Configurations/ApplicationCOnfig.properties&quot;);\n        FileReader fr = new FileReader(f);\n        Properties prop = new Properties();\n        prop.load(fr);\n        return prop.get(key).toString();\n    }\n    \n    public static String elementLocatorReader(String key) throws IOException {\n        File f = new File(&quot;./ElementLocator/Locator.properties&quot;);\n        FileReader fr = new FileReader(f);\n        Properties prop = new Properties();\n        prop.load(fr);\n        return prop.get(key).toString();\n    }\n}\n</code></pre>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot;\nbecause the return value of &quot;java.util.Properties.get(Object)&quot; is null</p>\n</blockquote>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683178486,"answer_count":0,"score":0,"last_activity_date":1683178097,"creation_date":1683177630,"question_id":76169794,"body_markdown":"Hi have the below two date Column, when the data gets inserted very first time i need to have in Oracle\r\n\r\n    CREA_TS                      UPDT_TS  \r\n    2023-05-03 10:16:46.01653     null\r\n\r\nbut when updating(modify occurs), the column has to get updated automatically using `@UpdateTimestamp` annotation in Spring JPA\r\n\r\n    CREA_TS                      UPDT_TS  \r\n    2023-05-03 10:16:46.01653     2023-06-03 10:16:46.01653\r\n\r\nthe entity:\r\n   \r\n\r\n        @Column(name = &quot;CREA_TS&quot;)\r\n        @CreationTimestamp\r\n        private LocalDateTime createdGmts;\r\n    \r\n        @Column(name = &quot;UPDT_TS&quot;)\r\n        @UpdateTimestamp\r\n        private Timestamp updatedGmts;\r\n\r\n\r\ndoes it worked with (insertable/updateable) or do we have any other best options\r\n\r\n    @Column(name = &quot;CREA_TS&quot;, updatable=false)\r\n    @CreationTimestamp\r\n    private Timestamp createdDate;\r\n    \r\n    @Column(name = &quot;UPDT_TS&quot;, insertable=false)\r\n    @UpdateTimestamp\r\n    private Timestamp modifiedDate;\r\n\r\n","title":"how to skip UpdateTimestamp at the time of initial insertions","body":"<p>Hi have the below two date Column, when the data gets inserted very first time i need to have in Oracle</p>\n<pre><code>CREA_TS                      UPDT_TS  \n2023-05-03 10:16:46.01653     null\n</code></pre>\n<p>but when updating(modify occurs), the column has to get updated automatically using <code>@UpdateTimestamp</code> annotation in Spring JPA</p>\n<pre><code>CREA_TS                      UPDT_TS  \n2023-05-03 10:16:46.01653     2023-06-03 10:16:46.01653\n</code></pre>\n<p>the entity:</p>\n<pre><code>    @Column(name = &quot;CREA_TS&quot;)\n    @CreationTimestamp\n    private LocalDateTime createdGmts;\n\n    @Column(name = &quot;UPDT_TS&quot;)\n    @UpdateTimestamp\n    private Timestamp updatedGmts;\n</code></pre>\n<p>does it worked with (insertable/updateable) or do we have any other best options</p>\n<pre><code>@Column(name = &quot;CREA_TS&quot;, updatable=false)\n@CreationTimestamp\nprivate Timestamp createdDate;\n\n@Column(name = &quot;UPDT_TS&quot;, insertable=false)\n@UpdateTimestamp\nprivate Timestamp modifiedDate;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":1,"creation_date":1305858823,"post_id":6066860,"comment_id":7024847,"body_markdown":"This code will not compile.  You should fix that first.","body":"This code will not compile.  You should fix that first."},{"owner":{"account_id":140233,"reputation":2538,"user_id":346387,"display_name":"Andrew"},"score":4,"creation_date":1305858941,"post_id":6066860,"comment_id":7024863,"body_markdown":"And why do you need to invoke m1 without super?   This isn&#39;t some bar bet is it?","body":"And why do you need to invoke m1 without super?   This isn&#39;t some bar bet is it?"},{"owner":{"account_id":394284,"reputation":31,"user_id":756643,"display_name":"srikanth104"},"score":0,"creation_date":1305862694,"post_id":6066860,"comment_id":7025268,"body_markdown":"@Andrew Just it&#39;s my requirement not more than that","body":"@Andrew Just it&#39;s my requirement not more than that"},{"owner":{"account_id":1368691,"reputation":1565,"user_id":1304519,"accept_rate":100,"display_name":"Kajal Sinha"},"score":0,"creation_date":1421712548,"post_id":6066860,"comment_id":44456172,"body_markdown":"C# does what Srikanth want and C++ too! Java does not.","body":"C# does what Srikanth want and C++ too! Java does not."}],"answers":[{"comments":[{"owner":{"account_id":394284,"reputation":31,"user_id":756643,"display_name":"srikanth104"},"score":0,"creation_date":1305862732,"post_id":6066884,"comment_id":7025271,"body_markdown":"Thank u 4 sharing but it is possible to invoke the base class method by using derived class Object i don&#39;t know syntax","body":"Thank u 4 sharing but it is possible to invoke the base class method by using derived class Object i don&#39;t know syntax"},{"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"score":0,"creation_date":1305862998,"post_id":6066884,"comment_id":7025304,"body_markdown":"That may be, but here&#39;s my question: why do you want and/or need to do this?","body":"That may be, but here&#39;s my question: why do you want and/or need to do this?"}],"tags":[],"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305858675,"creation_date":1305858675,"answer_id":6066884,"question_id":6066860,"body_markdown":"You would need to construct an object of type A. You have overridden method m1 in the derived class, and so any calls to m1 on an object that was created as a B will have the B version of m1 invoked. Without using `super`, there&#39;s no way to instruct the compiler to make the non-virtual call to the base-class version.","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>You would need to construct an object of type A. You have overridden method m1 in the derived class, and so any calls to m1 on an object that was created as a B will have the B version of m1 invoked. Without using <code>super</code>, there's no way to instruct the compiler to make the non-virtual call to the base-class version.</p>\n"},{"tags":[],"owner":{"account_id":224806,"reputation":5444,"user_id":484882,"accept_rate":74,"display_name":"kuriouscoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305864176,"creation_date":1305864176,"answer_id":6067346,"question_id":6066860,"body_markdown":"In short you cannot do it -- virtual dispatching would delegate the call to the referred.","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>In short you cannot do it -- virtual dispatching would delegate the call to the referred.</p>\n"},{"comments":[{"owner":{"account_id":343645,"reputation":48152,"user_id":675502,"display_name":"dlev"},"score":1,"creation_date":1305866315,"post_id":6067489,"comment_id":7025682,"body_markdown":"For reasons I cannot fathom, OP explicitly wants to avoid using super, and he is quite sure it can be done.","body":"For reasons I cannot fathom, OP explicitly wants to avoid using super, and he is quite sure it can be done."},{"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"score":0,"creation_date":1305866428,"post_id":6067489,"comment_id":7025699,"body_markdown":"I was looking at your answer and was just as confused by their response, so I wanted to throw out the explicit `super.m1();` answer just in case he didn&#39;t realize its usage.","body":"I was looking at your answer and was just as confused by their response, so I wanted to throw out the explicit <code>super.m1();</code> answer just in case he didn&#39;t realize its usage."}],"tags":[],"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305865946,"creation_date":1305865946,"answer_id":6067489,"question_id":6066860,"body_markdown":"Are you just looking for `super.m1();`? This will invoke the immediate parent&#39;s method.\r\n\r\nHowever, you cannot instantiate an object of type `B` from outside of `B` and use this.\r\n\r\nYou cannot do:\r\n\r\n    B value = new B();\r\n    value.super.m1(); // call A&#39;s implementation\r\n\r\nHowever, you could do this within B:\r\n\r\n    @Override\r\n    public void m1()\r\n    {\r\n        System.out.println(&quot;hi from B&quot;);\r\n        super.m1();\r\n    }\r\n\r\n    public void useAM1()\r\n    {\r\n        super.m1();\r\n    }\r\n\r\nOf course, when you start to provide workarounds to get at functionality from `A`, then it sounds like you are abusing inheritance, or _at least_ should have used an instance of `A` to begin with.\r\n\r\nInterestingly, in C++ you could do this: `value-&gt;A::m1();`. _Fortunately_, there is no equivalent in Java.","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>Are you just looking for <code>super.m1();</code>? This will invoke the immediate parent's method.</p>\n\n<p>However, you cannot instantiate an object of type <code>B</code> from outside of <code>B</code> and use this.</p>\n\n<p>You cannot do:</p>\n\n<pre><code>B value = new B();\nvalue.super.m1(); // call A's implementation\n</code></pre>\n\n<p>However, you could do this within B:</p>\n\n<pre><code>@Override\npublic void m1()\n{\n    System.out.println(\"hi from B\");\n    super.m1();\n}\n\npublic void useAM1()\n{\n    super.m1();\n}\n</code></pre>\n\n<p>Of course, when you start to provide workarounds to get at functionality from <code>A</code>, then it sounds like you are abusing inheritance, or <em>at least</em> should have used an instance of <code>A</code> to begin with.</p>\n\n<p>Interestingly, in C++ you could do this: <code>value-&gt;A::m1();</code>. <em>Fortunately</em>, there is no equivalent in Java.</p>\n"},{"tags":[],"owner":{"account_id":6170229,"reputation":85,"user_id":4808707,"display_name":"Grant G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683178004,"creation_date":1683177697,"answer_id":76169799,"question_id":6066860,"body_markdown":"I don&#39;t know if this is a new feature to Java introduced some time in the past 12 years since this question was asked, but it&#39;s possible now.\r\n\r\nYou can type cast your B object as the A class, then invoke the overridden method to get the A class&#39;s version.\r\n\r\n```java\r\nb1.m1();       // hi-derived\r\n((A)b1).m1();  // hi-base class\r\n```\r\n\r\nYou could also instantiate the B object as an A object, in which case this is reversed.\r\n\r\n```java\r\nA b1 = new B();\r\nb1.m1();       // hi-base class\r\n((B)b1).m1();  // hi-derived\r\n```\r\nYou can&#39;t go the reverse direction, though, casting the base class as the derived class. It won&#39;t compile.\r\n","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<p>I don't know if this is a new feature to Java introduced some time in the past 12 years since this question was asked, but it's possible now.</p>\n<p>You can type cast your B object as the A class, then invoke the overridden method to get the A class's version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>b1.m1();       // hi-derived\n((A)b1).m1();  // hi-base class\n</code></pre>\n<p>You could also instantiate the B object as an A object, in which case this is reversed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>A b1 = new B();\nb1.m1();       // hi-base class\n((B)b1).m1();  // hi-derived\n</code></pre>\n<p>You can't go the reverse direction, though, casting the base class as the derived class. It won't compile.</p>\n"}],"owner":{"account_id":394284,"reputation":31,"user_id":756643,"display_name":"srikanth104"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15411,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1683178004,"creation_date":1305858344,"question_id":6066860,"body_markdown":"    class A \r\n    {\r\n      public void m1()\r\n      {\r\n        System.out.println(&quot;hi-base class&quot;);\r\n      }\r\n    }\r\n    \r\n    class B extends A\r\n    {\r\n      public void  m1()\r\n      {\r\n        System.out.println(&quot;hi-derived &quot;);\r\n      }\r\n      \r\n      public static void main(String args[])\r\n      {\r\n        B b1=new B();\r\n      }\r\n    }\r\n\r\nIn this i want to invoke base class m1 method by using Derived class object without using the super \r\n","title":"How to call base class method with derived class Object when that method overridden in derived class?","body":"<pre><code>class A \n{\n  public void m1()\n  {\n    System.out.println(\"hi-base class\");\n  }\n}\n\nclass B extends A\n{\n  public void  m1()\n  {\n    System.out.println(\"hi-derived \");\n  }\n\n  public static void main(String args[])\n  {\n    B b1=new B();\n  }\n}\n</code></pre>\n\n<p>In this i want to invoke base class m1 method by using Derived class object without using the super </p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1644488634,"post_id":71063120,"comment_id":125622395,"body_markdown":"The PDF file might be invalid. Have you tried to validate it, e.g. on https://www.pdf-online.com/osa/validate.aspx ?","body":"The PDF file might be invalid. Have you tried to validate it, e.g. on <a href=\"https://www.pdf-online.com/osa/validate.aspx\" rel=\"nofollow noreferrer\">pdf-online.com/osa/validate.aspx</a> ?"},{"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"score":0,"creation_date":1644490417,"post_id":71063120,"comment_id":125623087,"body_markdown":"after check Compliance\tpdf1.6\nResult\tDocument validated successfully. the file create with fpdf but containing image","body":"after check Compliance\tpdf1.6 Result\tDocument validated successfully. the file create with fpdf but containing image"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1644492679,"post_id":71063120,"comment_id":125623908,"body_markdown":"There is only PDDocument.load() in 2.0.25 . The file is likely broken, please share it.","body":"There is only PDDocument.load() in 2.0.25 . The file is likely broken, please share it."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1644493233,"post_id":71063120,"comment_id":125624109,"body_markdown":"Considering the stack trace, maybe a dictionary key without a value? Or a follow-up error of a non-name key in a dictionary? Anyways, without the PDF in question this is pure guesswork.","body":"Considering the stack trace, maybe a dictionary key without a value? Or a follow-up error of a non-name key in a dictionary? Anyways, without the PDF in question this is pure guesswork."}],"answers":[{"tags":[],"owner":{"account_id":1786811,"reputation":65,"user_id":1628121,"display_name":"user1628121"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683177491,"creation_date":1683177491,"answer_id":76169789,"question_id":71063120,"body_markdown":"CMS Signature should be Hex value so i have commented. Pls find below. Even i have got same problem solved by commenting below line \r\n\r\n    byte[] cmsSignature = Base64.decodeBase64(signedHash);\r\n    RandomAccessFile raf = new RandomAccessFile(inputFile, &quot;rw&quot;);\r\n    raf.seek(offset);\r\n    raf.write(Hex.getBytes(cmsSignature));\r\n    // raf.write(cmsSignature);\r\n    raf.close();","title":"PDFBox 2.0.25 java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)","body":"<p>CMS Signature should be Hex value so i have commented. Pls find below. Even i have got same problem solved by commenting below line</p>\n<pre><code>byte[] cmsSignature = Base64.decodeBase64(signedHash);\nRandomAccessFile raf = new RandomAccessFile(inputFile, &quot;rw&quot;);\nraf.seek(offset);\nraf.write(Hex.getBytes(cmsSignature));\n// raf.write(cmsSignature);\nraf.close();\n</code></pre>\n"}],"owner":{"account_id":13832761,"reputation":97,"user_id":12073556,"display_name":"blinkbink"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683177491,"creation_date":1644487493,"question_id":71063120,"body_markdown":"i&#39;am using PDFBox version 2.0.25 got error\r\n\r\n&gt; java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)\r\n\r\nline the code of error is\r\n\r\n    PDDocument doc = PDDocument.load(inputFile);\r\n\r\ntryng on open document, some reference try with \r\n\r\n    PDDocument doc = PDDocument.loadNonSeq(inputFile);\r\n\r\nbut PDFBox version 2.0.25 there is no such function &#39;loadNonSeq&#39;\r\n\r\nfull log error\r\n\r\n    java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:913)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryValue(BaseParser.java:154)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryNameValuePair(BaseParser.java:288)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionary(BaseParser.java:218)\r\n            at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:857)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:907)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:876)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:796)\r\n            at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:756)\r\n            at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187)\r\n            at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1105)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1088)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1047)\r\n            at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:995)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\r\nany suggestion ? Thank you","title":"PDFBox 2.0.25 java.io.IOException: Unknown dir object c=&#39;&gt;&#39; cInt=62 peek=&#39;&gt;&#39; peekInt=62 at offset 26096 (start offset: 26096)","body":"<p>i'am using PDFBox version 2.0.25 got error</p>\n<blockquote>\n<p>java.io.IOException: Unknown dir object c='&gt;' cInt=62 peek='&gt;' peekInt=62 at offset 26096 (start offset: 26096)</p>\n</blockquote>\n<p>line the code of error is</p>\n<pre><code>PDDocument doc = PDDocument.load(inputFile);\n</code></pre>\n<p>tryng on open document, some reference try with</p>\n<pre><code>PDDocument doc = PDDocument.loadNonSeq(inputFile);\n</code></pre>\n<p>but PDFBox version 2.0.25 there is no such function 'loadNonSeq'</p>\n<p>full log error</p>\n<pre><code>java.io.IOException: Unknown dir object c='&gt;' cInt=62 peek='&gt;' peekInt=62 at offset 26096 (start offset: 26096)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:913)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryValue(BaseParser.java:154)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryNameValuePair(BaseParser.java:288)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionary(BaseParser.java:218)\n        at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:857)\n        at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:907)\n        at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:876)\n        at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:796)\n        at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:756)\n        at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187)\n        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1105)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1088)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1047)\n        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:995)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n</code></pre>\n<p>any suggestion ? Thank you</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9767,"page":458,"page_size":100}
