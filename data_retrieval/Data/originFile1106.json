{"items":[{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660601931,"creation_date":1660600673,"answer_id":73366820,"question_id":73366677,"body_markdown":"You could match 2 times 2 digits with an optional hyphen, and then optionally 4 or 2 digits preceded by a hyphen.\r\n\r\nNote that the pattern by itself does not verify a valid date.\r\n\r\n    (?&lt;!\\d)(\\d{2}-?\\d{2}(?:-(?:\\d{4}|\\d{2}))?)\\S*\\.pdf\\b\r\n\r\n**Explanation**\r\n\r\n- `(?&lt;!\\d)` Negative lookbehind, assert not a digit to the left\r\n- `(` Capture **group 1**\r\n  - `\\d{2}-?\\d{2}` Match 2 digits, optional hyphen and 2 digits\r\n  - `(?:-(?:\\d{4}|\\d{2}))?` Optionally match `-` and either 4 or 2 digits\r\n- `)` Close group 1\r\n- `\\S*` Match optional non whitespace chars\r\n- `\\.pdf\\b` Match a dot and `pdf` followed by a word boundary\r\n\r\n\r\n[Regex demo](https://regex101.com/r/bmSAuB/1)\r\n\r\nOr if there can not be any other digits following till the end of the string:\r\n\r\n    (?&lt;!\\d)(\\d{2}-?\\d{2}(?:-(?:\\d{4}|\\d{2}))?)[^\\d\\s]*\\.pdf\\b\r\n\r\n[Regex demo](https://regex101.com/r/4E9eIW/1)","title":"How to create regex expression for 3 links at once","body":"<p>You could match 2 times 2 digits with an optional hyphen, and then optionally 4 or 2 digits preceded by a hyphen.</p>\n<p>Note that the pattern by itself does not verify a valid date.</p>\n<pre><code>(?&lt;!\\d)(\\d{2}-?\\d{2}(?:-(?:\\d{4}|\\d{2}))?)\\S*\\.pdf\\b\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>(?&lt;!\\d)</code> Negative lookbehind, assert not a digit to the left</li>\n<li><code>(</code> Capture <strong>group 1</strong>\n<ul>\n<li><code>\\d{2}-?\\d{2}</code> Match 2 digits, optional hyphen and 2 digits</li>\n<li><code>(?:-(?:\\d{4}|\\d{2}))?</code> Optionally match <code>-</code> and either 4 or 2 digits</li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>\\S*</code> Match optional non whitespace chars</li>\n<li><code>\\.pdf\\b</code> Match a dot and <code>pdf</code> followed by a word boundary</li>\n</ul>\n<p><a href=\"https://regex101.com/r/bmSAuB/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>Or if there can not be any other digits following till the end of the string:</p>\n<pre><code>(?&lt;!\\d)(\\d{2}-?\\d{2}(?:-(?:\\d{4}|\\d{2}))?)[^\\d\\s]*\\.pdf\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/4E9eIW/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"}],"owner":{"account_id":22464281,"reputation":3,"user_id":16665690,"display_name":"Vitalii Sumka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73366820,"answer_count":1,"score":0,"last_activity_date":1660670229,"creation_date":1660599520,"question_id":73366677,"body_markdown":"I created regex expression in JAVA for 2 links at once:\r\n1) https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/test0218.pdf\r\n2) https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/TestTes-09-05-2018.pdf\r\n\r\nRegex:\r\nString REGEX_LINK = &quot;https:..downloads.test.test.testagain.tes.test-test.test.&quot;\r\n\r\nPattern pattern = Pattern.compile( REGEX_LINK + &quot;.[\\\\w*/]*.((\\\\d{2}-\\\\d{2}-)?\\\\d{4}).pdf&quot; );\r\n\r\nBut I have to create regex expression for 3 links at once and I don&#39;t know how to do that, I need help with this:\r\n1) https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/test0218.pdf\r\n2) https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/TestTes-09-05-2018.pdf\r\n3) https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/01-01-18_Testt_Testing_ASB_Test_Final.pdf\r\n\r\nI have to create one regex expression to extract String from 1 link: &quot;0218&quot;, from 2 link: &quot;09-05-2018&quot;, from 3 link: &quot;01-01-18&quot;                     \r\n\r\nMaybe someone has a any idea how to do this? \r\n\r\n","title":"How to create regex expression for 3 links at once","body":"<p>I created regex expression in JAVA for 2 links at once:</p>\n<ol>\n<li><a href=\"https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/test0218.pdf\" rel=\"nofollow noreferrer\">https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/test0218.pdf</a></li>\n<li><a href=\"https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/TestTes-09-05-2018.pdf\" rel=\"nofollow noreferrer\">https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/TestTes-09-05-2018.pdf</a></li>\n</ol>\n<p>Regex:\nString REGEX_LINK = &quot;https:..downloads.test.test.testagain.tes.test-test.test.&quot;</p>\n<p>Pattern pattern = Pattern.compile( REGEX_LINK + &quot;.[\\w*/]*.((\\d{2}-\\d{2}-)?\\d{4}).pdf&quot; );</p>\n<p>But I have to create regex expression for 3 links at once and I don't know how to do that, I need help with this:</p>\n<ol>\n<li><a href=\"https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/test0218.pdf\" rel=\"nofollow noreferrer\">https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/test0218.pdf</a></li>\n<li><a href=\"https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/TestTes-09-05-2018.pdf\" rel=\"nofollow noreferrer\">https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/TestTes-09-05-2018.pdf</a></li>\n<li><a href=\"https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/01-01-18_Testt_Testing_ASB_Test_Final.pdf\" rel=\"nofollow noreferrer\">https://downloads.test.test.testagain.tes/test-test/test/te25st24w/te43s5t25x/0twt42ts/01-01-18_Testt_Testing_ASB_Test_Final.pdf</a></li>\n</ol>\n<p>I have to create one regex expression to extract String from 1 link: &quot;0218&quot;, from 2 link: &quot;09-05-2018&quot;, from 3 link: &quot;01-01-18&quot;</p>\n<p>Maybe someone has a any idea how to do this?</p>\n"},{"tags":["java","eclipse","build","noclassdeffounderror"],"comments":[{"owner":{"account_id":1391148,"reputation":5056,"user_id":1321957,"accept_rate":95,"display_name":"CosminO"},"score":3,"creation_date":1344498181,"post_id":11878805,"comment_id":15805897,"body_markdown":"delete the project from eclipse (keep the files) and try to import the project from the folder, maybe?","body":"delete the project from eclipse (keep the files) and try to import the project from the folder, maybe?"},{"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"score":0,"creation_date":1344505265,"post_id":11878805,"comment_id":15808314,"body_markdown":"What&#39;s the error that Eclipse is reporting on the red cross? Which class is missing -- did you &quot;lose&quot; any additional JARs by accident?","body":"What&#39;s the error that Eclipse is reporting on the red cross? Which class is missing -- did you &quot;lose&quot; any additional JARs by accident?"},{"owner":{"account_id":311126,"reputation":1307,"user_id":624525,"accept_rate":71,"display_name":"Moataz Aahmed Mohammed"},"score":0,"creation_date":1447428351,"post_id":11878805,"comment_id":55163726,"body_markdown":"@CosminO Thank you for your comment it was helpful.","body":"@CosminO Thank you for your comment it was helpful."}],"answers":[{"tags":[],"owner":{"account_id":1733142,"reputation":1014,"user_id":1586299,"accept_rate":50,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344550441,"creation_date":1344498228,"answer_id":11878849,"question_id":11878805,"body_markdown":"Try deleting the run configuration and remaking.\r\n\r\nIf that doesn&#39;t work, open the class, ctrl+f11 to run.  That will force Eclipse to update its classpaths &amp; rebuild its main indexes.\r\n\r\nTo delete the configuration:\r\n - Menu -&gt; Run -&gt; Run Configurations.\r\n - Select your configuration\r\n - Press delete or use the delete icon","title":"eclipse doesn&#39;t compile the project","body":"<p>Try deleting the run configuration and remaking.</p>\n\n<p>If that doesn't work, open the class, ctrl+f11 to run.  That will force Eclipse to update its classpaths &amp; rebuild its main indexes.</p>\n\n<p>To delete the configuration:\n - Menu -> Run -> Run Configurations.\n - Select your configuration\n - Press delete or use the delete icon</p>\n"},{"tags":[],"owner":{"account_id":1425943,"reputation":418,"user_id":1349468,"display_name":"Danny Lagrouw"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1344505008,"creation_date":1344505008,"answer_id":11880522,"question_id":11878805,"body_markdown":"Maybe Eclipse&#39;s workspace files have become corrupted. Restart Eclipse and choose a new workspace folder (or choose Switch workspace from the menu). Then import the project files into a new project.","title":"eclipse doesn&#39;t compile the project","body":"<p>Maybe Eclipse's workspace files have become corrupted. Restart Eclipse and choose a new workspace folder (or choose Switch workspace from the menu). Then import the project files into a new project.</p>\n"},{"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344554883,"creation_date":1344554883,"answer_id":11893448,"question_id":11878805,"body_markdown":"Try refreshing and then cleaning the project.","title":"eclipse doesn&#39;t compile the project","body":"<p>Try refreshing and then cleaning the project.</p>\n"},{"tags":[],"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454174476,"creation_date":1454174476,"answer_id":35104689,"question_id":11878805,"body_markdown":"If you are using maven, this will likely fix it: Right click your project -&gt; Maven -&gt; Update project.. (or alt + F5), select your project, make sure &quot;Refresh workspace resources from local filesystem&quot; is checked and click ok.","title":"eclipse doesn&#39;t compile the project","body":"<p>If you are using maven, this will likely fix it: Right click your project -> Maven -> Update project.. (or alt + F5), select your project, make sure \"Refresh workspace resources from local filesystem\" is checked and click ok.</p>\n"},{"tags":[],"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492014220,"creation_date":1491983957,"answer_id":43363632,"question_id":11878805,"body_markdown":"My eclipse project has similar issue though the error appeared slightly different. I imported a third party java project into Eclipse, with Project &gt; Build Automatically checked, do a Project &gt; Clean..., no classes were generated in the output bin folder. Tried different options, no luck.\r\n\r\nI noticed a red exclamation mark at the top left corner of the project name.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRight click on project name, Properties &gt; Java Build path, I saw &quot;Build path entry is missing: cci/src&quot;. Manually created src folder, the red exclamation mark gone. Do a Project &gt; clean..., project compilation successful\r\n\r\nP.S. The eclipse project is not properly organized, there are no code under src folder. I suspected src folder went missing while checked in by original author since there are no code there.\r\n\r\n  [1]: https://i.stack.imgur.com/2IYmI.png","title":"eclipse doesn&#39;t compile the project","body":"<p>My eclipse project has similar issue though the error appeared slightly different. I imported a third party java project into Eclipse, with Project > Build Automatically checked, do a Project > Clean..., no classes were generated in the output bin folder. Tried different options, no luck.</p>\n\n<p>I noticed a red exclamation mark at the top left corner of the project name.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2IYmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2IYmI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Right click on project name, Properties > Java Build path, I saw \"Build path entry is missing: cci/src\". Manually created src folder, the red exclamation mark gone. Do a Project > clean..., project compilation successful</p>\n\n<p>P.S. The eclipse project is not properly organized, there are no code under src folder. I suspected src folder went missing while checked in by original author since there are no code there.</p>\n"},{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543247650,"creation_date":1543247650,"answer_id":53484779,"question_id":11878805,"body_markdown":"Was having the same problem and finally found the glorious hint [here][1].\r\nIn my project there is one *.scala File and Eclipse Neon is incompatible with the Scala IDE, thus there is no builder for scala and the whole project is not built.\r\n\r\n[![Project Properties -- &gt; Builders ][2]][2]\r\n\r\nAfter removing the Scala file and the Scala Package from the linked Libraries )Project Properties --&gt; Build Path --&gt; Libraries) and afterward re-adding the Java Builder (no idea why this one went missing, but [here&#39;s a useful help on how to add the Java builder when missing][3]), the project could be built and run again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45633889/9064287\r\n  [2]: https://i.stack.imgur.com/CPklm.png\r\n  [3]: https://solveme.wordpress.com/2009/01/06/eclipse-project-missing-default-java-builder/","title":"eclipse doesn&#39;t compile the project","body":"<p>Was having the same problem and finally found the glorious hint <a href=\"https://stackoverflow.com/a/45633889/9064287\">here</a>.\nIn my project there is one *.scala File and Eclipse Neon is incompatible with the Scala IDE, thus there is no builder for scala and the whole project is not built.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CPklm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CPklm.png\" alt=\"Project Properties -- &gt; Builders \"></a></p>\n\n<p>After removing the Scala file and the Scala Package from the linked Libraries )Project Properties --> Build Path --> Libraries) and afterward re-adding the Java Builder (no idea why this one went missing, but <a href=\"https://solveme.wordpress.com/2009/01/06/eclipse-project-missing-default-java-builder/\" rel=\"nofollow noreferrer\">here's a useful help on how to add the Java builder when missing</a>), the project could be built and run again.</p>\n"},{"tags":[],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1559154276,"creation_date":1559154276,"answer_id":56366513,"question_id":11878805,"body_markdown":"I tried all the solutions here, but here&#39;s what worked for me.\r\n\r\n 1. First, remove the project from eclipse.\r\n\r\n 2. Then, in your project folder, delete the 2 files that eclipse creates. They&#39;re hidden, but they&#39;re called .project and .classpath.\r\n\r\n 3. Finally, add the project back into eclipse and eclipse will recreate those 2 files and a new configuration for your project.\r\n\r\nMy specific issue was that it a project that was missing a Java Builder because it thought it was a scala project. The only way for me to reset this was by removing the project, deleting the 2 files, and adding it back in.","title":"eclipse doesn&#39;t compile the project","body":"<p>I tried all the solutions here, but here's what worked for me.</p>\n\n<ol>\n<li><p>First, remove the project from eclipse.</p></li>\n<li><p>Then, in your project folder, delete the 2 files that eclipse creates. They're hidden, but they're called .project and .classpath.</p></li>\n<li><p>Finally, add the project back into eclipse and eclipse will recreate those 2 files and a new configuration for your project.</p></li>\n</ol>\n\n<p>My specific issue was that it a project that was missing a Java Builder because it thought it was a scala project. The only way for me to reset this was by removing the project, deleting the 2 files, and adding it back in.</p>\n"},{"tags":[],"owner":{"account_id":21582568,"reputation":1,"user_id":15913543,"display_name":"Waran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660669978,"creation_date":1660669978,"answer_id":73377799,"question_id":11878805,"body_markdown":"For me the problem is in missing jars,the jars were added first and the location of those jars where changed after.\r\nSo When I correctly added all the required jars again to the build path, it starts to build project correctly.","title":"eclipse doesn&#39;t compile the project","body":"<p>For me the problem is in missing jars,the jars were added first and the location of those jars where changed after.\nSo When I correctly added all the required jars again to the build path, it starts to build project correctly.</p>\n"}],"owner":{"account_id":296410,"reputation":4650,"user_id":601357,"accept_rate":58,"display_name":"samsamara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61051,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":11880522,"answer_count":8,"score":19,"last_activity_date":1660669978,"creation_date":1344498046,"question_id":11878805,"body_markdown":"I had running project opened in eclipse. After an accidental restart of windows, now when I open the eclipse I see my project is marked with a little red cross. Now when I run the main method I get a `java.lang.NoClassDefFoundError`.\r\n\r\nI have tried restarting eclipse, Project -&gt; Clean but it doesn&#39;t solve the problem.\r\n\r\nWhen I checked the project directory, inside &#39;target&#39; folder there are no compiled .class files. I tried building the project but I can&#39;t get the compiled class files, which is the reason for the error.\r\n\r\nHow do I solve this?","title":"eclipse doesn&#39;t compile the project","body":"<p>I had running project opened in eclipse. After an accidental restart of windows, now when I open the eclipse I see my project is marked with a little red cross. Now when I run the main method I get a <code>java.lang.NoClassDefFoundError</code>.</p>\n\n<p>I have tried restarting eclipse, Project -> Clean but it doesn't solve the problem.</p>\n\n<p>When I checked the project directory, inside 'target' folder there are no compiled .class files. I tried building the project but I can't get the compiled class files, which is the reason for the error.</p>\n\n<p>How do I solve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1660670321,"post_id":73377785,"comment_id":129585226,"body_markdown":"The `Triangle` class can store the points passed to the constructor as member variables.","body":"The <code>Triangle</code> class can store the points passed to the constructor as member variables."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1660672844,"post_id":73377785,"comment_id":129586098,"body_markdown":"As @JohnnyMopp says. And then you can call the `getX` and `getY` methods on those points in the methods in `Triangle`.","body":"As @JohnnyMopp says. And then you can call the <code>getX</code> and <code>getY</code> methods on those points in the methods in <code>Triangle</code>."}],"owner":{"account_id":3291634,"reputation":59,"user_id":2769817,"display_name":"NewBieJavaPro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660669903,"creation_date":1660669903,"question_id":73377785,"body_markdown":"I have task to implement some methods to make math operations and etc. I&#39;m fine with that part. But I cannot get how and where I have to create other part of code to make program working. Do I have to create Point objects by myself to access cordinates to make calculation?  \r\nHow can I access `x` and `y` of each Point in `public Triangle`?\r\n\r\n\r\n```\r\nclass Triangle {\r\n\r\n    public Triangle(Point a, Point b, Point c) {\r\n        //TODO\r\n    }\r\n\r\n    public double area() {\r\n        //TODO\r\n    }\r\n\r\n    public Point centroid(){\r\n        //TODO\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nclass Point {\r\n    private double x;\r\n    private double y;\r\n\r\n    public Point(final double x, final double y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public double getX() {\r\n        return x;\r\n    }\r\n\r\n    public double getY() {\r\n        return y;\r\n    }\r\n}\r\n```\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        {\r\n            double area = new Triangle(new Point(0, 0), new Point(3, 0), new Point(0, 4)).area();\r\n            System.out.println(area);\r\n        }\r\n        {\r\n            Point centroid = new Triangle(new Point(0, 0), new Point(3, 0), new Point(0, 3)).centroid();\r\n\r\n            System.out.println(centroid.getX());\r\n            System.out.println(centroid.getY());\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Java Triangle task","body":"<p>I have task to implement some methods to make math operations and etc. I'm fine with that part. But I cannot get how and where I have to create other part of code to make program working. Do I have to create Point objects by myself to access cordinates to make calculation?<br />\nHow can I access <code>x</code> and <code>y</code> of each Point in <code>public Triangle</code>?</p>\n<pre><code>class Triangle {\n\n    public Triangle(Point a, Point b, Point c) {\n        //TODO\n    }\n\n    public double area() {\n        //TODO\n    }\n\n    public Point centroid(){\n        //TODO\n    }\n\n}\n</code></pre>\n<pre><code>class Point {\n    private double x;\n    private double y;\n\n    public Point(final double x, final double y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public double getX() {\n        return x;\n    }\n\n    public double getY() {\n        return y;\n    }\n}\n</code></pre>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        {\n            double area = new Triangle(new Point(0, 0), new Point(3, 0), new Point(0, 4)).area();\n            System.out.println(area);\n        }\n        {\n            Point centroid = new Triangle(new Point(0, 0), new Point(3, 0), new Point(0, 3)).centroid();\n\n            System.out.println(centroid.getX());\n            System.out.println(centroid.getY());\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660669759,"creation_date":1660669759,"answer_id":73377752,"question_id":73376370,"body_markdown":"You must have a source. You might want to implement a custom source, or you could use something like a `NumberSequenceSource` followed by an operator like a process function that emits whatever you know you want to write to the sink, followed by the sink.\r\n\r\nThat process function could, for example, transform the incoming events into whatever you want to write to Kafka, or it could ignore its inputs and use a timer to generate the events to be sent to Kafka.\r\n\r\nOr you might find that [async i/o](https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/operators/asyncio/) is a better building block than a process function, depending on your requirements.","title":"Use Apache Flink to only produce messages to a Kafka topic","body":"<p>You must have a source. You might want to implement a custom source, or you could use something like a <code>NumberSequenceSource</code> followed by an operator like a process function that emits whatever you know you want to write to the sink, followed by the sink.</p>\n<p>That process function could, for example, transform the incoming events into whatever you want to write to Kafka, or it could ignore its inputs and use a timer to generate the events to be sent to Kafka.</p>\n<p>Or you might find that <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/datastream/operators/asyncio/\" rel=\"nofollow noreferrer\">async i/o</a> is a better building block than a process function, depending on your requirements.</p>\n"}],"owner":{"account_id":15757564,"reputation":344,"user_id":11370275,"display_name":"crazy_code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73377752,"answer_count":1,"score":1,"last_activity_date":1660669759,"creation_date":1660662988,"question_id":73376370,"body_markdown":"From the examples I have seen the below code snippet and it works fine. But the problem is that : I don&#39;t always have requirements of processing the **input-stream** and produce it to a **sink**.\r\n\r\nWhat if I have an application where based on some events I have to only publish to a kafka topic so that down-stream applications can make certain decisions. That means, I don&#39;t really have an **input-stream** but I just know when **something** happens in my application, I need to publish a message to a particular topic of kafka. That is, I only need a **sink**.\r\n\r\nI was going through examples but didn&#39;t find anything matching to my requirements. Is there a way to only configure a **KafkaSink** that exposes a method() to be called for publishing messages to a topic.\r\n\r\nMany thanks in advance!!\r\n\r\n```\r\nString inputTopic = &quot;flink_input&quot;;\r\n    String outputTopic = &quot;flink_output&quot;;\r\n    String consumerGroup = &quot;baeldung&quot;;\r\n    String address = &quot;localhost:9092&quot;;\r\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment\r\n      .getExecutionEnvironment();\r\n    FlinkKafkaConsumer011&lt;String&gt; flinkKafkaConsumer = createStringConsumerForTopic(\r\n      inputTopic, address, consumerGroup);\r\n    DataStream&lt;String&gt; stringInputStream = environment\r\n      .addSource(flinkKafkaConsumer);\r\n\r\n    FlinkKafkaProducer011&lt;String&gt; flinkKafkaProducer = createStringProducer(\r\n      outputTopic, address);\r\n\r\n    stringInputStream\r\n      .map(new WordsCapitalizer())\r\n      .addSink(flinkKafkaProducer);\r\n```","title":"Use Apache Flink to only produce messages to a Kafka topic","body":"<p>From the examples I have seen the below code snippet and it works fine. But the problem is that : I don't always have requirements of processing the <strong>input-stream</strong> and produce it to a <strong>sink</strong>.</p>\n<p>What if I have an application where based on some events I have to only publish to a kafka topic so that down-stream applications can make certain decisions. That means, I don't really have an <strong>input-stream</strong> but I just know when <strong>something</strong> happens in my application, I need to publish a message to a particular topic of kafka. That is, I only need a <strong>sink</strong>.</p>\n<p>I was going through examples but didn't find anything matching to my requirements. Is there a way to only configure a <strong>KafkaSink</strong> that exposes a method() to be called for publishing messages to a topic.</p>\n<p>Many thanks in advance!!</p>\n<pre><code>String inputTopic = &quot;flink_input&quot;;\n    String outputTopic = &quot;flink_output&quot;;\n    String consumerGroup = &quot;baeldung&quot;;\n    String address = &quot;localhost:9092&quot;;\n    StreamExecutionEnvironment environment = StreamExecutionEnvironment\n      .getExecutionEnvironment();\n    FlinkKafkaConsumer011&lt;String&gt; flinkKafkaConsumer = createStringConsumerForTopic(\n      inputTopic, address, consumerGroup);\n    DataStream&lt;String&gt; stringInputStream = environment\n      .addSource(flinkKafkaConsumer);\n\n    FlinkKafkaProducer011&lt;String&gt; flinkKafkaProducer = createStringProducer(\n      outputTopic, address);\n\n    stringInputStream\n      .map(new WordsCapitalizer())\n      .addSink(flinkKafkaProducer);\n</code></pre>\n"},{"tags":["java","multithreading","dependency-injection","quarkus"],"answers":[{"tags":[],"owner":{"account_id":5866213,"reputation":970,"user_id":4620086,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660669744,"creation_date":1660669744,"answer_id":73377748,"question_id":73374046,"body_markdown":"Your newly created thread has no (CDI) context active as it tries to access CDI bean (someRestClient). You need to propagate the context to the new thread, when you start it.\r\n\r\nUse following extension to do it for you\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-smallrye-context-propagation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAfterwards you can create ManagedExecutor provided by this extension \r\n\r\n    ManagedExecutor executor = ManagedExecutor.builder()\r\n                                                .maxAsync(1)\r\n                                                .propagated(ThreadContext.CDI, ThreadContext.APPLICATION)\r\n                                                .build();\r\n\r\nand let it execute your async work. (Don&#39;t forget to close it, to release any resources when it isn&#39;t needed anymore)\r\n\r\nMore information\r\nhttps://github.com/eclipse/microprofile-context-propagation/, https://quarkus.io/guides/context-propagation\r\n\r\n\r\n","title":"ContextNotActiveException after running a Task in a new Thread on StartupEvent","body":"<p>Your newly created thread has no (CDI) context active as it tries to access CDI bean (someRestClient). You need to propagate the context to the new thread, when you start it.</p>\n<p>Use following extension to do it for you</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-smallrye-context-propagation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Afterwards you can create ManagedExecutor provided by this extension</p>\n<pre><code>ManagedExecutor executor = ManagedExecutor.builder()\n                                            .maxAsync(1)\n                                            .propagated(ThreadContext.CDI, ThreadContext.APPLICATION)\n                                            .build();\n</code></pre>\n<p>and let it execute your async work. (Don't forget to close it, to release any resources when it isn't needed anymore)</p>\n<p>More information\n<a href=\"https://github.com/eclipse/microprofile-context-propagation/\" rel=\"nofollow noreferrer\">https://github.com/eclipse/microprofile-context-propagation/</a>, <a href=\"https://quarkus.io/guides/context-propagation\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/context-propagation</a></p>\n"}],"owner":{"account_id":15484743,"reputation":3,"user_id":11171066,"display_name":"Jan5676"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73377748,"answer_count":1,"score":0,"last_activity_date":1660669744,"creation_date":1660653104,"question_id":73374046,"body_markdown":"I think my question has not been asked in this way before:\r\n\r\nI want to fill the Cache of my Project on Startup. The documentation on the Quarkus Website tells me, that one way to do this is to add the &quot;@Observes StartupEvent e&quot; construct into the method I am trying to run. When filling the cache, I am pulling data from a REST API of which I am injecting the corresponding client into the class where my StartupMethod resides (so that I can store the result in its respective field)\r\n\r\nBecause this data-fetching takes very long, I want to set it off onto another thread which is created shortly after the StartupEvent method has been triggered. This is what my construct looks like:\r\n\r\n    public class CacheClass {\r\n    \r\n      private List&lt;SomeObject&gt; cacheData;\r\n\r\n      @Inject\r\n      SomeRestClient someRestClient;\r\n\r\n      public void init(@Observes StartupEvent e) {\r\n        //Open a new Thread for the cache fill method\r\n        Thread thread = new Thread(() -&gt; fetchDataForCache());\r\n        thread.start();\r\n        //After that, open more threads which shall fill different Caches\r\n      }\r\n\r\n      public void fetchDataForCache() {\r\n        List&lt;SomeObject&gt; tmpData = someRestClient.fetchSomeData();\r\n        //Do some validation and write the result into &quot;dataCache&quot;\r\n      }\r\n\r\n      //Getter, Setter and other stuff\r\n\r\n    }\r\n\r\nThe thread that is supposed to be opened will successfully do so, however, as soon as the method call to the REST Client is made, I get a ContextNotActiveException which looks like this:\r\n\r\n    Exception in thread &quot;Thread-68&quot; javax.enterprise.context.ContextNotActiveException\r\n\tat io.quarkus.arc.impl.ClientProxies.getDelegate(ClientProxies.java:46)\r\n\tat someRestPackage.SomeRestClient_ClientProxy.arc$delegate(Unknown Source)\r\n\tat someRestPackage.SomeRestClient_ClientProxy.findLatestEntry(Unknown Source)\r\n\tat somePackage.CacheClass(CacheClass.java:15)\r\n\tat somePackage.CacheClass_Subclass.fetchDataForCache$$superforward1(Unknown Source)\r\n\tat somePackage.CacheClass_Subclass$$function$$3.apply(Unknown Source)\r\n\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n\tat io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n\tat io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\r\n\tat io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\r\n\tat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n\tat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n\tat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n\tat somePackage.CacheClass_Subclass.fetchDataForCache(Unknown Source)\r\n\tat somePackage.CacheClass$1.run(CacheClass.java:11)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nHowever, when removing the Thread part and just calling &quot;fetchDataForCache()&quot; on the main thread, the method gets executed without any problems, so it must **have** to do something with the multithreading\r\n\r\nNow maybe I am missing something really obvious and I would greatly appreciate someone explain to me why this happens and how to fix it or, maybe to give me some alternatives to how an asynchronous StartupEvent (with the needed Context) can be accomplished.","title":"ContextNotActiveException after running a Task in a new Thread on StartupEvent","body":"<p>I think my question has not been asked in this way before:</p>\n<p>I want to fill the Cache of my Project on Startup. The documentation on the Quarkus Website tells me, that one way to do this is to add the &quot;@Observes StartupEvent e&quot; construct into the method I am trying to run. When filling the cache, I am pulling data from a REST API of which I am injecting the corresponding client into the class where my StartupMethod resides (so that I can store the result in its respective field)</p>\n<p>Because this data-fetching takes very long, I want to set it off onto another thread which is created shortly after the StartupEvent method has been triggered. This is what my construct looks like:</p>\n<pre><code>public class CacheClass {\n\n  private List&lt;SomeObject&gt; cacheData;\n\n  @Inject\n  SomeRestClient someRestClient;\n\n  public void init(@Observes StartupEvent e) {\n    //Open a new Thread for the cache fill method\n    Thread thread = new Thread(() -&gt; fetchDataForCache());\n    thread.start();\n    //After that, open more threads which shall fill different Caches\n  }\n\n  public void fetchDataForCache() {\n    List&lt;SomeObject&gt; tmpData = someRestClient.fetchSomeData();\n    //Do some validation and write the result into &quot;dataCache&quot;\n  }\n\n  //Getter, Setter and other stuff\n\n}\n</code></pre>\n<p>The thread that is supposed to be opened will successfully do so, however, as soon as the method call to the REST Client is made, I get a ContextNotActiveException which looks like this:</p>\n<pre><code>Exception in thread &quot;Thread-68&quot; javax.enterprise.context.ContextNotActiveException\nat io.quarkus.arc.impl.ClientProxies.getDelegate(ClientProxies.java:46)\nat someRestPackage.SomeRestClient_ClientProxy.arc$delegate(Unknown Source)\nat someRestPackage.SomeRestClient_ClientProxy.findLatestEntry(Unknown Source)\nat somePackage.CacheClass(CacheClass.java:15)\nat somePackage.CacheClass_Subclass.fetchDataForCache$$superforward1(Unknown Source)\nat somePackage.CacheClass_Subclass$$function$$3.apply(Unknown Source)\nat io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\nat io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\nat io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\nat io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\nat io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\nat io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\nat io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\nat somePackage.CacheClass_Subclass.fetchDataForCache(Unknown Source)\nat somePackage.CacheClass$1.run(CacheClass.java:11)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>However, when removing the Thread part and just calling &quot;fetchDataForCache()&quot; on the main thread, the method gets executed without any problems, so it must <strong>have</strong> to do something with the multithreading</p>\n<p>Now maybe I am missing something really obvious and I would greatly appreciate someone explain to me why this happens and how to fix it or, maybe to give me some alternatives to how an asynchronous StartupEvent (with the needed Context) can be accomplished.</p>\n"},{"tags":["java","hashmap","sum"],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660668113,"creation_date":1660667244,"answer_id":73377252,"question_id":73377168,"body_markdown":"In your logic, the problem is \r\n```java\r\nInteger sumOfPopulation = 0;\r\n```\r\nshould be defined inside your for loop as it will be different for each country.\r\n\r\nOff-topic, you don&#39;t even need a set, a single HashMap will work here.\r\n\r\n```java\r\nfinal List&lt;CountryInfo&gt; countries = countrySqlRepository.findAll();\r\n        final HashMap&lt;String, Integer&gt; populations = new HashMap&lt;&gt;();\r\n        for (final CountryInfo countryInfo : countries) {\r\n            final int sum = populations.getOrDefault(countryInfo.getCountryCode(), 0);\r\n            final int population = Integer.parseInt(countryInfo.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;));\r\n            populations.put(countryInfo.getCountryCode(), population + sum);\r\n        }\r\n        return populations;\r\n```","title":"How to sum values in a map efficiently within java","body":"<p>In your logic, the problem is</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer sumOfPopulation = 0;\n</code></pre>\n<p>should be defined inside your for loop as it will be different for each country.</p>\n<p>Off-topic, you don't even need a set, a single HashMap will work here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;CountryInfo&gt; countries = countrySqlRepository.findAll();\n        final HashMap&lt;String, Integer&gt; populations = new HashMap&lt;&gt;();\n        for (final CountryInfo countryInfo : countries) {\n            final int sum = populations.getOrDefault(countryInfo.getCountryCode(), 0);\n            final int population = Integer.parseInt(countryInfo.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;));\n            populations.put(countryInfo.getCountryCode(), population + sum);\n        }\n        return populations;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660669530,"creation_date":1660668123,"answer_id":73377441,"question_id":73377168,"body_markdown":"To calculate the total population of cities that belong to the same country, you don&#39;t need anything but the `Map` itself.\r\n\r\nVariable `sumOfPopulation`, as well as `Set` are redundant. And also `if`-statement checking whether a particular code is present in the set after it has been added on the previous line.\r\n\r\nYou can use Java 8 method [`merge()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)) to implement this logic:\r\n\r\n    public Map&lt;String, Integer&gt; getAllCountryPopulations() {\r\n        Map&lt;String, Integer&gt; populationByCountry = new HashMap&lt;&gt;();\r\n        \r\n        for (CountryInfo country: countrySqlRepository.findAll()) {\r\n            populationByCountry.merge(country.getCountryCode(),\r\n                Integer.parseInt(country.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;)),\r\n                Integer::sum);\r\n        }\r\n        return populationByCountry;\r\n    }\r\n\r\nThe same can be done in a more concise way using Stream API.\r\n\r\nFor that we can use *collector* `groupingBy()` in conjunction with *collector* `summingInt()` as a *downstream*.\r\n\r\n    public Map&lt;String, Integer&gt; getAllCountryPopulations() {\r\n        \r\n        return countrySqlRepository.findAll().stream()\r\n            .collect(Collectors.groupingBy(\r\n                CountryInfo::getCountryCode,\r\n                Collectors.summingInt(countryInfo -&gt; Integer.parseInt(countryInfo.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;)))\r\n            ));\r\n    }\r\n\r\n***Sidenote:*** don&#39;t use concrete classes like `HahsMap` as types in your code, leverage abstractions instead - write your code against interfaces. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to sum values in a map efficiently within java","body":"<p>To calculate the total population of cities that belong to the same country, you don't need anything but the <code>Map</code> itself.</p>\n<p>Variable <code>sumOfPopulation</code>, as well as <code>Set</code> are redundant. And also <code>if</code>-statement checking whether a particular code is present in the set after it has been added on the previous line.</p>\n<p>You can use Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge()</code></a> to implement this logic:</p>\n<pre><code>public Map&lt;String, Integer&gt; getAllCountryPopulations() {\n    Map&lt;String, Integer&gt; populationByCountry = new HashMap&lt;&gt;();\n    \n    for (CountryInfo country: countrySqlRepository.findAll()) {\n        populationByCountry.merge(country.getCountryCode(),\n            Integer.parseInt(country.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;)),\n            Integer::sum);\n    }\n    return populationByCountry;\n}\n</code></pre>\n<p>The same can be done in a more concise way using Stream API.</p>\n<p>For that we can use <em>collector</em> <code>groupingBy()</code> in conjunction with <em>collector</em> <code>summingInt()</code> as a <em>downstream</em>.</p>\n<pre><code>public Map&lt;String, Integer&gt; getAllCountryPopulations() {\n    \n    return countrySqlRepository.findAll().stream()\n        .collect(Collectors.groupingBy(\n            CountryInfo::getCountryCode,\n            Collectors.summingInt(countryInfo -&gt; Integer.parseInt(countryInfo.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;)))\n        ));\n}\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> don't use concrete classes like <code>HahsMap</code> as types in your code, leverage abstractions instead - write your code against interfaces. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"}],"owner":{"account_id":1359143,"reputation":786,"user_id":1296852,"accept_rate":61,"display_name":"koala421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73377252,"answer_count":2,"score":0,"last_activity_date":1660669530,"creation_date":1660666717,"question_id":73377168,"body_markdown":"**DATA**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**CountryInfo**\r\n\r\n```\r\npublic class CountryInfo {\r\n\r\n\r\n    private String country;\r\n    private String countryCode;\r\n    private String currency;\r\n    @Id\r\n    private String state;\r\n    private String stateCode;\r\n    private String statePopulation;\r\n```\r\n\r\n\r\n```\r\npublic HashMap&lt;String, Integer&gt; getAllCountryPopulations(){\r\n        List&lt;CountryInfo&gt; countries = countrySqlRepository.findAll();\r\n        HashMap&lt;String, Integer&gt; populations = new HashMap&lt;&gt;();\r\n        Integer sumOfPopulation = 0;\r\n        HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n        for(int i=0; i&lt;countries.size(); i++){\r\n            CountryInfo countryInfo = countries.get(i);\r\n            set.add(countryInfo.getCountryCode());\r\n            if(set.contains(countryInfo.getCountryCode())){\r\n                sumOfPopulation += Integer.parseInt(countryInfo.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;));\r\n            }\r\n            populations.put(countryInfo.getCountryCode(), sumOfPopulation);\r\n        }\r\n        return populations;\r\n     }\r\n```\r\nI am trying to return the sum of values for a given map on unique country codes. \r\nInstead of returning the corresponding sum for each key in the set I am getting the sum of all values within the set.\r\n\r\nExample:\r\n\r\n````\r\n{America: 4329392, Canada: 13025402}\r\n```` \r\n\r\nShould be \r\n\r\n````{America: 4329392, Canada: 8721010}```` \r\n\r\nHow do I fix my logic here?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sPiFy.png","title":"How to sum values in a map efficiently within java","body":"<p><strong>DATA</strong></p>\n<p><a href=\"https://i.stack.imgur.com/sPiFy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sPiFy.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>CountryInfo</strong></p>\n<pre><code>public class CountryInfo {\n\n\n    private String country;\n    private String countryCode;\n    private String currency;\n    @Id\n    private String state;\n    private String stateCode;\n    private String statePopulation;\n</code></pre>\n<pre><code>public HashMap&lt;String, Integer&gt; getAllCountryPopulations(){\n        List&lt;CountryInfo&gt; countries = countrySqlRepository.findAll();\n        HashMap&lt;String, Integer&gt; populations = new HashMap&lt;&gt;();\n        Integer sumOfPopulation = 0;\n        HashSet&lt;String&gt; set = new HashSet&lt;String&gt;();\n        for(int i=0; i&lt;countries.size(); i++){\n            CountryInfo countryInfo = countries.get(i);\n            set.add(countryInfo.getCountryCode());\n            if(set.contains(countryInfo.getCountryCode())){\n                sumOfPopulation += Integer.parseInt(countryInfo.getStatePopulation().replaceAll(&quot;,&quot;, &quot;&quot;));\n            }\n            populations.put(countryInfo.getCountryCode(), sumOfPopulation);\n        }\n        return populations;\n     }\n</code></pre>\n<p>I am trying to return the sum of values for a given map on unique country codes.\nInstead of returning the corresponding sum for each key in the set I am getting the sum of all values within the set.</p>\n<p>Example:</p>\n<pre><code>{America: 4329392, Canada: 13025402}\n</code></pre>\n<p>Should be</p>\n<p><code>{America: 4329392, Canada: 8721010}</code></p>\n<p>How do I fix my logic here?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb","microservices"],"answers":[{"tags":[],"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660669417,"creation_date":1660669417,"answer_id":73377694,"question_id":71778568,"body_markdown":"One way can be to store your audit data in base64 encoded attribute to be generic. But this implies decoding it when it`s read.","title":"Aws dynamo db mapper is not converting data","body":"<p>One way can be to store your audit data in base64 encoded attribute to be generic. But this implies decoding it when it`s read.</p>\n"}],"owner":{"account_id":22681631,"reputation":11,"user_id":16851915,"display_name":"kumar001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660669417,"creation_date":1649319299,"question_id":71778568,"body_markdown":"log audit method is trying to covert complex json string into map to store data in the form of json into dynamodb table but ending with error java.lang.ClassCastException: java.util.ArrayList cannot be cast to com.amazonaws.services.dynamodbv2.model.AttributeValue\r\n\r\n\r\n class AuditService{\r\n                \r\n                @Autowired\r\n                AuditRepository auditRepository;\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                public void logAudit(HttpServletRequest httpServletRequest, HttpServletResponse servletResponse) {\r\n                    \r\n                Audit audit= new Audit();\r\n                // coverting complex json string to map with help of mapper \r\n                audit.setEncryptedRequest(mapper.readValue(complex_multiLevel_json_String, new TypeReference&lt;Map&gt;() {})\r\n                \r\n                audit.save();\r\n                }\r\n              }  \r\n                @Setter\r\n                @Getter\r\n                @Data\r\n                @Builder\r\n                @NoArgsConstructor\r\n                @AllArgsConstructor\r\n                @DynamoDBTable(tableName = &quot;Audit&quot;)\r\n                class Audit{\r\n                ------\r\n                ------\r\n                ------\r\n                 private Map&lt;String, AttributeValue&gt; encryptedRequest;\r\n                 @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.M)\r\n                    public Map&lt;String, AttributeValue&gt; getEncryptedRequest() {\r\n                        return encryptedPiiRequest;\r\n                    }\r\n                \r\n                    public void setEncryptedPiiRequest(Map&lt;String, AttributeValue&gt; encryptedRequest) {\r\n                        this.encryptedRequest = encryptedRequest;\r\n                    }\r\n                    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    complex json string which need to store into dynamo db table in the form of map:\r\nnote : we don&#39;t want to create a model class with below json attribute as field and then storing those model class to dynamo db \r\n    \r\n    &quot;{\r\n        &quot;customers&quot;: [\r\n            {\r\n                &quot;applicant&quot;: {\r\n                    &quot;fName&quot;: &quot;Duck&quot;,\r\n                    &quot;lName&quot;: &quot;PJOHN&quot;,\r\n                    &quot;dob&quot;: &quot;19270101&quot;,\r\n                    &quot;ssn&quot;: &quot;666455649&quot;,\r\n                    &quot;suffix&quot;: &quot;&quot;\r\n                },\r\n                &quot;phone&quot;: [\r\n                    {\r\n                        &quot;number&quot;: 4239506,\r\n                        &quot;type&quot;: &quot;R&quot;\r\n                    }\r\n                ],\r\n                &quot;cAddress&quot;: {\r\n                    &quot;line1&quot;: &quot;5  LONG DR&quot;,\r\n                    &quot;zipCode&quot;: 37604\r\n                },\r\n                &quot;pAddress&quot;: {\r\n                    &quot;line1&quot;: &quot;100, Main St&quot;,\r\n                    &quot;Code&quot;: 12345\r\n                }\r\n            }\r\n        ],\r\n        &quot;iteam&quot;: {\r\n            &quot;Source&quot;: &quot;amazon&quot;,\r\n            &quot;Type&quot;: &quot;BOTH&quot;\r\n        }\r\n    }&quot;\r\n    \r\n    \r\n    \r\n    error:\r\n    java.lang.ClassCastException: java.util.ArrayList cannot be cast to com.amazonaws.services.dynamodbv2.model.AttributeValue\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$Rules$NativeType.set(StandardModelFactories.java:212) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$AbstractRule.convert(StandardModelFactories.java:709) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$AbstractRule.convert(StandardModelFactories.java:691) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.convert(DynamoDBTypeConverter.java:104) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$NullSafeConverter.convert(DynamoDBTypeConverter.java:123) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.convert(DynamoDBTypeConverter.java:104) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$Rules$1.convert(StandardModelFactories.java:682) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$Rules$1.convert(StandardModelFactories.java:680) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$Vector$ToMap.convert(StandardTypeConverters.java:425) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$Vector$ToMap$1.convert(StandardTypeConverters.java:413) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$Vector$ToMap$1.convert(StandardTypeConverters.java:410) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.convert(DynamoDBTypeConverter.java:104) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$NullSafeConverter.convert(DynamoDBTypeConverter.java:123) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$ExtendedConverter.convert(DynamoDBTypeConverter.java:83) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.convert(DynamoDBMapperFieldModel.java:138) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$SaveObjectHandler.execute(DynamoDBMapper.java:739) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.save(DynamoDBMapper.java:641) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.save(AbstractDynamoDBMapper.java:123) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\r\n    \tat org.socialsignin.spring.data.dynamodb.core.DynamoDBTemplate.save(DynamoDBTemplate.java:146) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\r\n    \tat org.socialsignin.spring.data.dynamodb.repository.support.SimpleDynamoDBCrudRepository.save(SimpleDynamoDBCrudRepository.java:115) ~[spring-data-dynamodb-5.1.0.jar:5.","title":"Aws dynamo db mapper is not converting data","body":"<p>log audit method is trying to covert complex json string into map to store data in the form of json into dynamodb table but ending with error java.lang.ClassCastException: java.util.ArrayList cannot be cast to com.amazonaws.services.dynamodbv2.model.AttributeValue</p>\n<p>class AuditService{</p>\n<pre><code>            @Autowired\n            AuditRepository auditRepository;\n            ObjectMapper mapper = new ObjectMapper();\n            public void logAudit(HttpServletRequest httpServletRequest, HttpServletResponse servletResponse) {\n                \n            Audit audit= new Audit();\n            // coverting complex json string to map with help of mapper \n            audit.setEncryptedRequest(mapper.readValue(complex_multiLevel_json_String, new TypeReference&lt;Map&gt;() {})\n            \n            audit.save();\n            }\n          }  \n            @Setter\n            @Getter\n            @Data\n            @Builder\n            @NoArgsConstructor\n            @AllArgsConstructor\n            @DynamoDBTable(tableName = &quot;Audit&quot;)\n            class Audit{\n            ------\n            ------\n            ------\n             private Map&lt;String, AttributeValue&gt; encryptedRequest;\n             @DynamoDBTyped(DynamoDBMapperFieldModel.DynamoDBAttributeType.M)\n                public Map&lt;String, AttributeValue&gt; getEncryptedRequest() {\n                    return encryptedPiiRequest;\n                }\n            \n                public void setEncryptedPiiRequest(Map&lt;String, AttributeValue&gt; encryptedRequest) {\n                    this.encryptedRequest = encryptedRequest;\n                }\n                }\n\n\n\n\n\n\n\n\ncomplex json string which need to store into dynamo db table in the form of map:\n</code></pre>\n<p>note : we don't want to create a model class with below json attribute as field and then storing those model class to dynamo db</p>\n<pre><code>&quot;{\n    &quot;customers&quot;: [\n        {\n            &quot;applicant&quot;: {\n                &quot;fName&quot;: &quot;Duck&quot;,\n                &quot;lName&quot;: &quot;PJOHN&quot;,\n                &quot;dob&quot;: &quot;19270101&quot;,\n                &quot;ssn&quot;: &quot;666455649&quot;,\n                &quot;suffix&quot;: &quot;&quot;\n            },\n            &quot;phone&quot;: [\n                {\n                    &quot;number&quot;: 4239506,\n                    &quot;type&quot;: &quot;R&quot;\n                }\n            ],\n            &quot;cAddress&quot;: {\n                &quot;line1&quot;: &quot;5  LONG DR&quot;,\n                &quot;zipCode&quot;: 37604\n            },\n            &quot;pAddress&quot;: {\n                &quot;line1&quot;: &quot;100, Main St&quot;,\n                &quot;Code&quot;: 12345\n            }\n        }\n    ],\n    &quot;iteam&quot;: {\n        &quot;Source&quot;: &quot;amazon&quot;,\n        &quot;Type&quot;: &quot;BOTH&quot;\n    }\n}&quot;\n\n\n\nerror:\njava.lang.ClassCastException: java.util.ArrayList cannot be cast to com.amazonaws.services.dynamodbv2.model.AttributeValue\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$Rules$NativeType.set(StandardModelFactories.java:212) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$AbstractRule.convert(StandardModelFactories.java:709) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$AbstractRule.convert(StandardModelFactories.java:691) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.convert(DynamoDBTypeConverter.java:104) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$NullSafeConverter.convert(DynamoDBTypeConverter.java:123) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.convert(DynamoDBTypeConverter.java:104) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$Rules$1.convert(StandardModelFactories.java:682) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardModelFactories$Rules$1.convert(StandardModelFactories.java:680) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$Vector$ToMap.convert(StandardTypeConverters.java:425) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$Vector$ToMap$1.convert(StandardTypeConverters.java:413) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.StandardTypeConverters$Vector$ToMap$1.convert(StandardTypeConverters.java:410) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$DelegateConverter.convert(DynamoDBTypeConverter.java:104) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$NullSafeConverter.convert(DynamoDBTypeConverter.java:123) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter$ExtendedConverter.convert(DynamoDBTypeConverter.java:83) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperFieldModel.convert(DynamoDBMapperFieldModel.java:138) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper$SaveObjectHandler.execute(DynamoDBMapper.java:739) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.save(DynamoDBMapper.java:641) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at com.amazonaws.services.dynamodbv2.datamodeling.AbstractDynamoDBMapper.save(AbstractDynamoDBMapper.java:123) ~[aws-java-sdk-dynamodb-1.11.573.jar:na]\n    at org.socialsignin.spring.data.dynamodb.core.DynamoDBTemplate.save(DynamoDBTemplate.java:146) ~[spring-data-dynamodb-5.1.0.jar:5.1.0]\n    at org.socialsignin.spring.data.dynamodb.repository.support.SimpleDynamoDBCrudRepository.save(SimpleDynamoDBCrudRepository.java:115) ~[spring-data-dynamodb-5.1.0.jar:5.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","authorization"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1660667436,"post_id":73374520,"comment_id":129584292,"body_markdown":"how do you authenticate your users and what is the purpose of your custom filter?","body":"how do you authenticate your users and what is the purpose of your custom filter?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1660681423,"post_id":73374520,"comment_id":129588825,"body_markdown":"Double posting https://stackoverflow.com/questions/73372531/filter-does-not-have-a-registered-order-and-cannot-be-added-without-a-specified","body":"Double posting <a href=\"https://stackoverflow.com/questions/73372531/filter-does-not-have-a-registered-order-and-cannot-be-added-without-a-specified\" title=\"filter does not have a registered order and cannot be added without a specified\">stackoverflow.com/questions/73372531/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660669393,"creation_date":1660669393,"answer_id":73377688,"question_id":73374520,"body_markdown":"Usage of `UsernamePasswordAuthenticationToken` doesn&#39;t guarantee that `UsernamePasswordAuthenticationFilter` will filter your request.\r\n\r\nIf you look at source code (using your IDEA or github), especially at [`AbstractAuthenticationProcessingFilter`][1] method `boolean requiresAuthentication(HttpServletRequest request, HttpServletResponse response)`, and at [`UsernamePasswordAuthenticationFilter`][2] constructors, you&#39;ll see that `UsernamePasswordAuthenticationFilter` only filters requests which match the authentication request (default is POST-request to &quot;/login&quot;).\r\n\r\nAs you set your custom filter before `UsernamePasswordAuthenticationFilter`, this filter will be invoked anyway after your custom filter, unless you skip `filterChain.doFilter(httpServletRequest,httpServletResponse)` method in your custom filter code.  \r\nBut, as I said before, it doesn&#39;t mean `UsernamePasswordAuthenticationFilter` will filter your request.\r\n\r\nSo, it doesn&#39;t depend on using `UsernamePasswordAuthenticationToken`.\r\n\r\n`UsernamePasswordAuthenticationToken` is just one of the implementations of the `Authentication`, which can be used in your case. When you use public constructor of this class with a collection of `GrantedAuthority`, your create a trusted (i.e. isAuthenticated() = true) authentication token. So security context will know that request is already authenticated.\r\n\r\nBy the way, constructor you use is intended to be called only by ` AuthenticationManager` or `AuthenticationProvider` - that is stated in the [javadoc][3].\r\nFor safe usage try [static factory method][4]:\r\n\r\n    return UsernamePasswordAuthenticationToken.authenticated(principal, credentials, userDetails.getAuthorities());\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.java\r\n  [2]: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java\r\n  [3]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html#%3Cinit%3E(java.lang.Object,java.lang.Object,java.util.Collection)\r\n  [4]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html#authenticated(java.lang.Object,java.lang.Object,java.util.Collection)","title":"How not to use UsernamePasswordAuthenticationFilter in Filter Chain?","body":"<p>Usage of <code>UsernamePasswordAuthenticationToken</code> doesn't guarantee that <code>UsernamePasswordAuthenticationFilter</code> will filter your request.</p>\n<p>If you look at source code (using your IDEA or github), especially at <a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.java\" rel=\"nofollow noreferrer\"><code>AbstractAuthenticationProcessingFilter</code></a> method <code>boolean requiresAuthentication(HttpServletRequest request, HttpServletResponse response)</code>, and at <a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/UsernamePasswordAuthenticationFilter.java\" rel=\"nofollow noreferrer\"><code>UsernamePasswordAuthenticationFilter</code></a> constructors, you'll see that <code>UsernamePasswordAuthenticationFilter</code> only filters requests which match the authentication request (default is POST-request to &quot;/login&quot;).</p>\n<p>As you set your custom filter before <code>UsernamePasswordAuthenticationFilter</code>, this filter will be invoked anyway after your custom filter, unless you skip <code>filterChain.doFilter(httpServletRequest,httpServletResponse)</code> method in your custom filter code.<br />\nBut, as I said before, it doesn't mean <code>UsernamePasswordAuthenticationFilter</code> will filter your request.</p>\n<p>So, it doesn't depend on using <code>UsernamePasswordAuthenticationToken</code>.</p>\n<p><code>UsernamePasswordAuthenticationToken</code> is just one of the implementations of the <code>Authentication</code>, which can be used in your case. When you use public constructor of this class with a collection of <code>GrantedAuthority</code>, your create a trusted (i.e. isAuthenticated() = true) authentication token. So security context will know that request is already authenticated.</p>\n<p>By the way, constructor you use is intended to be called only by <code> AuthenticationManager</code> or <code>AuthenticationProvider</code> - that is stated in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html#%3Cinit%3E(java.lang.Object,java.lang.Object,java.util.Collection)\" rel=\"nofollow noreferrer\">javadoc</a>.\nFor safe usage try <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/authentication/UsernamePasswordAuthenticationToken.html#authenticated(java.lang.Object,java.lang.Object,java.util.Collection)\" rel=\"nofollow noreferrer\">static factory method</a>:</p>\n<pre><code>return UsernamePasswordAuthenticationToken.authenticated(principal, credentials, userDetails.getAuthorities());\n</code></pre>\n"}],"owner":{"account_id":25915558,"reputation":1,"user_id":19639004,"display_name":"Himanshu Ranjan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660669393,"creation_date":1660655261,"question_id":73374520,"body_markdown":"\r\nI am working on a spring boot app where I am adding a custom filter and adding method addFilterBefore.\r\n\r\nThis is my config configure method:\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable();\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n            http.cors().and().authorizeRequests()\r\n                    .anyRequest().authenticated();\r\n            http.addFilterBefore(btoBSecurityFilter,UsernamePasswordAuthenticationFilter.class);\r\n\r\n            http.httpBasic();\r\n        }\r\n\r\nHere&#39;s my Custom Filter:\r\n\r\n    @Component\r\n    public class BtoBSecurityFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n           //I dont want to use this as I dont want to use UsernamePasswordAuthenticationFilter.  \r\n            SecurityContextHolder.getContext().setAuthentication(getAuthentication(7312L,&quot;tokenlelo&quot;));\r\n            filterChain.doFilter(httpServletRequest,httpServletResponse);\r\n            logger.info(&quot;hey aaya&quot;);\r\n        }\r\n\r\n        // dont want to use this.\r\n        public Authentication getAuthentication(Long userId, String token) {\r\n            UserDetails userDetails = org.springframework.security.core.userdetails.User\r\n                    .withUsername(&quot;&quot;)\r\n                    .password(&quot;&quot;)\r\n                    .build();\r\n            return new UsernamePasswordAuthenticationToken(&quot;&quot;, &quot;&quot;, userDetails.getAuthorities());\r\n        }\r\n    \r\n    }\r\n\r\nNow the above code works but I dont want the UsernamePasswordAuthenticationFilter to happen in my case and I just want my customFilter to filter out requests for me.\r\n\r\nHow can I do this? I am not able to use `addFilter` method as it gives order errors.\r\nI just want my custom filter to run and dont want SecurityContext to set or save anything.\r\n\r\nCan someone help me with this?\r\n\r\n","title":"How not to use UsernamePasswordAuthenticationFilter in Filter Chain?","body":"<p>I am working on a spring boot app where I am adding a custom filter and adding method addFilterBefore.</p>\n<p>This is my config configure method:</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.cors().and().authorizeRequests()\n                .anyRequest().authenticated();\n        http.addFilterBefore(btoBSecurityFilter,UsernamePasswordAuthenticationFilter.class);\n\n        http.httpBasic();\n    }\n</code></pre>\n<p>Here's my Custom Filter:</p>\n<pre><code>@Component\npublic class BtoBSecurityFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n       //I dont want to use this as I dont want to use UsernamePasswordAuthenticationFilter.  \n        SecurityContextHolder.getContext().setAuthentication(getAuthentication(7312L,&quot;tokenlelo&quot;));\n        filterChain.doFilter(httpServletRequest,httpServletResponse);\n        logger.info(&quot;hey aaya&quot;);\n    }\n\n    // dont want to use this.\n    public Authentication getAuthentication(Long userId, String token) {\n        UserDetails userDetails = org.springframework.security.core.userdetails.User\n                .withUsername(&quot;&quot;)\n                .password(&quot;&quot;)\n                .build();\n        return new UsernamePasswordAuthenticationToken(&quot;&quot;, &quot;&quot;, userDetails.getAuthorities());\n    }\n\n}\n</code></pre>\n<p>Now the above code works but I dont want the UsernamePasswordAuthenticationFilter to happen in my case and I just want my customFilter to filter out requests for me.</p>\n<p>How can I do this? I am not able to use <code>addFilter</code> method as it gives order errors.\nI just want my custom filter to run and dont want SecurityContext to set or save anything.</p>\n<p>Can someone help me with this?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","smartfoxserver"],"comments":[{"owner":{"account_id":145593,"reputation":20491,"user_id":355499,"accept_rate":81,"display_name":"Emil L"},"score":4,"creation_date":1574164237,"post_id":58928161,"comment_id":104125873,"body_markdown":"You seem to be using a `POST` request, it might be that the resource you are uploading to expects a `PUT` request. Could try by changing the `HttpPost` to a `HttpPut`","body":"You seem to be using a <code>POST</code> request, it might be that the resource you are uploading to expects a <code>PUT</code> request. Could try by changing the <code>HttpPost</code> to a <code>HttpPut</code>"}],"answers":[{"tags":[],"owner":{"account_id":6987325,"reputation":55,"user_id":5357725,"display_name":"Nicole Caldwell"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1574148792,"creation_date":1574148792,"answer_id":58928759,"question_id":58928161,"body_markdown":"You could be getting MethodNotAllowed, which recommends using an identity that belongs to the bucket owner&#39;s account.\r\n\r\n&gt; If you have the correct permissions, but you&#39;re not using an identity that belongs to the bucket owner&#39;s account, Amazon S3 returns a 405 Method Not Allowed error.\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketPolicy.html\r\n\r\nfrom a list of S3 API error responses\r\n&gt; The specified method is not allowed against this resource.\t\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html","title":"The specified method is not allowed against this resource in Amazon aws","body":"<p>You could be getting MethodNotAllowed, which recommends using an identity that belongs to the bucket owner's account.</p>\n\n<blockquote>\n  <p>If you have the correct permissions, but you're not using an identity that belongs to the bucket owner's account, Amazon S3 returns a 405 Method Not Allowed error.\n  <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketPolicy.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketPolicy.html</a></p>\n</blockquote>\n\n<p>from a list of S3 API error responses</p>\n\n<blockquote>\n  <p>The specified method is not allowed against this resource.<br>\n  <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/ErrorResponses.html</a></p>\n</blockquote>\n"}],"owner":{"account_id":3859357,"reputation":1492,"user_id":3197468,"accept_rate":40,"display_name":"Pushpendra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25682,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1660669285,"creation_date":1574146232,"question_id":58928161,"body_markdown":"Guys I may or may not be wrong, But seriously, I am struggling with file uploading problem in Amazon S3 bucket. When I am trying to hit on the request then I am getting the following error. \r\n\r\n&gt; **MethodNotAllowed** and **The specified method is not allowed against this resource**\r\n\r\n The above message is the sort of the below response. \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;MethodNotAllowed&lt;/Code\r\n    &lt;Message&gt;Thespecified method is not allowed against this resource.&lt;/Message&gt;\r\n    &lt;Method&gt;POST&lt;/Method&gt;&lt;ResourceType&gt;OBJECT&lt;/ResourceType&gt;\r\n    &lt;RequestId&gt;xxx&lt;/RequestId&gt;&lt;HostId&gt;xxxx&lt;/HostId&gt;&lt;/Error&gt;\r\n\r\nThe above message is the complete message and below is the code whatever I have written for uploading files to amazon s3 server. \r\n\r\n    public synchronized boolean uploadFile(String url, String name, File file) {\r\n        HttpEntity entity = MultipartEntityBuilder.create()\r\n                .addPart(&quot;file&quot;, new FileBody(file)).build();\r\n        HttpPost request = new HttpPost(url);\r\n        request.setEntity(entity);\r\n        HttpClient client = HttpClientBuilder.create().build();\r\n        try {\r\n            HttpResponse response = client.execute(request);\r\n            entity = response.getEntity();\r\n            if (entity != null) {\r\n                try (InputStream in_stream = entity.getContent()) {\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(in_stream));\r\n                    String inputLine;\r\n                    StringBuilder responseBuffer = new StringBuilder();\r\n                    while ((inputLine = in.readLine()) != null) {\r\n                        responseBuffer.append(inputLine);\r\n                    }\r\n                    in.close();\r\n                    String a = responseBuffer.toString();\r\n                    Utils.print(&quot;\\n\\n&quot; + a + &quot;\\n\\n&quot;);\r\n                }\r\n            }\r\n            return true;\r\n        } catch (Exception e) {\r\n            Utils.print(e);\r\n        }\r\n        return false;\r\n    }\r\n\r\nPlease suggest me what to do for this? I will be very thankful for your expected answer. ","title":"The specified method is not allowed against this resource in Amazon aws","body":"<p>Guys I may or may not be wrong, But seriously, I am struggling with file uploading problem in Amazon S3 bucket. When I am trying to hit on the request then I am getting the following error. </p>\n\n<blockquote>\n  <p><strong>MethodNotAllowed</strong> and <strong>The specified method is not allowed against this resource</strong></p>\n</blockquote>\n\n<p>The above message is the sort of the below response. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;Error&gt;&lt;Code&gt;MethodNotAllowed&lt;/Code\n&lt;Message&gt;Thespecified method is not allowed against this resource.&lt;/Message&gt;\n&lt;Method&gt;POST&lt;/Method&gt;&lt;ResourceType&gt;OBJECT&lt;/ResourceType&gt;\n&lt;RequestId&gt;xxx&lt;/RequestId&gt;&lt;HostId&gt;xxxx&lt;/HostId&gt;&lt;/Error&gt;\n</code></pre>\n\n<p>The above message is the complete message and below is the code whatever I have written for uploading files to amazon s3 server. </p>\n\n<pre><code>public synchronized boolean uploadFile(String url, String name, File file) {\n    HttpEntity entity = MultipartEntityBuilder.create()\n            .addPart(\"file\", new FileBody(file)).build();\n    HttpPost request = new HttpPost(url);\n    request.setEntity(entity);\n    HttpClient client = HttpClientBuilder.create().build();\n    try {\n        HttpResponse response = client.execute(request);\n        entity = response.getEntity();\n        if (entity != null) {\n            try (InputStream in_stream = entity.getContent()) {\n                BufferedReader in = new BufferedReader(new InputStreamReader(in_stream));\n                String inputLine;\n                StringBuilder responseBuffer = new StringBuilder();\n                while ((inputLine = in.readLine()) != null) {\n                    responseBuffer.append(inputLine);\n                }\n                in.close();\n                String a = responseBuffer.toString();\n                Utils.print(\"\\n\\n\" + a + \"\\n\\n\");\n            }\n        }\n        return true;\n    } catch (Exception e) {\n        Utils.print(e);\n    }\n    return false;\n}\n</code></pre>\n\n<p>Please suggest me what to do for this? I will be very thankful for your expected answer. </p>\n"},{"tags":["java","time","timezone","datetime-conversion","timeofday"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659861553,"post_id":73265133,"comment_id":129391643,"body_markdown":"Where did you put your search engine? :-)","body":"Where did you put your search engine? :-)"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659861692,"post_id":73265133,"comment_id":129391657,"body_markdown":"If you meant Central time zone, you cant without a date. You need to know whether its in the standard time or the summer time (DST) of the year.","body":"If you meant Central time zone, you cant without a date. You need to know whether its in the standard time or the summer time (DST) of the year."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1659863169,"post_id":73265133,"comment_id":129391899,"body_markdown":"You of course also need to know the source time zone.","body":"You of course also need to know the source time zone."}],"answers":[{"tags":[],"owner":{"account_id":16621150,"reputation":11,"user_id":12011459,"display_name":"Aabid Jamil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659852290,"creation_date":1659852290,"answer_id":73265252,"question_id":73265133,"body_markdown":"Which to use?\r\n\r\nFor time zone, avoid both Date and Calendar\r\nIf you are using JDK &gt;= 8, use the new java.time.* framework.\r\nIf you are using JDK &lt; 8, use Joda Time. (The new Java 8 java.time.* framework is inspired by this library)\r\n\r\nApplying date command\r\n\r\nThe java.util.Date has no concept of time zone, and only represents the number of seconds passed since the Unix epoch time  1970-01-01T00:00:00Z. But, if you print the Date object directly, the Date object will be always printed with the default system time zone. Check the Date.toString() source code.\r\n\r\nSet a time zone to DateFormat and format the java.util.Date\r\n\r\n\r\nCheck these references\r\n\r\nhttps://howtodoinjava.com/java/date-time/convert-date-between-timezones\r\n\r\nhttps://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\r\n\r\nhttps://smartbear.com/blog/date-and-time-manipulation-in-java-using-jodatime/","title":"Convert any time zone to another (Java)","body":"<p>Which to use?</p>\n<p>For time zone, avoid both Date and Calendar\nIf you are using JDK &gt;= 8, use the new java.time.* framework.\nIf you are using JDK &lt; 8, use Joda Time. (The new Java 8 java.time.* framework is inspired by this library)</p>\n<p>Applying date command</p>\n<p>The java.util.Date has no concept of time zone, and only represents the number of seconds passed since the Unix epoch time  1970-01-01T00:00:00Z. But, if you print the Date object directly, the Date object will be always printed with the default system time zone. Check the Date.toString() source code.</p>\n<p>Set a time zone to DateFormat and format the java.util.Date</p>\n<p>Check these references</p>\n<p><a href=\"https://howtodoinjava.com/java/date-time/convert-date-between-timezones\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/date-time/convert-date-between-timezones</a></p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/datetime/iso/timezones.html</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html</a></p>\n<p><a href=\"https://smartbear.com/blog/date-and-time-manipulation-in-java-using-jodatime/\" rel=\"nofollow noreferrer\">https://smartbear.com/blog/date-and-time-manipulation-in-java-using-jodatime/</a></p>\n"}],"owner":{"account_id":21398197,"reputation":159,"user_id":15760879,"display_name":"Akshay Kala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660669138,"creation_date":1659850623,"question_id":73265133,"body_markdown":"    String time =&quot;6:30&quot;\r\n\r\nHow can I convert it to CST time zone?\r\nIf a user enters any time, it should convert into CST.","title":"Convert any time zone to another (Java)","body":"<pre><code>String time =&quot;6:30&quot;\n</code></pre>\n<p>How can I convert it to CST time zone?\nIf a user enters any time, it should convert into CST.</p>\n"},{"tags":["java","android","synology"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1660670764,"post_id":73363202,"comment_id":129585391,"body_markdown":"Just follow the redirect instructions provided by HTTP headers? Some HTTP clients do follow these on their own, but not all of them.","body":"Just follow the redirect instructions provided by HTTP headers? Some HTTP clients do follow these on their own, but not all of them."},{"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"score":0,"creation_date":1660826211,"post_id":73363202,"comment_id":129627979,"body_markdown":"Yes it is right, I found some on :[GITHUB](https://github.com/wujingwe/quickconnect-interceptor) .Into HTTP requests must be added interceptor to get External IP and port to get final external link. I would not come to this speciality by myself. Thank you","body":"Yes it is right, I found some on :<a href=\"https://github.com/wujingwe/quickconnect-interceptor\" rel=\"nofollow noreferrer\">GITHUB</a> .Into HTTP requests must be added interceptor to get External IP and port to get final external link. I would not come to this speciality by myself. Thank you"}],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660669053,"creation_date":1660577574,"question_id":73363202,"body_markdown":"When I use this link in PC browser :&lt;br&gt;\r\n    &quot;http://QuickconnectID.quickconnect.to/webapi/entry.cgi?api=SYNO.API.Auth&amp;version=6&amp;method=login&amp;account=&lt;ACCOUNT&gt;&amp;passwd=&lt;PASSWORD&gt;&amp;session=FileStation&amp;format=sid&quot;&lt;br&gt;\r\nResult will be:&lt;br&gt;\r\n\r\n    {&quot;data&quot;:{&quot;did&quot;:&quot;&quot;,&quot;is_portal_port&quot;:false,&quot;sid&quot;:&quot;FnNj2gZlk1JKCuvRgnPxmobytzHr-gsOgfk0sGIc1LisvEF-20VV4EDD6BMndvCGnt2vT1cGQobg&quot;},&quot;success&quot;:true}\r\n\r\n&lt;br&gt;What is correct te get session id for work with Synology.But when I use code to login via android app:&lt;br&gt;\r\n\r\n    String strurl = &quot;http://QuickconnectID.quickconnect.to/webapi/entry.cgi?api=SYNO.API.Auth&amp;version=6&amp;method=login&amp;account=&lt;ACCOUNT&gt;&amp;passwd=&lt;PASSWORD&gt;&amp;session=FileStation&amp;format=sid&quot;\r\n    \r\n    String s  = fetchHttpList(strurl);\r\n    \r\n    private static URL createUrl(String stringUrl) {\r\n            URL url = null;\r\n            try {\r\n                url = new URL(stringUrl);\r\n            } catch (MalformedURLException e) {\r\n                Log.e(LOG_TAG, &quot;Problem building the URL &quot;, e);\r\n            }\r\n            return url;\r\n        }\r\n    \r\n    public static String fetchHttpList(String requestUrl) {\r\n            URL url = createUrl(requestUrl);\r\n            String jsonResponse = null;\r\n            try {\r\n    \r\n                jsonResponse = makeHttpRequest(url,&quot;GET&quot;);\r\n            } catch (IOException e) {\r\n                Log.e(LOG_TAG, &quot;Problem making the HTTP request.&quot;, e);\r\n            }\r\n            return jsonResponse;\r\n        }\r\n    \r\n    private static String makeHttpRequest(URL url,String method) throws IOException {\r\n            String jsonResponse = &quot;&quot;;\r\n            if (url == null) {\r\n                return jsonResponse;\r\n            }\r\n            HttpURLConnection urlConnection = null;\r\n            InputStream inputStream = null;\r\n            try {\r\n    \r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                urlConnection.setReadTimeout(10000 /* milliseconds */);\r\n                urlConnection.setConnectTimeout(15000 /* milliseconds */);\r\n                urlConnection.setRequestMethod(method); //change in v16\r\n                urlConnection.connect();\r\n                if (urlConnection.getResponseCode() == 200) {\r\n                    inputStream = urlConnection.getInputStream();\r\n                    jsonResponse = readFromStream(inputStream);\r\n                } else {\r\n                    Log.e(LOG_TAG, &quot;Error response code: &quot; + urlConnection.getResponseCode());\r\n                    Log.e(LOG_TAG, url.toString());\r\n                }\r\n            } catch(ConnectException e){\r\n                throw e;\r\n            } catch (IOException e) {\r\n                Log.e(LOG_TAG, &quot;Problem retrieving the JSON results.&quot;, e);\r\n            } finally {\r\n                if (urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                }\r\n                if (inputStream != null) {\r\n                    inputStream.close();\r\n                }\r\n            }\r\n            return jsonResponse;\r\n    \r\n        }\r\n\r\n&lt;br&gt;&lt;br&gt;\r\nResult of s will be temporary PAGE WITH connecting:&lt;br&gt;\r\n\r\n    &lt;!doctype html&gt; &lt;html&gt; &lt;head&gt; &lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=UA-131382946-3&quot;&gt;**strong text**  etc...\r\n\r\n    &lt;br&gt;\r\nSynology uses some redirection of web login pages. After enter link in browser &lt;br&gt;\r\nhttp://somename.quickconnect.to &lt;br&gt;\r\nfinal link after redirection will be:&lt;br&gt;\r\nhttp://somename.direct.quickconnect.to:5001&lt;br&gt;&lt;br&gt;\r\nCan you help me with this issue to get JSON like from PC Browser?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Login to Synology via Quickconnect ID via webapi not working","body":"<p>When I use this link in PC browser :<br>\n&quot;http://QuickconnectID.quickconnect.to/webapi/entry.cgi?api=SYNO.API.Auth&amp;version=6&amp;method=login&amp;account=&amp;passwd=&amp;session=FileStation&amp;format=sid&quot;<br>\nResult will be:<br></p>\n<pre><code>{&quot;data&quot;:{&quot;did&quot;:&quot;&quot;,&quot;is_portal_port&quot;:false,&quot;sid&quot;:&quot;FnNj2gZlk1JKCuvRgnPxmobytzHr-gsOgfk0sGIc1LisvEF-20VV4EDD6BMndvCGnt2vT1cGQobg&quot;},&quot;success&quot;:true}\n</code></pre>\n<p><br>What is correct te get session id for work with Synology.But when I use code to login via android app:<br></p>\n<pre><code>String strurl = &quot;http://QuickconnectID.quickconnect.to/webapi/entry.cgi?api=SYNO.API.Auth&amp;version=6&amp;method=login&amp;account=&lt;ACCOUNT&gt;&amp;passwd=&lt;PASSWORD&gt;&amp;session=FileStation&amp;format=sid&quot;\n\nString s  = fetchHttpList(strurl);\n\nprivate static URL createUrl(String stringUrl) {\n        URL url = null;\n        try {\n            url = new URL(stringUrl);\n        } catch (MalformedURLException e) {\n            Log.e(LOG_TAG, &quot;Problem building the URL &quot;, e);\n        }\n        return url;\n    }\n\npublic static String fetchHttpList(String requestUrl) {\n        URL url = createUrl(requestUrl);\n        String jsonResponse = null;\n        try {\n\n            jsonResponse = makeHttpRequest(url,&quot;GET&quot;);\n        } catch (IOException e) {\n            Log.e(LOG_TAG, &quot;Problem making the HTTP request.&quot;, e);\n        }\n        return jsonResponse;\n    }\n\nprivate static String makeHttpRequest(URL url,String method) throws IOException {\n        String jsonResponse = &quot;&quot;;\n        if (url == null) {\n            return jsonResponse;\n        }\n        HttpURLConnection urlConnection = null;\n        InputStream inputStream = null;\n        try {\n\n            urlConnection = (HttpURLConnection) url.openConnection();\n            urlConnection.setReadTimeout(10000 /* milliseconds */);\n            urlConnection.setConnectTimeout(15000 /* milliseconds */);\n            urlConnection.setRequestMethod(method); //change in v16\n            urlConnection.connect();\n            if (urlConnection.getResponseCode() == 200) {\n                inputStream = urlConnection.getInputStream();\n                jsonResponse = readFromStream(inputStream);\n            } else {\n                Log.e(LOG_TAG, &quot;Error response code: &quot; + urlConnection.getResponseCode());\n                Log.e(LOG_TAG, url.toString());\n            }\n        } catch(ConnectException e){\n            throw e;\n        } catch (IOException e) {\n            Log.e(LOG_TAG, &quot;Problem retrieving the JSON results.&quot;, e);\n        } finally {\n            if (urlConnection != null) {\n                urlConnection.disconnect();\n            }\n            if (inputStream != null) {\n                inputStream.close();\n            }\n        }\n        return jsonResponse;\n\n    }\n</code></pre>\n<p><br><br>\nResult of s will be temporary PAGE WITH connecting:<br></p>\n<pre><code>&lt;!doctype html&gt; &lt;html&gt; &lt;head&gt; &lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=UA-131382946-3&quot;&gt;**strong text**  etc...\n\n&lt;br&gt;\n</code></pre>\n<p>Synology uses some redirection of web login pages. After enter link in browser <br>\n<a href=\"http://somename.quickconnect.to\" rel=\"nofollow noreferrer\">http://somename.quickconnect.to</a> <br>\nfinal link after redirection will be:<br>\n<a href=\"http://somename.direct.quickconnect.to:5001\" rel=\"nofollow noreferrer\">http://somename.direct.quickconnect.to:5001</a><br><br>\nCan you help me with this issue to get JSON like from PC Browser?</p>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660405799,"creation_date":1660405799,"answer_id":73345693,"question_id":73330566,"body_markdown":"The reactive implementation in Java would be like this:\r\n\r\n```java\r\nprivate Flux&lt;DomainResponse&gt; fetchValidResponses(ModelRequest request) {\r\n    return repository.findByRequestId(request.getRequestId())\r\n              .filter(response -&gt; { /* filtering */})\r\n}\r\n```","title":"When return type change from Stream&lt;T&gt; to Flux&lt;T&gt; what would be the respective change related implementation to act as reactive","body":"<p>The reactive implementation in Java would be like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Flux&lt;DomainResponse&gt; fetchValidResponses(ModelRequest request) {\n    return repository.findByRequestId(request.getRequestId())\n              .filter(response -&gt; { /* filtering */})\n}\n</code></pre>\n"}],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660668340,"creation_date":1660288803,"question_id":73330566,"body_markdown":"I am new to *reactive programming*. I made changes in **DomainRepository** as following way : \r\n\r\n**Changes in new updated Repository**: \r\n\r\n - extends interface **ReactiveMongoRepository** from\r\n   **MongoRepository**\r\n - Method return type **Flux&lt; DomainResponse &gt;** from\r\n   **Stream&lt; DomainResponse &gt;**\r\n\r\n\r\n\r\n\r\n       public interface DomainRepository extends ReactiveMongoRepository&lt;DomainResponse, UUID&gt; {\r\n\r\n       \t   Flux&lt;DomainResponse&gt; findByRequestId(UUID requestId); \r\n   \t\r\n       }\r\n\r\nHow can I made changes in following method so that it can work in the  same way as it was working with **MongoRepository** interface.\r\n\r\n    @Autowired\r\n    private lateinit var repository: DomainRepository\r\n    \r\n    private fun fetchValidResponses(request: ModelRequest): Sequence&lt;DomainResponse&gt; {\r\n        return repository.findByRequestId(request.requestId)\r\n            .asSequence()\r\n           \r\n            .filter { it.product.intersect(request.product).isNotEmpty() }\r\n          \r\n            .filter { it.errors == null || it.errors!!.isEmpty() }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"When return type change from Stream&lt;T&gt; to Flux&lt;T&gt; what would be the respective change related implementation to act as reactive","body":"<p>I am new to <em>reactive programming</em>. I made changes in <strong>DomainRepository</strong> as following way :</p>\n<p><strong>Changes in new updated Repository</strong>:</p>\n<ul>\n<li><p>extends interface <strong>ReactiveMongoRepository</strong> from\n<strong>MongoRepository</strong></p>\n</li>\n<li><p>Method return type <strong>Flux&lt; DomainResponse &gt;</strong> from\n<strong>Stream&lt; DomainResponse &gt;</strong></p>\n<pre><code>public interface DomainRepository extends ReactiveMongoRepository&lt;DomainResponse, UUID&gt; {\n\n    Flux&lt;DomainResponse&gt; findByRequestId(UUID requestId); \n\n}\n</code></pre>\n</li>\n</ul>\n<p>How can I made changes in following method so that it can work in the  same way as it was working with <strong>MongoRepository</strong> interface.</p>\n<pre><code>@Autowired\nprivate lateinit var repository: DomainRepository\n\nprivate fun fetchValidResponses(request: ModelRequest): Sequence&lt;DomainResponse&gt; {\n    return repository.findByRequestId(request.requestId)\n        .asSequence()\n       \n        .filter { it.product.intersect(request.product).isNotEmpty() }\n      \n        .filter { it.errors == null || it.errors!!.isEmpty() }\n}\n</code></pre>\n"},{"tags":["java","arrays","validation","credit-card","luhn"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":2,"creation_date":1387680678,"post_id":20740444,"comment_id":31050904,"body_markdown":"You could use a `String`...","body":"You could use a <code>String</code>..."},{"owner":{"account_id":1033251,"reputation":4158,"user_id":1041132,"accept_rate":75,"display_name":"aquaraga"},"score":0,"creation_date":1387790777,"post_id":20740444,"comment_id":31076989,"body_markdown":"When I tried 4242424242424242 as input, your program says &quot;The Credit Card Number is Valid&quot;, which is expected I suppose. Could you tell us the specific input(s) which cause your program to give an unexpected output?","body":"When I tried 4242424242424242 as input, your program says &quot;The Credit Card Number is Valid&quot;, which is expected I suppose. Could you tell us the specific input(s) which cause your program to give an unexpected output?"},{"owner":{"account_id":1033251,"reputation":4158,"user_id":1041132,"accept_rate":75,"display_name":"aquaraga"},"score":0,"creation_date":1387791232,"post_id":20740444,"comment_id":31077231,"body_markdown":"Also, the number that you gave &quot;4388576018410707&quot; also is mentioned as valid.","body":"Also, the number that you gave &quot;4388576018410707&quot; also is mentioned as valid."},{"owner":{"account_id":3761586,"reputation":171,"user_id":3126388,"display_name":"user3126388"},"score":0,"creation_date":1387791497,"post_id":20740444,"comment_id":31077366,"body_markdown":"I am sorry I meant it always gives &quot;The Credit Card Number is Valid&quot; if the number start with 4, 5 or 37. It doesn&#39;t follow the second condition which is related to the total of sumOfOddPlace and sumOfDoubleEvenPlace methods.","body":"I am sorry I meant it always gives &quot;The Credit Card Number is Valid&quot; if the number start with 4, 5 or 37. It doesn&#39;t follow the second condition which is related to the total of sumOfOddPlace and sumOfDoubleEvenPlace methods."},{"owner":{"account_id":1033251,"reputation":4158,"user_id":1041132,"accept_rate":75,"display_name":"aquaraga"},"score":0,"creation_date":1387791679,"post_id":20740444,"comment_id":31077445,"body_markdown":"Okay, so the problem is that your program is treating all card numbers as VALID and not INVALID. So, please correct the question. Secondly, your program always prints that &quot;The sum of double even place is 0&quot; and &quot;The sum of odd place is 0&quot; - so a little debugging would help. One last thing; why do you always divide by 100. I think that is one of the culprits.","body":"Okay, so the problem is that your program is treating all card numbers as VALID and not INVALID. So, please correct the question. Secondly, your program always prints that &quot;The sum of double even place is 0&quot; and &quot;The sum of odd place is 0&quot; - so a little debugging would help. One last thing; why do you always divide by 100. I think that is one of the culprits."}],"answers":[{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387681370,"creation_date":1387681370,"answer_id":20725826,"question_id":20740444,"body_markdown":"There are two ways to split up your `int` into `List&lt;Integer&gt;`\r\n\r\n 1. Use `%10` as you are using and store it into a `List`\r\n 2. Convert to a `String` and then take the numeric values\r\n\r\nHere are a couple of quick examples\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final int num = 12345;\r\n        final List&lt;Integer&gt; nums1 = splitInt(num);\r\n        final List&lt;Integer&gt; nums2 = splitString(num);\r\n        System.out.println(nums1);\r\n        System.out.println(nums2);\r\n    }\r\n\r\n    private static List&lt;Integer&gt; splitInt(int num) {\r\n        final List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\n        while (num &gt; 0) {\r\n            ints.add(0, num % 10);\r\n            num /= 10;\r\n        }\r\n        return ints;\r\n    }\r\n\r\n    private static List&lt;Integer&gt; splitString(int num) {\r\n        final List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\n        for (final char c : Integer.toString(num).toCharArray()) {\r\n            ints.add(Character.getNumericValue(c));\r\n        }\r\n        return ints;\r\n    }","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>There are two ways to split up your <code>int</code> into <code>List&lt;Integer&gt;</code></p>\n\n<ol>\n<li>Use <code>%10</code> as you are using and store it into a <code>List</code></li>\n<li>Convert to a <code>String</code> and then take the numeric values</li>\n</ol>\n\n<p>Here are a couple of quick examples</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final int num = 12345;\n    final List&lt;Integer&gt; nums1 = splitInt(num);\n    final List&lt;Integer&gt; nums2 = splitString(num);\n    System.out.println(nums1);\n    System.out.println(nums2);\n}\n\nprivate static List&lt;Integer&gt; splitInt(int num) {\n    final List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\n    while (num &gt; 0) {\n        ints.add(0, num % 10);\n        num /= 10;\n    }\n    return ints;\n}\n\nprivate static List&lt;Integer&gt; splitString(int num) {\n    final List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\n    for (final char c : Integer.toString(num).toCharArray()) {\n        ints.add(Character.getNumericValue(c));\n    }\n    return ints;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1962756,"reputation":506,"user_id":1763810,"display_name":"sebii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387791275,"creation_date":1387791275,"answer_id":20740650,"question_id":20740444,"body_markdown":"I&#39;ll use 5 digit card numbers for simplicity. Let&#39;s say your card number is *12345*; if I read the code correctly, you store in `array` the individual digits:\r\n\r\n    array[] = {1, 2, 3, 4, 5}\r\n\r\nSince you already have the digits, in `sumOfOddPlace` you should do something like\r\n\r\n\r\n    public static int sumOfOddPlace(long[] array) {\r\n        int result = 0;\r\n        for (int i = 1; i &lt; array.length; i += 2) {\r\n            result += array[i];\r\n        }\r\n        return result;\r\n    }\r\n\r\nAnd in `sumOfDoubleEvenPlace`:\r\n\r\n    public static int sumOfDoubleEvenPlace(long[] array) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; array.length; i += 2) {\r\n            result += getDigit(2 * array[i]);\r\n        }\r\n        return result;\r\n    }","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>I'll use 5 digit card numbers for simplicity. Let's say your card number is <em>12345</em>; if I read the code correctly, you store in <code>array</code> the individual digits:</p>\n\n<pre><code>array[] = {1, 2, 3, 4, 5}\n</code></pre>\n\n<p>Since you already have the digits, in <code>sumOfOddPlace</code> you should do something like</p>\n\n<pre><code>public static int sumOfOddPlace(long[] array) {\n    int result = 0;\n    for (int i = 1; i &lt; array.length; i += 2) {\n        result += array[i];\n    }\n    return result;\n}\n</code></pre>\n\n<p>And in <code>sumOfDoubleEvenPlace</code>:</p>\n\n<pre><code>public static int sumOfDoubleEvenPlace(long[] array) {\n    int result = 0;\n    for (int i = 0; i &lt; array.length; i += 2) {\n        result += getDigit(2 * array[i]);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1387795556,"creation_date":1387792477,"answer_id":20740984,"question_id":20740444,"body_markdown":"Google and Wikipedia are your friends. Instead of long-array I would use int-array. On [Wikipedia][1] following java code is published (together with detailed explanation of Luhn algorithm):\r\n\r\n       public static boolean check(int[] digits) {\r\n         int sum = 0;\r\n         int length = digits.length;\r\n         for (int i = 0; i &lt; length; i++) {\r\n \r\n           // get digits in reverse order\r\n           int digit = digits[length - i - 1];\r\n \r\n           // every 2nd number multiply with 2\r\n           if (i % 2 == 1) {\r\n               digit *= 2;\r\n           }\r\n           sum += digit &gt; 9 ? digit - 9 : digit;\r\n         }\r\n         return sum % 10 == 0;\r\n       }\r\n\r\nYou should work on your input processing code. I suggest you to study following solution:\r\n\r\n    public static void main(String[] args) {\r\n    \tScanner in = new Scanner(System.in);\r\n    \tboolean repeat;\r\n    \tList&lt;Integer&gt; digits = new ArrayList&lt;Integer&gt;();\r\n    \r\n    \tdo {\r\n    \t\trepeat = false;\r\n    \t\tSystem.out.print(&quot;Enter your Credit Card Number : &quot;);\r\n    \t\tString input = in.next();\r\n    \r\n    \t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n    \t\t\tchar c = input.charAt(i);\r\n    \t\t\tif (c &lt; &#39;0&#39; || c &gt; &#39;9&#39;) {\r\n    \t\t\t\trepeat = true;\r\n    \t\t\t\tdigits.clear();\r\n    \t\t\t\tbreak;\r\n    \t\t\t} else {\r\n    \t\t\t\tdigits.add(Integer.valueOf(c - &#39;0&#39;));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} while (repeat);\r\n    \r\n    \tint[] array = new int[digits.size()];\r\n    \tfor (int i = 0; i &lt; array.length; i++) {\r\n    \t\tarray[i] = Integer.valueOf(digits.get(i));\r\n    \t}\r\n    \tboolean valid = check(array);\r\n    \tSystem.out.println(&quot;Valid: &quot; + valid);\r\n    }\r\n\r\n  [1]: http://de.wikipedia.org/wiki/Luhn-Algorithmus#Java\r\n\r\n","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>Google and Wikipedia are your friends. Instead of long-array I would use int-array. On <a href=\"http://de.wikipedia.org/wiki/Luhn-Algorithmus#Java\">Wikipedia</a> following java code is published (together with detailed explanation of Luhn algorithm):</p>\n\n<pre><code>   public static boolean check(int[] digits) {\n     int sum = 0;\n     int length = digits.length;\n     for (int i = 0; i &lt; length; i++) {\n\n       // get digits in reverse order\n       int digit = digits[length - i - 1];\n\n       // every 2nd number multiply with 2\n       if (i % 2 == 1) {\n           digit *= 2;\n       }\n       sum += digit &gt; 9 ? digit - 9 : digit;\n     }\n     return sum % 10 == 0;\n   }\n</code></pre>\n\n<p>You should work on your input processing code. I suggest you to study following solution:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    boolean repeat;\n    List&lt;Integer&gt; digits = new ArrayList&lt;Integer&gt;();\n\n    do {\n        repeat = false;\n        System.out.print(\"Enter your Credit Card Number : \");\n        String input = in.next();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n            char c = input.charAt(i);\n            if (c &lt; '0' || c &gt; '9') {\n                repeat = true;\n                digits.clear();\n                break;\n            } else {\n                digits.add(Integer.valueOf(c - '0'));\n            }\n        }\n    } while (repeat);\n\n    int[] array = new int[digits.size()];\n    for (int i = 0; i &lt; array.length; i++) {\n        array[i] = Integer.valueOf(digits.get(i));\n    }\n    boolean valid = check(array);\n    System.out.println(\"Valid: \" + valid);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1730033,"reputation":1538,"user_id":1583815,"accept_rate":75,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396364238,"creation_date":1396364238,"answer_id":22789579,"question_id":20740444,"body_markdown":"this is the luhn algorithm implementation which I use for only 16 digit Credit Card Number\r\n\r\n    if(ccnum.length()==16){\r\n    \tchar[] c = ccnum.toCharArray();\r\n    \tint[] cint = new int[16];\r\n    \tfor(int i=0;i&lt;16;i++){\r\n    \t\tif(i%2==1){\r\n    \t\t\tcint[i] = Integer.parseInt(String.valueOf(c[i]))*2;\r\n    \t\t\tif(cint[i] &gt;9)\r\n    \t\t\t\tcint[i]=1+cint[i]%10;\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\tcint[i] = Integer.parseInt(String.valueOf(c[i]));\r\n    \t}\r\n    \tint sum=0;\r\n    \tfor(int i=0;i&lt;16;i++){\r\n    \t\tsum+=cint[i];\r\n    \t}\r\n    \tif(sum%10==0)\r\n    \t\tresult.setText(&quot;Card is Valid&quot;);\r\n    \telse\r\n    \t\tresult.setText(&quot;Card is Invalid&quot;);\r\n    }else\r\n    \tresult.setText(&quot;Card is Invalid&quot;);\r\n\r\nIf you want to make it use on any number replace all 16 with your input number length.\r\n\r\nIt will work for Visa number given in the question.(I tested it)","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>this is the luhn algorithm implementation which I use for only 16 digit Credit Card Number</p>\n\n<pre><code>if(ccnum.length()==16){\n    char[] c = ccnum.toCharArray();\n    int[] cint = new int[16];\n    for(int i=0;i&lt;16;i++){\n        if(i%2==1){\n            cint[i] = Integer.parseInt(String.valueOf(c[i]))*2;\n            if(cint[i] &gt;9)\n                cint[i]=1+cint[i]%10;\n        }\n        else\n            cint[i] = Integer.parseInt(String.valueOf(c[i]));\n    }\n    int sum=0;\n    for(int i=0;i&lt;16;i++){\n        sum+=cint[i];\n    }\n    if(sum%10==0)\n        result.setText(\"Card is Valid\");\n    else\n        result.setText(\"Card is Invalid\");\n}else\n    result.setText(\"Card is Invalid\");\n</code></pre>\n\n<p>If you want to make it use on any number replace all 16 with your input number length.</p>\n\n<p>It will work for Visa number given in the question.(I tested it)</p>\n"},{"tags":[],"owner":{"account_id":2749598,"reputation":1428,"user_id":2369266,"accept_rate":25,"display_name":"Nicholas Ng"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1478858429,"creation_date":1417823214,"answer_id":27326507,"question_id":20740444,"body_markdown":"You can freely import the following code:\r\n\r\n    public class Luhn\r\n    {\r\n        public static boolean Check(String ccNumber)\r\n        {\r\n                int sum = 0;\r\n                boolean alternate = false;\r\n                for (int i = ccNumber.length() - 1; i &gt;= 0; i--)\r\n                {\r\n                        int n = Integer.parseInt(ccNumber.substring(i, i + 1));\r\n                        if (alternate)\r\n                        {\r\n                                n *= 2;\r\n                                if (n &gt; 9)\r\n                                {\r\n                                        n = (n % 10) + 1;\r\n                                }\r\n                        }\r\n                        sum += n;\r\n                        alternate = !alternate;\r\n                }\r\n                return (sum % 10 == 0);\r\n        }\r\n    }\r\n\r\nLink reference: https://github.com/jduke32/gnuc-credit-card-checker/blob/master/CCCheckerPro/src/com/gnuc/java/ccc/Luhn.java","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>You can freely import the following code:</p>\n\n<pre><code>public class Luhn\n{\n    public static boolean Check(String ccNumber)\n    {\n            int sum = 0;\n            boolean alternate = false;\n            for (int i = ccNumber.length() - 1; i &gt;= 0; i--)\n            {\n                    int n = Integer.parseInt(ccNumber.substring(i, i + 1));\n                    if (alternate)\n                    {\n                            n *= 2;\n                            if (n &gt; 9)\n                            {\n                                    n = (n % 10) + 1;\n                            }\n                    }\n                    sum += n;\n                    alternate = !alternate;\n            }\n            return (sum % 10 == 0);\n    }\n}\n</code></pre>\n\n<p>Link reference: <a href=\"https://github.com/jduke32/gnuc-credit-card-checker/blob/master/CCCheckerPro/src/com/gnuc/java/ccc/Luhn.java\" rel=\"noreferrer\">https://github.com/jduke32/gnuc-credit-card-checker/blob/master/CCCheckerPro/src/com/gnuc/java/ccc/Luhn.java</a></p>\n"},{"tags":[],"owner":{"account_id":6282043,"reputation":131,"user_id":4882693,"accept_rate":60,"display_name":"DigiDuncan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440609882,"creation_date":1440609882,"answer_id":32232932,"question_id":20740444,"body_markdown":"Here&#39;s my implementation of the Luhn Formula.\r\n\r\n\t/**\r\n\t * Runs the Luhn Equation on a user inputed CCN, which in turn\r\n\t * determines if it is a valid card number.\r\n\t * @param c A user inputed CCN.\r\n\t * @param cn The check number for the card.\r\n\t * @return If the card is valid based on the Luhn Equation.\r\n\t */\r\n\tpublic boolean luhn (String c, char cn)\r\n\t{\r\n\t\tString card = c;\r\n\t\tString checkString = &quot;&quot; + cn;\r\n\t\tint check = Integer.valueOf(checkString);\r\n\t\t\r\n\t\t//Drop the last digit.\r\n\t\tcard = card.substring(0, ( card.length() - 1 ) );\r\n\t\t\r\n\t\t//Reverse the digits.\r\n\t\tString cardrev = new StringBuilder(card).reverse().toString();\r\n\t\t\r\n\t\t//Store it in an int array.\r\n\t\tchar[] cardArray = cardrev.toCharArray();\r\n\t\tint[] cardWorking = new int[cardArray.length];\r\n\t\tint addedNumbers = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; cardArray.length; i++)\r\n\t\t{\r\n\t\t\tcardWorking[i] = Character.getNumericValue( cardArray[i] );\r\n\t\t}\r\n\t\t\r\n\t\t//Double odd positioned digits (which are really even in our case, since index starts at 0).\r\n\t\t\r\n\t\tfor (int j = 0; j &lt; cardWorking.length; j++)\r\n\t\t{\r\n\t\t\tif ( (j % 2) == 0)\r\n\t\t\t{\r\n\t\t\t\tcardWorking[j] = cardWorking[j] * 2;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Subtract 9 from digits larger than 9.\r\n\t\t\r\n\t\tfor (int k = 0; k &lt; cardWorking.length; k++)\r\n\t\t{\r\n\t\t\tif (cardWorking[k] &gt; 9)\r\n\t\t\t{\r\n\t\t\t\tcardWorking[k] = cardWorking[k] - 9;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Add all the numbers together.\r\n\t\tfor (int l = 0; l &lt; cardWorking.length; l++)\r\n\t\t{\r\n\t\t\taddedNumbers += cardWorking[l];\r\n\t\t}\r\n\r\n\t\t//Finally, check if the number we got from adding all the other numbers\r\n\t\t//when divided by ten has a remainder equal to the check number.\r\n\t\tif (addedNumbers % 10 == check)\r\n\t\t{\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse\r\n\t\t{\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nI pass in the card as `c` which I get from a Scanner and store in `card`, and for `cn` I pass in `checkNumber = card.charAt( (card.length() - 1) );`.","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>Here's my implementation of the Luhn Formula.</p>\n\n<pre><code>/**\n * Runs the Luhn Equation on a user inputed CCN, which in turn\n * determines if it is a valid card number.\n * @param c A user inputed CCN.\n * @param cn The check number for the card.\n * @return If the card is valid based on the Luhn Equation.\n */\npublic boolean luhn (String c, char cn)\n{\n    String card = c;\n    String checkString = \"\" + cn;\n    int check = Integer.valueOf(checkString);\n\n    //Drop the last digit.\n    card = card.substring(0, ( card.length() - 1 ) );\n\n    //Reverse the digits.\n    String cardrev = new StringBuilder(card).reverse().toString();\n\n    //Store it in an int array.\n    char[] cardArray = cardrev.toCharArray();\n    int[] cardWorking = new int[cardArray.length];\n    int addedNumbers = 0;\n\n    for (int i = 0; i &lt; cardArray.length; i++)\n    {\n        cardWorking[i] = Character.getNumericValue( cardArray[i] );\n    }\n\n    //Double odd positioned digits (which are really even in our case, since index starts at 0).\n\n    for (int j = 0; j &lt; cardWorking.length; j++)\n    {\n        if ( (j % 2) == 0)\n        {\n            cardWorking[j] = cardWorking[j] * 2;\n        }\n    }\n\n    //Subtract 9 from digits larger than 9.\n\n    for (int k = 0; k &lt; cardWorking.length; k++)\n    {\n        if (cardWorking[k] &gt; 9)\n        {\n            cardWorking[k] = cardWorking[k] - 9;\n        }\n    }\n\n    //Add all the numbers together.\n    for (int l = 0; l &lt; cardWorking.length; l++)\n    {\n        addedNumbers += cardWorking[l];\n    }\n\n    //Finally, check if the number we got from adding all the other numbers\n    //when divided by ten has a remainder equal to the check number.\n    if (addedNumbers % 10 == check)\n    {\n        return true;\n    }\n    else\n    {           \n        return false;\n    }\n}\n</code></pre>\n\n<p>I pass in the card as <code>c</code> which I get from a Scanner and store in <code>card</code>, and for <code>cn</code> I pass in <code>checkNumber = card.charAt( (card.length() - 1) );</code>.</p>\n"},{"tags":[],"owner":{"account_id":7370585,"reputation":11,"user_id":5610861,"display_name":"Dun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464577377,"creation_date":1464570523,"answer_id":37516428,"question_id":20740444,"body_markdown":"Okay, this can be solved with a type conversions to string and some Java 8 \r\nstuff. Don&#39;t forget numbers and the characters representing numbers are not the same. &#39;1&#39; != 1\r\n\r\n\r\n    public static int[] longToIntArray(long cardNumber){\r\n     \r\n    return Long.toString(cardNumber).chars()\r\n        .map(x -&gt; x - &#39;0&#39;) //converts char to int \r\n        .toArray();  //converts to int array\r\n    }\r\n\r\nYou can now use this method to perform the luhn algorithm: \r\n   \r\n\r\n      public static int luhnCardValidator(int cardNumbers[]) {\r\n                    int sum = 0, nxtDigit;\r\n                    for (int i = 0; i&lt;cardNumbers.length; i++) {\r\n                        if (i % 2 == 0) \r\n                          nxtDigit  = (nxtDigit &gt; 4) ? (nxtDigit * 2 - 10) + 1 : nxtDigit * 2;\r\n                        sum += nxtDigit;\r\n                    }\r\n                    return (sum % 10);\r\n                }","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>Okay, this can be solved with a type conversions to string and some Java 8 \nstuff. Don't forget numbers and the characters representing numbers are not the same. '1' != 1</p>\n\n<pre><code>public static int[] longToIntArray(long cardNumber){\n\nreturn Long.toString(cardNumber).chars()\n    .map(x -&gt; x - '0') //converts char to int \n    .toArray();  //converts to int array\n}\n</code></pre>\n\n<p>You can now use this method to perform the luhn algorithm: </p>\n\n<pre><code>  public static int luhnCardValidator(int cardNumbers[]) {\n                int sum = 0, nxtDigit;\n                for (int i = 0; i&lt;cardNumbers.length; i++) {\n                    if (i % 2 == 0) \n                      nxtDigit  = (nxtDigit &gt; 4) ? (nxtDigit * 2 - 10) + 1 : nxtDigit * 2;\n                    sum += nxtDigit;\n                }\n                return (sum % 10);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12014822,"reputation":1,"user_id":8790312,"display_name":"nicoladc89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508247735,"creation_date":1508247735,"answer_id":46791656,"question_id":20740444,"body_markdown":"    private static int luhnAlgorithm(String number){\r\n        int n=0;\r\n        for(int i = 0; i&lt;number.length(); i++){\r\n            int x = Integer.parseInt(&quot;&quot;+number.charAt(i));\r\n            n += (x*Math.pow(2, i%2))%10;\r\n            if (x&gt;=5 &amp;&amp; i%2==1) n++;\r\n        }\r\n        return n%10;\r\n    }","title":"Check Credit Card Validity using Luhn Algorithm","body":"<pre><code>private static int luhnAlgorithm(String number){\n    int n=0;\n    for(int i = 0; i&lt;number.length(); i++){\n        int x = Integer.parseInt(\"\"+number.charAt(i));\n        n += (x*Math.pow(2, i%2))%10;\n        if (x&gt;=5 &amp;&amp; i%2==1) n++;\n    }\n    return n%10;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4047800,"reputation":1,"user_id":3328528,"display_name":"user3328528"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519554950,"creation_date":1519551693,"answer_id":48972159,"question_id":20740444,"body_markdown":"    public class Creditcard {\r\n\r\n        public static void main(String args[]){\r\n            Scanner sc=new Scanner(System.in);\r\n            String cardno = sc.nextLine();\r\n            \r\n            if(checkType(cardno).equals(&quot;U&quot;)) //checking for unknown type\r\n              System.out.println(&quot;UNKNOWN&quot;);\r\n            else\r\n              checkValid(cardno); //validation \r\n    }\r\n          \r\n    private static String checkType(String S)\r\n    {\r\n        int AM=Integer.parseInt(S.substring(0,2));\r\n        int D=Integer.parseInt(S.substring(0,4)),d=0;\r\n        for(int i=S.length()-1;i&gt;=0;i--)\r\n        {\r\n            if(S.charAt(i)==&#39; &#39;)\r\n                continue;\r\n            else\r\n                d++;\r\n        }\r\n        if((AM==34 || AM==37) &amp;&amp; d==15)\r\n            System.out.println(&quot;AMEX&quot;);\r\n        else if(D==6011 &amp;&amp; d==16)\r\n            System.out.println(&quot;Discover&quot;);\r\n        else if(AM&gt;=51 &amp;&amp; AM&lt;=55 &amp;&amp; d==16)\r\n            System.out.println(&quot;MasterCard&quot;);\r\n        else if(((S.charAt(0)-&#39;0&#39;)==4)&amp;&amp;(d==13 || d==16)) \r\n            System.out.println(&quot;Visa&quot;);\r\n        else\r\n            return &quot;U&quot;;\r\n        return &quot;&quot;;\r\n    }\r\n    \r\n    private static void checkValid(String S) // S--&gt; cardno\r\n    {\r\n        int i,d=0,sum=0,card[]=new int[S.length()];\r\n\r\n        for(i=S.length()-1;i&gt;=0;i--)\r\n        {\r\n            if(S.charAt(i)==&#39; &#39;)\r\n                continue;\r\n            else\r\n                card[d++]=S.charAt(i)-&#39;0&#39;;\r\n        }\r\n        \r\n        for(i=0;i&lt;d;i++)\r\n        {\r\n            if(i%2!=0)\r\n            {\r\n                card[i]=card[i]*2;\r\n                if(card[i]&gt;9)\r\n                    sum+=digSum(card[i]);\r\n                else\r\n                    sum+=card[i];\r\n            }\r\n            else\r\n                sum+=card[i];\r\n        }\r\n        if(sum%10==0)\r\n            System.out.println(&quot;Valid&quot;);\r\n        else    \r\n            System.out.println(&quot;Invalid&quot;);\r\n            \r\n    }\r\n    \r\n    public static int digSum(int n)\r\n    {\r\n        int sum=0;\r\n        while(n&gt;0)\r\n        {\r\n            sum+=n%10;\r\n            n/=10;\r\n        }\r\n        return sum;\r\n    }\r\n    }","title":"Check Credit Card Validity using Luhn Algorithm","body":"<pre><code>public class Creditcard {\n\n    public static void main(String args[]){\n        Scanner sc=new Scanner(System.in);\n        String cardno = sc.nextLine();\n\n        if(checkType(cardno).equals(\"U\")) //checking for unknown type\n          System.out.println(\"UNKNOWN\");\n        else\n          checkValid(cardno); //validation \n}\n\nprivate static String checkType(String S)\n{\n    int AM=Integer.parseInt(S.substring(0,2));\n    int D=Integer.parseInt(S.substring(0,4)),d=0;\n    for(int i=S.length()-1;i&gt;=0;i--)\n    {\n        if(S.charAt(i)==' ')\n            continue;\n        else\n            d++;\n    }\n    if((AM==34 || AM==37) &amp;&amp; d==15)\n        System.out.println(\"AMEX\");\n    else if(D==6011 &amp;&amp; d==16)\n        System.out.println(\"Discover\");\n    else if(AM&gt;=51 &amp;&amp; AM&lt;=55 &amp;&amp; d==16)\n        System.out.println(\"MasterCard\");\n    else if(((S.charAt(0)-'0')==4)&amp;&amp;(d==13 || d==16)) \n        System.out.println(\"Visa\");\n    else\n        return \"U\";\n    return \"\";\n}\n\nprivate static void checkValid(String S) // S--&gt; cardno\n{\n    int i,d=0,sum=0,card[]=new int[S.length()];\n\n    for(i=S.length()-1;i&gt;=0;i--)\n    {\n        if(S.charAt(i)==' ')\n            continue;\n        else\n            card[d++]=S.charAt(i)-'0';\n    }\n\n    for(i=0;i&lt;d;i++)\n    {\n        if(i%2!=0)\n        {\n            card[i]=card[i]*2;\n            if(card[i]&gt;9)\n                sum+=digSum(card[i]);\n            else\n                sum+=card[i];\n        }\n        else\n            sum+=card[i];\n    }\n    if(sum%10==0)\n        System.out.println(\"Valid\");\n    else    \n        System.out.println(\"Invalid\");\n\n}\n\npublic static int digSum(int n)\n{\n    int sum=0;\n    while(n&gt;0)\n    {\n        sum+=n%10;\n        n/=10;\n    }\n    return sum;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2741355,"reputation":183,"user_id":2362840,"display_name":"user2362840"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526254466,"creation_date":1526254466,"answer_id":50321538,"question_id":20740444,"body_markdown":"I took a stab at this with Java 8:\r\n\r\n    public static boolean luhn(String cc) {\r\n        final boolean[] dbl = {false};\r\n        return cc\r\n                .chars()\r\n                .map(c -&gt; Character.digit((char) c, 10))\r\n                .map(i -&gt; ((dbl[0] = !dbl[0])) ? (((i*2)&gt;9) ? (i*2)-9 : i*2) : i)\r\n                .sum() % 10 == 0;\r\n    }\r\n\r\nAdd the line\r\n\r\n                .replaceAll(&quot;\\\\s+&quot;, &quot;&quot;)\r\nBefore\r\n\r\n                .chars()\r\n\r\nIf you want to handle whitespace.\r\n\r\nSeems to produce identical results to \r\n\r\n    return LuhnCheckDigit.LUHN_CHECK_DIGIT.isValid(cc);\r\n\r\nFrom Apache&#39;s commons-validator.","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>I took a stab at this with Java 8:</p>\n\n<pre><code>public static boolean luhn(String cc) {\n    final boolean[] dbl = {false};\n    return cc\n            .chars()\n            .map(c -&gt; Character.digit((char) c, 10))\n            .map(i -&gt; ((dbl[0] = !dbl[0])) ? (((i*2)&gt;9) ? (i*2)-9 : i*2) : i)\n            .sum() % 10 == 0;\n}\n</code></pre>\n\n<p>Add the line</p>\n\n<pre><code>            .replaceAll(\"\\\\s+\", \"\")\n</code></pre>\n\n<p>Before</p>\n\n<pre><code>            .chars()\n</code></pre>\n\n<p>If you want to handle whitespace.</p>\n\n<p>Seems to produce identical results to </p>\n\n<pre><code>return LuhnCheckDigit.LUHN_CHECK_DIGIT.isValid(cc);\n</code></pre>\n\n<p>From Apache's commons-validator.</p>\n"},{"tags":[],"owner":{"account_id":10865479,"reputation":129,"user_id":7988988,"display_name":"parub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561358765,"creation_date":1561357862,"answer_id":56730943,"question_id":20740444,"body_markdown":"    public class LuhnAlgorithm {\r\n\r\n    /**\r\n     * Returns true if given card number is valid\r\n     *\r\n     * @param cardNum Card number\r\n     * @return true if card number is valid else false\r\n     */\r\n    private static boolean checkLuhn(String cardNum) {\r\n        int cardlength = cardNum.length();\r\n        int evenSum = 0, oddSum = 0, sum;\r\n        for (int i = cardlength - 1; i &gt;= 0; i--) {\r\n            System.out.println(cardNum.charAt(i));\r\n            int digit = Character.getNumericValue(cardNum.charAt(i));\r\n            if (i % 2 == 0) {\r\n                int multiplyByTwo = digit * 2;\r\n                if (multiplyByTwo &gt; 9) {\r\n                    /* Add two digits to handle cases that make two digits after doubling */\r\n                    String mul = String.valueOf(multiplyByTwo);\r\n                    multiplyByTwo = Character.getNumericValue(mul.charAt(0)) + Character.getNumericValue(mul.charAt(1));\r\n                }\r\n                evenSum += multiplyByTwo;\r\n            } else {\r\n                oddSum += digit;\r\n            }\r\n        }\r\n        sum = evenSum + oddSum;\r\n        if (sum % 10 == 0) {\r\n            System.out.println(&quot;valid card&quot;);\r\n            return true;\r\n        } else {\r\n            System.out.println(&quot;invalid card&quot;);\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String cardNum = &quot;8112189875&quot;;\r\n        System.out.println(checkLuhn(cardNum));\r\n    }\r\n\r\n    }\r\n\r\n\r\nHope it may works.","title":"Check Credit Card Validity using Luhn Algorithm","body":"<pre><code>public class LuhnAlgorithm {\n\n/**\n * Returns true if given card number is valid\n *\n * @param cardNum Card number\n * @return true if card number is valid else false\n */\nprivate static boolean checkLuhn(String cardNum) {\n    int cardlength = cardNum.length();\n    int evenSum = 0, oddSum = 0, sum;\n    for (int i = cardlength - 1; i &gt;= 0; i--) {\n        System.out.println(cardNum.charAt(i));\n        int digit = Character.getNumericValue(cardNum.charAt(i));\n        if (i % 2 == 0) {\n            int multiplyByTwo = digit * 2;\n            if (multiplyByTwo &gt; 9) {\n                /* Add two digits to handle cases that make two digits after doubling */\n                String mul = String.valueOf(multiplyByTwo);\n                multiplyByTwo = Character.getNumericValue(mul.charAt(0)) + Character.getNumericValue(mul.charAt(1));\n            }\n            evenSum += multiplyByTwo;\n        } else {\n            oddSum += digit;\n        }\n    }\n    sum = evenSum + oddSum;\n    if (sum % 10 == 0) {\n        System.out.println(\"valid card\");\n        return true;\n    } else {\n        System.out.println(\"invalid card\");\n        return false;\n    }\n\n}\n\npublic static void main(String[] args) {\n    String cardNum = \"8112189875\";\n    System.out.println(checkLuhn(cardNum));\n}\n\n}\n</code></pre>\n\n<p>Hope it may works.</p>\n"},{"tags":[],"owner":{"account_id":10865479,"reputation":129,"user_id":7988988,"display_name":"parub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561358328,"creation_date":1561358328,"answer_id":56731034,"question_id":20740444,"body_markdown":"Here is the implementation of Luhn algorithm.\r\n\r\n    public class LuhnAlgorithm {\r\n\r\n    /**\r\n     * Returns true if given card number is valid\r\n     *\r\n     * @param cardNum Card number\r\n     * @return true if card number is valid else false\r\n     */\r\n    private static boolean checkLuhn(String cardNum) {\r\n        int cardlength = cardNum.length();\r\n        int evenSum = 0, oddSum = 0, sum;\r\n        for (int i = cardlength - 1; i &gt;= 0; i--) {\r\n            System.out.println(cardNum.charAt(i));\r\n            int digit = Character.getNumericValue(cardNum.charAt(i));\r\n            if (i % 2 == 0) {\r\n                int multiplyByTwo = digit * 2;\r\n                if (multiplyByTwo &gt; 9) {\r\n                    /* Add two digits to handle cases that make two digits after doubling */\r\n                    String mul = String.valueOf(multiplyByTwo);\r\n                    multiplyByTwo = Character.getNumericValue(mul.charAt(0)) + Character.getNumericValue(mul.charAt(1));\r\n                }\r\n                evenSum += multiplyByTwo;\r\n            } else {\r\n                oddSum += digit;\r\n            }\r\n        }\r\n        sum = evenSum + oddSum;\r\n        if (sum % 10 == 0) {\r\n            System.out.println(&quot;valid card&quot;);\r\n            return true;\r\n        } else {\r\n            System.out.println(&quot;invalid card&quot;);\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String cardNum = &quot;4071690065031703&quot;;\r\n        System.out.println(checkLuhn(cardNum));\r\n    }\r\n\r\n    }\r\n","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>Here is the implementation of Luhn algorithm.</p>\n\n<pre><code>public class LuhnAlgorithm {\n\n/**\n * Returns true if given card number is valid\n *\n * @param cardNum Card number\n * @return true if card number is valid else false\n */\nprivate static boolean checkLuhn(String cardNum) {\n    int cardlength = cardNum.length();\n    int evenSum = 0, oddSum = 0, sum;\n    for (int i = cardlength - 1; i &gt;= 0; i--) {\n        System.out.println(cardNum.charAt(i));\n        int digit = Character.getNumericValue(cardNum.charAt(i));\n        if (i % 2 == 0) {\n            int multiplyByTwo = digit * 2;\n            if (multiplyByTwo &gt; 9) {\n                /* Add two digits to handle cases that make two digits after doubling */\n                String mul = String.valueOf(multiplyByTwo);\n                multiplyByTwo = Character.getNumericValue(mul.charAt(0)) + Character.getNumericValue(mul.charAt(1));\n            }\n            evenSum += multiplyByTwo;\n        } else {\n            oddSum += digit;\n        }\n    }\n    sum = evenSum + oddSum;\n    if (sum % 10 == 0) {\n        System.out.println(\"valid card\");\n        return true;\n    } else {\n        System.out.println(\"invalid card\");\n        return false;\n    }\n\n}\n\npublic static void main(String[] args) {\n    String cardNum = \"4071690065031703\";\n    System.out.println(checkLuhn(cardNum));\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26079123,"reputation":11,"user_id":19777621,"display_name":"Ian Gibs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660667653,"creation_date":1660667653,"answer_id":73377355,"question_id":20740444,"body_markdown":"&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const options = {\r\n      method: &#39;GET&#39;,\r\n      headers: {Accept: &#39;application/json&#39;, &#39;X-Api-Key&#39;: &#39;[APIkey]&#39;}\r\n    };\r\n\r\n    fetch(&#39;https://api.epaytools.com/Tools/luhn?number=[CardNumber]&amp;metaData=true&#39;, options)\r\n      .then(response =&gt; response.json())\r\n      .then(response =&gt; console.log(response))\r\n      .catch(err =&gt; console.error(err));\r\n\r\n&lt;!-- end snippet --&gt;","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const options = {\n  method: 'GET',\n  headers: {Accept: 'application/json', 'X-Api-Key': '[APIkey]'}\n};\n\nfetch('https://api.epaytools.com/Tools/luhn?number=[CardNumber]&amp;metaData=true', options)\n  .then(response =&gt; response.json())\n  .then(response =&gt; console.log(response))\n  .catch(err =&gt; console.error(err));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":3761586,"reputation":171,"user_id":3126388,"display_name":"user3126388"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57846,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":13,"score":11,"last_activity_date":1660667653,"creation_date":1387790582,"question_id":20740444,"body_markdown":"I tried to check the validation of credit card using Luhn algorithm, which works as the following steps:\r\n\r\n1. Double every second digit from right to left. If doubling of a digit results in a two-digit number, add up the two digits to get a single-digit number.\r\n\r\n    2 * 2 = 4\r\n    \r\n    2 * 2 = 4\r\n    \r\n    4 * 2 = 8\r\n    \r\n    1 * 2 = 2\r\n    \r\n    6 * 2 = 12 (1 + 2 = 3)\r\n    \r\n    5 * 2 = 10 (1 + 0 = 1)\r\n    \r\n    8 * 2 = 16 (1 + 6 = 7)\r\n    \r\n    4 * 2 = 8\r\n\r\n2. Now add all single-digit numbers from Step 1.\r\n \r\n\r\n    4 + 4 + 8 + 2 + 3 + 1 + 7 + 8 = 37\r\n\r\n3. Add all digits in the odd places from right to left in the card number.\r\n\r\n 6 + 6 + 0 + 8 + 0 + 7 + 8 + 3 = 38\r\n\r\n4. Sum the results from Step 2 and Step 3.\r\n\r\n    37 + 38 = 75\r\n\r\n5. If the result from Step 4 is divisible by 10, the card number is valid; otherwise, it is invalid. For example, the number 4388576018402626 is invalid, but the number 4388576018410707 is valid.\r\n\r\nSimply, my program always displays valid for everything that I input. Even if it&#39;s a valid number and the result of sumOfOddPlace and sumOfDoubleEvenPlace methods are equal to zero. &lt;br&gt;Any help is appreciated.\r\n\r\n\r\n    import java.util.Scanner;\r\n    public class CreditCardValidation {\r\n          public static void main(String[] args) {\r\n         Scanner in = new Scanner(System.in);\r\n            int count = 0;\r\n            long array[] = new long [16];\r\n           do\r\n           {\r\n            count = 0;\r\n           array = new long [16];\r\n            System.out.print(&quot;Enter your Credit Card Number : &quot;);\r\n            long number = in.nextLong();\r\n            for (int i = 0; number != 0; i++) {\r\n            array[i] = number % 10;\r\n            number = number / 10;\r\n            count++;\r\n            }\r\n           }\r\n            while(count &lt; 13); \r\n            if ((array[count - 1] == 4) || (array[count - 1] == 5) || (array[count - 1] == 3 &amp;&amp; array[count - 2] == 7)){\r\n                if (isValid(array) == true) {\r\n                    System.out.println(&quot;\\n The Credit Card Number is Valid. &quot;);\r\n            } else {\r\n                System.out.println(&quot;\\n The Credit Card Number is Invalid. &quot;);\r\n            }\r\n            } else{\r\n              System.out.println(&quot;\\n The Credit Card Number is Invalid. &quot;);\r\n            }\r\n        }\r\n\r\n        public static boolean isValid(long[] array) {\r\n            int total = sumOfDoubleEvenPlace(array) + sumOfOddPlace(array);        \r\n            if ((total % 10 == 0)) {\r\n             for (int i=0; i&lt; array.length; i++){\r\n                System.out.println(array[i]);}\r\n                return true;\r\n            } else {\r\n              for (int i=0; i&lt; array.length; i++){\r\n                System.out.println(array[i]);}\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public static int getDigit(int number) {\r\n            if (number &lt;= 9) {\r\n                return number;\r\n            } else {\r\n                int firstDigit = number % 10;\r\n                int secondDigit = (int) (number / 10);\r\n                return firstDigit + secondDigit;\r\n            }\r\n        }\r\n    \r\n        public static int sumOfOddPlace(long[] array) {\r\n            int result = 0;\r\n            for (int i=0; i&lt; array.length; i++)\r\n            {\r\n            while (array[i] &gt; 0) {\r\n                result += (int) (array[i] % 10);\r\n                array[i] = array[i] / 100;\r\n             }}\r\n             System.out.println(&quot;\\n The sum of odd place is &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        public static int sumOfDoubleEvenPlace(long[] array) {\r\n            int result = 0;\r\n            long temp = 0;\r\n            for (int i=0; i&lt; array.length; i++){\r\n            while (array[i] &gt; 0) {\r\n                 temp = array[i] % 100;\r\n                 result += getDigit((int) (temp / 10) * 2);\r\n                array[i] = array[i] / 100;\r\n               }\r\n            }\r\n            System.out.println(&quot;\\n The sum of double even place is &quot; + result);\r\n            return result;\r\n        }\r\n         }\r\n\r\n","title":"Check Credit Card Validity using Luhn Algorithm","body":"<p>I tried to check the validation of credit card using Luhn algorithm, which works as the following steps:</p>\n\n<ol>\n<li><p>Double every second digit from right to left. If doubling of a digit results in a two-digit number, add up the two digits to get a single-digit number.</p>\n\n<p>2 * 2 = 4</p>\n\n<p>2 * 2 = 4</p>\n\n<p>4 * 2 = 8</p>\n\n<p>1 * 2 = 2</p>\n\n<p>6 * 2 = 12 (1 + 2 = 3)</p>\n\n<p>5 * 2 = 10 (1 + 0 = 1)</p>\n\n<p>8 * 2 = 16 (1 + 6 = 7)</p>\n\n<p>4 * 2 = 8</p></li>\n<li><p>Now add all single-digit numbers from Step 1.</p>\n\n<p>4 + 4 + 8 + 2 + 3 + 1 + 7 + 8 = 37</p></li>\n<li><p>Add all digits in the odd places from right to left in the card number.</p>\n\n<p>6 + 6 + 0 + 8 + 0 + 7 + 8 + 3 = 38</p></li>\n<li><p>Sum the results from Step 2 and Step 3.</p>\n\n<p>37 + 38 = 75</p></li>\n<li><p>If the result from Step 4 is divisible by 10, the card number is valid; otherwise, it is invalid. For example, the number 4388576018402626 is invalid, but the number 4388576018410707 is valid.</p></li>\n</ol>\n\n<p>Simply, my program always displays valid for everything that I input. Even if it's a valid number and the result of sumOfOddPlace and sumOfDoubleEvenPlace methods are equal to zero. <br>Any help is appreciated.</p>\n\n<pre><code>import java.util.Scanner;\npublic class CreditCardValidation {\n      public static void main(String[] args) {\n     Scanner in = new Scanner(System.in);\n        int count = 0;\n        long array[] = new long [16];\n       do\n       {\n        count = 0;\n       array = new long [16];\n        System.out.print(\"Enter your Credit Card Number : \");\n        long number = in.nextLong();\n        for (int i = 0; number != 0; i++) {\n        array[i] = number % 10;\n        number = number / 10;\n        count++;\n        }\n       }\n        while(count &lt; 13); \n        if ((array[count - 1] == 4) || (array[count - 1] == 5) || (array[count - 1] == 3 &amp;&amp; array[count - 2] == 7)){\n            if (isValid(array) == true) {\n                System.out.println(\"\\n The Credit Card Number is Valid. \");\n        } else {\n            System.out.println(\"\\n The Credit Card Number is Invalid. \");\n        }\n        } else{\n          System.out.println(\"\\n The Credit Card Number is Invalid. \");\n        }\n    }\n\n    public static boolean isValid(long[] array) {\n        int total = sumOfDoubleEvenPlace(array) + sumOfOddPlace(array);        \n        if ((total % 10 == 0)) {\n         for (int i=0; i&lt; array.length; i++){\n            System.out.println(array[i]);}\n            return true;\n        } else {\n          for (int i=0; i&lt; array.length; i++){\n            System.out.println(array[i]);}\n            return false;\n        }\n    }\n\n    public static int getDigit(int number) {\n        if (number &lt;= 9) {\n            return number;\n        } else {\n            int firstDigit = number % 10;\n            int secondDigit = (int) (number / 10);\n            return firstDigit + secondDigit;\n        }\n    }\n\n    public static int sumOfOddPlace(long[] array) {\n        int result = 0;\n        for (int i=0; i&lt; array.length; i++)\n        {\n        while (array[i] &gt; 0) {\n            result += (int) (array[i] % 10);\n            array[i] = array[i] / 100;\n         }}\n         System.out.println(\"\\n The sum of odd place is \" + result);\n        return result;\n    }\n\n    public static int sumOfDoubleEvenPlace(long[] array) {\n        int result = 0;\n        long temp = 0;\n        for (int i=0; i&lt; array.length; i++){\n        while (array[i] &gt; 0) {\n             temp = array[i] % 100;\n             result += getDigit((int) (temp / 10) * 2);\n            array[i] = array[i] / 100;\n           }\n        }\n        System.out.println(\"\\n The sum of double even place is \" + result);\n        return result;\n    }\n     }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1660665055,"post_id":73376574,"comment_id":129583376,"body_markdown":"Youve misunderstood something. No one would rewrite that nested form as shown in your second example, not for a single operation. Your first example is appropriate for a single operation.","body":"Youve misunderstood something. No one would rewrite that nested form as shown in your second example, not for a single operation. Your first example is appropriate for a single operation."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1660666628,"post_id":73376574,"comment_id":129583968,"body_markdown":"If youre not in a situation where using nested try-catch makes sense to you, then you probably shouldnt. I occasionally do use them in situations where they do make sense.","body":"If youre not in a situation where using nested try-catch makes sense to you, then you probably shouldnt. I occasionally do use them in situations where they do make sense."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1660673760,"post_id":73376574,"comment_id":129586418,"body_markdown":"You have no actual code so it is unclear why you would use either form.  What is each block of exception-handling doing in response to the exception?","body":"You have no actual code so it is unclear why you would use either form.  What is each block of exception-handling doing in response to the exception?"}],"answers":[{"tags":[],"owner":{"account_id":21138914,"reputation":56,"user_id":15541786,"display_name":"KosztDojscia"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1660667497,"creation_date":1660664331,"answer_id":73376654,"question_id":73376574,"body_markdown":"Emm, it depends on how you write code. If some code will be used for example...\r\n```java\r\ntry {\r\n   try {\r\n      --&gt;in here&lt;--\r\n      try {\r\n         // Do something for try-block 3\r\n      }\r\n      catch ( [exception_1] except_1) {};\r\n      // Do something for try-block 2\r\n   }\r\n   catch ( [exception_2] except_2) {};\r\n   // Do something for try-block 1\r\n}\r\ncatch ( [exception_3] except_3) {}\r\n```\r\nthen if exception_1 is raised, won&#39;t be caught. If everything will be used inside third try, then there is no difference. ","title":"Why should I use nested try-catch blocks in Java?","body":"<p>Emm, it depends on how you write code. If some code will be used for example...</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   try {\n      --&gt;in here&lt;--\n      try {\n         // Do something for try-block 3\n      }\n      catch ( [exception_1] except_1) {};\n      // Do something for try-block 2\n   }\n   catch ( [exception_2] except_2) {};\n   // Do something for try-block 1\n}\ncatch ( [exception_3] except_3) {}\n</code></pre>\n<p>then if exception_1 is raised, won't be caught. If everything will be used inside third try, then there is no difference.</p>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660666117,"creation_date":1660666117,"answer_id":73377041,"question_id":73376574,"body_markdown":"OK - a bit contrived but demonstrates the point that the two try-catch structures are different - dependent on the actually implementation (this may be exactly what @KosztDojscia was pointing out so then consider this answer a duplicate) :\r\n\r\n\tpublic class Main\r\n\t{\r\n\t\tpublic static class Exception1 extends Exception { }\r\n\t\tpublic static class Exception2 extends Exception { }\r\n\t\tpublic static class Exception3 extends Exception { }\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint i = 0;\r\n\r\n            // &quot;messy&quot; structure\r\n\t\t\ttry {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\ti = 3; if (i == 3) throw new Exception1();\r\n\t\t\t\t\t} catch (Exception1 e1) { i = 300; }\r\n\r\n\t\t\t\t\ti = 4; if (i == 4) throw new Exception2();\r\n\t\t\r\n\t\t\t\t} catch (Exception2 e2) { i = 400; }\r\n\t\t\t\t\r\n\t\t\t\ti = 5; if (i == 5) throw new Exception3();\r\n\r\n\t\t\t} catch (Exception3 e3) { i = 500; }\r\n\t\t\t\r\n\t\t\tSystem.out.println(i);\r\n\r\n            // &quot;clean&quot; structure\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\ti = 3; if (i == 3) throw new Exception1();\r\n\t\t\t\ti = 4; if (i == 4) throw new Exception2();\r\n\t\t\t\ti = 5; if (i == 5) throw new Exception3();\r\n\t\t\t} catch (Exception1 e1) { i = 300; }\r\n\t\t\t  catch (Exception2 e2) { i = 400; }\r\n\t\t\t  catch (Exception3 e3) { i = 500; }\r\n\r\n\t\t\tSystem.out.println(i);\r\n\r\n\t\t}\r\n\t}\r\n\r\nPrints:\r\n\r\n    500\r\n    300\r\n","title":"Why should I use nested try-catch blocks in Java?","body":"<p>OK - a bit contrived but demonstrates the point that the two try-catch structures are different - dependent on the actually implementation (this may be exactly what @KosztDojscia was pointing out so then consider this answer a duplicate) :</p>\n<pre><code>public class Main\n{\n    public static class Exception1 extends Exception { }\n    public static class Exception2 extends Exception { }\n    public static class Exception3 extends Exception { }\n    \n    public static void main(String[] args) {\n        int i = 0;\n\n        // &quot;messy&quot; structure\n        try {\n            try {\n                try {\n                    i = 3; if (i == 3) throw new Exception1();\n                } catch (Exception1 e1) { i = 300; }\n\n                i = 4; if (i == 4) throw new Exception2();\n    \n            } catch (Exception2 e2) { i = 400; }\n            \n            i = 5; if (i == 5) throw new Exception3();\n\n        } catch (Exception3 e3) { i = 500; }\n        \n        System.out.println(i);\n\n        // &quot;clean&quot; structure            \n        try {\n            i = 3; if (i == 3) throw new Exception1();\n            i = 4; if (i == 4) throw new Exception2();\n            i = 5; if (i == 5) throw new Exception3();\n        } catch (Exception1 e1) { i = 300; }\n          catch (Exception2 e2) { i = 400; }\n          catch (Exception3 e3) { i = 500; }\n\n        System.out.println(i);\n\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>500\n300\n</code></pre>\n"}],"owner":{"account_id":23759373,"reputation":47,"user_id":17775023,"display_name":"Dan Filban"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73377041,"answer_count":2,"score":-2,"last_activity_date":1660667641,"creation_date":1660664016,"question_id":73376574,"body_markdown":"I really don&#39;t get the point in using nested try-catch blocks. They are difficult to read and sometimes non pretty straightforward. For instance:\r\n\r\n```java\r\ntry {\r\n // do something\r\n}\r\ncatch ( [exception_1] e) {}\r\ncatch ( [exception_2] e) {}\r\ncatch ( [exception_3] e) {}\r\n```\r\nThe code above is more readable and I can understand what it does - if an exception occurs it can be handled by one of the catch blocks.\r\nBut if I use the nested form:\r\n```java\r\ntry {\r\n   try {\r\n      try {\r\n         // Do something for try-block 3\r\n      }\r\n      catch ( [exception_1] except_1) {};\r\n      // Do something for try-block 2\r\n   }\r\n   catch ( [exception_2] except_2) {};\r\n   // Do something for try-block 1\r\n}\r\ncatch ( [exception_3] except_3) {}\r\n```\r\nThe code above is a mess, but it achieves exactly the same of the first code. Or it doesn&#39;t? Help me figure this out.","title":"Why should I use nested try-catch blocks in Java?","body":"<p>I really don't get the point in using nested try-catch blocks. They are difficult to read and sometimes non pretty straightforward. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n // do something\n}\ncatch ( [exception_1] e) {}\ncatch ( [exception_2] e) {}\ncatch ( [exception_3] e) {}\n</code></pre>\n<p>The code above is more readable and I can understand what it does - if an exception occurs it can be handled by one of the catch blocks.\nBut if I use the nested form:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   try {\n      try {\n         // Do something for try-block 3\n      }\n      catch ( [exception_1] except_1) {};\n      // Do something for try-block 2\n   }\n   catch ( [exception_2] except_2) {};\n   // Do something for try-block 1\n}\ncatch ( [exception_3] except_3) {}\n</code></pre>\n<p>The code above is a mess, but it achieves exactly the same of the first code. Or it doesn't? Help me figure this out.</p>\n"},{"tags":["java","jaxb","xjc","jaxb2-annotate-plugin"],"answers":[{"tags":[],"owner":{"account_id":18475910,"reputation":101,"user_id":13459462,"display_name":"szczyzanski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660667498,"creation_date":1660667498,"answer_id":73377313,"question_id":73375652,"body_markdown":"All day googling and I found that https://stackoverflow.com/questions/48057887/jaxb-bindings-address-content-of-an-xsstring-extension-with-xpath. Not yet implemented, but looks like an answer.","title":"Problem with adding annotation for JAXB created classes","body":"<p>All day googling and I found that <a href=\"https://stackoverflow.com/questions/48057887/jaxb-bindings-address-content-of-an-xsstring-extension-with-xpath\">JAXB bindings - address content of an xs:string extension with xpath</a>. Not yet implemented, but looks like an answer.</p>\n"}],"owner":{"account_id":18475910,"reputation":101,"user_id":13459462,"display_name":"szczyzanski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660667498,"creation_date":1660660034,"question_id":73375652,"body_markdown":"I&#39;m using ```maven-jaxb2-plugin``` to generate my models based on ```.wsdl``` file. Now I need to add annotation to one of the classes. I tried to use ```jaxb2-basics-annotate``` and was very close to succeed, but now I&#39;m stuck.\r\n\r\nMy goal is to achieve this:\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;BinaryObjectType&quot;, propOrder = {\r\n    &quot;value&quot;\r\n})\r\npublic class BinaryObjectType {\r\n\r\n    @XmlValue\r\n    @XmlJavaTypeAdapter(BinaryObjectTypeValueAdapter.class)\r\n    protected byte[] value;\r\n}\r\n```\r\n\r\nbut my current output is:\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;BinaryObjectType&quot;, propOrder = {\r\n    &quot;value&quot;\r\n})\r\n@XmlJavaTypeAdapter(BinaryObjectTypeValueAdapter.class)\r\npublic class BinaryObjectType {\r\n\r\n    @XmlValue\r\n    protected byte[] value;\r\n}\r\n```\r\n\r\nMy ```bunding.xjb``` looks like this:\r\n```\r\n&lt;jxb:bindings schemaLocation=&quot;file:./schema.wsdl&quot;\r\n                  node=&quot;//xs:complexType[@name=&#39;BinaryObjectType&#39;]/xs:simpleContent&quot;&gt;\r\n        &lt;annox:annotate&gt;\r\n            &lt;annox:annotate annox:class=&quot;javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter&quot;\r\n                            value=&quot;example.mapper.BinaryObjectTypeValueAdapter&quot;&gt;\r\n            &lt;/annox:annotate&gt;\r\n        &lt;/annox:annotate&gt;\r\n&lt;/jxb:bindings&gt;\r\n```\r\nRelevant fragment of the ```.wsdl```:\r\n```\r\n&lt;xsd:complexType name=&quot;BinaryObjectType&quot;&gt;\r\n &lt;xsd:annotation...&gt;\r\n &lt;xsd:simpleContent&gt;\r\n  &lt;xsd:extension base=&quot;xsd:base64Binary&quot;&gt;\r\n   &lt;xsd:attribute name=&quot;format&quot; type=&quot;xsd:normalizedString&quot; use=&quot;optional&quot;&gt;\r\n   ...\r\n  &lt;/xsd:extension&gt;\r\n &lt;/xsd:simpleContent&gt;\r\n```\r\nI cannot modify it. Basically my problem is that I don&#39;t know how to specify XPath to the ```value``` property of ```BinaryObjectType``` class. I tried to use simpleContent, extension etc., but nothing worked for me. I saw that I can specify ```target``` on ```annox:annotate``` level, but it didn&#39;t help.\r\n\r\n","title":"Problem with adding annotation for JAXB created classes","body":"<p>I'm using <code>maven-jaxb2-plugin</code> to generate my models based on <code>.wsdl</code> file. Now I need to add annotation to one of the classes. I tried to use <code>jaxb2-basics-annotate</code> and was very close to succeed, but now I'm stuck.</p>\n<p>My goal is to achieve this:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;BinaryObjectType&quot;, propOrder = {\n    &quot;value&quot;\n})\npublic class BinaryObjectType {\n\n    @XmlValue\n    @XmlJavaTypeAdapter(BinaryObjectTypeValueAdapter.class)\n    protected byte[] value;\n}\n</code></pre>\n<p>but my current output is:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;BinaryObjectType&quot;, propOrder = {\n    &quot;value&quot;\n})\n@XmlJavaTypeAdapter(BinaryObjectTypeValueAdapter.class)\npublic class BinaryObjectType {\n\n    @XmlValue\n    protected byte[] value;\n}\n</code></pre>\n<p>My <code>bunding.xjb</code> looks like this:</p>\n<pre><code>&lt;jxb:bindings schemaLocation=&quot;file:./schema.wsdl&quot;\n                  node=&quot;//xs:complexType[@name='BinaryObjectType']/xs:simpleContent&quot;&gt;\n        &lt;annox:annotate&gt;\n            &lt;annox:annotate annox:class=&quot;javax.xml.bind.annotation.adapters.XmlJavaTypeAdapter&quot;\n                            value=&quot;example.mapper.BinaryObjectTypeValueAdapter&quot;&gt;\n            &lt;/annox:annotate&gt;\n        &lt;/annox:annotate&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n<p>Relevant fragment of the <code>.wsdl</code>:</p>\n<pre><code>&lt;xsd:complexType name=&quot;BinaryObjectType&quot;&gt;\n &lt;xsd:annotation...&gt;\n &lt;xsd:simpleContent&gt;\n  &lt;xsd:extension base=&quot;xsd:base64Binary&quot;&gt;\n   &lt;xsd:attribute name=&quot;format&quot; type=&quot;xsd:normalizedString&quot; use=&quot;optional&quot;&gt;\n   ...\n  &lt;/xsd:extension&gt;\n &lt;/xsd:simpleContent&gt;\n</code></pre>\n<p>I cannot modify it. Basically my problem is that I don't know how to specify XPath to the <code>value</code> property of <code>BinaryObjectType</code> class. I tried to use simpleContent, extension etc., but nothing worked for me. I saw that I can specify <code>target</code> on <code>annox:annotate</code> level, but it didn't help.</p>\n"},{"tags":["java","generics","polymorphism"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1660662337,"post_id":73376182,"comment_id":129582192,"body_markdown":"Please provide a [mcve].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660662822,"post_id":73376182,"comment_id":129582403,"body_markdown":"The Service should be generic, not just the method. So `Service&lt;T&gt;`, and then it would either be `LocalService implements Service&lt;MyConcreteClass&gt;`. But I don&#39;t understand why you would want disparate services to all implement a common interface. Surely the CustomerService and the OrderService (or whatever) are not in any way interchangeable. By the way, class names are PascalCase by convention in Java.","body":"The Service should be generic, not just the method. So <code>Service&lt;T&gt;</code>, and then it would either be <code>LocalService implements Service&lt;MyConcreteClass&gt;</code>. But I don&#39;t understand why you would want disparate services to all implement a common interface. Surely the CustomerService and the OrderService (or whatever) are not in any way interchangeable. By the way, class names are PascalCase by convention in Java."},{"owner":{"account_id":26046837,"reputation":11,"user_id":19750774,"display_name":"hut_rudder"},"score":0,"creation_date":1660667519,"post_id":73376182,"comment_id":129584312,"body_markdown":"@DavidConrad - thanks for your initial comments. Have edited code into something that will at least compile. Could you help me understand why **both** interface and one of its methods need to be generic? I may want many other methods in Service which are not generic/do not make use of &lt;T&gt; at all. As for why I want disparate services implementing a common interface - I have just realized that although not using a DB for this part of app - my actual need for multiple services comes down to multiple storage endpoints and I should probably leave multiple impl. for data layer.","body":"@DavidConrad - thanks for your initial comments. Have edited code into something that will at least compile. Could you help me understand why <b>both</b> interface and one of its methods need to be generic? I may want many other methods in Service which are not generic/do not make use of &lt;T&gt; at all. As for why I want disparate services implementing a common interface - I have just realized that although not using a DB for this part of app - my actual need for multiple services comes down to multiple storage endpoints and I should probably leave multiple impl. for data layer."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660668443,"post_id":73376182,"comment_id":129584635,"body_markdown":"With only the method in the interface being generic, not the interface itself, there is no way for the compiler to know if the return value of the method in the concrete class conforms to the interface. It doesn&#39;t matter if not all methods in the generic interface use the generic type, but putting the type on the interface and the class allows the compiler to see they are the same.","body":"With only the method in the interface being generic, not the interface itself, there is no way for the compiler to know if the return value of the method in the concrete class conforms to the interface. It doesn&#39;t matter if not all methods in the generic interface use the generic type, but putting the type on the interface and the class allows the compiler to see they are the same."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660667395,"creation_date":1660667395,"answer_id":73377291,"question_id":73376182,"body_markdown":"You can eliminate the unchecked cast by declaring the interface itself with a type parameter (instead of the method). Like this:\r\n\r\n```java\r\ninterface Service&lt;T&gt; {\r\n    List&lt;T&gt; list(String location, String type );\r\n}\r\n\r\nclass LocalService implements Service&lt;MyConcreteClass&gt; {\r\n    @Override\r\n\tpublic List&lt;MyConcreteClass&gt; list(String location, String type ) {\r\n        // Some logic to retrieve, alter and return a list\r\n    \treturn null;\r\n    }\r\n}\r\n\r\nclass StringService implements Service&lt;String&gt; {\r\n\t@Override\r\n\tpublic List&lt;String&gt; list(String location, String type) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nclass MyConcreteClass {\r\n\t/// ...\r\n}\r\n```\r\n\r\n(I changed a couple of things to make it compile, not relevant to the answer).","title":"How can I avoid an &quot;Unchecked overriding&quot; warning when interface method&#39;s generic return is implemented with a concrete type in Java?","body":"<p>You can eliminate the unchecked cast by declaring the interface itself with a type parameter (instead of the method). Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Service&lt;T&gt; {\n    List&lt;T&gt; list(String location, String type );\n}\n\nclass LocalService implements Service&lt;MyConcreteClass&gt; {\n    @Override\n    public List&lt;MyConcreteClass&gt; list(String location, String type ) {\n        // Some logic to retrieve, alter and return a list\n        return null;\n    }\n}\n\nclass StringService implements Service&lt;String&gt; {\n    @Override\n    public List&lt;String&gt; list(String location, String type) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n\nclass MyConcreteClass {\n    /// ...\n}\n</code></pre>\n<p>(I changed a couple of things to make it compile, not relevant to the answer).</p>\n"}],"owner":{"account_id":26046837,"reputation":11,"user_id":19750774,"display_name":"hut_rudder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73377291,"answer_count":1,"score":-1,"last_activity_date":1660667395,"creation_date":1660662178,"question_id":73376182,"body_markdown":"This is an educational question that relates to a hobby project. Project Spring Boot MVC/REST app.\r\n\r\nI would like to retain the flexibility to be able to create multiple implementations of Service and have list return a list of objects, depending on what the implementation requires.\r\n\r\nI appreciate I could create some inheritance/implementation hierarchy to define the kinds of objects of which T could encompass. My problem with both of those answers is that some use cases for Service involve me needing to return Lists of Java Standard Lib types - types I would rather not inherit/extend/implement for my own custom classes, which I would prefer be kept as lean as possible.   \r\n\r\n```\r\nimport java.util.List;\r\n\r\ninterface Service {\r\n    &lt;T&gt; List&lt;T&gt; list(String location, MyEnums.mediaType type );\r\n}\r\n\r\nclass MyEnums {\r\n    enum mediaType {\r\n        IMAGE, VIDEO, AUDIO\r\n    }\r\n}\r\n\r\nclass LocalService implements Service {\r\n    public List&lt;MyConcreteClass&gt; list(String location, MyEnums.mediaType type ) {\r\n        List&lt;MyConcreteClass&gt; list = null;\r\n        list.add(new MyConcreteClass(1, &quot;foo&quot;, new byte[0]));\r\n        return list;\r\n    }\r\n}\r\n\r\nclass MyConcreteClass implements Comparable&lt;MyConcreteClass&gt; {\r\n\r\n    private final long id;\r\n    private final String name;\r\n    private final byte[] data;\r\n\r\n    public MyConcreteClass(long id, String name, byte[] data) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.data = data;\r\n    }\r\n\r\n\r\n    @Override\r\n    public int compareTo(MyConcreteClass o) {\r\n        return this.name.compareTo(o.name);\r\n    }\r\n\r\n    // Other methods omitted for brevity\r\n}\r\n\r\n\r\n```\r\n\r\nThe above code is only a simplified example of the actual app code - which compiles and runs without any (known) runtime bugs. However I get the compiler warning: \r\n\r\n&gt; Unchecked overriding: return type requires unchecked conversion.\r\n\r\nThe presence of a warning makes sense to me - code consuming the Service interface/API could break at runtime if the return type requirement in the calling code is incompatible with the implementation, whereas the error would be caught at compile if I had a more specific List&lt;&gt; defined in the interface. \r\n\r\nThis would, of course, not be an issue if I had to wire in a concrete implementation into the code consuming my service - however the joys of Spring!\r\n\r\n**What am I doing wrong? How can I fix this? Are generics the right way to achieve a polymorphic list() function in my case?** ","title":"How can I avoid an &quot;Unchecked overriding&quot; warning when interface method&#39;s generic return is implemented with a concrete type in Java?","body":"<p>This is an educational question that relates to a hobby project. Project Spring Boot MVC/REST app.</p>\n<p>I would like to retain the flexibility to be able to create multiple implementations of Service and have list return a list of objects, depending on what the implementation requires.</p>\n<p>I appreciate I could create some inheritance/implementation hierarchy to define the kinds of objects of which T could encompass. My problem with both of those answers is that some use cases for Service involve me needing to return Lists of Java Standard Lib types - types I would rather not inherit/extend/implement for my own custom classes, which I would prefer be kept as lean as possible.</p>\n<pre><code>import java.util.List;\n\ninterface Service {\n    &lt;T&gt; List&lt;T&gt; list(String location, MyEnums.mediaType type );\n}\n\nclass MyEnums {\n    enum mediaType {\n        IMAGE, VIDEO, AUDIO\n    }\n}\n\nclass LocalService implements Service {\n    public List&lt;MyConcreteClass&gt; list(String location, MyEnums.mediaType type ) {\n        List&lt;MyConcreteClass&gt; list = null;\n        list.add(new MyConcreteClass(1, &quot;foo&quot;, new byte[0]));\n        return list;\n    }\n}\n\nclass MyConcreteClass implements Comparable&lt;MyConcreteClass&gt; {\n\n    private final long id;\n    private final String name;\n    private final byte[] data;\n\n    public MyConcreteClass(long id, String name, byte[] data) {\n        this.id = id;\n        this.name = name;\n        this.data = data;\n    }\n\n\n    @Override\n    public int compareTo(MyConcreteClass o) {\n        return this.name.compareTo(o.name);\n    }\n\n    // Other methods omitted for brevity\n}\n\n\n</code></pre>\n<p>The above code is only a simplified example of the actual app code - which compiles and runs without any (known) runtime bugs. However I get the compiler warning:</p>\n<blockquote>\n<p>Unchecked overriding: return type requires unchecked conversion.</p>\n</blockquote>\n<p>The presence of a warning makes sense to me - code consuming the Service interface/API could break at runtime if the return type requirement in the calling code is incompatible with the implementation, whereas the error would be caught at compile if I had a more specific List&lt;&gt; defined in the interface.</p>\n<p>This would, of course, not be an issue if I had to wire in a concrete implementation into the code consuming my service - however the joys of Spring!</p>\n<p><strong>What am I doing wrong? How can I fix this? Are generics the right way to achieve a polymorphic list() function in my case?</strong></p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660665061,"post_id":73372187,"comment_id":129583381,"body_markdown":"If I understood the question, have you look at the punctuate method?","body":"If I understood the question, have you look at the punctuate method?"},{"owner":{"account_id":6151002,"reputation":401,"user_id":4882336,"accept_rate":56,"display_name":"Marko Kraljevic"},"score":0,"creation_date":1660667315,"post_id":73372187,"comment_id":129584236,"body_markdown":"@OneCricketeer I will check that one. I also updated the question with somewhat working example.","body":"@OneCricketeer I will check that one. I also updated the question with somewhat working example."}],"owner":{"account_id":6151002,"reputation":401,"user_id":4882336,"accept_rate":56,"display_name":"Marko Kraljevic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660667287,"creation_date":1660644147,"question_id":73372187,"body_markdown":"What is the easiest way to filter messages based on time. E.g. I receive following messages in kafka\r\n\r\n    1st second: 1 -&gt; 23 (here 1 is key, 23 is value)\r\n    2nd second: 1 -&gt; 445\r\n    3rd second: 1 -&gt; 5\r\n    4th second: 1 -&gt; 234\r\n    5th second: 1 -&gt; 777\r\n\r\nand if I need to forward 1 message per 2 seconds, I should have following filtered forward to some topic:\r\n\r\n    1 -&gt; 23\r\n    1 -&gt; 5\r\n    1 -&gt; 777\r\n\r\nIt should also support dynamic window change - so in runtime someone could change window from 2 second to 10 seconds for example. What would be the best way to do this with Kafka streams?\r\n\r\n**UPDATE**\r\n\r\nHere is updated code that works for single events, but if it is batched, then the GlobalStore `lastSeen` is not updated. Seems like it actually updates this store via external push to kafka and then only it is received. Is it possible somehow to push timestamp to kafka, but to keep local in-memory state of `lastSeen` always synchronously updated?\r\n\r\n    KStream&lt;String,String&gt; input = streamsBuilder.stream(&quot;in&quot;, Consumed.with(Serdes.String(), Serdes.String()));\r\n            //here we store key -&gt; when we saw last time this key\r\n            GlobalKTable&lt;String, Long&gt; lastSeen = streamsBuilder.globalTable(&quot;ls&quot;, Consumed.with(Serdes.String(), Serdes.Long()));\r\n            //here we say key -&gt; number of millis to skip the message\r\n            GlobalKTable&lt;String, Long&gt; retentionPolicy = streamsBuilder.globalTable(&quot;rp&quot;, Consumed.with(Serdes.String(), Serdes.Long()));\r\n    \r\n            record TempRec(String value, Long lastSeen, Long retentionPolicy){}\r\n    \r\n            KStream&lt;String, TempRec&gt; a = input\r\n                    .leftJoin(lastSeen, (k1,v1) -&gt; k1, (v1,v2) -&gt; new TempRec(v1, v2, null))\r\n                    .leftJoin(retentionPolicy, (k1,v1) -&gt; k1, (v1,v2) -&gt; new TempRec(v1.value(), v1.lastSeen(), v2))\r\n                    .filter((k,v) -&gt; Instant.now().minusMillis(v.retentionPolicy()).isAfter(Instant.ofEpochMilli(v.lastSeen())));\r\n    \r\n            //HOW TO MAKE THIS ONE UPDATE SYNCHRONIZED??\r\n            a.mapValues((k,v) -&gt; Instant.now().toEpochMilli())\r\n                    .to(&quot;ls&quot;, Produced.with(Serdes.String(), Serdes.Long()));\r\n    \r\n            a.mapValues((k,v) -&gt; v.value())\r\n                    .to(&quot;out&quot;);","title":"Kafka Streams - filter data based on time","body":"<p>What is the easiest way to filter messages based on time. E.g. I receive following messages in kafka</p>\n<pre><code>1st second: 1 -&gt; 23 (here 1 is key, 23 is value)\n2nd second: 1 -&gt; 445\n3rd second: 1 -&gt; 5\n4th second: 1 -&gt; 234\n5th second: 1 -&gt; 777\n</code></pre>\n<p>and if I need to forward 1 message per 2 seconds, I should have following filtered forward to some topic:</p>\n<pre><code>1 -&gt; 23\n1 -&gt; 5\n1 -&gt; 777\n</code></pre>\n<p>It should also support dynamic window change - so in runtime someone could change window from 2 second to 10 seconds for example. What would be the best way to do this with Kafka streams?</p>\n<p><strong>UPDATE</strong></p>\n<p>Here is updated code that works for single events, but if it is batched, then the GlobalStore <code>lastSeen</code> is not updated. Seems like it actually updates this store via external push to kafka and then only it is received. Is it possible somehow to push timestamp to kafka, but to keep local in-memory state of <code>lastSeen</code> always synchronously updated?</p>\n<pre><code>KStream&lt;String,String&gt; input = streamsBuilder.stream(&quot;in&quot;, Consumed.with(Serdes.String(), Serdes.String()));\n        //here we store key -&gt; when we saw last time this key\n        GlobalKTable&lt;String, Long&gt; lastSeen = streamsBuilder.globalTable(&quot;ls&quot;, Consumed.with(Serdes.String(), Serdes.Long()));\n        //here we say key -&gt; number of millis to skip the message\n        GlobalKTable&lt;String, Long&gt; retentionPolicy = streamsBuilder.globalTable(&quot;rp&quot;, Consumed.with(Serdes.String(), Serdes.Long()));\n\n        record TempRec(String value, Long lastSeen, Long retentionPolicy){}\n\n        KStream&lt;String, TempRec&gt; a = input\n                .leftJoin(lastSeen, (k1,v1) -&gt; k1, (v1,v2) -&gt; new TempRec(v1, v2, null))\n                .leftJoin(retentionPolicy, (k1,v1) -&gt; k1, (v1,v2) -&gt; new TempRec(v1.value(), v1.lastSeen(), v2))\n                .filter((k,v) -&gt; Instant.now().minusMillis(v.retentionPolicy()).isAfter(Instant.ofEpochMilli(v.lastSeen())));\n\n        //HOW TO MAKE THIS ONE UPDATE SYNCHRONIZED??\n        a.mapValues((k,v) -&gt; Instant.now().toEpochMilli())\n                .to(&quot;ls&quot;, Produced.with(Serdes.String(), Serdes.Long()));\n\n        a.mapValues((k,v) -&gt; v.value())\n                .to(&quot;out&quot;);\n</code></pre>\n"},{"tags":["java","android","kotlin","svg","native"],"comments":[{"owner":{"account_id":3480291,"reputation":1807,"user_id":2912553,"accept_rate":60,"display_name":"momvart"},"score":0,"creation_date":1660670585,"post_id":73377199,"comment_id":129585329,"body_markdown":"I don&#39;t have any experience with animated SVGs, but a popular way of showing vector animations is Lottie.","body":"I don&#39;t have any experience with animated SVGs, but a popular way of showing vector animations is Lottie."},{"owner":{"account_id":4794060,"reputation":1323,"user_id":3872482,"display_name":"Mike"},"score":0,"creation_date":1660708108,"post_id":73377199,"comment_id":129593574,"body_markdown":"Hi @momvart forgot to place this one, but I&#39;ve also tried utilizing Lottie but for local asset / resource file only, I&#39;m not sure if its convenient to be loaded dynamically and I believe lottie files are rendered as .json instead of .svg","body":"Hi @momvart forgot to place this one, but I&#39;ve also tried utilizing Lottie but for local asset / resource file only, I&#39;m not sure if its convenient to be loaded dynamically and I believe lottie files are rendered as .json instead of .svg"}],"owner":{"account_id":4794060,"reputation":1323,"user_id":3872482,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660666937,"creation_date":1660666937,"question_id":73377199,"body_markdown":"Is there a friendly way of loading this dynamically? Wherein for example I can just do:\r\n\r\n```\r\nimageView.loadUrl(&quot;https://....../file.svg&quot;)\r\n```\r\n\r\nWherein file.svg should be an animated SVG.\r\n\r\nWhat I have tried so far:\r\n- Using coil-kt https://github.com/coil-kt/coil it properly loads svg, but when it comes to animated SVG it doesn&#39;t really animate and is just on static I guess the final frame.\r\n- AnimatedVectorDrawable as local asset / resource file, but I would want the dynamic capability wherein I&#39;ll just fetch the animated SVGs.\r\n- WebView but it doesn&#39;t look good and won&#39;t have a proper scaling\r\n\r\nAny leads would be appreciated, otherwise I&#39;ll have to make my own parser to achieve this.","title":"Android load animated SVG via url dynamically using native kotlin","body":"<p>Is there a friendly way of loading this dynamically? Wherein for example I can just do:</p>\n<pre><code>imageView.loadUrl(&quot;https://....../file.svg&quot;)\n</code></pre>\n<p>Wherein file.svg should be an animated SVG.</p>\n<p>What I have tried so far:</p>\n<ul>\n<li>Using coil-kt <a href=\"https://github.com/coil-kt/coil\" rel=\"nofollow noreferrer\">https://github.com/coil-kt/coil</a> it properly loads svg, but when it comes to animated SVG it doesn't really animate and is just on static I guess the final frame.</li>\n<li>AnimatedVectorDrawable as local asset / resource file, but I would want the dynamic capability wherein I'll just fetch the animated SVGs.</li>\n<li>WebView but it doesn't look good and won't have a proper scaling</li>\n</ul>\n<p>Any leads would be appreciated, otherwise I'll have to make my own parser to achieve this.</p>\n"},{"tags":["java","jpa","jakarta-ee","java-ee-8"],"comments":[{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":1,"creation_date":1660540573,"post_id":73353567,"comment_id":129548594,"body_markdown":"Are you using an Application Server (JBOSS, Wildly, GlassFish, etc) to deploy your application?","body":"Are you using an Application Server (JBOSS, Wildly, GlassFish, etc) to deploy your application?"},{"owner":{"display_name":"user7514788"},"score":0,"creation_date":1660557290,"post_id":73353567,"comment_id":129552642,"body_markdown":"Yeah . I am using latest Wildfly server to deploy my application. How do I know if required libs are contained in my deployed application?","body":"Yeah . I am using latest Wildfly server to deploy my application. How do I know if required libs are contained in my deployed application?"},{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1660579893,"post_id":73353567,"comment_id":129560398,"body_markdown":"Do you have a persistence.xml file?","body":"Do you have a persistence.xml file?"},{"owner":{"display_name":"user7514788"},"score":0,"creation_date":1660641613,"post_id":73353567,"comment_id":129574127,"body_markdown":"I added persistence.xml file. But didn&#39;t supply any provider tag in the xml file. How does application server know which vendor to use for jpa implementation?","body":"I added persistence.xml file. But didn&#39;t supply any provider tag in the xml file. How does application server know which vendor to use for jpa implementation?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1660677041,"post_id":73353567,"comment_id":129587462,"body_markdown":"Related: https://stackoverflow.com/q/7295096","body":"Related: <a href=\"https://stackoverflow.com/q/7295096\">stackoverflow.com/q/7295096</a>"}],"answers":[{"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660666607,"creation_date":1660666607,"answer_id":73377148,"question_id":73353567,"body_markdown":"Well, based on your comments:\r\n\r\n&gt;  I am using latest Wildfly server ...\r\n\r\nAnd\r\n\r\n&gt; I added persistence.xml file\r\n\r\nThe answer is: **Wildfly will include for you some libraries in the Application&#39;s classpath when some conditions are met** ...\r\n\r\nAccording to the documentation, in your case, it adds JPA subsystem and its implementation (Hibernate) when it detects either the use of `@PersistenceUnit` or `@PersistenceContext` annotation or other XMLs tags in some deployment descriptors ...\r\n\r\nYou can read more about this in:\r\n\r\n[Wildfly Automatic Dependencies][1]\r\n\r\n[Implicit module dependencies for deployments][2]\r\n\r\n**NOTE**: The most recent documentation that I found was Wildfly 26 ... however, this is something that they&#39;ve done since Wildfly 8 ...\r\n\r\n\r\n  [1]: https://docs.wildfly.org/26/Developer_Guide.html#automatic-dependencies\r\n  [2]: https://docs.wildfly.org/26/Developer_Guide.html#Implicit_module_dependencies_for_deployments","title":"How am I able to reference Entity Manager instance even if I don&#39;t have any implementation?","body":"<p>Well, based on your comments:</p>\n<blockquote>\n<p>I am using latest Wildfly server ...</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>I added persistence.xml file</p>\n</blockquote>\n<p>The answer is: <strong>Wildfly will include for you some libraries in the Application's classpath when some conditions are met</strong> ...</p>\n<p>According to the documentation, in your case, it adds JPA subsystem and its implementation (Hibernate) when it detects either the use of <code>@PersistenceUnit</code> or <code>@PersistenceContext</code> annotation or other XMLs tags in some deployment descriptors ...</p>\n<p>You can read more about this in:</p>\n<p><a href=\"https://docs.wildfly.org/26/Developer_Guide.html#automatic-dependencies\" rel=\"nofollow noreferrer\">Wildfly Automatic Dependencies</a></p>\n<p><a href=\"https://docs.wildfly.org/26/Developer_Guide.html#Implicit_module_dependencies_for_deployments\" rel=\"nofollow noreferrer\">Implicit module dependencies for deployments</a></p>\n<p><strong>NOTE</strong>: The most recent documentation that I found was Wildfly 26 ... however, this is something that they've done since Wildfly 8 ...</p>\n"}],"owner":{"display_name":"user7514788"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73377148,"answer_count":1,"score":1,"last_activity_date":1660666607,"creation_date":1660496934,"question_id":73353567,"body_markdown":"In my java EE application , I wrote a simple bean that I referenced container managed entity manager like below \r\n\r\n    @Stateless\r\n    public class MessageService {\r\n\r\n    @PersistenceContext\r\n    private  EntityManager entityManager;\r\n\r\nBut even if I have only java EE 8 and H2 database dependencies on my classpath, I was able to reference and use EntityManager from my bean. Should not I have been have to have a JPA implementation on my classpath like Hibernate etc.?","title":"How am I able to reference Entity Manager instance even if I don&#39;t have any implementation?","body":"<p>In my java EE application , I wrote a simple bean that I referenced container managed entity manager like below</p>\n<pre><code>@Stateless\npublic class MessageService {\n\n@PersistenceContext\nprivate  EntityManager entityManager;\n</code></pre>\n<p>But even if I have only java EE 8 and H2 database dependencies on my classpath, I was able to reference and use EntityManager from my bean. Should not I have been have to have a JPA implementation on my classpath like Hibernate etc.?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26078682,"reputation":99,"user_id":19777243,"display_name":"Sirth"},"score":0,"creation_date":1660664882,"post_id":73376717,"comment_id":129583303,"body_markdown":"I have tried looking at flatmap and I think I am not casting it correctly to JsonList","body":"I have tried looking at flatmap and I think I am not casting it correctly to JsonList"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1660665243,"post_id":73376717,"comment_id":129583460,"body_markdown":"Which Json library do you use? Where does JsonList come from?","body":"Which Json library do you use? Where does JsonList come from?"},{"owner":{"account_id":26078682,"reputation":99,"user_id":19777243,"display_name":"Sirth"},"score":0,"creation_date":1660665400,"post_id":73376717,"comment_id":129583517,"body_markdown":"It&#39;s a custom class:   public JsonList(List&lt;HashMap&lt;String, Object&gt;&gt; list) {\n    super(list);\n  }\nIt just stores json into the lists","body":"It&#39;s a custom class:   public JsonList(List&lt;HashMap&lt;String, Object&gt;&gt; list) {     super(list);   } It just stores json into the lists"},{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1660665607,"post_id":73376717,"comment_id":129583599,"body_markdown":"Can you also post the details of JsonList class?","body":"Can you also post the details of JsonList class?"},{"owner":{"account_id":26078682,"reputation":99,"user_id":19777243,"display_name":"Sirth"},"score":0,"creation_date":1660665798,"post_id":73376717,"comment_id":129583668,"body_markdown":"public class JsonList extends ArrayList&lt;HashMap&lt;String, Object&gt;&gt; {\n public JsonList(List&lt;HashMap&lt;String, Object&gt;&gt; list) { super(list); }","body":"public class JsonList extends ArrayList&lt;HashMap&lt;String, Object&gt;&gt; {  public JsonList(List&lt;HashMap&lt;String, Object&gt;&gt; list) { super(list); }"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1660666410,"post_id":73376717,"comment_id":129583885,"body_markdown":"Hello. You can use [edit] option to clarify your question, like by adding more details. Anyway this JSON array contains only one inner JSON array, so the &quot;flattening&quot; is simply getting/accessing that inner array, something like `JSONArray innerArray = outerArray.get(0);` (depending on your JSON library).","body":"Hello. You can use <a href=\"https://stackoverflow.com/posts/73376717/edit\">edit</a> option to clarify your question, like by adding more details. Anyway this JSON array contains only one inner JSON array, so the &quot;flattening&quot; is simply getting/accessing that inner array, something like <code>JSONArray innerArray = outerArray.get(0);</code> (depending on your JSON library)."}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660666533,"creation_date":1660666533,"answer_id":73377128,"question_id":73376717,"body_markdown":"It&#39;s basically similar to flattening an ArrayList of ArrayList.\r\n\r\n```java\r\nfinal List&lt;Map&lt;String, Object&gt;&gt; result = jsonList.stream()\r\n                .flatMap(Collection::stream)\r\n                .collect(Collectors.toList());\r\n```\r\nand for the values\r\n```java\r\nfinal List&lt;Object&gt; valueList = result.stream()\r\n                .map(i -&gt; i.get(&quot;value&quot;))\r\n                .collect(Collectors.toList());\r\n```","title":"How to flatten nested array of JsonLists","body":"<p>It's basically similar to flattening an ArrayList of ArrayList.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Map&lt;String, Object&gt;&gt; result = jsonList.stream()\n                .flatMap(Collection::stream)\n                .collect(Collectors.toList());\n</code></pre>\n<p>and for the values</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;Object&gt; valueList = result.stream()\n                .map(i -&gt; i.get(&quot;value&quot;))\n                .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":26078682,"reputation":99,"user_id":19777243,"display_name":"Sirth"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73377128,"answer_count":1,"score":-1,"last_activity_date":1660666533,"creation_date":1660664665,"question_id":73376717,"body_markdown":"`[[{header=C, value=dsd}, {header=D, value=test}, {header=E, value=e}, {header=F, value=hhh}, {header=G, value=ghgh}]]`\r\n\r\nAbove is an array of arrays of JsonLists and I need to flatten out the outer array to just be the inner array of JsonLists. \r\n\r\nI&#39;d also eventually get only the values out of the JsonList and put those values into it&#39;s own separate array :\r\n\r\n`[dsd, test, e, hhh, ghgh]`","title":"How to flatten nested array of JsonLists","body":"<p><code>[[{header=C, value=dsd}, {header=D, value=test}, {header=E, value=e}, {header=F, value=hhh}, {header=G, value=ghgh}]]</code></p>\n<p>Above is an array of arrays of JsonLists and I need to flatten out the outer array to just be the inner array of JsonLists.</p>\n<p>I'd also eventually get only the values out of the JsonList and put those values into it's own separate array :</p>\n<p><code>[dsd, test, e, hhh, ghgh]</code></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660665823,"creation_date":1660665823,"answer_id":73376988,"question_id":73376958,"body_markdown":"Take a look at https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/SchedulingConfigurer.html \r\n\r\nUsing **SchedulingConfigurer** you can keep the scheduling of your job dynamic.","title":"how to run logic on a dynamic schedule?","body":"<p>Take a look at <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/SchedulingConfigurer.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/SchedulingConfigurer.html</a></p>\n<p>Using <strong>SchedulingConfigurer</strong> you can keep the scheduling of your job dynamic.</p>\n"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660665823,"creation_date":1660665715,"question_id":73376958,"body_markdown":"I have a UI with a field &quot;date&quot; which is of type LocalDateTime. how to run my logic at given time?  \r\nI&#39;m looking for a prettier solution than using @Scheduled to run every second","title":"how to run logic on a dynamic schedule?","body":"<p>I have a UI with a field &quot;date&quot; which is of type LocalDateTime. how to run my logic at given time?<br />\nI'm looking for a prettier solution than using @Scheduled to run every second</p>\n"},{"tags":["java","arrays","static-methods"],"comments":[{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":1,"creation_date":1660603788,"post_id":73367092,"comment_id":129566779,"body_markdown":"what do you think should happen when removing an element at index -1? `java.util.Arrays.removeElement(del_arrays [-1] );`? Are you sure you&#39;re using the correct method name for your desired action and parameters? I think you want to give your method the array and the index of the element to delete.","body":"what do you think should happen when removing an element at index -1? <code>java.util.Arrays.removeElement(del_arrays [-1] );</code>? Are you sure you&#39;re using the correct method name for your desired action and parameters? I think you want to give your method the array and the index of the element to delete."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1660605555,"post_id":73367092,"comment_id":129567055,"body_markdown":"There&#39;s no such method ```Arrays.removeElement```","body":"There&#39;s no such method <code>Arrays.removeElement</code>"},{"owner":{"account_id":26048611,"reputation":3,"user_id":19752262,"display_name":"TheCPPGuy"},"score":0,"creation_date":1660605662,"post_id":73367092,"comment_id":129567071,"body_markdown":"@ChengThao Really, I found it online and thought it could help.","body":"@ChengThao Really, I found it online and thought it could help."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1660607436,"post_id":73367092,"comment_id":129567294,"body_markdown":"What does ```del()?`` suppose to do? Delete the last element of the array?  Which array?","body":"What does ```del()?`` suppose to do? Delete the last element of the array?  Which array?"},{"owner":{"account_id":26048611,"reputation":3,"user_id":19752262,"display_name":"TheCPPGuy"},"score":0,"creation_date":1660608450,"post_id":73367092,"comment_id":129567429,"body_markdown":"@ChengThao I have the ```del();``` method to run the delete static method. The array is in the main section of class.","body":"@ChengThao I have the <code>del();</code> method to run the delete static method. The array is in the main section of class."}],"answers":[{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660665306,"creation_date":1660604783,"answer_id":73367224,"question_id":73367092,"body_markdown":"Just like your add method, you need to provide an array and element index to delete. For a static method you need to provide everything it needs. In this case, you need to provide the array and the index of the element you intend to delete from that array. Remember the edge case of what happens when you want to delete the last element of an array or an array with no elements.\r\n\r\nSomething like the following should suffice:\r\n\r\n    public static int[] del(int[] arrayToDeleteFrom, int indexToDelete)\r\n    {\r\n    \tboolean empty = false;\r\n    \t\r\n        if(arrayToDeleteFrom.length &lt;= 1)\r\n    \t\tempty = true;\r\n            \r\n        int[] newArrayAfterDelete = new int[(empty ? 0 : arrayToDeleteFrom.length - 1)];\r\n        \r\n        for(int index = 0; index &lt; arrayToDeleteFrom.length; index++)\r\n        {\r\n            //if the index is the one we want to delete, then skip adding it to our new array\r\n        \tif(indexToDelete == index)\r\n            \tcontinue;\r\n            else\r\n            \tnewArrayAfterDelete[index] = arrayToDeleteFrom[index];\r\n        }\r\n     \r\n     \treturn newArrayAfterDelete;\r\n    }\r\n\r\nIn order to call this method you need to provide all the required parameters. For this del method you need to first provide an int array and second, provide an index of the element you wish to delete.\r\n\r\n      int[] a = { 1, 2, 3 };\r\n      System.out.println(Arrays.toString(a));\r\n      a = add(a, 4);\r\n      System.out.println(Arrays.toString(a));\r\n      a = del(a, 1); //&lt;-- provide the array AND the index of the element to remove, with index 1 we should remove number 2 from the a array\r\n      System.out.println(Arrays.toString(a));","title":"How do I delete the last element of an array without conflicting another add method?","body":"<p>Just like your add method, you need to provide an array and element index to delete. For a static method you need to provide everything it needs. In this case, you need to provide the array and the index of the element you intend to delete from that array. Remember the edge case of what happens when you want to delete the last element of an array or an array with no elements.</p>\n<p>Something like the following should suffice:</p>\n<pre><code>public static int[] del(int[] arrayToDeleteFrom, int indexToDelete)\n{\n    boolean empty = false;\n    \n    if(arrayToDeleteFrom.length &lt;= 1)\n        empty = true;\n        \n    int[] newArrayAfterDelete = new int[(empty ? 0 : arrayToDeleteFrom.length - 1)];\n    \n    for(int index = 0; index &lt; arrayToDeleteFrom.length; index++)\n    {\n        //if the index is the one we want to delete, then skip adding it to our new array\n        if(indexToDelete == index)\n            continue;\n        else\n            newArrayAfterDelete[index] = arrayToDeleteFrom[index];\n    }\n \n    return newArrayAfterDelete;\n}\n</code></pre>\n<p>In order to call this method you need to provide all the required parameters. For this del method you need to first provide an int array and second, provide an index of the element you wish to delete.</p>\n<pre><code>  int[] a = { 1, 2, 3 };\n  System.out.println(Arrays.toString(a));\n  a = add(a, 4);\n  System.out.println(Arrays.toString(a));\n  a = del(a, 1); //&lt;-- provide the array AND the index of the element to remove, with index 1 we should remove number 2 from the a array\n  System.out.println(Arrays.toString(a));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660607871,"creation_date":1660607871,"answer_id":73367482,"question_id":73367092,"body_markdown":"This is probably what you are trying to do.  The add method append a new element to the array and the delete method remove the last element.  Del would look like the other answer if you want to delete specific element.\r\n\r\n```\r\nimport java.util.Arrays;\r\nclass Main {\r\n  public static int[] add(int[] arr, int val) {\r\n      int[] newArray = Arrays.copyOf(arr, arr.length + 1);\r\n      newArray[arr.length] = val;\r\n      return newArray;\r\n   }\r\n   public static int[] del(int[] arr) {\r\n      return Arrays.copyOf(arr, arr.length - 1);\r\n   }\r\n   public static void main(String[] args) {\r\n      int[] a = { 1, 2, 3 };\r\n      System.out.println(Arrays.toString(a));\r\n      a = add(a, 4);\r\n      System.out.println(Arrays.toString(a));\r\n      a = del(a);\r\n      System.out.println(Arrays.toString(a));\r\n   }\r\n}\r\n```\r\nOutput\r\n```\r\n[1, 2, 3]\r\n[1, 2, 3, 4]\r\n[1, 2, 3]\r\n```","title":"How do I delete the last element of an array without conflicting another add method?","body":"<p>This is probably what you are trying to do.  The add method append a new element to the array and the delete method remove the last element.  Del would look like the other answer if you want to delete specific element.</p>\n<pre><code>import java.util.Arrays;\nclass Main {\n  public static int[] add(int[] arr, int val) {\n      int[] newArray = Arrays.copyOf(arr, arr.length + 1);\n      newArray[arr.length] = val;\n      return newArray;\n   }\n   public static int[] del(int[] arr) {\n      return Arrays.copyOf(arr, arr.length - 1);\n   }\n   public static void main(String[] args) {\n      int[] a = { 1, 2, 3 };\n      System.out.println(Arrays.toString(a));\n      a = add(a, 4);\n      System.out.println(Arrays.toString(a));\n      a = del(a);\n      System.out.println(Arrays.toString(a));\n   }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>[1, 2, 3]\n[1, 2, 3, 4]\n[1, 2, 3]\n</code></pre>\n"}],"owner":{"account_id":26048611,"reputation":3,"user_id":19752262,"display_name":"TheCPPGuy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73367482,"answer_count":2,"score":0,"last_activity_date":1660665306,"creation_date":1660603396,"question_id":73367092,"body_markdown":"I made this code with some help, and am new to Java. I was wondering if I can remove and add something to an array. I tried to add a digit to the end of a array but i&#39;m trying to remove it. To make it a challenge I don&#39;t want to use the old array variable. I didn&#39;t import the ```java.util``` for the ```add{}``` statement and it worked fine, but when I add it for the delete method the code stopped entirely. I spent a few days trying to figure this out, by looking online on multiple sites to see what I can do as well as asked a couple of schoolmates how (because they learned Java), but they couldn&#39;t figure it out either. I&#39;m learning Java on the side in elementary school so I can be a Game maker so I want to finish this before summer ends. How do I make it so I can print the deleted array after the added one. I learned about array lists, but I saw online about Static Methods. How do I do it with that? I put the code on the bottom. This one doesn&#39;t have the import so its half working.\r\n```\r\npublic class Arrays {\r\n\r\n  public static int[] add(int[] arr, int val) {\r\n    int[] newArray = java.util.Arrays.copyOf(arr, arr.length + 1);\r\n    newArray[arr.length] = val;\r\n    return newArray;\r\n}\r\npublic static int[] del() {\r\n int[] del_arrays = {1, 2, 3};\r\n int[] DelArray = java.util.Arrays.removeElement(del_arrays [-1] );\r\n return DelArray;\r\n}\r\n\r\n\r\npublic static void main(String[] args) {\r\n    int[] array = { 1, 2, 3 };\r\n    System.out.println(java.util.Arrays.toString(array));\r\n    int[] new_array = add(array, 4);\r\n    System.out.println(java.util.Arrays.toString(new_array));\r\n    del();\r\n   \r\n}\r\n \r\n\r\n} \r\n```\r\nTerminal\r\n```\r\n/usr/bin/env /Library/Java/JavaVirtualMachines/jdk-18.0.1.1.jdk/Contents/Home/\r\nbin/java -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:52122 --enable-preview -XX:+Sho\r\nwCodeDetailsInExceptionMessages -cp /private/var/folders/hx/s_5smg5s6510w9_szj6xk8200000gn/T/vscodesws_37f78/jdt\r\n_ws/jdt.ls-java-project/bin Arrays \r\n[1, 2, 3]\r\n[1, 2, 3, 4]\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n        The method removeElement(int) is undefined for the type Arrays\r\n\r\n        at Arrays.del(Arrays.java:11)\r\n        at Arrays.main(Arrays.java:21)\r\naadavnnimalthas@Aadavns-iMac ~ % \r\n```\r\nProblems Section\r\n```\r\nArrays.java \r\nArrays.java is a non project file, only syntax errors are reported\r\n```\r\nI am using Visual Studio on a iMac","title":"How do I delete the last element of an array without conflicting another add method?","body":"<p>I made this code with some help, and am new to Java. I was wondering if I can remove and add something to an array. I tried to add a digit to the end of a array but i'm trying to remove it. To make it a challenge I don't want to use the old array variable. I didn't import the <code>java.util</code> for the <code>add{}</code> statement and it worked fine, but when I add it for the delete method the code stopped entirely. I spent a few days trying to figure this out, by looking online on multiple sites to see what I can do as well as asked a couple of schoolmates how (because they learned Java), but they couldn't figure it out either. I'm learning Java on the side in elementary school so I can be a Game maker so I want to finish this before summer ends. How do I make it so I can print the deleted array after the added one. I learned about array lists, but I saw online about Static Methods. How do I do it with that? I put the code on the bottom. This one doesn't have the import so its half working.</p>\n<pre><code>public class Arrays {\n\n  public static int[] add(int[] arr, int val) {\n    int[] newArray = java.util.Arrays.copyOf(arr, arr.length + 1);\n    newArray[arr.length] = val;\n    return newArray;\n}\npublic static int[] del() {\n int[] del_arrays = {1, 2, 3};\n int[] DelArray = java.util.Arrays.removeElement(del_arrays [-1] );\n return DelArray;\n}\n\n\npublic static void main(String[] args) {\n    int[] array = { 1, 2, 3 };\n    System.out.println(java.util.Arrays.toString(array));\n    int[] new_array = add(array, 4);\n    System.out.println(java.util.Arrays.toString(new_array));\n    del();\n   \n}\n \n\n} \n</code></pre>\n<p>Terminal</p>\n<pre><code>/usr/bin/env /Library/Java/JavaVirtualMachines/jdk-18.0.1.1.jdk/Contents/Home/\nbin/java -agentlib:jdwp=transport=dt_socket,server=n,suspend=y,address=localhost:52122 --enable-preview -XX:+Sho\nwCodeDetailsInExceptionMessages -cp /private/var/folders/hx/s_5smg5s6510w9_szj6xk8200000gn/T/vscodesws_37f78/jdt\n_ws/jdt.ls-java-project/bin Arrays \n[1, 2, 3]\n[1, 2, 3, 4]\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n        The method removeElement(int) is undefined for the type Arrays\n\n        at Arrays.del(Arrays.java:11)\n        at Arrays.main(Arrays.java:21)\naadavnnimalthas@Aadavns-iMac ~ % \n</code></pre>\n<p>Problems Section</p>\n<pre><code>Arrays.java \nArrays.java is a non project file, only syntax errors are reported\n</code></pre>\n<p>I am using Visual Studio on a iMac</p>\n"},{"tags":["java","android","android-studio","android-camera","wide-angle"],"comments":[{"owner":{"account_id":14590392,"reputation":141,"user_id":10537729,"display_name":"Priyaank"},"score":0,"creation_date":1660670840,"post_id":73376863,"comment_id":129585425,"body_markdown":"[This](https://stackoverflow.com/questions/59590411/on-android-how-to-capture-image-video-from-the-wide-angle-camera) might help","body":"<a href=\"https://stackoverflow.com/questions/59590411/on-android-how-to-capture-image-video-from-the-wide-angle-camera\">This</a> might help"},{"owner":{"account_id":24799492,"reputation":11,"user_id":18681986,"display_name":"m0ntr3"},"score":0,"creation_date":1660729442,"post_id":73376863,"comment_id":129599273,"body_markdown":"depricated methods and the thread is old","body":"depricated methods and the thread is old"}],"owner":{"account_id":24799492,"reputation":11,"user_id":18681986,"display_name":"m0ntr3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660665280,"creation_date":1660665280,"question_id":73376863,"body_markdown":"Im quite new to Android and I&#39;m looking to find a way how to access the wide angle camera. I know how to list all my cameras on a certain device and I know how to see which camera I&#39;m opening. I need to know how to set my camera to open the wide angle one. Thanks in advance ! I also read everything in android developers but there is nothing mentioning about the wide angle camera. And this is how I&#39;m opening/activating my camera. \r\n\r\n    public class CameraActivity extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;cam&quot;;\r\n        private String lastImageUri;\r\n        private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderListenableFuture;\r\n        private ImageCapture imageCapture;\r\n        private PreviewView previewView;\r\n        private PermissionManager permissionManager;\r\n        private final String[] permissions = {Manifest.permission.CAMERA,\r\n                Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE};\r\n        private Uri fileUri;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_camera);\r\n    \r\n            Button buttonCameraSelectToDeleteImage = (Button) findViewById(R.id.buttonDeleteImage);\r\n            Button button = (Button) findViewById(R.id.buttonMain);\r\n            previewView = findViewById(R.id.previewView);\r\n            permissionManager = PermissionManager.getInstance(CameraActivity.this);\r\n            cameraProviderListenableFuture = ProcessCameraProvider.getInstance(getApplicationContext());\r\n    \r\n            cameraProviderListenableFuture.addListener(() -&gt; {\r\n                try {\r\n                    ProcessCameraProvider cameraProvider = cameraProviderListenableFuture.get();\r\n                    startCameraX(cameraProvider);\r\n                } catch (ExecutionException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }, getExecutor());\r\n    \r\n            Button buttonCameraSelectToMakeAndSavePhoto = (Button) findViewById(R.id.buttonCameraSelectToMakeAndSavePhoto);\r\n            buttonCameraSelectToMakeAndSavePhoto.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (!permissionManager.checkPermissions(permissions)) {\r\n                        permissionManager.askPermission(CameraActivity.this, permissions, 100);\r\n                    } else {\r\n                        capturePhoto();\r\n                    }\r\n                }\r\n            });\r\n    \r\n            buttonCameraSelectToDeleteImage.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    CommonPropertiesArray.arrayOfUriStrings.remove(lastImageUri);\r\n                }\r\n            });\r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(CameraActivity.this, AddInternActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n    //        Context context = CameraActivity.this;\r\n    //        CameraManager manager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\r\n    //        try {\r\n    //            String[] cameraIds = manager.getCameraIdList();\r\n    //            Log.d(&quot;cameraIds&quot;, Arrays.toString(cameraIds));\r\n    //        } catch (CameraAccessException e) {\r\n    //            e.printStackTrace();\r\n    //        }\r\n        }\r\n    \r\n        private Executor getExecutor() {\r\n            return ContextCompat.getMainExecutor(this);\r\n        }\r\n    \r\n        private void startCameraX(ProcessCameraProvider cameraProvider) {\r\n            cameraProvider.unbindAll();\r\n            // Camera Selector use case\r\n            CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                    .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                    .build();\r\n            // Preview use case\r\n            Preview preview = new Preview.Builder().build();\r\n            preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n            // Image capture use case\r\n            imageCapture = new ImageCapture.Builder()\r\n                    .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\r\n                    .build();\r\n            cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageCapture);\r\n        }\r\n    \r\n        private void capturePhoto() {\r\n    \r\n            long timeStamp = System.currentTimeMillis();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timeStamp);\r\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\r\n            imageCapture.takePicture(\r\n                    new ImageCapture.OutputFileOptions.Builder(\r\n                            getContentResolver(),\r\n                            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                            contentValues\r\n                    ).build(),\r\n                    getExecutor(),\r\n                    new ImageCapture.OnImageSavedCallback() {\r\n                        @Override\r\n                        public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\r\n                            if (CommonPropertiesArray.arrayOfUriStrings.size() &lt; 3) {\r\n                                fileUri = (outputFileResults.getSavedUri());\r\n                                lastImageUri = String.valueOf(fileUri);\r\n                                CommonPropertiesArray.arrayOfUriStrings.add(lastImageUri);\r\n                                Toast.makeText(CameraActivity.this, &quot;Photo has been save successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                            } else {\r\n                                Toast.makeText(CameraActivity.this, &quot;You can make max 3 picture&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onError(@NonNull ImageCaptureException exception) {\r\n                            Toast.makeText(CameraActivity.this, &quot;Error saving photo: &quot; + exception.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == 100) {\r\n                permissionManager.handlePermissionResult(CameraActivity.this, 100, permissions,\r\n                        grantResults);\r\n            }\r\n        }","title":"How to access programmatically wide angle camera in android studio?","body":"<p>Im quite new to Android and I'm looking to find a way how to access the wide angle camera. I know how to list all my cameras on a certain device and I know how to see which camera I'm opening. I need to know how to set my camera to open the wide angle one. Thanks in advance ! I also read everything in android developers but there is nothing mentioning about the wide angle camera. And this is how I'm opening/activating my camera.</p>\n<pre><code>public class CameraActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;cam&quot;;\n    private String lastImageUri;\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderListenableFuture;\n    private ImageCapture imageCapture;\n    private PreviewView previewView;\n    private PermissionManager permissionManager;\n    private final String[] permissions = {Manifest.permission.CAMERA,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE};\n    private Uri fileUri;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_camera);\n\n        Button buttonCameraSelectToDeleteImage = (Button) findViewById(R.id.buttonDeleteImage);\n        Button button = (Button) findViewById(R.id.buttonMain);\n        previewView = findViewById(R.id.previewView);\n        permissionManager = PermissionManager.getInstance(CameraActivity.this);\n        cameraProviderListenableFuture = ProcessCameraProvider.getInstance(getApplicationContext());\n\n        cameraProviderListenableFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderListenableFuture.get();\n                startCameraX(cameraProvider);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, getExecutor());\n\n        Button buttonCameraSelectToMakeAndSavePhoto = (Button) findViewById(R.id.buttonCameraSelectToMakeAndSavePhoto);\n        buttonCameraSelectToMakeAndSavePhoto.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!permissionManager.checkPermissions(permissions)) {\n                    permissionManager.askPermission(CameraActivity.this, permissions, 100);\n                } else {\n                    capturePhoto();\n                }\n            }\n        });\n\n        buttonCameraSelectToDeleteImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                CommonPropertiesArray.arrayOfUriStrings.remove(lastImageUri);\n            }\n        });\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(CameraActivity.this, AddInternActivity.class);\n                startActivity(intent);\n            }\n        });\n\n//        Context context = CameraActivity.this;\n//        CameraManager manager = (CameraManager) context.getSystemService(Context.CAMERA_SERVICE);\n//        try {\n//            String[] cameraIds = manager.getCameraIdList();\n//            Log.d(&quot;cameraIds&quot;, Arrays.toString(cameraIds));\n//        } catch (CameraAccessException e) {\n//            e.printStackTrace();\n//        }\n    }\n\n    private Executor getExecutor() {\n        return ContextCompat.getMainExecutor(this);\n    }\n\n    private void startCameraX(ProcessCameraProvider cameraProvider) {\n        cameraProvider.unbindAll();\n        // Camera Selector use case\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                .build();\n        // Preview use case\n        Preview preview = new Preview.Builder().build();\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n        // Image capture use case\n        imageCapture = new ImageCapture.Builder()\n                .setCaptureMode(ImageCapture.CAPTURE_MODE_MINIMIZE_LATENCY)\n                .build();\n        cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageCapture);\n    }\n\n    private void capturePhoto() {\n\n        long timeStamp = System.currentTimeMillis();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timeStamp);\n        contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;image/jpeg&quot;);\n        imageCapture.takePicture(\n                new ImageCapture.OutputFileOptions.Builder(\n                        getContentResolver(),\n                        MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n                        contentValues\n                ).build(),\n                getExecutor(),\n                new ImageCapture.OnImageSavedCallback() {\n                    @Override\n                    public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                        if (CommonPropertiesArray.arrayOfUriStrings.size() &lt; 3) {\n                            fileUri = (outputFileResults.getSavedUri());\n                            lastImageUri = String.valueOf(fileUri);\n                            CommonPropertiesArray.arrayOfUriStrings.add(lastImageUri);\n                            Toast.makeText(CameraActivity.this, &quot;Photo has been save successfully&quot;, Toast.LENGTH_SHORT).show();\n                        } else {\n                            Toast.makeText(CameraActivity.this, &quot;You can make max 3 picture&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n                    @Override\n                    public void onError(@NonNull ImageCaptureException exception) {\n                        Toast.makeText(CameraActivity.this, &quot;Error saving photo: &quot; + exception.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n        );\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == 100) {\n            permissionManager.handlePermissionResult(CameraActivity.this, 100, permissions,\n                    grantResults);\n        }\n    }\n</code></pre>\n"},{"tags":["java","annotations","comments","highlight","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1443046464,"creation_date":1443046464,"answer_id":32750395,"question_id":32741468,"body_markdown":"Assuming that you have a PDPage object, just do this:\r\n\r\n    pdPage.setAnnotations(null);\r\n\r\nHere&#39;s the full code for the 1.8.* versions of PDFBox:\r\n\r\n    PDDocument document = PDDocument.loadNonSeq(new File(pdfFilename), null);\r\n    List&lt;PDPage&gt; pdPages = document.getDocumentCatalog().getAllPages();\r\n    for (PDPage pdPage : pdPages)\r\n    { \r\n        pdPage.setAnnotations(null);\r\n    }\r\n    document.save(new File(...));\r\n    document.close();\r\n\r\n\r\n    ","title":"How to delete annotations in PDF file using PDFBox","body":"<p>Assuming that you have a PDPage object, just do this:</p>\n\n<pre><code>pdPage.setAnnotations(null);\n</code></pre>\n\n<p>Here's the full code for the 1.8.* versions of PDFBox:</p>\n\n<pre><code>PDDocument document = PDDocument.loadNonSeq(new File(pdfFilename), null);\nList&lt;PDPage&gt; pdPages = document.getDocumentCatalog().getAllPages();\nfor (PDPage pdPage : pdPages)\n{ \n    pdPage.setAnnotations(null);\n}\ndocument.save(new File(...));\ndocument.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18744639,"reputation":11,"user_id":13667146,"display_name":"Szemere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660664929,"creation_date":1660664929,"answer_id":73376781,"question_id":32741468,"body_markdown":"For 3.0.0-alpha3 version of PDFBox, this is now:\r\n```\r\ntry (PDDocument document = Loader.loadPDF(new File(inputPdf))) {\r\n  PDPageTree pdPages = document.getDocumentCatalog().getPages();\r\n  for (PDPage pdPage : pdPages) { \r\n    pdPage.setAnnotations(new ArrayList&lt;PDAnnotation&gt;());\r\n  }\r\n  document.save(new File(outputPdf));\r\n  document.close();\r\n} catch (IOException e) {\r\n  throw new RuntimeException(e);\r\n}\r\n```","title":"How to delete annotations in PDF file using PDFBox","body":"<p>For 3.0.0-alpha3 version of PDFBox, this is now:</p>\n<pre><code>try (PDDocument document = Loader.loadPDF(new File(inputPdf))) {\n  PDPageTree pdPages = document.getDocumentCatalog().getPages();\n  for (PDPage pdPage : pdPages) { \n    pdPage.setAnnotations(new ArrayList&lt;PDAnnotation&gt;());\n  }\n  document.save(new File(outputPdf));\n  document.close();\n} catch (IOException e) {\n  throw new RuntimeException(e);\n}\n</code></pre>\n"}],"owner":{"account_id":6963360,"reputation":101,"user_id":5342176,"accept_rate":17,"display_name":"user5342176"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2532,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":32750395,"answer_count":2,"score":1,"last_activity_date":1660664929,"creation_date":1443016184,"question_id":32741468,"body_markdown":"I would like to remove all the existing annotations in the PDF file. I could not find any direct method or API in PDFBox Annotaions API.  Please provide any pointers to resolve the issue.\r\n\r\nThanks in advance for your help. \r\n","title":"How to delete annotations in PDF file using PDFBox","body":"<p>I would like to remove all the existing annotations in the PDF file. I could not find any direct method or API in PDFBox Annotaions API.  Please provide any pointers to resolve the issue.</p>\n\n<p>Thanks in advance for your help. </p>\n"},{"tags":["java","gtfs","gtfstools"],"answers":[{"tags":[],"owner":{"account_id":30991,"reputation":7647,"user_id":84818,"accept_rate":71,"display_name":"Brian Ferris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660664870,"creation_date":1660664870,"answer_id":73376767,"question_id":73082199,"body_markdown":"That method definitely won&#39;t help you achieve your stated goal.  The `setAgencies()` method is really an internal method that was maybe added to support some edge-cases of loading multiple GTFS feeds with overlapping agencies.\r\n\r\nFor your request, I&#39;m assuming when you say &quot;only interested in a few agencies&quot;, that you really mean you are interested in specific agencies plus the routes, trips, stop-times, stops, etc associated with those agencies, yes?\r\n\r\nIf so, there is no specific way to do that at GTFS read time using the base reader methods in the OneBusAway GTFS library.  And to your larger point of wanting to avoid reading the entire GTFS file for just the data you care about, this is kind of hard to avoid.  Namely, you&#39;ll likely have to process each line in each file in a GTFS feed no matter what in order to determine which entities are associated with the agencies you care about.  You may end up discarding non-relevant entities, saving some memory, but still.\r\n\r\nI know you said &quot;no CLI&quot; but I did want to mention the [OneBusAway GTFS Transformer tool](http://developer.onebusaway.org/modules/onebusaway-gtfs-modules/current/onebusaway-gtfs-transformer-cli.html).  This is a general library for doing procedural modifications to GTFS files.  It includes a &quot;[retain](http://developer.onebusaway.org/modules/onebusaway-gtfs-modules/current/onebusaway-gtfs-transformer-cli.html#Retain_an_Entity)&quot; operation that basically allows you to &quot;retain&quot; an agency and all data associated with it, producing a minimal GTFS feed.  You could use this tool to create a minimal GTFS feed that would speed up loading later, at the expense of loading now.  While the tool is designed as a command-line application, it can also be embedded as a library.","title":"OneBusAway GtfsReader.setAgencies() does exactly the opposite of what would be expected","body":"<p>That method definitely won't help you achieve your stated goal.  The <code>setAgencies()</code> method is really an internal method that was maybe added to support some edge-cases of loading multiple GTFS feeds with overlapping agencies.</p>\n<p>For your request, I'm assuming when you say &quot;only interested in a few agencies&quot;, that you really mean you are interested in specific agencies plus the routes, trips, stop-times, stops, etc associated with those agencies, yes?</p>\n<p>If so, there is no specific way to do that at GTFS read time using the base reader methods in the OneBusAway GTFS library.  And to your larger point of wanting to avoid reading the entire GTFS file for just the data you care about, this is kind of hard to avoid.  Namely, you'll likely have to process each line in each file in a GTFS feed no matter what in order to determine which entities are associated with the agencies you care about.  You may end up discarding non-relevant entities, saving some memory, but still.</p>\n<p>I know you said &quot;no CLI&quot; but I did want to mention the <a href=\"http://developer.onebusaway.org/modules/onebusaway-gtfs-modules/current/onebusaway-gtfs-transformer-cli.html\" rel=\"nofollow noreferrer\">OneBusAway GTFS Transformer tool</a>.  This is a general library for doing procedural modifications to GTFS files.  It includes a &quot;<a href=\"http://developer.onebusaway.org/modules/onebusaway-gtfs-modules/current/onebusaway-gtfs-transformer-cli.html#Retain_an_Entity\" rel=\"nofollow noreferrer\">retain</a>&quot; operation that basically allows you to &quot;retain&quot; an agency and all data associated with it, producing a minimal GTFS feed.  You could use this tool to create a minimal GTFS feed that would speed up loading later, at the expense of loading now.  While the tool is designed as a command-line application, it can also be embedded as a library.</p>\n"}],"owner":{"account_id":3174200,"reputation":2396,"user_id":2682472,"accept_rate":90,"display_name":"Florian Baierl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73376767,"answer_count":1,"score":0,"last_activity_date":1660664870,"creation_date":1658501241,"question_id":73082199,"body_markdown":"**What we want to achieve:**\r\n\r\nWe need to parse GTFS files but are only interested in a few agencies inside of that GTFS file. Since parsing the GTFS file takes quite a long time (depending on how many agencies/routes/trips are included in that GTFS file), it would be very helpful to specify which agencies we are interested in before parsing the whole file.\r\n\r\n**What we tried:**\r\n\r\nUsing the [onebusaway-gtfs-modules][1] one can parse a GTFS file like this:\r\n\r\n```\r\nGtfsReader reader = new GtfsReader();\r\nFile gtfsFile = gtfsResourceVetterAndThuesac.getFile(); // a GTFS file containing three agencies\r\nGtfsDaoImpl store = new GtfsDaoImpl();\r\nreader.run(); // blocking\r\n```\r\n\r\nThe reader also offers a method called `void setAgencies(List&lt;Agency&gt; agencies)` which is not documented, but sounds a lot like what we wont to achieve.\r\n\r\nI created a GTFS file that only contains three agencies:\r\n\r\nagencies.txt:\r\n```\r\nagency_id,agency_name,agency_url,agency_timezone,agency_lang\r\n00786,TH&#220;SAC,https://www.nasa.de/vu/,Europe/Berlin,de\r\n00846,Vetter Verkehrsbetriebe,https://www.nasa.de/vu/,Europe/Berlin,de\r\n00847,Vetter GmbH,https://www.nasa.de/vu/,Europe/Berlin,de\r\n```\r\n\r\nNow when I try using that with setting the agencies for the reader to &quot;00786&quot;, I get the exact opposite of what I wanted to achieve. The result is that the reader read all agencies **apart from the one I specified**:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs this supposed to what is happening? Or is this a bug within the onebusaway reader? Is there another way (preferebly with using java methods, no cli calls) to achieve what we want?\r\n\r\n\r\n  [1]: https://github.com/OneBusAway/onebusaway-gtfs-modules\r\n  [2]: https://i.stack.imgur.com/FE3hl.png\r\n  [3]: https://i.stack.imgur.com/aqx1g.png","title":"OneBusAway GtfsReader.setAgencies() does exactly the opposite of what would be expected","body":"<p><strong>What we want to achieve:</strong></p>\n<p>We need to parse GTFS files but are only interested in a few agencies inside of that GTFS file. Since parsing the GTFS file takes quite a long time (depending on how many agencies/routes/trips are included in that GTFS file), it would be very helpful to specify which agencies we are interested in before parsing the whole file.</p>\n<p><strong>What we tried:</strong></p>\n<p>Using the <a href=\"https://github.com/OneBusAway/onebusaway-gtfs-modules\" rel=\"nofollow noreferrer\">onebusaway-gtfs-modules</a> one can parse a GTFS file like this:</p>\n<pre><code>GtfsReader reader = new GtfsReader();\nFile gtfsFile = gtfsResourceVetterAndThuesac.getFile(); // a GTFS file containing three agencies\nGtfsDaoImpl store = new GtfsDaoImpl();\nreader.run(); // blocking\n</code></pre>\n<p>The reader also offers a method called <code>void setAgencies(List&lt;Agency&gt; agencies)</code> which is not documented, but sounds a lot like what we wont to achieve.</p>\n<p>I created a GTFS file that only contains three agencies:</p>\n<p>agencies.txt:</p>\n<pre><code>agency_id,agency_name,agency_url,agency_timezone,agency_lang\n00786,THSAC,https://www.nasa.de/vu/,Europe/Berlin,de\n00846,Vetter Verkehrsbetriebe,https://www.nasa.de/vu/,Europe/Berlin,de\n00847,Vetter GmbH,https://www.nasa.de/vu/,Europe/Berlin,de\n</code></pre>\n<p>Now when I try using that with setting the agencies for the reader to &quot;00786&quot;, I get the exact opposite of what I wanted to achieve. The result is that the reader read all agencies <strong>apart from the one I specified</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/FE3hl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FE3hl.png\" alt=\"enter image description here\" /></a></p>\n<p>Is this supposed to what is happening? Or is this a bug within the onebusaway reader? Is there another way (preferebly with using java methods, no cli calls) to achieve what we want?</p>\n"},{"tags":["java","json","spring","spring-mvc","jackson"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1660657104,"post_id":73374777,"comment_id":129579891,"body_markdown":"Your `Ad` class seems to be missing the proper mapping. It would require an `ad` property to be present in the JSON but your JSON indicates the name of the nested map shouldn&#39;t be there. You might need to use the `@JsonAnySetter` etc. annotations to &quot;route&quot; the properties of each &quot;ad&quot; into the `Ad.ad` map. - This might help: https://stackoverflow.com/questions/57312679/jackson-hashmap-ignore-map-name-when-writing-to-string","body":"Your <code>Ad</code> class seems to be missing the proper mapping. It would require an <code>ad</code> property to be present in the JSON but your JSON indicates the name of the nested map shouldn&#39;t be there. You might need to use the <code>@JsonAnySetter</code> etc. annotations to &quot;route&quot; the properties of each &quot;ad&quot; into the <code>Ad.ad</code> map. - This might help: <a href=\"https://stackoverflow.com/questions/57312679/jackson-hashmap-ignore-map-name-when-writing-to-string\" title=\"jackson hashmap ignore map name when writing to string\">stackoverflow.com/questions/57312679/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660664765,"creation_date":1660663688,"answer_id":73376498,"question_id":73374777,"body_markdown":"You don&#39;t actually need the `Ad` class, it&#39;s just a `Map&lt;&gt;`. `AdResponse` can look like this:\r\n\r\n```java\r\npublic class AdsResponse {\r\n\r\n\t@JsonProperty(&quot;ads&quot;)\r\n\tList&lt;Map&lt;String, AdInfo&gt;&gt; ads;\r\n\r\n\t@JsonProperty(&quot;total_duration&quot;)\r\n\tlong totalDuration;\r\n```\r\n\r\nIf the keys in the map were predictable, you could make them properties on the `Ad` class and then Jackson would map them properly. But since they&#39;re not (they look like some kind of ID), mapping them to a `Map&lt;&gt;` is probably the best option.\r\n\r\nAs an alternative, if you want or need to have the `Ad` objects, you can map them like this:\r\n\r\n```java\r\npublic class Ad {\r\n\r\n\tMap&lt;String, AdInfo&gt; adInfo = new HashMap&lt;&gt;();\r\n\r\n\t@JsonAnySetter\r\n\tpublic void setAds(String key, AdInfo value) {\r\n\t\tadInfo.put(key, value);\r\n\t}\r\n}\r\n```\r\n\r\nWith that, **_and `AdResponse` defined the way you have it in the question_**, you&#39;ll get populated `Ad` instances, each of which has a `Map&lt;&gt;` with only 1 key/value pair. For an even simpler (and probably more sensible model, you can eliminate the `Map` if there is only ever 1 key in an `Ad`, like this:\r\n\r\n```java\r\npublic class Ad {\r\n\r\n\tprivate AdInfo adInfo;\r\n\r\n\t@JsonAnySetter\r\n\tpublic void setAdInfo(String ignored, AdInfo value) {\r\n\t\tthis.adInfo = value;\r\n\t}\r\n}\r\n```","title":"JSON parsing using jackson in spring?","body":"<p>You don't actually need the <code>Ad</code> class, it's just a <code>Map&lt;&gt;</code>. <code>AdResponse</code> can look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AdsResponse {\n\n    @JsonProperty(&quot;ads&quot;)\n    List&lt;Map&lt;String, AdInfo&gt;&gt; ads;\n\n    @JsonProperty(&quot;total_duration&quot;)\n    long totalDuration;\n</code></pre>\n<p>If the keys in the map were predictable, you could make them properties on the <code>Ad</code> class and then Jackson would map them properly. But since they're not (they look like some kind of ID), mapping them to a <code>Map&lt;&gt;</code> is probably the best option.</p>\n<p>As an alternative, if you want or need to have the <code>Ad</code> objects, you can map them like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ad {\n\n    Map&lt;String, AdInfo&gt; adInfo = new HashMap&lt;&gt;();\n\n    @JsonAnySetter\n    public void setAds(String key, AdInfo value) {\n        adInfo.put(key, value);\n    }\n}\n</code></pre>\n<p>With that, <strong><em>and <code>AdResponse</code> defined the way you have it in the question</em></strong>, you'll get populated <code>Ad</code> instances, each of which has a <code>Map&lt;&gt;</code> with only 1 key/value pair. For an even simpler (and probably more sensible model, you can eliminate the <code>Map</code> if there is only ever 1 key in an <code>Ad</code>, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ad {\n\n    private AdInfo adInfo;\n\n    @JsonAnySetter\n    public void setAdInfo(String ignored, AdInfo value) {\n        this.adInfo = value;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3030715,"reputation":11451,"user_id":2569793,"accept_rate":58,"display_name":"WISHY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73376498,"answer_count":1,"score":0,"last_activity_date":1660664765,"creation_date":1660656411,"question_id":73374777,"body_markdown":"I have the following JSON\r\n\r\n    {\r\n      &quot;ads&quot;: [\r\n        {\r\n      &quot;228029_228029&quot;: {\r\n        &quot;ad_id&quot;: &quot;228029&quot;,\r\n        &quot;duration&quot;: 10,\r\n        &quot;m3u8_text&quot;: {\r\n          &quot;_1280p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:7\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.120000,\\n_1280p_0000.ts\\n#EXTINF:2.880000,\\n_1280p_0001.ts\\n#EXT-X-ENDLIST\\n&quot;,\r\n          &quot;_320p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:7\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.120000,\\n_320p_0000.ts\\n#EXTINF:2.880000,\\n_320p_0001.ts\\n#EXT-X-ENDLIST\\n&quot;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;228845_228845&quot;: {\r\n        &quot;ad_id&quot;: &quot;228845&quot;,\r\n        &quot;duration&quot;: 24,\r\n        &quot;m3u8_text&quot;: {\r\n          &quot;_1280p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:8\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.840000,\\n_1280p_0000.ts\\n#EXTINF:6.880000,\\n_1280p_0001.ts\\n#EXTINF:6.680000,\\n_1280p_0002.ts\\n#EXTINF:2.600000,\\n_1280p_0003.ts\\n#EXT-X-ENDLIST\\n&quot;,\r\n          &quot;_320p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:8\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.840000,\\n_320p_0000.ts\\n#EXTINF:6.880000,\\n_320p_0001.ts\\n#EXTINF:6.680000,\\n_320p_0002.ts\\n#EXTINF:2.600000,\\n_320p_0003.ts\\n#EXT-X-ENDLIST\\n&quot;\r\n        }\r\n      }\r\n    }\r\n      ],\r\n      &quot;total_duration&quot;: 80\r\n    }\r\n\r\nI have created the respective model class as \r\nThis is the root model\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class AdsResponse {\r\n\t@JsonProperty(&quot;ads&quot;)\r\n\tList&lt;Ad&gt; ads;\r\n\t@JsonProperty(&quot;total_duration&quot;)\r\n\tlong totalDuration;\r\n    }\r\n\r\nThen the ads model\r\n\r\n    public class Ad {\r\n    Map&lt;String,AdInfo&gt; ad;}\r\n\r\nThen the AdInfo model\r\n\r\n    public class AdInfo {\r\n    @JsonProperty(&quot;m3u8_text&quot;)\r\n    AdManifest adManifest;\r\n    int duration;\r\n    @JsonProperty(&quot;ad_id&quot;)\r\n    String adId;}\r\n\r\nThen the manifest model\r\n\r\n    public class AdManifest {\r\n    @JsonProperty(&quot;_1280p&quot;)\r\n    String _1280p;\r\n    @JsonProperty(&quot;_320p&quot;)\r\n    String _320p;}\r\n\r\nWhen I try to parse this using below code\r\n\r\n    AdsResponse response = new ObjectMapper().readValue(\r\n\t\t\t\t\tres,\r\n\t\t\t\t\tAdsResponse.class);\r\n\r\nI get the empy ad object\r\n\r\n    AdsResponse{ads=[Ad{ad=null}, Ad{ad=null}, totalDuration=80}\r\n\r\nWhat is wrong here?","title":"JSON parsing using jackson in spring?","body":"<p>I have the following JSON</p>\n<pre><code>{\n  &quot;ads&quot;: [\n    {\n  &quot;228029_228029&quot;: {\n    &quot;ad_id&quot;: &quot;228029&quot;,\n    &quot;duration&quot;: 10,\n    &quot;m3u8_text&quot;: {\n      &quot;_1280p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:7\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.120000,\\n_1280p_0000.ts\\n#EXTINF:2.880000,\\n_1280p_0001.ts\\n#EXT-X-ENDLIST\\n&quot;,\n      &quot;_320p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:7\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.120000,\\n_320p_0000.ts\\n#EXTINF:2.880000,\\n_320p_0001.ts\\n#EXT-X-ENDLIST\\n&quot;\n    }\n  }\n},\n{\n  &quot;228845_228845&quot;: {\n    &quot;ad_id&quot;: &quot;228845&quot;,\n    &quot;duration&quot;: 24,\n    &quot;m3u8_text&quot;: {\n      &quot;_1280p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:8\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.840000,\\n_1280p_0000.ts\\n#EXTINF:6.880000,\\n_1280p_0001.ts\\n#EXTINF:6.680000,\\n_1280p_0002.ts\\n#EXTINF:2.600000,\\n_1280p_0003.ts\\n#EXT-X-ENDLIST\\n&quot;,\n      &quot;_320p&quot;: &quot;#EXTM3U\\n#EXT-X-VERSION:3\\n#EXT-X-ALLOW-CACHE:YES\\n#EXT-X-TARGETDURATION:8\\n#EXT-X-MEDIA-SEQUENCE:0\\n#EXTINF:7.840000,\\n_320p_0000.ts\\n#EXTINF:6.880000,\\n_320p_0001.ts\\n#EXTINF:6.680000,\\n_320p_0002.ts\\n#EXTINF:2.600000,\\n_320p_0003.ts\\n#EXT-X-ENDLIST\\n&quot;\n    }\n  }\n}\n  ],\n  &quot;total_duration&quot;: 80\n}\n</code></pre>\n<p>I have created the respective model class as\nThis is the root model</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class AdsResponse {\n@JsonProperty(&quot;ads&quot;)\nList&lt;Ad&gt; ads;\n@JsonProperty(&quot;total_duration&quot;)\nlong totalDuration;\n}\n</code></pre>\n<p>Then the ads model</p>\n<pre><code>public class Ad {\nMap&lt;String,AdInfo&gt; ad;}\n</code></pre>\n<p>Then the AdInfo model</p>\n<pre><code>public class AdInfo {\n@JsonProperty(&quot;m3u8_text&quot;)\nAdManifest adManifest;\nint duration;\n@JsonProperty(&quot;ad_id&quot;)\nString adId;}\n</code></pre>\n<p>Then the manifest model</p>\n<pre><code>public class AdManifest {\n@JsonProperty(&quot;_1280p&quot;)\nString _1280p;\n@JsonProperty(&quot;_320p&quot;)\nString _320p;}\n</code></pre>\n<p>When I try to parse this using below code</p>\n<pre><code>AdsResponse response = new ObjectMapper().readValue(\n                res,\n                AdsResponse.class);\n</code></pre>\n<p>I get the empy ad object</p>\n<pre><code>AdsResponse{ads=[Ad{ad=null}, Ad{ad=null}, totalDuration=80}\n</code></pre>\n<p>What is wrong here?</p>\n"},{"tags":["java","arrays","json"],"answers":[{"tags":[],"owner":{"account_id":6467189,"reputation":132,"user_id":5008664,"display_name":"qdoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660664731,"creation_date":1660664731,"answer_id":73376731,"question_id":73376353,"body_markdown":"You&#39;re missing the referenced type. This will work:\r\n\r\n    List&lt;PaymentObject&gt; paymentObjectDTOs =mapper.readValue(apiResponse.getData(), new TypeReference&lt;List&lt;PaymentObject&gt;&gt;(){});\r\n\r\nBut make sure you&#39;ve all the getters and setters methods on the PaymentObject class, as well as the default constructor.\r\n\t\t","title":"Unable to convert a json array into java list","body":"<p>You're missing the referenced type. This will work:</p>\n<pre><code>List&lt;PaymentObject&gt; paymentObjectDTOs =mapper.readValue(apiResponse.getData(), new TypeReference&lt;List&lt;PaymentObject&gt;&gt;(){});\n</code></pre>\n<p>But make sure you've all the getters and setters methods on the PaymentObject class, as well as the default constructor.</p>\n"}],"owner":{"account_id":23966185,"reputation":31,"user_id":17955651,"display_name":"helloabc123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660664731,"creation_date":1660662914,"question_id":73376353,"body_markdown":"I have the following Json string: \r\n\r\n    String jsonString = &quot;[\r\n      {\r\n        &quot;nameOnCard&quot;: &quot;Test T&quot;,\r\n        &quot;active&quot;: true,\r\n        &quot;declineReason&quot;: null\r\n      },\r\n      {\r\n        &quot;nameOnCard&quot;: &quot;TestT&quot;,\r\n        &quot;active&quot;: false,\r\n        &quot;declineReason&quot;: &quot;payment_stolen&quot;\r\n      }\r\n    ]&quot;;\r\n\r\nThe string is contained in an object called `ApiResponse` in a field called `data`. E.g.         \r\n\r\n    APIResponse apiResponse = APIResponse.builder()\r\n                    .data(jsonString)\r\n                    .build();\r\n\r\nI am trying to map the contents of the string into a list of `PaymentObject`. \r\nThe payment object looks like this:\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class PaymentObject {\r\n    \r\n        private String declineReason;\r\n        private String nameOnCard;\r\n        private String active; \r\n    }\r\n\r\nI am using the following to convert the String into a `List&lt;PaymentObject&gt;` by the following:\r\n\r\n`List&lt;PaymentObject&gt; paymentObjectDTOs = mapper.convertValue(apiResponse.getData(), new TypeReference&lt;&gt;() {});`\r\n\r\nwhere `mapper` is `ObjectMapper` from Jackson 2.13.2.2. \r\n\r\nBut I am getting the following error:\r\n\r\n\r\n    Cannot deserialize value of type `java.util.ArrayList&lt;com.abc.PaymentObject&gt;` from String value (token `JsonToken.VALUE_STRING`)\r\n     at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\r\nI can&#39;t see what&#39;s going wrong.","title":"Unable to convert a json array into java list","body":"<p>I have the following Json string:</p>\n<pre><code>String jsonString = &quot;[\n  {\n    &quot;nameOnCard&quot;: &quot;Test T&quot;,\n    &quot;active&quot;: true,\n    &quot;declineReason&quot;: null\n  },\n  {\n    &quot;nameOnCard&quot;: &quot;TestT&quot;,\n    &quot;active&quot;: false,\n    &quot;declineReason&quot;: &quot;payment_stolen&quot;\n  }\n]&quot;;\n</code></pre>\n<p>The string is contained in an object called <code>ApiResponse</code> in a field called <code>data</code>. E.g.</p>\n<pre><code>APIResponse apiResponse = APIResponse.builder()\n                .data(jsonString)\n                .build();\n</code></pre>\n<p>I am trying to map the contents of the string into a list of <code>PaymentObject</code>.\nThe payment object looks like this:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PaymentObject {\n\n    private String declineReason;\n    private String nameOnCard;\n    private String active; \n}\n</code></pre>\n<p>I am using the following to convert the String into a <code>List&lt;PaymentObject&gt;</code> by the following:</p>\n<p><code>List&lt;PaymentObject&gt; paymentObjectDTOs = mapper.convertValue(apiResponse.getData(), new TypeReference&lt;&gt;() {});</code></p>\n<p>where <code>mapper</code> is <code>ObjectMapper</code> from Jackson 2.13.2.2.</p>\n<p>But I am getting the following error:</p>\n<pre><code>Cannot deserialize value of type `java.util.ArrayList&lt;com.abc.PaymentObject&gt;` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n</code></pre>\n<p>I can't see what's going wrong.</p>\n"},{"tags":["java","azure","azure-blob-storage","anylogic","azure-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":24365197,"reputation":141,"user_id":18299044,"display_name":"Nadia Galaske"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660664680,"creation_date":1660664680,"answer_id":73376718,"question_id":73332420,"body_markdown":"The class `BlobServiceClientBuilder` belongs to the package `com.azure.storage.blob` and implements `TokenCredentialTrait` interface (among other things). This interface belongs to another package `com.azure.core.client.traits`. \r\n\r\nIt seems like you only included the JAR file for [Microsoft Azure client library for Blob Storage](https://search.maven.org/artifact/com.azure/azure-storage-blob/12.18.0/jar) but not the JAR file for [Microsoft Azure Java Core Library](https://search.maven.org/artifact/com.azure/azure-core/1.30.0/jar).\r\n\r\nPlease keep in mind, that AnyLogic doesn&#39;t automatically search for and download the dependencies for external libraries. So you need to check the dependencies in the documentation and include all required JARs in your AnyLogic model.","title":"Azure Java SDK V12 - How to fix BlobServiceClientBuilder error: &quot;java.lang.NoClassDefFoundError: com/azure/core/client/traits/TokenCredentialTrait&quot;","body":"<p>The class <code>BlobServiceClientBuilder</code> belongs to the package <code>com.azure.storage.blob</code> and implements <code>TokenCredentialTrait</code> interface (among other things). This interface belongs to another package <code>com.azure.core.client.traits</code>.</p>\n<p>It seems like you only included the JAR file for <a href=\"https://search.maven.org/artifact/com.azure/azure-storage-blob/12.18.0/jar\" rel=\"nofollow noreferrer\">Microsoft Azure client library for Blob Storage</a> but not the JAR file for <a href=\"https://search.maven.org/artifact/com.azure/azure-core/1.30.0/jar\" rel=\"nofollow noreferrer\">Microsoft Azure Java Core Library</a>.</p>\n<p>Please keep in mind, that AnyLogic doesn't automatically search for and download the dependencies for external libraries. So you need to check the dependencies in the documentation and include all required JARs in your AnyLogic model.</p>\n"}],"owner":{"account_id":16442354,"reputation":17,"user_id":11878238,"display_name":"Svengineer91"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73376718,"answer_count":1,"score":0,"last_activity_date":1660664680,"creation_date":1660298543,"question_id":73332420,"body_markdown":"I am running an AnyLogic Cloud model with a Blob Storage connection function for sending data to Azure Blob Storage.\r\n\r\nI&#39;m encountering an error at runtime when attempting to call the &#39;BlobServiceClientBuilder&#39; method:\r\n\r\n    import com.azure.storage.blob.*;\r\n    import com.azure.storage.blob.models.*;\r\n    import java.io.*;\r\n    \r\n\r\n    BlobServiceClient serviceClient = new BlobServiceClientBuilder()\r\n    \t\t.connectionString(&lt;storageConnectionString&gt;)\r\n    \t\t.buildClient();\r\n\r\n    // I&#39;ve also tried:\r\n    BlobServiceClient serviceClient = new BlobServiceClientBuilder()\r\n            .endpoint(&lt;endpointString&gt;)\r\n    \t\t.connectionString(&lt;storageConnectionString&gt;)\r\n    \t\t.buildClient();\r\n\r\nWith a valid `storageConnectionString` and `endpointString` for the storage account.\r\n\r\nThe error I&#39;m getting at runtime is the following:\r\n\r\n    java.lang.NoClassDefFoundError: com/azure/core/client/traits/TokenCredentialTrait\r\nGiven that I&#39;m not trying to use SAS Tokens or credentials, and have opted for the connection string method (according to the [Azure BlobServiceClientBuilder() documentation][1]), I&#39;m not sure what is causing the error.\r\n\r\nIdeas that could be related:\r\n\r\n - Blocked access due to network security arrangements:\r\n\r\n   The virtual machine hosting the AnyLogic Cloud environment is on a virtual network peered with the virtual network where the storage account is located. The storage account has network integration and a private endpoint, so it could be a configuration issue, although the error message does not indicate this.\r\n\r\n- AnyLogic is a little bit janky sometimes and could be causing issues, although I have no idea what could be causing this issue.\r\n\r\nAny suggestions would be greatly appreciated.\r\nI&#39;ve seen a few posts here that are similar but have not been a solution for me - hoping this doesn&#39;t get a tonne of &#39;Duplicate&#39; comments, but there we go!\r\n\r\n  [1]: https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.blobserviceclientbuilder?view=azure-java-stable","title":"Azure Java SDK V12 - How to fix BlobServiceClientBuilder error: &quot;java.lang.NoClassDefFoundError: com/azure/core/client/traits/TokenCredentialTrait&quot;","body":"<p>I am running an AnyLogic Cloud model with a Blob Storage connection function for sending data to Azure Blob Storage.</p>\n<p>I'm encountering an error at runtime when attempting to call the 'BlobServiceClientBuilder' method:</p>\n<pre><code>import com.azure.storage.blob.*;\nimport com.azure.storage.blob.models.*;\nimport java.io.*;\n\n\nBlobServiceClient serviceClient = new BlobServiceClientBuilder()\n        .connectionString(&lt;storageConnectionString&gt;)\n        .buildClient();\n\n// I've also tried:\nBlobServiceClient serviceClient = new BlobServiceClientBuilder()\n        .endpoint(&lt;endpointString&gt;)\n        .connectionString(&lt;storageConnectionString&gt;)\n        .buildClient();\n</code></pre>\n<p>With a valid <code>storageConnectionString</code> and <code>endpointString</code> for the storage account.</p>\n<p>The error I'm getting at runtime is the following:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/azure/core/client/traits/TokenCredentialTrait\n</code></pre>\n<p>Given that I'm not trying to use SAS Tokens or credentials, and have opted for the connection string method (according to the <a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.blobserviceclientbuilder?view=azure-java-stable\" rel=\"nofollow noreferrer\">Azure BlobServiceClientBuilder() documentation</a>), I'm not sure what is causing the error.</p>\n<p>Ideas that could be related:</p>\n<ul>\n<li><p>Blocked access due to network security arrangements:</p>\n<p>The virtual machine hosting the AnyLogic Cloud environment is on a virtual network peered with the virtual network where the storage account is located. The storage account has network integration and a private endpoint, so it could be a configuration issue, although the error message does not indicate this.</p>\n</li>\n<li><p>AnyLogic is a little bit janky sometimes and could be causing issues, although I have no idea what could be causing this issue.</p>\n</li>\n</ul>\n<p>Any suggestions would be greatly appreciated.\nI've seen a few posts here that are similar but have not been a solution for me - hoping this doesn't get a tonne of 'Duplicate' comments, but there we go!</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637320298,"creation_date":1637320298,"answer_id":70033923,"question_id":70033712,"body_markdown":"You can collect all those `Future&lt;List&lt;SamplePOJO&gt;&gt;` in the `List&lt;Future&gt;` instead of `List&lt;Future&lt;List&lt;SamplePOJO&gt;&gt;&gt;`.\r\n\r\nThat will make `CompositeFuture.all` method accept it. \r\n\r\n```java\r\n\t\tFuture&lt;List&lt;String&gt;&gt; f = getFuture();\r\n\t\t\r\n\t\tList&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n\t\tfutures.add(f);\r\n\t\t\r\n\t\tCompositeFuture.all(futures);\r\n```\r\n","title":"CompositeFuture not working with Futures returning Lists","body":"<p>You can collect all those <code>Future&lt;List&lt;SamplePOJO&gt;&gt;</code> in the <code>List&lt;Future&gt;</code> instead of <code>List&lt;Future&lt;List&lt;SamplePOJO&gt;&gt;&gt;</code>.</p>\n<p>That will make <code>CompositeFuture.all</code> method accept it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Future&lt;List&lt;String&gt;&gt; f = getFuture();\n        \n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n        futures.add(f);\n        \n        CompositeFuture.all(futures);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81793,"reputation":1032,"user_id":230452,"display_name":"Mykel Alvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660664616,"creation_date":1660664616,"answer_id":73376710,"question_id":70033712,"body_markdown":"Here&#39;s an expanded set of example code (that I mistakenly wrote for another question and moved here).\r\n\r\nSo there exists [a bug in Vert.x][1] that causes issues with `CompositeFuture.all(listoffutures)`, etc., at least in JDK 17, if `listoffutures` is of type `List&lt;Future&lt;SomeType&gt;&gt;` (or `List&lt;Future&lt;?&gt;&gt;`).\r\n\r\nThis bug might get fixed in Vert.x 5.\r\n\r\nI got some success with the code below.  The contrived example here is that I want to turn a `List&lt;Future&lt;File&gt;&gt;` into a `Future&lt;List&lt;File&gt;&gt;`.\r\n\r\n```\r\n@SuppressWarnings(&quot;rawtypes&quot;)\r\nstatic List&lt;Future&gt; ltol(List&lt;Future&lt;File&gt;&gt; sa) {\r\n  List&lt;Future&gt; l = new ArrayList&lt;&gt;();\r\n  l.addAll(sa);\r\n  return l;\r\n}\r\n\r\n\r\n// A contrived example of what I was doing, which uses .compose and returns\r\n// a Future of the list of results (File objects in my case)\r\nFuture&lt;List&lt;File&gt;&gt; mymethodcall(List&lt;Future&lt;File&gt;&gt; attachments) {\r\n\r\n    return CompositeFuture.all(ltol(attachments)).compose(files -&gt; {\r\n      // Note we&#39;re reading the result of the .all call in the compose\r\n      List&lt;File&gt; mb = new ArrayList&lt;&gt;();\r\n      files.list().stream().forEach(o -&gt; {\r\n\r\n        // Do whatever you need to do here with the results but they&#39;ll likely\r\n        // need to be cast (to File, in this case).\r\n        mb.add((File) o);\r\n      });\r\n      return Future.succeededFuture(mb);\r\n    });\r\n  }\r\n\r\n```\r\n\r\n\r\n\r\nThe important step is getting your `List&lt;Future&lt;T&gt;` into a `List&lt;Future&gt;`, *_if you need to_*.  I did it by gross brute force in the static method above.\r\n\r\n\r\n\r\n  [1]: https://github.com/eclipse-vertx/vert.x/issues/4384","title":"CompositeFuture not working with Futures returning Lists","body":"<p>Here's an expanded set of example code (that I mistakenly wrote for another question and moved here).</p>\n<p>So there exists <a href=\"https://github.com/eclipse-vertx/vert.x/issues/4384\" rel=\"nofollow noreferrer\">a bug in Vert.x</a> that causes issues with <code>CompositeFuture.all(listoffutures)</code>, etc., at least in JDK 17, if <code>listoffutures</code> is of type <code>List&lt;Future&lt;SomeType&gt;&gt;</code> (or <code>List&lt;Future&lt;?&gt;&gt;</code>).</p>\n<p>This bug might get fixed in Vert.x 5.</p>\n<p>I got some success with the code below.  The contrived example here is that I want to turn a <code>List&lt;Future&lt;File&gt;&gt;</code> into a <code>Future&lt;List&lt;File&gt;&gt;</code>.</p>\n<pre><code>@SuppressWarnings(&quot;rawtypes&quot;)\nstatic List&lt;Future&gt; ltol(List&lt;Future&lt;File&gt;&gt; sa) {\n  List&lt;Future&gt; l = new ArrayList&lt;&gt;();\n  l.addAll(sa);\n  return l;\n}\n\n\n// A contrived example of what I was doing, which uses .compose and returns\n// a Future of the list of results (File objects in my case)\nFuture&lt;List&lt;File&gt;&gt; mymethodcall(List&lt;Future&lt;File&gt;&gt; attachments) {\n\n    return CompositeFuture.all(ltol(attachments)).compose(files -&gt; {\n      // Note we're reading the result of the .all call in the compose\n      List&lt;File&gt; mb = new ArrayList&lt;&gt;();\n      files.list().stream().forEach(o -&gt; {\n\n        // Do whatever you need to do here with the results but they'll likely\n        // need to be cast (to File, in this case).\n        mb.add((File) o);\n      });\n      return Future.succeededFuture(mb);\n    });\n  }\n\n</code></pre>\n<p>The important step is getting your <code>List&lt;Future&lt;T&gt;</code> into a <code>List&lt;Future&gt;</code>, <em><em>if you need to</em></em>.  I did it by gross brute force in the static method above.</p>\n"}],"owner":{"account_id":11013479,"reputation":161,"user_id":8089991,"accept_rate":86,"display_name":"Mayank Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1660664616,"creation_date":1637319300,"question_id":70033712,"body_markdown":"I have a specific use case for data processing where I am returning a future of type `Future&lt;List&lt;SamplePOJO&gt;&gt;`. I have multiple such futures which I am adding to a List.\r\n\r\nBut `CompositeFuture.join()` doesn&#39;t work on this list as it is asking for a `List&lt;Future&gt;` instead of a `List&lt;Future&lt;List&lt;SamplePOJO&gt;&gt;&gt;`. Is there any workaround for this?","title":"CompositeFuture not working with Futures returning Lists","body":"<p>I have a specific use case for data processing where I am returning a future of type <code>Future&lt;List&lt;SamplePOJO&gt;&gt;</code>. I have multiple such futures which I am adding to a List.</p>\n<p>But <code>CompositeFuture.join()</code> doesn't work on this list as it is asking for a <code>List&lt;Future&gt;</code> instead of a <code>List&lt;Future&lt;List&lt;SamplePOJO&gt;&gt;&gt;</code>. Is there any workaround for this?</p>\n"},{"tags":["java","command-line","input","user-input","command-prompt"],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1399035074,"creation_date":1338392028,"answer_id":10819503,"question_id":10819469,"body_markdown":"Try [`java.io.Console.readPassword`][1]. You&#39;ll have to be running at least Java 6 though.\r\n\r\n       /**\r\n        * Reads a password or passphrase from the console with echoing disabled\r\n        *\r\n        * @throws IOError\r\n        *         If an I/O error occurs.\r\n        *\r\n        * @return  A character array containing the password or passphrase read\r\n        *          from the console, not including any line-termination characters,\r\n        *          or &lt;tt&gt;null&lt;/tt&gt; if an end of stream has been reached.\r\n        */\r\n        public char[] readPassword() {\r\n            return readPassword(&quot;&quot;);\r\n        }\r\n\r\n\r\nBeware though, this [doesn&#39;t work][2] with the Eclipse console. You&#39;ll have to run the program from a *true* console/shell/terminal/prompt to be able to test it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Console.html#readPassword()\r\n  [2]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=122429","title":"Hide input on command line","body":"<p>Try <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Console.html#readPassword%28%29\"><code>java.io.Console.readPassword</code></a>. You'll have to be running at least Java 6 though.</p>\n\n<pre><code>   /**\n    * Reads a password or passphrase from the console with echoing disabled\n    *\n    * @throws IOError\n    *         If an I/O error occurs.\n    *\n    * @return  A character array containing the password or passphrase read\n    *          from the console, not including any line-termination characters,\n    *          or &lt;tt&gt;null&lt;/tt&gt; if an end of stream has been reached.\n    */\n    public char[] readPassword() {\n        return readPassword(\"\");\n    }\n</code></pre>\n\n<p>Beware though, this <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=122429\">doesn't work</a> with the Eclipse console. You'll have to run the program from a <em>true</em> console/shell/terminal/prompt to be able to test it.</p>\n"},{"tags":[],"owner":{"account_id":231354,"reputation":9102,"user_id":495545,"accept_rate":100,"display_name":"Dhruv Gairola"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1338392524,"creation_date":1338392147,"answer_id":10819531,"question_id":10819469,"body_markdown":"There is :\r\n\r\n    Console cons;\r\n    char[] passwd;\r\n    if ((cons = System.console()) != null &amp;&amp;\r\n        (passwd = cons.readPassword(&quot;[%s]&quot;, &quot;Password:&quot;)) != null) {\r\n        ...\r\n        java.util.Arrays.fill(passwd, &#39; &#39;);\r\n    }\r\n[source][1]\r\n\r\nbut I don&#39;t think this works with an IDE like Eclipse because the program is run as a background process rather than a top level process with a console window.\r\n\r\nAnother approach is to use the `JPasswordField` in swing with the accompanying `actionPerformed` method:\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        ...\r\n        char [] p = pwdField.getPassword();\r\n    }\r\n[source][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/Console.html#readPassword%28%29\r\n  [2]: http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/JPasswordField.html#getPassword%28%29","title":"Hide input on command line","body":"<p>There is :</p>\n\n<pre><code>Console cons;\nchar[] passwd;\nif ((cons = System.console()) != null &amp;&amp;\n    (passwd = cons.readPassword(\"[%s]\", \"Password:\")) != null) {\n    ...\n    java.util.Arrays.fill(passwd, ' ');\n}\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Console.html#readPassword%28%29\" rel=\"nofollow\">source</a></p>\n\n<p>but I don't think this works with an IDE like Eclipse because the program is run as a background process rather than a top level process with a console window.</p>\n\n<p>Another approach is to use the <code>JPasswordField</code> in swing with the accompanying <code>actionPerformed</code> method:</p>\n\n<pre><code>public void actionPerformed(ActionEvent e) {\n    ...\n    char [] p = pwdField.getPassword();\n}\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/javax/swing/JPasswordField.html#getPassword%28%29\" rel=\"nofollow\">source</a></p>\n"},{"tags":[],"owner":{"account_id":102492,"reputation":4338,"user_id":275097,"accept_rate":86,"display_name":"Vijay Shanker Dubey"},"down_vote_count":4,"up_vote_count":19,"is_accepted":false,"score":15,"last_activity_date":1425502342,"creation_date":1338392152,"answer_id":10819532,"question_id":10819469,"body_markdown":"Yes can be done. This is called Command-Line Input Masking. You can implement this easily. \r\n\r\nYou can uses a separate thread to erase the echoed characters as they are being entered, and replaces them with asterisks. This is done using the EraserThread class shown below\r\n\r\n\timport java.io.*;\r\n\t\r\n\tclass EraserThread implements Runnable {\r\n\t   private boolean stop;\r\n\t \r\n\t   /**\r\n\t    *@param The prompt displayed to the user\r\n\t    */\r\n\t   public EraserThread(String prompt) {\r\n\t       System.out.print(prompt);\r\n\t   }\r\n\t\r\n\t   /**\r\n\t    * Begin masking...display asterisks (*)\r\n\t    */\r\n\t   public void run () {\r\n\t      stop = true;\r\n\t      while (stop) {\r\n\t         System.out.print(&quot;\\010*&quot;);\r\n\t\t try {\r\n\t\t    Thread.currentThread().sleep(1);\r\n\t         } catch(InterruptedException ie) {\r\n\t            ie.printStackTrace();\r\n\t         }\r\n\t      }\r\n\t   }\r\n\t\r\n\t   /**\r\n\t    * Instruct the thread to stop masking\r\n\t    */\r\n\t   public void stopMasking() {\r\n\t      this.stop = false;\r\n\t   }\r\n\t}\r\n\r\nWith using this thread \r\n\r\n\tpublic class PasswordField {\r\n\t\r\n\t   /**\r\n\t    *@param prompt The prompt to display to the user\r\n\t    *@return The password as entered by the user\r\n\t    */\r\n\t   public static String readPassword (String prompt) {\r\n\t      EraserThread et = new EraserThread(prompt);\r\n\t      Thread mask = new Thread(et);\r\n\t      mask.start();\r\n\t\r\n\t      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\r\n\t      String password = &quot;&quot;;\r\n\t\r\n\t      try {\r\n\t         password = in.readLine();\r\n\t      } catch (IOException ioe) {\r\n\t        ioe.printStackTrace();\r\n\t      }\r\n\t      // stop masking\r\n\t      et.stopMasking();\r\n\t      // return the password entered by the user\r\n\t      return password;\r\n\t   }\r\n\t}\r\n\r\n[This Link][1] discuss in details. \r\n\r\n\r\n  [1]: http://www.cse.chalmers.se/edu/course/TDA602/Eraserlab/pwdmasking.html","title":"Hide input on command line","body":"<p>Yes can be done. This is called Command-Line Input Masking. You can implement this easily. </p>\n\n<p>You can uses a separate thread to erase the echoed characters as they are being entered, and replaces them with asterisks. This is done using the EraserThread class shown below</p>\n\n<pre><code>import java.io.*;\n\nclass EraserThread implements Runnable {\n   private boolean stop;\n\n   /**\n    *@param The prompt displayed to the user\n    */\n   public EraserThread(String prompt) {\n       System.out.print(prompt);\n   }\n\n   /**\n    * Begin masking...display asterisks (*)\n    */\n   public void run () {\n      stop = true;\n      while (stop) {\n         System.out.print(\"\\010*\");\n     try {\n        Thread.currentThread().sleep(1);\n         } catch(InterruptedException ie) {\n            ie.printStackTrace();\n         }\n      }\n   }\n\n   /**\n    * Instruct the thread to stop masking\n    */\n   public void stopMasking() {\n      this.stop = false;\n   }\n}\n</code></pre>\n\n<p>With using this thread </p>\n\n<pre><code>public class PasswordField {\n\n   /**\n    *@param prompt The prompt to display to the user\n    *@return The password as entered by the user\n    */\n   public static String readPassword (String prompt) {\n      EraserThread et = new EraserThread(prompt);\n      Thread mask = new Thread(et);\n      mask.start();\n\n      BufferedReader in = new BufferedReader(new InputStreamReader(System.in));\n      String password = \"\";\n\n      try {\n         password = in.readLine();\n      } catch (IOException ioe) {\n        ioe.printStackTrace();\n      }\n      // stop masking\n      et.stopMasking();\n      // return the password entered by the user\n      return password;\n   }\n}\n</code></pre>\n\n<p><a href=\"http://www.cse.chalmers.se/edu/course/TDA602/Eraserlab/pwdmasking.html\" rel=\"noreferrer\">This Link</a> discuss in details. </p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1361884498,"creation_date":1338392152,"answer_id":10819533,"question_id":10819469,"body_markdown":"[JLine 2][1] may be of interest. As well as character masking, it&#39;ll provide command-line completion, editing and history facilities. Consequently it&#39;s very useful for a CLI-based Java tool.\r\n\r\nTo mask your input:\r\n\r\n    String password = new jline.ConsoleReader().readLine(new Character(&#39;*&#39;));\r\n\r\n\r\n  [1]: http://jline.github.com/jline2/","title":"Hide input on command line","body":"<p><a href=\"http://jline.github.com/jline2/\" rel=\"noreferrer\">JLine 2</a> may be of interest. As well as character masking, it'll provide command-line completion, editing and history facilities. Consequently it's very useful for a CLI-based Java tool.</p>\n\n<p>To mask your input:</p>\n\n<pre><code>String password = new jline.ConsoleReader().readLine(new Character('*'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434710,"reputation":2061,"user_id":1356382,"display_name":"rlinden"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1338392374,"creation_date":1338392374,"answer_id":10819602,"question_id":10819469,"body_markdown":"The class [Console][1] has a method `readPassword()` that might solve your problem. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/Console.html","title":"Hide input on command line","body":"<p>The class <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/Console.html\" rel=\"nofollow\">Console</a> has a method <code>readPassword()</code> that might solve your problem. </p>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660664325,"creation_date":1660664325,"answer_id":73376652,"question_id":10819469,"body_markdown":"Here is an example using `console.readPassword(...);` in an IDE. I use Netbeans. **Note: In your IDE, `Scanner` will be used and it will show the password!. In the console, `console.readPassword(..)` will be used and it will not show the password!.**\r\n\r\n```\r\n public static void main(String[] args) {\r\n     //The jar needs to be run from the terminal for console to work.\r\n     Scanner input = new Scanner(System.in);\r\n\r\n     Console console = System.console();\r\n     String username = &quot;&quot;;\r\n     String password = &quot;&quot;;\r\n     if (console == null) \r\n     {\r\n         System.out.print(&quot;Enter username: &quot;);\r\n         username = input.nextLine();\r\n         System.out.print(&quot;Enter password: &quot;);\r\n         password = input.nextLine();\r\n     }\r\n     else \r\n     {\r\n         username = console.readLine(&quot;Enter username: &quot;);\r\n         password = new String(console.readPassword(&quot;Enter password: &quot;));\r\n     }\r\n     \r\n     //I use the scanner for all other input in the code!\r\n     //I do not know if there are any pitfalls associated with using the Scanner and console in this manner!\r\n  }      \r\n```\r\n\r\n**Note: I do not know if there are any pitfalls associated with using the Scanner and console in this manner!**          \r\n  ","title":"Hide input on command line","body":"<p>Here is an example using <code>console.readPassword(...);</code> in an IDE. I use Netbeans. <strong>Note: In your IDE, <code>Scanner</code> will be used and it will show the password!. In the console, <code>console.readPassword(..)</code> will be used and it will not show the password!.</strong></p>\n<pre><code> public static void main(String[] args) {\n     //The jar needs to be run from the terminal for console to work.\n     Scanner input = new Scanner(System.in);\n\n     Console console = System.console();\n     String username = &quot;&quot;;\n     String password = &quot;&quot;;\n     if (console == null) \n     {\n         System.out.print(&quot;Enter username: &quot;);\n         username = input.nextLine();\n         System.out.print(&quot;Enter password: &quot;);\n         password = input.nextLine();\n     }\n     else \n     {\n         username = console.readLine(&quot;Enter username: &quot;);\n         password = new String(console.readPassword(&quot;Enter password: &quot;));\n     }\n     \n     //I use the scanner for all other input in the code!\n     //I do not know if there are any pitfalls associated with using the Scanner and console in this manner!\n  }      \n</code></pre>\n<p><strong>Note: I do not know if there are any pitfalls associated with using the Scanner and console in this manner!</strong></p>\n"}],"owner":{"account_id":943967,"reputation":27613,"user_id":971592,"accept_rate":94,"display_name":"kentcdodds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102820,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":10819503,"answer_count":6,"score":67,"last_activity_date":1660664325,"creation_date":1338391871,"question_id":10819469,"body_markdown":"I know that command line interfaces like Git and others are able to hide input from a user (useful for passwords). Is there a way to programmtically do this in Java? I&#39;m taking password input from a user and I would like their input to be &quot;hidden&quot; on that particular line (but not on all of them). Here&#39;s my code for it (though I doubt it would be helpful...)\r\n\r\n    try (Scanner input = new Scanner(System.in)) {\r\n      //I&#39;m guessing it&#39;d probably be some property you set on the scanner or System.in right here...\r\n      System.out.print(&quot;Please input the password for &quot; + name + &quot;: &quot;);\r\n      password = input.nextLine();\r\n    }","title":"Hide input on command line","body":"<p>I know that command line interfaces like Git and others are able to hide input from a user (useful for passwords). Is there a way to programmtically do this in Java? I'm taking password input from a user and I would like their input to be \"hidden\" on that particular line (but not on all of them). Here's my code for it (though I doubt it would be helpful...)</p>\n\n<pre><code>try (Scanner input = new Scanner(System.in)) {\n  //I'm guessing it'd probably be some property you set on the scanner or System.in right here...\n  System.out.print(\"Please input the password for \" + name + \": \");\n  password = input.nextLine();\n}\n</code></pre>\n"},{"tags":["java","javac"],"owner":{"account_id":11634171,"reputation":410,"user_id":8521177,"display_name":"TwITe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660664170,"creation_date":1660664170,"question_id":73376607,"body_markdown":"There are a lot of info about how HotSpot JIT C1/C2 reorders generated machine instructions ([https://en.wikipedia.org/wiki/Instruction_scheduling][1]). But I can&#39;t find any info about reordering of source code when using `javac`. Is this even a case?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Instruction_scheduling","title":"Does javac reorder actions?","body":"<p>There are a lot of info about how HotSpot JIT C1/C2 reorders generated machine instructions (<a href=\"https://en.wikipedia.org/wiki/Instruction_scheduling\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Instruction_scheduling</a>). But I can't find any info about reordering of source code when using <code>javac</code>. Is this even a case?</p>\n"},{"tags":["java","postman","soapui","jdeveloper"],"answers":[{"tags":[],"owner":{"account_id":7319460,"reputation":31,"user_id":5575919,"display_name":"Mohammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660639999,"creation_date":1660639999,"answer_id":73371299,"question_id":73182762,"body_markdown":"When I am importing wsdl into SOAPUI request payload is loading without spaces in the header parameter. \r\n\r\nfor eg., content-type=text/xml;charset=utf-8(check there is no gap between xml; and charset), \r\n\r\nwhere as in postman and jdeveloper http analyzer request payload is loading with spaces in the header parameter. content-type=text/xml; charset=utf-8(check there is a gap between xml; and charset).\r\n\r\nDue to this it was giving different result.","title":"Different result/output for same wsdl in Postman, SOAP UI, jdeveloper Http Analyzer","body":"<p>When I am importing wsdl into SOAPUI request payload is loading without spaces in the header parameter.</p>\n<p>for eg., content-type=text/xml;charset=utf-8(check there is no gap between xml; and charset),</p>\n<p>where as in postman and jdeveloper http analyzer request payload is loading with spaces in the header parameter. content-type=text/xml; charset=utf-8(check there is a gap between xml; and charset).</p>\n<p>Due to this it was giving different result.</p>\n"}],"owner":{"account_id":7319460,"reputation":31,"user_id":5575919,"display_name":"Mohammed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660663441,"creation_date":1659265696,"question_id":73182762,"body_markdown":"I have a wsdl url which is giving different result when I am testing with Postman, SOAP UI, Jdeveloper Http Analyzer even tough passing same request header and body in all tools. \r\n\r\nIn Postman, Jdeveloper Http Analyzer it&#39;s wsdl returning same 500-Internal server error.\r\nIn SOAP UI, it&#39;s returning correct result.\r\n\r\nI have created Custom Java client application in jdeveloper to consume webservice, in that I am getting below error\r\n\r\nThe Error\r\n```\r\nException in thread &quot;main&quot; com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type: application/xml Supported ones are: [text/xml]\r\n\tat com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:220)\r\n\tat com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:151)\r\n\tat com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:299)\r\n\tat com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:268)\r\n\tat com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:217)\r\n\tat com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:130)\r\n\tat com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:1121)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:1035)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:1004)\r\n\tat com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:862)\r\n\tat com.sun.xml.internal.ws.client.Stub.process(Stub.java:448)\r\n\tat com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:178)\r\n\tat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:93)\r\n\tat com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:77)\r\n\tat com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:147)\r\n\tat com.sun.proxy.$Proxy36.getService(Unknown Source)\r\n\tat someClient.SomeClient.main(WaselClient.java:23)\r\n```\r\nHow can i solve this issue?","title":"Different result/output for same wsdl in Postman, SOAP UI, jdeveloper Http Analyzer","body":"<p>I have a wsdl url which is giving different result when I am testing with Postman, SOAP UI, Jdeveloper Http Analyzer even tough passing same request header and body in all tools.</p>\n<p>In Postman, Jdeveloper Http Analyzer it's wsdl returning same 500-Internal server error.\nIn SOAP UI, it's returning correct result.</p>\n<p>I have created Custom Java client application in jdeveloper to consume webservice, in that I am getting below error</p>\n<p>The Error</p>\n<pre><code>Exception in thread &quot;main&quot; com.sun.xml.internal.ws.server.UnsupportedMediaException: Unsupported Content-Type: application/xml Supported ones are: [text/xml]\n    at com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:220)\n    at com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:151)\n    at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:299)\n    at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:268)\n    at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:217)\n    at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:130)\n    at com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:1121)\n    at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:1035)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:1004)\n    at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:862)\n    at com.sun.xml.internal.ws.client.Stub.process(Stub.java:448)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:178)\n    at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:93)\n    at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:77)\n    at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:147)\n    at com.sun.proxy.$Proxy36.getService(Unknown Source)\n    at someClient.SomeClient.main(WaselClient.java:23)\n</code></pre>\n<p>How can i solve this issue?</p>\n"},{"tags":["java","vert.x"],"answers":[{"tags":[],"owner":{"account_id":5654135,"reputation":3774,"user_id":4473822,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1640852225,"creation_date":1640852225,"answer_id":70529035,"question_id":70520836,"body_markdown":"You should be getting the results, not the futures themselves:\r\n\r\n```\r\nCompositeFuture.all(futures).onComplete(compositeAsync -&gt; {\r\n    if (compositeAsync.succeeded()){\r\n        CompositeFuture cf = compositeAsync.result();\r\n        cf.list().forEach(futureResult -&gt; {\r\n            // do something with the result of each future\r\n        });\r\n    } else {\r\n        // at least 1 future failed\r\n    }\r\n});\r\n```\r\n\r\nNote that `CompositeFuture extends Future&lt;CompositeFuture&gt;`, this is why your code works. But inside `onComplete` you should use it directly and not as a `Future&lt;CompositeFuture&gt;` ","title":"Get Result from CompositeFuture Vertx","body":"<p>You should be getting the results, not the futures themselves:</p>\n<pre><code>CompositeFuture.all(futures).onComplete(compositeAsync -&gt; {\n    if (compositeAsync.succeeded()){\n        CompositeFuture cf = compositeAsync.result();\n        cf.list().forEach(futureResult -&gt; {\n            // do something with the result of each future\n        });\n    } else {\n        // at least 1 future failed\n    }\n});\n</code></pre>\n<p>Note that <code>CompositeFuture extends Future&lt;CompositeFuture&gt;</code>, this is why your code works. But inside <code>onComplete</code> you should use it directly and not as a <code>Future&lt;CompositeFuture&gt;</code></p>\n"}],"owner":{"account_id":918697,"reputation":6220,"user_id":1009669,"accept_rate":92,"display_name":"BigBug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70529035,"answer_count":1,"score":1,"last_activity_date":1660663196,"creation_date":1640788466,"question_id":70520836,"body_markdown":"I&#39;ve recently learned about composite futures. I understand that i can have a list of Futures and when they are all completed, the compositeFuture handler will be called: \r\n\r\n    CompositeFuture.all(futures).onComplete(compositeAsync -&gt; {\r\n        if (compositeAsync.succeeded()){\r\n            Future&lt;CompositeFuture&gt; cf = compositeAsync.result();\r\n        } else {\r\n            // at least 1 future failed\r\n        }\r\n    });\r\n\r\nMy question is about this line: `Future&lt;CompositeFuture&gt; cf = compositeAsync.result();`\r\n\r\nThe futures that i passed into the compositeFuture is of type `List&lt;Future&lt;Buffer&gt;&gt;` however, the result() returns Future&lt;CompositeFuture&gt;. How do i get the `Future&lt;Buffer&gt;` out of a `Future&lt;CompoiteFuture&gt;`?\r\n\r\nI used the following example to pass in paramaterized futures into `compositeFuture.all(futures);`\r\n\r\n    interface MyCompositeFuture extends CompositeFuture {\r\n    \r\n        // This is what the regular does, just for example\r\n        /*\r\n        static CompositeFuture all(List&lt;Future&gt; futures) {\r\n            return CompositeFutureImpl.all(futures.toArray(new Future[futures.size()]));\r\n        }\r\n        */\r\n    \r\n        static &lt;T&gt; CompositeFuture all(List&lt;Future&lt;T&gt;&gt; futures) {\r\n            return CompositeFutureImpl.all(futures.toArray(new Future[futures.size()]));\r\n        }\r\n    }\r\n\r\nSource: https://stackoverflow.com/questions/41467014/vert-x-java-listfutures-parameterization","title":"Get Result from CompositeFuture Vertx","body":"<p>I've recently learned about composite futures. I understand that i can have a list of Futures and when they are all completed, the compositeFuture handler will be called:</p>\n<pre><code>CompositeFuture.all(futures).onComplete(compositeAsync -&gt; {\n    if (compositeAsync.succeeded()){\n        Future&lt;CompositeFuture&gt; cf = compositeAsync.result();\n    } else {\n        // at least 1 future failed\n    }\n});\n</code></pre>\n<p>My question is about this line: <code>Future&lt;CompositeFuture&gt; cf = compositeAsync.result();</code></p>\n<p>The futures that i passed into the compositeFuture is of type <code>List&lt;Future&lt;Buffer&gt;&gt;</code> however, the result() returns Future. How do i get the <code>Future&lt;Buffer&gt;</code> out of a <code>Future&lt;CompoiteFuture&gt;</code>?</p>\n<p>I used the following example to pass in paramaterized futures into <code>compositeFuture.all(futures);</code></p>\n<pre><code>interface MyCompositeFuture extends CompositeFuture {\n\n    // This is what the regular does, just for example\n    /*\n    static CompositeFuture all(List&lt;Future&gt; futures) {\n        return CompositeFutureImpl.all(futures.toArray(new Future[futures.size()]));\n    }\n    */\n\n    static &lt;T&gt; CompositeFuture all(List&lt;Future&lt;T&gt;&gt; futures) {\n        return CompositeFutureImpl.all(futures.toArray(new Future[futures.size()]));\n    }\n}\n</code></pre>\n<p>Source: <a href=\"https://stackoverflow.com/questions/41467014/vert-x-java-listfutures-parameterization\">Vert.x java List&lt;Futures&gt; parameterization</a></p>\n"},{"tags":["java","python","hex"],"comments":[{"owner":{"account_id":1969331,"reputation":2302,"user_id":1768737,"accept_rate":100,"display_name":"hcarrasko"},"score":0,"creation_date":1451756530,"post_id":29605370,"comment_id":56881762,"body_markdown":"why my question has -2???","body":"why my question has -2???"}],"answers":[{"tags":[],"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1428929859,"creation_date":1428928502,"answer_id":29605481,"question_id":29605370,"body_markdown":"The translation for that line into Python is:\r\n\r\n    radians = 0xffffffff &amp; long(radians * 100000000)\r\n\r\nThis gives (roughly!) the answer you expect:\r\n\r\n    &gt;&gt;&gt; 0xffffffff &amp; long(math.radians(-32.33) * 100000000)\r\n    4238540802L\r\n\r\n---\r\n\r\nWhat the line **does** is multiply the number of radians by 100,000,000 (giving `-56426494.71697667`), convert the result to a `long` integer (`-56426494L`) then do a *&quot;bitwise and&quot;* (see e.g. https://wiki.python.org/moin/BitwiseOperators) between that and `0xffffffff`. Your current code only performs the first of these three steps.\r\n\r\nFor a simple example of what bitwise and does:\r\n\r\n    &gt;&gt;&gt; &#39;{:04b}&#39;.format(int(&#39;1010&#39;, 2) &amp; (int(&#39;0111&#39;, 2)))\r\n    &#39;0010&#39;\r\n\r\nFor each binary digit, the output digit is `1` only if both input digits are `1`.","title":"Translating Java code to Python","body":"<p>The translation for that line into Python is:</p>\n\n<pre><code>radians = 0xffffffff &amp; long(radians * 100000000)\n</code></pre>\n\n<p>This gives (roughly!) the answer you expect:</p>\n\n<pre><code>&gt;&gt;&gt; 0xffffffff &amp; long(math.radians(-32.33) * 100000000)\n4238540802L\n</code></pre>\n\n<hr>\n\n<p>What the line <strong>does</strong> is multiply the number of radians by 100,000,000 (giving <code>-56426494.71697667</code>), convert the result to a <code>long</code> integer (<code>-56426494L</code>) then do a <em>\"bitwise and\"</em> (see e.g. <a href=\"https://wiki.python.org/moin/BitwiseOperators\" rel=\"nofollow\">https://wiki.python.org/moin/BitwiseOperators</a>) between that and <code>0xffffffff</code>. Your current code only performs the first of these three steps.</p>\n\n<p>For a simple example of what bitwise and does:</p>\n\n<pre><code>&gt;&gt;&gt; '{:04b}'.format(int('1010', 2) &amp; (int('0111', 2)))\n'0010'\n</code></pre>\n\n<p>For each binary digit, the output digit is <code>1</code> only if both input digits are <code>1</code>.</p>\n"},{"tags":[],"owner":{"account_id":19406719,"reputation":81,"user_id":14192015,"display_name":"Kevin Lano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658756768,"creation_date":1658756768,"answer_id":73110312,"question_id":29605370,"body_markdown":"This kind of code should be translatable by the AgileUML translator: \r\nhttps://github.com/eclipse/agileuml/blob/master/translators.zip\r\n\r\nIt abstracts the language-specific aspects (like Java number formats) to a language-independent form before generating Python. ","title":"Translating Java code to Python","body":"<p>This kind of code should be translatable by the AgileUML translator:\n<a href=\"https://github.com/eclipse/agileuml/blob/master/translators.zip\" rel=\"nofollow noreferrer\">https://github.com/eclipse/agileuml/blob/master/translators.zip</a></p>\n<p>It abstracts the language-specific aspects (like Java number formats) to a language-independent form before generating Python.</p>\n"},{"tags":[],"owner":{"account_id":19406719,"reputation":81,"user_id":14192015,"display_name":"Kevin Lano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660663074,"creation_date":1660663074,"answer_id":73376382,"question_id":29605370,"body_markdown":"The results from the Python translated using AgileUML are: \r\n\r\ngrades: -32.33\r\nrad: -0.5642649471697667\r\nrad: 4238540802\r\nsigned to hex: FCA30002\r\n","title":"Translating Java code to Python","body":"<p>The results from the Python translated using AgileUML are:</p>\n<p>grades: -32.33\nrad: -0.5642649471697667\nrad: 4238540802\nsigned to hex: FCA30002</p>\n"}],"owner":{"account_id":1969331,"reputation":2302,"user_id":1768737,"accept_rate":100,"display_name":"hcarrasko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":29605481,"answer_count":3,"score":-1,"last_activity_date":1660663074,"creation_date":1428928192,"question_id":29605370,"body_markdown":"I&#39;m trying translate this Java code to Python:    \r\n\r\n    double grades = -32.33f;\r\n    System.out.println(&quot;grades: &quot;+grades);\r\n    double radians = Math.toRadians(grades);\r\n    System.out.println(&quot;rad: &quot;+radians);\r\n    long radiansUp8 = 0xFFFF_FFFFL &amp; (long)(radias * 100_000_000);\r\n    System.out.println(&quot;rad: &quot;+radiansUp8);\r\n    String hex = Long.toHexString(radiansUp8);\r\n    System.out.println(&quot;signed to hex: &quot;+hex);\r\n    \r\nI&#39;ve done this:\r\n\r\n    import math\r\n    \r\n    grades = -32.33\r\n    radians = math.radians(grades)\r\n    print radians\r\n    radians = radians * 100000000\r\n    print radians\r\n    hexValue = hex(int(radians))\r\n    print hexValue\r\n\r\nBut I&#39;m not getting the same result. The Java code works fine, but in Python not. This line in particular I&#39;m not sure how translate to Python, maybe that is the problem:\r\n\r\n    long radiansUp8 = 0xFFFF_FFFFL &amp; (long)(radianes * 100_000_000);\r\n\r\nThe (correct) output for the Java code is:\r\n\r\n    grades: -32.33000183105469\r\n    rad: -0.5642649791276998\r\n    rad: 4238540799\r\n    signed to hex: fca2ffff\r\n\r\nThe (incorrect) output for the Python code is:\r\n\r\n    grades: -32.33\r\n    radians: -0.56426494717\r\n    radians: -56426494.717\r\n    signed to hex: -0x35cfffe","title":"Translating Java code to Python","body":"<p>I'm trying translate this Java code to Python:    </p>\n\n<pre><code>double grades = -32.33f;\nSystem.out.println(\"grades: \"+grades);\ndouble radians = Math.toRadians(grades);\nSystem.out.println(\"rad: \"+radians);\nlong radiansUp8 = 0xFFFF_FFFFL &amp; (long)(radias * 100_000_000);\nSystem.out.println(\"rad: \"+radiansUp8);\nString hex = Long.toHexString(radiansUp8);\nSystem.out.println(\"signed to hex: \"+hex);\n</code></pre>\n\n<p>I've done this:</p>\n\n<pre><code>import math\n\ngrades = -32.33\nradians = math.radians(grades)\nprint radians\nradians = radians * 100000000\nprint radians\nhexValue = hex(int(radians))\nprint hexValue\n</code></pre>\n\n<p>But I'm not getting the same result. The Java code works fine, but in Python not. This line in particular I'm not sure how translate to Python, maybe that is the problem:</p>\n\n<pre><code>long radiansUp8 = 0xFFFF_FFFFL &amp; (long)(radianes * 100_000_000);\n</code></pre>\n\n<p>The (correct) output for the Java code is:</p>\n\n<pre><code>grades: -32.33000183105469\nrad: -0.5642649791276998\nrad: 4238540799\nsigned to hex: fca2ffff\n</code></pre>\n\n<p>The (incorrect) output for the Python code is:</p>\n\n<pre><code>grades: -32.33\nradians: -0.56426494717\nradians: -56426494.717\nsigned to hex: -0x35cfffe\n</code></pre>\n"},{"tags":["java","iso"],"comments":[{"owner":{"account_id":1418416,"reputation":2838,"user_id":1343553,"accept_rate":80,"display_name":"mvreijn"},"score":0,"creation_date":1660825044,"post_id":73376242,"comment_id":129627552,"body_markdown":"An example is here: https://github.com/stephenc/java-iso-tools out of the very first Google search I did for &quot;java write iso file&quot; :-)","body":"An example is here: <a href=\"https://github.com/stephenc/java-iso-tools\" rel=\"nofollow noreferrer\">github.com/stephenc/java-iso-tools</a> out of the very first Google search I did for &quot;java write iso file&quot; :-)"},{"owner":{"display_name":"user14427121"},"score":0,"creation_date":1660826686,"post_id":73376242,"comment_id":129628207,"body_markdown":"thanks, already got the answer from a newer question.","body":"thanks, already got the answer from a newer question."}],"owner":{"display_name":"user14427121"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660662409,"creation_date":1660662409,"question_id":73376242,"body_markdown":"I&#39;m creating a USB writer program. I&#39;ve heard about java ISO tools, and I want to use it in my program. however, I can&#39;t find any tutorials online on how to do that, in fact, I can&#39;t even find a single tutorial on how to use it. How do I extract an ISO image to an external storage media  using java ISO tools\r\n\r\nAlso, I can&#39;t paste my code here because it is more than 800 lines of code to read.\r\nAny help is appreciated :)","title":"How do I extract an ISO image to an external storage media using java ISO tools","body":"<p>I'm creating a USB writer program. I've heard about java ISO tools, and I want to use it in my program. however, I can't find any tutorials online on how to do that, in fact, I can't even find a single tutorial on how to use it. How do I extract an ISO image to an external storage media  using java ISO tools</p>\n<p>Also, I can't paste my code here because it is more than 800 lines of code to read.\nAny help is appreciated :)</p>\n"},{"tags":["java","spring-boot","testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1613393968,"creation_date":1613393619,"answer_id":66208420,"question_id":66208368,"body_markdown":"The instance of class `PermissionCheck` is not properly injected. The tests use the Spring container in the same way as the production code. The following line would not inject the `myEntityRepository`.\r\n\r\n    this.permissionCheck = new PermissionCheck();\r\n\r\n[Spring: NullPointerException occurs when including a bean][1] partly answers your question. You need to `@Autowire` the thing.\r\n\r\nThe Spring test context is no different. As long as `@MockBean` `MyEntityRepository` exists as a mocked bean, the `PermissionCheck` will be autowired in the standard way using the mocked class *in precedence* over the existing bean *in the test scope*.\r\n\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\npublic class PermissionCheckTests {\r\n\r\n    @Autowired                                     // you need to autowire\r\n    private PermissionCheck permissionCheck;       // and it uses @MockBean dependency\r\n\r\n    @MockBean                                      // if no such @MockBean exists\r\n    private MyEntityRepository myEntityRepository; // the real implementation is used\r\n\r\n    @Test\r\n    public void shouldHasPermission() {\r\n        MyEntity myEntity = new MyEntity();\r\n\r\n        when(this.myEntityRepository.findById(any())).thenReturn(myEntity);\r\n        assertTrue(this.permissionCheck.hasPermission(0));\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38585975/3764965","title":"Why @MockBean does not mock my target repository class (returns null)?","body":"<p>The instance of class <code>PermissionCheck</code> is not properly injected. The tests use the Spring container in the same way as the production code. The following line would not inject the <code>myEntityRepository</code>.</p>\n<pre><code>this.permissionCheck = new PermissionCheck();\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/38585975/3764965\">Spring: NullPointerException occurs when including a bean</a> partly answers your question. You need to <code>@Autowire</code> the thing.</p>\n<p>The Spring test context is no different. As long as <code>@MockBean</code> <code>MyEntityRepository</code> exists as a mocked bean, the <code>PermissionCheck</code> will be autowired in the standard way using the mocked class <em>in precedence</em> over the existing bean <em>in the test scope</em>.</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class PermissionCheckTests {\n\n    @Autowired                                     // you need to autowire\n    private PermissionCheck permissionCheck;       // and it uses @MockBean dependency\n\n    @MockBean                                      // if no such @MockBean exists\n    private MyEntityRepository myEntityRepository; // the real implementation is used\n\n    @Test\n    public void shouldHasPermission() {\n        MyEntity myEntity = new MyEntity();\n\n        when(this.myEntityRepository.findById(any())).thenReturn(myEntity);\n        assertTrue(this.permissionCheck.hasPermission(0));\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660662342,"creation_date":1660662342,"answer_id":73376227,"question_id":66208368,"body_markdown":"in my case i was using lombok i was added @NoArgsConstructor \r\nto the class that that i had injected my repository.\r\n\r\n    @Component\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor // what cuased the null pointer\r\n    public class ParcelUtil {\r\n    \r\n        private final Logger log = LoggerFactory.getLogger(OrderEventConsumer.class);\r\n    \r\n        private ParcelRepository parcelRepository;\r\n    \r\n    }\r\n\r\nmy test:\r\n\r\n   \r\n\r\n     @SpringBootTest\r\n        @DirtiesContext\r\n        public class OrderEventConsumerTest extends SpringBootEmbeddedKafka {\r\n            @MockBean\r\n            private ParcelRepository parcelRepository;\r\n        \r\n        }\r\n    \r\n       \r\n    \r\n        @Test\r\n            public void update_parcel_inride_to_delivered_nxb() throws JsonProcessingException {\r\n        \r\n                //given\r\n                List&lt;Parcel&gt; parcels = DataUtil.createParcel_inride_and_draft_nxb();\r\n                    Mockito\r\n    .when(parcelRepository.findFirstByParcelGroupId(&quot;12&quot;))\r\n    .thenReturn(Optional.ofNullable(parcels.get(0))); //where i got null pointer\r\n     \r\n\r\n       \r\n        \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why @MockBean does not mock my target repository class (returns null)?","body":"<p>in my case i was using lombok i was added @NoArgsConstructor\nto the class that that i had injected my repository.</p>\n<pre><code>@Component\n@AllArgsConstructor\n@NoArgsConstructor // what cuased the null pointer\npublic class ParcelUtil {\n\n    private final Logger log = LoggerFactory.getLogger(OrderEventConsumer.class);\n\n    private ParcelRepository parcelRepository;\n\n}\n</code></pre>\n<p>my test:</p>\n<pre><code> @SpringBootTest\n    @DirtiesContext\n    public class OrderEventConsumerTest extends SpringBootEmbeddedKafka {\n        @MockBean\n        private ParcelRepository parcelRepository;\n    \n    }\n\n   \n\n    @Test\n        public void update_parcel_inride_to_delivered_nxb() throws JsonProcessingException {\n    \n            //given\n            List&lt;Parcel&gt; parcels = DataUtil.createParcel_inride_and_draft_nxb();\n                Mockito\n.when(parcelRepository.findFirstByParcelGroupId(&quot;12&quot;))\n.thenReturn(Optional.ofNullable(parcels.get(0))); //where i got null pointer\n \n\n   \n    \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14327337,"reputation":159,"user_id":10349064,"display_name":"Lansorian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5642,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66208420,"answer_count":2,"score":2,"last_activity_date":1660662342,"creation_date":1613393416,"question_id":66208368,"body_markdown":"Here is the class I want to test\r\n```\r\n@Component\r\npublic class PermissionCheck {\r\n\r\n    @Autowired\r\n    private MyEntityRepository myEntityRepository;\r\n\r\n    public boolean hasPermission(int myEntityID) {\r\n        MyEntity myEntity = myEntityRepository.findById(myEntityId);\r\n        return myEntity != null;\r\n    }\r\n}\r\n```\r\nHere is the test class\r\n```\r\n@RunWith(SpringRunner.class)\r\npublic class PermissionCheckTests {\r\n\r\n    @MockBean\r\n    private MyEntityRepository myEntityRepository;\r\n\r\n    private PermissionCheck permissionCheck;\r\n\r\n    @Before\r\n    public void before() {\r\n        this.permissionCheck = new PermissionCheck();\r\n    }\r\n\r\n    @Test\r\n    public void shouldHasPermission() {\r\n        MyEntity myEntity = new MyEntity();\r\n\r\n        when(this.myEntityRepository.findById(any())).thenReturn(myEntity);\r\n        assertTrue(this.permissionCheck.hasPermission(0));\r\n    }\r\n}\r\n```\r\nAnd when I run this test I got\r\n```\r\njava.lang.NullPointerException\r\n\tat PermissionCheck.hasPermission(PermissionCheck.java:line1)\r\n\tat PermissionCheckTests.shouldHasPermission(PermissionCheckTests.java:line2)\r\n```\r\nIn the above, line1 and line2 refer to these two lines\r\n```\r\n        MyEntity myEntity = myEntityRepository.findById(myEntityId);\r\n```\r\n```\r\n        assertTrue(this.permissionCheck.hasPermission(0));\r\n```\r\nAnd using debugger I see that when entering `PermissionCheck.hasPermission` from `PermissionCheckTests.shouldHasPermission`, the repository field\r\n```\r\n    @Autowired\r\n    private MyEntityRepository myEntityRepository;\r\n```\r\nis null.\r\n\r\nI created these classes by referring to others existing codes, from different places, and without really understanding how to the annotations (partially due to running out of time), so if someone can tell me not only how to fix, but also *why* I&#39;m wrong, I would really appreciate it!\r\n\r\nEdit:\r\n\r\nI made the change suggested by @Nikolas Charalambidis (thank you!), so my `PermissionCheck` class now looks exactly like\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\npublic class PermissionCheckTests {\r\n\r\n    @Autowired                                     // you need to autowire\r\n    private PermissionCheck permissionCheck;       // and it uses @MockBean dependency\r\n\r\n    @MockBean                                      // if no such @MockBean exists\r\n    private MyEntityRepository myEntityRepository; // the real implementation is used\r\n\r\n    @Test\r\n    public void shouldHasPermission() {\r\n        MyEntity myEntity = new MyEntity();\r\n\r\n        when(this.myEntityRepository.findById(any())).thenReturn(myEntity);\r\n        assertTrue(this.permissionCheck.hasPermission(0));\r\n    }\r\n}\r\n```\r\n\r\nBut I then got the following exception\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: \r\nError creating bean with name &#39;PermissionCheckTests&#39;: \r\nUnsatisfied dependency expressed through field &#39;permissionCheck&#39;; \r\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\nNo qualifying bean of type &#39;PermissionCheck&#39; available: \r\nexpected at least 1 bean which qualifies as autowire candidate. \r\nDependency annotations: \r\n{@org.springframework.beans.factory.annotation.Autowired(required=true), \r\n@org.springframework.beans.factory.annotation.Qualifier(value=&quot;&quot;)}\r\n```\r\n\r\nWith a little bit search, from [this SO answer](https://stackoverflow.com/a/20333975/10349064), I feel like I should not @Autowired `PermissionCheck`, since it is a class, not an interface. \r\n\r\nDoes that mean I have to create an interface, @Autowired it and let `PermissionCheck` implement it? It seems redundant to me, since I don&#39;t see why I need such an interface. Is there a way to make it work without creating a new interface which I will solely use for this purpose?","title":"Why @MockBean does not mock my target repository class (returns null)?","body":"<p>Here is the class I want to test</p>\n<pre><code>@Component\npublic class PermissionCheck {\n\n    @Autowired\n    private MyEntityRepository myEntityRepository;\n\n    public boolean hasPermission(int myEntityID) {\n        MyEntity myEntity = myEntityRepository.findById(myEntityId);\n        return myEntity != null;\n    }\n}\n</code></pre>\n<p>Here is the test class</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class PermissionCheckTests {\n\n    @MockBean\n    private MyEntityRepository myEntityRepository;\n\n    private PermissionCheck permissionCheck;\n\n    @Before\n    public void before() {\n        this.permissionCheck = new PermissionCheck();\n    }\n\n    @Test\n    public void shouldHasPermission() {\n        MyEntity myEntity = new MyEntity();\n\n        when(this.myEntityRepository.findById(any())).thenReturn(myEntity);\n        assertTrue(this.permissionCheck.hasPermission(0));\n    }\n}\n</code></pre>\n<p>And when I run this test I got</p>\n<pre><code>java.lang.NullPointerException\n    at PermissionCheck.hasPermission(PermissionCheck.java:line1)\n    at PermissionCheckTests.shouldHasPermission(PermissionCheckTests.java:line2)\n</code></pre>\n<p>In the above, line1 and line2 refer to these two lines</p>\n<pre><code>        MyEntity myEntity = myEntityRepository.findById(myEntityId);\n</code></pre>\n<pre><code>        assertTrue(this.permissionCheck.hasPermission(0));\n</code></pre>\n<p>And using debugger I see that when entering <code>PermissionCheck.hasPermission</code> from <code>PermissionCheckTests.shouldHasPermission</code>, the repository field</p>\n<pre><code>    @Autowired\n    private MyEntityRepository myEntityRepository;\n</code></pre>\n<p>is null.</p>\n<p>I created these classes by referring to others existing codes, from different places, and without really understanding how to the annotations (partially due to running out of time), so if someone can tell me not only how to fix, but also <em>why</em> I'm wrong, I would really appreciate it!</p>\n<p>Edit:</p>\n<p>I made the change suggested by @Nikolas Charalambidis (thank you!), so my <code>PermissionCheck</code> class now looks exactly like</p>\n<pre><code>@RunWith(SpringRunner.class)\npublic class PermissionCheckTests {\n\n    @Autowired                                     // you need to autowire\n    private PermissionCheck permissionCheck;       // and it uses @MockBean dependency\n\n    @MockBean                                      // if no such @MockBean exists\n    private MyEntityRepository myEntityRepository; // the real implementation is used\n\n    @Test\n    public void shouldHasPermission() {\n        MyEntity myEntity = new MyEntity();\n\n        when(this.myEntityRepository.findById(any())).thenReturn(myEntity);\n        assertTrue(this.permissionCheck.hasPermission(0));\n    }\n}\n</code></pre>\n<p>But I then got the following exception</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: \nError creating bean with name 'PermissionCheckTests': \nUnsatisfied dependency expressed through field 'permissionCheck'; \nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \nNo qualifying bean of type 'PermissionCheck' available: \nexpected at least 1 bean which qualifies as autowire candidate. \nDependency annotations: \n{@org.springframework.beans.factory.annotation.Autowired(required=true), \n@org.springframework.beans.factory.annotation.Qualifier(value=&quot;&quot;)}\n</code></pre>\n<p>With a little bit search, from <a href=\"https://stackoverflow.com/a/20333975/10349064\">this SO answer</a>, I feel like I should not @Autowired <code>PermissionCheck</code>, since it is a class, not an interface.</p>\n<p>Does that mean I have to create an interface, @Autowired it and let <code>PermissionCheck</code> implement it? It seems redundant to me, since I don't see why I need such an interface. Is there a way to make it work without creating a new interface which I will solely use for this purpose?</p>\n"},{"tags":["java","sql","arrays","json","oracle"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":2,"creation_date":1660656587,"post_id":73373753,"comment_id":129579674,"body_markdown":"But... `json_textcontains` doesn&#39;t produce any output, it is just a condition. It doesn&#39;t extract any information from the JSON data.","body":"But... <code>json_textcontains</code> doesn&#39;t produce any output, it is just a condition. It doesn&#39;t extract any information from the JSON data."},{"owner":{"account_id":25985512,"reputation":87,"user_id":19698558,"display_name":"Tennie"},"score":0,"creation_date":1660656883,"post_id":73373753,"comment_id":129579804,"body_markdown":"Yeah, and the question is, is there another sql condition, which can search in json data. The above sql statement gives me the rows i want, but i can&#39;t use the json_textcontains in my query. So an equivalent replacement of the json_textcontains in the where clause.","body":"Yeah, and the question is, is there another sql condition, which can search in json data. The above sql statement gives me the rows i want, but i can&#39;t use the json_textcontains in my query. So an equivalent replacement of the json_textcontains in the where clause."}],"answers":[{"tags":[],"owner":{"account_id":19184715,"reputation":4772,"user_id":14015737,"display_name":"buddemat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660661549,"creation_date":1660657551,"answer_id":73375055,"question_id":73373753,"body_markdown":"You can use a `LIKE` condition or the `INSTR()` function for the matching. \r\n\r\nHowever, just using this on `t.jsoncolumn` would find matches in the full json, i.e. also in the key part. To just search in the values, you could extract them first using `JSON_QUERY`.\r\n\r\nBoth\r\n\r\n```\r\nSELECT * \r\n  FROM t \r\n WHERE JSON_QUERY(jsoncolumn, &#39;$.*&#39; WITH WRAPPER) LIKE &#39;%35%&#39;\r\n```\r\nand\r\n```\r\nSELECT * \r\n  FROM t\r\n WHERE INSTR(JSON_QUERY(t.jsoncolumn, &#39;$.*&#39; WITH WRAPPER), &#39;35&#39;) &gt; 0;\r\n```\r\nshould produce the same result as your `JSON_TEXTCONTAINS()` example.\r\n\r\nSee [this db&lt;&gt;fiddle](https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=ab446de8140437fb76d60f2f36cf7bd0).","title":"Oracle: Equivalent sql statement to json_textcontains function","body":"<p>You can use a <code>LIKE</code> condition or the <code>INSTR()</code> function for the matching.</p>\n<p>However, just using this on <code>t.jsoncolumn</code> would find matches in the full json, i.e. also in the key part. To just search in the values, you could extract them first using <code>JSON_QUERY</code>.</p>\n<p>Both</p>\n<pre><code>SELECT * \n  FROM t \n WHERE JSON_QUERY(jsoncolumn, '$.*' WITH WRAPPER) LIKE '%35%'\n</code></pre>\n<p>and</p>\n<pre><code>SELECT * \n  FROM t\n WHERE INSTR(JSON_QUERY(t.jsoncolumn, '$.*' WITH WRAPPER), '35') &gt; 0;\n</code></pre>\n<p>should produce the same result as your <code>JSON_TEXTCONTAINS()</code> example.</p>\n<p>See <a href=\"https://dbfiddle.uk/?rdbms=oracle_18&amp;fiddle=ab446de8140437fb76d60f2f36cf7bd0\" rel=\"nofollow noreferrer\">this db&lt;&gt;fiddle</a>.</p>\n"}],"owner":{"account_id":25985512,"reputation":87,"user_id":19698558,"display_name":"Tennie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73375055,"answer_count":1,"score":2,"last_activity_date":1660661751,"creation_date":1660651698,"question_id":73373753,"body_markdown":"I want to search for specific values in a json object, but can&#39;t use `json_textcontains`. \r\n\r\nTable:\r\n\r\n    |   ID   |    NAME   |                    JSONCOLUMN               | ...\r\n    |   1    |    test   |{&quot;key1&quot; : &quot;24&quot;, &quot;key2&quot;: &quot;35&quot;, &quot;key3&quot; : &quot;57&quot;} | ...\r\n    |   2    |    test2  |{&quot;key1&quot; : &quot;67&quot;, &quot;key2&quot;: &quot;78&quot;, &quot;key3&quot; : &quot;31&quot;} | ...\r\n    |   3    |    test3  |{&quot;key1&quot; : &quot;12&quot;, &quot;key2&quot;: &quot;35&quot;, &quot;key3&quot; : &quot;99&quot;} | ...\r\n\r\nNow I have a search term e.g. &quot;35&quot; and want to get all rows that contain this term in the jsoncolumn as **value** (I don&#39;t want to search the keys).\r\n\r\nSo in the example above rows 1 and 3.\r\n\r\nI can achieve that with folowing query:\r\n\r\n    select * from T t where JSON_TEXTCONTAINS(t.jsoncolumn, &#39;$&#39;, &#39;35&#39;)\r\n\r\nBut I cannot use `json_textcontains`. So I&#39;m looking for an equivalent query.\r\n\r\nEdit: \r\nClarified what I want to get from the query.","title":"Oracle: Equivalent sql statement to json_textcontains function","body":"<p>I want to search for specific values in a json object, but can't use <code>json_textcontains</code>.</p>\n<p>Table:</p>\n<pre><code>|   ID   |    NAME   |                    JSONCOLUMN               | ...\n|   1    |    test   |{&quot;key1&quot; : &quot;24&quot;, &quot;key2&quot;: &quot;35&quot;, &quot;key3&quot; : &quot;57&quot;} | ...\n|   2    |    test2  |{&quot;key1&quot; : &quot;67&quot;, &quot;key2&quot;: &quot;78&quot;, &quot;key3&quot; : &quot;31&quot;} | ...\n|   3    |    test3  |{&quot;key1&quot; : &quot;12&quot;, &quot;key2&quot;: &quot;35&quot;, &quot;key3&quot; : &quot;99&quot;} | ...\n</code></pre>\n<p>Now I have a search term e.g. &quot;35&quot; and want to get all rows that contain this term in the jsoncolumn as <strong>value</strong> (I don't want to search the keys).</p>\n<p>So in the example above rows 1 and 3.</p>\n<p>I can achieve that with folowing query:</p>\n<pre><code>select * from T t where JSON_TEXTCONTAINS(t.jsoncolumn, '$', '35')\n</code></pre>\n<p>But I cannot use <code>json_textcontains</code>. So I'm looking for an equivalent query.</p>\n<p>Edit:\nClarified what I want to get from the query.</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1660661713,"post_id":73376005,"comment_id":129581941,"body_markdown":"You could add a on close listener.","body":"You could add a on close listener."},{"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"score":0,"creation_date":1660661941,"post_id":73376005,"comment_id":129582036,"body_markdown":"Can you give me an example?","body":"Can you give me an example?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660662155,"post_id":73376005,"comment_id":129582118,"body_markdown":"You should almost never have any more than one ```JFrame```. So the ```JFrame``` controlling the chatbot will already be open (or you couldn&#39;t take any action). Make the chatbot a singleton of type ```JDialog```","body":"You should almost never have any more than one <code>JFrame</code>. So the <code>JFrame</code> controlling the chatbot will already be open (or you couldn&#39;t take any action). Make the chatbot a singleton of type <code>JDialog</code>"},{"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"score":0,"creation_date":1660663018,"post_id":73376005,"comment_id":129582494,"body_markdown":"This is the first time I use jframe, can you explain to me how to do it?","body":"This is the first time I use jframe, can you explain to me how to do it?"},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1660675363,"post_id":73376005,"comment_id":129586937,"body_markdown":"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/windowlistener.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/events/&hellip;</a>"},{"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"score":0,"creation_date":1660679280,"post_id":73376005,"comment_id":129588125,"body_markdown":"Ok thanks, but how i can control if the JFrame is open?","body":"Ok thanks, but how i can control if the JFrame is open?"},{"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"score":0,"creation_date":1660680686,"post_id":73376005,"comment_id":129588604,"body_markdown":"I use a button, and every time i click the button, a new JFrame is open...","body":"I use a button, and every time i click the button, a new JFrame is open..."}],"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660661455,"creation_date":1660661455,"question_id":73376005,"body_markdown":"I created a chatbot, but when i close it, i need a variable = 0, so that the chatbot can be opened again but it cannot be opened twice (for example when it is already open).\r\n\r\nMy code:\r\n\r\n    public ChatBot() {\r\n        //Creo i frame\r\n        this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        this.setSize(600, 600);\r\n        this.setVisible(true);\r\n        this.setResizable(false);\r\n         \r\n        //Titolo chat\r\n        this.setTitle(&quot;ChatBot&quot;);\r\n\r\nhow can i reset the variable when jframe is dispose on close?","title":"Variable = 0 when JFrame window is close","body":"<p>I created a chatbot, but when i close it, i need a variable = 0, so that the chatbot can be opened again but it cannot be opened twice (for example when it is already open).</p>\n<p>My code:</p>\n<pre><code>public ChatBot() {\n    //Creo i frame\n    this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n    this.setSize(600, 600);\n    this.setVisible(true);\n    this.setResizable(false);\n     \n    //Titolo chat\n    this.setTitle(&quot;ChatBot&quot;);\n</code></pre>\n<p>how can i reset the variable when jframe is dispose on close?</p>\n"},{"tags":["java","postgresql","hibernate-criteria","hibernate-types"],"owner":{"account_id":1395017,"reputation":1293,"user_id":1324963,"accept_rate":86,"display_name":"Tarida George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660661169,"creation_date":1660660307,"question_id":73375724,"body_markdown":"I&#39;m trying to delete some entries from a table and the condition of the delete statement is &quot;if the first element in the userIds array is 98 then delete&quot;.\r\n\r\nMy entity class looks something like this:\r\n\r\n    @TypeDefs({\r\n        @TypeDef(\r\n                name = &quot;long-array&quot;,\r\n                typeClass = LongArrayType.class\r\n        )\r\n    })\r\n    public class MyEntity {\r\n        @Type(type = &quot;long-array&quot;)\r\n        @Column(name = &quot;user_ids&quot;, columnDefinition = &quot;_int8&quot;)\r\n        private Long[] userIds;\r\n    }\r\n\r\nIs there a way to achieve this via Criteria API?\r\n\r\nI&#39;ve tried many variations but none of them worked:\r\n\r\n    var cb = entityManager.getCriteriaBuilder();\r\n    var query = cb.createCriteriaDelete(MyEntity.class);\r\n    var root = query.from(MyEntity.class);\r\n\r\n    Path&lt;Long[]&gt; userIdsPath = root.get(MyEntity.USER_IDS);\r\n    query.where(cb.equal(userIdsPath.get(&quot;1&quot;), cb.literal(userId)));\r\n\r\n    entityManager.createQuery(query).executeUpdate();\r\n\r\nAttempt 2:\r\n\r\n    query.where(cb.equal(cb.function(&quot;trim_array&quot;, Long.class, root.get(MyEntity.USER_IDS), cb.literal(1)), userId));\r\n\r\nAttempt 3:\r\n\r\n    query.where(cb.equal(cb.literal(MyEntity.USER_IDS + &quot;[1]&quot;), userId));\r\n\r\n\r\nIs there a way I can create an expression for the where clause by giving it a hardcoded string? &quot;userIds[1] = 98&quot;","title":"Criteria API expression for where first element of array column is equal to","body":"<p>I'm trying to delete some entries from a table and the condition of the delete statement is &quot;if the first element in the userIds array is 98 then delete&quot;.</p>\n<p>My entity class looks something like this:</p>\n<pre><code>@TypeDefs({\n    @TypeDef(\n            name = &quot;long-array&quot;,\n            typeClass = LongArrayType.class\n    )\n})\npublic class MyEntity {\n    @Type(type = &quot;long-array&quot;)\n    @Column(name = &quot;user_ids&quot;, columnDefinition = &quot;_int8&quot;)\n    private Long[] userIds;\n}\n</code></pre>\n<p>Is there a way to achieve this via Criteria API?</p>\n<p>I've tried many variations but none of them worked:</p>\n<pre><code>var cb = entityManager.getCriteriaBuilder();\nvar query = cb.createCriteriaDelete(MyEntity.class);\nvar root = query.from(MyEntity.class);\n\nPath&lt;Long[]&gt; userIdsPath = root.get(MyEntity.USER_IDS);\nquery.where(cb.equal(userIdsPath.get(&quot;1&quot;), cb.literal(userId)));\n\nentityManager.createQuery(query).executeUpdate();\n</code></pre>\n<p>Attempt 2:</p>\n<pre><code>query.where(cb.equal(cb.function(&quot;trim_array&quot;, Long.class, root.get(MyEntity.USER_IDS), cb.literal(1)), userId));\n</code></pre>\n<p>Attempt 3:</p>\n<pre><code>query.where(cb.equal(cb.literal(MyEntity.USER_IDS + &quot;[1]&quot;), userId));\n</code></pre>\n<p>Is there a way I can create an expression for the where clause by giving it a hardcoded string? &quot;userIds[1] = 98&quot;</p>\n"},{"tags":["java","video","mp4","frame-rate","android-mediacodec"],"answers":[{"tags":[],"owner":{"account_id":1478174,"reputation":963,"user_id":1388084,"accept_rate":51,"display_name":"msc87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660660986,"creation_date":1660557595,"answer_id":73359446,"question_id":73320945,"body_markdown":"After digging deeper into my code I found that the problem is not with the MediaCode settings/configurations. But the problem was in storing the file as you can see below: \r\n\r\n    data.position(offset);\r\n    data.limit(offset + size);//This causes the stored video to be longer than it is in reality. \r\n            try {\r\n                while (data.remaining() &gt; 0)\r\n                    h264Stream.getChannel().write(data);\r\n            } catch (IOException e) {}\r\n\r\nremoving the line `data.limit(offset + size);` fixed my problem. \r\nThe offset is \r\n\r\n&gt; The start-offset of the data in the buffer.\r\n\r\n And the size is  \r\n\r\n&gt; The amount of data (in bytes) in the buffer. If this is 0, the buffer has no data in it and can be discarded. The only use of a 0-size buffer is to carry the end-of-stream marker.\r\n\r\nI still don&#39;t understand the repercussions of removing that line but I am going to do extensive tests. \r\nPlease drop comments or a better answer if you have knowledge about it. I will change the correct answer!","title":"Video length is different from starting and ending time stamp in MediaCodec","body":"<p>After digging deeper into my code I found that the problem is not with the MediaCode settings/configurations. But the problem was in storing the file as you can see below:</p>\n<pre><code>data.position(offset);\ndata.limit(offset + size);//This causes the stored video to be longer than it is in reality. \n        try {\n            while (data.remaining() &gt; 0)\n                h264Stream.getChannel().write(data);\n        } catch (IOException e) {}\n</code></pre>\n<p>removing the line <code>data.limit(offset + size);</code> fixed my problem.\nThe offset is</p>\n<blockquote>\n<p>The start-offset of the data in the buffer.</p>\n</blockquote>\n<p>And the size is</p>\n<blockquote>\n<p>The amount of data (in bytes) in the buffer. If this is 0, the buffer has no data in it and can be discarded. The only use of a 0-size buffer is to carry the end-of-stream marker.</p>\n</blockquote>\n<p>I still don't understand the repercussions of removing that line but I am going to do extensive tests.\nPlease drop comments or a better answer if you have knowledge about it. I will change the correct answer!</p>\n"}],"owner":{"account_id":1478174,"reputation":963,"user_id":1388084,"accept_rate":51,"display_name":"msc87"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73359446,"answer_count":1,"score":0,"last_activity_date":1660660986,"creation_date":1660222190,"question_id":73320945,"body_markdown":"I have a legacy code written by someone else and I just recently realised that the video recorded in the app has different length when it is played outside the app or programmatically checked using `MediaMetadataRetriever.METADATA_KEY_DURATION` than the measured time using the frames&#39; timeStamps.\r\n\r\nThe difference is almost 20% longer video than measured.\r\n\r\nBelow is the printout from the frame timestamps:                         \r\n\r\n    frameRate: 30                                \r\n    estimateStarttime: 83990376186060            \r\n    estimateEndTime: 84009908074060 \r\n\r\nWhich translates to 19.53 seconds while results from the MediaPlayer and `MediaMetadataRetriever.METADATA_KEY_DURATION`   \r\n\r\n    duration player for Example-video is 23520\r\n    duration flag for Example-video is 23520\r\n\r\nAnd here is a snippet of my code:\r\n\r\n    final ArrayList&lt;Surface&gt; als = new ArrayList&lt;&gt;();\r\n            final Surface is;\r\n\r\n            Range&lt;Integer&gt; targetFps = null;\r\n            Range&lt;Integer&gt;[] ranges = targetDetails.get(CameraCharacteristics.CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES);\r\n            if(ranges != null)\r\n                for (Range&lt;Integer&gt; range : ranges) {\r\n                    //Request the highest available lower==upper fps range.\r\n                    Log.d(&quot;FPSRangeMeta&quot;, String.format(Locale.getDefault(), &quot;(%dx%d): [%d..%d]&quot;, 1280, 720, range.getLower(), range.getUpper()));\r\n                    if(range.getUpper().equals(range.getLower())){\r\n                            if(targetFps == null)\r\n                                targetFps = range;\r\n                            if(range.getLower() &gt; targetFps.getLower())\r\n                                targetFps = range;\r\n                        }\r\n                }\r\n\r\n\r\n            //noinspection ConstantConditions targetFps to be implemented\r\n            final int framerate =  targetFps != null?targetFps.getLower():15;\r\n            System.out.println(&quot;frameRate: &quot; + framerate);\r\n            if (recording) {\r\n                MediaCodec.Callback cb = new MediaCodec.Callback() {\r\n\r\n                    @Override\r\n                    public void onInputBufferAvailable(@NonNull MediaCodec mc, int inputBufferId) {\r\n                        throw new RuntimeException(&quot;Shouldn&#39;t be called with an input surface.&quot;);\r\n                    }\r\n\r\n\r\n                    @SuppressLint(&quot;LogConditional&quot;)\r\n                    @Override\r\n                    public void onOutputBufferAvailable(@NonNull MediaCodec codec, int index, @NonNull MediaCodec.BufferInfo info) {\r\n                        try {\r\n                            ByteBuffer outputBuffer = Objects.requireNonNull(codec.getOutputBuffer(index));\r\n                            //codec.getOutputFormat(index); // option A\r\n\r\n                            synchronized (CameraHandler.this) {\r\n                                long flags = info.flags;\r\n                                if(estimateTimestamp == 0 &amp;&amp; estimateStarttime != 0) {\r\n                                    estimateTimestamp = estimateStarttime;\r\n                                    System.out.println(&quot;estimateStarttime: &quot; + estimateStarttime);\r\n                                }\r\n                                encodedFrameCallback.pushFrameMeta(&quot;frame.keyframe&quot;, frameIndex, flags &amp; MediaCodec.BUFFER_FLAG_KEY_FRAME);\r\n                                encodedFrameCallback.pushFrameMeta(&quot;frame.output_time_info&quot;, frameIndex, info.presentationTimeUs*1000);\r\n                                encodedFrameCallback.pushFrameMeta(&quot;frame.frame_delta&quot;, frameIndex, info.presentationTimeUs*1000 - prev);\r\n                                if(prev != 0){\r\n                                    estimateTimestamp += info.presentationTimeUs*1000 - prev;\r\n                                }\r\n                                encodedFrameCallback.pushFrameMeta(&quot;frame.estimated_timestamp&quot;, frameIndex, estimateTimestamp);\r\n                                encodedFrameCallback.pushH264Frame(outputBuffer, info.offset, info.size, info.presentationTimeUs);\r\n                                prev = info.presentationTimeUs*1000;\r\n                                frameIndex++;\r\n                            }\r\n                            codec.releaseOutputBuffer(index, false);\r\n                        } catch (IllegalStateException e) {\r\n                            Timber.e(e);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onError(@NonNull MediaCodec codec, @NonNull MediaCodec.CodecException e) {\r\n                        Log.d(&quot;MCError&quot;, &quot;MediaCodec error&quot;);\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onOutputFormatChanged(@NonNull MediaCodec mc, @NonNull MediaFormat format) {\r\n                    }\r\n                };\r\n\r\n                //noinspection HardCodedStringLiteral\r\n                MediaFormat mf = MediaFormat.createVideoFormat(&quot;video/avc&quot;, 1280, 720);\r\n\r\n                Range&lt;Integer&gt; complexityRange = codec.getCodecInfo().getCapabilitiesForType(&quot;video/avc&quot;).getEncoderCapabilities().getComplexityRange();\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n                    Range&lt;Integer&gt; qualityRange = codec.getCodecInfo().getCapabilitiesForType(&quot;video/avc&quot;).getEncoderCapabilities().getQualityRange();\r\n                    Log.d(&quot;CameraHandler&quot;, &quot;Available quality range: &quot;+qualityRange.getLower()+&quot; --- &quot;+qualityRange.getUpper());\r\n                    if(!qualityRange.getLower().equals(qualityRange.getUpper())) mf.setInteger(MediaFormat.KEY_QUALITY, qualityRange.getUpper());\r\n                } else  {\r\n                    Log.d(&quot;CameraHandler&quot;, &quot;Can&#39;t set quality, Android version too low&quot;);\r\n                }\r\n\r\n                MediaCodecInfo.EncoderCapabilities ec = codec.getCodecInfo().getCapabilitiesForType(&quot;video/avc&quot;).getEncoderCapabilities();\r\n                Log.d(&quot;CameraHandler&quot;, &quot;CBR:&quot; + ec.isBitrateModeSupported(MediaCodecInfo.EncoderCapabilities.BITRATE_MODE_CBR));\r\n                Log.d(&quot;CameraHandler&quot;, &quot;CQ:&quot; + ec.isBitrateModeSupported(MediaCodecInfo.EncoderCapabilities.BITRATE_MODE_CQ));\r\n                Log.d(&quot;CameraHandler&quot;, &quot;VBR:&quot; + ec.isBitrateModeSupported(MediaCodecInfo.EncoderCapabilities.BITRATE_MODE_VBR));\r\n\r\n                Log.d(&quot;CameraHandler&quot;, &quot;Available complexity range: &quot;+complexityRange.getLower()+&quot; --- &quot;+complexityRange.getUpper());\r\n\r\n\r\n                mf.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);\r\n                mf.setInteger(MediaFormat.KEY_BIT_RATE, 12140318);//Same as sample file from Xperia Z5 recording.\r\n                mf.setInteger(MediaFormat.KEY_FRAME_RATE, framerate);\r\n                mf.setInteger(MediaFormat.KEY_CAPTURE_RATE, framerate);\r\n                mf.setInteger(MediaFormat.KEY_PRIORITY, 0);\r\n                mf.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 5);\r\n                mf.setLong(MediaFormat.KEY_REPEAT_PREVIOUS_FRAME_AFTER, 100000000);\r\n\r\n\r\n                mf.setInteger(MediaFormat.KEY_PROFILE, MediaCodecInfo.CodecProfileLevel.AVCProfileHigh);\r\n                mf.setInteger(MediaFormat.KEY_LEVEL, MediaCodecInfo.CodecProfileLevel.AVCLevel41);\r\n                try {\r\n                    codec.reset();\r\n                    codec.setCallback(cb);\r\n                    codec.configure(mf, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\r\n                } catch(Exception failed_hi41){\r\n\r\n                    mf.setInteger(MediaFormat.KEY_PROFILE, MediaCodecInfo.CodecProfileLevel.AVCProfileHigh);\r\n                    mf.setInteger(MediaFormat.KEY_LEVEL, MediaCodecInfo.CodecProfileLevel.AVCLevel31);\r\n                    failed_hi41.printStackTrace();\r\n                    try {\r\n                        codec.reset();\r\n                        codec.setCallback(cb);\r\n                        codec.configure(mf, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\r\n                    } catch(Exception failed_hi31){\r\n                        mf.setInteger(MediaFormat.KEY_PROFILE, MediaCodecInfo.CodecProfileLevel.AVCProfileMain);\r\n                        mf.setInteger(MediaFormat.KEY_LEVEL, MediaCodecInfo.CodecProfileLevel.AVCLevel31);\r\n                        codec.reset();\r\n                        codec.setCallback(cb);\r\n                        codec.configure(mf, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\r\n                    }\r\n\r\n                }\r\n\r\n                is = codec.createInputSurface();\r\n\r\n                als.add(is);\r\n            }\r\n\r\n            boolean finalUseMotionTrack = useMotionTrack;\r\n            Range&lt;Integer&gt; finalTargetFps = targetFps;\r\n            CameraDevice.StateCallback cameraCallback = new CameraDevice.StateCallback() {\r\n                @Override\r\n                public void onOpened(@NonNull final CameraDevice camera) {\r\n                    currentCamera = camera;\r\n\r\n                    if(closed) return;\r\n\r\n                    try {\r\n                        if (dicb != null)\r\n                            dicb.deviceInfo(\r\n                                codec.getOutputFormat(),\r\n                                camera,\r\n                                framerate,\r\n                                cameraManager.getCameraCharacteristics(camera.getId()));\r\n\r\n                    } catch (CameraAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    try {\r\n\r\n                        final CaptureRequest.Builder cr = camera.createCaptureRequest(CameraDevice.TEMPLATE_RECORD);\r\n\r\n                        //Use control mode AUTO so we can access A3 features.\r\n                        cr.set(CaptureRequest.CONTROL_MODE, CaptureRequest.CONTROL_MODE_AUTO);\r\n\r\n                        //Use standard video-oriented auto focus - since some devices can&#39;t live without it...\r\n                        cr.set(CaptureRequest.CONTROL_AF_MODE, CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_VIDEO);\r\n\r\n                        //Use standard white balance optimization\r\n                        cr.set(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_AUTO);\r\n\r\n                        //Enable auto exposure. This is not ideal, but manual configuration is hard over multiple devices.\r\n                        cr.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);\r\n                        if(finalTargetFps != null) cr.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, finalTargetFps);\r\n\r\n                        //Request widest available field of view\r\n                        float focalLengths[] = targetDetails.get(CameraCharacteristics.LENS_INFO_AVAILABLE_FOCAL_LENGTHS);\r\n                        if(focalLengths != null &amp;&amp; focalLengths.length &gt; 0)\r\n                            cr.set(CaptureRequest.LENS_FOCAL_LENGTH, focalLengths[0]);\r\n\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P &amp;&amp; finalUseMotionTrack) {\r\n                            cr.set(CaptureRequest.CONTROL_CAPTURE_INTENT, CaptureRequest.CONTROL_CAPTURE_INTENT_MOTION_TRACKING);\r\n                        } else {\r\n                            cr.set(CaptureRequest.CONTROL_CAPTURE_INTENT, CaptureRequest.CONTROL_CAPTURE_INTENT_VIDEO_RECORD);\r\n                        }\r\n\r\n                        cr.set(CaptureRequest.CONTROL_VIDEO_STABILIZATION_MODE, CaptureRequest.CONTROL_VIDEO_STABILIZATION_MODE_OFF);\r\n                        cr.set(CaptureRequest.LENS_OPTICAL_STABILIZATION_MODE, CaptureRequest.LENS_OPTICAL_STABILIZATION_MODE_OFF);\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n                            cr.set(CaptureRequest.STATISTICS_OIS_DATA_MODE, CaptureRequest.STATISTICS_OIS_DATA_MODE_OFF);\r\n                        }\r\n\r\n                        for (Surface al : als) {\r\n                            cr.addTarget(al);\r\n                        }\r\n\r\n                        CameraCaptureSession.StateCallback sessionCallback = new CameraCaptureSession.StateCallback() {\r\n                            @Override\r\n                            public void onConfigured(@NonNull CameraCaptureSession session) {\r\n                                if(closed) return;\r\n                                if (recording) codec.start();\r\n                                try {\r\n                                    CameraCaptureSession.CaptureCallback cc = new CameraCaptureSession.CaptureCallback() {\r\n                                        @Override\r\n                                        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n                                            super.onCaptureCompleted(session, request, result);\r\n\r\n                                            long frame = result.getFrameNumber();\r\n                                            if(estimateStarttime == 0){\r\n                                                Long ts = result.get(CaptureResult.SENSOR_TIMESTAMP);\r\n                                                estimateStarttime = ts!=null?ts:0;\r\n                                            }\r\n                                            Long timestamp = result.get(CaptureResult.SENSOR_TIMESTAMP);\r\n                                            Long exposuretime = result.get(CaptureResult.SENSOR_EXPOSURE_TIME);\r\n                                            Long shutterskew = result.get(CaptureResult.SENSOR_ROLLING_SHUTTER_SKEW);\r\n                                            Long frameduration = result.get(CaptureResult.SENSOR_FRAME_DURATION);\r\n\r\n                                            Long clock_timing_monotonic = System.nanoTime();\r\n                                            Long clock_timing_realtime = SystemClock.elapsedRealtimeNanos();\r\n                                            Long clock_timing_millis = System.currentTimeMillis();\r\n\r\n\r\n                                            if(encodedFrameCallback != null){\r\n                                                encodedFrameCallback.pushFrameMeta(&quot;comparable.realtime_time&quot;, frame, clock_timing_realtime);\r\n                                                encodedFrameCallback.pushFrameMeta(&quot;comparable.monotonic_time&quot;, frame, clock_timing_monotonic);\r\n                                                encodedFrameCallback.pushFrameMeta(&quot;comparable.millis_time&quot;, frame, clock_timing_millis);\r\n\r\n                                                if(timestamp != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.timestamp&quot;, frame, timestamp);\r\n                                                if(exposuretime != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.exposure_time&quot;, frame, exposuretime);\r\n                                                if(shutterskew != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.rolling_shutter_skew&quot;, frame, shutterskew);\r\n                                                if(frameduration != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.frame_duration&quot;, frame, frameduration);\r\n                                            }\r\n                                        }\r\n\r\n                                    };\r\n                                    if(closed) return;\r\n                                    Handler h = new Handler(captureLooperThread.getLooper());\r\n                                    //if(finalSc != null) finalSc.setCaptureCallback(cc, h);\r\n                                    session.setRepeatingRequest(cr.build(), cc, h);\r\n                                } catch (CameraAccessException | IllegalStateException e) {\r\n                                    e.printStackTrace();\r\n                                    onFailure.run();\r\n                                }\r\n                            }\r\n\r\n                            @Override\r\n                            public void onConfigureFailed(@NonNull CameraCaptureSession session) {\r\n                                Timber.e(&quot;onConfigureFailed&quot;, new Exception(&quot;Failed to configure camera??&quot;));\r\n                                onFailure.run();\r\n                            }\r\n                        };\r\n\r\n                        camera.createCaptureSession(als, sessionCallback, new Handler(recordLooperThread.getLooper()));\r\n                    } catch (CameraAccessException | IllegalStateException e) {\r\n                        e.printStackTrace();\r\n                        onFailure.run();\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onDisconnected(@NonNull CameraDevice camera) { }\r\n\r\n                @Override\r\n                public void onError(@NonNull CameraDevice camera, int error) {\r\n                    Timber.e(&quot;Camera error &quot;+error, new Exception(&quot;Got a camera error, &quot;+error));\r\n                }\r\n            };\r\n\r\n            cameraManager.openCamera(targetCamera, cameraCallback, new Handler(stateLooperThread.getLooper()));\r\n            return true;\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n    public void stopRecording(){\r\n        closed = true;\r\n        if(currentCamera != null) currentCamera.close();\r\n        currentCamera = null;\r\n        System.out.println(&quot;estimateEndTime: &quot; + estimateTimestamp);\r\n\r\n        codec.stop();\r\n        codec.reset();\r\n    }","title":"Video length is different from starting and ending time stamp in MediaCodec","body":"<p>I have a legacy code written by someone else and I just recently realised that the video recorded in the app has different length when it is played outside the app or programmatically checked using <code>MediaMetadataRetriever.METADATA_KEY_DURATION</code> than the measured time using the frames' timeStamps.</p>\n<p>The difference is almost 20% longer video than measured.</p>\n<p>Below is the printout from the frame timestamps:</p>\n<pre><code>frameRate: 30                                \nestimateStarttime: 83990376186060            \nestimateEndTime: 84009908074060 \n</code></pre>\n<p>Which translates to 19.53 seconds while results from the MediaPlayer and <code>MediaMetadataRetriever.METADATA_KEY_DURATION</code></p>\n<pre><code>duration player for Example-video is 23520\nduration flag for Example-video is 23520\n</code></pre>\n<p>And here is a snippet of my code:</p>\n<pre><code>final ArrayList&lt;Surface&gt; als = new ArrayList&lt;&gt;();\n        final Surface is;\n\n        Range&lt;Integer&gt; targetFps = null;\n        Range&lt;Integer&gt;[] ranges = targetDetails.get(CameraCharacteristics.CONTROL_AE_AVAILABLE_TARGET_FPS_RANGES);\n        if(ranges != null)\n            for (Range&lt;Integer&gt; range : ranges) {\n                //Request the highest available lower==upper fps range.\n                Log.d(&quot;FPSRangeMeta&quot;, String.format(Locale.getDefault(), &quot;(%dx%d): [%d..%d]&quot;, 1280, 720, range.getLower(), range.getUpper()));\n                if(range.getUpper().equals(range.getLower())){\n                        if(targetFps == null)\n                            targetFps = range;\n                        if(range.getLower() &gt; targetFps.getLower())\n                            targetFps = range;\n                    }\n            }\n\n\n        //noinspection ConstantConditions targetFps to be implemented\n        final int framerate =  targetFps != null?targetFps.getLower():15;\n        System.out.println(&quot;frameRate: &quot; + framerate);\n        if (recording) {\n            MediaCodec.Callback cb = new MediaCodec.Callback() {\n\n                @Override\n                public void onInputBufferAvailable(@NonNull MediaCodec mc, int inputBufferId) {\n                    throw new RuntimeException(&quot;Shouldn't be called with an input surface.&quot;);\n                }\n\n\n                @SuppressLint(&quot;LogConditional&quot;)\n                @Override\n                public void onOutputBufferAvailable(@NonNull MediaCodec codec, int index, @NonNull MediaCodec.BufferInfo info) {\n                    try {\n                        ByteBuffer outputBuffer = Objects.requireNonNull(codec.getOutputBuffer(index));\n                        //codec.getOutputFormat(index); // option A\n\n                        synchronized (CameraHandler.this) {\n                            long flags = info.flags;\n                            if(estimateTimestamp == 0 &amp;&amp; estimateStarttime != 0) {\n                                estimateTimestamp = estimateStarttime;\n                                System.out.println(&quot;estimateStarttime: &quot; + estimateStarttime);\n                            }\n                            encodedFrameCallback.pushFrameMeta(&quot;frame.keyframe&quot;, frameIndex, flags &amp; MediaCodec.BUFFER_FLAG_KEY_FRAME);\n                            encodedFrameCallback.pushFrameMeta(&quot;frame.output_time_info&quot;, frameIndex, info.presentationTimeUs*1000);\n                            encodedFrameCallback.pushFrameMeta(&quot;frame.frame_delta&quot;, frameIndex, info.presentationTimeUs*1000 - prev);\n                            if(prev != 0){\n                                estimateTimestamp += info.presentationTimeUs*1000 - prev;\n                            }\n                            encodedFrameCallback.pushFrameMeta(&quot;frame.estimated_timestamp&quot;, frameIndex, estimateTimestamp);\n                            encodedFrameCallback.pushH264Frame(outputBuffer, info.offset, info.size, info.presentationTimeUs);\n                            prev = info.presentationTimeUs*1000;\n                            frameIndex++;\n                        }\n                        codec.releaseOutputBuffer(index, false);\n                    } catch (IllegalStateException e) {\n                        Timber.e(e);\n                    }\n                }\n\n                @Override\n                public void onError(@NonNull MediaCodec codec, @NonNull MediaCodec.CodecException e) {\n                    Log.d(&quot;MCError&quot;, &quot;MediaCodec error&quot;);\n                    e.printStackTrace();\n                }\n\n                @Override\n                public void onOutputFormatChanged(@NonNull MediaCodec mc, @NonNull MediaFormat format) {\n                }\n            };\n\n            //noinspection HardCodedStringLiteral\n            MediaFormat mf = MediaFormat.createVideoFormat(&quot;video/avc&quot;, 1280, 720);\n\n            Range&lt;Integer&gt; complexityRange = codec.getCodecInfo().getCapabilitiesForType(&quot;video/avc&quot;).getEncoderCapabilities().getComplexityRange();\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n                Range&lt;Integer&gt; qualityRange = codec.getCodecInfo().getCapabilitiesForType(&quot;video/avc&quot;).getEncoderCapabilities().getQualityRange();\n                Log.d(&quot;CameraHandler&quot;, &quot;Available quality range: &quot;+qualityRange.getLower()+&quot; --- &quot;+qualityRange.getUpper());\n                if(!qualityRange.getLower().equals(qualityRange.getUpper())) mf.setInteger(MediaFormat.KEY_QUALITY, qualityRange.getUpper());\n            } else  {\n                Log.d(&quot;CameraHandler&quot;, &quot;Can't set quality, Android version too low&quot;);\n            }\n\n            MediaCodecInfo.EncoderCapabilities ec = codec.getCodecInfo().getCapabilitiesForType(&quot;video/avc&quot;).getEncoderCapabilities();\n            Log.d(&quot;CameraHandler&quot;, &quot;CBR:&quot; + ec.isBitrateModeSupported(MediaCodecInfo.EncoderCapabilities.BITRATE_MODE_CBR));\n            Log.d(&quot;CameraHandler&quot;, &quot;CQ:&quot; + ec.isBitrateModeSupported(MediaCodecInfo.EncoderCapabilities.BITRATE_MODE_CQ));\n            Log.d(&quot;CameraHandler&quot;, &quot;VBR:&quot; + ec.isBitrateModeSupported(MediaCodecInfo.EncoderCapabilities.BITRATE_MODE_VBR));\n\n            Log.d(&quot;CameraHandler&quot;, &quot;Available complexity range: &quot;+complexityRange.getLower()+&quot; --- &quot;+complexityRange.getUpper());\n\n\n            mf.setInteger(MediaFormat.KEY_COLOR_FORMAT, MediaCodecInfo.CodecCapabilities.COLOR_FormatSurface);\n            mf.setInteger(MediaFormat.KEY_BIT_RATE, 12140318);//Same as sample file from Xperia Z5 recording.\n            mf.setInteger(MediaFormat.KEY_FRAME_RATE, framerate);\n            mf.setInteger(MediaFormat.KEY_CAPTURE_RATE, framerate);\n            mf.setInteger(MediaFormat.KEY_PRIORITY, 0);\n            mf.setInteger(MediaFormat.KEY_I_FRAME_INTERVAL, 5);\n            mf.setLong(MediaFormat.KEY_REPEAT_PREVIOUS_FRAME_AFTER, 100000000);\n\n\n            mf.setInteger(MediaFormat.KEY_PROFILE, MediaCodecInfo.CodecProfileLevel.AVCProfileHigh);\n            mf.setInteger(MediaFormat.KEY_LEVEL, MediaCodecInfo.CodecProfileLevel.AVCLevel41);\n            try {\n                codec.reset();\n                codec.setCallback(cb);\n                codec.configure(mf, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\n            } catch(Exception failed_hi41){\n\n                mf.setInteger(MediaFormat.KEY_PROFILE, MediaCodecInfo.CodecProfileLevel.AVCProfileHigh);\n                mf.setInteger(MediaFormat.KEY_LEVEL, MediaCodecInfo.CodecProfileLevel.AVCLevel31);\n                failed_hi41.printStackTrace();\n                try {\n                    codec.reset();\n                    codec.setCallback(cb);\n                    codec.configure(mf, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\n                } catch(Exception failed_hi31){\n                    mf.setInteger(MediaFormat.KEY_PROFILE, MediaCodecInfo.CodecProfileLevel.AVCProfileMain);\n                    mf.setInteger(MediaFormat.KEY_LEVEL, MediaCodecInfo.CodecProfileLevel.AVCLevel31);\n                    codec.reset();\n                    codec.setCallback(cb);\n                    codec.configure(mf, null, null, MediaCodec.CONFIGURE_FLAG_ENCODE);\n                }\n\n            }\n\n            is = codec.createInputSurface();\n\n            als.add(is);\n        }\n\n        boolean finalUseMotionTrack = useMotionTrack;\n        Range&lt;Integer&gt; finalTargetFps = targetFps;\n        CameraDevice.StateCallback cameraCallback = new CameraDevice.StateCallback() {\n            @Override\n            public void onOpened(@NonNull final CameraDevice camera) {\n                currentCamera = camera;\n\n                if(closed) return;\n\n                try {\n                    if (dicb != null)\n                        dicb.deviceInfo(\n                            codec.getOutputFormat(),\n                            camera,\n                            framerate,\n                            cameraManager.getCameraCharacteristics(camera.getId()));\n\n                } catch (CameraAccessException e) {\n                    e.printStackTrace();\n                }\n\n                try {\n\n                    final CaptureRequest.Builder cr = camera.createCaptureRequest(CameraDevice.TEMPLATE_RECORD);\n\n                    //Use control mode AUTO so we can access A3 features.\n                    cr.set(CaptureRequest.CONTROL_MODE, CaptureRequest.CONTROL_MODE_AUTO);\n\n                    //Use standard video-oriented auto focus - since some devices can't live without it...\n                    cr.set(CaptureRequest.CONTROL_AF_MODE, CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_VIDEO);\n\n                    //Use standard white balance optimization\n                    cr.set(CaptureRequest.CONTROL_AWB_MODE, CaptureRequest.CONTROL_AWB_MODE_AUTO);\n\n                    //Enable auto exposure. This is not ideal, but manual configuration is hard over multiple devices.\n                    cr.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);\n                    if(finalTargetFps != null) cr.set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, finalTargetFps);\n\n                    //Request widest available field of view\n                    float focalLengths[] = targetDetails.get(CameraCharacteristics.LENS_INFO_AVAILABLE_FOCAL_LENGTHS);\n                    if(focalLengths != null &amp;&amp; focalLengths.length &gt; 0)\n                        cr.set(CaptureRequest.LENS_FOCAL_LENGTH, focalLengths[0]);\n\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P &amp;&amp; finalUseMotionTrack) {\n                        cr.set(CaptureRequest.CONTROL_CAPTURE_INTENT, CaptureRequest.CONTROL_CAPTURE_INTENT_MOTION_TRACKING);\n                    } else {\n                        cr.set(CaptureRequest.CONTROL_CAPTURE_INTENT, CaptureRequest.CONTROL_CAPTURE_INTENT_VIDEO_RECORD);\n                    }\n\n                    cr.set(CaptureRequest.CONTROL_VIDEO_STABILIZATION_MODE, CaptureRequest.CONTROL_VIDEO_STABILIZATION_MODE_OFF);\n                    cr.set(CaptureRequest.LENS_OPTICAL_STABILIZATION_MODE, CaptureRequest.LENS_OPTICAL_STABILIZATION_MODE_OFF);\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n                        cr.set(CaptureRequest.STATISTICS_OIS_DATA_MODE, CaptureRequest.STATISTICS_OIS_DATA_MODE_OFF);\n                    }\n\n                    for (Surface al : als) {\n                        cr.addTarget(al);\n                    }\n\n                    CameraCaptureSession.StateCallback sessionCallback = new CameraCaptureSession.StateCallback() {\n                        @Override\n                        public void onConfigured(@NonNull CameraCaptureSession session) {\n                            if(closed) return;\n                            if (recording) codec.start();\n                            try {\n                                CameraCaptureSession.CaptureCallback cc = new CameraCaptureSession.CaptureCallback() {\n                                    @Override\n                                    public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n                                        super.onCaptureCompleted(session, request, result);\n\n                                        long frame = result.getFrameNumber();\n                                        if(estimateStarttime == 0){\n                                            Long ts = result.get(CaptureResult.SENSOR_TIMESTAMP);\n                                            estimateStarttime = ts!=null?ts:0;\n                                        }\n                                        Long timestamp = result.get(CaptureResult.SENSOR_TIMESTAMP);\n                                        Long exposuretime = result.get(CaptureResult.SENSOR_EXPOSURE_TIME);\n                                        Long shutterskew = result.get(CaptureResult.SENSOR_ROLLING_SHUTTER_SKEW);\n                                        Long frameduration = result.get(CaptureResult.SENSOR_FRAME_DURATION);\n\n                                        Long clock_timing_monotonic = System.nanoTime();\n                                        Long clock_timing_realtime = SystemClock.elapsedRealtimeNanos();\n                                        Long clock_timing_millis = System.currentTimeMillis();\n\n\n                                        if(encodedFrameCallback != null){\n                                            encodedFrameCallback.pushFrameMeta(&quot;comparable.realtime_time&quot;, frame, clock_timing_realtime);\n                                            encodedFrameCallback.pushFrameMeta(&quot;comparable.monotonic_time&quot;, frame, clock_timing_monotonic);\n                                            encodedFrameCallback.pushFrameMeta(&quot;comparable.millis_time&quot;, frame, clock_timing_millis);\n\n                                            if(timestamp != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.timestamp&quot;, frame, timestamp);\n                                            if(exposuretime != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.exposure_time&quot;, frame, exposuretime);\n                                            if(shutterskew != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.rolling_shutter_skew&quot;, frame, shutterskew);\n                                            if(frameduration != null) encodedFrameCallback.pushFrameMeta(&quot;sensor.frame_duration&quot;, frame, frameduration);\n                                        }\n                                    }\n\n                                };\n                                if(closed) return;\n                                Handler h = new Handler(captureLooperThread.getLooper());\n                                //if(finalSc != null) finalSc.setCaptureCallback(cc, h);\n                                session.setRepeatingRequest(cr.build(), cc, h);\n                            } catch (CameraAccessException | IllegalStateException e) {\n                                e.printStackTrace();\n                                onFailure.run();\n                            }\n                        }\n\n                        @Override\n                        public void onConfigureFailed(@NonNull CameraCaptureSession session) {\n                            Timber.e(&quot;onConfigureFailed&quot;, new Exception(&quot;Failed to configure camera??&quot;));\n                            onFailure.run();\n                        }\n                    };\n\n                    camera.createCaptureSession(als, sessionCallback, new Handler(recordLooperThread.getLooper()));\n                } catch (CameraAccessException | IllegalStateException e) {\n                    e.printStackTrace();\n                    onFailure.run();\n                }\n            }\n\n            @Override\n            public void onDisconnected(@NonNull CameraDevice camera) { }\n\n            @Override\n            public void onError(@NonNull CameraDevice camera, int error) {\n                Timber.e(&quot;Camera error &quot;+error, new Exception(&quot;Got a camera error, &quot;+error));\n            }\n        };\n\n        cameraManager.openCamera(targetCamera, cameraCallback, new Handler(stateLooperThread.getLooper()));\n        return true;\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n        return false;\n    }\n}\npublic void stopRecording(){\n    closed = true;\n    if(currentCamera != null) currentCamera.close();\n    currentCamera = null;\n    System.out.println(&quot;estimateEndTime: &quot; + estimateTimestamp);\n\n    codec.stop();\n    codec.reset();\n}\n</code></pre>\n"},{"tags":["java","macos","visual-studio-code"],"comments":[{"owner":{"account_id":5306374,"reputation":1010,"user_id":4699195,"accept_rate":80,"display_name":"arslan2012"},"score":0,"creation_date":1605509154,"post_id":64853664,"comment_id":114661682,"body_markdown":"your java version in vscode might be different from terminal.","body":"your java version in vscode might be different from terminal."}],"answers":[{"tags":[],"owner":{"account_id":19858185,"reputation":330,"user_id":14547085,"display_name":"overheated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605510206,"creation_date":1605509240,"answer_id":64853713,"question_id":64853664,"body_markdown":"You need to install the java plugin in VS Code.","title":"JAVA : Program Works in Terminal , But not in Visual Studio Code : Mac OS","body":"<p>You need to install the java plugin in VS Code.</p>\n"},{"tags":[],"owner":{"account_id":19445188,"reputation":40,"user_id":14550991,"display_name":"Goutham Rajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605509421,"creation_date":1605509421,"answer_id":64853744,"question_id":64853664,"body_markdown":"Install Java by searching for extensions in VSCode and try to run again.It will be executed. I belive it is not installed","title":"JAVA : Program Works in Terminal , But not in Visual Studio Code : Mac OS","body":"<p>Install Java by searching for extensions in VSCode and try to run again.It will be executed. I belive it is not installed</p>\n"},{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605519578,"creation_date":1605519578,"answer_id":64855619,"question_id":64853664,"body_markdown":"1. Run the .java file in Terminal to check if JDK can work normally:\r\n\r\n        javac Hey.java\r\n        java Hey\r\n\r\n2. If there&#39;s nothing wrong with the above command execution, turn to VS Code, uninstall **Java Extension Pack** and also delete the related folders under `User/name/.vscode/extensions`, then reinstall it again;\r\n\r\n3. Set `java.home` and `java.configuration.runtimes` in User Settings.json. \r\n&gt;Reference: [Configure JDK][1].\r\n\r\nThen run the project again to see if the problem goes away.\r\n\r\n\r\n  [1]: https://code.visualstudio.com/docs/java/java-project#_configure-jdk","title":"JAVA : Program Works in Terminal , But not in Visual Studio Code : Mac OS","body":"<ol>\n<li><p>Run the .java file in Terminal to check if JDK can work normally:</p>\n<pre><code> javac Hey.java\n java Hey\n</code></pre>\n</li>\n<li><p>If there's nothing wrong with the above command execution, turn to VS Code, uninstall <strong>Java Extension Pack</strong> and also delete the related folders under <code>User/name/.vscode/extensions</code>, then reinstall it again;</p>\n</li>\n<li><p>Set <code>java.home</code> and <code>java.configuration.runtimes</code> in User Settings.json.</p>\n</li>\n</ol>\n<blockquote>\n<p>Reference: <a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-jdk\" rel=\"nofollow noreferrer\">Configure JDK</a>.</p>\n</blockquote>\n<p>Then run the project again to see if the problem goes away.</p>\n"},{"tags":[],"owner":{"account_id":20007284,"reputation":1,"user_id":14665029,"display_name":"ligenboboqiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605736510,"creation_date":1605736157,"answer_id":64901926,"question_id":64853664,"body_markdown":"Hi just found a solution here!\r\nInitially guess it should be a problem with zsh. \r\nso first open your terminal and type \r\n\r\n&gt; open ~/.zshrc\r\n\r\nat this point you will see text editor pops up with a zsh config file. \r\n\r\nAdd\r\n\r\n&gt; export JAVA_HOME=`/usr/libexec/java_home\r\n\r\nto the last line in that file, and save the file quit. \r\n\r\nThen just reopen the VSC and you will notice everything would back to normal as usual.\n\r\n","title":"JAVA : Program Works in Terminal , But not in Visual Studio Code : Mac OS","body":"<p>Hi just found a solution here!\nInitially guess it should be a problem with zsh.\nso first open your terminal and type</p>\n<blockquote>\n<p>open ~/.zshrc</p>\n</blockquote>\n<p>at this point you will see text editor pops up with a zsh config file.</p>\n<p>Add</p>\n<blockquote>\n<p>export JAVA_HOME=`/usr/libexec/java_home</p>\n</blockquote>\n<p>to the last line in that file, and save the file quit.</p>\n<p>Then just reopen the VSC and you will notice everything would back to normal as usual.</p>\n"},{"tags":[],"owner":{"account_id":20829759,"reputation":81,"user_id":17401451,"display_name":"Antact"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660660953,"creation_date":1660660953,"answer_id":73375887,"question_id":64853664,"body_markdown":"I faced a similar problem. When running the same Java program, it worked in terminal but VS Code couldn&#39;t detect java.\r\n\r\nAll it turned out to be was I forgot to add Code itself to Path after reinstallation, nothing to do with Java.","title":"JAVA : Program Works in Terminal , But not in Visual Studio Code : Mac OS","body":"<p>I faced a similar problem. When running the same Java program, it worked in terminal but VS Code couldn't detect java.</p>\n<p>All it turned out to be was I forgot to add Code itself to Path after reinstallation, nothing to do with Java.</p>\n"}],"owner":{"account_id":18608444,"reputation":333,"user_id":13561512,"display_name":"Vishnu Joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64855619,"answer_count":5,"score":2,"last_activity_date":1660660953,"creation_date":1605508963,"question_id":64853664,"body_markdown":"My JAVA Programs used to run without any errors on both the Terminal and Visual Studio Code&#39;s Terminal .\r\n\r\nAfter my Mac updated  to MacOs Big Sur Version 11.0.1 , my JAVA programs show an error , even though the same code worked properly before . \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n\r\nThere was no error before. \r\n\r\n\r\n\r\nI checked my JDK and JRE Installations also\r\n\r\n[![enter image description here][3]][3]\r\n\r\nMy Python files execute normally in the VS Code environment , so I do not think there is a problem with VS Code .\r\n\r\n\r\nI have tried searching for an solution and have tried to clear the logs.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MsuvE.png\r\n  [2]: https://i.stack.imgur.com/YDYrL.png\r\n  [3]: https://i.stack.imgur.com/QCE0V.png\r\n  [4]: https://i.stack.imgur.com/AvNQs.png\r\n\r\n\r\n\r\nI would appreciate if anyone could guide me :) ","title":"JAVA : Program Works in Terminal , But not in Visual Studio Code : Mac OS","body":"<p>My JAVA Programs used to run without any errors on both the Terminal and Visual Studio Code's Terminal .</p>\n<p>After my Mac updated  to MacOs Big Sur Version 11.0.1 , my JAVA programs show an error , even though the same code worked properly before .</p>\n<p><a href=\"https://i.stack.imgur.com/MsuvE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MsuvE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/YDYrL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDYrL.png\" alt=\"enter image description here\" /></a></p>\n<p>There was no error before.</p>\n<p>I checked my JDK and JRE Installations also</p>\n<p><a href=\"https://i.stack.imgur.com/QCE0V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QCE0V.png\" alt=\"enter image description here\" /></a></p>\n<p>My Python files execute normally in the VS Code environment , so I do not think there is a problem with VS Code .</p>\n<p>I have tried searching for an solution and have tried to clear the logs.</p>\n<p><a href=\"https://i.stack.imgur.com/AvNQs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AvNQs.png\" alt=\"enter image description here\" /></a></p>\n<p>I would appreciate if anyone could guide me :)</p>\n"},{"tags":["java","maven","junit","cucumber-jvm","allure"],"answers":[{"tags":[],"owner":{"account_id":3820042,"reputation":361,"user_id":3168324,"accept_rate":100,"display_name":"Viktor Sidochenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486049028,"creation_date":1485668223,"answer_id":41917959,"question_id":41896121,"body_markdown":"It because you messed up with deps and configuration.\r\nFirst of all, remove allure-junit-adaptor dependency.\r\nAnd finally remove properties section from surefire configuration.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;m2m-selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;b2b-web-test&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;aspectj.version&gt;1.7.4&lt;/aspectj.version&gt;\r\n            &lt;allure.version&gt;1.4.23&lt;/allure.version&gt;\r\n            &lt;serverAddress&gt;http://m2m-b2b/b2b/&lt;/serverAddress&gt;\r\n            &lt;username&gt;admin&lt;/username&gt;\r\n            &lt;password&gt;admin&lt;/password&gt;\r\n            &lt;browser&gt;chrome&lt;/browser&gt;\r\n            &lt;timeout&gt;500&lt;/timeout&gt;\r\n            &lt;!--Selenium driver: remote or local--&gt;\r\n            &lt;seleniumDriver&gt;local&lt;/seleniumDriver&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.21&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\r\n                &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--NEW--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-cucumber-jvm-adaptor&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                        &lt;argLine&gt;\r\n                            -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\r\n                            -Dcucumber.options=&quot;--plugin ru.yandex.qatools.allure.cucumberjvm.AllureReporter&quot;\r\n                        &lt;/argLine&gt;\r\n                        &lt;properties&gt;\r\n                            &lt;property&gt;\r\n                                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                            &lt;/property&gt;\r\n                        &lt;/properties&gt;\r\n                        &lt;forkMode&gt;never&lt;/forkMode&gt;\r\n                        &lt;!--    &lt;reuseForks&gt;false&lt;/reuseForks&gt;--&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;serverAddress&gt;${serverAddress}&lt;/serverAddress&gt;\r\n                            &lt;username&gt;${username}&lt;/username&gt;\r\n                            &lt;password&gt;${password}&lt;/password&gt;\r\n                            &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\r\n                            &lt;browser&gt;${browser}&lt;/browser&gt;\r\n                            &lt;timeout&gt;${timeout}&lt;/timeout&gt;\r\n                            &lt;seleniumDriver&gt;${seleniumDriver}&lt;/seleniumDriver&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!--Needed only to show reports locally. Run jetty:run and\r\n                open localhost:8080 to show the report--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.2.10.v20150310&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;webAppSourceDirectory&gt;${project.build.directory}/site/allure-maven-plugin&lt;/webAppSourceDirectory&gt;\r\n                        &lt;stopKey&gt;stop&lt;/stopKey&gt;\r\n                        &lt;stopPort&gt;1234&lt;/stopPort&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;reporting&gt;\r\n            &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;resultsDirectory&gt;allure-results&lt;/resultsDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/reporting&gt;\r\n    &lt;/project&gt;","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test, during Cucumber testing","body":"<p>It because you messed up with deps and configuration.\nFirst of all, remove allure-junit-adaptor dependency.\nAnd finally remove properties section from surefire configuration.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;m2m-selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;b2b-web-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;aspectj.version&gt;1.7.4&lt;/aspectj.version&gt;\n        &lt;allure.version&gt;1.4.23&lt;/allure.version&gt;\n        &lt;serverAddress&gt;http://m2m-b2b/b2b/&lt;/serverAddress&gt;\n        &lt;username&gt;admin&lt;/username&gt;\n        &lt;password&gt;admin&lt;/password&gt;\n        &lt;browser&gt;chrome&lt;/browser&gt;\n        &lt;timeout&gt;500&lt;/timeout&gt;\n        &lt;!--Selenium driver: remote or local--&gt;\n        &lt;seleniumDriver&gt;local&lt;/seleniumDriver&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\n            &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;2.12.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--NEW--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber-jvm-adaptor&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;\n                        -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\n                        -Dcucumber.options=\"--plugin ru.yandex.qatools.allure.cucumberjvm.AllureReporter\"\n                    &lt;/argLine&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                        &lt;/property&gt;\n                    &lt;/properties&gt;\n                    &lt;forkMode&gt;never&lt;/forkMode&gt;\n                    &lt;!--    &lt;reuseForks&gt;false&lt;/reuseForks&gt;--&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;serverAddress&gt;${serverAddress}&lt;/serverAddress&gt;\n                        &lt;username&gt;${username}&lt;/username&gt;\n                        &lt;password&gt;${password}&lt;/password&gt;\n                        &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\n                        &lt;browser&gt;${browser}&lt;/browser&gt;\n                        &lt;timeout&gt;${timeout}&lt;/timeout&gt;\n                        &lt;seleniumDriver&gt;${seleniumDriver}&lt;/seleniumDriver&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;!--Needed only to show reports locally. Run jetty:run and\n            open localhost:8080 to show the report--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.2.10.v20150310&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webAppSourceDirectory&gt;${project.build.directory}/site/allure-maven-plugin&lt;/webAppSourceDirectory&gt;\n                    &lt;stopKey&gt;stop&lt;/stopKey&gt;\n                    &lt;stopPort&gt;1234&lt;/stopPort&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resultsDirectory&gt;allure-results&lt;/resultsDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15754923,"reputation":1,"user_id":11368367,"display_name":"zombiefield"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555417086,"creation_date":1555417086,"answer_id":55707979,"question_id":41896121,"body_markdown":"In some cases the solution is to rename all files inside the project that contains &quot;test&quot; in filename, that are mot a proper .java file. ","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test, during Cucumber testing","body":"<p>In some cases the solution is to rename all files inside the project that contains \"test\" in filename, that are mot a proper .java file. </p>\n"},{"tags":[],"owner":{"account_id":14758303,"reputation":61,"user_id":10658401,"display_name":"Shubham parab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660660709,"creation_date":1660660709,"answer_id":73375822,"question_id":41896121,"body_markdown":"I might be late to answer this ..but I was facing similar issue while executing test cases even if all test cases passed build shows failure with the same exception.\r\n\r\nSolution - make sure you don&#39;t have any scenario / scenario outline in a feature file with brackets or special characters in some case . Please keep it simple :) hope this helps ","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test, during Cucumber testing","body":"<p>I might be late to answer this ..but I was facing similar issue while executing test cases even if all test cases passed build shows failure with the same exception.</p>\n<p>Solution - make sure you don't have any scenario / scenario outline in a feature file with brackets or special characters in some case . Please keep it simple :) hope this helps</p>\n"}],"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4912,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1660660709,"creation_date":1485526875,"question_id":41896121,"body_markdown":"I need to attach Allure to my Cucumber (Java) test project. \r\n\r\nIn fact, all tests that I&#39;ve got, run correctly if I start them from JUnit test-starter.\r\n\r\nIf I run my tests with command:\r\n\r\n    mvn clean test\r\n\r\nIn the end of Maven log I get:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 17.078 s\r\n    [INFO] Finished at: 2017-01-27T17:11:17+03:00\r\n    [INFO] Final Memory: 27M/322M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project web-test: Exception in provider: java.lang.NullPointerException -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nThis cause the situation, when Allure-reports could not be formed aftet **mvn site** command.\r\n\r\nHere is stacktrace of the error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project web-test: Exception in provider: java.lang.NullPointerException -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project web-test: Exception in provider\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\r\n            at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    Caused by: org.apache.maven.plugin.MojoFailureException: Exception in provider\r\n            at org.apache.maven.plugin.surefire.SurefirePlugin.assertNoException(SurefirePlugin.java:328)\r\n            at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary(SurefirePlugin.java:318)\r\n            at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:892)\r\n            at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:755)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\r\n            ... 20 more\r\n    Caused by: org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\r\n            at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:87)\r\n            at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1010)\r\n            at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:862)\r\n            ... 23 more\r\n    Caused by: org.apache.maven.surefire.testset.TestSetFailedException: java.lang.NullPointerException\r\n            at org.apache.maven.surefire.common.junit4.JUnit4RunListener.rethrowAnyTestMechanismFailures(JUnit4RunListener.java:209)\r\n            at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:169)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:202)\r\n            at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:155)\r\n            at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:81)\r\n            at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:82)\r\n            ... 25 more\r\n    Caused by: java.lang.NullPointerException\r\n            at org.junit.runner.Description.createSuiteDescription(Description.java:123)\r\n            at ru.yandex.qatools.allure.junit.AllureRunListener.getSuiteUid(AllureRunListener.java:110)\r\n            at ru.yandex.qatools.allure.junit.AllureRunListener.testStarted(AllureRunListener.java:50)\r\n            at org.junit.runner.notification.RunNotifier$3.notifyListener(RunNotifier.java:115)\r\n            at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:61)\r\n            at org.junit.runner.notification.RunNotifier.fireTestStarted(RunNotifier.java:112)\r\n            at org.apache.maven.surefire.common.junit4.Notifier.fireTestStarted(Notifier.java:100)\r\n            at org.junit.internal.runners.model.EachTestNotifier.fireTestStarted(EachTestNotifier.java:43)\r\n            at cucumber.runtime.junit.JUnitReporter.startExecutionUnit(JUnitReporter.java:54)\r\n            at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:100)\r\n            at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n            at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n            at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n            at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n            at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n            at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n            at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n            at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n            at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n            at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\r\n            at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\r\n            at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n            at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n            at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n            at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n            at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n            at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n            at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n            at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n            at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\r\n            at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)\r\n            at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)\r\n            at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n            at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)\r\n            ... 33 more\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nAnd here are the contents of the pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;m2m-selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;web-test&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;aspectj.version&gt;1.7.4&lt;/aspectj.version&gt;\r\n            &lt;allure.version&gt;1.4.23&lt;/allure.version&gt;\r\n            &lt;serverAddress&gt;http://site&lt;/serverAddress&gt;\r\n            &lt;username&gt;admin&lt;/username&gt;\r\n            &lt;password&gt;admin&lt;/password&gt;\r\n            &lt;browser&gt;chrome&lt;/browser&gt;\r\n            &lt;timeout&gt;500&lt;/timeout&gt;\r\n            &lt;!--Selenium driver: remote or local--&gt;\r\n            &lt;seleniumDriver&gt;local&lt;/seleniumDriver&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.21&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\r\n                &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-junit-adaptor&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.5&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--NEW--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-cucumber-jvm-adaptor&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.19.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n                        &lt;argLine&gt;\r\n                            -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\r\n                            -Dcucumber.options=&quot;--plugin ru.yandex.qatools.allure.cucumberjvm.AllureReporter&quot;\r\n                        &lt;/argLine&gt;\r\n                        &lt;properties&gt;\r\n                            &lt;property&gt;\r\n                                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                                &lt;name&gt;listener&lt;/name&gt;\r\n                                &lt;value&gt;ru.yandex.qatools.allure.junit.AllureRunListener&lt;/value&gt;\r\n                            &lt;/property&gt;\r\n                        &lt;/properties&gt;\r\n                        &lt;forkMode&gt;never&lt;/forkMode&gt;\r\n                        &lt;!--    &lt;reuseForks&gt;false&lt;/reuseForks&gt;--&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                        &lt;systemPropertyVariables&gt;\r\n                            &lt;serverAddress&gt;${serverAddress}&lt;/serverAddress&gt;\r\n                            &lt;username&gt;${username}&lt;/username&gt;\r\n                            &lt;password&gt;${password}&lt;/password&gt;\r\n                            &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\r\n                            &lt;browser&gt;${browser}&lt;/browser&gt;\r\n                            &lt;timeout&gt;${timeout}&lt;/timeout&gt;\r\n                            &lt;seleniumDriver&gt;${seleniumDriver}&lt;/seleniumDriver&gt;\r\n                        &lt;/systemPropertyVariables&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!--Needed only to show reports locally. Run jetty:run and\r\n                open localhost:8080 to show the report--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;9.2.10.v20150310&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;webAppSourceDirectory&gt;${project.build.directory}/site/allure-maven-plugin&lt;/webAppSourceDirectory&gt;\r\n                        &lt;stopKey&gt;stop&lt;/stopKey&gt;\r\n                        &lt;stopPort&gt;1234&lt;/stopPort&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;reporting&gt;\r\n            &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;resultsDirectory&gt;allure-results&lt;/resultsDirectory&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/reporting&gt;\r\n    &lt;/project&gt;\r\n\r\nCould you help me with this, please?","title":"Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test, during Cucumber testing","body":"<p>I need to attach Allure to my Cucumber (Java) test project. </p>\n\n<p>In fact, all tests that I've got, run correctly if I start them from JUnit test-starter.</p>\n\n<p>If I run my tests with command:</p>\n\n<pre><code>mvn clean test\n</code></pre>\n\n<p>In the end of Maven log I get:</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 17.078 s\n[INFO] Finished at: 2017-01-27T17:11:17+03:00\n[INFO] Final Memory: 27M/322M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project web-test: Exception in provider: java.lang.NullPointerException -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>This cause the situation, when Allure-reports could not be formed aftet <strong>mvn site</strong> command.</p>\n\n<p>Here is stacktrace of the error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project web-test: Exception in provider: java.lang.NullPointerException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project web-test: Exception in provider\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.MojoFailureException: Exception in provider\n        at org.apache.maven.plugin.surefire.SurefirePlugin.assertNoException(SurefirePlugin.java:328)\n        at org.apache.maven.plugin.surefire.SurefirePlugin.handleSummary(SurefirePlugin.java:318)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:892)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:755)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n        ... 20 more\nCaused by: org.apache.maven.surefire.booter.SurefireExecutionException: Exception in provider\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:87)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1010)\n        at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:862)\n        ... 23 more\nCaused by: org.apache.maven.surefire.testset.TestSetFailedException: java.lang.NullPointerException\n        at org.apache.maven.surefire.common.junit4.JUnit4RunListener.rethrowAnyTestMechanismFailures(JUnit4RunListener.java:209)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:169)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray2(ReflectionUtils.java:202)\n        at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:155)\n        at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:81)\n        at org.apache.maven.plugin.surefire.InPluginVMSurefireStarter.runSuitesInProcess(InPluginVMSurefireStarter.java:82)\n        ... 25 more\nCaused by: java.lang.NullPointerException\n        at org.junit.runner.Description.createSuiteDescription(Description.java:123)\n        at ru.yandex.qatools.allure.junit.AllureRunListener.getSuiteUid(AllureRunListener.java:110)\n        at ru.yandex.qatools.allure.junit.AllureRunListener.testStarted(AllureRunListener.java:50)\n        at org.junit.runner.notification.RunNotifier$3.notifyListener(RunNotifier.java:115)\n        at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:61)\n        at org.junit.runner.notification.RunNotifier.fireTestStarted(RunNotifier.java:112)\n        at org.apache.maven.surefire.common.junit4.Notifier.fireTestStarted(Notifier.java:100)\n        at org.junit.internal.runners.model.EachTestNotifier.fireTestStarted(EachTestNotifier.java:43)\n        at cucumber.runtime.junit.JUnitReporter.startExecutionUnit(JUnitReporter.java:54)\n        at cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:100)\n        at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\n        at cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\n        at cucumber.api.junit.Cucumber.runChild(Cucumber.java:95)\n        at cucumber.api.junit.Cucumber.runChild(Cucumber.java:38)\n        at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n        at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n        at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n        at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n        at cucumber.api.junit.Cucumber.run(Cucumber.java:100)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\n        at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)\n        ... 33 more\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>And here are the contents of the pom.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;m2m-selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;web-test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;aspectj.version&gt;1.7.4&lt;/aspectj.version&gt;\n        &lt;allure.version&gt;1.4.23&lt;/allure.version&gt;\n        &lt;serverAddress&gt;http://site&lt;/serverAddress&gt;\n        &lt;username&gt;admin&lt;/username&gt;\n        &lt;password&gt;admin&lt;/password&gt;\n        &lt;browser&gt;chrome&lt;/browser&gt;\n        &lt;timeout&gt;500&lt;/timeout&gt;\n        &lt;!--Selenium driver: remote or local--&gt;\n        &lt;seleniumDriver&gt;local&lt;/seleniumDriver&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pl.pragmatists&lt;/groupId&gt;\n            &lt;artifactId&gt;JUnitParams&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.1.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit-adaptor&lt;/artifactId&gt;\n            &lt;version&gt;${allure.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;2.12.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--NEW--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-cucumber-jvm-adaptor&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.19.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;argLine&gt;\n                        -javaagent:${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar\n                        -Dcucumber.options=\"--plugin ru.yandex.qatools.allure.cucumberjvm.AllureReporter\"\n                    &lt;/argLine&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                            &lt;name&gt;listener&lt;/name&gt;\n                            &lt;value&gt;ru.yandex.qatools.allure.junit.AllureRunListener&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/properties&gt;\n                    &lt;forkMode&gt;never&lt;/forkMode&gt;\n                    &lt;!--    &lt;reuseForks&gt;false&lt;/reuseForks&gt;--&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;serverAddress&gt;${serverAddress}&lt;/serverAddress&gt;\n                        &lt;username&gt;${username}&lt;/username&gt;\n                        &lt;password&gt;${password}&lt;/password&gt;\n                        &lt;buildDirectory&gt;${project.build.directory}&lt;/buildDirectory&gt;\n                        &lt;browser&gt;${browser}&lt;/browser&gt;\n                        &lt;timeout&gt;${timeout}&lt;/timeout&gt;\n                        &lt;seleniumDriver&gt;${seleniumDriver}&lt;/seleniumDriver&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;!--Needed only to show reports locally. Run jetty:run and\n            open localhost:8080 to show the report--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;9.2.10.v20150310&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;webAppSourceDirectory&gt;${project.build.directory}/site/allure-maven-plugin&lt;/webAppSourceDirectory&gt;\n                    &lt;stopKey&gt;stop&lt;/stopKey&gt;\n                    &lt;stopPort&gt;1234&lt;/stopPort&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;reporting&gt;\n        &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;ru.yandex.qatools.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;resultsDirectory&gt;allure-results&lt;/resultsDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Could you help me with this, please?</p>\n"},{"tags":["java","android","xml","loops","android-layout"],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660660649,"creation_date":1660660649,"answer_id":73375801,"question_id":73372645,"body_markdown":"It is likely that you are not waiting for the top _LinearLayout_ to have a size. You can wait for a size to be assigned by using a [ViewTreeObserver.OnGlobalLayoutListener](https://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener). Here is some code that should help:\r\n\r\n    linearLayout.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\r\n        @Override\r\n        public void onGlobalLayout() {\r\n            linearLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\r\n\r\n            linearLayout.removeAllViews();\r\n            int newWidth = linearLayout.getWidth() / 10;\r\n            int newHeight = linearLayout.getHeight();\r\n            int i = 0;\r\n            while (i &lt; 10) {\r\n                i++;\r\n                LinearLayout child =\r\n                        (LinearLayout) getLayoutInflater().inflate(R.layout.stories_progress,\r\n                                linearLayout, false);\r\n                LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams();\r\n                lp.width = newWidth;\r\n                lp.height = newHeight;\r\n                linearLayout.addView(child);\r\n            }\r\n        }\r\n    })","title":"How to change the size (width and height) of progressbar to fit all in linearlayout?","body":"<p>It is likely that you are not waiting for the top <em>LinearLayout</em> to have a size. You can wait for a size to be assigned by using a <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver.OnGlobalLayoutListener\" rel=\"nofollow noreferrer\">ViewTreeObserver.OnGlobalLayoutListener</a>. Here is some code that should help:</p>\n<pre><code>linearLayout.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n    @Override\n    public void onGlobalLayout() {\n        linearLayout.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n\n        linearLayout.removeAllViews();\n        int newWidth = linearLayout.getWidth() / 10;\n        int newHeight = linearLayout.getHeight();\n        int i = 0;\n        while (i &lt; 10) {\n            i++;\n            LinearLayout child =\n                    (LinearLayout) getLayoutInflater().inflate(R.layout.stories_progress,\n                            linearLayout, false);\n            LinearLayout.LayoutParams lp = (LinearLayout.LayoutParams) child.getLayoutParams();\n            lp.width = newWidth;\n            lp.height = newHeight;\n            linearLayout.addView(child);\n        }\n    }\n})\n</code></pre>\n"}],"owner":{"account_id":21181547,"reputation":181,"user_id":15575849,"display_name":"Miguel Bets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73375801,"answer_count":1,"score":1,"last_activity_date":1660660649,"creation_date":1660646275,"question_id":73372645,"body_markdown":"I would like to add an unknown amount of progressbar to a linearlayout.\r\n(Like Whatsapp Status, and Instagram Stories)\r\nI can add progressbar to the linearlayout but the progressbar just shows max 7 progressbar.[![progressbar with 7 progressbar even though should be 10][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cVoWe.jpg\r\n\r\nMy code so far:\r\n\r\n    while (i &lt; 10){\r\n        i ++;\r\n        View child = getLayoutInflater().inflate(R.layout.stories_progress, null);\r\n        linearLayout.addView(child);\r\n    }\r\n\r\nI would like to shrink the size of the progressbar programmatically,\r\nso when I have 2 progressbar, they fill the layout with 50%/50%,\r\nwhen 5, 10 or even 20 progressbar, they become smaller, all of them will be displayed on linearlayout\r\nI tried to get the current width of the linearlayout and divide by\r\nthe number of progressbars, but the width of the linearlayout returns always 0;\r\n\r\n\r\nMy xml: \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/linear_layout_id&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        tools:context=&quot;.stories&quot;&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nMy progressbar\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;5dp&quot;&gt;\r\n    \r\n        &lt;ProgressBar\r\n            android:id=&quot;@+id/stories_progressBar_id&quot;\r\n            style=&quot;@style/Widget.AppCompat.ProgressBar.Horizontal&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n        &lt;/ProgressBar&gt;\r\n    \r\n    &lt;/LinearLayout&gt;","title":"How to change the size (width and height) of progressbar to fit all in linearlayout?","body":"<p>I would like to add an unknown amount of progressbar to a linearlayout.\n(Like Whatsapp Status, and Instagram Stories)\nI can add progressbar to the linearlayout but the progressbar just shows max 7 progressbar.<a href=\"https://i.stack.imgur.com/cVoWe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cVoWe.jpg\" alt=\"progressbar with 7 progressbar even though should be 10\" /></a></p>\n<p>My code so far:</p>\n<pre><code>while (i &lt; 10){\n    i ++;\n    View child = getLayoutInflater().inflate(R.layout.stories_progress, null);\n    linearLayout.addView(child);\n}\n</code></pre>\n<p>I would like to shrink the size of the progressbar programmatically,\nso when I have 2 progressbar, they fill the layout with 50%/50%,\nwhen 5, 10 or even 20 progressbar, they become smaller, all of them will be displayed on linearlayout\nI tried to get the current width of the linearlayout and divide by\nthe number of progressbars, but the width of the linearlayout returns always 0;</p>\n<p>My xml:</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/linear_layout_id&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;30dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    tools:context=&quot;.stories&quot;&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>My progressbar</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;5dp&quot;&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/stories_progressBar_id&quot;\n        style=&quot;@style/Widget.AppCompat.ProgressBar.Horizontal&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;/ProgressBar&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","eclipse","tomcat","jersey","jax-rs"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1660655108,"post_id":73373515,"comment_id":129578998,"body_markdown":"What does the Console mention about your project while the app server is starting?","body":"What does the Console mention about your project while the app server is starting?"},{"owner":{"account_id":12953017,"reputation":3,"user_id":12910289,"display_name":"maryam"},"score":0,"creation_date":1660656405,"post_id":73373515,"comment_id":129579594,"body_markdown":"&quot;java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer&quot;","body":"&quot;java.lang.ClassNotFoundException: org.glassfish.jersey.servlet.ServletContainer&quot;"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1660660541,"post_id":73373515,"comment_id":129581434,"body_markdown":"That&#39;s a pretty fundamental problem. Does the tutorial match the Jersey version you&#39;re using?","body":"That&#39;s a pretty fundamental problem. Does the tutorial match the Jersey version you&#39;re using?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1660660547,"post_id":73373515,"comment_id":129581437,"body_markdown":"Where are your Jersey libraries? If you&#39;re not using Maven, you should put all the libraries into the webapp/WEB-INF/lib folder","body":"Where are your Jersey libraries? If you&#39;re not using Maven, you should put all the libraries into the webapp/WEB-INF/lib folder"},{"owner":{"account_id":12953017,"reputation":3,"user_id":12910289,"display_name":"maryam"},"score":0,"creation_date":1660719682,"post_id":73373515,"comment_id":129595956,"body_markdown":"@nitind I used the same jars mentioned in the tutorial, not sure if this is what you mean...","body":"@nitind I used the same jars mentioned in the tutorial, not sure if this is what you mean..."}],"owner":{"account_id":12953017,"reputation":3,"user_id":12910289,"display_name":"maryam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660660606,"creation_date":1660650574,"question_id":73373515,"body_markdown":"I&#39;m following this tutorial https://www.javatpoint.com/jax-rs-example-jersey using Eclipse&#39;s Dynamic Web Project. The index page works fine, but the jersey part gives a 404. I tried the following urls:\r\n\r\n```\r\nhttp://localhost:8080/JerseyProject/rest/hello\r\nhttp://localhost:8080/JerseyProject/hello\r\n```\r\n\r\nBoth don&#39;t work. This is my project structure:\r\n\r\n[![Project Structure][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/I5rVL.png","title":"Tomcat gives a 404 when using Jersey on Eclipse","body":"<p>I'm following this tutorial <a href=\"https://www.javatpoint.com/jax-rs-example-jersey\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/jax-rs-example-jersey</a> using Eclipse's Dynamic Web Project. The index page works fine, but the jersey part gives a 404. I tried the following urls:</p>\n<pre><code>http://localhost:8080/JerseyProject/rest/hello\nhttp://localhost:8080/JerseyProject/hello\n</code></pre>\n<p>Both don't work. This is my project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/I5rVL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I5rVL.png\" alt=\"Project Structure\" /></a></p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1660665142,"post_id":73375514,"comment_id":129583421,"body_markdown":"You may need to reset the perspective.","body":"You may need to reset the perspective."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660660483,"creation_date":1660660483,"answer_id":73375770,"question_id":73375514,"body_markdown":"Enable the &quot;Clear the configuration area before launching&quot; checkbox in your launch configuration. `plugin.xml` contents are cached otherwise.\r\n\r\n[![Configuration tab of the launch configuration dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmZYK.png","title":"How to make deleted items in &quot;show view&quot; invisible in Eclipse RCP?","body":"<p>Enable the &quot;Clear the configuration area before launching&quot; checkbox in your launch configuration. <code>plugin.xml</code> contents are cached otherwise.</p>\n<p><a href=\"https://i.stack.imgur.com/OmZYK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmZYK.png\" alt=\"Configuration tab of the launch configuration dialog\" /></a></p>\n"}],"owner":{"account_id":25833843,"reputation":11,"user_id":19570541,"display_name":"kimdh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1660660483,"creation_date":1660659415,"question_id":73375514,"body_markdown":"I&#39;m creating a web development framework with Eclipse RCP.\r\n\r\nI did not need the view I made, so I removed the code below and the icon image from plugin.xml.\r\n\r\n```\r\n\t&lt;extension point=&quot;org.eclipse.ui.views&quot;&gt;\r\n\t\t&lt;view\r\n\t\t\tcategory=&quot;...&quot;\r\n\t\t\tname=&quot;...&quot;\r\n\t\t\ticon=&quot;...&quot;\r\n\t\t\tclass=&quot;...&quot;\r\n\t\t\tid=&quot;...&quot;\r\n\t\t\t&gt;\r\n\t&lt;/extension&gt;\r\n\r\n```\r\n\r\nBy the way, I see the removed item in &quot;show view&quot;. The icon shows a red square.\r\n\r\nHow do I remove it?","title":"How to make deleted items in &quot;show view&quot; invisible in Eclipse RCP?","body":"<p>I'm creating a web development framework with Eclipse RCP.</p>\n<p>I did not need the view I made, so I removed the code below and the icon image from plugin.xml.</p>\n<pre><code>    &lt;extension point=&quot;org.eclipse.ui.views&quot;&gt;\n        &lt;view\n            category=&quot;...&quot;\n            name=&quot;...&quot;\n            icon=&quot;...&quot;\n            class=&quot;...&quot;\n            id=&quot;...&quot;\n            &gt;\n    &lt;/extension&gt;\n\n</code></pre>\n<p>By the way, I see the removed item in &quot;show view&quot;. The icon shows a red square.</p>\n<p>How do I remove it?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1443191514,"post_id":32784434,"comment_id":53407780,"body_markdown":"&quot;and the code execution stops there without going further&quot; - do you mean it hangs, or something else? The fact that when you catch an exception you&#39;re requesting the message but not logging anything probably isn&#39;t helping you...","body":"&quot;and the code execution stops there without going further&quot; - do you mean it hangs, or something else? The fact that when you catch an exception you&#39;re requesting the message but not logging anything probably isn&#39;t helping you..."},{"owner":{"account_id":5929238,"reputation":182,"user_id":4664244,"accept_rate":67,"display_name":"Prashanth"},"score":0,"creation_date":1443193013,"post_id":32784434,"comment_id":53408732,"body_markdown":"@Jon Skeet I&#39;ve edited my answer. I&#39;ve provided an example.","body":"@Jon Skeet I&#39;ve edited my answer. I&#39;ve provided an example."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1443193212,"post_id":32784434,"comment_id":53408869,"body_markdown":"Right, well the *first* thing you should do is fix your `catch` block to actually print the exception, instead of calling `getMessage()` and ignoring the result. It&#39;s entirely possible that an exception is being thrown, but we can&#39;t tell because you&#39;re swallowing it.","body":"Right, well the <i>first</i> thing you should do is fix your <code>catch</code> block to actually print the exception, instead of calling <code>getMessage()</code> and ignoring the result. It&#39;s entirely possible that an exception is being thrown, but we can&#39;t tell because you&#39;re swallowing it."},{"owner":{"account_id":5929238,"reputation":182,"user_id":4664244,"accept_rate":67,"display_name":"Prashanth"},"score":0,"creation_date":1443193303,"post_id":32784434,"comment_id":53408939,"body_markdown":"@user3339429 Can you please suggest any workaround for that?","body":"@user3339429 Can you please suggest any workaround for that?"},{"owner":{"account_id":5929238,"reputation":182,"user_id":4664244,"accept_rate":67,"display_name":"Prashanth"},"score":0,"creation_date":1443193907,"post_id":32784434,"comment_id":53409327,"body_markdown":"@JonSkeet `Exception: Only read 74838 bytes. Expected 60326 bytes` This is the exception which got printed.","body":"@JonSkeet <code>Exception: Only read 74838 bytes. Expected 60326 bytes</code> This is the exception which got printed."},{"owner":{"account_id":5929238,"reputation":182,"user_id":4664244,"accept_rate":67,"display_name":"Prashanth"},"score":0,"creation_date":1443194430,"post_id":32784434,"comment_id":53409650,"body_markdown":"So it&#39;s reading more than the content length?","body":"So it&#39;s reading more than the content length?"},{"owner":{"account_id":4063626,"reputation":1009,"user_id":3339429,"display_name":"JTY"},"score":2,"creation_date":1443194713,"post_id":32784434,"comment_id":53409842,"body_markdown":"@Prashanth Your byteRead is adding to itself each loop. that means your offset is pretty much multiplying. Instead of += operator for byteRead, just use =.","body":"@Prashanth Your byteRead is adding to itself each loop. that means your offset is pretty much multiplying. Instead of += operator for byteRead, just use =."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1443195153,"post_id":32784434,"comment_id":53410149,"body_markdown":"`So it&#39;s reading more than the content length?` - yes, and I showed you a simple way to just read the bytes with a simplified loop.","body":"<code>So it&#39;s reading more than the content length?</code> - yes, and I showed you a simple way to just read the bytes with a simplified loop."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1443204066,"post_id":32784434,"comment_id":53414953,"body_markdown":"You could replace most of your download code with `Files.copy(in, Paths.get(downloadDir, filename))`.  See the [Files.copy](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-) method.  This would greatly simplify debugging in the future.","body":"You could replace most of your download code with <code>Files.copy(in, Paths.get(downloadDir, filename))</code>.  See the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.io.InputStream-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\">Files.copy</a> method.  This would greatly simplify debugging in the future."}],"answers":[{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443193295,"creation_date":1443193295,"answer_id":32785141,"question_id":32784434,"body_markdown":"Can you try in this way?\r\n      \r\n    int bytesRead = -1;\r\n    byte[] buffer = new byte[4098]; // you can change it\r\n    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n        outputStream.write(buffer, 0, bytesRead);\r\n    }\r\n    outputStream.close();\r\n    inputStream.close();\r\n\r\nHave a look at this [article][1] once\r\n\r\n\r\n  [1]: http://www.codejava.net/java-se/networking/use-httpurlconnection-to-download-file-from-an-http-url","title":"HttpURLConnection getting disconnected unexpectedly in java","body":"<p>Can you try in this way?</p>\n\n<pre><code>int bytesRead = -1;\nbyte[] buffer = new byte[4098]; // you can change it\nwhile ((bytesRead = inputStream.read(buffer)) != -1) {\n    outputStream.write(buffer, 0, bytesRead);\n}\noutputStream.close();\ninputStream.close();\n</code></pre>\n\n<p>Have a look at this <a href=\"http://www.codejava.net/java-se/networking/use-httpurlconnection-to-download-file-from-an-http-url\" rel=\"nofollow\">article</a> once</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443193376,"creation_date":1443193376,"answer_id":32785169,"question_id":32784434,"body_markdown":"Not sure if this will help. I was able to read your file using the following:\r\n\r\n    /*\r\n    \tFrom the command line use:\r\n    \r\n    \ta) java UFile http://forum.java.sun.com ForumsHomePage.html\r\n    \tb) java UFile someFile.java someOtherFile.java\r\n    \r\n    \tor create your own input and output streams and\tinvoke the\r\n    \tcopy(InputStream, OutputStream) method directly\r\n    */\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class UFile\r\n    {\r\n    \tpublic static void main(String arg[])\r\n    \t throws IOException\r\n    \t{\r\n    \t\tInputStream is = getInputStream( arg[0] );\r\n    \t\tOutputStream os = getOutputStream( arg[1] );\r\n    \t\tlong start = System.currentTimeMillis();\r\n    \t\tSystem.out.println( UFile.copy(is, os) + &quot; bytes copied&quot; );\r\n    \t\tSystem.out.println( System.currentTimeMillis() - start );\r\n    \r\n    //\t\tnew java.io.File(arg[0]).delete();\r\n    \r\n    \t\tSystem.exit(0);\r\n    \t}\r\n    \r\n    \tpublic static InputStream getInputStream(String fileName)\r\n    \t\tthrows IOException\r\n    \t{\r\n    \t\tInputStream input;\r\n    \r\n    \t\tif (fileName.startsWith(&quot;http:&quot;))\r\n    \t\t{\r\n    \t\t\tURL url = new URL( fileName );\r\n    \t\t\tURLConnection connection = url.openConnection();\r\n    \t\t\tinput = connection.getInputStream();\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tinput = new FileInputStream( fileName );\r\n    \t\t}\r\n    \r\n    \t\treturn input;\r\n    \t}\r\n    \r\n    \tpublic static OutputStream getOutputStream(String fileName)\r\n    \t\tthrows IOException\r\n    \t{\r\n    \t\treturn new FileOutputStream( fileName );\r\n    \t}\r\n    \r\n    \tpublic static int copy(InputStream in, OutputStream out)\r\n    \t\tthrows IOException\r\n    \t{\r\n    \t\tint bytesCopied = 0;\r\n    \t\tbyte[] buffer = new byte[4 * 1024];\r\n    \t\tint bytes;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twhile ( (bytes = in.read( buffer )) != -1 )\r\n    \t\t\t{\r\n    \t\t\t\tout.write( buffer, 0, bytes );\r\n    \t\t\t\tbytesCopied += bytes;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tin.close();\r\n    \t\t\tout.close();\r\n    \t\t}\r\n    \r\n    \t\treturn bytesCopied;\r\n    \t}\r\n    }\r\n\r\nIt doesn&#39;t use a proxy so the code is simple.\r\n\r\nI got the following output:\r\n\r\n    C:\\Java&gt;java UFile http://psthomas.com/solutions/Liar_Truth.pdf test.pdf\r\n    60326 bytes copied\r\n\r\nAnyway, the idea is to start with working code and then make a change. If it doesn&#39;t work, then you at least know what you changed and can provide more specific information in your question.","title":"HttpURLConnection getting disconnected unexpectedly in java","body":"<p>Not sure if this will help. I was able to read your file using the following:</p>\n\n<pre><code>/*\n    From the command line use:\n\n    a) java UFile http://forum.java.sun.com ForumsHomePage.html\n    b) java UFile someFile.java someOtherFile.java\n\n    or create your own input and output streams and invoke the\n    copy(InputStream, OutputStream) method directly\n*/\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class UFile\n{\n    public static void main(String arg[])\n     throws IOException\n    {\n        InputStream is = getInputStream( arg[0] );\n        OutputStream os = getOutputStream( arg[1] );\n        long start = System.currentTimeMillis();\n        System.out.println( UFile.copy(is, os) + \" bytes copied\" );\n        System.out.println( System.currentTimeMillis() - start );\n\n//      new java.io.File(arg[0]).delete();\n\n        System.exit(0);\n    }\n\n    public static InputStream getInputStream(String fileName)\n        throws IOException\n    {\n        InputStream input;\n\n        if (fileName.startsWith(\"http:\"))\n        {\n            URL url = new URL( fileName );\n            URLConnection connection = url.openConnection();\n            input = connection.getInputStream();\n        }\n        else\n        {\n            input = new FileInputStream( fileName );\n        }\n\n        return input;\n    }\n\n    public static OutputStream getOutputStream(String fileName)\n        throws IOException\n    {\n        return new FileOutputStream( fileName );\n    }\n\n    public static int copy(InputStream in, OutputStream out)\n        throws IOException\n    {\n        int bytesCopied = 0;\n        byte[] buffer = new byte[4 * 1024];\n        int bytes;\n\n        try\n        {\n            while ( (bytes = in.read( buffer )) != -1 )\n            {\n                out.write( buffer, 0, bytes );\n                bytesCopied += bytes;\n            }\n        }\n        finally\n        {\n            in.close();\n            out.close();\n        }\n\n        return bytesCopied;\n    }\n}\n</code></pre>\n\n<p>It doesn't use a proxy so the code is simple.</p>\n\n<p>I got the following output:</p>\n\n<pre><code>C:\\Java&gt;java UFile http://psthomas.com/solutions/Liar_Truth.pdf test.pdf\n60326 bytes copied\n</code></pre>\n\n<p>Anyway, the idea is to start with working code and then make a change. If it doesn't work, then you at least know what you changed and can provide more specific information in your question.</p>\n"},{"tags":[],"owner":{"account_id":4063626,"reputation":1009,"user_id":3339429,"display_name":"JTY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443194980,"creation_date":1443194980,"answer_id":32785665,"question_id":32784434,"body_markdown":"It looks like your byteRead is adding to each other (using += operator).\r\n\r\n            while (offset &lt; uc.getContentLength()) {\r\n                bytesRead += in.read(data, offset, data.length - offset);\r\n                if (bytesRead == -1) {\r\n                    break;\r\n                }\r\n                offset += bytesRead;\r\n                System.out.println(&quot;Finished downloading: &quot; + bytesRead + &quot; Bytes&quot;);\r\n            }\r\n\r\nhere is your code, and here is the actual values of bytesRead and offset for each loop:\r\n\r\n\r\n    Loop count       bytesRead         offset\r\n    1                3709 Bytes        3709\r\n    2                8053 Bytes        11762\r\n    3                12397 Bytes       24159\r\n    4                13845 Bytes       38004\r\n    5                16741 Bytes       54745\r\n    6                20093 Bytes       74838\r\n\r\n\r\nYou can see that offset is adding the bytesRead to itself each loop and it&#39;s why you are seeing the big number jumps.\r\n\r\nChange the first line of the while loop to so:\r\n\r\n    bytesRead = in.read(data, offset, data.length - offset);\r\n\r\nSo bytesRead is no longer appending to itself and offset is adding the correct values to itself.\r\n\r\nIn the current implementation, because bytesRead is adding to itself, it will never have the value of -1 when you are at EOF.","title":"HttpURLConnection getting disconnected unexpectedly in java","body":"<p>It looks like your byteRead is adding to each other (using += operator).</p>\n\n<pre><code>        while (offset &lt; uc.getContentLength()) {\n            bytesRead += in.read(data, offset, data.length - offset);\n            if (bytesRead == -1) {\n                break;\n            }\n            offset += bytesRead;\n            System.out.println(\"Finished downloading: \" + bytesRead + \" Bytes\");\n        }\n</code></pre>\n\n<p>here is your code, and here is the actual values of bytesRead and offset for each loop:</p>\n\n<pre><code>Loop count       bytesRead         offset\n1                3709 Bytes        3709\n2                8053 Bytes        11762\n3                12397 Bytes       24159\n4                13845 Bytes       38004\n5                16741 Bytes       54745\n6                20093 Bytes       74838\n</code></pre>\n\n<p>You can see that offset is adding the bytesRead to itself each loop and it's why you are seeing the big number jumps.</p>\n\n<p>Change the first line of the while loop to so:</p>\n\n<pre><code>bytesRead = in.read(data, offset, data.length - offset);\n</code></pre>\n\n<p>So bytesRead is no longer appending to itself and offset is adding the correct values to itself.</p>\n\n<p>In the current implementation, because bytesRead is adding to itself, it will never have the value of -1 when you are at EOF.</p>\n"}],"owner":{"account_id":5929238,"reputation":182,"user_id":4664244,"accept_rate":67,"display_name":"Prashanth"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32785665,"answer_count":3,"score":0,"last_activity_date":1660660380,"creation_date":1443191242,"question_id":32784434,"body_markdown":"Why does it not complete the download? It stops after downloading a few bytes. Why is this happening?\r\n\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.Authenticator;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.InetSocketAddress;\r\n    import java.net.PasswordAuthentication;\r\n    import java.net.Proxy;\r\n    import java.net.URL;\r\n    import java.util.Scanner;\r\n    \r\n    /*\r\n     * To change this license header, choose License Headers in Project Properties.\r\n     * To change this template file, choose Tools | Templates\r\n     * and open the template in the editor.\r\n     */\r\n    /**\r\n     *\r\n     * @author prashanth\r\n     */\r\n\r\n    public class downloadManager {\r\n\r\n    public static void main(String[] args) {\r\n        String url;\r\n        Proxy myproxy;\r\n        HttpURLConnection uc;\r\n        String downloadDir, file, filename;\r\n        byte[] data;\r\n        Scanner inp = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the URL of the file to be downloaded: &quot;);\r\n        url = inp.nextLine();\r\n        if (url.isEmpty()) {\r\n            System.out.println(&quot;URL is not provided, please enter the url and try again&quot;);\r\n            System.exit(-1);\r\n        }\r\n        try {\r\n            myproxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;172.31.102.14&quot;, 3128));\r\n            Authenticator auth = new Authenticator() {\r\n                @Override\r\n                public PasswordAuthentication getPasswordAuthentication() {\r\n                    return (new PasswordAuthentication(&quot;edcguest&quot;, &quot;edcguest&quot;.toCharArray()));\r\n                }\r\n            };\r\n            Authenticator.setDefault(auth);\r\n            URL u = new URL(url);\r\n            uc = (HttpURLConnection) u.openConnection(myproxy);\r\n            uc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.4; en-US; rv:1.9.2.2) Gecko/20100316 Firefox/3.6.2&quot;);\r\n            downloadDir = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;Downloads&quot; + System.getProperty(&quot;file.separator&quot;);\r\n            file = u.getFile();\r\n            filename = file.substring(file.lastIndexOf(&#39;/&#39;) + 1);\r\n            System.out.println(&quot;Waiting for connection...&quot;);\r\n            if (uc.getResponseCode() == 200) {\r\n                System.out.println(&quot;Connection OK!\\nFile: &quot; + filename + &quot;\\nFile Size: &quot; + uc.getContentLength() + &quot; bytes\\nDownloading file...&quot;);\r\n                data = new byte[uc.getContentLength()];\r\n                int bytesRead = 0;\r\n                int offset = 0;\r\n                InputStream in = new BufferedInputStream(uc.getInputStream());\r\n                while (offset &lt; uc.getContentLength()) {\r\n                    bytesRead += in.read(data, offset, data.length - offset);\r\n                    if (bytesRead == -1) {\r\n                        break;\r\n                    }\r\n                    offset += bytesRead;\r\n                    System.out.println(&quot;Finished downloading: &quot; + bytesRead + &quot; Bytes&quot;);\r\n                }\r\n                in.close();\r\n                if (offset != uc.getContentLength()) {\r\n                    throw new IOException(&quot;Only read &quot; + offset + &quot; bytes. Expected &quot; + uc.getContentLength() + &quot; bytes&quot;);\r\n                }\r\n                System.out.println(&quot;Finishing Download...&quot;);\r\n\r\n                FileOutputStream out = new FileOutputStream(downloadDir + filename);\r\n                out.write(data);\r\n                System.out.println(&quot;Download Completed! Find the file in your Downloads folder&quot;);\r\n                out.flush();\r\n                out.close();\r\n            } else {\r\n                System.out.println(&quot;Download failed! Error: &quot; + uc.getResponseCode());\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Exception: &quot;+e.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\nWhere did I go wrong? The while loop doesn&#39;t execute completely and the code execution stops there without going further. \r\n\r\n**Edit:**\r\nHere is the example\r\n\r\n    Enter the URL of the file to be downloaded: \r\n    http://psthomas.com/solutions/Liar_Truth.pdf\r\n    Waiting for connection...\r\n    Connection OK!\r\n    File: Liar_Truth.pdf\r\n    File Size: 60326 bytes\r\n    Downloading file...\r\n    Finished downloading: 3709 Bytes\r\n    Finished downloading: 8053 Bytes\r\n    Finished downloading: 12397 Bytes\r\n    Finished downloading: 13845 Bytes\r\n    Finished downloading: 16741 Bytes\r\n    Finished downloading: 20093 Bytes\r\n    Exception: Only read 74838 bytes. Expected 60326 bytes\r\n\r\nAnd that&#39;s it, I&#39;m back to the prompt.","title":"HttpURLConnection getting disconnected unexpectedly in java","body":"<p>Why does it not complete the download? It stops after downloading a few bytes. Why is this happening?</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.Authenticator;\nimport java.net.HttpURLConnection;\nimport java.net.InetSocketAddress;\nimport java.net.PasswordAuthentication;\nimport java.net.Proxy;\nimport java.net.URL;\nimport java.util.Scanner;\n\n/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\n/**\n *\n * @author prashanth\n */\n\npublic class downloadManager {\n\npublic static void main(String[] args) {\n    String url;\n    Proxy myproxy;\n    HttpURLConnection uc;\n    String downloadDir, file, filename;\n    byte[] data;\n    Scanner inp = new Scanner(System.in);\n    System.out.println(&quot;Enter the URL of the file to be downloaded: &quot;);\n    url = inp.nextLine();\n    if (url.isEmpty()) {\n        System.out.println(&quot;URL is not provided, please enter the url and try again&quot;);\n        System.exit(-1);\n    }\n    try {\n        myproxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(&quot;172.31.102.14&quot;, 3128));\n        Authenticator auth = new Authenticator() {\n            @Override\n            public PasswordAuthentication getPasswordAuthentication() {\n                return (new PasswordAuthentication(&quot;edcguest&quot;, &quot;edcguest&quot;.toCharArray()));\n            }\n        };\n        Authenticator.setDefault(auth);\n        URL u = new URL(url);\n        uc = (HttpURLConnection) u.openConnection(myproxy);\n        uc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.4; en-US; rv:1.9.2.2) Gecko/20100316 Firefox/3.6.2&quot;);\n        downloadDir = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;Downloads&quot; + System.getProperty(&quot;file.separator&quot;);\n        file = u.getFile();\n        filename = file.substring(file.lastIndexOf('/') + 1);\n        System.out.println(&quot;Waiting for connection...&quot;);\n        if (uc.getResponseCode() == 200) {\n            System.out.println(&quot;Connection OK!\\nFile: &quot; + filename + &quot;\\nFile Size: &quot; + uc.getContentLength() + &quot; bytes\\nDownloading file...&quot;);\n            data = new byte[uc.getContentLength()];\n            int bytesRead = 0;\n            int offset = 0;\n            InputStream in = new BufferedInputStream(uc.getInputStream());\n            while (offset &lt; uc.getContentLength()) {\n                bytesRead += in.read(data, offset, data.length - offset);\n                if (bytesRead == -1) {\n                    break;\n                }\n                offset += bytesRead;\n                System.out.println(&quot;Finished downloading: &quot; + bytesRead + &quot; Bytes&quot;);\n            }\n            in.close();\n            if (offset != uc.getContentLength()) {\n                throw new IOException(&quot;Only read &quot; + offset + &quot; bytes. Expected &quot; + uc.getContentLength() + &quot; bytes&quot;);\n            }\n            System.out.println(&quot;Finishing Download...&quot;);\n\n            FileOutputStream out = new FileOutputStream(downloadDir + filename);\n            out.write(data);\n            System.out.println(&quot;Download Completed! Find the file in your Downloads folder&quot;);\n            out.flush();\n            out.close();\n        } else {\n            System.out.println(&quot;Download failed! Error: &quot; + uc.getResponseCode());\n        }\n\n    } catch (Exception e) {\n        System.err.println(&quot;Exception: &quot;+e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Where did I go wrong? The while loop doesn't execute completely and the code execution stops there without going further.</p>\n<p><strong>Edit:</strong>\nHere is the example</p>\n<pre><code>Enter the URL of the file to be downloaded: \nhttp://psthomas.com/solutions/Liar_Truth.pdf\nWaiting for connection...\nConnection OK!\nFile: Liar_Truth.pdf\nFile Size: 60326 bytes\nDownloading file...\nFinished downloading: 3709 Bytes\nFinished downloading: 8053 Bytes\nFinished downloading: 12397 Bytes\nFinished downloading: 13845 Bytes\nFinished downloading: 16741 Bytes\nFinished downloading: 20093 Bytes\nException: Only read 74838 bytes. Expected 60326 bytes\n</code></pre>\n<p>And that's it, I'm back to the prompt.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660660183,"creation_date":1660660183,"answer_id":73375694,"question_id":73374392,"body_markdown":"As stated in spring-boot docs, it uses [&quot;relaxed binding&quot;][1], so both properties _&quot;whistle-feather&quot;_ and _&quot;whistleFeather&quot;_ will be mapped to your `private Integer whistleFeather`, but it&#39;s recommended, when possible, to store properties in lower-case kebab format, such as `fizz.whistle-feather=10`.\r\n\r\nSo your first case is correct.\r\n\r\nThe second case is also correct, because dots are used as delimiters in `application.properties`, while YAML file uses as delimiters both dots and colon.\r\n\r\nYou also may define nested properties as nested classes to store them in one place like this:\r\n\r\n\r\n\r\n    @ConfigurationProperties(&quot;fizz&quot;)\r\n    public class FizzProperties {\r\n        private Integer whistleFeather;\r\n        private Baz baz;\r\n        // getters, setters\r\n        \r\n        public static class Baz {\r\n            private String boo;\r\n            // getters, setters\r\n        }\r\n    }\r\n\r\nTake a look [here][2] for more info about spring-boot properties binding and examples.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties","title":"Spring property name casing by example","body":"<p>As stated in spring-boot docs, it uses <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding\" rel=\"nofollow noreferrer\">&quot;relaxed binding&quot;</a>, so both properties <em>&quot;whistle-feather&quot;</em> and <em>&quot;whistleFeather&quot;</em> will be mapped to your <code>private Integer whistleFeather</code>, but it's recommended, when possible, to store properties in lower-case kebab format, such as <code>fizz.whistle-feather=10</code>.</p>\n<p>So your first case is correct.</p>\n<p>The second case is also correct, because dots are used as delimiters in <code>application.properties</code>, while YAML file uses as delimiters both dots and colon.</p>\n<p>You also may define nested properties as nested classes to store them in one place like this:</p>\n<pre><code>@ConfigurationProperties(&quot;fizz&quot;)\npublic class FizzProperties {\n    private Integer whistleFeather;\n    private Baz baz;\n    // getters, setters\n    \n    public static class Baz {\n        private String boo;\n        // getters, setters\n    }\n}\n</code></pre>\n<p>Take a look <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">here</a> for more info about spring-boot properties binding and examples.</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73375694,"answer_count":1,"score":0,"last_activity_date":1660660183,"creation_date":1660654703,"question_id":73374392,"body_markdown":"Spring will automatically bind properties defined in `application.properties` or `application.yml` to fields defined in `@ConfigurationProperties`-annotated classes. For instance, in my `application.properties` I can have:\r\n```\r\nfizz.buzz=35\r\nfizz.foo=hello\r\n```\r\n\r\nAnd in my Java code I can have:\r\n```\r\n@ConfigurationProperties(&quot;fizz&quot;)\r\npublic class FizzProperties {\r\n    private Integer buzz;\r\n    private String foo;\r\n    // ...\r\n}\r\n```\r\n\r\nAnd at runtime `FizzProperties#buzz` will get a value of `35` injected into it and `FizzProperties#foo` will have a value of `&quot;hello&quot;` injected into it.\r\n\r\nI&#39;m wondering what the naming convention is for camel-cased Java fields, and also for hyphens (`&quot;-&quot;`) and periods (`&quot;.&quot;`) used in the properties files. For instance, if I had:\r\n```\r\nfizz.whistle-feather=true\r\nfizz.baz.boo=always\r\n```\r\n\r\nWhat would their corresponding Java fields need to look like in order for Spring to map and inject them properly?\r\n```\r\npublic class Baz {\r\n    private String boo;\r\n}\r\n\r\n@ConfigurationProperties(&quot;fizz&quot;)\r\npublic class FizzProperties {\r\n    private Integer whistleFeather; // correct?\r\n    private Baz baz; // correct?\r\n    // ...\r\n}\r\n```\r\n\r\n**Are my assumptions correct here or misled (and if misled, how so)?** I can&#39;t find this explained in the Spring docs.","title":"Spring property name casing by example","body":"<p>Spring will automatically bind properties defined in <code>application.properties</code> or <code>application.yml</code> to fields defined in <code>@ConfigurationProperties</code>-annotated classes. For instance, in my <code>application.properties</code> I can have:</p>\n<pre><code>fizz.buzz=35\nfizz.foo=hello\n</code></pre>\n<p>And in my Java code I can have:</p>\n<pre><code>@ConfigurationProperties(&quot;fizz&quot;)\npublic class FizzProperties {\n    private Integer buzz;\n    private String foo;\n    // ...\n}\n</code></pre>\n<p>And at runtime <code>FizzProperties#buzz</code> will get a value of <code>35</code> injected into it and <code>FizzProperties#foo</code> will have a value of <code>&quot;hello&quot;</code> injected into it.</p>\n<p>I'm wondering what the naming convention is for camel-cased Java fields, and also for hyphens (<code>&quot;-&quot;</code>) and periods (<code>&quot;.&quot;</code>) used in the properties files. For instance, if I had:</p>\n<pre><code>fizz.whistle-feather=true\nfizz.baz.boo=always\n</code></pre>\n<p>What would their corresponding Java fields need to look like in order for Spring to map and inject them properly?</p>\n<pre><code>public class Baz {\n    private String boo;\n}\n\n@ConfigurationProperties(&quot;fizz&quot;)\npublic class FizzProperties {\n    private Integer whistleFeather; // correct?\n    private Baz baz; // correct?\n    // ...\n}\n</code></pre>\n<p><strong>Are my assumptions correct here or misled (and if misled, how so)?</strong> I can't find this explained in the Spring docs.</p>\n"},{"tags":["java","oop","memory-management","interface","jvm"],"comments":[{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1615093989,"post_id":66513389,"comment_id":117582808,"body_markdown":"They both consume exactly the same amount of memory: namely, the amount of memory occupied by an object reference, plus the amount of memory is consumed by an object of class `B`.","body":"They both consume exactly the same amount of memory: namely, the amount of memory occupied by an object reference, plus the amount of memory is consumed by an object of class <code>B</code>."},{"owner":{"account_id":20689108,"reputation":17580,"user_id":15273968,"display_name":"the Hutt"},"score":0,"creation_date":1615094109,"post_id":66513389,"comment_id":117582829,"body_markdown":"`typeInterface` and `typeClass` are just variables. They point to objects in memory. Both are pointing to objects of class B. so same memory is being consumed.","body":"<code>typeInterface</code> and <code>typeClass</code> are just variables. They point to objects in memory. Both are pointing to objects of class B. so same memory is being consumed."}],"answers":[{"tags":[],"owner":{"account_id":9061711,"reputation":1055,"user_id":6748042,"display_name":"Victor Polo De Gyves Montero"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1615093953,"creation_date":1615093953,"answer_id":66513422,"question_id":66513389,"body_markdown":"No, you have two objects of type B, one stored on a reference of type A, the other one stored on a reference of type B. \r\n\r\nBoth objects share the same memory usage size, but you cannot access the methods of B from the reference of type A (the reference named `typeInterface`), even if the method exists at the referenced object, unless you cast it. If you cast the reference, then the restriction is removed and you can access `anotherMethod`.\r\n\r\nYou must differentiate between references and objects. That&#39;s all you need.","title":"Difference between Interface and Class object memory allocation","body":"<p>No, you have two objects of type B, one stored on a reference of type A, the other one stored on a reference of type B.</p>\n<p>Both objects share the same memory usage size, but you cannot access the methods of B from the reference of type A (the reference named <code>typeInterface</code>), even if the method exists at the referenced object, unless you cast it. If you cast the reference, then the restriction is removed and you can access <code>anotherMethod</code>.</p>\n<p>You must differentiate between references and objects. That's all you need.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615094123,"creation_date":1615094123,"answer_id":66513438,"question_id":66513389,"body_markdown":"What consumes memory are object instances. Both of your instances are created by `new B()` so they will take up the same amount of heap memory.\r\n\r\nIn addition to your two object instances, you also have two variables pointing to them. These are stored on the stack of the method that uses them. How much memory a variable takes depends on it being a primitive or an object reference, but that&#39;s it. All object references (regardless of their type) take up the same amount of space there. ","title":"Difference between Interface and Class object memory allocation","body":"<p>What consumes memory are object instances. Both of your instances are created by <code>new B()</code> so they will take up the same amount of heap memory.</p>\n<p>In addition to your two object instances, you also have two variables pointing to them. These are stored on the stack of the method that uses them. How much memory a variable takes depends on it being a primitive or an object reference, but that's it. All object references (regardless of their type) take up the same amount of space there.</p>\n"},{"tags":[],"owner":{"account_id":18466988,"reputation":85,"user_id":13452875,"display_name":"Track_suit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615094712,"creation_date":1615094712,"answer_id":66513489,"question_id":66513389,"body_markdown":"\r\nClass:\r\n\r\nA class is a user-defined blueprint or prototype from which objects are created.  It represents the set of properties or methods that are common to all objects of one type. In general, class declarations can include these components, in order:\r\n\r\n    Modifiers: A class can be public or has default access (Refer to this for details).\r\n    Class name: The name should begin with an initial letter (capitalized by convention).\r\n    Superclass(if any): The name of the classs parent (superclass), if any, preceded by the keyword extends. A class can only extend (subclass) one parent.\r\n    Interfaces(if any): A comma-separated list of interfaces implemented by the class, if any, preceded by the keyword implements. A class can implement more than one interface.\r\n    Body: The class body surrounded by braces, { }.\r\n\r\nConstructors are used for initializing new objects. Fields are variables that provide the state of the class and its objects, and methods are used to implement the behavior of the class and its objects.\r\n**********************************************************************************************************************************************************************************\r\nInterface:\r\nLike a class, an interface can have methods and variables, but the methods declared in the interface are by default abstract (only method signature, nobody).  \r\n\r\n    Interfaces specify what a class must do and not how. It is the blueprint of the class.\r\n    An Interface is about capabilities like a Player may be an interface and any class implementing Player must be able to (or must implement) move(). So it specifies a set of methods that the class has to implement.\r\n    If a class implements an interface and does not provide method bodies for all functions specified in the interface, then the class must be declared abstract.\r\n    A Java library example is Comparator Interface. If a class implements this interface, then it can be used to sort a collection.\r\n","title":"Difference between Interface and Class object memory allocation","body":"<p>Class:</p>\n<p>A class is a user-defined blueprint or prototype from which objects are created.  It represents the set of properties or methods that are common to all objects of one type. In general, class declarations can include these components, in order:</p>\n<pre><code>Modifiers: A class can be public or has default access (Refer to this for details).\nClass name: The name should begin with an initial letter (capitalized by convention).\nSuperclass(if any): The name of the classs parent (superclass), if any, preceded by the keyword extends. A class can only extend (subclass) one parent.\nInterfaces(if any): A comma-separated list of interfaces implemented by the class, if any, preceded by the keyword implements. A class can implement more than one interface.\nBody: The class body surrounded by braces, { }.\n</code></pre>\n<p>Constructors are used for initializing new objects. Fields are variables that provide the state of the class and its objects, and methods are used to implement the behavior of the class and its objects.</p>\n<hr />\n<p>Interface:\nLike a class, an interface can have methods and variables, but the methods declared in the interface are by default abstract (only method signature, nobody).</p>\n<pre><code>Interfaces specify what a class must do and not how. It is the blueprint of the class.\nAn Interface is about capabilities like a Player may be an interface and any class implementing Player must be able to (or must implement) move(). So it specifies a set of methods that the class has to implement.\nIf a class implements an interface and does not provide method bodies for all functions specified in the interface, then the class must be declared abstract.\nA Java library example is Comparator Interface. If a class implements this interface, then it can be used to sort a collection.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19559205,"reputation":291,"user_id":14312771,"display_name":"Neha Jha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615094743,"creation_date":1615094743,"answer_id":66513493,"question_id":66513389,"body_markdown":"**Interface** simply makes sure that objects meet a certain criteria both technically and logically at compile time. When executing the code and using an interface, memory will be allocated as if you would just instantiate the object using the class.\r\n\r\nSo there&#39;s no difference (in terms of memory allocation) between:\r\n\r\n    A typeInterface = new B();\r\nand\r\n\r\n    B typeClass = new B();\r\n\r\nFirst is the new B() statement which allocates sizeof(B) on the heap.&lt;br /&gt; \r\nSecond, the assignment of the address of the heap allocation is stored in the variable test, which is allocated on the stack as sizeof(object *) (i.e. IntPtr.Size, or 32/64 bits based on the hardware+OS+software running).&lt;br /&gt;&lt;br /&gt;\r\nThe following statement is EXACTLY the same in &#39;allocations&#39;:\r\n\r\n     B typeClass = new B();\r\nThe only difference between the two is the methods available to be called on the variable &#39;typeInterface&#39;.\r\n\r\n","title":"Difference between Interface and Class object memory allocation","body":"<p><strong>Interface</strong> simply makes sure that objects meet a certain criteria both technically and logically at compile time. When executing the code and using an interface, memory will be allocated as if you would just instantiate the object using the class.</p>\n<p>So there's no difference (in terms of memory allocation) between:</p>\n<pre><code>A typeInterface = new B();\n</code></pre>\n<p>and</p>\n<pre><code>B typeClass = new B();\n</code></pre>\n<p>First is the new B() statement which allocates sizeof(B) on the heap.<br />\nSecond, the assignment of the address of the heap allocation is stored in the variable test, which is allocated on the stack as sizeof(object *) (i.e. IntPtr.Size, or 32/64 bits based on the hardware+OS+software running).<br /><br />\nThe following statement is EXACTLY the same in 'allocations':</p>\n<pre><code> B typeClass = new B();\n</code></pre>\n<p>The only difference between the two is the methods available to be called on the variable 'typeInterface'.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1615164466,"creation_date":1615095715,"answer_id":66513580,"question_id":66513389,"body_markdown":"&gt; My question is, when compiler compiles the code and when the memory allocation begins, we&#39;ve got two objects right? \r\n\r\nYes.\r\n\r\n&gt; But one is type `A`, one is type `B`, ...\r\n\r\nNo!!  \r\n\r\nBoth are type `B`.  The expression `new B(...)` creates a `B`. What happens after that doesn&#39;t change that.\r\n\r\nIn the first example, you are then assigning the reference for a `B` instance to a variable whose type is `A`.  That means that you will only be able to use `A` features (methods, fields) when you access the object *via that variable*.\r\n\r\nHowever, the object itself is *still* an instance of `B`, and will remain that way for the lifetime of the object.  And we can *prove* it&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n      System.out.println(typeInterface.getClass().getName());\r\n\r\nwill print &quot;B&quot;, not &quot;A&quot;.\r\n\r\nAnd we can go a step further by casting `typeInterface` to a `B` and using the `B` methods and fields ... to show that it is really a `B`.\r\n\r\nIt is a `B`.  Unequivocally.\r\n\r\n&gt; ... that means &#39;typeInterface&#39; will have only one method, but &#39;typeClass&#39; will contain one more field and one more method.\r\n\r\nNo.  Not true.  This logic is based on a false assumption.  See above.\r\n\r\n&gt; Does these two objects allocate the same amount of memory or &#39;typeInterface&#39; basically consume much less memory?\r\n\r\nYes they user the same amount of memory.  They are both `B` instances.  See above.\r\n\r\n--------------\r\n\r\nOne way to understand this is that when you do the assignment in this:\r\n\r\n    A typeInterface = new B();\r\n\r\nthe compiler &quot;forgets&quot; about the `B`-ness of the object that `typeInterface` (now) refers to.  It only &quot;remembers&quot; that it refers to an `A` *of some kind*.  However, at runtime, the runtime system *always* knows what an object&#39;s real type is, so that it can correctly implement `instanceof`, type-casts, `getClass()`, method dispatching and so on.\r\n\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - The javadoc for `Object::getClass()` states: *&quot;Returns the runtime class of this `Object`&quot;*.&lt;/sup&gt;\r\n\r\n    ","title":"Difference between Interface and Class object memory allocation","body":"<blockquote>\n<p>My question is, when compiler compiles the code and when the memory allocation begins, we've got two objects right?</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>But one is type <code>A</code>, one is type <code>B</code>, ...</p>\n</blockquote>\n<p>No!!</p>\n<p>Both are type <code>B</code>.  The expression <code>new B(...)</code> creates a <code>B</code>. What happens after that doesn't change that.</p>\n<p>In the first example, you are then assigning the reference for a <code>B</code> instance to a variable whose type is <code>A</code>.  That means that you will only be able to use <code>A</code> features (methods, fields) when you access the object <em>via that variable</em>.</p>\n<p>However, the object itself is <em>still</em> an instance of <code>B</code>, and will remain that way for the lifetime of the object.  And we can <em>prove</em> it<sup>1</sup>.</p>\n<pre><code>  System.out.println(typeInterface.getClass().getName());\n</code></pre>\n<p>will print &quot;B&quot;, not &quot;A&quot;.</p>\n<p>And we can go a step further by casting <code>typeInterface</code> to a <code>B</code> and using the <code>B</code> methods and fields ... to show that it is really a <code>B</code>.</p>\n<p>It is a <code>B</code>.  Unequivocally.</p>\n<blockquote>\n<p>... that means 'typeInterface' will have only one method, but 'typeClass' will contain one more field and one more method.</p>\n</blockquote>\n<p>No.  Not true.  This logic is based on a false assumption.  See above.</p>\n<blockquote>\n<p>Does these two objects allocate the same amount of memory or 'typeInterface' basically consume much less memory?</p>\n</blockquote>\n<p>Yes they user the same amount of memory.  They are both <code>B</code> instances.  See above.</p>\n<hr />\n<p>One way to understand this is that when you do the assignment in this:</p>\n<pre><code>A typeInterface = new B();\n</code></pre>\n<p>the compiler &quot;forgets&quot; about the <code>B</code>-ness of the object that <code>typeInterface</code> (now) refers to.  It only &quot;remembers&quot; that it refers to an <code>A</code> <em>of some kind</em>.  However, at runtime, the runtime system <em>always</em> knows what an object's real type is, so that it can correctly implement <code>instanceof</code>, type-casts, <code>getClass()</code>, method dispatching and so on.</p>\n<hr />\n<p><sup>1 - The javadoc for <code>Object::getClass()</code> states: <em>&quot;Returns the runtime class of this <code>Object</code>&quot;</em>.</sup></p>\n"},{"tags":[],"owner":{"account_id":26077163,"reputation":1,"user_id":19775954,"display_name":"Christos Michos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660660123,"creation_date":1660659418,"answer_id":73375515,"question_id":66513389,"body_markdown":"Let be the interface\r\n\r\n    interface A {\r\n        void hello();\r\n        void hello2();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nWe can immediately define the function with the interface as a parameter\r\n\r\n    void function example (A i) {\r\n        i.hello();\r\n\t    i.hello2();\r\n    }\r\n\r\n\r\n\r\n\r\nWhat exactly will be compiled here?\r\nInterface function calls.\r\n\r\nAnd how is this possible?\r\nIt is possible because an interface type variable contains as many pointers to functions as there are functions defined within the interface.\r\nInterface in short is a structure that contains pointer variables to functions.\r\n\r\nNow any class that implements the interface can be assigned to it. With this allocation, pointer variables to functions (of the interface) are &quot;filled&quot; with the addresses of the functions located in the vmtable (of the class).\r\n\r\nThis means that an interface variable\r\n&lt;b&gt;always sees the functions defined in it and only them&lt;/b&gt;\r\n(unless casted to the class)\r\n\r\n\r\n----------------------------------\r\nSo for example if a class implements the interface.\r\n\r\n    class B implements A {\r\n      public int justAField;\r\n      @Override\r\n      public void hello() {\r\n        System.out.println(&quot;Hi.&quot;);\r\n      }\r\n      @Override\r\n      public void hello2() {\r\n        System.out.println(&quot;Hi2.&quot;);\r\n      }\r\n      public void anotherMethod() {\r\n        System.out.println(&quot;Another one.&quot;);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\nWe can have\r\n\r\n    example(new B());\r\n\r\n\r\n\r\nThe calls   `i.hello(); i.hello2();`   trigger the corresponding functions of the class (via function pointers)","title":"Difference between Interface and Class object memory allocation","body":"<p>Let be the interface</p>\n<pre><code>interface A {\n    void hello();\n    void hello2();\n}\n</code></pre>\n<p>We can immediately define the function with the interface as a parameter</p>\n<pre><code>void function example (A i) {\n    i.hello();\n    i.hello2();\n}\n</code></pre>\n<p>What exactly will be compiled here?\nInterface function calls.</p>\n<p>And how is this possible?\nIt is possible because an interface type variable contains as many pointers to functions as there are functions defined within the interface.\nInterface in short is a structure that contains pointer variables to functions.</p>\n<p>Now any class that implements the interface can be assigned to it. With this allocation, pointer variables to functions (of the interface) are &quot;filled&quot; with the addresses of the functions located in the vmtable (of the class).</p>\n<p>This means that an interface variable\n<b>always sees the functions defined in it and only them</b>\n(unless casted to the class)</p>\n<hr />\n<p>So for example if a class implements the interface.</p>\n<pre><code>class B implements A {\n  public int justAField;\n  @Override\n  public void hello() {\n    System.out.println(&quot;Hi.&quot;);\n  }\n  @Override\n  public void hello2() {\n    System.out.println(&quot;Hi2.&quot;);\n  }\n  public void anotherMethod() {\n    System.out.println(&quot;Another one.&quot;);\n  }\n}\n</code></pre>\n<p>We can have</p>\n<pre><code>example(new B());\n</code></pre>\n<p>The calls   <code>i.hello(); i.hello2();</code>   trigger the corresponding functions of the class (via function pointers)</p>\n"}],"owner":{"account_id":20763784,"reputation":85,"user_id":15248284,"display_name":"ilkerrilker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66513422,"answer_count":6,"score":4,"last_activity_date":1660660123,"creation_date":1615093646,"question_id":66513389,"body_markdown":"Suppose there are Interface A and class B, and class B implements the interface;\r\n\r\n    interface A {\r\n      void hello();\r\n    }\r\n    \r\n    class B implements A {\r\n      public int justAField;\r\n\r\n      @Override\r\n      public void hello() {\r\n        System.out.println(&quot;Hi.&quot;);\r\n      }\r\n\r\n      public void anotherMethod() {\r\n        System.out.println(&quot;Another one.&quot;);\r\n      }\r\n    }\r\n\r\nAnd let&#39;s say, we have these two objects;\r\n\r\n    A typeInterface = new B();\r\n    B typeClass = new B();\r\n\r\nMy question is, when compiler compiles the code and when the memory allocation begins, we&#39;ve got two objects right? But one is type A, one is type B, that means &#39;typeInterface&#39; will have only one method, but &#39;typeClass&#39; will contain one more field and one more method.\r\n\r\nDoes these two objects allocate the same amount of memory or &#39;typeInterface&#39; basically consume much less memory?","title":"Difference between Interface and Class object memory allocation","body":"<p>Suppose there are Interface A and class B, and class B implements the interface;</p>\n<pre><code>interface A {\n  void hello();\n}\n\nclass B implements A {\n  public int justAField;\n\n  @Override\n  public void hello() {\n    System.out.println(&quot;Hi.&quot;);\n  }\n\n  public void anotherMethod() {\n    System.out.println(&quot;Another one.&quot;);\n  }\n}\n</code></pre>\n<p>And let's say, we have these two objects;</p>\n<pre><code>A typeInterface = new B();\nB typeClass = new B();\n</code></pre>\n<p>My question is, when compiler compiles the code and when the memory allocation begins, we've got two objects right? But one is type A, one is type B, that means 'typeInterface' will have only one method, but 'typeClass' will contain one more field and one more method.</p>\n<p>Does these two objects allocate the same amount of memory or 'typeInterface' basically consume much less memory?</p>\n"},{"tags":["java","oauth-2.0","gmail-api"],"answers":[{"tags":[],"owner":{"account_id":23310798,"reputation":1298,"user_id":17390082,"display_name":"Gabriel Carballo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660659821,"creation_date":1660659821,"answer_id":73375613,"question_id":73370409,"body_markdown":"The error is most likely caused by a network issue as the `NoRouteToHostException` error documentation states:\r\n\r\n&gt; Signals that an error occurred while attempting to connect a socket to a remote address and port. Typically, the remote host cannot be reached because of an intervening firewall, or if an intermediate router is down.\r\n\r\nThe code itself shouldn&#39;t be the problem, I&#39;d suggest checking your own internet connection as that may be the reason of the error message.","title":"NoRouteToHostException while using Gmail API","body":"<p>The error is most likely caused by a network issue as the <code>NoRouteToHostException</code> error documentation states:</p>\n<blockquote>\n<p>Signals that an error occurred while attempting to connect a socket to a remote address and port. Typically, the remote host cannot be reached because of an intervening firewall, or if an intermediate router is down.</p>\n</blockquote>\n<p>The code itself shouldn't be the problem, I'd suggest checking your own internet connection as that may be the reason of the error message.</p>\n"}],"owner":{"account_id":7325773,"reputation":1251,"user_id":7093031,"accept_rate":25,"display_name":"Zoette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73375613,"answer_count":1,"score":0,"last_activity_date":1660659821,"creation_date":1660635787,"question_id":73370409,"body_markdown":"I have been conscientiously following the steps to configure the usage of the Gmail API on a Java project (test automation).\r\n\r\n - OAuth2 credentials = OK (for a desktop app, as specified)\r\n - All methods are from a pretty recentish tutorial based on the official docs https://github.com/swtestacademy/gmail-tutorial\r\n\r\nWhen I launch the project, a window opens and asks me for permission to use the Gmail API. I validate this and I&#39;m redirected to a screen that says that the verification code was sent and that I can close the window. I close it, but then I realize that an error was thrown:\r\n\r\n`Exception log java.net.NoRouteToHostException`\r\n\r\nOS: Ubuntu&lt;br&gt;Browser: Chrome 71 (last stable version for Ubuntu...)\r\n\r\nI have been changing the port (8888 to 80 an other ones) but with no success.\r\nThe credentials are ok (I&#39;ve been trying with other ones but it fails opening the permission window in the first place)\r\n\r\nAny help will be appreciated.\r\n\r\nThe code is:\r\n\r\n```\r\npublic class GmailRunner {\r\n    public static void main(String[] args) {\r\n        GmailService service = new GmailService();\r\n        System.out.println(&quot;Total count of emails is :&quot;+service.getTotalCountOfMails());\r\n        boolean exist = service.isMailExist(&quot;Coolblue invoice&quot;);\r\n        System.out.println(&quot;Mail &#39;Security Alert&#39; title exist or not: &quot; + exist);\r\n        exist = service.isMailExist(&quot;BLABLA&quot;);\r\n        System.out.println(&quot;Mail &#39;Security Alert&#39; title exist or not: &quot; + exist);\r\n    }\r\n}\r\n```\r\n\r\n\r\nGmailService class:\r\n\r\n\r\n```import com.google.api.client.auth.oauth2.Credential;\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.client.util.store.FileDataStoreFactory;\r\nimport com.google.api.services.gmail.Gmail;\r\nimport com.google.api.services.gmail.GmailScopes;\r\nimport com.google.api.services.gmail.model.ListMessagesResponse;\r\nimport com.google.api.services.gmail.model.Message;\r\nimport com.google.api.services.gmail.model.Thread;\r\nimport java.io.*;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\npublic class GmailService {\r\n\r\n    private static final String user = &quot;me&quot;;\r\n    private final String APPLICATION_NAME = &quot;TEST&quot;;\r\n    private final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    private String TOKENS_DIRECTORY_PATH;\r\n    /**\r\n     * If modifying these scopes, delete your previously saved tokens/ folder.\r\n     */\r\n    private List&lt;String&gt; SCOPES = Arrays.asList(GmailScopes.MAIL_GOOGLE_COM);\r\n    private String CREDENTIALS_FILE_PATH;\r\n\r\n    public GmailService() {\r\n\r\n        TOKENS_DIRECTORY_PATH = System.getProperty(&quot;user.dir&quot;) +\r\n                File.separator + &quot;src&quot; +\r\n                File.separator + &quot;main&quot; +\r\n                File.separator + &quot;resources&quot; +\r\n                File.separator + &quot;credential&quot;;\r\n        CREDENTIALS_FILE_PATH = System.getProperty(&quot;user.dir&quot;) +\r\n                File.separator + &quot;src&quot; +\r\n                File.separator + &quot;main&quot; +\r\n                File.separator + &quot;resources&quot; +\r\n                File.separator + &quot;credential&quot; +\r\n                File.separator + &quot;credentials.json&quot;;\r\n\r\n    }\r\n\r\n    /**\r\n     * Creates an authorized Credential object.\r\n     *\r\n     * @param HTTP_TRANSPORT The network HTTP Transport.\r\n     * @return An authorized Credential object.\r\n     * @throws IOException If the credentials.json file cannot be found.\r\n     */\r\n    private Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n\r\n        InputStream in = new FileInputStream(new File(CREDENTIALS_FILE_PATH));\r\n        if (in == null) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    }\r\n\r\n    private List&lt;Message&gt; getMessages(ListMessagesResponse response) {\r\n        List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\n        try {\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n            while (response.getMessages() != null) {\r\n                messages.addAll(response.getMessages());\r\n                if (response.getNextPageToken() != null) {\r\n                    String pageToken = response.getNextPageToken();\r\n                    response = service.users().messages().list(user)\r\n                            .setPageToken(pageToken).execute();\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            return messages;\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception log &quot; + e);\r\n            return messages;\r\n        }\r\n    }\r\n\r\n    public int getTotalCountOfMails() {\r\n        int size;\r\n        try {\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build(); // *** ATTENTION PLEASE :D This is when the error occurs ***\r\n            List&lt;Thread&gt; threads = service.\r\n                    users().\r\n                    threads().\r\n                    list(&quot;me&quot;).\r\n                    execute().\r\n                    getThreads();\r\n             size = threads.size();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception log &quot; + e);\r\n            size = -1;\r\n        }\r\n        return size;\r\n    }\r\n\r\n    public boolean isMailExist(String messageTitle) {\r\n        try {\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n            ListMessagesResponse response = service.\r\n                    users().\r\n                    messages().\r\n                    list(&quot;me&quot;).\r\n                    setQ(&quot;subject:&quot; + messageTitle).\r\n                    execute();\r\n            List&lt;Message&gt; messages = getMessages(response);\r\n            return messages.size() != 0;\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception log&quot; + e);\r\n            return false;\r\n        }\r\n    }\r\n}","title":"NoRouteToHostException while using Gmail API","body":"<p>I have been conscientiously following the steps to configure the usage of the Gmail API on a Java project (test automation).</p>\n<ul>\n<li>OAuth2 credentials = OK (for a desktop app, as specified)</li>\n<li>All methods are from a pretty recentish tutorial based on the official docs <a href=\"https://github.com/swtestacademy/gmail-tutorial\" rel=\"nofollow noreferrer\">https://github.com/swtestacademy/gmail-tutorial</a></li>\n</ul>\n<p>When I launch the project, a window opens and asks me for permission to use the Gmail API. I validate this and I'm redirected to a screen that says that the verification code was sent and that I can close the window. I close it, but then I realize that an error was thrown:</p>\n<p><code>Exception log java.net.NoRouteToHostException</code></p>\n<p>OS: Ubuntu<br>Browser: Chrome 71 (last stable version for Ubuntu...)</p>\n<p>I have been changing the port (8888 to 80 an other ones) but with no success.\nThe credentials are ok (I've been trying with other ones but it fails opening the permission window in the first place)</p>\n<p>Any help will be appreciated.</p>\n<p>The code is:</p>\n<pre><code>public class GmailRunner {\n    public static void main(String[] args) {\n        GmailService service = new GmailService();\n        System.out.println(&quot;Total count of emails is :&quot;+service.getTotalCountOfMails());\n        boolean exist = service.isMailExist(&quot;Coolblue invoice&quot;);\n        System.out.println(&quot;Mail 'Security Alert' title exist or not: &quot; + exist);\n        exist = service.isMailExist(&quot;BLABLA&quot;);\n        System.out.println(&quot;Mail 'Security Alert' title exist or not: &quot; + exist);\n    }\n}\n</code></pre>\n<p>GmailService class:</p>\n<pre><code>import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.gmail.Gmail;\nimport com.google.api.services.gmail.GmailScopes;\nimport com.google.api.services.gmail.model.ListMessagesResponse;\nimport com.google.api.services.gmail.model.Message;\nimport com.google.api.services.gmail.model.Thread;\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\npublic class GmailService {\n\n    private static final String user = &quot;me&quot;;\n    private final String APPLICATION_NAME = &quot;TEST&quot;;\n    private final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    private String TOKENS_DIRECTORY_PATH;\n    /**\n     * If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n    private List&lt;String&gt; SCOPES = Arrays.asList(GmailScopes.MAIL_GOOGLE_COM);\n    private String CREDENTIALS_FILE_PATH;\n\n    public GmailService() {\n\n        TOKENS_DIRECTORY_PATH = System.getProperty(&quot;user.dir&quot;) +\n                File.separator + &quot;src&quot; +\n                File.separator + &quot;main&quot; +\n                File.separator + &quot;resources&quot; +\n                File.separator + &quot;credential&quot;;\n        CREDENTIALS_FILE_PATH = System.getProperty(&quot;user.dir&quot;) +\n                File.separator + &quot;src&quot; +\n                File.separator + &quot;main&quot; +\n                File.separator + &quot;resources&quot; +\n                File.separator + &quot;credential&quot; +\n                File.separator + &quot;credentials.json&quot;;\n\n    }\n\n    /**\n     * Creates an authorized Credential object.\n     *\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n\n        InputStream in = new FileInputStream(new File(CREDENTIALS_FILE_PATH));\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    }\n\n    private List&lt;Message&gt; getMessages(ListMessagesResponse response) {\n        List&lt;Message&gt; messages = new ArrayList&lt;&gt;();\n        try {\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                    .setApplicationName(APPLICATION_NAME)\n                    .build();\n            while (response.getMessages() != null) {\n                messages.addAll(response.getMessages());\n                if (response.getNextPageToken() != null) {\n                    String pageToken = response.getNextPageToken();\n                    response = service.users().messages().list(user)\n                            .setPageToken(pageToken).execute();\n                } else {\n                    break;\n                }\n            }\n            return messages;\n        } catch (Exception e) {\n            System.out.println(&quot;Exception log &quot; + e);\n            return messages;\n        }\n    }\n\n    public int getTotalCountOfMails() {\n        int size;\n        try {\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                    .setApplicationName(APPLICATION_NAME)\n                    .build(); // *** ATTENTION PLEASE :D This is when the error occurs ***\n            List&lt;Thread&gt; threads = service.\n                    users().\n                    threads().\n                    list(&quot;me&quot;).\n                    execute().\n                    getThreads();\n             size = threads.size();\n        } catch (Exception e) {\n            System.out.println(&quot;Exception log &quot; + e);\n            size = -1;\n        }\n        return size;\n    }\n\n    public boolean isMailExist(String messageTitle) {\n        try {\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n            Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                    .setApplicationName(APPLICATION_NAME)\n                    .build();\n            ListMessagesResponse response = service.\n                    users().\n                    messages().\n                    list(&quot;me&quot;).\n                    setQ(&quot;subject:&quot; + messageTitle).\n                    execute();\n            List&lt;Message&gt; messages = getMessages(response);\n            return messages.size() != 0;\n        } catch (Exception e) {\n            System.out.println(&quot;Exception log&quot; + e);\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-integration","scheduled-tasks"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1630291233,"post_id":68975083,"comment_id":121907759,"body_markdown":"I would say just because the thread pool is `1` by default. How does it work if you increase that one?","body":"I would say just because the thread pool is <code>1</code> by default. How does it work if you increase that one?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630333140,"creation_date":1630333140,"answer_id":68985663,"question_id":68975083,"body_markdown":"I think the problem is really just because a default thread pool size for that scheduler is really `1`. It is that sensitive default which is enough do not abuse environment resources for nothing. Plus Spring Boot is really a Microservices framework, so better to develop a single task in the target project to avoid conflicting problems and so on.","title":"Scheduler in Spring Boot stopped working when I configure an ImapIdleChannelAdapter to read emails from an Inbox","body":"<p>I think the problem is really just because a default thread pool size for that scheduler is really <code>1</code>. It is that sensitive default which is enough do not abuse environment resources for nothing. Plus Spring Boot is really a Microservices framework, so better to develop a single task in the target project to avoid conflicting problems and so on.</p>\n"}],"owner":{"account_id":8785029,"reputation":53,"user_id":6567348,"display_name":"Atif Siddiqui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68985663,"answer_count":1,"score":0,"last_activity_date":1660659758,"creation_date":1630255924,"question_id":68975083,"body_markdown":"I have a scheduler class in my Spring boot project which was properly working. \r\n```\r\n    @Component\r\n\tpublic class MyCustomScheduler {\r\n   \r\n\t  @Autowired\r\n\t  private CustomService customeService;\r\n\r\n\t  @Scheduled(cron = &quot;${cron.expression}&quot;)\r\n\t  public void pickFiles() {\r\n\t\t\r\n\t\tcustomeService.handle();\r\n\t  }\t\r\n    }\r\n```\r\nNow I have implemented another class to read Emails from a dedicated inbox. The configuration as below\r\n\r\n```\r\n@Configuration\r\n@EnableIntegration\r\npublic class EmailAdapterConfig {\r\n\r\n\tprivate static final Logger logger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(EmailAdapterConfig.class);\r\n\t\r\n\t@Value( &quot;${mail.username}&quot; )\r\n\tprivate String MAIL_USERNAME;\r\n\t\r\n\t@Value( &quot;${mail.password}&quot; )\r\n\tprivate String MAIL_PASSWORD;\t\r\n\t\r\n\t@Value( &quot;${mail.protocol}&quot; )\r\n\tprivate String MAIL_PROTOCOL;\t\r\n\r\n\t@Value( &quot;${mail.host}&quot; )\r\n\tprivate String MAIL_HOST;\t\t\r\n\r\n\t@Value( &quot;${mail.port}&quot; )\r\n\tprivate String MAIL_PORT;\t\r\n\t\r\n\t@Value( &quot;${mail.folder}&quot; )\r\n\tprivate String MAIL_FOLDER;\r\n\t\r\n\t@Value( &quot;${mail.debug}&quot; )\r\n\tprivate String MAIL_DEBUG;\t\r\n\t\r\n\t@Value( &quot;${mail.ssl.trust}&quot; )\r\n\tprivate String MAIL_SSL_TRUST;\r\n\t\r\n\t@Bean\r\n\tpublic ImapIdleChannelAdapter mailAdapter() {\r\n\t\t\r\n\t\tImapIdleChannelAdapter imapAdapter = new ImapIdleChannelAdapter(imapMailReceiver());\r\n\t\timapAdapter.setAutoStartup(true);\r\n\t\timapAdapter.setOutputChannelName(&quot;emailReceiveChannel&quot;);\r\n\t\t\r\n\t\treturn imapAdapter;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ImapMailReceiver imapMailReceiver() {\r\n\r\n\t\tStringBuilder impaURI = new StringBuilder();\r\n\t\timpaURI.append(MAIL_PROTOCOL).append(&quot;://&quot;).append(MAIL_USERNAME).append(&quot;:&quot;).append(MAIL_PASSWORD)\r\n\t\t.append(&quot;@&quot;).append(MAIL_HOST).append(&quot;:&quot;).append(MAIL_PORT).append(&quot;/&quot;).append(MAIL_FOLDER);\r\n\t\t\r\n\t\tlogger.info(&quot;IMAP URL = &quot; + impaURI.toString());\r\n\t\t\r\n\t\tImapMailReceiver mailReceiver = new ImapMailReceiver(impaURI.toString());\r\n\t\tmailReceiver.setShouldDeleteMessages(true);\r\n\t\tmailReceiver.setShouldMarkMessagesAsRead(true);\r\n\t\tmailReceiver.setJavaMailProperties(javaMailProperties());\r\n\t\tmailReceiver.setAutoCloseFolder(false);\r\n\r\n\t\treturn mailReceiver;\r\n\t}\t \r\n\t \r\n\tprivate Properties javaMailProperties() {\r\n\t\tProperties javaMailProperties = new Properties();\r\n\r\n\t\tjavaMailProperties.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\t\tjavaMailProperties.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\t\tjavaMailProperties.setProperty(&quot;mail.store.protocol&quot;, MAIL_PROTOCOL);\r\n\t\tjavaMailProperties.setProperty(&quot;mail.debug&quot;, MAIL_DEBUG);\r\n\t\tjavaMailProperties.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tjavaMailProperties.setProperty(&quot;mail.imaps.ssl.trust&quot;, MAIL_SSL_TRUST);\r\n\t\t\r\n\t\treturn javaMailProperties;\r\n\t}\r\n}\r\n```\r\n\r\nMy Spring Boot Application code\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(value = &quot;com.test.notification&quot;)\r\n@EnableScheduling\r\npublic class NotificationApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(NotificationApplication.class, args);\r\n\t}\r\n}\r\n```\r\nOnce this code is implemented, My Scheduler stopped working.\r\n\r\nIs it bacause the default pool size of TaskScheduler is &quot;1&quot; or is there any other configuration which is shared by Scheduler and the email adaptor?","title":"Scheduler in Spring Boot stopped working when I configure an ImapIdleChannelAdapter to read emails from an Inbox","body":"<p>I have a scheduler class in my Spring boot project which was properly working.</p>\n<pre><code>    @Component\n    public class MyCustomScheduler {\n   \n      @Autowired\n      private CustomService customeService;\n\n      @Scheduled(cron = &quot;${cron.expression}&quot;)\n      public void pickFiles() {\n        \n        customeService.handle();\n      } \n    }\n</code></pre>\n<p>Now I have implemented another class to read Emails from a dedicated inbox. The configuration as below</p>\n<pre><code>@Configuration\n@EnableIntegration\npublic class EmailAdapterConfig {\n\n    private static final Logger logger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(EmailAdapterConfig.class);\n    \n    @Value( &quot;${mail.username}&quot; )\n    private String MAIL_USERNAME;\n    \n    @Value( &quot;${mail.password}&quot; )\n    private String MAIL_PASSWORD;   \n    \n    @Value( &quot;${mail.protocol}&quot; )\n    private String MAIL_PROTOCOL;   \n\n    @Value( &quot;${mail.host}&quot; )\n    private String MAIL_HOST;       \n\n    @Value( &quot;${mail.port}&quot; )\n    private String MAIL_PORT;   \n    \n    @Value( &quot;${mail.folder}&quot; )\n    private String MAIL_FOLDER;\n    \n    @Value( &quot;${mail.debug}&quot; )\n    private String MAIL_DEBUG;  \n    \n    @Value( &quot;${mail.ssl.trust}&quot; )\n    private String MAIL_SSL_TRUST;\n    \n    @Bean\n    public ImapIdleChannelAdapter mailAdapter() {\n        \n        ImapIdleChannelAdapter imapAdapter = new ImapIdleChannelAdapter(imapMailReceiver());\n        imapAdapter.setAutoStartup(true);\n        imapAdapter.setOutputChannelName(&quot;emailReceiveChannel&quot;);\n        \n        return imapAdapter;\n    }\n\n    @Bean\n    public ImapMailReceiver imapMailReceiver() {\n\n        StringBuilder impaURI = new StringBuilder();\n        impaURI.append(MAIL_PROTOCOL).append(&quot;://&quot;).append(MAIL_USERNAME).append(&quot;:&quot;).append(MAIL_PASSWORD)\n        .append(&quot;@&quot;).append(MAIL_HOST).append(&quot;:&quot;).append(MAIL_PORT).append(&quot;/&quot;).append(MAIL_FOLDER);\n        \n        logger.info(&quot;IMAP URL = &quot; + impaURI.toString());\n        \n        ImapMailReceiver mailReceiver = new ImapMailReceiver(impaURI.toString());\n        mailReceiver.setShouldDeleteMessages(true);\n        mailReceiver.setShouldMarkMessagesAsRead(true);\n        mailReceiver.setJavaMailProperties(javaMailProperties());\n        mailReceiver.setAutoCloseFolder(false);\n\n        return mailReceiver;\n    }    \n     \n    private Properties javaMailProperties() {\n        Properties javaMailProperties = new Properties();\n\n        javaMailProperties.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n        javaMailProperties.setProperty(&quot;mail.imap.socketFactory.fallback&quot;, &quot;false&quot;);\n        javaMailProperties.setProperty(&quot;mail.store.protocol&quot;, MAIL_PROTOCOL);\n        javaMailProperties.setProperty(&quot;mail.debug&quot;, MAIL_DEBUG);\n        javaMailProperties.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n        javaMailProperties.setProperty(&quot;mail.imaps.ssl.trust&quot;, MAIL_SSL_TRUST);\n        \n        return javaMailProperties;\n    }\n}\n</code></pre>\n<p>My Spring Boot Application code</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(value = &quot;com.test.notification&quot;)\n@EnableScheduling\npublic class NotificationApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(NotificationApplication.class, args);\n    }\n}\n</code></pre>\n<p>Once this code is implemented, My Scheduler stopped working.</p>\n<p>Is it bacause the default pool size of TaskScheduler is &quot;1&quot; or is there any other configuration which is shared by Scheduler and the email adaptor?</p>\n"},{"tags":["java","spring","web-services","soap"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444718292,"post_id":33095643,"comment_id":54007119,"body_markdown":"Why are you messing around with properties after the construction of the template. You shouldn&#39;t be setting a default uri or message sender after it has been configured. Remove the setting and use the `webServiceTemplate.marshalSendAndReceive(uri, request)` method instead.","body":"Why are you messing around with properties after the construction of the template. You shouldn&#39;t be setting a default uri or message sender after it has been configured. Remove the setting and use the <code>webServiceTemplate.marshalSendAndReceive(uri, request)</code> method instead."},{"owner":{"account_id":6438480,"reputation":381,"user_id":4989172,"accept_rate":73,"display_name":"cookiedealer"},"score":0,"creation_date":1444724578,"post_id":33095643,"comment_id":54010660,"body_markdown":"Thank you for the hint! I will adjust that, but the SAAJ0511 and SAAJ0514 Exceptions remain...","body":"Thank you for the hint! I will adjust that, but the SAAJ0511 and SAAJ0514 Exceptions remain..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444724958,"post_id":33095643,"comment_id":54010863,"body_markdown":"You nowhere mention an exception number so what exception is that...","body":"You nowhere mention an exception number so what exception is that..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444725006,"post_id":33095643,"comment_id":54010888,"body_markdown":"It also looks like you are simply sending the wrong object but you aren&#39;t showing enough code.","body":"It also looks like you are simply sending the wrong object but you aren&#39;t showing enough code."},{"owner":{"account_id":6438480,"reputation":381,"user_id":4989172,"accept_rate":73,"display_name":"cookiedealer"},"score":1,"creation_date":1444726858,"post_id":33095643,"comment_id":54011999,"body_markdown":"First of all: Thank you for your help! \nThe exception numbers are SAAJ0514 and SAAJ0511. So you think the Object I am trying to send does not match the actual WSDL-Scheme? I will try to generate the class for the request again from the corresponding WSDL-files","body":"First of all: Thank you for your help!  The exception numbers are SAAJ0514 and SAAJ0511. So you think the Object I am trying to send does not match the actual WSDL-Scheme? I will try to generate the class for the request again from the corresponding WSDL-files"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1444727272,"post_id":33095643,"comment_id":54012298,"body_markdown":"Also why are you setting a custom messageFactory? That shouldn&#39;t be needed. Which server are you running on?","body":"Also why are you setting a custom messageFactory? That shouldn&#39;t be needed. Which server are you running on?"}],"answers":[{"tags":[],"owner":{"account_id":7042706,"reputation":179,"user_id":5394659,"display_name":"Viswa Teja Kuncham"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1522003152,"creation_date":1522003152,"answer_id":49479483,"question_id":33095643,"body_markdown":"If you are getting the exception while parsing the response from service, try sending the request from soap UI and check if it is working. \r\nIf it is working in soap ui and not here, then you are not getting proper response, that can be because of improper request.\r\nIn my case the issue was my endpoint url in code consists of &quot;?wsdl&quot;. After removing it worked perfectly fine.","title":"Cannot create envelope from given source","body":"<p>If you are getting the exception while parsing the response from service, try sending the request from soap UI and check if it is working. \nIf it is working in soap ui and not here, then you are not getting proper response, that can be because of improper request.\nIn my case the issue was my endpoint url in code consists of \"?wsdl\". After removing it worked perfectly fine.</p>\n"}],"owner":{"account_id":6438480,"reputation":381,"user_id":4989172,"accept_rate":73,"display_name":"cookiedealer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20658,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1660659682,"creation_date":1444717841,"question_id":33095643,"body_markdown":"I am trying to consume a SOAP based web service with the class *org.springframework.ws.client.core.WebServiceTemplate* of Spring WS 2.2.2 release, like this:\r\n\r\n    webServiceTemplate.setDefaultUri(uri);\r\n    webServiceTemplate.setMessageSender(new SOAPMessageSenderWithAuth());\r\n    res = (RESPONSE) webServiceTemplate.marshalSendAndReceive(request);\r\n\r\nThe request is built with a class that has been generated from WSDL-files of the web service.\r\n\r\nThe webservice has been successfully tested with SOAP UI, but when accessing it with Java the Exception &quot;***SoapMessageCreationException: Could not create message from InputStream: Unable to create envelope from given source (SAAJ0511)***&quot; and &quot;***Unable to create envelope from given source because the root element is not named &#39;Envelope&#39; (SAAJ0514)***&quot; is thrown.\r\n\r\nDoes anyone have any advice for this exception?\r\n\r\nThanks in advance!\r\n\r\nThe Spring bean for *webServiceTemplate* is defined as following:\r\n\r\n    &lt;bean id=&quot;webServiceTemplate&quot; class=&quot;org.springframework.ws.client.core.WebServiceTemplate&quot;\r\n    \tp:marshaller-ref=&quot;jaxbMarshaller&quot;\r\n    \tp:unmarshaller-ref=&quot;jaxbMarshaller&quot;\r\n    \tp:defaultUri=&quot;...&quot;&gt;\r\n    \t&lt;constructor-arg ref=&quot;messageFactory&quot;/&gt;\r\n    \t    &lt;property name=&quot;messageSender&quot;&gt;\r\n    \t      &lt;bean class=&quot;org.springframework.ws.transport.http.HttpComponentsMessageSender&quot;&gt;\r\n    \t          &lt;property name=&quot;credentials&quot;&gt;\r\n    \t              &lt;bean class=&quot;org.apache.http.auth.UsernamePasswordCredentials&quot;&gt;\r\n    \t                  &lt;constructor-arg value=&quot;...&quot;/&gt;\r\n    \t                  &lt;constructor-arg value=&quot;...&quot;/&gt;\r\n    \t              &lt;/bean&gt;\r\n    \t          &lt;/property&gt;\r\n    \t      &lt;/bean&gt;\r\n    \t  &lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\nThe Exception is:\r\n\r\norg.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Unable to create envelope from given source: ; nested exception is com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Unable to create envelope from given source\r\n\r\nThis is the class for the Web Service Client using the Spring WS Template:\r\n\r\n    import javax.annotation.Resource;\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.ws.client.WebServiceIOException;\r\n    import org.springframework.ws.client.core.WebServiceTemplate;\r\n    import com.myproject.soap.client.services.SOAPWebServiceClient;\r\n    \r\n    /**\r\n     *\r\n     * @param &lt;REQUEST&gt;\r\n     * @param &lt;RESPONSE&gt;\r\n     */\r\n    public class DefaultSOAPWebServiceClient&lt;REQUEST, RESPONSE&gt; implements SOAPWebServiceClient&lt;REQUEST, RESPONSE&gt;\r\n    {\r\n    \tprivate final static Logger LOG = Logger.getLogger(DefaultSOAPWebServiceClient.class.getName());\r\n    \t@Resource(name = &quot;webServiceTemplate&quot;)\r\n    \tprivate WebServiceTemplate webServiceTemplate;\r\n    \r\n    \t@Override\r\n    \tpublic RESPONSE sendAndReceive(final REQUEST request, final String uri)\r\n    \t{\r\n    \t\tLOG.info(&quot;SOAP URL-&quot; + uri);\r\n    \t\tLOG.info(&quot;REQUEST-&quot; + request.toString());\r\n    \t\tRESPONSE res = null;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tres = (RESPONSE) webServiceTemplate.marshalSendAndReceive(uri, request);\r\n    \t\t}\r\n    \t\tcatch (final WebServiceIOException e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tLOG.error(&quot;Service with URI: &quot; + uri + &quot; is unreachable&quot;);\r\n    \t\t}\r\n    \t\treturn res;\r\n    \t}\r\n    }\r\n\r\nThe method *sendAndReceive* is called like this:\r\n\r\n    public MYDATAResponse createCustomer(final MYDATA request)\r\n    \t{\r\n    \t\treturn (MYDATAResponse) soapWebServiceClient.sendAndReceive((REQUEST) request, getCreateCustomerURI());\r\n    \t}","title":"Cannot create envelope from given source","body":"<p>I am trying to consume a SOAP based web service with the class <em>org.springframework.ws.client.core.WebServiceTemplate</em> of Spring WS 2.2.2 release, like this:</p>\n\n<pre><code>webServiceTemplate.setDefaultUri(uri);\nwebServiceTemplate.setMessageSender(new SOAPMessageSenderWithAuth());\nres = (RESPONSE) webServiceTemplate.marshalSendAndReceive(request);\n</code></pre>\n\n<p>The request is built with a class that has been generated from WSDL-files of the web service.</p>\n\n<p>The webservice has been successfully tested with SOAP UI, but when accessing it with Java the Exception \"<strong><em>SoapMessageCreationException: Could not create message from InputStream: Unable to create envelope from given source (SAAJ0511)</em></strong>\" and \"<strong><em>Unable to create envelope from given source because the root element is not named 'Envelope' (SAAJ0514)</em></strong>\" is thrown.</p>\n\n<p>Does anyone have any advice for this exception?</p>\n\n<p>Thanks in advance!</p>\n\n<p>The Spring bean for <em>webServiceTemplate</em> is defined as following:</p>\n\n<pre><code>&lt;bean id=\"webServiceTemplate\" class=\"org.springframework.ws.client.core.WebServiceTemplate\"\n    p:marshaller-ref=\"jaxbMarshaller\"\n    p:unmarshaller-ref=\"jaxbMarshaller\"\n    p:defaultUri=\"...\"&gt;\n    &lt;constructor-arg ref=\"messageFactory\"/&gt;\n        &lt;property name=\"messageSender\"&gt;\n          &lt;bean class=\"org.springframework.ws.transport.http.HttpComponentsMessageSender\"&gt;\n              &lt;property name=\"credentials\"&gt;\n                  &lt;bean class=\"org.apache.http.auth.UsernamePasswordCredentials\"&gt;\n                      &lt;constructor-arg value=\"...\"/&gt;\n                      &lt;constructor-arg value=\"...\"/&gt;\n                  &lt;/bean&gt;\n              &lt;/property&gt;\n          &lt;/bean&gt;\n      &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>The Exception is:</p>\n\n<p>org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Unable to create envelope from given source: ; nested exception is com.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Unable to create envelope from given source</p>\n\n<p>This is the class for the Web Service Client using the Spring WS Template:</p>\n\n<pre><code>import javax.annotation.Resource;\nimport org.apache.log4j.Logger;\nimport org.springframework.ws.client.WebServiceIOException;\nimport org.springframework.ws.client.core.WebServiceTemplate;\nimport com.myproject.soap.client.services.SOAPWebServiceClient;\n\n/**\n *\n * @param &lt;REQUEST&gt;\n * @param &lt;RESPONSE&gt;\n */\npublic class DefaultSOAPWebServiceClient&lt;REQUEST, RESPONSE&gt; implements SOAPWebServiceClient&lt;REQUEST, RESPONSE&gt;\n{\n    private final static Logger LOG = Logger.getLogger(DefaultSOAPWebServiceClient.class.getName());\n    @Resource(name = \"webServiceTemplate\")\n    private WebServiceTemplate webServiceTemplate;\n\n    @Override\n    public RESPONSE sendAndReceive(final REQUEST request, final String uri)\n    {\n        LOG.info(\"SOAP URL-\" + uri);\n        LOG.info(\"REQUEST-\" + request.toString());\n        RESPONSE res = null;\n\n        try\n        {\n            res = (RESPONSE) webServiceTemplate.marshalSendAndReceive(uri, request);\n        }\n        catch (final WebServiceIOException e)\n        {\n            e.printStackTrace();\n            LOG.error(\"Service with URI: \" + uri + \" is unreachable\");\n        }\n        return res;\n    }\n}\n</code></pre>\n\n<p>The method <em>sendAndReceive</em> is called like this:</p>\n\n<pre><code>public MYDATAResponse createCustomer(final MYDATA request)\n    {\n        return (MYDATAResponse) soapWebServiceClient.sendAndReceive((REQUEST) request, getCreateCustomerURI());\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-integration","dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660659613,"creation_date":1660659613,"answer_id":73375557,"question_id":73368539,"body_markdown":"The `DirectChannel` implements a `SubscribableChannel`. So, to get messages sent to this channel you need to `subscribe(MessageHandler handler)`. What you have so far with that `IntegrationFlow` definition is OK: adding that `handle()` you subscribe to the `tempChannel`. Just handle message and forget you can do this:\r\n\r\n    .handle(m - &gt; System.out.println(&quot;Processed message: &quot; + m))\r\n\r\nThis is a lambda for that `MessageHandler` functional interface. There are many other `handle()` variants for other use-cases. For example process-n-reply is like this:\r\n\r\n    .handle((p, h) - &gt; {\r\n              System.out.println(&quot;Processed message: &quot; + m);\r\n              return &quot;My new payload&quot;;\r\n            })\r\n\r\nIf you say that you need to do several operations on the same message, then look into a `PublishSubscribeChannel`. In Java DSL we have a `publishSubscribeChannel(Consumer&lt;PublishSubscribeSpec&gt; publishSubscribeChannelConfigurer)` to configure several subscribers as sub-flows.\r\n\r\nTo store into DB, you can use a `JdbcMessageHandler`: https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-outbound-channel-adapter","title":"How to receive message from Spring Integration using Direct Channel","body":"<p>The <code>DirectChannel</code> implements a <code>SubscribableChannel</code>. So, to get messages sent to this channel you need to <code>subscribe(MessageHandler handler)</code>. What you have so far with that <code>IntegrationFlow</code> definition is OK: adding that <code>handle()</code> you subscribe to the <code>tempChannel</code>. Just handle message and forget you can do this:</p>\n<pre><code>.handle(m - &gt; System.out.println(&quot;Processed message: &quot; + m))\n</code></pre>\n<p>This is a lambda for that <code>MessageHandler</code> functional interface. There are many other <code>handle()</code> variants for other use-cases. For example process-n-reply is like this:</p>\n<pre><code>.handle((p, h) - &gt; {\n          System.out.println(&quot;Processed message: &quot; + m);\n          return &quot;My new payload&quot;;\n        })\n</code></pre>\n<p>If you say that you need to do several operations on the same message, then look into a <code>PublishSubscribeChannel</code>. In Java DSL we have a <code>publishSubscribeChannel(Consumer&lt;PublishSubscribeSpec&gt; publishSubscribeChannelConfigurer)</code> to configure several subscribers as sub-flows.</p>\n<p>To store into DB, you can use a <code>JdbcMessageHandler</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-outbound-channel-adapter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-outbound-channel-adapter</a></p>\n"}],"owner":{"account_id":22758806,"reputation":93,"user_id":16917942,"display_name":"JustAnotherNoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":926,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73375557,"answer_count":1,"score":1,"last_activity_date":1660659613,"creation_date":1660621095,"question_id":73368539,"body_markdown":"I have created DirectChannel and have sent an object to my channel and want to receive it abck to store it in DB and send it in another service bus queue. Can you suggest how to receive the object from channel?&lt;br&gt;\r\nMy Channel -\r\n\r\n    @Bean(&quot;tempChannel&quot;)\r\n\tpublic MessageChannel tempChannel() {\r\n\t\treturn new DirectChannel();\r\n\t}\r\n\r\nIntegration flow -\r\n\r\n    @Bean\r\n\tpublic IntegrationFlow tempMessageFlow() {\r\n\t\treturn IntegrationFlows.from(&quot;tempChannel&quot;).handle().get();\r\n\t}\r\nFor handle method I need to pass MessageHandler, how to I declare it and pass here? &lt;br&gt;\r\nI am sending message to channel using below piece of code, please do tell if this is alright-\r\n\r\n    tempChannel().send(messageObj);","title":"How to receive message from Spring Integration using Direct Channel","body":"<p>I have created DirectChannel and have sent an object to my channel and want to receive it abck to store it in DB and send it in another service bus queue. Can you suggest how to receive the object from channel?<br>\nMy Channel -</p>\n<pre><code>@Bean(&quot;tempChannel&quot;)\npublic MessageChannel tempChannel() {\n    return new DirectChannel();\n}\n</code></pre>\n<p>Integration flow -</p>\n<pre><code>@Bean\npublic IntegrationFlow tempMessageFlow() {\n    return IntegrationFlows.from(&quot;tempChannel&quot;).handle().get();\n}\n</code></pre>\n<p>For handle method I need to pass MessageHandler, how to I declare it and pass here? <br>\nI am sending message to channel using below piece of code, please do tell if this is alright-</p>\n<pre><code>tempChannel().send(messageObj);\n</code></pre>\n"},{"tags":["java","jackson-databind","cve"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660659399,"post_id":73375466,"comment_id":129580943,"body_markdown":"Doesn&#39;t matter where the JAR is if there&#39;s a vulnerability. It depends on what the exploit allows. You&#39;ve not mentioned what version of Jackson you&#39;re using, but it probably shouldn&#39;t be as old as the linked issue","body":"Doesn&#39;t matter where the JAR is if there&#39;s a vulnerability. It depends on what the exploit allows. You&#39;ve not mentioned what version of Jackson you&#39;re using, but it probably shouldn&#39;t be as old as the linked issue"},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1660660096,"post_id":73375466,"comment_id":129581237,"body_markdown":"the version I&#39;m using is affected by this CVE (version 2.9.8), and the cost of upgrading it is very high, so I&#39;m trying to assess if my app is exploitable for this CVE, it happened before that I used libraries affected by CVEs, but not exploitable in my case.\nThis why I&#39;m analyzing this CVE, so maybe having an accurate answer for my question will help me save weeks of work.","body":"the version I&#39;m using is affected by this CVE (version 2.9.8), and the cost of upgrading it is very high, so I&#39;m trying to assess if my app is exploitable for this CVE, it happened before that I used libraries affected by CVEs, but not exploitable in my case. This why I&#39;m analyzing this CVE, so maybe having an accurate answer for my question will help me save weeks of work."},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1660747497,"post_id":73375466,"comment_id":129606346,"body_markdown":"@OneCricketeer did you check my last comment?","body":"@OneCricketeer did you check my last comment?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660770185,"post_id":73375466,"comment_id":129614349,"body_markdown":"I don&#39;t have an answer other than to use a vulnerability scanner... And only you/your team know how the library is used, which will determine how it would be exploitable... For example, if no-one can access the server instance where the code is running, and there is no other remote-execution vulnerability, then you already have some protection... Jackson 2.9.8 seems to be almost 4 years old, and has [over 50 vulnerabilities](https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.9.8) so you should definitely try to upgrade it","body":"I don&#39;t have an answer other than to use a vulnerability scanner... And only you/your team know how the library is used, which will determine how it would be exploitable... For example, if no-one can access the server instance where the code is running, and there is no other remote-execution vulnerability, then you already have some protection... Jackson 2.9.8 seems to be almost 4 years old, and has <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.9.8\" rel=\"nofollow noreferrer\">over 50 vulnerabilities</a> so you should definitely try to upgrade it"},{"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"score":0,"creation_date":1660808523,"post_id":73375466,"comment_id":129621402,"body_markdown":"I get your point, just how I know if logback-classic is in classpath on the server running the java app?","body":"I get your point, just how I know if logback-classic is in classpath on the server running the java app?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660835868,"post_id":73375466,"comment_id":129632284,"body_markdown":"If you&#39;ve packaged the app using Maven, use verbose dependency tree output and grep for it","body":"If you&#39;ve packaged the app using Maven, use verbose dependency tree output and grep for it"}],"owner":{"account_id":24490936,"reputation":119,"user_id":18408027,"display_name":"ethicalhacker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660659243,"creation_date":1660659243,"question_id":73375466,"body_markdown":"I am analyzing this CVE and I came across this link: https://github.com/FasterXML/jackson-databind/issues/2334.\r\n\r\nit states that If service has jar logback-classic in its classpath then vulnerabilitiy applies.\r\n\r\nWhat is meant by this? does it mean that on the server side, this jar if exists than the CVE is exploitable? or the jar should be in classpath on server?","title":"is my app using jackson-databind exploitable to CVE-2019-12384?","body":"<p>I am analyzing this CVE and I came across this link: <a href=\"https://github.com/FasterXML/jackson-databind/issues/2334\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2334</a>.</p>\n<p>it states that If service has jar logback-classic in its classpath then vulnerabilitiy applies.</p>\n<p>What is meant by this? does it mean that on the server side, this jar if exists than the CVE is exploitable? or the jar should be in classpath on server?</p>\n"},{"tags":["java","multithreading","wait","sleep","volatile"],"comments":[{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1660658139,"post_id":73374744,"comment_id":129580372,"body_markdown":"Actually, it is nothing about sleep. If I put print line in the for loop body, it still passes. Without anything in the for loop, it succeeds at some test cases still but cannot pass all test cases","body":"Actually, it is nothing about sleep. If I put print line in the for loop body, it still passes. Without anything in the for loop, it succeeds at some test cases still but cannot pass all test cases"}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660658585,"creation_date":1660658585,"answer_id":73375320,"question_id":73374744,"body_markdown":"`Thread.sleep(n)` is not _guaranteed_ to do anything except not return until either `n` milliseconds have elapsed, or the calling thread was interrupted. Anything else that happens when you call it either is a peculiarity of whatever JRE, JVM, and OS version you are using, or else it&#39;s a roll of the dice on whatever JRE, JVM, and OS version you are using.\r\n\r\nIf your code depends on `sleep()` for any kind of synchronization or coordination between different threads, then you are taking a risk that it won&#39;t work everywhere and/or it won&#39;t work every time.","title":"What thread does after finishing sleeping? while thinking leetcode question: Print in Order","body":"<p><code>Thread.sleep(n)</code> is not <em>guaranteed</em> to do anything except not return until either <code>n</code> milliseconds have elapsed, or the calling thread was interrupted. Anything else that happens when you call it either is a peculiarity of whatever JRE, JVM, and OS version you are using, or else it's a roll of the dice on whatever JRE, JVM, and OS version you are using.</p>\n<p>If your code depends on <code>sleep()</code> for any kind of synchronization or coordination between different threads, then you are taking a risk that it won't work everywhere and/or it won't work every time.</p>\n"}],"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660659243,"creation_date":1660656262,"question_id":73374744,"body_markdown":"I am doing leetcode question: https://leetcode.com/problems/print-in-order/ and try different solution here:\r\n```\r\n// Solution 1:\r\n// 25 ms time\r\n// The first solution is slower? Probably because waking up a thread is more costly. The second solution is more close to positive lock. \r\nclass Foo {\r\n    \r\n     int lockSecond = 0;\r\n     int lockThird = 0;\r\n\r\n    public Foo() {\r\n        \r\n    }\r\n\r\n    public synchronized void first(Runnable printFirst) throws InterruptedException {\r\n        \r\n        // printFirst.run() outputs &quot;first&quot;. Do not change or remove this line.\r\n        printFirst.run();\r\n        this.lockSecond = 1;\r\n        notifyAll();\r\n    }\r\n\r\n    public synchronized void second(Runnable printSecond) throws InterruptedException {\r\n        \r\n        for (;this.lockSecond == 0;) {\r\n            wait();\r\n        }\r\n        \r\n        // printSecond.run() outputs &quot;second&quot;. Do not change or remove this line.\r\n        printSecond.run();\r\n        this.lockThird = 1;\r\n        notifyAll();\r\n    }\r\n\r\n    public synchronized void third(Runnable printThird) throws InterruptedException {\r\n        for (;this.lockThird == 0;) {\r\n             wait();\r\n        }\r\n        // printThird.run() outputs &quot;third&quot;. Do not change or remove this line.\r\n        printThird.run();\r\n        notifyAll();\r\n    }\r\n}\r\n//Solution 2:\r\n//10 ms there is no valotile, which means thread will retieve latest value when finishing sleeping\r\nclass Foo {\r\n    \r\n    int lockSecond = 0;\r\n    int lockThird = 0;\r\n\r\n    public Foo() {\r\n        \r\n    }\r\n\r\n    public void first(Runnable printFirst) throws InterruptedException {\r\n        \r\n        // printFirst.run() outputs &quot;first&quot;. Do not change or remove this line.\r\n        printFirst.run();\r\n        this.lockSecond = 1;\r\n    }\r\n\r\n    public void second(Runnable printSecond) throws InterruptedException {\r\n        \r\n        for (;this.lockSecond == 0;) {\r\n            Thread.sleep(1);\r\n        }\r\n        \r\n        // printSecond.run() outputs &quot;second&quot;. Do not change or remove this line.\r\n        printSecond.run();\r\n        this.lockThird = 1;\r\n    }\r\n\r\n    public void third(Runnable printThird) throws InterruptedException {\r\n        for (;this.lockThird==0;) {\r\n           Thread.sleep(1);\r\n        }\r\n        // printThird.run() outputs &quot;third&quot;. Do not change or remove this line.\r\n        printThird.run();\r\n    }\r\n}\r\n// same as second solution, \r\n//Solution 3:\r\nclass Foo {\r\n    \r\n    volatile int lockSecond = 0;\r\n    volatile int lockThird = 0;\r\n\r\n    public Foo() {\r\n        \r\n    }\r\n\r\n    public void first(Runnable printFirst) throws InterruptedException {\r\n        \r\n        // printFirst.run() outputs &quot;first&quot;. Do not change or remove this line.\r\n        printFirst.run();\r\n        this.lockSecond = 1;\r\n    }\r\n\r\n    public void second(Runnable printSecond) throws InterruptedException {\r\n        \r\n        for (;this.lockSecond == 0;) {\r\n        }\r\n        \r\n        // printSecond.run() outputs &quot;second&quot;. Do not change or remove this line.\r\n        printSecond.run();\r\n        this.lockThird = 1;\r\n    }\r\n\r\n    public void third(Runnable printThird) throws InterruptedException {\r\n        for (;this.lockThird==0;) {\r\n        }\r\n        // printThird.run() outputs &quot;third&quot;. Do not change or remove this line.\r\n        printThird.run();\r\n    }\r\n}\r\n\r\n```\r\nI can understand we use volatile to make the var shared across different thread in solution 3 to avoid the endless loop. If I remove volatile, Leetcode will say exceeding time limit. \r\n\r\nBut for solution 2, I can remove volatile if I use sleep.\r\nDoes this mean thread will always re-read value of variable after finishing sleep, which avoid the time limit issue? \r\nNot familiar with multi-threading, there might be misleading comments in the code snippet. Welcome any correcting!\r\n----------------------Update --------------------------------\r\n\r\nIt has nothing to do with sleep() actually. It is up to whether there is statement in the for loop body. If I replace sleep with println(), it still passes test cases. If it is empty, it will exceed time.\r\n Actually in my opinion, if there is no valotile keyword. It will get into endless loop since different thread share no visibility but it doesn&#39;t. It just gets slower. When there is a statement, it can even pass the tests case of leetcode","title":"What thread does after finishing sleeping? while thinking leetcode question: Print in Order","body":"<p>I am doing leetcode question: <a href=\"https://leetcode.com/problems/print-in-order/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/print-in-order/</a> and try different solution here:</p>\n<pre><code>// Solution 1:\n// 25 ms time\n// The first solution is slower? Probably because waking up a thread is more costly. The second solution is more close to positive lock. \nclass Foo {\n    \n     int lockSecond = 0;\n     int lockThird = 0;\n\n    public Foo() {\n        \n    }\n\n    public synchronized void first(Runnable printFirst) throws InterruptedException {\n        \n        // printFirst.run() outputs &quot;first&quot;. Do not change or remove this line.\n        printFirst.run();\n        this.lockSecond = 1;\n        notifyAll();\n    }\n\n    public synchronized void second(Runnable printSecond) throws InterruptedException {\n        \n        for (;this.lockSecond == 0;) {\n            wait();\n        }\n        \n        // printSecond.run() outputs &quot;second&quot;. Do not change or remove this line.\n        printSecond.run();\n        this.lockThird = 1;\n        notifyAll();\n    }\n\n    public synchronized void third(Runnable printThird) throws InterruptedException {\n        for (;this.lockThird == 0;) {\n             wait();\n        }\n        // printThird.run() outputs &quot;third&quot;. Do not change or remove this line.\n        printThird.run();\n        notifyAll();\n    }\n}\n//Solution 2:\n//10 ms there is no valotile, which means thread will retieve latest value when finishing sleeping\nclass Foo {\n    \n    int lockSecond = 0;\n    int lockThird = 0;\n\n    public Foo() {\n        \n    }\n\n    public void first(Runnable printFirst) throws InterruptedException {\n        \n        // printFirst.run() outputs &quot;first&quot;. Do not change or remove this line.\n        printFirst.run();\n        this.lockSecond = 1;\n    }\n\n    public void second(Runnable printSecond) throws InterruptedException {\n        \n        for (;this.lockSecond == 0;) {\n            Thread.sleep(1);\n        }\n        \n        // printSecond.run() outputs &quot;second&quot;. Do not change or remove this line.\n        printSecond.run();\n        this.lockThird = 1;\n    }\n\n    public void third(Runnable printThird) throws InterruptedException {\n        for (;this.lockThird==0;) {\n           Thread.sleep(1);\n        }\n        // printThird.run() outputs &quot;third&quot;. Do not change or remove this line.\n        printThird.run();\n    }\n}\n// same as second solution, \n//Solution 3:\nclass Foo {\n    \n    volatile int lockSecond = 0;\n    volatile int lockThird = 0;\n\n    public Foo() {\n        \n    }\n\n    public void first(Runnable printFirst) throws InterruptedException {\n        \n        // printFirst.run() outputs &quot;first&quot;. Do not change or remove this line.\n        printFirst.run();\n        this.lockSecond = 1;\n    }\n\n    public void second(Runnable printSecond) throws InterruptedException {\n        \n        for (;this.lockSecond == 0;) {\n        }\n        \n        // printSecond.run() outputs &quot;second&quot;. Do not change or remove this line.\n        printSecond.run();\n        this.lockThird = 1;\n    }\n\n    public void third(Runnable printThird) throws InterruptedException {\n        for (;this.lockThird==0;) {\n        }\n        // printThird.run() outputs &quot;third&quot;. Do not change or remove this line.\n        printThird.run();\n    }\n}\n\n</code></pre>\n<p>I can understand we use volatile to make the var shared across different thread in solution 3 to avoid the endless loop. If I remove volatile, Leetcode will say exceeding time limit.</p>\n<p>But for solution 2, I can remove volatile if I use sleep.\nDoes this mean thread will always re-read value of variable after finishing sleep, which avoid the time limit issue?\nNot familiar with multi-threading, there might be misleading comments in the code snippet. Welcome any correcting!\n----------------------Update --------------------------------</p>\n<p>It has nothing to do with sleep() actually. It is up to whether there is statement in the for loop body. If I replace sleep with println(), it still passes test cases. If it is empty, it will exceed time.\nActually in my opinion, if there is no valotile keyword. It will get into endless loop since different thread share no visibility but it doesn't. It just gets slower. When there is a statement, it can even pass the tests case of leetcode</p>\n"},{"tags":["java","parsing","antlr"],"answers":[{"tags":[],"owner":{"account_id":27816,"reputation":6650,"user_id":73764,"accept_rate":91,"display_name":"Mike Cargal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1660624076,"creation_date":1660572322,"answer_id":73362120,"question_id":73360442,"body_markdown":"You could add a `-&gt; skip` action to your `FREETEXT` rule:\r\n\r\n```\r\nFREETEXT : &#39;FREETEXT&#39; FIELD_SEPERATOR .*? &#39;\\n -&gt; skip;\r\n```\r\n\r\n(This is how whitespace is frequently handled in other grammars.  With the `skip` action, the `FREETEXT` token will not appear in your token stream and will not need to be accounted for in your parser rules.)\r\n\r\n\r\nAnother option is to send it to another channel\r\n\r\n```\r\nFREETEXT : &#39;FREETEXT&#39; FIELD_SEPERATOR .*? &#39;\\n&#39; -&gt; channel(HIDDEN);\r\n```\r\n\r\nThis has the a similar effect of making the `FREETEXT` Tokens irrelevant to the parser rules, but they are still a part of the token stream, and you can interrogate the token stream if you have some need to interrogate them.\r\n\r\nSince you mention that you want to recover its relationship to the previous element, the `channel` options would be the way to go.  Then in a listener or visitor, you can use `getHiddenTokensToRight` or similar methods on [BufferedTokenStream][1] to look at them.\r\n\r\n\r\n  [1]: https://www.antlr.org/api/Java/org/antlr/v4/runtime/BufferedTokenStream.html","title":"ANTLR4 - Sporadic Elements in Strict Ordering Grammar","body":"<p>You could add a <code>-&gt; skip</code> action to your <code>FREETEXT</code> rule:</p>\n<pre><code>FREETEXT : 'FREETEXT' FIELD_SEPERATOR .*? '\\n -&gt; skip;\n</code></pre>\n<p>(This is how whitespace is frequently handled in other grammars.  With the <code>skip</code> action, the <code>FREETEXT</code> token will not appear in your token stream and will not need to be accounted for in your parser rules.)</p>\n<p>Another option is to send it to another channel</p>\n<pre><code>FREETEXT : 'FREETEXT' FIELD_SEPERATOR .*? '\\n' -&gt; channel(HIDDEN);\n</code></pre>\n<p>This has the a similar effect of making the <code>FREETEXT</code> Tokens irrelevant to the parser rules, but they are still a part of the token stream, and you can interrogate the token stream if you have some need to interrogate them.</p>\n<p>Since you mention that you want to recover its relationship to the previous element, the <code>channel</code> options would be the way to go.  Then in a listener or visitor, you can use <code>getHiddenTokensToRight</code> or similar methods on <a href=\"https://www.antlr.org/api/Java/org/antlr/v4/runtime/BufferedTokenStream.html\" rel=\"nofollow noreferrer\">BufferedTokenStream</a> to look at them.</p>\n"}],"owner":{"account_id":3901852,"reputation":21,"user_id":3229480,"display_name":"blackened"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73362120,"answer_count":1,"score":0,"last_activity_date":1660659068,"creation_date":1660563317,"question_id":73360442,"body_markdown":"I am using antlr 4.10.1 maven plugin to generate a java parser. I have defined a grammar for a data format that follows a strict ordering of elements. However, this format also allows for &quot;freetext&quot; elements that can be inserted anywhere between two complete elements. I have defined a lexer rule that covers these freetext elements in their entirety and handle &quot;unplanned&quot; appearances using a custom error handler that allow the parsing to continue in such a case.\r\n\r\nI am trying to figure out if there are &quot;better&quot; ways to handle such a scenario, other than to surround all other elements with these optional freetext elements in the grammar.\r\n\r\nNote that when a freetext element is present, it relates to the preceeding element so I would also like to be able to recover this relation.\r\n\r\nAny ideas?\r\n\r\nThe following is an example of such a grammar.\r\n```\r\ngrammar POC;\r\n\r\nFIELD_SEPERATOR : &#39;-&#39;;\r\nFIELD_VALUE : ~[-\\r\\n]+;\r\nEOL : &#39;\\r\\n&#39;;\r\nFREETEXT : &#39;FREETEXT&#39; FIELD_SEPERATOR .*? &#39;\\n&#39;;\r\n\r\n\r\npoc : data1 data2 data3? data4 EOF;\r\ndata1 : &#39;DATA1&#39; FIELD_SEPERATOR FIELD_VALUE EOL;\r\ndata2 : &#39;DATA2&#39; FIELD_SEPERATOR FIELD_VALUE EOL;\r\ndata3 : &#39;DATA3&#39; FIELD_SEPERATOR FIELD_VALUE EOL;\r\ndata4 : &#39;DATA4&#39; FIELD_SEPERATOR FIELD_VALUE EOL;\r\n```\r\n\r\nThe following is an example of the data to test the grammar.\r\n```\r\nDATA1-this is a value\r\nDATA2-this is a value\r\nFREETEXT-This is a freetext\r\nDATA3-this is a value\r\nDATA4-this is a value\r\n```\r\n\r\n**EDITED TO ADD ANSWER**\r\n\r\nWith minor modification to the grammar above.\r\n```\r\nFREETEXT : &#39;FREETEXT&#39; FIELD_SEPERATOR .*? &#39;\\n&#39; -&gt; channel(HIDDEN);\r\n```\r\n\r\nThe resulting java program:\r\n\r\n```java\r\npublic class POC extends POCBaseListener {\r\n\r\n    private static BufferedTokenStream freeTextBuffer = null;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        var lexer = new POCLexer(CharStreams.fromStream(POC.class.getResourceAsStream(&quot;/poc.txt&quot;)));\r\n        var lexer2 = new POCLexer(CharStreams.fromStream(POC.class.getResourceAsStream(&quot;/poc.txt&quot;)));\r\n\r\n        var parser = new POCParser(new CommonTokenStream(lexer));\r\n\r\n        freeTextBuffer = new BufferedTokenStream(lexer2);\r\n        freeTextBuffer.fill();\r\n\r\n        ParseTree tree = parser.poc();\r\n        ParseTreeWalker walker = new ParseTreeWalker();\r\n        walker.walk(new POC(), tree);\r\n    }\r\n\r\n    @Override\r\n    public void exitEveryRule(ParserRuleContext ctx) {\r\n        int tokenIndex = ctx.stop.getTokenIndex();\r\n        var freetext = freeTextBuffer.getHiddenTokensToRight(tokenIndex);\r\n        if (freetext != null) {\r\n            System.out.println(String.format(&quot;Found freetext for: %s&quot;, ctx.getStart().getText()));\r\n            var i = freetext.iterator();\r\n            while (i.hasNext()) {\r\n                var text = i.next().getText().replace(&quot;\\n&quot;, &quot;&quot;);\r\n                System.out.println(String.format(&quot; -&gt; %s&quot;, text));\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nResulting console output:\r\n\r\n```\r\nFound freetext for: DATA2\r\n -&gt; FREETEXT-This is a freetext\r\n```","title":"ANTLR4 - Sporadic Elements in Strict Ordering Grammar","body":"<p>I am using antlr 4.10.1 maven plugin to generate a java parser. I have defined a grammar for a data format that follows a strict ordering of elements. However, this format also allows for &quot;freetext&quot; elements that can be inserted anywhere between two complete elements. I have defined a lexer rule that covers these freetext elements in their entirety and handle &quot;unplanned&quot; appearances using a custom error handler that allow the parsing to continue in such a case.</p>\n<p>I am trying to figure out if there are &quot;better&quot; ways to handle such a scenario, other than to surround all other elements with these optional freetext elements in the grammar.</p>\n<p>Note that when a freetext element is present, it relates to the preceeding element so I would also like to be able to recover this relation.</p>\n<p>Any ideas?</p>\n<p>The following is an example of such a grammar.</p>\n<pre><code>grammar POC;\n\nFIELD_SEPERATOR : '-';\nFIELD_VALUE : ~[-\\r\\n]+;\nEOL : '\\r\\n';\nFREETEXT : 'FREETEXT' FIELD_SEPERATOR .*? '\\n';\n\n\npoc : data1 data2 data3? data4 EOF;\ndata1 : 'DATA1' FIELD_SEPERATOR FIELD_VALUE EOL;\ndata2 : 'DATA2' FIELD_SEPERATOR FIELD_VALUE EOL;\ndata3 : 'DATA3' FIELD_SEPERATOR FIELD_VALUE EOL;\ndata4 : 'DATA4' FIELD_SEPERATOR FIELD_VALUE EOL;\n</code></pre>\n<p>The following is an example of the data to test the grammar.</p>\n<pre><code>DATA1-this is a value\nDATA2-this is a value\nFREETEXT-This is a freetext\nDATA3-this is a value\nDATA4-this is a value\n</code></pre>\n<p><strong>EDITED TO ADD ANSWER</strong></p>\n<p>With minor modification to the grammar above.</p>\n<pre><code>FREETEXT : 'FREETEXT' FIELD_SEPERATOR .*? '\\n' -&gt; channel(HIDDEN);\n</code></pre>\n<p>The resulting java program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class POC extends POCBaseListener {\n\n    private static BufferedTokenStream freeTextBuffer = null;\n\n    public static void main(String[] args) throws IOException {\n\n        var lexer = new POCLexer(CharStreams.fromStream(POC.class.getResourceAsStream(&quot;/poc.txt&quot;)));\n        var lexer2 = new POCLexer(CharStreams.fromStream(POC.class.getResourceAsStream(&quot;/poc.txt&quot;)));\n\n        var parser = new POCParser(new CommonTokenStream(lexer));\n\n        freeTextBuffer = new BufferedTokenStream(lexer2);\n        freeTextBuffer.fill();\n\n        ParseTree tree = parser.poc();\n        ParseTreeWalker walker = new ParseTreeWalker();\n        walker.walk(new POC(), tree);\n    }\n\n    @Override\n    public void exitEveryRule(ParserRuleContext ctx) {\n        int tokenIndex = ctx.stop.getTokenIndex();\n        var freetext = freeTextBuffer.getHiddenTokensToRight(tokenIndex);\n        if (freetext != null) {\n            System.out.println(String.format(&quot;Found freetext for: %s&quot;, ctx.getStart().getText()));\n            var i = freetext.iterator();\n            while (i.hasNext()) {\n                var text = i.next().getText().replace(&quot;\\n&quot;, &quot;&quot;);\n                System.out.println(String.format(&quot; -&gt; %s&quot;, text));\n            }\n        }\n    }\n</code></pre>\n<p>Resulting console output:</p>\n<pre><code>Found freetext for: DATA2\n -&gt; FREETEXT-This is a freetext\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1660659855,"post_id":73375422,"comment_id":129581134,"body_markdown":"To be able to inject a `java.enterprise.event.Event` instance as a bean, something must have defined such a bean. Where do you expect the `Event` bean to come from?","body":"To be able to inject a <code>java.enterprise.event.Event</code> instance as a bean, something must have defined such a bean. Where do you expect the <code>Event</code> bean to come from?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660661630,"post_id":73375422,"comment_id":129581898,"body_markdown":"Which tutorial? And are you actually using the proper event?","body":"Which tutorial? And are you actually using the proper event?"},{"owner":{"account_id":9681050,"reputation":67,"user_id":7182733,"display_name":"texmelex"},"score":0,"creation_date":1660722263,"post_id":73375422,"comment_id":129596833,"body_markdown":"https://debezium.io/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/ this is the tutorial and the related github repo: https://github.com/debezium/debezium-examples/blob/main/outbox/order-service/src/main/java/io/debezium/examples/outbox/order/service/OrderService.java#L34-L35","body":"<a href=\"https://debezium.io/blog/2019/02/19/reliable-microservices-data-exchange-with-the-outbox-pattern/\" rel=\"nofollow noreferrer\">debezium.io/blog/2019/02/19/&hellip;</a> this is the tutorial and the related github repo: <a href=\"https://github.com/debezium/debezium-examples/blob/main/outbox/order-service/src/main/java/io/debezium/examples/outbox/order/service/OrderService.java#L34-L35\" rel=\"nofollow noreferrer\">github.com/debezium/debezium-examples/blob/main/outbox/&hellip;</a>"},{"owner":{"account_id":5047609,"reputation":16888,"user_id":4053082,"accept_rate":92,"display_name":"Martin uka"},"score":0,"creation_date":1694040639,"post_id":73375422,"comment_id":135840656,"body_markdown":"@texmelex Did you solve the problem ? I am facing the same issue","body":"@texmelex Did you solve the problem ? I am facing the same issue"}],"owner":{"account_id":9681050,"reputation":67,"user_id":7182733,"display_name":"texmelex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660659024,"creation_date":1660659024,"question_id":73375422,"body_markdown":"I am following a tutorial, where Event is injected like this into the Controller class:\r\n\r\n      @Inject\r\n      Event&lt;ExportedEvent&lt;?, ?&gt;&gt; event;\r\n\r\nHowever, when I run my spring boot application, it fails with the following: \r\n\r\n    ***************************\r\n\r\n    APPLICATION FAILED TO START\r\n\r\n    ***************************\r\n\r\n\r\n    Description:\r\n\r\n\r\n    Field event in com.example.mydemo.controller.MyResource required a \r\n    bean of type &#39;javax.enterprise.event.Event&#39; that could not be found.\r\n\r\n\r\n    The injection point has the following annotations:\r\n\r\n    - @javax.inject.Inject()\r\n\r\nThe main Spring Boot Application is in the package &quot;com.example.mydemo&quot;, so I guess it scans everything starting from that package. Is it the reason the Event bean is not found?\r\n\r\nHow can this be fixed? I tried using @ComponentScan and add the package but it did not work.\r\n\r\nThanks you!","title":"Spring Boot app cannot inject / autowire &#39;javax.enterprise.event.Event&#39;?","body":"<p>I am following a tutorial, where Event is injected like this into the Controller class:</p>\n<pre><code>  @Inject\n  Event&lt;ExportedEvent&lt;?, ?&gt;&gt; event;\n</code></pre>\n<p>However, when I run my spring boot application, it fails with the following:</p>\n<pre><code>***************************\n\nAPPLICATION FAILED TO START\n\n***************************\n\n\nDescription:\n\n\nField event in com.example.mydemo.controller.MyResource required a \nbean of type 'javax.enterprise.event.Event' that could not be found.\n\n\nThe injection point has the following annotations:\n\n- @javax.inject.Inject()\n</code></pre>\n<p>The main Spring Boot Application is in the package &quot;com.example.mydemo&quot;, so I guess it scans everything starting from that package. Is it the reason the Event bean is not found?</p>\n<p>How can this be fixed? I tried using @ComponentScan and add the package but it did not work.</p>\n<p>Thanks you!</p>\n"},{"tags":["java","android","android-studio","java.util.date","date"],"comments":[{"owner":{"account_id":2845606,"reputation":37807,"user_id":2444099,"display_name":"Eugen Pechanec"},"score":0,"creation_date":1524371794,"post_id":49961922,"comment_id":86941098,"body_markdown":"What do you call auto-import?","body":"What do you call auto-import?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1524383496,"post_id":49961922,"comment_id":86943560,"body_markdown":"As an aside consider neither using `java.util.Date` nor `java.sql.Date`. Those classes are long outdated and have serious design problems. Today `Instant` and the other classes from [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) are a more appealing choice. Yes, you can use them on Android. For older Android see [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).","body":"As an aside consider neither using <code>java.util.Date</code> nor <code>java.sql.Date</code>. Those classes are long outdated and have serious design problems. Today <code>Instant</code> and the other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> are a more appealing choice. Yes, you can use them on Android. For older Android see <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>."}],"answers":[{"tags":[],"owner":{"account_id":9280154,"reputation":57862,"user_id":6891563,"accept_rate":75,"display_name":"Khemraj Sharma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524383744,"creation_date":1524364169,"answer_id":49961963,"question_id":49961922,"body_markdown":"First see if there&#39;s not any import of `import java.sql.Date`. Or any other `Date` class (**Important**)\r\n\r\nThen type `Date`, you will see drop down list, let android studio find all classes named `Date`. Then choose the one you require in your class.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/IMBK0.png","title":"Stop Android Studio from auto-importing java.sql.Date","body":"<p>First see if there's not any import of <code>import java.sql.Date</code>. Or any other <code>Date</code> class (<strong>Important</strong>)</p>\n\n<p>Then type <code>Date</code>, you will see drop down list, let android studio find all classes named <code>Date</code>. Then choose the one you require in your class.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IMBK0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IMBK0.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11039741,"reputation":126,"user_id":8108153,"display_name":"Ivan C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1527240504,"creation_date":1527236402,"answer_id":50524639,"question_id":49961922,"body_markdown":"I had the same problem and turned out java.util.Date was in &quot;Exclude from Import&quot; list in Settings (Settings- Auto Import - Exclude from Import). Clear this list and IDE will be asking which lib to import. Clear the list, add a java.SQL.Date and IDE will be importing java.util.Date asking nothing.","title":"Stop Android Studio from auto-importing java.sql.Date","body":"<p>I had the same problem and turned out java.util.Date was in \"Exclude from Import\" list in Settings (Settings- Auto Import - Exclude from Import). Clear this list and IDE will be asking which lib to import. Clear the list, add a java.SQL.Date and IDE will be importing java.util.Date asking nothing.</p>\n"}],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50524639,"answer_count":2,"score":1,"last_activity_date":1660658991,"creation_date":1524363459,"question_id":49961922,"body_markdown":"How can I set up that Android Studio always imports `java.util.Date`? It ALWAYS auto-imports `java.sql.Date`, which I never use, which then always gives me errors later if I dont explicitly check the import statements (which of course nobody ever does). It happens each and every time I do something like\r\n\r\n    Date d = new Date();\r\n\r\nWhich is a valid constructor for both. Is there some kind of import priority?","title":"Stop Android Studio from auto-importing java.sql.Date","body":"<p>How can I set up that Android Studio always imports <code>java.util.Date</code>? It ALWAYS auto-imports <code>java.sql.Date</code>, which I never use, which then always gives me errors later if I dont explicitly check the import statements (which of course nobody ever does). It happens each and every time I do something like</p>\n\n<pre><code>Date d = new Date();\n</code></pre>\n\n<p>Which is a valid constructor for both. Is there some kind of import priority?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1660657485,"post_id":73374427,"comment_id":129580066,"body_markdown":"Note that the first argument to `findWithinHorizon` is a *pattern* (regular expression) rather than a string, so for example `.*` will match *everything*.","body":"Note that the first argument to <code>findWithinHorizon</code> is a <i>pattern</i> (regular expression) rather than a string, so for example <code>.*</code> will match <i>everything</i>."},{"owner":{"account_id":26049255,"reputation":5,"user_id":19752809,"display_name":"gooooodmorning"},"score":0,"creation_date":1660659959,"post_id":73374427,"comment_id":129581186,"body_markdown":"Little confused, does that mean I should do findString(File f, Pattern p) and scan.findWithinHorizon(p, 0)?","body":"Little confused, does that mean I should do findString(File f, Pattern p) and scan.findWithinHorizon(p, 0)?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1660660942,"post_id":73374427,"comment_id":129581597,"body_markdown":"That depends on what your requirements are. Your question appears to be talking about finding a *particular string* in a file. However, your code uses `findWithinHorizon(String pattern, int horizon)`, won&#39;t search for a particular string, but searches for a [regular expression](https://en.wikipedia.org/wiki/Regular_expression) instead. So you need to decide what you want to search: a particular string or a particular pattern.","body":"That depends on what your requirements are. Your question appears to be talking about finding a <i>particular string</i> in a file. However, your code uses <code>findWithinHorizon(String pattern, int horizon)</code>, won&#39;t search for a particular string, but searches for a <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression</a> instead. So you need to decide what you want to search: a particular string or a particular pattern."}],"answers":[{"tags":[],"owner":{"account_id":15539699,"reputation":21,"user_id":19708417,"display_name":"T I M O N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660655755,"creation_date":1660655665,"answer_id":73374609,"question_id":73374427,"body_markdown":"I would use a while-loop and simply use `indexOf` to compare the currentLine to your string.\r\n   \r\n    public boolean findString(File f, String s) throws FileNotFoundException {\r\n        Scanner scan = new Scanner(f);\r\n        String currentLine;\r\n\r\n        while((currentLine = scanner.readLine()) != null) {\r\n          if(currentLine.indexOf(s)) {        \r\n             return true;\r\n          }\r\n        }\r\n\r\n        return false;\r\n    } \r\n\r\nAn advantage of doing it this way is that you can also have an integer which you increase with every run of the loop to get the line in which the string is included (if you want/need to).","title":"how do you return a boolean for if scanner finds a specified string within a file?","body":"<p>I would use a while-loop and simply use <code>indexOf</code> to compare the currentLine to your string.</p>\n<pre><code>public boolean findString(File f, String s) throws FileNotFoundException {\n    Scanner scan = new Scanner(f);\n    String currentLine;\n\n    while((currentLine = scanner.readLine()) != null) {\n      if(currentLine.indexOf(s)) {        \n         return true;\n      }\n    }\n\n    return false;\n} \n</code></pre>\n<p>An advantage of doing it this way is that you can also have an integer which you increase with every run of the loop to get the line in which the string is included (if you want/need to).</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660658972,"creation_date":1660656470,"answer_id":73374787,"question_id":73374427,"body_markdown":"Well, there are many ways to check whether a certain file contains a certain string, but I can&#39;t think of a single method which opens the file, scans for the given pattern and then returns a boolean indicating whether the pattern has been found within the file.\r\n\r\nI think that use-case would be to small, as in many cases, you want to do more with the contents than only searching whether it contains a specific pattern. Often you want to *process* the file contents.\r\n\r\nRegarding your code, it is already fairly short. However, I would change two things here. First, as `scan.findWithinHorizon(s, 0) != null` already *is* a boolean expression, you could immediately return it, instead of using if-else. Second, you should close the file you opened. You can use the try-with-resources construct for this.\r\n\r\nHere is the updated code:\r\n\r\n```java\r\ntry (Scanner scan = new Scanner(f)) {\r\n    return scan.findWithinHorizon(s, 0) != null;\r\n}\r\n```\r\n\r\nNote that this code finds a *pattern*. If you want to find a *literal* string, then use `scan.findWithinHorizon(Pattern.compile(s, Pattern.LITERAL), 0)`.\r\n\r\n---\r\n\r\n* More on finding a pattern in a file: [this Stack Overflow post][1]\r\n\r\n* More on try-with-resources: [Oracle Java documentation][2], [Baeldung][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34796064/507738\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://www.baeldung.com/java-try-with-resources","title":"how do you return a boolean for if scanner finds a specified string within a file?","body":"<p>Well, there are many ways to check whether a certain file contains a certain string, but I can't think of a single method which opens the file, scans for the given pattern and then returns a boolean indicating whether the pattern has been found within the file.</p>\n<p>I think that use-case would be to small, as in many cases, you want to do more with the contents than only searching whether it contains a specific pattern. Often you want to <em>process</em> the file contents.</p>\n<p>Regarding your code, it is already fairly short. However, I would change two things here. First, as <code>scan.findWithinHorizon(s, 0) != null</code> already <em>is</em> a boolean expression, you could immediately return it, instead of using if-else. Second, you should close the file you opened. You can use the try-with-resources construct for this.</p>\n<p>Here is the updated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Scanner scan = new Scanner(f)) {\n    return scan.findWithinHorizon(s, 0) != null;\n}\n</code></pre>\n<p>Note that this code finds a <em>pattern</em>. If you want to find a <em>literal</em> string, then use <code>scan.findWithinHorizon(Pattern.compile(s, Pattern.LITERAL), 0)</code>.</p>\n<hr />\n<ul>\n<li><p>More on finding a pattern in a file: <a href=\"https://stackoverflow.com/a/34796064/507738\">this Stack Overflow post</a></p>\n</li>\n<li><p>More on try-with-resources: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Oracle Java documentation</a>, <a href=\"https://www.baeldung.com/java-try-with-resources\" rel=\"nofollow noreferrer\">Baeldung</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":26049255,"reputation":5,"user_id":19752809,"display_name":"gooooodmorning"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73374787,"answer_count":2,"score":-1,"last_activity_date":1660658972,"creation_date":1660654886,"question_id":73374427,"body_markdown":"I&#39;m not very familiar with File &amp; Scanner objects so please bear with me:\r\n\r\nI&#39;m attempting to have a scanner look through a file and see if a specific string exists, then return true/false - I thought there would be a method for this but either I&#39;m reading the docs wrong or it doesn&#39;t exist. \r\n\r\nWhat I&#39;m able to come up with is the following but I&#39;m sure there&#39;s a simpler way. \r\n\r\n```\r\npublic boolean findString(File f, String s) throws FileNotFoundException {\r\n\t\tScanner scan = new Scanner(f);\r\n\t\t\r\n\t\tif(scan.findWithinHorizon(s, 0) != null) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n```\r\n","title":"how do you return a boolean for if scanner finds a specified string within a file?","body":"<p>I'm not very familiar with File &amp; Scanner objects so please bear with me:</p>\n<p>I'm attempting to have a scanner look through a file and see if a specific string exists, then return true/false - I thought there would be a method for this but either I'm reading the docs wrong or it doesn't exist.</p>\n<p>What I'm able to come up with is the following but I'm sure there's a simpler way.</p>\n<pre><code>public boolean findString(File f, String s) throws FileNotFoundException {\n        Scanner scan = new Scanner(f);\n        \n        if(scan.findWithinHorizon(s, 0) != null) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":1,"creation_date":1660610347,"post_id":73367325,"comment_id":129567681,"body_markdown":"What is the number of partitions in topics?","body":"What is the number of partitions in topics?"},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1660617277,"post_id":73367325,"comment_id":129568608,"body_markdown":"Did you try `config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, List.of(&quot;example.dev.com:9092&quot; , &quot;example1.dev.com:9092 &quot;));`","body":"Did you try <code>config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, List.of(&quot;example.dev.com:9092&quot; , &quot;example1.dev.com:9092 &quot;));</code>"},{"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"score":0,"creation_date":1660653695,"post_id":73367325,"comment_id":129578464,"body_markdown":"Yes this does not work since behind scenes each proxy has more than one ip address.","body":"Yes this does not work since behind scenes each proxy has more than one ip address."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660663173,"post_id":73367325,"comment_id":129582560,"body_markdown":"Kafka cannot be proxied easily. Clients must talk directly to individual brokers. Sounds like you have a server misconfiguration causing issues with your client.","body":"Kafka cannot be proxied easily. Clients must talk directly to individual brokers. Sounds like you have a server misconfiguration causing issues with your client."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660656379,"creation_date":1660656379,"answer_id":73374768,"question_id":73367325,"body_markdown":"The bootstrap server(s) are just used to, err, bootstrap the connections.\r\n\r\nIt only needs to connect to one of them to get information about the cluster.\r\n\r\nThat server then returns &quot;advertised listeners&quot; and the client will only actually connect to brokers that have partitions that the client wants to consume from (or send to).\r\n\r\nSo, if all the topics/partitions are located on just one server, that&#39;s the one you will connect to.","title":"Springboot-Kafka: Bootstrap-servers with MultiNode Hosts","body":"<p>The bootstrap server(s) are just used to, err, bootstrap the connections.</p>\n<p>It only needs to connect to one of them to get information about the cluster.</p>\n<p>That server then returns &quot;advertised listeners&quot; and the client will only actually connect to brokers that have partitions that the client wants to consume from (or send to).</p>\n<p>So, if all the topics/partitions are located on just one server, that's the one you will connect to.</p>\n"},{"tags":[],"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660658969,"creation_date":1660658969,"answer_id":73375411,"question_id":73367325,"body_markdown":"The simplest hack would be check the servers and collect some info to make sure that topics/partition are created in multiple nodes. Once this is confirmed, you can just run your consumer and see if you are getting the topic/partition events. \r\n\r\nList of bootstrap servers are mainly for resilience. It is not necessary to consume from each one of them every time.\r\n\r\n","title":"Springboot-Kafka: Bootstrap-servers with MultiNode Hosts","body":"<p>The simplest hack would be check the servers and collect some info to make sure that topics/partition are created in multiple nodes. Once this is confirmed, you can just run your consumer and see if you are getting the topic/partition events.</p>\n<p>List of bootstrap servers are mainly for resilience. It is not necessary to consume from each one of them every time.</p>\n"}],"owner":{"account_id":5879597,"reputation":838,"user_id":4629427,"display_name":"Rocky4Ever"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660658969,"creation_date":1660605977,"question_id":73367325,"body_markdown":"I am trying to connect to kafka consumers which uses multinode hosts.\r\nFollowing property works with one multinode host, but not able to read multiple multinode hosts.\r\n\r\n**Works fine:**\r\n\r\n\r\n    spring.kafka.consumer.bootstrap-servers = example.dev.com:9092\r\n\r\n**Only reading from one host even-though mentioned two:**\r\n\r\n    spring.kafka.consumer.bootstrap-servers = example.dev.com:9092,example2.dev.com:9092\r\n\r\n\r\nHere: \r\n\r\n    example.dev.com:9092 = node:9092,node2:9092,node3:9092\r\n    example1.dev.com:9092 = node:9092,node2:9092,node3:9092\r\n\r\n\r\nIs it possible to connect to multiple multinodes using one consumerFactory like below:\r\n\r\n        @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory()\r\n        {\r\n      \r\n            // Creating a Map of string-object pairs\r\n            Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n      \r\n            // Adding the Configuration\r\n            config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                       &quot;example.dev.com:9092,example1.dev.com:9092 &quot;);\r\n            config.put(ConsumerConfig.GROUP_ID_CONFIG,\r\n                       &quot;group_id&quot;);\r\n            config.put(\r\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n            config.put(\r\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n      \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n        }\r\n\r\n","title":"Springboot-Kafka: Bootstrap-servers with MultiNode Hosts","body":"<p>I am trying to connect to kafka consumers which uses multinode hosts.\nFollowing property works with one multinode host, but not able to read multiple multinode hosts.</p>\n<p><strong>Works fine:</strong></p>\n<pre><code>spring.kafka.consumer.bootstrap-servers = example.dev.com:9092\n</code></pre>\n<p><strong>Only reading from one host even-though mentioned two:</strong></p>\n<pre><code>spring.kafka.consumer.bootstrap-servers = example.dev.com:9092,example2.dev.com:9092\n</code></pre>\n<p>Here:</p>\n<pre><code>example.dev.com:9092 = node:9092,node2:9092,node3:9092\nexample1.dev.com:9092 = node:9092,node2:9092,node3:9092\n</code></pre>\n<p>Is it possible to connect to multiple multinodes using one consumerFactory like below:</p>\n<pre><code>    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory()\n    {\n  \n        // Creating a Map of string-object pairs\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n  \n        // Adding the Configuration\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                   &quot;example.dev.com:9092,example1.dev.com:9092 &quot;);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG,\n                   &quot;group_id&quot;);\n        config.put(\n            ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n            StringDeserializer.class);\n        config.put(\n            ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n            StringDeserializer.class);\n  \n        return new DefaultKafkaConsumerFactory&lt;&gt;(config);\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","webview"],"answers":[{"tags":[],"owner":{"account_id":21915593,"reputation":145,"user_id":16199525,"display_name":"sureshtechi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660658826,"creation_date":1660658826,"answer_id":73375375,"question_id":73096529,"body_markdown":"Things have changed in the Android version 11 \r\n\r\n```\r\nActivityResultLauncher&lt;String&gt; cameraPermission = registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\r\n            @Override\r\n            public void onActivityResult(Boolean result) {\r\n                if(result)\r\n                {\r\n                    System.out.println(&quot;CAMERA PERMISSION GRANTED&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;CAMERA PERMISSION NOT GRANTED&quot;);\r\n                }\r\n            }\r\n        });\r\n\r\n        cameraPermission.launch(Manifest.permission.CAMERA);\r\n```\r\n\r\n```\r\nwebView.setWebChromeClient(new WebChromeClient()\r\n        {\r\n            @Override\r\n            public void onPermissionRequest(final PermissionRequest request)\r\n            {\r\n                if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                {\r\n                    request.grant(request.getResources());\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nYou can add the ```ActivityResultLauncher``` code and modify the ```webView.setWebChromeClient``` code inside the ```OnCreate``` method.\r\n\r\nThis will ask for camera permission and once you grant, the camera embedded inside your application will work.\r\n\r\nLet me know if you have any queries in it. ","title":"How to use web camera in webview in android?","body":"<p>Things have changed in the Android version 11</p>\n<pre><code>ActivityResultLauncher&lt;String&gt; cameraPermission = registerForActivityResult(new ActivityResultContracts.RequestPermission(), new ActivityResultCallback&lt;Boolean&gt;() {\n            @Override\n            public void onActivityResult(Boolean result) {\n                if(result)\n                {\n                    System.out.println(&quot;CAMERA PERMISSION GRANTED&quot;);\n                }\n                else\n                {\n                    System.out.println(&quot;CAMERA PERMISSION NOT GRANTED&quot;);\n                }\n            }\n        });\n\n        cameraPermission.launch(Manifest.permission.CAMERA);\n</code></pre>\n<pre><code>webView.setWebChromeClient(new WebChromeClient()\n        {\n            @Override\n            public void onPermissionRequest(final PermissionRequest request)\n            {\n                if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                {\n                    request.grant(request.getResources());\n                }\n            }\n        });\n</code></pre>\n<p>You can add the <code>ActivityResultLauncher</code> code and modify the <code>webView.setWebChromeClient</code> code inside the <code>OnCreate</code> method.</p>\n<p>This will ask for camera permission and once you grant, the camera embedded inside your application will work.</p>\n<p>Let me know if you have any queries in it.</p>\n"}],"owner":{"account_id":25822113,"reputation":21,"user_id":19561008,"display_name":"Pushkar Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660658826,"creation_date":1658647858,"question_id":73096529,"body_markdown":"Hello there SO community!\r\n\r\nI am working on an android webview app that uses the web camera.\r\n\r\nIt works perfectly on a website, but in my app it doesn&#39;t work properly.\r\n\r\n[![This is my error message.][1]][1]\r\n\r\nHow I can overcome this problem?\r\n\r\nI have wrote all the permissions in the manifest like the camera, read external, write external storage and internet access.\r\n\r\nThis is the complete code for my webview app. \r\n\r\n```java\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ProgressBar loadingBar;\r\n    WebView webView;\r\n    private static final int TELEPHONY_REQUEST = 111;\r\n    String imeiNumber;\r\n\r\n    private ValueCallback&lt;Uri&gt; mUploadMessage;\r\n    public ValueCallback&lt;Uri[]&gt; uploadMessage;\r\n    public static final int REQUEST_SELECT_FILE = 100;\r\n    private final static int FILECHOOSER_RESULTCODE = 1;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\r\n\r\n                String[] PERMISSIONS = {android.Manifest.permission.READ_PHONE_STATE,android.Manifest.permission.READ_PHONE_STATE,android.Manifest.permission.CAMERA};\r\n                    ActivityCompat.requestPermissions(MainActivity.this, PERMISSIONS, TELEPHONY_REQUEST );\r\n\r\n        }else{\r\n            SharedPreferences prefs = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE);\r\n            String uuid = prefs.getString(&quot;UUID&quot;, null);\r\n            try {\r\n\r\n                if (uuid == null) {\r\n                    SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\r\n                    imeiNumber = telephonyManager.getDeviceId();\r\n                    editor.putString(&quot;UUID&quot;, imeiNumber);\r\n                    editor.apply();\r\n                }\r\n                else{\r\n                    imeiNumber = uuid;\r\n                }\r\n            }catch (Exception e)\r\n            {\r\n                if (uuid == null) {\r\n                    SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\r\n                    imeiNumber = UUID.randomUUID().toString();\r\n                    editor.putString(&quot;UUID&quot;, imeiNumber);\r\n                    editor.apply();\r\n                }else{\r\n                    imeiNumber = uuid;\r\n                }\r\n            }\r\n\r\n\r\n        Log.e(&quot;UUID Number&quot;,imeiNumber);\r\n\r\n        loadingBar = (ProgressBar) findViewById(R.id.progressBar);\r\n        webView = (WebView) findViewById(R.id.webView);\r\n\r\n        webView.getSettings().setAllowFileAccess( true );\r\n        WebSettings mWebSettings = webView.getSettings();\r\n        mWebSettings.setJavaScriptEnabled(true);\r\n        mWebSettings.setAllowFileAccess(true);\r\n        mWebSettings.setAllowFileAccess(true);\r\n        mWebSettings.setAllowContentAccess(true);\r\n\r\n        webView.setWebChromeClient(new WebChromeClient()\r\n        {\r\n            // For 3.0+ Devices (Start)\r\n            // onActivityResult attached before constructor\r\n            protected void openFileChooser(ValueCallback uploadMsg, String acceptType)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n\r\n\r\n            // For Lollipop 5.0+ Devices\r\n            public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams)\r\n            {\r\n                if (uploadMessage != null) {\r\n                    uploadMessage.onReceiveValue(null);\r\n                    uploadMessage = null;\r\n                }\r\n\r\n                uploadMessage = filePathCallback;\r\n\r\n                Intent intent = null;\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n                    intent = fileChooserParams.createIntent();\r\n                }\r\n                try\r\n                {\r\n                    startActivityForResult(intent, REQUEST_SELECT_FILE);\r\n                } catch (ActivityNotFoundException e)\r\n                {\r\n                    uploadMessage = null;\r\n                    Toast.makeText(getApplicationContext(), &quot;Cannot Open File Chooser&quot;, Toast.LENGTH_LONG).show();\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            //For Android 4.1 only\r\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n\r\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n        });\r\n        webView.setWebViewClient(new WebViewClient() {\r\n\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n\r\n\r\n                if (url.startsWith(&quot;tel:&quot;) || url.startsWith(&quot;mailto:&quot;) || url.startsWith(&quot;whatsapp:&quot;) || url.startsWith(&quot;facebook:&quot;)  )\r\n                {\r\n                    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n                    startActivity( intent );\r\n                    return true;\r\n                }\r\n\r\n                else{\r\n                    view.loadUrl(url,getIEMEHeader());\r\n                }\r\n                return true;\r\n            }\r\n\r\n            public void onPageFinished(WebView view, String url) {\r\n                if (loadingBar!=null) {\r\n                    loadingBar.setProgress(0);\r\n                    loadingBar.setVisibility(View.GONE);\r\n                }\r\n            }\r\n\r\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\r\n\r\n                if (loadingBar!=null) {\r\n                    loadingBar.setProgress(0);\r\n                    loadingBar.setVisibility(View.GONE);\r\n                }\r\n                view.loadData(&quot;&lt;html&gt;&lt;body style=&#39;vertical-align:center;&#39;&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&#39;vertical-align:center;text-align:center&#39;&gt;This app requires internet connection.&lt;br&gt;For further assistance contact&lt;br&gt;&lt;a href=\\&quot;mailto:info@ggmfi.com?Subject=Need%20support\\&quot;&gt;+91 8220311778&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=\\&quot;https://www.loans.ggmfi.com/admin/\\&quot;&gt;Go to Home Page&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;,&quot;text/html; charset=UTF-8&quot;, null);\r\n\r\n            }\r\n        });\r\n        webView.loadUrl(&quot;https://www.loans.ggmfi.com/admin/&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView!=null &amp;&amp; webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.home:\r\n                if (webView!=null) {\r\n                    webView.loadUrl(&quot;https://www.loans.ggmfi.com/admin/&quot;);\r\n                } break;\r\n                default:break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private Map&lt;String, String&gt; getIEMEHeader()\r\n    {\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;IMEI&quot;, imeiNumber);\r\n        return headers;\r\n    }\r\n\r\n    @SuppressLint(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,\r\n                                           String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case TELEPHONY_REQUEST: {\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n                    SharedPreferences prefs = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE);\r\n                    String uuid = prefs.getString(&quot;UUID&quot;, null);\r\n                    try {\r\n\r\n                        if (uuid == null) {\r\n                            SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\r\n                            imeiNumber = telephonyManager.getDeviceId();\r\n                            editor.putString(&quot;UUID&quot;, imeiNumber);\r\n                            editor.apply();\r\n                        }\r\n                        else{\r\n                            imeiNumber = uuid;\r\n                        }\r\n                    }catch (Exception e)\r\n                    {\r\n                        if (uuid == null) {\r\n                            SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\r\n                            imeiNumber = UUID.randomUUID().toString();\r\n                            editor.putString(&quot;UUID&quot;, imeiNumber);\r\n                            editor.apply();\r\n                        }else{\r\n                            imeiNumber = uuid;\r\n                        }\r\n                    }\r\n\r\n                    this.startActivity(new Intent(this.getApplicationContext(), MainActivity.class));\r\n\r\n                } else {\r\n\r\n                }\r\n                return;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.status_menu, menu);//Menu Resource, Menu\r\n            return true;\r\n        }\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent intent)\r\n    {\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n        {\r\n            if (requestCode == REQUEST_SELECT_FILE)\r\n            {\r\n                if (uploadMessage == null)\r\n                    return;\r\n                uploadMessage.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, intent));\r\n                uploadMessage = null;\r\n            }\r\n        }\r\n        else if (requestCode == FILECHOOSER_RESULTCODE)\r\n        {\r\n            if (null == mUploadMessage)\r\n                return;\r\n            // Use MainActivity.RESULT_OK if you&#39;re implementing WebView inside Fragment\r\n            // Use RESULT_OK only if you&#39;re implementing WebView inside an Activity\r\n            Uri result = intent == null || resultCode != MainActivity.RESULT_OK ? null : intent.getData();\r\n            mUploadMessage.onReceiveValue(result);\r\n            mUploadMessage = null;\r\n        }\r\n        else\r\n            Toast.makeText(getApplicationContext(), &quot;Failed to Upload Image&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/HQxNL.png","title":"How to use web camera in webview in android?","body":"<p>Hello there SO community!</p>\n<p>I am working on an android webview app that uses the web camera.</p>\n<p>It works perfectly on a website, but in my app it doesn't work properly.</p>\n<p><a href=\"https://i.stack.imgur.com/HQxNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQxNL.png\" alt=\"This is my error message.\" /></a></p>\n<p>How I can overcome this problem?</p>\n<p>I have wrote all the permissions in the manifest like the camera, read external, write external storage and internet access.</p>\n<p>This is the complete code for my webview app.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class MainActivity extends AppCompatActivity {\n\n    ProgressBar loadingBar;\n    WebView webView;\n    private static final int TELEPHONY_REQUEST = 111;\n    String imeiNumber;\n\n    private ValueCallback&lt;Uri&gt; mUploadMessage;\n    public ValueCallback&lt;Uri[]&gt; uploadMessage;\n    public static final int REQUEST_SELECT_FILE = 100;\n    private final static int FILECHOOSER_RESULTCODE = 1;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED) {\n\n                String[] PERMISSIONS = {android.Manifest.permission.READ_PHONE_STATE,android.Manifest.permission.READ_PHONE_STATE,android.Manifest.permission.CAMERA};\n                    ActivityCompat.requestPermissions(MainActivity.this, PERMISSIONS, TELEPHONY_REQUEST );\n\n        }else{\n            SharedPreferences prefs = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE);\n            String uuid = prefs.getString(&quot;UUID&quot;, null);\n            try {\n\n                if (uuid == null) {\n                    SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\n                    imeiNumber = telephonyManager.getDeviceId();\n                    editor.putString(&quot;UUID&quot;, imeiNumber);\n                    editor.apply();\n                }\n                else{\n                    imeiNumber = uuid;\n                }\n            }catch (Exception e)\n            {\n                if (uuid == null) {\n                    SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\n                    imeiNumber = UUID.randomUUID().toString();\n                    editor.putString(&quot;UUID&quot;, imeiNumber);\n                    editor.apply();\n                }else{\n                    imeiNumber = uuid;\n                }\n            }\n\n\n        Log.e(&quot;UUID Number&quot;,imeiNumber);\n\n        loadingBar = (ProgressBar) findViewById(R.id.progressBar);\n        webView = (WebView) findViewById(R.id.webView);\n\n        webView.getSettings().setAllowFileAccess( true );\n        WebSettings mWebSettings = webView.getSettings();\n        mWebSettings.setJavaScriptEnabled(true);\n        mWebSettings.setAllowFileAccess(true);\n        mWebSettings.setAllowFileAccess(true);\n        mWebSettings.setAllowContentAccess(true);\n\n        webView.setWebChromeClient(new WebChromeClient()\n        {\n            // For 3.0+ Devices (Start)\n            // onActivityResult attached before constructor\n            protected void openFileChooser(ValueCallback uploadMsg, String acceptType)\n            {\n                mUploadMessage = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n            }\n\n\n            // For Lollipop 5.0+ Devices\n            public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams)\n            {\n                if (uploadMessage != null) {\n                    uploadMessage.onReceiveValue(null);\n                    uploadMessage = null;\n                }\n\n                uploadMessage = filePathCallback;\n\n                Intent intent = null;\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n                    intent = fileChooserParams.createIntent();\n                }\n                try\n                {\n                    startActivityForResult(intent, REQUEST_SELECT_FILE);\n                } catch (ActivityNotFoundException e)\n                {\n                    uploadMessage = null;\n                    Toast.makeText(getApplicationContext(), &quot;Cannot Open File Chooser&quot;, Toast.LENGTH_LONG).show();\n                    return false;\n                }\n                return true;\n            }\n\n            //For Android 4.1 only\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)\n            {\n                mUploadMessage = uploadMsg;\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n            }\n\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg)\n            {\n                mUploadMessage = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\n            }\n        });\n        webView.setWebViewClient(new WebViewClient() {\n\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n\n\n                if (url.startsWith(&quot;tel:&quot;) || url.startsWith(&quot;mailto:&quot;) || url.startsWith(&quot;whatsapp:&quot;) || url.startsWith(&quot;facebook:&quot;)  )\n                {\n                    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n                    startActivity( intent );\n                    return true;\n                }\n\n                else{\n                    view.loadUrl(url,getIEMEHeader());\n                }\n                return true;\n            }\n\n            public void onPageFinished(WebView view, String url) {\n                if (loadingBar!=null) {\n                    loadingBar.setProgress(0);\n                    loadingBar.setVisibility(View.GONE);\n                }\n            }\n\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n\n                if (loadingBar!=null) {\n                    loadingBar.setProgress(0);\n                    loadingBar.setVisibility(View.GONE);\n                }\n                view.loadData(&quot;&lt;html&gt;&lt;body style='vertical-align:center;'&gt;&lt;br&gt;&lt;br&gt;&lt;div style='vertical-align:center;text-align:center'&gt;This app requires internet connection.&lt;br&gt;For further assistance contact&lt;br&gt;&lt;a href=\\&quot;mailto:info@ggmfi.com?Subject=Need%20support\\&quot;&gt;+91 8220311778&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;a href=\\&quot;https://www.loans.ggmfi.com/admin/\\&quot;&gt;Go to Home Page&lt;/a&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&quot;,&quot;text/html; charset=UTF-8&quot;, null);\n\n            }\n        });\n        webView.loadUrl(&quot;https://www.loans.ggmfi.com/admin/&quot;);\n\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView!=null &amp;&amp; webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.home:\n                if (webView!=null) {\n                    webView.loadUrl(&quot;https://www.loans.ggmfi.com/admin/&quot;);\n                } break;\n                default:break;\n        }\n        return true;\n    }\n\n    private Map&lt;String, String&gt; getIEMEHeader()\n    {\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;IMEI&quot;, imeiNumber);\n        return headers;\n    }\n\n    @SuppressLint(&quot;MissingPermission&quot;)\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case TELEPHONY_REQUEST: {\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    TelephonyManager telephonyManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n                    SharedPreferences prefs = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE);\n                    String uuid = prefs.getString(&quot;UUID&quot;, null);\n                    try {\n\n                        if (uuid == null) {\n                            SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\n                            imeiNumber = telephonyManager.getDeviceId();\n                            editor.putString(&quot;UUID&quot;, imeiNumber);\n                            editor.apply();\n                        }\n                        else{\n                            imeiNumber = uuid;\n                        }\n                    }catch (Exception e)\n                    {\n                        if (uuid == null) {\n                            SharedPreferences.Editor editor = getSharedPreferences(&quot;Jainam_Software&quot;, MODE_PRIVATE).edit();\n                            imeiNumber = UUID.randomUUID().toString();\n                            editor.putString(&quot;UUID&quot;, imeiNumber);\n                            editor.apply();\n                        }else{\n                            imeiNumber = uuid;\n                        }\n                    }\n\n                    this.startActivity(new Intent(this.getApplicationContext(), MainActivity.class));\n\n                } else {\n\n                }\n                return;\n            }\n\n        }\n    }\n\n        @Override\n        public boolean onCreateOptionsMenu(Menu menu) {\n            // Inflate the menu; this adds items to the action bar if it is present.\n            getMenuInflater().inflate(R.menu.status_menu, menu);//Menu Resource, Menu\n            return true;\n        }\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent intent)\n    {\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n        {\n            if (requestCode == REQUEST_SELECT_FILE)\n            {\n                if (uploadMessage == null)\n                    return;\n                uploadMessage.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, intent));\n                uploadMessage = null;\n            }\n        }\n        else if (requestCode == FILECHOOSER_RESULTCODE)\n        {\n            if (null == mUploadMessage)\n                return;\n            // Use MainActivity.RESULT_OK if you're implementing WebView inside Fragment\n            // Use RESULT_OK only if you're implementing WebView inside an Activity\n            Uri result = intent == null || resultCode != MainActivity.RESULT_OK ? null : intent.getData();\n            mUploadMessage.onReceiveValue(result);\n            mUploadMessage = null;\n        }\n        else\n            Toast.makeText(getApplicationContext(), &quot;Failed to Upload Image&quot;, Toast.LENGTH_LONG).show();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1660629489,"post_id":73368884,"comment_id":129570364,"body_markdown":"@Jonasz Next time just post that sort of thing as an answer, mate.","body":"@Jonasz Next time just post that sort of thing as an answer, mate."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660636722,"post_id":73368884,"comment_id":129572455,"body_markdown":"Thanks, I was in a hurry and I don&#39;t like posting answers that I&#39;m not happy with. Posted it now with some extended description.","body":"Thanks, I was in a hurry and I don&#39;t like posting answers that I&#39;m not happy with. Posted it now with some extended description."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1660658564,"creation_date":1660625776,"answer_id":73368937,"question_id":73368884,"body_markdown":"I would create a string with all the options.  Then check to see if the reply is in the string.\r\n\r\n```\r\nString reply = scan.nextLine();\r\nString options = &quot;rock paper scissors&quot;;\r\nif (options.contains(reply)){ }\r\n```\r\n","title":"How to simplify if statements when comparing multiple strings","body":"<p>I would create a string with all the options.  Then check to see if the reply is in the string.</p>\n<pre><code>String reply = scan.nextLine();\nString options = &quot;rock paper scissors&quot;;\nif (options.contains(reply)){ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19850545,"reputation":1,"user_id":14541123,"display_name":"Mahesh Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660658570,"creation_date":1660635741,"answer_id":73370400,"question_id":73368884,"body_markdown":"    Scanner sc = new Scanner(System.in);\r\n    String s = sc.nextLine();\r\n    String[] as = s.split(&quot;\\\\s&quot;);\r\n    String opt = &quot;rock paper scissors&quot; ;\r\n    for(String sl:as){\r\n        if(opt.contains(sl)){\r\n        //blah..blah....\r\n        System.out.println(&quot;True&quot;);\r\n        }\r\n    }","title":"How to simplify if statements when comparing multiple strings","body":"<pre><code>Scanner sc = new Scanner(System.in);\nString s = sc.nextLine();\nString[] as = s.split(&quot;\\\\s&quot;);\nString opt = &quot;rock paper scissors&quot; ;\nfor(String sl:as){\n    if(opt.contains(sl)){\n    //blah..blah....\n    System.out.println(&quot;True&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660636639,"creation_date":1660636639,"answer_id":73370583,"question_id":73368884,"body_markdown":"It would be easiest to go with such code:\r\n```java\r\nSet.of(&quot;rock&quot;, &quot;paper&quot;, &quot;scissors&quot;).contains(reply)\r\n```\r\n\r\nThe `Set` could also be stored as an instance field in the class, where it could be parameterized during object creation if needed or as a constant (`static final`) field with a meaningful name such as (for example) `CORRECT_GAME_INPUTS` and thanks to that the whole `if` would look like this:\r\n```java\r\nif (CORRECT_GAME_INPUTS.contains(reply)) {\r\n    // do stuff\r\n}\r\n```","title":"How to simplify if statements when comparing multiple strings","body":"<p>It would be easiest to go with such code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set.of(&quot;rock&quot;, &quot;paper&quot;, &quot;scissors&quot;).contains(reply)\n</code></pre>\n<p>The <code>Set</code> could also be stored as an instance field in the class, where it could be parameterized during object creation if needed or as a constant (<code>static final</code>) field with a meaningful name such as (for example) <code>CORRECT_GAME_INPUTS</code> and thanks to that the whole <code>if</code> would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (CORRECT_GAME_INPUTS.contains(reply)) {\n    // do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660636951,"creation_date":1660636951,"answer_id":73370646,"question_id":73368884,"body_markdown":"My preferred way of comparing a list which you cannot add or remove in the program shall be this way, as well as to cater for the OR operand in a single line:\r\n\r\n````\r\nList&lt;String&gt; conditions = Arrays.asList(&quot;rock&quot;,&quot;paper&quot;,&quot;scissors&quot;);\r\nScanner scan = new Scanner(System.in);\r\nString reply = scan.nextLine();\r\n\r\nif (conditions.contains(reply)){\r\n    /**/ \r\n}\r\n\r\n````\r\n\r\nThis way it is cleaner and more maintainable in the long run","title":"How to simplify if statements when comparing multiple strings","body":"<p>My preferred way of comparing a list which you cannot add or remove in the program shall be this way, as well as to cater for the OR operand in a single line:</p>\n<pre><code>List&lt;String&gt; conditions = Arrays.asList(&quot;rock&quot;,&quot;paper&quot;,&quot;scissors&quot;);\nScanner scan = new Scanner(System.in);\nString reply = scan.nextLine();\n\nif (conditions.contains(reply)){\n    /**/ \n}\n\n</code></pre>\n<p>This way it is cleaner and more maintainable in the long run</p>\n"}],"owner":{"account_id":21994945,"reputation":15,"user_id":16267644,"display_name":"JWpark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73370583,"answer_count":4,"score":0,"last_activity_date":1660658570,"creation_date":1660625173,"question_id":73368884,"body_markdown":"Is there a way I can make this code shorter?\r\n\r\n```\r\nScanner scan = new Scanner(System.in);\r\nString reply = scan.nextLine();\r\n\r\nif (reply.equals(&quot;rock&quot;) || reply.equals(&quot;paper&quot;) || reply.equals(&quot;scissors&quot;)){\r\n    /**/\r\n}\r\n```","title":"How to simplify if statements when comparing multiple strings","body":"<p>Is there a way I can make this code shorter?</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nString reply = scan.nextLine();\n\nif (reply.equals(&quot;rock&quot;) || reply.equals(&quot;paper&quot;) || reply.equals(&quot;scissors&quot;)){\n    /**/\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jvm","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1660658330,"creation_date":1660581114,"answer_id":73363860,"question_id":73333319,"body_markdown":"The only solution atm is really setting the `transaction-prefix-id` in the code whilst creating the `ProducerFactory`, despite it&#39;s already been defined in the *application.yaml*.\r\n\r\nThe Spring Boot team [replied][1] as per below:\r\n&gt;The intent is that transactions should be used and that the ProducerFactory should support them. The transaction-id-prefix property can be set and this results in the auto-configuration of the kafkaTransactionManager bean. However, if you define your own ProducerFactory (to constrain the types, for example) there&#39;s no built-in way to have the transaction-id-prefix applied to that ProducerFactory.\r\n&gt;\r\n&gt;It&#39;s a fundamental principle of auto-configuration that it backs off when a user defines a bean of their own. If we post-processed the user&#39;s bean to change its configuration, it would no longer be possible for your code to take complete control of how things are configured. Unfortunately, this flexibility does sometimes require you to write a little bit more code. This is one such time.\r\n\r\nIf we want to keep the prefix as a property in the *application.yaml* file, we can inject it to avoid config duplication:\r\n```\r\n@Value(&quot;${spring.kafka.producer.transaction-id-prefix}&quot;)\r\nprivate String transactionPrefix;\r\n\r\n@Bean\r\npublic ProducerFactory&lt;Integer, FileUploadEvent&gt; fileUploadProducerFactory() {\r\n    var pf = new DefaultKafkaProducerFactory&lt;Integer, FileUploadEvent&gt;(Collections.emptyMap());\r\n    pf.setTransactionIdPrefix(transactionIdPrefix);\r\n    return pf;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/32082","title":"Spring Boot 2.7.2 with Spring Kafka fails during initialisation with Exception: The &#39;ProducerFactory&#39; must support transactions`","body":"<p>The only solution atm is really setting the <code>transaction-prefix-id</code> in the code whilst creating the <code>ProducerFactory</code>, despite it's already been defined in the <em>application.yaml</em>.</p>\n<p>The Spring Boot team <a href=\"https://github.com/spring-projects/spring-boot/issues/32082\" rel=\"nofollow noreferrer\">replied</a> as per below:</p>\n<blockquote>\n<p>The intent is that transactions should be used and that the ProducerFactory should support them. The transaction-id-prefix property can be set and this results in the auto-configuration of the kafkaTransactionManager bean. However, if you define your own ProducerFactory (to constrain the types, for example) there's no built-in way to have the transaction-id-prefix applied to that ProducerFactory.</p>\n<p>It's a fundamental principle of auto-configuration that it backs off when a user defines a bean of their own. If we post-processed the user's bean to change its configuration, it would no longer be possible for your code to take complete control of how things are configured. Unfortunately, this flexibility does sometimes require you to write a little bit more code. This is one such time.</p>\n</blockquote>\n<p>If we want to keep the prefix as a property in the <em>application.yaml</em> file, we can inject it to avoid config duplication:</p>\n<pre><code>@Value(&quot;${spring.kafka.producer.transaction-id-prefix}&quot;)\nprivate String transactionPrefix;\n\n@Bean\npublic ProducerFactory&lt;Integer, FileUploadEvent&gt; fileUploadProducerFactory() {\n    var pf = new DefaultKafkaProducerFactory&lt;Integer, FileUploadEvent&gt;(Collections.emptyMap());\n    pf.setTransactionIdPrefix(transactionIdPrefix);\n    return pf;\n}\n</code></pre>\n"}],"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73363860,"answer_count":1,"score":2,"last_activity_date":1660658330,"creation_date":1660303102,"question_id":73333319,"body_markdown":"I&#39;m using Spring Boot v2.7.2 and the latest version of Spring Kafka provided by spring-boot-dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI want the app to load all configuration from file hence I created the beans with this bare minimum configuration:\r\n\r\n        public class KakfaConfig {\r\n    \r\n        @Bean\r\n        public ProducerFactory&lt;Integer, FileUploadEvent&gt; producerFactory() {\r\n            return new DefaultKafkaProducerFactory&lt;&gt;(Collections.emptyMap());\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaTemplate&lt;Integer, FileUploadEvent&gt; kafkaTemplate() {\r\n            return new KafkaTemplate&lt;Integer, anEvent&gt;(producerFactory());\r\n        }\r\n    \r\n    }\r\n\r\nIt works and loads the configuration from the `application.yaml` below as expected.\r\n\r\n    spring:\r\n      application:\r\n        name: my-app\r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n        producer:\r\n          client-id: ${spring.application.name}\r\n      #    transaction-id-prefix: &quot;tx-&quot;\r\n        template:\r\n          default-topic: my-topic\r\n\r\n\r\nHowever, if I uncomment the `transaction-id-prefix` line, the application fails to start with the exception \r\n`java.lang.IllegalArgumentException: The &#39;ProducerFactory&#39; must support transactions`  \r\nThe documentation in [here](https://docs.spring.io/spring-kafka/reference/html/#transactions) reads \r\n\r\n&gt; If you provide a custom producer factory, it must support\r\n&gt; transactions. See ProducerFactory.transactionCapable().\r\n\r\nThe only way I managed to make it work is removing the transaction prefix from the `application.yaml` and configure it in the code as per below:\r\n\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;Integer, FileUploadEvent&gt; fileUploadProducerFactory() {\r\n        var pf = new DefaultKafkaProducerFactory&lt;Integer, FileUploadEvent&gt;(Collections.emptyMap());\r\n        pf.setTransactionIdPrefix(&quot;tx-&quot;);\r\n        return pf;\r\n    }\r\n\r\nAny thoughts on how I can configure everything using the application properties file? Is this a bug?\r\n","title":"Spring Boot 2.7.2 with Spring Kafka fails during initialisation with Exception: The &#39;ProducerFactory&#39; must support transactions`","body":"<p>I'm using Spring Boot v2.7.2 and the latest version of Spring Kafka provided by spring-boot-dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I want the app to load all configuration from file hence I created the beans with this bare minimum configuration:</p>\n<pre><code>    public class KakfaConfig {\n\n    @Bean\n    public ProducerFactory&lt;Integer, FileUploadEvent&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(Collections.emptyMap());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;Integer, FileUploadEvent&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;Integer, anEvent&gt;(producerFactory());\n    }\n\n}\n</code></pre>\n<p>It works and loads the configuration from the <code>application.yaml</code> below as expected.</p>\n<pre><code>spring:\n  application:\n    name: my-app\n  kafka:\n    bootstrap-servers: localhost:9092\n    producer:\n      client-id: ${spring.application.name}\n  #    transaction-id-prefix: &quot;tx-&quot;\n    template:\n      default-topic: my-topic\n</code></pre>\n<p>However, if I uncomment the <code>transaction-id-prefix</code> line, the application fails to start with the exception\n<code>java.lang.IllegalArgumentException: The 'ProducerFactory' must support transactions</code><br />\nThe documentation in <a href=\"https://docs.spring.io/spring-kafka/reference/html/#transactions\" rel=\"nofollow noreferrer\">here</a> reads</p>\n<blockquote>\n<p>If you provide a custom producer factory, it must support\ntransactions. See ProducerFactory.transactionCapable().</p>\n</blockquote>\n<p>The only way I managed to make it work is removing the transaction prefix from the <code>application.yaml</code> and configure it in the code as per below:</p>\n<pre><code>@Bean\npublic ProducerFactory&lt;Integer, FileUploadEvent&gt; fileUploadProducerFactory() {\n    var pf = new DefaultKafkaProducerFactory&lt;Integer, FileUploadEvent&gt;(Collections.emptyMap());\n    pf.setTransactionIdPrefix(&quot;tx-&quot;);\n    return pf;\n}\n</code></pre>\n<p>Any thoughts on how I can configure everything using the application properties file? Is this a bug?</p>\n"},{"tags":["java","fonts","size"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1432298307,"post_id":30396827,"comment_id":48881561,"body_markdown":"The documentation says &quot;point size&quot;, so it means &quot;pt&quot;.","body":"The documentation says &quot;point size&quot;, so it means &quot;pt&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5425417,"reputation":373,"user_id":4317865,"accept_rate":78,"display_name":"Skyrisu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432298342,"creation_date":1432298342,"answer_id":30396961,"question_id":30396827,"body_markdown":"&gt; The point size of this Font, rounded to integer.\r\n\r\n[Source:JavaApi][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Font.html","title":"Font size on Java (measure unit)","body":"<blockquote>\n  <p>The point size of this Font, rounded to integer.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Font.html\" rel=\"nofollow\">Source:JavaApi</a></p>\n"}],"owner":{"account_id":5458597,"reputation":43,"user_id":4341341,"accept_rate":40,"display_name":"Pablo Ajo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1254,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1660658054,"creation_date":1432297931,"question_id":30396827,"body_markdown":"In this Font class constructor you can pass a size by an argument:\r\n\r\n    Font(String name, int style, int size)\r\n\r\nIs this size in pt, px, ...? Can you solve my doubt; and do a brief explanation about how this unit of measure works?","title":"Font size on Java (measure unit)","body":"<p>In this Font class constructor you can pass a size by an argument:</p>\n\n<pre><code>Font(String name, int style, int size)\n</code></pre>\n\n<p>Is this size in pt, px, ...? Can you solve my doubt; and do a brief explanation about how this unit of measure works?</p>\n"},{"tags":["java","logging","log4j","apache-flink","logback"],"comments":[{"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"score":3,"creation_date":1654147300,"post_id":72470278,"comment_id":128022950,"body_markdown":"&quot;By default, Log4j 2 is used as the underlying logging framework.&quot; You can find it on official docs [here](https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/advanced/logging/)","body":"&quot;By default, Log4j 2 is used as the underlying logging framework.&quot; You can find it on official docs <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/advanced/logging/\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":25182214,"reputation":293,"user_id":19023597,"display_name":"MouseNag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1660657957,"creation_date":1654139913,"question_id":72470278,"body_markdown":"My Flink logs are not showing up anywhere.  So I&#39;m reading on how to resolve this. \r\nI have read a couples of articles on how to change log levels in flink/conf files to  help me resolve this. \r\n\r\nBut then I read about flink having two logging framework options. They are : \r\nLog4j &amp; logback. \r\n\r\nSo now how do I determine which framework my Flink application is using? ","title":"Which logging framework my Flink application is using?","body":"<p>My Flink logs are not showing up anywhere.  So I'm reading on how to resolve this.\nI have read a couples of articles on how to change log levels in flink/conf files to  help me resolve this.</p>\n<p>But then I read about flink having two logging framework options. They are :\nLog4j &amp; logback.</p>\n<p>So now how do I determine which framework my Flink application is using?</p>\n"},{"tags":["java","mysql","spring-boot","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1660656756,"post_id":73374533,"comment_id":129579751,"body_markdown":"Now if only Hibernate could do that for you... Enable batch processing for both Hibernate and MySQL, write your code as usual and Hibernate will rewrite the statement to a single batch statement. Nothing you, apart for the configuration, have to do for that.","body":"Now if only Hibernate could do that for you... Enable batch processing for both Hibernate and MySQL, write your code as usual and Hibernate will rewrite the statement to a single batch statement. Nothing you, apart for the configuration, have to do for that."}],"answers":[{"tags":[],"owner":{"account_id":25565398,"reputation":264,"user_id":19346953,"display_name":"Manik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660655649,"creation_date":1660655649,"answer_id":73374604,"question_id":73374533,"body_markdown":"You can do by this way - \r\n```\r\nUpdate customer\r\n   SET balance = (case when customer_id = &#39;2&#39; then &#39;400&#39;\r\n                         when customer_id = &#39;3&#39; then &#39;150&#39;\r\n                    end)\r\n  WHERE\r\n   customer_id IN (&#39;2&#39;,&#39;3&#39;);","title":"How to update 2 rows in mysql with one update?","body":"<p>You can do by this way -</p>\n<pre><code>Update customer\n   SET balance = (case when customer_id = '2' then '400'\n                         when customer_id = '3' then '150'\n                    end)\n  WHERE\n   customer_id IN ('2','3');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16098677,"reputation":123,"user_id":11620108,"display_name":"nstvnsn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660656230,"creation_date":1660655928,"answer_id":73374667,"question_id":73374533,"body_markdown":"The CASE statement may be what you are looking for.\r\n\r\n```lang-sql\r\n\r\nUPDATE customer\r\n    SET balance = (case\r\n                    when customer_id = 1 then 150\r\n                    when customer_id = 2 then 300\r\n                    end)        \r\n    WHERE ID in (1,2);\r\n\r\n```\r\n\r\nIf your customer_id is of type string, add quotes to the customer_id numbers.\r\n\r\nMy example is just a modified version of:\r\n\r\n```lang-sql\r\n\r\nExample Code:\r\n\r\nUPDATE students\r\n    SET JavaScore = (case\r\n                    when ID = 1 then 75\r\n                    when ID = 2 then 80\r\n                    when ID = 3 then 86\r\n                    when ID = 4 then 55\r\n                    end),\r\n        PythonScore = (case\r\n                    when ID = 1 then 70\r\n                    when ID = 2 then 85\r\n                    when ID = 3 then 94\r\n                    when ID = 4 then 75\r\n                    end)\r\n    WHERE ID in (1,2,3,4);\r\n```\r\n\r\nFrom this website:\r\n\r\n[DelftStack][1]\r\n\r\n  [1]: https://www.delftstack.com/howto/mysql/update-multiple-columns-in-multiple-rows-with-different-values-in-mysql/","title":"How to update 2 rows in mysql with one update?","body":"<p>The CASE statement may be what you are looking for.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nUPDATE customer\n    SET balance = (case\n                    when customer_id = 1 then 150\n                    when customer_id = 2 then 300\n                    end)        \n    WHERE ID in (1,2);\n\n</code></pre>\n<p>If your customer_id is of type string, add quotes to the customer_id numbers.</p>\n<p>My example is just a modified version of:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nExample Code:\n\nUPDATE students\n    SET JavaScore = (case\n                    when ID = 1 then 75\n                    when ID = 2 then 80\n                    when ID = 3 then 86\n                    when ID = 4 then 55\n                    end),\n        PythonScore = (case\n                    when ID = 1 then 70\n                    when ID = 2 then 85\n                    when ID = 3 then 94\n                    when ID = 4 then 75\n                    end)\n    WHERE ID in (1,2,3,4);\n</code></pre>\n<p>From this website:</p>\n<p><a href=\"https://www.delftstack.com/howto/mysql/update-multiple-columns-in-multiple-rows-with-different-values-in-mysql/\" rel=\"nofollow noreferrer\">DelftStack</a></p>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660657577,"creation_date":1660656535,"answer_id":73374800,"question_id":73374533,"body_markdown":"if you want to use the spring-data way, you have to use complex SQL/JPQL as less as possible.\r\n```java\r\n@Entity\r\nclass CustomerEntity {\r\n\r\n}\r\n\r\n@Modifying\r\n@Query(&quot;update CustomerEntity customer set customer.balance = :balance where customer.id = :customerId&quot;)\r\nint updateCustomerBalance(@Param(&quot;customerId&quot;) String customerId, @Param(&quot;balance&quot;) String balance);\r\n\r\ncustomerRepository.updateCustomerBalance(&quot;2&quot;, &quot;400&quot;);\r\ncustomerRepository.updateCustomerBalance(&quot;3&quot;, &quot;150&quot;);\r\n\r\n```\r\n\r\n**Common transaction**\r\n\r\nif you want to update happens in one transaction\r\n```java\r\n@Transactional\r\nvoid doUpdate() {\r\n    customerRepository.updateCustomerBalance(&quot;2&quot;, &quot;400&quot;);\r\n    customerRepository.updateCustomerBalance(&quot;3&quot;, &quot;150&quot;);\r\n}\r\n```\r\nKeep in mind that you have to call `service.doUpdate()` from outside. if you call the method from another service method, transaction will not be created.\r\n\r\n**Check that update has happened**\r\n```java\r\nint count = customerRepository.updateCustomerBalance(&quot;2&quot;, &quot;400&quot;);\r\nif (count == 0) {\r\n    log.error(&quot;Customer not updated customerId=2 customerBalance=400&quot;);\r\n}\r\n```\r\n\r\n \r\n","title":"How to update 2 rows in mysql with one update?","body":"<p>if you want to use the spring-data way, you have to use complex SQL/JPQL as less as possible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\nclass CustomerEntity {\n\n}\n\n@Modifying\n@Query(&quot;update CustomerEntity customer set customer.balance = :balance where customer.id = :customerId&quot;)\nint updateCustomerBalance(@Param(&quot;customerId&quot;) String customerId, @Param(&quot;balance&quot;) String balance);\n\ncustomerRepository.updateCustomerBalance(&quot;2&quot;, &quot;400&quot;);\ncustomerRepository.updateCustomerBalance(&quot;3&quot;, &quot;150&quot;);\n\n</code></pre>\n<p><strong>Common transaction</strong></p>\n<p>if you want to update happens in one transaction</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\nvoid doUpdate() {\n    customerRepository.updateCustomerBalance(&quot;2&quot;, &quot;400&quot;);\n    customerRepository.updateCustomerBalance(&quot;3&quot;, &quot;150&quot;);\n}\n</code></pre>\n<p>Keep in mind that you have to call <code>service.doUpdate()</code> from outside. if you call the method from another service method, transaction will not be created.</p>\n<p><strong>Check that update has happened</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>int count = customerRepository.updateCustomerBalance(&quot;2&quot;, &quot;400&quot;);\nif (count == 0) {\n    log.error(&quot;Customer not updated customerId=2 customerBalance=400&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660657274,"creation_date":1660657274,"answer_id":73374976,"question_id":73374533,"body_markdown":"Hibernate can do this for you, no need to write your own query. \r\n\r\nThe steps. \r\n\r\n1. Set `hibernate.jdbc.batch_size` to some reasonable size.\r\n2. Enable insert/update query ordering\r\n3. Enable statement rewrites for MySQL (set `rewriteBatchedStatements` to `true`)\r\n\r\nIn your application.properties add the following\r\n\r\n```\r\nspring.jpa.properties.hibernate.jdbc.batch_size=50\r\nspring.jpa.properties.hibernate.order_inserts=true\r\nspring.jpa.properties.hibernate.order_updates=true\r\n# spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true # Needed when using versioned data\r\nspring.datasource.hikari.dataSourcePoperties.rewriteBatchedStatements=true\r\n```\r\nSee also [this][1] and [this][2] for a bit more background. \r\n\r\nNow in your code you can just update and save your customers and the database will receive only 1 query. \r\n\r\n[1]: https://vladmihalcea.com/how-to-batch-insert-and-update-statements-with-hibernate/\r\n[2]: https://vladmihalcea.com/mysql-rewritebatchedstatements/","title":"How to update 2 rows in mysql with one update?","body":"<p>Hibernate can do this for you, no need to write your own query.</p>\n<p>The steps.</p>\n<ol>\n<li>Set <code>hibernate.jdbc.batch_size</code> to some reasonable size.</li>\n<li>Enable insert/update query ordering</li>\n<li>Enable statement rewrites for MySQL (set <code>rewriteBatchedStatements</code> to <code>true</code>)</li>\n</ol>\n<p>In your application.properties add the following</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.batch_size=50\nspring.jpa.properties.hibernate.order_inserts=true\nspring.jpa.properties.hibernate.order_updates=true\n# spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true # Needed when using versioned data\nspring.datasource.hikari.dataSourcePoperties.rewriteBatchedStatements=true\n</code></pre>\n<p>See also <a href=\"https://vladmihalcea.com/how-to-batch-insert-and-update-statements-with-hibernate/\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://vladmihalcea.com/mysql-rewritebatchedstatements/\" rel=\"nofollow noreferrer\">this</a> for a bit more background.</p>\n<p>Now in your code you can just update and save your customers and the database will receive only 1 query.</p>\n"}],"owner":{"account_id":20302308,"reputation":1,"user_id":14891426,"display_name":"ILoveBitcoin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1660657577,"creation_date":1660655298,"question_id":73374533,"body_markdown":"How can I update with one query?\r\nI want to do something like this:\r\n\r\n    update customer \r\n    set balance = (400,150)  where customer_id IN (&#39;2&#39;,&#39;3&#39;);\r\n\r\ncustomer 2 will get a new balance of 400 and customer 3 will get 150.\r\n\r\nI want 1 query because I&#39;m using spring-boot, JPA\r\n\r\n    @Modifying\r\n    @Query(&quot;update customer set balance = (400,150)  where customer_id IN (&#39;2&#39;,&#39;3&#39;);&quot;)\r\n\r\nCan I do here 2 queries? for each customer?\r\nwhat is recommended? what is acceptable? \r\n\r\nthanks.\r\n\r\n\r\n","title":"How to update 2 rows in mysql with one update?","body":"<p>How can I update with one query?\nI want to do something like this:</p>\n<pre><code>update customer \nset balance = (400,150)  where customer_id IN ('2','3');\n</code></pre>\n<p>customer 2 will get a new balance of 400 and customer 3 will get 150.</p>\n<p>I want 1 query because I'm using spring-boot, JPA</p>\n<pre><code>@Modifying\n@Query(&quot;update customer set balance = (400,150)  where customer_id IN ('2','3');&quot;)\n</code></pre>\n<p>Can I do here 2 queries? for each customer?\nwhat is recommended? what is acceptable?</p>\n<p>thanks.</p>\n"},{"tags":["java","spring","quartz-scheduler"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1399280281,"post_id":23468545,"comment_id":35979960,"body_markdown":"Could you show your spring-quartz configuration?","body":"Could you show your spring-quartz configuration?"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1399280590,"post_id":23468545,"comment_id":35980110,"body_markdown":"What is `methodInvoker`? Is it your application property that you put into `JobDataMap`?","body":"What is <code>methodInvoker</code>? Is it your application property that you put into <code>JobDataMap</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1399282777,"creation_date":1399282370,"answer_id":23469185,"question_id":23468545,"body_markdown":"When you are using persistent quartz jobs, you should be setting the `org.quartz.jobStore.useProperties` property to `true`. That forces the job data to be saved as Strings instead of Java Serialized objects. \r\n\r\nDoing so however may cause some problems with Spring, that are easily solvable.\r\n\r\nCheck these links for more details:\r\n\r\nhttp://site.trimplement.com/using-spring-and-quartz-with-jobstore-properties/\r\n\r\nhttp://forum.spring.io/forum/spring-projects/container/121806-quartz-error-ioexception\r\n","title":"Issue with Quartz persistent jobs while using with Spring","body":"<p>When you are using persistent quartz jobs, you should be setting the <code>org.quartz.jobStore.useProperties</code> property to <code>true</code>. That forces the job data to be saved as Strings instead of Java Serialized objects. </p>\n\n<p>Doing so however may cause some problems with Spring, that are easily solvable.</p>\n\n<p>Check these links for more details:</p>\n\n<p><a href=\"http://site.trimplement.com/using-spring-and-quartz-with-jobstore-properties/\" rel=\"noreferrer\">http://site.trimplement.com/using-spring-and-quartz-with-jobstore-properties/</a></p>\n\n<p><a href=\"http://forum.spring.io/forum/spring-projects/container/121806-quartz-error-ioexception\" rel=\"noreferrer\">http://forum.spring.io/forum/spring-projects/container/121806-quartz-error-ioexception</a></p>\n"},{"tags":[],"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1475676120,"creation_date":1399357689,"answer_id":23487380,"question_id":23468545,"body_markdown":"I have solved the problem by replacing `MethodInvokingJobDetailFactoryBean` with `JobDetailFactoryBean`. Configuration for the same is as follows:\r\n\r\n    &lt;bean name=&quot;myJob&quot; class=&quot;org.springframework.scheduling.quartz.JobDetailFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jobClass&quot; value=&quot;mypackage.MyJob&quot; /&gt;\r\n        &lt;property name=&quot;group&quot; value=&quot;MY_JOBS_GROUP&quot; /&gt;\r\n        &lt;property name=&quot;durability&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nHowever, to `Autowire` the spring managed beans in my job class `mypackage.MyJob`, I have added the following as first line in my execute method:\r\n\r\n    class MyJob implements Job {\r\n        ...\r\n        public void execute(final JobExecutionContext context) throws JobExecutionException {\r\n            // Process @Autowired injection for the given target object, based on the current web application context. \r\n            SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\r\n            ...\r\n        }\r\n\r\n    }\r\n\r\nHope it it will help someone else facing the same issue.","title":"Issue with Quartz persistent jobs while using with Spring","body":"<p>I have solved the problem by replacing <code>MethodInvokingJobDetailFactoryBean</code> with <code>JobDetailFactoryBean</code>. Configuration for the same is as follows:</p>\n\n<pre><code>&lt;bean name=\"myJob\" class=\"org.springframework.scheduling.quartz.JobDetailFactoryBean\"&gt;\n    &lt;property name=\"jobClass\" value=\"mypackage.MyJob\" /&gt;\n    &lt;property name=\"group\" value=\"MY_JOBS_GROUP\" /&gt;\n    &lt;property name=\"durability\" value=\"true\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>However, to <code>Autowire</code> the spring managed beans in my job class <code>mypackage.MyJob</code>, I have added the following as first line in my execute method:</p>\n\n<pre><code>class MyJob implements Job {\n    ...\n    public void execute(final JobExecutionContext context) throws JobExecutionException {\n        // Process @Autowired injection for the given target object, based on the current web application context. \n        SpringBeanAutowiringSupport.processInjectionBasedOnCurrentContext(this);\n        ...\n    }\n\n}\n</code></pre>\n\n<p>Hope it it will help someone else facing the same issue.</p>\n"},{"tags":[],"owner":{"account_id":4811723,"reputation":1,"user_id":3885006,"display_name":"Dipak Ahuja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594661926,"creation_date":1594661926,"answer_id":62881261,"question_id":23468545,"body_markdown":"The other way to solve this problem is avoid using &#39;jobDataMap&#39; property for &#39;JobDetailFactoryBean&#39; bean. Instead, add the dependency (the bean containing method to run) in Scheudler with &#39;schedulerContextAsMap&#39; property.\r\n\r\n```     \r\n&lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\r\n     ... (other properties)...\r\n     &lt;property name=&quot;schedulerContextAsMap&quot;&gt;\r\n     &lt;map&gt;\r\n       &lt;entry key=&quot;executeProcessBean&quot; value-ref=&quot;executeProcessBean&quot; /&gt;\r\n     &lt;/map&gt;\r\n  &lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\nSince, the documentation of schedulerContextAsMap in SchedulerFactoryBean mentions about the usage when you have Spring beans.\r\n\r\n```\r\n/**\r\n\t * Register objects in the Scheduler context via a given Map.\r\n\t * These objects will be available to any Job that runs in this Scheduler.\r\n\t * &lt;p&gt;Note: When using persistent Jobs whose JobDetail will be kept in the\r\n\t * database, do not put Spring-managed beans or an ApplicationContext\r\n\t * reference into the JobDataMap but rather into the SchedulerContext.\r\n\t * @param schedulerContextAsMap Map with String keys and any objects as\r\n\t * values (for example Spring-managed beans)\r\n\t * @see JobDetailFactoryBean#setJobDataAsMap\r\n\t */\r\n```","title":"Issue with Quartz persistent jobs while using with Spring","body":"<p>The other way to solve this problem is avoid using 'jobDataMap' property for 'JobDetailFactoryBean' bean. Instead, add the dependency (the bean containing method to run) in Scheudler with 'schedulerContextAsMap' property.</p>\n<pre><code>&lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\n     ... (other properties)...\n     &lt;property name=&quot;schedulerContextAsMap&quot;&gt;\n     &lt;map&gt;\n       &lt;entry key=&quot;executeProcessBean&quot; value-ref=&quot;executeProcessBean&quot; /&gt;\n     &lt;/map&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Since, the documentation of schedulerContextAsMap in SchedulerFactoryBean mentions about the usage when you have Spring beans.</p>\n<pre><code>/**\n     * Register objects in the Scheduler context via a given Map.\n     * These objects will be available to any Job that runs in this Scheduler.\n     * &lt;p&gt;Note: When using persistent Jobs whose JobDetail will be kept in the\n     * database, do not put Spring-managed beans or an ApplicationContext\n     * reference into the JobDataMap but rather into the SchedulerContext.\n     * @param schedulerContextAsMap Map with String keys and any objects as\n     * values (for example Spring-managed beans)\n     * @see JobDetailFactoryBean#setJobDataAsMap\n     */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":466604,"reputation":63,"user_id":871451,"display_name":"Hariom Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660657468,"creation_date":1660657468,"answer_id":73375033,"question_id":23468545,"body_markdown":"just add  ```implements Serializable``` ","title":"Issue with Quartz persistent jobs while using with Spring","body":"<p>just add  <code>implements Serializable</code></p>\n"}],"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10044,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":23487380,"answer_count":4,"score":7,"last_activity_date":1660657468,"creation_date":1399280150,"question_id":23468545,"body_markdown":"I have configured a spring&#39;s method invoking job previously which is working fine. Now my requirement is to have this job as persistent which will run in a clustered environment.\r\nAfter configuring the quartz as clustered and persistence, application is throwing the following exception at deployment:\r\n\r\n&gt; java.io.NotSerializableException: Unable to serialize JobDataMap for\r\n&gt; insertion into database because the value of property &#39;methodInvoker&#39;\r\n&gt; is not serializable:\r\n&gt; org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean\r\n\r\nI am using the following versions:\r\n\r\n - **Spring version 3.1.4.RELEASE**\r\n - **Quartz version 2.1.7**\r\n\r\n**Update**: As per the documentation of `MethodInvokingJobDetailFactoryBean`:\r\n\r\n    JobDetails created via this FactoryBean are not serializable.\r\n\r\nSo, looking for some alternative approach to configure a persistent job in spring. \r\n","title":"Issue with Quartz persistent jobs while using with Spring","body":"<p>I have configured a spring's method invoking job previously which is working fine. Now my requirement is to have this job as persistent which will run in a clustered environment.\nAfter configuring the quartz as clustered and persistence, application is throwing the following exception at deployment:</p>\n\n<blockquote>\n  <p>java.io.NotSerializableException: Unable to serialize JobDataMap for\n  insertion into database because the value of property 'methodInvoker'\n  is not serializable:\n  org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean</p>\n</blockquote>\n\n<p>I am using the following versions:</p>\n\n<ul>\n<li><strong>Spring version 3.1.4.RELEASE</strong></li>\n<li><strong>Quartz version 2.1.7</strong></li>\n</ul>\n\n<p><strong>Update</strong>: As per the documentation of <code>MethodInvokingJobDetailFactoryBean</code>:</p>\n\n<pre><code>JobDetails created via this FactoryBean are not serializable.\n</code></pre>\n\n<p>So, looking for some alternative approach to configure a persistent job in spring. </p>\n"},{"tags":["java","java.util.concurrent","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":5378762,"reputation":1382,"user_id":4284706,"accept_rate":77,"display_name":"Rivu Chakraborty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1419870286,"creation_date":1419870286,"answer_id":27692421,"question_id":27692420,"body_markdown":"Yes it is possible to retry the execution of the rejected task.\r\nThe best way to retry the execution is to use an alternate executor.\r\nYou may declare a custom RejectedExecutionHandler class simply like as you do this with other interfaces.\r\nHere are some code samples:\r\n\r\n    public class MyRejectedExecutionHandler implements RejectedExecutionHandler {\r\n\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void rejectedExecution(Runnable worker, ThreadPoolExecutor executor) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.out.println(worker.toString()+&quot; is Rejected&quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Retrying to Execute&quot;);\r\n\t\ttry{\r\n\t\t\t//Re-executing with alternateExecutor\r\n\t\t\tMainClass.alternateExecutor.execute(worker);\r\n\t\t\tSystem.out.println(worker.toString()+&quot; Execution Started&quot;);\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Failure to Re-exicute &quot;+e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nYou can find more details about this at: http://examples.javacodegeeks.com/core-java/util/concurrent/rejectedexecutionhandler/java-util-concurrent-rejectedexecutionhandler-example/\r\n","title":"Use custom RejectedExecutionHandler","body":"<p>Yes it is possible to retry the execution of the rejected task.\nThe best way to retry the execution is to use an alternate executor.\nYou may declare a custom RejectedExecutionHandler class simply like as you do this with other interfaces.\nHere are some code samples:</p>\n\n<pre><code>public class MyRejectedExecutionHandler implements RejectedExecutionHandler {\n\n\n\n@Override\npublic void rejectedExecution(Runnable worker, ThreadPoolExecutor executor) {\n    // TODO Auto-generated method stub\n    System.out.println(worker.toString()+\" is Rejected\");\n\n    System.out.println(\"Retrying to Execute\");\n    try{\n        //Re-executing with alternateExecutor\n        MainClass.alternateExecutor.execute(worker);\n        System.out.println(worker.toString()+\" Execution Started\");\n    }\n    catch(Exception e)\n    {\n        System.out.println(\"Failure to Re-exicute \"+e.getMessage());\n    }\n}\n\n}\n</code></pre>\n\n<p>You can find more details about this at: <a href=\"http://examples.javacodegeeks.com/core-java/util/concurrent/rejectedexecutionhandler/java-util-concurrent-rejectedexecutionhandler-example/\" rel=\"nofollow\">http://examples.javacodegeeks.com/core-java/util/concurrent/rejectedexecutionhandler/java-util-concurrent-rejectedexecutionhandler-example/</a></p>\n"},{"tags":[],"owner":{"account_id":6251822,"reputation":71,"user_id":4861640,"display_name":"Viscent Huang"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430733004,"creation_date":1430731319,"answer_id":30026617,"question_id":27692420,"body_markdown":"Below is a retry-enabled RejectedExecutionHandler that does not require an \r\nadditional ThreadPoolExecutor. It&#39;s is more practical: when a task was rejected, the rejected task will be put into the workerQueue of ThreadPoolExecutor in blocking mode, which makes the task submitter wait some time before the ThreadPoolExecutor can process any more tasks.\r\n\r\n    new RejectedExecutionHandler() {\r\n\r\n\t\t    @Override\r\n\t\t    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\r\n\t\t\t    if (!executor.isShutdown()) {\r\n\t\t\t\t    try {\r\n\t\t\t\t\t    executor.getQueue().put(r);\r\n\t\t\t\t    } catch (InterruptedException e) {\r\n\t\t\t\t\t    ;\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\r\n\t\t    }\r\n\r\n\t    }","title":"Use custom RejectedExecutionHandler","body":"<p>Below is a retry-enabled RejectedExecutionHandler that does not require an \nadditional ThreadPoolExecutor. It's is more practical: when a task was rejected, the rejected task will be put into the workerQueue of ThreadPoolExecutor in blocking mode, which makes the task submitter wait some time before the ThreadPoolExecutor can process any more tasks.</p>\n\n<pre><code>new RejectedExecutionHandler() {\n\n        @Override\n        public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n            if (!executor.isShutdown()) {\n                try {\n                    executor.getQueue().put(r);\n                } catch (InterruptedException e) {\n                    ;\n                }\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4752391,"reputation":703,"user_id":3842076,"accept_rate":80,"display_name":"ruslangm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660657398,"creation_date":1660657398,"answer_id":73375014,"question_id":27692420,"body_markdown":"I&#39;ll add few points to the comment by @Viscent Huang.   \r\nFirst, this solution makes sense only if your `ThreadPoolExecutor` is using `BlockingQueue`.  \r\nSecond, this solution also provides risk that you may have a deadlock in case your threadpool is full because you&#39;re inserting runnable in a blocking manner in a threadpool which might be already filled.   \r\nFor example this code may easily cause such problem:\r\n```\r\nCompletableFuture.supplyAsync(\r\n        () -&gt; {\r\n            // some computation intensive task\r\n        }, executors\r\n).thenAcceptAsync(\r\n        res -&gt; {\r\n            // handling the result\r\n        }, executors);\r\n```\r\nWhat I suggest is to handle rejected threads in a separate threadpool to avoid deadlock. So finally your code may look like this:\r\n```\r\npublic class CustomRejectedExecutionHandler implements RejectedExecutionHandler {\r\n    private final Executor rejectedExecutionThread = Executors.newFixedThreadPool(1);\r\n\r\n    @Override\r\n    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\r\n        rejectedExecutionThread.execute(() -&gt; {\r\n            try {\r\n                executor.getQueue().put(r);\r\n            } catch (Exception e) {\r\n                // handle exception\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```","title":"Use custom RejectedExecutionHandler","body":"<p>I'll add few points to the comment by @Viscent Huang.<br />\nFirst, this solution makes sense only if your <code>ThreadPoolExecutor</code> is using <code>BlockingQueue</code>.<br />\nSecond, this solution also provides risk that you may have a deadlock in case your threadpool is full because you're inserting runnable in a blocking manner in a threadpool which might be already filled.<br />\nFor example this code may easily cause such problem:</p>\n<pre><code>CompletableFuture.supplyAsync(\n        () -&gt; {\n            // some computation intensive task\n        }, executors\n).thenAcceptAsync(\n        res -&gt; {\n            // handling the result\n        }, executors);\n</code></pre>\n<p>What I suggest is to handle rejected threads in a separate threadpool to avoid deadlock. So finally your code may look like this:</p>\n<pre><code>public class CustomRejectedExecutionHandler implements RejectedExecutionHandler {\n    private final Executor rejectedExecutionThread = Executors.newFixedThreadPool(1);\n\n    @Override\n    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n        rejectedExecutionThread.execute(() -&gt; {\n            try {\n                executor.getQueue().put(r);\n            } catch (Exception e) {\n                // handle exception\n            }\n        });\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":5378762,"reputation":1382,"user_id":4284706,"accept_rate":77,"display_name":"Rivu Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27692421,"answer_count":3,"score":4,"last_activity_date":1660657398,"creation_date":1419870286,"question_id":27692420,"body_markdown":"While using `java.util.concurrent.ThreadPoolExecutor` I wanted to try to execute a rejected task once more.\r\nIs it really possible? I have heard of `RejectedExecutionHandler` interface. There are many available(known) instances of the interface(RejectedExecutionHandler) such as ThreadPoolExecutor.AbortPolicy, ThreadPoolExecutor.CallerRunsPolicy, ThreadPoolExecutor.DiscardOldestPolicy, ThreadPoolExecutor.DiscardPolicy etc. but the problem is that they do not allow to retry the execution.","title":"Use custom RejectedExecutionHandler","body":"<p>While using <code>java.util.concurrent.ThreadPoolExecutor</code> I wanted to try to execute a rejected task once more.\nIs it really possible? I have heard of <code>RejectedExecutionHandler</code> interface. There are many available(known) instances of the interface(RejectedExecutionHandler) such as ThreadPoolExecutor.AbortPolicy, ThreadPoolExecutor.CallerRunsPolicy, ThreadPoolExecutor.DiscardOldestPolicy, ThreadPoolExecutor.DiscardPolicy etc. but the problem is that they do not allow to retry the execution.</p>\n"},{"tags":["java","maven","apache-kafka","jar","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660226970,"post_id":73319891,"comment_id":129487181,"body_markdown":"Did you actually build a JAR? Or did you just put class/java files into some folder? Maven doesn&#39;t need internet to package/compile code, only to download dependencies... I&#39;d like to point out that JMS connectors already exist","body":"Did you actually build a JAR? Or did you just put class/java files into some folder? Maven doesn&#39;t need internet to package/compile code, only to download dependencies... I&#39;d like to point out that JMS connectors already exist"},{"owner":{"account_id":8619861,"reputation":308,"user_id":6455190,"display_name":"suraj shinde"},"score":0,"creation_date":1660279562,"post_id":73319891,"comment_id":129499746,"body_markdown":"I am creating a tibco-jms connector which is there on confluent but it needs confluent license and we are using cloudera kafka setup. Hence creating custom connector","body":"I am creating a tibco-jms connector which is there on confluent but it needs confluent license and we are using cloudera kafka setup. Hence creating custom connector"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1660324426,"post_id":73319891,"comment_id":129514316,"body_markdown":"Have you looked at Apache Camel Connectors as an alternative? Regardless, you didn&#39;t answer the rest of my question. Clearly the folder is found, but it found no classes in there that implement the SourceConnector interface","body":"Have you looked at Apache Camel Connectors as an alternative? Regardless, you didn&#39;t answer the rest of my question. Clearly the folder is found, but it found no classes in there that implement the SourceConnector interface"}],"answers":[{"tags":[],"owner":{"account_id":8619861,"reputation":308,"user_id":6455190,"display_name":"suraj shinde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660657390,"creation_date":1660657390,"answer_id":73375013,"question_id":73319891,"body_markdown":"Found the issue actually jar was not built properly I have created INDEX.list file under META-INF which mention the class path","title":"Custom kafka connector is not detected","body":"<p>Found the issue actually jar was not built properly I have created INDEX.list file under META-INF which mention the class path</p>\n"}],"owner":{"account_id":8619861,"reputation":308,"user_id":6455190,"display_name":"suraj shinde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1660657390,"creation_date":1660217234,"question_id":73319891,"body_markdown":"I don&#39;t have internet access so I am not able to use Maven to build or package the custom kafka connector.\r\n\r\nI am trying to plugin the custom connector but it is not getting added to connector list. I am sure that PluginClassLoader is detecting the connector path but it is not adding the connector. Is there any folder structure or anything i need to follow or do i have to specify any parameters while building the jar file.\r\nBelow is the picture of the connect log\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zf5e5.jpg","title":"Custom kafka connector is not detected","body":"<p>I don't have internet access so I am not able to use Maven to build or package the custom kafka connector.</p>\n<p>I am trying to plugin the custom connector but it is not getting added to connector list. I am sure that PluginClassLoader is detecting the connector path but it is not adding the connector. Is there any folder structure or anything i need to follow or do i have to specify any parameters while building the jar file.\nBelow is the picture of the connect log</p>\n<p><a href=\"https://i.stack.imgur.com/Zf5e5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zf5e5.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","linux","operating-system","environment-variables","centos7"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1660256795,"post_id":73327330,"comment_id":129496514,"body_markdown":"I don&#39;t use CentOS but you can probably install the rpm with yum from [HERE](https://www.oracle.com/java/technologies/javase-java-archive-javase6-downloads.html#license-lightbox)","body":"I don&#39;t use CentOS but you can probably install the rpm with yum from <a href=\"https://www.oracle.com/java/technologies/javase-java-archive-javase6-downloads.html#license-lightbox\" rel=\"nofollow noreferrer\">HERE</a>"}],"answers":[{"tags":[],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660656242,"creation_date":1660656242,"answer_id":73374740,"question_id":73327330,"body_markdown":"Finally, we couldn&#39;t do another way, it&#39;s the right way, so I let the things like they are","title":"Java version different from JAVA_HOME CentOS7","body":"<p>Finally, we couldn't do another way, it's the right way, so I let the things like they are</p>\n"}],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73374740,"answer_count":1,"score":-1,"last_activity_date":1660656242,"creation_date":1660255577,"question_id":73327330,"body_markdown":"I have a centOS7 server, and want to have JDK1.6_15 on it.\r\nI update the /etc/profile scripts to have JAVA_HOME variable correct.\r\nThe PATH is also updated with JAVA_HOME in first place.\r\n\r\nBut, when I launch &quot;java -version&quot; command, I have JDK1.8 OpenJDK displayed !\r\n\r\nWhen I launch the &quot;alternatives --config java&quot; command, I have only : \r\n\r\n    java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/bin/java)\r\n\r\nSo I force things with :\r\n\r\n    alternatives --install /usr/bin/java java /opt/jdk1.6.0_15/bin/java 1\r\n    alternatives --install /usr/bin/javac javac /opt/jdk1.6.0_15/bin/javac 1\r\n\r\nIt&#39;s ok now, but, it seems not really correct to me to do this, it&#39;s weird no ?\r\n\r\nIs there a way to install properly with yum the OpenJDK1.6 but precisely 1.6.0_15 version, not another ?","title":"Java version different from JAVA_HOME CentOS7","body":"<p>I have a centOS7 server, and want to have JDK1.6_15 on it.\nI update the /etc/profile scripts to have JAVA_HOME variable correct.\nThe PATH is also updated with JAVA_HOME in first place.</p>\n<p>But, when I launch &quot;java -version&quot; command, I have JDK1.8 OpenJDK displayed !</p>\n<p>When I launch the &quot;alternatives --config java&quot; command, I have only :</p>\n<pre><code>java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/bin/java)\n</code></pre>\n<p>So I force things with :</p>\n<pre><code>alternatives --install /usr/bin/java java /opt/jdk1.6.0_15/bin/java 1\nalternatives --install /usr/bin/javac javac /opt/jdk1.6.0_15/bin/javac 1\n</code></pre>\n<p>It's ok now, but, it seems not really correct to me to do this, it's weird no ?</p>\n<p>Is there a way to install properly with yum the OpenJDK1.6 but precisely 1.6.0_15 version, not another ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"score":1,"creation_date":1487948975,"post_id":42441939,"comment_id":72027735,"body_markdown":"this is not even compiling isn&#39;t","body":"this is not even compiling isn&#39;t"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1487949031,"post_id":42441939,"comment_id":72027771,"body_markdown":"If you keep dividing `decimal` by 2, it will *never* reach `256` so your outer loop won&#39;t terminate. Solution: copy `decimal` to a temporary variable in the outer loop and use the temporary variable in the inner loop.","body":"If you keep dividing <code>decimal</code> by 2, it will <i>never</i> reach <code>256</code> so your outer loop won&#39;t terminate. Solution: copy <code>decimal</code> to a temporary variable in the outer loop and use the temporary variable in the inner loop."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1487949049,"post_id":42441939,"comment_id":72027783,"body_markdown":"Assuming you forgot some braces etc. I guess the code below the for-loop is all part of the body. If it is then you shouldn&#39;t decrement `decimal` until it is 0 _inside_ the loop that should loop until it is &gt; 256.","body":"Assuming you forgot some braces etc. I guess the code below the for-loop is all part of the body. If it is then you shouldn&#39;t decrement <code>decimal</code> until it is 0 <i>inside</i> the loop that should loop until it is &gt; 256."},{"owner":{"account_id":10326247,"reputation":43,"user_id":7617644,"display_name":"ch11nV11n"},"score":0,"creation_date":1487949085,"post_id":42441939,"comment_id":72027815,"body_markdown":"I only added what was necessary to the question, I could post the whole thing? And on my console it just keeps printing 1s and 0s until I stop it.","body":"I only added what was necessary to the question, I could post the whole thing? And on my console it just keeps printing 1s and 0s until I stop it."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1487949094,"post_id":42441939,"comment_id":72027821,"body_markdown":"Besides that, why not `Integer.toBinaryString(decimal)` and be done?","body":"Besides that, why not <code>Integer.toBinaryString(decimal)</code> and be done?"},{"owner":{"account_id":10326247,"reputation":43,"user_id":7617644,"display_name":"ch11nV11n"},"score":0,"creation_date":1487949158,"post_id":42441939,"comment_id":72027868,"body_markdown":"Because I am not allowed to use it for my assignment.","body":"Because I am not allowed to use it for my assignment."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1487949189,"post_id":42441939,"comment_id":72027885,"body_markdown":"You might want to try stepping through your code with a debugger and watch the values, especially that of `decimal`. That should help you understand the problem with your code (if our comments didn&#39;t already).","body":"You might want to try stepping through your code with a debugger and watch the values, especially that of <code>decimal</code>. That should help you understand the problem with your code (if our comments didn&#39;t already)."},{"owner":{"account_id":316371,"reputation":9541,"user_id":632516,"accept_rate":74,"display_name":"Divers"},"score":0,"creation_date":1487949285,"post_id":42441939,"comment_id":72027952,"body_markdown":"@Thomas because it&#39;s home work.","body":"@Thomas because it&#39;s home work."},{"owner":{"account_id":1461157,"reputation":2027,"user_id":1375455,"accept_rate":93,"display_name":"FSm"},"score":0,"creation_date":1487952646,"post_id":42441939,"comment_id":72030233,"body_markdown":"@deyizzle. see my answer","body":"@deyizzle. see my answer"}],"answers":[{"tags":[],"owner":{"account_id":9620997,"reputation":170,"user_id":7142259,"display_name":"pteronewone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487949663,"creation_date":1487949663,"answer_id":42442222,"question_id":42441939,"body_markdown":"The problem is in each iteration of the for loop you set decimal to 0. Change the for loop to use a different value, like i, then assign `decimal = i`.","title":"I have to use a while loop to convert decimal into binary in Java","body":"<p>The problem is in each iteration of the for loop you set decimal to 0. Change the for loop to use a different value, like i, then assign <code>decimal = i</code>.</p>\n"},{"tags":[],"owner":{"account_id":4187371,"reputation":4956,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1487954740,"creation_date":1487950238,"answer_id":42442421,"question_id":42441939,"body_markdown":"Here is a recursive solution:\r\n\r\n    public class Class {\r\n      private static String intToBinary(final int input, final int count) {\r\n        int powerOf2 = (int) Math.pow(2, count);\r\n        if (count &lt; 0) {\r\n          return &quot;&quot;;\r\n        } else if (input &lt; powerOf2) {\r\n          return &quot;0&quot; + intToBinary(input, count - 1);\r\n        } else {\r\n          return &quot;1&quot; + intToBinary(input - powerOf2, count - 1);\r\n        }\r\n      }\r\n    \r\n      public static String intToBinary(final int input) {\r\n        return intToBinary(input, (int) Math.ceil(Math.log(input) / Math.log(2)));\r\n      }\r\n    \r\n      public static void main(String... args) {\r\n        System.out.println(intToBinary(7));\r\n        System.out.println(intToBinary(8));\r\n        System.out.println(intToBinary(100));\r\n        System.out.println(intToBinary(1234567890));\r\n      }\r\n    }\r\n\r\nHere is the same algorithm in a while loop:\r\n\r\n\r\n    public class Class {\r\n      public static String intToBinary(final int input) {\r\n        int count = (int) Math.ceil(Math.log(input) / Math.log(2));\r\n        int remaining = input;\r\n        final StringBuilder output = new StringBuilder();\r\n        while (count &gt;= 0) {\r\n          final int powerOf2 = (int) Math.pow(2, count);\r\n          if (remaining &lt; powerOf2) {\r\n            output.append(&quot;0&quot;);\r\n          } else {\r\n            output.append(&quot;1&quot;);\r\n            remaining -= powerOf2;\r\n          }\r\n          count--;\r\n        }\r\n        return output.toString();\r\n      }\r\n    \r\n      public static void main(String... args) {\r\n        System.out.println(intToBinary(7));\r\n        System.out.println(intToBinary(8));\r\n        System.out.println(intToBinary(100));\r\n        System.out.println(intToBinary(1234567890));\r\n      }\r\n    }","title":"I have to use a while loop to convert decimal into binary in Java","body":"<p>Here is a recursive solution:</p>\n\n<pre><code>public class Class {\n  private static String intToBinary(final int input, final int count) {\n    int powerOf2 = (int) Math.pow(2, count);\n    if (count &lt; 0) {\n      return \"\";\n    } else if (input &lt; powerOf2) {\n      return \"0\" + intToBinary(input, count - 1);\n    } else {\n      return \"1\" + intToBinary(input - powerOf2, count - 1);\n    }\n  }\n\n  public static String intToBinary(final int input) {\n    return intToBinary(input, (int) Math.ceil(Math.log(input) / Math.log(2)));\n  }\n\n  public static void main(String... args) {\n    System.out.println(intToBinary(7));\n    System.out.println(intToBinary(8));\n    System.out.println(intToBinary(100));\n    System.out.println(intToBinary(1234567890));\n  }\n}\n</code></pre>\n\n<p>Here is the same algorithm in a while loop:</p>\n\n<pre><code>public class Class {\n  public static String intToBinary(final int input) {\n    int count = (int) Math.ceil(Math.log(input) / Math.log(2));\n    int remaining = input;\n    final StringBuilder output = new StringBuilder();\n    while (count &gt;= 0) {\n      final int powerOf2 = (int) Math.pow(2, count);\n      if (remaining &lt; powerOf2) {\n        output.append(\"0\");\n      } else {\n        output.append(\"1\");\n        remaining -= powerOf2;\n      }\n      count--;\n    }\n    return output.toString();\n  }\n\n  public static void main(String... args) {\n    System.out.println(intToBinary(7));\n    System.out.println(intToBinary(8));\n    System.out.println(intToBinary(100));\n    System.out.println(intToBinary(1234567890));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461157,"reputation":2027,"user_id":1375455,"accept_rate":93,"display_name":"FSm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487953038,"creation_date":1487950554,"answer_id":42442543,"question_id":42441939,"body_markdown":"Try this \r\n\r\n\r\n    public static void main(String[] args)   {\r\n   \r\n    int [] nums = new int [256];\r\n    \r\n    for (int i =0; i&lt; nums.length;i++)\r\n         {\r\n         \r\n           nums[i] = i+1;\r\n         }\r\n    \r\n    for (int i =0; i&lt; nums.length;i++)\r\n         {\r\n         \r\n            System.out.println(decimalTobinary(nums[i]));\r\n         }\r\n    \r\n    \r\n    }\r\n\r\n    public static String decimalTobinary(int num){\r\n     int binary[] = new int[9];\r\n     int index = 0;\r\n     while(num &gt; 0)\r\n          {\r\n            binary[index++] = num%2;\r\n            num = num/2;\r\n          }\r\n     \r\n     StringBuilder sb = new StringBuilder();\r\n     for(int i = index-1;i &gt;= 0;i--)\r\n          {\r\n                sb.append(binary[i]);\r\n          }\r\n           return sb.toString();\r\n       }\r\n    }\r\n","title":"I have to use a while loop to convert decimal into binary in Java","body":"<p>Try this </p>\n\n<pre><code>public static void main(String[] args)   {\n\nint [] nums = new int [256];\n\nfor (int i =0; i&lt; nums.length;i++)\n     {\n\n       nums[i] = i+1;\n     }\n\nfor (int i =0; i&lt; nums.length;i++)\n     {\n\n        System.out.println(decimalTobinary(nums[i]));\n     }\n\n\n}\n\npublic static String decimalTobinary(int num){\n int binary[] = new int[9];\n int index = 0;\n while(num &gt; 0)\n      {\n        binary[index++] = num%2;\n        num = num/2;\n      }\n\n StringBuilder sb = new StringBuilder();\n for(int i = index-1;i &gt;= 0;i--)\n      {\n            sb.append(binary[i]);\n      }\n       return sb.toString();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26077315,"reputation":1,"user_id":19776085,"display_name":"ihatecode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660655334,"creation_date":1660655144,"answer_id":73374493,"question_id":42441939,"body_markdown":"This is my first answer on stackoverflow\r\n \r\n\r\n\t    while(binary_number!=0)\r\n\t    {\r\n\t    \tint digit = binary_number % 10; //take out the digits from the end\r\n\t    \t\r\n\t    \tdecimal = decimal + digit*(Math.pow(2, i)); // use a accumulator to add up the digits while multiplying it with the correct power of 2 \r\n\t    \t\r\n\t    \ti++; // use a counter for using for the correct value to raise the power of 2 to.\r\n\t    \t\r\n\t    \tbinary_number = binary_number/10; // divide the number by ten so that the last digit used in calculation is no more used \r\n\t    }\r\n         System.out.println(decimal);","title":"I have to use a while loop to convert decimal into binary in Java","body":"<p>This is my first answer on stackoverflow</p>\n<pre><code>    while(binary_number!=0)\n    {\n        int digit = binary_number % 10; //take out the digits from the end\n        \n        decimal = decimal + digit*(Math.pow(2, i)); // use a accumulator to add up the digits while multiplying it with the correct power of 2 \n        \n        i++; // use a counter for using for the correct value to raise the power of 2 to.\n        \n        binary_number = binary_number/10; // divide the number by ten so that the last digit used in calculation is no more used \n    }\n     System.out.println(decimal);\n</code></pre>\n"}],"owner":{"account_id":10326247,"reputation":43,"user_id":7617644,"display_name":"ch11nV11n"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3578,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":42442421,"answer_count":4,"score":-4,"last_activity_date":1660655334,"creation_date":1487948843,"question_id":42441939,"body_markdown":"I have to manually convert decimal numbers into binary, but have to output from the range of 1-256 (so no user input). I believe I just take the variable for incrementing the decimal up to 256 and using that as the input for the binary conversion, but I keep getting an infinite loop. I am not allowed to use the binary conversion function so I have to convert manually.\r\n\r\n    int decimal;\r\n    for (decimal = 1; decimal &lt;= 256; decimal++) //this is how i get from 1-256\r\n \r\n    //this is the binary where i keep getting the infinite loop\r\n    int binaryNumber = 0;\r\n\t\t\twhile (decimal &gt; 0) {\r\n\t\t\t\tdecimal = decimal / 2;\r\n\t\t\t\tbinaryNumber = (decimal % 2) + binaryNumber;\r\n\t\t\t\t}\r\n\t\t\tSystem.out.println(binaryNumber);\r\n\r\nwhat am I doing wrong, thanks?","title":"I have to use a while loop to convert decimal into binary in Java","body":"<p>I have to manually convert decimal numbers into binary, but have to output from the range of 1-256 (so no user input). I believe I just take the variable for incrementing the decimal up to 256 and using that as the input for the binary conversion, but I keep getting an infinite loop. I am not allowed to use the binary conversion function so I have to convert manually.</p>\n\n<pre><code>int decimal;\nfor (decimal = 1; decimal &lt;= 256; decimal++) //this is how i get from 1-256\n\n//this is the binary where i keep getting the infinite loop\nint binaryNumber = 0;\n        while (decimal &gt; 0) {\n            decimal = decimal / 2;\n            binaryNumber = (decimal % 2) + binaryNumber;\n            }\n        System.out.println(binaryNumber);\n</code></pre>\n\n<p>what am I doing wrong, thanks?</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1660295576,"post_id":73330357,"comment_id":129504059,"body_markdown":"Try the other saveIncremental method, read the javadoc and pass the modified dictionaries and use the latest version.","body":"Try the other saveIncremental method, read the javadoc and pass the modified dictionaries and use the latest version."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1660295852,"post_id":73330357,"comment_id":129504152,"body_markdown":"Yes, **read and follow the hints in the JavaDocs** whichever `saveIncremental` overload you use. And using the other overload indeed is likely to be easier to use.","body":"Yes, <b>read and follow the hints in the JavaDocs</b> whichever <code>saveIncremental</code> overload you use. And using the other overload indeed is likely to be easier to use."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1660636562,"post_id":73330357,"comment_id":129572396,"body_markdown":"Worked with adding Catalog COSObject with setNeedToBeUpdated flag true to COSDictionary set and passing same in overloaded saveIncremental. But this breaks existing Signature , is there any way around to keep existing Signature valid?","body":"Worked with adding Catalog COSObject with setNeedToBeUpdated flag true to COSDictionary set and passing same in overloaded saveIncremental. But this breaks existing Signature , is there any way around to keep existing Signature valid?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1660643083,"post_id":73330357,"comment_id":129574650,"body_markdown":"Maybe this is a certification signature which means you should not do certain changes?","body":"Maybe this is a certification signature which means you should not do certain changes?"},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1660655475,"post_id":73330357,"comment_id":129579151,"body_markdown":"PDF is not certified i.e. MDPPermission is not set to 1. I have added sample code which invalidates signature on attachment addition","body":"PDF is not certified i.e. MDPPermission is not set to 1. I have added sample code which invalidates signature on attachment addition"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1660656398,"post_id":73330357,"comment_id":129579591,"body_markdown":"*&quot;Adding attachments to Signed file (File is not certified) invalidates the signature&quot;* - It invalidates the signature as Adobe treats normal signatures similar to certification signatures with form-fill-in and annotation-changes allowed. Addition of attachments is not allowed, though. See [this answer](https://stackoverflow.com/a/16711745/1729265) for the description of the permissions according to Adobe Acrobat around 9.x. The changes since then are small.","body":"<i>&quot;Adding attachments to Signed file (File is not certified) invalidates the signature&quot;</i> - It invalidates the signature as Adobe treats normal signatures similar to certification signatures with form-fill-in and annotation-changes allowed. Addition of attachments is not allowed, though. See <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a> for the description of the permissions according to Adobe Acrobat around 9.x. The changes since then are small."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1660661620,"post_id":73330357,"comment_id":129581891,"body_markdown":"Thank you. Appreciate your help","body":"Thank you. Appreciate your help"}],"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660655326,"creation_date":1660287686,"question_id":73330357,"body_markdown":"Saving document with attachment using saveIncremental() method saves document without attachment.\r\nAlthough it does work with save() method i.e attachment are embedded in the document \r\n\r\nPDFBox Version - 2.0.26\r\n\r\nCode:\r\n\r\n     @Test\r\n    public static void testAttachment() throws IOException\r\n    {\r\n        try (\r\n                InputStream sourceStream = new FileInputStream(&quot;src/main/resources/sample_doc_usb_signed_2.pdf&quot;);\r\n                final PDDocument document = PDDocument.load(sourceStream);\r\n        )\r\n        {\r\n\r\n\r\n            List&lt;String&gt; att_list=List.of(&quot;src/main/resources/sample_doc.pdf&quot;,\r\n                    &quot;src/main/resources/sample.docx&quot;,\r\n                    &quot;src/main/resources/text.jpg&quot;\r\n            );\r\n\r\n            final Map&lt;String, PDComplexFileSpecification&gt; embeddedFileMap = new HashMap&lt;&gt;();\r\n            for (String attachPath : att_list) {\r\n\r\n                Path path=Path.of(attachPath);\r\n                String mimeType = Files.probeContentType(path);\r\n                long size = Files.size(path);\r\n\r\n                File file = new File(attachPath);\r\n\r\n                String name = file.getName();\r\n\r\n                FileInputStream  attachStream = new FileInputStream(file);\r\n\r\n                final PDEmbeddedFile embeddedFile = new PDEmbeddedFile(document, attachStream);\r\n                embeddedFile.setSubtype(mimeType);\r\n                embeddedFile.setSize((int) size);\r\n                embeddedFile.setCreationDate(Calendar.getInstance());\r\n                embeddedFile.setModDate(Calendar.getInstance());\r\n                //TODO - Encoding\r\n\r\n                final PDComplexFileSpecification fileSpecification = new PDComplexFileSpecification();\r\n                fileSpecification.setFile(name);\r\n                fileSpecification.setFileDescription(&quot;This is attachment for field and supporting&quot;);\r\n                fileSpecification.setEmbeddedFile(embeddedFile);\r\n\r\n\r\n                embeddedFileMap.put(name, fileSpecification);\r\n            }\r\n\r\n            final PDEmbeddedFilesNameTreeNode efTree = new PDEmbeddedFilesNameTreeNode();\r\n            efTree.setNames(embeddedFileMap);\r\n\r\n            final PDDocumentNameDictionary names = new PDDocumentNameDictionary(document.getDocumentCatalog());\r\n            names.setEmbeddedFiles(efTree);\r\n            document.getDocumentCatalog().setNames(names);\r\n\r\n            //This works\r\n            document.save(new FileOutputStream(&quot;src/main/resources/sample_wi_attachment.pdf&quot;));\r\n\r\n            //Does not work  - File saved without attachments\r\n    //            document.saveIncremental(new FileOutputStream(&quot;src/main/resources/sample_wi_attachment.pdf&quot;));\r\n            }\r\n        }\r\n\r\nNote: Documents used in above test code are simple PDF \r\n\r\nAdding attachments to Signed file (File is not certified) invalidates the signature \r\n\r\n     private  void addAttachment() throws IOException {\r\n\r\n        //File Signed - not Certified\r\n        try(PDDocument document = PDDocument.load(new FileInputStream(&quot;src/main/resources/sample-signed_intermediate.pdf&quot;))){\r\n            PDDocumentCatalog catalog = document.getDocumentCatalog();\r\n            PDDocumentNameDictionary names = catalog.getNames();\r\n            PDEmbeddedFilesNameTreeNode efTree = names.getEmbeddedFiles();\r\n            Map&lt;String, PDComplexFileSpecification&gt; embeddedFileMap = efTree.getNames();\r\n\r\n\r\n            Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\r\n\r\n            embeddedFileMap= new HashMap&lt;&gt;();\r\n\r\n            List&lt;String&gt; att_list=List.of(&quot;src/main/resources/sample_doc.pdf&quot;,\r\n                    &quot;src/main/resources/AD23884.docx&quot;,\r\n                    &quot;src/main/resources/text.jpg&quot;\r\n\r\n            );\r\n\r\n            for (String attachPath : att_list) {\r\n\r\n                Path path=Path.of(attachPath);\r\n                String mimeType = Files.probeContentType(path);\r\n                long size = Files.size(path);\r\n\r\n                File file = new File(attachPath);\r\n\r\n                String name = file.getName();\r\n\r\n                FileInputStream  attachStream = new FileInputStream(file);\r\n\r\n\r\n                final PDEmbeddedFile embeddedFile = new PDEmbeddedFile(document, attachStream);\r\n                embeddedFile.setSubtype(mimeType);\r\n                embeddedFile.setSize((int) size);\r\n                embeddedFile.setCreationDate(Calendar.getInstance());\r\n                embeddedFile.setModDate(Calendar.getInstance());\r\n                //TODO - Encoding\r\n\r\n                final PDComplexFileSpecification fileSpecification = new PDComplexFileSpecification();\r\n                fileSpecification.setFile(name);\r\n                fileSpecification.setFileDescription(&quot;This is attachment for field and supporting&quot;);\r\n                fileSpecification.setEmbeddedFile(embeddedFile);\r\n\r\n                embeddedFileMap.put(name, fileSpecification);\r\n            }\r\n\r\n\r\n            efTree.setNames(embeddedFileMap);\r\n\r\n            names.setEmbeddedFiles(efTree);\r\n            document.getDocumentCatalog().setNames(names);\r\n\r\n            COSDictionary fieldDictionaryEf =efTree.getCOSObject();\r\n            while (fieldDictionaryEf != null) {\r\n                fieldDictionaryEf.setNeedToBeUpdated(true);\r\n                fieldDictionaryEf = (COSDictionary) fieldDictionaryEf.getDictionaryObject(COSName.PARENT);\r\n            }\r\n            objectsToWrite.add(efTree.getCOSObject());\r\n\r\n            COSDictionary fieldDictionaryNam =names.getCOSObject();\r\n            while (fieldDictionaryNam != null) {\r\n                fieldDictionaryNam.setNeedToBeUpdated(true);\r\n                fieldDictionaryNam = (COSDictionary) fieldDictionaryNam.getDictionaryObject(COSName.PARENT);\r\n            }\r\n            objectsToWrite.add(names.getCOSObject());\r\n\r\n            COSDictionary fieldDictionary =document.getDocumentCatalog().getCOSObject();\r\n            while (fieldDictionary != null) {\r\n                fieldDictionary.setNeedToBeUpdated(true);\r\n                fieldDictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.PARENT);\r\n            }\r\n            objectsToWrite.add(document.getDocumentCatalog().getCOSObject());\r\n\r\n            document.saveIncremental(new FileOutputStream(&quot;src/main/resources/attachment.pdf&quot;),objectsToWrite);\r\n\r\n        }\r\n        catch (Exception e){\r\n            throw e;\r\n        }\r\n    }","title":"Incremental save not working with Attachment","body":"<p>Saving document with attachment using saveIncremental() method saves document without attachment.\nAlthough it does work with save() method i.e attachment are embedded in the document</p>\n<p>PDFBox Version - 2.0.26</p>\n<p>Code:</p>\n<pre><code> @Test\npublic static void testAttachment() throws IOException\n{\n    try (\n            InputStream sourceStream = new FileInputStream(&quot;src/main/resources/sample_doc_usb_signed_2.pdf&quot;);\n            final PDDocument document = PDDocument.load(sourceStream);\n    )\n    {\n\n\n        List&lt;String&gt; att_list=List.of(&quot;src/main/resources/sample_doc.pdf&quot;,\n                &quot;src/main/resources/sample.docx&quot;,\n                &quot;src/main/resources/text.jpg&quot;\n        );\n\n        final Map&lt;String, PDComplexFileSpecification&gt; embeddedFileMap = new HashMap&lt;&gt;();\n        for (String attachPath : att_list) {\n\n            Path path=Path.of(attachPath);\n            String mimeType = Files.probeContentType(path);\n            long size = Files.size(path);\n\n            File file = new File(attachPath);\n\n            String name = file.getName();\n\n            FileInputStream  attachStream = new FileInputStream(file);\n\n            final PDEmbeddedFile embeddedFile = new PDEmbeddedFile(document, attachStream);\n            embeddedFile.setSubtype(mimeType);\n            embeddedFile.setSize((int) size);\n            embeddedFile.setCreationDate(Calendar.getInstance());\n            embeddedFile.setModDate(Calendar.getInstance());\n            //TODO - Encoding\n\n            final PDComplexFileSpecification fileSpecification = new PDComplexFileSpecification();\n            fileSpecification.setFile(name);\n            fileSpecification.setFileDescription(&quot;This is attachment for field and supporting&quot;);\n            fileSpecification.setEmbeddedFile(embeddedFile);\n\n\n            embeddedFileMap.put(name, fileSpecification);\n        }\n\n        final PDEmbeddedFilesNameTreeNode efTree = new PDEmbeddedFilesNameTreeNode();\n        efTree.setNames(embeddedFileMap);\n\n        final PDDocumentNameDictionary names = new PDDocumentNameDictionary(document.getDocumentCatalog());\n        names.setEmbeddedFiles(efTree);\n        document.getDocumentCatalog().setNames(names);\n\n        //This works\n        document.save(new FileOutputStream(&quot;src/main/resources/sample_wi_attachment.pdf&quot;));\n\n        //Does not work  - File saved without attachments\n//            document.saveIncremental(new FileOutputStream(&quot;src/main/resources/sample_wi_attachment.pdf&quot;));\n        }\n    }\n</code></pre>\n<p>Note: Documents used in above test code are simple PDF</p>\n<p>Adding attachments to Signed file (File is not certified) invalidates the signature</p>\n<pre><code> private  void addAttachment() throws IOException {\n\n    //File Signed - not Certified\n    try(PDDocument document = PDDocument.load(new FileInputStream(&quot;src/main/resources/sample-signed_intermediate.pdf&quot;))){\n        PDDocumentCatalog catalog = document.getDocumentCatalog();\n        PDDocumentNameDictionary names = catalog.getNames();\n        PDEmbeddedFilesNameTreeNode efTree = names.getEmbeddedFiles();\n        Map&lt;String, PDComplexFileSpecification&gt; embeddedFileMap = efTree.getNames();\n\n\n        Set&lt;COSDictionary&gt; objectsToWrite = new HashSet&lt;&gt;();\n\n        embeddedFileMap= new HashMap&lt;&gt;();\n\n        List&lt;String&gt; att_list=List.of(&quot;src/main/resources/sample_doc.pdf&quot;,\n                &quot;src/main/resources/AD23884.docx&quot;,\n                &quot;src/main/resources/text.jpg&quot;\n\n        );\n\n        for (String attachPath : att_list) {\n\n            Path path=Path.of(attachPath);\n            String mimeType = Files.probeContentType(path);\n            long size = Files.size(path);\n\n            File file = new File(attachPath);\n\n            String name = file.getName();\n\n            FileInputStream  attachStream = new FileInputStream(file);\n\n\n            final PDEmbeddedFile embeddedFile = new PDEmbeddedFile(document, attachStream);\n            embeddedFile.setSubtype(mimeType);\n            embeddedFile.setSize((int) size);\n            embeddedFile.setCreationDate(Calendar.getInstance());\n            embeddedFile.setModDate(Calendar.getInstance());\n            //TODO - Encoding\n\n            final PDComplexFileSpecification fileSpecification = new PDComplexFileSpecification();\n            fileSpecification.setFile(name);\n            fileSpecification.setFileDescription(&quot;This is attachment for field and supporting&quot;);\n            fileSpecification.setEmbeddedFile(embeddedFile);\n\n            embeddedFileMap.put(name, fileSpecification);\n        }\n\n\n        efTree.setNames(embeddedFileMap);\n\n        names.setEmbeddedFiles(efTree);\n        document.getDocumentCatalog().setNames(names);\n\n        COSDictionary fieldDictionaryEf =efTree.getCOSObject();\n        while (fieldDictionaryEf != null) {\n            fieldDictionaryEf.setNeedToBeUpdated(true);\n            fieldDictionaryEf = (COSDictionary) fieldDictionaryEf.getDictionaryObject(COSName.PARENT);\n        }\n        objectsToWrite.add(efTree.getCOSObject());\n\n        COSDictionary fieldDictionaryNam =names.getCOSObject();\n        while (fieldDictionaryNam != null) {\n            fieldDictionaryNam.setNeedToBeUpdated(true);\n            fieldDictionaryNam = (COSDictionary) fieldDictionaryNam.getDictionaryObject(COSName.PARENT);\n        }\n        objectsToWrite.add(names.getCOSObject());\n\n        COSDictionary fieldDictionary =document.getDocumentCatalog().getCOSObject();\n        while (fieldDictionary != null) {\n            fieldDictionary.setNeedToBeUpdated(true);\n            fieldDictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.PARENT);\n        }\n        objectsToWrite.add(document.getDocumentCatalog().getCOSObject());\n\n        document.saveIncremental(new FileOutputStream(&quot;src/main/resources/attachment.pdf&quot;),objectsToWrite);\n\n    }\n    catch (Exception e){\n        throw e;\n    }\n}\n</code></pre>\n"},{"tags":["java","api","parameters","get"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1660642371,"post_id":73371784,"comment_id":129574374,"body_markdown":"Take care of java naming conventions. All names should be camelCase not snake_case","body":"Take care of java naming conventions. All names should be camelCase not snake_case"},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1660642521,"post_id":73371784,"comment_id":129574425,"body_markdown":"Yes edited it,i hope it&#39;s fine now","body":"Yes edited it,i hope it&#39;s fine now"},{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660644220,"post_id":73371784,"comment_id":129575046,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1660644964,"post_id":73371784,"comment_id":129575297,"body_markdown":"I am trying to wrap those two classes in one entity class and trying to get only those specific values @Tim","body":"I am trying to wrap those two classes in one entity class and trying to get only those specific values @Tim"},{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660645336,"post_id":73371784,"comment_id":129575407,"body_markdown":"`http://localhost:8080/api/likes/user?likes=xyz&amp;user=abc` these are query parameters so you just need to update the `xyz` and `abc` with the values from the User and PostList class.","body":"<code>http:&#47;&#47;localhost:8080&#47;api&#47;likes&#47;user?likes=xyz&amp;user=abc</code> these are query parameters so you just need to update the <code>xyz</code> and <code>abc</code> with the values from the User and PostList class."},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1660653970,"post_id":73371784,"comment_id":129578559,"body_markdown":"@Tim i have edited the code to give a better idea on the code. So here when I call request call back I&#39;m passing in the two values in the ObjectMapper.writeValue","body":"@Tim i have edited the code to give a better idea on the code. So here when I call request call back I&#39;m passing in the two values in the ObjectMapper.writeValue"},{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660654447,"post_id":73371784,"comment_id":129578759,"body_markdown":"What are you expecting to get back once calling `http://localhost:8080/api/likes/user?likes=xyz&amp;user=abc`?","body":"What are you expecting to get back once calling <code>http:&#47;&#47;localhost:8080&#47;api&#47;likes&#47;user?likes=xyz&amp;user=abc</code>?"},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1660655150,"post_id":73371784,"comment_id":129579011,"body_markdown":"I have edited the code,these are the responses i get from the api","body":"I have edited the code,these are the responses i get from the api"},{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660655579,"post_id":73371784,"comment_id":129579191,"body_markdown":"In essence, the API returns List&lt;Account&gt;. I&#39;m not sure why you would be using the `execute` method, just use the `getForEntity`. Have a look and try this [GET request](https://www.baeldung.com/rest-template#2-retrieving-pojo-instead-of-json). Also note that RestTemplate is deprecated.","body":"In essence, the API returns List&lt;Account&gt;. I&#39;m not sure why you would be using the <code>execute</code> method, just use the <code>getForEntity</code>. Have a look and try this <a href=\"https://www.baeldung.com/rest-template#2-retrieving-pojo-instead-of-json\" rel=\"nofollow noreferrer\">GET request</a>. Also note that RestTemplate is deprecated."},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1660724922,"post_id":73371784,"comment_id":129597699,"body_markdown":"Thanks, and if i wanted to store the response in the entity class directly, i would have to make the response type as the entity class, i could access the value directly from the POJO then? @tim","body":"Thanks, and if i wanted to store the response in the entity class directly, i would have to make the response type as the entity class, i could access the value directly from the POJO then? @tim"}],"answers":[{"tags":[],"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660645548,"creation_date":1660645548,"answer_id":73372489,"question_id":73371784,"body_markdown":"Can have a method to create the url with updated query params. Keeping it simple, can look something like such:\r\n\r\n    private String createUrlForUserLikes(final Account account, final PostList postList) {\r\n        return String.format(&quot;http://localhost:8080/api/likes/user?likes=%s&amp;user=%s&quot;, postList.likes(), account.user());\r\n    }","title":"Java: wrapping one entity class in another entity class","body":"<p>Can have a method to create the url with updated query params. Keeping it simple, can look something like such:</p>\n<pre><code>private String createUrlForUserLikes(final Account account, final PostList postList) {\n    return String.format(&quot;http://localhost:8080/api/likes/user?likes=%s&amp;user=%s&quot;, postList.likes(), account.user());\n}\n</code></pre>\n"}],"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73372489,"answer_count":1,"score":-1,"last_activity_date":1660655111,"creation_date":1660642269,"question_id":73371784,"body_markdown":"i was trying to pass two parameters into the rest template execute method in the request GET body. \r\n\r\nThe API passes two parameter values\r\n```\r\nhttp://localhost:8080/api/likes/user?likes=xyz&amp;user=abc\r\n```\r\n\r\nThere are two entity class\r\n```\r\npublic class Account{\r\npublic String user;\r\npublic String date;\r\npublic List&lt;PostList&gt; post;}\r\n```\r\nAnd PostList entity class\r\n```\r\npublic class PostList{\r\npublic int likes;\r\npublic String comment;\r\npublic int shares;\r\n}\r\n```\r\n\r\nI want to pass user from the Account class and Likes from Post_List class in the request get call\r\n\r\nHow could I wrap that in a class and pass the value?\r\n\r\n```\r\npublic List&lt;Account&gt; getRatingViaApi(......//wrapper class){\r\n    \r\n        RestTemplate restTemplate = new RestTemplate();\r\n\r\n        //String resourceUrl = &quot;http://localhost:8080/movies&quot;;\r\n    \r\n        \r\n        RequestCallback requestCallback = request -&gt; {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n                mapper.writeValue(request.getBody(), \r\n                        //Wrapper class);\r\n\r\n                request.getHeaders()\r\n                 .setAccept(Arrays.asList(\r\n                         MediaType.APPLICATION_OCTET_STREAM, \r\n                         MediaType.ALL));\r\n                };\r\n\r\n        \r\n        ResponseExtractor&lt;List&lt;Account&gt;&gt; responseExtractor = response -&gt; \r\nObjectMapper mapper= new ObjectMapper ();\r\n\r\n                return mapper.readValue(response.getBody(),new TypeReference&lt;List&lt;Account&gt;&gt;(){});\r\n             };\r\n\r\n        restTemplate.execute(resourceUrl, \r\n            HttpMethod.GET, \r\n            requestCallback, \r\n            responseExtractor );    \r\n}\r\n```\r\nIf there exist a post\r\n```\r\n[\r\n {\r\n  &quot;user&quot;:&quot;o1&quot;,\r\n  &quot;date&quot;:&quot;01-03-2022&quot;,\r\n  &quot;post&quot;:[\r\n        {\r\n       &quot;likes&quot;:&quot;1&quot;,\r\n       &quot;comment&quot;:&quot;abdc&quot;,\r\n       &quot;shares&quot;:&quot;5&quot;\r\n       }\r\n    ]\r\n }\r\n]\r\n```\r\nIf there exist no post\r\n```\r\n[\r\n {\r\n  &quot;user&quot;:null\r\n  &quot;date&quot;:null\r\n  &quot;post&quot;:null\r\n }\r\n]\r\n```\r\nI check these return values\r\n","title":"Java: wrapping one entity class in another entity class","body":"<p>i was trying to pass two parameters into the rest template execute method in the request GET body.</p>\n<p>The API passes two parameter values</p>\n<pre><code>http://localhost:8080/api/likes/user?likes=xyz&amp;user=abc\n</code></pre>\n<p>There are two entity class</p>\n<pre><code>public class Account{\npublic String user;\npublic String date;\npublic List&lt;PostList&gt; post;}\n</code></pre>\n<p>And PostList entity class</p>\n<pre><code>public class PostList{\npublic int likes;\npublic String comment;\npublic int shares;\n}\n</code></pre>\n<p>I want to pass user from the Account class and Likes from Post_List class in the request get call</p>\n<p>How could I wrap that in a class and pass the value?</p>\n<pre><code>public List&lt;Account&gt; getRatingViaApi(......//wrapper class){\n    \n        RestTemplate restTemplate = new RestTemplate();\n\n        //String resourceUrl = &quot;http://localhost:8080/movies&quot;;\n    \n        \n        RequestCallback requestCallback = request -&gt; {\n            ObjectMapper mapper = new ObjectMapper();\n                mapper.writeValue(request.getBody(), \n                        //Wrapper class);\n\n                request.getHeaders()\n                 .setAccept(Arrays.asList(\n                         MediaType.APPLICATION_OCTET_STREAM, \n                         MediaType.ALL));\n                };\n\n        \n        ResponseExtractor&lt;List&lt;Account&gt;&gt; responseExtractor = response -&gt; \nObjectMapper mapper= new ObjectMapper ();\n\n                return mapper.readValue(response.getBody(),new TypeReference&lt;List&lt;Account&gt;&gt;(){});\n             };\n\n        restTemplate.execute(resourceUrl, \n            HttpMethod.GET, \n            requestCallback, \n            responseExtractor );    \n}\n</code></pre>\n<p>If there exist a post</p>\n<pre><code>[\n {\n  &quot;user&quot;:&quot;o1&quot;,\n  &quot;date&quot;:&quot;01-03-2022&quot;,\n  &quot;post&quot;:[\n        {\n       &quot;likes&quot;:&quot;1&quot;,\n       &quot;comment&quot;:&quot;abdc&quot;,\n       &quot;shares&quot;:&quot;5&quot;\n       }\n    ]\n }\n]\n</code></pre>\n<p>If there exist no post</p>\n<pre><code>[\n {\n  &quot;user&quot;:null\n  &quot;date&quot;:null\n  &quot;post&quot;:null\n }\n]\n</code></pre>\n<p>I check these return values</p>\n"},{"tags":["java","integer","permutation","combinations"],"comments":[{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":1,"creation_date":1367796872,"post_id":16390194,"comment_id":23492959,"body_markdown":"build yourself some `for` loop and iterate through the numbers","body":"build yourself some <code>for</code> loop and iterate through the numbers"},{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":1,"creation_date":1367797509,"post_id":16390194,"comment_id":23493106,"body_markdown":"could you be more precise about the range please? With range you mean *including interval* like: [0,2][0,3][0,1] ?","body":"could you be more precise about the range please? With range you mean <i>including interval</i> like: [0,2][0,3][0,1] ?"}],"answers":[{"tags":[],"owner":{"account_id":2185760,"reputation":410,"user_id":1934216,"display_name":"Bj&#248;rn Br&#229;then"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1367806771,"creation_date":1367798098,"answer_id":16390353,"question_id":16390194,"body_markdown":"Do something like:\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest x = new Test();\r\n    \t\tx.generatePermutations(2, 3, 1);\r\n    \t}\r\n    \r\n    \tprivate void generatePermutations(int intervalOne, int intervalTwo,\r\n    \t\t\tint intervalThree) {\r\n    \t\tfor (int i = 0; i &lt;= intervalOne; i++) {\r\n    \t\t\tfor (int j = 0; j &lt;= intervalTwo; j++) {\r\n    \t\t\t\tfor (int k = 0; k &lt;= intervalThree; k++) {\r\n    \t\t\t\t\tSystem.out.print(i + &quot;&quot; + j + &quot;&quot; + k + &quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Edit:** I think this will do an array of any number of intervals: (You have to check its correctness though:\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTest x = new Test();\r\n    \t\tint[] intervals = { 1, 1, 1, 1, 1 };\r\n    \t\tx.generatePermutations(intervals);\r\n    \t}\r\n    \r\n    \tprivate void generatePermutations(int[] intervals) {\r\n    \t\tgeneratePermutations(intervals, 0, &quot;&quot;);\r\n    \t}\r\n    \r\n    \tprivate void generatePermutations(int[] intervals, int intpos,\r\n    \t\t\tString lastPerm) {\r\n    \r\n    \t\tif (intpos == intervals.length)\r\n    \t\t\treturn;\r\n    \r\n    \t\tfor (int i = 0; i &lt;= intervals[intpos]; i++) {\r\n    \t\t\tif (intpos == intervals.length - 1) {\r\n    \t\t\t\tSystem.out.print(lastPerm + i + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tgeneratePermutations(intervals, intpos + 1, lastPerm + i);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How do I generate all combinations of integers in java when placement is restricted?","body":"<p>Do something like:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Test x = new Test();\n        x.generatePermutations(2, 3, 1);\n    }\n\n    private void generatePermutations(int intervalOne, int intervalTwo,\n            int intervalThree) {\n        for (int i = 0; i &lt;= intervalOne; i++) {\n            for (int j = 0; j &lt;= intervalTwo; j++) {\n                for (int k = 0; k &lt;= intervalThree; k++) {\n                    System.out.print(i + \"\" + j + \"\" + k + \" \");\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> I think this will do an array of any number of intervals: (You have to check its correctness though:</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        Test x = new Test();\n        int[] intervals = { 1, 1, 1, 1, 1 };\n        x.generatePermutations(intervals);\n    }\n\n    private void generatePermutations(int[] intervals) {\n        generatePermutations(intervals, 0, \"\");\n    }\n\n    private void generatePermutations(int[] intervals, int intpos,\n            String lastPerm) {\n\n        if (intpos == intervals.length)\n            return;\n\n        for (int i = 0; i &lt;= intervals[intpos]; i++) {\n            if (intpos == intervals.length - 1) {\n                System.out.print(lastPerm + i + \" \");\n            }\n            generatePermutations(intervals, intpos + 1, lastPerm + i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17141277,"reputation":134,"user_id":12405221,"display_name":"cha_lar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660654804,"creation_date":1660654804,"answer_id":73374413,"question_id":16390194,"body_markdown":"This solution can be solved with three nested loops as shown in the previous solution. But, how about N numbers? We can also solve that problem without using recursion. Here is a simple solution, where we iterate each possible value one by one. \r\n\r\nWe start from minimum values for each number and continuously increase the rightmost number by one to find new permutations. Just like a counter (e.g., binary or decimal), we increase the rightmost number until it reaches its maximum value. When it hits it maximum value, we reset that number to its minimum value and increase the number of its left. We repeat this process until there is no need to move to the left number.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        generatePermutations(new int[][]{{0,2}, {0,3}, {0,1}});\r\n    }\r\n\r\n    /**\r\n     * Generates all possible permutations for given ranges\r\n     * @param ranges 2D array of ranges (min and max, inclusive) for each position,\r\n     *               e.g., {{0,2}, {0,3}, {0,1}} denotes that first position has a\r\n     *               range between 0 and 2, inclusive.\r\n     */\r\n    private static void generatePermutations(int[][] ranges) {\r\n        //Array that holds a single permutation, e.g., {0,1,1}\r\n        int permutation[] = new int[ranges.length];\r\n\r\n        //Initialize permutation array with the min values for each range\r\n        for (int i = 0; i &lt; permutation.length; i++) {\r\n            permutation[i] = ranges[i][0];\r\n        }\r\n\r\n        //Print all possible permutations\r\n        do {\r\n            System.out.println(Arrays.toString(permutation));\r\n        } while (increaseRightMostPosition(ranges, permutation));\r\n    }\r\n\r\n    /**\r\n     * Increases the right most position of permutation array to find a new permutation.\r\n     * Method does not return the new permutation array, since input array is modified.\r\n     *\r\n     * @param ranges ranges array given in generatePermutations method\r\n     * @param permutation permutation array to be increased\r\n     * @return false when all possible permutations are found\r\n     */\r\n    private static boolean increaseRightMostPosition(int[][] ranges, int[] permutation) {\r\n        /*\r\n            Increases the right-most number of the permutation array. If that number exceeds\r\n            its max value, reset it with its min value, and increase the number left of it.\r\n            Repeat this process, until finding a valid permutation.\r\n         */\r\n        for (int i = permutation.length - 1; i &gt;= 0; i--) {\r\n            permutation[i]++;\r\n            if (permutation[i] &gt; ranges[i][1]) {\r\n                permutation[i] = ranges[i][0];\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```","title":"How do I generate all combinations of integers in java when placement is restricted?","body":"<p>This solution can be solved with three nested loops as shown in the previous solution. But, how about N numbers? We can also solve that problem without using recursion. Here is a simple solution, where we iterate each possible value one by one.</p>\n<p>We start from minimum values for each number and continuously increase the rightmost number by one to find new permutations. Just like a counter (e.g., binary or decimal), we increase the rightmost number until it reaches its maximum value. When it hits it maximum value, we reset that number to its minimum value and increase the number of its left. We repeat this process until there is no need to move to the left number.</p>\n<pre><code>import java.util.Arrays;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        generatePermutations(new int[][]{{0,2}, {0,3}, {0,1}});\n    }\n\n    /**\n     * Generates all possible permutations for given ranges\n     * @param ranges 2D array of ranges (min and max, inclusive) for each position,\n     *               e.g., {{0,2}, {0,3}, {0,1}} denotes that first position has a\n     *               range between 0 and 2, inclusive.\n     */\n    private static void generatePermutations(int[][] ranges) {\n        //Array that holds a single permutation, e.g., {0,1,1}\n        int permutation[] = new int[ranges.length];\n\n        //Initialize permutation array with the min values for each range\n        for (int i = 0; i &lt; permutation.length; i++) {\n            permutation[i] = ranges[i][0];\n        }\n\n        //Print all possible permutations\n        do {\n            System.out.println(Arrays.toString(permutation));\n        } while (increaseRightMostPosition(ranges, permutation));\n    }\n\n    /**\n     * Increases the right most position of permutation array to find a new permutation.\n     * Method does not return the new permutation array, since input array is modified.\n     *\n     * @param ranges ranges array given in generatePermutations method\n     * @param permutation permutation array to be increased\n     * @return false when all possible permutations are found\n     */\n    private static boolean increaseRightMostPosition(int[][] ranges, int[] permutation) {\n        /*\n            Increases the right-most number of the permutation array. If that number exceeds\n            its max value, reset it with its min value, and increase the number left of it.\n            Repeat this process, until finding a valid permutation.\n         */\n        for (int i = permutation.length - 1; i &gt;= 0; i--) {\n            permutation[i]++;\n            if (permutation[i] &gt; ranges[i][1]) {\n                permutation[i] = ranges[i][0];\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2728669,"reputation":11,"user_id":2352983,"display_name":"user2352983"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2955,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":16390353,"answer_count":2,"score":0,"last_activity_date":1660654804,"creation_date":1367796657,"question_id":16390194,"body_markdown":"I need to generate permutations over a set of integers.\r\n\r\nHowever the placement of the numbers matter.\r\n\r\nIn position 0, the range is from 0-2. In position 1, the range is from 0-3. In position 2, the range is from 0-1. \r\n\r\nSo the answer would be:\r\n\r\n000\r\n001\r\n010\r\n011\r\n020\r\n021\r\n030\r\n031\r\n\r\n100\r\n101\r\n110\r\n111\r\n120\r\n121\r\n130\r\n131\r\n\r\n200\r\n201\r\n210\r\n211\r\n220\r\n221\r\n230\r\n231","title":"How do I generate all combinations of integers in java when placement is restricted?","body":"<p>I need to generate permutations over a set of integers.</p>\n\n<p>However the placement of the numbers matter.</p>\n\n<p>In position 0, the range is from 0-2. In position 1, the range is from 0-3. In position 2, the range is from 0-1. </p>\n\n<p>So the answer would be:</p>\n\n<p>000\n001\n010\n011\n020\n021\n030\n031</p>\n\n<p>100\n101\n110\n111\n120\n121\n130\n131</p>\n\n<p>200\n201\n210\n211\n220\n221\n230\n231</p>\n"},{"tags":["java","java-9","java-platform-module-system"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660654799,"creation_date":1660654329,"answer_id":73374311,"question_id":73373397,"body_markdown":"&gt; How does requires transitive work in Java?\r\n\r\nIf module `A` transitively requires module `B`, then any module which reads module `A` also reads module `B`. In other words, the following:\r\n\r\n\r\n```lang-java\r\nmodule A {\r\n  requires transitive B;\r\n}\r\n\r\nmodule B {}\r\n\r\nmodule C {\r\n  requires A;\r\n}\r\n```\r\n\r\nIs as if module `C` defined a `requires` directive for both `A` and `B`. You use `requires transitive` when a module has types as part of its public API that come from another module.\r\n\r\n---\r\n\r\n&gt; Can `com.demo.invoice` access `com.demo.product.service`?\r\n\r\nNo, the `com.demo.invoice` module cannot access types in the `com.demo.product.service` package, even though said module does in fact read the `com.demo.product` module. This is because:\r\n\r\n&gt; ```lang-java\r\n&gt; exports com.demo.product.service to com.demo.order;\r\n&gt; ```\r\n\r\nIs a **qualified** `exports` directive. Other than the `com.demo.product` module itself, only the `com.demo.order` module can access the types in the `com.demo.product.service` package. If you changed the directive to either:\r\n\r\n```lang-java\r\n // unqualified exports\r\nexports com.demo.product.service;\r\n```\r\n\r\nOr:\r\n\r\n```lang-java\r\n// include &#39;com.demo.invoice&#39; in qualified exports\r\nexports com.demo.product.service to com.demo.order, com.demo.invoice;\r\n```\r\n\r\nThen the answer to this question would change to &quot;yes&quot;.\r\n\r\n","title":"How does requires transitive work in Java?","body":"<blockquote>\n<p>How does requires transitive work in Java?</p>\n</blockquote>\n<p>If module <code>A</code> transitively requires module <code>B</code>, then any module which reads module <code>A</code> also reads module <code>B</code>. In other words, the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module A {\n  requires transitive B;\n}\n\nmodule B {}\n\nmodule C {\n  requires A;\n}\n</code></pre>\n<p>Is as if module <code>C</code> defined a <code>requires</code> directive for both <code>A</code> and <code>B</code>. You use <code>requires transitive</code> when a module has types as part of its public API that come from another module.</p>\n<hr />\n<blockquote>\n<p>Can <code>com.demo.invoice</code> access <code>com.demo.product.service</code>?</p>\n</blockquote>\n<p>No, the <code>com.demo.invoice</code> module cannot access types in the <code>com.demo.product.service</code> package, even though said module does in fact read the <code>com.demo.product</code> module. This is because:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>exports com.demo.product.service to com.demo.order;\n</code></pre>\n</blockquote>\n<p>Is a <strong>qualified</strong> <code>exports</code> directive. Other than the <code>com.demo.product</code> module itself, only the <code>com.demo.order</code> module can access the types in the <code>com.demo.product.service</code> package. If you changed the directive to either:</p>\n<pre class=\"lang-java prettyprint-override\"><code> // unqualified exports\nexports com.demo.product.service;\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// include 'com.demo.invoice' in qualified exports\nexports com.demo.product.service to com.demo.order, com.demo.invoice;\n</code></pre>\n<p>Then the answer to this question would change to &quot;yes&quot;.</p>\n"}],"owner":{"account_id":20375650,"reputation":13,"user_id":18317121,"display_name":"Tanisha Sethi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73374311,"answer_count":1,"score":1,"last_activity_date":1660654799,"creation_date":1660649951,"question_id":73373397,"body_markdown":"Can `com.demo.invoice` access `com.demo.product.service`?\r\n\r\n```\r\nmodule com.demo.product {\r\n    exports com.demo.product.service to com.demo.order;\r\n}\r\nmodule com.demo.order {\r\n    exports com.demo.order.orderservice;\r\n    requires transitive com.demo.product;\r\n}\r\nmodule com.demo.invoice {\r\n    requires com.demo.order;\r\n}\r\n```","title":"How does requires transitive work in Java?","body":"<p>Can <code>com.demo.invoice</code> access <code>com.demo.product.service</code>?</p>\n<pre><code>module com.demo.product {\n    exports com.demo.product.service to com.demo.order;\n}\nmodule com.demo.order {\n    exports com.demo.order.orderservice;\n    requires transitive com.demo.product;\n}\nmodule com.demo.invoice {\n    requires com.demo.order;\n}\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":13910328,"reputation":1402,"user_id":10043695,"display_name":"3nws"},"score":0,"creation_date":1660652600,"post_id":73373627,"comment_id":129577974,"body_markdown":"Interactions need to respond within 3 seconds explicitly. [This](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/callbacks/IReplyCallback.html#reply(net.dv8tion.jda.api.entities.Message)) may be what you are looking for.","body":"Interactions need to respond within 3 seconds explicitly. <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/callbacks/IReplyCallback.html#reply(net.dv8tion.jda.api.entities.Message)\" rel=\"nofollow noreferrer\">This</a> may be what you are looking for."}],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660654564,"creation_date":1660654564,"answer_id":73374365,"question_id":73373627,"body_markdown":"Interactions like this require that you *acknowledge* them. Otherwise, Discord doesn&#39;t know you handled it successfully.\r\n\r\nTo acknowledge a slash command interaction, you can use [reply](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/callbacks/IReplyCallback.html#reply(java.lang.String)) or [deferReply](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/callbacks/IReplyCallback.html#deferReply()) on the event.\r\n\r\nYou should always reply using these methods instead of sending messages to the channel. Slash commands can be used even when your bot doesn&#39;t have permissions to send messages in the channel, they can still reply through these methods though.\r\n\r\nI would highly recommend reading the [interactions guide](https://jda.wiki/using-jda/interactions/) on the JDA wiki.\r\n\r\nLong story short, you have to replace your `event.getChannel().sendMessageEmbeds(...)` with `event.replyEmbeds(...)`. To add buttons, you can use `addActionRow` on there the same way.","title":"&quot;The application did not respond&quot; after it sent the message JDA","body":"<p>Interactions like this require that you <em>acknowledge</em> them. Otherwise, Discord doesn't know you handled it successfully.</p>\n<p>To acknowledge a slash command interaction, you can use <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/callbacks/IReplyCallback.html#reply(java.lang.String)\" rel=\"nofollow noreferrer\">reply</a> or <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/callbacks/IReplyCallback.html#deferReply()\" rel=\"nofollow noreferrer\">deferReply</a> on the event.</p>\n<p>You should always reply using these methods instead of sending messages to the channel. Slash commands can be used even when your bot doesn't have permissions to send messages in the channel, they can still reply through these methods though.</p>\n<p>I would highly recommend reading the <a href=\"https://jda.wiki/using-jda/interactions/\" rel=\"nofollow noreferrer\">interactions guide</a> on the JDA wiki.</p>\n<p>Long story short, you have to replace your <code>event.getChannel().sendMessageEmbeds(...)</code> with <code>event.replyEmbeds(...)</code>. To add buttons, you can use <code>addActionRow</code> on there the same way.</p>\n"}],"owner":{"account_id":26076720,"reputation":1,"user_id":19775571,"display_name":"LazyBlu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660654564,"creation_date":1660651063,"question_id":73373627,"body_markdown":"So im trying to make a command that just sends an embed. It works but it shows the &quot;The application did not respond&quot; thing after using the Command and after it has already sent the embed!\r\n\r\n\r\nThis is how it looks in Discord\r\n\r\n![1]\r\n\r\n\r\n    @Override\r\n    public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\r\n        String roles = String.valueOf(event.getMember().getRoles());\r\n            if (event.getName().equals(&quot;whosthatpokemon&quot;)) {\r\n                Color relaxo = new Color(44, 106, 124);\r\n                EmbedBuilder embed = new EmbedBuilder();\r\n                embed.setColor(relaxo);\r\n                embed.setTitle(&quot;Who&#39;s that Pokemon?&quot;);\r\n                embed.setDescription(&quot;Who is it?&quot;);\r\n                embed.setImage(&quot;http://cdn.poll-maker.com/7-375248/snorlax.png?sz=1200-000000100053&quot;);\r\n                event.getChannel().sendMessageEmbeds(embed.build()).setActionRow(sendButtons()).queue();\r\n            }\r\n        }\r\n    private static java.util.List&lt;Button&gt; sendButtons() {\r\n\r\n        List&lt;Button&gt; buttons = new ArrayList&lt;&gt;();\r\n        buttons.add(Button.danger(&quot;Snorlax&quot;, &quot;Snorlax&quot;));\r\n        buttons.add(Button.success(&quot;Pickachu&quot;, &quot;Pickachu&quot;));\r\n        buttons.add(Button.primary(&quot;Bulbasaur&quot;, &quot;Bulbasaur&quot;));\r\n\r\n        return buttons;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VsckG.png","title":"&quot;The application did not respond&quot; after it sent the message JDA","body":"<p>So im trying to make a command that just sends an embed. It works but it shows the &quot;The application did not respond&quot; thing after using the Command and after it has already sent the embed!</p>\n<p>This is how it looks in Discord</p>\n<p><img src=\"https://i.stack.imgur.com/VsckG.png\" alt=\"1\" /></p>\n<pre><code>@Override\npublic void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\n    String roles = String.valueOf(event.getMember().getRoles());\n        if (event.getName().equals(&quot;whosthatpokemon&quot;)) {\n            Color relaxo = new Color(44, 106, 124);\n            EmbedBuilder embed = new EmbedBuilder();\n            embed.setColor(relaxo);\n            embed.setTitle(&quot;Who's that Pokemon?&quot;);\n            embed.setDescription(&quot;Who is it?&quot;);\n            embed.setImage(&quot;http://cdn.poll-maker.com/7-375248/snorlax.png?sz=1200-000000100053&quot;);\n            event.getChannel().sendMessageEmbeds(embed.build()).setActionRow(sendButtons()).queue();\n        }\n    }\nprivate static java.util.List&lt;Button&gt; sendButtons() {\n\n    List&lt;Button&gt; buttons = new ArrayList&lt;&gt;();\n    buttons.add(Button.danger(&quot;Snorlax&quot;, &quot;Snorlax&quot;));\n    buttons.add(Button.success(&quot;Pickachu&quot;, &quot;Pickachu&quot;));\n    buttons.add(Button.primary(&quot;Bulbasaur&quot;, &quot;Bulbasaur&quot;));\n\n    return buttons;\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka","confluent-platform"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620339619,"creation_date":1620339619,"answer_id":67426649,"question_id":67423796,"body_markdown":"Typically, you would use JSON for that situation, but the objects `User` etc, must be &quot;Jackson-friendly&quot; (no-arg CTOR etc). Another alternative is Apache Avro and the confluent (De)Serializers.","title":"Strategy to choose when doing Serialization and Deserialization using spring-kafka library","body":"<p>Typically, you would use JSON for that situation, but the objects <code>User</code> etc, must be &quot;Jackson-friendly&quot; (no-arg CTOR etc). Another alternative is Apache Avro and the confluent (De)Serializers.</p>\n"}],"owner":{"account_id":1412875,"reputation":135,"user_id":1339147,"accept_rate":0,"display_name":"nihar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67426649,"answer_count":1,"score":0,"last_activity_date":1660654555,"creation_date":1620324697,"question_id":67423796,"body_markdown":"I need to `Serialize` or `Deserialize` **any** type of **Java Object** may be `Integer/ String` or `&lt;T&gt;` or `User` or `Account` in my project. There might be **more than 1 type** I am not sure which one to use while configuring a `Kafka` `Producer` and `Consumer`. \r\n\r\nThere are `JsonSerializer` and `JsonDeserializer` and `StringSerializer/DESer` and many more types. \r\n\r\nI have read https://docs.spring.io/spring-kafka/reference/html/#string-serde\r\n\r\nSo how do i arrive at a conclusion on which one to use ? Thanks.","title":"Strategy to choose when doing Serialization and Deserialization using spring-kafka library","body":"<p>I need to <code>Serialize</code> or <code>Deserialize</code> <strong>any</strong> type of <strong>Java Object</strong> may be <code>Integer/ String</code> or <code>&lt;T&gt;</code> or <code>User</code> or <code>Account</code> in my project. There might be <strong>more than 1 type</strong> I am not sure which one to use while configuring a <code>Kafka</code> <code>Producer</code> and <code>Consumer</code>.</p>\n<p>There are <code>JsonSerializer</code> and <code>JsonDeserializer</code> and <code>StringSerializer/DESer</code> and many more types.</p>\n<p>I have read <a href=\"https://docs.spring.io/spring-kafka/reference/html/#string-serde\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#string-serde</a></p>\n<p>So how do i arrive at a conclusion on which one to use ? Thanks.</p>\n"},{"tags":["java","excel","report"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":6,"creation_date":1660642750,"post_id":73371844,"comment_id":129574512,"body_markdown":"You can look at some Java libs for interacting with Excel. One of them is Apache POI: https://poi.apache.org/","body":"You can look at some Java libs for interacting with Excel. One of them is Apache POI: <a href=\"https://poi.apache.org/\" rel=\"nofollow noreferrer\">poi.apache.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":24451112,"reputation":54,"user_id":18373353,"display_name":"Markus Wanx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660654121,"creation_date":1660654121,"answer_id":73374274,"question_id":73371844,"body_markdown":"I think that **python** can do the job in this case if you would like to decide for its.\r\n\r\n*Step 1. &quot;Get template excel data&quot;*\r\n\r\nYou can use **read_excel** from pandas library.\r\nhttps://pandas.pydata.org/docs/reference/api/pandas.read_excel.html\r\nI.e.: \r\n\r\n    import pandas as pd\r\n    first_template = pd.read_excel(&#39;tmp.xlsx&#39;, sheet_name=0) \r\n\r\n\r\n*Step 2. &quot;Get csv data&quot;*\r\n\r\nYou can use **read_csv** from pandas library.\r\nI.e.\r\n\r\n    import pandas as pd\r\n    csv = pd.read_csv(&#39;source_file.csv&#39;)\r\n\r\n*Step 3a. &quot;Replace current data at template with new data from csv.&quot;*\r\n\r\nYou can use various pandas functions on csv variable to get the data you need and assign it to variables like: first_indicator, current_data, acceptance_status (it is hard to me to give you an example, because I do not know how your csv file looks like).\r\n\r\n*Step 3b. &quot;Replace current data at template with new data from csv.&quot;*\r\n\r\nYou can insert variables values from step 3b into dataframe from step1 using &#39;**iloc**&#39; and &#39;**loc**&#39; functions in pandas library.\r\n\r\n*Step 4. &quot;Write data as tables&quot;*\r\n\r\nYou can create tables using **xlsxwriter** library in Python.\r\nHere is an example of creating Excel table object.\r\nhttps://xlsxwriter.readthedocs.io/working_with_tables.html\r\n\r\n*Step 5. &quot;Save to xlsx&quot;*\r\n\r\nYou can do it with **pandas** using engine **xlsxwriter** or directly using xlsxwriter library.\r\n\r\n\r\nI hope that those answer will be useful :)\r\nIf you have any questions - feel free to ask.\r\n\r\n\r\n\r\n\r\n\r\n***Extra tip about ranges styling***\r\n\r\nIf you decide to save your data as range (not Excel table object) here is some sample of code that can help you to format columns properly.\r\n\r\n\r\n    with pd.ExcelWriter(file_path, engine=&#39;xlsxwriter&#39;) as writer:\r\n                    \r\n                    # reports is a variable that is a dictionary of dataframes\r\n    \t\t\t\tfor report in reports.items():\r\n    \t\t\t\t\treport[1].to_excel(writer, sheet_name = report[0], index=True)\r\n    \t\t\t\t\tworkbook = writer.book\r\n    \t\t\t\t\tworksheet = writer.sheets[report[0]]\r\n                        \r\n                        # applying some custom styles for columns\r\n    \t\t\t\t\tfor a, b in [(1, 1), (3,3), (8,13), (15, 16), (21,25)]:\r\n    \t\t\t\t\t\tworksheet.set_column(a, b, 26, workbook.add_format({&#39;num_format&#39;: &#39;#,##0.00&#39;, &#39;align&#39;:&#39;center&#39;, &#39;text_wrap&#39;: &#39;True&#39;}))\r\n    \t\t\t\t\tfor a, b in [(4,5), (7,7), (17,20)]:\r\n    \t\t\t\t\t\tworksheet.set_column(a, b, 26, workbook.add_format({&#39;num_format&#39;: &#39;#,##0.00%&#39;, &#39;align&#39;:&#39;center&#39;, &#39;text_wrap&#39;: &#39;True&#39;}))\r\n    \t\t\t\t\tfor a in (0, 2, 6, 14):\r\n    \t\t\t\t\t\tworksheet.set_column(a, a, 26, workbook.add_format({&#39;num_format&#39;: &#39;#,##0&#39;, &#39;align&#39;:&#39;center&#39;, &#39;text_wrap&#39;: &#39;True&#39;}))\r\n    \t\t\t\t\theader_format = workbook.add_format({&#39;bold&#39;: True, &#39;text_wrap&#39;: True, &#39;valign&#39;: &#39;center&#39;, &#39;fg_color&#39;: &#39;#D7E4BC&#39;, &#39;border&#39;: 1, &#39;align&#39;:&#39;vcenter&#39;})\r\n    \t\t\t\t\tfor col_num, value in enumerate(report[1].columns.values):\r\n    \t\t\t\t\t\tworksheet.write(0, col_num + 1, value, header_format)\r\n\r\n                        # and at least freezing panes\r\n    \t\t\t\t\tworksheet.freeze_panes(1, 1)\r\n\r\n","title":"How to work with excel programatically from other language than VBA?","body":"<p>I think that <strong>python</strong> can do the job in this case if you would like to decide for its.</p>\n<p><em>Step 1. &quot;Get template excel data&quot;</em></p>\n<p>You can use <strong>read_excel</strong> from pandas library.\n<a href=\"https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/docs/reference/api/pandas.read_excel.html</a>\nI.e.:</p>\n<pre><code>import pandas as pd\nfirst_template = pd.read_excel('tmp.xlsx', sheet_name=0) \n</code></pre>\n<p><em>Step 2. &quot;Get csv data&quot;</em></p>\n<p>You can use <strong>read_csv</strong> from pandas library.\nI.e.</p>\n<pre><code>import pandas as pd\ncsv = pd.read_csv('source_file.csv')\n</code></pre>\n<p><em>Step 3a. &quot;Replace current data at template with new data from csv.&quot;</em></p>\n<p>You can use various pandas functions on csv variable to get the data you need and assign it to variables like: first_indicator, current_data, acceptance_status (it is hard to me to give you an example, because I do not know how your csv file looks like).</p>\n<p><em>Step 3b. &quot;Replace current data at template with new data from csv.&quot;</em></p>\n<p>You can insert variables values from step 3b into dataframe from step1 using '<strong>iloc</strong>' and '<strong>loc</strong>' functions in pandas library.</p>\n<p><em>Step 4. &quot;Write data as tables&quot;</em></p>\n<p>You can create tables using <strong>xlsxwriter</strong> library in Python.\nHere is an example of creating Excel table object.\n<a href=\"https://xlsxwriter.readthedocs.io/working_with_tables.html\" rel=\"nofollow noreferrer\">https://xlsxwriter.readthedocs.io/working_with_tables.html</a></p>\n<p><em>Step 5. &quot;Save to xlsx&quot;</em></p>\n<p>You can do it with <strong>pandas</strong> using engine <strong>xlsxwriter</strong> or directly using xlsxwriter library.</p>\n<p>I hope that those answer will be useful :)\nIf you have any questions - feel free to ask.</p>\n<p><em><strong>Extra tip about ranges styling</strong></em></p>\n<p>If you decide to save your data as range (not Excel table object) here is some sample of code that can help you to format columns properly.</p>\n<pre><code>with pd.ExcelWriter(file_path, engine='xlsxwriter') as writer:\n                \n                # reports is a variable that is a dictionary of dataframes\n                for report in reports.items():\n                    report[1].to_excel(writer, sheet_name = report[0], index=True)\n                    workbook = writer.book\n                    worksheet = writer.sheets[report[0]]\n                    \n                    # applying some custom styles for columns\n                    for a, b in [(1, 1), (3,3), (8,13), (15, 16), (21,25)]:\n                        worksheet.set_column(a, b, 26, workbook.add_format({'num_format': '#,##0.00', 'align':'center', 'text_wrap': 'True'}))\n                    for a, b in [(4,5), (7,7), (17,20)]:\n                        worksheet.set_column(a, b, 26, workbook.add_format({'num_format': '#,##0.00%', 'align':'center', 'text_wrap': 'True'}))\n                    for a in (0, 2, 6, 14):\n                        worksheet.set_column(a, a, 26, workbook.add_format({'num_format': '#,##0', 'align':'center', 'text_wrap': 'True'}))\n                    header_format = workbook.add_format({'bold': True, 'text_wrap': True, 'valign': 'center', 'fg_color': '#D7E4BC', 'border': 1, 'align':'vcenter'})\n                    for col_num, value in enumerate(report[1].columns.values):\n                        worksheet.write(0, col_num + 1, value, header_format)\n\n                    # and at least freezing panes\n                    worksheet.freeze_panes(1, 1)\n</code></pre>\n"}],"owner":{"account_id":9059708,"reputation":187,"user_id":6746589,"display_name":"Jacek Antek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1660654121,"creation_date":1660642528,"question_id":73371844,"body_markdown":"i want to programatically interact with Excel, i am interested mainly in java languag (but can be done in others!)\r\n\r\n1) open template workbook\r\n2) get data from csv files and propagate into different worksheets (replace curret set of data or remove and create new sheets)\r\n3) write data as tables\r\n4) save export\r\n\r\nMaybe somebody had the similar issue to solve?\r\n\r\nthank you!\r\n\r\nBest,\r\nJacek","title":"How to work with excel programatically from other language than VBA?","body":"<p>i want to programatically interact with Excel, i am interested mainly in java languag (but can be done in others!)</p>\n<ol>\n<li>open template workbook</li>\n<li>get data from csv files and propagate into different worksheets (replace curret set of data or remove and create new sheets)</li>\n<li>write data as tables</li>\n<li>save export</li>\n</ol>\n<p>Maybe somebody had the similar issue to solve?</p>\n<p>thank you!</p>\n<p>Best,\nJacek</p>\n"},{"tags":["java","hashmap","hashtable","multimap"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660650921,"post_id":73373508,"comment_id":129577332,"body_markdown":"You are always adding to your `pair` in the loop and never resetting it.","body":"You are always adding to your <code>pair</code> in the loop and never resetting it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660654046,"creation_date":1660650975,"answer_id":73373615,"question_id":73373508,"body_markdown":"If I understood the difference between the desired result and the result you&#39;re getting correctly, you need to reinstantiate `pair` list at every step of iteration over the result set instead of using the same list as the value of each entry. \r\n\r\nFor that, you need to move the creation of the list into the body of the loop.\r\n```\r\nwhile (rs.next()) {\r\n    List&lt;String&gt; pair = new ArrayList&lt;String&gt;();\r\n    // the rest code\r\n}\r\n```\r\n\r\nThe fix suggested above would be sufficient if the *keys* retrieved by invoking `rs.getString(&quot;gid&quot;)` are guaranteed to be **unique**.\r\n________________________________________________________________\r\n\r\nTo caver the case make when the same `groupId` can appear in the result set multiple times, you can use either `putIfAbsent()` or Java 8 method [`computeIfAbsent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) in conjuction with [`Collections.addAll()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#addAll(java.util.Collection,T...)) to update the map in a fluent and concise way.\r\n\r\n*`computeIfAbsent()`:*\r\n```\r\nwhile (rs.next()) {\r\n    List&lt;String&gt; pair = map.computeIfAbsent(rs.getString(&quot;gid&quot;), k -&gt; new ArrayList&lt;&gt;());\r\n\r\n    Collections.addAll(pair, rs.getString(&quot;eType&quot;),rs.getString(&quot;Orid&quot;));\r\n}\r\n```\r\n\r\n\r\n\r\n*`putIfAbsent()`:*\r\n```\r\nwhile (rs.next()) {\r\n    String groupId = rs.getString(&quot;gid&quot;);\r\n    map.putIfAbsent(groupId , new ArrayList&lt;&gt;());\r\n\r\n    List&lt;String&gt; pair = map.get(groupId);\r\n    Collections.addAll(pair, rs.getString(&quot;eType&quot;),rs.getString(&quot;Orid&quot;));\r\n}\r\n```","title":"How to Store Different Values in with every loop in MultiMap in Java?","body":"<p>If I understood the difference between the desired result and the result you're getting correctly, you need to reinstantiate <code>pair</code> list at every step of iteration over the result set instead of using the same list as the value of each entry.</p>\n<p>For that, you need to move the creation of the list into the body of the loop.</p>\n<pre><code>while (rs.next()) {\n    List&lt;String&gt; pair = new ArrayList&lt;String&gt;();\n    // the rest code\n}\n</code></pre>\n<p>The fix suggested above would be sufficient if the <em>keys</em> retrieved by invoking <code>rs.getString(&quot;gid&quot;)</code> are guaranteed to be <strong>unique</strong>.</p>\n<hr />\n<p>To caver the case make when the same <code>groupId</code> can appear in the result set multiple times, you can use either <code>putIfAbsent()</code> or Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>computeIfAbsent()</code></a> in conjuction with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#addAll(java.util.Collection,T...)\" rel=\"nofollow noreferrer\"><code>Collections.addAll()</code></a> to update the map in a fluent and concise way.</p>\n<p><em><code>computeIfAbsent()</code>:</em></p>\n<pre><code>while (rs.next()) {\n    List&lt;String&gt; pair = map.computeIfAbsent(rs.getString(&quot;gid&quot;), k -&gt; new ArrayList&lt;&gt;());\n\n    Collections.addAll(pair, rs.getString(&quot;eType&quot;),rs.getString(&quot;Orid&quot;));\n}\n</code></pre>\n<p><em><code>putIfAbsent()</code>:</em></p>\n<pre><code>while (rs.next()) {\n    String groupId = rs.getString(&quot;gid&quot;);\n    map.putIfAbsent(groupId , new ArrayList&lt;&gt;());\n\n    List&lt;String&gt; pair = map.get(groupId);\n    Collections.addAll(pair, rs.getString(&quot;eType&quot;),rs.getString(&quot;Orid&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4465319"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660652868,"creation_date":1660651493,"answer_id":73373726,"question_id":73373508,"body_markdown":"You are adding your pair/list to your map collection on each iteration. What you want instead is to add your new values to your existing pair/list and only add it to your hashmap if it doesn&#39;t exist yet:\r\n```java\r\nString gid, etype, orid = null;\r\nHashMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\nwhile (rs.next()) {\r\n\tgid = rs.getString(&quot;gid&quot;);\r\n\tetype = rs.getString(&quot;eType&quot;);\r\n\toid = rs.getString(&quot;Orid&quot;);\r\n\t\r\n\tList&lt;String&gt; groupPairs = map.get(gid);\r\n\t// check if the pair list for this group got initialized already\r\n\tif(groupPairs == null) {\r\n\t    // pair list for this group doesn&#39;t exist yet, initializing and adding it to the HashMap\r\n\t    map.put(gid, new ArrayList&lt;String&gt;());\r\n\t\tgroupPairs = map.get(groupid);\r\n\t}\r\n\t\r\n\t// add the values of the current iteration to the corresponding pair list (within your HashMap)\r\n\tgroupPairs.add(entitytype);\r\n\tgroupPairs.add(orderid);\r\n}\r\n```","title":"How to Store Different Values in with every loop in MultiMap in Java?","body":"<p>You are adding your pair/list to your map collection on each iteration. What you want instead is to add your new values to your existing pair/list and only add it to your hashmap if it doesn't exist yet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String gid, etype, orid = null;\nHashMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\nwhile (rs.next()) {\n    gid = rs.getString(&quot;gid&quot;);\n    etype = rs.getString(&quot;eType&quot;);\n    oid = rs.getString(&quot;Orid&quot;);\n    \n    List&lt;String&gt; groupPairs = map.get(gid);\n    // check if the pair list for this group got initialized already\n    if(groupPairs == null) {\n        // pair list for this group doesn't exist yet, initializing and adding it to the HashMap\n        map.put(gid, new ArrayList&lt;String&gt;());\n        groupPairs = map.get(groupid);\n    }\n    \n    // add the values of the current iteration to the corresponding pair list (within your HashMap)\n    groupPairs.add(entitytype);\n    groupPairs.add(orderid);\n}\n</code></pre>\n"}],"owner":{"account_id":21976362,"reputation":19,"user_id":16252121,"display_name":"Rahul Maurya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1660654046,"creation_date":1660650530,"question_id":73373508,"body_markdown":"I want to store the values in following way:\r\n\r\nWith every loop we are fetching different values for key, value1 &amp; value2. Like this,  MultiMap-&gt; (key, value1, value2)\r\n\r\nI used list for pairing value1 &amp; value2 but with every loop values are getting added in list instead of getting in pairs. PSB code:\r\n\r\n\r\n        String gid, etype, orid = null;\r\n        HashMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        List&lt;String&gt; pair = new ArrayList&lt;String&gt;();\r\n\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tgid = rs.getString(&quot;gid&quot;);\r\n\t\t\t\tetype = rs.getString(&quot;eType&quot;);\r\n\t\t\t\toid=rs.getString(&quot;Orid&quot;);\r\n\t\t\t\tpair.add(entitytype);\r\n\t\t\t\tpair.add(orderid);\r\n\t\t\t\tmap.put(groupid, pair);\r\n\t\t\t}\r\n\r\ni want output like:\r\n\r\n&gt; key1, value1, value2 //loop1\r\n&gt; \r\n&gt; key2, value1, value2 // loop2 \r\n\r\ninstead i am getting:\r\n\r\n&gt; key1, value1, value2 //loop1\r\n&gt; \r\n&gt; key1, value1, value2, value1, value2 //loop2","title":"How to Store Different Values in with every loop in MultiMap in Java?","body":"<p>I want to store the values in following way:</p>\n<p>With every loop we are fetching different values for key, value1 &amp; value2. Like this,  MultiMap-&gt; (key, value1, value2)</p>\n<p>I used list for pairing value1 &amp; value2 but with every loop values are getting added in list instead of getting in pairs. PSB code:</p>\n<pre><code>    String gid, etype, orid = null;\n    HashMap&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n    List&lt;String&gt; pair = new ArrayList&lt;String&gt;();\n\n        while (rs.next()) {\n            gid = rs.getString(&quot;gid&quot;);\n            etype = rs.getString(&quot;eType&quot;);\n            oid=rs.getString(&quot;Orid&quot;);\n            pair.add(entitytype);\n            pair.add(orderid);\n            map.put(groupid, pair);\n        }\n</code></pre>\n<p>i want output like:</p>\n<blockquote>\n<p>key1, value1, value2 //loop1</p>\n<p>key2, value1, value2 // loop2</p>\n</blockquote>\n<p>instead i am getting:</p>\n<blockquote>\n<p>key1, value1, value2 //loop1</p>\n<p>key1, value1, value2, value1, value2 //loop2</p>\n</blockquote>\n"},{"tags":["java","spring-boot","google-cloud-scheduler","spring-cloud-gcp"],"answers":[{"tags":[],"owner":{"account_id":524771,"reputation":1646,"user_id":2310976,"accept_rate":80,"display_name":"chiranjeevigk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660654000,"creation_date":1660654000,"answer_id":73374240,"question_id":73351331,"body_markdown":"I contacted GCP Support on this issue.\r\nLater we found its because of the wrong project-id i was using","title":"What all the PERMISSION required to call GCP Cloud Scheduler Create Job","body":"<p>I contacted GCP Support on this issue.\nLater we found its because of the wrong project-id i was using</p>\n"}],"owner":{"account_id":524771,"reputation":1646,"user_id":2310976,"accept_rate":80,"display_name":"chiranjeevigk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73374240,"answer_count":1,"score":0,"last_activity_date":1660654000,"creation_date":1660477213,"question_id":73351331,"body_markdown":"I need to create a Job from the Java Code(Spring Boot) \r\n\r\nI am using java client library for the Cloud Scheduler, since we dont have Spring boot Integration.\r\n\r\n``` \r\nCloudSchedulerClient cloudSchedulerClient = CloudSchedulerClient.create(cloudSchedulerSettings);\r\nJobName name = JobName.of(&quot;projectname&quot;, &quot;location&quot;, &quot;Test&quot;);\r\nSystem.out.println(name.getJob());\r\n```\r\n\r\nabove code gives me the job, which i have created using GCP console.\r\n\r\nBut i also needs to create Job from Code, did it as below\r\n```\r\nJob build = Job.newBuilder().setName(&quot;Chiru&quot;).setSchedule(&quot;0 1 * * 0&quot;)\r\n\t\t\t\t.setDescription(&quot;From Code&quot;)\r\n\t\t\t\t.setHttpTarget(HttpTarget.newBuilder()\r\n\t\t\t\t\t\t.setUri(&quot;http://google.com&quot;).build()).build();\r\n\t\tLocationName parent = LocationName.of(&quot;project&quot;, &quot;location&quot;);\r\n\t\tJob response = cloudSchedulerClient.createJob(parent.toString(), build);\r\n```\r\n\r\nThis gives me error saying permission denied on the resource\r\n\r\n```\r\nException in thread &quot;main&quot; com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Permission denied on resource project &lt;projectname&gt;.\r\n````\r\n\r\nI am using Service account for the Authentication\r\n\r\n```\r\nServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(new FileInputStream(&quot;key.json&quot;));\r\n\t\tCloudSchedulerSettings cloudSchedulerSettings =\r\n\t\t\t\tCloudSchedulerSettings.newBuilder()\r\n\t\t\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n\t\t\t\t\t\t.build();\r\n```\r\nHere is the SA account ROLES\r\n\r\n[![Permissions on SA][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DxmTG.png","title":"What all the PERMISSION required to call GCP Cloud Scheduler Create Job","body":"<p>I need to create a Job from the Java Code(Spring Boot)</p>\n<p>I am using java client library for the Cloud Scheduler, since we dont have Spring boot Integration.</p>\n<pre><code>CloudSchedulerClient cloudSchedulerClient = CloudSchedulerClient.create(cloudSchedulerSettings);\nJobName name = JobName.of(&quot;projectname&quot;, &quot;location&quot;, &quot;Test&quot;);\nSystem.out.println(name.getJob());\n</code></pre>\n<p>above code gives me the job, which i have created using GCP console.</p>\n<p>But i also needs to create Job from Code, did it as below</p>\n<pre><code>Job build = Job.newBuilder().setName(&quot;Chiru&quot;).setSchedule(&quot;0 1 * * 0&quot;)\n                .setDescription(&quot;From Code&quot;)\n                .setHttpTarget(HttpTarget.newBuilder()\n                        .setUri(&quot;http://google.com&quot;).build()).build();\n        LocationName parent = LocationName.of(&quot;project&quot;, &quot;location&quot;);\n        Job response = cloudSchedulerClient.createJob(parent.toString(), build);\n</code></pre>\n<p>This gives me error saying permission denied on the resource</p>\n<pre><code>Exception in thread &quot;main&quot; com.google.api.gax.rpc.PermissionDeniedException: io.grpc.StatusRuntimeException: PERMISSION_DENIED: Permission denied on resource project &lt;projectname&gt;.\n</code></pre>\n<p>I am using Service account for the Authentication</p>\n<pre><code>ServiceAccountCredentials credentials = ServiceAccountCredentials.fromStream(new FileInputStream(&quot;key.json&quot;));\n        CloudSchedulerSettings cloudSchedulerSettings =\n                CloudSchedulerSettings.newBuilder()\n                        .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n                        .build();\n</code></pre>\n<p>Here is the SA account ROLES</p>\n<p><a href=\"https://i.stack.imgur.com/DxmTG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DxmTG.png\" alt=\"Permissions on SA\" /></a></p>\n"},{"tags":["java","spring-boot","junit5","spring-boot-test"],"comments":[{"owner":{"account_id":1099263,"reputation":6000,"user_id":1092077,"display_name":"S&#233;bastien Deleuze"},"score":0,"creation_date":1526048420,"post_id":49811206,"comment_id":87605176,"body_markdown":"Both tests are green when I test on a project generated on start.spring.io. Could you double check and share a repro project in case you reproduce it?","body":"Both tests are green when I test on a project generated on start.spring.io. Could you double check and share a repro project in case you reproduce it?"},{"owner":{"account_id":13356701,"reputation":51,"user_id":9639978,"display_name":"BewdyM8"},"score":0,"creation_date":1526252016,"post_id":49811206,"comment_id":87658503,"body_markdown":"They are both green but the expected date formats are different was expecting them to both return today formatted as `2018-04-13`","body":"They are both green but the expected date formats are different was expecting them to both return today formatted as <code>2018-04-13</code>"}],"answers":[{"tags":[],"owner":{"account_id":13356701,"reputation":51,"user_id":9639978,"display_name":"BewdyM8"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526371751,"creation_date":1526252649,"answer_id":50321356,"question_id":49811206,"body_markdown":"As it turns out I need to set the Jackson decoder/encoder when using `WebTestClient.bindToController`. e.g. \r\n\r\n    @Test\r\n      public void fetchTodayWebTestClientBoundToController() {\r\n         WebTestClient webTestClient = WebTestClient.bindToController(controller)\r\n             .httpMessageCodecs((configurer) -&gt; {\r\n                 CodecConfigurer.DefaultCodecs defaults = configurer.defaultCodecs();\r\n                 defaults.jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper, new MimeType[0]));\r\n                 defaults.jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper, new MimeType[0]));\r\n             })\r\n            .configureClient()\r\n            .build();\r\n        webTestClient.get().uri(&quot;/today&quot;)\r\n            .exchange()\r\n            .expectBody()\r\n            .json(&quot;{\\&quot;today\\&quot;:\\&quot;2018-04-30\\&quot;}&quot;);\r\n      }\r\n\r\n More detailed answer from [Spring boot project][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/12997","title":"Spring WebTestClient JSON LocalDate decode","body":"<p>As it turns out I need to set the Jackson decoder/encoder when using <code>WebTestClient.bindToController</code>. e.g. </p>\n\n<pre><code>@Test\n  public void fetchTodayWebTestClientBoundToController() {\n     WebTestClient webTestClient = WebTestClient.bindToController(controller)\n         .httpMessageCodecs((configurer) -&gt; {\n             CodecConfigurer.DefaultCodecs defaults = configurer.defaultCodecs();\n             defaults.jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper, new MimeType[0]));\n             defaults.jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper, new MimeType[0]));\n         })\n        .configureClient()\n        .build();\n    webTestClient.get().uri(\"/today\")\n        .exchange()\n        .expectBody()\n        .json(\"{\\\"today\\\":\\\"2018-04-30\\\"}\");\n  }\n</code></pre>\n\n<p>More detailed answer from <a href=\"https://github.com/spring-projects/spring-boot/issues/12997\" rel=\"nofollow noreferrer\">Spring boot project</a></p>\n"},{"tags":[],"owner":{"account_id":16189468,"reputation":804,"user_id":11688668,"display_name":"Ilya Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660653871,"creation_date":1660653871,"answer_id":73374212,"question_id":49811206,"body_markdown":"Add this file with configuration\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.boot.autoconfigure.AutoConfigureAfter;\r\n    import org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.http.codec.ServerCodecConfigurer;\r\n    import org.springframework.http.codec.json.Jackson2JsonDecoder;\r\n    import org.springframework.http.codec.json.Jackson2JsonEncoder;\r\n    import org.springframework.web.reactive.config.WebFluxConfigurer;\r\n    \r\n    @Configuration\r\n    @Import(JacksonAutoConfiguration.class)\r\n    @AutoConfigureAfter(JacksonAutoConfiguration.class)\r\n    public class JacksonTestConfiguration {\r\n       \r\n        @Bean\r\n        WebFluxConfigurer webFluxConfigurer(ObjectMapper objectMapper) {\r\n            return new WebFluxConfigurer() {\r\n                @Override\r\n                public void configureHttpMessageCodecs(ServerCodecConfigurer configurer) {\r\n                    configurer.defaultCodecs().jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper));\r\n                    configurer.defaultCodecs().jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper));\r\n                }\r\n            };\r\n        }\r\n    }","title":"Spring WebTestClient JSON LocalDate decode","body":"<p>Add this file with configuration</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.http.codec.ServerCodecConfigurer;\nimport org.springframework.http.codec.json.Jackson2JsonDecoder;\nimport org.springframework.http.codec.json.Jackson2JsonEncoder;\nimport org.springframework.web.reactive.config.WebFluxConfigurer;\n\n@Configuration\n@Import(JacksonAutoConfiguration.class)\n@AutoConfigureAfter(JacksonAutoConfiguration.class)\npublic class JacksonTestConfiguration {\n   \n    @Bean\n    WebFluxConfigurer webFluxConfigurer(ObjectMapper objectMapper) {\n        return new WebFluxConfigurer() {\n            @Override\n            public void configureHttpMessageCodecs(ServerCodecConfigurer configurer) {\n                configurer.defaultCodecs().jackson2JsonEncoder(new Jackson2JsonEncoder(objectMapper));\n                configurer.defaultCodecs().jackson2JsonDecoder(new Jackson2JsonDecoder(objectMapper));\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13356701,"reputation":51,"user_id":9639978,"display_name":"BewdyM8"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1660653871,"creation_date":1523603244,"question_id":49811206,"body_markdown":"When using `WebTestClient` in Spring Boot 2.0.1 I get different formatted dates depending on how I bind the test client see code below. \r\n\r\nSo how can I get the `WebTestClient.bindToController` to return `LocalDate` formatted as `2018-04-13`? When I call `WebTestClient.bindToServer()` I get expected format.\r\n\r\n    @RestController\r\n    public class TodayController {\r\n      @GetMapping(&quot;/today&quot;)\r\n      public Map&lt;String, Object&gt; fetchToday() {\r\n        return ImmutableMap.of(&quot;today&quot;, LocalDate.now());\r\n      }\r\n    }\r\n\r\nTests:\r\n\r\n    @ExtendWith({SpringExtension.class})\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class TodayControllerTest {\r\n\r\n      @LocalServerPort\r\n      private int randomPort;\r\n\r\n      @Autowired\r\n      private TodayController controller;\r\n\r\n      @Test\r\n      void fetchTodayWebTestClientBoundToController() {\r\n         WebTestClient webTestClient = WebTestClient.bindToController(controller)\r\n            .configureClient()\r\n            .build();\r\n        webTestClient.get().uri(&quot;/today&quot;)\r\n            .exchange()\r\n            .expectBody()\r\n            .json(&quot;{\\&quot;today\\&quot;:[2018,4,13]}&quot;);\r\n    }\r\n\r\n    @Test\r\n    void fetchTodayWebTestClientBoundToServer() {\r\n        WebTestClient webTestClient = WebTestClient.bindToServer()\r\n            .baseUrl(&quot;http://localhost:&quot; + randomPort)\r\n            .build();\r\n\r\n        webTestClient.get().uri(&quot;/today&quot;)\r\n            .exchange()\r\n            .expectBody()\r\n            .json(&quot;{\\&quot;today\\&quot;:\\&quot;2018-04-13\\&quot;}&quot;);\r\n    }\r\n\r\n\r\n\r\n   ","title":"Spring WebTestClient JSON LocalDate decode","body":"<p>When using <code>WebTestClient</code> in Spring Boot 2.0.1 I get different formatted dates depending on how I bind the test client see code below. </p>\n\n<p>So how can I get the <code>WebTestClient.bindToController</code> to return <code>LocalDate</code> formatted as <code>2018-04-13</code>? When I call <code>WebTestClient.bindToServer()</code> I get expected format.</p>\n\n<pre><code>@RestController\npublic class TodayController {\n  @GetMapping(\"/today\")\n  public Map&lt;String, Object&gt; fetchToday() {\n    return ImmutableMap.of(\"today\", LocalDate.now());\n  }\n}\n</code></pre>\n\n<p>Tests:</p>\n\n<pre><code>@ExtendWith({SpringExtension.class})\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass TodayControllerTest {\n\n  @LocalServerPort\n  private int randomPort;\n\n  @Autowired\n  private TodayController controller;\n\n  @Test\n  void fetchTodayWebTestClientBoundToController() {\n     WebTestClient webTestClient = WebTestClient.bindToController(controller)\n        .configureClient()\n        .build();\n    webTestClient.get().uri(\"/today\")\n        .exchange()\n        .expectBody()\n        .json(\"{\\\"today\\\":[2018,4,13]}\");\n}\n\n@Test\nvoid fetchTodayWebTestClientBoundToServer() {\n    WebTestClient webTestClient = WebTestClient.bindToServer()\n        .baseUrl(\"http://localhost:\" + randomPort)\n        .build();\n\n    webTestClient.get().uri(\"/today\")\n        .exchange()\n        .expectBody()\n        .json(\"{\\\"today\\\":\\\"2018-04-13\\\"}\");\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":5,"creation_date":1630421703,"post_id":69000925,"comment_id":121949015,"body_markdown":"That looks like json so then the best solution is to parse/decode it as json","body":"That looks like json so then the best solution is to parse/decode it as json"},{"owner":{"account_id":7597727,"reputation":2056,"user_id":5763413,"display_name":"blackbrandt"},"score":1,"creation_date":1630422135,"post_id":69000925,"comment_id":121949221,"body_markdown":"Ironically enough @JoakimDanielson this is the exact same XY problem posed in [What is an XY problem](https://meta.stackexchange.com/a/66378/571975)","body":"Ironically enough @JoakimDanielson this is the exact same XY problem posed in <a href=\"https://meta.stackexchange.com/a/66378/571975\">What is an XY problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":14460106,"reputation":73,"user_id":10445130,"display_name":"Benny Sch&#228;rer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660653528,"creation_date":1630421945,"answer_id":69001028,"question_id":69000925,"body_markdown":"Maybe it is best to first have a look at json Serializers/Deserializers because that will result in less confusing code than using Regex for this.\r\nFor example have a look at: https://howtodoinjava.com/gson/gson-serialize-deserialize-json/\r\n\r\nExample Code for serialisation with Gson:\r\n\r\n    User user = new User(1L, &quot;lokesh&quot;, &quot;gupta&quot;,\r\n      LocalDate.of(1999, Month.JANUARY, 1), new Department(2, &quot;IT&quot;, true));\r\n\r\n    Gson gson = new GsonBuilder()\r\n      .setPrettyPrinting()\r\n      .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\r\n      .create();\r\n\r\n    String jsonString = gson.toJson(user);\r\n\r\nExample Code for deserialization with Gson:\r\n\r\n    String jsonString = &quot;&quot;&quot;\r\n          {  \r\n            &quot;id&quot;: 1,\r\n            &quot;firstName&quot;: &quot;lokesh&quot;,\r\n            &quot;lastName&quot;: &quot;gupta&quot;,\r\n            &quot;dateOfbirth&quot;: &quot;1999-01-01&quot;,\r\n            &quot;department&quot;: {\r\n              &quot;id&quot;: 2,\r\n              &quot;name&quot;: &quot;IT&quot;,\r\n              &quot;active&quot;: true\r\n            }\r\n          }&quot;&quot;&quot;;\r\n        \r\n    Gson gson = new GsonBuilder()\r\n          .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\r\n          .create();\r\n    \r\n    User user = gson.fromJson(jsonString, User.class);\r\n\r\n","title":"Hey i am trying to split a string , but I have a problem with regex with the parentheses","body":"<p>Maybe it is best to first have a look at json Serializers/Deserializers because that will result in less confusing code than using Regex for this.\nFor example have a look at: <a href=\"https://howtodoinjava.com/gson/gson-serialize-deserialize-json/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/gson/gson-serialize-deserialize-json/</a></p>\n<p>Example Code for serialisation with Gson:</p>\n<pre><code>User user = new User(1L, &quot;lokesh&quot;, &quot;gupta&quot;,\n  LocalDate.of(1999, Month.JANUARY, 1), new Department(2, &quot;IT&quot;, true));\n\nGson gson = new GsonBuilder()\n  .setPrettyPrinting()\n  .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\n  .create();\n\nString jsonString = gson.toJson(user);\n</code></pre>\n<p>Example Code for deserialization with Gson:</p>\n<pre><code>String jsonString = &quot;&quot;&quot;\n      {  \n        &quot;id&quot;: 1,\n        &quot;firstName&quot;: &quot;lokesh&quot;,\n        &quot;lastName&quot;: &quot;gupta&quot;,\n        &quot;dateOfbirth&quot;: &quot;1999-01-01&quot;,\n        &quot;department&quot;: {\n          &quot;id&quot;: 2,\n          &quot;name&quot;: &quot;IT&quot;,\n          &quot;active&quot;: true\n        }\n      }&quot;&quot;&quot;;\n    \nGson gson = new GsonBuilder()\n      .registerTypeAdapter(LocalDate.class, new LocalDateAdapter())\n      .create();\n\nUser user = gson.fromJson(jsonString, User.class);\n</code></pre>\n"}],"owner":{"account_id":22465979,"reputation":3,"user_id":16667119,"display_name":"n s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1660653528,"creation_date":1630421586,"question_id":69000925,"body_markdown":"\r\nI need to split the following string but&#39; I did&#39;t know how to the that because i had problem with {}\r\n\r\n    [{&quot;parameter&quot;:&quot;value&quot;,&quot; parameter &quot;: value,&quot; parameter &quot;: value,&quot; parameter &quot;: value,&quot; parameter &quot;:&quot; value &quot;,&quot; parameter &quot;:&quot; value &quot;} ,{new user same parmeters}]\r\n\r\nI need to itrate this string and extract the parameteres from evrey user, between useres there is a &quot;,&quot;\r\n\r\n","title":"Hey i am trying to split a string , but I have a problem with regex with the parentheses","body":"<p>I need to split the following string but' I did't know how to the that because i had problem with {}</p>\n<pre><code>[{&quot;parameter&quot;:&quot;value&quot;,&quot; parameter &quot;: value,&quot; parameter &quot;: value,&quot; parameter &quot;: value,&quot; parameter &quot;:&quot; value &quot;,&quot; parameter &quot;:&quot; value &quot;} ,{new user same parmeters}]\n</code></pre>\n<p>I need to itrate this string and extract the parameteres from evrey user, between useres there is a &quot;,&quot;</p>\n"},{"tags":["java","exception","thread-safety","javafx-2"],"comments":[{"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"score":0,"creation_date":1343586931,"post_id":11690683,"comment_id":15536055,"body_markdown":"Honestly, it sounds like you should just have an observable list and have a component (table/custom UI, whatever) listen to it. http://docs.oracle.com/javafx/2/collections/jfxpub-collections.htm\n\nIn short, I think you&#39;re looking to make this a lot more complicated than it is.","body":"Honestly, it sounds like you should just have an observable list and have a component (table/custom UI, whatever) listen to it. <a href=\"http://docs.oracle.com/javafx/2/collections/jfxpub-collections.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javafx/2/collections/jfxpub-collections.htm</a>  In short, I think you&#39;re looking to make this a lot more complicated than it is."},{"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"score":1,"creation_date":1343587775,"post_id":11690683,"comment_id":15536231,"body_markdown":"Yes but the fact that insertions happens in the worker thread and observation happens in the JavaFx Application thread. If no countermesures are taken, you get java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread-3. At the end, i&#39;ve encapsulated observable property modification into a Platform.runLater.","body":"Yes but the fact that insertions happens in the worker thread and observation happens in the JavaFx Application thread. If no countermesures are taken, you get java.lang.IllegalStateException: Not on FX application thread; currentThread = Thread-3. At the end, i&#39;ve encapsulated observable property modification into a Platform.runLater."},{"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"score":0,"creation_date":1343668583,"post_id":11690683,"comment_id":15558874,"body_markdown":"I&#39;ll take a look back at this after I finish wrapping up my framework (I&#39;m doing similar things, not the same, but similar enough). Have you tried running it on the beta 2.2? The way you describe doing it should work as the UI thread should &quot;observe&quot; those changes. Are you registering the listeners with the components?","body":"I&#39;ll take a look back at this after I finish wrapping up my framework (I&#39;m doing similar things, not the same, but similar enough). Have you tried running it on the beta 2.2? The way you describe doing it should work as the UI thread should &quot;observe&quot; those changes. Are you registering the listeners with the components?"}],"answers":[{"tags":[],"owner":{"account_id":275393,"reputation":4657,"user_id":568254,"accept_rate":60,"display_name":"Daniel B. Chapman"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1343403442,"creation_date":1343403442,"answer_id":11691123,"question_id":11690683,"body_markdown":"I&#39;m running into a similar issue, as far as I can tell you have to deal with the error handling yourself. My solution is to update the UI via a method call:\r\n\r\nSomething like:\r\n\r\n      try\r\n      {\r\n        //blah...\r\n      }\r\n      catch (Exception e)\r\n      {\r\n        reportAndLogException(e);\r\n      }\r\n      ...\r\n      public void reportAndLogException(final Throwable t)\r\n      {\r\n        Platform.runLater(new Runnable() {\r\n          @Override public void run() {\r\n            //Update UI here     \r\n          }\r\n        });\r\n      }\r\n\r\nEssentially I am just manually moving it back to the UI Thread for an update (as I would do in pretty much any other framework).","title":"Update JavaFX UI from another thread","body":"<p>I'm running into a similar issue, as far as I can tell you have to deal with the error handling yourself. My solution is to update the UI via a method call:</p>\n\n<p>Something like:</p>\n\n<pre><code>  try\n  {\n    //blah...\n  }\n  catch (Exception e)\n  {\n    reportAndLogException(e);\n  }\n  ...\n  public void reportAndLogException(final Throwable t)\n  {\n    Platform.runLater(new Runnable() {\n      @Override public void run() {\n        //Update UI here     \n      }\n    });\n  }\n</code></pre>\n\n<p>Essentially I am just manually moving it back to the UI Thread for an update (as I would do in pretty much any other framework).</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1450136188,"creation_date":1343410326,"answer_id":11692761,"question_id":11690683,"body_markdown":"This answer uses the same concept as Daniel&#39;s answer.\r\n\r\nEnclosed is a copy of the Partial Result sample from the [Task][1] javadoc (fixed for syntax errors currently embedded in the Java 8 javadoc and to add more specific Generic types).  You can use a modification of that.  \r\n\r\nPlace your exceptions in the partialResults collection.  For your case, you don&#39;t need to return the list of exceptions from the Task, but can instead place them in some UI control which displays the exceptions (like a `ListView` with a `CellFactory` for exception display).  Note that the partialResults collection did not need to be synchronized because it is always updated and accessed on the JavaFX UI thread (the update is happening via a `Platform.runLater()` call similar to Daniel&#39;s solution).\r\n\r\n    public class PartialResultsTask extends Task&lt;ObservableList&lt;Rectangle&gt;&gt; {\r\n        private ReadOnlyObjectWrapper&lt;ObservableList&lt;Rectangle&gt;&gt; partialResults =\r\n                new ReadOnlyObjectWrapper&lt;&gt;(\r\n                        this, \r\n                        &quot;partialResults&quot;,\r\n                        FXCollections.observableArrayList(\r\n                                new ArrayList&lt;&gt;()\r\n                        )\r\n                );\r\n    \r\n        public final ObservableList&lt;Rectangle&gt; getPartialResults() {\r\n            return partialResults.get();\r\n        }\r\n    \r\n        public final ReadOnlyObjectProperty&lt;ObservableList&lt;Rectangle&gt;&gt; partialResultsProperty() {\r\n            return partialResults.getReadOnlyProperty();\r\n        }\r\n    \r\n        @Override\r\n        protected ObservableList&lt;Rectangle&gt; call() throws Exception {\r\n            updateMessage(&quot;Creating Rectangles...&quot;);\r\n            for (int i = 0; i &lt; 100; i++) {\r\n                if (isCancelled()) break;\r\n                final Rectangle r = new Rectangle(10, 10);\r\n                r.setX(10 * i);\r\n                Platform.runLater(() -&gt; partialResults.get().add(r));\r\n                updateProgress(i, 100);\r\n            }\r\n            return partialResults.get();\r\n        }\r\n    }\r\n\r\n-------\r\n\r\nWhen updating it&#39;s observable properties Task first checks if the update is occurring on the FX Application thread. If it is, it does an immediate update. If it is not, then it wraps the update in a `Platform.runLater()` call.  See the [Task source code](http://hg.openjdk.java.net/openjfx/2.1/master/rt/file/5c3b3d524f07/javafx-concurrent/src/javafx/concurrent/Task.java) to understand how this is done.\r\n\r\nPerhaps it would be possible to define a set of generic concurrent aware properties, but JavaFX does not provide such facilities at it&#39;s core.  Indeed, it doesn&#39;t need to.  With the exception of the javafx.concurrent package, JavaFX is a single threaded UI framework.\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/concurrent/Task.html","title":"Update JavaFX UI from another thread","body":"<p>This answer uses the same concept as Daniel's answer.</p>\n\n<p>Enclosed is a copy of the Partial Result sample from the <a href=\"http://docs.oracle.com/javafx/2/api/javafx/concurrent/Task.html\" rel=\"nofollow\">Task</a> javadoc (fixed for syntax errors currently embedded in the Java 8 javadoc and to add more specific Generic types).  You can use a modification of that.  </p>\n\n<p>Place your exceptions in the partialResults collection.  For your case, you don't need to return the list of exceptions from the Task, but can instead place them in some UI control which displays the exceptions (like a <code>ListView</code> with a <code>CellFactory</code> for exception display).  Note that the partialResults collection did not need to be synchronized because it is always updated and accessed on the JavaFX UI thread (the update is happening via a <code>Platform.runLater()</code> call similar to Daniel's solution).</p>\n\n<pre><code>public class PartialResultsTask extends Task&lt;ObservableList&lt;Rectangle&gt;&gt; {\n    private ReadOnlyObjectWrapper&lt;ObservableList&lt;Rectangle&gt;&gt; partialResults =\n            new ReadOnlyObjectWrapper&lt;&gt;(\n                    this, \n                    \"partialResults\",\n                    FXCollections.observableArrayList(\n                            new ArrayList&lt;&gt;()\n                    )\n            );\n\n    public final ObservableList&lt;Rectangle&gt; getPartialResults() {\n        return partialResults.get();\n    }\n\n    public final ReadOnlyObjectProperty&lt;ObservableList&lt;Rectangle&gt;&gt; partialResultsProperty() {\n        return partialResults.getReadOnlyProperty();\n    }\n\n    @Override\n    protected ObservableList&lt;Rectangle&gt; call() throws Exception {\n        updateMessage(\"Creating Rectangles...\");\n        for (int i = 0; i &lt; 100; i++) {\n            if (isCancelled()) break;\n            final Rectangle r = new Rectangle(10, 10);\n            r.setX(10 * i);\n            Platform.runLater(() -&gt; partialResults.get().add(r));\n            updateProgress(i, 100);\n        }\n        return partialResults.get();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>When updating it's observable properties Task first checks if the update is occurring on the FX Application thread. If it is, it does an immediate update. If it is not, then it wraps the update in a <code>Platform.runLater()</code> call.  See the <a href=\"http://hg.openjdk.java.net/openjfx/2.1/master/rt/file/5c3b3d524f07/javafx-concurrent/src/javafx/concurrent/Task.java\" rel=\"nofollow\">Task source code</a> to understand how this is done.</p>\n\n<p>Perhaps it would be possible to define a set of generic concurrent aware properties, but JavaFX does not provide such facilities at it's core.  Indeed, it doesn't need to.  With the exception of the javafx.concurrent package, JavaFX is a single threaded UI framework.</p>\n"}],"owner":{"account_id":387776,"reputation":7533,"user_id":746336,"accept_rate":56,"display_name":"AgostinoX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46320,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":11691123,"answer_count":2,"score":36,"last_activity_date":1660653316,"creation_date":1343401948,"question_id":11690683,"body_markdown":"I have a JavaFX application, and a worker thread, implemented via `javafx.concurrent.Task`, that performs a long process, that is zipping and uploading a set of files.\r\n\r\nI&#39;ve connected the task progress to a progress bar via `progressProperty`.\r\n\r\n**In addition to this I want a detailed state about the item being processed to be reported into the UI. That is, the name of the file being processed along with its size and any error that may arise from the single file process.**\r\n\r\nUpdating the UI with these information cannot be done from the worker thread, at the most I can add it to a synchronized collection.\r\n\r\nBut then I need some event to inform the UI that new data is available.\r\n\r\nDoes JavaFX have some specific support for this issue?\r\n\r\n### Update, better formulation\r\n\r\nInstead of designing an ad hoc cross-thread mechanism as `Platform.runLater`, I&#39;m trying to allow each property to be listened from other threads. Just like `runningProperty` and `stateProperty` provided by `Task`.","title":"Update JavaFX UI from another thread","body":"<p>I have a JavaFX application, and a worker thread, implemented via <code>javafx.concurrent.Task</code>, that performs a long process, that is zipping and uploading a set of files.</p>\n<p>I've connected the task progress to a progress bar via <code>progressProperty</code>.</p>\n<p><strong>In addition to this I want a detailed state about the item being processed to be reported into the UI. That is, the name of the file being processed along with its size and any error that may arise from the single file process.</strong></p>\n<p>Updating the UI with these information cannot be done from the worker thread, at the most I can add it to a synchronized collection.</p>\n<p>But then I need some event to inform the UI that new data is available.</p>\n<p>Does JavaFX have some specific support for this issue?</p>\n<h3>Update, better formulation</h3>\n<p>Instead of designing an ad hoc cross-thread mechanism as <code>Platform.runLater</code>, I'm trying to allow each property to be listened from other threads. Just like <code>runningProperty</code> and <code>stateProperty</code> provided by <code>Task</code>.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660643328,"post_id":73371599,"comment_id":129574738,"body_markdown":"Without the logs and stacktrace, it&#39;ll be impossible to help.\nLook at the logs and see where it&#39;s being thrown.","body":"Without the logs and stacktrace, it&#39;ll be impossible to help. Look at the logs and see where it&#39;s being thrown."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1660653034,"post_id":73371599,"comment_id":129578154,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"}],"owner":{"account_id":15319279,"reputation":31,"user_id":11052279,"display_name":"namrata agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660653008,"creation_date":1660641447,"question_id":73371599,"body_markdown":"Getting a NullPointerException thrown by the worker when it tries to access a SparkContext object that&#39;s present on the driver but worker is throwing null.\r\n\r\nHowever, working fine the local but failing on the cluster.\r\n\r\nAny help???","title":"Null pointer exception while accessing service inside spark worker","body":"<p>Getting a NullPointerException thrown by the worker when it tries to access a SparkContext object that's present on the driver but worker is throwing null.</p>\n<p>However, working fine the local but failing on the cluster.</p>\n<p>Any help???</p>\n"},{"tags":["java","android","flutter","kotlin","sdk"],"owner":{"account_id":15601247,"reputation":272,"user_id":11255333,"display_name":"Oussama Rid&#233;ne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660652974,"creation_date":1659357061,"question_id":73193693,"body_markdown":"I&#39;m trying to sign with google using pianoID I have called registerForActivityResult method from flutter but it returns a null pointer.\r\n\r\nI tested it in a native android application and it works perfectly it shows me a google login popup.\r\n\r\nthis is my code : \r\n\r\n    final ActivityResultLauncher&lt;PianoIdClient.SignInContext&gt; authResult = registerForActivityResult(\r\n                new PianoIdAuthResultContract(),\r\n                r -&gt; {\r\n                    if (r == null) {\r\n                        System.out.println(&quot;this is r&quot;);\r\n                    } else if (r.isSuccess()) {\r\n                        PianoIdAuthSuccessResult data = (PianoIdAuthSuccessResult) r;\r\n                        boolean isNewUserRegistered = data.isNewUser();\r\n                        PianoIdToken token = data.getToken();\r\n                        if (token.emailConfirmationRequired) {\r\n                        }\r\n                    } else {\r\n                        PianoIdAuthFailureResult data = (PianoIdAuthFailureResult) r;\r\n                        PianoIdException e = data.getException();\r\n                    }\r\n                }\r\n        );\r\n\r\nInvoke methode : \r\n\r\n    if (call.method.equals(&quot;signInTest&quot;)){\r\n            authResult.launch( PianoId.signIn().widget(PianoId.WIDGET_LOGIN));\r\n        }\r\n\r\nhere I call it in flutter :\r\n\r\n    await bridgeToNative.invokeMethod(&#39;signInTest&#39;);\r\n\r\nand this is the exception : \r\n\r\n&gt; E/MethodChannel#flutter.native/helper(27553): Failed to handle method call\r\nE/MethodChannel#flutter.native/helper(27553): java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()&#39; on a null object reference\r\nE/MethodChannel#flutter.native/helper(27553):   at android.app.Activity.startActivityForResult(Activity.java:5378)\r\nE/MethodChannel#flutter.native/helper(27553):   at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:647)\r\n\r\n","title":"NullPointerException when using registerForActivityResult Flutter","body":"<p>I'm trying to sign with google using pianoID I have called registerForActivityResult method from flutter but it returns a null pointer.</p>\n<p>I tested it in a native android application and it works perfectly it shows me a google login popup.</p>\n<p>this is my code :</p>\n<pre><code>final ActivityResultLauncher&lt;PianoIdClient.SignInContext&gt; authResult = registerForActivityResult(\n            new PianoIdAuthResultContract(),\n            r -&gt; {\n                if (r == null) {\n                    System.out.println(&quot;this is r&quot;);\n                } else if (r.isSuccess()) {\n                    PianoIdAuthSuccessResult data = (PianoIdAuthSuccessResult) r;\n                    boolean isNewUserRegistered = data.isNewUser();\n                    PianoIdToken token = data.getToken();\n                    if (token.emailConfirmationRequired) {\n                    }\n                } else {\n                    PianoIdAuthFailureResult data = (PianoIdAuthFailureResult) r;\n                    PianoIdException e = data.getException();\n                }\n            }\n    );\n</code></pre>\n<p>Invoke methode :</p>\n<pre><code>if (call.method.equals(&quot;signInTest&quot;)){\n        authResult.launch( PianoId.signIn().widget(PianoId.WIDGET_LOGIN));\n    }\n</code></pre>\n<p>here I call it in flutter :</p>\n<pre><code>await bridgeToNative.invokeMethod('signInTest');\n</code></pre>\n<p>and this is the exception :</p>\n<blockquote>\n<p>E/MethodChannel#flutter.native/helper(27553): Failed to handle method call\nE/MethodChannel#flutter.native/helper(27553): java.lang.NullPointerException: Attempt to invoke virtual method 'android.app.ActivityThread$ApplicationThread android.app.ActivityThread.getApplicationThread()' on a null object reference\nE/MethodChannel#flutter.native/helper(27553):   at android.app.Activity.startActivityForResult(Activity.java:5378)\nE/MethodChannel#flutter.native/helper(27553):   at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:647)</p>\n</blockquote>\n"},{"tags":["java","arraylist","java-stream","treemap","sortedmap"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1660570951,"post_id":73361701,"comment_id":129557141,"body_markdown":"I don&#39;t think that code compiles.  The reference to `firstObject` in your `anyMatch` lambda would be undefined.  Maybe explain a little more of what you&#39;re trying to achieve?  Also, `anyMatch` is a terminal op, meaning the stream ends there.","body":"I don&#39;t think that code compiles.  The reference to <code>firstObject</code> in your <code>anyMatch</code> lambda would be undefined.  Maybe explain a little more of what you&#39;re trying to achieve?  Also, <code>anyMatch</code> is a terminal op, meaning the stream ends there."},{"owner":{"account_id":21368357,"reputation":79,"user_id":15736242,"display_name":"kinad"},"score":0,"creation_date":1660571414,"post_id":73361701,"comment_id":129557283,"body_markdown":"I updated code to be more like the actual code I am using.","body":"I updated code to be more like the actual code I am using."},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1660571843,"post_id":73361701,"comment_id":129557434,"body_markdown":"So you want the set of matching `FirstObject`&#39;s, keyed by their &quot;efficiency&quot; from a matching `secondObject`","body":"So you want the set of matching <code>FirstObject</code>&#39;s, keyed by their &quot;efficiency&quot; from a matching <code>secondObject</code>"},{"owner":{"display_name":"user19606762"},"score":0,"creation_date":1660572101,"post_id":73361701,"comment_id":129557529,"body_markdown":"i think you could use groupby and it will generate the map you want \nbetter to put the code that do the grouping in a method and use this method inside the group in the collectors\nhere tutorial for that from oracle\nhttps://dev.java/learn/using-a-collector-as-a-terminal-operation/#anchor_6","body":"i think you could use groupby and it will generate the map you want  better to put the code that do the grouping in a method and use this method inside the group in the collectors here tutorial for that from oracle <a href=\"https://dev.java/learn/using-a-collector-as-a-terminal-operation/#anchor_6\" rel=\"nofollow noreferrer\">dev.java/learn/using-a-collector-as-a-terminal-operation/&hellip;</a>"},{"owner":{"account_id":21368357,"reputation":79,"user_id":15736242,"display_name":"kinad"},"score":0,"creation_date":1660572114,"post_id":73361701,"comment_id":129557535,"body_markdown":"@Taylor Correct","body":"@Taylor Correct"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1660572261,"post_id":73361701,"comment_id":129557584,"body_markdown":"IIs it possible there is no matching secondobject?","body":"IIs it possible there is no matching secondobject?"},{"owner":{"account_id":21368357,"reputation":79,"user_id":15736242,"display_name":"kinad"},"score":0,"creation_date":1660572437,"post_id":73361701,"comment_id":129557661,"body_markdown":"I want the key from the SecondObject&#39;s efficiency to be the the key, and the value  as the FirstObject, if that FirstObject has a matching attribute from the SecondObject.","body":"I want the key from the SecondObject&#39;s efficiency to be the the key, and the value  as the FirstObject, if that FirstObject has a matching attribute from the SecondObject."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1660575698,"post_id":73361701,"comment_id":129558833,"body_markdown":"Some example input and output data would help this Question.","body":"Some example input and output data would help this Question."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660600077,"creation_date":1660572543,"answer_id":73362168,"question_id":73361701,"body_markdown":"Instead of creating a `filter` that causes side-effects you need to use `collect`.\r\n\r\nOne of the ways to do that is to create an intermediate Map which would associate each object returned by `firstDao` with the matching pair returned by `secondDao`.\r\n\r\nThen create a stream over the entries of the intermediate map. Filter out the entry with an empty key (with no matching pair). And then apply `collect(Collectors.toMap())`.\r\n\r\n```\r\nNavigableMap&lt;Double, FirstObject&gt; myMap = firstDao.get(tableId).stream()\r\n    .collect(Collectors.toMap( // creates a map `Map&lt;Optional&lt;Double&gt;,FirstObject&gt;`\r\n        firstObject -&gt; secondDao.get(firstObject.getObjectId()).stream()\r\n            .filter(secondObject -&gt; firstObject.getAttribute().equals(secondObject.getAttribute()))\r\n            .findFirst()\r\n            .map(FirstObject::getEfficiency),\r\n        Function.identity(),\r\n        (left, right) -&gt; left // duplicated keys would appear when there are more then one object having no matching pair (the key would be an empty optional), so we need to guard against that case by providing a merge function to resulve duplicates\r\n    ))\r\n    .entrySet().stream()\r\n    .filter(entry -&gt; entry.getKey().isPresent())\r\n    .collect(Collectors.toMap(\r\n        entry -&gt; entry.getKey().get(),    // extracting a key (efficiency)\r\n        Map.Entry::getValue,              // extracting a value\r\n        (left, right) -&gt; { throw new AssertionError(&quot;duplicates are not expected&quot;); }, // since the source is an intermediate map we don&#39;t expect duplicates\r\n        TreeMap::new\r\n    ));\r\n```\r\n\r\nAnother slightly more concise way of addressing this problem would be to create a *custom collector* by utilizing [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html) (*the overall logic remains the same*):\r\n\r\n```\r\nNavigableMap&lt;Double, FirstObject&gt; myMap = firstDao.get(tableId).stream()\r\n    .collect(Collector.of(\r\n        TreeMap::new,                                          // mutable container of the collector\r\n        (NavigableMap&lt;Double, FirstObject&gt; map, FirstObject firstObject) -&gt; \r\n            secondDao.get(firstObject.getObjectId()).stream()  // population the mutable container\r\n                .filter(secondObject -&gt; next.getAttribute().equals(secondObject.getAttribute()))\r\n                .findFirst()\r\n                .map(FirstObject::getEfficiency)\r\n                .ifPresent(efficiency -&gt; map.put(efficiency, firstObject)),\r\n        (left, right) -&gt; { left.putAll(right); return left; } // merging containers in parallel, I&#39;m assuming that there&#39;s no duplicates and hence there&#39;s no special policy\r\n    ));\r\n```\r\n\r\n***Sidenote:*** when you need a `TreeMap` it&#39;s better to use `NavigableMap` as an abstract type. This interface extends `SortedMap` and offers a wide range of methods which are not accessible with `SortedMap`.\r\n__________________________________________\r\n&lt;h1&gt;Addressing the comment posted by OP&lt;/h1&gt;\r\n\r\nThis ***code provided in the question*** creates a stream of objects retrieved by the means of the `firstDao` and the following `filter` will update the map `myMap` if the predicate is meat by adding a new entry (*or replacing the value of the existing one*) with `efficiency` of the **very first encountered** matching object from the stream created using `secondDao.get()` as a source.\r\n```\r\n    .filter(firstobject -&gt; secondDao.get().stream()\r\n        .anyMatch(secondObject -&gt; {\r\n            if (someCondition) {\r\n                myMap.put(secondObject.getEfficiency(), firstObject);\r\n            }\r\n            return someCondition;\r\n    }))\r\n```\r\n`anyMatch` - is a *short-circuit* operation and in case if there are the same `id` but different `efficiency`, they will be **ignored**.\r\n\r\nThis snippet from the solution above behaves in exactly the same way: `findFirst` will pick the **very first** object for which `someCondition` will be evaluated to `true` (the case with an empty optional is being treated separately afterwards, and `equals/hashCode` of the optional is delegates to `equals/hashCode` implementation of its value, so there&#39;s no room for discrepancies in the result).\r\n```\r\nfirstObject -&gt; secondDao.get().stream()\r\n    .filter(secondObject -&gt; someCondition)\r\n    .findFirst()\r\n    .map(FirstObject::getEfficiency)\r\n```\r\nAnd I assume it&#39;s the *expected behavior* because there is **no** mention that code provided in the question is malfunctioning in some ways, as well as there&#39;s **no** sample data (which might lead to the opposite conclusion).\r\n\r\nHence, the claim that the above solution doesn&#39;t produce the expected result contradicts the current state of the question, since it&#39;s based on the logic of the original code.\r\n\r\nUntil the *desired result* **isn&#39;t specified** (by providing a sample data, or describing what&#39;s wrong with the original code) I see no possibility to improve the answer.","title":"Generate a SortedMap based on the contents of two Lists","body":"<p>Instead of creating a <code>filter</code> that causes side-effects you need to use <code>collect</code>.</p>\n<p>One of the ways to do that is to create an intermediate Map which would associate each object returned by <code>firstDao</code> with the matching pair returned by <code>secondDao</code>.</p>\n<p>Then create a stream over the entries of the intermediate map. Filter out the entry with an empty key (with no matching pair). And then apply <code>collect(Collectors.toMap())</code>.</p>\n<pre><code>NavigableMap&lt;Double, FirstObject&gt; myMap = firstDao.get(tableId).stream()\n    .collect(Collectors.toMap( // creates a map `Map&lt;Optional&lt;Double&gt;,FirstObject&gt;`\n        firstObject -&gt; secondDao.get(firstObject.getObjectId()).stream()\n            .filter(secondObject -&gt; firstObject.getAttribute().equals(secondObject.getAttribute()))\n            .findFirst()\n            .map(FirstObject::getEfficiency),\n        Function.identity(),\n        (left, right) -&gt; left // duplicated keys would appear when there are more then one object having no matching pair (the key would be an empty optional), so we need to guard against that case by providing a merge function to resulve duplicates\n    ))\n    .entrySet().stream()\n    .filter(entry -&gt; entry.getKey().isPresent())\n    .collect(Collectors.toMap(\n        entry -&gt; entry.getKey().get(),    // extracting a key (efficiency)\n        Map.Entry::getValue,              // extracting a value\n        (left, right) -&gt; { throw new AssertionError(&quot;duplicates are not expected&quot;); }, // since the source is an intermediate map we don't expect duplicates\n        TreeMap::new\n    ));\n</code></pre>\n<p>Another slightly more concise way of addressing this problem would be to create a <em>custom collector</em> by utilizing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> (<em>the overall logic remains the same</em>):</p>\n<pre><code>NavigableMap&lt;Double, FirstObject&gt; myMap = firstDao.get(tableId).stream()\n    .collect(Collector.of(\n        TreeMap::new,                                          // mutable container of the collector\n        (NavigableMap&lt;Double, FirstObject&gt; map, FirstObject firstObject) -&gt; \n            secondDao.get(firstObject.getObjectId()).stream()  // population the mutable container\n                .filter(secondObject -&gt; next.getAttribute().equals(secondObject.getAttribute()))\n                .findFirst()\n                .map(FirstObject::getEfficiency)\n                .ifPresent(efficiency -&gt; map.put(efficiency, firstObject)),\n        (left, right) -&gt; { left.putAll(right); return left; } // merging containers in parallel, I'm assuming that there's no duplicates and hence there's no special policy\n    ));\n</code></pre>\n<p><em><strong>Sidenote:</strong></em> when you need a <code>TreeMap</code> it's better to use <code>NavigableMap</code> as an abstract type. This interface extends <code>SortedMap</code> and offers a wide range of methods which are not accessible with <code>SortedMap</code>.</p>\n<hr />\n<h1>Addressing the comment posted by OP</h1>\n<p>This <em><strong>code provided in the question</strong></em> creates a stream of objects retrieved by the means of the <code>firstDao</code> and the following <code>filter</code> will update the map <code>myMap</code> if the predicate is meat by adding a new entry (<em>or replacing the value of the existing one</em>) with <code>efficiency</code> of the <strong>very first encountered</strong> matching object from the stream created using <code>secondDao.get()</code> as a source.</p>\n<pre><code>    .filter(firstobject -&gt; secondDao.get().stream()\n        .anyMatch(secondObject -&gt; {\n            if (someCondition) {\n                myMap.put(secondObject.getEfficiency(), firstObject);\n            }\n            return someCondition;\n    }))\n</code></pre>\n<p><code>anyMatch</code> - is a <em>short-circuit</em> operation and in case if there are the same <code>id</code> but different <code>efficiency</code>, they will be <strong>ignored</strong>.</p>\n<p>This snippet from the solution above behaves in exactly the same way: <code>findFirst</code> will pick the <strong>very first</strong> object for which <code>someCondition</code> will be evaluated to <code>true</code> (the case with an empty optional is being treated separately afterwards, and <code>equals/hashCode</code> of the optional is delegates to <code>equals/hashCode</code> implementation of its value, so there's no room for discrepancies in the result).</p>\n<pre><code>firstObject -&gt; secondDao.get().stream()\n    .filter(secondObject -&gt; someCondition)\n    .findFirst()\n    .map(FirstObject::getEfficiency)\n</code></pre>\n<p>And I assume it's the <em>expected behavior</em> because there is <strong>no</strong> mention that code provided in the question is malfunctioning in some ways, as well as there's <strong>no</strong> sample data (which might lead to the opposite conclusion).</p>\n<p>Hence, the claim that the above solution doesn't produce the expected result contradicts the current state of the question, since it's based on the logic of the original code.</p>\n<p>Until the <em>desired result</em> <strong>isn't specified</strong> (by providing a sample data, or describing what's wrong with the original code) I see no possibility to improve the answer.</p>\n"}],"owner":{"account_id":21368357,"reputation":79,"user_id":15736242,"display_name":"kinad"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1660652944,"creation_date":1660570099,"question_id":73361701,"body_markdown":"I am trying to generate a `SortedMap` using streams directly from two `ArrayList`s that come from a two different sources. My goal is to have the `SortedMap` store a `Double` attribute from the second list as key and the object from the first list as the value, if those objects have a matching attribute, which is checked by a helper Object. \r\n\r\nSo far, I can get it accomplished using:\r\n```\r\nSortedMap&lt;Double, FirstObject&gt; myMap = new TreeMap&lt;&gt;(Double::compareTo);\r\n\r\nList&lt;FirstObject&gt; myList = firstDao.get(someId).stream()\r\n    .filter(firstobject -&gt; secondDao.get(firstObject.getObjectId())\r\n        .stream()\r\n        .anyMatch(secondObject -&gt; {\r\n            if (Helper.check(secondObject).matches()) {\r\n                myMap.put(\r\n                    secondObject.getEfficiency(), firstObject\r\n                );\r\n            }\r\n            return Helper.check(secondObject).matches();\r\n    }))\r\n    .collect(Collectors.toList());\r\n```\r\nI have no use for `myList` that I am generating with that code, but so far it&#39;s the only way I have been able to populate the `Map`.\r\n\r\nIs there a way I can populate directly to the `SortedMap` without having to generate that list?\r\n","title":"Generate a SortedMap based on the contents of two Lists","body":"<p>I am trying to generate a <code>SortedMap</code> using streams directly from two <code>ArrayList</code>s that come from a two different sources. My goal is to have the <code>SortedMap</code> store a <code>Double</code> attribute from the second list as key and the object from the first list as the value, if those objects have a matching attribute, which is checked by a helper Object.</p>\n<p>So far, I can get it accomplished using:</p>\n<pre><code>SortedMap&lt;Double, FirstObject&gt; myMap = new TreeMap&lt;&gt;(Double::compareTo);\n\nList&lt;FirstObject&gt; myList = firstDao.get(someId).stream()\n    .filter(firstobject -&gt; secondDao.get(firstObject.getObjectId())\n        .stream()\n        .anyMatch(secondObject -&gt; {\n            if (Helper.check(secondObject).matches()) {\n                myMap.put(\n                    secondObject.getEfficiency(), firstObject\n                );\n            }\n            return Helper.check(secondObject).matches();\n    }))\n    .collect(Collectors.toList());\n</code></pre>\n<p>I have no use for <code>myList</code> that I am generating with that code, but so far it's the only way I have been able to populate the <code>Map</code>.</p>\n<p>Is there a way I can populate directly to the <code>SortedMap</code> without having to generate that list?</p>\n"},{"tags":["java","gradle","log4j2"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":2,"creation_date":1660647935,"post_id":73372909,"comment_id":129576270,"body_markdown":"It&#39;s not that the function doesn&#39;t exist, it&#39;s the `log4j` package doesn&#39;t.\nDid you update the dependency versions from 1.x to 2.18?\n\nYou may want to refer to this: [log4j migration](https://logging.apache.org/log4j/2.x/manual/migration.html).\n\nBasically some of the package structure changed.","body":"It&#39;s not that the function doesn&#39;t exist, it&#39;s the <code>log4j</code> package doesn&#39;t. Did you update the dependency versions from 1.x to 2.18?  You may want to refer to this: <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">log4j migration</a>.  Basically some of the package structure changed."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1660652924,"post_id":73372909,"comment_id":129578102,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"owner":{"account_id":6788459,"reputation":1126,"user_id":5226331,"accept_rate":85,"display_name":"iibrahimbakr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660652897,"creation_date":1660647557,"question_id":73372909,"body_markdown":"I used these dependencies \r\n[![enter image description here][1]][1]\r\n\r\nThis function is no longer exists `removeAllAppenders` cannot resolve!\r\n\r\n[![I used apache logger][2]][2] \r\n\r\n\r\nWhat is method instead of this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XysSl.png\r\n  [2]: https://i.stack.imgur.com/U5CW8.png","title":"Cannot resolve method removeAllAppenders [org.apache.logging.log4j]","body":"<p>I used these dependencies\n<a href=\"https://i.stack.imgur.com/XysSl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XysSl.png\" alt=\"enter image description here\" /></a></p>\n<p>This function is no longer exists <code>removeAllAppenders</code> cannot resolve!</p>\n<p><a href=\"https://i.stack.imgur.com/U5CW8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U5CW8.png\" alt=\"I used apache logger\" /></a></p>\n<p>What is method instead of this?</p>\n"},{"tags":["java","maven","apache-flink","flink-sql"],"comments":[{"owner":{"account_id":13472617,"reputation":425,"user_id":10060134,"display_name":"Niko"},"score":0,"creation_date":1659449812,"post_id":73205097,"comment_id":129294427,"body_markdown":"In case you using Flink version 1.15 there is no more `${scala.binary.version}` in the dependencies check [here](https://mvnrepository.com/artifact/org.apache.flink/flink-clients/1.15.1) and [here](https://nightlies.apache.org/flink/flink-docs-release-1.15/release-notes/flink-1.15/)","body":"In case you using Flink version 1.15 there is no more <code>${scala.binary.version}</code> in the dependencies check <a href=\"https://mvnrepository.com/artifact/org.apache.flink/flink-clients/1.15.1\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/release-notes/flink-1.15/\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":13472617,"reputation":425,"user_id":10060134,"display_name":"Niko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659434519,"creation_date":1659434519,"answer_id":73205614,"question_id":73205097,"body_markdown":"&gt; The DataGen connector is built-in, no additional dependencies are\r\n&gt; required.\r\n\r\nLook [here][1]\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/table/datagen/","title":"In which package is Flink DataGen SQL Connector","body":"<blockquote>\n<p>The DataGen connector is built-in, no additional dependencies are\nrequired.</p>\n</blockquote>\n<p>Look <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/connectors/table/datagen/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":281886,"reputation":41,"user_id":578464,"display_name":"suleimanforever"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660652765,"creation_date":1660652765,"answer_id":73373968,"question_id":73205097,"body_markdown":"Had to do some digging but I found the docs for doing it in a way that works with the version that I have:\r\nhttps://nightlies.apache.org/flink/flink-docs-release-1.13/docs/connectors/table/datagen/\r\n\r\n    CREATE TEMPORARY TABLE GenOrders\r\n\tWITH (\r\n\t\t&#39;connector&#39; = &#39;datagen&#39;,\r\n\t\t&#39;number-of-rows&#39; = &#39;10&#39;\r\n\t)\r\n\tLIKE ...\r\nI&#39;m sorry that I didn&#39;t mention the Flink version but it is 1.13.","title":"In which package is Flink DataGen SQL Connector","body":"<p>Had to do some digging but I found the docs for doing it in a way that works with the version that I have:\n<a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/connectors/table/datagen/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-release-1.13/docs/connectors/table/datagen/</a></p>\n<pre><code>CREATE TEMPORARY TABLE GenOrders\nWITH (\n    'connector' = 'datagen',\n    'number-of-rows' = '10'\n)\nLIKE ...\n</code></pre>\n<p>I'm sorry that I didn't mention the Flink version but it is 1.13.</p>\n"}],"owner":{"account_id":281886,"reputation":41,"user_id":578464,"display_name":"suleimanforever"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73373968,"answer_count":2,"score":0,"last_activity_date":1660652765,"creation_date":1659432407,"question_id":73205097,"body_markdown":"In which Maven package is [Flink DataGen SQL Connector][1]?\r\n\r\n\r\nI often find examples [like this one][2] with an **import** statement but it&#39;s not specified anywhere in which package, in this particular case searching Maven or search engines didn&#39;t yield a result either.\r\n\r\nHere is a picture of the error that I get:\r\n[![Cannot resolve symbol datagen][3]][3]\r\n\r\nFlink packages in pom.xml are:\r\n\r\n    flink-java\r\n    flink-streaming-java_${scala.binary.version}\r\n    flink-clients_${scala.binary.version}\r\n    flink-statebackend-rocksdb_2.11\r\n    flink-table-api-java\r\n    flink-sql-client_2.11\r\n    flink-test-utils_2.11\r\n\r\nI also tried including:\r\n\r\n    flink-connector-base\r\n    flink-connector-jdbc_2.12\r\n    flink-connector-kafka-base_2.11\r\n\r\nBut it still can&#39;t resolve the import and TableDescriptor.forConnector.\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/datagen/\r\n  [2]: https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/common/\r\n  [3]: https://i.stack.imgur.com/BpwqP.png","title":"In which package is Flink DataGen SQL Connector","body":"<p>In which Maven package is <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/datagen/\" rel=\"nofollow noreferrer\">Flink DataGen SQL Connector</a>?</p>\n<p>I often find examples <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/common/\" rel=\"nofollow noreferrer\">like this one</a> with an <strong>import</strong> statement but it's not specified anywhere in which package, in this particular case searching Maven or search engines didn't yield a result either.</p>\n<p>Here is a picture of the error that I get:\n<a href=\"https://i.stack.imgur.com/BpwqP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BpwqP.png\" alt=\"Cannot resolve symbol datagen\" /></a></p>\n<p>Flink packages in pom.xml are:</p>\n<pre><code>flink-java\nflink-streaming-java_${scala.binary.version}\nflink-clients_${scala.binary.version}\nflink-statebackend-rocksdb_2.11\nflink-table-api-java\nflink-sql-client_2.11\nflink-test-utils_2.11\n</code></pre>\n<p>I also tried including:</p>\n<pre><code>flink-connector-base\nflink-connector-jdbc_2.12\nflink-connector-kafka-base_2.11\n</code></pre>\n<p>But it still can't resolve the import and TableDescriptor.forConnector.</p>\n"},{"tags":["java","scala","jmeter","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588673748,"creation_date":1588673748,"answer_id":61610753,"question_id":61609917,"body_markdown":"Disclaimer: Gatling creator here\r\n\r\nIMHO, first criterion should actually be: which tool would you feel the most comfortable with?\r\n\r\nGatling is code oriented, integrates nicely with IDEs such as IntelliJ or vscode.\r\nJMeter is GUI oriented.\r\n\r\nIf you know about programming, you might prefer Gatling so you can use your usual dev environment and practices (refactoring, peer review, etc). You don&#39;t need to be a dev expert, you&#39;ll be mostly using Gatling&#39;s DSL (make sure to read the [official documentation][1] and go through the tutorials).\r\n\r\nOn the contrary, if you can&#39;t code (and don&#39;t want to learn the basics such as methods, parameters, IDE), you shouldn&#39;t go with Gatling and go with JMeter instead.\r\n\r\nNote: if you&#39;re looking for a cloud based platform for Gatling, we provide [Gatling FrontLine][2].\r\n\r\n\r\n  [1]: https://gatling.io/docs/current/\r\n  [2]: https://gatling.io/gatling-frontline/","title":"Jmeter vs Gatling for performance testing 2020","body":"<p>Disclaimer: Gatling creator here</p>\n\n<p>IMHO, first criterion should actually be: which tool would you feel the most comfortable with?</p>\n\n<p>Gatling is code oriented, integrates nicely with IDEs such as IntelliJ or vscode.\nJMeter is GUI oriented.</p>\n\n<p>If you know about programming, you might prefer Gatling so you can use your usual dev environment and practices (refactoring, peer review, etc). You don't need to be a dev expert, you'll be mostly using Gatling's DSL (make sure to read the <a href=\"https://gatling.io/docs/current/\" rel=\"nofollow noreferrer\">official documentation</a> and go through the tutorials).</p>\n\n<p>On the contrary, if you can't code (and don't want to learn the basics such as methods, parameters, IDE), you shouldn't go with Gatling and go with JMeter instead.</p>\n\n<p>Note: if you're looking for a cloud based platform for Gatling, we provide <a href=\"https://gatling.io/gatling-frontline/\" rel=\"nofollow noreferrer\">Gatling FrontLine</a>.</p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588675465,"creation_date":1588675465,"answer_id":61611255,"question_id":61609917,"body_markdown":"Both tools support all your requirements so it&#39;s rather a matter of personal preference/experience. \r\n\r\n 1. Gatling supports less protocols out of the box (limited to [HTTP][1], [JMS][2] and [MQTT][3]) than [JMeter][4], however it is possible to extend both and add support of the protocol(s) of your choice\r\n 2. You will need to do [some extra manual work in order to set up Gatling distributed testing][5] while JMeter aggregates data from the slaves automatically in [Distributed Mode][6]\r\n 3. Gatling is more CI friendly as it assumes writing tests in Scala while supported way of creating a JMeter test is using GUI and [JMeter test plan][7] is XML file and adding a single test element will result in 10+ lines of XML code which is not very readable. \r\n\r\n\r\n  [1]: https://gatling.io/docs/current/http\r\n  [2]: https://gatling.io/docs/current/jms/\r\n  [3]: https://gatling.io/docs/current/mqtt/\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#samplers\r\n  [5]: https://gatling.io/docs/current/cookbook/scaling_out#scaling-out-with-gatling-open-source\r\n  [6]: https://www.blazemeter.com/blog/how-to-perform-distributed-testing-in-jmeter/\r\n  [7]: https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan","title":"Jmeter vs Gatling for performance testing 2020","body":"<p>Both tools support all your requirements so it's rather a matter of personal preference/experience. </p>\n\n<ol>\n<li>Gatling supports less protocols out of the box (limited to <a href=\"https://gatling.io/docs/current/http\" rel=\"nofollow noreferrer\">HTTP</a>, <a href=\"https://gatling.io/docs/current/jms/\" rel=\"nofollow noreferrer\">JMS</a> and <a href=\"https://gatling.io/docs/current/mqtt/\" rel=\"nofollow noreferrer\">MQTT</a>) than <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#samplers\" rel=\"nofollow noreferrer\">JMeter</a>, however it is possible to extend both and add support of the protocol(s) of your choice</li>\n<li>You will need to do <a href=\"https://gatling.io/docs/current/cookbook/scaling_out#scaling-out-with-gatling-open-source\" rel=\"nofollow noreferrer\">some extra manual work in order to set up Gatling distributed testing</a> while JMeter aggregates data from the slaves automatically in <a href=\"https://www.blazemeter.com/blog/how-to-perform-distributed-testing-in-jmeter/\" rel=\"nofollow noreferrer\">Distributed Mode</a></li>\n<li>Gatling is more CI friendly as it assumes writing tests in Scala while supported way of creating a JMeter test is using GUI and <a href=\"https://cwiki.apache.org/confluence/display/JMETER/JmxTestPlan\" rel=\"nofollow noreferrer\">JMeter test plan</a> is XML file and adding a single test element will result in 10+ lines of XML code which is not very readable. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12997019,"reputation":425,"user_id":9394286,"display_name":"RUDRA GANESH SUBBARAYULU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660652028,"creation_date":1660652028,"answer_id":73373821,"question_id":61609917,"body_markdown":"Both support your requirements, \r\n\r\nJMeter :\r\n1. but more than gatling its easy in JMeter for correlation &amp; Parameterisation. \r\n2. In JMeter we have recorded response which allows for details correlation.\r\n3. In JMeter Tagging Transaction names, Creating checkpoints for validation &amp; verification,  a structured UI support.\r\noverall script creation/ recording is easier in JMeter than in gatling. \r\n\r\nGatling : \r\n 1. Gatling has a code scripting facility which is not a case in JMeter.\r\n 2. Gatling uses less memory, Disk than JMeter\r\n 3. Gatling is better with creating and handling more V-user, Thread re-use than JMeter.\r\n\r\n@user3038404 now gatling also support Java &amp; Gardle for PT (could be suitable for you)","title":"Jmeter vs Gatling for performance testing 2020","body":"<p>Both support your requirements,</p>\n<p>JMeter :</p>\n<ol>\n<li>but more than gatling its easy in JMeter for correlation &amp; Parameterisation.</li>\n<li>In JMeter we have recorded response which allows for details correlation.</li>\n<li>In JMeter Tagging Transaction names, Creating checkpoints for validation &amp; verification,  a structured UI support.\noverall script creation/ recording is easier in JMeter than in gatling.</li>\n</ol>\n<p>Gatling :</p>\n<ol>\n<li>Gatling has a code scripting facility which is not a case in JMeter.</li>\n<li>Gatling uses less memory, Disk than JMeter</li>\n<li>Gatling is better with creating and handling more V-user, Thread re-use than JMeter.</li>\n</ol>\n<p>@user3038404 now gatling also support Java &amp; Gardle for PT (could be suitable for you)</p>\n"}],"owner":{"account_id":3645217,"reputation":341,"user_id":3038404,"accept_rate":0,"display_name":"user3038404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1660652028,"creation_date":1588670941,"question_id":61609917,"body_markdown":"I am trying to compare Gatling to Jmeter for performance testing.\r\n\r\nMy requirements is: \r\n\r\n 1. I want compatibility with CI/CD and automation.\r\n 2. Performance should be good  (I know Gatling is a bit better performance in regard resource hogging).\r\n 3. Dynamic -&gt; i.e. able to run a test, change some settings in the environment, and then run the test again.\r\n 4. Use on Cloud (I feel like because Gatling is better for performance, it would be better for the cloud... But I don&#39;t know if there really is a big difference here).\r\n 5. I am testing a ***Monolith*** system, so I wont be able to split up the system as well (as microservices), and using mocks(mockito) will be harder to be able to get more exact performance on for example a request for an endpoint, excluding database time, etc. So this kind of means the performance test I suppose I will be doing is more of a stress test and testing general performance of system, rather then getting measurements of isolated parts of system. \r\n\r\nAny help would be great. I ask because a lot of information seems to be out of date on this...\r\n\r\nEdit: I amn&#39;t afraid of Gatling being programmed in Scala and gatling dsl. Im more afraid of limitations and gotchas that i amnt seeing! \r\n","title":"Jmeter vs Gatling for performance testing 2020","body":"<p>I am trying to compare Gatling to Jmeter for performance testing.</p>\n\n<p>My requirements is: </p>\n\n<ol>\n<li>I want compatibility with CI/CD and automation.</li>\n<li>Performance should be good  (I know Gatling is a bit better performance in regard resource hogging).</li>\n<li>Dynamic -> i.e. able to run a test, change some settings in the environment, and then run the test again.</li>\n<li>Use on Cloud (I feel like because Gatling is better for performance, it would be better for the cloud... But I don't know if there really is a big difference here).</li>\n<li>I am testing a <strong><em>Monolith</em></strong> system, so I wont be able to split up the system as well (as microservices), and using mocks(mockito) will be harder to be able to get more exact performance on for example a request for an endpoint, excluding database time, etc. So this kind of means the performance test I suppose I will be doing is more of a stress test and testing general performance of system, rather then getting measurements of isolated parts of system. </li>\n</ol>\n\n<p>Any help would be great. I ask because a lot of information seems to be out of date on this...</p>\n\n<p>Edit: I amn't afraid of Gatling being programmed in Scala and gatling dsl. Im more afraid of limitations and gotchas that i amnt seeing! </p>\n"},{"tags":["java","android","mongodb","android-studio"],"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660651812,"creation_date":1660651812,"question_id":73373777,"body_markdown":"I am experimenting with the integration of MongoDB on Android using Java as the language.\r\n\r\nI followed the guide provided by MongoDB to configure the Atlas account and the Realm to communicate with.\r\nAfter that I tried implementing CRUD methods, for insertions I did not encounter any problems, while for queries I did.\r\nIn particular to get all the objects of a certain class in a certain collection.\r\n\r\nI used this method, as suggested by the wiki (https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/)\r\n```\r\n RealmResults&lt;Contact&gt; contacts = backgroundThreadRealm.where(Contact.class).findAll();\r\n```\r\ninserted in a class made to handle background tasks:\r\n```\r\npublic class BackgroundTasks implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        String realmName = &quot;MyApp&quot;;\r\n        RealmConfiguration config = new RealmConfiguration.Builder().name(realmName).build();\r\n        Realm backgroundThreadRealm = Realm.getInstance(config);\r\n\r\n        // all Tasks in the realm\r\n        RealmResults&lt;Contact&gt; contacts = backgroundThreadRealm.where(Contact.class).findAll();\r\n\r\n        Log.v(&quot;Contacts&quot;, String.valueOf(contacts.size()));\r\n\r\n        backgroundThreadRealm.close();\r\n    }\r\n}\r\n```\r\nWhile in the MainActivity I inserted this (looks like a battlefield, maybe I inserted stuff I won&#39;t even need, but I was experimenting):\r\n```\r\n // initialize mongodb realm\r\n        realm.init(this);\r\n\r\n        // open realm\r\nString realmName = &quot;MyApp&quot;;\r\n        RealmConfiguration config = new RealmConfiguration.Builder().name(realmName).build();\r\n        backgroundThreadRealm = Realm.getInstance(config);\r\n\r\napp = new App(new AppConfiguration.Builder(appId).build());\r\n\r\nUser user = app.currentUser();\r\n        mongoClient = user.getMongoClient(&quot;mongodb-atlas&quot;);\r\n        mongoDatabase = mongoClient.getDatabase(&quot;MyApp&quot;);\r\n        MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;Contacts&quot;);\r\n\r\nFutureTask&lt;String&gt; task = new FutureTask(new BackgroundTasks(), &quot;test&quot;);\r\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\r\n        executorService.execute(task);\r\n```\r\n\r\n```\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        // the ui thread realm uses asynchronous transactions, so we can only safely close the realm\r\n        // when the activity ends and we can safely assume that those transactions have completed\r\n        backgroundThreadRealm.close();\r\n    }\r\n```\r\n\r\nI get no exceptions but the Log:\r\n```\r\nLog.v(&quot;Contacts&quot;, String.valueOf(contacts.size()));\r\n```\r\nresults in 0.\r\n\r\nYet I have these contacts in the DB (they have different IDs):\r\n\r\n[![query][1]][1]\r\n\r\nAnd the related model in java:\r\n\r\n```\r\n@RealmClass\r\npublic class Contact extends RealmObject implements Serializable {\r\n    @PrimaryKey\r\n    private String nameSurname;\r\n    private int age;\r\n\r\n    // Drawable resource ID\r\n    private int imageResourceId;\r\n\r\n    public Contact() {\r\n    }\r\n\r\n    public Contact(String name, String surname, int age, int imageResourceId) {\r\n        this.nameSurname = name+&quot; &quot;+surname;\r\n        this.age = age;\r\n        this.imageResourceId = imageResourceId;\r\n    }\r\n\r\n// In addition all the getters and setters\r\n```\r\n\r\nCan you help me?\r\nIt would also help to understand when it&#39;s appropriate to make synchronous and asynchronous calls, because I guess I&#39;ve confused the implementations in general.\r\nI&#39;d like to use synchronous calls to get all the objects in the DB and then display them on the app, but it seems ill-advised online so I tried asynchronous, although I&#39;m sure I did something wrong..\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9emkO.png","title":"How to collect data from MongoDB in Android Studio?","body":"<p>I am experimenting with the integration of MongoDB on Android using Java as the language.</p>\n<p>I followed the guide provided by MongoDB to configure the Atlas account and the Realm to communicate with.\nAfter that I tried implementing CRUD methods, for insertions I did not encounter any problems, while for queries I did.\nIn particular to get all the objects of a certain class in a certain collection.</p>\n<p>I used this method, as suggested by the wiki (<a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/</a>)</p>\n<pre><code> RealmResults&lt;Contact&gt; contacts = backgroundThreadRealm.where(Contact.class).findAll();\n</code></pre>\n<p>inserted in a class made to handle background tasks:</p>\n<pre><code>public class BackgroundTasks implements Runnable {\n    @Override\n    public void run() {\n        String realmName = &quot;MyApp&quot;;\n        RealmConfiguration config = new RealmConfiguration.Builder().name(realmName).build();\n        Realm backgroundThreadRealm = Realm.getInstance(config);\n\n        // all Tasks in the realm\n        RealmResults&lt;Contact&gt; contacts = backgroundThreadRealm.where(Contact.class).findAll();\n\n        Log.v(&quot;Contacts&quot;, String.valueOf(contacts.size()));\n\n        backgroundThreadRealm.close();\n    }\n}\n</code></pre>\n<p>While in the MainActivity I inserted this (looks like a battlefield, maybe I inserted stuff I won't even need, but I was experimenting):</p>\n<pre><code> // initialize mongodb realm\n        realm.init(this);\n\n        // open realm\nString realmName = &quot;MyApp&quot;;\n        RealmConfiguration config = new RealmConfiguration.Builder().name(realmName).build();\n        backgroundThreadRealm = Realm.getInstance(config);\n\napp = new App(new AppConfiguration.Builder(appId).build());\n\nUser user = app.currentUser();\n        mongoClient = user.getMongoClient(&quot;mongodb-atlas&quot;);\n        mongoDatabase = mongoClient.getDatabase(&quot;MyApp&quot;);\n        MongoCollection&lt;Document&gt; mongoCollection = mongoDatabase.getCollection(&quot;Contacts&quot;);\n\nFutureTask&lt;String&gt; task = new FutureTask(new BackgroundTasks(), &quot;test&quot;);\n        ExecutorService executorService = Executors.newFixedThreadPool(2);\n        executorService.execute(task);\n</code></pre>\n<pre><code>    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        // the ui thread realm uses asynchronous transactions, so we can only safely close the realm\n        // when the activity ends and we can safely assume that those transactions have completed\n        backgroundThreadRealm.close();\n    }\n</code></pre>\n<p>I get no exceptions but the Log:</p>\n<pre><code>Log.v(&quot;Contacts&quot;, String.valueOf(contacts.size()));\n</code></pre>\n<p>results in 0.</p>\n<p>Yet I have these contacts in the DB (they have different IDs):</p>\n<p><a href=\"https://i.stack.imgur.com/9emkO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9emkO.png\" alt=\"query\" /></a></p>\n<p>And the related model in java:</p>\n<pre><code>@RealmClass\npublic class Contact extends RealmObject implements Serializable {\n    @PrimaryKey\n    private String nameSurname;\n    private int age;\n\n    // Drawable resource ID\n    private int imageResourceId;\n\n    public Contact() {\n    }\n\n    public Contact(String name, String surname, int age, int imageResourceId) {\n        this.nameSurname = name+&quot; &quot;+surname;\n        this.age = age;\n        this.imageResourceId = imageResourceId;\n    }\n\n// In addition all the getters and setters\n</code></pre>\n<p>Can you help me?\nIt would also help to understand when it's appropriate to make synchronous and asynchronous calls, because I guess I've confused the implementations in general.\nI'd like to use synchronous calls to get all the objects in the DB and then display them on the app, but it seems ill-advised online so I tried asynchronous, although I'm sure I did something wrong..</p>\n<p>Thanks</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2200196,"reputation":57,"user_id":1944765,"display_name":"Bo6Bear"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1357198770,"creation_date":1357198770,"answer_id":14134852,"question_id":14134558,"body_markdown":"on the other side of the coin, you should use &quot;non-char&quot; regex that looks like this if special characters = allChars - number - ABC - space in your app context.\r\n\r\n    String regepx = &quot;[^\\\\s\\\\w]*&quot;;\r\n","title":"List of all special characters that need to be escaped in a regex","body":"<p>on the other side of the coin, you should use \"non-char\" regex that looks like this if special characters = allChars - number - ABC - space in your app context.</p>\n\n<pre><code>String regepx = \"[^\\\\s\\\\w]*\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288388,"reputation":1965,"user_id":588773,"display_name":"Sorin"},"down_vote_count":7,"up_vote_count":110,"is_accepted":true,"score":103,"last_activity_date":1533127007,"creation_date":1357199045,"answer_id":14134893,"question_id":14134558,"body_markdown":"You can look at the javadoc of the Pattern class: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\r\n\r\nYou need to escape any char listed there if you want the regular char and not the special meaning.\r\n\r\nAs a maybe simpler solution, you can put the template between \\Q and \\E - everything between them is considered as escaped.\r\n","title":"List of all special characters that need to be escaped in a regex","body":"<p>You can look at the javadoc of the Pattern class: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html</a></p>\n\n<p>You need to escape any char listed there if you want the regular char and not the special meaning.</p>\n\n<p>As a maybe simpler solution, you can put the template between \\Q and \\E - everything between them is considered as escaped.</p>\n"},{"tags":[],"owner":{"display_name":"user3033429"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1392178670,"creation_date":1392178670,"answer_id":21718536,"question_id":14134558,"body_markdown":"On @Sorin&#39;s suggestion of the Java Pattern docs, it looks like chars to escape are at least:\r\n\r\n    \\.[{(*+?^$|\r\n","title":"List of all special characters that need to be escaped in a regex","body":"<p>On @Sorin's suggestion of the Java Pattern docs, it looks like chars to escape are at least:</p>\n\n<pre><code>\\.[{(*+?^$|\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5062500,"reputation":1581,"user_id":4063622,"display_name":"Tobi G."},"down_vote_count":1,"up_vote_count":114,"is_accepted":false,"score":113,"last_activity_date":1660651398,"creation_date":1412658209,"answer_id":26228852,"question_id":14134558,"body_markdown":" - Java characters that have to be escaped in regular expressions are:&lt;br&gt;\r\n    `\\.[]{}()&lt;&gt;*+-=!?^$|`\r\n - Two of the closing brackets (`]` and `}`) only have to be escaped after opening the same type of bracket.\r\n - In `[]`-brackets some characters (like `+` and `-`) do sometimes work without escape.","title":"List of all special characters that need to be escaped in a regex","body":"<ul>\n<li>Java characters that have to be escaped in regular expressions are:<br>\n<code>\\.[]{}()&lt;&gt;*+-=!?^$|</code></li>\n<li>Two of the closing brackets (<code>]</code> and <code>}</code>) only have to be escaped after opening the same type of bracket.</li>\n<li>In <code>[]</code>-brackets some characters (like <code>+</code> and <code>-</code>) do sometimes work without escape.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":468349,"reputation":16729,"user_id":874275,"accept_rate":75,"display_name":"Bohdan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1480587255,"creation_date":1418432021,"answer_id":27454382,"question_id":14134558,"body_markdown":"According to the [String Literals / Metacharacters][1] documentation page, they are:\r\n\r\n`&lt;([{\\^-=$!|]})?*+.&gt;`\r\n\r\nAlso it would be cool to have that list refereed somewhere in code, but I don&#39;t know where that could be...\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/regex/literals.html","title":"List of all special characters that need to be escaped in a regex","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/literals.html\" rel=\"noreferrer\">String Literals / Metacharacters</a> documentation page, they are:</p>\n\n<p><code>&lt;([{\\^-=$!|]})?*+.&gt;</code></p>\n\n<p>Also it would be cool to have that list refereed somewhere in code, but I don't know where that could be...</p>\n"},{"tags":[],"owner":{"account_id":3778003,"reputation":6793,"user_id":3138238,"accept_rate":74,"display_name":"madx"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1463162574,"creation_date":1463162574,"answer_id":37216573,"question_id":14134558,"body_markdown":"To escape you could just use this from [Java 1.5](http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)):\r\n\r\n    Pattern.quote(&quot;$test&quot;);\r\n\r\nYou will match exacty the word `$test`","title":"List of all special characters that need to be escaped in a regex","body":"<p>To escape you could just use this from <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)\" rel=\"noreferrer\">Java 1.5</a>:</p>\n\n<pre><code>Pattern.quote(\"$test\");\n</code></pre>\n\n<p>You will match exacty the word <code>$test</code></p>\n"},{"tags":[],"owner":{"account_id":10070127,"reputation":81,"user_id":7443979,"display_name":"NeuroDuck"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1491029163,"creation_date":1491027746,"answer_id":43153528,"question_id":14134558,"body_markdown":"Combining what everyone said, I propose the following, to keep the list of characters special to RegExp clearly listed in their own String, and to avoid having to try to visually parse thousands of &quot;\\\\\\\\&quot;&#39;s.  This seems to work pretty well for me:\r\n\r\n    final String regExSpecialChars = &quot;&lt;([{\\\\^-=$!|]})?*+.&gt;&quot;;\r\n    final String regExSpecialCharsRE = regExSpecialChars.replaceAll( &quot;.&quot;, &quot;\\\\\\\\$0&quot;);\r\n    final Pattern reCharsREP = Pattern.compile( &quot;[&quot; + regExSpecialCharsRE + &quot;]&quot;);\r\n    \r\n    String quoteRegExSpecialChars( String s)\r\n    {\r\n        Matcher m = reCharsREP.matcher( s);\r\n        return m.replaceAll( &quot;\\\\\\\\$0&quot;);\r\n    }","title":"List of all special characters that need to be escaped in a regex","body":"<p>Combining what everyone said, I propose the following, to keep the list of characters special to RegExp clearly listed in their own String, and to avoid having to try to visually parse thousands of \"\\\\\"'s.  This seems to work pretty well for me:</p>\n\n<pre><code>final String regExSpecialChars = \"&lt;([{\\\\^-=$!|]})?*+.&gt;\";\nfinal String regExSpecialCharsRE = regExSpecialChars.replaceAll( \".\", \"\\\\\\\\$0\");\nfinal Pattern reCharsREP = Pattern.compile( \"[\" + regExSpecialCharsRE + \"]\");\n\nString quoteRegExSpecialChars( String s)\n{\n    Matcher m = reCharsREP.matcher( s);\n    return m.replaceAll( \"\\\\\\\\$0\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145106,"reputation":2941,"user_id":1902896,"accept_rate":77,"display_name":"wheeler"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558734587,"creation_date":1558734587,"answer_id":56299884,"question_id":14134558,"body_markdown":"The `Pattern.quote(String s)` sort of does what you want. However it leaves a little left to be desired; it doesn&#39;t actually escape the individual characters, just wraps the string with `\\Q...\\E`. \r\n\r\nThere is not a method that does exactly what you are looking for, but the good news is that it is actually fairly simple to escape all of the special characters in a Java regular expression:\r\n\r\n    regex.replaceAll(&quot;[\\\\W]&quot;, &quot;\\\\\\\\$0&quot;)\r\n\r\nWhy does this work? Well, the documentation for [`Pattern`][1] specifically says that its permissible to escape non-alphabetic characters that don&#39;t necessarily have to be escaped:\r\n\r\n&gt; It is an error to use a backslash prior to any alphabetic character that does not denote an escaped construct; these are reserved for future extensions to the regular-expression language. __A backslash may be used prior to a non-alphabetic character regardless of whether that character is part of an unescaped construct.__ \r\n\r\nFor example, `;` is not a special character in a regular expression. However, if you escape it, `Pattern` will still interpret `\\;` as `;`. Here are a few more examples:\r\n\r\n- `&gt;` becomes `\\&gt;` which is equivalent to `&gt;`\r\n- `[` becomes `\\[` which is the escaped form of `[`\r\n- `8` is still `8`.\r\n- `\\)` becomes `\\\\\\)` which is the escaped forms of `\\` and `(` concatenated. \r\n\r\n__Note:__ The key is is the definition of &quot;non-alphabetic&quot;, which in the documentation really means &quot;non-_word_&quot; characters, or characters outside the character set `[a-zA-Z_0-9]`. \r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#bs","title":"List of all special characters that need to be escaped in a regex","body":"<p>The <code>Pattern.quote(String s)</code> sort of does what you want. However it leaves a little left to be desired; it doesn't actually escape the individual characters, just wraps the string with <code>\\Q...\\E</code>. </p>\n\n<p>There is not a method that does exactly what you are looking for, but the good news is that it is actually fairly simple to escape all of the special characters in a Java regular expression:</p>\n\n<pre><code>regex.replaceAll(\"[\\\\W]\", \"\\\\\\\\$0\")\n</code></pre>\n\n<p>Why does this work? Well, the documentation for <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#bs\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> specifically says that its permissible to escape non-alphabetic characters that don't necessarily have to be escaped:</p>\n\n<blockquote>\n  <p>It is an error to use a backslash prior to any alphabetic character that does not denote an escaped construct; these are reserved for future extensions to the regular-expression language. <strong>A backslash may be used prior to a non-alphabetic character regardless of whether that character is part of an unescaped construct.</strong> </p>\n</blockquote>\n\n<p>For example, <code>;</code> is not a special character in a regular expression. However, if you escape it, <code>Pattern</code> will still interpret <code>\\;</code> as <code>;</code>. Here are a few more examples:</p>\n\n<ul>\n<li><code>&gt;</code> becomes <code>\\&gt;</code> which is equivalent to <code>&gt;</code></li>\n<li><code>[</code> becomes <code>\\[</code> which is the escaped form of <code>[</code></li>\n<li><code>8</code> is still <code>8</code>.</li>\n<li><code>\\)</code> becomes <code>\\\\\\)</code> which is the escaped forms of <code>\\</code> and <code>(</code> concatenated. </li>\n</ul>\n\n<p><strong>Note:</strong> The key is is the definition of \"non-alphabetic\", which in the documentation really means \"non-<em>word</em>\" characters, or characters outside the character set <code>[a-zA-Z_0-9]</code>. </p>\n"},{"tags":[],"owner":{"account_id":4467428,"reputation":1112,"user_id":3634630,"accept_rate":80,"display_name":"brcolow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565032168,"creation_date":1565032168,"answer_id":57364755,"question_id":14134558,"body_markdown":"Assuming that you have and trust (to be authoritative) the list of escape characters Java regex uses (would be nice if these characters were exposed in some Pattern class member) you can use the following method to escape the character if it is indeed necessary:\r\n\r\n```java\r\nprivate static final char[] escapeChars = { &#39;&lt;&#39;, &#39;(&#39;, &#39;[&#39;, &#39;{&#39;, &#39;\\\\&#39;, &#39;^&#39;, &#39;-&#39;, &#39;=&#39;, &#39;$&#39;, &#39;!&#39;, &#39;|&#39;, &#39;]&#39;, &#39;}&#39;, &#39;)&#39;, &#39;?&#39;, &#39;*&#39;, &#39;+&#39;, &#39;.&#39;, &#39;&gt;&#39; };\r\n\r\nprivate static String regexEscape(char character) {\r\n    for (char escapeChar : escapeChars) {\r\n        if (character == escapeChar) {\r\n            return &quot;\\\\&quot; + character;\r\n        }\r\n    }\r\n    return String.valueOf(character);\r\n}\r\n```\r\n","title":"List of all special characters that need to be escaped in a regex","body":"<p>Assuming that you have and trust (to be authoritative) the list of escape characters Java regex uses (would be nice if these characters were exposed in some Pattern class member) you can use the following method to escape the character if it is indeed necessary:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final char[] escapeChars = { '&lt;', '(', '[', '{', '\\\\', '^', '-', '=', '$', '!', '|', ']', '}', ')', '?', '*', '+', '.', '&gt;' };\n\nprivate static String regexEscape(char character) {\n    for (char escapeChar : escapeChars) {\n        if (character == escapeChar) {\n            return \"\\\\\" + character;\n        }\n    }\n    return String.valueOf(character);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325907,"reputation":6960,"user_id":647380,"accept_rate":91,"display_name":"pocesar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1566604118,"creation_date":1566604118,"answer_id":57634093,"question_id":14134558,"body_markdown":"although the answer is for Java, but the code can be easily adapted from this Kotlin String extension I came up with (adapted from that @brcolow provided):\r\n\r\n```kt\r\nprivate val escapeChars = charArrayOf(\r\n    &#39;&lt;&#39;,\r\n    &#39;(&#39;,\r\n    &#39;[&#39;,\r\n    &#39;{&#39;,\r\n    &#39;\\\\&#39;,\r\n    &#39;^&#39;,\r\n    &#39;-&#39;,\r\n    &#39;=&#39;,\r\n    &#39;$&#39;,\r\n    &#39;!&#39;,\r\n    &#39;|&#39;,\r\n    &#39;]&#39;,\r\n    &#39;}&#39;,\r\n    &#39;)&#39;,\r\n    &#39;?&#39;,\r\n    &#39;*&#39;,\r\n    &#39;+&#39;,\r\n    &#39;.&#39;,\r\n    &#39;&gt;&#39;\r\n)\r\n\r\nfun String.escapePattern(): String {\r\n    return this.fold(&quot;&quot;) {\r\n      acc, chr -&gt;\r\n        acc + if (escapeChars.contains(chr)) &quot;\\\\$chr&quot; else &quot;$chr&quot;\r\n    }\r\n}\r\n\r\nfun main() {\r\n    println(&quot;(.*)&quot;.escapePattern())\r\n}\r\n``` \r\n\r\nprints `\\(\\.\\*\\)`\r\n\r\ncheck it in action here https://pl.kotl.in/h-3mXZkNE","title":"List of all special characters that need to be escaped in a regex","body":"<p>although the answer is for Java, but the code can be easily adapted from this Kotlin String extension I came up with (adapted from that @brcolow provided):</p>\n\n<pre><code>private val escapeChars = charArrayOf(\n    '&lt;',\n    '(',\n    '[',\n    '{',\n    '\\\\',\n    '^',\n    '-',\n    '=',\n    '$',\n    '!',\n    '|',\n    ']',\n    '}',\n    ')',\n    '?',\n    '*',\n    '+',\n    '.',\n    '&gt;'\n)\n\nfun String.escapePattern(): String {\n    return this.fold(\"\") {\n      acc, chr -&gt;\n        acc + if (escapeChars.contains(chr)) \"\\\\$chr\" else \"$chr\"\n    }\n}\n\nfun main() {\n    println(\"(.*)\".escapePattern())\n}\n</code></pre>\n\n<p>prints <code>\\(\\.\\*\\)</code></p>\n\n<p>check it in action here <a href=\"https://pl.kotl.in/h-3mXZkNE\" rel=\"noreferrer\">https://pl.kotl.in/h-3mXZkNE</a></p>\n"}],"owner":{"account_id":2158608,"reputation":2014,"user_id":1913280,"accept_rate":71,"display_name":"Avinash Nair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409091,"favorite_count":0,"down_vote_count":0,"up_vote_count":135,"accepted_answer_id":14134893,"answer_count":10,"score":135,"last_activity_date":1660651398,"creation_date":1357197251,"question_id":14134558,"body_markdown":"I am trying to create an application that matches a message template with a message that a user is trying to send. I am using Java regex for matching the message. The template/message may contain special characters.\r\n\r\nHow would I get the complete list of special characters that need to be escaped in order for my regex to work and match in the maximum possible cases?\r\n\r\nIs there a universal solution for escaping all special characters in Java regex?","title":"List of all special characters that need to be escaped in a regex","body":"<p>I am trying to create an application that matches a message template with a message that a user is trying to send. I am using Java regex for matching the message. The template/message may contain special characters.</p>\n\n<p>How would I get the complete list of special characters that need to be escaped in order for my regex to work and match in the maximum possible cases?</p>\n\n<p>Is there a universal solution for escaping all special characters in Java regex?</p>\n"},{"tags":["java","angular","spring-boot","file-upload"],"answers":[{"tags":[],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660638848,"creation_date":1660638848,"answer_id":73371061,"question_id":73370793,"body_markdown":"Try to don&#39;t add:\r\n\r\n    headers.append(&#39;Content-Type&#39;, &#39; multipart/form-data content&#39;);\r\n\r\nThe web will automatically set for you","title":"Current request is not of type MultipartHttpServletRequest","body":"<p>Try to don't add:</p>\n<pre><code>headers.append('Content-Type', ' multipart/form-data content');\n</code></pre>\n<p>The web will automatically set for you</p>\n"}],"owner":{"account_id":25050964,"reputation":99,"user_id":18906891,"display_name":"Sonn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73371061,"answer_count":1,"score":2,"last_activity_date":1660651396,"creation_date":1660637606,"question_id":73370793,"body_markdown":"I&#39;m trying to send an image + object from Angular to Spring Boot but everytime I try I get this error:\r\n\r\n    Current request is not of type [org.springframework.web.multipart.MultipartHttpServletRequest]\r\n\r\nThis is my Angular code:\r\n\r\n    addPostWithIMG(image: File, postRequest: PostRequest): Subscription {\r\n    const headers = new HttpHeaders();\r\n    headers.append(&#39;Content-Type&#39;, &#39; multipart/form-data content&#39;);\r\n    var file: FormData = new FormData();\r\n    file.append(&#39;file&#39;, image);\r\n    file.append(&#39;postRequest&#39;, JSON.stringify(postRequest));\r\n    console.log(file)\r\n    return this.http.post&lt;PostRequest&gt;(`${this.baseUrl + &quot;multi&quot;}`, file, {headers: headers}).subscribe({\r\n      next: (data: any) =&gt; {\r\n        console.log(data)\r\n      },\r\n      error: (err: any) =&gt; {\r\n        console.error(err)\r\n      },\r\n      complete: () =&gt; {\r\n        console.log(&quot;Done&quot;)\r\n      }\r\n    });\r\n  }\r\n\r\nThis my Spring Boot side:\r\n\r\n      @PostMapping(path = &quot;multi&quot;)\r\n    public String multi(MultipartHttpServletRequest request) throws IOException {\r\n        String postJSON = request.getParameter(&quot;postRequest&quot;);\r\n        PostRequest = new Gson().fromJson(post, PostRequest.class);\r\n        MultipartFile file = request.getFile(&quot;file&quot;);\r\n        Binary files = new Binary(file.getBytes());\r\n        File fileToSave = new File(&quot;Post/src/main/resources/&quot; + postRequest.getPostId() + &quot;.png&quot;);\r\n        log.info(&quot;file: {}&quot;, fileToSave.getAbsolutePath());\r\n        if (!fileToSave.exists()) {\r\n            log.info(&quot;file created: {}&quot;, fileToSave);\r\n            fileToSave.createNewFile();\r\n        } else {\r\n            log.info(&quot;file already exist: {}&quot;, fileToSave);\r\n        }\r\n        // Try-with-resource\r\n        try (OutputStream out = new FileOutputStream(fileToSave.getAbsolutePath())) {\r\n            out.write(files.getData());\r\n            out.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return &quot;Image saved&quot;;\r\n    }\r\n\r\nCan Anyone help me to find the reason of thi exception\r\nThank you very much","title":"Current request is not of type MultipartHttpServletRequest","body":"<p>I'm trying to send an image + object from Angular to Spring Boot but everytime I try I get this error:</p>\n<pre><code>Current request is not of type [org.springframework.web.multipart.MultipartHttpServletRequest]\n</code></pre>\n<p>This is my Angular code:</p>\n<pre><code>addPostWithIMG(image: File, postRequest: PostRequest): Subscription {\nconst headers = new HttpHeaders();\nheaders.append('Content-Type', ' multipart/form-data content');\nvar file: FormData = new FormData();\nfile.append('file', image);\nfile.append('postRequest', JSON.stringify(postRequest));\nconsole.log(file)\nreturn this.http.post&lt;PostRequest&gt;(`${this.baseUrl + &quot;multi&quot;}`, file, {headers: headers}).subscribe({\n  next: (data: any) =&gt; {\n    console.log(data)\n  },\n  error: (err: any) =&gt; {\n    console.error(err)\n  },\n  complete: () =&gt; {\n    console.log(&quot;Done&quot;)\n  }\n});\n</code></pre>\n<p>}</p>\n<p>This my Spring Boot side:</p>\n<pre><code>  @PostMapping(path = &quot;multi&quot;)\npublic String multi(MultipartHttpServletRequest request) throws IOException {\n    String postJSON = request.getParameter(&quot;postRequest&quot;);\n    PostRequest = new Gson().fromJson(post, PostRequest.class);\n    MultipartFile file = request.getFile(&quot;file&quot;);\n    Binary files = new Binary(file.getBytes());\n    File fileToSave = new File(&quot;Post/src/main/resources/&quot; + postRequest.getPostId() + &quot;.png&quot;);\n    log.info(&quot;file: {}&quot;, fileToSave.getAbsolutePath());\n    if (!fileToSave.exists()) {\n        log.info(&quot;file created: {}&quot;, fileToSave);\n        fileToSave.createNewFile();\n    } else {\n        log.info(&quot;file already exist: {}&quot;, fileToSave);\n    }\n    // Try-with-resource\n    try (OutputStream out = new FileOutputStream(fileToSave.getAbsolutePath())) {\n        out.write(files.getData());\n        out.flush();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    return &quot;Image saved&quot;;\n}\n</code></pre>\n<p>Can Anyone help me to find the reason of thi exception\nThank you very much</p>\n"},{"tags":["java","android","whatsapp"],"comments":[{"owner":{"account_id":4073450,"reputation":1868,"user_id":9130109,"display_name":"EL TEGANI MOHAMED"},"score":0,"creation_date":1523690922,"post_id":49828922,"comment_id":86673321,"body_markdown":"check if they have an API","body":"check if they have an API"},{"owner":{"account_id":4510463,"reputation":2517,"user_id":3666741,"accept_rate":56,"display_name":"cSteusloff"},"score":0,"creation_date":1523690993,"post_id":49828922,"comment_id":86673337,"body_markdown":"When you click on someone&#39;s status, it gets stored in your cache memory. See here: https://trickybell.com/save-whatsapp-status-without-taking-screenshots/","body":"When you click on someone&#39;s status, it gets stored in your cache memory. See here: <a href=\"https://trickybell.com/save-whatsapp-status-without-taking-screenshots/\" rel=\"nofollow noreferrer\">trickybell.com/save-whatsapp-status-without-taking-screensho&zwnj;&#8203;ts</a>"},{"owner":{"account_id":3186638,"reputation":1975,"user_id":2692102,"accept_rate":93,"display_name":"Hanzala"},"score":0,"creation_date":1523953429,"post_id":49828922,"comment_id":86761541,"body_markdown":"did you got any solution?","body":"did you got any solution?"},{"owner":{"account_id":6084545,"reputation":2524,"user_id":4749098,"accept_rate":50,"display_name":"Anand Savjani"},"score":0,"creation_date":1554139005,"post_id":49828922,"comment_id":97633433,"body_markdown":"have you get any solution for it?","body":"have you get any solution for it?"}],"answers":[{"tags":[],"owner":{"account_id":13247251,"reputation":91,"user_id":9565955,"display_name":"Woods"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523691942,"creation_date":1523691942,"answer_id":49829093,"question_id":49828922,"body_markdown":"Well all the content of WhatsApp user status are locally stored in **/WhatsApp/.Statuses**  folder except text Statuses. You can simply load all the images and videos that are in the folder in grid view and give options to save and share.","title":"How can i fetch Whatsapp user&#39;s status and display in my android app?","body":"<p>Well all the content of WhatsApp user status are locally stored in <strong>/WhatsApp/.Statuses</strong>  folder except text Statuses. You can simply load all the images and videos that are in the folder in grid view and give options to save and share.</p>\n"},{"tags":[],"owner":{"account_id":9086648,"reputation":67,"user_id":6764363,"display_name":"RVK"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523692129,"creation_date":1523692129,"answer_id":49829120,"question_id":49828922,"body_markdown":"WhatsApp store showed status to your device memory or sd card **WhatsApp/Media/.Statuses** folder. This folder is hidden. You can fetch data from there.","title":"How can i fetch Whatsapp user&#39;s status and display in my android app?","body":"<p>WhatsApp store showed status to your device memory or sd card <strong>WhatsApp/Media/.Statuses</strong> folder. This folder is hidden. You can fetch data from there.</p>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598850556,"creation_date":1598850556,"answer_id":63665101,"question_id":49828922,"body_markdown":"**For Kotlin Lover**\r\n\r\n       companion object {\r\n        const val WHATSAPP_STATUS_FOLDER_PATH = &quot;/WhatsApp/Media/.Statuses/&quot;\r\n       }\r\n\r\n       fun getImagePath(): ArrayList&lt;String&gt; {\r\n        // image path list\r\n        val list: ArrayList&lt;String&gt; = ArrayList()\r\n\r\n        // fetching file path from storage\r\n        val file = File(Environment.getExternalStorageDirectory().toString() + WHATSAPP_STATUS_FOLDER_PATH)\r\n        val listFile = file.listFiles()\r\n\r\n        if (listFile != null &amp;&amp; listFile.isNullOrEmpty()) {\r\n            Arrays.sort(listFile, LastModifiedFileComparator.LASTMODIFIED_REVERSE)\r\n        }\r\n\r\n        if (listFile != null) {\r\n            for (imgFile in listFile) {\r\n                if (\r\n                    imgFile.name.endsWith(&quot;.jpg&quot;)\r\n                    || imgFile.name.endsWith(&quot;.jpeg&quot;)\r\n                    || imgFile.name.endsWith(&quot;.png&quot;)\r\n                ) {\r\n                    val model = imgFile.absolutePath\r\n                    list.add(model)\r\n                }\r\n            }\r\n        }\r\n\r\n        // return imgPath List\r\n        return list\r\n    }","title":"How can i fetch Whatsapp user&#39;s status and display in my android app?","body":"<p><strong>For Kotlin Lover</strong></p>\n<pre><code>   companion object {\n    const val WHATSAPP_STATUS_FOLDER_PATH = &quot;/WhatsApp/Media/.Statuses/&quot;\n   }\n\n   fun getImagePath(): ArrayList&lt;String&gt; {\n    // image path list\n    val list: ArrayList&lt;String&gt; = ArrayList()\n\n    // fetching file path from storage\n    val file = File(Environment.getExternalStorageDirectory().toString() + WHATSAPP_STATUS_FOLDER_PATH)\n    val listFile = file.listFiles()\n\n    if (listFile != null &amp;&amp; listFile.isNullOrEmpty()) {\n        Arrays.sort(listFile, LastModifiedFileComparator.LASTMODIFIED_REVERSE)\n    }\n\n    if (listFile != null) {\n        for (imgFile in listFile) {\n            if (\n                imgFile.name.endsWith(&quot;.jpg&quot;)\n                || imgFile.name.endsWith(&quot;.jpeg&quot;)\n                || imgFile.name.endsWith(&quot;.png&quot;)\n            ) {\n                val model = imgFile.absolutePath\n                list.add(model)\n            }\n        }\n    }\n\n    // return imgPath List\n    return list\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17385276,"reputation":974,"user_id":12596713,"display_name":"ahmad bajwa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616750187,"creation_date":1606841281,"answer_id":65094817,"question_id":49828922,"body_markdown":" **There You Go**\r\n\r\n        final String WHATSAPP_STATUSES_LOCATION = &quot;/WhatsApp/Media/.Statuses&quot;;\r\n        RecyclerView mRecyclerViewMediaList = findViewById(R.id.recyclerViewMedia);\r\n        LinearLayoutManager mLinearLayoutManager = new LinearLayoutManager(this);\r\n        mRecyclerViewMediaList.setLayoutManager(mLinearLayoutManager);\r\n        ListAdapter recyclerViewMediaAdapter = new ListAdapter(MainActivity.this, this.getListFiles(new File(Environment.getExternalStorageDirectory().toString() + WHATSAPP_STATUSES_LOCATION)));\r\n        mRecyclerViewMediaList.setAdapter(recyclerViewMediaAdapter);\r\n\r\n \r\n\r\n      private ArrayList&lt;File&gt; getListFiles(File parentDir) {\r\n        ArrayList&lt;File&gt; inFiles = new ArrayList&lt;&gt;();\r\n        File[] files;\r\n        files = parentDir.listFiles();\r\n        if (files != null) {\r\n            for (File file : files) {\r\n                Log.e(&quot;check&quot;, file.getName());\r\n                if (file.getName().endsWith(&quot;.jpg&quot;) ||\r\n                        file.getName().endsWith(&quot;.gif&quot;) ||\r\n                        file.getName().endsWith(&quot;.mp4&quot;)) {\r\n                    if (!inFiles.contains(file))\r\n                        inFiles.add(file);\r\n                }\r\n            }\r\n        }\r\n        return inFiles;\r\n    }\r\n\r\n\r\n\r\n**Adapter**\r\n\r\n   \r\n\r\n     public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.MyViewHolder&gt; {\r\n        final Context context;\r\n        final ArrayList&lt;File&gt; modelFeedArrayList;\r\n        private static final String DIRECTORY_TO_SAVE_MEDIA_NOW = &quot;/WhatsappStatus/&quot;;\r\n    \r\n        public ListAdapter(Context context, final ArrayList&lt;File&gt; modelFeedArrayList) {\r\n            this.context = context;\r\n            this.modelFeedArrayList = modelFeedArrayList;\r\n        }\r\n    \r\n    \r\n        @NonNull\r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recyclerview_media_row_item, parent, false);\r\n            return new MyViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull final MyViewHolder holder, int position) {\r\n    \r\n            File currentFile = modelFeedArrayList.get(position);\r\n    \r\n            if (currentFile.getAbsolutePath().endsWith(&quot;.mp4&quot;)) {\r\n                holder.cardViewImageMedia.setVisibility(View.GONE);\r\n                holder.cardViewVideoMedia.setVisibility(View.VISIBLE);\r\n                Uri video = Uri.parse(currentFile.getAbsolutePath());\r\n                holder.videoViewVideoMedia.setVideoURI(video);\r\n                holder.videoViewVideoMedia.setOnPreparedListener(mp -&gt; {\r\n                    mp.setLooping(true);\r\n                    holder.videoViewVideoMedia.start();\r\n                });\r\n            } else {\r\n                holder.cardViewImageMedia.setVisibility(View.VISIBLE);\r\n                holder.cardViewVideoMedia.setVisibility(View.GONE);\r\n                Bitmap myBitmap = BitmapFactory.decodeFile(currentFile.getAbsolutePath());\r\n                holder.imageViewImageMedia.setImageBitmap(myBitmap);\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return modelFeedArrayList.size();\r\n        }\r\n    \r\n        public static class MyViewHolder extends RecyclerView.ViewHolder {\r\n            ImageView imageViewImageMedia;\r\n            VideoView videoViewVideoMedia;\r\n            CardView cardViewVideoMedia;\r\n            CardView cardViewImageMedia;\r\n    \r\n    \r\n            public MyViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                imageViewImageMedia = itemView.findViewById(R.id.imageViewImageMedia);\r\n                videoViewVideoMedia = itemView.findViewById(R.id.videoViewVideoMedia);\r\n                cardViewVideoMedia = itemView.findViewById(R.id.cardViewVideoMedia);\r\n                cardViewImageMedia = itemView.findViewById(R.id.cardViewImageMedia);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**Row XML**\r\n\r\n  \r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;300dp&quot;\r\n        android:layout_margin=&quot;10dp&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardViewVideoMedia&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n            &lt;VideoView\r\n                android:id=&quot;@+id/videoViewVideoMedia&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot; /&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardViewImageMedia&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/imageViewImageMedia&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_alignParentTop=&quot;true&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:scaleType=&quot;fitCenter&quot;\r\n                android:contentDescription=&quot;@string/todo&quot; /&gt;\r\n    \r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n\r\n\r\nadd to your AndroidManifest.xml.\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n   \r\n\r\n     &lt;application\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n\r\n\r\nAndroid 10 File.listFiles() may return null, see [https://stackoverflow.com/questions/20714058/file-exists-and-is-directory-but-listfiles-returns-null][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20714058/file-exists-and-is-directory-but-listfiles-returns-null","title":"How can i fetch Whatsapp user&#39;s status and display in my android app?","body":"<p><strong>There You Go</strong></p>\n<pre><code>    final String WHATSAPP_STATUSES_LOCATION = &quot;/WhatsApp/Media/.Statuses&quot;;\n    RecyclerView mRecyclerViewMediaList = findViewById(R.id.recyclerViewMedia);\n    LinearLayoutManager mLinearLayoutManager = new LinearLayoutManager(this);\n    mRecyclerViewMediaList.setLayoutManager(mLinearLayoutManager);\n    ListAdapter recyclerViewMediaAdapter = new ListAdapter(MainActivity.this, this.getListFiles(new File(Environment.getExternalStorageDirectory().toString() + WHATSAPP_STATUSES_LOCATION)));\n    mRecyclerViewMediaList.setAdapter(recyclerViewMediaAdapter);\n\n\n\n  private ArrayList&lt;File&gt; getListFiles(File parentDir) {\n    ArrayList&lt;File&gt; inFiles = new ArrayList&lt;&gt;();\n    File[] files;\n    files = parentDir.listFiles();\n    if (files != null) {\n        for (File file : files) {\n            Log.e(&quot;check&quot;, file.getName());\n            if (file.getName().endsWith(&quot;.jpg&quot;) ||\n                    file.getName().endsWith(&quot;.gif&quot;) ||\n                    file.getName().endsWith(&quot;.mp4&quot;)) {\n                if (!inFiles.contains(file))\n                    inFiles.add(file);\n            }\n        }\n    }\n    return inFiles;\n}\n</code></pre>\n<p><strong>Adapter</strong></p>\n<pre><code> public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.MyViewHolder&gt; {\n    final Context context;\n    final ArrayList&lt;File&gt; modelFeedArrayList;\n    private static final String DIRECTORY_TO_SAVE_MEDIA_NOW = &quot;/WhatsappStatus/&quot;;\n\n    public ListAdapter(Context context, final ArrayList&lt;File&gt; modelFeedArrayList) {\n        this.context = context;\n        this.modelFeedArrayList = modelFeedArrayList;\n    }\n\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recyclerview_media_row_item, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, int position) {\n\n        File currentFile = modelFeedArrayList.get(position);\n\n        if (currentFile.getAbsolutePath().endsWith(&quot;.mp4&quot;)) {\n            holder.cardViewImageMedia.setVisibility(View.GONE);\n            holder.cardViewVideoMedia.setVisibility(View.VISIBLE);\n            Uri video = Uri.parse(currentFile.getAbsolutePath());\n            holder.videoViewVideoMedia.setVideoURI(video);\n            holder.videoViewVideoMedia.setOnPreparedListener(mp -&gt; {\n                mp.setLooping(true);\n                holder.videoViewVideoMedia.start();\n            });\n        } else {\n            holder.cardViewImageMedia.setVisibility(View.VISIBLE);\n            holder.cardViewVideoMedia.setVisibility(View.GONE);\n            Bitmap myBitmap = BitmapFactory.decodeFile(currentFile.getAbsolutePath());\n            holder.imageViewImageMedia.setImageBitmap(myBitmap);\n        }\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return modelFeedArrayList.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder {\n        ImageView imageViewImageMedia;\n        VideoView videoViewVideoMedia;\n        CardView cardViewVideoMedia;\n        CardView cardViewImageMedia;\n\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n            imageViewImageMedia = itemView.findViewById(R.id.imageViewImageMedia);\n            videoViewVideoMedia = itemView.findViewById(R.id.videoViewVideoMedia);\n            cardViewVideoMedia = itemView.findViewById(R.id.cardViewVideoMedia);\n            cardViewImageMedia = itemView.findViewById(R.id.cardViewImageMedia);\n\n        }\n    }\n}\n</code></pre>\n<p><strong>Row XML</strong></p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;300dp&quot;\n    android:layout_margin=&quot;10dp&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardViewVideoMedia&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:visibility=&quot;gone&quot;&gt;\n        &lt;VideoView\n            android:id=&quot;@+id/videoViewVideoMedia&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot; /&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardViewImageMedia&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageViewImageMedia&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_weight=&quot;1&quot;\n            android:scaleType=&quot;fitCenter&quot;\n            android:contentDescription=&quot;@string/todo&quot; /&gt;\n\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>add to your AndroidManifest.xml.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n\n\n &lt;application\n        android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>Android 10 File.listFiles() may return null, see <a href=\"https://stackoverflow.com/questions/20714058/file-exists-and-is-directory-but-listfiles-returns-null\">File exists and IS directory, but listFiles() returns null</a></p>\n"},{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660650983,"creation_date":1660650983,"answer_id":73373617,"question_id":49828922,"body_markdown":"**Problem of** `path` **and** `file not found` **solved with this.**\r\n\r\n**You can try this Path. it may be helpful for you.**\r\n\r\nFor `Android-10` and above \r\n\r\n    File(Environment.getExternalStorageDirectory() + File.separator + &quot;Android/media/com.whatsapp/WhatsApp/Media/.Statuses&quot;)\r\n\r\nBelow `Android-10` Version \r\n\r\n    File(Environment.getExternalStorageDirectory() + File.separator + &quot;WhatsApp/Media/.Statuses&quot;)","title":"How can i fetch Whatsapp user&#39;s status and display in my android app?","body":"<p><strong>Problem of</strong> <code>path</code> <strong>and</strong> <code>file not found</code> <strong>solved with this.</strong></p>\n<p><strong>You can try this Path. it may be helpful for you.</strong></p>\n<p>For <code>Android-10</code> and above</p>\n<pre><code>File(Environment.getExternalStorageDirectory() + File.separator + &quot;Android/media/com.whatsapp/WhatsApp/Media/.Statuses&quot;)\n</code></pre>\n<p>Below <code>Android-10</code> Version</p>\n<pre><code>File(Environment.getExternalStorageDirectory() + File.separator + &quot;WhatsApp/Media/.Statuses&quot;)\n</code></pre>\n"}],"owner":{"account_id":13363614,"reputation":71,"user_id":9644721,"display_name":"Nauman Shafqat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11393,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1660650983,"creation_date":1523690419,"question_id":49828922,"body_markdown":"I want to fetch live status from Whatsapp into my android activity. Is it possible  to do this? If yes your guidance will be really appreciated.\r\n\r\n[Please see the image i want to make an  activity containing all the statuses. Just like the image][1]\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OhJYA.jpg","title":"How can i fetch Whatsapp user&#39;s status and display in my android app?","body":"<p>I want to fetch live status from Whatsapp into my android activity. Is it possible  to do this? If yes your guidance will be really appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OhJYA.jpg\" rel=\"noreferrer\">Please see the image i want to make an  activity containing all the statuses. Just like the image</a></p>\n\n<p>Thanks</p>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660650963,"post_id":73373584,"comment_id":129577346,"body_markdown":"If `counterstart` is a Java variable it should be included between `&lt;%=` and `%&gt;` as well.","body":"If <code>counterstart</code> is a Java variable it should be included between <code>&lt;%=</code> and <code>%&gt;</code> as well."},{"owner":{"account_id":19370393,"reputation":97,"user_id":14163801,"display_name":"Sachin Singh"},"score":0,"creation_date":1660651650,"post_id":73373584,"comment_id":129577598,"body_markdown":"no, it is a javascript variable and this peace of code is a part of javascript function","body":"no, it is a javascript variable and this peace of code is a part of javascript function"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1660652278,"post_id":73373584,"comment_id":129577866,"body_markdown":"Then why do you expect it to be expanded? It is part of a string. I *think* (but a bit of context would make this easier to answer) it should be something like `&#39;&lt;%=messages.getString(&quot;16359&quot;)%&gt;&#39; + &quot;(&quot; + counterstarttest + &quot;)&quot;;` then.","body":"Then why do you expect it to be expanded? It is part of a string. I <i>think</i> (but a bit of context would make this easier to answer) it should be something like <code>&#39;&lt;%=messages.getString(&quot;16359&quot;)%&gt;&#39; + &quot;(&quot; + counterstarttest + &quot;)&quot;;</code> then."}],"owner":{"account_id":19370393,"reputation":97,"user_id":14163801,"display_name":"Sachin Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660650842,"creation_date":1660650842,"question_id":73373584,"body_markdown":"    &#39;&lt;%=messages.getString(&quot;16359&quot;)%&gt;+&quot;(&quot;+counterstarttest+&quot;)&quot;&#39;;\r\n\r\nThe output should be a string where counterstart test is also a dynamic variable but it is not behaving as such \r\n\r\n I am getting\r\n\r\nStart Test +&quot;(&quot;+counterstarttest+&quot;)&quot;&#39;","title":"using expression tag in javascript code not getting expected output?","body":"<pre><code>'&lt;%=messages.getString(&quot;16359&quot;)%&gt;+&quot;(&quot;+counterstarttest+&quot;)&quot;';\n</code></pre>\n<p>The output should be a string where counterstart test is also a dynamic variable but it is not behaving as such</p>\n<p>I am getting</p>\n<p>Start Test +&quot;(&quot;+counterstarttest+&quot;)&quot;'</p>\n"},{"tags":["java","linux","windows","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1460038378,"post_id":36478741,"comment_id":60567677,"body_markdown":"I&#39;m really not sure what you&#39;re trying to do.  There is a Windows version of the JDK available - why are you using the Linux version?  Can you tell us a bit more about what it is you&#39;re doing?","body":"I&#39;m really not sure what you&#39;re trying to do.  There is a Windows version of the JDK available - why are you using the Linux version?  Can you tell us a bit more about what it is you&#39;re doing?"},{"owner":{"account_id":8178524,"reputation":712,"user_id":6156530,"display_name":"T Gray"},"score":0,"creation_date":1460039516,"post_id":36478741,"comment_id":60568673,"body_markdown":"I would also like to know as some of us in the office have successfully done the install on  Windows 10 and some of us get the hang.","body":"I would also like to know as some of us in the office have successfully done the install on  Windows 10 and some of us get the hang."},{"owner":{"account_id":555014,"reputation":2838,"user_id":1061575,"accept_rate":17,"display_name":"speedogoo"},"score":0,"creation_date":1460041569,"post_id":36478741,"comment_id":60570274,"body_markdown":"I didn&#39;t try Oracle JDK but I installed Ubuntu&#39;s own openjdk-jre-headless and it works fine. Maybe Oracle JDK depends on a head but bash is only CLI?","body":"I didn&#39;t try Oracle JDK but I installed Ubuntu&#39;s own openjdk-jre-headless and it works fine. Maybe Oracle JDK depends on a head but bash is only CLI?"},{"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"score":0,"creation_date":1460047005,"post_id":36478741,"comment_id":60574124,"body_markdown":"You&#39;ll need to iinstall the Windows JDK/JRE. Installing Ubuntu&#39;s command shell won&#39;t make the Linux JDK/JRE run under Windows.","body":"You&#39;ll need to iinstall the Windows JDK/JRE. Installing Ubuntu&#39;s command shell won&#39;t make the Linux JDK/JRE run under Windows."},{"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"score":0,"creation_date":1460100246,"post_id":36478741,"comment_id":60595489,"body_markdown":"@stdunbar the windows JDK is inaccesible inside bash shell. actually both the environments are isolated from each other as far as i read. so cross using their utilities are out of question","body":"@stdunbar the windows JDK is inaccesible inside bash shell. actually both the environments are isolated from each other as far as i read. so cross using their utilities are out of question"},{"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"score":0,"creation_date":1460100293,"post_id":36478741,"comment_id":60595518,"body_markdown":"@speedogoo yeah openJDK is my next bet, but was hoping to run some hadoop binaries which work well with oracle JDK","body":"@speedogoo yeah openJDK is my next bet, but was hoping to run some hadoop binaries which work well with oracle JDK"},{"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"score":0,"creation_date":1460100513,"post_id":36478741,"comment_id":60595629,"body_markdown":"@Bill was actually hoping for that, isn&#39;t the windows version of bash shell just a wrapper providing a linux compatible kernel interface for all your native ubuntu utilities. then why should JDK be any different","body":"@Bill was actually hoping for that, isn&#39;t the windows version of bash shell just a wrapper providing a linux compatible kernel interface for all your native ubuntu utilities. then why should JDK be any different"},{"owner":{"account_id":555014,"reputation":2838,"user_id":1061575,"accept_rate":17,"display_name":"speedogoo"},"score":0,"creation_date":1460105218,"post_id":36478741,"comment_id":60598379,"body_markdown":"@SaurabhMishra I tried again. Even OpenJDK does not fully work. You can run a bare javac command, but if you try to compile any file it hangs again.","body":"@SaurabhMishra I tried again. Even OpenJDK does not fully work. You can run a bare javac command, but if you try to compile any file it hangs again."},{"owner":{"account_id":1862293,"reputation":222,"user_id":1686655,"display_name":"Revoman"},"score":0,"creation_date":1464067103,"post_id":36478741,"comment_id":62317646,"body_markdown":"My attempts have ended poorly with apt-get problems trying to resolve /proc.  The Oracle JRE extracts just fine, but won&#39;t run.","body":"My attempts have ended poorly with apt-get problems trying to resolve /proc.  The Oracle JRE extracts just fine, but won&#39;t run."},{"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"score":1,"creation_date":1467181324,"post_id":36478741,"comment_id":63618890,"body_markdown":"@Revoman check out the discussion at the https://github.com/Microsoft/BashOnWindows/issues/49. It seems the issue with the default-jdk has been resolved and you can try apt-get it. Also what&#39;s that problem you are mentioning about /proc?","body":"@Revoman check out the discussion at the <a href=\"https://github.com/Microsoft/BashOnWindows/issues/49\" rel=\"nofollow noreferrer\">github.com/Microsoft/BashOnWindows/issues/49</a>. It seems the issue with the default-jdk has been resolved and you can try apt-get it. Also what&#39;s that problem you are mentioning about /proc?"},{"owner":{"account_id":402778,"reputation":1452,"user_id":770134,"accept_rate":75,"display_name":"fieldju"},"score":1,"creation_date":1490378707,"post_id":36478741,"comment_id":73102044,"body_markdown":"@SaurabhMishra can you adjust your chosen answer as this is possible now.","body":"@SaurabhMishra can you adjust your chosen answer as this is possible now."}],"answers":[{"tags":[],"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1460787116,"creation_date":1460787116,"answer_id":36660797,"question_id":36478741,"body_markdown":"Seems installing JDK8 is not working at the moment on Build#14316 of WSL. But trying to install JDK7 worked fine for me. Exploring the limits of this installation at the moment and will keep posted.\r\nIdea came from here : https://github.com/Microsoft/BashOnWindows/issues/196","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>Seems installing JDK8 is not working at the moment on Build#14316 of WSL. But trying to install JDK7 worked fine for me. Exploring the limits of this installation at the moment and will keep posted.\nIdea came from here : <a href=\"https://github.com/Microsoft/BashOnWindows/issues/196\" rel=\"noreferrer\">https://github.com/Microsoft/BashOnWindows/issues/196</a></p>\n"},{"tags":[],"owner":{"account_id":6269756,"reputation":131,"user_id":4874328,"accept_rate":25,"display_name":"Julien Richard"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1470240046,"creation_date":1470240046,"answer_id":38748525,"question_id":36478741,"body_markdown":"It seems that the problem occured with java oracle version, I have download the openJDK version and now it work","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>It seems that the problem occured with java oracle version, I have download the openJDK version and now it work</p>\n"},{"tags":[],"owner":{"account_id":5929885,"reputation":539,"user_id":6707143,"display_name":"Karl Horton"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471831059,"creation_date":1471830752,"answer_id":39070422,"question_id":36478741,"body_markdown":"I&#39;m confirming here that Oracle JDK Version 8u102, x64 for linux is installable ok on Windows 10 Insider Build 14905, released on 16th August 2016.\r\n\r\n[Downloadable from here after accepting license][1]\r\n\r\n    C:\\&gt;systeminfo | findstr /B /C:&quot;OS Name&quot; /C:&quot;OS Version&quot;\r\n    OS Name:                   Microsoft Windows 10 Pro Insider Preview\r\n    OS Version:                10.0.14905 N/A Build 14905\r\n\r\nI followed the instructions here: [wikiHow Oracle Java Install][2]\r\n\r\n    $ java -version\r\n    java version &quot;1.8.0_102&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_102-b14)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)\r\n     \r\n    $ javac -version\r\n    javac 1.8.0_102\r\n\r\nI&#39;ve not yet had a chance to really stress this install, but this is better than the previous hangs.\r\n\r\n\r\n  [1]: http://download.oracle.com/otn-pub/java/jdk/8u102-b14/jdk-8u102-linux-x64.tar.gz\r\n  [2]: http://www.wikihow.com/Install-Oracle-Java-on-Ubuntu-Linux","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>I'm confirming here that Oracle JDK Version 8u102, x64 for linux is installable ok on Windows 10 Insider Build 14905, released on 16th August 2016.</p>\n\n<p><a href=\"http://download.oracle.com/otn-pub/java/jdk/8u102-b14/jdk-8u102-linux-x64.tar.gz\" rel=\"noreferrer\">Downloadable from here after accepting license</a></p>\n\n<pre><code>C:\\&gt;systeminfo | findstr /B /C:\"OS Name\" /C:\"OS Version\"\nOS Name:                   Microsoft Windows 10 Pro Insider Preview\nOS Version:                10.0.14905 N/A Build 14905\n</code></pre>\n\n<p>I followed the instructions here: <a href=\"http://www.wikihow.com/Install-Oracle-Java-on-Ubuntu-Linux\" rel=\"noreferrer\">wikiHow Oracle Java Install</a></p>\n\n<pre><code>$ java -version\njava version \"1.8.0_102\"\nJava(TM) SE Runtime Environment (build 1.8.0_102-b14)\nJava HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)\n\n$ javac -version\njavac 1.8.0_102\n</code></pre>\n\n<p>I've not yet had a chance to really stress this install, but this is better than the previous hangs.</p>\n"},{"tags":[],"owner":{"account_id":9262204,"reputation":21,"user_id":6878869,"display_name":"Mike Selender"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1474829131,"creation_date":1474829131,"answer_id":39690516,"question_id":36478741,"body_markdown":"it may work for Insider Preview build 14905, but hangs on Windows 10 Pro build 14393. A good part of the problem is that Microsoft is using Ubuntu 14.0.4. 14.10 or later would probably better support Java 8.","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>it may work for Insider Preview build 14905, but hangs on Windows 10 Pro build 14393. A good part of the problem is that Microsoft is using Ubuntu 14.0.4. 14.10 or later would probably better support Java 8.</p>\n"},{"tags":[],"owner":{"account_id":402778,"reputation":1452,"user_id":770134,"accept_rate":75,"display_name":"fieldju"},"down_vote_count":2,"up_vote_count":95,"is_accepted":true,"score":93,"last_activity_date":1496199585,"creation_date":1481344512,"answer_id":41072208,"question_id":36478741,"body_markdown":"I wanted to clarify that as of 9 December 2016, you most certainly can install Java 8 on Ubuntu Bash for Windows 10 and that @Karl Horton is correct.\r\n\r\n**You will need to install unzip** `sudo apt-get install unzip`\r\n\r\nCopy this script somewhere in your bash for windows session and make it executable (chmod +x filename). If you do not use a command line based editor such as vim then you will have windows line endings to deal with. you can use dos2unix or your preferred way of dealing with that. I just paste it into a file using vim.\r\n\r\n     #!/bin/bash\r\n    \r\n    set -ex\r\n\r\n    # UPDATE THESE URLs\r\n    export JDK_URL=http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\r\n    export UNLIMITED_STRENGTH_URL=http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\r\n\r\n    # Download Oracle Java 8 accepting the license\r\n    wget --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\r\n    ${JDK_URL}\r\n    # Extract the archive\r\n    tar -xzvf jdk-*.tar.gz\r\n    # clean up the tar\r\n    rm -fr jdk-*.tar.gz\r\n    # mk the jvm dir\r\n    sudo mkdir -p /usr/lib/jvm\r\n    # move the server jre\r\n    sudo mv jdk1.8* /usr/lib/jvm/oracle_jdk8\r\n    \r\n    # install unlimited strength policy\r\n    wget --no-cookies --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\r\n    ${UNLIMITED_STRENGTH_URL}\r\n    unzip jce_policy-8.zip\r\n    mv UnlimitedJCEPolicyJDK8/local_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\r\n    mv UnlimitedJCEPolicyJDK8/US_export_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\r\n    \r\n    sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/oracle_jdk8/jre/bin/java 2000\r\n    sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/oracle_jdk8/bin/javac 2000\r\n    \r\n    sudo echo &quot;export J2SDKDIR=/usr/lib/jvm/oracle_jdk8\r\n    export J2REDIR=/usr/lib/jvm/oracle_jdk8/jre\r\n    export PATH=$PATH:/usr/lib/jvm/oracle_jdk8/bin:/usr/lib/jvm/oracle_jdk8/db/bin:/usr/lib/jvm/oracle_jdk8/jre/bin\r\n    export JAVA_HOME=/usr/lib/jvm/oracle_jdk8\r\n    export DERBY_HOME=/usr/lib/jvm/oracle_jdk8/db&quot; | sudo tee -a /etc/profile.d/oraclejdk.sh\r\n                \r\nAnd now I can do the following\r\n\r\n    fieldju@DESKTOP-LTL6MIC:~$ java -version\r\n    java version &quot;1.8.0_112&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_112-b15)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.112-b15, mixed mode)                                                \r\n\r\nThe links and versions in the above script are likely to be out of date by the time you read this, so just head over to http://www.oracle.com/technetwork/java/javase/downloads/index.html accept the license so that their js lets you copy the new URLs and you should be good to go.\r\n","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>I wanted to clarify that as of 9 December 2016, you most certainly can install Java 8 on Ubuntu Bash for Windows 10 and that @Karl Horton is correct.</p>\n\n<p><strong>You will need to install unzip</strong> <code>sudo apt-get install unzip</code></p>\n\n<p>Copy this script somewhere in your bash for windows session and make it executable (chmod +x filename). If you do not use a command line based editor such as vim then you will have windows line endings to deal with. you can use dos2unix or your preferred way of dealing with that. I just paste it into a file using vim.</p>\n\n<pre><code> #!/bin/bash\n\nset -ex\n\n# UPDATE THESE URLs\nexport JDK_URL=http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz\nexport UNLIMITED_STRENGTH_URL=http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\n\n# Download Oracle Java 8 accepting the license\nwget --no-cookies --header \"Cookie: oraclelicense=accept-securebackup-cookie\" \\\n${JDK_URL}\n# Extract the archive\ntar -xzvf jdk-*.tar.gz\n# clean up the tar\nrm -fr jdk-*.tar.gz\n# mk the jvm dir\nsudo mkdir -p /usr/lib/jvm\n# move the server jre\nsudo mv jdk1.8* /usr/lib/jvm/oracle_jdk8\n\n# install unlimited strength policy\nwget --no-cookies --header \"Cookie: oraclelicense=accept-securebackup-cookie\" \\\n${UNLIMITED_STRENGTH_URL}\nunzip jce_policy-8.zip\nmv UnlimitedJCEPolicyJDK8/local_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\nmv UnlimitedJCEPolicyJDK8/US_export_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\n\nsudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/oracle_jdk8/jre/bin/java 2000\nsudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/oracle_jdk8/bin/javac 2000\n\nsudo echo \"export J2SDKDIR=/usr/lib/jvm/oracle_jdk8\nexport J2REDIR=/usr/lib/jvm/oracle_jdk8/jre\nexport PATH=$PATH:/usr/lib/jvm/oracle_jdk8/bin:/usr/lib/jvm/oracle_jdk8/db/bin:/usr/lib/jvm/oracle_jdk8/jre/bin\nexport JAVA_HOME=/usr/lib/jvm/oracle_jdk8\nexport DERBY_HOME=/usr/lib/jvm/oracle_jdk8/db\" | sudo tee -a /etc/profile.d/oraclejdk.sh\n</code></pre>\n\n<p>And now I can do the following</p>\n\n<pre><code>fieldju@DESKTOP-LTL6MIC:~$ java -version\njava version \"1.8.0_112\"\nJava(TM) SE Runtime Environment (build 1.8.0_112-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 25.112-b15, mixed mode)                                                \n</code></pre>\n\n<p>The links and versions in the above script are likely to be out of date by the time you read this, so just head over to <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a> accept the license so that their js lets you copy the new URLs and you should be good to go.</p>\n"},{"tags":[],"owner":{"account_id":542631,"reputation":2771,"user_id":755370,"accept_rate":82,"display_name":"AndroidNoob"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1495208680,"creation_date":1486549270,"answer_id":42110403,"question_id":36478741,"body_markdown":"I used the script given by @fieldju but he missed some things that the script depends on, and also copy/pasting the contents results in having windows line endings/carriage returns (`/r`) which will need replacing to linux returns. Also, I found it a lot more straightforward to download the zips needed first and put them alongside the script. Here&#39;s a full list of what I did:\n\n 1. In `bash`, type `sudo apt-get install zip unzip` to make sure unzip/zip is installed on your `bash` console\n 2. Download the latest Linux version of the Java JDK from the [oracle website][1] (I have a 64 bit system so I chose &quot;Linux x64&quot;) and save it in a folder somewhere on your computer that you can get to in `bash` NOTE: don&#39;t change the file name to ensure it works with the script\n 3. Download the [unlimited strength policy][2] seperately in the same folder as the last zip, again ensuring you keep the filename as-is.\n 4. Copy and paste the following script into notepad and save it as `java_install_predownloaded.sh` in the same folder alongside the zips:\n\nScript:\n\n    #!/bin/bash\n\n    # Extract the archive\n    tar -xzvf jdk-*.tar.gz\n\n    # mk the jvm dir\n    sudo mkdir -p /usr/lib/jvm\n    # move the server jre\n    sudo mv jdk1.8* /usr/lib/jvm/oracle_jdk8\n\n    # install unlimited strength policy\n    mv UnlimitedJCEPolicyJDK8/local_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\n    mv UnlimitedJCEPolicyJDK8/US_export_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\n\n    sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/oracle_jdk8/jre/bin/java 2000\n    sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/oracle_jdk8/bin/javac 2000\n\n    sudo echo &quot;export J2SDKDIR=/usr/lib/jvm/oracle_jdk8\n    export J2REDIR=/usr/lib/jvm/oracle_jdk8/jre\n    export PATH=$PATH:/usr/lib/jvm/oracle_jdk8/bin:/usr/lib/jvm/oracle_jdk8/db/bin:/usr/lib/jvm/oracle_jdk8/jre/bin\n    export JAVA_HOME=/usr/lib/jvm/oracle_jdk8\n    export DERBY_HOME=/usr/lib/jvm/oracle_jdk8/db&quot; | sudo tee -a /etc/profile.d/oraclejdk.sh\n\n\nThis code is a modified version from  @fieldju which assumes the zips are already downloaded and in the same folder as this `.sh` file\n\n 5. because the file has the windows carriage returns you need to ensure they are replaced, so in `bash` navigate to where you saved `java_install_predownloaded.sh` and run the following command:\n\n     `sed &#39;s/^M$//&#39; java_install_predownloaded.sh &gt; java_install_predownloaded_unix.sh`\n\nI also then ran the following to ensure there are definitely no line endings from windows:\n\n`sed &#39;s/\\r$//&#39; java_install_predownloaded_unix.sh &gt; java_install_predownloaded_unix_final.sh`\n\n 6. After running those 2 lines, a file called `java_install_predownloaded_unix_final.sh` will be in the folder which is our &#39;cleaned&#39; version without the windows line endings, so you just need to execute `./java_install_predownloaded_unix_final.sh` in `bash` and watch the magic happen. Hey Presto you now have java installed on your bash instance on windows!\n\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\n  [2]: http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>I used the script given by @fieldju but he missed some things that the script depends on, and also copy/pasting the contents results in having windows line endings/carriage returns (<code>/r</code>) which will need replacing to linux returns. Also, I found it a lot more straightforward to download the zips needed first and put them alongside the script. Here's a full list of what I did:</p>\n<ol>\n<li>In <code>bash</code>, type <code>sudo apt-get install zip unzip</code> to make sure unzip/zip is installed on your <code>bash</code> console</li>\n<li>Download the latest Linux version of the Java JDK from the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"noreferrer\">oracle website</a> (I have a 64 bit system so I chose &quot;Linux x64&quot;) and save it in a folder somewhere on your computer that you can get to in <code>bash</code> NOTE: don't change the file name to ensure it works with the script</li>\n<li>Download the <a href=\"http://download.oracle.com/otn-pub/java/jce/8/jce_policy-8.zip\" rel=\"noreferrer\">unlimited strength policy</a> seperately in the same folder as the last zip, again ensuring you keep the filename as-is.</li>\n<li>Copy and paste the following script into notepad and save it as <code>java_install_predownloaded.sh</code> in the same folder alongside the zips:</li>\n</ol>\n<p>Script:</p>\n<pre><code>#!/bin/bash\n\n# Extract the archive\ntar -xzvf jdk-*.tar.gz\n\n# mk the jvm dir\nsudo mkdir -p /usr/lib/jvm\n# move the server jre\nsudo mv jdk1.8* /usr/lib/jvm/oracle_jdk8\n\n# install unlimited strength policy\nmv UnlimitedJCEPolicyJDK8/local_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\nmv UnlimitedJCEPolicyJDK8/US_export_policy.jar /usr/lib/jvm/oracle_jdk8/jre/lib/security/\n\nsudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/oracle_jdk8/jre/bin/java 2000\nsudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/oracle_jdk8/bin/javac 2000\n\nsudo echo &quot;export J2SDKDIR=/usr/lib/jvm/oracle_jdk8\nexport J2REDIR=/usr/lib/jvm/oracle_jdk8/jre\nexport PATH=$PATH:/usr/lib/jvm/oracle_jdk8/bin:/usr/lib/jvm/oracle_jdk8/db/bin:/usr/lib/jvm/oracle_jdk8/jre/bin\nexport JAVA_HOME=/usr/lib/jvm/oracle_jdk8\nexport DERBY_HOME=/usr/lib/jvm/oracle_jdk8/db&quot; | sudo tee -a /etc/profile.d/oraclejdk.sh\n</code></pre>\n<p>This code is a modified version from  @fieldju which assumes the zips are already downloaded and in the same folder as this <code>.sh</code> file</p>\n<ol start=\"5\">\n<li><p>because the file has the windows carriage returns you need to ensure they are replaced, so in <code>bash</code> navigate to where you saved <code>java_install_predownloaded.sh</code> and run the following command:</p>\n<p><code>sed 's/^M$//' java_install_predownloaded.sh &gt; java_install_predownloaded_unix.sh</code></p>\n</li>\n</ol>\n<p>I also then ran the following to ensure there are definitely no line endings from windows:</p>\n<p><code>sed 's/\\r$//' java_install_predownloaded_unix.sh &gt; java_install_predownloaded_unix_final.sh</code></p>\n<ol start=\"6\">\n<li>After running those 2 lines, a file called <code>java_install_predownloaded_unix_final.sh</code> will be in the folder which is our 'cleaned' version without the windows line endings, so you just need to execute <code>./java_install_predownloaded_unix_final.sh</code> in <code>bash</code> and watch the magic happen. Hey Presto you now have java installed on your bash instance on windows!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14631,"reputation":7550,"user_id":30317,"accept_rate":83,"display_name":"CraftyFella"},"down_vote_count":2,"up_vote_count":55,"is_accepted":false,"score":53,"last_activity_date":1496324208,"creation_date":1496324208,"answer_id":44309078,"question_id":36478741,"body_markdown":"I must be missing something... all I did was:\r\n\r\n    sudo apt-get update\r\n    sudo apt-get install default-jdk\r\n    \r\n    java -version\r\n\r\noutput:\r\n\r\n    java version &quot;1.7.0_131&quot;\r\n    OpenJDK Runtime Environment (IcedTea 2.6.9) (7u131-2.6.9-0ubuntu0.14.04.2)\r\n    OpenJDK 64-Bit Server VM (build 24.131-b00, mixed mode)","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>I must be missing something... all I did was:</p>\n\n<pre><code>sudo apt-get update\nsudo apt-get install default-jdk\n\njava -version\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>java version \"1.7.0_131\"\nOpenJDK Runtime Environment (IcedTea 2.6.9) (7u131-2.6.9-0ubuntu0.14.04.2)\nOpenJDK 64-Bit Server VM (build 24.131-b00, mixed mode)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35074,"reputation":8877,"user_id":99248,"accept_rate":38,"display_name":"raisercostin"},"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1514476486,"creation_date":1502354086,"answer_id":45608467,"question_id":36478741,"body_markdown":"It seems in 2017 august the solution is simpler as suggested by @noah-david.\r\n\r\nI was able to install Oracle JDK 8 from the [WebUpd8 team repository][1].\r\n\r\n[Instructions][2]. To add the repository:\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    sudo apt-get update\r\n\r\nTo install:\r\n\r\n    sudo apt-get install oracle-java8-installer \r\n    sudo apt install oracle-java8-set-default\r\n\r\n\r\nAfter install \r\n\r\n    costin@amanta-win:/mnt/c/work$ java -version\r\n    java version &quot;1.8.0_144&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_144-b01)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\r\n\r\n    costin@amanta-win:/mnt/c/work$ which java\r\n    /usr/bin/java\r\n\r\n    costin@amanta-win:/mnt/c/work$ uname -a\r\n    Linux amanta-win 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 \r\n      x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n\r\n  [1]: https://launchpad.net/~webupd8team/+archive/ubuntu/java\r\n  [2]: http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>It seems in 2017 august the solution is simpler as suggested by @noah-david.</p>\n\n<p>I was able to install Oracle JDK 8 from the <a href=\"https://launchpad.net/~webupd8team/+archive/ubuntu/java\" rel=\"noreferrer\">WebUpd8 team repository</a>.</p>\n\n<p><a href=\"http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html\" rel=\"noreferrer\">Instructions</a>. To add the repository:</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\nsudo apt-get update\n</code></pre>\n\n<p>To install:</p>\n\n<pre><code>sudo apt-get install oracle-java8-installer \nsudo apt install oracle-java8-set-default\n</code></pre>\n\n<p>After install </p>\n\n<pre><code>costin@amanta-win:/mnt/c/work$ java -version\njava version \"1.8.0_144\"\nJava(TM) SE Runtime Environment (build 1.8.0_144-b01)\nJava HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)\n\ncostin@amanta-win:/mnt/c/work$ which java\n/usr/bin/java\n\ncostin@amanta-win:/mnt/c/work$ uname -a\nLinux amanta-win 4.4.0-43-Microsoft #1-Microsoft Wed Dec 31 14:42:53 PST 2014 \n  x86_64 x86_64 x86_64 GNU/Linux\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2903039,"reputation":2285,"user_id":2489212,"display_name":"Keith OYS"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1660650837,"creation_date":1508816701,"answer_id":46901847,"question_id":36478741,"body_markdown":"The steps I did for a fresh install of Oracle JDK 8 on my Bash (Windows 10):\r\n\r\n1. `sudo apt-get install python-software-properties`\r\n2. `sudo add-apt-repository ppa:webupd8team/java`\r\n3. `sudo apt-get update`\r\n4. `sudo apt-get install oracle-java8-installer`\r\n5. Accept licenses\r\n\r\n    [![Image][1]][1]\r\n\r\nYou&#39;re done! Check your java version using `java -version` and expected output should be something like this:\r\n\r\n    java version &quot;1.8.0_151&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_151-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n\r\n*P.S. At the time of writing this, stable version Oracle 9 JDK has been released, you could probably tweak step 4 above.*\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qup8Q.png","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>The steps I did for a fresh install of Oracle JDK 8 on my Bash (Windows 10):</p>\n<ol>\n<li><p><code>sudo apt-get install python-software-properties</code></p>\n</li>\n<li><p><code>sudo add-apt-repository ppa:webupd8team/java</code></p>\n</li>\n<li><p><code>sudo apt-get update</code></p>\n</li>\n<li><p><code>sudo apt-get install oracle-java8-installer</code></p>\n</li>\n<li><p>Accept licenses</p>\n<p><a href=\"https://i.stack.imgur.com/Qup8Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qup8Q.png\" alt=\"Image\" /></a></p>\n</li>\n</ol>\n<p>You're done! Check your java version using <code>java -version</code> and expected output should be something like this:</p>\n<pre><code>java version &quot;1.8.0_151&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_151-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\n</code></pre>\n<p><em>P.S. At the time of writing this, stable version Oracle 9 JDK has been released, you could probably tweak step 4 above.</em></p>\n"},{"tags":[],"owner":{"account_id":7130641,"reputation":8139,"user_id":5452008,"accept_rate":0,"display_name":"Soerendip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1529001359,"creation_date":1529001359,"answer_id":50863865,"question_id":36478741,"body_markdown":"This worked for me. Though, I don&#39;t like adding these weird repositories. Linuxuprising?\r\nWould be great if Microsoft would fix that. \r\n\r\n    sudo add-apt-repository ppa:linuxuprising/java\r\n    sudo apt update\r\n    sudo apt install oracle-java10-installer","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>This worked for me. Though, I don't like adding these weird repositories. Linuxuprising?\nWould be great if Microsoft would fix that. </p>\n\n<pre><code>sudo add-apt-repository ppa:linuxuprising/java\nsudo apt update\nsudo apt install oracle-java10-installer\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15013043,"reputation":106,"user_id":10836903,"display_name":"Youssef Khedher"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1601043808,"creation_date":1570622834,"answer_id":58303800,"question_id":36478741,"body_markdown":"I had the same problem but I solve it with one command:\r\n\r\n    sudo apt upgrade\r\nthen run these 3 commands:\r\n\r\n    sudo apt install default-jre\r\n    sudo apt install openjdk-11-jre-headless\r\n    sudo apt install openjdk-8-jre-headless","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>I had the same problem but I solve it with one command:</p>\n<pre><code>sudo apt upgrade\n</code></pre>\n<p>then run these 3 commands:</p>\n<pre><code>sudo apt install default-jre\nsudo apt install openjdk-11-jre-headless\nsudo apt install openjdk-8-jre-headless\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15272699,"reputation":557,"user_id":11019416,"display_name":"jon.bray.eth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1599917687,"creation_date":1595599891,"answer_id":63075344,"question_id":36478741,"body_markdown":"A lot of answers are recommending installing the Linux JDK even though they have a perfectly good Windows JDK. The beauty of WSL is preventing you from having to do things like this, as the file systems are interoperable. As long as you take the file extensions into account (outlined below), you would only have to install both for niche situations.\r\n\r\n### Straightforward Method\r\n\r\nYou can do this very simply by adding the following line of code to your `.bashrc` file, assuming that your Windows Environment variables are set correctly and WSL is installed:\r\n\r\n    # Shared environment variables\r\n    export JAVA_HOME=/mnt/d/Java/jdk11.0.4_10\r\n\r\nJust ensure that you change the directory to point to your JDK folder. In my case, it&#39;s in `D:\\Java\\jdk11.0.4_10` which in WSL is `/mnt/d/Java/jdk11.0.4_10`\r\n\r\nAlso, since you&#39;re using Windows binaries, you must specify the file type when running from a WSL bash shell:\r\n\r\n### Example\r\n\r\nCalling *Windows* JDK from:\r\n\r\n**`CMD`:**\r\n```\r\njavac MyClass.java\r\njava MyClass\r\n```\r\n\r\n**WSL:**\r\n```\r\njavac.exe MyClass.java\r\njava.exe MyClass\r\n```\r\n\r\nNote WSL requires `.exe` since it is a Windows binary. When using the Linux distro of the OpenJDK, no extension is required..","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>A lot of answers are recommending installing the Linux JDK even though they have a perfectly good Windows JDK. The beauty of WSL is preventing you from having to do things like this, as the file systems are interoperable. As long as you take the file extensions into account (outlined below), you would only have to install both for niche situations.</p>\n<h3>Straightforward Method</h3>\n<p>You can do this very simply by adding the following line of code to your <code>.bashrc</code> file, assuming that your Windows Environment variables are set correctly and WSL is installed:</p>\n<pre><code># Shared environment variables\nexport JAVA_HOME=/mnt/d/Java/jdk11.0.4_10\n</code></pre>\n<p>Just ensure that you change the directory to point to your JDK folder. In my case, it's in <code>D:\\Java\\jdk11.0.4_10</code> which in WSL is <code>/mnt/d/Java/jdk11.0.4_10</code></p>\n<p>Also, since you're using Windows binaries, you must specify the file type when running from a WSL bash shell:</p>\n<h3>Example</h3>\n<p>Calling <em>Windows</em> JDK from:</p>\n<p><strong><code>CMD</code>:</strong></p>\n<pre><code>javac MyClass.java\njava MyClass\n</code></pre>\n<p><strong>WSL:</strong></p>\n<pre><code>javac.exe MyClass.java\njava.exe MyClass\n</code></pre>\n<p>Note WSL requires <code>.exe</code> since it is a Windows binary. When using the Linux distro of the OpenJDK, no extension is required..</p>\n"},{"tags":[],"owner":{"account_id":3736151,"reputation":423,"user_id":3107052,"display_name":"seedme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646349866,"creation_date":1646349866,"answer_id":71344943,"question_id":36478741,"body_markdown":"This has referred to all above answers and comments and tries to put it together as a complete guidance. \r\n\r\nIt is straight forward to have jdk installed directly in WSL2 Linux therefore we skip this option here. \r\n\r\nIt is perfectly okay to use/share the Windows JDK with WSL2 Linux, you just need to setup two things, `JAVA_HOME` and `PATH` in your Linux shell profile, in my case, `~/.bashrc`.\r\n\r\n## STEP 1: check your Windows Java location\r\nBy default it is installed in here (version can be different) `C:\\Program Files\\Java\\jdk1.8.0_321`\r\n\r\nWSL2 will be able to access to this Windows file location in such format `/mnt/c/Program Files/Java/jdk1.8.0_321`\r\n\r\nTherefore,\r\n## STEP 2: load this with your shell profile,\r\nEdit this file,  \r\n\r\n`$ sudo nano ~/.bashrc`\r\n\r\nby adding following to its bottom\r\n\r\n```\r\nexport JAVA_HOME=&quot;/mnt/c/Program Files/Java/jdk1.8.0_321&quot;\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\nexport alias java=&#39;java.exe&#39;\r\nexport alias javac=&#39;javac.exe&#39;\r\n```\r\nsave it by `Ctrl/CMD + O` then `Enter`\r\n\r\nExit nano editor by `Ctrl/CMD + X`\r\n\r\nRefresh the profile to load added variables by\r\n\r\n`$ source ~/.bashrc`\r\n\r\nThere you go. You can now verify it is working by\r\n\r\n`$ java -version`\r\n\r\nIt will give you something similar to following,\r\n\r\n```\r\njava version &quot;1.8.0_321&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\r\n```\r\n\r\n## Summary\r\nYou have done three things in total here,  \r\n\r\n1. Defined your $JAVA_HOME as using the Windows installation of jdk\r\n\r\nto verify this:\r\n\r\n```\r\n$ echo $JAVA_HOME\r\n/mnt/c/Program Files/Java/jdk1.8.0_321\r\n```\r\n\r\n2. Defined a user scope $PATH variable to let apps know where to find java compiler\r\n\r\nto verify this:\r\n\r\n```\r\n$ echo $PATH\r\n/mnt/c/Program Files/Java/jdk1.8.0_321/bin:...\r\n```\r\n\r\n3. Set up alias to call java like you having it directly on Linux by call `java` instead of `java.exe`\r\n\r\nto verify this:\r\n\r\n```\r\n$ java -version\r\njava version &quot;1.8.0_321&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\r\n```\r\n\r\nUnfortunately this will make you do something like `which java`. In order to do this as for native Linux software, you might want to follow further steps like in here (not verified): https://stackoverflow.com/a/64489793/3107052 You however really don&#39;t need this as this won&#39;t do anything more than telling you where is your java that was borrowed from Windows. \r\n\r\n\r\n\r\n","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>This has referred to all above answers and comments and tries to put it together as a complete guidance.</p>\n<p>It is straight forward to have jdk installed directly in WSL2 Linux therefore we skip this option here.</p>\n<p>It is perfectly okay to use/share the Windows JDK with WSL2 Linux, you just need to setup two things, <code>JAVA_HOME</code> and <code>PATH</code> in your Linux shell profile, in my case, <code>~/.bashrc</code>.</p>\n<h2>STEP 1: check your Windows Java location</h2>\n<p>By default it is installed in here (version can be different) <code>C:\\Program Files\\Java\\jdk1.8.0_321</code></p>\n<p>WSL2 will be able to access to this Windows file location in such format <code>/mnt/c/Program Files/Java/jdk1.8.0_321</code></p>\n<p>Therefore,</p>\n<h2>STEP 2: load this with your shell profile,</h2>\n<p>Edit this file,</p>\n<p><code>$ sudo nano ~/.bashrc</code></p>\n<p>by adding following to its bottom</p>\n<pre><code>export JAVA_HOME=&quot;/mnt/c/Program Files/Java/jdk1.8.0_321&quot;\nexport PATH=$JAVA_HOME/bin:$PATH\nexport alias java='java.exe'\nexport alias javac='javac.exe'\n</code></pre>\n<p>save it by <code>Ctrl/CMD + O</code> then <code>Enter</code></p>\n<p>Exit nano editor by <code>Ctrl/CMD + X</code></p>\n<p>Refresh the profile to load added variables by</p>\n<p><code>$ source ~/.bashrc</code></p>\n<p>There you go. You can now verify it is working by</p>\n<p><code>$ java -version</code></p>\n<p>It will give you something similar to following,</p>\n<pre><code>java version &quot;1.8.0_321&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n</code></pre>\n<h2>Summary</h2>\n<p>You have done three things in total here,</p>\n<ol>\n<li>Defined your $JAVA_HOME as using the Windows installation of jdk</li>\n</ol>\n<p>to verify this:</p>\n<pre><code>$ echo $JAVA_HOME\n/mnt/c/Program Files/Java/jdk1.8.0_321\n</code></pre>\n<ol start=\"2\">\n<li>Defined a user scope $PATH variable to let apps know where to find java compiler</li>\n</ol>\n<p>to verify this:</p>\n<pre><code>$ echo $PATH\n/mnt/c/Program Files/Java/jdk1.8.0_321/bin:...\n</code></pre>\n<ol start=\"3\">\n<li>Set up alias to call java like you having it directly on Linux by call <code>java</code> instead of <code>java.exe</code></li>\n</ol>\n<p>to verify this:</p>\n<pre><code>$ java -version\njava version &quot;1.8.0_321&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n</code></pre>\n<p>Unfortunately this will make you do something like <code>which java</code>. In order to do this as for native Linux software, you might want to follow further steps like in here (not verified): <a href=\"https://stackoverflow.com/a/64489793/3107052\">https://stackoverflow.com/a/64489793/3107052</a> You however really don't need this as this won't do anything more than telling you where is your java that was borrowed from Windows.</p>\n"}],"owner":{"account_id":7472071,"reputation":1703,"user_id":5679728,"accept_rate":43,"display_name":"Saurabh Mishra"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105843,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":41072208,"answer_count":13,"score":91,"last_activity_date":1660650837,"creation_date":1460038161,"question_id":36478741,"body_markdown":"When trying to use the Linux version of Oracle&#39;s JDK on the latest Windows 10 build having support for bash, I am running into a problem with the prompt hanging whenever attempting to invoke the `java` binary.\r\n\r\nTyping even something as simple as `java -version` hangs and I have to terminate the process to resume control.\r\n\r\nAnyone got this working yet?","title":"Installing Oracle JDK on Windows subsystem for Linux","body":"<p>When trying to use the Linux version of Oracle's JDK on the latest Windows 10 build having support for bash, I am running into a problem with the prompt hanging whenever attempting to invoke the <code>java</code> binary.</p>\n\n<p>Typing even something as simple as <code>java -version</code> hangs and I have to terminate the process to resume control.</p>\n\n<p>Anyone got this working yet?</p>\n"},{"tags":["java","python","tabula"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1497230705,"post_id":44490203,"comment_id":75974572,"body_markdown":"is the `java` executable registered in the path? if yes, you should be able to `java --version` from your os command line utility (eg. cmd, bash). what is your os anyway?","body":"is the <code>java</code> executable registered in the path? if yes, you should be able to <code>java --version</code> from your os command line utility (eg. cmd, bash). what is your os anyway?"},{"owner":{"account_id":11091900,"reputation":11,"user_id":8143459,"display_name":"Tao  Wang"},"score":1,"creation_date":1497234299,"post_id":44490203,"comment_id":75975192,"body_markdown":"Thanks a lot for your comments. When I typed  java --version in terminal in Mac,  I got \n&quot;-bash: java: command not found&quot;.","body":"Thanks a lot for your comments. When I typed  java --version in terminal in Mac,  I got  &quot;-bash: java: command not found&quot;."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1497241423,"post_id":44490203,"comment_id":75976618,"body_markdown":"then you would need to put the `java/bin` directory into path that being loaded by your tools.. in ubuntu or centos, that&#39;d be `.bashrc`. try to look on it.","body":"then you would need to put the <code>java&#47;bin</code> directory into path that being loaded by your tools.. in ubuntu or centos, that&#39;d be <code>.bashrc</code>. try to look on it."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1497242355,"post_id":44490203,"comment_id":75976824,"body_markdown":"Possible duplicate of [Setting JAVA\\_HOME environment variable on MAC OSX 10.9](https://stackoverflow.com/questions/22842743/setting-java-home-environment-variable-on-mac-osx-10-9)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/22842743/setting-java-home-environment-variable-on-mac-osx-10-9\">Setting JAVA_HOME environment variable on MAC OSX 10.9</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1497242408,"post_id":44490203,"comment_id":75976841,"body_markdown":"Not clear how you installed Java, but you must update the PATH","body":"Not clear how you installed Java, but you must update the PATH"},{"owner":{"account_id":11091900,"reputation":11,"user_id":8143459,"display_name":"Tao  Wang"},"score":0,"creation_date":1497291488,"post_id":44490203,"comment_id":76005668,"body_markdown":"Thanks a lot, friends.  I understand that you all suggested to reset the path for JAVA. This is to reset JAVA_HOME if I understand correctly.  In order to do that, I first check where my JAVA is installed by typing &quot;echo $JAVA_HOME&quot;, I got &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home&quot;. Then I typed &quot;open -e .bash_profile&quot; and added &quot;export JAVA_HOME=$(/usr/libexec/java_home)&quot; to the file and reload it.  After doing this, I thought I have correctly set path for Java. But I still got &quot;-bash: java: command not found&quot; when I typed java --version in terminal. Any ideas? Thanks!","body":"Thanks a lot, friends.  I understand that you all suggested to reset the path for JAVA. This is to reset JAVA_HOME if I understand correctly.  In order to do that, I first check where my JAVA is installed by typing &quot;echo $JAVA_HOME&quot;, I got &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents&zwnj;&#8203;/Home&quot;. Then I typed &quot;open -e .bash_profile&quot; and added &quot;export JAVA_HOME=$(/usr/libexec/java_home)&quot; to the file and reload it.  After doing this, I thought I have correctly set path for Java. But I still got &quot;-bash: java: command not found&quot; when I typed java --version in terminal. Any ideas? Thanks!"},{"owner":{"account_id":11091900,"reputation":11,"user_id":8143459,"display_name":"Tao  Wang"},"score":0,"creation_date":1497293005,"post_id":44490203,"comment_id":76006442,"body_markdown":"Hi, dear friends, I want to add that I finally solved the problem.  I not only added &quot;export JAVA_HOME=$(/usr/libexec/java_home)&quot; , but also &quot;export PATH=$JAVA_HOME/bin:$PATH&quot; to the .bash_profile.  And now the mac knows where Java is.  Thanks a lot for your help.","body":"Hi, dear friends, I want to add that I finally solved the problem.  I not only added &quot;export JAVA_HOME=$(/usr/libexec/java_home)&quot; , but also &quot;export PATH=$JAVA_HOME/bin:$PATH&quot; to the .bash_profile.  And now the mac knows where Java is.  Thanks a lot for your help."}],"answers":[{"tags":[],"owner":{"account_id":3665682,"reputation":2091,"user_id":3061686,"accept_rate":80,"display_name":"akki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660650727,"creation_date":1519712204,"answer_id":49002285,"question_id":44490203,"body_markdown":"I had run into the same error. The line actually causing the error for me was `subprocess.call(&#39;java&#39;)`.\r\n\r\nInstalling Java on my machine fixed the error for me.\r\n\r\nIf installing Java still doesn&#39;t solve the problem for you, try running `which java`, and add the output directory to your `PATH` environment variable.\r\n\r\n","title":"&quot;Java not found&quot; in using tabula-py","body":"<p>I had run into the same error. The line actually causing the error for me was <code>subprocess.call('java')</code>.</p>\n<p>Installing Java on my machine fixed the error for me.</p>\n<p>If installing Java still doesn't solve the problem for you, try running <code>which java</code>, and add the output directory to your <code>PATH</code> environment variable.</p>\n"}],"owner":{"account_id":11091900,"reputation":11,"user_id":8143459,"display_name":"Tao  Wang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1660650727,"creation_date":1497230467,"question_id":44490203,"body_markdown":"everyone, I am using tabula-py in python to extract table from pdfs. I used following codes. \r\n\r\n\r\n    import tabula\r\n    \r\n    table_temp = tabula.read_pdf(&#39;./example_pdf/sample1.pdf&#39;,pages=11)\r\n\r\nHowever, I got the error message as pasted below, in which I was told &quot;no such file or directory: &#39;java&#39;&quot;. I have installed Java in the following folder \r\n\r\n    &quot;/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home&quot;. \r\n\r\nCould anyone help me on solving the problem? \r\n\r\nThanks. \r\n\r\n---------------------------------------------------------------------------\r\n\r\n    FileNotFoundError                         Traceback (most recent call last)\r\n    &lt;ipython-input-4-41c9ba6fd519&gt; in &lt;module&gt;()\r\n    ----&gt; 1 table_temp = tabula.read_pdf(&#39;./example_pdf/sample1.pdf&#39;,pages=11)\r\n    \r\n    /Users/Myworld/anaconda/lib/python3.5/site-packages/tabula/wrapper.py in read_pdf(input_path, **kwargs)\r\n         64 \r\n         65     try:\r\n    ---&gt; 66         output = subprocess.check_output(args)\r\n         67     finally:\r\n         68         if is_url:\r\n    \r\n    /Users/Myworld/anaconda/lib/python3.5/subprocess.py in check_output(timeout, *popenargs, **kwargs)\r\n        314 \r\n        315     return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\r\n    --&gt; 316                **kwargs).stdout\r\n        317 \r\n        318 \r\n    \r\n    /Users/Myworld/anaconda/lib/python3.5/subprocess.py in run(input, timeout, check, *popenargs, **kwargs)\r\n        381         kwargs[&#39;stdin&#39;] = PIPE\r\n        382 \r\n    --&gt; 383     with Popen(*popenargs, **kwargs) as process:\r\n        384         try:\r\n        385             stdout, stderr = process.communicate(input, timeout=timeout)\r\n    \r\n    /Users/Myworld/anaconda/lib/python3.5/subprocess.py in __init__(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds)\r\n        674                                 c2pread, c2pwrite,\r\n        675                                 errread, errwrite,\r\n    --&gt; 676                                 restore_signals, start_new_session)\r\n        677         except:\r\n        678             # Cleanup if the child failed starting.\r\n    \r\n    /Users/Myworld/anaconda/lib/python3.5/subprocess.py in _execute_child(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, restore_signals, start_new_session)\r\n       1280                             else:\r\n       1281                                 err_msg += &#39;: &#39; + repr(orig_executable)\r\n    -&gt; 1282                     raise child_exception_type(errno_num, err_msg)\r\n       1283                 raise child_exception_type(err_msg)\r\n       1284 \r\n    \r\n    FileNotFoundError: [Errno 2] No such file or directory: &#39;java&#39;\r\n\r\n\r\n","title":"&quot;Java not found&quot; in using tabula-py","body":"<p>everyone, I am using tabula-py in python to extract table from pdfs. I used following codes. </p>\n\n<pre><code>import tabula\n\ntable_temp = tabula.read_pdf('./example_pdf/sample1.pdf',pages=11)\n</code></pre>\n\n<p>However, I got the error message as pasted below, in which I was told \"no such file or directory: 'java'\". I have installed Java in the following folder </p>\n\n<pre><code>\"/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home\". \n</code></pre>\n\n<p>Could anyone help me on solving the problem? </p>\n\n<p>Thanks. </p>\n\n<hr>\n\n<pre><code>FileNotFoundError                         Traceback (most recent call last)\n&lt;ipython-input-4-41c9ba6fd519&gt; in &lt;module&gt;()\n----&gt; 1 table_temp = tabula.read_pdf('./example_pdf/sample1.pdf',pages=11)\n\n/Users/Myworld/anaconda/lib/python3.5/site-packages/tabula/wrapper.py in read_pdf(input_path, **kwargs)\n     64 \n     65     try:\n---&gt; 66         output = subprocess.check_output(args)\n     67     finally:\n     68         if is_url:\n\n/Users/Myworld/anaconda/lib/python3.5/subprocess.py in check_output(timeout, *popenargs, **kwargs)\n    314 \n    315     return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\n--&gt; 316                **kwargs).stdout\n    317 \n    318 \n\n/Users/Myworld/anaconda/lib/python3.5/subprocess.py in run(input, timeout, check, *popenargs, **kwargs)\n    381         kwargs['stdin'] = PIPE\n    382 \n--&gt; 383     with Popen(*popenargs, **kwargs) as process:\n    384         try:\n    385             stdout, stderr = process.communicate(input, timeout=timeout)\n\n/Users/Myworld/anaconda/lib/python3.5/subprocess.py in __init__(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds)\n    674                                 c2pread, c2pwrite,\n    675                                 errread, errwrite,\n--&gt; 676                                 restore_signals, start_new_session)\n    677         except:\n    678             # Cleanup if the child failed starting.\n\n/Users/Myworld/anaconda/lib/python3.5/subprocess.py in _execute_child(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, restore_signals, start_new_session)\n   1280                             else:\n   1281                                 err_msg += ': ' + repr(orig_executable)\n-&gt; 1282                     raise child_exception_type(errno_num, err_msg)\n   1283                 raise child_exception_type(err_msg)\n   1284 \n\nFileNotFoundError: [Errno 2] No such file or directory: 'java'\n</code></pre>\n"},{"tags":["java","android","sdk","pos"],"owner":{"account_id":22281247,"reputation":15,"user_id":16509588,"display_name":"MG."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1660650704,"creation_date":1660650704,"question_id":73373541,"body_markdown":"\r\nI have developed a POS (Point of sale system) in java (GUI based) in which I want to manage card swiping, payment, and ticket printing and I am looking for confirmation if Ingenico SDK as being integrated with java will be supported in these Ingenico devices (Ingenico APOS A8 models).  I need guidelines and SDKs and jar files related to integrating an application.\r\n","title":"Printing feature and sdk installation intigrating with JAVA android in Ingenico APOS A8","body":"<p>I have developed a POS (Point of sale system) in java (GUI based) in which I want to manage card swiping, payment, and ticket printing and I am looking for confirmation if Ingenico SDK as being integrated with java will be supported in these Ingenico devices (Ingenico APOS A8 models).  I need guidelines and SDKs and jar files related to integrating an application.</p>\n"},{"tags":["java","spring","crud","webclient","endpoint"],"comments":[{"owner":{"account_id":9586004,"reputation":589,"user_id":7118750,"display_name":"Tim"},"score":0,"creation_date":1660646724,"post_id":73372593,"comment_id":129575859,"body_markdown":"Is \n```Mono&lt;Void&gt; resp = webClient.delete()\n    .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\n    .retrieve()\n    .bodyToMono(Void.class)\n    .then();```\n\n blocking?","body":"Is  <code>Mono&lt;Void&gt; resp = webClient.delete()     .uri(url + &quot;&#47;items&#47;&quot; + tenant + &quot;&#47;&quot; + itemId)     .retrieve()     .bodyToMono(Void.class)     .then();</code>   blocking?"}],"answers":[{"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660650416,"creation_date":1660650416,"answer_id":73373483,"question_id":73372593,"body_markdown":"That stream:\r\n```java\r\nMono&lt;Void&gt; resp = webClient.delete()\r\n    .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\r\n    .retrieve()\r\n    .bodyToMono(Void.class)\r\n    .then();\r\n```\r\nis not subscribed, you have to use block() or subscribe() at the end of stream to perform delete request.","title":"@DeleteMapping endpoint not triggered at all","body":"<p>That stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Void&gt; resp = webClient.delete()\n    .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\n    .retrieve()\n    .bodyToMono(Void.class)\n    .then();\n</code></pre>\n<p>is not subscribed, you have to use block() or subscribe() at the end of stream to perform delete request.</p>\n"}],"owner":{"account_id":13533258,"reputation":121,"user_id":9763114,"display_name":"Yiorgos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73373483,"answer_count":1,"score":0,"last_activity_date":1660650416,"creation_date":1660646045,"question_id":73372593,"body_markdown":"My webClient calls work fine with @GetMapping, but @DeleteMapping isn&#39;t even triggered. Here are the two methods I&#39;m using:\r\n\r\n    //works\r\n    MyItem myItem = webClient.get()\r\n        .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\r\n        .accept(MediaType.APPLICATION_JSON)\r\n        .retrieve()\r\n        .bodyToMono(MyItem.class)\r\n        .block();\r\n    //returns without triggering the @DeleteMapping endpoint\r\n    Mono&lt;Void&gt; resp = webClient.delete()\r\n        .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\r\n        .retrieve()\r\n        .bodyToMono(Void.class)\r\n        .then();\r\n\r\nThe endpoints are:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/items/{tenant}&quot;)\r\n    public class ItemController {\r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public MyItem findById(@PathVariable String id, @PathVariable String tenant, Authentication auth) {\r\n            ...\r\n        }\r\n\r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public void deleteById(@PathVariable String id, @PathVariable String tenant, Authentication auth) {\r\n            ...\r\n            // breakpoint somewhere here\r\n            ...\r\n        }\r\n    }\r\n\r\nWhen I try to delete an item I get no errors, no 405, no 400, no 403, nothing. The webClient call returns normally (with a MonoIgnorePublisher object), but the endpoint seems to not be triggered at all (I put a breakpoint inside the deleteById method, nothing happened).\r\n\r\nAny clues why this is happening?","title":"@DeleteMapping endpoint not triggered at all","body":"<p>My webClient calls work fine with @GetMapping, but @DeleteMapping isn't even triggered. Here are the two methods I'm using:</p>\n<pre><code>//works\nMyItem myItem = webClient.get()\n    .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\n    .accept(MediaType.APPLICATION_JSON)\n    .retrieve()\n    .bodyToMono(MyItem.class)\n    .block();\n//returns without triggering the @DeleteMapping endpoint\nMono&lt;Void&gt; resp = webClient.delete()\n    .uri(url + &quot;/items/&quot; + tenant + &quot;/&quot; + itemId)\n    .retrieve()\n    .bodyToMono(Void.class)\n    .then();\n</code></pre>\n<p>The endpoints are:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/items/{tenant}&quot;)\npublic class ItemController {\n    @GetMapping(&quot;/{id}&quot;)\n    public MyItem findById(@PathVariable String id, @PathVariable String tenant, Authentication auth) {\n        ...\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteById(@PathVariable String id, @PathVariable String tenant, Authentication auth) {\n        ...\n        // breakpoint somewhere here\n        ...\n    }\n}\n</code></pre>\n<p>When I try to delete an item I get no errors, no 405, no 400, no 403, nothing. The webClient call returns normally (with a MonoIgnorePublisher object), but the endpoint seems to not be triggered at all (I put a breakpoint inside the deleteById method, nothing happened).</p>\n<p>Any clues why this is happening?</p>\n"},{"tags":["java","json","xsd"],"comments":[{"owner":{"account_id":7282804,"reputation":2404,"user_id":5551938,"display_name":"kimbert"},"score":0,"creation_date":1620345132,"post_id":67418682,"comment_id":119180863,"body_markdown":"You should explain why jsons2xsd was not suitable. What are your requirements? What is your overall objective?","body":"You should explain why jsons2xsd was not suitable. What are your requirements? What is your overall objective?"},{"owner":{"account_id":13499142,"reputation":1,"user_id":9739019,"display_name":"Rashmi"},"score":0,"creation_date":1620375878,"post_id":67418682,"comment_id":119187588,"body_markdown":"jsons2xsd works but I just want to check that if there is any other standard library or approach.","body":"jsons2xsd works but I just want to check that if there is any other standard library or approach."}],"owner":{"account_id":13499142,"reputation":1,"user_id":9739019,"display_name":"Rashmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1660650146,"creation_date":1620306057,"question_id":67418682,"body_markdown":"I am looking for a way to convert json schema into xsd using some java library.\r\n\r\nI have tried https://github.com/ethlo/jsons2xsd.\r\n\r\nBut is there any other library or standard approach?\r\n\r\nThanks in advance.","title":"Convert json schema to xsd","body":"<p>I am looking for a way to convert json schema into xsd using some java library.</p>\n<p>I have tried <a href=\"https://github.com/ethlo/jsons2xsd\" rel=\"nofollow noreferrer\">https://github.com/ethlo/jsons2xsd</a>.</p>\n<p>But is there any other library or standard approach?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","loops","authentication"],"comments":[{"owner":{"account_id":7253257,"reputation":3765,"user_id":5532778,"accept_rate":81,"display_name":"PKey"},"score":0,"creation_date":1471451466,"post_id":39001793,"comment_id":65355487,"body_markdown":"I am guessing `userNameTF`  and `passWordTF` are text fields - so you have some sort of UI... Well actually you do not need loop here. This function should be called only when user presses login button. and totalAttempts should be global variable...","body":"I am guessing <code>userNameTF</code>  and <code>passWordTF</code> are text fields - so you have some sort of UI... Well actually you do not need loop here. This function should be called only when user presses login button. and totalAttempts should be global variable..."}],"answers":[{"tags":[],"owner":{"account_id":3946612,"reputation":351,"user_id":3258952,"accept_rate":67,"display_name":"elaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471451464,"creation_date":1471451464,"answer_id":39001912,"question_id":39001793,"body_markdown":"Your problem is that the while loop doesn&#39;t wait for the user to press the button again. Assuming that executeLogin() is called every time the button is pressed, you need to keep a global attempts variable and decrement it every time the method is called rather than multiple times within the same call.\r\n\r\n    int totalAttempts = 3;\r\n    \r\n    private void executeLogin() {\r\n    \r\n        String userNameStr = userNameTF.getText();\r\n        String passWordStr = passWordTF.getText();\r\n\r\n        if (totalAttempts != 0) {\r\n            if (userNameStr == &quot;temp&quot; &amp;&amp; passWordStr == &quot;pass&quot;) {\r\n                System.out.println(&quot;Correct&quot;);\r\n            else {\r\n                System.out.println(&quot;Incorrect&quot;);\r\n                totalAttempts--;\r\n            \r\n        } else {\r\n            System.out.println(&quot;Maximum number of attempts exceeded&quot;);\r\n        }\r\n    }","title":"Limit login attempt in Java","body":"<p>Your problem is that the while loop doesn't wait for the user to press the button again. Assuming that executeLogin() is called every time the button is pressed, you need to keep a global attempts variable and decrement it every time the method is called rather than multiple times within the same call.</p>\n\n<pre><code>int totalAttempts = 3;\n\nprivate void executeLogin() {\n\n    String userNameStr = userNameTF.getText();\n    String passWordStr = passWordTF.getText();\n\n    if (totalAttempts != 0) {\n        if (userNameStr == \"temp\" &amp;&amp; passWordStr == \"pass\") {\n            System.out.println(\"Correct\");\n        else {\n            System.out.println(\"Incorrect\");\n            totalAttempts--;\n\n    } else {\n        System.out.println(\"Maximum number of attempts exceeded\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5366436,"reputation":3456,"user_id":6650970,"display_name":"Piotr Wilkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471451474,"creation_date":1471451474,"answer_id":39001915,"question_id":39001793,"body_markdown":"Your code just performs the same login `totalAttempts` times. You don&#39;t cede control. In event-driven programming, you do not wait for the user to do something, you set it up and do things in response to a user doing something. In other words, you never write a code that actively waits for a user to input the password again. \r\n\r\nThe main thing is, there is no such thing as &quot;limiting the number of logins to 3&quot;. You can limit the number of *consecutive incorrect logins* to 3, you can limit the number of *consecutive incorrect user logins* to 3, you can limit the number of *incorrect logins per period* to 3 - all of those require some data structure to hold the information about the failed logins. \r\n","title":"Limit login attempt in Java","body":"<p>Your code just performs the same login <code>totalAttempts</code> times. You don't cede control. In event-driven programming, you do not wait for the user to do something, you set it up and do things in response to a user doing something. In other words, you never write a code that actively waits for a user to input the password again. </p>\n\n<p>The main thing is, there is no such thing as \"limiting the number of logins to 3\". You can limit the number of <em>consecutive incorrect logins</em> to 3, you can limit the number of <em>consecutive incorrect user logins</em> to 3, you can limit the number of <em>incorrect logins per period</em> to 3 - all of those require some data structure to hold the information about the failed logins. </p>\n"},{"tags":[],"owner":{"account_id":2631180,"reputation":1332,"user_id":2277088,"display_name":"Kostas Pelelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471451510,"creation_date":1471451510,"answer_id":39001923,"question_id":39001793,"body_markdown":"The problem in your code is that you don&#39;t request the user to enter his username and password again. My fix would be:\r\n\r\nDesign the function so that it requests the credentials in the loop\r\n\r\n    private void executeLogin() {\r\n    \r\n        String userNameStr;\r\n        String passWordStr;\r\n        \r\n        int totalAttempts = 3;\r\n        \r\n        while (totalAttempts != 0) {\r\n    \r\n            userNameStr = userNameTF.getText();\r\n            passWordStr = passWordTF.getText();\r\n    \r\n            if (userNameStr == &quot;temp&quot; &amp;&amp; passWordStr == &quot;pass&quot;) {\r\n    \r\n                System.out.println(&quot;Login Correct!&quot;);\r\n                return;\r\n    \r\n            } else {\r\n    \r\n    \r\n                System.out.println(&quot;Incorrect Login&quot;);\r\n    \r\n                totalAttempts--;\r\n                System.out.println(totalAttempts);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        if (totalAttempts == 0) {\r\n    \r\n            System.out.println(&quot;Maximum number of attempts exceeded&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Limit login attempt in Java","body":"<p>The problem in your code is that you don't request the user to enter his username and password again. My fix would be:</p>\n\n<p>Design the function so that it requests the credentials in the loop</p>\n\n<pre><code>private void executeLogin() {\n\n    String userNameStr;\n    String passWordStr;\n\n    int totalAttempts = 3;\n\n    while (totalAttempts != 0) {\n\n        userNameStr = userNameTF.getText();\n        passWordStr = passWordTF.getText();\n\n        if (userNameStr == \"temp\" &amp;&amp; passWordStr == \"pass\") {\n\n            System.out.println(\"Login Correct!\");\n            return;\n\n        } else {\n\n\n            System.out.println(\"Incorrect Login\");\n\n            totalAttempts--;\n            System.out.println(totalAttempts);\n\n        }\n\n    }\n\n    if (totalAttempts == 0) {\n\n        System.out.println(\"Maximum number of attempts exceeded\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7253257,"reputation":3765,"user_id":5532778,"accept_rate":81,"display_name":"PKey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471452706,"creation_date":1471452706,"answer_id":39002282,"question_id":39001793,"body_markdown":"So there are 3 main problems with your code:\r\n \r\n1. You use while loop - though you shouldn&#39;t loop at all, function should be called every time login button is pressed. \r\n\r\n2. Number of attempts cannot be local variable - you should keep its value for future use (so global variable then)\r\n\r\n3. You are comparing string the wrong way (not `==` but `equals`) \r\n  \r\n\r\n        public class MyForm extends ... {\r\n    \r\n         int totalAttempts = 3;\r\n         private void login() {\r\n         String userNameStr = userNameTF.getText();\r\n         String passWordStr = passWordTF.getText();\r\n            \r\n         if (totalAttempts != 0) \r\n             if (&quot;temp&quot;.equals(userNameStr) &amp;&amp; &quot;pass&quot;.equals(passWordStr)) \r\n                        System.out.println(&quot;Correct&quot;);\r\n                  \r\n                    else {\r\n                         System.out.println(&quot;Incorrect&quot;);\r\n                         totalAttempts--;    \r\n                         } \r\n         else \r\n             System.out.println(&quot;Maximum number of attempts exceeded&quot;);\r\n               \r\n           \r\n           }\r\n         }","title":"Limit login attempt in Java","body":"<p>So there are 3 main problems with your code:</p>\n\n<ol>\n<li><p>You use while loop - though you shouldn't loop at all, function should be called every time login button is pressed. </p></li>\n<li><p>Number of attempts cannot be local variable - you should keep its value for future use (so global variable then)</p></li>\n<li><p>You are comparing string the wrong way (not <code>==</code> but <code>equals</code>) </p>\n\n<pre><code>public class MyForm extends ... {\n\n int totalAttempts = 3;\n private void login() {\n String userNameStr = userNameTF.getText();\n String passWordStr = passWordTF.getText();\n\n if (totalAttempts != 0) \n     if (\"temp\".equals(userNameStr) &amp;&amp; \"pass\".equals(passWordStr)) \n                System.out.println(\"Correct\");\n\n            else {\n                 System.out.println(\"Incorrect\");\n                 totalAttempts--;    \n                 } \n else \n     System.out.println(\"Maximum number of attempts exceeded\");\n\n\n   }\n }\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8006142,"reputation":1063,"user_id":6039394,"display_name":"Neha Dadhich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561637994,"creation_date":1471453390,"answer_id":39002466,"question_id":39001793,"body_markdown":"Whenever, the executeLogin() will be invoked, the previous value of totalAttempts will be erased and it will be again initialized to 3. To control this, you can make the totalAttempts as global\r\n\r\n    int totalAttempts= 3; \r\n    private void executeLogin() {\r\n    \r\n        String userNameStr = userNameTF.getText();\r\n        String passWordStr = passWordTF.getText();\r\n    \r\n        if (totalAttempts != 0) {\r\n            if (userNameStr == &quot;temp&quot; &amp;&amp; passWordStr == &quot;pass&quot;) {\r\n                System.out.println(&quot;Correct&quot;);\r\n            else {\r\n                System.out.println(&quot;Incorrect&quot;);\r\n                totalAttempts--;\r\n    \r\n        } else {\r\n            System.out.println(&quot;Maximum number of attempts exceeded&quot;);\r\n        }\r\n    }\r\n\r\nOr if you are declaring it inside the class make it static. ","title":"Limit login attempt in Java","body":"<p>Whenever, the executeLogin() will be invoked, the previous value of totalAttempts will be erased and it will be again initialized to 3. To control this, you can make the totalAttempts as global</p>\n\n<pre><code>int totalAttempts= 3; \nprivate void executeLogin() {\n\n    String userNameStr = userNameTF.getText();\n    String passWordStr = passWordTF.getText();\n\n    if (totalAttempts != 0) {\n        if (userNameStr == \"temp\" &amp;&amp; passWordStr == \"pass\") {\n            System.out.println(\"Correct\");\n        else {\n            System.out.println(\"Incorrect\");\n            totalAttempts--;\n\n    } else {\n        System.out.println(\"Maximum number of attempts exceeded\");\n    }\n}\n</code></pre>\n\n<p>Or if you are declaring it inside the class make it static. </p>\n"},{"tags":[],"owner":{"account_id":24848938,"reputation":1,"user_id":18726123,"display_name":"Heeramani Madhwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649317043,"creation_date":1649256159,"answer_id":71768836,"question_id":39001793,"body_markdown":"    package javaconcepts;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class JavaLoginPrg {\r\n\r\n        private void login() {\r\n            String username, password;\r\n            int totalAttempts = 3;\r\n            while (totalAttempts != 0) {\r\n\r\n                if (username == &quot;temp&quot; &amp;&amp; password == &quot;pass&quot;) {\r\n                    System.out.println(&quot;Login succeeded!&quot;);\r\n                    return;\r\n                } else {\r\n                    System.out.println(&quot;Login failed!&quot;);\r\n                    totalAttempts--;\r\n                    System.out.println(totalAttempts);\r\n                }\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            String temp, pass;\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter username&quot;);\r\n            username = sc.toString();\r\n            System.out.println(&quot;Enter password&quot;);\r\n            password = sc.toString();\r\n        }\r\n    }","title":"Limit login attempt in Java","body":"<pre><code>package javaconcepts;\n\nimport java.util.Scanner;\n\npublic class JavaLoginPrg {\n\n    private void login() {\n        String username, password;\n        int totalAttempts = 3;\n        while (totalAttempts != 0) {\n\n            if (username == &quot;temp&quot; &amp;&amp; password == &quot;pass&quot;) {\n                System.out.println(&quot;Login succeeded!&quot;);\n                return;\n            } else {\n                System.out.println(&quot;Login failed!&quot;);\n                totalAttempts--;\n                System.out.println(totalAttempts);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        String temp, pass;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter username&quot;);\n        username = sc.toString();\n        System.out.println(&quot;Enter password&quot;);\n        password = sc.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25326978,"reputation":1,"user_id":19147471,"display_name":"Edwin Chiboko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660649682,"creation_date":1660226379,"answer_id":73321999,"question_id":39001793,"body_markdown":"Tried with user prompted inputs and it actually works. Here: \r\n\r\n    import java .util.Scanner;\r\n    \r\n    public class AuthenticateUser {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int attempts=0;\r\n        String password=&quot;password&quot;;\r\n        Scanner obj = new Scanner(System.in);\r\n\r\n        while (true)\r\n        {\r\n\r\n            if(attempts!=5)\r\n            {\r\n                System.out.println(&quot;Enter your password &quot;);\r\n                String inputPassword = obj.nextLine();\r\n\r\n                if (inputPassword.equals(password)) {\r\n                    System.out.println(&quot;You have successful logged in!&quot;);\r\n                    break;\r\n                } else {\r\n                    System.out.println(&quot;Something went wrong, verify your password and try again!&quot;);\r\n                    attempts++;\r\n                }\r\n            } else {\r\n                System.out.println(&quot;You incorrectly logged in 5 times, you will have to wait for 30 minutes&quot;);\r\n                break;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    }","title":"Limit login attempt in Java","body":"<p>Tried with user prompted inputs and it actually works. Here:</p>\n<pre><code>import java .util.Scanner;\n\npublic class AuthenticateUser {\n\npublic static void main(String[] args) {\n\n    int attempts=0;\n    String password=&quot;password&quot;;\n    Scanner obj = new Scanner(System.in);\n\n    while (true)\n    {\n\n        if(attempts!=5)\n        {\n            System.out.println(&quot;Enter your password &quot;);\n            String inputPassword = obj.nextLine();\n\n            if (inputPassword.equals(password)) {\n                System.out.println(&quot;You have successful logged in!&quot;);\n                break;\n            } else {\n                System.out.println(&quot;Something went wrong, verify your password and try again!&quot;);\n                attempts++;\n            }\n        } else {\n            System.out.println(&quot;You incorrectly logged in 5 times, you will have to wait for 30 minutes&quot;);\n            break;\n        }\n\n    }\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":8085113,"reputation":771,"user_id":6092916,"accept_rate":100,"display_name":"Milan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24829,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":39002466,"answer_count":7,"score":0,"last_activity_date":1660649682,"creation_date":1471451033,"question_id":39001793,"body_markdown":"I am trying to limit the maximum login attempts to 3. However, my code below uses all the attempts before the user can get a chance to press the login button again. How would I fix this? \r\n\r\n    private void executeLogin() {\r\n\r\n        String userNameStr = userNameTF.getText();\r\n        String passWordStr = passWordTF.getText();\r\n\r\n        int totalAttempts = 3;\r\n\r\n        while (totalAttempts != 0) {\r\n\r\n            if (userNameStr == &quot;temp&quot; &amp;&amp; passWordStr == &quot;pass&quot;) {\r\n\r\n                \r\n                System.out.println(&quot;Login Correct!&quot;);\r\n                return;\r\n\r\n            } else {\r\n\r\n               \r\n                System.out.println(&quot;Incorrect Login&quot;);\r\n\r\n                totalAttempts--;\r\n                System.out.println(totalAttempts);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if (totalAttempts == 0) {\r\n\r\n            System.out.println(&quot;Maximum number of attempts exceeded&quot;);\r\n        }\r\n    }","title":"Limit login attempt in Java","body":"<p>I am trying to limit the maximum login attempts to 3. However, my code below uses all the attempts before the user can get a chance to press the login button again. How would I fix this? </p>\n\n<pre><code>private void executeLogin() {\n\n    String userNameStr = userNameTF.getText();\n    String passWordStr = passWordTF.getText();\n\n    int totalAttempts = 3;\n\n    while (totalAttempts != 0) {\n\n        if (userNameStr == \"temp\" &amp;&amp; passWordStr == \"pass\") {\n\n\n            System.out.println(\"Login Correct!\");\n            return;\n\n        } else {\n\n\n            System.out.println(\"Incorrect Login\");\n\n            totalAttempts--;\n            System.out.println(totalAttempts);\n\n        }\n\n    }\n\n    if (totalAttempts == 0) {\n\n        System.out.println(\"Maximum number of attempts exceeded\");\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-fileprovider"],"answers":[{"tags":[],"owner":{"account_id":4523707,"reputation":6025,"user_id":3676184,"accept_rate":17,"display_name":"Pavya"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1524910769,"creation_date":1517371739,"answer_id":48534332,"question_id":48534293,"body_markdown":"Create your class \r\n\r\n    import android.support.v4.content.FileProvider;\r\n\r\n    public class GenericFileProvider extends FileProvider {\r\n    }\r\n\r\n\r\nAdd this provider into your AndroidManifest.xml under application tag:\r\n\r\n    &lt;provider\r\n          android:name=&quot;.utilities.GenericFileProvider&quot;\r\n          android:authorities=&quot;${applicationId}.utilities.GenericFileProvider&quot;\r\n          android:exported=&quot;false&quot;\r\n          android:grantUriPermissions=&quot;true&quot;&gt;\r\n             &lt;meta-data\r\n                 android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                 android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n    &lt;/provider&gt;","title":"android.support.v4.content.FileProvider not found","body":"<p>Create your class </p>\n\n<pre><code>import android.support.v4.content.FileProvider;\n\npublic class GenericFileProvider extends FileProvider {\n}\n</code></pre>\n\n<p>Add this provider into your AndroidManifest.xml under application tag:</p>\n\n<pre><code>&lt;provider\n      android:name=\".utilities.GenericFileProvider\"\n      android:authorities=\"${applicationId}.utilities.GenericFileProvider\"\n      android:exported=\"false\"\n      android:grantUriPermissions=\"true\"&gt;\n         &lt;meta-data\n             android:name=\"android.support.FILE_PROVIDER_PATHS\"\n             android:resource=\"@xml/provider_paths\" /&gt;\n&lt;/provider&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3162823,"reputation":1005,"user_id":2673443,"display_name":"Will Tang"},"down_vote_count":3,"up_vote_count":18,"is_accepted":true,"score":15,"last_activity_date":1523457217,"creation_date":1517374057,"answer_id":48534666,"question_id":48534293,"body_markdown":"add `compile &#39;com.android.support:support-v4:26.1.0&#39;` to *build.gradle* file in app module.","title":"android.support.v4.content.FileProvider not found","body":"<p>add <code>compile 'com.android.support:support-v4:26.1.0'</code> to <em>build.gradle</em> file in app module.</p>\n"},{"tags":[],"owner":{"account_id":8741977,"reputation":1833,"user_id":6538751,"accept_rate":67,"display_name":"Andre"},"down_vote_count":0,"up_vote_count":177,"is_accepted":false,"score":177,"last_activity_date":1548104419,"creation_date":1548104419,"answer_id":54297708,"question_id":48534293,"body_markdown":"As of AndroidX (the repackaged Android Support Library), the path is `androidx.core.content.FileProvider` so the updated provider tag would be:\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.core.content.FileProvider&quot;\r\n        android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:grantUriPermissions=&quot;true&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n            android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\nAndroid Support Libraries are now in the  `androidx.*` package hierarchy.\r\n\r\n`android.*` is now reserved to the built-in Android System Libraries. ","title":"android.support.v4.content.FileProvider not found","body":"<p>As of AndroidX (the repackaged Android Support Library), the path is <code>androidx.core.content.FileProvider</code> so the updated provider tag would be:</p>\n\n<pre><code>&lt;provider\n    android:name=\"androidx.core.content.FileProvider\"\n    android:authorities=\"${applicationId}.fileprovider\"\n    android:exported=\"false\"\n    android:grantUriPermissions=\"true\"&gt;\n    &lt;meta-data\n        android:name=\"android.support.FILE_PROVIDER_PATHS\"\n        android:resource=\"@xml/file_paths\" /&gt;\n&lt;/provider&gt;\n</code></pre>\n\n<p>Android Support Libraries are now in the  <code>androidx.*</code> package hierarchy.</p>\n\n<p><code>android.*</code> is now reserved to the built-in Android System Libraries. </p>\n"},{"tags":[],"owner":{"account_id":2039156,"reputation":833,"user_id":1820779,"display_name":"Hashim Akhtar"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1568161782,"creation_date":1568161782,"answer_id":57879634,"question_id":48534293,"body_markdown":"I replaced it with the newer version, which is : androidx.core.content.FileProvider\r\n\r\nThis worked for me.","title":"android.support.v4.content.FileProvider not found","body":"<p>I replaced it with the newer version, which is : androidx.core.content.FileProvider</p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":17431762,"reputation":166,"user_id":12635625,"display_name":"Ginanjar Setiawan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1582521739,"creation_date":1582521739,"answer_id":60369983,"question_id":48534293,"body_markdown":"for androidx\r\n\r\n    &lt;provider\r\n        android:name=&quot;androidx.core.content.FileProvider&quot;\r\n        android:authorities=&quot;${applicationId}.provider&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:grantUriPermissions=&quot;true&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n            android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n    &lt;/provider&gt;","title":"android.support.v4.content.FileProvider not found","body":"<p>for androidx</p>\n\n<pre><code>&lt;provider\n    android:name=\"androidx.core.content.FileProvider\"\n    android:authorities=\"${applicationId}.provider\"\n    android:exported=\"false\"\n    android:grantUriPermissions=\"true\"&gt;\n    &lt;meta-data\n        android:name=\"android.support.FILE_PROVIDER_PATHS\"\n        android:resource=\"@xml/provider_paths\" /&gt;\n&lt;/provider&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11677694,"reputation":4610,"user_id":8550613,"display_name":"Deepak Bhavsar"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1583868974,"creation_date":1583548519,"answer_id":60573907,"question_id":48534293,"body_markdown":"Instead of \r\n\r\n    import android.support.v4.content.FileProvider;\r\n\r\nTry importing \r\n\r\n    import androidx.core.content.FileProvider;","title":"android.support.v4.content.FileProvider not found","body":"<p>Instead of </p>\n\n<pre><code>import android.support.v4.content.FileProvider;\n</code></pre>\n\n<p>Try importing </p>\n\n<pre><code>import androidx.core.content.FileProvider;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4782307,"reputation":1599,"user_id":3863697,"accept_rate":50,"display_name":"Zahirul Haque"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1590509442,"creation_date":1590509442,"answer_id":62026579,"question_id":48534293,"body_markdown":"Change to \r\n\r\n    public class FileProvider extends androidx.core.content.FileProvider {\r\n    }","title":"android.support.v4.content.FileProvider not found","body":"<p>Change to </p>\n\n<pre><code>public class FileProvider extends androidx.core.content.FileProvider {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15992585,"reputation":441,"user_id":11541359,"display_name":"Saransh Kumar"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1660649634,"creation_date":1597403211,"answer_id":63411573,"question_id":48534293,"body_markdown":"Using the following commands solved my issue: \r\n\r\n\r\n    npm install jetifier --save-dev\r\n    npx jetify\r\n    npx cap sync","title":"android.support.v4.content.FileProvider not found","body":"<p>Using the following commands solved my issue:</p>\n<pre><code>npm install jetifier --save-dev\nnpx jetify\nnpx cap sync\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2704455,"reputation":5870,"user_id":2334352,"accept_rate":80,"display_name":"Cedric Ipkiss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656759839,"creation_date":1656759839,"answer_id":72838545,"question_id":48534293,"body_markdown":"Ionic users,\r\n\r\n    ionic cordova rm android\r\nDo that and then rebuild your app.","title":"android.support.v4.content.FileProvider not found","body":"<p>Ionic users,</p>\n<pre><code>ionic cordova rm android\n</code></pre>\n<p>Do that and then rebuild your app.</p>\n"},{"tags":[],"owner":{"account_id":9708863,"reputation":1,"user_id":7201467,"display_name":"experge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658629190,"creation_date":1658629190,"answer_id":73095363,"question_id":48534293,"body_markdown":"If you are having this issue with multiple dependencies, you can migrate your entire project to Android X. \r\n\r\nTo do this, right-click the &quot;app&quot; folder in your project, select &quot;Refactor&quot; and then &quot;Migrate to Android X&quot;. \r\n\r\nHere&#39;s a pic: \r\n\r\n[Dialog Menu to migrate Android X Project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rIXGh.png","title":"android.support.v4.content.FileProvider not found","body":"<p>If you are having this issue with multiple dependencies, you can migrate your entire project to Android X.</p>\n<p>To do this, right-click the &quot;app&quot; folder in your project, select &quot;Refactor&quot; and then &quot;Migrate to Android X&quot;.</p>\n<p>Here's a pic:</p>\n<p><a href=\"https://i.stack.imgur.com/rIXGh.png\" rel=\"nofollow noreferrer\">Dialog Menu to migrate Android X Project</a></p>\n"}],"owner":{"account_id":1399414,"reputation":8844,"user_id":1328466,"accept_rate":58,"display_name":"Lim Thye Chean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106054,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":48534666,"answer_count":10,"score":57,"last_activity_date":1660649634,"creation_date":1517371480,"question_id":48534293,"body_markdown":"I am trying to upgrade a working old app to support Android API 26, and one of the thing I need to use is android.support.v4.content.FileProvider - but it was not found.\r\n\r\n        &lt;provider\r\n            android:name=&quot;android.support.v4.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nDue to the early Android build, the gradle file seems simple. Is it as simple as adding a dependency? I have look around and some suggested adding a multidex which I don&#39;t understand. Any help is appreciated, thank you!\r\n\r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &#39;26.0.2&#39;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;virtualgs.spaint&quot;\r\n            minSdkVersion 22\r\n            targetSdkVersion 26\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n            }\r\n        }\r\n    }","title":"android.support.v4.content.FileProvider not found","body":"<p>I am trying to upgrade a working old app to support Android API 26, and one of the thing I need to use is android.support.v4.content.FileProvider - but it was not found.</p>\n\n<pre><code>    &lt;provider\n        android:name=\"android.support.v4.content.FileProvider\"\n        android:authorities=\"${applicationId}.fileprovider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/file_paths\" /&gt;\n    &lt;/provider&gt;\n</code></pre>\n\n<p>Due to the early Android build, the gradle file seems simple. Is it as simple as adding a dependency? I have look around and some suggested adding a multidex which I don't understand. Any help is appreciated, thank you!</p>\n\n<pre><code>android {\n    compileSdkVersion 26\n    buildToolsVersion '26.0.2'\n\n    defaultConfig {\n        applicationId \"virtualgs.spaint\"\n        minSdkVersion 22\n        targetSdkVersion 26\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8886,"page":1106,"page_size":100}
