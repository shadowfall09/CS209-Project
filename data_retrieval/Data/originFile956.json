{"items":[{"tags":["java","list","set"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1664919742,"post_id":73953853,"comment_id":130579202,"body_markdown":"No idea what you&#39;re asking, sorry.","body":"No idea what you&#39;re asking, sorry."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1664919750,"post_id":73953853,"comment_id":130579205,"body_markdown":"Its sounds like you want the intersection of your sets. see this https://stackoverflow.com/questions/2851938/efficiently-finding-the-intersection-of-a-variable-number-of-sets-of-strings","body":"Its sounds like you want the intersection of your sets. see this <a href=\"https://stackoverflow.com/questions/2851938/efficiently-finding-the-intersection-of-a-variable-number-of-sets-of-strings\" title=\"efficiently finding the intersection of a variable number of sets of strings\">stackoverflow.com/questions/2851938/&hellip;</a>"},{"owner":{"account_id":26221865,"reputation":1,"user_id":19899154,"display_name":"Martin009"},"score":0,"creation_date":1664920049,"post_id":73953853,"comment_id":130579274,"body_markdown":"The point is, in each of the lists, it stores several numbers.\nI want to add to qSE the numbers that will appear in each of the lists.","body":"The point is, in each of the lists, it stores several numbers. I want to add to qSE the numbers that will appear in each of the lists."}],"answers":[{"tags":[],"owner":{"account_id":20004639,"reputation":43,"user_id":14662963,"display_name":"sean rogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664927344,"creation_date":1664927344,"answer_id":73954666,"question_id":73953853,"body_markdown":"i think \r\n\r\n```\r\npublic static Set&lt;Integer&gt; getSameElements(List&lt;Set&lt;Integer&gt;&gt; listOfElements){\r\n    Set&lt;Integer&gt; gSE = new HashSet&lt;&gt;();\r\n    for (Set&lt;Integer&gt; list : listOfElements){\r\n        for (int number : list){\r\n//this part here\\/\r\n               gSE.add(number);\r\n\r\n            }\r\n        }\r\n    }\r\n    return gSE;\r\n}\r\n\r\n```\r\n\r\nmay be what youre looking for? if youre trying to put the numbers from the other sets into that set. question is a tad hard to follow but hope that helps","title":"Find the item that is in each list","body":"<p>i think</p>\n<pre><code>public static Set&lt;Integer&gt; getSameElements(List&lt;Set&lt;Integer&gt;&gt; listOfElements){\n    Set&lt;Integer&gt; gSE = new HashSet&lt;&gt;();\n    for (Set&lt;Integer&gt; list : listOfElements){\n        for (int number : list){\n//this part here\\/\n               gSE.add(number);\n\n            }\n        }\n    }\n    return gSE;\n}\n\n</code></pre>\n<p>may be what youre looking for? if youre trying to put the numbers from the other sets into that set. question is a tad hard to follow but hope that helps</p>\n"},{"tags":[],"owner":{"account_id":26601102,"reputation":1,"user_id":20222737,"display_name":"Ragubaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665987766,"creation_date":1665987766,"answer_id":74093242,"question_id":73953853,"body_markdown":"    Set&lt;Integer&gt; list1=Set.of(5,7,9,11,13);\r\n    \t\tSet&lt;Integer&gt; list2=Set.of(5,7,9,11,13);\r\n    \t\tSet&lt;Integer&gt; list3=Set.of(2,4,6,8,10);\r\n    \t\tSet&lt;Integer&gt; list4=Set.of(3,6,9,12,15);\r\n    \t\tList&lt;Set&lt;Integer&gt;&gt; addlist=List.of(list1,list2,list3,list4);\r\n    \t\tSet&lt;Integer&gt; gse = new HashSet&lt;&gt;();\r\n    \t\tfor(Set&lt;Integer&gt; s:addlist) {\r\n    \t\t\tfor(int n:s ) {\r\n    \t\t\t\tgse.add(n);\r\n    \t\t\t}\r\n    \t\t}\r\n    Output:[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15]","title":"Find the item that is in each list","body":"<pre><code>Set&lt;Integer&gt; list1=Set.of(5,7,9,11,13);\n        Set&lt;Integer&gt; list2=Set.of(5,7,9,11,13);\n        Set&lt;Integer&gt; list3=Set.of(2,4,6,8,10);\n        Set&lt;Integer&gt; list4=Set.of(3,6,9,12,15);\n        List&lt;Set&lt;Integer&gt;&gt; addlist=List.of(list1,list2,list3,list4);\n        Set&lt;Integer&gt; gse = new HashSet&lt;&gt;();\n        for(Set&lt;Integer&gt; s:addlist) {\n            for(int n:s ) {\n                gse.add(n);\n            }\n        }\nOutput:[2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15]\n</code></pre>\n"}],"owner":{"account_id":26221865,"reputation":1,"user_id":19899154,"display_name":"Martin009"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1665987766,"creation_date":1664919445,"question_id":73953853,"body_markdown":"I want to point to the item that is on each list. Lists are kept in List &lt;Set &lt;Integer&gt;&gt;.\r\nThe point is, in each of the lists, it stores several numbers.\r\nI want to add to qSE the numbers that will appear in each of the lists.\r\nWhat should I add in the code to make it work as it should?\r\n\r\n    public static Set&lt;Integer&gt; getSameElements(List&lt;Set&lt;Integer&gt;&gt; listOfElements){\r\n        Set&lt;Integer&gt; gSE = new HashSet&lt;&gt;();\r\n        for (Set&lt;Integer&gt; list : listOfElements){\r\n            for (int number : list){\r\n\r\n                }\r\n            }\r\n        }\r\n        return gSE;\r\n    }","title":"Find the item that is in each list","body":"<p>I want to point to the item that is on each list. Lists are kept in List &lt;Set &gt;.\nThe point is, in each of the lists, it stores several numbers.\nI want to add to qSE the numbers that will appear in each of the lists.\nWhat should I add in the code to make it work as it should?</p>\n<pre><code>public static Set&lt;Integer&gt; getSameElements(List&lt;Set&lt;Integer&gt;&gt; listOfElements){\n    Set&lt;Integer&gt; gSE = new HashSet&lt;&gt;();\n    for (Set&lt;Integer&gt; list : listOfElements){\n        for (int number : list){\n\n            }\n        }\n    }\n    return gSE;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","pact"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665405892,"post_id":74015105,"comment_id":130685695,"body_markdown":"My guess is that one of the nested JAR files is incomplete or corrupted.","body":"My guess is that one of the nested JAR files is incomplete or corrupted."}],"answers":[{"tags":[],"owner":{"account_id":1916343,"reputation":402,"user_id":1728856,"accept_rate":40,"display_name":"Cagin Uludamar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665987126,"creation_date":1665987126,"answer_id":74093164,"question_id":74015105,"body_markdown":"I think there is a missing entry in the consumer\\pom.xml. When I added this dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; \r\n    &lt;/dependency&gt;\r\n\r\nas per [this answer][1], it started to work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47895025/1728856","title":"Pact Maven-Springboot workshop step 1 fails with IllegalStateException: Failed to get nested archive for entry BOOT-INF/lib/logback-classic-1.2.3.jar","body":"<p>I think there is a missing entry in the consumer\\pom.xml. When I added this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>as per <a href=\"https://stackoverflow.com/a/47895025/1728856\">this answer</a>, it started to work.</p>\n"}],"owner":{"account_id":1916343,"reputation":402,"user_id":1728856,"accept_rate":40,"display_name":"Cagin Uludamar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74093164,"answer_count":1,"score":0,"last_activity_date":1665987126,"creation_date":1665405552,"question_id":74015105,"body_markdown":"I&#39;m trying to follow the steps in [Pact Maven-Springboot workshop][1] but getting this error at [step 1][2] when I run this command: java -jar target/product-catalogue-0.0.1-SNAPSHOT.jar:\r\n\r\n    C:\\Users\\57046\\git\\pact-workshop-Maven-Springboot-JUnit5\\consumer&gt;java -jar target/product-catalogue-0.0.1-SNAPSHOT.jar\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Failed to get nested archive for entry BOOT-INF/lib/logback-classic-1.2.3.jar\r\n            at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:104)\r\n            at org.springframework.boot.loader.archive.JarFileArchive$NestedArchiveIterator.adapt(JarFileArchive.java:237)\r\n            at org.springframework.boot.loader.archive.JarFileArchive$NestedArchiveIterator.adapt(JarFileArchive.java:228)\r\n            at org.springframework.boot.loader.archive.JarFileArchive$AbstractIterator.next(JarFileArchive.java:189)\r\n            at org.springframework.boot.loader.ExecutableArchiveLauncher.createClassLoader(ExecutableArchiveLauncher.java:87)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\n    Caused by: java.io.IOException: Unable to open nested jar file &#39;BOOT-INF/lib/logback-classic-1.2.3.jar&#39;\r\n            at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:288)\r\n            at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:274)\r\n            at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:100)\r\n            ... 6 more\r\n    Caused by: java.lang.IndexOutOfBoundsException\r\n            at org.springframework.boot.loader.jar.AsciiBytes.&lt;init&gt;(AsciiBytes.java:73)\r\n            at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.load(CentralDirectoryFileHeader.java:85)\r\n            at org.springframework.boot.loader.jar.CentralDirectoryParser.parseEntries(CentralDirectoryParser.java:68)\r\n            at org.springframework.boot.loader.jar.CentralDirectoryParser.parse(CentralDirectoryParser.java:57)\r\n            at org.springframework.boot.loader.jar.JarFile.&lt;init&gt;(JarFile.java:137)\r\n            at org.springframework.boot.loader.jar.JarFile.&lt;init&gt;(JarFile.java:123)\r\n            at org.springframework.boot.loader.jar.JarFile.createJarFileFromFileEntry(JarFile.java:319)\r\n            at org.springframework.boot.loader.jar.JarFile.createJarFileFromEntry(JarFile.java:296)\r\n            at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:285)\r\n            ... 8 more\r\n\r\nAs suggested by Stephen, I checked if the mentioned jar was corrupt. mvn dependency:analyze printed this:\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  29.455 s\r\n    [INFO] Finished at: 2022-10-11T15:26:10+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:3.1.2:analyze (default-cli) on project product-catalogue: Cannot analyze dependencies: invalid CEN header (bad signature) -&gt; [Help 1]\r\n\r\nI deleted the jar file, run mvnw verify (with no errors and logging that the jar is downloaded again) and then mvn dependency:analyze again, which then gave me:\r\n\r\n    [WARNING] Used undeclared dependencies found:\r\n    [WARNING]    org.springframework.boot:spring-boot:jar:2.4.3:compile\r\n    [WARNING]    org.springframework:spring-web:jar:5.3.4:compile\r\n    [WARNING]    org.springframework:spring-beans:jar:5.3.4:compile\r\n    [WARNING]    org.springframework:spring-context:jar:5.3.4:compile\r\n    [WARNING]    org.springframework.boot:spring-boot-autoconfigure:jar:2.4.3:compile\r\n    [WARNING] Unused declared dependencies found:\r\n    [WARNING]    org.springframework.boot:spring-boot-starter-web:jar:2.4.3:compile\r\n    [WARNING]    org.springframework.boot:spring-boot-starter-thymeleaf:jar:2.4.3:compile\r\n    [WARNING]    org.springframework.boot:spring-boot-starter-test:jar:2.4.3:test\r\n    [WARNING]    org.projectlombok:lombok:jar:1.18.16:provided\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  6.768 s\r\n    [INFO] Finished at: 2022-10-11T16:00:05+03:00\r\n\r\nBut I&#39;m still getting the same exception when I try to run the code.\r\n\r\nAs per [another suggestion][3] I run mvn spring-boot:run but got:\r\n\r\n    C:\\Users\\57046\\git\\pact-workshop-Maven-Springboot-JUnit5\\consumer&gt;mvn spring-boot:run\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] -----------------&lt; io.pact.workshop:product-catalogue &gt;-----------------\r\n    [INFO] Building product-catalogue 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.4.3:run (default-cli) &gt; test-compile @ product-catalogue &gt;&gt;&gt;\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ product-catalogue ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 5 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ product-catalogue ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ product-catalogue ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n    [INFO] skip non existing resourceDirectory C:\\Users\\57046\\git\\pact-workshop-Maven-Springboot-JUnit5\\consumer\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ product-catalogue ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.4.3:run (default-cli) &lt; test-compile @ product-catalogue &lt;&lt;&lt;\r\n    [INFO]\r\n    [INFO]\r\n    [INFO] --- spring-boot-maven-plugin:2.4.3:run (default-cli) @ product-catalogue ---\r\n    [INFO] Attaching agents: []\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n            at org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:39)\r\n            at org.apache.commons.logging.LogAdapter$Log4jLog.&lt;init&gt;(LogAdapter.java:165)\r\n            at org.apache.commons.logging.LogAdapter$Log4jAdapter.createLog(LogAdapter.java:122)\r\n            at org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:89)\r\n            at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:67)\r\n            at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:59)\r\n            at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:203)\r\n            at io.pact.workshop.product_catalogue.Application.main(Application.java:12)\r\n    Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n            at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n            at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n            ... 8 more\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.030 s\r\n    [INFO] Finished at: 2022-10-11T16:18:48+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.3:run (default-cli) on project product-catalogue: Application finished with exit code: 1 -&gt; [Help 1]\r\n\r\nwhich is further confusing as it gets NoClassDefFoundError for another class.\r\n\r\n  [1]: https://github.com/pact-foundation/pact-workshop-Maven-Springboot-JUnit5/tree/step1#readme\r\n  [2]: https://github.com/pact-foundation/pact-workshop-Maven-Springboot-JUnit5/tree/step1#step-1---simple-consumer-calling-provider\r\n  [3]: https://stackoverflow.com/a/21436281/1728856","title":"Pact Maven-Springboot workshop step 1 fails with IllegalStateException: Failed to get nested archive for entry BOOT-INF/lib/logback-classic-1.2.3.jar","body":"<p>I'm trying to follow the steps in <a href=\"https://github.com/pact-foundation/pact-workshop-Maven-Springboot-JUnit5/tree/step1#readme\" rel=\"nofollow noreferrer\">Pact Maven-Springboot workshop</a> but getting this error at <a href=\"https://github.com/pact-foundation/pact-workshop-Maven-Springboot-JUnit5/tree/step1#step-1---simple-consumer-calling-provider\" rel=\"nofollow noreferrer\">step 1</a> when I run this command: java -jar target/product-catalogue-0.0.1-SNAPSHOT.jar:</p>\n<pre><code>C:\\Users\\57046\\git\\pact-workshop-Maven-Springboot-JUnit5\\consumer&gt;java -jar target/product-catalogue-0.0.1-SNAPSHOT.jar\nException in thread &quot;main&quot; java.lang.IllegalStateException: Failed to get nested archive for entry BOOT-INF/lib/logback-classic-1.2.3.jar\n        at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:104)\n        at org.springframework.boot.loader.archive.JarFileArchive$NestedArchiveIterator.adapt(JarFileArchive.java:237)\n        at org.springframework.boot.loader.archive.JarFileArchive$NestedArchiveIterator.adapt(JarFileArchive.java:228)\n        at org.springframework.boot.loader.archive.JarFileArchive$AbstractIterator.next(JarFileArchive.java:189)\n        at org.springframework.boot.loader.ExecutableArchiveLauncher.createClassLoader(ExecutableArchiveLauncher.java:87)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:55)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\nCaused by: java.io.IOException: Unable to open nested jar file 'BOOT-INF/lib/logback-classic-1.2.3.jar'\n        at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:288)\n        at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:274)\n        at org.springframework.boot.loader.archive.JarFileArchive.getNestedArchive(JarFileArchive.java:100)\n        ... 6 more\nCaused by: java.lang.IndexOutOfBoundsException\n        at org.springframework.boot.loader.jar.AsciiBytes.&lt;init&gt;(AsciiBytes.java:73)\n        at org.springframework.boot.loader.jar.CentralDirectoryFileHeader.load(CentralDirectoryFileHeader.java:85)\n        at org.springframework.boot.loader.jar.CentralDirectoryParser.parseEntries(CentralDirectoryParser.java:68)\n        at org.springframework.boot.loader.jar.CentralDirectoryParser.parse(CentralDirectoryParser.java:57)\n        at org.springframework.boot.loader.jar.JarFile.&lt;init&gt;(JarFile.java:137)\n        at org.springframework.boot.loader.jar.JarFile.&lt;init&gt;(JarFile.java:123)\n        at org.springframework.boot.loader.jar.JarFile.createJarFileFromFileEntry(JarFile.java:319)\n        at org.springframework.boot.loader.jar.JarFile.createJarFileFromEntry(JarFile.java:296)\n        at org.springframework.boot.loader.jar.JarFile.getNestedJarFile(JarFile.java:285)\n        ... 8 more\n</code></pre>\n<p>As suggested by Stephen, I checked if the mentioned jar was corrupt. mvn dependency:analyze printed this:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  29.455 s\n[INFO] Finished at: 2022-10-11T15:26:10+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:3.1.2:analyze (default-cli) on project product-catalogue: Cannot analyze dependencies: invalid CEN header (bad signature) -&gt; [Help 1]\n</code></pre>\n<p>I deleted the jar file, run mvnw verify (with no errors and logging that the jar is downloaded again) and then mvn dependency:analyze again, which then gave me:</p>\n<pre><code>[WARNING] Used undeclared dependencies found:\n[WARNING]    org.springframework.boot:spring-boot:jar:2.4.3:compile\n[WARNING]    org.springframework:spring-web:jar:5.3.4:compile\n[WARNING]    org.springframework:spring-beans:jar:5.3.4:compile\n[WARNING]    org.springframework:spring-context:jar:5.3.4:compile\n[WARNING]    org.springframework.boot:spring-boot-autoconfigure:jar:2.4.3:compile\n[WARNING] Unused declared dependencies found:\n[WARNING]    org.springframework.boot:spring-boot-starter-web:jar:2.4.3:compile\n[WARNING]    org.springframework.boot:spring-boot-starter-thymeleaf:jar:2.4.3:compile\n[WARNING]    org.springframework.boot:spring-boot-starter-test:jar:2.4.3:test\n[WARNING]    org.projectlombok:lombok:jar:1.18.16:provided\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.768 s\n[INFO] Finished at: 2022-10-11T16:00:05+03:00\n</code></pre>\n<p>But I'm still getting the same exception when I try to run the code.</p>\n<p>As per <a href=\"https://stackoverflow.com/a/21436281/1728856\">another suggestion</a> I run mvn spring-boot:run but got:</p>\n<pre><code>C:\\Users\\57046\\git\\pact-workshop-Maven-Springboot-JUnit5\\consumer&gt;mvn spring-boot:run\n[INFO] Scanning for projects...\n[INFO]\n[INFO] -----------------&lt; io.pact.workshop:product-catalogue &gt;-----------------\n[INFO] Building product-catalogue 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:2.4.3:run (default-cli) &gt; test-compile @ product-catalogue &gt;&gt;&gt;\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ product-catalogue ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 5 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ product-catalogue ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ product-catalogue ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] skip non existing resourceDirectory C:\\Users\\57046\\git\\pact-workshop-Maven-Springboot-JUnit5\\consumer\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ product-catalogue ---\n[INFO] No sources to compile\n[INFO]\n[INFO] &lt;&lt;&lt; spring-boot-maven-plugin:2.4.3:run (default-cli) &lt; test-compile @ product-catalogue &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- spring-boot-maven-plugin:2.4.3:run (default-cli) @ product-catalogue ---\n[INFO] Attaching agents: []\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n        at org.apache.logging.slf4j.SLF4JLoggerContext.getLogger(SLF4JLoggerContext.java:39)\n        at org.apache.commons.logging.LogAdapter$Log4jLog.&lt;init&gt;(LogAdapter.java:165)\n        at org.apache.commons.logging.LogAdapter$Log4jAdapter.createLog(LogAdapter.java:122)\n        at org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:89)\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:67)\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:59)\n        at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:203)\n        at io.pact.workshop.product_catalogue.Application.main(Application.java:12)\nCaused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 8 more\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.030 s\n[INFO] Finished at: 2022-10-11T16:18:48+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.3:run (default-cli) on project product-catalogue: Application finished with exit code: 1 -&gt; [Help 1]\n</code></pre>\n<p>which is further confusing as it gets NoClassDefFoundError for another class.</p>\n"},{"tags":["java","jira","velocity","jira-plugin","apache-velocity"],"comments":[{"owner":{"account_id":4865058,"reputation":625,"user_id":3923605,"display_name":"AbdulKarim"},"score":0,"creation_date":1665833782,"post_id":74068940,"comment_id":130793992,"body_markdown":"Could you share what is happening in service.populateDataForPlugin(pkey, pid, configuration); as the issue might be caused by contextMap not containing $rule variable. you may also validate using: #if($rule != null) Rule: $rule &amp; Rule ID: $rule.getID() #end","body":"Could you share what is happening in service.populateDataForPlugin(pkey, pid, configuration); as the issue might be caused by contextMap not containing $rule variable. you may also validate using: #if($rule != null) Rule: $rule &amp; Rule ID: $rule.getID() #end"},{"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"score":0,"creation_date":1665986846,"post_id":74068940,"comment_id":130818911,"body_markdown":"Hi AbdulKarim, I have added service.populateDataForPlugin method code snippet above and I have tried printing out the above line as suggested and this is the output &quot;Rule: AO_ADD0BF_MANAGE_FIELD_RULES {ID = 1067} &amp; Rule ID: $rule.getID() &amp; Rule fields: $rule.getFields()&quot;","body":"Hi AbdulKarim, I have added service.populateDataForPlugin method code snippet above and I have tried printing out the above line as suggested and this is the output &quot;Rule: AO_ADD0BF_MANAGE_FIELD_RULES {ID = 1067} &amp; Rule ID: $rule.getID() &amp; Rule fields: $rule.getFields()&quot;"},{"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"score":0,"creation_date":1665986918,"post_id":74068940,"comment_id":130818927,"body_markdown":"The value for rule is getting fetched as we can see above but the values present in Rule id and fields are not getting fetched on Jira UI","body":"The value for rule is getting fetched as we can see above but the values present in Rule id and fields are not getting fetched on Jira UI"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665986649,"creation_date":1665749052,"question_id":74068940,"body_markdown":"I have developed a Jira Plugin for Server in which I am sending the required data to the velocity template files from the Get Servlet using render method of Template Renderer (https://docs.atlassian.com/atlassian-template-renderer/1.5.2/apidocs/com/atlassian/templaterenderer/TemplateRenderer.html)\r\n\r\nThe code for that is given below:\r\n```\r\n@ComponentImport\r\nprivate final TemplateRenderer templateRenderer;\r\n\r\nMap&lt;String, Object&gt; data = service.populateDataForPlugin(pkey, pid, token,\r\nmanageFieldsRule, hideFieldService, mandateFieldService, configuration);\r\n\r\n// To render the velocity template UI with required data\r\ntemplateRenderer.render(&quot;templates/init.vm&quot;, data, res.getWriter());\r\n```\r\n\r\nAdding populateDataForPlugin code below:\r\n\r\n```\r\nimport com.aidt.managefields.entity.ManageFieldRules;\r\n\r\n\r\n// Populate data map with required values to fetch it in doGet servlet\r\n\t@Override\r\n\tpublic Map&lt;String, Object&gt; populateDataForPlugin(String pkey, String pid, String token,\r\n\t\t\tManageFieldsRule manageFieldsRule, HideFieldService hideFieldService,\r\n\t\t\tMandateFieldService mandateFieldService, List&lt;AmfConfigurations&gt; configuration) {\r\n\r\n\t\tMap&lt;String, Object&gt; data = Maps.newHashMap();\r\n\t\tdata.put(&quot;pkey&quot;, pkey);\r\n\t\tdata.put(&quot;pid&quot;, pid);\r\n\r\n\t\t// Fetch existing Manage field rules from database\r\n\t\tList&lt;ManageFieldRules&gt; exisitingRules = manageFieldsRule.getRules();\r\n\r\n\t\tList&lt;ManageFieldRules&gt; projectSpecificHidingRules = new ArrayList&lt;&gt;();\r\n\t\tList&lt;ManageFieldRules&gt; projectSpecificMandateRules = new ArrayList&lt;&gt;();\r\n\r\n\t\t// Fetch Manage field rules present in current project\r\n\t\tif (exisitingRules != null &amp;&amp; !exisitingRules.isEmpty()) {\r\n\t\t\tfor (ManageFieldRules rule : exisitingRules) {\r\n\t\t\t\tif (rule.getPid().equals(pid) &amp;&amp; rule.getPkey().equals(pkey) &amp;&amp; rule.getOperation().equals(&quot;Hide&quot;)) {\r\n\t\t\t\t\tString hideIssueTypeIds = rule.getIssueType().replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\r\n\t\t\t\t\trule.setIssueType(hideIssueTypeIds);\r\n\t\t\t\t\tprojectSpecificHidingRules.add(rule);\r\n\t\t\t\t}\r\n\t\t\t\tif (rule.getPid().equals(pid) &amp;&amp; rule.getPkey().equals(pkey) &amp;&amp; rule.getOperation().equals(&quot;Mandate&quot;)) {\r\n\t\t\t\t\tString mandateIssueTypeIds = rule.getIssueType().replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\r\n\t\t\t\t\trule.setIssueType(mandateIssueTypeIds);\r\n\t\t\t\t\tprojectSpecificMandateRules.add(rule);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdata.put(&quot;hideRuleList&quot;, projectSpecificHidingRules);\r\n\t\tdata.put(&quot;mandateRuleList&quot;, projectSpecificMandateRules);\r\n\r\n\t\tfinal Project project = projectManager.getProjectByCurrentKey(pkey);\r\n\r\n\t\t// Fetch all issue types mapped to current project\r\n\t\tCollection&lt;IssueType&gt; projectSpecificIssueTypes = ComponentAccessor.getIssueTypeSchemeManager()\r\n\t\t\t\t.getIssueTypesForProject(project);\r\n\r\n\t\t// Convert collection of issue type to list of maps with issue type id and issue type name\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; allIssueTypesInProject = ManageFieldsUtility\r\n\t\t\t\t.getMapOfIssueTypesSpecificToProject(projectSpecificIssueTypes);\r\n\t\tdata.put(&quot;allIssueTypesInProject&quot;, allIssueTypesInProject);\r\n\r\n\t\t// Fetch all system fields in jira instance except fields which are already mandated\r\n\t\tList&lt;Field&gt; allSystemFields = mandateFieldService.findSystemFields();\r\n\r\n\t\t// Fetch all custom fields if current project is present in it&#39;s context\r\n\t\tList&lt;CustomField&gt; projectSpecificCustomFields = hideFieldService\r\n\t\t\t\t.projectSpecificCustomFields(Long.parseLong(pid), issueTypes);\r\n\r\n\t\t// Fetch list of all custom fields excluding locked and message custom fields\r\n\t\tList&lt;CustomField&gt; customFieldsExLockedMessageCf = hideFieldService\r\n\t\t\t\t.fetchCustomFieldsExLockedMessage(projectSpecificCustomFields, managedConfigurationItemService);\r\n\r\n\t\t// Concat System fields and Custom fields\r\n\t\tList&lt;Field&gt; allFields = Stream.concat(allSystemFields.stream(), customFieldsExLockedMessageCf.stream())\r\n\t\t\t\t.collect(Collectors.toList());\r\n\r\n\t\t// Fetch final list of fields which are eligible to hide in current project\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; eligibleFieldsToHide = ManageFieldsUtility\r\n\t\t\t\t.eligibleFieldsToHide(customFieldsExLockedMessageCf, allFields, exisitingRules, configuration);\r\n\t\tdata.put(&quot;hideIssueFields&quot;, eligibleFieldsToHide);\r\n\r\n\t\t// Fetch all custom fields in jira instance\r\n\t\tList&lt;CustomField&gt; allCustomFields = cfm.getCustomFieldObjects();\r\n\r\n\t\t// Fetch system fields, custom fields excluding locked fields and message custom fields\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; allFieldsExLockedMessageCf = mandateFieldService\r\n\t\t\t\t.findAllFieldsExLockedMessageFields(allCustomFields, managedConfigurationItemService);\r\n\t\tdata.put(&quot;systemCustomFields&quot;, allFieldsExLockedMessageCf);\r\n\r\n\t\t// Fetch final list of fields which are eligible to mandate in current project\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; eligibleFieldsToMandate = ManageFieldsUtility.eligibleFieldsToMandate(allFields,\r\n\t\t\t\texisitingRules, configuration);\r\n\t\tdata.put(&quot;mandateIssueFields&quot;, eligibleFieldsToMandate);\r\n\r\n\t\t// Fetch all custom fields excluding locked and message custom fields\r\n\t\tList&lt;Map&lt;String, Object&gt;&gt; allCustomFieldsExLockedMessageCf = hideFieldService\r\n\t\t\t\t.findAllCustomFieldsExLockedMessageCf(managedConfigurationItemService);\r\n\t\tdata.put(&quot;allCustomFields&quot;, allCustomFieldsExLockedMessageCf);\r\n\r\n\t\t// Add generated unique CSRF token\r\n\t\tdata.put(&quot;csrfToken&quot;, token);\r\n\r\n\t\treturn data;\r\n\t}\r\n```\r\n\r\nIn my velocity file, I am fetching RuleId from data map which is passed using template renderer using the following code:\r\n```\r\n#set ($ruleId = $rule.getID())\r\nRuleId is $ruleId\r\n```\r\n\r\nBut the value is not getting populated on Jira UI as seen in the attached screenshot:\r\n\r\n[![Jira_ss][1]][1]\r\n\r\nBut when I fetch the same Rule Id value in the backend, the values are present as expected. I am attaching the screenshot:\r\n[![Output_ss][2]][2]\r\n\r\nThe issue is data is present in the backend but the values are not getting populated on the Jira UI. Can anyone please help me in resolving this issue.\r\n \r\nJira Software version: 9.2.0\r\n\r\nThanks &amp; Regards,\r\nPreethi H R\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F9skV.png\r\n  [2]: https://i.stack.imgur.com/Hq2ju.png","title":"Apache Velocity not able to fetch the values from data map sent using Jira Template Renderer","body":"<p>I have developed a Jira Plugin for Server in which I am sending the required data to the velocity template files from the Get Servlet using render method of Template Renderer (<a href=\"https://docs.atlassian.com/atlassian-template-renderer/1.5.2/apidocs/com/atlassian/templaterenderer/TemplateRenderer.html\" rel=\"nofollow noreferrer\">https://docs.atlassian.com/atlassian-template-renderer/1.5.2/apidocs/com/atlassian/templaterenderer/TemplateRenderer.html</a>)</p>\n<p>The code for that is given below:</p>\n<pre><code>@ComponentImport\nprivate final TemplateRenderer templateRenderer;\n\nMap&lt;String, Object&gt; data = service.populateDataForPlugin(pkey, pid, token,\nmanageFieldsRule, hideFieldService, mandateFieldService, configuration);\n\n// To render the velocity template UI with required data\ntemplateRenderer.render(&quot;templates/init.vm&quot;, data, res.getWriter());\n</code></pre>\n<p>Adding populateDataForPlugin code below:</p>\n<pre><code>import com.aidt.managefields.entity.ManageFieldRules;\n\n\n// Populate data map with required values to fetch it in doGet servlet\n    @Override\n    public Map&lt;String, Object&gt; populateDataForPlugin(String pkey, String pid, String token,\n            ManageFieldsRule manageFieldsRule, HideFieldService hideFieldService,\n            MandateFieldService mandateFieldService, List&lt;AmfConfigurations&gt; configuration) {\n\n        Map&lt;String, Object&gt; data = Maps.newHashMap();\n        data.put(&quot;pkey&quot;, pkey);\n        data.put(&quot;pid&quot;, pid);\n\n        // Fetch existing Manage field rules from database\n        List&lt;ManageFieldRules&gt; exisitingRules = manageFieldsRule.getRules();\n\n        List&lt;ManageFieldRules&gt; projectSpecificHidingRules = new ArrayList&lt;&gt;();\n        List&lt;ManageFieldRules&gt; projectSpecificMandateRules = new ArrayList&lt;&gt;();\n\n        // Fetch Manage field rules present in current project\n        if (exisitingRules != null &amp;&amp; !exisitingRules.isEmpty()) {\n            for (ManageFieldRules rule : exisitingRules) {\n                if (rule.getPid().equals(pid) &amp;&amp; rule.getPkey().equals(pkey) &amp;&amp; rule.getOperation().equals(&quot;Hide&quot;)) {\n                    String hideIssueTypeIds = rule.getIssueType().replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\n                    rule.setIssueType(hideIssueTypeIds);\n                    projectSpecificHidingRules.add(rule);\n                }\n                if (rule.getPid().equals(pid) &amp;&amp; rule.getPkey().equals(pkey) &amp;&amp; rule.getOperation().equals(&quot;Mandate&quot;)) {\n                    String mandateIssueTypeIds = rule.getIssueType().replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\n                    rule.setIssueType(mandateIssueTypeIds);\n                    projectSpecificMandateRules.add(rule);\n                }\n            }\n        }\n        data.put(&quot;hideRuleList&quot;, projectSpecificHidingRules);\n        data.put(&quot;mandateRuleList&quot;, projectSpecificMandateRules);\n\n        final Project project = projectManager.getProjectByCurrentKey(pkey);\n\n        // Fetch all issue types mapped to current project\n        Collection&lt;IssueType&gt; projectSpecificIssueTypes = ComponentAccessor.getIssueTypeSchemeManager()\n                .getIssueTypesForProject(project);\n\n        // Convert collection of issue type to list of maps with issue type id and issue type name\n        List&lt;Map&lt;String, Object&gt;&gt; allIssueTypesInProject = ManageFieldsUtility\n                .getMapOfIssueTypesSpecificToProject(projectSpecificIssueTypes);\n        data.put(&quot;allIssueTypesInProject&quot;, allIssueTypesInProject);\n\n        // Fetch all system fields in jira instance except fields which are already mandated\n        List&lt;Field&gt; allSystemFields = mandateFieldService.findSystemFields();\n\n        // Fetch all custom fields if current project is present in it's context\n        List&lt;CustomField&gt; projectSpecificCustomFields = hideFieldService\n                .projectSpecificCustomFields(Long.parseLong(pid), issueTypes);\n\n        // Fetch list of all custom fields excluding locked and message custom fields\n        List&lt;CustomField&gt; customFieldsExLockedMessageCf = hideFieldService\n                .fetchCustomFieldsExLockedMessage(projectSpecificCustomFields, managedConfigurationItemService);\n\n        // Concat System fields and Custom fields\n        List&lt;Field&gt; allFields = Stream.concat(allSystemFields.stream(), customFieldsExLockedMessageCf.stream())\n                .collect(Collectors.toList());\n\n        // Fetch final list of fields which are eligible to hide in current project\n        List&lt;Map&lt;String, Object&gt;&gt; eligibleFieldsToHide = ManageFieldsUtility\n                .eligibleFieldsToHide(customFieldsExLockedMessageCf, allFields, exisitingRules, configuration);\n        data.put(&quot;hideIssueFields&quot;, eligibleFieldsToHide);\n\n        // Fetch all custom fields in jira instance\n        List&lt;CustomField&gt; allCustomFields = cfm.getCustomFieldObjects();\n\n        // Fetch system fields, custom fields excluding locked fields and message custom fields\n        List&lt;Map&lt;String, Object&gt;&gt; allFieldsExLockedMessageCf = mandateFieldService\n                .findAllFieldsExLockedMessageFields(allCustomFields, managedConfigurationItemService);\n        data.put(&quot;systemCustomFields&quot;, allFieldsExLockedMessageCf);\n\n        // Fetch final list of fields which are eligible to mandate in current project\n        List&lt;Map&lt;String, Object&gt;&gt; eligibleFieldsToMandate = ManageFieldsUtility.eligibleFieldsToMandate(allFields,\n                exisitingRules, configuration);\n        data.put(&quot;mandateIssueFields&quot;, eligibleFieldsToMandate);\n\n        // Fetch all custom fields excluding locked and message custom fields\n        List&lt;Map&lt;String, Object&gt;&gt; allCustomFieldsExLockedMessageCf = hideFieldService\n                .findAllCustomFieldsExLockedMessageCf(managedConfigurationItemService);\n        data.put(&quot;allCustomFields&quot;, allCustomFieldsExLockedMessageCf);\n\n        // Add generated unique CSRF token\n        data.put(&quot;csrfToken&quot;, token);\n\n        return data;\n    }\n</code></pre>\n<p>In my velocity file, I am fetching RuleId from data map which is passed using template renderer using the following code:</p>\n<pre><code>#set ($ruleId = $rule.getID())\nRuleId is $ruleId\n</code></pre>\n<p>But the value is not getting populated on Jira UI as seen in the attached screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/F9skV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F9skV.png\" alt=\"Jira_ss\" /></a></p>\n<p>But when I fetch the same Rule Id value in the backend, the values are present as expected. I am attaching the screenshot:\n<a href=\"https://i.stack.imgur.com/Hq2ju.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hq2ju.png\" alt=\"Output_ss\" /></a></p>\n<p>The issue is data is present in the backend but the values are not getting populated on the Jira UI. Can anyone please help me in resolving this issue.</p>\n<p>Jira Software version: 9.2.0</p>\n<p>Thanks &amp; Regards,\nPreethi H R</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin","jpa"],"comments":[{"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"score":0,"creation_date":1603375946,"post_id":64475717,"comment_id":114022746,"body_markdown":"For anyone who need the Kotlin version, I have posted all details as an answer.","body":"For anyone who need the Kotlin version, I have posted all details as an answer."}],"answers":[{"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1603350776,"creation_date":1603350776,"answer_id":64477059,"question_id":64475717,"body_markdown":"This won&#39;t work with `@ElementCollection` as it will always try to use another table. What you need is a custom type instead. For this you&#39;ll need this dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthen you can define your own types:\r\n\r\n```kotlin\r\n\r\nimport com.vladmihalcea.hibernate.type.array.StringArrayType\r\n\r\n@TypeDefs({\r\n    @TypeDef(\r\n        name = &quot;string-array&quot;, \r\n        typeClass = StringArrayType.class\r\n    )\r\n})\r\n@Entity\r\nclass YourEntity {\r\n\r\n    @Type( type = &quot;string-array&quot; )\r\n    @Column(\r\n        name = &quot;categories&quot;, \r\n        columnDefinition = &quot;character varying[]&quot;\r\n    )\r\n    var categories: Array&lt;String&gt;;\r\n}\r\n```\r\n\r\nI haven&#39;t tried this with a `List` though, as this maps to an `Array`. More info in [this](https://stackoverflow.com/questions/1647583/how-to-map-a-postgresql-array-with-hibernate) answer.","title":"How to map Java/Kotlin string array and Postgres SQL array with JPA and hibernate","body":"<p>This won't work with <code>@ElementCollection</code> as it will always try to use another table. What you need is a custom type instead. For this you'll need this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then you can define your own types:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nimport com.vladmihalcea.hibernate.type.array.StringArrayType\n\n@TypeDefs({\n    @TypeDef(\n        name = &quot;string-array&quot;, \n        typeClass = StringArrayType.class\n    )\n})\n@Entity\nclass YourEntity {\n\n    @Type( type = &quot;string-array&quot; )\n    @Column(\n        name = &quot;categories&quot;, \n        columnDefinition = &quot;character varying[]&quot;\n    )\n    var categories: Array&lt;String&gt;;\n}\n</code></pre>\n<p>I haven't tried this with a <code>List</code> though, as this maps to an <code>Array</code>. More info in <a href=\"https://stackoverflow.com/questions/1647583/how-to-map-a-postgresql-array-with-hibernate\">this</a> answer.</p>\n"},{"tags":[],"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603375772,"creation_date":1603375317,"answer_id":64483924,"question_id":64475717,"body_markdown":"Adam&#39;s answer works for projects written in Java. As my project is written in Kotlin, I share my version below and hope it helps and people can use it right away other than spending time to convert:\r\n\r\nUseful resource: [How to map Java and SQL arrays with JPA and Hibernate][1]\r\n\r\n\r\nPostgres:\r\n\r\n    alter table product add column categories text[];\r\n\r\nGradle:\r\n\r\n    implementation(&quot;com.vladmihalcea:hibernate-types-52:2.10.0&quot;)\r\n\r\nProduct.kt\r\n\r\n    import com.vladmihalcea.hibernate.type.array.StringArrayType\r\n    import org.hibernate.annotations.*\r\n    import javax.persistence.*\r\n    import javax.persistence.Entity\r\n    \r\n    \r\n    @TypeDefs(\r\n        TypeDef(name = &quot;string-array&quot;, typeClass = StringArrayType::class)\r\n    )\r\n    @Entity\r\n    class Product(\r\n            var name: String,\r\n    \r\n            @Type(type = &quot;string-array&quot;)\r\n            @Column(name = &quot;categories&quot;, columnDefinition = &quot;text[]&quot;)\r\n            var categories: Array&lt;String&gt;? = arrayOf(),\r\n    )\r\n\r\nThere&#39;re 2 differences between Java and Kotlin:\r\n1. The array type in Kotlin is Array\\&lt;String&gt; other than String[], I tried List\\&lt;String&gt; as well but it didn&#39;t work.\r\n2. TypeDefs,TypeDef is different, no @ sign.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/","title":"How to map Java/Kotlin string array and Postgres SQL array with JPA and hibernate","body":"<p>Adam's answer works for projects written in Java. As my project is written in Kotlin, I share my version below and hope it helps and people can use it right away other than spending time to convert:</p>\n<p>Useful resource: <a href=\"https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">How to map Java and SQL arrays with JPA and Hibernate</a></p>\n<p>Postgres:</p>\n<pre><code>alter table product add column categories text[];\n</code></pre>\n<p>Gradle:</p>\n<pre><code>implementation(&quot;com.vladmihalcea:hibernate-types-52:2.10.0&quot;)\n</code></pre>\n<p>Product.kt</p>\n<pre><code>import com.vladmihalcea.hibernate.type.array.StringArrayType\nimport org.hibernate.annotations.*\nimport javax.persistence.*\nimport javax.persistence.Entity\n\n\n@TypeDefs(\n    TypeDef(name = &quot;string-array&quot;, typeClass = StringArrayType::class)\n)\n@Entity\nclass Product(\n        var name: String,\n\n        @Type(type = &quot;string-array&quot;)\n        @Column(name = &quot;categories&quot;, columnDefinition = &quot;text[]&quot;)\n        var categories: Array&lt;String&gt;? = arrayOf(),\n)\n</code></pre>\n<p>There're 2 differences between Java and Kotlin:</p>\n<ol>\n<li>The array type in Kotlin is Array&lt;String&gt; other than String[], I tried List&lt;String&gt; as well but it didn't work.</li>\n<li>TypeDefs,TypeDef is different, no @ sign.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22633570,"reputation":1,"user_id":17679676,"display_name":"Yunlong Song"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665985936,"creation_date":1665985936,"answer_id":74093032,"question_id":64475717,"body_markdown":"Apart from the one mentioned by Haifeng, for Kotlin, there is another option to use `ListArrayType` instead of `StringArrayType` so you do not need to care about converting list to array.\r\n\r\nI met another issue retrieving the data, I had `java.lang.ArrayStoreException: arraycopy: type mismatch: can not copy [Ljava.lang.String;[] into java.lang.String[]\\n`. Just for those who may also encounter this, my issue was the data storing in DB is not array but array of array.","title":"How to map Java/Kotlin string array and Postgres SQL array with JPA and hibernate","body":"<p>Apart from the one mentioned by Haifeng, for Kotlin, there is another option to use <code>ListArrayType</code> instead of <code>StringArrayType</code> so you do not need to care about converting list to array.</p>\n<p>I met another issue retrieving the data, I had <code>java.lang.ArrayStoreException: arraycopy: type mismatch: can not copy [Ljava.lang.String;[] into java.lang.String[]\\n</code>. Just for those who may also encounter this, my issue was the data storing in DB is not array but array of array.</p>\n"}],"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2531,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":64477059,"answer_count":3,"score":5,"last_activity_date":1665985936,"creation_date":1603343723,"question_id":64475717,"body_markdown":"I have a field in Postgres in array type:\r\n\r\n     categories    | text[]         |           |          |\r\n\r\nHow can I declare the field in the entity class?\r\n\r\nI have tried below in `Product.kt` file but it throws error `[ERROR]:ERROR: relation &quot;product_categories&quot; does not exist`\r\n```\r\n@ElementCollection\r\n@Column(name = &quot;categories&quot;)\r\nvar categories: List&lt;String&gt;? = emptyList()\r\n```\r\n\r\nMy purpose is to save the string array as one field of the entity, I am not trying to do anything related &quot;One to Many&quot;. \r\n\r\nIf you know any Java version solution and it works, I will accept the answer as well. Thanks \r\n","title":"How to map Java/Kotlin string array and Postgres SQL array with JPA and hibernate","body":"<p>I have a field in Postgres in array type:</p>\n<pre><code> categories    | text[]         |           |          |\n</code></pre>\n<p>How can I declare the field in the entity class?</p>\n<p>I have tried below in <code>Product.kt</code> file but it throws error <code>[ERROR]:ERROR: relation &quot;product_categories&quot; does not exist</code></p>\n<pre><code>@ElementCollection\n@Column(name = &quot;categories&quot;)\nvar categories: List&lt;String&gt;? = emptyList()\n</code></pre>\n<p>My purpose is to save the string array as one field of the entity, I am not trying to do anything related &quot;One to Many&quot;.</p>\n<p>If you know any Java version solution and it works, I will accept the answer as well. Thanks</p>\n"},{"tags":["java","java-8","jvm","apple-m1"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665988550,"post_id":74092953,"comment_id":130819312,"body_markdown":"Start by looking at the error report file.","body":"Start by looking at the error report file."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1666119942,"post_id":74092953,"comment_id":130859160,"body_markdown":"You&#39;re running x64 JVM on the ARM64 hardware under Rosetta emulation. This is not good both from performance and reliability perspective. E.g., I experienced myself Rosetta related JDK [issues](https://bugs.openjdk.org/browse/JDK-8294072) before. I&#39;d suggest to run ARM64 JDK build on M1 Mac.","body":"You&#39;re running x64 JVM on the ARM64 hardware under Rosetta emulation. This is not good both from performance and reliability perspective. E.g., I experienced myself Rosetta related JDK <a href=\"https://bugs.openjdk.org/browse/JDK-8294072\" rel=\"nofollow noreferrer\">issues</a> before. I&#39;d suggest to run ARM64 JDK build on M1 Mac."}],"owner":{"account_id":3276998,"reputation":733,"user_id":2778718,"accept_rate":25,"display_name":"user93726"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665985257,"creation_date":1665985257,"question_id":74092953,"body_markdown":"Here is the crash log \r\n```10:49:45,752 DEBUG [OpenSsl] Supported protocols (OpenSSL): [SSLv2Hello, TLSv1, TLSv1.1, TLSv1.2, TLSv1.3]\r\n10:49:45,752 DEBUG [OpenSsl] Default cipher suites (OpenSSL): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256]\r\n10:49:45,773 DEBUG [ResourceLeakDetectorFactory] Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@36a35020\r\n10:49:45,789 INFO  [ConnectionPool] [[id: 0xe9a7aa0d, L:/172.31.125.253:55918 - R:identity2-e2e.message-preprod.a.intuit.com/52.32.166.239:6651]] Connected to server\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x000000010b5c255c, pid=25158, tid=0x0000000000023a9b\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_345) (build 1.8.0_345-bre_2022_08_04_23_35-b00)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.345-b00 mixed mode bsd-amd64 compressed oops)\r\n# Problematic frame:\r\n# V  [libjvm.dylib+0x53955c]\r\n#\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n# An error report file with more information is saved as:\r\n# /Users/kaishwarya/Developer/apache-tomcat-8.5.81/bin/hs_err_pid25158.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/Homebrew/homebrew-core/issues\r\n```\r\nHow should I resolve this? I was just trying to do local setup of monolithic project. \r\nIt has been working fine for past 2 months. \r\nI started seeing this suddenly yesterday. ","title":"JVM Crashes with homebrew openjdk@8 on Mac m1 pro (Java version &quot;1.8.0_345&quot;)","body":"<p>Here is the crash log</p>\n<pre><code>10:49:45,752 DEBUG [OpenSsl] Default cipher suites (OpenSSL): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_CHACHA20_POLY1305_SHA256]\n10:49:45,773 DEBUG [ResourceLeakDetectorFactory] Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@36a35020\n10:49:45,789 INFO  [ConnectionPool] [[id: 0xe9a7aa0d, L:/172.31.125.253:55918 - R:identity2-e2e.message-preprod.a.intuit.com/52.32.166.239:6651]] Connected to server\n#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x000000010b5c255c, pid=25158, tid=0x0000000000023a9b\n#\n# JRE version: OpenJDK Runtime Environment (8.0_345) (build 1.8.0_345-bre_2022_08_04_23_35-b00)\n# Java VM: OpenJDK 64-Bit Server VM (25.345-b00 mixed mode bsd-amd64 compressed oops)\n# Problematic frame:\n# V  [libjvm.dylib+0x53955c]\n#\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n# An error report file with more information is saved as:\n# /Users/kaishwarya/Developer/apache-tomcat-8.5.81/bin/hs_err_pid25158.log\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/Homebrew/homebrew-core/issues\n</code></pre>\n<p>How should I resolve this? I was just trying to do local setup of monolithic project.\nIt has been working fine for past 2 months.\nI started seeing this suddenly yesterday.</p>\n"},{"tags":["java","encryption","bouncycastle","pgp"],"comments":[{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":0,"creation_date":1454328379,"post_id":35129959,"comment_id":57979850,"body_markdown":"Point out the error messages.","body":"Point out the error messages."},{"owner":{"account_id":5079615,"reputation":384,"user_id":4076102,"display_name":"reowil"},"score":0,"creation_date":1454493314,"post_id":35129959,"comment_id":58064704,"body_markdown":"It seems the last edited date of `KeyBasedFileProcessorUtil` is in 2011, while the Bouncycastle-version you are using is relatively new - could it simply be that the internals of the original BouncyCastle `KeyBasedFileProcessor` class have changed since McCullough copied it?","body":"It seems the last edited date of <code>KeyBasedFileProcessorUtil</code> is in 2011, while the Bouncycastle-version you are using is relatively new - could it simply be that the internals of the original BouncyCastle <code>KeyBasedFileProcessor</code> class have changed since McCullough copied it?"},{"owner":{"account_id":1244219,"reputation":892,"user_id":1206007,"accept_rate":43,"display_name":"Bhavesh"},"score":0,"creation_date":1496341398,"post_id":35129959,"comment_id":75634732,"body_markdown":"Check the bouncycastle dependency on java version before adding the dependency. Also check for the java certs","body":"Check the bouncycastle dependency on java version before adding the dependency. Also check for the java certs"}],"answers":[{"tags":[],"owner":{"account_id":2245477,"reputation":1763,"user_id":1978931,"accept_rate":80,"display_name":"Dayel Ostraco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642276374,"creation_date":1642276374,"answer_id":70724903,"question_id":35129959,"body_markdown":"Using the standard modern Java Core classes that have the JCE included (e.g. Java 1.8_303+), BouncyCastle Core, and Bouncy Castle provider, I have developed a Spring-based Service that can handle PGP encryption and decryption from public/private keys contained within Resource files. If you are not using Spring, you can strip out the Spring specific code and just leverage the public encrypt/decrypt methods along with the private support methods:\r\n\r\n```\r\npackage com.your.organization.impl;\r\n\r\nimport com.your.organization.exception.EncryptionException; // Your own Exception class\r\nimport com.your.organization.service.PgpEncryptionService; // Your own Interface class\r\nimport org.apache.commons.io.IOUtils;\r\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\r\nimport org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.openpgp.*;\r\nimport org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\r\nimport org.bouncycastle.openpgp.operator.PBESecretKeyDecryptor;\r\nimport org.bouncycastle.openpgp.operator.bc.BcPBESecretKeyDecryptorBuilder;\r\nimport org.bouncycastle.openpgp.operator.bc.BcPGPDigestCalculatorProvider;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\r\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.io.*;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.SecureRandom;\r\nimport java.security.Security;\r\nimport java.util.Iterator;\r\n\r\n@Service(&quot;pgpEncryptionService&quot;)\r\npublic final class PgpEncryptionServiceImpl implements PgpEncryptionService {\r\n\r\n    @PostConstruct\r\n    public void initializeSecurityProviders() {\r\n\r\n        // Add the Bouncy Castle security Provider to the JVM\r\n        Security.addProvider(new BouncyCastleProvider());\r\n    }\r\n\r\n    /**\r\n     * Encrypts a cleared message {@link String} using the classpath PGPPublicKey using\r\n     * {@link ArmoredOutputStream} to further protect the encrypted message.\r\n     *\r\n     * @param message {@link String}\r\n     * @return Encrypted String with, or without, armoring\r\n     * @throws EncryptionException is thrown if the {@link PGPEncryptedDataGenerator} could not be initialized\r\n     *                             from the provided PGPPublicKey or if the encoded message {@link OutputStream}\r\n     *                             could not be opened\r\n     */\r\n    public String encrypt(String message) throws EncryptionException {\r\n\r\n        /*\r\n         * Initialize an OutputStream or ArmoredOutputStream for the encrypted message based on the armor\r\n         * function input\r\n         */\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        OutputStream armoredOutputStream = byteArrayOutputStream;\r\n        armoredOutputStream = new ArmoredOutputStream(armoredOutputStream);\r\n\r\n        // Initialize and configure the encryption generator using the provided PGPPublicKey\r\n        PGPEncryptedDataGenerator pgpEncryptedDataGenerator = new PGPEncryptedDataGenerator(\r\n                new JcePGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.AES_256)\r\n                        .setSecureRandom(new SecureRandom())\r\n                        .setProvider(&quot;BC&quot;));\r\n\r\n        pgpEncryptedDataGenerator.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(getPublicKey())\r\n                .setProvider(&quot;BC&quot;));\r\n\r\n        // Convert message String to byte[] using standard UTF-8\r\n        byte[] messageBytes = message.getBytes(StandardCharsets.UTF_8);\r\n\r\n        // Open the PGPEncryptedDataGenerator from the ArmoredOutputStream initialized to the message body length\r\n        OutputStream encryptedOutputStream;\r\n        try {\r\n            encryptedOutputStream = pgpEncryptedDataGenerator.open(armoredOutputStream, messageBytes.length);\r\n        } catch (IOException | PGPException e) {\r\n            throw new EncryptionException(&quot;Could not open an OutputStream from the PGPEncryptedDataGenerator &quot; +\r\n                    &quot;using the provided message body&quot;, e);\r\n        }\r\n\r\n        // Write the encrypted message to the encryptedOutputStream\r\n        try {\r\n            encryptedOutputStream.write(messageBytes);\r\n        } catch (IOException e) {\r\n            throw new EncryptionException(&quot;Could not write the message body to the encrypted OutputStream&quot;, e);\r\n        } finally {\r\n\r\n            // Close the encrypted message OutputStream\r\n            try {\r\n                encryptedOutputStream.close();\r\n            } catch (IOException e) {\r\n                // TODO: Log this\r\n            }\r\n\r\n            // Close the ArmoredOutputStream\r\n            try {\r\n                armoredOutputStream.close();\r\n            } catch (IOException e) {\r\n                // TODO: Log this\r\n            }\r\n        }\r\n\r\n        // Return the encrypted message OutputStream to a String\r\n        return byteArrayOutputStream.toString();\r\n    }\r\n\r\n    /**\r\n     * Decrypts an encrypted message {@link String} using the {@link PGPSecretKey} on the classpath and its\r\n     * password {@link String}\r\n     *\r\n     * @param encryptedMessage {@link String}\r\n     * @param password         {@link String}\r\n     * @return String\r\n     * @throws EncryptionException is thrown if an encrypted message InputStream cannot be initialized from the\r\n     *                             encryptedMessage {@link String}, if the PGPEncryptedDataList from that stream\r\n     *                             contains no data, or if the password {@link String} for the\r\n     *                             {@link PGPSecretKey} is incorrect\r\n     */\r\n    public String decrypt(String encryptedMessage, String password) throws EncryptionException {\r\n\r\n        // Convert the encrypted String into an InputStream\r\n        InputStream encryptedStream = new ByteArrayInputStream(encryptedMessage.getBytes(StandardCharsets.UTF_8));\r\n        try {\r\n            encryptedStream = PGPUtil.getDecoderStream(encryptedStream);\r\n        } catch (IOException e) {\r\n            throw new EncryptionException(&quot;Could not initialize the DecoderStream&quot;, e);\r\n        }\r\n\r\n        // Retrieve the PGPEncryptedDataList from the encryptedStream\r\n        JcaPGPObjectFactory jcaPGPObjectFactory = new JcaPGPObjectFactory(encryptedStream);\r\n        PGPEncryptedDataList pgpEncryptedDataList;\r\n\r\n        /*\r\n         * Evaluate the first object for a leading PGP marker packet and then return the encrypted\r\n         * message body as a PGPEncryptedDataList\r\n         */\r\n        try {\r\n            Object nextDataObject = jcaPGPObjectFactory.nextObject();\r\n            if (nextDataObject instanceof PGPEncryptedDataList) {\r\n                pgpEncryptedDataList = (PGPEncryptedDataList) nextDataObject;\r\n            } else {\r\n                pgpEncryptedDataList = (PGPEncryptedDataList) jcaPGPObjectFactory.nextObject();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new EncryptionException(&quot;Could not retrieve the encrupted message body&quot;, e);\r\n        }\r\n\r\n        // Retrieve the public key encrypted data from the encrypted message body\r\n        PGPPublicKeyEncryptedData pgpPublicKeyEncryptedData =\r\n                (PGPPublicKeyEncryptedData) pgpEncryptedDataList.getEncryptedDataObjects().next();\r\n\r\n        // Use the PGPPublicKeyEncryptedData and Secret Key password to decrypt the encoded message\r\n        InputStream decryptedInputStream;\r\n        try {\r\n            decryptedInputStream =\r\n                    pgpPublicKeyEncryptedData.getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder()\r\n                            .setProvider(&quot;BC&quot;)\r\n                            .build(getPrivateKey(getSecretKey(), password)));\r\n        } catch (PGPException e) {\r\n            throw new EncryptionException(&quot;Could not decrypt the encoded message from the application &quot; +\r\n                    &quot;Secret Key or the embedded Private Key&quot;, e);\r\n        }\r\n\r\n        // Convert the InputStream of the decrypted message to a String\r\n        try {\r\n            return IOUtils.toString(decryptedInputStream, StandardCharsets.UTF_8.name());\r\n        } catch (IOException e) {\r\n            throw new EncryptionException(&quot;Could not convert the decrypted InputStream to a UTF-8 String&quot;, e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper method for retrieving the {@link PGPPublicKey} from the application classpath.\r\n     *\r\n     * @return PGPPublicKey\r\n     * @throws EncryptionException is thrown in the event that the PGP Public Key file does not contain a\r\n     *                             Public Key or if the Public Key cannot be located on the file system\r\n     */\r\n    private PGPPublicKey getPublicKey() throws EncryptionException {\r\n\r\n        // Retrieve the application PGP public key file from the classpath\r\n        File publicKeyFile;\r\n        try {\r\n            publicKeyFile = new ClassPathResource(&quot;keys/yourpublickey-pub.asc&quot;).getFile();\r\n        } catch (IOException e) {\r\n            throw new EncryptionException(&quot;Could not retrieve the PGP Public Key from the classpath&quot;, e);\r\n        }\r\n\r\n        // Read Public Key from the file\r\n        FileInputStream pubKey;\r\n        try {\r\n            pubKey = new FileInputStream(publicKeyFile);\r\n        } catch (FileNotFoundException e) {\r\n            throw new EncryptionException(&quot;Could not retrieve the PGP Public Key from the file system&quot;, e);\r\n        }\r\n\r\n        // Load PGPPublicKey FileInputStream into the PGPPublicKeyRingCollection\r\n        PGPPublicKeyRingCollection pgpPub;\r\n        try {\r\n            pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(pubKey),\r\n                    new JcaKeyFingerprintCalculator());\r\n        } catch (IOException | PGPException e) {\r\n            throw new EncryptionException(&quot;Could not initialize the PGPPublicKeyRingCollection&quot;, e);\r\n        }\r\n\r\n\r\n        // Retrieve Public Key and evaluate if for the encryption key\r\n        Iterator&lt;PGPPublicKeyRing&gt; keyRingIter = pgpPub.getKeyRings();\r\n        while (keyRingIter.hasNext()) {\r\n            PGPPublicKeyRing keyRing = keyRingIter.next();\r\n\r\n            Iterator&lt;PGPPublicKey&gt; keyIter = keyRing.getPublicKeys();\r\n            while (keyIter.hasNext()) {\r\n                PGPPublicKey key = keyIter.next();\r\n\r\n                if (key.isEncryptionKey()) {\r\n                    return key;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new EncryptionException(&quot;The application PGPPublicKey is not an allowable encryption key&quot;);\r\n    }\r\n\r\n    /**\r\n     * Helper method for retrieving the signing key {@link PGPSecretKey} from the classpath.\r\n     *\r\n     * @return Signing key {@link PGPSecretKey}\r\n     * @throws EncryptionException is thrown if the Secret Key is not a signing key or if the Secret Key file\r\n     *                             could not be located on the file system\r\n     */\r\n    private PGPSecretKey getSecretKey() throws EncryptionException {\r\n\r\n        // Retrieve the application PGP secret key file from the classpath\r\n        File secretKeyFile;\r\n        try {\r\n            secretKeyFile = new ClassPathResource(&quot;keys/yoursecretkey-sec.asc&quot;).getFile();\r\n        } catch (IOException e) {\r\n            throw new EncryptionException(&quot;Could not retrieve the PGP Secret Key from the classpath&quot;, e);\r\n        }\r\n\r\n        // Read Secret Key file and load it into a PGPPublicKeyRingCollection for evaluation\r\n        FileInputStream secKey;\r\n        try {\r\n            secKey = new FileInputStream(secretKeyFile);\r\n        } catch (FileNotFoundException e) {\r\n            throw new EncryptionException(&quot;Could not retrieve the PGP Secret Key from the file system&quot;, e);\r\n        }\r\n\r\n        // Load PGPSecretKey FileInputStream into the PGPSecretKeyRingCollection\r\n        PGPSecretKeyRingCollection pgpSec;\r\n        try {\r\n            pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(secKey), new JcaKeyFingerprintCalculator());\r\n        } catch (IOException | PGPException e) {\r\n            throw new EncryptionException(&quot;Could not initialize the PGPSecretKeyRingCollection&quot;, e);\r\n        }\r\n\r\n        // Retrieve signing Secret Key\r\n        Iterator&lt;PGPSecretKeyRing&gt; secretKeyRingIterator = pgpSec.getKeyRings();\r\n        while (secretKeyRingIterator.hasNext()) {\r\n            PGPSecretKeyRing keyRing = secretKeyRingIterator.next();\r\n\r\n            Iterator&lt;PGPSecretKey&gt; keyIter = keyRing.getSecretKeys();\r\n            while (keyIter.hasNext()) {\r\n                PGPSecretKey key = keyIter.next();\r\n\r\n                if (key.isSigningKey()) {\r\n                    return key;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new EncryptionException(&quot;The application PGPSecretKey is not a signing key&quot;);\r\n    }\r\n\r\n    /**\r\n     * Retrieves the {@link PGPPrivateKey} from the provided {@link PGPSecretKey} and its password.\r\n     *\r\n     * @param secretKey {@link PGPSecretKey}\r\n     * @param password  {@link String}\r\n     * @return PGPPrivateKey\r\n     * @throws EncryptionException is thrown in the event that the password for the {@link PGPSecretKey}\r\n     *                             is incorrect\r\n     */\r\n    private PGPPrivateKey getPrivateKey(PGPSecretKey secretKey, String password) throws EncryptionException {\r\n\r\n        PBESecretKeyDecryptor decryptorFactory = new BcPBESecretKeyDecryptorBuilder(\r\n                new BcPGPDigestCalculatorProvider()).build(password.toCharArray());\r\n\r\n        try {\r\n            return secretKey.extractPrivateKey(decryptorFactory);\r\n        } catch (PGPException e) {\r\n            throw new EncryptionException(&quot;Could not extract the Private Key from the application Secret Key&quot;, e);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Encrypt/Decrypt Files Using Bouncy Castle PGP in JAVA","body":"<p>Using the standard modern Java Core classes that have the JCE included (e.g. Java 1.8_303+), BouncyCastle Core, and Bouncy Castle provider, I have developed a Spring-based Service that can handle PGP encryption and decryption from public/private keys contained within Resource files. If you are not using Spring, you can strip out the Spring specific code and just leverage the public encrypt/decrypt methods along with the private support methods:</p>\n<pre><code>package com.your.organization.impl;\n\nimport com.your.organization.exception.EncryptionException; // Your own Exception class\nimport com.your.organization.service.PgpEncryptionService; // Your own Interface class\nimport org.apache.commons.io.IOUtils;\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.*;\nimport org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\nimport org.bouncycastle.openpgp.operator.PBESecretKeyDecryptor;\nimport org.bouncycastle.openpgp.operator.bc.BcPBESecretKeyDecryptorBuilder;\nimport org.bouncycastle.openpgp.operator.bc.BcPGPDigestCalculatorProvider;\nimport org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.stereotype.Service;\n\nimport javax.annotation.PostConstruct;\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Iterator;\n\n@Service(&quot;pgpEncryptionService&quot;)\npublic final class PgpEncryptionServiceImpl implements PgpEncryptionService {\n\n    @PostConstruct\n    public void initializeSecurityProviders() {\n\n        // Add the Bouncy Castle security Provider to the JVM\n        Security.addProvider(new BouncyCastleProvider());\n    }\n\n    /**\n     * Encrypts a cleared message {@link String} using the classpath PGPPublicKey using\n     * {@link ArmoredOutputStream} to further protect the encrypted message.\n     *\n     * @param message {@link String}\n     * @return Encrypted String with, or without, armoring\n     * @throws EncryptionException is thrown if the {@link PGPEncryptedDataGenerator} could not be initialized\n     *                             from the provided PGPPublicKey or if the encoded message {@link OutputStream}\n     *                             could not be opened\n     */\n    public String encrypt(String message) throws EncryptionException {\n\n        /*\n         * Initialize an OutputStream or ArmoredOutputStream for the encrypted message based on the armor\n         * function input\n         */\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        OutputStream armoredOutputStream = byteArrayOutputStream;\n        armoredOutputStream = new ArmoredOutputStream(armoredOutputStream);\n\n        // Initialize and configure the encryption generator using the provided PGPPublicKey\n        PGPEncryptedDataGenerator pgpEncryptedDataGenerator = new PGPEncryptedDataGenerator(\n                new JcePGPDataEncryptorBuilder(SymmetricKeyAlgorithmTags.AES_256)\n                        .setSecureRandom(new SecureRandom())\n                        .setProvider(&quot;BC&quot;));\n\n        pgpEncryptedDataGenerator.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(getPublicKey())\n                .setProvider(&quot;BC&quot;));\n\n        // Convert message String to byte[] using standard UTF-8\n        byte[] messageBytes = message.getBytes(StandardCharsets.UTF_8);\n\n        // Open the PGPEncryptedDataGenerator from the ArmoredOutputStream initialized to the message body length\n        OutputStream encryptedOutputStream;\n        try {\n            encryptedOutputStream = pgpEncryptedDataGenerator.open(armoredOutputStream, messageBytes.length);\n        } catch (IOException | PGPException e) {\n            throw new EncryptionException(&quot;Could not open an OutputStream from the PGPEncryptedDataGenerator &quot; +\n                    &quot;using the provided message body&quot;, e);\n        }\n\n        // Write the encrypted message to the encryptedOutputStream\n        try {\n            encryptedOutputStream.write(messageBytes);\n        } catch (IOException e) {\n            throw new EncryptionException(&quot;Could not write the message body to the encrypted OutputStream&quot;, e);\n        } finally {\n\n            // Close the encrypted message OutputStream\n            try {\n                encryptedOutputStream.close();\n            } catch (IOException e) {\n                // TODO: Log this\n            }\n\n            // Close the ArmoredOutputStream\n            try {\n                armoredOutputStream.close();\n            } catch (IOException e) {\n                // TODO: Log this\n            }\n        }\n\n        // Return the encrypted message OutputStream to a String\n        return byteArrayOutputStream.toString();\n    }\n\n    /**\n     * Decrypts an encrypted message {@link String} using the {@link PGPSecretKey} on the classpath and its\n     * password {@link String}\n     *\n     * @param encryptedMessage {@link String}\n     * @param password         {@link String}\n     * @return String\n     * @throws EncryptionException is thrown if an encrypted message InputStream cannot be initialized from the\n     *                             encryptedMessage {@link String}, if the PGPEncryptedDataList from that stream\n     *                             contains no data, or if the password {@link String} for the\n     *                             {@link PGPSecretKey} is incorrect\n     */\n    public String decrypt(String encryptedMessage, String password) throws EncryptionException {\n\n        // Convert the encrypted String into an InputStream\n        InputStream encryptedStream = new ByteArrayInputStream(encryptedMessage.getBytes(StandardCharsets.UTF_8));\n        try {\n            encryptedStream = PGPUtil.getDecoderStream(encryptedStream);\n        } catch (IOException e) {\n            throw new EncryptionException(&quot;Could not initialize the DecoderStream&quot;, e);\n        }\n\n        // Retrieve the PGPEncryptedDataList from the encryptedStream\n        JcaPGPObjectFactory jcaPGPObjectFactory = new JcaPGPObjectFactory(encryptedStream);\n        PGPEncryptedDataList pgpEncryptedDataList;\n\n        /*\n         * Evaluate the first object for a leading PGP marker packet and then return the encrypted\n         * message body as a PGPEncryptedDataList\n         */\n        try {\n            Object nextDataObject = jcaPGPObjectFactory.nextObject();\n            if (nextDataObject instanceof PGPEncryptedDataList) {\n                pgpEncryptedDataList = (PGPEncryptedDataList) nextDataObject;\n            } else {\n                pgpEncryptedDataList = (PGPEncryptedDataList) jcaPGPObjectFactory.nextObject();\n            }\n        } catch (IOException e) {\n            throw new EncryptionException(&quot;Could not retrieve the encrupted message body&quot;, e);\n        }\n\n        // Retrieve the public key encrypted data from the encrypted message body\n        PGPPublicKeyEncryptedData pgpPublicKeyEncryptedData =\n                (PGPPublicKeyEncryptedData) pgpEncryptedDataList.getEncryptedDataObjects().next();\n\n        // Use the PGPPublicKeyEncryptedData and Secret Key password to decrypt the encoded message\n        InputStream decryptedInputStream;\n        try {\n            decryptedInputStream =\n                    pgpPublicKeyEncryptedData.getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder()\n                            .setProvider(&quot;BC&quot;)\n                            .build(getPrivateKey(getSecretKey(), password)));\n        } catch (PGPException e) {\n            throw new EncryptionException(&quot;Could not decrypt the encoded message from the application &quot; +\n                    &quot;Secret Key or the embedded Private Key&quot;, e);\n        }\n\n        // Convert the InputStream of the decrypted message to a String\n        try {\n            return IOUtils.toString(decryptedInputStream, StandardCharsets.UTF_8.name());\n        } catch (IOException e) {\n            throw new EncryptionException(&quot;Could not convert the decrypted InputStream to a UTF-8 String&quot;, e);\n        }\n    }\n\n    /**\n     * Helper method for retrieving the {@link PGPPublicKey} from the application classpath.\n     *\n     * @return PGPPublicKey\n     * @throws EncryptionException is thrown in the event that the PGP Public Key file does not contain a\n     *                             Public Key or if the Public Key cannot be located on the file system\n     */\n    private PGPPublicKey getPublicKey() throws EncryptionException {\n\n        // Retrieve the application PGP public key file from the classpath\n        File publicKeyFile;\n        try {\n            publicKeyFile = new ClassPathResource(&quot;keys/yourpublickey-pub.asc&quot;).getFile();\n        } catch (IOException e) {\n            throw new EncryptionException(&quot;Could not retrieve the PGP Public Key from the classpath&quot;, e);\n        }\n\n        // Read Public Key from the file\n        FileInputStream pubKey;\n        try {\n            pubKey = new FileInputStream(publicKeyFile);\n        } catch (FileNotFoundException e) {\n            throw new EncryptionException(&quot;Could not retrieve the PGP Public Key from the file system&quot;, e);\n        }\n\n        // Load PGPPublicKey FileInputStream into the PGPPublicKeyRingCollection\n        PGPPublicKeyRingCollection pgpPub;\n        try {\n            pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(pubKey),\n                    new JcaKeyFingerprintCalculator());\n        } catch (IOException | PGPException e) {\n            throw new EncryptionException(&quot;Could not initialize the PGPPublicKeyRingCollection&quot;, e);\n        }\n\n\n        // Retrieve Public Key and evaluate if for the encryption key\n        Iterator&lt;PGPPublicKeyRing&gt; keyRingIter = pgpPub.getKeyRings();\n        while (keyRingIter.hasNext()) {\n            PGPPublicKeyRing keyRing = keyRingIter.next();\n\n            Iterator&lt;PGPPublicKey&gt; keyIter = keyRing.getPublicKeys();\n            while (keyIter.hasNext()) {\n                PGPPublicKey key = keyIter.next();\n\n                if (key.isEncryptionKey()) {\n                    return key;\n                }\n            }\n        }\n\n        throw new EncryptionException(&quot;The application PGPPublicKey is not an allowable encryption key&quot;);\n    }\n\n    /**\n     * Helper method for retrieving the signing key {@link PGPSecretKey} from the classpath.\n     *\n     * @return Signing key {@link PGPSecretKey}\n     * @throws EncryptionException is thrown if the Secret Key is not a signing key or if the Secret Key file\n     *                             could not be located on the file system\n     */\n    private PGPSecretKey getSecretKey() throws EncryptionException {\n\n        // Retrieve the application PGP secret key file from the classpath\n        File secretKeyFile;\n        try {\n            secretKeyFile = new ClassPathResource(&quot;keys/yoursecretkey-sec.asc&quot;).getFile();\n        } catch (IOException e) {\n            throw new EncryptionException(&quot;Could not retrieve the PGP Secret Key from the classpath&quot;, e);\n        }\n\n        // Read Secret Key file and load it into a PGPPublicKeyRingCollection for evaluation\n        FileInputStream secKey;\n        try {\n            secKey = new FileInputStream(secretKeyFile);\n        } catch (FileNotFoundException e) {\n            throw new EncryptionException(&quot;Could not retrieve the PGP Secret Key from the file system&quot;, e);\n        }\n\n        // Load PGPSecretKey FileInputStream into the PGPSecretKeyRingCollection\n        PGPSecretKeyRingCollection pgpSec;\n        try {\n            pgpSec = new PGPSecretKeyRingCollection(\n                    PGPUtil.getDecoderStream(secKey), new JcaKeyFingerprintCalculator());\n        } catch (IOException | PGPException e) {\n            throw new EncryptionException(&quot;Could not initialize the PGPSecretKeyRingCollection&quot;, e);\n        }\n\n        // Retrieve signing Secret Key\n        Iterator&lt;PGPSecretKeyRing&gt; secretKeyRingIterator = pgpSec.getKeyRings();\n        while (secretKeyRingIterator.hasNext()) {\n            PGPSecretKeyRing keyRing = secretKeyRingIterator.next();\n\n            Iterator&lt;PGPSecretKey&gt; keyIter = keyRing.getSecretKeys();\n            while (keyIter.hasNext()) {\n                PGPSecretKey key = keyIter.next();\n\n                if (key.isSigningKey()) {\n                    return key;\n                }\n            }\n        }\n\n        throw new EncryptionException(&quot;The application PGPSecretKey is not a signing key&quot;);\n    }\n\n    /**\n     * Retrieves the {@link PGPPrivateKey} from the provided {@link PGPSecretKey} and its password.\n     *\n     * @param secretKey {@link PGPSecretKey}\n     * @param password  {@link String}\n     * @return PGPPrivateKey\n     * @throws EncryptionException is thrown in the event that the password for the {@link PGPSecretKey}\n     *                             is incorrect\n     */\n    private PGPPrivateKey getPrivateKey(PGPSecretKey secretKey, String password) throws EncryptionException {\n\n        PBESecretKeyDecryptor decryptorFactory = new BcPBESecretKeyDecryptorBuilder(\n                new BcPGPDigestCalculatorProvider()).build(password.toCharArray());\n\n        try {\n            return secretKey.extractPrivateKey(decryptorFactory);\n        } catch (PGPException e) {\n            throw new EncryptionException(&quot;Could not extract the Private Key from the application Secret Key&quot;, e);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11501713,"reputation":85,"user_id":8429338,"display_name":"Damien Lancry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665984182,"creation_date":1665984182,"answer_id":74092863,"question_id":35129959,"body_markdown":"I had issues using the implementation recommended by @TomazStoiljkovic, \r\nso I ended up using [this one][1].\r\nI first had some issues when generating the keys with `gpg --gen-key`.\r\nIt is because the default kind of key used by gpg is ECC (sign and encrypt). And this implementation does not support it. Instead, use `gpg --full-generate-key`. Then when prompted :\r\n```\r\nPlease select what kind of key you want:\r\n   (1) RSA and RSA\r\n   (2) DSA and Elgamal\r\n   (3) DSA (sign only)\r\n   (4) RSA (sign only)\r\n   (9) ECC (sign and encrypt) *default*\r\n  (10) ECC (sign only)\r\n```\r\nSelect (1) or (2) or (4).\r\nThen export to file using:\r\n```\r\ngpg --output key.pub --armor --export &lt;username&gt;; gpg --output key.prv --armor --export-secret-key &lt;username&gt;;\r\n```\r\n\r\n\r\n  [1]: https://github.com/mxku/java-pgp","title":"Encrypt/Decrypt Files Using Bouncy Castle PGP in JAVA","body":"<p>I had issues using the implementation recommended by @TomazStoiljkovic,\nso I ended up using <a href=\"https://github.com/mxku/java-pgp\" rel=\"nofollow noreferrer\">this one</a>.\nI first had some issues when generating the keys with <code>gpg --gen-key</code>.\nIt is because the default kind of key used by gpg is ECC (sign and encrypt). And this implementation does not support it. Instead, use <code>gpg --full-generate-key</code>. Then when prompted :</p>\n<pre><code>Please select what kind of key you want:\n   (1) RSA and RSA\n   (2) DSA and Elgamal\n   (3) DSA (sign only)\n   (4) RSA (sign only)\n   (9) ECC (sign and encrypt) *default*\n  (10) ECC (sign only)\n</code></pre>\n<p>Select (1) or (2) or (4).\nThen export to file using:</p>\n<pre><code>gpg --output key.pub --armor --export &lt;username&gt;; gpg --output key.prv --armor --export-secret-key &lt;username&gt;;\n</code></pre>\n"}],"owner":{"account_id":3691068,"reputation":31,"user_id":3073634,"display_name":"Noob"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33381,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665984182,"creation_date":1454327856,"question_id":35129959,"body_markdown":"I am generating Keypair for PGP Encryption using this class and saving the Files to the disk.\r\n\r\n    \r\n    \r\n\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.math.BigInteger;\r\n    import java.security.SecureRandom;\r\n    import java.util.Date;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.bcpg.HashAlgorithmTags;\r\n    import org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags;\r\n    import org.bouncycastle.bcpg.sig.Features;\r\n    import org.bouncycastle.bcpg.sig.KeyFlags;\r\n    import org.bouncycastle.crypto.generators.RSAKeyPairGenerator;\r\n    import org.bouncycastle.crypto.params.RSAKeyGenerationParameters;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPKeyPair;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPKeyRingGenerator;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRing;\r\n    import org.bouncycastle.openpgp.PGPSignature;\r\n    import org.bouncycastle.openpgp.PGPSignatureSubpacketGenerator;\r\n    import org.bouncycastle.openpgp.operator.PBESecretKeyEncryptor;\r\n    import org.bouncycastle.openpgp.operator.PGPDigestCalculator;\r\n    import org.bouncycastle.openpgp.operator.bc.BcPBESecretKeyEncryptorBuilder;\r\n    import org.bouncycastle.openpgp.operator.bc.BcPGPContentSignerBuilder;\r\n    import org.bouncycastle.openpgp.operator.bc.BcPGPDigestCalculatorProvider;\r\n    import org.bouncycastle.openpgp.operator.bc.BcPGPKeyPair;\r\n    \r\n    public class RSAGen {\r\n        public static void Generate(String ID,String PassPhrase , String FileName) throws Exception {\r\n            char pass[] = PassPhrase.toCharArray();\r\n            PGPKeyRingGenerator krgen = generateKeyRingGenerator(ID, pass);\r\n    \r\n            // Generate public key ring, dump to file.\r\n            PGPPublicKeyRing pkr = krgen.generatePublicKeyRing();\r\n            ArmoredOutputStream pubout = new ArmoredOutputStream(new BufferedOutputStream(new FileOutputStream(FileName + &quot;.asc&quot;)));\r\n            pkr.encode(pubout);\r\n            pubout.close();\r\n    \r\n            // Generate private key, dump to file.\r\n            PGPSecretKeyRing skr = krgen.generateSecretKeyRing();\r\n            BufferedOutputStream secout = new BufferedOutputStream(new FileOutputStream(FileName + &quot;.skr&quot;));\r\n            skr.encode(secout);\r\n            secout.close();\r\n        }\r\n    \r\n        public final static PGPKeyRingGenerator generateKeyRingGenerator(String id, char[] pass) throws Exception{\r\n            return generateKeyRingGenerator(id, pass, 0xc0);\r\n        }\r\n    \r\n        // Note: s2kcount is a number between 0 and 0xff that controls the number of times to iterate the password hash before use. More\r\n        // iterations are useful against offline attacks, as it takes more time to check each password. The actual number of iterations is\r\n        // rather complex, and also depends on the hash function in use. Refer to Section 3.7.1.3 in rfc4880.txt. Bigger numbers give\r\n        // you more iterations.  As a rough rule of thumb, when using SHA256 as the hashing function, 0x10 gives you about 64\r\n        // iterations, 0x20 about 128, 0x30 about 256 and so on till 0xf0, or about 1 million iterations. The maximum you can go to is\r\n        // 0xff, or about 2 million iterations.  I&#39;ll use 0xc0 as a default -- about 130,000 iterations.\r\n    \r\n        public final static PGPKeyRingGenerator generateKeyRingGenerator(String id, char[] pass, int s2kcount) throws Exception {\r\n            // This object generates individual key-pairs.\r\n            RSAKeyPairGenerator  kpg = new RSAKeyPairGenerator();\r\n    \r\n            // Boilerplate RSA parameters, no need to change anything\r\n            // except for the RSA key-size (2048). You can use whatever key-size makes sense for you -- 4096, etc.\r\n            kpg.init(new RSAKeyGenerationParameters(BigInteger.valueOf(0x10001), new SecureRandom(), 2048, 12));\r\n    \r\n            // First create the master (signing) key with the generator.\r\n            PGPKeyPair rsakp_sign = new BcPGPKeyPair(PGPPublicKey.RSA_SIGN, kpg.generateKeyPair(), new Date());\r\n            // Then an encryption subkey.\r\n            PGPKeyPair rsakp_enc = new BcPGPKeyPair(PGPPublicKey.RSA_ENCRYPT, kpg.generateKeyPair(), new Date());\r\n    \r\n            // Add a self-signature on the id\r\n            PGPSignatureSubpacketGenerator signhashgen = new PGPSignatureSubpacketGenerator();\r\n    \r\n            // Add signed metadata on the signature.\r\n            // 1) Declare its purpose\r\n            signhashgen.setKeyFlags(false, KeyFlags.SIGN_DATA|KeyFlags.CERTIFY_OTHER);\r\n            // 2) Set preferences for secondary crypto algorithms to use when sending messages to this key.\r\n            signhashgen.setPreferredSymmetricAlgorithms\r\n                    (false, new int[] {\r\n                            SymmetricKeyAlgorithmTags.AES_256,\r\n                            SymmetricKeyAlgorithmTags.AES_192,\r\n                            SymmetricKeyAlgorithmTags.AES_128\r\n                    });\r\n            signhashgen.setPreferredHashAlgorithms\r\n                    (false, new int[] {\r\n                            HashAlgorithmTags.SHA256,\r\n                            HashAlgorithmTags.SHA1,\r\n                            HashAlgorithmTags.SHA384,\r\n                            HashAlgorithmTags.SHA512,\r\n                            HashAlgorithmTags.SHA224,\r\n                    });\r\n            // 3) Request senders add additional checksums to the message (useful when verifying unsigned messages.)\r\n            signhashgen.setFeature(false, Features.FEATURE_MODIFICATION_DETECTION);\r\n    \r\n            // Create a signature on the encryption subkey.\r\n            PGPSignatureSubpacketGenerator enchashgen = new PGPSignatureSubpacketGenerator();\r\n            // Add metadata to declare its purpose\r\n            enchashgen.setKeyFlags(false, KeyFlags.ENCRYPT_COMMS|KeyFlags.ENCRYPT_STORAGE);\r\n    \r\n            // Objects used to encrypt the secret key.\r\n            PGPDigestCalculator sha1Calc = new BcPGPDigestCalculatorProvider().get(HashAlgorithmTags.SHA1);\r\n            PGPDigestCalculator sha256Calc = new BcPGPDigestCalculatorProvider().get(HashAlgorithmTags.SHA256);\r\n    \r\n            // bcpg 1.48 exposes this API that includes s2kcount. Earlier versions use a default of 0x60.\r\n            PBESecretKeyEncryptor pske = (new BcPBESecretKeyEncryptorBuilder(PGPEncryptedData.AES_256, sha256Calc, s2kcount)).build(pass);\r\n    \r\n            // Finally, create the keyring itself. The constructor takes parameters that allow it to generate the self signature.\r\n            PGPKeyRingGenerator keyRingGen =\r\n                    new PGPKeyRingGenerator(PGPSignature.POSITIVE_CERTIFICATION, rsakp_sign,\r\n                            id, sha1Calc, signhashgen.generate(), null,\r\n                            new BcPGPContentSignerBuilder(rsakp_sign.getPublicKey().getAlgorithm(), HashAlgorithmTags.SHA1), pske);\r\n    \r\n            // Add our encryption subkey, together with its signature.\r\n            keyRingGen.addSubKey(rsakp_enc, enchashgen.generate(), null);\r\n            return keyRingGen;\r\n        }\r\n    }\r\n\r\ni found this class but it won&#39;t work with the latest version which is :\r\n-bcpg-jdk15on-1.54\r\n-bcprov-jdk15on-1.54\r\n\r\ni got lot&#39;s of error message when using this class :\r\nhttps://github.com/matthewmccullough/encryption-jvm-bootcamp/blob/master/bc-pgp/src/main/java/com/ambientideas/cryptography/KeyBasedFileProcessorUtil.java\r\n\r\n    package com.ambientideas.cryptography;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedData;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataList;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPObjectFactory;\r\n    import org.bouncycastle.openpgp.PGPOnePassSignatureList;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPSecretKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    \r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Iterator;\r\n    \r\n    //Matthew McCullough: Rediculous as it sounds, many of the functions such as \r\n    // private static void encryptFile()\r\n    // private static void decryptFile()\r\n    // private static PGPPrivateKey findSecretKey()\r\n    // private static PGPPublicKey readPublicKey()\r\n    // for PGP in BouncyCastle are private, thus making it unbearable to use\r\n    // in a simple manner against whole file contents. Thus, this class is duplicated from the\r\n    // core of BouncyCastle (KeyBasedFileProcessor being the original name), but with the\r\n    // methods made public so that the test can use them.\r\n    \r\n    /**\r\n     * A simple utility class that encrypts/decrypts public key based\r\n     * encryption files.\r\n     * &lt;p&gt;\r\n     * To encrypt a file: KeyBasedFileProcessor -e [-a|-ai] fileName publicKeyFile.&lt;br&gt;\r\n     * If -a is specified the output file will be &quot;ascii-armored&quot;.\r\n     * If -i is specified the output file will be have integrity checking added.\r\n     * &lt;p&gt;\r\n     * To decrypt: KeyBasedFileProcessor -d fileName secretKeyFile passPhrase.\r\n     * &lt;p&gt;\r\n     * Note 1: this example will silently overwrite files, nor does it pay any attention to\r\n     * the specification of &quot;_CONSOLE&quot; in the filename. It also expects that a single pass phrase\r\n     * will have been used.\r\n     * &lt;p&gt;\r\n     * Note 2: if an empty file name has been specified in the literal data object contained in the\r\n     * encrypted packet a file with the name filename.out will be generated in the current working directory.\r\n     */\r\n    public class KeyBasedFileProcessorUtil\r\n    {\r\n        /**\r\n         * A simple routine that opens a key ring file and loads the first available key suitable for\r\n         * encryption.\r\n         * \r\n         * @param in\r\n         * @return\r\n         * @throws IOException\r\n         * @throws PGPException\r\n         */\r\n        public static PGPPublicKey readPublicKey(\r\n            InputStream    in)\r\n            throws IOException, PGPException\r\n        {\r\n            in = PGPUtil.getDecoderStream(in);\r\n            \r\n            PGPPublicKeyRingCollection        pgpPub = new PGPPublicKeyRingCollection(in);\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n            \r\n            //\r\n            // iterate through the key rings.\r\n            //\r\n            Iterator&lt;?&gt; rIt = pgpPub.getKeyRings();\r\n            \r\n            while (rIt.hasNext())\r\n            {\r\n                PGPPublicKeyRing    kRing = (PGPPublicKeyRing)rIt.next();    \r\n                Iterator&lt;?&gt;                        kIt = kRing.getPublicKeys();\r\n                \r\n                while (kIt.hasNext())\r\n                {\r\n                    PGPPublicKey    k = (PGPPublicKey)kIt.next();\r\n                    \r\n                    if (k.isEncryptionKey())\r\n                    {\r\n                        return k;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n        \r\n        /**\r\n         * Search a secret key ring collection for a secret key corresponding to\r\n         * keyID if it exists.\r\n         * \r\n         * @param pgpSec a secret key ring collection.\r\n         * @param keyID keyID we want.\r\n         * @param pass passphrase to decrypt secret key with.\r\n         * @return\r\n         * @throws PGPException\r\n         * @throws NoSuchProviderException\r\n         */\r\n        public static PGPPrivateKey findSecretKey(\r\n            PGPSecretKeyRingCollection  pgpSec,\r\n            long                        keyID,\r\n            char[]                      pass)\r\n            throws PGPException, NoSuchProviderException\r\n        {    \r\n            PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n            \r\n            if (pgpSecKey == null)\r\n            {\r\n                return null;\r\n            }\r\n            \r\n            return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n        }\r\n        \r\n        /**\r\n         * decrypt the passed in message stream\r\n         */\r\n        public static void decryptFile(\r\n            InputStream in,\r\n            InputStream keyIn,\r\n            char[]      passwd,\r\n            String      defaultFileName,\r\n            String      outputPath)\r\n            throws Exception\r\n        {\r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n            PGPEncryptedDataList    enc;\r\n    \r\n            Object                  o = pgpF.nextObject();\r\n            //\r\n            // the first object might be a PGP marker packet.\r\n            //\r\n            if (o instanceof PGPEncryptedDataList)\r\n            {\r\n                enc = (PGPEncryptedDataList)o;\r\n            }\r\n            else\r\n            {\r\n                enc = (PGPEncryptedDataList)pgpF.nextObject();\r\n            }\r\n    \r\n            //\r\n            // find the secret key\r\n            //\r\n            Iterator &lt;?&gt;                   it = enc.getEncryptedDataObjects();\r\n            PGPPrivateKey               sKey = null;\r\n            PGPPublicKeyEncryptedData   pbe = null;\r\n            PGPSecretKeyRingCollection  pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(keyIn));\r\n    \r\n            while (sKey == null &amp;&amp; it.hasNext())\r\n            {\r\n                pbe = (PGPPublicKeyEncryptedData)it.next();\r\n    \r\n                sKey = findSecretKey(pgpSec, pbe.getKeyID(), passwd);\r\n            }\r\n    \r\n            if (sKey == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;secret key for message not found.&quot;);\r\n            }\r\n    \r\n            InputStream         clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n    \r\n            PGPObjectFactory    plainFact = new PGPObjectFactory(clear);\r\n    \r\n            Object              message = plainFact.nextObject();\r\n    \r\n            if (message instanceof PGPCompressedData)\r\n            {\r\n                PGPCompressedData   cData = (PGPCompressedData)message;\r\n                PGPObjectFactory    pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n    \r\n                message = pgpFact.nextObject();\r\n            }\r\n    \r\n            if (message instanceof PGPLiteralData)\r\n            {\r\n                PGPLiteralData      ld = (PGPLiteralData)message;\r\n                String              outFileName = ld.getFileName();\r\n                if (ld.getFileName().length() == 0)\r\n                {\r\n                    outFileName = defaultFileName;\r\n                }\r\n                \r\n                //MJM: Enhancement to allow targeting of output folder for decrypted files\r\n                if (outputPath == null || outputPath.length() &gt; 0) {\r\n                    outFileName = outputPath + outFileName;\r\n                }\r\n                \r\n                FileOutputStream    fOut = new FileOutputStream(outFileName);\r\n    \r\n                InputStream    unc = ld.getInputStream();\r\n                int    ch;\r\n    \r\n                while ((ch = unc.read()) &gt;= 0)\r\n                {\r\n                    fOut.write(ch);\r\n                }\r\n            }\r\n            else if (message instanceof PGPOnePassSignatureList)\r\n            {\r\n                throw new PGPException(&quot;encrypted message contains a signed message - not literal data.&quot;);\r\n            }\r\n            else\r\n            {\r\n                throw new PGPException(&quot;message is not a simple encrypted file - type unknown.&quot;);\r\n            }\r\n    \r\n            if (pbe.isIntegrityProtected())\r\n            {\r\n                if (!pbe.verify())\r\n                {\r\n                    System.err.println(&quot;message failed integrity check&quot;);\r\n                }\r\n                else\r\n                {\r\n                    System.err.println(&quot;message integrity check passed&quot;);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                System.err.println(&quot;no message integrity check&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void encryptFile(\r\n            OutputStream    out,\r\n            String          fileName,\r\n            PGPPublicKey    encKey,\r\n            boolean         armor,\r\n            boolean         withIntegrityCheck)\r\n            throws IOException, NoSuchProviderException\r\n        {    \r\n            if (armor)\r\n            {\r\n                out = new ArmoredOutputStream(out);\r\n            }\r\n            \r\n            try\r\n            {\r\n                ByteArrayOutputStream       bOut = new ByteArrayOutputStream();\r\n                \r\n        \r\n                PGPCompressedDataGenerator  comData = new PGPCompressedDataGenerator(\r\n                                                                        PGPCompressedData.ZIP);\r\n                                                                        \r\n                PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(fileName));\r\n                \r\n                comData.close();\r\n                \r\n                PGPEncryptedDataGenerator   cPk = new PGPEncryptedDataGenerator(PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(), &quot;BC&quot;);\r\n                    \r\n                cPk.addMethod(encKey);\r\n                \r\n                byte[]                bytes = bOut.toByteArray();\r\n                \r\n                OutputStream    cOut = cPk.open(out, bytes.length);\r\n    \r\n                cOut.write(bytes);\r\n                \r\n                cOut.close();\r\n    \r\n                out.close();\r\n            }\r\n            catch (PGPException e)\r\n            {\r\n                System.err.println(e);\r\n                if (e.getUnderlyingException() != null)\r\n                {\r\n                    e.getUnderlyingException().printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(\r\n            String[] args)\r\n            throws Exception\r\n        {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            if (args.length == 0)\r\n            {\r\n                System.err.println(&quot;usage: KeyBasedFileProcessor -e|-d [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]&quot;);\r\n                return;\r\n            }\r\n            \r\n            if (args[0].equals(&quot;-e&quot;))\r\n            {\r\n                if (args[1].equals(&quot;-a&quot;) || args[1].equals(&quot;-ai&quot;) || args[1].equals(&quot;-ia&quot;))\r\n                {\r\n                    FileInputStream     keyIn = new FileInputStream(args[3]);\r\n                    FileOutputStream    out = new FileOutputStream(args[2] + &quot;.asc&quot;);\r\n                    encryptFile(out, args[2], readPublicKey(keyIn), true, (args[1].indexOf(&#39;i&#39;) &gt; 0));\r\n                }\r\n                else if (args[1].equals(&quot;-i&quot;))\r\n                {\r\n                    FileInputStream     keyIn = new FileInputStream(args[3]);\r\n                    FileOutputStream    out = new FileOutputStream(args[2] + &quot;.bpg&quot;);\r\n                    encryptFile(out, args[2], readPublicKey(keyIn), false, true);\r\n                }\r\n                else\r\n                {\r\n                    FileInputStream     keyIn = new FileInputStream(args[2]);\r\n                    FileOutputStream    out = new FileOutputStream(args[1] + &quot;.bpg&quot;);\r\n                    encryptFile(out, args[1], readPublicKey(keyIn), false, false);\r\n                }\r\n            }\r\n            else if (args[0].equals(&quot;-d&quot;))\r\n            {\r\n                FileInputStream    in = new FileInputStream(args[1]);\r\n                FileInputStream    keyIn = new FileInputStream(args[2]);\r\n                decryptFile(in, keyIn, args[3].toCharArray(), new File(args[1]).getName() + &quot;.out&quot;, null);\r\n            }\r\n            else\r\n            {\r\n                System.err.println(&quot;usage: KeyBasedFileProcessor -d|-e [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n[Error MEssages][1]\r\n\r\nhere is the error messages  got when running in intelliJ\r\n  [1]: https://i.stack.imgur.com/ki7JW.jpg","title":"Encrypt/Decrypt Files Using Bouncy Castle PGP in JAVA","body":"<p>I am generating Keypair for PGP Encryption using this class and saving the Files to the disk.</p>\n\n<pre><code>import java.io.BufferedOutputStream;\nimport java.io.FileOutputStream;\nimport java.math.BigInteger;\nimport java.security.SecureRandom;\nimport java.util.Date;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.bcpg.HashAlgorithmTags;\nimport org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags;\nimport org.bouncycastle.bcpg.sig.Features;\nimport org.bouncycastle.bcpg.sig.KeyFlags;\nimport org.bouncycastle.crypto.generators.RSAKeyPairGenerator;\nimport org.bouncycastle.crypto.params.RSAKeyGenerationParameters;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPKeyPair;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPKeyRingGenerator;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRing;\nimport org.bouncycastle.openpgp.PGPSignature;\nimport org.bouncycastle.openpgp.PGPSignatureSubpacketGenerator;\nimport org.bouncycastle.openpgp.operator.PBESecretKeyEncryptor;\nimport org.bouncycastle.openpgp.operator.PGPDigestCalculator;\nimport org.bouncycastle.openpgp.operator.bc.BcPBESecretKeyEncryptorBuilder;\nimport org.bouncycastle.openpgp.operator.bc.BcPGPContentSignerBuilder;\nimport org.bouncycastle.openpgp.operator.bc.BcPGPDigestCalculatorProvider;\nimport org.bouncycastle.openpgp.operator.bc.BcPGPKeyPair;\n\npublic class RSAGen {\n    public static void Generate(String ID,String PassPhrase , String FileName) throws Exception {\n        char pass[] = PassPhrase.toCharArray();\n        PGPKeyRingGenerator krgen = generateKeyRingGenerator(ID, pass);\n\n        // Generate public key ring, dump to file.\n        PGPPublicKeyRing pkr = krgen.generatePublicKeyRing();\n        ArmoredOutputStream pubout = new ArmoredOutputStream(new BufferedOutputStream(new FileOutputStream(FileName + \".asc\")));\n        pkr.encode(pubout);\n        pubout.close();\n\n        // Generate private key, dump to file.\n        PGPSecretKeyRing skr = krgen.generateSecretKeyRing();\n        BufferedOutputStream secout = new BufferedOutputStream(new FileOutputStream(FileName + \".skr\"));\n        skr.encode(secout);\n        secout.close();\n    }\n\n    public final static PGPKeyRingGenerator generateKeyRingGenerator(String id, char[] pass) throws Exception{\n        return generateKeyRingGenerator(id, pass, 0xc0);\n    }\n\n    // Note: s2kcount is a number between 0 and 0xff that controls the number of times to iterate the password hash before use. More\n    // iterations are useful against offline attacks, as it takes more time to check each password. The actual number of iterations is\n    // rather complex, and also depends on the hash function in use. Refer to Section 3.7.1.3 in rfc4880.txt. Bigger numbers give\n    // you more iterations.  As a rough rule of thumb, when using SHA256 as the hashing function, 0x10 gives you about 64\n    // iterations, 0x20 about 128, 0x30 about 256 and so on till 0xf0, or about 1 million iterations. The maximum you can go to is\n    // 0xff, or about 2 million iterations.  I'll use 0xc0 as a default -- about 130,000 iterations.\n\n    public final static PGPKeyRingGenerator generateKeyRingGenerator(String id, char[] pass, int s2kcount) throws Exception {\n        // This object generates individual key-pairs.\n        RSAKeyPairGenerator  kpg = new RSAKeyPairGenerator();\n\n        // Boilerplate RSA parameters, no need to change anything\n        // except for the RSA key-size (2048). You can use whatever key-size makes sense for you -- 4096, etc.\n        kpg.init(new RSAKeyGenerationParameters(BigInteger.valueOf(0x10001), new SecureRandom(), 2048, 12));\n\n        // First create the master (signing) key with the generator.\n        PGPKeyPair rsakp_sign = new BcPGPKeyPair(PGPPublicKey.RSA_SIGN, kpg.generateKeyPair(), new Date());\n        // Then an encryption subkey.\n        PGPKeyPair rsakp_enc = new BcPGPKeyPair(PGPPublicKey.RSA_ENCRYPT, kpg.generateKeyPair(), new Date());\n\n        // Add a self-signature on the id\n        PGPSignatureSubpacketGenerator signhashgen = new PGPSignatureSubpacketGenerator();\n\n        // Add signed metadata on the signature.\n        // 1) Declare its purpose\n        signhashgen.setKeyFlags(false, KeyFlags.SIGN_DATA|KeyFlags.CERTIFY_OTHER);\n        // 2) Set preferences for secondary crypto algorithms to use when sending messages to this key.\n        signhashgen.setPreferredSymmetricAlgorithms\n                (false, new int[] {\n                        SymmetricKeyAlgorithmTags.AES_256,\n                        SymmetricKeyAlgorithmTags.AES_192,\n                        SymmetricKeyAlgorithmTags.AES_128\n                });\n        signhashgen.setPreferredHashAlgorithms\n                (false, new int[] {\n                        HashAlgorithmTags.SHA256,\n                        HashAlgorithmTags.SHA1,\n                        HashAlgorithmTags.SHA384,\n                        HashAlgorithmTags.SHA512,\n                        HashAlgorithmTags.SHA224,\n                });\n        // 3) Request senders add additional checksums to the message (useful when verifying unsigned messages.)\n        signhashgen.setFeature(false, Features.FEATURE_MODIFICATION_DETECTION);\n\n        // Create a signature on the encryption subkey.\n        PGPSignatureSubpacketGenerator enchashgen = new PGPSignatureSubpacketGenerator();\n        // Add metadata to declare its purpose\n        enchashgen.setKeyFlags(false, KeyFlags.ENCRYPT_COMMS|KeyFlags.ENCRYPT_STORAGE);\n\n        // Objects used to encrypt the secret key.\n        PGPDigestCalculator sha1Calc = new BcPGPDigestCalculatorProvider().get(HashAlgorithmTags.SHA1);\n        PGPDigestCalculator sha256Calc = new BcPGPDigestCalculatorProvider().get(HashAlgorithmTags.SHA256);\n\n        // bcpg 1.48 exposes this API that includes s2kcount. Earlier versions use a default of 0x60.\n        PBESecretKeyEncryptor pske = (new BcPBESecretKeyEncryptorBuilder(PGPEncryptedData.AES_256, sha256Calc, s2kcount)).build(pass);\n\n        // Finally, create the keyring itself. The constructor takes parameters that allow it to generate the self signature.\n        PGPKeyRingGenerator keyRingGen =\n                new PGPKeyRingGenerator(PGPSignature.POSITIVE_CERTIFICATION, rsakp_sign,\n                        id, sha1Calc, signhashgen.generate(), null,\n                        new BcPGPContentSignerBuilder(rsakp_sign.getPublicKey().getAlgorithm(), HashAlgorithmTags.SHA1), pske);\n\n        // Add our encryption subkey, together with its signature.\n        keyRingGen.addSubKey(rsakp_enc, enchashgen.generate(), null);\n        return keyRingGen;\n    }\n}\n</code></pre>\n\n<p>i found this class but it won't work with the latest version which is :\n-bcpg-jdk15on-1.54\n-bcprov-jdk15on-1.54</p>\n\n<p>i got lot's of error message when using this class :\n<a href=\"https://github.com/matthewmccullough/encryption-jvm-bootcamp/blob/master/bc-pgp/src/main/java/com/ambientideas/cryptography/KeyBasedFileProcessorUtil.java\" rel=\"nofollow\">https://github.com/matthewmccullough/encryption-jvm-bootcamp/blob/master/bc-pgp/src/main/java/com/ambientideas/cryptography/KeyBasedFileProcessorUtil.java</a></p>\n\n<pre><code>package com.ambientideas.cryptography;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedData;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataList;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPObjectFactory;\nimport org.bouncycastle.openpgp.PGPOnePassSignatureList;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPSecretKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Iterator;\n\n//Matthew McCullough: Rediculous as it sounds, many of the functions such as \n// private static void encryptFile()\n// private static void decryptFile()\n// private static PGPPrivateKey findSecretKey()\n// private static PGPPublicKey readPublicKey()\n// for PGP in BouncyCastle are private, thus making it unbearable to use\n// in a simple manner against whole file contents. Thus, this class is duplicated from the\n// core of BouncyCastle (KeyBasedFileProcessor being the original name), but with the\n// methods made public so that the test can use them.\n\n/**\n * A simple utility class that encrypts/decrypts public key based\n * encryption files.\n * &lt;p&gt;\n * To encrypt a file: KeyBasedFileProcessor -e [-a|-ai] fileName publicKeyFile.&lt;br&gt;\n * If -a is specified the output file will be \"ascii-armored\".\n * If -i is specified the output file will be have integrity checking added.\n * &lt;p&gt;\n * To decrypt: KeyBasedFileProcessor -d fileName secretKeyFile passPhrase.\n * &lt;p&gt;\n * Note 1: this example will silently overwrite files, nor does it pay any attention to\n * the specification of \"_CONSOLE\" in the filename. It also expects that a single pass phrase\n * will have been used.\n * &lt;p&gt;\n * Note 2: if an empty file name has been specified in the literal data object contained in the\n * encrypted packet a file with the name filename.out will be generated in the current working directory.\n */\npublic class KeyBasedFileProcessorUtil\n{\n    /**\n     * A simple routine that opens a key ring file and loads the first available key suitable for\n     * encryption.\n     * \n     * @param in\n     * @return\n     * @throws IOException\n     * @throws PGPException\n     */\n    public static PGPPublicKey readPublicKey(\n        InputStream    in)\n        throws IOException, PGPException\n    {\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPPublicKeyRingCollection        pgpPub = new PGPPublicKeyRingCollection(in);\n\n        //\n        // we just loop through the collection till we find a key suitable for encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        //\n        // iterate through the key rings.\n        //\n        Iterator&lt;?&gt; rIt = pgpPub.getKeyRings();\n\n        while (rIt.hasNext())\n        {\n            PGPPublicKeyRing    kRing = (PGPPublicKeyRing)rIt.next();    \n            Iterator&lt;?&gt;                        kIt = kRing.getPublicKeys();\n\n            while (kIt.hasNext())\n            {\n                PGPPublicKey    k = (PGPPublicKey)kIt.next();\n\n                if (k.isEncryptionKey())\n                {\n                    return k;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(\"Can't find encryption key in key ring.\");\n    }\n\n    /**\n     * Search a secret key ring collection for a secret key corresponding to\n     * keyID if it exists.\n     * \n     * @param pgpSec a secret key ring collection.\n     * @param keyID keyID we want.\n     * @param pass passphrase to decrypt secret key with.\n     * @return\n     * @throws PGPException\n     * @throws NoSuchProviderException\n     */\n    public static PGPPrivateKey findSecretKey(\n        PGPSecretKeyRingCollection  pgpSec,\n        long                        keyID,\n        char[]                      pass)\n        throws PGPException, NoSuchProviderException\n    {    \n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null)\n        {\n            return null;\n        }\n\n        return pgpSecKey.extractPrivateKey(pass, \"BC\");\n    }\n\n    /**\n     * decrypt the passed in message stream\n     */\n    public static void decryptFile(\n        InputStream in,\n        InputStream keyIn,\n        char[]      passwd,\n        String      defaultFileName,\n        String      outputPath)\n        throws Exception\n    {\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList    enc;\n\n        Object                  o = pgpF.nextObject();\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList)\n        {\n            enc = (PGPEncryptedDataList)o;\n        }\n        else\n        {\n            enc = (PGPEncryptedDataList)pgpF.nextObject();\n        }\n\n        //\n        // find the secret key\n        //\n        Iterator &lt;?&gt;                   it = enc.getEncryptedDataObjects();\n        PGPPrivateKey               sKey = null;\n        PGPPublicKeyEncryptedData   pbe = null;\n        PGPSecretKeyRingCollection  pgpSec = new PGPSecretKeyRingCollection(\n                PGPUtil.getDecoderStream(keyIn));\n\n        while (sKey == null &amp;&amp; it.hasNext())\n        {\n            pbe = (PGPPublicKeyEncryptedData)it.next();\n\n            sKey = findSecretKey(pgpSec, pbe.getKeyID(), passwd);\n        }\n\n        if (sKey == null)\n        {\n            throw new IllegalArgumentException(\"secret key for message not found.\");\n        }\n\n        InputStream         clear = pbe.getDataStream(sKey, \"BC\");\n\n        PGPObjectFactory    plainFact = new PGPObjectFactory(clear);\n\n        Object              message = plainFact.nextObject();\n\n        if (message instanceof PGPCompressedData)\n        {\n            PGPCompressedData   cData = (PGPCompressedData)message;\n            PGPObjectFactory    pgpFact = new PGPObjectFactory(cData.getDataStream());\n\n            message = pgpFact.nextObject();\n        }\n\n        if (message instanceof PGPLiteralData)\n        {\n            PGPLiteralData      ld = (PGPLiteralData)message;\n            String              outFileName = ld.getFileName();\n            if (ld.getFileName().length() == 0)\n            {\n                outFileName = defaultFileName;\n            }\n\n            //MJM: Enhancement to allow targeting of output folder for decrypted files\n            if (outputPath == null || outputPath.length() &gt; 0) {\n                outFileName = outputPath + outFileName;\n            }\n\n            FileOutputStream    fOut = new FileOutputStream(outFileName);\n\n            InputStream    unc = ld.getInputStream();\n            int    ch;\n\n            while ((ch = unc.read()) &gt;= 0)\n            {\n                fOut.write(ch);\n            }\n        }\n        else if (message instanceof PGPOnePassSignatureList)\n        {\n            throw new PGPException(\"encrypted message contains a signed message - not literal data.\");\n        }\n        else\n        {\n            throw new PGPException(\"message is not a simple encrypted file - type unknown.\");\n        }\n\n        if (pbe.isIntegrityProtected())\n        {\n            if (!pbe.verify())\n            {\n                System.err.println(\"message failed integrity check\");\n            }\n            else\n            {\n                System.err.println(\"message integrity check passed\");\n            }\n        }\n        else\n        {\n            System.err.println(\"no message integrity check\");\n        }\n    }\n\n    public static void encryptFile(\n        OutputStream    out,\n        String          fileName,\n        PGPPublicKey    encKey,\n        boolean         armor,\n        boolean         withIntegrityCheck)\n        throws IOException, NoSuchProviderException\n    {    \n        if (armor)\n        {\n            out = new ArmoredOutputStream(out);\n        }\n\n        try\n        {\n            ByteArrayOutputStream       bOut = new ByteArrayOutputStream();\n\n\n            PGPCompressedDataGenerator  comData = new PGPCompressedDataGenerator(\n                                                                    PGPCompressedData.ZIP);\n\n            PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY, new File(fileName));\n\n            comData.close();\n\n            PGPEncryptedDataGenerator   cPk = new PGPEncryptedDataGenerator(PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(), \"BC\");\n\n            cPk.addMethod(encKey);\n\n            byte[]                bytes = bOut.toByteArray();\n\n            OutputStream    cOut = cPk.open(out, bytes.length);\n\n            cOut.write(bytes);\n\n            cOut.close();\n\n            out.close();\n        }\n        catch (PGPException e)\n        {\n            System.err.println(e);\n            if (e.getUnderlyingException() != null)\n            {\n                e.getUnderlyingException().printStackTrace();\n            }\n        }\n    }\n\n    public static void main(\n        String[] args)\n        throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n\n        if (args.length == 0)\n        {\n            System.err.println(\"usage: KeyBasedFileProcessor -e|-d [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]\");\n            return;\n        }\n\n        if (args[0].equals(\"-e\"))\n        {\n            if (args[1].equals(\"-a\") || args[1].equals(\"-ai\") || args[1].equals(\"-ia\"))\n            {\n                FileInputStream     keyIn = new FileInputStream(args[3]);\n                FileOutputStream    out = new FileOutputStream(args[2] + \".asc\");\n                encryptFile(out, args[2], readPublicKey(keyIn), true, (args[1].indexOf('i') &gt; 0));\n            }\n            else if (args[1].equals(\"-i\"))\n            {\n                FileInputStream     keyIn = new FileInputStream(args[3]);\n                FileOutputStream    out = new FileOutputStream(args[2] + \".bpg\");\n                encryptFile(out, args[2], readPublicKey(keyIn), false, true);\n            }\n            else\n            {\n                FileInputStream     keyIn = new FileInputStream(args[2]);\n                FileOutputStream    out = new FileOutputStream(args[1] + \".bpg\");\n                encryptFile(out, args[1], readPublicKey(keyIn), false, false);\n            }\n        }\n        else if (args[0].equals(\"-d\"))\n        {\n            FileInputStream    in = new FileInputStream(args[1]);\n            FileInputStream    keyIn = new FileInputStream(args[2]);\n            decryptFile(in, keyIn, args[3].toCharArray(), new File(args[1]).getName() + \".out\", null);\n        }\n        else\n        {\n            System.err.println(\"usage: KeyBasedFileProcessor -d|-e [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]\");\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ki7JW.jpg\" rel=\"nofollow\">Error MEssages</a></p>\n\n<p>here is the error messages  got when running in intelliJ</p>\n"},{"tags":["java","parsing","jenkins","groovy","hash"],"answers":[{"tags":[],"owner":{"account_id":26380720,"reputation":361,"user_id":20034020,"display_name":"frankM_DN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663598212,"creation_date":1663598212,"answer_id":73775104,"question_id":73773498,"body_markdown":"Not positive how to format the result like you want it but finding the first instance of each branch is fairly easy.\r\n````\r\nresult = [:]\r\nfor (map in LUT)\r\n{\r\n    if (!result.containsKey(map[&#39;branch&#39;]))\r\n    {\r\n        println map[&#39;name&#39;] // prints the unique name\r\n        result.put(map[&#39;branch&#39;], map[&#39;name&#39;])\r\n    }\r\n}\r\n````\r\n\r\n","title":"Groovy: Parsing List elements","body":"<p>Not positive how to format the result like you want it but finding the first instance of each branch is fairly easy.</p>\n<pre><code>result = [:]\nfor (map in LUT)\n{\n    if (!result.containsKey(map['branch']))\n    {\n        println map['name'] // prints the unique name\n        result.put(map['branch'], map['name'])\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26324885,"reputation":16,"user_id":19986363,"display_name":"Marc Nijland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1663860504,"creation_date":1663860504,"answer_id":73817209,"question_id":73773498,"body_markdown":"I&#39;m not sure about your curly brackets, but this creates a map:\r\n```\r\ndef original = [\r\n    [branch: &quot;test&quot;, name: &#39;a&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test&quot;, name: &#39;b&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test&quot;, name: &#39;c&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-1&quot;, name: &#39;d&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-1&quot;, name: &#39;e&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-2&quot;, name: &#39;f&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-2&quot;, name: &#39;g&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-2&quot;, name: &#39;h&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-3&quot;, name: &#39;i&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-3&quot;, name: &#39;j&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-4&quot;, name: &#39;k&#39;, image_name: &#39;abc&#39;],\r\n    [branch: &quot;test-5&quot;, name: &#39;l&#39;, image_name: &#39;abc&#39;],\r\n]\r\n\r\nprintln original\r\n    .groupBy { branch -&gt; branch.branch }\r\n    .collectEntries { key,value -&gt; [(key) : [name : value.get(0).name]] }\r\n```","title":"Groovy: Parsing List elements","body":"<p>I'm not sure about your curly brackets, but this creates a map:</p>\n<pre><code>def original = [\n    [branch: &quot;test&quot;, name: 'a', image_name: 'abc'],\n    [branch: &quot;test&quot;, name: 'b', image_name: 'abc'],\n    [branch: &quot;test&quot;, name: 'c', image_name: 'abc'],\n    [branch: &quot;test-1&quot;, name: 'd', image_name: 'abc'],\n    [branch: &quot;test-1&quot;, name: 'e', image_name: 'abc'],\n    [branch: &quot;test-2&quot;, name: 'f', image_name: 'abc'],\n    [branch: &quot;test-2&quot;, name: 'g', image_name: 'abc'],\n    [branch: &quot;test-2&quot;, name: 'h', image_name: 'abc'],\n    [branch: &quot;test-3&quot;, name: 'i', image_name: 'abc'],\n    [branch: &quot;test-3&quot;, name: 'j', image_name: 'abc'],\n    [branch: &quot;test-4&quot;, name: 'k', image_name: 'abc'],\n    [branch: &quot;test-5&quot;, name: 'l', image_name: 'abc'],\n]\n\nprintln original\n    .groupBy { branch -&gt; branch.branch }\n    .collectEntries { key,value -&gt; [(key) : [name : value.get(0).name]] }\n</code></pre>\n"}],"owner":{"account_id":14267491,"reputation":11,"user_id":10306101,"display_name":"Asar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73817209,"answer_count":2,"score":-1,"last_activity_date":1665984018,"creation_date":1663591239,"question_id":73773498,"body_markdown":"For learning purpose, I like to parse the following look up table as follows:\r\nI want to check the branch name and fetch the corresponding name value, but i want to do fetch first name of each branch, like : [branch: &quot;test&quot;] =&gt; name &quot;a&quot; than [branch: &quot;test-1&quot;] =&gt; name &quot;d&quot; ; and so on, \r\n\r\n\r\n    LUT = [\r\n        [branch: &quot;test&quot;, name: &#39;a&#39;, image_name: &#39;abc&#39;],\r\n    \t[branch: &quot;test&quot;, name: &#39;b&#39;, image_name: &#39;abc&#39;],\r\n    \t[branch: &quot;test&quot;, name: &#39;c&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-1&quot;, name: &#39;d&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-1&quot;, name: &#39;e&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-2&quot;, name: &#39;f&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-2&quot;, name: &#39;g&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-2&quot;, name: &#39;h&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-3&quot;, name: &#39;i&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-3&quot;, name: &#39;j&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-4&quot;, name: &#39;k&#39;, image_name: &#39;abc&#39;],\r\n        [branch: &quot;test-5&quot;, name: &#39;l&#39;, image_name: &#39;abc&#39;],\r\n    ]\r\n\r\n\r\nfor example the result may look like:\r\n\r\n    result = {\r\n     &quot;test&quot;: [{ &quot;name&quot;:&quot;a&quot; }],\r\n     &quot;test-1&quot;: [{ &quot;name&quot;:&quot;d&quot; }],\r\n     &quot;test-2&quot;: [{ &quot;name&quot;:&quot;f&quot; }],\r\n     &quot;test-3&quot;: [{ &quot;name&quot;:&quot;i&quot; }], \r\n    &quot;test-4&quot;: [{ &quot;name&quot;:&quot;k&quot; }], \r\n    &quot;test-5&quot;: [{ &quot;name&quot;:&quot;l&quot; }], \r\n    } \r\n\r\n\r\nAlso, later on i may like to add additional values to the keys for example in test-1:\r\n &quot;test-1&quot;: [{ &quot;name&quot;:&quot;a&quot;, **&quot;new_name&quot;:&quot;new&quot;** }]","title":"Groovy: Parsing List elements","body":"<p>For learning purpose, I like to parse the following look up table as follows:\nI want to check the branch name and fetch the corresponding name value, but i want to do fetch first name of each branch, like : [branch: &quot;test&quot;] =&gt; name &quot;a&quot; than [branch: &quot;test-1&quot;] =&gt; name &quot;d&quot; ; and so on,</p>\n<pre><code>LUT = [\n    [branch: &quot;test&quot;, name: 'a', image_name: 'abc'],\n    [branch: &quot;test&quot;, name: 'b', image_name: 'abc'],\n    [branch: &quot;test&quot;, name: 'c', image_name: 'abc'],\n    [branch: &quot;test-1&quot;, name: 'd', image_name: 'abc'],\n    [branch: &quot;test-1&quot;, name: 'e', image_name: 'abc'],\n    [branch: &quot;test-2&quot;, name: 'f', image_name: 'abc'],\n    [branch: &quot;test-2&quot;, name: 'g', image_name: 'abc'],\n    [branch: &quot;test-2&quot;, name: 'h', image_name: 'abc'],\n    [branch: &quot;test-3&quot;, name: 'i', image_name: 'abc'],\n    [branch: &quot;test-3&quot;, name: 'j', image_name: 'abc'],\n    [branch: &quot;test-4&quot;, name: 'k', image_name: 'abc'],\n    [branch: &quot;test-5&quot;, name: 'l', image_name: 'abc'],\n]\n</code></pre>\n<p>for example the result may look like:</p>\n<pre><code>result = {\n &quot;test&quot;: [{ &quot;name&quot;:&quot;a&quot; }],\n &quot;test-1&quot;: [{ &quot;name&quot;:&quot;d&quot; }],\n &quot;test-2&quot;: [{ &quot;name&quot;:&quot;f&quot; }],\n &quot;test-3&quot;: [{ &quot;name&quot;:&quot;i&quot; }], \n&quot;test-4&quot;: [{ &quot;name&quot;:&quot;k&quot; }], \n&quot;test-5&quot;: [{ &quot;name&quot;:&quot;l&quot; }], \n} \n</code></pre>\n<p>Also, later on i may like to add additional values to the keys for example in test-1:\n&quot;test-1&quot;: [{ &quot;name&quot;:&quot;a&quot;, <strong>&quot;new_name&quot;:&quot;new&quot;</strong> }]</p>\n"},{"tags":["java","instanceof","java-17"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1663331385,"post_id":73744795,"comment_id":130220212,"body_markdown":"&quot;The scope of a pattern variable are the places where the program can reach only if the instanceof operator is true:&quot;","body":"&quot;The scope of a pattern variable are the places where the program can reach only if the instanceof operator is true:&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1663331438,"post_id":73744795,"comment_id":130220233,"body_markdown":"Obviously the return type is not the cause -- it&#39;s the return statement.","body":"Obviously the return type is not the cause -- it&#39;s the return statement."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1663334030,"post_id":73744795,"comment_id":130221212,"body_markdown":"I am also puzzled about this. Not having investigated, the given answers are all not very satisfactory for me. Regardless of the value at runtime, the scope of the variable is foggy for me. Since c gets introduced in the if expression, I&#39;d expect it&#39;s scope to cover the expression and maybe the `then` and `else` code blocks, but nothing else. That way I am already surprised to read the first method is good. And yet I read &quot;The scope of a pattern variable can extend beyond the statement that introduced it&quot;","body":"I am also puzzled about this. Not having investigated, the given answers are all not very satisfactory for me. Regardless of the value at runtime, the scope of the variable is foggy for me. Since c gets introduced in the if expression, I&#39;d expect it&#39;s scope to cover the expression and maybe the <code>then</code> and <code>else</code> code blocks, but nothing else. That way I am already surprised to read the first method is good. And yet I read &quot;The scope of a pattern variable can extend beyond the statement that introduced it&quot;"}],"answers":[{"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665982721,"creation_date":1663331758,"answer_id":73744908,"question_id":73744795,"body_markdown":"Put an else statement. Pattern variable will be created only if `instanceof` operator yields `true`. Otherwise there is no variable in the scope, and hence the compiler error.\r\n\r\n      public void testScope2(Vehicle v){\r\n        if(!(v instanceof Car c)){\r\n\r\n        } else {\r\n          System.out.println(c.toString());\r\n        }\r\n      }\r\n\r\n\r\nEdit:\r\n`testScope1` method does not need `else` statement because the `return` statement is already there. `return` statement is ensuring that control never reaches `c.toString()` if `v` is not an instance of `Car`.\r\n\r\nPattern variable is just syntatic dark chocolate added in java 14. When bytecode is generated, it is no different from simple `instanceof` and `if-else` statements. Forexample, I compiled your `Pattern` class using java 17, and decompiled using java 8. Here is the decompiled version of `testScope1` method. Java 17 compiler has itself put an `else`:\r\n\r\n    public int testScope1(Vehicle var1) {\r\n      if (var1 instanceof Car) {\r\n        Car var2 = (Car)var1;\r\n        System.out.println(var2.toString());\r\n        return 2;\r\n      } else {\r\n        return 1;\r\n      }\r\n    }\r\n\r\nSo, you can see, the java compiler has modified your `if` statement, so that `Car` variable is created only if `v` is `instanceof` `Car`. Simple concepts `instanceof`, `TypeCasting`, `variable scopes`, and `if-else` have been used, which are there since long.","title":"Java Pattern Variable Scope","body":"<p>Put an else statement. Pattern variable will be created only if <code>instanceof</code> operator yields <code>true</code>. Otherwise there is no variable in the scope, and hence the compiler error.</p>\n<pre><code>  public void testScope2(Vehicle v){\n    if(!(v instanceof Car c)){\n\n    } else {\n      System.out.println(c.toString());\n    }\n  }\n</code></pre>\n<p>Edit:\n<code>testScope1</code> method does not need <code>else</code> statement because the <code>return</code> statement is already there. <code>return</code> statement is ensuring that control never reaches <code>c.toString()</code> if <code>v</code> is not an instance of <code>Car</code>.</p>\n<p>Pattern variable is just syntatic dark chocolate added in java 14. When bytecode is generated, it is no different from simple <code>instanceof</code> and <code>if-else</code> statements. Forexample, I compiled your <code>Pattern</code> class using java 17, and decompiled using java 8. Here is the decompiled version of <code>testScope1</code> method. Java 17 compiler has itself put an <code>else</code>:</p>\n<pre><code>public int testScope1(Vehicle var1) {\n  if (var1 instanceof Car) {\n    Car var2 = (Car)var1;\n    System.out.println(var2.toString());\n    return 2;\n  } else {\n    return 1;\n  }\n}\n</code></pre>\n<p>So, you can see, the java compiler has modified your <code>if</code> statement, so that <code>Car</code> variable is created only if <code>v</code> is <code>instanceof</code> <code>Car</code>. Simple concepts <code>instanceof</code>, <code>TypeCasting</code>, <code>variable scopes</code>, and <code>if-else</code> have been used, which are there since long.</p>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1663332213,"creation_date":1663332213,"answer_id":73744989,"question_id":73744795,"body_markdown":"Think about what happens if `v` is **not** a `Car` instance:\r\n\r\n* In `testScope1`, the `return 1;` statement causes the method to be exited. No subsequent statements of the method are exceuted. All is well.\r\n* In `testScope2` there’s no `return`, so the control flow reaches `c.toString()`. But `v` isn’t a `Car`, so … what is `c`?! It can’t exist, because it would have to be of type `Car` but that’s a counterfactual. That’s why you’re getting the error “Cannot resolve symbol `c`”.","title":"Java Pattern Variable Scope","body":"<p>Think about what happens if <code>v</code> is <strong>not</strong> a <code>Car</code> instance:</p>\n<ul>\n<li>In <code>testScope1</code>, the <code>return 1;</code> statement causes the method to be exited. No subsequent statements of the method are exceuted. All is well.</li>\n<li>In <code>testScope2</code> there’s no <code>return</code>, so the control flow reaches <code>c.toString()</code>. But <code>v</code> isn’t a <code>Car</code>, so … what is <code>c</code>?! It can’t exist, because it would have to be of type <code>Car</code> but that’s a counterfactual. That’s why you’re getting the error “Cannot resolve symbol <code>c</code>”.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663334638,"creation_date":1663334638,"answer_id":73745491,"question_id":73744795,"body_markdown":"Having spent more thoughts on this I have an explanation: The variable can only be accessed if the instanceof is clearly true for that piece of code.\r\n\r\nIn testScope1 you cannot access `c` within the if statement.\r\nBut since the code after the if statement only gets executed when the instanceof is true, `c` is accessible.\r\n\r\nIn testScope1 you cannot access `c` within the if statement.\r\nBut since the code after the if statement gets executed regardless of instanceof being true or false `c` is not accessible. \r\nAfter all we might have the false situation and the compiler acts accordingly.","title":"Java Pattern Variable Scope","body":"<p>Having spent more thoughts on this I have an explanation: The variable can only be accessed if the instanceof is clearly true for that piece of code.</p>\n<p>In testScope1 you cannot access <code>c</code> within the if statement.\nBut since the code after the if statement only gets executed when the instanceof is true, <code>c</code> is accessible.</p>\n<p>In testScope1 you cannot access <code>c</code> within the if statement.\nBut since the code after the if statement gets executed regardless of instanceof being true or false <code>c</code> is not accessible.\nAfter all we might have the false situation and the compiler acts accordingly.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1663357828,"creation_date":1663357828,"answer_id":73749721,"question_id":73744795,"body_markdown":"Pattern variables (binding variables declared in patterns) use _flow-sensitive scoping_.  Unlike ordinary locals, which are in scope for in contiguous regions, pattern variables are in scope _where they would be definitely assigned by their declaring pattern_.  \r\n\r\nIf you have an `if` statement:\r\n\r\n    if (x instanceof Foo(var v)) { \r\n        A;\r\n    }\r\n    else {\r\n        B;\r\n    }\r\n\r\nthen `v` is in scope for `A`, but not for `B`, because we are not guaranteed that `v` would be definitely assigned a value in the cases where we reach `B`.  If we invert our test using the obvious refactoring:\r\n\r\n    if (!(x instanceof Foo(var v))) { \r\n        B;\r\n    }\r\n    else {\r\n        A;\r\n    }\r\n\r\nthe same is true; `v` is in scope at `A` but not `B`.  The rules are exactly the same as the _definite assignment_ rules for locals -- &quot;is this value guaranteed to have been assigned a value if I reach this point.&quot;  \r\n\r\nOther conditional constructs, such as short-circuiting `&amp;&amp;` and `||`, also participate in this scoping.  For example, the following is valid:\r\n\r\n    if (x instanceof Foo(var v) &amp;&amp; v != null) { \r\n        A;\r\n    }\r\n\r\nbut the following is not:\r\n\r\n    if (x instanceof Foo(var v) || v != null) { \r\n        A;\r\n    }\r\n\r\nbecause in the latter, `v` is not guaranteed to have been assigned a value when we reach the `v != null` clause.  \r\n\r\nThe rules even incorporate non-local control flow, such as exceptions.  For example, if we had:\r\n\r\n    if (!(x instanceof Foo(var v)) { \r\n        System.out.println(&quot;Not a Foo&quot;);\r\n    }\r\n    B(v);\r\n\r\nthis would be an error, since `v` is not guaranteed to have been assigned a value when we reach `B(v)`, but if the `if` block completes abruptly:\r\n\r\n    if (!(x instanceof Foo(var v)) { \r\n        throw new NotFooException();\r\n    }\r\n    B(v);\r\n\r\nthen `v` is in scope at `B(v)` because we are guaranteed that if we reach that point, `v` has been assigned a value.  \r\n\r\nThis may look complicated, but it is actually quite simple: given what you know about the flow control of constructs like `if`, `throw`, etc, is a pattern variable guaranteed to have been assigned a value at a given point?  If so, it is in scope at that point.  \r\n\r\n","title":"Java Pattern Variable Scope","body":"<p>Pattern variables (binding variables declared in patterns) use <em>flow-sensitive scoping</em>.  Unlike ordinary locals, which are in scope for in contiguous regions, pattern variables are in scope <em>where they would be definitely assigned by their declaring pattern</em>.</p>\n<p>If you have an <code>if</code> statement:</p>\n<pre><code>if (x instanceof Foo(var v)) { \n    A;\n}\nelse {\n    B;\n}\n</code></pre>\n<p>then <code>v</code> is in scope for <code>A</code>, but not for <code>B</code>, because we are not guaranteed that <code>v</code> would be definitely assigned a value in the cases where we reach <code>B</code>.  If we invert our test using the obvious refactoring:</p>\n<pre><code>if (!(x instanceof Foo(var v))) { \n    B;\n}\nelse {\n    A;\n}\n</code></pre>\n<p>the same is true; <code>v</code> is in scope at <code>A</code> but not <code>B</code>.  The rules are exactly the same as the <em>definite assignment</em> rules for locals -- &quot;is this value guaranteed to have been assigned a value if I reach this point.&quot;</p>\n<p>Other conditional constructs, such as short-circuiting <code>&amp;&amp;</code> and <code>||</code>, also participate in this scoping.  For example, the following is valid:</p>\n<pre><code>if (x instanceof Foo(var v) &amp;&amp; v != null) { \n    A;\n}\n</code></pre>\n<p>but the following is not:</p>\n<pre><code>if (x instanceof Foo(var v) || v != null) { \n    A;\n}\n</code></pre>\n<p>because in the latter, <code>v</code> is not guaranteed to have been assigned a value when we reach the <code>v != null</code> clause.</p>\n<p>The rules even incorporate non-local control flow, such as exceptions.  For example, if we had:</p>\n<pre><code>if (!(x instanceof Foo(var v)) { \n    System.out.println(&quot;Not a Foo&quot;);\n}\nB(v);\n</code></pre>\n<p>this would be an error, since <code>v</code> is not guaranteed to have been assigned a value when we reach <code>B(v)</code>, but if the <code>if</code> block completes abruptly:</p>\n<pre><code>if (!(x instanceof Foo(var v)) { \n    throw new NotFooException();\n}\nB(v);\n</code></pre>\n<p>then <code>v</code> is in scope at <code>B(v)</code> because we are guaranteed that if we reach that point, <code>v</code> has been assigned a value.</p>\n<p>This may look complicated, but it is actually quite simple: given what you know about the flow control of constructs like <code>if</code>, <code>throw</code>, etc, is a pattern variable guaranteed to have been assigned a value at a given point?  If so, it is in scope at that point.</p>\n"}],"owner":{"account_id":4413420,"reputation":919,"user_id":3595685,"accept_rate":78,"display_name":"Steve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1006,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":73744989,"answer_count":4,"score":8,"last_activity_date":1665982721,"creation_date":1663331076,"question_id":73744795,"body_markdown":"I am going through Oracle&#39;s official [docs][1] to understand **Pattern Variable scope** in Java 17. In the following example, the method `testScope1` works as explained in the docs, but the method `testScope2` gives a compilation error. I am not able to figure out why `void` return type of the method is causing the issue?\r\n\r\n    interface Vehicle{}\r\n    class Car implements Vehicle{}\r\n    \r\n    class Pattern{\r\n        public int testScope1(Vehicle v){\r\n            if(!(v instanceof Car c)){\r\n                return 1;\r\n            }\r\n            System.out.println(c.toString());  //WORKS FINE\r\n            return 2; \r\n        }\r\n        public void testScope2(Vehicle v){\r\n            if(!(v instanceof Car c)){\r\n                     \r\n            }\r\n            System.out.println(c.toString());  //COMPILE TIME ERROR: Cannot resolve symbol c\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html","title":"Java Pattern Variable Scope","body":"<p>I am going through Oracle's official <a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html\" rel=\"noreferrer\">docs</a> to understand <strong>Pattern Variable scope</strong> in Java 17. In the following example, the method <code>testScope1</code> works as explained in the docs, but the method <code>testScope2</code> gives a compilation error. I am not able to figure out why <code>void</code> return type of the method is causing the issue?</p>\n<pre><code>interface Vehicle{}\nclass Car implements Vehicle{}\n\nclass Pattern{\n    public int testScope1(Vehicle v){\n        if(!(v instanceof Car c)){\n            return 1;\n        }\n        System.out.println(c.toString());  //WORKS FINE\n        return 2; \n    }\n    public void testScope2(Vehicle v){\n        if(!(v instanceof Car c)){\n                 \n        }\n        System.out.println(c.toString());  //COMPILE TIME ERROR: Cannot resolve symbol c\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","if-statement"],"comments":[{"owner":{"account_id":19763093,"reputation":136,"user_id":14471743,"display_name":"Adarsh s"},"score":1,"creation_date":1665979673,"post_id":74092482,"comment_id":130817945,"body_markdown":"** if ( i % 5 == 0 || i % 7 == 0)\n        {\n            System.out.println(i);\n            sum = sum + i;\n        \n        } ** Just remove first to if","body":"** if ( i % 5 == 0 || i % 7 == 0)         {             System.out.println(i);             sum = sum + i;                  } ** Just remove first to if"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1665980071,"post_id":74092482,"comment_id":130817993,"body_markdown":"This is also called the fizz buzz problem, you can find lots of solutions, some overly clever, if you search for that.","body":"This is also called the fizz buzz problem, you can find lots of solutions, some overly clever, if you search for that."}],"answers":[{"tags":[],"owner":{"account_id":25893878,"reputation":31,"user_id":19620814,"display_name":"Harsh Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665982120,"creation_date":1665982120,"answer_id":74092686,"question_id":74092482,"body_markdown":"Using &amp;&amp; operator to print the repeating numbers once and conditional operators to do the rest of the logic will help eventually.\r\n\r\n\r\nTry this code\r\n\r\n```\r\nint sum  = 0;\r\n    \r\nint i=1;        \r\n     \r\n    while (i &lt;= 100)\r\n    {\r\n        \r\n         if ( i % 5 == 0 &amp;&amp; i % 7 == 0)\r\n        {\r\n            System.out.println(i);\r\n            sum += i;\r\n        \r\n        }\r\n        \r\n        else if ( i % 5 == 0)\r\n        {\r\n            System.out.println(i);\r\n            sum += i;\r\n        \r\n        }   \r\n        else if ( i % 7 == 0)\r\n        {\r\n            System.out.println(i);\r\n            sum += i;\r\n        \r\n        }\r\n        \r\n      \r\n        \r\n        i++;      \r\n        \r\n    \r\n    }\r\n\r\n    //also print the total of the numbers being displayed\r\n    \r\n    System.out.println(&quot;the sum is: &quot; + sum);\r\n    \r\n    System.out.println(&quot;Bye, for now!&quot;);\r\n\r\n```","title":"How to avoid printing same number twice when printing values between 2 digits","body":"<p>Using &amp;&amp; operator to print the repeating numbers once and conditional operators to do the rest of the logic will help eventually.</p>\n<p>Try this code</p>\n<pre><code>int sum  = 0;\n    \nint i=1;        \n     \n    while (i &lt;= 100)\n    {\n        \n         if ( i % 5 == 0 &amp;&amp; i % 7 == 0)\n        {\n            System.out.println(i);\n            sum += i;\n        \n        }\n        \n        else if ( i % 5 == 0)\n        {\n            System.out.println(i);\n            sum += i;\n        \n        }   \n        else if ( i % 7 == 0)\n        {\n            System.out.println(i);\n            sum += i;\n        \n        }\n        \n      \n        \n        i++;      \n        \n    \n    }\n\n    //also print the total of the numbers being displayed\n    \n    System.out.println(&quot;the sum is: &quot; + sum);\n    \n    System.out.println(&quot;Bye, for now!&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":16580328,"reputation":1,"user_id":11981085,"display_name":"Sanskar W"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665982120,"creation_date":1665979459,"question_id":74092482,"body_markdown":"Newbie to Java, have an assignment for practice. We are trying to print all values between 1 and 100 that are divisible by 5 or 7. However, there are values that are divisible by 5 AND 7 that will print twice. Simplest way to avoid repeating numbers?\r\n\r\n\r\n\t\tint sum  = 0;\r\n\t\t\r\n\t\ti=1;\t\t\r\n\t\t \r\n\t\twhile (i &lt;= 100)\r\n\t\t{\r\n\t\t\t//need to update the value of sum by i\r\n\t\t\t//sum = sum + i;\r\n\t\t\t\r\n\t\t    \r\n\t\t\t/*if( i % 5 == 0 || i % 7 ==0 ) //if i is  divisible by 5 or 7, let us display i\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t\r\n\t\t\t}*/\r\n\t\t\t\r\n\t\t\tif ( i % 5 == 0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t\r\n\t\t\t}\t\r\n\t\t\tif ( i % 7 == 0)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( i % 5 == 0 || i % 7 == 0)\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tsum = sum + i;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//if ( i %\r\n\t\t\t\r\n\t\t\ti=i+1;\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t}\r\n\t\t//also print the total of the numbers being displayed\r\n\t\t\r\n\t\tint add;\r\n\t\tSystem.out.println(&quot;the sum is: &quot; + sum);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Bye, for now!&quot;);","title":"How to avoid printing same number twice when printing values between 2 digits","body":"<p>Newbie to Java, have an assignment for practice. We are trying to print all values between 1 and 100 that are divisible by 5 or 7. However, there are values that are divisible by 5 AND 7 that will print twice. Simplest way to avoid repeating numbers?</p>\n<pre><code>    int sum  = 0;\n    \n    i=1;        \n     \n    while (i &lt;= 100)\n    {\n        //need to update the value of sum by i\n        //sum = sum + i;\n        \n        \n        /*if( i % 5 == 0 || i % 7 ==0 ) //if i is  divisible by 5 or 7, let us display i\n        {\n            System.out.println(i);\n            \n        }*/\n        \n        if ( i % 5 == 0)\n        {\n            System.out.println(i);\n        \n        }   \n        if ( i % 7 == 0)\n        {\n            System.out.println(i);\n        \n        }\n        \n        if ( i % 5 == 0 || i % 7 == 0)\n        {\n            \n            sum = sum + i;\n        \n        }\n        \n        \n        \n        //if ( i %\n        \n        i=i+1;      \n        \n    \n    }\n    //also print the total of the numbers being displayed\n    \n    int add;\n    System.out.println(&quot;the sum is: &quot; + sum);\n    \n    System.out.println(&quot;Bye, for now!&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1665945179,"post_id":74089636,"comment_id":130812745,"body_markdown":"`&quot;FROM myTable +` is not valid java. Use `&quot;FROM myTable &quot; +` instead.","body":"<code>&quot;FROM myTable +</code> is not valid java. Use <code>&quot;FROM myTable &quot; +</code> instead."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1665946520,"post_id":74089636,"comment_id":130813056,"body_markdown":"what is the error ?","body":"what is the error ?"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665977571,"post_id":74089636,"comment_id":130817690,"body_markdown":"@KenChan`org.springframework.batch.item.ItemStreamException: Failed to initialize the reader` this is the error","body":"@KenChan<code>org.springframework.batch.item.ItemStreamException: Failed to initialize the reader</code> this is the error"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665977649,"post_id":74089636,"comment_id":130817701,"body_markdown":"@Grim ya correct, look like that some typo issue. I have updated.","body":"@Grim ya correct, look like that some typo issue. I have updated."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1665977900,"post_id":74089636,"comment_id":130817729,"body_markdown":"full stacktrack please. I need the stracktrace showing the root cause of the exception","body":"full stacktrack please. I need the stracktrace showing the root cause of the exception"},{"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"score":0,"creation_date":1665979715,"post_id":74089636,"comment_id":130817951,"body_markdown":"I have updated @KenChan this is some thing bad sql grammer.","body":"I have updated @KenChan this is some thing bad sql grammer."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1665980424,"post_id":74089636,"comment_id":130818028,"body_markdown":"okay .please see my answer. if my answer is useful to you to solve the problem. please accept my answer . and also consider to upvote it. thanks.","body":"okay .please see my answer. if my answer is useful to you to solve the problem. please accept my answer . and also consider to upvote it. thanks."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665980812,"creation_date":1665980373,"answer_id":74092547,"question_id":74089636,"body_markdown":"Apparently from the stack trace, the SQL \r\n\r\n```sql\r\nselect Stu_info FROM myTable where status = PASS\r\n```\r\n\r\nthat you configure for `QUERY_FIND_STUDENTS` has some syntax error. You need to check it against your DB schema for troubleshooting. \r\n\r\n\r\nFor example, does the table `myTable` really has the column `status` ? Or is it simply because you miss the single quote around the `PASS` value in the where clause ?\r\n\r\n----------\r\n\r\nUpdate : From David &#39;s feedback, it turns out that the problem is really because missing the single quote around the value `PASS`. So problem solved after he fixes the SQL to :\r\n\r\n```sql \r\n\r\nselect Stu_info FROM myTable where status = &#39;PASS&#39;\r\n```\r\n\r\n\r\n","title":"Failed to initialize the reader while running Spring Batch while reading from sql Table","body":"<p>Apparently from the stack trace, the SQL</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select Stu_info FROM myTable where status = PASS\n</code></pre>\n<p>that you configure for <code>QUERY_FIND_STUDENTS</code> has some syntax error. You need to check it against your DB schema for troubleshooting.</p>\n<p>For example, does the table <code>myTable</code> really has the column <code>status</code> ? Or is it simply because you miss the single quote around the <code>PASS</code> value in the where clause ?</p>\n<hr />\n<p>Update : From David 's feedback, it turns out that the problem is really because missing the single quote around the value <code>PASS</code>. So problem solved after he fixes the SQL to :</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nselect Stu_info FROM myTable where status = 'PASS'\n</code></pre>\n"}],"owner":{"account_id":8582865,"reputation":4145,"user_id":6474292,"accept_rate":56,"display_name":"David"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74092547,"answer_count":1,"score":1,"last_activity_date":1665980812,"creation_date":1665944175,"question_id":74089636,"body_markdown":"\r\n\r\nFailed to initialize the reader while running Spring Batch. \r\n\r\nI am running spring batch and what I need to read the data from the table and print that’s it. Now while I am running I am getting the error in reader. I have couple of approach but both is getting giving some error. \r\n\r\nHere is what I am trying in one of the approach. \r\n\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchConfing {\r\n    \r\n        private MyRepo myRepo;\r\n    \r\n        @Autowired\r\n        private JobBuilderFactory jbf;\r\n        static String str = “Pass”;\r\n        private static final String QUERY_FIND_STUDENTS =\r\n                &quot;select &quot; +\r\n                        “Stu_info” +\r\n                        &quot;FROM myTable &quot; +\r\n                        &quot;where status = &quot;+str;\r\n    \r\n        @Autowired\r\n        private DataSource dataSource;\r\n        @Bean\r\n        public ItemReader&lt;StudentDTO&gt; itemReader() {\r\n    \t\r\n    \t return new JdbcCursorItemReaderBuilder&lt;StudentDTO&gt;()\r\n                    .name(&quot;cursorItemReader&quot;)\r\n                    .dataSource(dataSource)\r\n                    .sql(QUERY_FIND_STUDENTS)\r\n                    .rowMapper(new BeanPropertyRowMapper&lt;&gt;(StudentDTO.class))\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public ItemWriter&lt;StudentDTO&gt; writer(){\r\n            return value -&gt; {\r\n                System.out.println(value.toString());\r\n    \r\n            };\r\n        }\r\n        @Bean\r\n        public JobExecutionListener listener() {\r\n            return new ScheduelListener();\r\n        }\r\n        @Autowired\r\n        private StepBuilderFactory sbf;\r\n    \r\n        @Bean\r\n        public Step stepA() {\r\n            return sbf.get(&quot;stepA&quot;)\r\n                    .&lt;StudentDTO,StudentDTO&gt;chunk(2)\r\n                    .reader(itemReader())\r\n                    .writer(writer())\r\n                    .build()\r\n                    ;\r\n        }\r\n    \r\n        @Bean\r\n        public Job jobA(){\r\n            return jbf.get(&quot;jobA&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .listener(listener())\r\n                    .start(stepA())\r\n                    .build()\r\n                    ;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNow I am getting Failed to initialize the reader. What am I missing here.\r\n\r\nStack Trace :\r\n\r\n  \r\n\r\n    Job started at: Mon Oct 17 09:33:01 IST 2022\r\n    Status of the Job: STARTED\r\n    2022-10-17 09:33:01.641  INFO 72998 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [stepA]\r\n    2022-10-17 09:33:03.476 ERROR 72998 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step stepA in job jobA\r\n    \r\n    org.springframework.batch.item.ItemStreamException: Failed to initialize the reader\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:153) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.item.support.CompositeItemStream.open(CompositeItemStream.java:104) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.step.tasklet.TaskletStep.open(TaskletStep.java:311) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:205) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy95.run(Unknown Source) ~[na:na]\r\n    \tat com..fsspringscheduler.batch.JobRunner.run(JobRunner.java:32) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\r\n    \tat com..fsspringscheduler.FsSqsSchedulerApplication.main(FsSqsSchedulerApplication.java:11) ~[classes/:na]\r\n    Caused by: org.springframework.jdbc.BadSqlGrammarException: Executing query; bad SQL grammar [select Stu_info FROM myTable where status = PASS]; nested exception is java.sql.SQLSyntaxErrorException: Unknown column &#39;PASS&#39; in &#39;where clause&#39;\r\n    \tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.23.jar:5.3.23]\r\n    \tat org.springframework.batch.item.database.AbstractCursorItemReader.translateSqlException(AbstractCursorItemReader.java:226) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:133) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:453) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:150) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \t... 26 common frames omitted\r\n    Caused by: java.sql.SQLSyntaxErrorException: Unknown column &#39;PASS&#39; in &#39;where clause&#39;\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-java-8.0.30.jar:8.0.30]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:128) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n    \t... 28 common frames omitted\r\n    \r\n    2022-10-17 09:33:03.584  INFO 72998 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [stepA] executed in 1s938ms\r\n    Job Ended at: Mon Oct 17 09:33:03 IST 2022\r\n    Status of the Job: FAILED\r\n    2022-10-17 09:33:04.000  INFO 72998 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=jobA]] completed with the following parameters: [{time=1665979379235}] and the following status: [FAILED] in 2s772ms\r\n    JOB Execution completed!\r\n    2022-10-17 09:33:04.128  INFO 72998 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-10-17 09:33:04.196  INFO 72998 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2022-10-17 09:33:04.294  INFO 72998 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    Disconnected from the target VM, address: &#39;127.0.0.1:54693&#39;, transport: &#39;socket&#39;","title":"Failed to initialize the reader while running Spring Batch while reading from sql Table","body":"<p>Failed to initialize the reader while running Spring Batch.</p>\n<p>I am running spring batch and what I need to read the data from the table and print that’s it. Now while I am running I am getting the error in reader. I have couple of approach but both is getting giving some error.</p>\n<p>Here is what I am trying in one of the approach.</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfing {\n\n    private MyRepo myRepo;\n\n    @Autowired\n    private JobBuilderFactory jbf;\n    static String str = “Pass”;\n    private static final String QUERY_FIND_STUDENTS =\n            &quot;select &quot; +\n                    “Stu_info” +\n                    &quot;FROM myTable &quot; +\n                    &quot;where status = &quot;+str;\n\n    @Autowired\n    private DataSource dataSource;\n    @Bean\n    public ItemReader&lt;StudentDTO&gt; itemReader() {\n    \n     return new JdbcCursorItemReaderBuilder&lt;StudentDTO&gt;()\n                .name(&quot;cursorItemReader&quot;)\n                .dataSource(dataSource)\n                .sql(QUERY_FIND_STUDENTS)\n                .rowMapper(new BeanPropertyRowMapper&lt;&gt;(StudentDTO.class))\n                .build();\n    }\n\n    @Bean\n    public ItemWriter&lt;StudentDTO&gt; writer(){\n        return value -&gt; {\n            System.out.println(value.toString());\n\n        };\n    }\n    @Bean\n    public JobExecutionListener listener() {\n        return new ScheduelListener();\n    }\n    @Autowired\n    private StepBuilderFactory sbf;\n\n    @Bean\n    public Step stepA() {\n        return sbf.get(&quot;stepA&quot;)\n                .&lt;StudentDTO,StudentDTO&gt;chunk(2)\n                .reader(itemReader())\n                .writer(writer())\n                .build()\n                ;\n    }\n\n    @Bean\n    public Job jobA(){\n        return jbf.get(&quot;jobA&quot;)\n                .incrementer(new RunIdIncrementer())\n                .listener(listener())\n                .start(stepA())\n                .build()\n                ;\n    }\n\n}\n</code></pre>\n<p>Now I am getting Failed to initialize the reader. What am I missing here.</p>\n<p>Stack Trace :</p>\n<pre><code>Job started at: Mon Oct 17 09:33:01 IST 2022\nStatus of the Job: STARTED\n2022-10-17 09:33:01.641  INFO 72998 --- [           main] o.s.batch.core.job.SimpleStepHandler     : Executing step: [stepA]\n2022-10-17 09:33:03.476 ERROR 72998 --- [           main] o.s.batch.core.step.AbstractStep         : Encountered an error executing step stepA in job jobA\n\norg.springframework.batch.item.ItemStreamException: Failed to initialize the reader\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:153) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    at org.springframework.batch.item.support.CompositeItemStream.open(CompositeItemStream.java:104) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.step.tasklet.TaskletStep.open(TaskletStep.java:311) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:205) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:152) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:413) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:136) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:320) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:149) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.3.23.jar:5.3.23]\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:140) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128) ~[spring-batch-core-4.3.7.jar:4.3.7]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\n    at jdk.proxy2/jdk.proxy2.$Proxy95.run(Unknown Source) ~[na:na]\n    at com..fsspringscheduler.batch.JobRunner.run(JobRunner.java:32) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com..fsspringscheduler.FsSqsSchedulerApplication.main(FsSqsSchedulerApplication.java:11) ~[classes/:na]\nCaused by: org.springframework.jdbc.BadSqlGrammarException: Executing query; bad SQL grammar [select Stu_info FROM myTable where status = PASS]; nested exception is java.sql.SQLSyntaxErrorException: Unknown column 'PASS' in 'where clause'\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239) ~[spring-jdbc-5.3.23.jar:5.3.23]\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70) ~[spring-jdbc-5.3.23.jar:5.3.23]\n    at org.springframework.batch.item.database.AbstractCursorItemReader.translateSqlException(AbstractCursorItemReader.java:226) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    at org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:133) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    at org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:453) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:150) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    ... 26 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: Unknown column 'PASS' in 'where clause'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-java-8.0.30.jar:8.0.30]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:128) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n    ... 28 common frames omitted\n\n2022-10-17 09:33:03.584  INFO 72998 --- [           main] o.s.batch.core.step.AbstractStep         : Step: [stepA] executed in 1s938ms\nJob Ended at: Mon Oct 17 09:33:03 IST 2022\nStatus of the Job: FAILED\n2022-10-17 09:33:04.000  INFO 72998 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=jobA]] completed with the following parameters: [{time=1665979379235}] and the following status: [FAILED] in 2s772ms\nJOB Execution completed!\n2022-10-17 09:33:04.128  INFO 72998 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-10-17 09:33:04.196  INFO 72998 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-10-17 09:33:04.294  INFO 72998 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\nDisconnected from the target VM, address: '127.0.0.1:54693', transport: 'socket'\n</code></pre>\n"},{"tags":["java","c++","swig","unique-ptr"],"comments":[{"owner":{"account_id":510588,"reputation":4068,"user_id":2462437,"accept_rate":100,"display_name":"Daniel McLaury"},"score":0,"creation_date":1665987734,"post_id":74092503,"comment_id":130819097,"body_markdown":"That&#39;s not actual code because C++ syntax doesn&#39;t work that way, but if you were to correct the syntax there&#39;s otherwise nothing wrong with this code.  The fact that you&#39;ve truncated the error message to the point that we can&#39;t see what function it&#39;s talking about also doesn&#39;t help.  Show the real code, or a minimal reproduceable example.","body":"That&#39;s not actual code because C++ syntax doesn&#39;t work that way, but if you were to correct the syntax there&#39;s otherwise nothing wrong with this code.  The fact that you&#39;ve truncated the error message to the point that we can&#39;t see what function it&#39;s talking about also doesn&#39;t help.  Show the real code, or a minimal reproduceable example."},{"owner":{"account_id":56144,"reputation":87639,"user_id":168175,"accept_rate":88,"display_name":"Flexo"},"score":0,"creation_date":1667118307,"post_id":74092503,"comment_id":131091498,"body_markdown":"Other than the demo I don&#39;t think there&#39;s anything python specific here https://stackoverflow.com/questions/27693812/how-to-handle-unique-ptrs-with-swig#27699663","body":"Other than the demo I don&#39;t think there&#39;s anything python specific here <a href=\"https://stackoverflow.com/questions/27693812/how-to-handle-unique-ptrs-with-swig#27699663\" title=\"how to handle unique ptrs with swig%2327699663\">stackoverflow.com/questions/27693812/&hellip;</a>"}],"owner":{"account_id":26146780,"reputation":1,"user_id":19835289,"display_name":"when"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665979848,"creation_date":1665979719,"question_id":74092503,"body_markdown":"I have a C++ class:\r\n```\r\nnamespace kinsdb {\r\n   class Client : \r\n     public:\r\n      virtual std::unique_ptr&lt;Transaction&gt; StartTransaction(const TransactionOptions&amp; opts) = 0;\r\n      virtual std::unique_ptr&lt;Transaction&gt; StartTransaction() { return StartTransaction(kDefaultTransactionOptions); }\r\n}\r\n```\r\nI want to change C++ code to Java code with SWIG. \r\nWhat can I do to deal with std::unique_ptr&lt;Transaction&gt; pointer??\r\n\r\n```\r\nerror: use of deleted function &#39;std::unique_ptr&lt;\r\n\r\n```","title":"How to handle unique_ptr&#39;s with SWIG in Java","body":"<p>I have a C++ class:</p>\n<pre><code>namespace kinsdb {\n   class Client : \n     public:\n      virtual std::unique_ptr&lt;Transaction&gt; StartTransaction(const TransactionOptions&amp; opts) = 0;\n      virtual std::unique_ptr&lt;Transaction&gt; StartTransaction() { return StartTransaction(kDefaultTransactionOptions); }\n}\n</code></pre>\n<p>I want to change C++ code to Java code with SWIG.\nWhat can I do to deal with std::unique_ptr pointer??</p>\n<pre><code>error: use of deleted function 'std::unique_ptr&lt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","junit","spring-security"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665979289,"creation_date":1665976758,"answer_id":74092284,"question_id":74092157,"body_markdown":"Several ways to do it such as using `UserRequestPostProcessor` or `@WithMockUser` / `@WithUserDetails` or even a customised `@WithXXXXUser`. Refer to the [docs][1] for more details.\r\n\r\nFor example, using `UserRequestPostProcessor` as follows should solve your problem:\r\n\r\n```java\r\n  mvc.perform(MockMvcRequestBuilders\r\n     .put(&quot;/api/users/information&quot;)\r\n     .with(user(&quot;someUserName&quot;))\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/authentication.html","title":"How to write unit test for Spring Boot Controller if it required user name which was got from Security Context Holder?","body":"<p>Several ways to do it such as using <code>UserRequestPostProcessor</code> or <code>@WithMockUser</code> / <code>@WithUserDetails</code> or even a customised <code>@WithXXXXUser</code>. Refer to the <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/authentication.html\" rel=\"nofollow noreferrer\">docs</a> for more details.</p>\n<p>For example, using <code>UserRequestPostProcessor</code> as follows should solve your problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  mvc.perform(MockMvcRequestBuilders\n     .put(&quot;/api/users/information&quot;)\n     .with(user(&quot;someUserName&quot;))\n\n</code></pre>\n"}],"owner":{"account_id":26644189,"reputation":33,"user_id":20259350,"display_name":"Monach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665979289,"creation_date":1665975201,"question_id":74092157,"body_markdown":"I want to write a unit to allow users to change their personal Information. However, I don&#39;t know how to include the Security Context Holder mock into Unit Test. Especially, it is required to extract the user name which was used to find the User Information by query commands in User Repository. Thanks so much for your support.\r\n\r\nNote:\r\nI have successfully sent this edit Information API by using Postman before but it required you have login first and using Bearer JWT to edit user&#39;s information.\r\n\r\nBelow is my Unit Test:\r\n```\r\n @Test\r\n    public void whenSendRequestToModifyUserInformation_returnUserWithNewInformation () throws Exception {\r\n\r\n        String userName = &quot;thanhnghi&quot;;\r\n        InformationRespondDTO informationRespondDTO = mock(InformationRespondDTO.class);\r\n        Information information = mock(Information.class);\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        ModifyUserRequestDTO modifyUserRequestDTO =\r\n                ModifyUserRequestDTO.builder()\r\n                        .dateOfBirth(new Date())\r\n                        .firstName(&quot;Martin&quot;)\r\n                        .lastName(&quot;Charlie&quot;)\r\n                        .address(&quot;12 Washington District&quot;)\r\n                        .phoneNumber(&quot;0794562342&quot;)\r\n                        .email(&quot;martinCharlie@gmail.com&quot;).build();\r\n        ;\r\n        when(informationService.update(modifyUserRequestDTO)).thenReturn(information);\r\n        when(informationMapper.toDTO(information)).thenReturn(informationRespondDTO);\r\n\r\n        mvc.perform(MockMvcRequestBuilders.put(&quot;/api/users/information&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(modifyUserRequestDTO))\r\n        )\r\n                .andExpect(status().isOk())\r\n                .andDo(print());\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my Service:\r\n```\r\n@Override\r\n    public Information update(ModifyUserRequestDTO modifyUserRequestDTO) {\r\n        String userName = userLocal.getLocalUserName();\r\n        Users users = this.userService.findByUserName(userName);\r\n        Information information = informationMapper.toExistedInformation(modifyUserRequestDTO, users.getInformation());\r\n        return this.informationRepository.save(information);\r\n    }\r\n```\r\n\r\nAnd this is my ModifyRequestDTO:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ModifyUserRequestDTO {\r\n\r\n\r\n    @NotNull(message = &quot;date of birth is required&quot;)\r\n    private Date dateOfBirth;\r\n\r\n    @Pattern(regexp = &quot;[A-Za-z]+&quot;, message = &quot;First name cannot be number or special characters&quot;)\r\n    @NotNull(message = &quot;First name cannot be null&quot;)\r\n    private String firstName;\r\n\r\n    @Pattern(regexp = &quot;[A-Za-z]+&quot;, message = &quot;Last name cannot be number or special characters&quot;)\r\n    @NotNull(message = &quot;Last name is required&quot;)\r\n    @NotEmpty(message = &quot;Last name must not be empty&quot;)\r\n    private String lastName;\r\n\r\n    @NotNull(message = &quot;Address is required&quot;)\r\n    @NotEmpty(message = &quot;Address must not be empty&quot;)\r\n    private String address;\r\n\r\n    @Size(min = 10, max = 11, message = &quot;Phone number must has at least 11 characters and no more&quot;)\r\n    @NotNull(message = &quot;phone number is required&quot;)\r\n    @NotEmpty(message = &quot;phone number must not be empty&quot;)\r\n    private String phoneNumber;\r\n\r\n//    @Pattern(regexp = &quot;[A-Za-z0-9]+@[a-zA-Z0-9]{6}&quot;, message = &quot;Invalid Email Address&quot;)\r\n    @Email(message = &quot;Invalid Email Address&quot;)\r\n    @NotNull(message = &quot;email is required&quot;)\r\n    @NotEmpty(message = &quot;email must not be empty&quot;)\r\n    private String email;\r\n}\r\n```\r\n\r\nComponent to handle Security Context Holder to look for userName:\r\n```\r\n@Component\r\npublic class UserLocal {\r\n    public String getLocalUserName(){\r\n        String userName = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\r\n        if(userName == null){\r\n            throw new ResourceNotFoundException(&quot;You haven&#39;t Login !!!&quot;);\r\n        }\r\n        return userName;\r\n    }\r\n}\r\n```\r\n\r\nAnd finally UserController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\n@CrossOrigin(maxAge = 3600, origins = &quot;*&quot;)\r\npublic class UserController {\r\n\r\n    UserService userService;\r\n    InformationService informationService;\r\n    InformationMapper informationMapper;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService,   InformationService informationService, InformationMapper informationMapper) {\r\n        this.userService = userService;\r\n        this.informationService = informationService;\r\n        this.informationMapper = informationMapper;\r\n    }\r\n\r\n    @PutMapping (&quot;/information&quot; )\r\n    public InformationRespondDTO modifyInformation(@RequestBody @Valid ModifyUserRequestDTO modifyUserRequestDTO){\r\n        Information information =  this.informationService.update(modifyUserRequestDTO);\r\n        return informationMapper.toDTO(information);\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my error log:\r\n\r\n```\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;400&gt;\r\nExpected :200\r\nActual   :400\r\n```\r\n","title":"How to write unit test for Spring Boot Controller if it required user name which was got from Security Context Holder?","body":"<p>I want to write a unit to allow users to change their personal Information. However, I don't know how to include the Security Context Holder mock into Unit Test. Especially, it is required to extract the user name which was used to find the User Information by query commands in User Repository. Thanks so much for your support.</p>\n<p>Note:\nI have successfully sent this edit Information API by using Postman before but it required you have login first and using Bearer JWT to edit user's information.</p>\n<p>Below is my Unit Test:</p>\n<pre><code> @Test\n    public void whenSendRequestToModifyUserInformation_returnUserWithNewInformation () throws Exception {\n\n        String userName = &quot;thanhnghi&quot;;\n        InformationRespondDTO informationRespondDTO = mock(InformationRespondDTO.class);\n        Information information = mock(Information.class);\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        ModifyUserRequestDTO modifyUserRequestDTO =\n                ModifyUserRequestDTO.builder()\n                        .dateOfBirth(new Date())\n                        .firstName(&quot;Martin&quot;)\n                        .lastName(&quot;Charlie&quot;)\n                        .address(&quot;12 Washington District&quot;)\n                        .phoneNumber(&quot;0794562342&quot;)\n                        .email(&quot;martinCharlie@gmail.com&quot;).build();\n        ;\n        when(informationService.update(modifyUserRequestDTO)).thenReturn(information);\n        when(informationMapper.toDTO(information)).thenReturn(informationRespondDTO);\n\n        mvc.perform(MockMvcRequestBuilders.put(&quot;/api/users/information&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(modifyUserRequestDTO))\n        )\n                .andExpect(status().isOk())\n                .andDo(print());\n    }\n}\n</code></pre>\n<p>And this is my Service:</p>\n<pre><code>@Override\n    public Information update(ModifyUserRequestDTO modifyUserRequestDTO) {\n        String userName = userLocal.getLocalUserName();\n        Users users = this.userService.findByUserName(userName);\n        Information information = informationMapper.toExistedInformation(modifyUserRequestDTO, users.getInformation());\n        return this.informationRepository.save(information);\n    }\n</code></pre>\n<p>And this is my ModifyRequestDTO:</p>\n<pre><code>@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ModifyUserRequestDTO {\n\n\n    @NotNull(message = &quot;date of birth is required&quot;)\n    private Date dateOfBirth;\n\n    @Pattern(regexp = &quot;[A-Za-z]+&quot;, message = &quot;First name cannot be number or special characters&quot;)\n    @NotNull(message = &quot;First name cannot be null&quot;)\n    private String firstName;\n\n    @Pattern(regexp = &quot;[A-Za-z]+&quot;, message = &quot;Last name cannot be number or special characters&quot;)\n    @NotNull(message = &quot;Last name is required&quot;)\n    @NotEmpty(message = &quot;Last name must not be empty&quot;)\n    private String lastName;\n\n    @NotNull(message = &quot;Address is required&quot;)\n    @NotEmpty(message = &quot;Address must not be empty&quot;)\n    private String address;\n\n    @Size(min = 10, max = 11, message = &quot;Phone number must has at least 11 characters and no more&quot;)\n    @NotNull(message = &quot;phone number is required&quot;)\n    @NotEmpty(message = &quot;phone number must not be empty&quot;)\n    private String phoneNumber;\n\n//    @Pattern(regexp = &quot;[A-Za-z0-9]+@[a-zA-Z0-9]{6}&quot;, message = &quot;Invalid Email Address&quot;)\n    @Email(message = &quot;Invalid Email Address&quot;)\n    @NotNull(message = &quot;email is required&quot;)\n    @NotEmpty(message = &quot;email must not be empty&quot;)\n    private String email;\n}\n</code></pre>\n<p>Component to handle Security Context Holder to look for userName:</p>\n<pre><code>@Component\npublic class UserLocal {\n    public String getLocalUserName(){\n        String userName = SecurityContextHolder.getContext().getAuthentication().getName();\n\n        if(userName == null){\n            throw new ResourceNotFoundException(&quot;You haven't Login !!!&quot;);\n        }\n        return userName;\n    }\n}\n</code></pre>\n<p>And finally UserController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/users&quot;)\n@CrossOrigin(maxAge = 3600, origins = &quot;*&quot;)\npublic class UserController {\n\n    UserService userService;\n    InformationService informationService;\n    InformationMapper informationMapper;\n\n    @Autowired\n    public UserController(UserService userService,   InformationService informationService, InformationMapper informationMapper) {\n        this.userService = userService;\n        this.informationService = informationService;\n        this.informationMapper = informationMapper;\n    }\n\n    @PutMapping (&quot;/information&quot; )\n    public InformationRespondDTO modifyInformation(@RequestBody @Valid ModifyUserRequestDTO modifyUserRequestDTO){\n        Information information =  this.informationService.update(modifyUserRequestDTO);\n        return informationMapper.toDTO(information);\n    }\n}\n</code></pre>\n<p>And this is my error log:</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;400&gt;\nExpected :200\nActual   :400\n</code></pre>\n"},{"tags":["java","eclipse","maven","log4j2"],"comments":[{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":1,"creation_date":1441263193,"post_id":32368758,"comment_id":52609335,"body_markdown":"You probably have a dependency crash, with one of your dependencies having a transitive dependency to log4j 1.x. Use `mvn dependency:tree`to find the culprit. Also, see http://stackoverflow.com/questions/26338387/unexpected-exception-java-lang-noclassdeffounderror-org-apache-log4j-logmanage","body":"You probably have a dependency crash, with one of your dependencies having a transitive dependency to log4j 1.x. Use <code>mvn dependency:tree</code>to find the culprit. Also, see <a href=\"http://stackoverflow.com/questions/26338387/unexpected-exception-java-lang-noclassdeffounderror-org-apache-log4j-logmanage\" title=\"unexpected exception java lang noclassdeffounderror org apache log4j logmanage\">stackoverflow.com/questions/26338387/&hellip;</a>"},{"owner":{"account_id":63249,"reputation":5185,"user_id":187343,"display_name":"Amila"},"score":1,"creation_date":1441263199,"post_id":32368758,"comment_id":52609342,"body_markdown":"You need to have the log4j jar in your class path. How are you executing your application?","body":"You need to have the log4j jar in your class path. How are you executing your application?"},{"owner":{"account_id":1120283,"reputation":941,"user_id":1108763,"accept_rate":83,"display_name":"Pabi"},"score":0,"creation_date":1441263470,"post_id":32368758,"comment_id":52609502,"body_markdown":"Is there a way to do `mvn dependency:tree` in eclipse? I have not installed maven for commandline use, just using it in eclipse. I have added log4j-cire(2.3) and log4j-api(2.3) as dependencys in my pom.xml.  I run it from the commandline with `java -har myApplication.jar`","body":"Is there a way to do <code>mvn dependency:tree</code> in eclipse? I have not installed maven for commandline use, just using it in eclipse. I have added log4j-cire(2.3) and log4j-api(2.3) as dependencys in my pom.xml.  I run it from the commandline with <code>java -har myApplication.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1441263922,"creation_date":1441263615,"answer_id":32368955,"question_id":32368758,"body_markdown":"When you are running your application jar from command line your dependent jar are not available at runtime. You need to include any of these two plugins to pom.xml so have your dependencies available at runtime.\r\n\r\nUsing: maven-shade-plugin\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                      &lt;mainClass&gt;org.sonatype.haven.HavenCli&lt;/mainClass&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n\r\nUsing:maven-dependency-plugin\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                 &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                 &lt;phase&gt;package&lt;/phase&gt;\r\n                 &lt;goals&gt;\r\n                     &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                 &lt;/goals&gt;\r\n                 &lt;configuration&gt;\r\n                     &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                 &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhen you will execute the `mvn package` it will generate uber jar / or copy the dependencies to outputDirectory. I will prefer maven-shade-plugin to generate one jar will all dependencies.","title":"log4j2 java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager","body":"<p>When you are running your application jar from command line your dependent jar are not available at runtime. You need to include any of these two plugins to pom.xml so have your dependencies available at runtime.</p>\n\n<p>Using: maven-shade-plugin</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;org.sonatype.haven.HavenCli&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n</code></pre>\n\n<p>Using:maven-dependency-plugin</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.8&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n             &lt;id&gt;copy-dependencies&lt;/id&gt;\n             &lt;phase&gt;package&lt;/phase&gt;\n             &lt;goals&gt;\n                 &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n             &lt;/goals&gt;\n             &lt;configuration&gt;\n                 &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n             &lt;/configuration&gt;\n        &lt;/execution&gt;\n     &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>When you will execute the <code>mvn package</code> it will generate uber jar / or copy the dependencies to outputDirectory. I will prefer maven-shade-plugin to generate one jar will all dependencies.</p>\n"},{"tags":[],"owner":{"account_id":16339396,"reputation":1,"user_id":11800640,"display_name":"user11800640"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1563423950,"creation_date":1563419952,"answer_id":57086655,"question_id":32368758,"body_markdown":"Install the latest version of `log4j` *(I have installed `log4j-2.3.jar`)*. \r\n\r\nAnd follow the below steps:\r\n\r\n- Right click project -&gt; Build path -&gt; Libraries -&gt; Add External Jars -&gt; Include Log4j, Log4j core and Log4j api jars.\r\n\r\n\r\nIt worked for me","title":"log4j2 java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager","body":"<p>Install the latest version of <code>log4j</code> <em>(I have installed <code>log4j-2.3.jar</code>)</em>. </p>\n\n<p>And follow the below steps:</p>\n\n<ul>\n<li>Right click project -> Build path -> Libraries -> Add External Jars -> Include Log4j, Log4j core and Log4j api jars.</li>\n</ul>\n\n<p>It worked for me</p>\n"},{"tags":[],"owner":{"account_id":23558641,"reputation":11,"user_id":17600287,"display_name":"Satish Chodisetti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638771827,"creation_date":1638771827,"answer_id":70241545,"question_id":32368758,"body_markdown":"Please add jar files to class path in library, it worked for me ","title":"log4j2 java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager","body":"<p>Please add jar files to class path in library, it worked for me</p>\n"}],"owner":{"account_id":1120283,"reputation":941,"user_id":1108763,"accept_rate":83,"display_name":"Pabi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53075,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":32368955,"answer_count":3,"score":13,"last_activity_date":1665977305,"creation_date":1441262918,"question_id":32368758,"body_markdown":"I am using log4j 2.3 in my java application. I added the dependency via maven.  \r\nWhen running the program in eclipse everything work fine, but when I package it with maven and try to run the jar I get the following error:  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache logging/log4j/LogManager\r\n        at main.myclass.&lt;clinit&gt;(myclass.java:11)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager \r\n\r\n\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n\r\nWhy is it not able to find the class while running it from a jar?\r\n\r\nAdding `log4j 1.2` did not work either. The program is running fine in eclipse so there should be no missing dependency.","title":"log4j2 java.lang.NoClassDefFoundError: org/apache/logging/log4j/LogManager","body":"<p>I am using log4j 2.3 in my java application. I added the dependency via maven.<br>\nWhen running the program in eclipse everything work fine, but when I package it with maven and try to run the jar I get the following error:  </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache logging/log4j/LogManager\n    at main.myclass.&lt;clinit&gt;(myclass.java:11)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager \n\n\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 1 more\n</code></pre>\n\n<p>Why is it not able to find the class while running it from a jar?</p>\n\n<p>Adding <code>log4j 1.2</code> did not work either. The program is running fine in eclipse so there should be no missing dependency.</p>\n"},{"tags":["java","azure-functions","azure-eventhub"],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665977122,"creation_date":1665977122,"answer_id":74092312,"question_id":73988725,"body_markdown":"I have reproduced the code by passing **datatype** parameter of EventHubTrigger as ```dataType = &quot;%dataType%&quot;```.\r\n\r\n1. Defined dataType=&quot;string&quot; in local.settings.json:\r\n![enter image description here](https://i.stack.imgur.com/xOlZp.png)\r\n\r\n2. I tried passing parameter as ```dataType = &quot;%dataType%&quot;```in EventHubTrigger.java, got the below error.\r\n![enter image description here](https://i.stack.imgur.com/X0bUs.png)\r\n\r\n3. when we run the code, the value is getting stored as dataType=&quot;%dataType%&quot; in **function.json:** instead of the type of data(i.e., string) which we are passing in local.settings.json as shown below.\r\n![enter image description here](https://i.stack.imgur.com/nvL61.png)\r\n\r\n- **Try below code:**\r\n\r\n4. Instead, I tried to pass **dataType=&quot;string&quot;** as parameter in eventtrigger.java and got the expected result. \r\n\r\n\t**EventHubTrigger.java:**\r\n\t```public  class  EventHubTriggerJava1 {\r\n\t@FunctionName(&quot;EventHubTriggerJava1&quot;)\r\n\r\n\tpublic  void  run(\r\n\r\n\t@EventHubTrigger(name = &quot;message&quot;, eventHubName = &quot;kpeventhub&quot;, connection = &quot;EventHubNSkp_RootManageSharedAccessKey_EVENTHUB&quot;, consumerGroup = &quot;$Default&quot;, cardinality = Cardinality.MANY,dataType = &quot;string&quot;) List&lt;String&gt; message,\r\n\r\n\tfinal  ExecutionContext  context\r\n\r\n\t) {\r\n\r\n\tcontext.getLogger().info(&quot;Java Event Hub trigger function executed.&quot;);\r\n\r\n\tcontext.getLogger().info(&quot;Length:&quot; + message.size());\r\n\r\n\tmessage.forEach(singleMessage  -&gt; context.getLogger().info(singleMessage));\r\n\r\n\t}\r\n\r\n\t}\r\n\t```\r\n5. Executing the function locally by providing request body:\r\n![enter image description here](https://i.stack.imgur.com/9pkRr.png)\r\n\r\n![enter image description here](https://i.stack.imgur.com/QJ4gT.png)\r\n\r\n  **Output:**\r\n\r\n![enter image description here](https://i.stack.imgur.com/UmMAC.png)","title":"How to configure dataType parameter of @EventHubTrigger?","body":"<p>I have reproduced the code by passing <strong>datatype</strong> parameter of EventHubTrigger as <code>dataType = &quot;%dataType%&quot;</code>.</p>\n<ol>\n<li><p>Defined dataType=&quot;string&quot; in local.settings.json:\n<img src=\"https://i.stack.imgur.com/xOlZp.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>I tried passing parameter as <code>dataType = &quot;%dataType%&quot;</code>in EventHubTrigger.java, got the below error.\n<img src=\"https://i.stack.imgur.com/X0bUs.png\" alt=\"enter image description here\" /></p>\n</li>\n<li><p>when we run the code, the value is getting stored as dataType=&quot;%dataType%&quot; in <strong>function.json:</strong> instead of the type of data(i.e., string) which we are passing in local.settings.json as shown below.\n<img src=\"https://i.stack.imgur.com/nvL61.png\" alt=\"enter image description here\" /></p>\n</li>\n</ol>\n<ul>\n<li><strong>Try below code:</strong></li>\n</ul>\n<ol start=\"4\">\n<li><p>Instead, I tried to pass <strong>dataType=&quot;string&quot;</strong> as parameter in eventtrigger.java and got the expected result.</p>\n<p><strong>EventHubTrigger.java:</strong></p>\n<pre><code>@FunctionName(&quot;EventHubTriggerJava1&quot;)\n\npublic  void  run(\n\n@EventHubTrigger(name = &quot;message&quot;, eventHubName = &quot;kpeventhub&quot;, connection = &quot;EventHubNSkp_RootManageSharedAccessKey_EVENTHUB&quot;, consumerGroup = &quot;$Default&quot;, cardinality = Cardinality.MANY,dataType = &quot;string&quot;) List&lt;String&gt; message,\n\nfinal  ExecutionContext  context\n\n) {\n\ncontext.getLogger().info(&quot;Java Event Hub trigger function executed.&quot;);\n\ncontext.getLogger().info(&quot;Length:&quot; + message.size());\n\nmessage.forEach(singleMessage  -&gt; context.getLogger().info(singleMessage));\n\n}\n\n}\n</code></pre>\n</li>\n<li><p>Executing the function locally by providing request body:\n<img src=\"https://i.stack.imgur.com/9pkRr.png\" alt=\"enter image description here\" /></p>\n</li>\n</ol>\n<p><img src=\"https://i.stack.imgur.com/QJ4gT.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/UmMAC.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":5356270,"reputation":723,"user_id":4702296,"accept_rate":76,"display_name":"dev333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665977122,"creation_date":1665153034,"question_id":73988725,"body_markdown":"I&#39;m trying to configure dataType parameter of EventHubTrigger. I will be configuring dataType parameter as binary in function app configuration.\r\n\r\nMycode:\r\n \r\n\r\n    @FunctionName(&quot;EventHubProcessor&quot;)\r\n        public void run(\r\n                @EventHubTrigger(name = &quot;message&quot;, eventHubName = &quot;%EventhubName%&quot;, connection = &quot;AzureWebJobsEventHubSender&quot;, consumerGroup = &quot;%ConsumerGroup_Name%&quot;,dataType = &quot;%dataType%&quot;, cardinality = Cardinality.MANY) List&lt;String&gt; messages,\r\n                final ExecutionContext context\r\n        )\r\n\r\nI&#39;m trying in the above way. Is it the right way of configuring dataType? \r\nCan anyone suggest on the same ?\r\n","title":"How to configure dataType parameter of @EventHubTrigger?","body":"<p>I'm trying to configure dataType parameter of EventHubTrigger. I will be configuring dataType parameter as binary in function app configuration.</p>\n<p>Mycode:</p>\n<pre><code>@FunctionName(&quot;EventHubProcessor&quot;)\n    public void run(\n            @EventHubTrigger(name = &quot;message&quot;, eventHubName = &quot;%EventhubName%&quot;, connection = &quot;AzureWebJobsEventHubSender&quot;, consumerGroup = &quot;%ConsumerGroup_Name%&quot;,dataType = &quot;%dataType%&quot;, cardinality = Cardinality.MANY) List&lt;String&gt; messages,\n            final ExecutionContext context\n    )\n</code></pre>\n<p>I'm trying in the above way. Is it the right way of configuring dataType?\nCan anyone suggest on the same ?</p>\n"},{"tags":["java","unit-testing","lambda","mockito"],"comments":[{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1548787918,"post_id":54328867,"comment_id":95665701,"body_markdown":"Should the cast be to (Supplier&lt;String&gt;) instead of (Supplier) that may well remove the need of the explicit ```new``` invocation. Or perhaps try ```Mockito.&lt;Supplier&lt;String&gt;&gt;spy(...)```","body":"Should the cast be to (Supplier&lt;String&gt;) instead of (Supplier) that may well remove the need of the explicit <code>new</code> invocation. Or perhaps try <code>Mockito.&lt;Supplier&lt;String&gt;&gt;spy(...)</code>"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1622049751,"post_id":54328867,"comment_id":119680986,"body_markdown":"You should add the anonymous option as an answer, I&#39;d vote for it :)","body":"You should add the anonymous option as an answer, I&#39;d vote for it :)"}],"answers":[{"tags":[],"owner":{"account_id":459063,"reputation":3963,"user_id":859314,"display_name":"Alex Objelean"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1665976569,"creation_date":1548251680,"answer_id":54328868,"question_id":54328867,"body_markdown":"\r\nAnother way of dealing with this issue is the following:\r\n\r\n    /**\r\n     * This method overcomes the issue with the original Mockito.spy when passing a lambda which fails with an error\r\n     * saying that the passed class is final.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    static &lt;T, P extends T&gt; P spyLambda(Class&lt;T&gt; lambdaType, P lambda) {\r\n        return (P) mock(lambdaType, delegatesTo(lambda));\r\n    }\r\n\r\nWhich allows spying the lambda by changing the first method as following:\r\n\r\n\r\n    @Test\r\n    void spyingLambda() {\r\n        Supplier&lt;String&gt; spy = spyLambda(Supplier.class, () -&gt; &quot;1&quot;);\r\n        spy.get();\r\n    }\r\n\r\nHopefully the above examples might help others who encounter the same issue.","title":"Spying a lambda with mockito","body":"<p>Another way of dealing with this issue is the following:</p>\n<pre><code>/**\n * This method overcomes the issue with the original Mockito.spy when passing a lambda which fails with an error\n * saying that the passed class is final.\n */\n@SuppressWarnings(&quot;unchecked&quot;)\nstatic &lt;T, P extends T&gt; P spyLambda(Class&lt;T&gt; lambdaType, P lambda) {\n    return (P) mock(lambdaType, delegatesTo(lambda));\n}\n</code></pre>\n<p>Which allows spying the lambda by changing the first method as following:</p>\n<pre><code>@Test\nvoid spyingLambda() {\n    Supplier&lt;String&gt; spy = spyLambda(Supplier.class, () -&gt; &quot;1&quot;);\n    spy.get();\n}\n</code></pre>\n<p>Hopefully the above examples might help others who encounter the same issue.</p>\n"},{"tags":[],"owner":{"account_id":3746374,"reputation":3934,"user_id":3114959,"accept_rate":64,"display_name":"Stepan Vavra"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585136515,"creation_date":1585136515,"answer_id":60848141,"question_id":54328867,"body_markdown":"Just for the reference, to improve @alex&#39;s answer, you can also do \r\n```\r\npublic static &lt;T&gt; T spyLambda(final T lambda) {\r\n    Class&lt;?&gt;[] interfaces = lambda.getClass().getInterfaces();\r\n    MatcherAssert.assertThat(interfaces, IsArrayWithSize.arrayWithSize(1));\r\n    return Mockito.mock((Class&lt;T&gt;) interfaces[0], delegatesTo(lambda));\r\n}\r\n```\r\nand then simply spy it without specifying the type (e.g., `Supplier.class`)\r\n```\r\nCallable&lt;Integer&gt; callable = spyLambda(() -&gt; {\r\n    return 42;\r\n});\r\nSupplier&lt;Integer&gt; supplier = spyLambda(() -&gt; 42);\r\nRunnable runnable = spyLambda(() -&gt; System.out.println(&quot;42&quot;));\r\n\r\n```","title":"Spying a lambda with mockito","body":"<p>Just for the reference, to improve @alex's answer, you can also do </p>\n\n<pre><code>public static &lt;T&gt; T spyLambda(final T lambda) {\n    Class&lt;?&gt;[] interfaces = lambda.getClass().getInterfaces();\n    MatcherAssert.assertThat(interfaces, IsArrayWithSize.arrayWithSize(1));\n    return Mockito.mock((Class&lt;T&gt;) interfaces[0], delegatesTo(lambda));\n}\n</code></pre>\n\n<p>and then simply spy it without specifying the type (e.g., <code>Supplier.class</code>)</p>\n\n<pre><code>Callable&lt;Integer&gt; callable = spyLambda(() -&gt; {\n    return 42;\n});\nSupplier&lt;Integer&gt; supplier = spyLambda(() -&gt; 42);\nRunnable runnable = spyLambda(() -&gt; System.out.println(\"42\"));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4570795,"reputation":3159,"user_id":3710542,"accept_rate":50,"display_name":"Marthym"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607113485,"creation_date":1607113485,"answer_id":65150235,"question_id":54328867,"body_markdown":"You can allow final class mocking. Create file `src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker` containing \r\n\r\n    mock-maker-inline\r\n\r\nhttps://www.baeldung.com/mockito-final#configure-mocktio","title":"Spying a lambda with mockito","body":"<p>You can allow final class mocking. Create file <code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker</code> containing</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p><a href=\"https://www.baeldung.com/mockito-final#configure-mocktio\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-final#configure-mocktio</a></p>\n"}],"owner":{"account_id":459063,"reputation":3963,"user_id":859314,"display_name":"Alex Objelean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4535,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54328868,"answer_count":3,"score":11,"last_activity_date":1665976569,"creation_date":1548251680,"question_id":54328867,"body_markdown":"I have encountered an interesting issue while writing an unit test which involved mocking a lambda.\r\n\r\n    @Test\r\n    public void spyingLambda() {\r\n        final Supplier&lt;String&gt; spy = Mockito.spy((Supplier) () -&gt; &quot;1&quot;);\r\n        spy.get();\r\n    }\r\n\r\nRunning this test fails with the following error:\r\n\r\n&gt; Mockito cannot mock/spy because :\r\n&gt;  - final class\r\n\r\nOne workaround for the above issue is replacing the lambda with anonymous implementation:\r\n\r\n    @Test\r\n    public void spyingAnonymousImplementation() {\r\n        final Supplier&lt;String&gt; spy = Mockito.spy(new Supplier&lt;String&gt;() {\r\n            @Override\r\n            public String get() {\r\n                return &quot;1&quot;;\r\n            }\r\n        });\r\n        spy.get();\r\n    }\r\n\r\nThough both tests are exactly the same (the IDE suggest even replacing the anonymous implementation with lambda), the second test doesn&#39;t fail.\r\n\r\nI was wondering if this is a known issue which could be fixed in mockito or are there any other workarounds. ","title":"Spying a lambda with mockito","body":"<p>I have encountered an interesting issue while writing an unit test which involved mocking a lambda.</p>\n\n<pre><code>@Test\npublic void spyingLambda() {\n    final Supplier&lt;String&gt; spy = Mockito.spy((Supplier) () -&gt; \"1\");\n    spy.get();\n}\n</code></pre>\n\n<p>Running this test fails with the following error:</p>\n\n<blockquote>\n  <p>Mockito cannot mock/spy because :\n   - final class</p>\n</blockquote>\n\n<p>One workaround for the above issue is replacing the lambda with anonymous implementation:</p>\n\n<pre><code>@Test\npublic void spyingAnonymousImplementation() {\n    final Supplier&lt;String&gt; spy = Mockito.spy(new Supplier&lt;String&gt;() {\n        @Override\n        public String get() {\n            return \"1\";\n        }\n    });\n    spy.get();\n}\n</code></pre>\n\n<p>Though both tests are exactly the same (the IDE suggest even replacing the anonymous implementation with lambda), the second test doesn't fail.</p>\n\n<p>I was wondering if this is a known issue which could be fixed in mockito or are there any other workarounds. </p>\n"},{"tags":["java","jvm","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1665468435,"post_id":74022468,"comment_id":130700899,"body_markdown":"Do these full GCs still happen when you’re not monitoring your application?","body":"Do these full GCs still happen when you’re not monitoring your application?"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1665469132,"post_id":74022468,"comment_id":130701076,"body_markdown":"@Holger Yes, full GC still happen if no Jmeter requests incomming and it might be caused by spring-boot&#39;s daemon threads or something else, but in this situation, the Full GC will be triggered onece per 48+ hours based on observation of dump file.","body":"@Holger Yes, full GC still happen if no Jmeter requests incomming and it might be caused by spring-boot&#39;s daemon threads or something else, but in this situation, the Full GC will be triggered onece per 48+ hours based on observation of dump file."},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1665469734,"post_id":74022468,"comment_id":130701197,"body_markdown":"@Holger However, according to Jmeter&#39;s test report, the max response time is 2250ms, and YGC time interval observed by `jstat -gc &lt;pid&gt; 500 100000` is longer than 10s, which means testing objects will never survive more than 2 YGCs, but still, testing objects will get into old generation with no reason. I don&#39;t know why.","body":"@Holger However, according to Jmeter&#39;s test report, the max response time is 2250ms, and YGC time interval observed by <code>jstat -gc &lt;pid&gt; 500 100000</code> is longer than 10s, which means testing objects will never survive more than 2 YGCs, but still, testing objects will get into old generation with no reason. I don&#39;t know why."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1665515581,"post_id":74022468,"comment_id":130717704,"body_markdown":"I assume that you&#39;re running the parallel GC? You might try increasing the size of the survivor space even more: https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html","body":"I assume that you&#39;re running the parallel GC? You might try increasing the size of the survivor space even more: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a>"},{"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"score":0,"creation_date":1665645356,"post_id":74022468,"comment_id":130749422,"body_markdown":"Test objects will be promoted to OldGeneration if they live long enough (survivors) or if code is allocating large blocks of memory (direct to old).  Given @PostMapping and jmeter I am assuming that you are stress testing this code with multiple parallel request, and those are being handled by multiple threads. If you have large pool of threads handling request, purely statistically some threads are gonna stall just enough that it is possible for objects to survive enough to be promoted. I would start tuning by increasing eden to old gen ratio. Be aware this tuning is purely for bench score.","body":"Test objects will be promoted to OldGeneration if they live long enough (survivors) or if code is allocating large blocks of memory (direct to old).  Given @PostMapping and jmeter I am assuming that you are stress testing this code with multiple parallel request, and those are being handled by multiple threads. If you have large pool of threads handling request, purely statistically some threads are gonna stall just enough that it is possible for objects to survive enough to be promoted. I would start tuning by increasing eden to old gen ratio. Be aware this tuning is purely for bench score."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1665780803,"post_id":74022468,"comment_id":130786582,"body_markdown":"[Here](https://stackoverflow.com/a/36596077/3448419) is the tool to find what goes to Old generation. You may also try tuning `-XX:SurvivorRatio`, `-XX:NewSize` and disable `-XX:-UseAdaptiveSizePolicy`","body":"<a href=\"https://stackoverflow.com/a/36596077/3448419\">Here</a> is the tool to find what goes to Old generation. You may also try tuning <code>-XX:SurvivorRatio</code>, <code>-XX:NewSize</code> and disable <code>-XX:-UseAdaptiveSizePolicy</code>"}],"answers":[{"tags":[],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665976342,"creation_date":1665976342,"answer_id":74092254,"question_id":74022468,"body_markdown":"The problem was solved. And here is the cause:\r\nIt is due to parameter `-XX:SurvivorRatio=6`,I thought it will give `survivor area` a rather large space to contain those test objects. \r\n\r\nBut the fact is: when the requests comming in, JVM still continue reducing the `S area` space every YGC ignoring `-XX:SurvivorRatio=6`, `S area` space was what I set at the first time and then JVM will dynamically change it into JVM&#39;s way.\r\n\r\nMy first setting of S area was over 20MB, and it is enough to contain all the survived test objects, but YVM will turn down S area space each YGC and finnaly stable at about 2-3MB.\r\n\r\nSo, by printing gclog with command `-XX:+PrintAdaptiveSizePolicy -XX:+PrintTenuringDistribution` and I can see some overflow log in the gc log, and some of the test objects were directly put into `old generation` due to the  `S area` overflow.\r\n\r\nThen I try to figure out why JVM will change my S area space,and find that only by setting `-XX:-UseAdaptiveSizePolicy` and `-XX:SurvivorRatio=6` to shutdown JVM&#39;s dynamic adjestment of `S area` and then give it a large space to contain test objects, will solve this problem.","title":"java GC: Is it possible to find out what is promoted to old generation","body":"<p>The problem was solved. And here is the cause:\nIt is due to parameter <code>-XX:SurvivorRatio=6</code>,I thought it will give <code>survivor area</code> a rather large space to contain those test objects.</p>\n<p>But the fact is: when the requests comming in, JVM still continue reducing the <code>S area</code> space every YGC ignoring <code>-XX:SurvivorRatio=6</code>, <code>S area</code> space was what I set at the first time and then JVM will dynamically change it into JVM's way.</p>\n<p>My first setting of S area was over 20MB, and it is enough to contain all the survived test objects, but YVM will turn down S area space each YGC and finnaly stable at about 2-3MB.</p>\n<p>So, by printing gclog with command <code>-XX:+PrintAdaptiveSizePolicy -XX:+PrintTenuringDistribution</code> and I can see some overflow log in the gc log, and some of the test objects were directly put into <code>old generation</code> due to the  <code>S area</code> overflow.</p>\n<p>Then I try to figure out why JVM will change my S area space,and find that only by setting <code>-XX:-UseAdaptiveSizePolicy</code> and <code>-XX:SurvivorRatio=6</code> to shutdown JVM's dynamic adjestment of <code>S area</code> and then give it a large space to contain test objects, will solve this problem.</p>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74092254,"answer_count":1,"score":1,"last_activity_date":1665976342,"creation_date":1665457014,"question_id":74022468,"body_markdown":"I have a situation here:\r\n\r\nJDK version is showing below:\r\n```\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n```\r\n\r\nMy application is running with default GC strategy with JVM.\r\n\r\nStarting by command:\r\n\r\n```\r\nnohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 -XX:MetaspaceSize=256M -XX:MaxMetaspaceSize=256M -XX:+PrintGCDetails -XX:+PrintHeapAtGC -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -Xloggc:/data/code/logs/application-gc.log -XX:+HeapDumpBeforeFullGC -XX:HeapDumpPath=/data/code/logs/test-dump -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\r\n```\r\n\r\nOld generation in JVM will always getting unexpected little objects promoted from young generation and keep old generation usage going up, and then cause a full GC each 4 hours during my test.\r\n\r\nHere is the testing code:\r\n```\r\n    @PostMapping(&quot;/test/jvmPressure&quot;)\r\n    public CommonResult jvmTest() {\r\n        List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n        for (long i = 0L; i &lt; 10000L; i++) {\r\n            Role role = new Role();\r\n            role.setLevel(1);\r\n            role.setParentId(1L);\r\n            role.setStatus(true);\r\n            role.setName(&quot;this is a test object&quot;);\r\n            role.setRoleName(&quot;this is a test object&quot;);\r\n            role.setCompanyId(123123);\r\n            role.setId(i);\r\n            roles.add(role);\r\n        }\r\n        return CommonResult.succeed();\r\n    }\r\n```\r\nI just create a lot of objects and do nothing, to make eden area full and trigger YGC by continuing requesting this API.\r\n\r\nObserving by Jmeter, all requests are finished in 15 ms, and I don&#39;t think any of the `Role` object will suvive to old generation.\r\n\r\nBut usage of old generation will going up anyway.\r\n\r\nIs it possible to figure out what&#39;s new to old generation? I cannot find any unusual objects in dump file, and GC log is also quite normal. But still, I&#39;m confused that which object is keep promoting into old generation...\r\n\r\nAccording to my latest observation of Jmeter record and dump file.I have found another strange problem.\r\n\r\nThe max response time is 2250ms and objects created is 40Mb/s, which means, YGC will trigger every 7s because of the 300M eden space. I thought that many test objects will go into suvive area at the time of YGC triggered, but no test objects would survive more than 2 YGCs. Which means no test objects will go into old generation at all.\r\n\r\nBut the fact is, when I create dump files after 500 YGCs and find there are lots of unexpected test objects in heap. Before I dump heap, I have shut down Jmeter and waited for 2 YGCs to ensure there are no test objects in young generation, to see if there are test objects promoted to old generation.Unfortunately, it can be seen from this picture that some of the test objects were promoted into old generation in no reason(comparing with a dump file created by same method before).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is the GC log shortcut:\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oBTnS.png\r\n  [2]: https://i.stack.imgur.com/wWXzT.png\r\n  [3]: https://i.stack.imgur.com/pge6y.png\r\n  [4]: https://i.stack.imgur.com/zWz1T.png","title":"java GC: Is it possible to find out what is promoted to old generation","body":"<p>I have a situation here:</p>\n<p>JDK version is showing below:</p>\n<pre><code>openjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n</code></pre>\n<p>My application is running with default GC strategy with JVM.</p>\n<p>Starting by command:</p>\n<pre><code>nohup java -jar -Xms512M -Xmx512M -Xmn300M -XX:SurvivorRatio=6 -XX:MetaspaceSize=256M -XX:MaxMetaspaceSize=256M -XX:+PrintGCDetails -XX:+PrintHeapAtGC -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -Xloggc:/data/code/logs/application-gc.log -XX:+HeapDumpBeforeFullGC -XX:HeapDumpPath=/data/code/logs/test-dump -Dspring.profiles.active=test /data/code/application.jar &gt;&gt; /data/code/logs/application.log &amp;\n</code></pre>\n<p>Old generation in JVM will always getting unexpected little objects promoted from young generation and keep old generation usage going up, and then cause a full GC each 4 hours during my test.</p>\n<p>Here is the testing code:</p>\n<pre><code>    @PostMapping(&quot;/test/jvmPressure&quot;)\n    public CommonResult jvmTest() {\n        List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n        for (long i = 0L; i &lt; 10000L; i++) {\n            Role role = new Role();\n            role.setLevel(1);\n            role.setParentId(1L);\n            role.setStatus(true);\n            role.setName(&quot;this is a test object&quot;);\n            role.setRoleName(&quot;this is a test object&quot;);\n            role.setCompanyId(123123);\n            role.setId(i);\n            roles.add(role);\n        }\n        return CommonResult.succeed();\n    }\n</code></pre>\n<p>I just create a lot of objects and do nothing, to make eden area full and trigger YGC by continuing requesting this API.</p>\n<p>Observing by Jmeter, all requests are finished in 15 ms, and I don't think any of the <code>Role</code> object will suvive to old generation.</p>\n<p>But usage of old generation will going up anyway.</p>\n<p>Is it possible to figure out what's new to old generation? I cannot find any unusual objects in dump file, and GC log is also quite normal. But still, I'm confused that which object is keep promoting into old generation...</p>\n<p>According to my latest observation of Jmeter record and dump file.I have found another strange problem.</p>\n<p>The max response time is 2250ms and objects created is 40Mb/s, which means, YGC will trigger every 7s because of the 300M eden space. I thought that many test objects will go into suvive area at the time of YGC triggered, but no test objects would survive more than 2 YGCs. Which means no test objects will go into old generation at all.</p>\n<p>But the fact is, when I create dump files after 500 YGCs and find there are lots of unexpected test objects in heap. Before I dump heap, I have shut down Jmeter and waited for 2 YGCs to ensure there are no test objects in young generation, to see if there are test objects promoted to old generation.Unfortunately, it can be seen from this picture that some of the test objects were promoted into old generation in no reason(comparing with a dump file created by same method before).</p>\n<p><a href=\"https://i.stack.imgur.com/oBTnS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oBTnS.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the GC log shortcut:\n<a href=\"https://i.stack.imgur.com/wWXzT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wWXzT.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/pge6y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pge6y.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/zWz1T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zWz1T.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","visual-studio-code"],"comments":[{"owner":{"account_id":24783875,"reputation":6014,"user_id":18667225,"display_name":"Markus"},"score":0,"creation_date":1665938442,"post_id":74081905,"comment_id":130811290,"body_markdown":"Did you check this https://serverfault.com/a/784178 ?","body":"Did you check this <a href=\"https://serverfault.com/a/784178\">serverfault.com/a/784178</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665975923,"creation_date":1665975923,"answer_id":74092211,"question_id":74081905,"body_markdown":"You can directly use the run button provided by the java extension package to run the code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you want to use `javac` and `java` commands to run the code. Because your program references third-party library files, you need to add the `-cp` command to specify the `jar` file. If there are multiple jar files, they need to be separated by semicolons.\r\n\r\n```\r\njavac -cp C:\\WorkSpace\\JavaSql\\lib\\mysql-connector-java-8.0.30.jar -d classes src\\App.java\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fsU3k.png\r\n  [2]: https://i.stack.imgur.com/QxtHe.png","title":"error: package org.json.simple does not exist VS Code","body":"<p>You can directly use the run button provided by the java extension package to run the code.</p>\n<p><a href=\"https://i.stack.imgur.com/fsU3k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fsU3k.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want to use <code>javac</code> and <code>java</code> commands to run the code. Because your program references third-party library files, you need to add the <code>-cp</code> command to specify the <code>jar</code> file. If there are multiple jar files, they need to be separated by semicolons.</p>\n<pre><code>javac -cp C:\\WorkSpace\\JavaSql\\lib\\mysql-connector-java-8.0.30.jar -d classes src\\App.java\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QxtHe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QxtHe.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26048878,"reputation":3,"user_id":19752478,"display_name":"ellis keem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74092211,"answer_count":1,"score":0,"last_activity_date":1665975923,"creation_date":1665857451,"question_id":74081905,"body_markdown":"I am trying to use json.simple package for a school project and it is repeatedly giving me the same error &quot;error: package org.json.simple does not exist&quot;. \r\nAt first VS Code gave me the error while importing so I have added the json-simple-1.1.1.jar file to the reference library. The error in the editor itself went away but when I try to compile the code using javac it gives me all the errors regarding json.simple packages. Please help!","title":"error: package org.json.simple does not exist VS Code","body":"<p>I am trying to use json.simple package for a school project and it is repeatedly giving me the same error &quot;error: package org.json.simple does not exist&quot;.\nAt first VS Code gave me the error while importing so I have added the json-simple-1.1.1.jar file to the reference library. The error in the editor itself went away but when I try to compile the code using javac it gives me all the errors regarding json.simple packages. Please help!</p>\n"},{"tags":["java","spring-boot","spring-security","keycloak","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":11000622,"reputation":116,"user_id":9317010,"display_name":"ChopStick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665859161,"creation_date":1665859161,"answer_id":74082087,"question_id":74081314,"body_markdown":"Sooooo, after some more googleing I found the perfect solution. There is documentation here: [https://www.baeldung.com/spring-security-map-authorities-jwt][1] but I actually could not make a lot of that. \r\n\r\nThere was an answer on stackoverflow [https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp][2] that worked really well. But also there is my source code.\r\n\r\n    private class CustomJwtAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\r\n\r\n        @Override\r\n        public AbstractAuthenticationToken convert(final Jwt source) {\r\n\r\n            Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_user&quot;));\r\n\r\n            // Get a unique id from jwt and search for the user in your database\r\n            String suid = &quot;&quot;;\r\n            if(source.hasClaim(&quot;sub&quot;))\r\n                suid = source.getClaim(&quot;sub&quot;);\r\n            else\r\n                return new JwtAuthenticationToken(source, authorities);\r\n\r\n            Person person = personRepository.findBySuid(suid);\r\n            \r\n            // Set any role you want, I have not tried but I am sure it also works \r\n            // with permissions \r\n            if ( person != null &amp;&amp; person.getRole().equals(&quot;admin&quot;) )\r\n                authorities.add(new SimpleGrantedAuthority(&quot;ROLE_admin&quot;));\r\n            else\r\n                return new JwtAuthenticationToken(source, authorities);\r\n\r\n            return new JwtAuthenticationToken(source, authorities);\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http     // Remove h2 setup for production\r\n                .authorizeRequests().antMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                .and().csrf().ignoringAntMatchers(&quot;/h2-console/**&quot;)\r\n                .and().headers().frameOptions().sameOrigin()\r\n\r\n                // Above is only for h2 console\r\n                .and().cors().and().csrf().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/heroes/**&quot;).hasRole(&quot;admin&quot;)       \r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .jwtAuthenticationConverter(new CustomJwtAuthenticationConverter());\r\n        return http.build();\r\n    }\r\n\r\nYou can compute the roles you want for the authenticated user in any way you want for instance work with JPA or another datasource where your user data is stored. The entire JWT token is handed to you and as you can see I am using the &quot;sub&quot;-key but with varying implementations of the authorization server you should choose a unique identifier yourself.\r\n\r\nAfter all I went for the resource server persistent role management. I think it is good practice because the business context should be stored there. I hope I could help everyone who has the same question. \r\n\r\n  [1]: https://www.baeldung.com/spring-security-map-authorities-jwt\r\n  [2]: https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp","title":"How to manage and implement business context roles in resource server with OPENID? (SpringBoot and Keycloak)","body":"<p>Sooooo, after some more googleing I found the perfect solution. There is documentation here: <a href=\"https://www.baeldung.com/spring-security-map-authorities-jwt\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-map-authorities-jwt</a> but I actually could not make a lot of that.</p>\n<p>There was an answer on stackoverflow <a href=\"https://stackoverflow.com/questions/58205510/spring-security-mapping-oauth2-claims-with-roles-to-secure-resource-server-endp\">Spring Security: mapping OAuth2 claims with roles to secure Resource Server endpoints</a> that worked really well. But also there is my source code.</p>\n<pre><code>private class CustomJwtAuthenticationConverter implements Converter&lt;Jwt, AbstractAuthenticationToken&gt; {\n\n    @Override\n    public AbstractAuthenticationToken convert(final Jwt source) {\n\n        Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_user&quot;));\n\n        // Get a unique id from jwt and search for the user in your database\n        String suid = &quot;&quot;;\n        if(source.hasClaim(&quot;sub&quot;))\n            suid = source.getClaim(&quot;sub&quot;);\n        else\n            return new JwtAuthenticationToken(source, authorities);\n\n        Person person = personRepository.findBySuid(suid);\n        \n        // Set any role you want, I have not tried but I am sure it also works \n        // with permissions \n        if ( person != null &amp;&amp; person.getRole().equals(&quot;admin&quot;) )\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_admin&quot;));\n        else\n            return new JwtAuthenticationToken(source, authorities);\n\n        return new JwtAuthenticationToken(source, authorities);\n    }\n}\n\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n    http     // Remove h2 setup for production\n            .authorizeRequests().antMatchers(&quot;/h2-console/**&quot;).permitAll()\n            .and().csrf().ignoringAntMatchers(&quot;/h2-console/**&quot;)\n            .and().headers().frameOptions().sameOrigin()\n\n            // Above is only for h2 console\n            .and().cors().and().csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/api/heroes/**&quot;).hasRole(&quot;admin&quot;)       \n            .anyRequest().authenticated()\n            .and()\n            .oauth2ResourceServer()\n            .jwt()\n            .jwtAuthenticationConverter(new CustomJwtAuthenticationConverter());\n    return http.build();\n}\n</code></pre>\n<p>You can compute the roles you want for the authenticated user in any way you want for instance work with JPA or another datasource where your user data is stored. The entire JWT token is handed to you and as you can see I am using the &quot;sub&quot;-key but with varying implementations of the authorization server you should choose a unique identifier yourself.</p>\n<p>After all I went for the resource server persistent role management. I think it is good practice because the business context should be stored there. I hope I could help everyone who has the same question.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665974909,"creation_date":1665900406,"answer_id":74084962,"question_id":74081314,"body_markdown":"I don&#39;t quite agree with you: authorization-server is, in my opinion, the best place to manage authentication and authorization data.\r\n\r\nI prefer to provide authorization server with &quot;plug-ins&quot; (so called mappers in Keycloak) to enrich access tokens with the private claims I need and, on resource-servers, **build Spring security-context from access-token claims only**.\r\n\r\nThis either means having:\r\n- resource-server access authorization-server to update user roles via admin API (with client credentials)\r\n- authorization-server consume a web-service to retrieve some extra data when building access-tokens (for instance some security attributes he does not handle natively)\r\n\r\nIn the ends, this leads to define a custom authentication converter too, but DB access (to retrieve roles or whatever) occurs only once per access token generation (by authorization-server to add it to access-token) instead of once per request (by resource server to build security context). \r\n\r\n### Edit\r\nI do not have samples with a resource-server calling an authorization-server admin API, but this just a matter of:\r\n- using a REST client (`WebClient`, `RestTemplate`, `@FeignClient` or whatever you like) capable of using client-credentials to get an access-token\r\n- configuring the authorization server with a &quot;confidential&quot; client and activate client-credentials flow for it. Depending on your authorization-server, you might have to grant some roles for this client to be allowed to use the parts of admin API you need.\r\n\r\nI do have a sample where Keycloak contacts a resource-server to add a private claim whith some security data it does not handle natively (role delegation between users). This is done with [this Keycloak &quot;mapper&quot;][1]. The private claim is used on resource-servers by a custom `JwtAuthenticationConverter`: in this project I do not use `JwtAuthenticationToken` as `Authentication` but a custom one: [`ProxiesAuthentication`][2] (which contains a [`ProxiesClaimSet`][3] responsible for parsing the private claim).\r\n\r\nThe flow in this sample is authorization-server calling a resource-server because Keycloak is not aware of &quot;user proxies&quot; and does not already expose an API for it. But result is the same: all security data is contained in the token so that resource-server does not have expensive operation (DB access or web-service call) to build the security context.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/user-proxies/tree/main/api/proxies-keycloak-mapper\r\n  [2]: https://github.com/ch4mpy/user-proxies/blob/main/api/security/src/main/java/com/c4_soft/user_proxies/api/security/ProxiesAuthentication.java\r\n  [3]: https://github.com/ch4mpy/user-proxies/blob/main/api/security/src/main/java/com/c4_soft/user_proxies/api/security/ProxiesClaimSet.java","title":"How to manage and implement business context roles in resource server with OPENID? (SpringBoot and Keycloak)","body":"<p>I don't quite agree with you: authorization-server is, in my opinion, the best place to manage authentication and authorization data.</p>\n<p>I prefer to provide authorization server with &quot;plug-ins&quot; (so called mappers in Keycloak) to enrich access tokens with the private claims I need and, on resource-servers, <strong>build Spring security-context from access-token claims only</strong>.</p>\n<p>This either means having:</p>\n<ul>\n<li>resource-server access authorization-server to update user roles via admin API (with client credentials)</li>\n<li>authorization-server consume a web-service to retrieve some extra data when building access-tokens (for instance some security attributes he does not handle natively)</li>\n</ul>\n<p>In the ends, this leads to define a custom authentication converter too, but DB access (to retrieve roles or whatever) occurs only once per access token generation (by authorization-server to add it to access-token) instead of once per request (by resource server to build security context).</p>\n<h3>Edit</h3>\n<p>I do not have samples with a resource-server calling an authorization-server admin API, but this just a matter of:</p>\n<ul>\n<li>using a REST client (<code>WebClient</code>, <code>RestTemplate</code>, <code>@FeignClient</code> or whatever you like) capable of using client-credentials to get an access-token</li>\n<li>configuring the authorization server with a &quot;confidential&quot; client and activate client-credentials flow for it. Depending on your authorization-server, you might have to grant some roles for this client to be allowed to use the parts of admin API you need.</li>\n</ul>\n<p>I do have a sample where Keycloak contacts a resource-server to add a private claim whith some security data it does not handle natively (role delegation between users). This is done with <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api/proxies-keycloak-mapper\" rel=\"nofollow noreferrer\">this Keycloak &quot;mapper&quot;</a>. The private claim is used on resource-servers by a custom <code>JwtAuthenticationConverter</code>: in this project I do not use <code>JwtAuthenticationToken</code> as <code>Authentication</code> but a custom one: <a href=\"https://github.com/ch4mpy/user-proxies/blob/main/api/security/src/main/java/com/c4_soft/user_proxies/api/security/ProxiesAuthentication.java\" rel=\"nofollow noreferrer\"><code>ProxiesAuthentication</code></a> (which contains a <a href=\"https://github.com/ch4mpy/user-proxies/blob/main/api/security/src/main/java/com/c4_soft/user_proxies/api/security/ProxiesClaimSet.java\" rel=\"nofollow noreferrer\"><code>ProxiesClaimSet</code></a> responsible for parsing the private claim).</p>\n<p>The flow in this sample is authorization-server calling a resource-server because Keycloak is not aware of &quot;user proxies&quot; and does not already expose an API for it. But result is the same: all security data is contained in the token so that resource-server does not have expensive operation (DB access or web-service call) to build the security context.</p>\n"}],"owner":{"account_id":11000622,"reputation":116,"user_id":9317010,"display_name":"ChopStick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665974909,"creation_date":1665852431,"question_id":74081314,"body_markdown":"I am currently implementing a system with Spring Boot as a resource server and Keycloak as an authorization server. I want to be able to create different roles for users but that should happen automatically, so no admin that is managing the Keycloak backend for this matter.\r\n\r\nI have read about the Keycloak admin api but I am very unsure about this approach because it would mean storing login credentials in my resource server, which is not best practice at all, I think.\r\nSo I want to store (business context) roles in the resource server but without implementing my own authorization approach for each endpoint. I want to be able to use the roles stored in the resource server with spring security for instance the hasRole() method but also all the other functionallity that is already being used by the OPEN ID authenication that hands over the roles from the authorization server.\r\n \r\nSo how would I go about this? Is there maybe a secure way to update user roles in the authorization server from the resource server? That would seem unlikely to me because (though not in my case) the authorization server might not be owned by the resource owner.\r\n\r\nOr as another approach is it possible to fuse the roles handed to Spring Boot from keycloak and the roles stored in the resource server database and look them up after authenticating a user via keycloak?\r\n\r\nI would be very glad about some code snippets but pointers to tutorials explaining the topic are just as appreciated.","title":"How to manage and implement business context roles in resource server with OPENID? (SpringBoot and Keycloak)","body":"<p>I am currently implementing a system with Spring Boot as a resource server and Keycloak as an authorization server. I want to be able to create different roles for users but that should happen automatically, so no admin that is managing the Keycloak backend for this matter.</p>\n<p>I have read about the Keycloak admin api but I am very unsure about this approach because it would mean storing login credentials in my resource server, which is not best practice at all, I think.\nSo I want to store (business context) roles in the resource server but without implementing my own authorization approach for each endpoint. I want to be able to use the roles stored in the resource server with spring security for instance the hasRole() method but also all the other functionallity that is already being used by the OPEN ID authenication that hands over the roles from the authorization server.</p>\n<p>So how would I go about this? Is there maybe a secure way to update user roles in the authorization server from the resource server? That would seem unlikely to me because (though not in my case) the authorization server might not be owned by the resource owner.</p>\n<p>Or as another approach is it possible to fuse the roles handed to Spring Boot from keycloak and the roles stored in the resource server database and look them up after authenticating a user via keycloak?</p>\n<p>I would be very glad about some code snippets but pointers to tutorials explaining the topic are just as appreciated.</p>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1653489820,"post_id":71492942,"comment_id":127865910,"body_markdown":"I had the same error when starting my Spring Boot app, but it just happens that I was not running it with the right working directory, and thus it was accessing a bad file. After changing the working dir it was ok. Seems to be a very different issue from yours though.","body":"I had the same error when starting my Spring Boot app, but it just happens that I was not running it with the right working directory, and thus it was accessing a bad file. After changing the working dir it was ok. Seems to be a very different issue from yours though."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1672092136,"post_id":71492942,"comment_id":132220425,"body_markdown":"Please refer to my answer here https://stackoverflow.com/a/74924258/398348","body":"Please refer to my answer here <a href=\"https://stackoverflow.com/a/74924258/398348\">stackoverflow.com/a/74924258/398348</a>"}],"answers":[{"tags":[],"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665970384,"creation_date":1665970384,"answer_id":74091822,"question_id":71492942,"body_markdown":"***Witch version  of spring boot you use ?***\r\n\r\n**Pre-conditions:** delete h2 database or change the path file of database to be sure.\r\n\r\nNote: if you create the h2 database with this sa user you can not access to database with another user.\r\n\r\n - ***Spring boot version &lt;2.4.x*** : no change.\r\n\r\nthe default value of **spring.datasource.username** is **sa** and the default value of **spring.datasource.password** is  &quot; &quot;  (empty). \r\n - ***Spring boot version &gt;=2.4.x*** :\r\n\r\nYou shoud to define the property :  **spring.datasource.username=sa** in application.properties.\r\n","title":"h2 wrong user name or password","body":"<p><em><strong>Witch version  of spring boot you use ?</strong></em></p>\n<p><strong>Pre-conditions:</strong> delete h2 database or change the path file of database to be sure.</p>\n<p>Note: if you create the h2 database with this sa user you can not access to database with another user.</p>\n<ul>\n<li><em><strong>Spring boot version &lt;2.4.x</strong></em> : no change.</li>\n</ul>\n<p>the default value of <strong>spring.datasource.username</strong> is <strong>sa</strong> and the default value of <strong>spring.datasource.password</strong> is  &quot; &quot;  (empty).</p>\n<ul>\n<li><em><strong>Spring boot version &gt;=2.4.x</strong></em> :</li>\n</ul>\n<p>You shoud to define the property :  <strong>spring.datasource.username=sa</strong> in application.properties.</p>\n"}],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665970384,"creation_date":1647414359,"question_id":71492942,"body_markdown":"I am working through a text book example program pertaining to Spring Microservices. The **application.properties** file is straightforward.\r\n\r\n    # Gives us access to the H2 database web console\r\n    spring.h2.console.enabled=true\r\n    # Generates the database *only* if it&#39;s not there yet\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    # Creates the database in a file\r\n    spring.datasource.url=jdbc:h2:file:~/social-multiplication;DB_CLOSE_ON_EXIT=FALSE;\r\n    # For educational purposes we will show the SQL in console\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n\r\nBased on this, I&#39;m assuming the default user &quot;sa&quot; and blank password should be sufficient to investigate the contents of the database.\r\n\r\nWhen restarting the project, the console gives the message:\r\n\r\n    H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:file:~/social-multiplication&#39;\r\n\r\nI am able to get the console form at localhost:8080/hb-console.\r\nI placed the URL &quot;jdbc:h2:file:~/social-multiplication&quot; for the location and left the username and password, and tried to enter the database, but at this point am getting &quot;wrong user name or password&quot; error message.\r\n\r\nI have attempted to follow advice from other posts, such as this one: [how to reslove wrong username and password error in h2 database and springboot?][1]. The two database files at &quot;~/social-multiplication&quot; were deleted, and the program rebooted. This did not help. \r\n\r\nI tried making an explicit username and password in the **application.properties** file, but with this, the program would not even load. It errors out on the very first line when it came time to build the database. Was using the following two line in application.properties:\r\n\r\n    spring.datasource.username=admin\r\n    spring.datasource.password=password\r\n\r\nThe line that errors out is the single line in the main().\r\n\r\n   \tpublic static void main(String[] args) {\r\n\t    SpringApplication.run(SocialMultiplicationApplication.class, args);\r\n    }\r\n\r\nError:\r\n\r\n    2022-03-15 23:37:19.424  INFO 6260 ---   main] com.zaxxer.hikari.HikariDataSource    :HikariPool-1 - Starting...\r\n    2022-03-15 23:37:21.024 ERROR 6260 ---   main] com.zaxxer.hikari.pool.HikariPool     :HikariPool-1 - Exception during pool initialization.\r\n\r\n    org.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Wrong user name or password [28000-200]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:461) ~[h2-1.4.200.jar:1.4.200]\r\n            ...\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\r\n\t        at microservices.book.multiplication.SocialMultiplicationApplication.main(SocialMultiplicationApplication.java:10) ~[classes/:na]\r\n\r\nI find this very difficult to interpret. I thought one could set these properties. But something in the code is requiring or using a different password or username? There is no authentication or security explicitly implemented at this point in the tutorial ([https://github.com/microservices-practical/microservices-v4][2])\r\n\r\n\r\nAnother thing I tried was to move the h2 database location to within the project folder, which also failed to work.\r\n\r\nGiven the number of improvements in security in many programs since 2017, I&#39;m wondering if there are some new defaults or rules that were not dealt with in the tutorial that need to be handled.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/62064448/how-to-reslove-wrong-username-and-password-error-in-h2-database-and-springboot\r\n  [2]: https://github.com/microservices-practical/microservices-v4","title":"h2 wrong user name or password","body":"<p>I am working through a text book example program pertaining to Spring Microservices. The <strong>application.properties</strong> file is straightforward.</p>\n<pre><code># Gives us access to the H2 database web console\nspring.h2.console.enabled=true\n# Generates the database *only* if it's not there yet\nspring.jpa.hibernate.ddl-auto=update\n# Creates the database in a file\nspring.datasource.url=jdbc:h2:file:~/social-multiplication;DB_CLOSE_ON_EXIT=FALSE;\n# For educational purposes we will show the SQL in console\nspring.jpa.properties.hibernate.show_sql=true\n</code></pre>\n<p>Based on this, I'm assuming the default user &quot;sa&quot; and blank password should be sufficient to investigate the contents of the database.</p>\n<p>When restarting the project, the console gives the message:</p>\n<pre><code>H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/social-multiplication'\n</code></pre>\n<p>I am able to get the console form at localhost:8080/hb-console.\nI placed the URL &quot;jdbc:h2:file:~/social-multiplication&quot; for the location and left the username and password, and tried to enter the database, but at this point am getting &quot;wrong user name or password&quot; error message.</p>\n<p>I have attempted to follow advice from other posts, such as this one: <a href=\"https://stackoverflow.com/questions/62064448/how-to-reslove-wrong-username-and-password-error-in-h2-database-and-springboot\">how to reslove wrong username and password error in h2 database and springboot?</a>. The two database files at &quot;~/social-multiplication&quot; were deleted, and the program rebooted. This did not help.</p>\n<p>I tried making an explicit username and password in the <strong>application.properties</strong> file, but with this, the program would not even load. It errors out on the very first line when it came time to build the database. Was using the following two line in application.properties:</p>\n<pre><code>spring.datasource.username=admin\nspring.datasource.password=password\n</code></pre>\n<p>The line that errors out is the single line in the main().</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(SocialMultiplicationApplication.class, args);\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>2022-03-15 23:37:19.424  INFO 6260 ---   main] com.zaxxer.hikari.HikariDataSource    :HikariPool-1 - Starting...\n2022-03-15 23:37:21.024 ERROR 6260 ---   main] com.zaxxer.hikari.pool.HikariPool     :HikariPool-1 - Exception during pool initialization.\n\norg.h2.jdbc.JdbcSQLInvalidAuthorizationSpecException: Wrong user name or password [28000-200]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:461) ~[h2-1.4.200.jar:1.4.200]\n        ...\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar:2.6.4]\n        at microservices.book.multiplication.SocialMultiplicationApplication.main(SocialMultiplicationApplication.java:10) ~[classes/:na]\n</code></pre>\n<p>I find this very difficult to interpret. I thought one could set these properties. But something in the code is requiring or using a different password or username? There is no authentication or security explicitly implemented at this point in the tutorial (<a href=\"https://github.com/microservices-practical/microservices-v4\" rel=\"nofollow noreferrer\">https://github.com/microservices-practical/microservices-v4</a>)</p>\n<p>Another thing I tried was to move the h2 database location to within the project folder, which also failed to work.</p>\n<p>Given the number of improvements in security in many programs since 2017, I'm wondering if there are some new defaults or rules that were not dealt with in the tutorial that need to be handled.</p>\n"},{"tags":["java","hibernate","kotlin","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1666030862,"post_id":74091483,"comment_id":130834255,"body_markdown":"This question kind of duplicates your original one: https://stackoverflow.com/questions/74063093/hibernate-one-to-one-unidirectional-puts-null-in-foreign-key/74100897#74100897","body":"This question kind of duplicates your original one: <a href=\"https://stackoverflow.com/questions/74063093/hibernate-one-to-one-unidirectional-puts-null-in-foreign-key/74100897#74100897\" title=\"hibernate one to one unidirectional puts null in foreign key\">stackoverflow.com/questions/74063093/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11855592,"reputation":47,"user_id":9547793,"display_name":"Tomas0808"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665970062,"creation_date":1665970062,"answer_id":74091797,"question_id":74091483,"body_markdown":"As written in your code:\r\n\r\n    removed because I don&#39;t want bidirectional\r\n\r\nIf you really need unidirectional association, remove completely block\r\n\r\n    @OneToOne(\r\n        //mappedBy = &quot;person&quot;, //removed because I don&#39;t want bidirectional\r\n        cascade = [CascadeType.ALL],\r\n        fetch = FetchType.LAZY,\r\n        optional = false,\r\n        orphanRemoval = true\r\n    )\r\n    var personStatus: PersonStatusEntity\r\nAnd leave OneToMany in PersonStatus only.\r\n\r\nAlso GeneratedValue should be removed in PersonStatus, because you trying to use shared PK using MapsId annotation.\r\n\r\nNote: If you think, that you need unidirectional association, so, you should add **mappingBy** on the PersonEntity side. Also note, that only one side of unidirectional side will be really lazy.\r\n\r\n","title":"Hibernate one-to-one unidirectional: IdentifierGenerationException: null id generated for:class","body":"<p>As written in your code:</p>\n<pre><code>removed because I don't want bidirectional\n</code></pre>\n<p>If you really need unidirectional association, remove completely block</p>\n<pre><code>@OneToOne(\n    //mappedBy = &quot;person&quot;, //removed because I don't want bidirectional\n    cascade = [CascadeType.ALL],\n    fetch = FetchType.LAZY,\n    optional = false,\n    orphanRemoval = true\n)\nvar personStatus: PersonStatusEntity\n</code></pre>\n<p>And leave OneToMany in PersonStatus only.</p>\n<p>Also GeneratedValue should be removed in PersonStatus, because you trying to use shared PK using MapsId annotation.</p>\n<p>Note: If you think, that you need unidirectional association, so, you should add <strong>mappingBy</strong> on the PersonEntity side. Also note, that only one side of unidirectional side will be really lazy.</p>\n"}],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665970062,"creation_date":1665965316,"question_id":74091483,"body_markdown":"I have one-to-one mapping between two tables:\r\n\r\n**person** -&gt; id | name\r\n\r\n**person_status** -&gt; id | person_id | status\r\n\r\nI&#39;m following the [hibernate user guide][1] to create a one-to-one unidirectional mapping.\r\nIf we want lazy association, they [say][2]:\r\n\r\n&gt; ...it’s much more efficient to use unidirectional @OneToOne associations with the @MapsId annotation in place.\r\n\r\nBut they don&#39;t provide an example for this. I tried the following, but getting the following exception while saving a record:\r\n\r\n**org.hibernate.id.IdentifierGenerationException: null id generated for:class PersonStatusEntity**\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\nclass PersonEntity(\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    val name: String,\r\n\r\n    @OneToOne(\r\n        //mappedBy = &quot;person&quot;, //removed because I don&#39;t want bidirectional\r\n        cascade = [CascadeType.ALL],\r\n        fetch = FetchType.LAZY,\r\n        optional = false,\r\n        orphanRemoval = true\r\n    )\r\n    var personStatus: PersonStatusEntity\r\n)\r\n```\r\n```\r\n@Entity(name = &quot;PersonStatus&quot;)\r\nclass PersonStatusEntity(\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @MapsId\r\n    var person: PersonEntity? = null,\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    val status: Status\r\n)\r\n\r\n```\r\nI also tried removing `@GeneratedValue()` without any luck.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional-lazy","title":"Hibernate one-to-one unidirectional: IdentifierGenerationException: null id generated for:class","body":"<p>I have one-to-one mapping between two tables:</p>\n<p><strong>person</strong> -&gt; id | name</p>\n<p><strong>person_status</strong> -&gt; id | person_id | status</p>\n<p>I'm following the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one\" rel=\"nofollow noreferrer\">hibernate user guide</a> to create a one-to-one unidirectional mapping.\nIf we want lazy association, they <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one-bidirectional-lazy\" rel=\"nofollow noreferrer\">say</a>:</p>\n<blockquote>\n<p>...it’s much more efficient to use unidirectional @OneToOne associations with the @MapsId annotation in place.</p>\n</blockquote>\n<p>But they don't provide an example for this. I tried the following, but getting the following exception while saving a record:</p>\n<p><strong>org.hibernate.id.IdentifierGenerationException: null id generated for:class PersonStatusEntity</strong></p>\n<pre><code>@Entity(name = &quot;Person&quot;)\nclass PersonEntity(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    val name: String,\n\n    @OneToOne(\n        //mappedBy = &quot;person&quot;, //removed because I don't want bidirectional\n        cascade = [CascadeType.ALL],\n        fetch = FetchType.LAZY,\n        optional = false,\n        orphanRemoval = true\n    )\n    var personStatus: PersonStatusEntity\n)\n</code></pre>\n<pre><code>@Entity(name = &quot;PersonStatus&quot;)\nclass PersonStatusEntity(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @MapsId\n    var person: PersonEntity? = null,\n\n    @Enumerated(EnumType.STRING)\n    val status: Status\n)\n\n</code></pre>\n<p>I also tried removing <code>@GeneratedValue()</code> without any luck.</p>\n"},{"tags":["java","spring","hibernate","autocommit","disable"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1534917844,"post_id":51952790,"comment_id":90871529,"body_markdown":"auto commit has nothing to do with starting a transaction. This has to do with hibernate, again, disabling auto-commit (which is already done by Spring). Setting read-only is a time consuming operation (on some databases) and as such doing it twice has an impact. But this has nothing to do with the point where the tx is started.","body":"auto commit has nothing to do with starting a transaction. This has to do with hibernate, again, disabling auto-commit (which is already done by Spring). Setting read-only is a time consuming operation (on some databases) and as such doing it twice has an impact. But this has nothing to do with the point where the tx is started."},{"owner":{"account_id":1344927,"reputation":456,"user_id":1285873,"display_name":"Valentin Kovalenko"},"score":1,"creation_date":1535045413,"post_id":51952790,"comment_id":90932203,"body_markdown":"@M.Deinum Apparently, in Hibernate this has something to do with the point where the tx is started. And this &quot;something do to&quot; is described in the posts linked by the post owner and also here https://hibernate.atlassian.net/browse/HHH-11542 . But sure, this is just a Hibernate-specific relation.","body":"@M.Deinum Apparently, in Hibernate this has something to do with the point where the tx is started. And this &quot;something do to&quot; is described in the posts linked by the post owner and also here <a href=\"https://hibernate.atlassian.net/browse/HHH-11542\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-11542</a> . But sure, this is just a Hibernate-specific relation."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1535089114,"post_id":51952790,"comment_id":90945278,"body_markdown":"That issue describes what I&#39;m saying that it doesn&#39;t delay the transaction or obtaining of the connection. It merely disables setting the property again.","body":"That issue describes what I&#39;m saying that it doesn&#39;t delay the transaction or obtaining of the connection. It merely disables setting the property again."},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":1,"creation_date":1586531126,"post_id":51952790,"comment_id":108167892,"body_markdown":"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/ does seem to suggest it delays connection acquisition. I must say I don&#39;t understand the logic in the article and why they can only delay if they know that auto-commit is disabled already by the connection pool.","body":"<a href=\"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a> does seem to suggest it delays connection acquisition. I must say I don&#39;t understand the logic in the article and why they can only delay if they know that auto-commit is disabled already by the connection pool."},{"owner":{"account_id":155944,"reputation":1010,"user_id":1467744,"display_name":"Mohamad Eghlima"},"score":0,"creation_date":1659370908,"post_id":51952790,"comment_id":129273509,"body_markdown":"I can see only this property: `spring.jpa.properties.hibernate.connection.autocommit` in my `application.properties`, am i doing something wrong or it was just renamed to this one from the one you mentioned in the question?","body":"I can see only this property: <code>spring.jpa.properties.hibernate.connection.autocommit</code> in my <code>application.properties</code>, am i doing something wrong or it was just renamed to this one from the one you mentioned in the question?"}],"answers":[{"tags":[],"owner":{"account_id":3369285,"reputation":591,"user_id":2828977,"display_name":"Ankit Singodia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665968563,"creation_date":1586889630,"answer_id":61214903,"question_id":51952790,"body_markdown":"Apart from configuring autocommit as false in hibernate as you did, you also need to set autocommit to false at the connection pool level. Otherwise, it won&#39;t be effective as in your case. Say, for Hikari pool you need to configure as below:\r\n\r\n\r\n    HikariConfig hikariConfig = super.hikariConfig( dataSource );\r\n    \r\n    hikariConfig.setAutoCommit( false );","title":"hibernate.connection.provider_disables_autocommit not working","body":"<p>Apart from configuring autocommit as false in hibernate as you did, you also need to set autocommit to false at the connection pool level. Otherwise, it won't be effective as in your case. Say, for Hikari pool you need to configure as below:</p>\n<pre><code>HikariConfig hikariConfig = super.hikariConfig( dataSource );\n\nhikariConfig.setAutoCommit( false );\n</code></pre>\n"}],"owner":{"account_id":2352990,"reputation":25,"user_id":2061427,"display_name":"keshav gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665968563,"creation_date":1534867936,"question_id":51952790,"body_markdown":"I am opening transaction using TransactionInterceptor and using HibernateTransactionManager and com.zaxxer.hikari.HikariDataSource as datasource. \r\n\r\nI have set autocommit value for datasource and hibernate property hibernate.connection.provider_disables_autocommit values as follows\r\n        \r\n    &lt;property name=&quot;autoCommit&quot; value=&quot;false&quot;/&gt;\r\n    \r\n    &lt;prop key=&quot;hibernate.connection.provider_disables_autocommit&quot;&gt;true&lt;/prop&gt;\r\n Even then the transaction is getting opened much before it is required.\r\n\r\n5.3.1.Final version of hibernate-core is used for the above. \r\n\r\nI have used the following references.\r\n\r\nhttps://github.com/spring-projects/spring-boot/issues/9261\r\n\r\nhttps://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\r\n\r\nPlease let me know in case anything else was required to be done or what is the exact meaning of delay.\r\n\r\nThanks in advance.","title":"hibernate.connection.provider_disables_autocommit not working","body":"<p>I am opening transaction using TransactionInterceptor and using HibernateTransactionManager and com.zaxxer.hikari.HikariDataSource as datasource. </p>\n\n<p>I have set autocommit value for datasource and hibernate property hibernate.connection.provider_disables_autocommit values as follows</p>\n\n<pre><code>&lt;property name=\"autoCommit\" value=\"false\"/&gt;\n\n&lt;prop key=\"hibernate.connection.provider_disables_autocommit\"&gt;true&lt;/prop&gt;\n</code></pre>\n\n<p>Even then the transaction is getting opened much before it is required.</p>\n\n<p>5.3.1.Final version of hibernate-core is used for the above. </p>\n\n<p>I have used the following references.</p>\n\n<p><a href=\"https://github.com/spring-projects/spring-boot/issues/9261\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/9261</a></p>\n\n<p><a href=\"https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/why-you-should-always-use-hibernate-connection-provider_disables_autocommit-for-resource-local-jpa-transactions/</a></p>\n\n<p>Please let me know in case anything else was required to be done or what is the exact meaning of delay.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","junit5","ioexception"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1665966347,"post_id":74091543,"comment_id":130816283,"body_markdown":"Is your `pdfDocument()` method supposed to throw an `IOException`?","body":"Is your <code>pdfDocument()</code> method supposed to throw an <code>IOException</code>?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1665966855,"post_id":74091543,"comment_id":130816349,"body_markdown":"You&#39;ve coded `PdfUtil#pdfDocument(File)` to specifically never throw `IOException` by catching it, logging it, and then not rethrowing it. It also doesn&#39;t have a `throws IOException` clause, and so could never throw one anyway (`IOException` is a _checked_ exception).","body":"You&#39;ve coded <code>PdfUtil#pdfDocument(File)</code> to specifically never throw <code>IOException</code> by catching it, logging it, and then not rethrowing it. It also doesn&#39;t have a <code>throws IOException</code> clause, and so could never throw one anyway (<code>IOException</code> is a <i>checked</i> exception)."},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1665967016,"post_id":74091543,"comment_id":130816368,"body_markdown":"I approached the problem in the wrong way, thanks for pointing that out to me.","body":"I approached the problem in the wrong way, thanks for pointing that out to me."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665968013,"creation_date":1665968013,"answer_id":74091664,"question_id":74091543,"body_markdown":"There&#39;s a design error in your code which makes it impossible to properly test. (Or use). It&#39;s this part:\r\n\r\n&gt; ```java\r\n&gt; catch (IOException e) {\r\n&gt;    logger.error(e.getMessage());\r\n&gt; } finally {\r\n&gt;    logger.info(String.format(&quot;someText&quot;, pdf.getName(), pdfFileSize, pdf.length() / 1024));\r\n&gt; }\r\n&gt; ```\r\n\r\nThis is an anti-pattern. When a problem occurs, you log it, and then __keep right on going__. The code that called this method cannot tell that it failed, which is, naturally, why you can&#39;t test what it does when an IOException failure occurs. Think about it: If you ask your computer to install something, and the installer goes: &quot;Okay! Installation succesful!&quot;, when the logs of that installer (as if you&#39;re going to look at those) actually contain an error, that&#39;s highly suspicious behaviour. If you ask a friend to go pick up the groceries for you, they go out, then return back home, and tell you nothing, even though they got no groceries because the store was closed, that&#39;s incredibly annoying.\r\n\r\nIf you catch an exception __you have to handle it__. Logging it does not count.\r\n\r\nOften, exceptions cannot be handled. Take this very method: What could you possibly do?\r\n\r\nThus, one trivial solution is simply not to catch it. Leave that to the caller. Of course, the (checked) exceptions your method throws are part of the _what_ and not the _how_: They are part of your signature. Hence, any checked exception that the _how_ (the body of the method) throws, which isn&#39;t an intrinsic part of the _what_, generally shouldn&#39;t be thrown out of the method. In these cases, &#39;catch it and log&#39; it is __still__ wrong. Instead, catch it, and __rethrow it__. Repackage that exception as something else. exception constructors have a &#39;cause&#39; variant specifically for this purpose.\r\n\r\nFor example, if you use an IDE, it&#39;s broken. You can fix it. Go into the template settings and fix the problem in the &#39;catch exceptions&#39; template. Instead of `e.printStackTrace();` as body of the default catch block, the correct &quot;I dunno and I do not want to deal with this right now&quot; catch block is:\r\n\r\n```\r\n} catch (SomeException e) {\r\n  throw new RuntimeException(&quot;unhandled&quot;, e);\r\n}\r\n```\r\n\r\nThat&#39;s &#39;rethrowing&#39;.\r\n\r\nThis method&#39;s _what_ is intrinsically connected to file I/O - after all, your method&#39;s signature is yelling from the rooftops, so to speak, that it does this: It has a parameter of type `File` that &#39;hardcodes&#39; into the very nature of this method that it will, definitely, interact with the file system. Hence, declaring it as `throws IOException` seems correct here.\r\n\r\nNote that your main method can, and almost always should, be declared as `public static void main(String[] args) throws Exception {}`.","title":"Asserting a IOException in Junit 5 test","body":"<p>There's a design error in your code which makes it impossible to properly test. (Or use). It's this part:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>catch (IOException e) {\n   logger.error(e.getMessage());\n} finally {\n   logger.info(String.format(&quot;someText&quot;, pdf.getName(), pdfFileSize, pdf.length() / 1024));\n}\n</code></pre>\n</blockquote>\n<p>This is an anti-pattern. When a problem occurs, you log it, and then <strong>keep right on going</strong>. The code that called this method cannot tell that it failed, which is, naturally, why you can't test what it does when an IOException failure occurs. Think about it: If you ask your computer to install something, and the installer goes: &quot;Okay! Installation succesful!&quot;, when the logs of that installer (as if you're going to look at those) actually contain an error, that's highly suspicious behaviour. If you ask a friend to go pick up the groceries for you, they go out, then return back home, and tell you nothing, even though they got no groceries because the store was closed, that's incredibly annoying.</p>\n<p>If you catch an exception <strong>you have to handle it</strong>. Logging it does not count.</p>\n<p>Often, exceptions cannot be handled. Take this very method: What could you possibly do?</p>\n<p>Thus, one trivial solution is simply not to catch it. Leave that to the caller. Of course, the (checked) exceptions your method throws are part of the <em>what</em> and not the <em>how</em>: They are part of your signature. Hence, any checked exception that the <em>how</em> (the body of the method) throws, which isn't an intrinsic part of the <em>what</em>, generally shouldn't be thrown out of the method. In these cases, 'catch it and log' it is <strong>still</strong> wrong. Instead, catch it, and <strong>rethrow it</strong>. Repackage that exception as something else. exception constructors have a 'cause' variant specifically for this purpose.</p>\n<p>For example, if you use an IDE, it's broken. You can fix it. Go into the template settings and fix the problem in the 'catch exceptions' template. Instead of <code>e.printStackTrace();</code> as body of the default catch block, the correct &quot;I dunno and I do not want to deal with this right now&quot; catch block is:</p>\n<pre><code>} catch (SomeException e) {\n  throw new RuntimeException(&quot;unhandled&quot;, e);\n}\n</code></pre>\n<p>That's 'rethrowing'.</p>\n<p>This method's <em>what</em> is intrinsically connected to file I/O - after all, your method's signature is yelling from the rooftops, so to speak, that it does this: It has a parameter of type <code>File</code> that 'hardcodes' into the very nature of this method that it will, definitely, interact with the file system. Hence, declaring it as <code>throws IOException</code> seems correct here.</p>\n<p>Note that your main method can, and almost always should, be declared as <code>public static void main(String[] args) throws Exception {}</code>.</p>\n"}],"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665968013,"creation_date":1665966216,"question_id":74091543,"body_markdown":"I&#39;m trying to write a Junit 5 test for a method with an IOException. Here&#39;s the code:\r\n\r\n    public class PdfUtil {\r\n    public void pdfDocument(File pdf) {\r\n        Long pdfFileSize = null;\r\n        try (PDDocument document = PDDocument.load(pdf)) {\r\n\r\n        pdfFileSize = pdf.length() / 1024;\r\n        PDDocument document = convertPdfToImages(document);\r\n        removeMetadata(document);\r\n\r\n        document.save(pdf);\r\n        document.close();\r\n\r\n    }\r\n    catch (IOException e) {\r\n        logger.error(e.getMessage());\r\n    } finally {\r\n        logger.info(String.format(&quot;someText&quot;, pdf.getName(), pdfFileSize, pdf.length() / 1024));\r\n    }\r\n    }\r\n    }\r\n\r\nAnd here is the test:\r\n\r\n    @Test\r\n    void pdfDocument() throws IOException {\r\n        Resource resource = new ClassPathResource(&quot;testPdf.pdf&quot;);\r\n        File pdf = resource.getFile();\r\n\r\n    assertThrows(IOException.class,\r\n            () -&gt; pdfUtil.pdfDocument(pdf));\r\n    }\r\n\r\nI&#39;m trying to catch an IOException, but so far I got `Expected java.io.IOException to be thrown, but nothing was thrown`. Do you have any suggestions on how to catch it?","title":"Asserting a IOException in Junit 5 test","body":"<p>I'm trying to write a Junit 5 test for a method with an IOException. Here's the code:</p>\n<pre><code>public class PdfUtil {\npublic void pdfDocument(File pdf) {\n    Long pdfFileSize = null;\n    try (PDDocument document = PDDocument.load(pdf)) {\n\n    pdfFileSize = pdf.length() / 1024;\n    PDDocument document = convertPdfToImages(document);\n    removeMetadata(document);\n\n    document.save(pdf);\n    document.close();\n\n}\ncatch (IOException e) {\n    logger.error(e.getMessage());\n} finally {\n    logger.info(String.format(&quot;someText&quot;, pdf.getName(), pdfFileSize, pdf.length() / 1024));\n}\n}\n}\n</code></pre>\n<p>And here is the test:</p>\n<pre><code>@Test\nvoid pdfDocument() throws IOException {\n    Resource resource = new ClassPathResource(&quot;testPdf.pdf&quot;);\n    File pdf = resource.getFile();\n\nassertThrows(IOException.class,\n        () -&gt; pdfUtil.pdfDocument(pdf));\n}\n</code></pre>\n<p>I'm trying to catch an IOException, but so far I got <code>Expected java.io.IOException to be thrown, but nothing was thrown</code>. Do you have any suggestions on how to catch it?</p>\n"},{"tags":["java","dictionary","atomic","snapshot"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665971289,"post_id":74091636,"comment_id":130816920,"body_markdown":"You want a [deep copy](https://en.wikipedia.org/wiki/Object_copying#Deep_copy)? If so, say so.","body":"You want a <a href=\"https://en.wikipedia.org/wiki/Object_copying#Deep_copy\" rel=\"nofollow noreferrer\">deep copy</a>? If so, say so."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1665971433,"post_id":74091636,"comment_id":130816938,"body_markdown":"Perhaps you should be using a transactional database. Such as [Postgres](https://en.wikipedia.org/wiki/PostgreSQL) with its implementation of [multiversion concurrency control (MVCC)](https://en.wikipedia.org/wiki/Multiversion_concurrency_control). For an embedded, pure Java database consider [H2](https://en.wikipedia.org/wiki/H2_(DBMS)), with [its MVCC implementation](http://h2database.com/html/advanced.html#mvcc).","body":"Perhaps you should be using a transactional database. Such as <a href=\"https://en.wikipedia.org/wiki/PostgreSQL\" rel=\"nofollow noreferrer\">Postgres</a> with its implementation of <a href=\"https://en.wikipedia.org/wiki/Multiversion_concurrency_control\" rel=\"nofollow noreferrer\">multiversion concurrency control (MVCC)</a>. For an embedded, pure Java database consider <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2</a>, with <a href=\"http://h2database.com/html/advanced.html#mvcc\" rel=\"nofollow noreferrer\">its MVCC implementation</a>."}],"owner":{"account_id":5246991,"reputation":1610,"user_id":4192366,"accept_rate":80,"display_name":"ZisIsNotZis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665967667,"creation_date":1665967667,"question_id":74091636,"body_markdown":"Given a `HashMap` that&#39;s large enough and accessed (modified) frequently, how can I create an instantaneous snapshot (checkpoint)?\r\n\r\nIs there a way to avoid (shallow) copying at all? Like COW for mem page or file system.\r\n\r\nIf there isn&#39;t, how can I make sure that modifications during snapshot process will not affect the snapshot?\r\n\r\nThe worst solution is lock writing before snapshot done, or making a shallow copy for every write, but that&#39;s the worst solution.","title":"Proper atomic HashMap snapshot (checkpoint)?","body":"<p>Given a <code>HashMap</code> that's large enough and accessed (modified) frequently, how can I create an instantaneous snapshot (checkpoint)?</p>\n<p>Is there a way to avoid (shallow) copying at all? Like COW for mem page or file system.</p>\n<p>If there isn't, how can I make sure that modifications during snapshot process will not affect the snapshot?</p>\n<p>The worst solution is lock writing before snapshot done, or making a shallow copy for every write, but that's the worst solution.</p>\n"},{"tags":["java","maven","quickfixj"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1666005073,"post_id":74091489,"comment_id":130824687,"body_markdown":"The probably easiest way is to rename your dictionary to `FIX44.modified.xml`, put it into the `quickfixj-messages/quickfixj-messages-fix44/src/main/resources/` folder and rebuild the complete QFJ project. https://github.com/quickfix-j/quickfixj#build-instructions (please note that you should probably omit the option `-PskipBundlePlugin` since there sometimes seems to be a NullPointerException when using it).","body":"The probably easiest way is to rename your dictionary to <code>FIX44.modified.xml</code>, put it into the <code>quickfixj-messages&#47;quickfixj-messages-fix44&#47;src&#47;main&#47;resourc&zwnj;&#8203;es&#47;</code> folder and rebuild the complete QFJ project. <a href=\"https://github.com/quickfix-j/quickfixj#build-instructions\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj#build-instructions</a> (please note that you should probably omit the option <code>-PskipBundlePlugin</code> since there sometimes seems to be a NullPointerException when using it)."},{"owner":{"account_id":25749481,"reputation":53,"user_id":19502243,"display_name":"Yoshiro"},"score":0,"creation_date":1666022711,"post_id":74091489,"comment_id":130831564,"body_markdown":"Thanks @ChristophJohn Should I leave FIX44.xml in the dir and overwrite the modified one with my dictionary? If there are two dictionary files in the same dir with the same protocol version, and one of them has custom fields, how does code generator decide which one to pick? For example, in my custom file, tag 150 ExecType has custom enum types which are not present in the base dictionary file. Thanks again.","body":"Thanks @ChristophJohn Should I leave FIX44.xml in the dir and overwrite the modified one with my dictionary? If there are two dictionary files in the same dir with the same protocol version, and one of them has custom fields, how does code generator decide which one to pick? For example, in my custom file, tag 150 ExecType has custom enum types which are not present in the base dictionary file. Thanks again."},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1666074394,"post_id":74091489,"comment_id":130842786,"body_markdown":"https://github.com/quickfix-j/quickfixj/blob/0ef2ac42ac9966a965b9e811713b9b8c6bc7c32c/quickfixj-core/pom.xml#L249 There the file is specified.","body":"<a href=\"https://github.com/quickfix-j/quickfixj/blob/0ef2ac42ac9966a965b9e811713b9b8c6bc7c32c/quickfixj-core/pom.xml#L249\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/blob/&hellip;</a> There the file is specified."},{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1666083522,"post_id":74091489,"comment_id":130845622,"body_markdown":"Looking at your original question again: maybe you should try to pass the absolute path to your dictionary? Looks like it is not found?! But am no maven expert tbh.","body":"Looking at your original question again: maybe you should try to pass the absolute path to your dictionary? Looks like it is not found?! But am no maven expert tbh."}],"owner":{"account_id":25749481,"reputation":53,"user_id":19502243,"display_name":"Yoshiro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665966216,"creation_date":1665965506,"question_id":74091489,"body_markdown":"I have a highly customized version of FIX44.xml provided by a dealer. I need to generate QuickFixJ jar that uses this custom version. I am new to using Java and I am using IntelliJ IDE, JDK1.8 and Maven 3.8.6. I could not find clear instructions on how to build a jar using the Maven `quickfixj-codegenerator` plugin. Below is what I have in my pom.xml \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n     4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;CustomQuickFixJ&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quickfixj-codegenerator&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;fixt11&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dictFile&gt;FIXT11.xml&lt;/dictFile&gt;\r\n                            &lt;packaging&gt;com.custom.quickfix.fixt11&lt;/packaging&gt;\r\n                            &lt;fieldPackage&gt;com.custom.quickfix.field&lt;/fieldPackage&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;fix44-stp&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dictFile&gt;FIX44-STP.xml&lt;/dictFile&gt;\r\n                            &lt;packaging&gt;com.custom.quickfix.fix44&lt;/packaging&gt;\r\n                            &lt;fieldPackage&gt;com.custom.quickfix.field&lt;/fieldPackage&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nI execute the Maven goal as follows on the cmd line\r\n\r\n    mvn -X org.quickfixj:quickfixj-codegenerator:generate\r\n\r\nHowever, the build fails with following error\r\n\r\n    [ERROR] Failed to execute goal org.quickfixj:quickfixj-codegenerator:2.3.1:generate (default- \r\n     cli) on project CustomQuickFixJ: QuickFIX code generator execution failed: \r\n     NullPointerException -&gt; [Help 1]\r\n     org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal \r\n     org.quickfixj:quickfixj-codegenerator:2.3.1:generate (default-cli) on project \r\n     CustomQuickFixJ: QuickFIX code generator execution failed\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n\r\nAlso, I see the following in Maven output which makes me belive that my pom.xml configuration is not being used as the dictionary I really want to use is FIX44-STP.xml and it is not stored at the below &quot;dictFile&quot; path.\r\n\r\n    [DEBUG] Configuring mojo &#39;org.quickfixj:quickfixj-codegenerator:2.3.1:generate&#39; with basic \r\n    configurator --&gt;\r\n    [DEBUG]   (s) decimal = false\r\n    [DEBUG]   (s) dictFile = C:\\IntelliJ- \r\n    Projects\\CustomQuickFixJ\\src\\main\\quickfixj\\dictionary\\FIX44.xml\r\n    [DEBUG]   (s) fieldPackage = quickfix.field\r\n    [DEBUG]   (s) orderedFields = false\r\n    [DEBUG]   (s) outputDirectory = C:\\IntelliJ-Projects\\CustomQuickFixJ\\target\\generated-sources\r\n    [DEBUG]   (s) project = MavenProject: org.example:CustomQuickFixJ:1.0-SNAPSHOT @ C:\\IntelliJ- \r\n    Projects\\CustomQuickFixJ\\pom.xml\r\n    [DEBUG]   (s) schemaDirectory = C:\\IntelliJ- \r\n    Projects\\CustomQuickFixJ\\src\\resources\\quickfixj\\codegenerator\r\n    [DEBUG] -- end configuration --\r\n\r\nAfter checking the quickfixj github repo at line 375 in MojoExecutor.java, I made a change to my maven cmd line as follows to provide &quot;packaging&quot; parameter but it didn&#39;t help\r\n\r\n    mvn -X -Dpackaging=com.custom.quickfix org.quickfixj:quickfixj-codegenerator:generate\r\n\r\nAm I executing Maven goal incorrectly? Are there any clear instructions on how to use this plugin? \r\nThank you for your help in advance.\r\n ","title":"How to build QuickFixJ from a custom dictionary?","body":"<p>I have a highly customized version of FIX44.xml provided by a dealer. I need to generate QuickFixJ jar that uses this custom version. I am new to using Java and I am using IntelliJ IDE, JDK1.8 and Maven 3.8.6. I could not find clear instructions on how to build a jar using the Maven <code>quickfixj-codegenerator</code> plugin. Below is what I have in my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n 4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;CustomQuickFixJ&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-codegenerator&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;fixt11&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;dictFile&gt;FIXT11.xml&lt;/dictFile&gt;\n                        &lt;packaging&gt;com.custom.quickfix.fixt11&lt;/packaging&gt;\n                        &lt;fieldPackage&gt;com.custom.quickfix.field&lt;/fieldPackage&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;fix44-stp&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;dictFile&gt;FIX44-STP.xml&lt;/dictFile&gt;\n                        &lt;packaging&gt;com.custom.quickfix.fix44&lt;/packaging&gt;\n                        &lt;fieldPackage&gt;com.custom.quickfix.field&lt;/fieldPackage&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I execute the Maven goal as follows on the cmd line</p>\n<pre><code>mvn -X org.quickfixj:quickfixj-codegenerator:generate\n</code></pre>\n<p>However, the build fails with following error</p>\n<pre><code>[ERROR] Failed to execute goal org.quickfixj:quickfixj-codegenerator:2.3.1:generate (default- \n cli) on project CustomQuickFixJ: QuickFIX code generator execution failed: \n NullPointerException -&gt; [Help 1]\n org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal \n org.quickfixj:quickfixj-codegenerator:2.3.1:generate (default-cli) on project \n CustomQuickFixJ: QuickFIX code generator execution failed\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\nat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n</code></pre>\n<p>Also, I see the following in Maven output which makes me belive that my pom.xml configuration is not being used as the dictionary I really want to use is FIX44-STP.xml and it is not stored at the below &quot;dictFile&quot; path.</p>\n<pre><code>[DEBUG] Configuring mojo 'org.quickfixj:quickfixj-codegenerator:2.3.1:generate' with basic \nconfigurator --&gt;\n[DEBUG]   (s) decimal = false\n[DEBUG]   (s) dictFile = C:\\IntelliJ- \nProjects\\CustomQuickFixJ\\src\\main\\quickfixj\\dictionary\\FIX44.xml\n[DEBUG]   (s) fieldPackage = quickfix.field\n[DEBUG]   (s) orderedFields = false\n[DEBUG]   (s) outputDirectory = C:\\IntelliJ-Projects\\CustomQuickFixJ\\target\\generated-sources\n[DEBUG]   (s) project = MavenProject: org.example:CustomQuickFixJ:1.0-SNAPSHOT @ C:\\IntelliJ- \nProjects\\CustomQuickFixJ\\pom.xml\n[DEBUG]   (s) schemaDirectory = C:\\IntelliJ- \nProjects\\CustomQuickFixJ\\src\\resources\\quickfixj\\codegenerator\n[DEBUG] -- end configuration --\n</code></pre>\n<p>After checking the quickfixj github repo at line 375 in MojoExecutor.java, I made a change to my maven cmd line as follows to provide &quot;packaging&quot; parameter but it didn't help</p>\n<pre><code>mvn -X -Dpackaging=com.custom.quickfix org.quickfixj:quickfixj-codegenerator:generate\n</code></pre>\n<p>Am I executing Maven goal incorrectly? Are there any clear instructions on how to use this plugin?\nThank you for your help in advance.</p>\n"},{"tags":["java","spring","hibernate","orm"],"answers":[{"tags":[],"owner":{"account_id":6325048,"reputation":3074,"user_id":4911775,"display_name":"CodeScale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665966009,"creation_date":1587068562,"answer_id":61259410,"question_id":61255353,"body_markdown":"\r\n\r\n&gt; I can&#39;t understand how can Hibernate delay the connection aquisition\r\n&gt; if Spring decides to aquire it before.\r\n\r\nThe decision is taken by the transaction manager and so potentially by the `JpaTransactionManager/HibernateTransactionManager`\r\n\r\nHibernate 5.2.0 introduces new property `hibernate.connection.provider_disables_autocommit`\r\n\r\nWith this Hibernate can delay the database connection acquisition until there is a JDBC Statement to execute. otherwise the database connection is acquired when entering the `@Transactional` service method.\r\n\r\nSo to allow Spring wires this property into the JPATransactionManager during the setup of spring context you have to set this property in your application.properties/yaml --&gt;\r\n\r\n    spring.jpa.properties.hibernate.connection.provider_disables_autocommit=true\r\n\r\nLast thing required to do this --&gt; setAutoCommit to false on the connection pool provider (by default HikariCP since Spring boot 2)\r\n\r\n    spring.datasource.hikari.auto-commit=false","title":"Hibernate vs Spring connection acquisition strategy","body":"<blockquote>\n<p>I can't understand how can Hibernate delay the connection aquisition\nif Spring decides to aquire it before.</p>\n</blockquote>\n<p>The decision is taken by the transaction manager and so potentially by the <code>JpaTransactionManager/HibernateTransactionManager</code></p>\n<p>Hibernate 5.2.0 introduces new property <code>hibernate.connection.provider_disables_autocommit</code></p>\n<p>With this Hibernate can delay the database connection acquisition until there is a JDBC Statement to execute. otherwise the database connection is acquired when entering the <code>@Transactional</code> service method.</p>\n<p>So to allow Spring wires this property into the JPATransactionManager during the setup of spring context you have to set this property in your application.properties/yaml --&gt;</p>\n<pre><code>spring.jpa.properties.hibernate.connection.provider_disables_autocommit=true\n</code></pre>\n<p>Last thing required to do this --&gt; setAutoCommit to false on the connection pool provider (by default HikariCP since Spring boot 2)</p>\n<pre><code>spring.datasource.hikari.auto-commit=false\n</code></pre>\n"}],"owner":{"account_id":6222710,"reputation":350,"user_id":4841911,"accept_rate":80,"display_name":"isco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665966009,"creation_date":1587054923,"question_id":61255353,"body_markdown":"I&#39;m trying to understand when exactly a database connection is aquired in an application that uses hibernate as an ORM &amp; Spring for transaction management.\n\nIn [this][1] article, it says: \n\n&gt;If the transaction manager decides to create a new transaction, then it will:\n&gt;\n&gt;create a new entity manager\n&gt;\n&gt;bind the entity manager to the current thread\n&gt;\n&gt;grab a connection from the DB connection pool\n&gt;\n&gt; bind the connection to the current thread\n\nHowever [here][2] it says : \n\n&gt;Hibernate defers the database connection acquisition until the current transaction has to execute its first SQL statement (either triggered by a read or a write operation). This optimization allows Hibernate to reduce the physical transaction interval, therefore increasing the chance of getting a connection from the pool.\n\nI can&#39;t understand how can Hibernate delay the connection aquisition if Spring decides to aquire it before.\n\n\n  [1]: https://dzone.com/articles/what-is-the-difference-between-hibernate-and-sprin-1\n  [2]: https://vladmihalcea.com/hibernate-aggressive-connection-release/","title":"Hibernate vs Spring connection acquisition strategy","body":"<p>I'm trying to understand when exactly a database connection is aquired in an application that uses hibernate as an ORM &amp; Spring for transaction management.</p>\n<p>In <a href=\"https://dzone.com/articles/what-is-the-difference-between-hibernate-and-sprin-1\" rel=\"nofollow noreferrer\">this</a> article, it says:</p>\n<blockquote>\n<p>If the transaction manager decides to create a new transaction, then it will:</p>\n<p>create a new entity manager</p>\n<p>bind the entity manager to the current thread</p>\n<p>grab a connection from the DB connection pool</p>\n<p>bind the connection to the current thread</p>\n</blockquote>\n<p>However <a href=\"https://vladmihalcea.com/hibernate-aggressive-connection-release/\" rel=\"nofollow noreferrer\">here</a> it says :</p>\n<blockquote>\n<p>Hibernate defers the database connection acquisition until the current transaction has to execute its first SQL statement (either triggered by a read or a write operation). This optimization allows Hibernate to reduce the physical transaction interval, therefore increasing the chance of getting a connection from the pool.</p>\n</blockquote>\n<p>I can't understand how can Hibernate delay the connection aquisition if Spring decides to aquire it before.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665800375,"post_id":74076220,"comment_id":130789322,"body_markdown":"Please edit your code to remove extra blank lines, and to indent it properly.","body":"Please edit your code to remove extra blank lines, and to indent it properly."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1665800531,"post_id":74076220,"comment_id":130789341,"body_markdown":"You have a semicolon at the end of your `else if ...`","body":"You have a semicolon at the end of your <code>else if ...</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1665802844,"post_id":74076220,"comment_id":130789578,"body_markdown":"To add to what @tgdavies said, look at `else if (onlyLettersAndDigitsTest(yolo, yolo));\n        printErrorMessage(2);`  That `;` causes a [null statement](https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement). That makes execution of `printErrorMessage(2);`  not dependent on the results of `lengthTest` or `onlyLettersAndDigitsTest`: It gets called every time a password is entered.","body":"To add to what @tgdavies said, look at <code>else if (onlyLettersAndDigitsTest(yolo, yolo));         printErrorMessage(2);</code>  That <code>;</code> causes a <a href=\"https://stackoverflow.com/questions/14112515/semicolon-at-end-of-if-statement\">null statement</a>. That makes execution of <code>printErrorMessage(2);</code>  not dependent on the results of <code>lengthTest</code> or <code>onlyLettersAndDigitsTest</code>: It gets called every time a password is entered."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1665802981,"post_id":74076220,"comment_id":130789604,"body_markdown":"Is there a missing `!` in `if (Character.isLetterOrDigit(digandlet.charAt(i))) ` ?","body":"Is there a missing <code>!</code> in <code>if (Character.isLetterOrDigit(digandlet.charAt(i))) </code> ?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1665832865,"post_id":74076220,"comment_id":130793836,"body_markdown":"Your `case 2` is missing a `break`.","body":"Your <code>case 2</code> is missing a <code>break</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1665845819,"post_id":74076220,"comment_id":130796512,"body_markdown":"The description the O/P gave isn&#39;t quite right. The way I see the code, it always prints &quot;Password does not meet requirement: must contain only letters and digits&quot; followed by the similar &quot;Password does not meet requirement: must contain at least 1 digit and not more than 3&quot;.  This is a result of the combination of missing `break` for `case 2` and the null statement following `if (onlyLettersAndDigitsTest(yolo, yolo))`.  If it fails `lengthTest`, 3 errors will be displayed.","body":"The description the O/P gave isn&#39;t quite right. The way I see the code, it always prints &quot;Password does not meet requirement: must contain only letters and digits&quot; followed by the similar &quot;Password does not meet requirement: must contain at least 1 digit and not more than 3&quot;.  This is a result of the combination of missing <code>break</code> for <code>case 2</code> and the null statement following <code>if (onlyLettersAndDigitsTest(yolo, yolo))</code>.  If it fails <code>lengthTest</code>, 3 errors will be displayed."}],"answers":[{"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665965343,"creation_date":1665965343,"answer_id":74091485,"question_id":74076220,"body_markdown":"I recommend these changes be made in your code so that your code can work as it should.\r\n\r\n 1. Change the if conditions in this way \r\n\r\n        if (!lengthTest(yolo)) {\r\n           printErrorMessage(1);\r\n        }\r\n        if (!onlyLettersAndDigitsTest(yolo)) {\r\n           printErrorMessage(2); \r\n        }\r\n\r\n 2. The onlyLettersAndDigitsTest method changed to this \r\n\r\n        public static boolean onlyLettersAndDigitsTest(String password) {\r\n            for (int i = 0; i &lt; password.length(); i++) {\r\n                if (!Character.isLetterOrDigit(password.charAt(i))) \r\n                   return false;           \r\n            }\r\n            return true;\r\n        }\r\n\r\n 3. In the switch case, in the second case add the break \r\n\r\n        public static void printErrorMessage(int errorCode) {\r\n        switch (errorCode) {\r\n            case 1:\r\n                System.out.print(&quot;Password does not meet the requirement: must be between 6 and 15 characters&quot;);\r\n                break;\r\n            case 2:\r\n                System.out.print(&quot;Password does not meet the requirement: must contain only letters and digits&quot;);\r\n                break;\r\n            case 3:\r\n                System.out.print(&quot;Password does not meet the requirement: must contain at least 1 digit and not more than 3&quot;);\r\n                break;\r\n\r\n            case 4:\r\n                System.out.print(&quot;Password does not meet the requirement: must be different than previous 2 passwords&quot;);\r\n                break;\r\n        }\r\n        }","title":"Why is something printing out twice?","body":"<p>I recommend these changes be made in your code so that your code can work as it should.</p>\n<ol>\n<li><p>Change the if conditions in this way</p>\n<pre><code>if (!lengthTest(yolo)) {\n   printErrorMessage(1);\n}\nif (!onlyLettersAndDigitsTest(yolo)) {\n   printErrorMessage(2); \n}\n</code></pre>\n</li>\n<li><p>The onlyLettersAndDigitsTest method changed to this</p>\n<pre><code>public static boolean onlyLettersAndDigitsTest(String password) {\n    for (int i = 0; i &lt; password.length(); i++) {\n        if (!Character.isLetterOrDigit(password.charAt(i))) \n           return false;           \n    }\n    return true;\n}\n</code></pre>\n</li>\n<li><p>In the switch case, in the second case add the break</p>\n<pre><code>public static void printErrorMessage(int errorCode) {\nswitch (errorCode) {\n    case 1:\n        System.out.print(&quot;Password does not meet the requirement: must be between 6 and 15 characters&quot;);\n        break;\n    case 2:\n        System.out.print(&quot;Password does not meet the requirement: must contain only letters and digits&quot;);\n        break;\n    case 3:\n        System.out.print(&quot;Password does not meet the requirement: must contain at least 1 digit and not more than 3&quot;);\n        break;\n\n    case 4:\n        System.out.print(&quot;Password does not meet the requirement: must be different than previous 2 passwords&quot;);\n        break;\n}\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":26628037,"reputation":1,"user_id":20245668,"display_name":"Pnc_Gamba"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665965343,"creation_date":1665800024,"question_id":74076220,"body_markdown":"I&#39;m a beginner in java and I have a problem. Why is &quot; Password does not meet requirement: must contain only letters and digits&quot; printing out two times? If the user puts Test## for example, the output above prints twice. When I put a password such as &quot;asd&quot; the error message &quot;Password does not meet requirement: must be between 6 and 15 characters&quot;, only prints once. Which is what I want the second case to do. This is my code below, please feel free to tell me the issue. Thank you!\r\n\r\n``` \r\npublic static void main(String[] args) {\r\n    // User input\r\n\r\n    Scanner input = new Scanner(System.in);\r\n\r\n    // Variables\r\n\r\n    final String previousPassword1 = &quot;secret007&quot;;\r\n    final String previousPassword2 = &quot;your2eyes&quot;;\r\n    int amountofAttempts = 0;\r\n    boolean validPassword = false;\r\n    final int minLength = 6;\r\n    final int maxLength = 15;\r\n\r\n    while (!validPassword &amp;&amp; amountofAttempts &lt; 4) {\r\n        amountofAttempts++;\r\n        String yolo = getNewPassword(input);\r\n        if (!lengthTest(yolo)) {\r\n            printErrorMessage(1);\r\n        } else if (onlyLettersAndDigitsTest(yolo, yolo));\r\n        printErrorMessage(2);\r\n    }\r\n}\r\n\r\npublic static String getNewPassword(Scanner input) {\r\n    System.out.println();\r\n    System.out.println();\r\n    System.out.print(&quot;Enter a password: &quot;);\r\n    String passWord = input.nextLine();\r\n    return passWord;\r\n\r\n}\r\n\r\npublic static boolean lengthTest(String length) {\r\n    boolean validLength = false;\r\n    if (length.length() &gt;= 6 &amp;&amp; length.length() &lt; 15) {\r\n        validLength = true;\r\n    }\r\n    return validLength;\r\n}\r\n\r\npublic static boolean onlyLettersAndDigitsTest(String digandlet, String length) {\r\n    for (int i = 0; i &lt; length.length(); i++) {\r\n        if (Character.isLetterOrDigit(digandlet.charAt(i))) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\npublic static boolean containsOneToThreeDigitsTest(String password) {\r\n\r\n    int amountOfDigits = 0;\r\n    for (int i = 0; i &lt; password.length(); i++) {\r\n        if (Character.isDigit(password.charAt(i))) {\r\n            amountOfDigits++;\r\n        }\r\n    }\r\n    if (amountOfDigits &gt; 3 || amountOfDigits &lt; 1) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\n\r\npublic static boolean differentThanLastTwoPasswordsTest(String previousPassword1, String previousPassword2, String password) {\r\n    if (password.equals(previousPassword1) || password.equals(previousPassword2)) {\r\n        return false;\r\n    } else {\r\n        return true;\r\n    }\r\n}\r\n\r\npublic static void printErrorMessage(int errorCode) {\r\n    switch (errorCode) {\r\n        case 1:\r\n            System.out.print(&quot;Password does not meet requirement: must be between 6 and 15 characters&quot;);\r\n            break;\r\n\r\n        case 2:\r\n            System.out.print(&quot;Password does not meet requirement: must contain only letters and digits&quot;);\r\n\r\n        case 3:\r\n            System.out.print(&quot;Password does not meet requirement: must contain at least 1 digit and not more than 3&quot;);\r\n            break;\r\n\r\n        case 4:\r\n            System.out.print(&quot;Password does not meet requirement: must be different than previous 2 passwords&quot;);\r\n            break;\r\n    }\r\n}\r\n}\r\n```","title":"Why is something printing out twice?","body":"<p>I'm a beginner in java and I have a problem. Why is &quot; Password does not meet requirement: must contain only letters and digits&quot; printing out two times? If the user puts Test## for example, the output above prints twice. When I put a password such as &quot;asd&quot; the error message &quot;Password does not meet requirement: must be between 6 and 15 characters&quot;, only prints once. Which is what I want the second case to do. This is my code below, please feel free to tell me the issue. Thank you!</p>\n<pre><code>public static void main(String[] args) {\n    // User input\n\n    Scanner input = new Scanner(System.in);\n\n    // Variables\n\n    final String previousPassword1 = &quot;secret007&quot;;\n    final String previousPassword2 = &quot;your2eyes&quot;;\n    int amountofAttempts = 0;\n    boolean validPassword = false;\n    final int minLength = 6;\n    final int maxLength = 15;\n\n    while (!validPassword &amp;&amp; amountofAttempts &lt; 4) {\n        amountofAttempts++;\n        String yolo = getNewPassword(input);\n        if (!lengthTest(yolo)) {\n            printErrorMessage(1);\n        } else if (onlyLettersAndDigitsTest(yolo, yolo));\n        printErrorMessage(2);\n    }\n}\n\npublic static String getNewPassword(Scanner input) {\n    System.out.println();\n    System.out.println();\n    System.out.print(&quot;Enter a password: &quot;);\n    String passWord = input.nextLine();\n    return passWord;\n\n}\n\npublic static boolean lengthTest(String length) {\n    boolean validLength = false;\n    if (length.length() &gt;= 6 &amp;&amp; length.length() &lt; 15) {\n        validLength = true;\n    }\n    return validLength;\n}\n\npublic static boolean onlyLettersAndDigitsTest(String digandlet, String length) {\n    for (int i = 0; i &lt; length.length(); i++) {\n        if (Character.isLetterOrDigit(digandlet.charAt(i))) {\n            return false;\n        }\n    }\n    return true;\n}\n\n\npublic static boolean containsOneToThreeDigitsTest(String password) {\n\n    int amountOfDigits = 0;\n    for (int i = 0; i &lt; password.length(); i++) {\n        if (Character.isDigit(password.charAt(i))) {\n            amountOfDigits++;\n        }\n    }\n    if (amountOfDigits &gt; 3 || amountOfDigits &lt; 1) {\n        return false;\n    }\n    return true;\n}\n\n\n\npublic static boolean differentThanLastTwoPasswordsTest(String previousPassword1, String previousPassword2, String password) {\n    if (password.equals(previousPassword1) || password.equals(previousPassword2)) {\n        return false;\n    } else {\n        return true;\n    }\n}\n\npublic static void printErrorMessage(int errorCode) {\n    switch (errorCode) {\n        case 1:\n            System.out.print(&quot;Password does not meet requirement: must be between 6 and 15 characters&quot;);\n            break;\n\n        case 2:\n            System.out.print(&quot;Password does not meet requirement: must contain only letters and digits&quot;);\n\n        case 3:\n            System.out.print(&quot;Password does not meet requirement: must contain at least 1 digit and not more than 3&quot;);\n            break;\n\n        case 4:\n            System.out.print(&quot;Password does not meet requirement: must be different than previous 2 passwords&quot;);\n            break;\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","android","timer","alarmmanager"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665924625,"post_id":74087113,"comment_id":130808281,"body_markdown":"&quot;WorkManager is not the option because of the minimum 15 min interval limitation&quot; -- use `WorkManager` for longer intervals. Use a foreground service and some in-process timing solution for the shorter intervals. You used `Timer`, which may work. Personally, I prefer `ScheduledExecutorService` or something based off of a reactive framework (e.g., RxJava).","body":"&quot;WorkManager is not the option because of the minimum 15 min interval limitation&quot; -- use <code>WorkManager</code> for longer intervals. Use a foreground service and some in-process timing solution for the shorter intervals. You used <code>Timer</code>, which may work. Personally, I prefer <code>ScheduledExecutorService</code> or something based off of a reactive framework (e.g., RxJava)."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1665965425,"post_id":74087113,"comment_id":130816172,"body_markdown":"@CommonsWare You are right `WorkManager` will work for more than 15 min intervals. The foreground service will kill by system so the timer. I will see if `ScheduledExecutorService ` will work for me. Thanks","body":"@CommonsWare You are right <code>WorkManager</code> will work for more than 15 min intervals. The foreground service will kill by system so the timer. I will see if <code>ScheduledExecutorService </code> will work for me. Thanks"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665965220,"creation_date":1665923291,"question_id":74087113,"body_markdown":"I tested my app on an Android 12 device for background task execution at regular intervals.I registered a broadcast receiver for activity recognition and on every user activity detection, I need to update the server and local database. For this, i am using a Timer to execute the task at every 5 hours\r\n\r\n     public void setTimer(int Minutes) {\r\n            Log.d(TAG, &quot;Set Timer Starts It will Run Every &quot; + Minutes);\r\n            int MilliSeconds = 60000 * Minutes;\r\n            TimerTask doAsynchronousTask = new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    DefaultExecutorSupplier.getInstance().forBackgroundTasks().execute(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            try {\r\n                                //CODE THAT YOU WANT TO EXECUTE AT GIVEN INTERVAL\r\n\r\n                            } catch (Exception e) {\r\n\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n                }\r\n            };\r\n            new Timer().schedule(doAsynchronousTask, 0, MilliSeconds);\r\n        }\r\n\r\nBut it&#39;s not executing at all (In the background). Is there any other solution for regular code execution at regular intervals on Android 12?\r\n\r\nWorkManager is not an option because of the minimum 15 min interval limitation. Sometimes our interval changed to 2 min or 5 min according to the user&#39;s activities ","title":"Background Task Execution At Regular Intervels","body":"<p>I tested my app on an Android 12 device for background task execution at regular intervals.I registered a broadcast receiver for activity recognition and on every user activity detection, I need to update the server and local database. For this, i am using a Timer to execute the task at every 5 hours</p>\n<pre><code> public void setTimer(int Minutes) {\n        Log.d(TAG, &quot;Set Timer Starts It will Run Every &quot; + Minutes);\n        int MilliSeconds = 60000 * Minutes;\n        TimerTask doAsynchronousTask = new TimerTask() {\n            @Override\n            public void run() {\n                DefaultExecutorSupplier.getInstance().forBackgroundTasks().execute(new Runnable() {\n                    @Override\n                    public void run() {\n                        try {\n                            //CODE THAT YOU WANT TO EXECUTE AT GIVEN INTERVAL\n\n                        } catch (Exception e) {\n\n                        }\n                    }\n                });\n\n            }\n        };\n        new Timer().schedule(doAsynchronousTask, 0, MilliSeconds);\n    }\n</code></pre>\n<p>But it's not executing at all (In the background). Is there any other solution for regular code execution at regular intervals on Android 12?</p>\n<p>WorkManager is not an option because of the minimum 15 min interval limitation. Sometimes our interval changed to 2 min or 5 min according to the user's activities</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":5752482,"reputation":71,"user_id":4541666,"accept_rate":62,"display_name":"Eternal Vapor"},"score":0,"creation_date":1428373901,"post_id":29482721,"comment_id":47125977,"body_markdown":"It may be but the majority of the code is uneditable in the software our class runs it in so I am only allowed to edit what is given to me and that is the section &quot;   public static double convertToInches(double numFeet, double numInches) {\n      return totInches * 12.0;\n   }\n&quot;","body":"It may be but the majority of the code is uneditable in the software our class runs it in so I am only allowed to edit what is given to me and that is the section &quot;   public static double convertToInches(double numFeet, double numInches) {       return totInches * 12.0;    } &quot;"},{"owner":{"account_id":3516142,"reputation":9763,"user_id":2939522,"accept_rate":91,"display_name":"Abdul Ahmad"},"score":0,"creation_date":1428373942,"post_id":29482721,"comment_id":47125986,"body_markdown":"the variable `totInches` in your `convertToInches` method is not declared, its in the main method which your method has no access to. In other words, `totInches` in `convertToInches` has no scope, or is `null` probably","body":"the variable <code>totInches</code> in your <code>convertToInches</code> method is not declared, its in the main method which your method has no access to. In other words, <code>totInches</code> in <code>convertToInches</code> has no scope, or is <code>null</code> probably"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1428374094,"post_id":29482721,"comment_id":47126028,"body_markdown":"Work the problem in your head, first. How do you calculate inches, given a figure for feet and another for additional inches? Look to the convertToInches(double numFeet) method as a guide. You&#39;re not experiencing a Java or programming problem, but rather, one of conceptualizing the task at hand.","body":"Work the problem in your head, first. How do you calculate inches, given a figure for feet and another for additional inches? Look to the convertToInches(double numFeet) method as a guide. You&#39;re not experiencing a Java or programming problem, but rather, one of conceptualizing the task at hand."},{"owner":{"account_id":5752482,"reputation":71,"user_id":4541666,"accept_rate":62,"display_name":"Eternal Vapor"},"score":0,"creation_date":1428374263,"post_id":29482721,"comment_id":47126067,"body_markdown":"I see what you are saying, If I declare totInches I get an error stating                                                                                                                                                                                                                                    &quot;non-static variable totInches cannot be referenced from a static context\n      return totInches;&quot;                                                                                                                          Not certain why im seeing an error when it is now a variable :/","body":"I see what you are saying, If I declare totInches I get an error stating                                                                                                                                                                                                                                    &quot;non-static variable totInches cannot be referenced from a static context       return totInches;&quot;                                                                                                                          Not certain why im seeing an error when it is now a variable :/"},{"owner":{"account_id":5752482,"reputation":71,"user_id":4541666,"accept_rate":62,"display_name":"Eternal Vapor"},"score":0,"creation_date":1428374314,"post_id":29482721,"comment_id":47126080,"body_markdown":"Thank you I will walk the steps through in my head and see if I can get it here. My logic must be off lol","body":"Thank you I will walk the steps through in my head and see if I can get it here. My logic must be off lol"}],"answers":[{"tags":[],"owner":{"account_id":6095697,"reputation":362,"user_id":4756564,"display_name":"egracer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428374158,"creation_date":1428374158,"answer_id":29482772,"question_id":29482721,"body_markdown":"The variable `totInches` is not defined in the scope of your function:\r\n\r\n    public static double convertToInches(double numFeet, double numInches) {\r\n      return totInches * 12.0;\r\n    }\r\n\r\nThe only variables you can use in this function are the ones you create and the ones defined as formal parameters: `numFeet` and `numInches`. So you have to come up with an equation that takes `numFeet` and converts it to inches, taking into account the additional inches provided in `numInches`.","title":"Convert Height to Inches (Java)","body":"<p>The variable <code>totInches</code> is not defined in the scope of your function:</p>\n\n<pre><code>public static double convertToInches(double numFeet, double numInches) {\n  return totInches * 12.0;\n}\n</code></pre>\n\n<p>The only variables you can use in this function are the ones you create and the ones defined as formal parameters: <code>numFeet</code> and <code>numInches</code>. So you have to come up with an equation that takes <code>numFeet</code> and converts it to inches, taking into account the additional inches provided in <code>numInches</code>.</p>\n"},{"tags":[],"owner":{"account_id":6087215,"reputation":33,"user_id":4750766,"display_name":"Jcat4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428374871,"creation_date":1428374871,"answer_id":29482883,"question_id":29482721,"body_markdown":"You declared the double variable &quot;totInches&quot; inside of your main method, but you are trying to access it inside of your &quot;convertToInches&quot; method. When declaring a variable in a particular method, that variable is ONLY accessible by that method. Your &quot;convertToInches&quot; knows of only two variables: numFeet and numInches, which you passed to it in the parameter. It then looks at your return statement, sees &quot;totInches&quot; and has no idea what it is.\r\n\r\nI also don&#39;t understand what this is trying to do...\r\n\r\n         public static double convertToInches(double numFeet, double numInches) {\r\n          return totInches * 12.0;\r\n       }\r\nWhy are you passing it the double variables numFeet and numInches? The function isn&#39;t using them. I also don&#39;t understand why you need both the number of feet AND **the number of inches** if the method, by its name, is trying to convert something into inches.","title":"Convert Height to Inches (Java)","body":"<p>You declared the double variable \"totInches\" inside of your main method, but you are trying to access it inside of your \"convertToInches\" method. When declaring a variable in a particular method, that variable is ONLY accessible by that method. Your \"convertToInches\" knows of only two variables: numFeet and numInches, which you passed to it in the parameter. It then looks at your return statement, sees \"totInches\" and has no idea what it is.</p>\n\n<p>I also don't understand what this is trying to do...</p>\n\n<pre><code>     public static double convertToInches(double numFeet, double numInches) {\n      return totInches * 12.0;\n   }\n</code></pre>\n\n<p>Why are you passing it the double variables numFeet and numInches? The function isn't using them. I also don't understand why you need both the number of feet AND <strong>the number of inches</strong> if the method, by its name, is trying to convert something into inches.</p>\n"},{"tags":[],"owner":{"account_id":26606439,"reputation":1,"user_id":20227193,"display_name":"Jeanette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665963890,"creation_date":1665626581,"answer_id":74049740,"question_id":29482721,"body_markdown":"```\r\n public static double convertToInches(double numFeet, double numInches) {\r\n      return (numFeet * 12) + numInches;\r\n```\r\nThis takes into account any variable amount entered by user for height of `5` feet `7` inches or `6` feet even","title":"Convert Height to Inches (Java)","body":"<pre><code> public static double convertToInches(double numFeet, double numInches) {\n      return (numFeet * 12) + numInches;\n</code></pre>\n<p>This takes into account any variable amount entered by user for height of <code>5</code> feet <code>7</code> inches or <code>6</code> feet even</p>\n"}],"owner":{"account_id":5752482,"reputation":71,"user_id":4541666,"accept_rate":62,"display_name":"Eternal Vapor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665963890,"creation_date":1428373725,"question_id":29482721,"body_markdown":"I am having issues with the output of my code. Seems I am missing something in my method that I created... I had instructions to return the total number of inches. I places totInches after return and get an error stating that totInches is not a variable. Not certain what is missing here as I am only supposed to be creating a method. Most of this code was written and the only portion I was supposed to created was the second convertToInches method.. Any advice?\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class FunctionOverloadToInches {\r\n    \r\n       public static double convertToInches(double numFeet) {\r\n          return numFeet * 12.0;\r\n       }\r\n    \r\n       public static double convertToInches(double numFeet, double numInches) {\r\n          return totInches * 12.0;\r\n       }\r\n    \r\n       public static void main (String [] args) {\r\n          double totInches = 0.0;\r\n    \r\n          totInches = convertToInches(4.0, 6.0);\r\n          System.out.println(&quot;4.0, 6.0 yields &quot; + totInches);\r\n    \r\n          totInches = convertToInches(5.9);\r\n          System.out.println(&quot;5.9 yields &quot; + totInches);\r\n          return;\r\n       }\r\n    }","title":"Convert Height to Inches (Java)","body":"<p>I am having issues with the output of my code. Seems I am missing something in my method that I created... I had instructions to return the total number of inches. I places totInches after return and get an error stating that totInches is not a variable. Not certain what is missing here as I am only supposed to be creating a method. Most of this code was written and the only portion I was supposed to created was the second convertToInches method.. Any advice?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class FunctionOverloadToInches {\n\n   public static double convertToInches(double numFeet) {\n      return numFeet * 12.0;\n   }\n\n   public static double convertToInches(double numFeet, double numInches) {\n      return totInches * 12.0;\n   }\n\n   public static void main (String [] args) {\n      double totInches = 0.0;\n\n      totInches = convertToInches(4.0, 6.0);\n      System.out.println(\"4.0, 6.0 yields \" + totInches);\n\n      totInches = convertToInches(5.9);\n      System.out.println(\"5.9 yields \" + totInches);\n      return;\n   }\n}\n</code></pre>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1665895328,"post_id":74084625,"comment_id":130803919,"body_markdown":"[java initialize base class fields in subclass constructor](https://stackoverflow.com/questions/51845169/java-initialize-base-class-fields-in-subclass-constructor) Or just enter the following in the search box at the top of this Web page: ___[java] initialize superclass member in subclass___","body":"<a href=\"https://stackoverflow.com/questions/51845169/java-initialize-base-class-fields-in-subclass-constructor\">java initialize base class fields in subclass constructor</a> Or just enter the following in the search box at the top of this Web page: <b><i>[java] initialize superclass member in subclass</i></b>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665898200,"post_id":74084625,"comment_id":130804172,"body_markdown":"Does this answer your question? [java initialize base class fields in subclass constructor](https://stackoverflow.com/questions/51845169/java-initialize-base-class-fields-in-subclass-constructor)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51845169/java-initialize-base-class-fields-in-subclass-constructor\">java initialize base class fields in subclass constructor</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665898237,"post_id":74084625,"comment_id":130804176,"body_markdown":"Don&#39;t use `static` for your fields. Static is class-level, not instance-level. Use the constructor to pass values. In any case, you should provide a [mre] with the code you have now.","body":"Don&#39;t use <code>static</code> for your fields. Static is class-level, not instance-level. Use the constructor to pass values. In any case, you should provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the code you have now."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665923086,"post_id":74084625,"comment_id":130808021,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665963815,"creation_date":1665963815,"answer_id":74091382,"question_id":74084625,"body_markdown":"This is an example that shows that you can have a superclass that has a general field (in our case species) and that field can be instantiated in the subclasses of the superclass with different values. The subclass can have a default constructor that sets a default value for the general field (in our case the species has the default value of cat) and we can have constructors that help us set a new spice for the subclass Cat.\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Animal animal = new Animal();\r\n            Cat cat = new Cat();\r\n            Cat tiger = new Cat(&quot;tiger&quot;);\r\n            Cat jaguar = new Cat(&quot;jaguar&quot;);\r\n    \r\n            System.out.println(&quot;Animal specie: &quot; + animal.species);\r\n            System.out.println(&quot;Normal cat specie: &quot; + cat.species);\r\n            System.out.println(&quot;Tiger cat specie: &quot; + tiger.species);\r\n            System.out.println(&quot;Jaguar cat specie: &quot; + jaguar.species);\r\n        }\r\n    }\r\n    \r\n    class Animal {\r\n        String species;\r\n    \r\n        public Animal() {\r\n            species = &quot;animal&quot;;\r\n        }\r\n    }\r\n    \r\n    class Cat extends Animal {\r\n        public Cat() {\r\n            species = &quot;cat&quot;;\r\n        }\r\n    \r\n        public Cat(String specie) {\r\n            species = specie;\r\n        }\r\n    }\r\n\r\n[Here you can see the result][1]\r\n\r\n  [1]: https://i.stack.imgur.com/2XlpD.png\r\n","title":"How can you initialize a superclass&#39;s variable in its subclass so that the subclass has its own value to that variable unique to the other subclasses?","body":"<p>This is an example that shows that you can have a superclass that has a general field (in our case species) and that field can be instantiated in the subclasses of the superclass with different values. The subclass can have a default constructor that sets a default value for the general field (in our case the species has the default value of cat) and we can have constructors that help us set a new spice for the subclass Cat.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Animal animal = new Animal();\n        Cat cat = new Cat();\n        Cat tiger = new Cat(&quot;tiger&quot;);\n        Cat jaguar = new Cat(&quot;jaguar&quot;);\n\n        System.out.println(&quot;Animal specie: &quot; + animal.species);\n        System.out.println(&quot;Normal cat specie: &quot; + cat.species);\n        System.out.println(&quot;Tiger cat specie: &quot; + tiger.species);\n        System.out.println(&quot;Jaguar cat specie: &quot; + jaguar.species);\n    }\n}\n\nclass Animal {\n    String species;\n\n    public Animal() {\n        species = &quot;animal&quot;;\n    }\n}\n\nclass Cat extends Animal {\n    public Cat() {\n        species = &quot;cat&quot;;\n    }\n\n    public Cat(String specie) {\n        species = specie;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2XlpD.png\" rel=\"nofollow noreferrer\">Here you can see the result</a></p>\n"}],"owner":{"account_id":26636785,"reputation":1,"user_id":20253077,"display_name":"StupiderByTheDay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665963815,"creation_date":1665894882,"question_id":74084625,"body_markdown":"For example, if in the class &#39;animal&#39; there was the String variable &#39;species,&#39; and I made a subclass &#39;Cat,&#39; how could I initialize the species variable so that for cat, it contained the value &quot;cat&quot;? Sorry for the dumb question.","title":"How can you initialize a superclass&#39;s variable in its subclass so that the subclass has its own value to that variable unique to the other subclasses?","body":"<p>For example, if in the class 'animal' there was the String variable 'species,' and I made a subclass 'Cat,' how could I initialize the species variable so that for cat, it contained the value &quot;cat&quot;? Sorry for the dumb question.</p>\n"},{"tags":["java","android","android-source","android-9.0-pie"],"answers":[{"tags":[],"owner":{"account_id":14250085,"reputation":51,"user_id":10293933,"display_name":"Anton Volodin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612479226,"creation_date":1612479226,"answer_id":66055065,"question_id":64741258,"body_markdown":"I found the information on the XDA forum that this issue can be fixed just after restarting the build:\r\nhttps://forum.xda-developers.com/t/xperia-open-project-and-gapps-help-wanted.3870751/#post-78284912\r\n\r\nIt didn&#39;t help me, yet I was able to overcome the problem on Ubuntu 20.04 LTS by going step by step, i.e. clean the module which fails, then build only this particular module:\r\n\r\n    $ make clean-apache-xml\r\n    $ make apache-xml\r\nAfter that, I got the same issue with another module - ims-common. I did the same to this package and after that apache-xml was built successfully and I was able to finish the AOSP build:\r\n\r\n    $ make clean-ims-common\r\n    $ make ims-common\r\n    $ make apache-xml\r\n    $ make -j12\r\n\r\n\r\n","title":"android p build failing - apache-xml_intermediates - hiddenapi","body":"<p>I found the information on the XDA forum that this issue can be fixed just after restarting the build:\n<a href=\"https://forum.xda-developers.com/t/xperia-open-project-and-gapps-help-wanted.3870751/#post-78284912\" rel=\"noreferrer\">https://forum.xda-developers.com/t/xperia-open-project-and-gapps-help-wanted.3870751/#post-78284912</a></p>\n<p>It didn't help me, yet I was able to overcome the problem on Ubuntu 20.04 LTS by going step by step, i.e. clean the module which fails, then build only this particular module:</p>\n<pre><code>$ make clean-apache-xml\n$ make apache-xml\n</code></pre>\n<p>After that, I got the same issue with another module - ims-common. I did the same to this package and after that apache-xml was built successfully and I was able to finish the AOSP build:</p>\n<pre><code>$ make clean-ims-common\n$ make ims-common\n$ make apache-xml\n$ make -j12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7927101,"reputation":141,"user_id":5986239,"display_name":"tomikmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618653715,"creation_date":1618653715,"answer_id":67136905,"question_id":64741258,"body_markdown":"I had the same issue while building LineageOS 16 (based on Android 9) on Ubuntu 20.04 LTS.\r\n\r\nI can confirm that [Anton&#39;s solution](https://stackoverflow.com/a/66055065/5986239) works also in this case. Moreover I use my build on a daily basis and I haven&#39;t found any issues.","title":"android p build failing - apache-xml_intermediates - hiddenapi","body":"<p>I had the same issue while building LineageOS 16 (based on Android 9) on Ubuntu 20.04 LTS.</p>\n<p>I can confirm that <a href=\"https://stackoverflow.com/a/66055065/5986239\">Anton's solution</a> works also in this case. Moreover I use my build on a daily basis and I haven't found any issues.</p>\n"},{"tags":[],"owner":{"account_id":9251156,"reputation":1771,"user_id":6871623,"accept_rate":81,"display_name":"Everyone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665963614,"creation_date":1665963614,"answer_id":74091368,"question_id":64741258,"body_markdown":"I&#39;ve had the same issue and I tried the suggested fixes, but neither worked. I noticed the Java JDK version was mismatched. Accordingly, I went ahead and installed JDK 8 which I know works for Android Pie. I just did what they did [here][1]. \r\n\r\nCopying from the provided source:\r\n\r\n    sudo apt update\r\n    sudo apt install openjdk-8-jdk\r\n\r\nThen verify the version:\r\n\r\n    java -version\r\n\r\n&gt; openjdk version &quot;1.8.0_242&quot;  \r\n&gt; OpenJDK Runtime Environment (build 1.8.0_242-b09)  \r\n&gt; OpenJDK 64-Bit Server VM (build 25.242-b09, mixed mode) \r\n\r\n\r\nThen restart the build and it should be good. \r\n\r\nNote: if you aren&#39;t using Debian, the source I provided also has ways to install JDK8 on other platforms.\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/jdk-install/doc/jdk-install/installOpenJdkDeb.html","title":"android p build failing - apache-xml_intermediates - hiddenapi","body":"<p>I've had the same issue and I tried the suggested fixes, but neither worked. I noticed the Java JDK version was mismatched. Accordingly, I went ahead and installed JDK 8 which I know works for Android Pie. I just did what they did <a href=\"https://docs.datastax.com/en/jdk-install/doc/jdk-install/installOpenJdkDeb.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Copying from the provided source:</p>\n<pre><code>sudo apt update\nsudo apt install openjdk-8-jdk\n</code></pre>\n<p>Then verify the version:</p>\n<pre><code>java -version\n</code></pre>\n<blockquote>\n<p>openjdk version &quot;1.8.0_242&quot;<br />\nOpenJDK Runtime Environment (build 1.8.0_242-b09)<br />\nOpenJDK 64-Bit Server VM (build 25.242-b09, mixed mode)</p>\n</blockquote>\n<p>Then restart the build and it should be good.</p>\n<p>Note: if you aren't using Debian, the source I provided also has ways to install JDK8 on other platforms.</p>\n"}],"owner":{"account_id":20355,"reputation":892,"user_id":48567,"accept_rate":79,"display_name":"Stephen Burke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1442,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1665963614,"creation_date":1604857711,"question_id":64741258,"body_markdown":"Ubuntu 18.04\r\n\r\nAndroid P\r\n\r\nrepo init -u https://android.googlesource.com/platform/manifest -b android-9.0.0_r60\r\n\r\nAny idea what&#39;s going on here?  I&#39;m guessing this is a difference in Java environment since the hiddenapi binary seems to fail but the build seems to be picking up the java bundled in the source tree so it should work.  I deleted all java packages before this build.  Do I need some installed?  I was able to get this successful at some point but can&#39;t get back to it on a clean machine.  Thanks in advance.\r\n\r\n```\r\nParsing out/target/product/arm64/obj/ETC/sepolicy_neverallows_intermediates/plat_pub_policy.cil\r\nParsing out/target/product/arm64/obj/ETC/vendor_sepolicy.cil_intermediates/vendor_policy_raw.cil\r\n[ 83% 63419/76082] Target cache fs image: out/target/product/arm64/cache.img\r\nWARNING: out/target/product/arm64/cache.img approaching size limit (69206016 now; limit 69206016)\r\n[ 85% 64672/75715] build out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\r\nFAILED: out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex \r\n/bin/bash -c &quot;(rm -rf out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (mkdir -p out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex/ -maxdepth 1 -name \\&quot;classes*.dex\\&quot; | sort | xargs -I{} cp -f {} out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ -name \\&quot;classes*.dex\\&quot; | sort | sed &#39;s/^/--dex=/&#39; | xargs out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt )&quot;\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] No DEX files specified\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] Command: out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] Usage: hiddenapi [options]...\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --dex=&lt;filename&gt;: specify dex file whose members&#39; access flags are to be set.\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]       At least one --dex parameter must be specified.\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --light-greylist=&lt;filename&gt;:\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --dark-greylist=&lt;filename&gt;:\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --blacklist=&lt;filename&gt;: text files with signatures of methods/fields to be marked\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]       greylisted/blacklisted respectively. At least one list must be provided.\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --print-hidden-api: dump a list of marked methods/fields to the standard output.\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]       There is no indication which API category they belong to.\r\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \r\n[ 85% 64679/75707] //libcore:core-oj d8 [common]\r\nninja: build stopped: subcommand failed.\r\n12:35:01 ninja failed with: exit status 1\r\n\r\n#### failed to build some targets (02:49:08 (hh:mm:ss)) ####\r\n\r\nsburke@sburke-xps:~/sandbox/a/pie$ java --version \r\nopenjdk 9\r\nOpenJDK Runtime Environment (build 9+181-android4627429)\r\nOpenJDK 64-Bit Server VM (build 9+181-android4627429, mixed mode)\r\nsburke@sburke-xps:~/sandbox/a/pie$ which java \r\n/home/sburke/sandbox/a/pie/prebuilts/jdk/jdk9/linux-x86/bin/java\r\n```","title":"android p build failing - apache-xml_intermediates - hiddenapi","body":"<p>Ubuntu 18.04</p>\n<p>Android P</p>\n<p>repo init -u <a href=\"https://android.googlesource.com/platform/manifest\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/manifest</a> -b android-9.0.0_r60</p>\n<p>Any idea what's going on here?  I'm guessing this is a difference in Java environment since the hiddenapi binary seems to fail but the build seems to be picking up the java bundled in the source tree so it should work.  I deleted all java packages before this build.  Do I need some installed?  I was able to get this successful at some point but can't get back to it on a clean machine.  Thanks in advance.</p>\n<pre><code>Parsing out/target/product/arm64/obj/ETC/sepolicy_neverallows_intermediates/plat_pub_policy.cil\nParsing out/target/product/arm64/obj/ETC/vendor_sepolicy.cil_intermediates/vendor_policy_raw.cil\n[ 83% 63419/76082] Target cache fs image: out/target/product/arm64/cache.img\nWARNING: out/target/product/arm64/cache.img approaching size limit (69206016 now; limit 69206016)\n[ 85% 64672/75715] build out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\nFAILED: out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex \n/bin/bash -c &quot;(rm -rf out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (mkdir -p out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex/ -maxdepth 1 -name \\&quot;classes*.dex\\&quot; | sort | xargs -I{} cp -f {} out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ -name \\&quot;classes*.dex\\&quot; | sort | sed 's/^/--dex=/' | xargs out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt )&quot;\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] No DEX files specified\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] Command: out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] Usage: hiddenapi [options]...\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --dex=&lt;filename&gt;: specify dex file whose members' access flags are to be set.\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]       At least one --dex parameter must be specified.\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --light-greylist=&lt;filename&gt;:\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --dark-greylist=&lt;filename&gt;:\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --blacklist=&lt;filename&gt;: text files with signatures of methods/fields to be marked\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]       greylisted/blacklisted respectively. At least one list must be provided.\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]   --print-hidden-api: dump a list of marked methods/fields to the standard output.\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47]       There is no indication which API category they belong to.\nhiddenapi E 11-08 12:34:51 29841 29841 hiddenapi.cc:47] \n[ 85% 64679/75707] //libcore:core-oj d8 [common]\nninja: build stopped: subcommand failed.\n12:35:01 ninja failed with: exit status 1\n\n#### failed to build some targets (02:49:08 (hh:mm:ss)) ####\n\nsburke@sburke-xps:~/sandbox/a/pie$ java --version \nopenjdk 9\nOpenJDK Runtime Environment (build 9+181-android4627429)\nOpenJDK 64-Bit Server VM (build 9+181-android4627429, mixed mode)\nsburke@sburke-xps:~/sandbox/a/pie$ which java \n/home/sburke/sandbox/a/pie/prebuilts/jdk/jdk9/linux-x86/bin/java\n</code></pre>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1665960407,"post_id":74091137,"comment_id":130815585,"body_markdown":"Break the loop after `t = false;` i.e. do it as `t = false; break;`. Also, what&#39;s not working for you?","body":"Break the loop after <code>t = false;</code> i.e. do it as <code>t = false; break;</code>. Also, what&#39;s not working for you?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1665960600,"post_id":74091137,"comment_id":130815608,"body_markdown":"`return number.matches(&quot;\\\\d+&quot;);`","body":"<code>return number.matches(&quot;\\\\d+&quot;);</code>"},{"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"score":0,"creation_date":1665961100,"post_id":74091137,"comment_id":130815684,"body_markdown":"Your `char[] s` has 10 values, but you&#39;re just checking the first 9 values `k &lt; 9` (0-8). You should change it to something like `k &lt; c.length()` or `k &lt;= 9` or `k &lt; 10`","body":"Your <code>char[] s</code> has 10 values, but you&#39;re just checking the first 9 values <code>k &lt; 9</code> (0-8). You should change it to something like <code>k &lt; c.length()</code> or <code>k &lt;= 9</code> or <code>k &lt; 10</code>"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665962121,"creation_date":1665961476,"answer_id":74091234,"question_id":74091137,"body_markdown":"First of all, there are better ways to check whether a given String consists of digits, only. But let&#39;s &#39;debug&#39; your code.\r\n\r\nIn pseudo code you&#39;re trying to do the following:\r\n```\r\npublic static boolean isDecimal(String number) {\r\n    char[] s = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n    char[] c = number.toCharArray();\r\n\r\n    boolean t = true;\r\n    for (int i = 0; t &amp;&amp; i &lt; number.length(); i++) {\r\n        t = s contains c[i]\r\n    }\r\n\r\n    return t;\r\n}\r\n```\r\n\r\nThe problem is, that your inner loop doesn&#39;t test if `s contains c[i]`, but if there&#39;s at least one digit that is different from `c[i]` (which always evaluates to `true`, of course).\r\n\r\nAnother (minor) problem is, that you don&#39;t test all elements of s, because of the condition `k &lt; 9` in your inner loop. \r\n\r\nHow to fix this? Basically, you&#39;ve got to invert the logic:\r\n\r\n```\r\nboolean found = false;\r\nfor (int k = 0; !found &amp;&amp; k &lt; s.length; k++) { // note the correct condition\r\n    found = (c[i] == s[k]);\r\n}\r\n```\r\n\r\nHaving this, `found == true` if (and only if) `s` contains `c[i]`. Next, you can tell for sure that if `found == false`, `number` contains non-digits. \r\n\r\nLet&#39;s put all together:\r\n\r\n```\r\npublic static boolean isDecimal(String number) {\r\n    char[] s = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n    char[] c = number.toCharArray();\r\n\r\n    for (int i = 0; i &lt; number.length(); i++) {\r\n        boolean found = false;\r\n        for (int k = 0; !found &amp;&amp; k &lt; s.length; k++) {\r\n            found = (c[i] == s[k]);\r\n        }\r\n        if (!found) return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n```\r\n\r\nNeedless to say, that there are better options to perform this check, but I guess this is just code to learn something.\r\n\r\n","title":"Nested for loops to compare char arrays","body":"<p>First of all, there are better ways to check whether a given String consists of digits, only. But let's 'debug' your code.</p>\n<p>In pseudo code you're trying to do the following:</p>\n<pre><code>public static boolean isDecimal(String number) {\n    char[] s = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n    char[] c = number.toCharArray();\n\n    boolean t = true;\n    for (int i = 0; t &amp;&amp; i &lt; number.length(); i++) {\n        t = s contains c[i]\n    }\n\n    return t;\n}\n</code></pre>\n<p>The problem is, that your inner loop doesn't test if <code>s contains c[i]</code>, but if there's at least one digit that is different from <code>c[i]</code> (which always evaluates to <code>true</code>, of course).</p>\n<p>Another (minor) problem is, that you don't test all elements of s, because of the condition <code>k &lt; 9</code> in your inner loop.</p>\n<p>How to fix this? Basically, you've got to invert the logic:</p>\n<pre><code>boolean found = false;\nfor (int k = 0; !found &amp;&amp; k &lt; s.length; k++) { // note the correct condition\n    found = (c[i] == s[k]);\n}\n</code></pre>\n<p>Having this, <code>found == true</code> if (and only if) <code>s</code> contains <code>c[i]</code>. Next, you can tell for sure that if <code>found == false</code>, <code>number</code> contains non-digits.</p>\n<p>Let's put all together:</p>\n<pre><code>public static boolean isDecimal(String number) {\n    char[] s = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n    char[] c = number.toCharArray();\n\n    for (int i = 0; i &lt; number.length(); i++) {\n        boolean found = false;\n        for (int k = 0; !found &amp;&amp; k &lt; s.length; k++) {\n            found = (c[i] == s[k]);\n        }\n        if (!found) return false;\n    }\n\n    return true;\n}\n</code></pre>\n<p>Needless to say, that there are better options to perform this check, but I guess this is just code to learn something.</p>\n"}],"owner":{"account_id":26583720,"reputation":19,"user_id":20207972,"display_name":"cordesjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74091234,"answer_count":1,"score":0,"last_activity_date":1665962121,"creation_date":1665960079,"question_id":74091137,"body_markdown":"I am trying to compare the char Array c with s, in order to find out if c does not contain any element of s at index i. Therefore I am incrementing i and k at the same time, but it does not work for me. \r\n\r\nThe code should check if the entered number belongs to the decimal system (for example: 70, and 12B). For 70 it should be checked if at index zero and one (char[] c) the chars lie within the char array s. For 12B, index zero, one and two would be checked in char array s, only to find out that char array s does not contain index two (&quot;B&quot;). I hope I could make it a bit more clear.\r\n\r\n```\r\npublic static boolean isDecimal(String number) {\r\n\tboolean t = true;\r\n\tchar[] s = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39; };\r\n\tchar[] c = number.toCharArray();\r\n\r\n\tfor (int i = 0; i &lt; number.length(); i++) {\r\n\t\tfor (int k = 0; k &lt; 9; k++) {\r\n\t\t\tif (c[i] != s[k]) {\r\n\t\t\t\tt = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn t;\r\n}","title":"Nested for loops to compare char arrays","body":"<p>I am trying to compare the char Array c with s, in order to find out if c does not contain any element of s at index i. Therefore I am incrementing i and k at the same time, but it does not work for me.</p>\n<p>The code should check if the entered number belongs to the decimal system (for example: 70, and 12B). For 70 it should be checked if at index zero and one (char[] c) the chars lie within the char array s. For 12B, index zero, one and two would be checked in char array s, only to find out that char array s does not contain index two (&quot;B&quot;). I hope I could make it a bit more clear.</p>\n<pre><code>public static boolean isDecimal(String number) {\n    boolean t = true;\n    char[] s = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9' };\n    char[] c = number.toCharArray();\n\n    for (int i = 0; i &lt; number.length(); i++) {\n        for (int k = 0; k &lt; 9; k++) {\n            if (c[i] != s[k]) {\n                t = false;\n            }\n        }\n    }\n\n    return t;\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1665862534,"post_id":74082338,"comment_id":130799953,"body_markdown":"Off topic: With a good Object-Oriented design, you could have a `class Dog` with a &quot;name&quot; property and a &quot;color&quot; property. For each `Dog` object, the name and color could be assigned during construction.","body":"Off topic: With a good Object-Oriented design, you could have a <code>class Dog</code> with a &quot;name&quot; property and a &quot;color&quot; property. For each <code>Dog</code> object, the name and color could be assigned during construction."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1665939065,"post_id":74082338,"comment_id":130811453,"body_markdown":"Step through `isdogcolorRed` with a for loop like for `(int i = 0; i &lt; isdogcolorRed.length; i++)` . When the indexed value is `true` , use the value of the index (`i`) to get the matching name from `dogNames`.","body":"Step through <code>isdogcolorRed</code> with a for loop like for <code>(int i = 0; i &lt; isdogcolorRed.length; i++)</code> . When the indexed value is <code>true</code> , use the value of the index (<code>i</code>) to get the matching name from <code>dogNames</code>."}],"answers":[{"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665962078,"creation_date":1665962078,"answer_id":74091271,"question_id":74082338,"body_markdown":"This code does the job\r\n\r\n        List&lt;String&gt; dogNames = List.of(&quot;Charlie&quot;, &quot;Luis&quot;, &quot;Annie&quot;);\r\n        List&lt;Boolean&gt; isDogColorRed = List.of(true, false, false);\r\n\r\n        for (int i = 0; i &lt; isDogColorRed.size(); i++) {\r\n            if (isDogColorRed.get(i))\r\n                System.out.println(dogNames.get(i));\r\n        }","title":"How can i print the value from one array which has corresponding value from other array","body":"<p>This code does the job</p>\n<pre><code>    List&lt;String&gt; dogNames = List.of(&quot;Charlie&quot;, &quot;Luis&quot;, &quot;Annie&quot;);\n    List&lt;Boolean&gt; isDogColorRed = List.of(true, false, false);\n\n    for (int i = 0; i &lt; isDogColorRed.size(); i++) {\n        if (isDogColorRed.get(i))\n            System.out.println(dogNames.get(i));\n    }\n</code></pre>\n"}],"owner":{"account_id":25419118,"reputation":1,"user_id":19225480,"display_name":"Frebush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1665962078,"creation_date":1665861685,"question_id":74082338,"body_markdown":"For example\r\n1. array   dogNames { Charlie, Luis, Annie}\r\n2. array  isdogcolorRed { true, false, false}\r\n\r\nhow can i print the name of the dog which has corresponding value from isdogcolorRed array? ","title":"How can i print the value from one array which has corresponding value from other array","body":"<p>For example</p>\n<ol>\n<li>array   dogNames { Charlie, Luis, Annie}</li>\n<li>array  isdogcolorRed { true, false, false}</li>\n</ol>\n<p>how can i print the name of the dog which has corresponding value from isdogcolorRed array?</p>\n"},{"tags":["java","html","applet","ip-address","lighttpd"],"comments":[{"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"score":1,"creation_date":1342725894,"post_id":11567828,"comment_id":15302900,"body_markdown":"I am not sure what you are asking. An applet is always run on a client computer. That is the whole distribution model.","body":"I am not sure what you are asking. An applet is always run on a client computer. That is the whole distribution model."},{"owner":{"account_id":1633185,"reputation":47,"user_id":1507346,"accept_rate":100,"display_name":"Dylan"},"score":0,"creation_date":1342726130,"post_id":11567828,"comment_id":15303000,"body_markdown":"I know but in order to get the correct database file i need to have the ip address of the computer running the webserver. this is for something where i CANNOT have the ip-address hard-coded into the java program","body":"I know but in order to get the correct database file i need to have the ip address of the computer running the webserver. this is for something where i CANNOT have the ip-address hard-coded into the java program"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1342827464,"post_id":11567828,"comment_id":15334944,"body_markdown":"*&quot;I have tried everything I have found&quot;*  What have you found or tried?  Why did it fail?  Most importantly, what feature are you trying to offer by achieving the stated task?","body":"<i>&quot;I have tried everything I have found&quot;</i>  What have you found or tried?  Why did it fail?  Most importantly, what feature are you trying to offer by achieving the stated task?"}],"answers":[{"tags":[],"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1342726280,"creation_date":1342726280,"answer_id":11567966,"question_id":11567828,"body_markdown":"How about generating the page with the java applet with php? You could then pass the IP of the server as a parameter to the applet.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/deployment/applet/param.html","title":"How do I get the address used to access a website in java","body":"<p>How about generating the page with the java applet with php? You could then pass the IP of the server as a parameter to the applet.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/deployment/applet/param.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/deployment/applet/param.html</a></p>\n"},{"tags":[],"owner":{"account_id":468637,"reputation":3176,"user_id":874748,"display_name":"Russell Shingleton"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1665962018,"creation_date":1342726931,"answer_id":11568116,"question_id":11567828,"body_markdown":"You can get this information from the HttpServletRequest class. There are several methods included  which may be useful. Refer to the following docs as a resource:\r\n\r\n[Interface ServletRequest][1]\r\n\r\n[Interface HttpServletRequest][2]\r\n\r\n\r\nIt&#39;s also documented here:\r\n\r\n[Getting the IP Address and Hostname of the Local Machine][5]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html\r\n  [2]: http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html\r\n  [3]: https://stackoverflow.com/questions/3177203/get-server-ip-address-from-jsp-request-session-object\r\n  [4]: https://stackoverflow.com/questions/1826977/get-application-server-name-or-ip-and-port-in-java\r\n  [5]: http://www.exampledepot.com/egs/java.net/Local.html","title":"How do I get the address used to access a website in java","body":"<p>You can get this information from the HttpServletRequest class. There are several methods included  which may be useful. Refer to the following docs as a resource:</p>\n<p><a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html\" rel=\"nofollow noreferrer\">Interface ServletRequest</a></p>\n<p><a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html\" rel=\"nofollow noreferrer\">Interface HttpServletRequest</a></p>\n<p>It's also documented here:</p>\n<p><a href=\"http://www.exampledepot.com/egs/java.net/Local.html\" rel=\"nofollow noreferrer\">Getting the IP Address and Hostname of the Local Machine</a></p>\n"}],"owner":{"account_id":1633185,"reputation":47,"user_id":1507346,"accept_rate":100,"display_name":"Dylan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11567966,"answer_count":2,"score":0,"last_activity_date":1665962018,"creation_date":1342725634,"question_id":11567828,"body_markdown":"I&#39;m sorry about the terible wording of my question but I wasn&#39;t sure how else to word it.\r\n\r\nAnyway, I have a Java Applet that is embbeded on a webpage. That webpage is then put up in the network using the webserver lighttpd. I need to from within the Java applet (through webpage accessed from different computer on the network) get the IPv4 Address of the computer which is running the server (this is the address typed in to access page, ex. &quot;http://192.168.1.123&quot;). I have tried everything I have found or could think of but nothing has worked so far. PLEASE help if you can.\r\n\r\nspecs:\r\n    \r\n    -Eclipse Helios\r\n    -Windows 7\r\n    -lightTPD for windows\r\n    -webpage is html document\r\n\r\nemail or comment if you need more info!\r\n\r\nthank you all in advance.","title":"How do I get the address used to access a website in java","body":"<p>I'm sorry about the terible wording of my question but I wasn't sure how else to word it.</p>\n\n<p>Anyway, I have a Java Applet that is embbeded on a webpage. That webpage is then put up in the network using the webserver lighttpd. I need to from within the Java applet (through webpage accessed from different computer on the network) get the IPv4 Address of the computer which is running the server (this is the address typed in to access page, ex. \"http://192.168.1.123\"). I have tried everything I have found or could think of but nothing has worked so far. PLEASE help if you can.</p>\n\n<p>specs:</p>\n\n<pre><code>-Eclipse Helios\n-Windows 7\n-lightTPD for windows\n-webpage is html document\n</code></pre>\n\n<p>email or comment if you need more info!</p>\n\n<p>thank you all in advance.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1310245774,"post_id":6637459,"comment_id":7840948,"body_markdown":"Are you very new at Java? Is this homework?","body":"Are you very new at Java? Is this homework?"},{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1310245803,"post_id":6637459,"comment_id":7840952,"body_markdown":"&quot;hundreds of customers&quot; isn&#39;t big _at all_.","body":"&quot;hundreds of customers&quot; isn&#39;t big <i>at all</i>."},{"owner":{"account_id":780093,"reputation":1,"user_id":837103,"display_name":"Lars012"},"score":0,"creation_date":1310245868,"post_id":6637459,"comment_id":7840958,"body_markdown":"@GregS - Yes this a homework.","body":"@GregS - Yes this a homework."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1310245941,"post_id":6637459,"comment_id":7840968,"body_markdown":"@Lars012: Not a problem, but the it is considered polite to include a homework tag in the question. I have done so.","body":"@Lars012: Not a problem, but the it is considered polite to include a homework tag in the question. I have done so."},{"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"score":0,"creation_date":1310247140,"post_id":6637459,"comment_id":7841112,"body_markdown":"cmon i did all that work for u at least give me the credit for it","body":"cmon i did all that work for u at least give me the credit for it"},{"owner":{"account_id":780093,"reputation":1,"user_id":837103,"display_name":"Lars012"},"score":0,"creation_date":1310249921,"post_id":6637459,"comment_id":7841469,"body_markdown":"@stas - Of course I will give you credit. Iam testing your code right know.","body":"@stas - Of course I will give you credit. Iam testing your code right know."}],"answers":[{"tags":[],"owner":{"account_id":382548,"reputation":4765,"user_id":737842,"accept_rate":90,"display_name":"Stas Jaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310248393,"creation_date":1310246577,"answer_id":6637560,"question_id":6637459,"body_markdown":"Like so:\r\n\r\n    public void getEmployees(File f) throws Exception {\r\n    \t// An ArrayList of your Employee-Object to hold multiple Employees\r\n    \tArrayList&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n    \t// The reader to read from your File\r\n    \tBufferedReader in = new BufferedReader(new FileReader(f.getAbsolutePath()));\r\n    \t// This will later contain one single line from your file\r\n    \tString line = &quot;&quot;;\r\n    \t\r\n    \t// Temporary fields for the constructor of your Employee-class\r\n    \tint number;\r\n    \tString name;\r\n    \tString adress;\r\n    \tString phone;\r\n    \t\r\n    \t// Read the File untill the end is reached (when &quot;readLine()&quot; returns &quot;null&quot;)\r\n    \t// the &quot;line&quot;-String contains one single line from your file.\r\n    \twhile ( (line = in.readLine()) != null ) {\r\n    \t\t// See if your Line contains the Customers ID:\r\n    \t\tif (line.startsWith(&quot;Customer&quot;)) {\r\n    \t\t\t// Parse the number to an &quot;int&quot; because the read value\r\n    \t\t\t// is a String.\r\n    \t\t\tnumber = Integer.parseInt(s.substring(&quot;Customer &quot;.length()).substring(0,s.indexOf(&#39;:&#39;)));\r\n    \t\t} else if (line.startsWith(&quot;Adress:&quot;)) {\r\n    \t\t\t// The Adress is noted in the next line, so we\r\n    \t\t\t// read the next line:\r\n    \t\t\tadress = in.readLine();\r\n    \t\t} else if (line.startsWith(&quot;Phone number:&quot;)) {\r\n    \t\t\t// Same as the Adress:\r\n    \t\t\tphone = in.readLine();\r\n    \t\t} else if (line.startsWith(&quot;Name:&quot;)){\r\n    \t\t\t// Same as the Adress:\r\n    \t\t\tname = in.readLine();\r\n    \t\t} else if ( line.equals(&quot;&quot;) ){\r\n    \t\t\t// The empty line marks the end of one set of Data\r\n    \t\t\t// Now we can create your Employee-Object with the\r\n    \t\t\t// read values:\r\n    \t\t\temployees.add(new Employee(number,name,adress,phone));\t\t\r\n    \t\t}\r\n    \t}\r\n    \t// After we processed the whole file, we return the Employee-Array\r\n    \tEmployee[] emplyeeArray = (Employee[])employees.toArray();\r\n    }\r\n\r\nPlease give +1 and correct for ur hw lol","title":"Java - Use Scanner to read big text files","body":"<p>Like so:</p>\n\n<pre><code>public void getEmployees(File f) throws Exception {\n    // An ArrayList of your Employee-Object to hold multiple Employees\n    ArrayList&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\n    // The reader to read from your File\n    BufferedReader in = new BufferedReader(new FileReader(f.getAbsolutePath()));\n    // This will later contain one single line from your file\n    String line = \"\";\n\n    // Temporary fields for the constructor of your Employee-class\n    int number;\n    String name;\n    String adress;\n    String phone;\n\n    // Read the File untill the end is reached (when \"readLine()\" returns \"null\")\n    // the \"line\"-String contains one single line from your file.\n    while ( (line = in.readLine()) != null ) {\n        // See if your Line contains the Customers ID:\n        if (line.startsWith(\"Customer\")) {\n            // Parse the number to an \"int\" because the read value\n            // is a String.\n            number = Integer.parseInt(s.substring(\"Customer \".length()).substring(0,s.indexOf(':')));\n        } else if (line.startsWith(\"Adress:\")) {\n            // The Adress is noted in the next line, so we\n            // read the next line:\n            adress = in.readLine();\n        } else if (line.startsWith(\"Phone number:\")) {\n            // Same as the Adress:\n            phone = in.readLine();\n        } else if (line.startsWith(\"Name:\")){\n            // Same as the Adress:\n            name = in.readLine();\n        } else if ( line.equals(\"\") ){\n            // The empty line marks the end of one set of Data\n            // Now we can create your Employee-Object with the\n            // read values:\n            employees.add(new Employee(number,name,adress,phone));      \n        }\n    }\n    // After we processed the whole file, we return the Employee-Array\n    Employee[] emplyeeArray = (Employee[])employees.toArray();\n}\n</code></pre>\n\n<p>Please give +1 and correct for ur hw lol</p>\n"},{"tags":[],"owner":{"account_id":369779,"reputation":25497,"user_id":717341,"accept_rate":93,"display_name":"Lukas Knuth"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665961756,"creation_date":1310248608,"answer_id":6637739,"question_id":6637459,"body_markdown":"As a little extension to [stas][1] answer:\r\n\r\nThe originally posted code doesn&#39;t work, because a `continue` skips the current loop-iteration. So unless the line starts with `&quot;&quot;`, nothing is ever done. \r\n\r\n  [1]: https://stackoverflow.com/users/737842/stas","title":"Java - Use Scanner to read big text files","body":"<p>As a little extension to <a href=\"https://stackoverflow.com/users/737842/stas\">stas</a> answer:</p>\n<p>The originally posted code doesn't work, because a <code>continue</code> skips the current loop-iteration. So unless the line starts with <code>&quot;&quot;</code>, nothing is ever done.</p>\n"}],"owner":{"account_id":780093,"reputation":1,"user_id":837103,"display_name":"Lars012"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665961756,"creation_date":1310245534,"question_id":6637459,"body_markdown":"I have a very big text file with customer information. I would like to read all the customer information from the text file. \r\n\r\nThis is how my text file is organized:\r\n\r\n    Costomer 1:\r\n    Name: \r\n    Erik Andersson\r\n    Adress:\r\n    Street1\r\n    Phone number:\r\n    085610540\r\n    \r\n    Costomer 2:\r\n    Name: \r\n    Lars Larsson\r\n    Adress:\r\n    Street1\r\n    Phone number:\r\n    085610540\r\n\r\nI would like to be able read all the customer information. Is there any good way to it with? I have read about Scanner and Pattern and was wondering if it is good idea to use them in this case? My text file is very big and contains hundreds of customers. \r\n\r\nDose any one have any idea how I could read all the information from the text file? I have created a class with customer variabled, I only need help with the reading from the text file. I want to read the information in an organized way.\r\n\r\nAll help is very very appreciated.","title":"Java - Use Scanner to read big text files","body":"<p>I have a very big text file with customer information. I would like to read all the customer information from the text file. </p>\n\n<p>This is how my text file is organized:</p>\n\n<pre><code>Costomer 1:\nName: \nErik Andersson\nAdress:\nStreet1\nPhone number:\n085610540\n\nCostomer 2:\nName: \nLars Larsson\nAdress:\nStreet1\nPhone number:\n085610540\n</code></pre>\n\n<p>I would like to be able read all the customer information. Is there any good way to it with? I have read about Scanner and Pattern and was wondering if it is good idea to use them in this case? My text file is very big and contains hundreds of customers. </p>\n\n<p>Dose any one have any idea how I could read all the information from the text file? I have created a class with customer variabled, I only need help with the reading from the text file. I want to read the information in an organized way.</p>\n\n<p>All help is very very appreciated.</p>\n"},{"tags":["java","lombok","jshell"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665960624,"creation_date":1665891752,"answer_id":74084458,"question_id":74084364,"body_markdown":"It won&#39;t work.  JShell doesn&#39;t support annotation processors as would be needed to make the Lombok annotations to work as you are expecting.\r\n\r\nSee [JDK-8213600 - JShell compilation does not take Lombok&#39;s annotation processor into account](https://bugs.openjdk.org/browse/JDK-8213600)\r\n\r\n-------------------\r\n\r\nFor a workaround, see https://stackoverflow.com/a/74084467/139985 or the bug report itself.  \r\n\r\nBasically, you need to compile the Lombok code outside of jshell, and then import the compiled classes into your jshell session.\r\n","title":"How to use Lombok in jshell?","body":"<p>It won't work.  JShell doesn't support annotation processors as would be needed to make the Lombok annotations to work as you are expecting.</p>\n<p>See <a href=\"https://bugs.openjdk.org/browse/JDK-8213600\" rel=\"nofollow noreferrer\">JDK-8213600 - JShell compilation does not take Lombok's annotation processor into account</a></p>\n<hr />\n<p>For a workaround, see <a href=\"https://stackoverflow.com/a/74084467/139985\">https://stackoverflow.com/a/74084467/139985</a> or the bug report itself.</p>\n<p>Basically, you need to compile the Lombok code outside of jshell, and then import the compiled classes into your jshell session.</p>\n"},{"tags":[],"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665893329,"creation_date":1665891933,"answer_id":74084467,"question_id":74084364,"body_markdown":"This is currently not possible as described by [this bug report](https://bugs.openjdk.org/browse/JDK-8213600).\r\n\r\nThe workaround that is mentioned there is to compile your class externally. For that, you basically have to follow the following steps:\r\n\r\n1. Create some directory, e.g. `com/example`.\r\n2. Put the `Person` class below in that directory.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport lombok.*;\r\n\r\n@Data\r\npublic class Person {\r\n    private String name;\r\n    private int age;\r\n}\r\n```\r\n\r\n3. Compile the class with: \r\n\r\n```sh\r\njavac -cp lombok.jar com/example/Person.java \r\n```\r\n\r\n4. Create an archive with:\r\n\r\n```sh\r\njar -cf person.jar com/\r\n``` \r\n\r\n5. Run JShell:\r\n\r\n```sh\r\njshell --class-path &quot;person.jar:lombok.jar&quot;\r\n```\r\n\r\n6. Create a `Person`:\r\n\r\n```\r\n&gt; import com.example.*;\r\n&gt; var p = new Person();\r\n```\r\n\r\nAlso note that JShell cannot access classes that are in the default package (as described [here](https://docs.oracle.com/javase/10/jshell/external-code.htm)) which is why we put `Person` in `com.example`.","title":"How to use Lombok in jshell?","body":"<p>This is currently not possible as described by <a href=\"https://bugs.openjdk.org/browse/JDK-8213600\" rel=\"nofollow noreferrer\">this bug report</a>.</p>\n<p>The workaround that is mentioned there is to compile your class externally. For that, you basically have to follow the following steps:</p>\n<ol>\n<li>Create some directory, e.g. <code>com/example</code>.</li>\n<li>Put the <code>Person</code> class below in that directory.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport lombok.*;\n\n@Data\npublic class Person {\n    private String name;\n    private int age;\n}\n</code></pre>\n<ol start=\"3\">\n<li>Compile the class with:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>javac -cp lombok.jar com/example/Person.java \n</code></pre>\n<ol start=\"4\">\n<li>Create an archive with:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>jar -cf person.jar com/\n</code></pre>\n<ol start=\"5\">\n<li>Run JShell:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>jshell --class-path &quot;person.jar:lombok.jar&quot;\n</code></pre>\n<ol start=\"6\">\n<li>Create a <code>Person</code>:</li>\n</ol>\n<pre><code>&gt; import com.example.*;\n&gt; var p = new Person();\n</code></pre>\n<p>Also note that JShell cannot access classes that are in the default package (as described <a href=\"https://docs.oracle.com/javase/10/jshell/external-code.htm\" rel=\"nofollow noreferrer\">here</a>) which is why we put <code>Person</code> in <code>com.example</code>.</p>\n"}],"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74084458,"answer_count":2,"score":2,"last_activity_date":1665961744,"creation_date":1665890208,"question_id":74084364,"body_markdown":"How I can use Lombok annotation in JShell?\r\n\r\nI tried\r\n```\r\n* jshell --class-path lombok.jar\r\njshell&gt; import lombok.*\r\njshell&gt; @Data class Person { String name; String address; }\r\n|  created class Person\r\njshell&gt; new Person()\r\n$3 ==&gt; Person@6f7fd0e6\r\njshell&gt; $3.setName(&quot;Hi&quot;)\r\n|  Error:\r\n|  cannot find symbol\r\n|    symbol:   method setName(java.lang.String)\r\n|  $3.setName(&quot;Hi&quot;)\r\n|  ^--------^\r\n\r\n```","title":"How to use Lombok in jshell?","body":"<p>How I can use Lombok annotation in JShell?</p>\n<p>I tried</p>\n<pre><code>* jshell --class-path lombok.jar\njshell&gt; import lombok.*\njshell&gt; @Data class Person { String name; String address; }\n|  created class Person\njshell&gt; new Person()\n$3 ==&gt; Person@6f7fd0e6\njshell&gt; $3.setName(&quot;Hi&quot;)\n|  Error:\n|  cannot find symbol\n|    symbol:   method setName(java.lang.String)\n|  $3.setName(&quot;Hi&quot;)\n|  ^--------^\n\n</code></pre>\n"},{"tags":["java","list"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1438706702,"post_id":31814815,"comment_id":51555217,"body_markdown":"Why don&#39;t you use loop?","body":"Why don&#39;t you use loop?"},{"owner":{"account_id":5847641,"reputation":6391,"user_id":4607317,"accept_rate":98,"display_name":"budi"},"score":0,"creation_date":1438706870,"post_id":31814815,"comment_id":51555328,"body_markdown":"It&#39;s mainly a readability thing, I want to visually see all the factories in list as the list is initialized... it&#39;s just a personal preference. My question is, can you even use a loop?","body":"It&#39;s mainly a readability thing, I want to visually see all the factories in list as the list is initialized... it&#39;s just a personal preference. My question is, can you even use a loop?"}],"answers":[{"tags":[],"owner":{"account_id":1739263,"reputation":5294,"user_id":1591139,"accept_rate":100,"display_name":"ka4eli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438707076,"creation_date":1438707076,"answer_id":31814992,"question_id":31814815,"body_markdown":"        final List&lt;Factory&gt; list = new ArrayList&lt;Factory&gt;();        \r\n        list.add(new Factory0());\r\n        list.add(new Factory1());\r\n        list.add(new Factory2());\r\n        for (int i = 0; i &lt; 101; i++) {\r\n            list.add(new FactoryWithArgs(i));\r\n        }\r\n        list.add(new Factory4());\r\n        list.add(new Factory5());\r\n\r\nYou can put it in a method, if you prefer.","title":"Java Iterative Add All Within Arrays.asList","body":"<pre><code>    final List&lt;Factory&gt; list = new ArrayList&lt;Factory&gt;();        \n    list.add(new Factory0());\n    list.add(new Factory1());\n    list.add(new Factory2());\n    for (int i = 0; i &lt; 101; i++) {\n        list.add(new FactoryWithArgs(i));\n    }\n    list.add(new Factory4());\n    list.add(new Factory5());\n</code></pre>\n\n<p>You can put it in a method, if you prefer.</p>\n"},{"tags":[],"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665961407,"creation_date":1438711626,"answer_id":31816264,"question_id":31814815,"body_markdown":"Due to @Brian comment on &quot;double brace&quot; initialization being a no no, here&#39;s another suggestion.  \r\n\r\nFor the `FactoryWithArgs` class I would make a `FactoryWithArgsMaker` class that is designed to make `FactoryWithArgs` objects as a `List`.\r\n\r\nSomething like:\r\n\r\n    public static class FactoryWithArgsMaker {\r\n        public static List&lt;FactoryWithArgs&gt; makeNew(int start, int end) {\r\n            List&lt;FactoryWithArgs&gt; list = new ArrayList();\r\n            for (int i = 0; i &lt;= end; i++) {\r\n                list.add(new FactoryWithArgs(i));\r\n            }\r\n            return list;\r\n        }\r\n    }\r\n\r\nAs long as the order of your &quot;Factories&quot; don&#39;t matter in your list, and with Java 8 `Stream`s you can initialize your list in one line like this:\r\n\r\n    List&lt;Factory&gt; list = Stream.concat(\r\n        Arrays.asList(\r\n            new Factory0(), new Factory1(), new Factory2(), \r\n            new Factory3(), new Factory4(), new Factory5()\r\n        ).stream(),\r\n        FactoryWithArgsMaker.makeNew(0, 100).stream()\r\n    ).collect(Collectors.toList());\r\n\r\nThe `Stream.concat()` takes the contents of `Arrays.asList()` and the `List&lt;FactoryWithArgs&gt;`, returned from `FactoryWithArgsMaker.makeNew()`, and combines them into a single stream which we then convert back into a List (`.collect(Collectors.toList()`);","title":"Java Iterative Add All Within Arrays.asList","body":"<p>Due to @Brian comment on &quot;double brace&quot; initialization being a no no, here's another suggestion.</p>\n<p>For the <code>FactoryWithArgs</code> class I would make a <code>FactoryWithArgsMaker</code> class that is designed to make <code>FactoryWithArgs</code> objects as a <code>List</code>.</p>\n<p>Something like:</p>\n<pre><code>public static class FactoryWithArgsMaker {\n    public static List&lt;FactoryWithArgs&gt; makeNew(int start, int end) {\n        List&lt;FactoryWithArgs&gt; list = new ArrayList();\n        for (int i = 0; i &lt;= end; i++) {\n            list.add(new FactoryWithArgs(i));\n        }\n        return list;\n    }\n}\n</code></pre>\n<p>As long as the order of your &quot;Factories&quot; don't matter in your list, and with Java 8 <code>Stream</code>s you can initialize your list in one line like this:</p>\n<pre><code>List&lt;Factory&gt; list = Stream.concat(\n    Arrays.asList(\n        new Factory0(), new Factory1(), new Factory2(), \n        new Factory3(), new Factory4(), new Factory5()\n    ).stream(),\n    FactoryWithArgsMaker.makeNew(0, 100).stream()\n).collect(Collectors.toList());\n</code></pre>\n<p>The <code>Stream.concat()</code> takes the contents of <code>Arrays.asList()</code> and the <code>List&lt;FactoryWithArgs&gt;</code>, returned from <code>FactoryWithArgsMaker.makeNew()</code>, and combines them into a single stream which we then convert back into a List (<code>.collect(Collectors.toList()</code>);</p>\n"}],"owner":{"account_id":5847641,"reputation":6391,"user_id":4607317,"accept_rate":98,"display_name":"budi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31816264,"answer_count":2,"score":1,"last_activity_date":1665961407,"creation_date":1438706506,"question_id":31814815,"body_markdown":"Given the following list, how would I approach iteratively adding elements of type `FactoryWithArgs` with arguments `0 - 100`, while still keeping this code in (essentially) one line?\r\n\r\n    final List&lt;Factory&gt; list = new ArrayList&lt;Factory&gt;(Arrays.asList(\r\n\t\t\tnew Factory0(), new Factory1(), new Factory2(), \r\n            new FactoryWithArgs(0), new FactoryWithArgs(1), ... ,\r\n            new FactoryWithArgs(99), new FactoryWithArgs(100),\r\n\t\t\tnew Factory4(), new Factory5()));\r\n","title":"Java Iterative Add All Within Arrays.asList","body":"<p>Given the following list, how would I approach iteratively adding elements of type <code>FactoryWithArgs</code> with arguments <code>0 - 100</code>, while still keeping this code in (essentially) one line?</p>\n\n<pre><code>final List&lt;Factory&gt; list = new ArrayList&lt;Factory&gt;(Arrays.asList(\n        new Factory0(), new Factory1(), new Factory2(), \n        new FactoryWithArgs(0), new FactoryWithArgs(1), ... ,\n        new FactoryWithArgs(99), new FactoryWithArgs(100),\n        new Factory4(), new Factory5()));\n</code></pre>\n"},{"tags":["java","algorithm","tree","queue","binary-tree"],"comments":[{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1409515278,"post_id":25595725,"comment_id":39980878,"body_markdown":"How would you know what nodes belong into each level? some kind of separator would be needed. Or is the tree guaranteed to be complete? It&#39;d be like doing the inverse of a BFS search, creating the tree from a list instead of traversing it","body":"How would you know what nodes belong into each level? some kind of separator would be needed. Or is the tree guaranteed to be complete? It&#39;d be like doing the inverse of a BFS search, creating the tree from a list instead of traversing it"},{"owner":{"account_id":2342107,"reputation":839,"user_id":2053159,"accept_rate":69,"display_name":"NewBee"},"score":0,"creation_date":1409515470,"post_id":25595725,"comment_id":39980919,"body_markdown":"Thats the assumption that the provided String/List is already in the level order grammar , so the first element of String/List is root , next two are left and right respectively and so on.","body":"Thats the assumption that the provided String/List is already in the level order grammar , so the first element of String/List is root , next two are left and right respectively and so on."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1409515531,"post_id":25595725,"comment_id":39980933,"body_markdown":"Yes, but what if one subtree doesn&#39;t have all of its children?","body":"Yes, but what if one subtree doesn&#39;t have all of its children?"},{"owner":{"account_id":2342107,"reputation":839,"user_id":2053159,"accept_rate":69,"display_name":"NewBee"},"score":2,"creation_date":1409515812,"post_id":25595725,"comment_id":39981006,"body_markdown":"Representation of such node will be represented by &#39;*&#39;. For example if i have - [a,b,c,**,*,w,e] . This String/List states that node &#39;b&#39; does not have and child nodes to it.","body":"Representation of such node will be represented by &#39;<i>&#39;. For example if i have - [a,b,c,*</i>,*,w,e] . This String/List states that node &#39;b&#39; does not have and child nodes to it."}],"answers":[{"tags":[],"owner":{"account_id":396242,"reputation":1523,"user_id":759687,"display_name":"sukunrt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409526153,"creation_date":1409520004,"answer_id":25596394,"question_id":25595725,"body_markdown":"This is a rough idea but you can know exactly the range that falls on the given level.\r\n\r\nSuppose the current level contains x non* elements from i to i+k then the next level will contain 2x elements from i+k+1 to i+k+2x, now take two pointers one on i and another on i+k+1 and assign two children to each non * element on the current level from left to right.\r\n\r\nSimilarly for the next level count how many elements the level contains that is number of non * elements. and repeat.\r\n\r\n","title":"Create binary tree from level order input","body":"<p>This is a rough idea but you can know exactly the range that falls on the given level.</p>\n\n<p>Suppose the current level contains x non* elements from i to i+k then the next level will contain 2x elements from i+k+1 to i+k+2x, now take two pointers one on i and another on i+k+1 and assign two children to each non * element on the current level from left to right.</p>\n\n<p>Similarly for the next level count how many elements the level contains that is number of non * elements. and repeat.</p>\n"},{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665960626,"creation_date":1665960626,"answer_id":74091173,"question_id":25595725,"body_markdown":"The input you provided is actually the tree represented as array. It is a common way to represent it in coding problems in leetcode etc...\r\n\r\nIn any case, you don&#39;t need the queue to generate the tree as a data structure. You would need queue to print out the generated tree.\r\n\r\nRules for generation the tree are quite simple:\r\n```\r\nroot:  i       // array index\r\nleft:  2*i+1\r\nright: 2*i+2\r\n```\r\nOr visually:\r\n```\r\n                    left child\r\n                    of root\r\n                      │ \r\n                      │    right child\r\n                      │    of root\r\n                      │     │\r\n                      ⍒     ⍒\r\narray values:  ┌ 3,   9,   20, null, null,   15,   7 ┐\r\n               │ ----------------------------------- │\r\narray indices: └ 0,   1,    2,    3,    4,    5,   6 ┘\r\n                 ⍋\r\n                 │\r\n                root \r\n\r\n\r\nTree representation of defined array, where values in brackets are array indices:\r\n           3(0)\r\n       ┌───┴───┐\r\n    (1)9      20(2)\r\n             ┌─┴─┐\r\n         (5)15   7(6)\r\n```\r\nThe implementation that can give you the desired tree generation can be found at: \r\nhttps://github.com/stuparmihailo/algo2prepare \r\n\r\nLater, the method call is like:\r\n```\r\nTreeNode root = Tree.ints(TreeNode.class, &quot;[3,9,20,null,null,15,7]&quot;);\r\nTree.print(root);\r\n//           3\r\n//       ┌───┴───┐\r\n//       9      20\r\n//             ┌─┴─┐\r\n//            15   7\r\n```\r\n\r\nNote that I use `null` instead of `*`, but I believe that you can easily replace it in the code.","title":"Create binary tree from level order input","body":"<p>The input you provided is actually the tree represented as array. It is a common way to represent it in coding problems in leetcode etc...</p>\n<p>In any case, you don't need the queue to generate the tree as a data structure. You would need queue to print out the generated tree.</p>\n<p>Rules for generation the tree are quite simple:</p>\n<pre><code>root:  i       // array index\nleft:  2*i+1\nright: 2*i+2\n</code></pre>\n<p>Or visually:</p>\n<pre><code>                    left child\n                    of root\n                      │ \n                      │    right child\n                      │    of root\n                      │     │\n                      ⍒     ⍒\narray values:  ┌ 3,   9,   20, null, null,   15,   7 ┐\n               │ ----------------------------------- │\narray indices: └ 0,   1,    2,    3,    4,    5,   6 ┘\n                 ⍋\n                 │\n                root \n\n\nTree representation of defined array, where values in brackets are array indices:\n           3(0)\n       ┌───┴───┐\n    (1)9      20(2)\n             ┌─┴─┐\n         (5)15   7(6)\n</code></pre>\n<p>The implementation that can give you the desired tree generation can be found at:\n<a href=\"https://github.com/stuparmihailo/algo2prepare\" rel=\"nofollow noreferrer\">https://github.com/stuparmihailo/algo2prepare</a></p>\n<p>Later, the method call is like:</p>\n<pre><code>TreeNode root = Tree.ints(TreeNode.class, &quot;[3,9,20,null,null,15,7]&quot;);\nTree.print(root);\n//           3\n//       ┌───┴───┐\n//       9      20\n//             ┌─┴─┐\n//            15   7\n</code></pre>\n<p>Note that I use <code>null</code> instead of <code>*</code>, but I believe that you can easily replace it in the code.</p>\n"}],"owner":{"account_id":2342107,"reputation":839,"user_id":2053159,"accept_rate":69,"display_name":"NewBee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1665960626,"creation_date":1409514885,"question_id":25595725,"body_markdown":"I know this question might be trivial in its own way , but i am trying to generate a binary tree from level order input and then traverse through it to represent that the tree was saved in the data structure. Say if the input is like - [a,s,e,r,t,*,w] , it will generate a binary a binary tree of following representation -\r\n\r\n                        a\r\n                       / \\\r\n                      s   e\r\n                     /\\   /\\\r\n                    r  t *  w\r\n\r\nIs there a way to implement this , its like generating a binary tree from a tree input. If anybody have already faced this kind of problem before , please share some sort of implementation in JAVA , Like using Queues.","title":"Create binary tree from level order input","body":"<p>I know this question might be trivial in its own way , but i am trying to generate a binary tree from level order input and then traverse through it to represent that the tree was saved in the data structure. Say if the input is like - [a,s,e,r,t,*,w] , it will generate a binary a binary tree of following representation -</p>\n\n<pre><code>                    a\n                   / \\\n                  s   e\n                 /\\   /\\\n                r  t *  w\n</code></pre>\n\n<p>Is there a way to implement this , its like generating a binary tree from a tree input. If anybody have already faced this kind of problem before , please share some sort of implementation in JAVA , Like using Queues.</p>\n"},{"tags":["java","html","xml","regex"],"comments":[{"owner":{"account_id":258166,"reputation":11490,"user_id":540162,"accept_rate":75,"display_name":"Nightfirecat"},"score":6,"creation_date":1310597352,"post_id":6686573,"comment_id":7910938,"body_markdown":"[Don&#39;t use RegEx to parse XML/HTML tags...](http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)","body":"<a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">Don&#39;t use RegEx to parse XML/HTML tags...</a>"},{"owner":{"account_id":429767,"reputation":12856,"user_id":812837,"accept_rate":100,"display_name":"Clockwork-Muse"},"score":0,"creation_date":1310597602,"post_id":6686573,"comment_id":7910976,"body_markdown":"There are a number of examples of related questions here on SO.","body":"There are a number of examples of related questions here on SO."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1310598412,"post_id":6686573,"comment_id":7911112,"body_markdown":"@Nightfirecat - despite the usual protestations on SO about html and regex&#39;s in this instance it would seem perfectly reasonable.","body":"@Nightfirecat - despite the usual protestations on SO about html and regex&#39;s in this instance it would seem perfectly reasonable."},{"owner":{"account_id":258166,"reputation":11490,"user_id":540162,"accept_rate":75,"display_name":"Nightfirecat"},"score":0,"creation_date":1310598536,"post_id":6686573,"comment_id":7911138,"body_markdown":"Well, assuming it&#39;s all properly formatted, it&#39;s entirely possible (and even somewhat reasonable), but it&#39;s still not what RegEx is meant to do.","body":"Well, assuming it&#39;s all properly formatted, it&#39;s entirely possible (and even somewhat reasonable), but it&#39;s still not what RegEx is meant to do."},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":0,"creation_date":1310598786,"post_id":6686573,"comment_id":7911190,"body_markdown":"Agreed, but if you adopt Neil&#39;s approach it&#39;s excusable.","body":"Agreed, but if you adopt Neil&#39;s approach it&#39;s excusable."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1310600508,"post_id":6686573,"comment_id":7911450,"body_markdown":"Obviously, you need to make a practical decision between the required level of robustness vs readability vs simplicity of code etc. I like my version: it&#39;s a few lines of readable code. It won&#39;t work in a few corner cases. The XPath infrastructure is cumbersome for this simple requirement, and also liable to fall flat on its arse if the XML isn&#39;t well-formed.","body":"Obviously, you need to make a practical decision between the required level of robustness vs readability vs simplicity of code etc. I like my version: it&#39;s a few lines of readable code. It won&#39;t work in a few corner cases. The XPath infrastructure is cumbersome for this simple requirement, and also liable to fall flat on its arse if the XML isn&#39;t well-formed."}],"answers":[{"tags":[],"owner":{"account_id":315327,"reputation":9162,"user_id":630989,"accept_rate":86,"display_name":"Jacob Eggers"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665960431,"creation_date":1310597746,"answer_id":6686658,"question_id":6686573,"body_markdown":"**EDIT: fixing the `&lt;ul&gt;` problem mentioned by hoipolloi with this look ahead:**\r\n    \r\n    (?=((?!&lt;/ul&gt;)(.|\\n))*&lt;/ol&gt;)\r\n\r\n-------\r\n\r\nThis one worked on your example:\r\n\r\n    info.replaceAll(\r\n        &quot;(?:&lt;ol&gt;\\s*)?&lt;li&gt;(.*?)&lt;/li&gt;(?=((?!&lt;/ul&gt;)(.|\\n))*&lt;/ol&gt;)(?:\\s*&lt;/ol&gt;)?&quot;,\r\n        &quot;# $1&quot;\r\n    );\r\n\r\n----\r\n\r\n 1.  `(?:&lt;ol&gt;\\s*)?`\r\n    * If it exists, match `&lt;ol&gt;` plus anything whitespace following it. The `(?:` means don&#39;t capture this group.\r\n 2.  `&lt;li&gt;(.*?)&lt;/li&gt;`\r\n    * Match an `&lt;li&gt;anything&lt;/li&gt;`. And capture the `anything` in the first group. The `*?` means match any length, non-greedily, (i.e. match the first `&lt;/li&gt;` after the `&lt;li&gt;`.)\r\n 3. ***New clause*** `(?=((?!&lt;/ul&gt;)(.|\\n))*&lt;/ol&gt;)`\r\n    * Ensure that an `&lt;/ol&gt;` follows this `&lt;li&gt;` before a `&lt;/ul&gt;`\r\n 3.  `(?:\\s*&lt;/ol&gt;)?`\r\n    * And match any trailing whitespace plus `&lt;/ol&gt;`.\r\n\r\n","title":"Java regular expression transform HTML list to text","body":"<p><strong>EDIT: fixing the <code>&lt;ul&gt;</code> problem mentioned by hoipolloi with this look ahead:</strong></p>\n<pre><code>(?=((?!&lt;/ul&gt;)(.|\\n))*&lt;/ol&gt;)\n</code></pre>\n<hr />\n<p>This one worked on your example:</p>\n<pre><code>info.replaceAll(\n    &quot;(?:&lt;ol&gt;\\s*)?&lt;li&gt;(.*?)&lt;/li&gt;(?=((?!&lt;/ul&gt;)(.|\\n))*&lt;/ol&gt;)(?:\\s*&lt;/ol&gt;)?&quot;,\n    &quot;# $1&quot;\n);\n</code></pre>\n<hr />\n<ol>\n<li><code>(?:&lt;ol&gt;\\s*)?</code></li>\n</ol>\n<ul>\n<li>If it exists, match <code>&lt;ol&gt;</code> plus anything whitespace following it. The <code>(?:</code> means don't capture this group.</li>\n</ul>\n<ol start=\"2\">\n<li><code>&lt;li&gt;(.*?)&lt;/li&gt;</code></li>\n</ol>\n<ul>\n<li>Match an <code>&lt;li&gt;anything&lt;/li&gt;</code>. And capture the <code>anything</code> in the first group. The <code>*?</code> means match any length, non-greedily, (i.e. match the first <code>&lt;/li&gt;</code> after the <code>&lt;li&gt;</code>.)</li>\n</ul>\n<ol start=\"3\">\n<li><em><strong>New clause</strong></em> <code>(?=((?!&lt;/ul&gt;)(.|\\n))*&lt;/ol&gt;)</code>\n<ul>\n<li>Ensure that an <code>&lt;/ol&gt;</code> follows this <code>&lt;li&gt;</code> before a <code>&lt;/ul&gt;</code></li>\n</ul>\n</li>\n<li><code>(?:\\s*&lt;/ol&gt;)?</code></li>\n</ol>\n<ul>\n<li>And match any trailing whitespace plus <code>&lt;/ol&gt;</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310597759,"creation_date":1310597759,"answer_id":6686660,"question_id":6686573,"body_markdown":"The answer to &quot;what you are doing wrong&quot; is that you are replacing the entire _single_ regex (which matches from ol all the way to /ol) with the _value_ of your second group.  The second group was in a repeated fragment, so the result of `$2` was the last match of that group.\r\n","title":"Java regular expression transform HTML list to text","body":"<p>The answer to \"what you are doing wrong\" is that you are replacing the entire <em>single</em> regex (which matches from ol all the way to /ol) with the <em>value</em> of your second group.  The second group was in a repeated fragment, so the result of <code>$2</code> was the last match of that group.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310597871,"creation_date":1310597871,"answer_id":6686672,"question_id":6686573,"body_markdown":"Your regex has a couple of problems:\r\n\r\n - it contains a capturing group inside a capturing group\r\n - overall, it will only match once (it includes &lt;ol&gt; for a start -- there&#39;s only one of these.\r\n\r\nThe solution I&#39;d recommend: don&#39;t tie yourself in knots. Write a loop with a Matcher.find(), pulling out the matches one by one and adding them to a string buffer. It would go something like this:\r\n\r\n        Pattern p = Pattern.compile(&quot;&lt;ol&gt;(.*?)&lt;/ol&gt;&quot;);\r\n        Matcher m = p.matcher(&quot;...&quot;);\r\n        StringBuffer sb = new StringBuffer();\r\n        while (m.find()) {\r\n            sb.append(&quot;#&quot;).append(m.group(1)).append(&quot;\\n&quot;);\r\n        }\r\n        String result = sb.toString();\r\n","title":"Java regular expression transform HTML list to text","body":"<p>Your regex has a couple of problems:</p>\n\n<ul>\n<li>it contains a capturing group inside a capturing group</li>\n<li>overall, it will only match once (it includes  for a start -- there's only one of these.</li>\n</ul>\n\n<p>The solution I'd recommend: don't tie yourself in knots. Write a loop with a Matcher.find(), pulling out the matches one by one and adding them to a string buffer. It would go something like this:</p>\n\n<pre><code>    Pattern p = Pattern.compile(\"&lt;ol&gt;(.*?)&lt;/ol&gt;\");\n    Matcher m = p.matcher(\"...\");\n    StringBuffer sb = new StringBuffer();\n    while (m.find()) {\n        sb.append(\"#\").append(m.group(1)).append(\"\\n\");\n    }\n    String result = sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310598746,"creation_date":1310598746,"answer_id":6686784,"question_id":6686573,"body_markdown":"I would argue you can achieve a more robust solution using XPath and Java&#39;s document parser, as follows:\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.xpath.XPath;\r\n    import javax.xml.xpath.XPathConstants;\r\n    import javax.xml.xpath.XPathExpression;\r\n    import javax.xml.xpath.XPathFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    \r\n    public class Foo {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tfinal String info = &quot;&lt;html&gt;\\n&lt;body&gt;\\n&lt;ol&gt;\\n&lt;li&gt;example1&lt;/li&gt;\\n&lt;li&gt;exmaple2&lt;/li&gt;\\n&lt;li&gt;example3&lt;/li&gt;\\n&lt;/ol&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;&quot;;\r\n    \t\tfinal Document document = parseDocument(info);\r\n    \t\tfinal XPathExpression xPathExpression = getXPathExpression(&quot;//ol/li&quot;);\r\n    \t\tfinal NodeList nodes = (NodeList) xPathExpression.evaluate(document, XPathConstants.NODESET);\r\n\r\n    \t\t// Prints # example1\\n# exmaple2\\n# example3\r\n    \t\tfor (int i = 0; i &lt; nodes.getLength(); i++) {\r\n    \t\t\tfinal Node liNode = nodes.item(i);\r\n    \t\t\tif (liNode.hasChildNodes()) {\r\n    \t\t\t\tSystem.out.println(&quot;# &quot; + liNode.getChildNodes().item(0).getTextContent());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Document parseDocument(final String info) throws Exception {\r\n    \t\tfinal DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \t\tfactory.setNamespaceAware(true);\r\n    \t\tfinal DocumentBuilder builder = factory.newDocumentBuilder();\r\n    \t\treturn builder.parse(new ByteArrayInputStream(info.getBytes(&quot;UTF-8&quot;)));\r\n    \t}\r\n    \r\n    \tprivate static XPathExpression getXPathExpression(final String expression) throws Exception {\r\n    \t\tfinal XPathFactory factory = XPathFactory.newInstance();\r\n    \t\tfinal XPath xpath = factory.newXPath();\r\n    \t\treturn xpath.compile(expression);\r\n    \t}\r\n    }","title":"Java regular expression transform HTML list to text","body":"<p>I would argue you can achieve a more robust solution using XPath and Java's document parser, as follows:</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathExpression;\nimport javax.xml.xpath.XPathFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\npublic class Foo {\n\n    public static void main(String[] args) throws Exception {\n        final String info = \"&lt;html&gt;\\n&lt;body&gt;\\n&lt;ol&gt;\\n&lt;li&gt;example1&lt;/li&gt;\\n&lt;li&gt;exmaple2&lt;/li&gt;\\n&lt;li&gt;example3&lt;/li&gt;\\n&lt;/ol&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\";\n        final Document document = parseDocument(info);\n        final XPathExpression xPathExpression = getXPathExpression(\"//ol/li\");\n        final NodeList nodes = (NodeList) xPathExpression.evaluate(document, XPathConstants.NODESET);\n\n        // Prints # example1\\n# exmaple2\\n# example3\n        for (int i = 0; i &lt; nodes.getLength(); i++) {\n            final Node liNode = nodes.item(i);\n            if (liNode.hasChildNodes()) {\n                System.out.println(\"# \" + liNode.getChildNodes().item(0).getTextContent());\n            }\n        }\n    }\n\n    private static Document parseDocument(final String info) throws Exception {\n        final DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        factory.setNamespaceAware(true);\n        final DocumentBuilder builder = factory.newDocumentBuilder();\n        return builder.parse(new ByteArrayInputStream(info.getBytes(\"UTF-8\")));\n    }\n\n    private static XPathExpression getXPathExpression(final String expression) throws Exception {\n        final XPathFactory factory = XPathFactory.newInstance();\n        final XPath xpath = factory.newXPath();\n        return xpath.compile(expression);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171227,"reputation":2079,"user_id":398502,"accept_rate":69,"display_name":"Govan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310600463,"creation_date":1310600463,"answer_id":6686958,"question_id":6686573,"body_markdown":"I would use a simpler solution instead of a complex regex. For ecample:\r\n\r\n \r\n\t\tScanner scann= new Scanner(str); //the parameter can be a file or an inputstream \r\n\t\tscann.useDelimiter(&quot;&lt;/?ol&gt;&quot;);\r\n\t\twhile (scann.hasNext())\r\n\t\t{\r\n\t\t\tstr = scann.next();\r\n\t\t\tstr = str.replaceAll(&quot;&lt;li&gt;(.*?)&lt;/li&gt;\\n*&quot;,&quot;# $1&quot; +\r\n\t\t\t\t\t&quot;\\n&quot;); //$NON-NLS-1$ //$NON-NLS-2$\r\n\t\t}\r\n\r\n","title":"Java regular expression transform HTML list to text","body":"<p>I would use a simpler solution instead of a complex regex. For ecample:</p>\n\n<pre><code>    Scanner scann= new Scanner(str); //the parameter can be a file or an inputstream \n    scann.useDelimiter(\"&lt;/?ol&gt;\");\n    while (scann.hasNext())\n    {\n        str = scann.next();\n        str = str.replaceAll(\"&lt;li&gt;(.*?)&lt;/li&gt;\\n*\",\"# $1\" +\n                \"\\n\"); //$NON-NLS-1$ //$NON-NLS-2$\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310634988,"creation_date":1310634988,"answer_id":6690955,"question_id":6686573,"body_markdown":"Don&#39;t use regular expressions for parsing XML/HTML. Full stop. You&#39;ll never handle all the possible variations that can legally occur in the input, and you&#39;ll forever be telling people who supply the content that you&#39;re sorry, you can only handle a restricted subset of XML/HTML, and they will forever be cursing you. And if you do get to the point where you can handle 99% of legal input, your code will be unmaintainable and slow.\r\n\r\nThere are off-the-shelf parsers to do this job - use them.","title":"Java regular expression transform HTML list to text","body":"<p>Don't use regular expressions for parsing XML/HTML. Full stop. You'll never handle all the possible variations that can legally occur in the input, and you'll forever be telling people who supply the content that you're sorry, you can only handle a restricted subset of XML/HTML, and they will forever be cursing you. And if you do get to the point where you can handle 99% of legal input, your code will be unmaintainable and slow.</p>\n\n<p>There are off-the-shelf parsers to do this job - use them.</p>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310646383,"creation_date":1310646383,"answer_id":6693087,"question_id":6686573,"body_markdown":"    info = info.replaceAll(&quot;(?:&lt;ol&gt;|\\\\G)\\\\s*&lt;li&gt;(.+?)&lt;/li&gt;(?:\\\\s*&lt;/ol&gt;)?&quot;,\r\n                           &quot;# $1\\n&quot;);\r\n\r\n`(?:&lt;ol&gt;|\\G)` ensures that each bunch of matches starts *either* with `&lt;ol&gt;` *or* where the last match left off, so it can never start matching inside a `&lt;ul&gt;` element.","title":"Java regular expression transform HTML list to text","body":"<pre><code>info = info.replaceAll(\"(?:&lt;ol&gt;|\\\\G)\\\\s*&lt;li&gt;(.+?)&lt;/li&gt;(?:\\\\s*&lt;/ol&gt;)?\",\n                       \"# $1\\n\");\n</code></pre>\n\n<p><code>(?:&lt;ol&gt;|\\G)</code> ensures that each bunch of matches starts <em>either</em> with <code>&lt;ol&gt;</code> <em>or</em> where the last match left off, so it can never start matching inside a <code>&lt;ul&gt;</code> element.</p>\n"}],"owner":{"account_id":449051,"reputation":33,"user_id":843614,"display_name":"user843614"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6686672,"answer_count":7,"score":3,"last_activity_date":1665960431,"creation_date":1310597054,"question_id":6686573,"body_markdown":"I have data in the form:\r\n\r\n    &lt;ol&gt;\r\n    &lt;li&gt;example1&lt;/li&gt;\r\n    &lt;li&gt;example2&lt;/li&gt;\r\n    &lt;li&gt;example3&lt;/li&gt;\r\n    &lt;/ol&gt;\r\n\r\nwhich needs to turn into\r\n    \r\n    # example1\r\n    # example2\r\n    # example3\r\n\r\nThe pound sign has to be associated with the ol html tag. I&#39;m using java regular expressions and this is what I have so far:\r\n\r\n    info = info.replaceAll(&quot;(?s).&lt;ol&gt;\\n(&lt;li&gt;(.*?)&lt;/li&gt;\\n)*&lt;/ol&gt;&quot;,&quot;# $2&quot;);\r\n\r\ninfo is a string object containing the data. Also there may be line breaks in between the li tags.When I run it, it only prints the last item. i.e the result is\r\n\r\n     # example3\r\n\r\nexample2 and example1 are missing\r\n\r\nAny thoughts on what I&#39;m doing wrong?\r\n","title":"Java regular expression transform HTML list to text","body":"<p>I have data in the form:</p>\n\n<pre><code>&lt;ol&gt;\n&lt;li&gt;example1&lt;/li&gt;\n&lt;li&gt;example2&lt;/li&gt;\n&lt;li&gt;example3&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n\n<p>which needs to turn into</p>\n\n<pre><code># example1\n# example2\n# example3\n</code></pre>\n\n<p>The pound sign has to be associated with the ol html tag. I'm using java regular expressions and this is what I have so far:</p>\n\n<pre><code>info = info.replaceAll(\"(?s).&lt;ol&gt;\\n(&lt;li&gt;(.*?)&lt;/li&gt;\\n)*&lt;/ol&gt;\",\"# $2\");\n</code></pre>\n\n<p>info is a string object containing the data. Also there may be line breaks in between the li tags.When I run it, it only prints the last item. i.e the result is</p>\n\n<pre><code> # example3\n</code></pre>\n\n<p>example2 and example1 are missing</p>\n\n<p>Any thoughts on what I'm doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1665923341,"post_id":74086920,"comment_id":130808070,"body_markdown":"first difference: your solution produces `ArrayIndexOutOfBoundsException` if coins contain denomination greater than the amount . for example `change(30, new int[]{1, 2, 5, 10, 20, 50, 100})`","body":"first difference: your solution produces <code>ArrayIndexOutOfBoundsException</code> if coins contain denomination greater than the amount . for example <code>change(30, new int[]{1, 2, 5, 10, 20, 50, 100})</code>"},{"owner":{"account_id":26563540,"reputation":37,"user_id":20190994,"display_name":"nor1take"},"score":0,"creation_date":1665925682,"post_id":74086920,"comment_id":130808477,"body_markdown":"@SharonBenAsher I have fixed my code.","body":"@SharonBenAsher I have fixed my code."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665960097,"creation_date":1665933308,"answer_id":74088242,"question_id":74086920,"body_markdown":"1.\r\n\r\n``` java\r\npublic int change(int amount, int[] coins) {\r\n    int max = amount + 1;\r\n    int[] dp = new int[max];\r\n\r\n    // the right initialization\r\n    dp[0] = 1;\r\n\r\n    for (int c : coins) {\r\n        for (int i = 1; i &lt; max; i++) {\r\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\r\n        }\r\n    }\r\n    return dp[amount];\r\n}\r\n```\r\n\r\nif we have coins with denominations C&lt;sub&gt;1&lt;/sub&gt;,C&lt;sub&gt;2&lt;/sub&gt;,...,C&lt;sub&gt;N&lt;/sub&gt; we may exchange following amounts:\r\n1. using C&lt;sub&gt;1&lt;/sub&gt; only: 0, C&lt;sub&gt;1&lt;/sub&gt;, 2C&lt;sub&gt;1&lt;/sub&gt;, 3C&lt;sub&gt;1&lt;/sub&gt;...\r\n2. using C&lt;sub&gt;1&lt;/sub&gt; and C&lt;sub&gt;2&lt;/sub&gt;: we adding arbitrary amount of C&lt;sub&gt;2&lt;/sub&gt; to C&lt;sub&gt;1&lt;/sub&gt; sums:\r\n- 0: C&lt;sub&gt;2&lt;/sub&gt;, 2C&lt;sub&gt;2&lt;/sub&gt;, 3C&lt;sub&gt;2&lt;/sub&gt;...\r\n- C&lt;sub&gt;1&lt;/sub&gt;: C&lt;sub&gt;1&lt;/sub&gt;+C&lt;sub&gt;2&lt;/sub&gt;, C&lt;sub&gt;1&lt;/sub&gt;+2C&lt;sub&gt;2&lt;/sub&gt;, C&lt;sub&gt;1&lt;/sub&gt;+3C&lt;sub&gt;2&lt;/sub&gt;...\r\n- 2C&lt;sub&gt;1&lt;/sub&gt;: 2C&lt;sub&gt;1&lt;/sub&gt;+C&lt;sub&gt;2&lt;/sub&gt;, 2C&lt;sub&gt;1&lt;/sub&gt;+2C&lt;sub&gt;2&lt;/sub&gt;, 2C&lt;sub&gt;1&lt;/sub&gt;+3C&lt;sub&gt;2&lt;/sub&gt;...\r\n- ...\r\n- KC&lt;sub&gt;1&lt;/sub&gt;: KC&lt;sub&gt;1&lt;/sub&gt;+C&lt;sub&gt;2&lt;/sub&gt;, KC&lt;sub&gt;1&lt;/sub&gt;+2C&lt;sub&gt;2&lt;/sub&gt;, KC&lt;sub&gt;1&lt;/sub&gt;+3C&lt;sub&gt;2&lt;/sub&gt;...\r\n3. etc.\r\n\r\non each step we are getting unique combinations because that is how we build amounts: since on previous step all combinations was unique adding new coin does not break uniqueness, and the only thing remains is to count duplicate amounts. \r\n\r\n\r\n2.\r\n\r\n```\r\npublic int change(int amount, int[] coins) {\r\n    int max = amount + 1;\r\n    int[] dp = new int[max];\r\n\r\n    // my initialization\r\n    for (int c : coins) {\r\n        if (c &lt;= amount) dp[c] = 1;\r\n    }\r\n\r\n    for (int c : coins) {\r\n        for (int i = 1; i &lt; max; i++) {\r\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\r\n        }\r\n    }\r\n    return dp[amount];\r\n}\r\n```\r\n\r\nin your case you are obviously breaks the idea of unique combinations, because introducing the coin with new denomination does not guarantee us uniqueness anymore: that coin has been used previously. \r\n\r\nConsider following: let we have coins 1 and 2 and would like to exchange 3:\r\n- #0, dp[]: [0, 1, 1, 0]\r\n- #1, dp[]: [0, 1, 1 + dp[1] = 2, 0 + dp[2] = 2] = [0, 1, 2, 2]\r\n- #2, dp[]: [0, 1, 2, 2 + dp[1] = 3] = [0, 1, 2, 3] - here we got duplicate, cause we have counted {2,1} from #1 and {1,2} from #2 as different combinations","title":"What is the difference between two initializations?","body":"<ol>\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public int change(int amount, int[] coins) {\n    int max = amount + 1;\n    int[] dp = new int[max];\n\n    // the right initialization\n    dp[0] = 1;\n\n    for (int c : coins) {\n        for (int i = 1; i &lt; max; i++) {\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\n        }\n    }\n    return dp[amount];\n}\n</code></pre>\n<p>if we have coins with denominations C<sub>1</sub>,C<sub>2</sub>,...,C<sub>N</sub> we may exchange following amounts:</p>\n<ol>\n<li>using C<sub>1</sub> only: 0, C<sub>1</sub>, 2C<sub>1</sub>, 3C<sub>1</sub>...</li>\n<li>using C<sub>1</sub> and C<sub>2</sub>: we adding arbitrary amount of C<sub>2</sub> to C<sub>1</sub> sums:</li>\n</ol>\n<ul>\n<li>0: C<sub>2</sub>, 2C<sub>2</sub>, 3C<sub>2</sub>...</li>\n<li>C<sub>1</sub>: C<sub>1</sub>+C<sub>2</sub>, C<sub>1</sub>+2C<sub>2</sub>, C<sub>1</sub>+3C<sub>2</sub>...</li>\n<li>2C<sub>1</sub>: 2C<sub>1</sub>+C<sub>2</sub>, 2C<sub>1</sub>+2C<sub>2</sub>, 2C<sub>1</sub>+3C<sub>2</sub>...</li>\n<li>...</li>\n<li>KC<sub>1</sub>: KC<sub>1</sub>+C<sub>2</sub>, KC<sub>1</sub>+2C<sub>2</sub>, KC<sub>1</sub>+3C<sub>2</sub>...</li>\n</ul>\n<ol start=\"3\">\n<li>etc.</li>\n</ol>\n<p>on each step we are getting unique combinations because that is how we build amounts: since on previous step all combinations was unique adding new coin does not break uniqueness, and the only thing remains is to count duplicate amounts.</p>\n<p>2.</p>\n<pre><code>public int change(int amount, int[] coins) {\n    int max = amount + 1;\n    int[] dp = new int[max];\n\n    // my initialization\n    for (int c : coins) {\n        if (c &lt;= amount) dp[c] = 1;\n    }\n\n    for (int c : coins) {\n        for (int i = 1; i &lt; max; i++) {\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\n        }\n    }\n    return dp[amount];\n}\n</code></pre>\n<p>in your case you are obviously breaks the idea of unique combinations, because introducing the coin with new denomination does not guarantee us uniqueness anymore: that coin has been used previously.</p>\n<p>Consider following: let we have coins 1 and 2 and would like to exchange 3:</p>\n<ul>\n<li>#0, dp[]: [0, 1, 1, 0]</li>\n<li>#1, dp[]: [0, 1, 1 + dp[1] = 2, 0 + dp[2] = 2] = [0, 1, 2, 2]</li>\n<li>#2, dp[]: [0, 1, 2, 2 + dp[1] = 3] = [0, 1, 2, 3] - here we got duplicate, cause we have counted {2,1} from #1 and {1,2} from #2 as different combinations</li>\n</ul>\n"}],"owner":{"account_id":26563540,"reputation":37,"user_id":20190994,"display_name":"nor1take"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1665960097,"creation_date":1665921528,"question_id":74086920,"body_markdown":"Recently I tried to solve the problem &#39;*Coin Change II*&#39; from the LeetCode [link][1].\r\n\r\n&gt; ***Description**: You are given an integer array `coins` representing coins of different denominations and an integer amount representing a total `amount` of money.\r\nReturn the number of combinations that make up that amount. If that amount of money cannot be made up by any combination of the coins, return `0`.\r\nYou may assume that you have an infinite number of each kind of coin.\r\nThe answer is guaranteed to fit into a signed 32-bit integer.*\r\n\r\nHere is the right solution:\r\n\r\n&gt; `dp[i]`: the number of combinations to make up amount `i`\r\n\r\n```java\r\npublic int change(int amount, int[] coins) {\r\n    int max = amount + 1;\r\n    int[] dp = new int[max];\r\n\r\n    // the right initialization\r\n    dp[0] = 1;\r\n\r\n    for (int c : coins) {\r\n        for (int i = 1; i &lt; max; i++) {\r\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\r\n        }\r\n    }\r\n    return dp[amount];\r\n}\r\n```\r\n\r\nHere is my solution:\r\n```java\r\npublic int change(int amount, int[] coins) {\r\n    int max = amount + 1;\r\n    int[] dp = new int[max];\r\n\r\n    // my initialization\r\n    for (int c : coins) {\r\n        if (c &lt;= amount) dp[c] = 1;\r\n    }\r\n\r\n    for (int c : coins) {\r\n        for (int i = 1; i &lt; max; i++) {\r\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\r\n        }\r\n    }\r\n    return dp[amount];\r\n}\r\n```\r\n\r\nIn the right solution, `dp[0] = 1` makes sure that in the following `for` loop, when `i == c`, `dp[i] += 1`. \r\n\r\nSo in my solution, I assign `1` to `dp[c]` at first which means that the coin with the value `c` can make up the amount itself when the amount equals `c` so its initial value is not `0` but `1`.\r\n\r\nI think the two initializations of the array `dp` can achieve the same thing but results are different. What&#39;s wrong with my initialization? What is the difference between two initializations?\r\n\r\n\r\n  [1]: https://leetcode.com/problems/coin-change-ii/","title":"What is the difference between two initializations?","body":"<p>Recently I tried to solve the problem '<em>Coin Change II</em>' from the LeetCode <a href=\"https://leetcode.com/problems/coin-change-ii/\" rel=\"nofollow noreferrer\">link</a>.</p>\n<blockquote>\n<p><em><strong>Description</strong>: You are given an integer array <code>coins</code> representing coins of different denominations and an integer amount representing a total <code>amount</code> of money.\nReturn the number of combinations that make up that amount. If that amount of money cannot be made up by any combination of the coins, return <code>0</code>.\nYou may assume that you have an infinite number of each kind of coin.\nThe answer is guaranteed to fit into a signed 32-bit integer.</em></p>\n</blockquote>\n<p>Here is the right solution:</p>\n<blockquote>\n<p><code>dp[i]</code>: the number of combinations to make up amount <code>i</code></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public int change(int amount, int[] coins) {\n    int max = amount + 1;\n    int[] dp = new int[max];\n\n    // the right initialization\n    dp[0] = 1;\n\n    for (int c : coins) {\n        for (int i = 1; i &lt; max; i++) {\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\n        }\n    }\n    return dp[amount];\n}\n</code></pre>\n<p>Here is my solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int change(int amount, int[] coins) {\n    int max = amount + 1;\n    int[] dp = new int[max];\n\n    // my initialization\n    for (int c : coins) {\n        if (c &lt;= amount) dp[c] = 1;\n    }\n\n    for (int c : coins) {\n        for (int i = 1; i &lt; max; i++) {\n            if (i - c &gt;= 0) dp[i] += dp[i - c];\n        }\n    }\n    return dp[amount];\n}\n</code></pre>\n<p>In the right solution, <code>dp[0] = 1</code> makes sure that in the following <code>for</code> loop, when <code>i == c</code>, <code>dp[i] += 1</code>.</p>\n<p>So in my solution, I assign <code>1</code> to <code>dp[c]</code> at first which means that the coin with the value <code>c</code> can make up the amount itself when the amount equals <code>c</code> so its initial value is not <code>0</code> but <code>1</code>.</p>\n<p>I think the two initializations of the array <code>dp</code> can achieve the same thing but results are different. What's wrong with my initialization? What is the difference between two initializations?</p>\n"},{"tags":["java","tree","treenode"],"comments":[{"owner":{"account_id":1053203,"reputation":11,"user_id":6356236,"display_name":"Piash Hassan"},"score":0,"creation_date":1463663541,"post_id":37323797,"comment_id":62167751,"body_markdown":"yes tried couple ways but tree is not properly showing and space calculation problems","body":"yes tried couple ways but tree is not properly showing and space calculation problems"},{"owner":{"account_id":1670803,"reputation":611,"user_id":1537298,"accept_rate":100,"display_name":"NeoP5"},"score":0,"creation_date":1463663651,"post_id":37323797,"comment_id":62167845,"body_markdown":"ok, so post what you have already... but you knwo that here is the answer: http://stackoverflow.com/questions/4965335/how-to-print-binary-tree-diagram","body":"ok, so post what you have already... but you knwo that here is the answer: <a href=\"http://stackoverflow.com/questions/4965335/how-to-print-binary-tree-diagram\" title=\"how to print binary tree diagram\">stackoverflow.com/questions/4965335/&hellip;</a>"},{"owner":{"account_id":1053203,"reputation":11,"user_id":6356236,"display_name":"Piash Hassan"},"score":0,"creation_date":1463663867,"post_id":37323797,"comment_id":62168016,"body_markdown":"trying the link you have given and letting u know thanks","body":"trying the link you have given and letting u know thanks"},{"owner":{"account_id":1053203,"reputation":11,"user_id":6356236,"display_name":"Piash Hassan"},"score":0,"creation_date":1463664286,"post_id":37323797,"comment_id":62168385,"body_markdown":"thanks it works . thanks again for your time","body":"thanks it works . thanks again for your time"},{"owner":{"account_id":1670803,"reputation":611,"user_id":1537298,"accept_rate":100,"display_name":"NeoP5"},"score":0,"creation_date":1463664419,"post_id":37323797,"comment_id":62168501,"body_markdown":"Hey, if you copy your homework at least try to understand what is going on in there and how it works or you will fail later on!!!","body":"Hey, if you copy your homework at least try to understand what is going on in there and how it works or you will fail later on!!!"},{"owner":{"account_id":1053203,"reputation":11,"user_id":6356236,"display_name":"Piash Hassan"},"score":0,"creation_date":1463664476,"post_id":37323797,"comment_id":62168555,"body_markdown":"yes i will first gonna see what&#39;s going over there cause i will also need to face question of those parts","body":"yes i will first gonna see what&#39;s going over there cause i will also need to face question of those parts"},{"owner":{"account_id":1670803,"reputation":611,"user_id":1537298,"accept_rate":100,"display_name":"NeoP5"},"score":0,"creation_date":1463664737,"post_id":37323797,"comment_id":62168760,"body_markdown":"even then... forget the solution and do it on your own... learning by doing is the best way to learn.. especially learning programming.. practice is the only way to do! after a few hundred thousands lines of code you will know :D","body":"even then... forget the solution and do it on your own... learning by doing is the best way to learn.. especially learning programming.. practice is the only way to do! after a few hundred thousands lines of code you will know :D"}],"answers":[{"tags":[],"owner":{"account_id":1670803,"reputation":611,"user_id":1537298,"accept_rate":100,"display_name":"NeoP5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463663446,"creation_date":1463662924,"answer_id":37324012,"question_id":37323797,"body_markdown":"To post a helpful answer ;)\r\nYour linked picture is unable to be display so i give it a try without knowing excatly what you want to archive!\r\n\r\nUse recursive function that is called for every &quot;sub-node&quot;.\r\nIf you have to center your tree you can let your function return the max level of the node and append blanks in front of all lines above.\r\n\r\nHope this gives you some idea...\r\nNOT TESTED!\r\n\r\n    public static void sketch(Node node){\r\n       printNode(node,0);\r\n    }\r\n\r\n    public static int printNode(Node node, int level){\r\n      String line = &quot;&quot;;\r\n      String lineLeft = &quot;&quot;;\r\n      String lineRight = &quot;&quot;;\r\n      for (int i = 0; i++; i&lt;level){\r\n       line = line + &quot;  &quot;;\r\n       lineLeft = lineLeft + &quot;  &quot;;\r\n       lineRight = lineRight + &quot;  &quot;;\r\n      }\r\n      line = line + node.getValue();\r\n      \r\n      System.out.println(line);\r\n      System.out.println(lineLeft);\r\n      if(node.getLeft() != null){\r\n       printNode(node.getLeft(), level+1); \r\n      }\r\n     .... proceed here\r\n    }","title":"Java Print tree from Node with branches","body":"<p>To post a helpful answer ;)\nYour linked picture is unable to be display so i give it a try without knowing excatly what you want to archive!</p>\n\n<p>Use recursive function that is called for every \"sub-node\".\nIf you have to center your tree you can let your function return the max level of the node and append blanks in front of all lines above.</p>\n\n<p>Hope this gives you some idea...\nNOT TESTED!</p>\n\n<pre><code>public static void sketch(Node node){\n   printNode(node,0);\n}\n\npublic static int printNode(Node node, int level){\n  String line = \"\";\n  String lineLeft = \"\";\n  String lineRight = \"\";\n  for (int i = 0; i++; i&lt;level){\n   line = line + \"  \";\n   lineLeft = lineLeft + \"  \";\n   lineRight = lineRight + \"  \";\n  }\n  line = line + node.getValue();\n\n  System.out.println(line);\n  System.out.println(lineLeft);\n  if(node.getLeft() != null){\n   printNode(node.getLeft(), level+1); \n  }\n .... proceed here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19687420,"reputation":167,"user_id":14413096,"display_name":"Aharon Sambol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656433745,"creation_date":1656433745,"answer_id":72790131,"question_id":37323797,"body_markdown":"https://github.com/AharonSambol/PrettyPrintTreeJava\r\n\r\nI know I&#39;m late.. But I made this solution which works not only for simple trees but also for more complex ones (such as multi-lined strings)\r\n\r\nExample output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oI86G.png","title":"Java Print tree from Node with branches","body":"<p><a href=\"https://github.com/AharonSambol/PrettyPrintTreeJava\" rel=\"nofollow noreferrer\">https://github.com/AharonSambol/PrettyPrintTreeJava</a></p>\n<p>I know I'm late.. But I made this solution which works not only for simple trees but also for more complex ones (such as multi-lined strings)</p>\n<p>Example output:</p>\n<p><a href=\"https://i.stack.imgur.com/oI86G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oI86G.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665959133,"creation_date":1665959133,"answer_id":74091061,"question_id":37323797,"body_markdown":"To print the tree you should do something like the BFS graph traversal. Pseudo code for this approach:\r\n```\r\n\r\nprint(root):\r\n  h := height(root)\r\n  q := queue()\r\n  q.add(root)\r\n\r\n  for level := 0 to h:\r\n     indent := 2^(h-level)-1\r\n     space := 2^(h-level+1)-1\r\n     \r\n     levelNodes = q.clear()\r\n     if (level &gt; 0):                // print lines only for non-root levels\r\n        printLines(levelNodes)      // ┌─┴─┐\r\n\r\n     printLevelNodes(levelNodes)    // a   b\r\n\r\n     for node in levelNodes:\r\n        q.add(node.left)\r\n        q.add(node.right)\r\n  \r\n```\r\nIn practice you would get something like:\r\n```\r\nTreeNode root = Tree.ints(TreeNode.class, &quot;[3,9,20,null,null,15,7]&quot;);\r\nTree.print(root);\r\n//           3\r\n//       ┌───┴───┐\r\n//       9      20\r\n//             ┌─┴─┐\r\n//            15   7\r\n```\r\n\r\nThe complete implementation can be found in the class: \r\nhttps://github.com/stuparmihailo/algo2prepare/blob/main/src/main/java/com/algo2prepare/util/Tree.java \r\n","title":"Java Print tree from Node with branches","body":"<p>To print the tree you should do something like the BFS graph traversal. Pseudo code for this approach:</p>\n<pre><code>\nprint(root):\n  h := height(root)\n  q := queue()\n  q.add(root)\n\n  for level := 0 to h:\n     indent := 2^(h-level)-1\n     space := 2^(h-level+1)-1\n     \n     levelNodes = q.clear()\n     if (level &gt; 0):                // print lines only for non-root levels\n        printLines(levelNodes)      // ┌─┴─┐\n\n     printLevelNodes(levelNodes)    // a   b\n\n     for node in levelNodes:\n        q.add(node.left)\n        q.add(node.right)\n  \n</code></pre>\n<p>In practice you would get something like:</p>\n<pre><code>TreeNode root = Tree.ints(TreeNode.class, &quot;[3,9,20,null,null,15,7]&quot;);\nTree.print(root);\n//           3\n//       ┌───┴───┐\n//       9      20\n//             ┌─┴─┐\n//            15   7\n</code></pre>\n<p>The complete implementation can be found in the class:\n<a href=\"https://github.com/stuparmihailo/algo2prepare/blob/main/src/main/java/com/algo2prepare/util/Tree.java\" rel=\"nofollow noreferrer\">https://github.com/stuparmihailo/algo2prepare/blob/main/src/main/java/com/algo2prepare/util/Tree.java</a></p>\n"}],"owner":{"account_id":1053203,"reputation":11,"user_id":6356236,"display_name":"Piash Hassan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":897,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1665959133,"creation_date":1463662365,"question_id":37323797,"body_markdown":"It has a node class containing this code\r\n\r\n    class Node {\r\n\r\n\t   String value;\r\n \t   Node left;\r\n\t   Node right;\r\n\r\n\t   Node(String value) {\r\n\r\n\t\t this.value = value;\r\n\t\t this.left = null;\r\n\t\t this.right = null;\r\n\t   }\r\n    }\r\n\r\nThe tree structure is already been made according to the node and having  \r\n\r\n    Node node = new Node();\r\n\r\nhere  node represents the root of the tree.\r\n&lt;br&gt;\r\nI need to draw or print a tree without Gui, Jframe. Just to show in the output panel. Example like this\r\n[format of the tree][1]\r\n&lt;br&gt;\r\nthis tree like structure should be drawn according to node&#39;s left and right branches.\r\n&lt;br&gt;\r\non call `sketch(node);` the tree will print&lt;br&gt;\r\nCan u guys help me to create the sketch class which will print the tree.\r\n\r\n    public static void sketch(Node root) {\r\n\r\n    }\r\nReally appreciate your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/okH4y.png","title":"Java Print tree from Node with branches","body":"<p>It has a node class containing this code</p>\n\n<pre><code>class Node {\n\n   String value;\n   Node left;\n   Node right;\n\n   Node(String value) {\n\n     this.value = value;\n     this.left = null;\n     this.right = null;\n   }\n}\n</code></pre>\n\n<p>The tree structure is already been made according to the node and having  </p>\n\n<pre><code>Node node = new Node();\n</code></pre>\n\n<p>here  node represents the root of the tree.\n<br>\nI need to draw or print a tree without Gui, Jframe. Just to show in the output panel. Example like this\n<a href=\"https://i.stack.imgur.com/okH4y.png\" rel=\"nofollow\">format of the tree</a>\n<br>\nthis tree like structure should be drawn according to node's left and right branches.\n<br>\non call <code>sketch(node);</code> the tree will print<br>\nCan u guys help me to create the sketch class which will print the tree.</p>\n\n<pre><code>public static void sketch(Node root) {\n\n}\n</code></pre>\n\n<p>Really appreciate your help.</p>\n"},{"tags":["java","xml","spring","google-app-engine","spring-boot"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":4,"creation_date":1401570409,"post_id":23974249,"comment_id":36938519,"body_markdown":"Pretty close to what you are asking for (with the difference that Java Config is used in most cases instead of XML) are the tutorials in this series http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-one-configuration/","body":"Pretty close to what you are asking for (with the difference that Java Config is used in most cases instead of XML) are the tutorials in this series <a href=\"http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-one-configuration/\" rel=\"nofollow noreferrer\">petrikainulainen.net/programming/spring-framework/&hellip;</a>"},{"owner":{"account_id":4277851,"reputation":51792,"user_id":3498062,"display_name":"Andrei Stefan"},"score":2,"creation_date":1401571765,"post_id":23974249,"comment_id":36938812,"body_markdown":"[http://www.springbyexample.org/examples/spring-data-jpa.html](http://www.springbyexample.org/examples/spring-data-jpa.html)","body":"<a href=\"http://www.springbyexample.org/examples/spring-data-jpa.html\" rel=\"nofollow noreferrer\">http://www.springbyexample.org/examples/spring-data-jpa.html</a>"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":2,"creation_date":1401603385,"post_id":23974249,"comment_id":36943991,"body_markdown":"If you&#39;re interested here&#39;s a GAE sample with Spring Boot: https://github.com/scratches/spring-boot-sample-gae. Why you&#39;d want to use XML is not really very clear, but note that there&#39;s nothing stopping you from using Spring Boot with XML either.","body":"If you&#39;re interested here&#39;s a GAE sample with Spring Boot: <a href=\"https://github.com/scratches/spring-boot-sample-gae\" rel=\"nofollow noreferrer\">github.com/scratches/spring-boot-sample-gae</a>. Why you&#39;d want to use XML is not really very clear, but note that there&#39;s nothing stopping you from using Spring Boot with XML either."},{"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1401637727,"post_id":23974249,"comment_id":36952055,"body_markdown":"@DaveSyer this spring-boot-sample-gae does not work as far as I know when I tested it","body":"@DaveSyer this spring-boot-sample-gae does not work as far as I know when I tested it"},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":2,"creation_date":1401644140,"post_id":23974249,"comment_id":36953970,"body_markdown":"It *did* work. If you want to fix it and send a pull request, be my guest.","body":"It <i>did</i> work. If you want to fix it and send a pull request, be my guest."},{"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1401676298,"post_id":23974249,"comment_id":36961626,"body_markdown":"@DaveSyer Let me try again, I wonder why you are using gae:deploy, does it mean that it can&#39;t run locally (with the SDK)?","body":"@DaveSyer Let me try again, I wonder why you are using gae:deploy, does it mean that it can&#39;t run locally (with the SDK)?"},{"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1401677298,"post_id":23974249,"comment_id":36961799,"body_markdown":"@DaveSyer the problem I get is: [INFO] java.lang.NoClassDefFoundError: java.io.FileOutputStream is a restricted class. Please see the Google  App Engine developer&#39;s guide for more details.","body":"@DaveSyer the problem I get is: [INFO] java.lang.NoClassDefFoundError: java.io.FileOutputStream is a restricted class. Please see the Google  App Engine developer&#39;s guide for more details."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":1,"creation_date":1401781348,"post_id":23974249,"comment_id":37004941,"body_markdown":"I don&#39;t see that problem, and the app is working fine (deployed it yesterday from master).","body":"I don&#39;t see that problem, and the app is working fine (deployed it yesterday from master)."}],"answers":[{"tags":[],"owner":{"account_id":6943277,"reputation":1208,"user_id":5328791,"display_name":"JM Yang"},"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1442194537,"creation_date":1442194537,"answer_id":32556217,"question_id":23974249,"body_markdown":"Just created this example for you:\r\n\r\n**src/main/webapp/WEB-INF/spring/context.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n\t\txmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\t\txmlns:jpa=&quot;http://www.springframework.org/schema/data/jpa&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n\t\t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\r\n\t\t\thttp://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd&quot;&gt;\r\n\t\r\n\t\t&lt;context:property-placeholder location=&quot;/WEB-INF/spring/jdbc.properties&quot; /&gt;\r\n\t\r\n\t\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n\t\t\tp:driverClassName=&quot;${jdbc.driverClassName}&quot; p:url=&quot;${jdbc.url}&quot;\r\n\t\t\tp:username=&quot;${jdbc.username}&quot; p:password=&quot;${jdbc.password}&quot; /&gt;\r\n\t\r\n\t\t&lt;bean id=&quot;hibernateJpaVendorAdapter&quot;\r\n\t\t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n\t\r\n\t\t&lt;!-- Configure the entity manager factory bean --&gt;\r\n\t\t&lt;bean id=&quot;entityManagerFactory&quot;\r\n\t\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n\t\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;jpaVendorAdapter&quot; ref=&quot;hibernateJpaVendorAdapter&quot; /&gt;\r\n\t\t\t&lt;!-- Set JPA properties --&gt;\r\n\t\t\t&lt;property name=&quot;jpaProperties&quot;&gt;\r\n\t\t\t\t&lt;props&gt;\r\n\t\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n\t\t\t\t&lt;/props&gt;\r\n\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.demo.data&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\r\n\t\t&lt;!-- Configure the transaction manager bean --&gt;\r\n\t\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot;&gt;\r\n\t\t\t&lt;property name=&quot;entityManagerFactory&quot; ref=&quot;entityManagerFactory&quot; /&gt;\r\n\t\t&lt;/bean&gt;\r\n\t\r\n\t\t&lt;tx:annotation-driven /&gt;\r\n\t\r\n\t\t&lt;jpa:repositories base-package=&quot;com.demo.data&quot; /&gt;\r\n\t\t&lt;context:component-scan base-package=&quot;com.demo.svc&quot; /&gt;\r\n\t&lt;/beans&gt;\r\n\r\n**/src/main/webapp/WEB-INF/spring/jdbc.properties**\r\n\r\n\t# JDBC Connection\r\n\tjdbc.driverClassName=com.mysql.jdbc.Driver\r\n\tjdbc.url=jdbc:mysql://host:3306/db\r\n\tjdbc.username=user\r\n\tjdbc.password=password\r\n\thibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n**/src/main/webapp/WEB-INF/spring/servlet-context.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t\txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n\t\t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n\t\r\n\t\t&lt;context:component-scan base-package=&quot;com.demo.web&quot; /&gt;\r\n\t&lt;/beans:beans&gt;\r\n\r\n**web.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n\t\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n\t\tversion=&quot;2.5&quot;&gt;\r\n\t\t&lt;context-param&gt;\r\n\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/spring/context.xml&lt;/param-value&gt;\r\n\t\t&lt;/context-param&gt;\r\n\t\t&lt;context-param&gt;\r\n\t\t\t&lt;param-name&gt;webAppRootKey&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;demo_jpa&lt;/param-value&gt;\r\n\t\t&lt;/context-param&gt;\r\n\t\r\n\t\t&lt;listener&gt;\r\n\t\t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n\t\t&lt;/listener&gt;\r\n\t\t&lt;servlet&gt;\r\n\t\t\t&lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n\t\t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t\t\t&lt;init-param&gt;\r\n\t\t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n\t\t\t\t&lt;param-value&gt;/WEB-INF/spring/servlet-context.xml&lt;/param-value&gt;\r\n\t\t\t&lt;/init-param&gt;\r\n\t\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t\t&lt;/servlet&gt;\r\n\t\t&lt;servlet-mapping&gt;\r\n\t\t\t&lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\r\n\t\t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t\t&lt;/servlet-mapping&gt;\r\n\t&lt;/web-app&gt;\r\n\r\n**pom.xml**\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;org.springframework-version&gt;4.1.7.RELEASE&lt;/org.springframework-version&gt;\r\n\t\t&lt;org.hibernate-em-version&gt;4.3.8.Final&lt;/org.hibernate-em-version&gt;\r\n\t\t&lt;org.springframework.data-version&gt;1.9.0.RELEASE&lt;/org.springframework.data-version&gt;\r\n\t\t&lt;dbcp-version&gt;1.4&lt;/dbcp-version&gt;\r\n\t\t&lt;mysql-connector-version&gt;5.1.28&lt;/mysql-connector-version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.springframework.data-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.hibernate-em-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${mysql-connector-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${dbcp-version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n**Data Entity: com.demo.data.User**\r\n\r\n\tpackage com.demo.data;\r\n\t\r\n\timport javax.persistence.Column;\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\n\timport javax.persistence.Table;\r\n\t\r\n\t@Entity\r\n\t@Table(name = &quot;SYS_USERS&quot;)\r\n\tpublic class User {\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\t@Column(name = &quot;USER_ID&quot;)\r\n\t\tprivate int id;\r\n\t\r\n\t\t@Column(name = &quot;USER_NAME&quot;)\r\n\t\tprivate String name;\r\n\t\r\n\t\tpublic int getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(int id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t}\r\n\r\n**Spring Data JPA Repository: com.demo.data.UserRepository**\r\n\r\n\tpackage com.demo.data;\r\n\t\r\n\timport org.springframework.data.repository.CrudRepository;\r\n\t\r\n\tpublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\r\n\t}\r\n\r\n**Service**\r\n\r\nInterface:\r\n\r\n\tpackage com.demo.svc;\r\n\t\r\n\timport com.demo.data.User;\r\n\t\r\n\tpublic interface UserService {\r\n\t\tUser findUserById(Integer id);\r\n\t}\r\n\r\nImplementation:\r\n\r\n\tpackage com.demo.svc;\r\n\t\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.stereotype.Service;\r\n\t\r\n\timport com.demo.data.User;\r\n\timport com.demo.data.UserRepository;\r\n\t\r\n\t@Service\r\n\tpublic class UserServiceImpl implements UserService {\r\n\t\t@Autowired\r\n\t\tUserRepository userRepository;\r\n\t\r\n\t\tpublic User findUserById(Integer id) {\r\n\t\t\treturn userRepository.findOne(id);\r\n\t\t}\r\n\t}\r\n\r\n**Web Controller: com.demo.web.UserController**\r\n\r\n\tpackage com.demo.web;\r\n\t\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.stereotype.Controller;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.ResponseBody;\r\n\t\r\n\timport com.demo.svc.UserService;\r\n\t\r\n\t@Controller\r\n\tpublic class UserController {\r\n\t\t@Autowired\r\n\t\tUserService svc;\r\n\t\r\n\t\t@RequestMapping(&quot;/&quot;)\r\n\t\t@ResponseBody\r\n\t\tpublic String test() {\r\n\t\t\treturn svc.findUserById(1).getName();\r\n\t\t}\r\n\t}\r\n","title":"Spring Data JPA without Spring Boot","body":"<p>Just created this example for you:</p>\n\n<p><strong>src/main/webapp/WEB-INF/spring/context.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:jpa=\"http://www.springframework.org/schema/data/jpa\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd\n        http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa.xsd\"&gt;\n\n    &lt;context:property-placeholder location=\"/WEB-INF/spring/jdbc.properties\" /&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        p:driverClassName=\"${jdbc.driverClassName}\" p:url=\"${jdbc.url}\"\n        p:username=\"${jdbc.username}\" p:password=\"${jdbc.password}\" /&gt;\n\n    &lt;bean id=\"hibernateJpaVendorAdapter\"\n        class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n\n    &lt;!-- Configure the entity manager factory bean --&gt;\n    &lt;bean id=\"entityManagerFactory\"\n        class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\" ref=\"hibernateJpaVendorAdapter\" /&gt;\n        &lt;!-- Set JPA properties --&gt;\n        &lt;property name=\"jpaProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.demo.data\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Configure the transaction manager bean --&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\"&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;tx:annotation-driven /&gt;\n\n    &lt;jpa:repositories base-package=\"com.demo.data\" /&gt;\n    &lt;context:component-scan base-package=\"com.demo.svc\" /&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>/src/main/webapp/WEB-INF/spring/jdbc.properties</strong></p>\n\n<pre><code># JDBC Connection\njdbc.driverClassName=com.mysql.jdbc.Driver\njdbc.url=jdbc:mysql://host:3306/db\njdbc.username=user\njdbc.password=password\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n\n<p><strong>/src/main/webapp/WEB-INF/spring/servlet-context.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.demo.web\" /&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n    version=\"2.5\"&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/context.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;webAppRootKey&lt;/param-name&gt;\n        &lt;param-value&gt;demo_jpa&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/servlet-context.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;properties&gt;\n    &lt;org.springframework-version&gt;4.1.7.RELEASE&lt;/org.springframework-version&gt;\n    &lt;org.hibernate-em-version&gt;4.3.8.Final&lt;/org.hibernate-em-version&gt;\n    &lt;org.springframework.data-version&gt;1.9.0.RELEASE&lt;/org.springframework.data-version&gt;\n    &lt;dbcp-version&gt;1.4&lt;/dbcp-version&gt;\n    &lt;mysql-connector-version&gt;5.1.28&lt;/mysql-connector-version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.data-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;${org.hibernate-em-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;${mysql-connector-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;${dbcp-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>Data Entity: com.demo.data.User</strong></p>\n\n<pre><code>package com.demo.data;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"SYS_USERS\")\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"USER_ID\")\n    private int id;\n\n    @Column(name = \"USER_NAME\")\n    private String name;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p><strong>Spring Data JPA Repository: com.demo.data.UserRepository</strong></p>\n\n<pre><code>package com.demo.data;\n\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface UserRepository extends CrudRepository&lt;User, Integer&gt; {\n}\n</code></pre>\n\n<p><strong>Service</strong></p>\n\n<p>Interface:</p>\n\n<pre><code>package com.demo.svc;\n\nimport com.demo.data.User;\n\npublic interface UserService {\n    User findUserById(Integer id);\n}\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>package com.demo.svc;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.demo.data.User;\nimport com.demo.data.UserRepository;\n\n@Service\npublic class UserServiceImpl implements UserService {\n    @Autowired\n    UserRepository userRepository;\n\n    public User findUserById(Integer id) {\n        return userRepository.findOne(id);\n    }\n}\n</code></pre>\n\n<p><strong>Web Controller: com.demo.web.UserController</strong></p>\n\n<pre><code>package com.demo.web;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.demo.svc.UserService;\n\n@Controller\npublic class UserController {\n    @Autowired\n    UserService svc;\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    public String test() {\n        return svc.findUserById(1).getName();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16125832,"reputation":498,"user_id":11640603,"display_name":"Amit Mishra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572663857,"creation_date":1572660783,"answer_id":58667727,"question_id":23974249,"body_markdown":"This is happening because you haven&#39;t created the bean of UserRepository in context. There are a number of ways you can do this since you&#39;re not using a spring boot project so it won&#39;t make an object in the container at startup due to which @Autowired is not injecting the object in the UserRepository class. For this project, you can update the following in your project:\r\n\r\n     package com.demo.svc;\r\n\r\n     import org.springframework.beans.factory.annotation.Autowired;\r\n     import org.springframework.stereotype.Service;\r\n\r\n     import com.demo.data.User;\r\n     import com.demo.data.UserRepository;\r\n\r\n     @Service\r\n     public class UserServiceImpl implements UserService {\r\n     \r\n     UserRepository userRepository;\r\n\r\n     public User findUserById(Integer id) {\r\n         return userRepository.findOne(id);\r\n     }\r\n       \r\n      public UserRepository setRepo(UserRepository repo)\r\n      {\r\n        userRepository=repo;\r\n      }\r\n\r\n    }\r\n\r\n\r\nAlso, you&#39;ll need to inject the object from the container.\r\nIn src/main/webapp/WEB-INF/spring/context.xml\r\n\r\n    &lt;bean id=&quot;repo&quot; class=&quot;com.demo.data.UserRepository&quot;&gt;&lt;/bean&gt;\r\n\r\n    &lt;!--Setting the object ref in com.demo.svc.UserServiceImpl--&gt;\r\n\r\n    &lt;bean id=&quot;userserviceImpl&quot; class=&quot;com.demo.svc.UserServiceImpl&quot;&gt;\r\n     &lt;property name=&quot;userRepository&quot; ref=&quot;repo&quot;&gt;&lt;/property&gt;\r\n     &lt;/bean&gt;\r\n\r\nHope it helps\r\n","title":"Spring Data JPA without Spring Boot","body":"<p>This is happening because you haven't created the bean of UserRepository in context. There are a number of ways you can do this since you're not using a spring boot project so it won't make an object in the container at startup due to which @Autowired is not injecting the object in the UserRepository class. For this project, you can update the following in your project:</p>\n\n<pre><code> package com.demo.svc;\n\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Service;\n\n import com.demo.data.User;\n import com.demo.data.UserRepository;\n\n @Service\n public class UserServiceImpl implements UserService {\n\n UserRepository userRepository;\n\n public User findUserById(Integer id) {\n     return userRepository.findOne(id);\n }\n\n  public UserRepository setRepo(UserRepository repo)\n  {\n    userRepository=repo;\n  }\n\n}\n</code></pre>\n\n<p>Also, you'll need to inject the object from the container.\nIn src/main/webapp/WEB-INF/spring/context.xml</p>\n\n<pre><code>&lt;bean id=\"repo\" class=\"com.demo.data.UserRepository\"&gt;&lt;/bean&gt;\n\n&lt;!--Setting the object ref in com.demo.svc.UserServiceImpl--&gt;\n\n&lt;bean id=\"userserviceImpl\" class=\"com.demo.svc.UserServiceImpl\"&gt;\n &lt;property name=\"userRepository\" ref=\"repo\"&gt;&lt;/property&gt;\n &lt;/bean&gt;\n</code></pre>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":23269125,"reputation":11,"user_id":17354214,"display_name":"oussama gadria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665957771,"creation_date":1665957771,"answer_id":74090976,"question_id":23974249,"body_markdown":"Adding this should solve your problem: &lt;dependency&gt;     &lt;groupId&gt;javax.servlet&lt;/groupId&gt;     &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;     &lt;version&gt;2.5&lt;/version&gt;     &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; Or, if you are using servlet 3.1 (or 3.0.1), you can use something like:&lt;dependency&gt;     &lt;groupId&gt;javax.servlet&lt;/groupId&gt;     &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;     &lt;version&gt;3.1.0&lt;/version&gt;     &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;","title":"Spring Data JPA without Spring Boot","body":"<p>Adding this should solve your problem:      javax.servlet     servlet-api     2.5     provided  Or, if you are using servlet 3.1 (or 3.0.1), you can use something like:     javax.servlet     javax.servlet-api     3.1.0     provided </p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37522,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"answer_count":3,"score":37,"last_activity_date":1665957771,"creation_date":1401567551,"question_id":23974249,"body_markdown":"Spring Boot doesn&#39;t work with Google App Engine (at least not for me).\r\n\r\nHowever much of the examples written or available in the *GitHub* or other repositories are using Spring Boot, is there any example for Spring-Data-JPA that does not use Spring Boot and use plain context XML as before?\r\n\r\nThat will show\r\n\r\n- spring/context.xml (or servlet-context.xml)\r\n-","title":"Spring Data JPA without Spring Boot","body":"<p>Spring Boot doesn't work with Google App Engine (at least not for me).</p>\n\n<p>However much of the examples written or available in the <em>GitHub</em> or other repositories are using Spring Boot, is there any example for Spring-Data-JPA that does not use Spring Boot and use plain context XML as before?</p>\n\n<p>That will show</p>\n\n<h2>- spring/context.xml (or servlet-context.xml)</h2>\n"},{"tags":["java","algorithm","data-structures","binary-tree"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1584002981,"post_id":60650339,"comment_id":107303336,"body_markdown":"How does `AAAxxxAxx` relate to the tree you drew? I don&#39;t understand, can you add the xs on the drawing?","body":"How does <code>AAAxxxAxx</code> relate to the tree you drew? I don&#39;t understand, can you add the xs on the drawing?"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1584023273,"post_id":60650339,"comment_id":107313972,"body_markdown":"There are many different definitions of &quot;balanced.&quot; Do you mean perfectly balanced?","body":"There are many different definitions of &quot;balanced.&quot; Do you mean perfectly balanced?"},{"owner":{"account_id":12267768,"reputation":806,"user_id":8953834,"display_name":"Ayoub Omari"},"score":0,"creation_date":1584023289,"post_id":60650339,"comment_id":107313984,"body_markdown":"@Bentaye, I think the string is constructed in a preorder traversal of the tree. I will propose an edit to add the xs","body":"@Bentaye, I think the string is constructed in a preorder traversal of the tree. I will propose an edit to add the xs"}],"answers":[{"tags":[],"owner":{"account_id":8885614,"reputation":77,"user_id":6633959,"display_name":"Ohad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584023322,"creation_date":1584003176,"answer_id":60650495,"question_id":60650339,"body_markdown":"A common way to represent a binary tree in an array is:\r\n\r\n - If root position is ```i```\r\n - Left child is ```2*i+1```\r\n - Right child is ```2*i+2```\r\n - For N level tree it needs ```2^N-1``` memory space.\r\n - If current node is ```i``` then it&#39;s parent is ```(i-1)/2```\r\n\r\nExample:\r\n\r\n```\r\n           2\r\n      7        5\r\n    2   6    X    9\r\n   X X 5 11      4  X\r\n```\r\n\r\nArray should be: {2, 7, 5, 2, 6, -1, 9, -1, -1, 5, 11, -1, -1, 4, -1}\r\n\r\nThere are other ways, but this is very common.\r\nI hope this answers your question because it is somewhat obscure. \r\n\r\nFor code, follow [this link][1].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/binary-tree-array-implementation/","title":"How to represent a string as binary tree in Java?","body":"<p>A common way to represent a binary tree in an array is:</p>\n\n<ul>\n<li>If root position is <code>i</code></li>\n<li>Left child is <code>2*i+1</code></li>\n<li>Right child is <code>2*i+2</code></li>\n<li>For N level tree it needs <code>2^N-1</code> memory space.</li>\n<li>If current node is <code>i</code> then it's parent is <code>(i-1)/2</code></li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>           2\n      7        5\n    2   6    X    9\n   X X 5 11      4  X\n</code></pre>\n\n<p>Array should be: {2, 7, 5, 2, 6, -1, 9, -1, -1, 5, 11, -1, -1, 4, -1}</p>\n\n<p>There are other ways, but this is very common.\nI hope this answers your question because it is somewhat obscure. </p>\n\n<p>For code, follow <a href=\"https://www.geeksforgeeks.org/binary-tree-array-implementation/\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584023418,"creation_date":1584023418,"answer_id":60656213,"question_id":60650339,"body_markdown":"The input string seems to present a pre-order traversal of the tree.\r\n\r\nSo an algorithm would typically use recursion or a stack to unwind that string into an actual node-based tree structure.\r\n\r\nHere is some code:\r\n\r\n\r\n``` \r\nimport java.util.*; \r\n\r\nclass Node {\r\n    char val;\r\n    Node left = null;\r\n    Node right = null;\r\n\r\n    Node(char val) {\r\n        this.val = val;\r\n    }\r\n\r\n    static Node fromString(String str) {\r\n        Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\r\n        Node node = new Node(&#39; &#39;);\r\n        Node stub = node;\r\n        boolean goRight = false;\r\n        \r\n        for (int i = 0, n = str.length() ; i &lt; n ; i++) { \r\n            char c = str.charAt(i); \r\n            if (c == &#39;x&#39;) {\r\n                if (goRight) {\r\n                    node.right = null;\r\n                    node = stack.pop();\r\n                } else {\r\n                    node.left = null;\r\n                    goRight = true;\r\n                }\r\n            } else {\r\n                Node child = new Node(c);\r\n                if (goRight) {\r\n                    node.right = child;\r\n                    node = node.right;\r\n                    goRight = false;\r\n                } else {\r\n                    node.left = child;\r\n                    stack.push(node);\r\n                    node = node.left;\r\n                }\r\n            }\r\n        }\r\n        return stub.left;\r\n    }\r\n}\r\n```\r\n\r\nYou can call it like this:\r\n\r\n    Node root = Node.fromString(&quot;AAAxxxAxx&quot;);\r\n\r\nThis would lead to the following object structure:\r\n\r\n```json\r\n{\r\n    &quot;val&quot;: &#39;A&#39;,\r\n    &quot;left&quot;: {\r\n        &quot;val&quot;: &#39;A&#39;,\r\n        &quot;left&quot;: { &quot;val&quot;: &#39;A&#39; }\r\n    }, \r\n    &quot;right&quot;: { &quot;val&quot;: &#39;A&#39; }\r\n}\r\n\r\n","title":"How to represent a string as binary tree in Java?","body":"<p>The input string seems to present a pre-order traversal of the tree.</p>\n\n<p>So an algorithm would typically use recursion or a stack to unwind that string into an actual node-based tree structure.</p>\n\n<p>Here is some code:</p>\n\n<pre><code>import java.util.*; \n\nclass Node {\n    char val;\n    Node left = null;\n    Node right = null;\n\n    Node(char val) {\n        this.val = val;\n    }\n\n    static Node fromString(String str) {\n        Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\n        Node node = new Node(' ');\n        Node stub = node;\n        boolean goRight = false;\n\n        for (int i = 0, n = str.length() ; i &lt; n ; i++) { \n            char c = str.charAt(i); \n            if (c == 'x') {\n                if (goRight) {\n                    node.right = null;\n                    node = stack.pop();\n                } else {\n                    node.left = null;\n                    goRight = true;\n                }\n            } else {\n                Node child = new Node(c);\n                if (goRight) {\n                    node.right = child;\n                    node = node.right;\n                    goRight = false;\n                } else {\n                    node.left = child;\n                    stack.push(node);\n                    node = node.left;\n                }\n            }\n        }\n        return stub.left;\n    }\n}\n</code></pre>\n\n<p>You can call it like this:</p>\n\n<pre><code>Node root = Node.fromString(\"AAAxxxAxx\");\n</code></pre>\n\n<p>This would lead to the following object structure:</p>\n\n<pre><code>{\n    \"val\": 'A',\n    \"left\": {\n        \"val\": 'A',\n        \"left\": { \"val\": 'A' }\n    }, \n    \"right\": { \"val\": 'A' }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665957616,"creation_date":1665957616,"answer_id":74090963,"question_id":60650339,"body_markdown":"Leetcode problems in their test cases represent binary trees as arrays. For example array [3,9,20,null,null,15,7] can be represented as:\r\n```\r\nTreeNode root = Tree.ints(TreeNode.class, &quot;[3,9,20,null,null,15,7]&quot;);\r\nTree.print(root);\r\n//           3\r\n//       ┌───┴───┐\r\n//       9      20\r\n//             ┌─┴─┐\r\n//            15   7\r\n```\r\nwhere explanation of this representation is:\r\n```\r\n                    left child\r\n                    of root\r\n                      │ \r\n                      │    right child\r\n                      │    of root\r\n                      │     │\r\n                      ⍒     ⍒\r\narray values:  ┌ 3,   9,   20, null, null,   15,   7 ┐\r\n               │ ----------------------------------- │\r\narray indices: └ 0,   1,    2,    3,    4,    5,   6 ┘\r\n                 ⍋\r\n                 │\r\n                root \r\n\r\n\r\nTree representation of defined array, where values in brackets are array indices:\r\n           3(0)\r\n       ┌───┴───┐\r\n    (1)9      20(2)\r\n             ┌─┴─┐\r\n         (5)15   7(6)\r\n```\r\n\r\n","title":"How to represent a string as binary tree in Java?","body":"<p>Leetcode problems in their test cases represent binary trees as arrays. For example array [3,9,20,null,null,15,7] can be represented as:</p>\n<pre><code>TreeNode root = Tree.ints(TreeNode.class, &quot;[3,9,20,null,null,15,7]&quot;);\nTree.print(root);\n//           3\n//       ┌───┴───┐\n//       9      20\n//             ┌─┴─┐\n//            15   7\n</code></pre>\n<p>where explanation of this representation is:</p>\n<pre><code>                    left child\n                    of root\n                      │ \n                      │    right child\n                      │    of root\n                      │     │\n                      ⍒     ⍒\narray values:  ┌ 3,   9,   20, null, null,   15,   7 ┐\n               │ ----------------------------------- │\narray indices: └ 0,   1,    2,    3,    4,    5,   6 ┘\n                 ⍋\n                 │\n                root \n\n\nTree representation of defined array, where values in brackets are array indices:\n           3(0)\n       ┌───┴───┐\n    (1)9      20(2)\n             ┌─┴─┐\n         (5)15   7(6)\n</code></pre>\n"}],"owner":{"account_id":17958312,"reputation":11,"user_id":13049813,"display_name":"AlphaX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1665957616,"creation_date":1584002402,"question_id":60650339,"body_markdown":"Hi there I&#39;m kinda new to programing and I have to check if a given binary tree is balanced or not in Java. to do so I wanted to try to reach the deepest node of both sides and check the difference in height but the thing is the trees are given like this:\r\nAAAxxxAxx where A are nodes and x are null so this example would look something like this:\r\n\r\n           A\r\n\r\n        A     A\r\n\r\n     A\r\n\r\n\r\nProblem is I have no idea how to represent the string as a binary tree. \r\nI had an idea and tried adding each character to an Arraylist but soon after I gave up.\r\nsorry if my question is dumb or something but I really have no idea what to do.\r\nany tips or help would be appreciated or if anyone has a better idea of how to check if the tree is balanced please let me know.\r\nthank you in advance.","title":"How to represent a string as binary tree in Java?","body":"<p>Hi there I'm kinda new to programing and I have to check if a given binary tree is balanced or not in Java. to do so I wanted to try to reach the deepest node of both sides and check the difference in height but the thing is the trees are given like this:\nAAAxxxAxx where A are nodes and x are null so this example would look something like this:</p>\n\n<pre><code>       A\n\n    A     A\n\n A\n</code></pre>\n\n<p>Problem is I have no idea how to represent the string as a binary tree. \nI had an idea and tried adding each character to an Arraylist but soon after I gave up.\nsorry if my question is dumb or something but I really have no idea what to do.\nany tips or help would be appreciated or if anyone has a better idea of how to check if the tree is balanced please let me know.\nthank you in advance.</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":2375630,"reputation":30604,"user_id":2815219,"display_name":"Raman Sahasi"},"score":0,"creation_date":1623584397,"post_id":67957487,"comment_id":120115554,"body_markdown":"your `templateRepository` is null. I&#39;m quite positive this is because your database configuration details are missing. How are you connecting to the database. Is it from your `application.properties`? You know you should have different `application.properties` in your `src/test/resources` if you want a database connection during testing.","body":"your <code>templateRepository</code> is null. I&#39;m quite positive this is because your database configuration details are missing. How are you connecting to the database. Is it from your <code>application.properties</code>? You know you should have different <code>application.properties</code> in your <code>src&#47;test&#47;resources</code> if you want a database connection during testing."},{"owner":{"account_id":12692840,"reputation":9,"user_id":9222242,"display_name":"Louis"},"score":0,"creation_date":1623586444,"post_id":67957487,"comment_id":120116013,"body_markdown":"I have a application.yml with database connection string. How can I connect to the database with unit testing?","body":"I have a application.yml with database connection string. How can I connect to the database with unit testing?"},{"owner":{"account_id":2375630,"reputation":30604,"user_id":2815219,"display_name":"Raman Sahasi"},"score":0,"creation_date":1623587251,"post_id":67957487,"comment_id":120116170,"body_markdown":"it depends upon what type of database you need to connect to. Usually users connect to temporary databases while testing: [Self-Contained Testing Using an In-Memory Database](https://www.baeldung.com/spring-jpa-test-in-memory-database)","body":"it depends upon what type of database you need to connect to. Usually users connect to temporary databases while testing: <a href=\"https://www.baeldung.com/spring-jpa-test-in-memory-database\" rel=\"nofollow noreferrer\">Self-Contained Testing Using an In-Memory Database</a>"},{"owner":{"account_id":17466472,"reputation":747,"user_id":12663117,"display_name":"Nate T"},"score":1,"creation_date":1623589290,"post_id":67957487,"comment_id":120116642,"body_markdown":"I believe H2 is the default in-mem db for spring boot. You can find the Maven dependency in Initializr.","body":"I believe H2 is the default in-mem db for spring boot. You can find the Maven dependency in Initializr."}],"answers":[{"tags":[],"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623613772,"creation_date":1623613772,"answer_id":67962128,"question_id":67957487,"body_markdown":"Spring documentation on [@DataJpaTest][1]\r\n\r\n&gt; Using this annotation will disable full auto-configuration and instead apply only configuration relevant to JPA tests.\r\n\r\nYour repository is null. Within given test setup, Spring doesn&#39;t know anything about `TemplateRepository`. So what you need to do is to provide an application context so that Spring can inject the managed dependencies.\r\n\r\nAs you&#39;re using JUnit5, try adding another annotation to your test `@ExtendWith(SpringExtension.class)` to enable Spring Application context.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html","title":"Junit5 jpa repository null pointer exception","body":"<p>Spring documentation on <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">@DataJpaTest</a></p>\n<blockquote>\n<p>Using this annotation will disable full auto-configuration and instead apply only configuration relevant to JPA tests.</p>\n</blockquote>\n<p>Your repository is null. Within given test setup, Spring doesn't know anything about <code>TemplateRepository</code>. So what you need to do is to provide an application context so that Spring can inject the managed dependencies.</p>\n<p>As you're using JUnit5, try adding another annotation to your test <code>@ExtendWith(SpringExtension.class)</code> to enable Spring Application context.</p>\n"},{"tags":[],"owner":{"account_id":26642783,"reputation":1,"user_id":20258173,"display_name":"omer java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665955018,"creation_date":1665955018,"answer_id":74090758,"question_id":67957487,"body_markdown":"```\r\nimport com.example.demo.entity.Employee;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n\r\n@SpringBootTest\r\nclass EmployeeRepositoryTest {\r\n\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n\r\n    @Test\r\n    void itShouldFindByEmail() {\r\n\r\n        // given\r\n        String email = &quot;cemil@mail.com&quot;;\r\n\r\n        Employee employee = new Employee(\r\n                &quot;john&quot;,\r\n                email,\r\n                45,\r\n                &quot;developer&quot;\r\n        );\r\n        employeeRepository.save(employee);\r\n\r\n        // when\r\n        Employee expected = employeeRepository.findByEmail(email).orElseThrow(null);\r\n\r\n        // then\r\n        if(expected!=null) {\r\n            Assertions.assertEquals(expected.getEmail(), email);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nI was getting also java.lang.NullPointerException for my employeeRepository above. Then I put @SpringBootTest annotation following comment of Ashutosh Srivastav then my test has worked and passed. Thanks Ashutosh!","title":"Junit5 jpa repository null pointer exception","body":"<pre><code>import com.example.demo.entity.Employee;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n\n@SpringBootTest\nclass EmployeeRepositoryTest {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n\n    @Test\n    void itShouldFindByEmail() {\n\n        // given\n        String email = &quot;cemil@mail.com&quot;;\n\n        Employee employee = new Employee(\n                &quot;john&quot;,\n                email,\n                45,\n                &quot;developer&quot;\n        );\n        employeeRepository.save(employee);\n\n        // when\n        Employee expected = employeeRepository.findByEmail(email).orElseThrow(null);\n\n        // then\n        if(expected!=null) {\n            Assertions.assertEquals(expected.getEmail(), email);\n        }\n\n    }\n}\n</code></pre>\n<p>I was getting also java.lang.NullPointerException for my employeeRepository above. Then I put @SpringBootTest annotation following comment of Ashutosh Srivastav then my test has worked and passed. Thanks Ashutosh!</p>\n"}],"owner":{"account_id":12692840,"reputation":9,"user_id":9222242,"display_name":"Louis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665955018,"creation_date":1623582014,"question_id":67957487,"body_markdown":"I am trying to test the repositories. Alas, when I am trying to test I keep getting the same error. The error is as follows:\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.changing.springboot.repository.TemplateRepositoryTest.should_return_templateName_when_call_findByTemplateName(TemplateRepositoryTest.java:22)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n    \tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n    \tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n    \tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\r\n    \tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:137)\r\n    \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:89)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\n\r\nHere is my TemplateRepositoryTest.class:\r\n\r\n    package com.changing.springboot.repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.junit.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    \r\n    import com.changing.springboot.model.TemplateModel;\r\n    \r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.AUTO_CONFIGURED)\r\n    public class TemplateRepositoryTest {\r\n    \t \r\n    \t @Autowired\r\n    \t TemplateRepository templateRepository;\r\n    \t \r\n    \t @Test\r\n    \t public void should_return_templateName_when_call_findByTemplateName() {\r\n    \t\t \r\n    \t\t List&lt;TemplateModel&gt; list = templateRepository.findAll();\r\n    \t }\r\n    }\r\n\r\nHere is my TemplateRepository.class:\r\n\r\n    package com.changing.springboot.repository;\r\n    \r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.changing.springboot.model.TemplateModel;\r\n    \r\n    @Repository\r\n    public interface TemplateRepository extends JpaRepository&lt;TemplateModel, Integer&gt; {\r\n    \tList&lt;TemplateModel&gt; findAll();\r\n    \r\n    \tTemplateModel findByTemplateName(String templateName);\r\n    \r\n    \tTemplateModel findByTemplateCusUid(String templateCusUid);\r\n    \r\n    \tPage&lt;TemplateModel&gt; findAllByTemplateCreateTimeBetween(Date begin, Date after, Pageable pageable);\r\n    \r\n    \tPage&lt;TemplateModel&gt; findAllByTemplateNameAndTemplateCreateTimeBetween(String templateName, Date begin, Date after,\r\n    \t\t\tPageable pageable);\r\n    \r\n    \tPage&lt;TemplateModel&gt; findAllByTemplateCusUidAndTemplateCreateTimeBetween(String templateCusUid, Date begin,\r\n    \t\t\tDate after, Pageable pageable);\r\n    \r\n    \tPage&lt;TemplateModel&gt; findAllByTemplateNameAndTemplateCusUidAndTemplateCreateTimeBetween(String templateName,\r\n    \t\t\tString templateCusUid, Date begin, Date after, Pageable pageable);\r\n    }\r\n\r\nHere is my TemplateModel.class:\r\n\r\n    package com.changing.springboot.model;\r\n    \r\n    import lombok.*;\r\n    import org.hibernate.annotations.Cascade;\r\n    import org.hibernate.annotations.CascadeType;\r\n    import org.hibernate.annotations.GenericGenerator;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;cg_template&quot;)\r\n    @Builder\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TemplateModel{\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(generator = &quot;id_Sequence&quot;)\r\n    \t@GenericGenerator(name = &quot;id_Sequence&quot;, strategy = &quot;native&quot;)\r\n    \t@Column(name = &quot;template_id&quot;)\r\n    \tprivate Integer templateId;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;template_creator_account_id&quot;)\r\n    \tprivate AccountModel accountModel;\r\n    \r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;template_group_id&quot;)\r\n    \tprivate FormGroupModel formGroupModel;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;template&quot;, orphanRemoval = false, fetch = FetchType.LAZY)\r\n    \t@Cascade(value = CascadeType.SAVE_UPDATE)\r\n    \t@OrderBy(&quot;docId ASC&quot;)\r\n    \tprivate List&lt;DocModel&gt; cgDoc = new ArrayList&lt;DocModel&gt;();\r\n    \r\n    \t@Column(name = &quot;template_name&quot;)\r\n    \tprivate String templateName;\r\n    \r\n    \t@Column(name = &quot;template_desc&quot;)\r\n    \tprivate String templateDesc;\r\n    \r\n    \t@Column(name = &quot;template_create_time&quot;)\r\n    \tprivate Date templateCreateTime;\r\n    \r\n    \t@Column(name = &quot;template_uid&quot;)\r\n    \tprivate String templateUid;\r\n    \r\n    \t@Column(name = &quot;template_cus_uid&quot;)\r\n    \tprivate String templateCusUid;\r\n    \r\n    \t@Column(name = &quot;template_status&quot;)\r\n    \tprivate Integer templateStatus;\r\n    \r\n    \t@Column(name = &quot;template_expire_days&quot;)\r\n    \tprivate Integer templateExpireDays;\r\n    \r\n    \t@Column(name = &quot;template_sign_video_flag&quot;)\r\n    \tprivate Integer signVideoFlag;\r\n    \r\n    \t@Column(name = &quot;template_check_require_item&quot;)\r\n    \tprivate Integer checkRequiredBeforeSign;\r\n    \t\r\n    \t@Column(name = &quot;template_check_required_before_upload&quot;)\r\n    \tprivate Integer checkRequiredBeforeUpload;\r\n    \r\n    \t\r\n    \tpublic TemplateModel(AccountModel accountModel, FormGroupModel formGroupModel, String templateName, String templateDesc,\r\n    \t\t\tDate templateCreateTime, String templateUid, String templateCusUid, Integer templateStatus,\r\n    \t\t\tInteger templateExpireDays,Integer signVideoFlag, Integer checkRequiredBeforeSign, Integer checkRequiredBeforeUpload) {\r\n    \t\tsuper();\r\n    \t\tthis.accountModel = accountModel;\r\n    \t\tthis.formGroupModel = formGroupModel;\r\n    \t\tthis.templateName = templateName;\r\n    \t\tthis.templateDesc = templateDesc;\r\n    \t\tthis.templateCreateTime = templateCreateTime;\r\n    \t\tthis.templateUid = templateUid;\r\n    \t\tthis.templateCusUid = templateCusUid;\r\n    \t\tthis.templateStatus = templateStatus;\r\n    \t\tthis.templateExpireDays = templateExpireDays;\r\n    \t\tthis.signVideoFlag=signVideoFlag;\r\n    \t\tthis.checkRequiredBeforeSign = checkRequiredBeforeSign;\r\n    \t\tthis.checkRequiredBeforeUpload = checkRequiredBeforeUpload;\r\n    \t}\r\n    }\r\n\r\nThis problem is occure at List&lt;TemplateModel&gt; list = templateRepository.findAll();\r\n\r\nMy database connection string in application.yml.\r\nI don&#39;t know this problem is about connect db or repository error.\r\nIf problem is database,how can I connect to the database with unit testing?\r\nI want connect real database, not H2. \r\n\r\nIf you could help or point me in the right direction I would be very grateful. Thank you\r\n\r\n","title":"Junit5 jpa repository null pointer exception","body":"<p>I am trying to test the repositories. Alas, when I am trying to test I keep getting the same error. The error is as follows:</p>\n<pre><code>java.lang.NullPointerException\n    at com.changing.springboot.repository.TemplateRepositoryTest.should_return_templateName_when_call_findByTemplateName(TemplateRepositoryTest.java:22)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Iterator.forEachRemaining(Iterator.java:116)\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:137)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\n</code></pre>\n<p>Here is my TemplateRepositoryTest.class:</p>\n<pre><code>package com.changing.springboot.repository;\n\nimport java.util.List;\n\nimport org.junit.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\n\nimport com.changing.springboot.model.TemplateModel;\n\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.AUTO_CONFIGURED)\npublic class TemplateRepositoryTest {\n     \n     @Autowired\n     TemplateRepository templateRepository;\n     \n     @Test\n     public void should_return_templateName_when_call_findByTemplateName() {\n         \n         List&lt;TemplateModel&gt; list = templateRepository.findAll();\n     }\n}\n</code></pre>\n<p>Here is my TemplateRepository.class:</p>\n<pre><code>package com.changing.springboot.repository;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.changing.springboot.model.TemplateModel;\n\n@Repository\npublic interface TemplateRepository extends JpaRepository&lt;TemplateModel, Integer&gt; {\n    List&lt;TemplateModel&gt; findAll();\n\n    TemplateModel findByTemplateName(String templateName);\n\n    TemplateModel findByTemplateCusUid(String templateCusUid);\n\n    Page&lt;TemplateModel&gt; findAllByTemplateCreateTimeBetween(Date begin, Date after, Pageable pageable);\n\n    Page&lt;TemplateModel&gt; findAllByTemplateNameAndTemplateCreateTimeBetween(String templateName, Date begin, Date after,\n            Pageable pageable);\n\n    Page&lt;TemplateModel&gt; findAllByTemplateCusUidAndTemplateCreateTimeBetween(String templateCusUid, Date begin,\n            Date after, Pageable pageable);\n\n    Page&lt;TemplateModel&gt; findAllByTemplateNameAndTemplateCusUidAndTemplateCreateTimeBetween(String templateName,\n            String templateCusUid, Date begin, Date after, Pageable pageable);\n}\n</code></pre>\n<p>Here is my TemplateModel.class:</p>\n<pre><code>package com.changing.springboot.model;\n\nimport lombok.*;\nimport org.hibernate.annotations.Cascade;\nimport org.hibernate.annotations.CascadeType;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;cg_template&quot;)\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TemplateModel{\n    \n    @Id\n    @GeneratedValue(generator = &quot;id_Sequence&quot;)\n    @GenericGenerator(name = &quot;id_Sequence&quot;, strategy = &quot;native&quot;)\n    @Column(name = &quot;template_id&quot;)\n    private Integer templateId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;template_creator_account_id&quot;)\n    private AccountModel accountModel;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;template_group_id&quot;)\n    private FormGroupModel formGroupModel;\n\n    @OneToMany(mappedBy = &quot;template&quot;, orphanRemoval = false, fetch = FetchType.LAZY)\n    @Cascade(value = CascadeType.SAVE_UPDATE)\n    @OrderBy(&quot;docId ASC&quot;)\n    private List&lt;DocModel&gt; cgDoc = new ArrayList&lt;DocModel&gt;();\n\n    @Column(name = &quot;template_name&quot;)\n    private String templateName;\n\n    @Column(name = &quot;template_desc&quot;)\n    private String templateDesc;\n\n    @Column(name = &quot;template_create_time&quot;)\n    private Date templateCreateTime;\n\n    @Column(name = &quot;template_uid&quot;)\n    private String templateUid;\n\n    @Column(name = &quot;template_cus_uid&quot;)\n    private String templateCusUid;\n\n    @Column(name = &quot;template_status&quot;)\n    private Integer templateStatus;\n\n    @Column(name = &quot;template_expire_days&quot;)\n    private Integer templateExpireDays;\n\n    @Column(name = &quot;template_sign_video_flag&quot;)\n    private Integer signVideoFlag;\n\n    @Column(name = &quot;template_check_require_item&quot;)\n    private Integer checkRequiredBeforeSign;\n    \n    @Column(name = &quot;template_check_required_before_upload&quot;)\n    private Integer checkRequiredBeforeUpload;\n\n    \n    public TemplateModel(AccountModel accountModel, FormGroupModel formGroupModel, String templateName, String templateDesc,\n            Date templateCreateTime, String templateUid, String templateCusUid, Integer templateStatus,\n            Integer templateExpireDays,Integer signVideoFlag, Integer checkRequiredBeforeSign, Integer checkRequiredBeforeUpload) {\n        super();\n        this.accountModel = accountModel;\n        this.formGroupModel = formGroupModel;\n        this.templateName = templateName;\n        this.templateDesc = templateDesc;\n        this.templateCreateTime = templateCreateTime;\n        this.templateUid = templateUid;\n        this.templateCusUid = templateCusUid;\n        this.templateStatus = templateStatus;\n        this.templateExpireDays = templateExpireDays;\n        this.signVideoFlag=signVideoFlag;\n        this.checkRequiredBeforeSign = checkRequiredBeforeSign;\n        this.checkRequiredBeforeUpload = checkRequiredBeforeUpload;\n    }\n}\n</code></pre>\n<p>This problem is occure at List list = templateRepository.findAll();</p>\n<p>My database connection string in application.yml.\nI don't know this problem is about connect db or repository error.\nIf problem is database,how can I connect to the database with unit testing?\nI want connect real database, not H2.</p>\n<p>If you could help or point me in the right direction I would be very grateful. Thank you</p>\n"},{"tags":["java","package"],"answers":[{"tags":[],"owner":{"account_id":15521000,"reputation":66,"user_id":11197189,"display_name":"Optimix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665954739,"creation_date":1665954306,"answer_id":74090709,"question_id":74090071,"body_markdown":"You could create your own annotation `@ToRegister` and use it in your classes:\r\n```java\r\n@ToRegister\r\npublic class ToRegister1 {\r\n}\r\n```\r\n\r\nThen use [Reflections](https://github.com/ronmamo/reflections) to find the classes  [as explained in this answer](https://stackoverflow.com/a/50955914/11197189).","title":"Calling mulitple classes&#39; method inside a package","body":"<p>You could create your own annotation <code>@ToRegister</code> and use it in your classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ToRegister\npublic class ToRegister1 {\n}\n</code></pre>\n<p>Then use <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections</a> to find the classes  <a href=\"https://stackoverflow.com/a/50955914/11197189\">as explained in this answer</a>.</p>\n"}],"owner":{"account_id":17904690,"reputation":184,"user_id":13008170,"display_name":"gXLg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74090709,"answer_count":1,"score":0,"last_activity_date":1665954739,"creation_date":1665947983,"question_id":74090071,"body_markdown":"I am writing a Minecraft mod. I&#39;ve got multiple classes inside a package, which all have the `public static register()` method. Upon starting of the Minecraft Client, I am calling every classes&#39; `register()` method.\r\n\r\nThere are two problems with my code:\r\n1) There are a lot of classes inside that package and having every single class inside the main class looks awful\r\n2) Adding new class inside the package does not automatically add the `register()`-part inside the main class and can be easily forgotten.\r\n\r\nThe question is now: is there any way to automatically call every classes&#39; `register()` method inside the main class?\r\n\r\nOne of my ideas was to fetch every class inside the package using `ClassLoader.getSystemClassLoader().getResourceAsStream` and then `Class.forName`, which looks like an overkill to me.\r\n\r\nI have never actually learned java and only got to know it through examples, so don&#39;t go too hard on me.","title":"Calling mulitple classes&#39; method inside a package","body":"<p>I am writing a Minecraft mod. I've got multiple classes inside a package, which all have the <code>public static register()</code> method. Upon starting of the Minecraft Client, I am calling every classes' <code>register()</code> method.</p>\n<p>There are two problems with my code:</p>\n<ol>\n<li>There are a lot of classes inside that package and having every single class inside the main class looks awful</li>\n<li>Adding new class inside the package does not automatically add the <code>register()</code>-part inside the main class and can be easily forgotten.</li>\n</ol>\n<p>The question is now: is there any way to automatically call every classes' <code>register()</code> method inside the main class?</p>\n<p>One of my ideas was to fetch every class inside the package using <code>ClassLoader.getSystemClassLoader().getResourceAsStream</code> and then <code>Class.forName</code>, which looks like an overkill to me.</p>\n<p>I have never actually learned java and only got to know it through examples, so don't go too hard on me.</p>\n"},{"tags":["java","android","cordova","cordova-plugins","cordova-android"],"comments":[{"owner":{"account_id":10375203,"reputation":504,"user_id":7651583,"display_name":"Ravikumar Rajendran"},"score":0,"creation_date":1665817046,"post_id":73976163,"comment_id":130791181,"body_markdown":"I think you are doing this in the wrong way, see this! https://github.com/ionic-team/capacitor/blob/main/android/capacitor/src/main/java/com/getcapacitor/cordova/CapacitorCordovaCookieManager.java","body":"I think you are doing this in the wrong way, see this! <a href=\"https://github.com/ionic-team/capacitor/blob/main/android/capacitor/src/main/java/com/getcapacitor/cordova/CapacitorCordovaCookieManager.java\" rel=\"nofollow noreferrer\">github.com/ionic-team/capacitor/blob/main/android/capacitor/&zwnj;&#8203;src/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665954610,"creation_date":1665950584,"answer_id":74090361,"question_id":73976163,"body_markdown":"I will answer my own question since I&#39;ve found the solution\r\nThe code actually works! The issue is between scheme / hostname and inspecting.\r\n\r\nThe scheme actually does not set webView location, it always falls back onto `https://`, even if you set it to `app://`.\r\n\r\nThen when I inspect the webview, it is loaded by default with `file://` because I had `AndroidInsecureFileModeEnabled` set to `true`, so I do need to reload the webview and use the proper url `https://com.myapp`, and finally I see my cookies, or remove `AndroidInsecureFileModeEnabled`.\r\n","title":"Cordova Android ICordovaCookieManager use from plugin","body":"<p>I will answer my own question since I've found the solution\nThe code actually works! The issue is between scheme / hostname and inspecting.</p>\n<p>The scheme actually does not set webView location, it always falls back onto <code>https://</code>, even if you set it to <code>app://</code>.</p>\n<p>Then when I inspect the webview, it is loaded by default with <code>file://</code> because I had <code>AndroidInsecureFileModeEnabled</code> set to <code>true</code>, so I do need to reload the webview and use the proper url <code>https://com.myapp</code>, and finally I see my cookies, or remove <code>AndroidInsecureFileModeEnabled</code>.</p>\n"}],"owner":{"account_id":389916,"reputation":9994,"user_id":749657,"accept_rate":83,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74090361,"answer_count":1,"score":2,"last_activity_date":1665954610,"creation_date":1665069147,"question_id":73976163,"body_markdown":"I&#39;m trying, from a Cordova plugin, to set a cookie to the webview. \r\nI&#39;ve checked the cordova-android source and it appears that there is a CookieManager interface.\r\nWhen I&#39;m trying to use it, the cookie isn&#39;t set when I inspect the webview.\r\n\r\n     @Override\r\n     public void initialize(CordovaInterface cordova, CordovaWebView webView) {\r\n        super.initialize(cordova, webView);  \r\n\r\n        ICordovaCookieManager cookieManager = webView.getCookieManager();\r\n        cookieManager.setCookiesEnabled(true);\r\n        cookieManager.setCookie(&quot;https://com.myapp&quot;, &quot;test=test&quot;);\r\n     }\r\n\r\nNote that I&#39;m using the `https://com.myapp` as host as it is set in the `hostname` preference. I&#39;ve also tried `http://localhost` and `https://localhost`..\r\n\r\nHow do I use `ICordovaCookieManager` to set a cookie ?","title":"Cordova Android ICordovaCookieManager use from plugin","body":"<p>I'm trying, from a Cordova plugin, to set a cookie to the webview.\nI've checked the cordova-android source and it appears that there is a CookieManager interface.\nWhen I'm trying to use it, the cookie isn't set when I inspect the webview.</p>\n<pre><code> @Override\n public void initialize(CordovaInterface cordova, CordovaWebView webView) {\n    super.initialize(cordova, webView);  \n\n    ICordovaCookieManager cookieManager = webView.getCookieManager();\n    cookieManager.setCookiesEnabled(true);\n    cookieManager.setCookie(&quot;https://com.myapp&quot;, &quot;test=test&quot;);\n }\n</code></pre>\n<p>Note that I'm using the <code>https://com.myapp</code> as host as it is set in the <code>hostname</code> preference. I've also tried <code>http://localhost</code> and <code>https://localhost</code>..</p>\n<p>How do I use <code>ICordovaCookieManager</code> to set a cookie ?</p>\n"},{"tags":["java","neo4j","spring-data-neo4j"],"comments":[{"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"score":0,"creation_date":1665672991,"post_id":73848272,"comment_id":130758797,"body_markdown":"Do you have the chance of upgrading to a newer version of Spring Data Neo4j?\n6.1 is not officially patched anymore and the most current version out now is 6.3.4.","body":"Do you have the chance of upgrading to a newer version of Spring Data Neo4j? 6.1 is not officially patched anymore and the most current version out now is 6.3.4."}],"answers":[{"tags":[],"owner":{"account_id":23790128,"reputation":31,"user_id":17801653,"display_name":"Hunter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665954390,"creation_date":1665954390,"answer_id":74090719,"question_id":73848272,"body_markdown":"It turns out the problem was unrelated to what I thought. My constructor to `ListenedAppleSong` took an argument that was not a field of the class. Since Spring data expects constructor args to exist as fields it was failing with error: `&quot;Required property appleSong not found for class com.dapp.common.model.apple.ListenedAppleSong!&quot;` Solution was to make sure all constructor args are fields in the class. Unfortunately this error was not thrown during execution and the code just hung so it took a while to debug.","title":"Problem saving Neo4j 1:many @Relationship with polymorphic set","body":"<p>It turns out the problem was unrelated to what I thought. My constructor to <code>ListenedAppleSong</code> took an argument that was not a field of the class. Since Spring data expects constructor args to exist as fields it was failing with error: <code>&quot;Required property appleSong not found for class com.dapp.common.model.apple.ListenedAppleSong!&quot;</code> Solution was to make sure all constructor args are fields in the class. Unfortunately this error was not thrown during execution and the code just hung so it took a while to debug.</p>\n"}],"owner":{"account_id":23790128,"reputation":31,"user_id":17801653,"display_name":"Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665954390,"creation_date":1664145851,"question_id":73848272,"body_markdown":"When saving the `Dater` class below with `Neo4jRepository::save` (`spring-data-neo4j-6.1.5`) the save hangs and never returns. I believe it has something to do with my `Dater` object having a relationship defined by a set referencing an interface instead of a class with a `@Node` annotation. Is this an issue for neo4j?\r\n\r\n```\r\n    //PersistentDaterMusicItem is interface. Is there a problem doing this?\r\n\t@Relationship(type = &quot;LISTENS_TO_MUSIC&quot;)\r\n\tprivate Set&lt;PersistentDaterMusicItem&gt; musicItems = new HashSet&lt;&gt;();\r\n```\r\n\r\n\r\n```\r\n//parent\r\n@Node\r\npublic class Dater{\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n    //set of different implementations of PersistentDaterMusicItem\r\n\t@Relationship(type = &quot;LISTENS_TO_MUSIC&quot;)\r\n\tprivate Set&lt;PersistentDaterMusicItem&gt; musicItems = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n```\r\n//inteface 1\r\npublic interface PersistentLibraryMusicItem extends PersistentDaterMusicItem{\r\n\tLocalDateTime getAddedDateTime();\r\n}\r\n```\r\n\r\n```\r\n//interface 2\r\npublic interface PersistentListenedMusicItem extends PersistentDaterMusicItem{\r\n    LocalDateTime getListenedDateTime();\r\n}\r\n```\r\n\r\n```\r\n//impl 1 of PersistentDaterMusicItem\r\n@Node\r\npublic class ListenedAppleSong extends AppleSong implements PersistentListenedMusicItem{\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate final Long id;\r\n\r\n}\r\n```\r\n\r\n```\r\n//impl 2 of PersistentDaterMusicItem\r\n@Node\r\npublic class LibraryAppleSong extends AppleSong implements PersistentLibraryMusicItem{\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate final Long id;\r\n  \r\n}\r\n```\r\n","title":"Problem saving Neo4j 1:many @Relationship with polymorphic set","body":"<p>When saving the <code>Dater</code> class below with <code>Neo4jRepository::save</code> (<code>spring-data-neo4j-6.1.5</code>) the save hangs and never returns. I believe it has something to do with my <code>Dater</code> object having a relationship defined by a set referencing an interface instead of a class with a <code>@Node</code> annotation. Is this an issue for neo4j?</p>\n<pre><code>    //PersistentDaterMusicItem is interface. Is there a problem doing this?\n    @Relationship(type = &quot;LISTENS_TO_MUSIC&quot;)\n    private Set&lt;PersistentDaterMusicItem&gt; musicItems = new HashSet&lt;&gt;();\n</code></pre>\n<pre><code>//parent\n@Node\npublic class Dater{\n\n    @Id\n    @GeneratedValue\n    //set of different implementations of PersistentDaterMusicItem\n    @Relationship(type = &quot;LISTENS_TO_MUSIC&quot;)\n    private Set&lt;PersistentDaterMusicItem&gt; musicItems = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>//inteface 1\npublic interface PersistentLibraryMusicItem extends PersistentDaterMusicItem{\n    LocalDateTime getAddedDateTime();\n}\n</code></pre>\n<pre><code>//interface 2\npublic interface PersistentListenedMusicItem extends PersistentDaterMusicItem{\n    LocalDateTime getListenedDateTime();\n}\n</code></pre>\n<pre><code>//impl 1 of PersistentDaterMusicItem\n@Node\npublic class ListenedAppleSong extends AppleSong implements PersistentListenedMusicItem{\n\n    @Id\n    @GeneratedValue\n    private final Long id;\n\n}\n</code></pre>\n<pre><code>//impl 2 of PersistentDaterMusicItem\n@Node\npublic class LibraryAppleSong extends AppleSong implements PersistentLibraryMusicItem{\n\n    @Id\n    @GeneratedValue\n    private final Long id;\n  \n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":2,"creation_date":1665876095,"post_id":74083590,"comment_id":130802095,"body_markdown":"The names of the files need to match the class names. What did you call them? Also, you should follow the Java naming conventions. https://www.javatpoint.com/java-naming-conventions It will make it easier for others to help you. And finally, the names of your classes are super complicated. Why? You should simplify them.","body":"The names of the files need to match the class names. What did you call them? Also, you should follow the Java naming conventions. <a href=\"https://www.javatpoint.com/java-naming-conventions\" rel=\"nofollow noreferrer\">javatpoint.com/java-naming-conventions</a> It will make it easier for others to help you. And finally, the names of your classes are super complicated. Why? You should simplify them."}],"answers":[{"tags":[],"owner":{"account_id":26575439,"reputation":21,"user_id":20200923,"display_name":"Angela Salda&#241;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665877092,"creation_date":1665877092,"answer_id":74083715,"question_id":74083590,"body_markdown":"The error is that you are not calling the correct class name, change this part:\r\n\r\n\r\n        keelanbaxter_185A01_Cube myCube1 = new keelanbaxter_185A01_Cube();\r\n        myCube1.setSide(side);\r\n\r\n        ","title":"I had to rename my files and now my runner will not function","body":"<p>The error is that you are not calling the correct class name, change this part:</p>\n<pre><code>    keelanbaxter_185A01_Cube myCube1 = new keelanbaxter_185A01_Cube();\n    myCube1.setSide(side);\n\n    \n</code></pre>\n"}],"owner":{"account_id":26605255,"reputation":9,"user_id":20226218,"display_name":"gl1tch"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1665955510,"answer_count":1,"score":-2,"last_activity_date":1665953519,"creation_date":1665875050,"question_id":74083590,"body_markdown":"I had to rename two files, and now they won&#39;t work when I run the demo file. I am a beginner to programming and cannot identify why my methods will not properly connect to the other file containing its constructors, methods, etc. Can someone please help me identify what is going wrong? Specifically, `myCube.calcCubeArea(side)` is not working, and I don&#39;t know why. \r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class keelanbaxter_185A01_Cubedemo {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the type of units: &quot;);\r\n        String units = sc.next();\r\n        System.out.print(&quot;Enter the number of sides: &quot;);\r\n        double side = sc.nextInt();\r\n\r\n        keelanbaxter_185A01_Cubedemo myCube1 = new keelanbaxter_185A01_Cubedemo();\r\n        myCube1.setSide(side);\r\n\r\n        System.out.println(&quot;The units you have chosen are: &quot; + units + &quot; and the side length is: &quot; + side + units);\r\n\r\n        System.out.println(&quot;The area of the cube is: &quot; + myCube1.calcCubeArea(side));\r\n        System.out.println(&quot;The volume of the cube is: &quot; + myCube1.calcCubeVolume(side));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class keelanbaxter_185A01_Cube {\r\n    private double side;\r\n    private static String units;\r\n\r\n    public void setSide(double S) {\r\n        side = S;\r\n    }\r\n\r\n    public double getSide() {\r\n        return side;\r\n    }\r\n\r\n    public void setUnits(String uni) {\r\n        units = uni;\r\n    }\r\n\r\n    public String getUnits() {\r\n        return units;\r\n    }\r\n\r\n    public double calcCubeVolume(double volume) {\r\n        return volume = side*side*side;\r\n    }\r\n\r\n    public double calcCubeArea(double area) {\r\n        return area = side*side;\r\n    }\r\n}\r\n```","title":"I had to rename my files and now my runner will not function","body":"<p>I had to rename two files, and now they won't work when I run the demo file. I am a beginner to programming and cannot identify why my methods will not properly connect to the other file containing its constructors, methods, etc. Can someone please help me identify what is going wrong? Specifically, <code>myCube.calcCubeArea(side)</code> is not working, and I don't know why.</p>\n<pre><code>import java.util.Scanner;\npublic class keelanbaxter_185A01_Cubedemo {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the type of units: &quot;);\n        String units = sc.next();\n        System.out.print(&quot;Enter the number of sides: &quot;);\n        double side = sc.nextInt();\n\n        keelanbaxter_185A01_Cubedemo myCube1 = new keelanbaxter_185A01_Cubedemo();\n        myCube1.setSide(side);\n\n        System.out.println(&quot;The units you have chosen are: &quot; + units + &quot; and the side length is: &quot; + side + units);\n\n        System.out.println(&quot;The area of the cube is: &quot; + myCube1.calcCubeArea(side));\n        System.out.println(&quot;The volume of the cube is: &quot; + myCube1.calcCubeVolume(side));\n\n    }\n}\n\n</code></pre>\n<pre><code>public class keelanbaxter_185A01_Cube {\n    private double side;\n    private static String units;\n\n    public void setSide(double S) {\n        side = S;\n    }\n\n    public double getSide() {\n        return side;\n    }\n\n    public void setUnits(String uni) {\n        units = uni;\n    }\n\n    public String getUnits() {\n        return units;\n    }\n\n    public double calcCubeVolume(double volume) {\n        return volume = side*side*side;\n    }\n\n    public double calcCubeArea(double area) {\n        return area = side*side;\n    }\n}\n</code></pre>\n"},{"tags":["java","quicksort"],"comments":[{"owner":{"account_id":19097920,"reputation":89,"user_id":13946806,"display_name":"Nili"},"score":0,"creation_date":1665945472,"post_id":74089648,"comment_id":130812811,"body_markdown":"So, basically, you want to sort an array? What is your desired output?","body":"So, basically, you want to sort an array? What is your desired output?"},{"owner":{"account_id":22946638,"reputation":1,"user_id":17078540,"display_name":"Jeet Narayan Chakraborty"},"score":0,"creation_date":1665945878,"post_id":74089648,"comment_id":130812901,"body_markdown":"Sorting the array in ascending order, thanks for asking , but recently I have found the error and solved. Thanks","body":"Sorting the array in ascending order, thanks for asking , but recently I have found the error and solved. Thanks"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665946360,"post_id":74089648,"comment_id":130813019,"body_markdown":"@JeetNarayanChakraborty Then share the solution with us, please","body":"@JeetNarayanChakraborty Then share the solution with us, please"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1665947463,"post_id":74089648,"comment_id":130813259,"body_markdown":"*&quot;But for some reason, it is not giving the correct output.&quot;* - please describe what&#39;s happening (and there would be no need to add random words). Show the input your code fails to sort, and the output it produces.","body":"<i>&quot;But for some reason, it is not giving the correct output.&quot;</i> - please describe what&#39;s happening (and there would be no need to add random words). Show the input your code fails to sort, and the output it produces."},{"owner":{"account_id":22946638,"reputation":1,"user_id":17078540,"display_name":"Jeet Narayan Chakraborty"},"score":0,"creation_date":1666036539,"post_id":74089648,"comment_id":130835882,"body_markdown":"@ChristophS. I was comparing the index instead of the value at that index . That was the problem.","body":"@ChristophS. I was comparing the index instead of the value at that index . That was the problem."},{"owner":{"account_id":22946638,"reputation":1,"user_id":17078540,"display_name":"Jeet Narayan Chakraborty"},"score":0,"creation_date":1666036946,"post_id":74089648,"comment_id":130835998,"body_markdown":"@AlexanderIvanchenko , I gave input 6 1 7 2 , output was  1 7 2 6. I solved it , thanks","body":"@AlexanderIvanchenko , I gave input 6 1 7 2 , output was  1 7 2 6. I solved it , thanks"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665953417,"creation_date":1665953417,"answer_id":74090621,"question_id":74089648,"body_markdown":"You are comparing pivot value to the index instead of the value in your array at the index.\r\n\r\n`while (i &lt;= pivot)` should be `while (a.get(i) &lt;= pivot)`\r\n\r\n`while (j &gt; pivot)` should be `while (a.get(j) &gt; pivot)`","title":"Quick sort algorithm not working - giving wrong output","body":"<p>You are comparing pivot value to the index instead of the value in your array at the index.</p>\n<p><code>while (i &lt;= pivot)</code> should be <code>while (a.get(i) &lt;= pivot)</code></p>\n<p><code>while (j &gt; pivot)</code> should be <code>while (a.get(j) &gt; pivot)</code></p>\n"}],"owner":{"account_id":22946638,"reputation":1,"user_id":17078540,"display_name":"Jeet Narayan Chakraborty"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665953417,"creation_date":1665944341,"question_id":74089648,"body_markdown":"I am learning algorithms like searching and sorting, and have written the quick sort algorithm. But for some reason, it is not giving the correct output. I looked thoroughly but was unable to solve it. Any help will be appreciated.\r\n\r\nMy code is below:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Quick_Sort {\r\n    static Scanner s = new Scanner(System.in);\r\n\r\n    private static ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\r\n    \r\n    static void fill() {\r\n        int i;\r\n\r\n        for (i = 0; i &lt; 4; i++) {\r\n            System.out.print(&quot;Enter number :&quot;);\r\n            a.add(s.nextInt());\r\n        }\r\n        \r\n        a.add(Integer.MAX_VALUE);\r\n        System.out.print(&quot;\\nBefore Sorting :&quot;);\r\n\r\n        for (i = 0; i &lt; a.size() - 1; i++) {\r\n            System.out.print(a.get(i) + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n\r\n    static void swap(int i, int j) {\r\n        int temp;\r\n\r\n        temp = a.get(i);\r\n        a.set(i, a.get(j));\r\n        a.set(j, temp);\r\n    }\r\n\r\n    static int partition(int low, int high) {\r\n        int i, j, pivot;\r\n\r\n        i = low;\r\n        j = high;\r\n\r\n        pivot = a.get(low);\r\n        do {\r\n            do {\r\n                i++;\r\n\r\n            } while (i &lt;= pivot);  //Finding larger element than pivot\r\n\r\n            do {\r\n                j--;\r\n\r\n            } while (j &gt; pivot); //Finding smaller element than pivot\r\n\r\n            if (i &lt; j) {\r\n                swap(i, j);  // Swapping\r\n            }\r\n\r\n        } while (i &lt; j);\r\n\r\n        swap(low, j);    // Swapping the pivot into its correct position\r\n        \r\n        return j;\r\n    }\r\n\r\n\r\n    static void QuickS(int low, int high) {\r\n        int p;\r\n\r\n        System.out.println(&quot;low :&quot; + low + &quot; high :&quot; + high);\r\n        \r\n        if (low &lt; high) {\r\n            p = partition(low, high);   //Finding the partion to divide the list\r\n\r\n            System.out.println(&quot;mid :&quot; + p);\r\n\r\n            QuickS(low, p);\r\n            QuickS(p + 1, high);\r\n        }\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        int i;\r\n\r\n        fill();\r\n        QuickS(0, 4);          //Calling quick sort function\r\n\r\n        System.out.print(&quot;\\nAfter Sorting :&quot;);\r\n\r\n        for (i = 0; i &lt; a.size() - 1; i++) {\r\n            System.out.print(a.get(i) + &quot; &quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nEnd of the code here. Adding some random words so StackOverflow allows me to save this edit.","title":"Quick sort algorithm not working - giving wrong output","body":"<p>I am learning algorithms like searching and sorting, and have written the quick sort algorithm. But for some reason, it is not giving the correct output. I looked thoroughly but was unable to solve it. Any help will be appreciated.</p>\n<p>My code is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Quick_Sort {\n    static Scanner s = new Scanner(System.in);\n\n    private static ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\n    \n    static void fill() {\n        int i;\n\n        for (i = 0; i &lt; 4; i++) {\n            System.out.print(&quot;Enter number :&quot;);\n            a.add(s.nextInt());\n        }\n        \n        a.add(Integer.MAX_VALUE);\n        System.out.print(&quot;\\nBefore Sorting :&quot;);\n\n        for (i = 0; i &lt; a.size() - 1; i++) {\n            System.out.print(a.get(i) + &quot; &quot;);\n        }\n    }\n\n\n    static void swap(int i, int j) {\n        int temp;\n\n        temp = a.get(i);\n        a.set(i, a.get(j));\n        a.set(j, temp);\n    }\n\n    static int partition(int low, int high) {\n        int i, j, pivot;\n\n        i = low;\n        j = high;\n\n        pivot = a.get(low);\n        do {\n            do {\n                i++;\n\n            } while (i &lt;= pivot);  //Finding larger element than pivot\n\n            do {\n                j--;\n\n            } while (j &gt; pivot); //Finding smaller element than pivot\n\n            if (i &lt; j) {\n                swap(i, j);  // Swapping\n            }\n\n        } while (i &lt; j);\n\n        swap(low, j);    // Swapping the pivot into its correct position\n        \n        return j;\n    }\n\n\n    static void QuickS(int low, int high) {\n        int p;\n\n        System.out.println(&quot;low :&quot; + low + &quot; high :&quot; + high);\n        \n        if (low &lt; high) {\n            p = partition(low, high);   //Finding the partion to divide the list\n\n            System.out.println(&quot;mid :&quot; + p);\n\n            QuickS(low, p);\n            QuickS(p + 1, high);\n        }\n    }\n\n    public static void main(String args[]) {\n        int i;\n\n        fill();\n        QuickS(0, 4);          //Calling quick sort function\n\n        System.out.print(&quot;\\nAfter Sorting :&quot;);\n\n        for (i = 0; i &lt; a.size() - 1; i++) {\n            System.out.print(a.get(i) + &quot; &quot;);\n        }\n    }\n}\n</code></pre>\n<p>End of the code here. Adding some random words so StackOverflow allows me to save this edit.</p>\n"},{"tags":["java","spring","spring-boot","lombok","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665952881,"creation_date":1665865073,"answer_id":74082719,"question_id":74077726,"body_markdown":"Edit:\r\nas mentioned by Filip in the comments this should be fixed from 1.5.0.Final onwards, see https://github.com/mapstruct/mapstruct/issues/2356.\r\nBut you will still need to create manual mappings for the `firstname` and `lastname` fields.\r\n\r\n----\r\n\r\nThe cause is that you inverse inherit the mapping for the field `fullName`.\r\n`@Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)` inversed becomes `@Mapping(source = &quot;fullName&quot;, target = &quot;employee&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)`.\r\n\r\nBecause this makes no sense because since you do not have a field named `employee` mapstruct gives that error.\r\n\r\nIn this situation you cannot make use of the `@InheritInverseConfiguration` route. Instead you will need to write out the reverse mappings yourself.\r\n\r\nWhich means that\r\n```java\r\n    //qualifiedByName take the\r\n    @Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)\r\n    EmployeeDto toDto(Employee employee);\r\n    //do the Inverse of the toDto method\r\n    @InheritInverseConfiguration(name = &quot;toDto&quot;)\r\n    Employee fromDto(EmployeeDto dto);\r\n```\r\nwill become something like\r\n```\r\n    //qualifiedByName take the\r\n    @Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)\r\n    EmployeeDto toDto(Employee employee);\r\n    //do the Inverse of the toDto method\r\n    @Mapping(source = &quot;fullName&quot;, target = &quot;firstname&quot;, qualifiedByName = &quot;extractFirstNameFromFullName&quot;)\r\n    @Mapping(source = &quot;fullName&quot;, target = &quot;lastname&quot;, qualifiedByName = &quot;extractLastNameFromFullName&quot;)\r\n    Employee fromDto(EmployeeDto dto);\r\n    // methods here to extract the first/last name from the fullname.\r\n```","title":"qualifiedByName mapstruct, I don&#39;t understand why this exception appears?","body":"<p>Edit:\nas mentioned by Filip in the comments this should be fixed from 1.5.0.Final onwards, see <a href=\"https://github.com/mapstruct/mapstruct/issues/2356\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/2356</a>.\nBut you will still need to create manual mappings for the <code>firstname</code> and <code>lastname</code> fields.</p>\n<hr />\n<p>The cause is that you inverse inherit the mapping for the field <code>fullName</code>.\n<code>@Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)</code> inversed becomes <code>@Mapping(source = &quot;fullName&quot;, target = &quot;employee&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)</code>.</p>\n<p>Because this makes no sense because since you do not have a field named <code>employee</code> mapstruct gives that error.</p>\n<p>In this situation you cannot make use of the <code>@InheritInverseConfiguration</code> route. Instead you will need to write out the reverse mappings yourself.</p>\n<p>Which means that</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //qualifiedByName take the\n    @Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)\n    EmployeeDto toDto(Employee employee);\n    //do the Inverse of the toDto method\n    @InheritInverseConfiguration(name = &quot;toDto&quot;)\n    Employee fromDto(EmployeeDto dto);\n</code></pre>\n<p>will become something like</p>\n<pre><code>    //qualifiedByName take the\n    @Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)\n    EmployeeDto toDto(Employee employee);\n    //do the Inverse of the toDto method\n    @Mapping(source = &quot;fullName&quot;, target = &quot;firstname&quot;, qualifiedByName = &quot;extractFirstNameFromFullName&quot;)\n    @Mapping(source = &quot;fullName&quot;, target = &quot;lastname&quot;, qualifiedByName = &quot;extractLastNameFromFullName&quot;)\n    Employee fromDto(EmployeeDto dto);\n    // methods here to extract the first/last name from the fullname.\n</code></pre>\n"}],"owner":{"account_id":15237911,"reputation":1,"user_id":10995046,"display_name":"Hassen Ben Slima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665952881,"creation_date":1665820823,"question_id":74077726,"body_markdown":"     \r\n  \r\n    @Mapper\r\n    public interface EmployeeMapper {\r\n        //qualifiedByName take the\r\n        @Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)\r\n        EmployeeDto toDto(Employee employee);\r\n        //do the Inverse of the toDto method\r\n        @InheritInverseConfiguration(name = &quot;toDto&quot;)\r\n        Employee fromDto(EmployeeDto dto);\r\n        //take the same source emp\r\n        @Named(&quot;fullNameByFirstAndLastName&quot;)\r\n        default String fullNameByFirstAndLastName(Employee employee) {\r\n            return employee.getFirstname() + &quot;-&quot; + employee.getLastname();\r\n        }\r\n        /**\r\n         * recommended\r\n         * we can change the interface to abstract class and the methods also\r\n         */\r\n    }\r\n    @Data\r\n    @Builder\r\n    public class Employee {\r\n        private int id;\r\n        private String firstname;\r\n        private String lastname;\r\n    }\r\n    @Data\r\n    public class EmployeeDto {\r\n        private int id;\r\n        private String fullName;//FirstName+ &#39; &#39; +lastName\r\n    }\r\n\r\n - Unknown property &quot;employee&quot; in result type Employee.EmployeeBuilder. Did you mean &quot;null&quot;?\r\n -this code isn&#39;t compile i want to concatenate the firstname with the mastname in the fullname in EmployeDtO.\r\n\r\n","title":"qualifiedByName mapstruct, I don&#39;t understand why this exception appears?","body":"<pre><code>@Mapper\npublic interface EmployeeMapper {\n    //qualifiedByName take the\n    @Mapping(source = &quot;employee&quot;, target = &quot;fullName&quot;, qualifiedByName = &quot;fullNameByFirstAndLastName&quot;)\n    EmployeeDto toDto(Employee employee);\n    //do the Inverse of the toDto method\n    @InheritInverseConfiguration(name = &quot;toDto&quot;)\n    Employee fromDto(EmployeeDto dto);\n    //take the same source emp\n    @Named(&quot;fullNameByFirstAndLastName&quot;)\n    default String fullNameByFirstAndLastName(Employee employee) {\n        return employee.getFirstname() + &quot;-&quot; + employee.getLastname();\n    }\n    /**\n     * recommended\n     * we can change the interface to abstract class and the methods also\n     */\n}\n@Data\n@Builder\npublic class Employee {\n    private int id;\n    private String firstname;\n    private String lastname;\n}\n@Data\npublic class EmployeeDto {\n    private int id;\n    private String fullName;//FirstName+ ' ' +lastName\n}\n</code></pre>\n<ul>\n<li>Unknown property &quot;employee&quot; in result type Employee.EmployeeBuilder. Did you mean &quot;null&quot;?\n-this code isn't compile i want to concatenate the firstname with the mastname in the fullname in EmployeDtO.</li>\n</ul>\n"},{"tags":["java","probability"],"comments":[{"owner":{"account_id":365517,"reputation":9220,"user_id":710480,"accept_rate":88,"display_name":"勿绮语"},"score":4,"creation_date":1321626017,"post_id":8183840,"comment_id":11785611,"body_markdown":"check out java Random class. That allows you to generate random number, and you can go from there...","body":"check out java Random class. That allows you to generate random number, and you can go from there..."}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1334585320,"creation_date":1321625948,"answer_id":8183867,"question_id":8183840,"body_markdown":"You&#39;d use [Random][1] to generate a random number, then test it against a literal to match the probability you&#39;re trying to achieve.\r\n\r\nSo given:\r\n\r\n    boolean val = new Random().nextInt(25)==0;\r\n\r\n`val` will have a 1/25 probability of being true (since `nextInt()` has an even probability of returning any number starting at 0 and up to, but not including, 25.)\r\n\r\nYou would of course have to `import java.util.Random;` as well.\r\n\r\nAs pointed out below, if you&#39;re getting more than one random number it&#39;d be more efficient to reuse the Random object rather than recreating it all the time:\r\n\r\n    Random rand = new Random();\r\n    boolean val = rand.nextInt(25)==0;\r\n\r\n..\r\n\r\n    boolean val2 = rand.nextInt(25)==0;\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/util/Random.html","title":"Probability in Java","body":"<p>You'd use <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/Random.html\" rel=\"noreferrer\">Random</a> to generate a random number, then test it against a literal to match the probability you're trying to achieve.</p>\n\n<p>So given:</p>\n\n<pre><code>boolean val = new Random().nextInt(25)==0;\n</code></pre>\n\n<p><code>val</code> will have a 1/25 probability of being true (since <code>nextInt()</code> has an even probability of returning any number starting at 0 and up to, but not including, 25.)</p>\n\n<p>You would of course have to <code>import java.util.Random;</code> as well.</p>\n\n<p>As pointed out below, if you're getting more than one random number it'd be more efficient to reuse the Random object rather than recreating it all the time:</p>\n\n<pre><code>Random rand = new Random();\nboolean val = rand.nextInt(25)==0;\n</code></pre>\n\n<p>..</p>\n\n<pre><code>boolean val2 = rand.nextInt(25)==0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1665952802,"creation_date":1321625959,"answer_id":8183871,"question_id":8183840,"body_markdown":"Generally you use a random number generator. Most of those return a number in the interval [0,1[ so you would then check whether that number is &lt; 0.04 or not. \r\n\r\n    if( new Random().nextDouble() &lt; 0.04 ) {  //you might want to cache the Random instance\r\n       //we hit the 1/25 ( 4% ) case.\r\n    }\r\n\r\nOr \r\n\r\n    if( Math.random() &lt; 0.04 ) {\r\n      //we hit the 1/25 ( 4% ) case.\r\n    }\r\n\r\nNote that there are multiple random number generators that have different properties, but for simple applications the `Random` class should be sufficient.\r\n\r\n_Edit:_ I changed the condition from `&lt;=` to `&lt;` because the upper boundary of the random number is exlusive, i.e. the largest returned value will still be &lt; 1.0. Hence `x &lt;= 0.04` would actually be slightly more than a 4% chance, while `x &lt; 0.04` would be accurate (or as accurate as floating point math can be).","title":"Probability in Java","body":"<p>Generally you use a random number generator. Most of those return a number in the interval [0,1[ so you would then check whether that number is &lt; 0.04 or not.</p>\n<pre><code>if( new Random().nextDouble() &lt; 0.04 ) {  //you might want to cache the Random instance\n   //we hit the 1/25 ( 4% ) case.\n}\n</code></pre>\n<p>Or</p>\n<pre><code>if( Math.random() &lt; 0.04 ) {\n  //we hit the 1/25 ( 4% ) case.\n}\n</code></pre>\n<p>Note that there are multiple random number generators that have different properties, but for simple applications the <code>Random</code> class should be sufficient.</p>\n<p><em>Edit:</em> I changed the condition from <code>&lt;=</code> to <code>&lt;</code> because the upper boundary of the random number is exlusive, i.e. the largest returned value will still be &lt; 1.0. Hence <code>x &lt;= 0.04</code> would actually be slightly more than a 4% chance, while <code>x &lt; 0.04</code> would be accurate (or as accurate as floating point math can be).</p>\n"},{"tags":[],"owner":{"account_id":24285,"reputation":32181,"user_id":61663,"accept_rate":92,"display_name":"Jack Edmonds"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1321625996,"creation_date":1321625996,"answer_id":8183876,"question_id":8183840,"body_markdown":"Java has a class called [`java.util.Random`][1] which can generate random numbers.  If you want something to happen with probability 1/25, simply generate a random number between 1 and 25 (or 0 and 24 inclusive) and check whether that number is equal to 1.\r\n\r\n    if(new java.util.Random().nextInt(25)==0){\r\n        //Do something.\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5,0/docs/api/java/util/Random.html","title":"Probability in Java","body":"<p>Java has a class called <a href=\"http://download.oracle.com/javase/1,5,0/docs/api/java/util/Random.html\" rel=\"noreferrer\"><code>java.util.Random</code></a> which can generate random numbers.  If you want something to happen with probability 1/25, simply generate a random number between 1 and 25 (or 0 and 24 inclusive) and check whether that number is equal to 1.</p>\n\n<pre><code>if(new java.util.Random().nextInt(25)==0){\n    //Do something.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1047162,"reputation":4175,"user_id":1051927,"accept_rate":77,"display_name":"narek.gevorgyan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1321626130,"creation_date":1321626130,"answer_id":8183905,"question_id":8183840,"body_markdown":" \r\nMaybe you can implement this with generating random numbers.\r\n  \r\n\r\n      Random rn = new Random();\r\n        double d = rn.nextDouble();     // random value in range 0.0 - 1.0\r\n        if(d&lt;=0.04){\r\n        doSomeThing();\r\n        }","title":"Probability in Java","body":"<p>Maybe you can implement this with generating random numbers.</p>\n\n<pre><code>  Random rn = new Random();\n    double d = rn.nextDouble();     // random value in range 0.0 - 1.0\n    if(d&lt;=0.04){\n    doSomeThing();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2830374,"reputation":69,"user_id":2432079,"display_name":"Wald"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1403766294,"creation_date":1403766294,"answer_id":24424357,"question_id":8183840,"body_markdown":"Since 1.7 it&#39;s better to use (in concurrent environment at least):\r\n\r\n    ThreadLocalRandom.current().nextInt(25) == 0\r\n\r\n\r\n[Javadoc][1]\r\n\r\nA random number generator isolated to the current thread. Like the global Random generator used by the Math class, a ThreadLocalRandom is initialized with an internally generated seed that may not otherwise be modified. When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention. Use of ThreadLocalRandom is particularly appropriate when multiple tasks (for example, each a ForkJoinTask) use random numbers in parallel in thread pools.\r\nUsages of this class should typically be of the form: ThreadLocalRandom.current().nextX(...) (where X is Int, Long, etc). When all usages are of this form, it is never possible to accidently share a ThreadLocalRandom across multiple threads.\r\n\r\nThis class also provides additional commonly used bounded random generation methods.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html","title":"Probability in Java","body":"<p>Since 1.7 it's better to use (in concurrent environment at least):</p>\n\n<pre><code>ThreadLocalRandom.current().nextInt(25) == 0\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"noreferrer\">Javadoc</a></p>\n\n<p>A random number generator isolated to the current thread. Like the global Random generator used by the Math class, a ThreadLocalRandom is initialized with an internally generated seed that may not otherwise be modified. When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention. Use of ThreadLocalRandom is particularly appropriate when multiple tasks (for example, each a ForkJoinTask) use random numbers in parallel in thread pools.\nUsages of this class should typically be of the form: ThreadLocalRandom.current().nextX(...) (where X is Int, Long, etc). When all usages are of this form, it is never possible to accidently share a ThreadLocalRandom across multiple threads.</p>\n\n<p>This class also provides additional commonly used bounded random generation methods.</p>\n"}],"owner":{"account_id":347193,"reputation":3284,"user_id":681159,"accept_rate":98,"display_name":"Jeel Shah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86734,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":8183867,"answer_count":5,"score":44,"last_activity_date":1665952802,"creation_date":1321625825,"question_id":8183840,"body_markdown":"I was curious to know, how do I implement probability in Java? For example, if the chances of a variable showing is 1/25, then how would I implement that? Or any other probability? Please point me in the general direction.","title":"Probability in Java","body":"<p>I was curious to know, how do I implement probability in Java? For example, if the chances of a variable showing is 1/25, then how would I implement that? Or any other probability? Please point me in the general direction.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665596735,"post_id":74045631,"comment_id":130740279,"body_markdown":"what exactly are you expecting in the array?","body":"what exactly are you expecting in the array?"},{"owner":{"account_id":3056450,"reputation":1,"user_id":2751790,"display_name":"user2453"},"score":0,"creation_date":1665614035,"post_id":74045631,"comment_id":130744592,"body_markdown":"I am expecting  **&quot;A:22&quot;,&quot;D:3&quot;,&quot;C:4&quot;,&quot;A:-22&quot;** from the input String **new String[]{&quot;A:22&quot;,&quot;D:3&quot;,&quot;C:4&quot;,&quot;A:-22&quot;}**","body":"I am expecting  <b>&quot;A:22&quot;,&quot;D:3&quot;,&quot;C:4&quot;,&quot;A:-22&quot;</b> from the input String <b>new String[]{&quot;A:22&quot;,&quot;D:3&quot;,&quot;C:4&quot;,&quot;A:-22&quot;}</b>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665652908,"post_id":74045631,"comment_id":130751858,"body_markdown":"basically `myString.replaceFirst(&quot;^\\\\Qnew String[]{\\&quot;\\\\E&quot;,&quot;&quot;).replaceFirst(&quot;\\\\Q\\&quot;}\\\\E$&quot;,&quot;&quot;).split(&quot;\\&quot;,\\&quot;&quot;, -1)` ? (assuming the quotes should NOT be included in the strings)","body":"basically <code>myString.replaceFirst(&quot;^\\\\Qnew String[]{\\&quot;\\\\E&quot;,&quot;&quot;).replaceFirst(&quot;\\\\Q\\&quot;}\\\\E$&quot;,&quot;&quot;).split(&quot;\\&quot;,&zwnj;&#8203;\\&quot;&quot;, -1)</code> ? (assuming the quotes should NOT be included in the strings)"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665594696,"creation_date":1665594696,"answer_id":74045669,"question_id":74045631,"body_markdown":"If you literally type `n`, `e`, `w`, ` `, `S`, etcetera (you type in `new String[] {&quot;A:22&quot;, &quot;D:3&quot;}` and you want a method on scanner such that you get a string with that data), that is incredibly complicated and involves linking a java compiler in. If you&#39;re asking this kind of question, likely well beyond your current skill level.\r\n\r\nWhat you can do, however, is simply ask the user to enter something like:\r\n\r\n&gt; A:22 D:3 C:4 A:-22\r\n\r\nSimply `.nextLine().split(&quot; &quot;)` and voila: First read a line, then split that line into a string array by looking for spaces as separators.\r\n\r\n","title":"Converting String returned from Scanner nextLine() to String array","body":"<p>If you literally type <code>n</code>, <code>e</code>, <code>w</code>, <code> </code>, <code>S</code>, etcetera (you type in <code>new String[] {&quot;A:22&quot;, &quot;D:3&quot;}</code> and you want a method on scanner such that you get a string with that data), that is incredibly complicated and involves linking a java compiler in. If you're asking this kind of question, likely well beyond your current skill level.</p>\n<p>What you can do, however, is simply ask the user to enter something like:</p>\n<blockquote>\n<p>A:22 D:3 C:4 A:-22</p>\n</blockquote>\n<p>Simply <code>.nextLine().split(&quot; &quot;)</code> and voila: First read a line, then split that line into a string array by looking for spaces as separators.</p>\n"},{"tags":[],"owner":{"account_id":23073129,"reputation":847,"user_id":17186475,"display_name":"human bean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665598103,"creation_date":1665598103,"answer_id":74046245,"question_id":74045631,"body_markdown":"```java\r\nScanner sc = new Scanner(System.in); \r\nString myString = sc.nextLine(); \r\n\r\nString[] arr = myString.replaceAll(&quot;[ \\&quot;{}]&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n```\r\n\r\n**Explanation:**\r\nThe regex in `replaceAll` replaces the characters `&quot;`, `{`, &#39;}`, and ` ` (space character) with an empty string. Then you simply split the string along all the commas, and you get a String array containing all the tokens the user entered.\r\n\r\n**Note:** the regex removes all spaces as well, so if your tokens have spaces in them, then they will get removed. However, from what I gathered from your question, there won&#39;t be any spaces in the elements of the array.\r\n","title":"Converting String returned from Scanner nextLine() to String array","body":"<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in); \nString myString = sc.nextLine(); \n\nString[] arr = myString.replaceAll(&quot;[ \\&quot;{}]&quot;, &quot;&quot;).split(&quot;,&quot;);\n</code></pre>\n<p><strong>Explanation:</strong>\nThe regex in <code>replaceAll</code> replaces the characters <code>&quot;</code>, <code>{</code>, '}<code>, and </code> ` (space character) with an empty string. Then you simply split the string along all the commas, and you get a String array containing all the tokens the user entered.</p>\n<p><strong>Note:</strong> the regex removes all spaces as well, so if your tokens have spaces in them, then they will get removed. However, from what I gathered from your question, there won't be any spaces in the elements of the array.</p>\n"},{"tags":[],"owner":{"account_id":3056450,"reputation":1,"user_id":2751790,"display_name":"user2453"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665952750,"creation_date":1665617127,"answer_id":74048954,"question_id":74045631,"body_markdown":"Modified the regex pattern in `replaceAll()` method :\r\n```\r\nString[] strArr = s.nextLine().replaceAll(&quot;[ \\&quot;{}\\\\]\\\\[(new|String)]&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n```\r\nOutput on printing the String Array strArr:\r\n```\r\nA:22 \r\nD:3\r\nC:4\r\nA:-22\r\n```","title":"Converting String returned from Scanner nextLine() to String array","body":"<p>Modified the regex pattern in <code>replaceAll()</code> method :</p>\n<pre><code>String[] strArr = s.nextLine().replaceAll(&quot;[ \\&quot;{}\\\\]\\\\[(new|String)]&quot;, &quot;&quot;).split(&quot;,&quot;);\n</code></pre>\n<p>Output on printing the String Array strArr:</p>\n<pre><code>A:22 \nD:3\nC:4\nA:-22\n</code></pre>\n"}],"owner":{"account_id":3056450,"reputation":1,"user_id":2751790,"display_name":"user2453"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1665952750,"creation_date":1665594498,"question_id":74045631,"body_markdown":"My requirement is that I need to convert a string input taken from a Scanner&#39;s nextLine() method, to a string array:\r\n\r\nMy code: \r\n\r\n    Scanner sc= new Scanner(System.in); \r\n    String myString = sc.nextLine(); \r\n\r\nThe above code works fine, when I give input in the console as :  **new String[]{&quot;A:22&quot;,&quot;D:3&quot;,&quot;C:4&quot;,&quot;A:-22&quot;}** \r\n\r\nbut my challenge is to read scanner input and assign it to String array like this:\r\n\r\n    String[] consoleInput=sc.nextLine();\r\n\r\nI have an incompatible type error, which is normal as String cannot be converted to String array. Is there a way to convert sc.nextLine() to String array in the above line?\r\n","title":"Converting String returned from Scanner nextLine() to String array","body":"<p>My requirement is that I need to convert a string input taken from a Scanner's nextLine() method, to a string array:</p>\n<p>My code:</p>\n<pre><code>Scanner sc= new Scanner(System.in); \nString myString = sc.nextLine(); \n</code></pre>\n<p>The above code works fine, when I give input in the console as :  <strong>new String[]{&quot;A:22&quot;,&quot;D:3&quot;,&quot;C:4&quot;,&quot;A:-22&quot;}</strong></p>\n<p>but my challenge is to read scanner input and assign it to String array like this:</p>\n<pre><code>String[] consoleInput=sc.nextLine();\n</code></pre>\n<p>I have an incompatible type error, which is normal as String cannot be converted to String array. Is there a way to convert sc.nextLine() to String array in the above line?</p>\n"},{"tags":["java","search","lucene"],"comments":[{"owner":{"account_id":59390,"reputation":9292,"user_id":177710,"accept_rate":40,"display_name":"Oliver"},"score":0,"creation_date":1464346426,"post_id":9066347,"comment_id":62459817,"body_markdown":"Special character can be found here: http://lucene.apache.org/core/3_5_0/queryparsersyntax.html#N10180.","body":"Special character can be found here: <a href=\"http://lucene.apache.org/core/3_5_0/queryparsersyntax.html#N10180\" rel=\"nofollow noreferrer\">lucene.apache.org/core/3_5_0/queryparsersyntax.html#N10180</a>."}],"answers":[{"tags":[],"owner":{"account_id":362788,"reputation":5274,"user_id":706171,"display_name":"Artur Nowak"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1327962692,"creation_date":1327962692,"answer_id":9071806,"question_id":9066347,"body_markdown":"The reason why you don&#39;t get your documents back is that while indexing you&#39;re using `StandardAnalyzer`, which converts tokens to lowercase and removes stop words. So the only term that gets indexed for your example is &#39;crescent&#39;. However, wildcard queries are not analyzed, so &#39;the&#39; is included as mandatory part of the query. The same goes for phrase queries in your scenario.\r\n\r\n`KeywordAnalyzer` is probably not very suitable for your use case, because it takes whole field content as a single token. You can use `SimpleAnalyzer` for the street field -- it will split the input on all non-letter characters and then convert them to lowercase. You can also consider using `WhitespaceAnalyzer` with `LowerCaseFilter`. You need to try different options and work out what works best for your data and users.\r\n\r\nAlso, you can use different analyzers per field (e.g. with [`PerFieldAnalyzerWrapper`][1]) if changing analyzer for that field breaks other searches.\r\n\r\n\r\n  [1]: http://lucene.apache.org/java/3_5_0/api/all/org/apache/lucene/analysis/PerFieldAnalyzerWrapper.html","title":"Lucene: Multi-word phrases as search terms","body":"<p>The reason why you don't get your documents back is that while indexing you're using <code>StandardAnalyzer</code>, which converts tokens to lowercase and removes stop words. So the only term that gets indexed for your example is 'crescent'. However, wildcard queries are not analyzed, so 'the' is included as mandatory part of the query. The same goes for phrase queries in your scenario.</p>\n\n<p><code>KeywordAnalyzer</code> is probably not very suitable for your use case, because it takes whole field content as a single token. You can use <code>SimpleAnalyzer</code> for the street field -- it will split the input on all non-letter characters and then convert them to lowercase. You can also consider using <code>WhitespaceAnalyzer</code> with <code>LowerCaseFilter</code>. You need to try different options and work out what works best for your data and users.</p>\n\n<p>Also, you can use different analyzers per field (e.g. with <a href=\"http://lucene.apache.org/java/3_5_0/api/all/org/apache/lucene/analysis/PerFieldAnalyzerWrapper.html\"><code>PerFieldAnalyzerWrapper</code></a>) if changing analyzer for that field breaks other searches.</p>\n"},{"tags":[],"owner":{"account_id":109733,"reputation":31428,"user_id":290629,"accept_rate":88,"display_name":"卢声远 Shengyuan Lu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1327987275,"creation_date":1327984111,"answer_id":9074393,"question_id":9066347,"body_markdown":"If you want an exact words match the street, you could set Field &quot;Street&quot; NOT_ANALYZED which will not filter stop word &quot;the&quot;.\r\n\r\n    doc.add(new Field(&quot;Street&quot;, &quot;the crescent&quot;, Field.Store.YES, Field.Index.Not_Analyzed);","title":"Lucene: Multi-word phrases as search terms","body":"<p>If you want an exact words match the street, you could set Field \"Street\" NOT_ANALYZED which will not filter stop word \"the\".</p>\n\n<pre><code>doc.add(new Field(\"Street\", \"the crescent\", Field.Store.YES, Field.Index.Not_Analyzed);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203038,"reputation":3595,"user_id":450460,"accept_rate":77,"display_name":"RikSaunderson"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1328031289,"creation_date":1328031289,"answer_id":9084178,"question_id":9066347,"body_markdown":"I found that my attempt to generate a query without using a QueryParser was not working, so I stopped trying to create my own queries and used a QueryParser instead.  All of the recomendations that I saw online showed that you should use the same Analyzer in the QueryParser that you use during indexing, so I used a StandardAnalyzer to build the QueryParser.\r\n\r\nThis works on this example because the StandardAnalyzer removes the word &quot;the&quot; from the street &quot;the crescent&quot; during indexing, and hence we can&#39;t search for it because it isn&#39;t in the index.  \r\n\r\nHowever, if we choose to search for &quot;Grove Road&quot;, we have a problem with the out-of-the-box functionality, namely that the query will return all of the results containing either &quot;Grove&quot; OR &quot;Road&quot;.  This is easily fixed by setting up the QueryParser so that it&#39;s default operation is AND instead of OR.  \r\n\r\nIn the end, the correct solution was the following:\r\n\r\n    int numberOfHits = 200;\r\n    String LocationOfDirectory = &quot;C:\\\\dir\\\\index&quot;;\r\n    TopScoreDocCollector collector = TopScoreDocCollector.create(numberOfHits, true);\r\n    Directory directory = new SimpleFSDirectory(new File(LocationOfDirectory));\r\n    IndexSearcher searcher = new IndexSearcher(IndexReader.open(directory);\r\n\r\n    StandardAnalyzer analyzer = new StandardAnalyzer(Version.LUCENE_35);\r\n\r\n    //WildcardQuery q = new WildcardQuery(new Term(&quot;Street&quot;, &quot;the crescent&quot;);\r\n    QueryParser qp = new QueryParser(Version.LUCENE_35, &quot;Street&quot;, analyzer);\r\n    qp.setDefaultOperator(QueryParser.Operator.AND);\r\n\r\n    Query q = qp.parse(&quot;grove road&quot;);\r\n\r\n    searcher.search(q, collector);\r\n    ScoreDoc[] hits = collector.topDocs().scoreDocs;","title":"Lucene: Multi-word phrases as search terms","body":"<p>I found that my attempt to generate a query without using a QueryParser was not working, so I stopped trying to create my own queries and used a QueryParser instead.  All of the recomendations that I saw online showed that you should use the same Analyzer in the QueryParser that you use during indexing, so I used a StandardAnalyzer to build the QueryParser.</p>\n\n<p>This works on this example because the StandardAnalyzer removes the word \"the\" from the street \"the crescent\" during indexing, and hence we can't search for it because it isn't in the index.  </p>\n\n<p>However, if we choose to search for \"Grove Road\", we have a problem with the out-of-the-box functionality, namely that the query will return all of the results containing either \"Grove\" OR \"Road\".  This is easily fixed by setting up the QueryParser so that it's default operation is AND instead of OR.  </p>\n\n<p>In the end, the correct solution was the following:</p>\n\n<pre><code>int numberOfHits = 200;\nString LocationOfDirectory = \"C:\\\\dir\\\\index\";\nTopScoreDocCollector collector = TopScoreDocCollector.create(numberOfHits, true);\nDirectory directory = new SimpleFSDirectory(new File(LocationOfDirectory));\nIndexSearcher searcher = new IndexSearcher(IndexReader.open(directory);\n\nStandardAnalyzer analyzer = new StandardAnalyzer(Version.LUCENE_35);\n\n//WildcardQuery q = new WildcardQuery(new Term(\"Street\", \"the crescent\");\nQueryParser qp = new QueryParser(Version.LUCENE_35, \"Street\", analyzer);\nqp.setDefaultOperator(QueryParser.Operator.AND);\n\nQuery q = qp.parse(\"grove road\");\n\nsearcher.search(q, collector);\nScoreDoc[] hits = collector.topDocs().scoreDocs;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463169,"reputation":131,"user_id":7036377,"accept_rate":75,"display_name":"Gopi Krishna Seeram"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493637684,"creation_date":1493637684,"answer_id":43718295,"question_id":9066347,"body_markdown":"There is no need of using any `Analyzer` here coz Hibernate implicitly uses `StandardAnalyzer` which will split the words based on `white spaces` so the solution here is set the `Analyze` to `NO` it will automatically performs `Multi Phrase Search` \r\n   \r\n\r\n\r\n     @Column(name=&quot;skill&quot;)\r\n     \t@Field(index=Index.YES, analyze=Analyze.NO, store=Store.NO)\r\n    \t@Analyzer(definition=&quot;SkillsAnalyzer&quot;)\r\n    \tprivate String skill;","title":"Lucene: Multi-word phrases as search terms","body":"<p>There is no need of using any <code>Analyzer</code> here coz Hibernate implicitly uses <code>StandardAnalyzer</code> which will split the words based on <code>white spaces</code> so the solution here is set the <code>Analyze</code> to <code>NO</code> it will automatically performs <code>Multi Phrase Search</code> </p>\n\n<pre><code> @Column(name=\"skill\")\n    @Field(index=Index.YES, analyze=Analyze.NO, store=Store.NO)\n    @Analyzer(definition=\"SkillsAnalyzer\")\n    private String skill;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21667524,"reputation":1,"user_id":15985651,"display_name":"Teron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665952358,"creation_date":1665952179,"answer_id":74090523,"question_id":9066347,"body_markdown":"@RikSaunderson&#39;s solution for searching documents where **all** subqueries of a query have to occur, is still working with Lucene 9. \r\n\r\n    QueryParser queryParser = new QueryParser(LuceneConstants.CONTENTS, new StandardAnalyzer());\r\n    queryParser.setDefaultOperator(QueryParser.Operator.AND);","title":"Lucene: Multi-word phrases as search terms","body":"<p>@RikSaunderson's solution for searching documents where <strong>all</strong> subqueries of a query have to occur, is still working with Lucene 9.</p>\n<pre><code>QueryParser queryParser = new QueryParser(LuceneConstants.CONTENTS, new StandardAnalyzer());\nqueryParser.setDefaultOperator(QueryParser.Operator.AND);\n</code></pre>\n"}],"owner":{"account_id":203038,"reputation":3595,"user_id":450460,"accept_rate":77,"display_name":"RikSaunderson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27748,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":9084178,"answer_count":5,"score":9,"last_activity_date":1665952358,"creation_date":1327937511,"question_id":9066347,"body_markdown":"I&#39;m trying to make a searchable phone/local business directory using Apache Lucene.\r\n\r\nI have fields for street name, business name, phone number etc.  The problem that I&#39;m having is that when I try to search by street where the street name has multiple words (e.g. &#39;the crescent&#39;), no results are returned.  But if I try to search with just one word, e.g &#39;crescent&#39;, I get all the results that I want.\r\n\r\nI&#39;m indexing the data with the following:\r\n\r\n    String LocationOfDirectory = &quot;C:\\\\dir\\\\index&quot;;\r\n\r\n    StandardAnalyzer analyzer = new StandardAnalyzer(Version.LUCENE_34);\r\n    Directory Index = new SimpleFSDirectory(LocationOfDirectory);\r\n    \r\n    IndexWriterConfig config = new IndexWriterConfig(Version.LUCENE.34, analyzer);\r\n    IndexWriter w = new IndexWriter(index, config);\r\n\r\n\r\n    Document doc = new Document();\r\n    doc.add(new Field(&quot;Street&quot;, &quot;the crescent&quot;, Field.Store.YES, Field.Index.Analyzed);\r\n\r\n    w.add(doc);\r\n    w.close();\r\n\r\n\r\nMy searches work like this:\r\n\r\n    int numberOfHits = 200;\r\n    String LocationOfDirectory = &quot;C:\\\\dir\\\\index&quot;;\r\n    TopScoreDocCollector collector = TopScoreDocCollector.create(numberOfHits, true);\r\n    Directory directory = new SimpleFSDirectory(new File(LocationOfDirectory));\r\n    IndexSearcher searcher = new IndexSearcher(IndexReader.open(directory);\r\n\r\n    WildcardQuery q = new WildcardQuery(new Term(&quot;Street&quot;, &quot;the crescent&quot;);\r\n\r\n    searcher.search(q, collector);\r\n    ScoreDoc[] hits = collector.topDocs().scoreDocs;\r\n\r\nI have tried swapping the wildcard query for a phrase query, first with the entire string and then splitting the string up on white space and wrapping them in a BooleanQuery like this:\r\n\r\n    String term = &quot;the crescent&quot;;\r\n    BooleanQuery b = new BooleanQuery();\r\n    PhraseQuery p = new PhraseQuery();\r\n    String[] tokens = term.split(&quot; &quot;);\r\n    for(int i = 0 ; i &lt; tokens.length ; ++i)\r\n    {\r\n        p.add(new Term(&quot;Street&quot;, tokens[i]));\r\n    }\r\n    b.add(p, BooleanClause.Occur.MUST);\r\n\r\nHowever, this didn&#39;t work.  I tried using a KeywordAnalyzer instead of a StandardAnalyzer, but then all other types of search stopped working as well.  I have tried replacing spaces with other characters (+ and @), and converting queries to and from this form, but that still doesn&#39;t work.  I think it doesn&#39;t work because + and @ are special characters which are not indexed, but I can&#39;t seem to find a list anywhere of which characters are like that.  \r\n\r\nI&#39;m beginning to go slightly mad, does anyone know what I&#39;m doing wrong?\r\n\r\n\r\n      ","title":"Lucene: Multi-word phrases as search terms","body":"<p>I'm trying to make a searchable phone/local business directory using Apache Lucene.</p>\n\n<p>I have fields for street name, business name, phone number etc.  The problem that I'm having is that when I try to search by street where the street name has multiple words (e.g. 'the crescent'), no results are returned.  But if I try to search with just one word, e.g 'crescent', I get all the results that I want.</p>\n\n<p>I'm indexing the data with the following:</p>\n\n<pre><code>String LocationOfDirectory = \"C:\\\\dir\\\\index\";\n\nStandardAnalyzer analyzer = new StandardAnalyzer(Version.LUCENE_34);\nDirectory Index = new SimpleFSDirectory(LocationOfDirectory);\n\nIndexWriterConfig config = new IndexWriterConfig(Version.LUCENE.34, analyzer);\nIndexWriter w = new IndexWriter(index, config);\n\n\nDocument doc = new Document();\ndoc.add(new Field(\"Street\", \"the crescent\", Field.Store.YES, Field.Index.Analyzed);\n\nw.add(doc);\nw.close();\n</code></pre>\n\n<p>My searches work like this:</p>\n\n<pre><code>int numberOfHits = 200;\nString LocationOfDirectory = \"C:\\\\dir\\\\index\";\nTopScoreDocCollector collector = TopScoreDocCollector.create(numberOfHits, true);\nDirectory directory = new SimpleFSDirectory(new File(LocationOfDirectory));\nIndexSearcher searcher = new IndexSearcher(IndexReader.open(directory);\n\nWildcardQuery q = new WildcardQuery(new Term(\"Street\", \"the crescent\");\n\nsearcher.search(q, collector);\nScoreDoc[] hits = collector.topDocs().scoreDocs;\n</code></pre>\n\n<p>I have tried swapping the wildcard query for a phrase query, first with the entire string and then splitting the string up on white space and wrapping them in a BooleanQuery like this:</p>\n\n<pre><code>String term = \"the crescent\";\nBooleanQuery b = new BooleanQuery();\nPhraseQuery p = new PhraseQuery();\nString[] tokens = term.split(\" \");\nfor(int i = 0 ; i &lt; tokens.length ; ++i)\n{\n    p.add(new Term(\"Street\", tokens[i]));\n}\nb.add(p, BooleanClause.Occur.MUST);\n</code></pre>\n\n<p>However, this didn't work.  I tried using a KeywordAnalyzer instead of a StandardAnalyzer, but then all other types of search stopped working as well.  I have tried replacing spaces with other characters (+ and @), and converting queries to and from this form, but that still doesn't work.  I think it doesn't work because + and @ are special characters which are not indexed, but I can't seem to find a list anywhere of which characters are like that.  </p>\n\n<p>I'm beginning to go slightly mad, does anyone know what I'm doing wrong?</p>\n"},{"tags":["java","spring-boot","docker","git-lfs","dockerhub"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1664870631,"post_id":73944739,"comment_id":130563445,"body_markdown":"I feel its problem with build process, problem zeroes down to how jar is built.\nI am not sure how your jar build process is setup but I feel you need to look at debug output at that level\n\nalso if you say you are uploading files via git lfs, is it rejecting any files while uploading? you should see some debug output","body":"I feel its problem with build process, problem zeroes down to how jar is built. I am not sure how your jar build process is setup but I feel you need to look at debug output at that level  also if you say you are uploading files via git lfs, is it rejecting any files while uploading? you should see some debug output"},{"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1664871137,"post_id":73944739,"comment_id":130563611,"body_markdown":"@swapyonubuntu I build the .JAR with Maven in IntelliJ. The upload to Git LFS via command line in IntelliJ is successfully, without errors. If I look at the Giuthub repository I can see the .JAR with the note &quot;Stored on Git LFS&quot; with the correct file-size. Even the build process on Docker Hub is successfully without an error.","body":"@swapyonubuntu I build the .JAR with Maven in IntelliJ. The upload to Git LFS via command line in IntelliJ is successfully, without errors. If I look at the Giuthub repository I can see the .JAR with the note &quot;Stored on Git LFS&quot; with the correct file-size. Even the build process on Docker Hub is successfully without an error."},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1664882386,"post_id":73944739,"comment_id":130567092,"body_markdown":"Since you said jar file is corrupt, Can you try both cases running both jars manually with java -jar, \nif this fails(and jar is corrupt and does not run) means that we can isolate docker build process altogether and focus on jar build process.","body":"Since you said jar file is corrupt, Can you try both cases running both jars manually with java -jar,  if this fails(and jar is corrupt and does not run) means that we can isolate docker build process altogether and focus on jar build process."},{"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1664883645,"post_id":73944739,"comment_id":130567481,"body_markdown":"@swapyonubuntu If the JAR file is not on Git&#39;s LFS (just normally pushed to Github), then the JAR file is not corrupt and the Docker image is working properly. I updated the thread, got an answer from Github support.","body":"@swapyonubuntu If the JAR file is not on Git&#39;s LFS (just normally pushed to Github), then the JAR file is not corrupt and the Docker image is working properly. I updated the thread, got an answer from Github support."}],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665952151,"creation_date":1664870327,"question_id":73944739,"body_markdown":"**Java .JAR file in Docker image is corrupt since Git LFS**\r\n\r\nSince I use Git LFS to upload files to Github, the Docker image created on Docker Hub (https://hub.docker.com) contains a corrupt Java .JAR file.\r\n\r\nIf I disable Git LFS and push the Java .JAR file the Docker Hub, the Docker image works properly.\r\n\r\n - I use IntelliJ IDEA\r\n - I setup the Git LFS based on this tutorial: https://docs.github.com/en/repositories/working-with-files/managing-large-files\r\n\r\nThe .JAR is builded with Maven in IntelliJ. The upload to Git LFS via command line in IntelliJ, based on the official tutorial mentioned above, is successfully without errors. If I look at the Giuthub repository I can see the .JAR with the note &quot;Stored on Git LFS&quot; with the correct file-size. Even the build process on Docker Hub is successfully without an error.\r\n\r\nThe Dockerfile on Docker Hub is:\r\n```Dockerfile\r\nFROM amazoncorretto:18.0.2\r\nARG JAR_FILE=./target/myapp.jar\r\nCOPY ${JAR_FILE} /myapp.jar\r\nWORKDIR /\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;myapp.jar&quot;]\r\n```\r\n\r\nThe build process on Docker Hub is successfully without an error.\r\n\r\nI can also download the Docker image to my server and execute the Docker image. Then, the console output of the Docker container is: `Error: Java .JAR file is corrupt`\r\n\r\n**UPDATE #1**\r\n\r\nI created a support ticket on Github and got a answer from the support:\r\n\r\n&gt; Hi there,\r\n&gt; \r\n&gt; Thanks for getting in touch. This appears to be [a longstanding issue\r\n&gt; with Dockerhub][1].\r\n&gt; \r\n&gt; You may want to reach out to them to find out if they intend on adding\r\n&gt; support for LFS.\r\n&gt; \r\n&gt; Thanks,\r\n&gt; \r\n&gt; Fiona\r\n\r\nThe link she mentioned is: https://github.com/docker/hub-feedback/issues/500\r\n\r\nSeems that problems exists for a while and is still not resloved.\r\n\r\n**UPDATE #2**\r\n\r\nGot an answer from the Docker support\r\n\r\n\r\n&gt; Hello,\r\n&gt; \r\n&gt; Thank you for contacting Docker Support.\r\n&gt; \r\n&gt; Currently Docker Hub does not support Git LFS  :\r\n&gt; https://docker-docs.netlify.app/docker-hub/builds/  Regards,\r\n&gt; \r\n&gt; Docker Support\r\n\r\nI checked the link that was provided by the support and found this:\r\n\r\n&gt; Currently Docker Hub does not support Git LFS (Large File Storage). If\r\n&gt; you have binaries in your build context that are managed by Git LFS,\r\n&gt; only the pointer file is present in the clone made during the\r\n&gt; automated build, which is not what you want.\r\n&gt; \r\n&gt; Subscribe to the [GitHub issue][1] tracking this limitation.\r\n\r\n\r\n  [1]: https://github.com/docker/hub-feedback/issues/500\r\n\r\nThe link to the mentioned Github issue on this page is: https://github.com/docker/hub-feedback/issues/500\r\n\r\nSadly, the issue is open since 7 years.","title":"Spring Boot Java .JAR file corrupt in Docker image (via Docker Hub) since using Git LFS","body":"<p><strong>Java .JAR file in Docker image is corrupt since Git LFS</strong></p>\n<p>Since I use Git LFS to upload files to Github, the Docker image created on Docker Hub (<a href=\"https://hub.docker.com\" rel=\"nofollow noreferrer\">https://hub.docker.com</a>) contains a corrupt Java .JAR file.</p>\n<p>If I disable Git LFS and push the Java .JAR file the Docker Hub, the Docker image works properly.</p>\n<ul>\n<li>I use IntelliJ IDEA</li>\n<li>I setup the Git LFS based on this tutorial: <a href=\"https://docs.github.com/en/repositories/working-with-files/managing-large-files\" rel=\"nofollow noreferrer\">https://docs.github.com/en/repositories/working-with-files/managing-large-files</a></li>\n</ul>\n<p>The .JAR is builded with Maven in IntelliJ. The upload to Git LFS via command line in IntelliJ, based on the official tutorial mentioned above, is successfully without errors. If I look at the Giuthub repository I can see the .JAR with the note &quot;Stored on Git LFS&quot; with the correct file-size. Even the build process on Docker Hub is successfully without an error.</p>\n<p>The Dockerfile on Docker Hub is:</p>\n<pre><code>FROM amazoncorretto:18.0.2\nARG JAR_FILE=./target/myapp.jar\nCOPY ${JAR_FILE} /myapp.jar\nWORKDIR /\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;myapp.jar&quot;]\n</code></pre>\n<p>The build process on Docker Hub is successfully without an error.</p>\n<p>I can also download the Docker image to my server and execute the Docker image. Then, the console output of the Docker container is: <code>Error: Java .JAR file is corrupt</code></p>\n<p><strong>UPDATE #1</strong></p>\n<p>I created a support ticket on Github and got a answer from the support:</p>\n<blockquote>\n<p>Hi there,</p>\n<p>Thanks for getting in touch. This appears to be <a href=\"https://github.com/docker/hub-feedback/issues/500\" rel=\"nofollow noreferrer\">a longstanding issue\nwith Dockerhub</a>.</p>\n<p>You may want to reach out to them to find out if they intend on adding\nsupport for LFS.</p>\n<p>Thanks,</p>\n<p>Fiona</p>\n</blockquote>\n<p>The link she mentioned is: <a href=\"https://github.com/docker/hub-feedback/issues/500\" rel=\"nofollow noreferrer\">https://github.com/docker/hub-feedback/issues/500</a></p>\n<p>Seems that problems exists for a while and is still not resloved.</p>\n<p><strong>UPDATE #2</strong></p>\n<p>Got an answer from the Docker support</p>\n<blockquote>\n<p>Hello,</p>\n<p>Thank you for contacting Docker Support.</p>\n<p>Currently Docker Hub does not support Git LFS  :\n<a href=\"https://docker-docs.netlify.app/docker-hub/builds/\" rel=\"nofollow noreferrer\">https://docker-docs.netlify.app/docker-hub/builds/</a>  Regards,</p>\n<p>Docker Support</p>\n</blockquote>\n<p>I checked the link that was provided by the support and found this:</p>\n<blockquote>\n<p>Currently Docker Hub does not support Git LFS (Large File Storage). If\nyou have binaries in your build context that are managed by Git LFS,\nonly the pointer file is present in the clone made during the\nautomated build, which is not what you want.</p>\n<p>Subscribe to the <a href=\"https://github.com/docker/hub-feedback/issues/500\" rel=\"nofollow noreferrer\">GitHub issue</a> tracking this limitation.</p>\n</blockquote>\n<p>The link to the mentioned Github issue on this page is: <a href=\"https://github.com/docker/hub-feedback/issues/500\" rel=\"nofollow noreferrer\">https://github.com/docker/hub-feedback/issues/500</a></p>\n<p>Sadly, the issue is open since 7 years.</p>\n"},{"tags":["java","spring-boot","docker","github","github-actions"],"comments":[{"owner":{"account_id":11598503,"reputation":17257,"user_id":8496462,"display_name":"GuiFalourd"},"score":0,"creation_date":1665868271,"post_id":74081375,"comment_id":130801055,"body_markdown":"Could you try using another action to write the properties file to check if the problem is with the action or the secrets? My suggestion: https://github.com/christian-draeger/write-properties","body":"Could you try using another action to write the properties file to check if the problem is with the action or the secrets? My suggestion: <a href=\"https://github.com/christian-draeger/write-properties\" rel=\"nofollow noreferrer\">github.com/christian-draeger/write-properties</a>"},{"owner":{"account_id":22957134,"reputation":21,"user_id":17087542,"display_name":"MaxDev"},"score":0,"creation_date":1665918745,"post_id":74081375,"comment_id":130807221,"body_markdown":"Hello, I try your solution but It does not work :/  The datas don&#39;t write on properties file","body":"Hello, I try your solution but It does not work :/  The datas don&#39;t write on properties file"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665950907,"creation_date":1665913108,"answer_id":74086023,"question_id":74081375,"body_markdown":"The &quot;[Set build-time variables (`--build-arg`)][1]&quot; `docker build` man page section includes:\r\n\r\n&gt; The [`ARG` instruction][2] lets Dockerfile authors define values that users can set at build-time using the `--build-arg` flag.  \r\nThis flag allows you to pass the build-time variables that are accessed like regular environment variables in the RUN instruction of the Dockerfile.  \r\nAlso, these values don’t persist in the intermediate or final images like [`ENV` values][3] do.\r\n\r\nSo make sure your Dockerfile includes:\r\n\r\n```\r\nARG server_port\r\nARG url\r\nARG username\r\nARG password\r\nRUN echo &quot;spring.datasource.url=${url}&quot;&gt;&gt;application.properties &amp;&amp; \\\r\n    echo &quot;spring.datasource.username=${username}&quot;&gt;&gt;application.properties &amp;&amp; \\\r\n    echo &quot;spring.datasource.password=${password}&quot;&gt;&gt;application.properties\r\n```\r\n\r\n---\r\n\r\n&gt;  I don&#39;t know if my syntax if incorrect or it&#39;s a problem with the GitHub secrets reading. \r\n\r\nActually, inside the Dockerfile, the GitHub Action secrets, like `${{ secrets.URL_DEV }}` would not apply.  \r\nOnly `${url}`, meaning the `ARG` name, would be available.\r\n\r\nSo if you input text into `application.properties` in the Dockerfile, use the `ARG` variable names, not the GitHub Action secrets name.\r\n\r\nBut when you call `docker build` (*outside the Dockerfile, since docker build uses the Dockerfile), then yes, use the GitHub Action secrets:\r\n\r\n    docker build ----build-arg url=${{ secrets.URL_DEV }}\r\n\r\n\r\n  [1]: https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg\r\n  [2]: https://docs.docker.com/engine/reference/builder/#arg\r\n  [3]: https://docs.docker.com/engine/reference/builder/#env","title":"GitHub secrets are not sent and read correctly from file","body":"<p>The &quot;<a href=\"https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg\" rel=\"nofollow noreferrer\">Set build-time variables (<code>--build-arg</code>)</a>&quot; <code>docker build</code> man page section includes:</p>\n<blockquote>\n<p>The <a href=\"https://docs.docker.com/engine/reference/builder/#arg\" rel=\"nofollow noreferrer\"><code>ARG</code> instruction</a> lets Dockerfile authors define values that users can set at build-time using the <code>--build-arg</code> flag.<br />\nThis flag allows you to pass the build-time variables that are accessed like regular environment variables in the RUN instruction of the Dockerfile.<br />\nAlso, these values don’t persist in the intermediate or final images like <a href=\"https://docs.docker.com/engine/reference/builder/#env\" rel=\"nofollow noreferrer\"><code>ENV</code> values</a> do.</p>\n</blockquote>\n<p>So make sure your Dockerfile includes:</p>\n<pre><code>ARG server_port\nARG url\nARG username\nARG password\nRUN echo &quot;spring.datasource.url=${url}&quot;&gt;&gt;application.properties &amp;&amp; \\\n    echo &quot;spring.datasource.username=${username}&quot;&gt;&gt;application.properties &amp;&amp; \\\n    echo &quot;spring.datasource.password=${password}&quot;&gt;&gt;application.properties\n</code></pre>\n<hr />\n<blockquote>\n<p>I don't know if my syntax if incorrect or it's a problem with the GitHub secrets reading.</p>\n</blockquote>\n<p>Actually, inside the Dockerfile, the GitHub Action secrets, like <code>${{ secrets.URL_DEV }}</code> would not apply.<br />\nOnly <code>${url}</code>, meaning the <code>ARG</code> name, would be available.</p>\n<p>So if you input text into <code>application.properties</code> in the Dockerfile, use the <code>ARG</code> variable names, not the GitHub Action secrets name.</p>\n<p>But when you call <code>docker build</code> (*outside the Dockerfile, since docker build uses the Dockerfile), then yes, use the GitHub Action secrets:</p>\n<pre><code>docker build ----build-arg url=${{ secrets.URL_DEV }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22957134,"reputation":21,"user_id":17087542,"display_name":"MaxDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665932251,"creation_date":1665932251,"answer_id":74088122,"question_id":74081375,"body_markdown":"Yes, in my Dockerfile I have this informations : \r\n\r\n    #Write the 3 args in a src/main/resources/application.properties file\r\n    RUN echo &quot;spring.datasource.url=${url}&quot; &gt;&gt; src/main/resources/application.properties\r\n    RUN echo &quot;spring.datasource.username=${username}&quot; &gt;&gt; src/main/resources/application.properties\r\n    RUN echo &quot;spring.datasource.password=${password}&quot; &gt;&gt; src/main/resources/application.properties\r\n    \r\n    #Print the content of the file to check if it&#39;s ok\r\n    RUN cat src/main/resources/application.properties\r\n\r\nI don&#39;t understand why my secrets doesn&#39;t in my file, i&#39;m so confuse","title":"GitHub secrets are not sent and read correctly from file","body":"<p>Yes, in my Dockerfile I have this informations :</p>\n<pre><code>#Write the 3 args in a src/main/resources/application.properties file\nRUN echo &quot;spring.datasource.url=${url}&quot; &gt;&gt; src/main/resources/application.properties\nRUN echo &quot;spring.datasource.username=${username}&quot; &gt;&gt; src/main/resources/application.properties\nRUN echo &quot;spring.datasource.password=${password}&quot; &gt;&gt; src/main/resources/application.properties\n\n#Print the content of the file to check if it's ok\nRUN cat src/main/resources/application.properties\n</code></pre>\n<p>I don't understand why my secrets doesn't in my file, i'm so confuse</p>\n"}],"owner":{"account_id":22957134,"reputation":21,"user_id":17087542,"display_name":"MaxDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1665950907,"creation_date":1665852860,"question_id":74081375,"body_markdown":"In my personal project, I try to deploy my backend spring boot with github actions and a Dockerfile\r\n\r\nFor more security, I save my properties in the Github secrets and in my Dockerfile, i get the configuration (url, username and password)\r\n\r\n        - name: Build and push Docker image\r\n        uses: docker/build-push-action@v2\r\n        with:\r\n          username: ${{ github.actor }}\r\n          password: ${{ secrets.GITHUB_TOKEN }}\r\n          push: true\r\n          file: ./Dockerfile\r\n          tags: ${{ env.REGISTRY }}/***\r\n          build-args: |\r\n            server_port=${{ secrets.SERVER_PORT_DEV }}\r\n            url=${{ secrets.URL_DEV }}\r\n            username=${{ secrets.USERNAME_DEV }}\r\n            password=${{ secrets.PASSWORD_DEV }}\r\n\r\nAnd my spring boot doesn&#39;t run because the url, username and password are missing in my application.properties.\r\nSo, I try to cat the properties file in my github actions and here is what i got : \r\n\r\n    #11 0.281 # Secrets\r\n    #11 0.281 spring.datasource.url=\r\n    #11 0.281 spring.datasource.username=\r\n    #11 0.281 spring.datasource.password=\r\n\r\nDo you have any idea why Github secrets are not read?\r\n2nd more general question: is it good practice to use this method? Or are there better ones?\r\n\r\nThank you very much for your precious help and good day to all of you who would help me :)","title":"GitHub secrets are not sent and read correctly from file","body":"<p>In my personal project, I try to deploy my backend spring boot with github actions and a Dockerfile</p>\n<p>For more security, I save my properties in the Github secrets and in my Dockerfile, i get the configuration (url, username and password)</p>\n<pre><code>    - name: Build and push Docker image\n    uses: docker/build-push-action@v2\n    with:\n      username: ${{ github.actor }}\n      password: ${{ secrets.GITHUB_TOKEN }}\n      push: true\n      file: ./Dockerfile\n      tags: ${{ env.REGISTRY }}/***\n      build-args: |\n        server_port=${{ secrets.SERVER_PORT_DEV }}\n        url=${{ secrets.URL_DEV }}\n        username=${{ secrets.USERNAME_DEV }}\n        password=${{ secrets.PASSWORD_DEV }}\n</code></pre>\n<p>And my spring boot doesn't run because the url, username and password are missing in my application.properties.\nSo, I try to cat the properties file in my github actions and here is what i got :</p>\n<pre><code>#11 0.281 # Secrets\n#11 0.281 spring.datasource.url=\n#11 0.281 spring.datasource.username=\n#11 0.281 spring.datasource.password=\n</code></pre>\n<p>Do you have any idea why Github secrets are not read?\n2nd more general question: is it good practice to use this method? Or are there better ones?</p>\n<p>Thank you very much for your precious help and good day to all of you who would help me :)</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665666992,"post_id":74055827,"comment_id":130756572,"body_markdown":"Why do you need to spy? Couldn&#39;t you simply assert that `requestContext.getSecurityContext().getUserPrincipal().getName()` is equal to &quot;myUserName&quot;? Why jump through hoops via spys?","body":"Why do you need to spy? Couldn&#39;t you simply assert that <code>requestContext.getSecurityContext().getUserPrincipal().getNa&zwnj;&#8203;me()</code> is equal to &quot;myUserName&quot;? Why jump through hoops via spys?"},{"owner":{"account_id":9681050,"reputation":67,"user_id":7182733,"display_name":"texmelex"},"score":0,"creation_date":1665733970,"post_id":74055827,"comment_id":130771755,"body_markdown":"I also need to stub some methods of the ContainerRequestContext, that is why I am using a spy object.","body":"I also need to stub some methods of the ContainerRequestContext, that is why I am using a spy object."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665950889,"creation_date":1665950889,"answer_id":74090400,"question_id":74055827,"body_markdown":"Try to use Mockito.argThat instead and see if it changes it:\r\n\r\n    verify(requestContext).setSecurityContext(Mockito.argThat(x -&gt; x.getValue().getUserPrincipal().getName().equals(&quot;myUserName&quot;))); ","title":"Mockito: set value to spy object but get null","body":"<p>Try to use Mockito.argThat instead and see if it changes it:</p>\n<pre><code>verify(requestContext).setSecurityContext(Mockito.argThat(x -&gt; x.getValue().getUserPrincipal().getName().equals(&quot;myUserName&quot;))); \n</code></pre>\n"}],"owner":{"account_id":9681050,"reputation":67,"user_id":7182733,"display_name":"texmelex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665950889,"creation_date":1665664269,"question_id":74055827,"body_markdown":"I have a test case where I want to see if a property is set correctly during the execution:\r\n\r\n    ContainerRequestContext requestContext = spy(ContainerRequestContext.class);\r\n    someMethodThatSetsTheSecurityContext(requestContext);\r\n\r\n    verify(requestContext).setSecurityContext(argument.capture());\r\n    assertEquals(&quot;myUserName&quot;, argument.getValue().getUserPrincipal().getName());\r\n    assertNotNull(requestContext.getSecurityContext());\r\n\r\nNow if I run this, the verify() and assertEquals() methods return true, but for some reason the requestContext.getSecurityContext() is null.\r\nI understand that for mocked object there is no real implementation behind, but I thought the spied object should work in this case.","title":"Mockito: set value to spy object but get null","body":"<p>I have a test case where I want to see if a property is set correctly during the execution:</p>\n<pre><code>ContainerRequestContext requestContext = spy(ContainerRequestContext.class);\nsomeMethodThatSetsTheSecurityContext(requestContext);\n\nverify(requestContext).setSecurityContext(argument.capture());\nassertEquals(&quot;myUserName&quot;, argument.getValue().getUserPrincipal().getName());\nassertNotNull(requestContext.getSecurityContext());\n</code></pre>\n<p>Now if I run this, the verify() and assertEquals() methods return true, but for some reason the requestContext.getSecurityContext() is null.\nI understand that for mocked object there is no real implementation behind, but I thought the spied object should work in this case.</p>\n"},{"tags":["java","mocking","mockito","junit4"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665815664,"post_id":74077220,"comment_id":130791012,"body_markdown":"Are you certain that you are calling `abc` *on the mock*?","body":"Are you certain that you are calling <code>abc</code> <i>on the mock</i>?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665820056,"post_id":74077220,"comment_id":130791647,"body_markdown":"Does this answer your question? [Why is my class not using my mock in unit test?](https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test\">Why is my class not using my mock in unit test?</a>"},{"owner":{"account_id":18530506,"reputation":15,"user_id":13501419,"display_name":"Rohan verma"},"score":0,"creation_date":1665821466,"post_id":74077220,"comment_id":130791869,"body_markdown":"Yes @tgdavies. Please help me out with the Mockito.lenient().when(…) issue if you can","body":"Yes @tgdavies. Please help me out with the Mockito.lenient().when(…) issue if you can"},{"owner":{"account_id":18530506,"reputation":15,"user_id":13501419,"display_name":"Rohan verma"},"score":0,"creation_date":1665821506,"post_id":74077220,"comment_id":130791877,"body_markdown":"I got the answer present there but it was not a solution of this question @knittl","body":"I got the answer present there but it was not a solution of this question @knittl"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665821669,"post_id":74077220,"comment_id":130791912,"body_markdown":"@Rohanverma your question is not answerable. You are not showing the actual test, you are not showing how and where `mockRandom` is used in your SUT. And if you got the answer from the linked question, then why is the answer not a/the solution for this question?","body":"@Rohanverma your question is not answerable. You are not showing the actual test, you are not showing how and where <code>mockRandom</code> is used in your SUT. And if you got the answer from the linked question, then why is the answer not a/the solution for this question?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665829485,"post_id":74077220,"comment_id":130793264,"body_markdown":"Please edit your question to include a complete example showing the test and the class under test.","body":"Please edit your question to include a complete example showing the test and the class under test."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665950645,"creation_date":1665950645,"answer_id":74090365,"question_id":74077220,"body_markdown":"There are two things here which i can think of:\r\n\r\n1. try to use any() instead. It could happen that your arguments are of another type. I think the map.class could be the issue since this is actually a Map&lt;Object,Object&gt; at runtime.\r\n\r\n2. Another thing is that your Random class is final (if you use Lombok @Value for example), so the fix is to make this class not final","title":"Mockito lenient() when method not working","body":"<p>There are two things here which i can think of:</p>\n<ol>\n<li><p>try to use any() instead. It could happen that your arguments are of another type. I think the map.class could be the issue since this is actually a Map&lt;Object,Object&gt; at runtime.</p>\n</li>\n<li><p>Another thing is that your Random class is final (if you use Lombok @Value for example), so the fix is to make this class not final</p>\n</li>\n</ol>\n"}],"owner":{"account_id":18530506,"reputation":15,"user_id":13501419,"display_name":"Rohan verma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665950645,"creation_date":1665815436,"question_id":74077220,"body_markdown":"I am having one class like this,\r\n\r\n```\r\nclass Random {\r\n  public String abc(String one, String two, Map&lt;String, String&gt; three){\r\n    ..\r\n  }\r\n}\r\n```\r\nNow from test class I have created a mock object like \r\n\r\n```\r\n@Mock\r\nprivate Random mockRandom;\r\n\r\n```\r\n\r\nThen I am trying to mock this like\r\n`Mockito.lenient().when(mockRandom.abc(any(String.class),any(String.class),any(Map.class))).thenReturn(“Test value”); `\r\n\r\n\r\nAfter this also when I am running a test case then this abc method is not giving “Test value”.","title":"Mockito lenient() when method not working","body":"<p>I am having one class like this,</p>\n<pre><code>class Random {\n  public String abc(String one, String two, Map&lt;String, String&gt; three){\n    ..\n  }\n}\n</code></pre>\n<p>Now from test class I have created a mock object like</p>\n<pre><code>@Mock\nprivate Random mockRandom;\n\n</code></pre>\n<p>Then I am trying to mock this like\n<code>Mockito.lenient().when(mockRandom.abc(any(String.class),any(String.class),any(Map.class))).thenReturn(“Test value”); </code></p>\n<p>After this also when I am running a test case then this abc method is not giving “Test value”.</p>\n"},{"tags":["java","spring","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665950153,"creation_date":1665950153,"answer_id":74090304,"question_id":74090244,"body_markdown":"You can use Mockito.argThat for this:\r\n\r\n    Mockito.when(obj.testMethod(Mockito.argThat(x -&gt; &quot;input1&quot;.equals(x)))).thenReturn(&quot;whatever&quot;);\r\n    Mockito.when(obj.testMethod(Mockito.argThat(x -&gt; &quot;input2&quot;.equals(x)))).thenReturn(&quot;whatever2&quot;);\r\n\r\n    var substring = obj.testMethod(&quot;input1&quot;); //this is &quot;whatever&quot;\r\n    var substring2 = obj.testMethod(&quot;input2&quot;); //this is &quot;whatever2&quot;","title":"Mockito - matcher based on a specific property","body":"<p>You can use Mockito.argThat for this:</p>\n<pre><code>Mockito.when(obj.testMethod(Mockito.argThat(x -&gt; &quot;input1&quot;.equals(x)))).thenReturn(&quot;whatever&quot;);\nMockito.when(obj.testMethod(Mockito.argThat(x -&gt; &quot;input2&quot;.equals(x)))).thenReturn(&quot;whatever2&quot;);\n\nvar substring = obj.testMethod(&quot;input1&quot;); //this is &quot;whatever&quot;\nvar substring2 = obj.testMethod(&quot;input2&quot;); //this is &quot;whatever2&quot;\n</code></pre>\n"}],"owner":{"account_id":3785271,"reputation":592,"user_id":3671893,"accept_rate":88,"display_name":"Ansar Samad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665950153,"creation_date":1665949504,"question_id":74090244,"body_markdown":"I have a operationService class with executeOperation method which accept a databaserequest object .This databaserequest object has 4 properties , one of them is operation . I want to return different responses while calling operationService.executeOperation based on the databaserequest.operation field . Please help me on this .\r\nThis is what iam trying to achieve\r\n\r\n   \r\n\r\n     when(operationService.executeOperation(anyDatabaserequest object with operation as &#39;DEMO&#39;)).thenReturn(&#39;DEMO_RESPONSE&#39;);\r\n     when(operationService.executeOperation(anyDatabaserequest object with operation as &#39;PILOT&#39;)).thenReturn(&#39;PILOT_RESPONSE&#39;);\r\n\r\n ","title":"Mockito - matcher based on a specific property","body":"<p>I have a operationService class with executeOperation method which accept a databaserequest object .This databaserequest object has 4 properties , one of them is operation . I want to return different responses while calling operationService.executeOperation based on the databaserequest.operation field . Please help me on this .\nThis is what iam trying to achieve</p>\n<pre><code> when(operationService.executeOperation(anyDatabaserequest object with operation as 'DEMO')).thenReturn('DEMO_RESPONSE');\n when(operationService.executeOperation(anyDatabaserequest object with operation as 'PILOT')).thenReturn('PILOT_RESPONSE');\n</code></pre>\n"},{"tags":["java","spring","asynchronous","project-reactor"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1640636593,"post_id":70499623,"comment_id":124622767,"body_markdown":"You cannot truly get from a synchronous API like InputStream to an asynchronous API.  You can &quot;pretend&quot; it&#39;s asynchronous by having it do its work in another thread, but that doesn&#39;t truly make it asynchronous.","body":"You cannot truly get from a synchronous API like InputStream to an asynchronous API.  You can &quot;pretend&quot; it&#39;s asynchronous by having it do its work in another thread, but that doesn&#39;t truly make it asynchronous."}],"answers":[{"tags":[],"owner":{"account_id":10230140,"reputation":659,"user_id":7551211,"display_name":"user7551211"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665949878,"creation_date":1640722008,"answer_id":70512011,"question_id":70499623,"body_markdown":"Since `InputStream` is a synchronous API, you have 2 choices, and that&#39;s true about any other synchronous API:\r\n\r\n 1. To switch to another API. This may be a good and possible solution for many problems. The reactive concepts and asynchronous in general are very common and for most of the needs, there is an alternative async library that will do the same thing. In your case, you can use `java.nio2`, or functions from the [Reactor-Netty library, which has great solutions for this use case](https://projectreactor.io/docs/netty/release/api/reactor/netty/ByteBufFlux.html#fromPath-java.nio.file.Path-).\r\n 2. Use another scheduler. Project reactor suggests that all of your asynchronous calls will operate on one non-blocking scheduler, and for synchronous calls, use another (blocking) thread-per-request scheduler. There are two schedulers like this that you can use: `single()` and `boundedElastic()`. The difference is that `boundedElastic()` limits the number of threads that you can open, so you will end up using your threads as blocking queues, which is safer than `single()`.","title":"is there a way to read a InputStream asynchronously with Reactor or transform to bytes?","body":"<p>Since <code>InputStream</code> is a synchronous API, you have 2 choices, and that's true about any other synchronous API:</p>\n<ol>\n<li>To switch to another API. This may be a good and possible solution for many problems. The reactive concepts and asynchronous in general are very common and for most of the needs, there is an alternative async library that will do the same thing. In your case, you can use <code>java.nio2</code>, or functions from the <a href=\"https://projectreactor.io/docs/netty/release/api/reactor/netty/ByteBufFlux.html#fromPath-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Reactor-Netty library, which has great solutions for this use case</a>.</li>\n<li>Use another scheduler. Project reactor suggests that all of your asynchronous calls will operate on one non-blocking scheduler, and for synchronous calls, use another (blocking) thread-per-request scheduler. There are two schedulers like this that you can use: <code>single()</code> and <code>boundedElastic()</code>. The difference is that <code>boundedElastic()</code> limits the number of threads that you can open, so you will end up using your threads as blocking queues, which is safer than <code>single()</code>.</li>\n</ol>\n"}],"owner":{"account_id":23760146,"reputation":51,"user_id":17775678,"display_name":"Daniel Fernando Gomez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1665949878,"creation_date":1640633243,"question_id":70499623,"body_markdown":"I&#39;m trying to upload a file to S3, but JVM says that i have a thread-blocking method calls in code fragments where threads should not be blocked when calling file.readAllBytes(), so is there a way to is there a way to make the method asynchronous with Flux or Mono? or any other way to solve that problem?\r\n\r\n    private Mono&lt;Boolean&gt; uploadFile(InputStream file, String bucket, String name) {\r\n            try {\r\n                return uploadAdapter.uploadObject(bucket,name,file.readAllBytes());\r\n            } catch (IOException e) {\r\n                return Mono.just(false);\r\n            }\r\n        }\r\n    @Override\r\n        public Mono&lt;Boolean&gt; uploadObject(String bucketName, String objectKey, byte[] fileContent) {\r\n            return Mono.fromFuture(\r\n                            s3AsyncClient.putObject(configurePutObject(bucketName, objectKey),\r\n                                    AsyncRequestBody.fromBytes(fileContent)))\r\n                    .map(response -&gt; response.sdkHttpResponse().isSuccessful());\r\n        }","title":"is there a way to read a InputStream asynchronously with Reactor or transform to bytes?","body":"<p>I'm trying to upload a file to S3, but JVM says that i have a thread-blocking method calls in code fragments where threads should not be blocked when calling file.readAllBytes(), so is there a way to is there a way to make the method asynchronous with Flux or Mono? or any other way to solve that problem?</p>\n<pre><code>private Mono&lt;Boolean&gt; uploadFile(InputStream file, String bucket, String name) {\n        try {\n            return uploadAdapter.uploadObject(bucket,name,file.readAllBytes());\n        } catch (IOException e) {\n            return Mono.just(false);\n        }\n    }\n@Override\n    public Mono&lt;Boolean&gt; uploadObject(String bucketName, String objectKey, byte[] fileContent) {\n        return Mono.fromFuture(\n                        s3AsyncClient.putObject(configurePutObject(bucketName, objectKey),\n                                AsyncRequestBody.fromBytes(fileContent)))\n                .map(response -&gt; response.sdkHttpResponse().isSuccessful());\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665951139,"post_id":74090263,"comment_id":130814027,"body_markdown":"If the dual lists solution is required by a schoolwork assignment, say so. Otherwise an entirely different solution would be appropriate.","body":"If the dual lists solution is required by a schoolwork assignment, say so. Otherwise an entirely different solution would be appropriate."},{"owner":{"account_id":21863689,"reputation":1,"user_id":16154178,"display_name":"J Cordeiro"},"score":0,"creation_date":1666046395,"post_id":74090263,"comment_id":130838506,"body_markdown":"Hi, it was a schoolwork assignment. I wasn&#39;t sorting the student list. Noticed that earlier today and fixed the issue. Thanks anyways","body":"Hi, it was a schoolwork assignment. I wasn&#39;t sorting the student list. Noticed that earlier today and fixed the issue. Thanks anyways"}],"owner":{"account_id":21863689,"reputation":1,"user_id":16154178,"display_name":"J Cordeiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665949765,"creation_date":1665949677,"question_id":74090263,"body_markdown":"i&#39;m trying to code a grading program using 2 arraylists, one for the student name, and the other for the grades. However, when trying to sort the 2 array by having them ordered by best grade and its student to the worst grade and it student, the output of the grade arraylist is correct but the student one isn&#39;t.\r\n\r\nFor example:\r\n\r\nIf the arraylist have the names J, A, B and D, whose grades are 13, 20, 7, 11, the sorting result with be:\r\n\r\n20, 13, 11 and 7, but the names order will remain J, A, B and D.    \r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;String&gt; student = new ArrayList&lt;String&gt;();\r\n            ArrayList&lt;Integer&gt; grade = new ArrayList&lt;Integer&gt;();\r\n            int choice = 0;\r\n            do{\r\n    \r\n    \r\n                System.out.println(&quot;____________&quot;);\r\n                System.out.println(&quot;   MENU   &quot;);\r\n                System.out.println(&quot;____________&quot;);\r\n                System.out.println(&quot;1. Add Students &amp; Grades&quot;);\r\n                System.out.println(&quot;2. Order By Name&quot;);\r\n                System.out.println(&quot;3. Order by Grade&quot;);\r\n                System.out.println(&quot;4. &quot;);\r\n                System.out.println(&quot;5. exit&quot;);\r\n                System.out.println(&quot;Select Option:&quot;);\r\n                Scanner scanchoice = new Scanner(System.in);\r\n                choice = scanchoice.nextInt();\r\n    \r\n                if (choice ==1){\r\n                    int s;\r\n                    Scanner size = new Scanner(System.in);\r\n                System.out.println(&quot;What&#39;s the classe&#39;s size?&quot;);\r\n                    s = size.nextInt();\r\n                    Scanner name = new Scanner(System.in);\r\n                    Scanner number = new Scanner(System.in);\r\n                for (int i=0;i&lt;=s-1;i++){\r\n    \r\n                System.out.println(&quot;Please enter the student&#39;s name&quot;);\r\n                student.add(name.next());\r\n                System.out.println(&quot;Please enter the student&#39;s grade:&quot;);\r\n                grade.add(number.nextInt());\r\n                }\r\n    \r\n                }\r\n    \r\n    \r\n                if(choice==2){\r\n                    System.out.println(&quot;Ordering by Name...&quot;);\r\n    \r\n                    int i = 0;\r\n                    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n                    for (String num : student) {\r\n                        map.put(num, i);\r\n                        i++;\r\n                    }\r\n                    Collections.sort(student);\r\n                    for (String num : student) {\r\n                        System.out.println(num + &quot; &quot; + grade.get(map.get(num)));\r\n                    }\r\n    \r\n    \r\n    \r\n                    }\r\n    \r\n\r\nThis the part related to the issue.\r\n    \r\n                if (choice ==3){\r\n                    int temp = 0;\r\n                    System.out.println(&quot;Ordering by Grade...&quot;);\r\n                    // System.out.println(grade.get(i));\r\n                    for (int i = 0; i &lt; grade.size(); i++) {\r\n                        for (int j = i+1; j &lt; grade.size(); j++) {\r\n                            if(grade.get(i) &lt; grade.get(j)) {\r\n                                temp = grade.get(i);\r\n                                grade.set(i, grade.get(j));\r\n                                grade.set(j, temp);\r\n                            }\r\n                        }\r\n                    }\r\n                    for (int i = 0; i &lt; grade.size(); i++) {\r\n                        System.out.print(grade.get(i) + &quot; &quot;+student.get(i));\r\n                    }\r\n                }\r\n                if (choice ==4){\r\n                }\r\n            }while(choice!=5);\r\n        }\r\n    }","title":"How can i organize 2 arraylists using a loop?","body":"<p>i'm trying to code a grading program using 2 arraylists, one for the student name, and the other for the grades. However, when trying to sort the 2 array by having them ordered by best grade and its student to the worst grade and it student, the output of the grade arraylist is correct but the student one isn't.</p>\n<p>For example:</p>\n<p>If the arraylist have the names J, A, B and D, whose grades are 13, 20, 7, 11, the sorting result with be:</p>\n<p>20, 13, 11 and 7, but the names order will remain J, A, B and D.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        ArrayList&lt;String&gt; student = new ArrayList&lt;String&gt;();\n        ArrayList&lt;Integer&gt; grade = new ArrayList&lt;Integer&gt;();\n        int choice = 0;\n        do{\n\n\n            System.out.println(&quot;____________&quot;);\n            System.out.println(&quot;   MENU   &quot;);\n            System.out.println(&quot;____________&quot;);\n            System.out.println(&quot;1. Add Students &amp; Grades&quot;);\n            System.out.println(&quot;2. Order By Name&quot;);\n            System.out.println(&quot;3. Order by Grade&quot;);\n            System.out.println(&quot;4. &quot;);\n            System.out.println(&quot;5. exit&quot;);\n            System.out.println(&quot;Select Option:&quot;);\n            Scanner scanchoice = new Scanner(System.in);\n            choice = scanchoice.nextInt();\n\n            if (choice ==1){\n                int s;\n                Scanner size = new Scanner(System.in);\n            System.out.println(&quot;What's the classe's size?&quot;);\n                s = size.nextInt();\n                Scanner name = new Scanner(System.in);\n                Scanner number = new Scanner(System.in);\n            for (int i=0;i&lt;=s-1;i++){\n\n            System.out.println(&quot;Please enter the student's name&quot;);\n            student.add(name.next());\n            System.out.println(&quot;Please enter the student's grade:&quot;);\n            grade.add(number.nextInt());\n            }\n\n            }\n\n\n            if(choice==2){\n                System.out.println(&quot;Ordering by Name...&quot;);\n\n                int i = 0;\n                Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n                for (String num : student) {\n                    map.put(num, i);\n                    i++;\n                }\n                Collections.sort(student);\n                for (String num : student) {\n                    System.out.println(num + &quot; &quot; + grade.get(map.get(num)));\n                }\n\n\n\n                }\n</code></pre>\n<p>This the part related to the issue.</p>\n<pre><code>            if (choice ==3){\n                int temp = 0;\n                System.out.println(&quot;Ordering by Grade...&quot;);\n                // System.out.println(grade.get(i));\n                for (int i = 0; i &lt; grade.size(); i++) {\n                    for (int j = i+1; j &lt; grade.size(); j++) {\n                        if(grade.get(i) &lt; grade.get(j)) {\n                            temp = grade.get(i);\n                            grade.set(i, grade.get(j));\n                            grade.set(j, temp);\n                        }\n                    }\n                }\n                for (int i = 0; i &lt; grade.size(); i++) {\n                    System.out.print(grade.get(i) + &quot; &quot;+student.get(i));\n                }\n            }\n            if (choice ==4){\n            }\n        }while(choice!=5);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jms","mqtt","spring-integration-mqtt"],"comments":[{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1665934643,"post_id":74087354,"comment_id":130810423,"body_markdown":"So your question is really how to prevent each instance of the client receiving all the massages on a given topic? If so you need to look and see if Amazon MQ supports MQTT shared subscriptions","body":"So your question is really how to prevent each instance of the client receiving all the massages on a given topic? If so you need to look and see if Amazon MQ supports MQTT shared subscriptions"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1665942590,"post_id":74087354,"comment_id":130812219,"body_markdown":"Shared subscriptions was added in MQTT 5 and neither ActiveMQ &quot;Classic&quot; nor RabbitMQ (both of which are used by Amazon MQ) supports MQTT 5.","body":"Shared subscriptions was added in MQTT 5 and neither ActiveMQ &quot;Classic&quot; nor RabbitMQ (both of which are used by Amazon MQ) supports MQTT 5."},{"owner":{"account_id":236814,"reputation":55963,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":0,"creation_date":1665991327,"post_id":74087354,"comment_id":130820070,"body_markdown":"While formalised in MQTT v5 several brokers had implemented shared subscriptions as a proprietary add on to v3.1.1","body":"While formalised in MQTT v5 several brokers had implemented shared subscriptions as a proprietary add on to v3.1.1"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666116007,"post_id":74087354,"comment_id":130857849,"body_markdown":"@hardillb, fair enough. Did either ActiveMQ &quot;Classic&quot; or RabbitMQ implement shared subscriptions as a proprietary add on to 3.1.1?","body":"@hardillb, fair enough. Did either ActiveMQ &quot;Classic&quot; or RabbitMQ implement shared subscriptions as a proprietary add on to 3.1.1?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665949553,"creation_date":1665944285,"answer_id":74089643,"question_id":74087354,"body_markdown":"What you&#39;re seeing is the expected behavior. MQTT is fundamentally a pub/sub protocol where **all** the subscribers on a particular topic (or set of topics) get **every** message published to that topic (or set of topics). \r\n\r\nI see two ways to tackle the problem of duplicate entries in your database.\r\n\r\n 1. Make the insertions into the database idempotent.\r\n 2. Coordinate each instance of this application so that only one instance is ever active at any point in time.\r\n\r\nIf you used a broker that supported MQTT 5 (e.g. [ActiveMQ Artemis][1]) then you could use a &quot;shared&quot; subscription in which case the applications should _share_ all the messages published to the topic (or set of topics) and there would be no duplicate consumption or database inserts.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/","title":"MQTT Listener to listen to a topic and insert data to database on multiple instance pointing to same database","body":"<p>What you're seeing is the expected behavior. MQTT is fundamentally a pub/sub protocol where <strong>all</strong> the subscribers on a particular topic (or set of topics) get <strong>every</strong> message published to that topic (or set of topics).</p>\n<p>I see two ways to tackle the problem of duplicate entries in your database.</p>\n<ol>\n<li>Make the insertions into the database idempotent.</li>\n<li>Coordinate each instance of this application so that only one instance is ever active at any point in time.</li>\n</ol>\n<p>If you used a broker that supported MQTT 5 (e.g. <a href=\"https://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">ActiveMQ Artemis</a>) then you could use a &quot;shared&quot; subscription in which case the applications should <em>share</em> all the messages published to the topic (or set of topics) and there would be no duplicate consumption or database inserts.</p>\n"}],"owner":{"account_id":17968963,"reputation":1,"user_id":13058223,"display_name":"Inder Bhushan Jha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665949553,"creation_date":1665925546,"question_id":74087354,"body_markdown":"So I&#39;ve made a chat application using Java Spring Boot and MQTT. I&#39;ve made an MQTT listener which listens to all the messages under the `abc` topic (i.e. `abc/#`). For MQTT broker I&#39;m using Amazon MQ.\r\n\r\nSo what this application does is it listens to all the message and insert the data to the database which is working fine but when I deployed this application on multiple instance I&#39;m facing duplicate data entries because both the instance is pointing to same database which is AWS RDS how to overcome this??\r\n```java\r\npublic void subscribe(String topic) throws MqttException {\r\n    logger.info(&quot;client connected&quot;);\r\n\r\n    mqttClient.subscribeWithResponse(topic, (currentTopic, msg) -&gt; {\r\n\r\n        logger.info(&quot;listened : &quot; + new String(msg.getPayload()));\r\n\r\n        try {\r\n            Gson gson = new Gson();\r\n            if (currentTopic.equals(&quot;Abc/onlineStatus&quot;)) {\r\n                UserOnlineStatusVO userOnlineStatusVO = gson.fromJson(new String(msg.getPayload()), UserOnlineStatusVO.class);\r\n                User user = userRepository.findById(userOnlineStatusVO.getUserId()).orElseThrow(() -&gt; new Exception(&quot;user does not exist&quot;));\r\n                LocalDateTime lastSeen = LocalDateTime.parse(userOnlineStatusVO.getLastSeen(), format);\r\n                user.setLastSeen(lastSeen);\r\n                user.setOnlineStatus(userOnlineStatusVO.getOnlineStatus());\r\n                userRepository.save(user);\r\n            } else {\r\n                GroupChatMessage groupChatMessage = gson.fromJson(new String(msg.getPayload()), GroupChatMessage.class);\r\n                if (Boolean.FALSE.equals(groupChatMessage.getIsTesting())) {\r\n                    LocalDateTime sendingAt = LocalDateTime.parse(groupChatMessage.getPublishedAt(), sendingAtFormat);\r\n                    groupChatMessage.setSendingAt(sendingAt);\r\n                    groupChatMessageRepository.save(groupChatMessage);\r\n                    logger.info(&quot;data inserted : &quot; + groupChatMessage);\r\n\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(e.getMessage());\r\n        }\r\n    });\r\n}\r\n```","title":"MQTT Listener to listen to a topic and insert data to database on multiple instance pointing to same database","body":"<p>So I've made a chat application using Java Spring Boot and MQTT. I've made an MQTT listener which listens to all the messages under the <code>abc</code> topic (i.e. <code>abc/#</code>). For MQTT broker I'm using Amazon MQ.</p>\n<p>So what this application does is it listens to all the message and insert the data to the database which is working fine but when I deployed this application on multiple instance I'm facing duplicate data entries because both the instance is pointing to same database which is AWS RDS how to overcome this??</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void subscribe(String topic) throws MqttException {\n    logger.info(&quot;client connected&quot;);\n\n    mqttClient.subscribeWithResponse(topic, (currentTopic, msg) -&gt; {\n\n        logger.info(&quot;listened : &quot; + new String(msg.getPayload()));\n\n        try {\n            Gson gson = new Gson();\n            if (currentTopic.equals(&quot;Abc/onlineStatus&quot;)) {\n                UserOnlineStatusVO userOnlineStatusVO = gson.fromJson(new String(msg.getPayload()), UserOnlineStatusVO.class);\n                User user = userRepository.findById(userOnlineStatusVO.getUserId()).orElseThrow(() -&gt; new Exception(&quot;user does not exist&quot;));\n                LocalDateTime lastSeen = LocalDateTime.parse(userOnlineStatusVO.getLastSeen(), format);\n                user.setLastSeen(lastSeen);\n                user.setOnlineStatus(userOnlineStatusVO.getOnlineStatus());\n                userRepository.save(user);\n            } else {\n                GroupChatMessage groupChatMessage = gson.fromJson(new String(msg.getPayload()), GroupChatMessage.class);\n                if (Boolean.FALSE.equals(groupChatMessage.getIsTesting())) {\n                    LocalDateTime sendingAt = LocalDateTime.parse(groupChatMessage.getPublishedAt(), sendingAtFormat);\n                    groupChatMessage.setSendingAt(sendingAt);\n                    groupChatMessageRepository.save(groupChatMessage);\n                    logger.info(&quot;data inserted : &quot; + groupChatMessage);\n\n                }\n            }\n        } catch (Exception e) {\n            System.err.println(e.getMessage());\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","applet"],"comments":[{"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"score":1,"creation_date":1290070595,"post_id":4213040,"comment_id":4557015,"body_markdown":"What OS you and your friends are using ? With which Java versions ?","body":"What OS you and your friends are using ? With which Java versions ?"},{"owner":{"account_id":56883,"reputation":66564,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"score":0,"creation_date":1290070814,"post_id":4213040,"comment_id":4557053,"body_markdown":"I am using Windows, my friends are using Windows. My friends are using the latest Java (he had to install it on his computer to see it). I was using eclipse. It worked, so I uploaded it to my website, and it worked on both chrome and firefox even after I did a hard refresh.","body":"I am using Windows, my friends are using Windows. My friends are using the latest Java (he had to install it on his computer to see it). I was using eclipse. It worked, so I uploaded it to my website, and it worked on both chrome and firefox even after I did a hard refresh."}],"answers":[{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1290073604,"creation_date":1290071125,"answer_id":4213114,"question_id":4213040,"body_markdown":"There are two schools of thought on this.  \r\n\r\nOne is that any polygon with a negative dimension is nonsensical and should not be rendered - what do you mean it&#39;s -10 pixels wide??\r\n\r\nThe other is that a negative dimension simply inverts the polygon on that dimension&#39;s axis.\r\n\r\nMost painting systems apply the latter logic.  My experience in painting with Java has always been this, though I would not often have had negative dimensions, so my experience might not count for much.\r\n\r\nAs to what you can do:\r\n\r\n  1. You might need to have your friend update his Java version.\r\n  2. Otherwise you must perform the inversion yourself, by checking for a negative dimension and transposing your x,y origin in order to make the dimension positive.  That is, the rectangle [10,10,-5,5] is spatially equivalent to [5,10,5,5].  The negative dimension is added to the origin coordinate, and then made absolute.  Note, this can result in a negative origin, but hopefully the drawing system is not *quite* that messed up.\r\n\r\nPersonally, I would prefer to require a newer JVM, if possible.\r\n\r\nOtherwise my recommended code would be:\r\n\r\n    public void fillRect(Graphics gc, int x, int y, int width, int height) {\r\n        if(width &lt;0) { x+=width;  width =-width;  }\r\n        if(height&lt;0) { x+=height; height=-height; }\r\n        gc.fillRect(x,y,width,height);\r\n        }\r\n\r\nAlso, note that you&#39;ll need similar for other drawing operations.\r\n\r\nLastly, I would be suspicious of another mistake in all this, since the behavior is very surprising - I would simplify everything down to a minimal test program, with debug output and verify before wrapping a crap load of painting primitives.","title":"Negative Number in fillRect()","body":"<p>There are two schools of thought on this.  </p>\n\n<p>One is that any polygon with a negative dimension is nonsensical and should not be rendered - what do you mean it's -10 pixels wide??</p>\n\n<p>The other is that a negative dimension simply inverts the polygon on that dimension's axis.</p>\n\n<p>Most painting systems apply the latter logic.  My experience in painting with Java has always been this, though I would not often have had negative dimensions, so my experience might not count for much.</p>\n\n<p>As to what you can do:</p>\n\n<ol>\n<li>You might need to have your friend update his Java version.</li>\n<li>Otherwise you must perform the inversion yourself, by checking for a negative dimension and transposing your x,y origin in order to make the dimension positive.  That is, the rectangle [10,10,-5,5] is spatially equivalent to [5,10,5,5].  The negative dimension is added to the origin coordinate, and then made absolute.  Note, this can result in a negative origin, but hopefully the drawing system is not <em>quite</em> that messed up.</li>\n</ol>\n\n<p>Personally, I would prefer to require a newer JVM, if possible.</p>\n\n<p>Otherwise my recommended code would be:</p>\n\n<pre><code>public void fillRect(Graphics gc, int x, int y, int width, int height) {\n    if(width &lt;0) { x+=width;  width =-width;  }\n    if(height&lt;0) { x+=height; height=-height; }\n    gc.fillRect(x,y,width,height);\n    }\n</code></pre>\n\n<p>Also, note that you'll need similar for other drawing operations.</p>\n\n<p>Lastly, I would be suspicious of another mistake in all this, since the behavior is very surprising - I would simplify everything down to a minimal test program, with debug output and verify before wrapping a crap load of painting primitives.</p>\n"},{"tags":[],"owner":{"account_id":196734,"reputation":19254,"user_id":440336,"accept_rate":90,"display_name":"Jason Rogers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1290071914,"creation_date":1290071267,"answer_id":4213129,"question_id":4213040,"body_markdown":"My guess is that you and your freind are using 2 different versions of Java. your supports fillrect with a negative value and your freind&#39;s doesn&#39;t. (or even sdk vs jre).\r\n\r\nwhat that shows is that you should write this a different way to have your applet run on all versions.\r\n\r\nwhy not simply move your x of -5 ?\r\n\r\nif you want to do it in a more neat way\r\n\r\n    public void myfillRect(graphics page, int x, int y, int width, int height){\r\n        if(width &lt;0)\r\n            x-=Math.abs(width);\r\n        if(height &lt;0)\r\n            y-=Math.abs(height);\r\n    \r\n        page.rectfill(x,y,Math.abs(width), Math.abs(height));\r\n    } ","title":"Negative Number in fillRect()","body":"<p>My guess is that you and your freind are using 2 different versions of Java. your supports fillrect with a negative value and your freind's doesn't. (or even sdk vs jre).</p>\n\n<p>what that shows is that you should write this a different way to have your applet run on all versions.</p>\n\n<p>why not simply move your x of -5 ?</p>\n\n<p>if you want to do it in a more neat way</p>\n\n<pre><code>public void myfillRect(graphics page, int x, int y, int width, int height){\n    if(width &lt;0)\n        x-=Math.abs(width);\n    if(height &lt;0)\n        y-=Math.abs(height);\n\n    page.rectfill(x,y,Math.abs(width), Math.abs(height));\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":16453115,"reputation":484,"user_id":11886045,"display_name":"YazanGhafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665949316,"creation_date":1665949316,"answer_id":74090222,"question_id":4213040,"body_markdown":"Just indicating a small issue in Lawrence code that appear when you drag up the rect which give wrong height value. \r\n\r\nThe problem is in the row\r\n\r\n    if(height&lt;0) { x+=height; height=-height; }\r\n\r\nand it has to be y not x\r\n\r\n    if(height&lt;0) { y+=height; height=-height; }\r\n\r\nin total:\r\n\r\n    public void fillRect(Graphics gc, int x, int y, int width, int height) {\r\n        if(width &lt;0) { x+=width;  width =-width;  }\r\n        if(height&lt;0) { y+=height; height=-height; }\r\n        gc.fillRect(x,y,width,height);\r\n    }","title":"Negative Number in fillRect()","body":"<p>Just indicating a small issue in Lawrence code that appear when you drag up the rect which give wrong height value.</p>\n<p>The problem is in the row</p>\n<pre><code>if(height&lt;0) { x+=height; height=-height; }\n</code></pre>\n<p>and it has to be y not x</p>\n<pre><code>if(height&lt;0) { y+=height; height=-height; }\n</code></pre>\n<p>in total:</p>\n<pre><code>public void fillRect(Graphics gc, int x, int y, int width, int height) {\n    if(width &lt;0) { x+=width;  width =-width;  }\n    if(height&lt;0) { y+=height; height=-height; }\n    gc.fillRect(x,y,width,height);\n}\n</code></pre>\n"}],"owner":{"account_id":56883,"reputation":66564,"user_id":170365,"accept_rate":77,"display_name":"Strawberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2561,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4213129,"answer_count":3,"score":4,"last_activity_date":1665949316,"creation_date":1290070418,"question_id":4213040,"body_markdown":"I am using a negative number to have `fillRect()` go the opposite way. It works well on my computer, but my friends cannot see it working properly. What do I do?\r\n\r\n    page.fillRect (12, 12, -5, 10);","title":"Negative Number in fillRect()","body":"<p>I am using a negative number to have <code>fillRect()</code> go the opposite way. It works well on my computer, but my friends cannot see it working properly. What do I do?</p>\n\n<pre><code>page.fillRect (12, 12, -5, 10);\n</code></pre>\n"},{"tags":["java","string","class","enums"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1665916854,"post_id":74086337,"comment_id":130806838,"body_markdown":"do you mean the code should use the `description` instead of `zodiacType.name()`?","body":"do you mean the code should use the <code>description</code> instead of <code>zodiacType.name()</code>?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665917381,"post_id":74086337,"comment_id":130806937,"body_markdown":"Yes, introduce/override: `ZodiacType#toString()`, which (does:)`return description.name();`","body":"Yes, introduce/override: <code>ZodiacType#toString()</code>, which (does:)<code>return description.name();</code>"},{"owner":{"account_id":18771646,"reputation":19,"user_id":13688338,"display_name":"Ming Liang"},"score":0,"creation_date":1665917592,"post_id":74086337,"comment_id":130806977,"body_markdown":"But if I introduce a new toString in enum, it might messed up my first output `Here is an example of set\n    A = {LEO, CAN, VIR, GEM, SAG, TAU, CAP}\n    All elements in set are distinct and random number`","body":"But if I introduce a new toString in enum, it might messed up my first output <code>Here is an example of set     A = {LEO, CAN, VIR, GEM, SAG, TAU, CAP}     All elements in set are distinct and random number</code>"},{"owner":{"account_id":18771646,"reputation":19,"user_id":13688338,"display_name":"Ming Liang"},"score":0,"creation_date":1665917902,"post_id":74086337,"comment_id":130807046,"body_markdown":"user16320675, yes I want to directly use `description` instead of `zodiacType.name()` but I can&#39;t in this case.","body":"user16320675, yes I want to directly use <code>description</code> instead of <code>zodiacType.name()</code> but I can&#39;t in this case."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665921136,"creation_date":1665917033,"answer_id":74086410,"question_id":74086337,"body_markdown":"You can achieve the required string representation by using [`StringJoiner`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html).\r\n\r\nOne of its constructors allows specifying the *delimiter*, as well as the *prefix* and the *suffix* which would be used in the joined string.\r\n\r\nMethod [`StringJoiner.add()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html#add(java.lang.CharSequence)) is used to add a new string to `StringJoiner`. And method [`StringJoiner.toString()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html#toString()) generates the resulting string.\r\n\r\nAssuming that members `ZodiacInfo` have converntional **upper-case** names (ARIES, VIRGO, etc.), you can use the following code to join capitalized descriptions together:\r\n\r\n    public String getStringZodiacInfoFormat() {\r\n        \r\n        StringJoiner strings = new StringJoiner(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;);\r\n        \r\n        for (ZodiacType zodiacType: s) {\r\n            \r\n            String type = zodiacType.description().name();\r\n            strings.add(type.charAt(0) + type.substring(1).toLowerCase());\r\n        }\r\n        return strings.toString();\r\n    }\r\n\r\n**Note:** the cleaner approach would be to place the logic for creating capitalized `ZodiacInfo` name into the `toString()` implementation of the `ZodiacType` enum, or if you want to display dates in the `toString()` as well, then introduce a separate method, let&#39;s say `getZodiacName()`.\r\n\r\nThat&#39;s how such method might look like:\r\n\r\n    public enum ZodiacType {\r\n        // enum-members, etc.\r\n        \r\n        public String getZodiacName() {\r\n            String type = description.name();\r\n            return type.charAt(0) + type.substring(1).toLowerCase();\r\n        }\r\n    }\r\n_____________________________________________________\r\n\r\nJudging by your code, the names of `ZodiacInfo` members are not aligned with the [Java naming convention](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html) (i.e. `ZodiacInfo.Aries` instead of recommended `ZodiacInfo.ARIES`).\r\n\r\nIf for some reason you want to keep them like that (`Aries`, `Virgo`), then you don&#39;t need the logic for capitalizing the name.\r\n\r\nAnd the method `getStringZodiacInfoFormat()` can be written like this:\r\n\r\n    public String getStringZodiacInfoFormat() {\r\n        \r\n        StringJoiner strings = new StringJoiner(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;);\r\n        \r\n        for (ZodiacType zodiacType: s) {\r\n            \r\n            strings.add(zodiacType.description().name());\r\n        }\r\n        return strings.toString();\r\n    }","title":"How can I format the names of enum-constants from ZodiacInfo inside another enum?","body":"<p>You can achieve the required string representation by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html\" rel=\"nofollow noreferrer\"><code>StringJoiner</code></a>.</p>\n<p>One of its constructors allows specifying the <em>delimiter</em>, as well as the <em>prefix</em> and the <em>suffix</em> which would be used in the joined string.</p>\n<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html#add(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>StringJoiner.add()</code></a> is used to add a new string to <code>StringJoiner</code>. And method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringJoiner.html#toString()\" rel=\"nofollow noreferrer\"><code>StringJoiner.toString()</code></a> generates the resulting string.</p>\n<p>Assuming that members <code>ZodiacInfo</code> have converntional <strong>upper-case</strong> names (ARIES, VIRGO, etc.), you can use the following code to join capitalized descriptions together:</p>\n<pre><code>public String getStringZodiacInfoFormat() {\n    \n    StringJoiner strings = new StringJoiner(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;);\n    \n    for (ZodiacType zodiacType: s) {\n        \n        String type = zodiacType.description().name();\n        strings.add(type.charAt(0) + type.substring(1).toLowerCase());\n    }\n    return strings.toString();\n}\n</code></pre>\n<p><strong>Note:</strong> the cleaner approach would be to place the logic for creating capitalized <code>ZodiacInfo</code> name into the <code>toString()</code> implementation of the <code>ZodiacType</code> enum, or if you want to display dates in the <code>toString()</code> as well, then introduce a separate method, let's say <code>getZodiacName()</code>.</p>\n<p>That's how such method might look like:</p>\n<pre><code>public enum ZodiacType {\n    // enum-members, etc.\n    \n    public String getZodiacName() {\n        String type = description.name();\n        return type.charAt(0) + type.substring(1).toLowerCase();\n    }\n}\n</code></pre>\n<hr />\n<p>Judging by your code, the names of <code>ZodiacInfo</code> members are not aligned with the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming convention</a> (i.e. <code>ZodiacInfo.Aries</code> instead of recommended <code>ZodiacInfo.ARIES</code>).</p>\n<p>If for some reason you want to keep them like that (<code>Aries</code>, <code>Virgo</code>), then you don't need the logic for capitalizing the name.</p>\n<p>And the method <code>getStringZodiacInfoFormat()</code> can be written like this:</p>\n<pre><code>public String getStringZodiacInfoFormat() {\n    \n    StringJoiner strings = new StringJoiner(&quot;, &quot;, &quot;{&quot;, &quot;}&quot;);\n    \n    for (ZodiacType zodiacType: s) {\n        \n        strings.add(zodiacType.description().name());\n    }\n    return strings.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":18771646,"reputation":19,"user_id":13688338,"display_name":"Ming Liang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665948828,"creation_date":1665916424,"question_id":74086337,"body_markdown":"My program has an enum which contains a constructor.\r\n\r\n    public enum ZodiacType {\r\n        ARI(ZodiacInfo.Aries, &quot;March 21&quot;, &quot;April 19&quot;),\r\n        TAU(ZodiacInfo.Taurus, &quot;April 20&quot;, &quot;May 20&quot;),\r\n        GEM(ZodiacInfo.Gemini, &quot;May 21&quot;, &quot;June 20&quot;),\r\n        CAN(ZodiacInfo.Cancer, &quot;June 21&quot;, &quot;July 22&quot;),\r\n        LEO(ZodiacInfo.Leo, &quot;July 23&quot;, &quot;August 22&quot;),\r\n        VIR(ZodiacInfo.Virgo, &quot;August 23&quot;, &quot;September 22&quot;),\r\n        LIB(ZodiacInfo.Libra, &quot;September 23&quot;, &quot;October 22&quot;),\r\n        SCO(ZodiacInfo.Scorpio, &quot;October 23&quot;, &quot;November 21&quot;),\r\n        SAG(ZodiacInfo.Sagittarius, &quot;November 22&quot;, &quot;December 21&quot;),\r\n        CAP(ZodiacInfo.Capricorn, &quot;December 22&quot;, &quot;January 19&quot;),\r\n        AQU(ZodiacInfo.Aquarius, &quot;January 20&quot;, &quot;February 18&quot;),\r\n        PIS(ZodiacInfo.Pisces, &quot;February 19&quot;, &quot;March 20&quot;);\r\n\r\n        private final ZodiacInfo description;\r\n        private final String startDate;\r\n        private final String toDate;\r\n    \r\n        ZodiacType(ZodiacInfo description, String startDate, String toDate) {\r\n            this.description = description;\r\n            this.startDate = startDate;\r\n            this.toDate = toDate;\r\n        }\r\n    }\r\n\r\nHere is my output currently that I made thanks to the past solutions.\r\n\r\nHere is an example of a Set:\r\n```\r\nA = {LEO, CAN, VIR, GEM, SAG, TAU, CAP}\r\n// All elements in set are distinct and random number\r\n```\r\nMy custom class `Set`:\r\n\r\n    public class Set {\r\n        private ArrayList&lt;ZodiacType&gt; s;\r\n    \r\n        public Set() {\r\n            s = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;A = {%s}&quot;,\r\n                s.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\r\n        }\r\n    }\r\n    \r\nHere is the method that I developed.\r\n\r\n    public String getStringZodiacInfoFormat() {\r\n        // not correct to put arrayList\r\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        for (ZodiacType zodiacType: s) {\r\n            strings.add(zodiacType.name());\r\n        }\r\n        return String.format(&quot;A = {%s}&quot;,\r\n                strings.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;))\r\n    }\r\nThe question is I can&#39;t convert it and the result is:\r\n\r\n    Notation in enum format\r\n\tA = {GEM, LIB, CAN, PIS, SCO, ARI, VIR}\r\n    ......................................................\r\nInstead of this:\r\n\r\n    Notation in enum format\r\n    A = {Gemini, Libra, Cancer, Pisces, Scorpio, Aries, Virgo}\r\n    ......................................................\r\nI can learn new things from any given solutions. Thank you\r\n","title":"How can I format the names of enum-constants from ZodiacInfo inside another enum?","body":"<p>My program has an enum which contains a constructor.</p>\n<pre><code>public enum ZodiacType {\n    ARI(ZodiacInfo.Aries, &quot;March 21&quot;, &quot;April 19&quot;),\n    TAU(ZodiacInfo.Taurus, &quot;April 20&quot;, &quot;May 20&quot;),\n    GEM(ZodiacInfo.Gemini, &quot;May 21&quot;, &quot;June 20&quot;),\n    CAN(ZodiacInfo.Cancer, &quot;June 21&quot;, &quot;July 22&quot;),\n    LEO(ZodiacInfo.Leo, &quot;July 23&quot;, &quot;August 22&quot;),\n    VIR(ZodiacInfo.Virgo, &quot;August 23&quot;, &quot;September 22&quot;),\n    LIB(ZodiacInfo.Libra, &quot;September 23&quot;, &quot;October 22&quot;),\n    SCO(ZodiacInfo.Scorpio, &quot;October 23&quot;, &quot;November 21&quot;),\n    SAG(ZodiacInfo.Sagittarius, &quot;November 22&quot;, &quot;December 21&quot;),\n    CAP(ZodiacInfo.Capricorn, &quot;December 22&quot;, &quot;January 19&quot;),\n    AQU(ZodiacInfo.Aquarius, &quot;January 20&quot;, &quot;February 18&quot;),\n    PIS(ZodiacInfo.Pisces, &quot;February 19&quot;, &quot;March 20&quot;);\n\n    private final ZodiacInfo description;\n    private final String startDate;\n    private final String toDate;\n\n    ZodiacType(ZodiacInfo description, String startDate, String toDate) {\n        this.description = description;\n        this.startDate = startDate;\n        this.toDate = toDate;\n    }\n}\n</code></pre>\n<p>Here is my output currently that I made thanks to the past solutions.</p>\n<p>Here is an example of a Set:</p>\n<pre><code>A = {LEO, CAN, VIR, GEM, SAG, TAU, CAP}\n// All elements in set are distinct and random number\n</code></pre>\n<p>My custom class <code>Set</code>:</p>\n<pre><code>public class Set {\n    private ArrayList&lt;ZodiacType&gt; s;\n\n    public Set() {\n        s = new ArrayList&lt;&gt;();\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;A = {%s}&quot;,\n            s.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;));\n    }\n}\n</code></pre>\n<p>Here is the method that I developed.</p>\n<pre><code>public String getStringZodiacInfoFormat() {\n    // not correct to put arrayList\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    for (ZodiacType zodiacType: s) {\n        strings.add(zodiacType.name());\n    }\n    return String.format(&quot;A = {%s}&quot;,\n            strings.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;))\n}\n</code></pre>\n<p>The question is I can't convert it and the result is:</p>\n<pre><code>Notation in enum format\nA = {GEM, LIB, CAN, PIS, SCO, ARI, VIR}\n......................................................\n</code></pre>\n<p>Instead of this:</p>\n<pre><code>Notation in enum format\nA = {Gemini, Libra, Cancer, Pisces, Scorpio, Aries, Virgo}\n......................................................\n</code></pre>\n<p>I can learn new things from any given solutions. Thank you</p>\n"},{"tags":["java","jls"],"comments":[{"owner":{"account_id":2786645,"reputation":577,"user_id":2397966,"display_name":"Rostislav Krasny"},"score":0,"creation_date":1537808564,"post_id":52484048,"comment_id":91909729,"body_markdown":"@Thomas It is a theoretical use case. Java allows to have multiple labels of a loop but there is an inconsistency in handling those multiple labels by `continue` and `brake` statements.","body":"@Thomas It is a theoretical use case. Java allows to have multiple labels of a loop but there is an inconsistency in handling those multiple labels by <code>continue</code> and <code>brake</code> statements."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1537808613,"post_id":52484048,"comment_id":91909750,"body_markdown":"Just reread the [specification](https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.7): it defines &quot;LabeledStatement&quot; as &quot;label: statement&quot; where &quot;statement&quot; can be a &quot;LabeledStatement&quot; and thus &quot;labelA: labelB: statment&quot; _should_ be allowed (albeit it doesn&#39;t make much sense and I might miss something). Just to be complete: a label is _not_ a statement in itself but can be part of one.","body":"Just reread the <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.7\" rel=\"nofollow noreferrer\">specification</a>: it defines &quot;LabeledStatement&quot; as &quot;label: statement&quot; where &quot;statement&quot; can be a &quot;LabeledStatement&quot; and thus &quot;labelA: labelB: statment&quot; <i>should</i> be allowed (albeit it doesn&#39;t make much sense and I might miss something). Just to be complete: a label is <i>not</i> a statement in itself but can be part of one."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537810619,"creation_date":1537809216,"answer_id":52484303,"question_id":52484048,"body_markdown":"The [JLS, Section 14.16][1], talks about the `continue` statement:\n\n&gt; The continue target must be a `while`, `do`, or `for` statement, or a compile-time error occurs.\n\nSimple enough, but let&#39;s look at the grammar for a labeled statement ([Section 14.7][2]).\n\n&gt; LabeledStatement:\n&gt;\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Identifier : Statement\n\nIt can contain another statements in general, which in turn may be a `while`, `do`, or `for` (&quot;wdf&quot;) statement, or another labeled statement (Section 14.5) (or other kinds of statements).\n\nBut the label by itself is not a statement; it needs the other statement as part of itself.\n\nNext, nested labeled statements _are_ allowed, so in general you can do something like:\n\n    A: B: yourStatementHere;\n\nYou can nest it further if you want:\n\n    A: B: C: D: E: F: G: yourStatementHere;\n\nHowever, with \n\n    A: B: while (true) continue A;\n\nThe statement that `A:` labels is _another_ labeled statement, not a &quot;wdf&quot; statement, even if the `B:` labeled statement itself _contains_ a `while` statement.\n\nIf you put on your lawyer hat, you can argue that the sentence above about the `continue` statement needing to refer to a &quot;wdf&quot; statement says nothing about the &quot;wdf&quot; statement being nested in a labeled statement, so it should be a compiler error.  \n\nThat seems very picky to me; perhaps the JLS should have had a clause indicating that the &quot;wdf&quot; statement could be itself nested in a labeled statement.\n\nBut until that happens, this appears to be a correct, if unintended, consequence of the wording the JLS provides, quoted above.\n\n**So why is `break` allowed to do this?**\n\n    A: B: while (true) break A;  // no error\n\nThere is no corresponding line in Section 14.15 of the JLS, which talks about the `break` statement, that enforces that the target of a `break` statement must be a &quot;wdf&quot; statement.  A `break` statement must still be within a &quot;wdf&quot; statement (or a `switch` statement), but there is no corresponding requirement that its label refer to a specific kind of statement.\n\n[1]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.16\n[2]: https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.7","title":"Is a label a Java statement or not?","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.16\" rel=\"nofollow noreferrer\">JLS, Section 14.16</a>, talks about the <code>continue</code> statement:</p>\n<blockquote>\n<p>The continue target must be a <code>while</code>, <code>do</code>, or <code>for</code> statement, or a compile-time error occurs.</p>\n</blockquote>\n<p>Simple enough, but let's look at the grammar for a labeled statement (<a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-14.html#jls-14.7\" rel=\"nofollow noreferrer\">Section 14.7</a>).</p>\n<blockquote>\n<p>LabeledStatement:</p>\n<p>    Identifier : Statement</p>\n</blockquote>\n<p>It can contain another statements in general, which in turn may be a <code>while</code>, <code>do</code>, or <code>for</code> (&quot;wdf&quot;) statement, or another labeled statement (Section 14.5) (or other kinds of statements).</p>\n<p>But the label by itself is not a statement; it needs the other statement as part of itself.</p>\n<p>Next, nested labeled statements <em>are</em> allowed, so in general you can do something like:</p>\n<pre><code>A: B: yourStatementHere;\n</code></pre>\n<p>You can nest it further if you want:</p>\n<pre><code>A: B: C: D: E: F: G: yourStatementHere;\n</code></pre>\n<p>However, with</p>\n<pre><code>A: B: while (true) continue A;\n</code></pre>\n<p>The statement that <code>A:</code> labels is <em>another</em> labeled statement, not a &quot;wdf&quot; statement, even if the <code>B:</code> labeled statement itself <em>contains</em> a <code>while</code> statement.</p>\n<p>If you put on your lawyer hat, you can argue that the sentence above about the <code>continue</code> statement needing to refer to a &quot;wdf&quot; statement says nothing about the &quot;wdf&quot; statement being nested in a labeled statement, so it should be a compiler error.</p>\n<p>That seems very picky to me; perhaps the JLS should have had a clause indicating that the &quot;wdf&quot; statement could be itself nested in a labeled statement.</p>\n<p>But until that happens, this appears to be a correct, if unintended, consequence of the wording the JLS provides, quoted above.</p>\n<p><strong>So why is <code>break</code> allowed to do this?</strong></p>\n<pre><code>A: B: while (true) break A;  // no error\n</code></pre>\n<p>There is no corresponding line in Section 14.15 of the JLS, which talks about the <code>break</code> statement, that enforces that the target of a <code>break</code> statement must be a &quot;wdf&quot; statement.  A <code>break</code> statement must still be within a &quot;wdf&quot; statement (or a <code>switch</code> statement), but there is no corresponding requirement that its label refer to a specific kind of statement.</p>\n"},{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1665947947,"creation_date":1537809263,"answer_id":52484310,"question_id":52484048,"body_markdown":"Following the [JLS](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.5) a `Statement` can be\r\n\r\n    StatementWithoutTrailingSubstatement\r\n    LabeledStatement\r\n    IfThenStatement\r\n    IfThenElseStatement\r\n    WhileStatement\r\n    ForStatement\r\n\r\nwith `LabeledStatement` being\r\n\r\n    Identifier : Statement\r\n\r\nand stated\r\n\r\n&gt;The Identifier is declared to be the label of the immediately contained Statement\r\n\r\nso in case of a loop like\r\n\r\n    public void method() {\r\n        loop1: loop2: while (true) {\r\n            if (true) {\r\n                break loop1;\r\n            } else {\r\n                continue loop1;\r\n            }\r\n        }\r\n    }\r\n\r\nthe `Statement` of the `Label` `loop1` is the entire `loop2 ...` stuff.\r\n\r\nAnd if we look at the definition of `break` it is stated that \r\n\r\n&gt;the break target need not be a switch, while, do, or for statement.\r\n\r\nwhereas for the `continue` it states\r\n\r\n&gt;The continue target must be a while, do, or for statement, or a compile-time error occurs.\r\n\r\nThese definitions are properly in line with the compiler giving a compiler error for the `continue loop1` statement and letting `break loop1` be valid since `loop2: ...` is **not** a *&quot;while, do, or for statement&quot;*.\r\n\r\n---\r\n\r\nRegarding your actual question: *Is label a Java statement or not?* \r\n\r\nThe following code is perfectly legal and compiles fine\r\n\r\n    public void method() {\r\n        loop:;\r\n    }\r\n\r\nThis follows the expansion of `Statement` -&gt; `LabeledStatement` -&gt; `Identifier` : `Statement` -&gt; loop : `Statement` -&gt; loop : `StatementWithoutTrailingSubstatement` -&gt; loop : `EmptyStatement` -&gt;\r\n\r\n    loop : ;\r\n\r\nNo, a label is no statement by itself, an identifier (which is then called &quot;label&quot;) plus a column plus an `EmptyStatement` (`;`) however is.\r\n\r\n---\r\n\r\n*Isn&#39;t labeled while/do/for statement in Java a while/do/for statement?*\r\n\r\n**No!**  \r\n\r\nA `LabeledStatement` is exactly that: a `LabeledStatement`. A labeled while is `Statement -&gt; Label -&gt; Identifier : Statement -&gt; Identifier : WhileStatement` which is something fundamentally different than `Statement -&gt; WhileStatement`!","title":"Is a label a Java statement or not?","body":"<p>Following the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.5\" rel=\"nofollow noreferrer\">JLS</a> a <code>Statement</code> can be</p>\n<pre><code>StatementWithoutTrailingSubstatement\nLabeledStatement\nIfThenStatement\nIfThenElseStatement\nWhileStatement\nForStatement\n</code></pre>\n<p>with <code>LabeledStatement</code> being</p>\n<pre><code>Identifier : Statement\n</code></pre>\n<p>and stated</p>\n<blockquote>\n<p>The Identifier is declared to be the label of the immediately contained Statement</p>\n</blockquote>\n<p>so in case of a loop like</p>\n<pre><code>public void method() {\n    loop1: loop2: while (true) {\n        if (true) {\n            break loop1;\n        } else {\n            continue loop1;\n        }\n    }\n}\n</code></pre>\n<p>the <code>Statement</code> of the <code>Label</code> <code>loop1</code> is the entire <code>loop2 ...</code> stuff.</p>\n<p>And if we look at the definition of <code>break</code> it is stated that</p>\n<blockquote>\n<p>the break target need not be a switch, while, do, or for statement.</p>\n</blockquote>\n<p>whereas for the <code>continue</code> it states</p>\n<blockquote>\n<p>The continue target must be a while, do, or for statement, or a compile-time error occurs.</p>\n</blockquote>\n<p>These definitions are properly in line with the compiler giving a compiler error for the <code>continue loop1</code> statement and letting <code>break loop1</code> be valid since <code>loop2: ...</code> is <strong>not</strong> a <em>&quot;while, do, or for statement&quot;</em>.</p>\n<hr />\n<p>Regarding your actual question: <em>Is label a Java statement or not?</em></p>\n<p>The following code is perfectly legal and compiles fine</p>\n<pre><code>public void method() {\n    loop:;\n}\n</code></pre>\n<p>This follows the expansion of <code>Statement</code> -&gt; <code>LabeledStatement</code> -&gt; <code>Identifier</code> : <code>Statement</code> -&gt; loop : <code>Statement</code> -&gt; loop : <code>StatementWithoutTrailingSubstatement</code> -&gt; loop : <code>EmptyStatement</code> -&gt;</p>\n<pre><code>loop : ;\n</code></pre>\n<p>No, a label is no statement by itself, an identifier (which is then called &quot;label&quot;) plus a column plus an <code>EmptyStatement</code> (<code>;</code>) however is.</p>\n<hr />\n<p><em>Isn't labeled while/do/for statement in Java a while/do/for statement?</em></p>\n<p><strong>No!</strong></p>\n<p>A <code>LabeledStatement</code> is exactly that: a <code>LabeledStatement</code>. A labeled while is <code>Statement -&gt; Label -&gt; Identifier : Statement -&gt; Identifier : WhileStatement</code> which is something fundamentally different than <code>Statement -&gt; WhileStatement</code>!</p>\n"}],"owner":{"account_id":2786645,"reputation":577,"user_id":2397966,"display_name":"Rostislav Krasny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1665947947,"creation_date":1537808073,"question_id":52484048,"body_markdown":"Is a label a Java statement or not and if a label is a statement where is it defined as a statement in the Java Language Specification?\r\n\r\nMy question relates to the following reply of Jan Lahoda in the bug report that I&#39;ve sent to Oracle. I&#39;m unable to discuss it there because I can&#39;t get an account in the OpenJDK Jira.\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8211052\r\n&gt; In case of e.g.:\r\n`A: B: while (true) continue A;` the statement on which the &quot;continue&quot; is applied is not &quot;`while (true) continue A;`&quot;, but &quot;`B: while (true) continue A;`&quot;, and the spec requires the target for continue is a while/do/for statement, which is not fulfilled here. Hence the compile-time error.\r\n\r\nI think a label in Java is not a statement and in Jan&#39;s example both the `A` and the `B` labels relate to the same while-loop statement and then no compile time error should be triggered.\r\n\r\n**Addition:**\r\n\r\nIsn&#39;t a **labeled** while/do/for statement in Java a while/do/for statement?","title":"Is a label a Java statement or not?","body":"<p>Is a label a Java statement or not and if a label is a statement where is it defined as a statement in the Java Language Specification?</p>\n\n<p>My question relates to the following reply of Jan Lahoda in the bug report that I've sent to Oracle. I'm unable to discuss it there because I can't get an account in the OpenJDK Jira.</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8211052\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8211052</a></p>\n\n<blockquote>\n  <p>In case of e.g.:\n  <code>A: B: while (true) continue A;</code> the statement on which the \"continue\" is applied is not \"<code>while (true) continue A;</code>\", but \"<code>B: while (true) continue A;</code>\", and the spec requires the target for continue is a while/do/for statement, which is not fulfilled here. Hence the compile-time error.</p>\n</blockquote>\n\n<p>I think a label in Java is not a statement and in Jan's example both the <code>A</code> and the <code>B</code> labels relate to the same while-loop statement and then no compile time error should be triggered.</p>\n\n<p><strong>Addition:</strong></p>\n\n<p>Isn't a <strong>labeled</strong> while/do/for statement in Java a while/do/for statement?</p>\n"},{"tags":["java","spring","spring-boot","algorithm","reactive-programming"],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665944618,"creation_date":1665942970,"answer_id":74089485,"question_id":74089067,"body_markdown":"First, build the model, automatic here https://codebeautify.org/json-to-java-converter.\r\n\r\nThen read data with the model\r\n\r\n    .bodyToMono(MyData.class)\r\n\r\nThen decide how you want evaluate the requirement `find the first true value under security, address, account and mobile`.\r\n\r\nWhat means &quot;first&quot; ? JSON has no natural order without indicating explicity (e.g. field &quot;order&quot;: 2).\r\n\r\nN.B. &quot;true&quot;, &quot;false&quot; of the response are Strings, not booleans. \r\n\r\nOnce you have the model with data, you may do:\r\n\r\n    Object firstTrue(GeneralDetails gd)  {\r\n        // No null checks here\r\n        if (&quot;true&quot;.equals(gd.getSecurtity().isLockedAccount())) return gd.getSecurtity();\r\n        if (&quot;true&quot;.equals(gd.getAddress().isAddressExists())) return gd.getAddress();\r\n        if (&quot;true&quot;.equals(gd.getAccount().isAccountExists()) || &quot;true&quot;.equals(gd.getAccount().isAccountValid())) return gd.getAccount();\r\n        if (&quot;true&quot;.equals(gd.getMobile().isMobileExists())) return gd.getMobile();\r\n\r\n        return null;\r\n    }","title":"Deeply nested JSON response from third party","body":"<p>First, build the model, automatic here <a href=\"https://codebeautify.org/json-to-java-converter\" rel=\"nofollow noreferrer\">https://codebeautify.org/json-to-java-converter</a>.</p>\n<p>Then read data with the model</p>\n<pre><code>.bodyToMono(MyData.class)\n</code></pre>\n<p>Then decide how you want evaluate the requirement <code>find the first true value under security, address, account and mobile</code>.</p>\n<p>What means &quot;first&quot; ? JSON has no natural order without indicating explicity (e.g. field &quot;order&quot;: 2).</p>\n<p>N.B. &quot;true&quot;, &quot;false&quot; of the response are Strings, not booleans.</p>\n<p>Once you have the model with data, you may do:</p>\n<pre><code>Object firstTrue(GeneralDetails gd)  {\n    // No null checks here\n    if (&quot;true&quot;.equals(gd.getSecurtity().isLockedAccount())) return gd.getSecurtity();\n    if (&quot;true&quot;.equals(gd.getAddress().isAddressExists())) return gd.getAddress();\n    if (&quot;true&quot;.equals(gd.getAccount().isAccountExists()) || &quot;true&quot;.equals(gd.getAccount().isAccountValid())) return gd.getAccount();\n    if (&quot;true&quot;.equals(gd.getMobile().isMobileExists())) return gd.getMobile();\n\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665947816,"creation_date":1665947480,"answer_id":74090011,"question_id":74089067,"body_markdown":"https://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;info_code\\&quot;: \\&quot;201\\&quot;,&quot; +\r\n        &quot;    \\&quot;info_description\\&quot;: \\&quot;info description\\&quot;,&quot; +\r\n        &quot;    \\&quot;data\\&quot;: {&quot; +\r\n        &quot;        \\&quot;status\\&quot;: \\&quot;here goes the status\\&quot;,&quot; +\r\n        &quot;        \\&quot;failure_data\\&quot;: {&quot; +\r\n        &quot;            \\&quot;source\\&quot;: \\&quot;anySource\\&quot;,&quot; +\r\n        &quot;            \\&quot;details\\&quot;: {&quot; +\r\n        &quot;                \\&quot;data\\&quot;: {&quot; +\r\n        &quot;                    \\&quot;server_response\\&quot;: {&quot; +\r\n        &quot;                        \\&quot;generalDetails\\&quot;: {&quot; +\r\n        &quot;                            \\&quot;security\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;isAccountLocked\\&quot;: \\&quot;false\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            \\&quot;address\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;isAddresExists\\&quot;: \\&quot;true\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            \\&quot;account\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;accountExists\\&quot;: \\&quot;true\\&quot;,&quot; +\r\n        &quot;                                \\&quot;isValidAccount\\&quot;: \\&quot;true\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            \\&quot;mobile\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;mobileExists\\&quot;: \\&quot;true\\&quot;&quot; +\r\n        &quot;                            }&quot; +\r\n        &quot;                        }&quot; +\r\n        &quot;                    }&quot; +\r\n        &quot;                }&quot; +\r\n        &quot;            }&quot; +\r\n        &quot;        }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;}&quot;);\r\n\r\nQuery\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;data.failure_data.details.data.server_response&quot; +\r\n        &quot;.generalDetails.**.mergeObjects().assort().[*]&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\nOutput\r\n\r\n    {\r\n      &quot;isAddresExists&quot; : &quot;true&quot;\r\n    }\r\n\r\nIf changed `isAddresExists` and `accountExists` to `false`\r\n\r\n        &quot;                        \\&quot;generalDetails\\&quot;: {&quot; +\r\n        &quot;                            \\&quot;security\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;isAccountLocked\\&quot;: \\&quot;false\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            \\&quot;address\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;isAddresExists\\&quot;: \\&quot;false\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            \\&quot;account\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;accountExists\\&quot;: \\&quot;false\\&quot;,&quot; +\r\n        &quot;                                \\&quot;isValidAccount\\&quot;: \\&quot;true\\&quot;&quot; +\r\n        &quot;                            },&quot; +\r\n        &quot;                            \\&quot;mobile\\&quot;: {&quot; +\r\n        &quot;                                \\&quot;mobileExists\\&quot;: \\&quot;true\\&quot;&quot; +\r\n        &quot;                            }&quot; +\r\n        &quot;                        }&quot; +\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;isValidAccount&quot; : &quot;true&quot;\r\n    }\r\n\r\nIf you only want the key name\r\n\r\n    String firstTureKey = josson.getString(\r\n        &quot;data.failure_data.details.data.server_response&quot; +\r\n        &quot;.generalDetails.**.mergeObjects().assort().[*].keys().[0]&quot;);\r\n    System.out.println(firstTureKey);\r\n\r\nOutput\r\n\r\n    isValidAccount","title":"Deeply nested JSON response from third party","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;info_code\\&quot;: \\&quot;201\\&quot;,&quot; +\n    &quot;    \\&quot;info_description\\&quot;: \\&quot;info description\\&quot;,&quot; +\n    &quot;    \\&quot;data\\&quot;: {&quot; +\n    &quot;        \\&quot;status\\&quot;: \\&quot;here goes the status\\&quot;,&quot; +\n    &quot;        \\&quot;failure_data\\&quot;: {&quot; +\n    &quot;            \\&quot;source\\&quot;: \\&quot;anySource\\&quot;,&quot; +\n    &quot;            \\&quot;details\\&quot;: {&quot; +\n    &quot;                \\&quot;data\\&quot;: {&quot; +\n    &quot;                    \\&quot;server_response\\&quot;: {&quot; +\n    &quot;                        \\&quot;generalDetails\\&quot;: {&quot; +\n    &quot;                            \\&quot;security\\&quot;: {&quot; +\n    &quot;                                \\&quot;isAccountLocked\\&quot;: \\&quot;false\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            \\&quot;address\\&quot;: {&quot; +\n    &quot;                                \\&quot;isAddresExists\\&quot;: \\&quot;true\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            \\&quot;account\\&quot;: {&quot; +\n    &quot;                                \\&quot;accountExists\\&quot;: \\&quot;true\\&quot;,&quot; +\n    &quot;                                \\&quot;isValidAccount\\&quot;: \\&quot;true\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            \\&quot;mobile\\&quot;: {&quot; +\n    &quot;                                \\&quot;mobileExists\\&quot;: \\&quot;true\\&quot;&quot; +\n    &quot;                            }&quot; +\n    &quot;                        }&quot; +\n    &quot;                    }&quot; +\n    &quot;                }&quot; +\n    &quot;            }&quot; +\n    &quot;        }&quot; +\n    &quot;    }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p>Query</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;data.failure_data.details.data.server_response&quot; +\n    &quot;.generalDetails.**.mergeObjects().assort().[*]&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;isAddresExists&quot; : &quot;true&quot;\n}\n</code></pre>\n<p>If changed <code>isAddresExists</code> and <code>accountExists</code> to <code>false</code></p>\n<pre><code>    &quot;                        \\&quot;generalDetails\\&quot;: {&quot; +\n    &quot;                            \\&quot;security\\&quot;: {&quot; +\n    &quot;                                \\&quot;isAccountLocked\\&quot;: \\&quot;false\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            \\&quot;address\\&quot;: {&quot; +\n    &quot;                                \\&quot;isAddresExists\\&quot;: \\&quot;false\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            \\&quot;account\\&quot;: {&quot; +\n    &quot;                                \\&quot;accountExists\\&quot;: \\&quot;false\\&quot;,&quot; +\n    &quot;                                \\&quot;isValidAccount\\&quot;: \\&quot;true\\&quot;&quot; +\n    &quot;                            },&quot; +\n    &quot;                            \\&quot;mobile\\&quot;: {&quot; +\n    &quot;                                \\&quot;mobileExists\\&quot;: \\&quot;true\\&quot;&quot; +\n    &quot;                            }&quot; +\n    &quot;                        }&quot; +\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;isValidAccount&quot; : &quot;true&quot;\n}\n</code></pre>\n<p>If you only want the key name</p>\n<pre><code>String firstTureKey = josson.getString(\n    &quot;data.failure_data.details.data.server_response&quot; +\n    &quot;.generalDetails.**.mergeObjects().assort().[*].keys().[0]&quot;);\nSystem.out.println(firstTureKey);\n</code></pre>\n<p>Output</p>\n<pre><code>isValidAccount\n</code></pre>\n"}],"owner":{"account_id":5347729,"reputation":727,"user_id":4262784,"display_name":"Andres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74089485,"answer_count":2,"score":0,"last_activity_date":1665947816,"creation_date":1665939401,"question_id":74089067,"body_markdown":"I&#39;m getting this deeply nested JSON response from an api that I have no control,\r\n\r\nWhat should be the best way to get to &quot;generalDetails&quot; and then find the first true value under security, address, account and mobile?\r\n\r\n```\r\n{\r\n    &quot;info_code&quot;: &quot;201&quot;,\r\n    &quot;info_description&quot;: &quot;info description&quot;,\r\n    &quot;data&quot;: {\r\n        &quot;status&quot;: &quot;here goes the status&quot;,\r\n        &quot;failure_data&quot;: {\r\n            &quot;source&quot;: &quot;anySource&quot;,\r\n            &quot;details&quot;: {\r\n                &quot;data&quot;: {\r\n                    &quot;server_response&quot;: {\r\n                        &quot;generalDetails&quot;: {\r\n                            &quot;security&quot;: {\r\n                                &quot;isAccountLocked&quot;: &quot;false&quot;\r\n                            },\r\n                            &quot;address&quot;: {\r\n                                &quot;isAddresExists&quot;: &quot;true&quot;\r\n                            },\r\n                            &quot;account&quot;: {\r\n                                &quot;accountExists&quot;: &quot;true&quot;,\r\n                                &quot;isValidAccount&quot;: &quot;true&quot;\r\n                            },\r\n                            &quot;mobile&quot;: {\r\n                                &quot;mobileExists&quot;: &quot;true&quot;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy request looks like:\r\n\r\n```\r\n@Autowired\r\nprivate WebClient.Builder webClientBuilder;\r\n\r\n\r\nString resp = webClientBuilder.build().get().uri(URL)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .retrieve()\r\n                    .bodyToMono(String.class).block();\r\n\r\n```","title":"Deeply nested JSON response from third party","body":"<p>I'm getting this deeply nested JSON response from an api that I have no control,</p>\n<p>What should be the best way to get to &quot;generalDetails&quot; and then find the first true value under security, address, account and mobile?</p>\n<pre><code>{\n    &quot;info_code&quot;: &quot;201&quot;,\n    &quot;info_description&quot;: &quot;info description&quot;,\n    &quot;data&quot;: {\n        &quot;status&quot;: &quot;here goes the status&quot;,\n        &quot;failure_data&quot;: {\n            &quot;source&quot;: &quot;anySource&quot;,\n            &quot;details&quot;: {\n                &quot;data&quot;: {\n                    &quot;server_response&quot;: {\n                        &quot;generalDetails&quot;: {\n                            &quot;security&quot;: {\n                                &quot;isAccountLocked&quot;: &quot;false&quot;\n                            },\n                            &quot;address&quot;: {\n                                &quot;isAddresExists&quot;: &quot;true&quot;\n                            },\n                            &quot;account&quot;: {\n                                &quot;accountExists&quot;: &quot;true&quot;,\n                                &quot;isValidAccount&quot;: &quot;true&quot;\n                            },\n                            &quot;mobile&quot;: {\n                                &quot;mobileExists&quot;: &quot;true&quot;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>My request looks like:</p>\n<pre><code>@Autowired\nprivate WebClient.Builder webClientBuilder;\n\n\nString resp = webClientBuilder.build().get().uri(URL)\n                    .accept(MediaType.APPLICATION_JSON)\n                    .retrieve()\n                    .bodyToMono(String.class).block();\n\n</code></pre>\n"},{"tags":["java","android","object","reference","tinydb"],"answers":[{"tags":[],"owner":{"account_id":11771693,"reputation":248,"user_id":8743921,"display_name":"Xay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521267659,"creation_date":1521267659,"answer_id":49333135,"question_id":49333116,"body_markdown":" You have to create Object of Your TinyDB class like :-\r\n\r\n    TinyDB tinyDB = new TinyDB();\r\n\r\n ","title":"TinyDB error putint null object reference android","body":"<p>You have to create Object of Your TinyDB class like :-</p>\n\n<pre><code>TinyDB tinyDB = new TinyDB();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8835542,"reputation":3375,"user_id":6600000,"display_name":"Keivan Esbati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521269498,"creation_date":1521269498,"answer_id":49333349,"question_id":49333116,"body_markdown":"You should properly initiate your **TinyDB** before using it!\r\n\r\nFor Example in `Activity`:\r\n\r\n    TinyDB tinyDB = new TinyDB(this); \r\n    tinyDB.putInt(&quot;hadi&quot; , 10);\r\n\r\nor in `Fragment`:\r\n\r\n    TinyDB tinyDB = new TinyDB(getContext()); \r\n    tinyDB.putInt(&quot;hadi&quot; , 10);\r\n\r\n**TinyDB** is just a simple wrapper around `SharedPreferences` so it is important that you provide a valid `Context` to it to initiate `SharedPreferences`","title":"TinyDB error putint null object reference android","body":"<p>You should properly initiate your <strong>TinyDB</strong> before using it!</p>\n\n<p>For Example in <code>Activity</code>:</p>\n\n<pre><code>TinyDB tinyDB = new TinyDB(this); \ntinyDB.putInt(\"hadi\" , 10);\n</code></pre>\n\n<p>or in <code>Fragment</code>:</p>\n\n<pre><code>TinyDB tinyDB = new TinyDB(getContext()); \ntinyDB.putInt(\"hadi\" , 10);\n</code></pre>\n\n<p><strong>TinyDB</strong> is just a simple wrapper around <code>SharedPreferences</code> so it is important that you provide a valid <code>Context</code> to it to initiate <code>SharedPreferences</code></p>\n"},{"tags":[],"owner":{"account_id":22070162,"reputation":19,"user_id":16331278,"display_name":"ratim shariar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665947789,"creation_date":1665947789,"answer_id":74090053,"question_id":49333116,"body_markdown":"You are getting error because you are passing context before Oncreate just pass the context after oncreate donot make it global variable.","title":"TinyDB error putint null object reference android","body":"<p>You are getting error because you are passing context before Oncreate just pass the context after oncreate donot make it global variable.</p>\n"}],"owner":{"account_id":13095366,"reputation":129,"user_id":9461437,"display_name":"Hadi Ahmadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":49333135,"answer_count":3,"score":-1,"last_activity_date":1665947789,"creation_date":1521267497,"question_id":49333116,"body_markdown":"[TinyDb class is here][1]\r\n\r\nim using it simply by default codes like : `TinyDB tinyDB = new TinyDB(MyActivity.this);` and `        tinyDB.putInt(&quot;hadi&quot; , 10);`\r\n\r\nbut im getting an error that i cant understand . it say tinyDB is  null object reference . you can see the error below : \r\n\r\n    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.ahmadi.TinyDB.TinyDB.putInt(java.lang.String, int)&#39; on a null object reference\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo","title":"TinyDB error putint null object reference android","body":"<p><a href=\"https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo\" rel=\"nofollow noreferrer\">TinyDb class is here</a></p>\n\n<p>im using it simply by default codes like : <code>TinyDB tinyDB = new TinyDB(MyActivity.this);</code> and <code>tinyDB.putInt(\"hadi\" , 10);</code></p>\n\n<p>but im getting an error that i cant understand . it say tinyDB is  null object reference . you can see the error below : </p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.ahmadi.TinyDB.TinyDB.putInt(java.lang.String, int)' on a null object reference\n</code></pre>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665946491,"post_id":74089806,"comment_id":130813051,"body_markdown":"What about `count(/html/body/hr)`  ?","body":"What about <code>count(&#47;html&#47;body&#47;hr)</code>  ?"},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":0,"creation_date":1665947274,"post_id":74089806,"comment_id":130813226,"body_markdown":"thanks; that worked and I&#39;m getting a `XPathConstants.NUMBER` now. I will leave my question up because I think `/html/body/count(hr)` should have been the equivalent","body":"thanks; that worked and I&#39;m getting a <code>XPathConstants.NUMBER</code> now. I will leave my question up because I think <code>&#47;html&#47;body&#47;count(hr)</code> should have been the equivalent"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1665947689,"post_id":74089806,"comment_id":130813319,"body_markdown":"Pleased to be able to help. I expanded my comment into a full answer. Please accept :)","body":"Pleased to be able to help. I expanded my comment into a full answer. Please accept :)"}],"answers":[{"tags":[],"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665947664,"creation_date":1665947664,"answer_id":74090037,"question_id":74089806,"body_markdown":"You need a count of the tags at that path. The path is `/html/body/hr`.\r\n\r\n`count()` is a function, not a tag or part of a path. So `count()` cannot come after `/html/body/` because then it&#39;s looking for a `count` tag, and probably doesn&#39;t know what the `()` is.\r\n\r\nSo try:\r\n\r\n    count(/html/body/hr)","title":"how can (Java) XPath return a number?","body":"<p>You need a count of the tags at that path. The path is <code>/html/body/hr</code>.</p>\n<p><code>count()</code> is a function, not a tag or part of a path. So <code>count()</code> cannot come after <code>/html/body/</code> because then it's looking for a <code>count</code> tag, and probably doesn't know what the <code>()</code> is.</p>\n<p>So try:</p>\n<pre><code>count(/html/body/hr)\n</code></pre>\n"}],"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74090037,"answer_count":1,"score":0,"last_activity_date":1665947664,"creation_date":1665945662,"question_id":74089806,"body_markdown":"My XPath is just `/html/body/count(hr)`. I want to count the number of XHTML horizontal rules. This is for a test assertion, so if the number changes I want the assertion diagnostic text to reflect the number.\r\n\r\nBut `xpath.compile(xpathExpression)` throws &quot;javax.xml.transform.TransformerException: Unknown nodetype: count&quot;\r\n\r\nEl Goog says that an XPath expression can return a number; so can (Java&#39;s) XPath mechanics access it?\r\n\r\n----\r\n\r\nalso this must fit inside an Android tablet&#39;s tests, so I can&#39;t use any third party XML parser that would destabilize my build. Saxon could do it\r\n","title":"how can (Java) XPath return a number?","body":"<p>My XPath is just <code>/html/body/count(hr)</code>. I want to count the number of XHTML horizontal rules. This is for a test assertion, so if the number changes I want the assertion diagnostic text to reflect the number.</p>\n<p>But <code>xpath.compile(xpathExpression)</code> throws &quot;javax.xml.transform.TransformerException: Unknown nodetype: count&quot;</p>\n<p>El Goog says that an XPath expression can return a number; so can (Java's) XPath mechanics access it?</p>\n<hr />\n<p>also this must fit inside an Android tablet's tests, so I can't use any third party XML parser that would destabilize my build. Saxon could do it</p>\n"},{"tags":["java","list","duplicates","boolean"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665942408,"creation_date":1665942090,"answer_id":74089387,"question_id":74089281,"body_markdown":"If I understood the problem correctly, you want to reject existing `Customer`s based on their `phone` while adding a *new customer* int the `CabCustomerService`.\r\n\r\nFor that you can maintain a [`HashSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html), which a hash-based collection of unique elements, containing a *phone* of all *current customers* and before adding a *new customer* to the *list* offer their *phone* to the *set*. The *customer* should be added only if their *phone* would not be rejected by the *set*, i.e. if [`Set.add()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#add(E)) would return `true`.\r\n\r\n    public class CabCustomerService {\r\n        private List&lt;CabCustomer&gt; customerList = new ArrayList&lt;&gt;();\r\n        private Set&lt;String&gt; customerPhones = new HashSet&lt;&gt;();\r\n        \r\n        public void addCabCustomer(CabCustomer customer) {\r\n            if (customerPhones.add(customer.getPhone())) {\r\n                customerList.add(customer);\r\n            }\r\n        }\r\n    }\r\n\r\nYou also might want to learn what are the benefits of using abstractions like `List` instead of concrete classes. See https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"Check for duplicate in a List of class objects and return list of boolean values","body":"<p>If I understood the problem correctly, you want to reject existing <code>Customer</code>s based on their <code>phone</code> while adding a <em>new customer</em> int the <code>CabCustomerService</code>.</p>\n<p>For that you can maintain a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a>, which a hash-based collection of unique elements, containing a <em>phone</em> of all <em>current customers</em> and before adding a <em>new customer</em> to the <em>list</em> offer their <em>phone</em> to the <em>set</em>. The <em>customer</em> should be added only if their <em>phone</em> would not be rejected by the <em>set</em>, i.e. if <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#add(E)\" rel=\"nofollow noreferrer\"><code>Set.add()</code></a> would return <code>true</code>.</p>\n<pre><code>public class CabCustomerService {\n    private List&lt;CabCustomer&gt; customerList = new ArrayList&lt;&gt;();\n    private Set&lt;String&gt; customerPhones = new HashSet&lt;&gt;();\n    \n    public void addCabCustomer(CabCustomer customer) {\n        if (customerPhones.add(customer.getPhone())) {\n            customerList.add(customer);\n        }\n    }\n}\n</code></pre>\n<p>You also might want to learn what are the benefits of using abstractions like <code>List</code> instead of concrete classes. See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665946644,"creation_date":1665946644,"answer_id":74089925,"question_id":74089281,"body_markdown":"**You can try the below approach in order to get the desired list of boolean values corresponding to the customer data.**\r\n\r\n**Approach:**\r\n\r\n*Here in `addCabCustomer(CabCustomer customer)` method, I have checked whether the customerList contains any customer with the same phone number of the customer that needs to be add.If not then add the upcoming customer in the customerList and updated the flag accordingly*\r\n\r\n**CabCustomerService.java**\r\n\r\n    public class CabCustomerService {\r\n        \r\n        private List&lt;CabCustomer&gt; customerList = new ArrayList&lt;&gt;();\r\n    \r\n        public boolean addCabCustomer(CabCustomer customer) {\r\n            boolean added = false;\r\n            if(!customerList.stream().map(CabCustomer::getPhone)\r\n                    .collect(Collectors.toList()).contains(customer.getPhone())){\r\n                added = true;\r\n                customerList.add(customer);\r\n            }\r\n            return added;\r\n        }\r\n    \r\n        public List&lt;CabCustomer&gt; getCustomerList() {\r\n            return customerList;\r\n        }\r\n    }\r\n\r\n**CabCustomerServiceTester.java**\r\n\r\n    public class CabCustomerServiceTester {\r\n        public static void main(String[] args) {\r\n            CabCustomer cb=new CabCustomer(101, &quot;David&quot;, &quot;Jersey&quot;, &quot;New York&quot;, 1, &quot;123&quot;);\r\n            CabCustomer cb1=new CabCustomer(102, &quot;John&quot;, &quot;Houston&quot;, &quot;Boston&quot;, 3, &quot;000&quot;);\r\n            CabCustomer cb2=new CabCustomer(103, &quot;Connor&quot;,&quot;California&quot;, &quot;Alaska&quot;, 4, &quot;123&quot;);\r\n            CabCustomer cb3=new CabCustomer(104, &quot;Mark&quot;, &quot;Los Angeles&quot;, &quot;Nevada&quot;, 5, &quot;321&quot;);\r\n        \r\n            List&lt;CabCustomer&gt; listInitial = Arrays.asList(cb,cb1,cb2,cb3);\r\n        \r\n            CabCustomerService ccs= new CabCustomerService();\r\n            List&lt;Boolean&gt; customerAddedFlagList = new ArrayList&lt;&gt;();\r\n        \r\n            listInitial.forEach(cabCustomer -&gt; customerAddedFlagList.add(ccs.addCabCustomer(cabCustomer)));\r\n            System.out.println(&quot;list indicating whether customer is added or not:: &quot; + customerAddedFlagList);\r\n            System.out.println(&quot;list with unique customer data:: &quot; + ccs.getCustomerList());\r\n            }\r\n    }\r\n\r\n**Output::**\r\n\r\n    list indicating whether customer is added or not:: [true, true, false, true]\r\n    list with unique customer data:: \r\n    [CabCustomer{custId=101, distance=1, customerName=&#39;David&#39;, pickupLocation=&#39;Jersey&#39;, dropLocation=&#39;New York&#39;, phone=&#39;123&#39;}, CabCustomer{custId=102, distance=3, customerName=&#39;John&#39;, pickupLocation=&#39;Houston&#39;, dropLocation=&#39;Boston&#39;, phone=&#39;000&#39;}, CabCustomer{custId=104, distance=5, customerName=&#39;Mark&#39;, pickupLocation=&#39;Los Angeles&#39;, dropLocation=&#39;Nevada&#39;, phone=&#39;321&#39;}]\r\n\r\n","title":"Check for duplicate in a List of class objects and return list of boolean values","body":"<p><strong>You can try the below approach in order to get the desired list of boolean values corresponding to the customer data.</strong></p>\n<p><strong>Approach:</strong></p>\n<p><em>Here in <code>addCabCustomer(CabCustomer customer)</code> method, I have checked whether the customerList contains any customer with the same phone number of the customer that needs to be add.If not then add the upcoming customer in the customerList and updated the flag accordingly</em></p>\n<p><strong>CabCustomerService.java</strong></p>\n<pre><code>public class CabCustomerService {\n    \n    private List&lt;CabCustomer&gt; customerList = new ArrayList&lt;&gt;();\n\n    public boolean addCabCustomer(CabCustomer customer) {\n        boolean added = false;\n        if(!customerList.stream().map(CabCustomer::getPhone)\n                .collect(Collectors.toList()).contains(customer.getPhone())){\n            added = true;\n            customerList.add(customer);\n        }\n        return added;\n    }\n\n    public List&lt;CabCustomer&gt; getCustomerList() {\n        return customerList;\n    }\n}\n</code></pre>\n<p><strong>CabCustomerServiceTester.java</strong></p>\n<pre><code>public class CabCustomerServiceTester {\n    public static void main(String[] args) {\n        CabCustomer cb=new CabCustomer(101, &quot;David&quot;, &quot;Jersey&quot;, &quot;New York&quot;, 1, &quot;123&quot;);\n        CabCustomer cb1=new CabCustomer(102, &quot;John&quot;, &quot;Houston&quot;, &quot;Boston&quot;, 3, &quot;000&quot;);\n        CabCustomer cb2=new CabCustomer(103, &quot;Connor&quot;,&quot;California&quot;, &quot;Alaska&quot;, 4, &quot;123&quot;);\n        CabCustomer cb3=new CabCustomer(104, &quot;Mark&quot;, &quot;Los Angeles&quot;, &quot;Nevada&quot;, 5, &quot;321&quot;);\n    \n        List&lt;CabCustomer&gt; listInitial = Arrays.asList(cb,cb1,cb2,cb3);\n    \n        CabCustomerService ccs= new CabCustomerService();\n        List&lt;Boolean&gt; customerAddedFlagList = new ArrayList&lt;&gt;();\n    \n        listInitial.forEach(cabCustomer -&gt; customerAddedFlagList.add(ccs.addCabCustomer(cabCustomer)));\n        System.out.println(&quot;list indicating whether customer is added or not:: &quot; + customerAddedFlagList);\n        System.out.println(&quot;list with unique customer data:: &quot; + ccs.getCustomerList());\n        }\n}\n</code></pre>\n<p><strong>Output::</strong></p>\n<pre><code>list indicating whether customer is added or not:: [true, true, false, true]\nlist with unique customer data:: \n[CabCustomer{custId=101, distance=1, customerName='David', pickupLocation='Jersey', dropLocation='New York', phone='123'}, CabCustomer{custId=102, distance=3, customerName='John', pickupLocation='Houston', dropLocation='Boston', phone='000'}, CabCustomer{custId=104, distance=5, customerName='Mark', pickupLocation='Los Angeles', dropLocation='Nevada', phone='321'}]\n</code></pre>\n"}],"owner":{"account_id":17142615,"reputation":13,"user_id":12406267,"display_name":"Vikas Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665946644,"creation_date":1665941087,"question_id":74089281,"body_markdown":"I want a list of boolean values corresponding to the values in an ArrayList. For ex- I have a class of customer with data like name, address, phone, etc. **The phono is in String Format**. Now I&#39;m taking an ArrayList to store customer objects. Now I&#39;d want to know which customers are new and which customers are existing based on their phono, if their phono is repeated in ArrayList then a method should return false or else true.\r\n\r\n    package cabServiceProgram;\r\n    \r\n    class CabCustomer\r\n    {\r\n    private int custId, distance;\r\n    private String customerName, pickupLocation, dropLocation, phone;\r\n    \r\n    public CabCustomer()\r\n    {\r\n    \tthis.custId         = 0;\r\n    \tthis.distance       = 0;\r\n    \tthis.customerName   = null;\r\n    \tthis.pickupLocation = null;\r\n    \tthis.dropLocation   = null;\r\n    \tthis.phone          = null;\r\n    }\r\n    \r\n    public CabCustomer(int custId, String customerName,String pickupLocation,String dropLocation, int distance,\r\n    \t\tString phone)\r\n    {\r\n    \tthis.custId         = custId;\r\n    \tthis.distance       = distance;\r\n    \tthis.customerName   = customerName;\r\n    \tthis.pickupLocation = pickupLocation;\r\n    \tthis.dropLocation   = dropLocation;\r\n    \tthis.phone          = phone;\r\n    }\r\n    public int getCustId()\r\n    {\r\n    \treturn custId;\r\n    }\r\n    public void setCustId(int custId)\r\n    {\r\n    \tthis.custId = custId;\r\n    }\r\n    public int getDistance()\r\n    {\r\n    \treturn distance;\r\n    }\r\n    public void setDistance(int distance)\r\n    {\r\n    \tthis.distance = distance;\r\n    }\r\n    public String getCustomerName()\r\n    {\r\n    \treturn customerName;\r\n    }\r\n    public void setCustomerName(String customerName)\r\n    {\r\n    \tthis.customerName = customerName;\r\n    }\r\n    public String getPickupLocation()\r\n    {\r\n    \treturn pickupLocation;\r\n    }\r\n    public void setPickupLocation(String pickupLocation)\r\n    {\r\n    \tthis.pickupLocation = pickupLocation;\r\n    }\r\n    public String getDropLocation()\r\n    {\r\n    \treturn dropLocation;\r\n    }\r\n    public void setDropLocation(String dropLocation)\r\n    {\r\n    \tthis.dropLocation = dropLocation;\r\n    }\r\n    public String getPhone()\r\n    {\r\n    \treturn phone;\r\n    }\r\n    public void setPhone(String phone)\r\n    {\r\n    \tthis.phone = phone;\r\n    }\r\n    }\r\n\r\n    package cabServiceProgram;\r\n\r\n    class CabCustomerService\r\n    {\r\n    \tprivate ArrayList&lt;CabCustomer&gt; customerList = new ArrayList&lt;CabCustomer&gt;();\r\n    \r\n    \tpublic void addCabCustomer(CabCustomer customer)\r\n    \t{\r\n    \t\tcustomerList.add(customer);\r\n    \t}\r\n    }\r\n\r\n    package cabServiceProgram;\r\n   \r\n    public class CabCustomerServiceTester\r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tCabCustomer cb=new CabCustomer(101, &quot;David&quot;, &quot;Jersey&quot;, &quot;New York&quot;, 1, &quot;123&quot;);\r\n\t\tCabCustomer cb1=new CabCustomer(102, &quot;John&quot;, &quot;Houston&quot;, &quot;Boston&quot;, 3, &quot;000&quot;);\r\n\t\tCabCustomer cb2=new CabCustomer(103, &quot;Connor&quot;,&quot;California&quot;, &quot;Alaska&quot;, 4, &quot;123&quot;);\r\n\t\tCabCustomer cb3=new CabCustomer(104, &quot;Mark&quot;, &quot;Los Angeles&quot;, &quot;Nevada&quot;, 5, &quot;321&quot;);\r\n\t\tCabCustomerService ccs= new CabCustomerService();\r\n\t\tccs.addCabCustomer(cb);\r\n\t\tccs.addCabCustomer(cb1);\r\n\t\tccs.addCabCustomer(cb2);\r\n\t\tccs.addCabCustomer(cb3);\r\n\t}\r\n    }\r\n","title":"Check for duplicate in a List of class objects and return list of boolean values","body":"<p>I want a list of boolean values corresponding to the values in an ArrayList. For ex- I have a class of customer with data like name, address, phone, etc. <strong>The phono is in String Format</strong>. Now I'm taking an ArrayList to store customer objects. Now I'd want to know which customers are new and which customers are existing based on their phono, if their phono is repeated in ArrayList then a method should return false or else true.</p>\n<pre><code>package cabServiceProgram;\n\nclass CabCustomer\n{\nprivate int custId, distance;\nprivate String customerName, pickupLocation, dropLocation, phone;\n\npublic CabCustomer()\n{\n    this.custId         = 0;\n    this.distance       = 0;\n    this.customerName   = null;\n    this.pickupLocation = null;\n    this.dropLocation   = null;\n    this.phone          = null;\n}\n\npublic CabCustomer(int custId, String customerName,String pickupLocation,String dropLocation, int distance,\n        String phone)\n{\n    this.custId         = custId;\n    this.distance       = distance;\n    this.customerName   = customerName;\n    this.pickupLocation = pickupLocation;\n    this.dropLocation   = dropLocation;\n    this.phone          = phone;\n}\npublic int getCustId()\n{\n    return custId;\n}\npublic void setCustId(int custId)\n{\n    this.custId = custId;\n}\npublic int getDistance()\n{\n    return distance;\n}\npublic void setDistance(int distance)\n{\n    this.distance = distance;\n}\npublic String getCustomerName()\n{\n    return customerName;\n}\npublic void setCustomerName(String customerName)\n{\n    this.customerName = customerName;\n}\npublic String getPickupLocation()\n{\n    return pickupLocation;\n}\npublic void setPickupLocation(String pickupLocation)\n{\n    this.pickupLocation = pickupLocation;\n}\npublic String getDropLocation()\n{\n    return dropLocation;\n}\npublic void setDropLocation(String dropLocation)\n{\n    this.dropLocation = dropLocation;\n}\npublic String getPhone()\n{\n    return phone;\n}\npublic void setPhone(String phone)\n{\n    this.phone = phone;\n}\n}\n\npackage cabServiceProgram;\n\nclass CabCustomerService\n{\n    private ArrayList&lt;CabCustomer&gt; customerList = new ArrayList&lt;CabCustomer&gt;();\n\n    public void addCabCustomer(CabCustomer customer)\n    {\n        customerList.add(customer);\n    }\n}\n\npackage cabServiceProgram;\n\npublic class CabCustomerServiceTester\n{\npublic static void main(String[] args)\n{\n    CabCustomer cb=new CabCustomer(101, &quot;David&quot;, &quot;Jersey&quot;, &quot;New York&quot;, 1, &quot;123&quot;);\n    CabCustomer cb1=new CabCustomer(102, &quot;John&quot;, &quot;Houston&quot;, &quot;Boston&quot;, 3, &quot;000&quot;);\n    CabCustomer cb2=new CabCustomer(103, &quot;Connor&quot;,&quot;California&quot;, &quot;Alaska&quot;, 4, &quot;123&quot;);\n    CabCustomer cb3=new CabCustomer(104, &quot;Mark&quot;, &quot;Los Angeles&quot;, &quot;Nevada&quot;, 5, &quot;321&quot;);\n    CabCustomerService ccs= new CabCustomerService();\n    ccs.addCabCustomer(cb);\n    ccs.addCabCustomer(cb1);\n    ccs.addCabCustomer(cb2);\n    ccs.addCabCustomer(cb3);\n}\n}\n</code></pre>\n"},{"tags":["java","string","repeat"],"comments":[{"owner":{"account_id":12942920,"reputation":463,"user_id":9358141,"display_name":"Shiva Sai"},"score":1,"creation_date":1665899917,"post_id":74084898,"comment_id":130804354,"body_markdown":"brother please use two pointer technique,\n\ni =0;\nj=0;\n\nand make code to run until I is less than string length.\nwhile(i&lt;str.length())\n\nand in the while loop, please increment J until there is duplicate character, and keep track of the count. once you find the unique char. change value of i = j; and so on","body":"brother please use two pointer technique,  i =0; j=0;  and make code to run until I is less than string length. while(i&lt;str.length())  and in the while loop, please increment J until there is duplicate character, and keep track of the count. once you find the unique char. change value of i = j; and so on"}],"answers":[{"tags":[],"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665901067,"creation_date":1665901067,"answer_id":74085015,"question_id":74084898,"body_markdown":"You can use a function which has the following 3 parameters : result, anch, count  .\r\n\r\nsomething of this sort: \r\n \r\n\r\n      private static String extractedFunction(String result,int count, char anch) {\r\n                   \r\n                    return count ==1 ? (result + anch) : (result +anch+Integer.toString(count) );\r\n                }\r\n\r\nmake a function call from those two points like this : \r\n  \r\n\r\n    result = extractedFunction(result,count,anch);\r\n                      ","title":"How to remove repeating code in this solution?","body":"<p>You can use a function which has the following 3 parameters : result, anch, count  .</p>\n<p>something of this sort:</p>\n<pre><code>  private static String extractedFunction(String result,int count, char anch) {\n               \n                return count ==1 ? (result + anch) : (result +anch+Integer.toString(count) );\n            }\n</code></pre>\n<p>make a function call from those two points like this :</p>\n<pre><code>result = extractedFunction(result,count,anch);\n                  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":21009405,"reputation":654,"user_id":15438360,"display_name":"Muhammad Khuzaima Umair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665907906,"creation_date":1665901622,"answer_id":74085051,"question_id":74084898,"body_markdown":"Since, the body of the `else` and second `if` is the same, so we can merge them by updating the condition. The updated body of the function will be:\r\n```java\r\nString result = &quot;&quot;;\r\nchar anch = str.charAt(0);\r\nint count = 0;\r\n\r\nchar ch = str.charAt(0); // declare ch outside the loop, and initialize to avoid error\r\nfor (int i = 0; i &lt; str.length(); i++) {\r\n    ch = str.charAt(i);\r\n\r\n    if (ch == anch) {\r\n        count++;\r\n    }\r\n    // check if the second condition is false, or if we are at the end of the string\r\n    if (ch != anch || i == str.length() - 1) {\r\n        if (count == 1) { // from here\r\n            result += anch;\r\n        } else {\r\n            result += anch + Integer.toString(count);\r\n        } // to here\r\n        anch = ch;\r\n        count = 1;\r\n    }\r\n}\r\n\r\n// add the condition\r\n// if count is greater than or\r\n// if the last character added already to the result\r\nif (count &gt; 1 || (len &lt; 2 || result.charAt(len - 2) != ch)) {\r\n    result += ch;\r\n}\r\n\r\nreturn result;\r\n```\r\n### Test Cases:\r\nI have tested the solution on the following inputs: \r\n```\r\naaabbccdsa -&gt; a3b2c2dsa\r\naaab -&gt; a3b\r\naaa -&gt; a3\r\nab -&gt; ab\r\naabbc -&gt; a2b2c\r\n```\r\n\r\n### Optional\r\nIf you want to make it shorter, you can update these 2 conditions.\r\n```java\r\nif (count == 1) { // from here\r\n    result += anch;\r\n} else {\r\n    result += anch + Integer.toString(count);\r\n} // to here\r\n```\r\nas\r\n```java\r\nresult += anch;\r\nif (count != 1) { // from here\r\n    result += count;// no need to convert (implicit conversion)\r\n} // to here\r\n```","title":"How to remove repeating code in this solution?","body":"<p>Since, the body of the <code>else</code> and second <code>if</code> is the same, so we can merge them by updating the condition. The updated body of the function will be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = &quot;&quot;;\nchar anch = str.charAt(0);\nint count = 0;\n\nchar ch = str.charAt(0); // declare ch outside the loop, and initialize to avoid error\nfor (int i = 0; i &lt; str.length(); i++) {\n    ch = str.charAt(i);\n\n    if (ch == anch) {\n        count++;\n    }\n    // check if the second condition is false, or if we are at the end of the string\n    if (ch != anch || i == str.length() - 1) {\n        if (count == 1) { // from here\n            result += anch;\n        } else {\n            result += anch + Integer.toString(count);\n        } // to here\n        anch = ch;\n        count = 1;\n    }\n}\n\n// add the condition\n// if count is greater than or\n// if the last character added already to the result\nif (count &gt; 1 || (len &lt; 2 || result.charAt(len - 2) != ch)) {\n    result += ch;\n}\n\nreturn result;\n</code></pre>\n<h3>Test Cases:</h3>\n<p>I have tested the solution on the following inputs:</p>\n<pre><code>aaabbccdsa -&gt; a3b2c2dsa\naaab -&gt; a3b\naaa -&gt; a3\nab -&gt; ab\naabbc -&gt; a2b2c\n</code></pre>\n<h3>Optional</h3>\n<p>If you want to make it shorter, you can update these 2 conditions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (count == 1) { // from here\n    result += anch;\n} else {\n    result += anch + Integer.toString(count);\n} // to here\n</code></pre>\n<p>as</p>\n<pre class=\"lang-java prettyprint-override\"><code>result += anch;\nif (count != 1) { // from here\n    result += count;// no need to convert (implicit conversion)\n} // to here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665904675,"creation_date":1665903668,"answer_id":74085180,"question_id":74084898,"body_markdown":"***You can use this approach as explained below:***\r\n\r\n**Code:**\r\n\r\n  \r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            String s = &quot;aaabbccdsaccbbaaadsa&quot;;\r\n            char[] strArray = s.toCharArray();\r\n            char ch0 = strArray[0];\r\n            int counter = 0;\r\n            StringBuilder sb = new StringBuilder();\r\n            for(int i=0;i&lt;strArray.length;i++){\r\n                if(ch0 == strArray[i]){//check for consecutive characters and increment the counter\r\n                    counter++;\r\n                } else { // when character changes while iterating\r\n                    sb.append(ch0 + &quot;&quot; + (counter &gt; 1 ? counter : &quot;&quot;));\r\n                    counter = 1; // reset the counter to 1\r\n                    ch0 = strArray[i]; // reset the ch0 with the current character\r\n                }\r\n                if(i == strArray.length-1){// case for last element of the string\r\n                    sb.append(ch0 + &quot;&quot; + (counter &gt; 1 ? counter : &quot;&quot;));\r\n                }\r\n            }\r\n            System.out.println(sb);\r\n        }\r\n    }\r\n\r\n**Sample Input/Output:**\r\n\r\n    Input:: aaabbccdsaccbbaaadsa\r\n    Output:: a3b2c2dsac2b2a3dsa\r\n\r\n    Input:: abcdaaaaa\r\n    Output:: abcda5","title":"How to remove repeating code in this solution?","body":"<p><em><strong>You can use this approach as explained below:</strong></em></p>\n<p><strong>Code:</strong></p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String s = &quot;aaabbccdsaccbbaaadsa&quot;;\n        char[] strArray = s.toCharArray();\n        char ch0 = strArray[0];\n        int counter = 0;\n        StringBuilder sb = new StringBuilder();\n        for(int i=0;i&lt;strArray.length;i++){\n            if(ch0 == strArray[i]){//check for consecutive characters and increment the counter\n                counter++;\n            } else { // when character changes while iterating\n                sb.append(ch0 + &quot;&quot; + (counter &gt; 1 ? counter : &quot;&quot;));\n                counter = 1; // reset the counter to 1\n                ch0 = strArray[i]; // reset the ch0 with the current character\n            }\n            if(i == strArray.length-1){// case for last element of the string\n                sb.append(ch0 + &quot;&quot; + (counter &gt; 1 ? counter : &quot;&quot;));\n            }\n        }\n        System.out.println(sb);\n    }\n}\n</code></pre>\n<p><strong>Sample Input/Output:</strong></p>\n<pre><code>Input:: aaabbccdsaccbbaaadsa\nOutput:: a3b2c2dsac2b2a3dsa\n\nInput:: abcdaaaaa\nOutput:: abcda5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665904417,"creation_date":1665904417,"answer_id":74085242,"question_id":74084898,"body_markdown":"You can do something like this:\r\n```java\r\npublic static String getCompressedString(String str) {\r\n        String result = &quot;&quot;;\r\n        int count = 1;\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            if (i + 1 &lt; str.length() &amp;&amp; str.charAt(i) == str.charAt(i + 1)) {\r\n                count++;\r\n            } else {\r\n                if (count == 1) {\r\n                    result += str.charAt(i);\r\n                } else {\r\n                    result += str.charAt(i) + &quot;&quot; + count;\r\n                    count = 1;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nI got rid of the repeated code, and it do as intended.","title":"How to remove repeating code in this solution?","body":"<p>You can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getCompressedString(String str) {\n        String result = &quot;&quot;;\n        int count = 1;\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (i + 1 &lt; str.length() &amp;&amp; str.charAt(i) == str.charAt(i + 1)) {\n                count++;\n            } else {\n                if (count == 1) {\n                    result += str.charAt(i);\n                } else {\n                    result += str.charAt(i) + &quot;&quot; + count;\n                    count = 1;\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>I got rid of the repeated code, and it do as intended.</p>\n"},{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665906603,"creation_date":1665905485,"answer_id":74085325,"question_id":74084898,"body_markdown":"You could do away with the if statements.\r\n\r\n```java\r\n   public static String getCompressedString(String str) {\r\n        char[] a = str.toCharArray();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tfor(int i=0,j=0; i&lt;a.length; i=j){\r\n\t\t   for(j=i+1;j &lt; a.length &amp;&amp; a[i] == a[j]; j++);\r\n\t\t   sb.append(a[i]).append(j-i==1?&quot;&quot;:j-i);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n   }\r\n}\r\n```","title":"How to remove repeating code in this solution?","body":"<p>You could do away with the if statements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static String getCompressedString(String str) {\n        char[] a = str.toCharArray();\n        StringBuilder sb = new StringBuilder();\n        for(int i=0,j=0; i&lt;a.length; i=j){\n           for(j=i+1;j &lt; a.length &amp;&amp; a[i] == a[j]; j++);\n           sb.append(a[i]).append(j-i==1?&quot;&quot;:j-i);\n        }\n        return sb.toString();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665908474,"creation_date":1665907105,"answer_id":74085452,"question_id":74084898,"body_markdown":"Here&#39;s a single-statement solution using Stream API and regular expressions:\r\n\r\n    public static final Pattern GROUP_OF_ONE_OR_MORE = Pattern.compile(&quot;(.)\\\\1*&quot;);\r\n    \r\n    public static String getCompressedString(String str) {\r\n        \r\n        return GROUP_OF_ONE_OR_MORE.matcher(str).results()\r\n            .map(MatchResult::group)\r\n            .map(s -&gt; s.charAt(0) + (s.length() == 1 ? &quot;&quot; : String.valueOf(s.length())))\r\n            .collect(Collectors.joining());\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getCompressedString(&quot;aaabbccdsa&quot;));\r\n        System.out.println(getCompressedString(&quot;awswwwhhhp&quot;));\r\n    }\r\n\r\n*Output:*\r\n```\r\na3b2c2dsa   // &quot;aaabbccdsa&quot;\r\nawsw3h3p    // &quot;awswwwhhhp&quot;\r\n```\r\n\r\n&lt;h3&gt;How does it work&lt;/h3&gt;\r\n\r\nA regular expression `&quot;(.)\\\\1*&quot;` is capturing a group `(.)` of identical characters of length `1` or greater. Where `.` - denotes any symbol, and `\\\\1` is a [back reference](https://www.regular-expressions.info/backref.html) to the group.\r\n\r\nMethod [`Matcher.results()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()) *&quot;returns a stream of match results for each subsequence of the input sequence that matches the pattern&quot;*.\r\n\r\nThe only thing left is to evaluate the length of each group and transform it accordingly before collecting into the resulting String.\r\n\r\n***Links:***\r\n\r\n* &lt;sup&gt;A quick [tutorial](https://www.vogella.com/tutorials/JavaRegularExpressions/article.html) on Regular Expressions.&lt;/sup&gt;\r\n* &lt;sup&gt;Official tutorials on [lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) and [streams](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)&lt;/sup&gt;","title":"How to remove repeating code in this solution?","body":"<p>Here's a single-statement solution using Stream API and regular expressions:</p>\n<pre><code>public static final Pattern GROUP_OF_ONE_OR_MORE = Pattern.compile(&quot;(.)\\\\1*&quot;);\n\npublic static String getCompressedString(String str) {\n    \n    return GROUP_OF_ONE_OR_MORE.matcher(str).results()\n        .map(MatchResult::group)\n        .map(s -&gt; s.charAt(0) + (s.length() == 1 ? &quot;&quot; : String.valueOf(s.length())))\n        .collect(Collectors.joining());\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getCompressedString(&quot;aaabbccdsa&quot;));\n    System.out.println(getCompressedString(&quot;awswwwhhhp&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>a3b2c2dsa   // &quot;aaabbccdsa&quot;\nawsw3h3p    // &quot;awswwwhhhp&quot;\n</code></pre>\n<h3>How does it work</h3>\n<p>A regular expression <code>&quot;(.)\\\\1*&quot;</code> is capturing a group <code>(.)</code> of identical characters of length <code>1</code> or greater. Where <code>.</code> - denotes any symbol, and <code>\\\\1</code> is a <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">back reference</a> to the group.</p>\n<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a> <em>&quot;returns a stream of match results for each subsequence of the input sequence that matches the pattern&quot;</em>.</p>\n<p>The only thing left is to evaluate the length of each group and transform it accordingly before collecting into the resulting String.</p>\n<p><em><strong>Links:</strong></em></p>\n<ul>\n<li><sup>A quick <a href=\"https://www.vogella.com/tutorials/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">tutorial</a> on Regular Expressions.</sup></li>\n<li><sup>Official tutorials on <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expressions</a> and <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">streams</a></sup></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665917181,"creation_date":1665908338,"answer_id":74085542,"question_id":74084898,"body_markdown":"Try this.\r\n\r\n    static final Pattern PAT = Pattern.compile(&quot;(.)\\\\1*&quot;);\r\n\r\n    static String getCompressedString(String str) {\r\n        return PAT.matcher(str)\r\n            .replaceAll(m -&gt; m.group(1)\r\n                + (m.group().length() == 1 ? &quot;&quot; : m.group().length()));\r\n    }\r\n\r\n\r\nTest cases:\r\n\r\n    @Test\r\n    public void testGetCompressedString() {\r\n        assertEquals(&quot;&quot;, getCompressedString(&quot;&quot;));\r\n        assertEquals(&quot;a&quot;, getCompressedString(&quot;a&quot;));\r\n        assertEquals(&quot;abc&quot;, getCompressedString(&quot;abc&quot;));\r\n        assertEquals(&quot;abc3&quot;, getCompressedString(&quot;abccc&quot;));\r\n        assertEquals(&quot;a3b2c2dsa&quot;, getCompressedString(&quot;aaabbccdsa&quot;));\r\n    }\r\n\r\n\r\nThe regular expression `&quot;(.)\\\\1*&quot;` used here matches any sequence of identical characters. `.replaceAll()` takes a lambda expression as an argument, evaluates the lambda expression each time the pattern matches, and replaces the original string with the result.\r\nThe lambda expression is passed a `Matcher` object containing the results of the match. Here we are receiving this object in the variable `m`. `m.group()` returns the entire matched substring, `m.group(1)` returns its first character.\r\n\r\nIf the input string is `&quot;aaabbccdsa&quot;`, it will be processed as follows.\r\n\r\n    m.group(1)   m.group()  returned by lambda\r\n     a            aaa        a3\r\n     b            bb         b2\r\n     c            cc         c2\r\n     d            d          d\r\n     s            s          s\r\n     a            a          a","title":"How to remove repeating code in this solution?","body":"<p>Try this.</p>\n<pre><code>static final Pattern PAT = Pattern.compile(&quot;(.)\\\\1*&quot;);\n\nstatic String getCompressedString(String str) {\n    return PAT.matcher(str)\n        .replaceAll(m -&gt; m.group(1)\n            + (m.group().length() == 1 ? &quot;&quot; : m.group().length()));\n}\n</code></pre>\n<p>Test cases:</p>\n<pre><code>@Test\npublic void testGetCompressedString() {\n    assertEquals(&quot;&quot;, getCompressedString(&quot;&quot;));\n    assertEquals(&quot;a&quot;, getCompressedString(&quot;a&quot;));\n    assertEquals(&quot;abc&quot;, getCompressedString(&quot;abc&quot;));\n    assertEquals(&quot;abc3&quot;, getCompressedString(&quot;abccc&quot;));\n    assertEquals(&quot;a3b2c2dsa&quot;, getCompressedString(&quot;aaabbccdsa&quot;));\n}\n</code></pre>\n<p>The regular expression <code>&quot;(.)\\\\1*&quot;</code> used here matches any sequence of identical characters. <code>.replaceAll()</code> takes a lambda expression as an argument, evaluates the lambda expression each time the pattern matches, and replaces the original string with the result.\nThe lambda expression is passed a <code>Matcher</code> object containing the results of the match. Here we are receiving this object in the variable <code>m</code>. <code>m.group()</code> returns the entire matched substring, <code>m.group(1)</code> returns its first character.</p>\n<p>If the input string is <code>&quot;aaabbccdsa&quot;</code>, it will be processed as follows.</p>\n<pre><code>m.group(1)   m.group()  returned by lambda\n a            aaa        a3\n b            bb         b2\n c            cc         c2\n d            d          d\n s            s          s\n a            a          a\n</code></pre>\n"}],"owner":{"account_id":16571275,"reputation":405,"user_id":11974339,"display_name":"aekit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74085242,"answer_count":7,"score":1,"last_activity_date":1665944492,"creation_date":1665899518,"question_id":74084898,"body_markdown":"I have this code which compresses characters in the given string and replaces *repeated adjacent characters* with their **count**.\r\n\r\nConsider the following example:\r\n\r\n*Input:* \r\n```\r\naaabbccdsa\r\n```\r\n*Expecting output:*\r\n```\r\na3b2c2dsa\r\n```\r\nMy code is working properly but I think repeating if condition can be removed.\r\n```\r\npublic class Solution {\r\n\tpublic static String getCompressedString(String str) {\r\n\t\tString result = &quot;&quot;;\r\n        char anch = str.charAt(0);\r\n        int count = 0;\r\n\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            char ch = str.charAt(i);\r\n\r\n            if (ch == anch) {\r\n                count++;\r\n            } else {\r\n                if (count == 1) {           // from here\r\n                \tresult += anch;\r\n                } else {\r\n                \tresult += anch + Integer.toString(count);                    \r\n                }                         // to here\r\n\r\n                anch = ch;\r\n                count = 1;\r\n            }\r\n\r\n            if (i == str.length() - 1) {\r\n                if (count == 1) {           // from here\r\n                \tresult += anch;\r\n                } else {\r\n                \tresult += anch + Integer.toString(count);                    \r\n                }                         // to here\r\n            }\r\n        }\r\n\r\n        return result;\r\n\t}\r\n}\r\n```\r\n\r\nIn this solution code below is repeated two times\r\n```\r\nif (count == 1) {\r\n    result += anch;\r\n} else {\r\n    result += anch + Integer.toString(count);                    \r\n}\r\n```\r\n\r\nPlease, **note**, I **don&#39;t** want to use a separate method for repeating logic.","title":"How to remove repeating code in this solution?","body":"<p>I have this code which compresses characters in the given string and replaces <em>repeated adjacent characters</em> with their <strong>count</strong>.</p>\n<p>Consider the following example:</p>\n<p><em>Input:</em></p>\n<pre><code>aaabbccdsa\n</code></pre>\n<p><em>Expecting output:</em></p>\n<pre><code>a3b2c2dsa\n</code></pre>\n<p>My code is working properly but I think repeating if condition can be removed.</p>\n<pre><code>public class Solution {\n    public static String getCompressedString(String str) {\n        String result = &quot;&quot;;\n        char anch = str.charAt(0);\n        int count = 0;\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            char ch = str.charAt(i);\n\n            if (ch == anch) {\n                count++;\n            } else {\n                if (count == 1) {           // from here\n                    result += anch;\n                } else {\n                    result += anch + Integer.toString(count);                    \n                }                         // to here\n\n                anch = ch;\n                count = 1;\n            }\n\n            if (i == str.length() - 1) {\n                if (count == 1) {           // from here\n                    result += anch;\n                } else {\n                    result += anch + Integer.toString(count);                    \n                }                         // to here\n            }\n        }\n\n        return result;\n    }\n}\n</code></pre>\n<p>In this solution code below is repeated two times</p>\n<pre><code>if (count == 1) {\n    result += anch;\n} else {\n    result += anch + Integer.toString(count);                    \n}\n</code></pre>\n<p>Please, <strong>note</strong>, I <strong>don't</strong> want to use a separate method for repeating logic.</p>\n"},{"tags":["java","image","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1454706659,"creation_date":1454706659,"answer_id":35233581,"question_id":35227208,"body_markdown":"Why don&#39;t you resize it on the client before upload? That will save some bandwidth\r\n\r\n[BlueImp JQuery Upload][1] can do this\r\n\r\n\r\n  [1]: https://github.com/blueimp/jQuery-File-Upload/wiki/Client-side-Image-Resizing","title":"How to reduce size of a multipart file in java","body":"<p>Why don't you resize it on the client before upload? That will save some bandwidth</p>\n\n<p><a href=\"https://github.com/blueimp/jQuery-File-Upload/wiki/Client-side-Image-Resizing\" rel=\"nofollow\">BlueImp JQuery Upload</a> can do this</p>\n"},{"tags":[],"owner":{"account_id":8057896,"reputation":11,"user_id":6074381,"display_name":"gov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614067458,"creation_date":1614067458,"answer_id":66329237,"question_id":35227208,"body_markdown":"It was my first time taking a deep dive into the ImageIO package. I came across the MemoryCacheImageOutputStream, which allows you to write an image output stream to an output stream, i.e. ByteArrayOutputStream. From there, The data can be retrieved using toByteArray() and toString(), after compression. I used toByteArray, as I am storing images to postgresql and it stores the images as a byte array. I know this is late, but I hope it helps someone.\r\n\r\n    private byte[] compressImage(MultipartFile mpFile) {\r\n        float quality = 0.3f;\r\n        String imageName = mpFile.getOriginalFilename();\r\n        String imageExtension = imageName.substring(imageName.lastIndexOf(&quot;.&quot;) + 1);\r\n        // Returns an Iterator containing all currently registered ImageWriters that claim to be able to encode the named format.\r\n        // You don&#39;t have to register one yourself; some are provided.\r\n        ImageWriter imageWriter = ImageIO.getImageWritersByFormatName(imageExtension).next();\r\n        ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\r\n        imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT); // Check the api value that suites your needs.\r\n        // A compression quality setting of 0.0 is most generically interpreted as &quot;high compression is important,&quot;\r\n        // while a setting of 1.0 is most generically interpreted as &quot;high image quality is important.&quot;\r\n        imageWriteParam.setCompressionQuality(quality);\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        // MemoryCacheImageOutputStream: An implementation of ImageOutputStream that writes its output to a regular\r\n        // OutputStream, i.e. the ByteArrayOutputStream.\r\n        ImageOutputStream imageOutputStream = new MemoryCacheImageOutputStream(baos);\r\n        // Sets the destination to the given ImageOutputStream or other Object.\r\n        imageWriter.setOutput(imageOutputStream);\r\n        BufferedImage originalImage = null;\r\n        try (InputStream inputStream = mpFile.getInputStream()) {\r\n            originalImage = ImageIO.read(inputStream); \r\n        } catch (IOException e) {\r\n            String info = String.format(&quot;compressImage - bufferedImage (file %s)- IOException - message: %s &quot;, imageName, e.getMessage());\r\n            logger.error(info);\r\n            return baos.toByteArray();\r\n        }\r\n        IIOImage image = new IIOImage(originalImage, null, null);\r\n        try {\r\n            imageWriter.write(null, image, imageWriteParam);\r\n        } catch (IOException e) {\r\n            String info = String.format(&quot;compressImage - imageWriter (file %s)- IOException - message: %s &quot;, imageName, e.getMessage());\r\n            logger.error(info);\r\n        } finally {\r\n            imageWriter.dispose();\r\n        }\r\n        return baos.toByteArray();\r\n    }","title":"How to reduce size of a multipart file in java","body":"<p>It was my first time taking a deep dive into the ImageIO package. I came across the MemoryCacheImageOutputStream, which allows you to write an image output stream to an output stream, i.e. ByteArrayOutputStream. From there, The data can be retrieved using toByteArray() and toString(), after compression. I used toByteArray, as I am storing images to postgresql and it stores the images as a byte array. I know this is late, but I hope it helps someone.</p>\n<pre><code>private byte[] compressImage(MultipartFile mpFile) {\n    float quality = 0.3f;\n    String imageName = mpFile.getOriginalFilename();\n    String imageExtension = imageName.substring(imageName.lastIndexOf(&quot;.&quot;) + 1);\n    // Returns an Iterator containing all currently registered ImageWriters that claim to be able to encode the named format.\n    // You don't have to register one yourself; some are provided.\n    ImageWriter imageWriter = ImageIO.getImageWritersByFormatName(imageExtension).next();\n    ImageWriteParam imageWriteParam = imageWriter.getDefaultWriteParam();\n    imageWriteParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT); // Check the api value that suites your needs.\n    // A compression quality setting of 0.0 is most generically interpreted as &quot;high compression is important,&quot;\n    // while a setting of 1.0 is most generically interpreted as &quot;high image quality is important.&quot;\n    imageWriteParam.setCompressionQuality(quality);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    // MemoryCacheImageOutputStream: An implementation of ImageOutputStream that writes its output to a regular\n    // OutputStream, i.e. the ByteArrayOutputStream.\n    ImageOutputStream imageOutputStream = new MemoryCacheImageOutputStream(baos);\n    // Sets the destination to the given ImageOutputStream or other Object.\n    imageWriter.setOutput(imageOutputStream);\n    BufferedImage originalImage = null;\n    try (InputStream inputStream = mpFile.getInputStream()) {\n        originalImage = ImageIO.read(inputStream); \n    } catch (IOException e) {\n        String info = String.format(&quot;compressImage - bufferedImage (file %s)- IOException - message: %s &quot;, imageName, e.getMessage());\n        logger.error(info);\n        return baos.toByteArray();\n    }\n    IIOImage image = new IIOImage(originalImage, null, null);\n    try {\n        imageWriter.write(null, image, imageWriteParam);\n    } catch (IOException e) {\n        String info = String.format(&quot;compressImage - imageWriter (file %s)- IOException - message: %s &quot;, imageName, e.getMessage());\n        logger.error(info);\n    } finally {\n        imageWriter.dispose();\n    }\n    return baos.toByteArray();\n}\n</code></pre>\n"}],"owner":{"account_id":5616470,"reputation":1139,"user_id":4447614,"accept_rate":47,"display_name":"Geo Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6507,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665943402,"creation_date":1454684517,"question_id":35227208,"body_markdown":"I have `Java` `Spring MVC`  application in which there is an option to upload an image and save to the server. i have the following method:\r\n\r\n    @RequestMapping(value = &quot;/uploaddocimagecontentsubmit&quot;, method = RequestMethod.POST)\r\n    public String createUpdateFileImageContentSubmit(@RequestParam(&quot;file&quot;) MultipartFile file, ModelMap model)\r\n    {\r\n    //methods to handle file upload\r\n    }\r\n\r\nI am now trying to reduce the size of the image refering the following:\r\n\r\n[increasing-resolution-and-reducing-size-of-an-image-in-java][1] and [decrease-image-resolution-in-java][2]\r\nThe problem I am facing is that in the above examples, we are dealing with `java.io.File` Objects which are saved to a specified location. I dont want to save the image. Is there any way that I can use something similar to compress my Multipart Image file and continue with the upload.\r\n\r\n  [1]: https://stackoverflow.com/questions/13977858/increasing-resolution-and-reducing-size-of-an-image-in-java/14050844#14050844\r\n  [2]: https://stackoverflow.com/questions/6390964/decrease-image-resolution-in-java","title":"How to reduce size of a multipart file in java","body":"<p>I have <code>Java</code> <code>Spring MVC</code>  application in which there is an option to upload an image and save to the server. i have the following method:</p>\n\n<pre><code>@RequestMapping(value = \"/uploaddocimagecontentsubmit\", method = RequestMethod.POST)\npublic String createUpdateFileImageContentSubmit(@RequestParam(\"file\") MultipartFile file, ModelMap model)\n{\n//methods to handle file upload\n}\n</code></pre>\n\n<p>I am now trying to reduce the size of the image refering the following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13977858/increasing-resolution-and-reducing-size-of-an-image-in-java/14050844#14050844\">increasing-resolution-and-reducing-size-of-an-image-in-java</a> and <a href=\"https://stackoverflow.com/questions/6390964/decrease-image-resolution-in-java\">decrease-image-resolution-in-java</a>\nThe problem I am facing is that in the above examples, we are dealing with <code>java.io.File</code> Objects which are saved to a specified location. I dont want to save the image. Is there any way that I can use something similar to compress my Multipart Image file and continue with the upload.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667928595,"post_id":74086990,"comment_id":131283309,"body_markdown":"if my answer helps request you to please accept it so that it helps others as well.","body":"if my answer helps request you to please accept it so that it helps others as well."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665943196,"creation_date":1665943196,"answer_id":74089508,"question_id":74086990,"body_markdown":"You can achieve this using ```@ConfigurationProperties``` annotation itself. Here is the solution.\r\n\r\n```yaml\r\nintegration:\r\n  mapping:\r\n    - producer:\r\n        name: somename1\r\n        topic: sometopic1\r\n        replyTopic: sometopic1\r\n        replyPartition: 1\r\n      consumer:\r\n        name: somename1\r\n        field_1: ...\r\n        field_2: ...\r\n    - producer:\r\n        name: somename2\r\n        topic: sometopic2\r\n        replyTopic: sometopic2\r\n        replyPartition: 1\r\n      consumer:\r\n        name: somename2\r\n        field_1: ...\r\n        field_2: ...\r\n```\r\n\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;integration&quot;)\r\npublic class AppConfig {\r\n    private List&lt;Mapping&gt; mapping;\r\n\r\n    public List&lt;Mapping&gt; getMapping() {\r\n        return mapping;\r\n    }\r\n\r\n    public void setMapping(List&lt;Mapping&gt; mapping) {\r\n        this.mapping = mapping;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Mapping {\r\n    private Producer producer;\r\n\r\n    private Consumer consumer;\r\n\r\n    public Producer getProducer() {\r\n        return producer;\r\n    }\r\n\r\n    public void setProducer(Producer producer) {\r\n        this.producer = producer;\r\n    }\r\n\r\n\r\n    public Consumer getConsumer() {\r\n        return consumer;\r\n    }\r\n\r\n    public void setConsumer(Consumer consumer) {\r\n        this.consumer = consumer;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Mapping{&quot; +\r\n                &quot;producer=&quot; + producer +\r\n                &quot;, consumer=&quot; + consumer +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Producer {\r\n    private String replyTopic;\r\n\r\n    public String getReplyTopic() {\r\n        return replyTopic;\r\n    }\r\n\r\n    public void setReplyTopic(String replyTopic) {\r\n        this.replyTopic = replyTopic;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Producer{&quot; +\r\n                &quot;replyTopic=&#39;&quot; + replyTopic + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class Consumer {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Consumer{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class DemoApplication implements CommandLineRunner {\r\n\r\n\t@Autowired\r\n\tprivate AppConfig appConfig;\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tfinal List&lt;Mapping&gt; mapping = appConfig.getMapping();\r\n\t\tfinal List&lt;String&gt; replyTopics = mapping.stream()\r\n\t\t\t\t.map(Mapping::getProducer)\r\n\t\t\t\t.map(Producer::getReplyTopic)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\tSystem.out.println(replyTopics);\r\n\t}\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n[sometopic1, sometopic2]\r\n\r\n*I hope this solves your query.*","title":"Parse only specific field from application.yml","body":"<p>You can achieve this using <code>@ConfigurationProperties</code> annotation itself. Here is the solution.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>integration:\n  mapping:\n    - producer:\n        name: somename1\n        topic: sometopic1\n        replyTopic: sometopic1\n        replyPartition: 1\n      consumer:\n        name: somename1\n        field_1: ...\n        field_2: ...\n    - producer:\n        name: somename2\n        topic: sometopic2\n        replyTopic: sometopic2\n        replyPartition: 1\n      consumer:\n        name: somename2\n        field_1: ...\n        field_2: ...\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(prefix = &quot;integration&quot;)\npublic class AppConfig {\n    private List&lt;Mapping&gt; mapping;\n\n    public List&lt;Mapping&gt; getMapping() {\n        return mapping;\n    }\n\n    public void setMapping(List&lt;Mapping&gt; mapping) {\n        this.mapping = mapping;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Mapping {\n    private Producer producer;\n\n    private Consumer consumer;\n\n    public Producer getProducer() {\n        return producer;\n    }\n\n    public void setProducer(Producer producer) {\n        this.producer = producer;\n    }\n\n\n    public Consumer getConsumer() {\n        return consumer;\n    }\n\n    public void setConsumer(Consumer consumer) {\n        this.consumer = consumer;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Mapping{&quot; +\n                &quot;producer=&quot; + producer +\n                &quot;, consumer=&quot; + consumer +\n                '}';\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Producer {\n    private String replyTopic;\n\n    public String getReplyTopic() {\n        return replyTopic;\n    }\n\n    public void setReplyTopic(String replyTopic) {\n        this.replyTopic = replyTopic;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Producer{&quot; +\n                &quot;replyTopic='&quot; + replyTopic + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Consumer {\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Consumer{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class DemoApplication implements CommandLineRunner {\n\n    @Autowired\n    private AppConfig appConfig;\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        final List&lt;Mapping&gt; mapping = appConfig.getMapping();\n        final List&lt;String&gt; replyTopics = mapping.stream()\n                .map(Mapping::getProducer)\n                .map(Producer::getReplyTopic)\n                .collect(Collectors.toList());\n        System.out.println(replyTopics);\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p>[sometopic1, sometopic2]</p>\n<p><em>I hope this solves your query.</em></p>\n"}],"owner":{"account_id":26639359,"reputation":1,"user_id":20255299,"display_name":"nilibag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665943196,"creation_date":1665922196,"question_id":74086990,"body_markdown":"I need help with my Spring application configuration file.\r\n\r\nI have configuration looks like this:\r\n\r\n    integration\r\n\tmapping:\r\n\t\t- producer:\r\n\t\t\tname: somename\r\n\t\t\ttopic: sometopic\r\n\t\t\treplyTopic: sometopic\r\n\t\t\treplyPartition: 1\r\n\t\tconsumer:\r\n\t\t\tname: somename\r\n\t\t\tfield_1: ...\r\n\t\t\tfield_2: ...\r\n\t\t- producer:\r\n\t\t\tname: somename\r\n\t\t\ttopic: sometopic\r\n\t\t\treplyTopic: sometopic\r\n\t\t\treplyPartition: 1\r\n\t\tconsumer:\r\n\t\t\tname: somename\r\n\t\t\tfield_1: ...\r\n\t\t\tfield_2: ...\r\n\r\nAnd i need to extract all of the fields &#39;replyTopic&#39; from this configuration. I understand that i can map all of this configs to class with ConfigurationProperties annotation, but i wanna only field replyTopic in order to put this in @KafkaListener annotation, which requires to get topic names in the startup of the application.\r\n\r\nSo basically i want something like this:\r\n\r\n    @KafkaListener(topics = &#39;*some expression to extract all of replyTopic from congiration*&#39;)\r\n\r\nThanks!","title":"Parse only specific field from application.yml","body":"<p>I need help with my Spring application configuration file.</p>\n<p>I have configuration looks like this:</p>\n<pre><code>integration\nmapping:\n    - producer:\n        name: somename\n        topic: sometopic\n        replyTopic: sometopic\n        replyPartition: 1\n    consumer:\n        name: somename\n        field_1: ...\n        field_2: ...\n    - producer:\n        name: somename\n        topic: sometopic\n        replyTopic: sometopic\n        replyPartition: 1\n    consumer:\n        name: somename\n        field_1: ...\n        field_2: ...\n</code></pre>\n<p>And i need to extract all of the fields 'replyTopic' from this configuration. I understand that i can map all of this configs to class with ConfigurationProperties annotation, but i wanna only field replyTopic in order to put this in @KafkaListener annotation, which requires to get topic names in the startup of the application.</p>\n<p>So basically i want something like this:</p>\n<pre><code>@KafkaListener(topics = '*some expression to extract all of replyTopic from congiration*')\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":1243610,"reputation":2400,"user_id":1205577,"accept_rate":83,"display_name":"user1205577"},"score":0,"creation_date":1396004006,"post_id":22709676,"comment_id":34606905,"body_markdown":"Have you tried using a FlushedInputStream? Check out this thread: http://android-developers.blogspot.com/2010/07/multithreading-for-performance.html","body":"Have you tried using a FlushedInputStream? Check out this thread: <a href=\"http://android-developers.blogspot.com/2010/07/multithreading-for-performance.html\" rel=\"nofollow noreferrer\">android-developers.blogspot.com/2010/07/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3470298,"reputation":2646,"user_id":2904829,"display_name":"Nicolas Defranoux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396117099,"creation_date":1396006589,"answer_id":22711767,"question_id":22709676,"body_markdown":"You should serialize the image before sending it to `ObjectOutputStream`, which is expected to handle serializable objects.\r\n\r\nTry to use bitmap.compress (with a `ByteArrayOutputStream`) then send the byte array to the server, and ois should return a byte array that imageFactory should be able to decode.\r\n\r\n**edited to follow the edited code:**\r\nYou must send your object with writeObject rather than write, then on the receive end you will get a byte array:\r\n\r\nClient:\r\n\r\n    byte[] compressedImage = baos.toByteArray();\r\n    oos.writeObject(compressedImage);\r\n\r\nServer:\r\n\r\n    byte[] compressedBitmap = (byte[]) ois.readObject();\r\n    Bitmap bitmap = BitmapFactory.decodeByteArray(compressedBitmap, 0, compressedBitmap.length);\r\n","title":"Android - Socket NullPointerException","body":"<p>You should serialize the image before sending it to <code>ObjectOutputStream</code>, which is expected to handle serializable objects.</p>\n\n<p>Try to use bitmap.compress (with a <code>ByteArrayOutputStream</code>) then send the byte array to the server, and ois should return a byte array that imageFactory should be able to decode.</p>\n\n<p><strong>edited to follow the edited code:</strong>\nYou must send your object with writeObject rather than write, then on the receive end you will get a byte array:</p>\n\n<p>Client:</p>\n\n<pre><code>byte[] compressedImage = baos.toByteArray();\noos.writeObject(compressedImage);\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>byte[] compressedBitmap = (byte[]) ois.readObject();\nBitmap bitmap = BitmapFactory.decodeByteArray(compressedBitmap, 0, compressedBitmap.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4220398,"reputation":14,"user_id":3455323,"accept_rate":0,"display_name":"Akhil0181"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1396102529,"creation_date":1396091244,"answer_id":22730272,"question_id":22709676,"body_markdown":"You should use `BitmapDescriptorFactory` instead of `BitmapFactory`.","title":"Android - Socket NullPointerException","body":"<p>You should use <code>BitmapDescriptorFactory</code> instead of <code>BitmapFactory</code>.</p>\n"},{"tags":[],"owner":{"account_id":4220398,"reputation":14,"user_id":3455323,"accept_rate":0,"display_name":"Akhil0181"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1396102517,"creation_date":1396100493,"answer_id":22731849,"question_id":22709676,"body_markdown":"You should import this class:\r\n\r\n    import com.google.android.gms.maps.model.BitmapDescriptorFactory;","title":"Android - Socket NullPointerException","body":"<p>You should import this class:</p>\n\n<pre><code>import com.google.android.gms.maps.model.BitmapDescriptorFactory;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3371945,"reputation":111,"user_id":2830981,"accept_rate":44,"display_name":"Tony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665942205,"creation_date":1396267349,"answer_id":22761038,"question_id":22709676,"body_markdown":"Revise Clinet code like this \r\n\r\n    \tpublic void SendImage(){\r\n\t\ttry {\r\n\t\t\tInetAddress address = InetAddress.getByName(ServerIP);\r\n\t\t\tclientSocket = new Socket(address, 3000);\r\n\t\t\tObjectOutputStream oos = new ObjectOutputStream(clientSocket.getOutputStream());\r\n\t\t\tbitmap = BitmapFactory.decodeResource(this.getResources(), R.drawable.image);\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tbitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);\r\n\t\t\tbyte[] compressedImage = baos.toByteArray();\r\n\t\t\toos.writeObject(compressedImage);\r\n\t\t\toos.flush();\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(clientSocket.getInputStream());\r\n\t\t\tString respond = (String)ois.readObject();\r\n\t\t\tLog.d(&quot;ObjectInputStream&quot;, respond);\t\t\t\r\n\t\t\toos.close();\r\n\t\t\tois.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.e(&quot;SendImage&quot;, e.toString());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nit works !","title":"Android - Socket NullPointerException","body":"<p>Revise Clinet code like this</p>\n<pre><code>    public void SendImage(){\n    try {\n        InetAddress address = InetAddress.getByName(ServerIP);\n        clientSocket = new Socket(address, 3000);\n        ObjectOutputStream oos = new ObjectOutputStream(clientSocket.getOutputStream());\n        bitmap = BitmapFactory.decodeResource(this.getResources(), R.drawable.image);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);\n        byte[] compressedImage = baos.toByteArray();\n        oos.writeObject(compressedImage);\n        oos.flush();\n        ObjectInputStream ois = new ObjectInputStream(clientSocket.getInputStream());\n        String respond = (String)ois.readObject();\n        Log.d(&quot;ObjectInputStream&quot;, respond);            \n        oos.close();\n        ois.close();\n    } catch (Exception e) {\n        Log.e(&quot;SendImage&quot;, e.toString());\n    }\n    \n}\n</code></pre>\n<p>it works !</p>\n"}],"owner":{"account_id":3371945,"reputation":111,"user_id":2830981,"accept_rate":44,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22761038,"answer_count":4,"score":0,"last_activity_date":1665942205,"creation_date":1396001252,"question_id":22709676,"body_markdown":"I want to send a image from client to server , when I start sending , server stuck at \r\n\r\n     bitmap = BitmapFactory.decodeStream(ois);\r\n\r\nand after I kill the client activity LogCat show this \r\n\r\n \r\n\r\n    03-28 17:59:41.102: D/skia(12173): --- SkImageDecoder::Factory returned null \r\n     03-28 17:59:41.102: D/ReceiveImage(12173): After BitmapFactory\r\n     03-28 17:59:41.112: D/runOnUiThread(12173): Setting Image \r\n     03-28 17:59:41.142: E/initTCPServer(12173): java.net.SocketException: sendto failed: EPIPE (Broken pipe)\r\n\r\n**EDIT:**\r\n\r\nServer code :\r\n\r\n    \tpublic void ReceiveImage(){\r\n\t\ttry {\r\n\t\t\tserverSocket = new ServerSocket(3000);\r\n\t\t\tSocket clientmessage = serverSocket.accept();\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(clientmessage.getInputStream());\r\n\t\t\t//Object ImageObject = ois.readObject();\t\t\t\r\n\t\t\t//ois.read(image);\r\n\t\t\tLog.d(&quot;ReceiveImage&quot;, &quot;Befor BitmapFactory&quot;);\r\n\t\t\tbyte[] compressedBitmap = (byte[]) ois.readObject();\r\n\t\t\tbitmap = BitmapFactory.decodeByteArray(compressedBitmap, 0, compressedBitmap.length);\r\n\t\t\t//bitmap = BitmapFactory.decodeStream(clientmessage.getInputStream());\r\n\t\t\tLog.d(&quot;ReceiveImage&quot;, &quot;After BitmapFactory&quot;);\r\n\t\t\trunOnUiThread(new Runnable() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\tLog.d(&quot;runOnUiThread&quot;, &quot;Setting Image&quot;);\r\n\t\t\t\t\timage.setImageBitmap(bitmap);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tObjectOutputStream oos = new ObjectOutputStream(clientmessage.getOutputStream());\r\n\t\t\toos.writeObject(&quot;Received&quot;);\r\n\t\t\tois.close();\r\n\t\t\toos.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.e(&quot;initTCPServer&quot;, e.toString());\r\n\t\t}\r\n\t}\r\n\r\n\r\nClient code : \r\n\r\n    \tpublic void SendImage(){\r\n\t\ttry {\r\n\t\t\tclientSocket = new Socket(ServerIP, 3000);\r\n\t\t\tObjectOutputStream oos = new ObjectOutputStream(clientSocket.getOutputStream());\r\n\t\t\tImageView imageView = (ImageView)findViewById(R.drawable.lena);\r\n\t\t\timageView.setImageBitmap(bitmap);\r\n\t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t\tbitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);\r\n\t\t\tbyte[] compressedImage = baos.toByteArray();\r\n\t\t\toos.writeObject(compressedImage);\r\n\t\t\toos.flush();\r\n\t\t\tObjectInputStream ois = new ObjectInputStream(clientSocket.getInputStream());\r\n\t\t\tString respond = (String)ois.readObject();\r\n\t\t\tLog.d(&quot;ObjectInputStream&quot;, respond);\t\t\t\r\n\t\t\toos.close();\r\n\t\t\tois.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLog.e(&quot;SendImage&quot;, e.toString());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n&gt; 03-30 15:59:22.013: E/SendImage(18664): java.lang.NullPointerException\r\n\r\n\r\nWhat I&#39;m doing wrong?\r\n(Image size : 10KB)","title":"Android - Socket NullPointerException","body":"<p>I want to send a image from client to server , when I start sending , server stuck at </p>\n\n<pre><code> bitmap = BitmapFactory.decodeStream(ois);\n</code></pre>\n\n<p>and after I kill the client activity LogCat show this </p>\n\n<pre><code>03-28 17:59:41.102: D/skia(12173): --- SkImageDecoder::Factory returned null \n 03-28 17:59:41.102: D/ReceiveImage(12173): After BitmapFactory\n 03-28 17:59:41.112: D/runOnUiThread(12173): Setting Image \n 03-28 17:59:41.142: E/initTCPServer(12173): java.net.SocketException: sendto failed: EPIPE (Broken pipe)\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Server code :</p>\n\n<pre><code>    public void ReceiveImage(){\n    try {\n        serverSocket = new ServerSocket(3000);\n        Socket clientmessage = serverSocket.accept();\n        ObjectInputStream ois = new ObjectInputStream(clientmessage.getInputStream());\n        //Object ImageObject = ois.readObject();            \n        //ois.read(image);\n        Log.d(\"ReceiveImage\", \"Befor BitmapFactory\");\n        byte[] compressedBitmap = (byte[]) ois.readObject();\n        bitmap = BitmapFactory.decodeByteArray(compressedBitmap, 0, compressedBitmap.length);\n        //bitmap = BitmapFactory.decodeStream(clientmessage.getInputStream());\n        Log.d(\"ReceiveImage\", \"After BitmapFactory\");\n        runOnUiThread(new Runnable() {\n\n            @Override\n            public void run() {\n                // TODO Auto-generated method stub\n                Log.d(\"runOnUiThread\", \"Setting Image\");\n                image.setImageBitmap(bitmap);\n            }\n        });\n\n        ObjectOutputStream oos = new ObjectOutputStream(clientmessage.getOutputStream());\n        oos.writeObject(\"Received\");\n        ois.close();\n        oos.close();\n    } catch (Exception e) {\n        Log.e(\"initTCPServer\", e.toString());\n    }\n}\n</code></pre>\n\n<p>Client code : </p>\n\n<pre><code>    public void SendImage(){\n    try {\n        clientSocket = new Socket(ServerIP, 3000);\n        ObjectOutputStream oos = new ObjectOutputStream(clientSocket.getOutputStream());\n        ImageView imageView = (ImageView)findViewById(R.drawable.lena);\n        imageView.setImageBitmap(bitmap);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, baos);\n        byte[] compressedImage = baos.toByteArray();\n        oos.writeObject(compressedImage);\n        oos.flush();\n        ObjectInputStream ois = new ObjectInputStream(clientSocket.getInputStream());\n        String respond = (String)ois.readObject();\n        Log.d(\"ObjectInputStream\", respond);            \n        oos.close();\n        ois.close();\n    } catch (Exception e) {\n        Log.e(\"SendImage\", e.toString());\n    }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>03-30 15:59:22.013: E/SendImage(18664): java.lang.NullPointerException</p>\n</blockquote>\n\n<p>What I'm doing wrong?\n(Image size : 10KB)</p>\n"},{"tags":["java","java.util.scanner","lexical-analysis"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665853745,"post_id":74081406,"comment_id":130798195,"body_markdown":"```scanner.useDelimiter(&quot;[!#]&quot;);```  springs to mind. Untested","body":"<code>scanner.useDelimiter(&quot;[!#]&quot;);</code>  springs to mind. Untested"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665854118,"post_id":74081406,"comment_id":130798272,"body_markdown":"Tested: `next()` output in loop: 10,6,4,3,4","body":"Tested: <code>next()</code> output in loop: 10,6,4,3,4"},{"owner":{"account_id":4340307,"reputation":163,"user_id":3543696,"display_name":"redmoncoreyl"},"score":0,"creation_date":1665854278,"post_id":74081406,"comment_id":130798307,"body_markdown":"@g00se the problem with that is I think it will take away the `!` from the value of `scanner.next(totalPattern)` which in this toy example is not a problem, but will be a problem for me down the road.","body":"@g00se the problem with that is I think it will take away the <code>!</code> from the value of <code>scanner.next(totalPattern)</code> which in this toy example is not a problem, but will be a problem for me down the road."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665854387,"post_id":74081406,"comment_id":130798327,"body_markdown":"Well I&#39;m mystified ;) It would be the first token in the line and you know it&#39;s always there don&#39;t you - or maybe it isn&#39;t?","body":"Well I&#39;m mystified ;) It would be the first token in the line and you know it&#39;s always there don&#39;t you - or maybe it isn&#39;t?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1665854892,"post_id":74081406,"comment_id":130798435,"body_markdown":"I wouldn&#39;t be using a Scanner at all. Open the input file, read the whole content, and then parse it.","body":"I wouldn&#39;t be using a Scanner at all. Open the input file, read the whole content, and then parse it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1665855150,"post_id":74081406,"comment_id":130798499,"body_markdown":"The problem we&#39;re facing is that you&#39;re drip feeding the real problem which has the effect of changing the goalposts. Ultimately that&#39;s just wasting time","body":"The problem we&#39;re facing is that you&#39;re drip feeding the real problem which has the effect of changing the goalposts. Ultimately that&#39;s just wasting time"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1665855434,"post_id":74081406,"comment_id":130798561,"body_markdown":"It sounds like you just want to iterate over all matches of the regex `([!]+|[#]+)[0-9]+` in the input file. If that&#39;s the case, `Scanner` is the wrong tool, you can just do `Pattern.compile(...).matcher(text)` and call `.find` in a loop.","body":"It sounds like you just want to iterate over all matches of the regex <code>([!]+|[#]+)[0-9]+</code> in the input file. If that&#39;s the case, <code>Scanner</code> is the wrong tool, you can just do <code>Pattern.compile(...).matcher(text)</code> and call <code>.find</code> in a loop."},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1665955265,"post_id":74081406,"comment_id":130814849,"body_markdown":"If you have a non-trivial lexical analysis problem, consider using a tool designed to help you with non-trivial lexical analysis problems. Like, for example, [JFlex](https://www.jflex.de/). I&#39;m sure there are others; I&#39;m not very familiar with the Java environment.","body":"If you have a non-trivial lexical analysis problem, consider using a tool designed to help you with non-trivial lexical analysis problems. Like, for example, <a href=\"https://www.jflex.de/\" rel=\"nofollow noreferrer\">JFlex</a>. I&#39;m sure there are others; I&#39;m not very familiar with the Java environment."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665857720,"creation_date":1665857720,"answer_id":74081938,"question_id":74081406,"body_markdown":"To parse the example strings you provided, you could do something like this:\r\n\r\n    String s = &quot;!!!10#6###4!!3#4&quot;;\r\n        \r\n    StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n        \r\n    /* Iterate through the tags after spliting the \r\n       string using the numbers as delimiter.   */\r\n    for (String tag : s.split(&quot;\\\\d{1,}&quot;)) {\r\n        /* Replace any one (or more in sequence) ! with \r\n           the word &quot;total &quot; in the current tag element\r\n           and on the same hand, if the current tag element\r\n           contains # replace any one (or more in sequence) \r\n           # with the word &quot;value &quot;                    */\r\n        sb.append(tag.replaceAll(&quot;[!]{1,}&quot;, &quot;total &quot;).replaceAll(&quot;[#]{1,}&quot;, &quot;value &quot;));\r\n    }\r\n        \r\n    String output = sb.toString().trim();\r\n    System.out.println(output);\r\n\r\nIf `s` contained `!10#6#4!3#4` then the console display will show `total value value total value`. If the variable `s` contained `!!!10#6###4!!3#4` then again, the console display will show `total value value total value`.","title":"How can I scan a file with no delimiter between tokens in Java?","body":"<p>To parse the example strings you provided, you could do something like this:</p>\n<pre><code>String s = &quot;!!!10#6###4!!3#4&quot;;\n    \nStringBuilder sb = new StringBuilder(&quot;&quot;);\n    \n/* Iterate through the tags after spliting the \n   string using the numbers as delimiter.   */\nfor (String tag : s.split(&quot;\\\\d{1,}&quot;)) {\n    /* Replace any one (or more in sequence) ! with \n       the word &quot;total &quot; in the current tag element\n       and on the same hand, if the current tag element\n       contains # replace any one (or more in sequence) \n       # with the word &quot;value &quot;                    */\n    sb.append(tag.replaceAll(&quot;[!]{1,}&quot;, &quot;total &quot;).replaceAll(&quot;[#]{1,}&quot;, &quot;value &quot;));\n}\n    \nString output = sb.toString().trim();\nSystem.out.println(output);\n</code></pre>\n<p>If <code>s</code> contained <code>!10#6#4!3#4</code> then the console display will show <code>total value value total value</code>. If the variable <code>s</code> contained <code>!!!10#6###4!!3#4</code> then again, the console display will show <code>total value value total value</code>.</p>\n"},{"tags":[],"owner":{"account_id":4340307,"reputation":163,"user_id":3543696,"display_name":"redmoncoreyl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665941968,"creation_date":1665941968,"answer_id":74089379,"question_id":74081406,"body_markdown":"What I have described as my desired solution in the last edit is called [lexical analysis.][1]\r\n\r\nI decided that the best choice was to take inspiration from [this SO post for making a Java Lexer.][2]\r\n\r\nAdditionally, as this [SO answer describes][3], lexing large files could be a problem, so using a buffer that I can add on to when a match isn&#39;t found might be a good idea also.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Lexical_analysis\r\n  [2]: https://stackoverflow.com/q/43067869/3543696\r\n  [3]: https://stackoverflow.com/a/47577075/3543696","title":"How can I scan a file with no delimiter between tokens in Java?","body":"<p>What I have described as my desired solution in the last edit is called <a href=\"https://en.wikipedia.org/wiki/Lexical_analysis\" rel=\"nofollow noreferrer\">lexical analysis.</a></p>\n<p>I decided that the best choice was to take inspiration from <a href=\"https://stackoverflow.com/q/43067869/3543696\">this SO post for making a Java Lexer.</a></p>\n<p>Additionally, as this <a href=\"https://stackoverflow.com/a/47577075/3543696\">SO answer describes</a>, lexing large files could be a problem, so using a buffer that I can add on to when a match isn't found might be a good idea also.</p>\n"}],"owner":{"account_id":4340307,"reputation":163,"user_id":3543696,"display_name":"redmoncoreyl"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1665942138,"creation_date":1665853112,"question_id":74081406,"body_markdown":"I have text input which looks like this:\r\n\r\n```lan-txt\r\n!10#6#4!3#4\r\n```\r\n\r\nI have two patterns for the two types of data found in the input above:\r\n\r\n```lang-java\r\nPattern totalPattern = Pattern.compile(&quot;![0-9]+&quot;);\r\nPattern valuePattern = Pattern.compile(&quot;#[0-9]+&quot;);\r\n```\r\n\r\nI wanted to get the following output from the input above:\r\n\r\n```lang-txt\r\ntotal value value total value\r\n```\r\n\r\nSo I wrote the following code to solve this problem:\r\n\r\n```lang-java\r\ntry (Scanner scanner = new Scanner(inputFile)) {\r\n    while (scanner.hasNext()) {\r\n        if (scanner.hasNext(totalPattern) {\r\n            System.out.print(&quot;total &quot;);\r\n            scanner.next(totalPattern);\r\n        } else if (scanner.hasNext(valuePattern)) {\r\n            System.out.print(&quot;value &quot;);\r\n            scanner.next(valuePattern);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut this obviously did not work because it couldn&#39;t separate the input into tokens because there are no delimiters in the input. The scanner sees the entire input as one big single token. I know I could change the input to have spaces before the `#` and `!`, but I&#39;m not allowed to change the input for this problem. I tried messing with the scanner to change the delimiter but couldn&#39;t get it to work. I kind of think that the Scanner isn&#39;t the right tool for this job, but I&#39;m not really sure what is.\r\n\r\n**Edit**\r\n\r\nAs g00se pointed out, I could use `!` and `#` as delimiters. In the above example  that wouldn&#39;t be a problem, but to change the problem slightly, suppose the input was:\r\n\r\n```lang-txt\r\n!!!10#6###4!!3#4\r\n```\r\n\r\nThe patterns would be:\r\n\r\n```lang-java\r\nPattern totalPattern = Pattern.compile(&quot;[!]+[0-9]+&quot;);\r\nPattern valuePattern = Pattern.compile(&quot;[#]+[0-9]+&quot;);\r\n```\r\n\r\nIf I wanted to use the number of `!` or `#` as part of the information encoded in the data, using `!` and `#` as delimiters doesn&#39;t work. I still think Scanner is not the right tool, I just don&#39;t know what is.\r\n\r\n**Edit 2**\r\n\r\nOkay, I realize that I didn&#39;t really write this question in the right way and I have waisted some time. Ultimately I wanted a solution that is more general purpose. The solution should take in a series of patterns, and consume the input from the front and return a series of tokens that it can break the input into. The two patters from above are just examples. I realize now though that because I didn&#39;t specify the type of solution I wanted, I got some great answers which solved the problem given above in the simplest way possible.","title":"How can I scan a file with no delimiter between tokens in Java?","body":"<p>I have text input which looks like this:</p>\n<pre><code>!10#6#4!3#4\n</code></pre>\n<p>I have two patterns for the two types of data found in the input above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern totalPattern = Pattern.compile(&quot;![0-9]+&quot;);\nPattern valuePattern = Pattern.compile(&quot;#[0-9]+&quot;);\n</code></pre>\n<p>I wanted to get the following output from the input above:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>total value value total value\n</code></pre>\n<p>So I wrote the following code to solve this problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Scanner scanner = new Scanner(inputFile)) {\n    while (scanner.hasNext()) {\n        if (scanner.hasNext(totalPattern) {\n            System.out.print(&quot;total &quot;);\n            scanner.next(totalPattern);\n        } else if (scanner.hasNext(valuePattern)) {\n            System.out.print(&quot;value &quot;);\n            scanner.next(valuePattern);\n        }\n    }\n}\n</code></pre>\n<p>But this obviously did not work because it couldn't separate the input into tokens because there are no delimiters in the input. The scanner sees the entire input as one big single token. I know I could change the input to have spaces before the <code>#</code> and <code>!</code>, but I'm not allowed to change the input for this problem. I tried messing with the scanner to change the delimiter but couldn't get it to work. I kind of think that the Scanner isn't the right tool for this job, but I'm not really sure what is.</p>\n<p><strong>Edit</strong></p>\n<p>As g00se pointed out, I could use <code>!</code> and <code>#</code> as delimiters. In the above example  that wouldn't be a problem, but to change the problem slightly, suppose the input was:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>!!!10#6###4!!3#4\n</code></pre>\n<p>The patterns would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern totalPattern = Pattern.compile(&quot;[!]+[0-9]+&quot;);\nPattern valuePattern = Pattern.compile(&quot;[#]+[0-9]+&quot;);\n</code></pre>\n<p>If I wanted to use the number of <code>!</code> or <code>#</code> as part of the information encoded in the data, using <code>!</code> and <code>#</code> as delimiters doesn't work. I still think Scanner is not the right tool, I just don't know what is.</p>\n<p><strong>Edit 2</strong></p>\n<p>Okay, I realize that I didn't really write this question in the right way and I have waisted some time. Ultimately I wanted a solution that is more general purpose. The solution should take in a series of patterns, and consume the input from the front and return a series of tokens that it can break the input into. The two patters from above are just examples. I realize now though that because I didn't specify the type of solution I wanted, I got some great answers which solved the problem given above in the simplest way possible.</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1665855056,"post_id":74081466,"comment_id":130798472,"body_markdown":"In short I think you are over complicating this. 1) Why not use `json_array_elements_text()` that will return `text` and save a cast? 2) What is the value that `d.data-&gt;&gt;&#39;categorys&#39;` is returning? Because `-&gt;&gt;` returns `text`. Add information as update to question.","body":"In short I think you are over complicating this. 1) Why not use <code>json_array_elements_text()</code> that will return <code>text</code> and save a cast? 2) What is the value that <code>d.data-&gt;&gt;&#39;categorys&#39;</code> is returning? Because <code>-&gt;&gt;</code> returns <code>text</code>. Add information as update to question."},{"owner":{"account_id":15201372,"reputation":11,"user_id":10969269,"display_name":"Eduardojls"},"score":0,"creation_date":1665861565,"post_id":74081466,"comment_id":130799763,"body_markdown":"In one hand I already edited the post in order to fulfilled your suggestion.\n\nIn the other hand, yes, you are right, I saved a cast using `json_array_elements_text()`, but now it throws the following error message: `operator does not exist: integer = bytea`. Any idea what&#39;s wrong?","body":"In one hand I already edited the post in order to fulfilled your suggestion.  In the other hand, yes, you are right, I saved a cast using <code>json_array_elements_text()</code>, but now it throws the following error message: <code>operator does not exist: integer = bytea</code>. Any idea what&#39;s wrong?"}],"answers":[{"tags":[],"owner":{"account_id":15201372,"reputation":11,"user_id":10969269,"display_name":"Eduardojls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665867306,"creation_date":1665867306,"answer_id":74082962,"question_id":74081466,"body_markdown":"I found the solution to this:\r\n\r\n 1. I saved from casting each element twice by using `json_array_elements_text` instead of `json_array_elements`, the first one returns the values already as Strings. The second one was producing this error message: `No dialect for mapping 1111` due to a bad cast syntax made by me. This thanks to the wonderful suggestion from @AdrianKlaver\r\n 2. Doing `select d.data` seemed not to work, because it was returning an unknown data type for Hibernate, instead I returned `d.id`because I was really expecting each categoryId as Long type.\r\n 3. Used this `CAST(e as int4)` instead of this `as Integer`\r\n 4. Removed an extra @Param (id) of my **yest()** method\r\n\r\nThe final query is as shown below:\r\n\r\n    @Query(\r\n            nativeQuery = true,\r\n            value = &quot;SELECT distinct d.id FROM myScheme.myTable d, myScheme.mySecondTable g &quot; +\r\n                    &quot;,json_array_elements_text(d.data-&gt;&gt;&#39;categorys&#39;) e &quot; +\r\n                    &quot;where d.data-&gt;&gt;&#39;categorys&#39; is not null &quot; +\r\n                    &quot;AND CAST(e as int4) in (g.id_product_category_magento) &quot; +\r\n                    &quot;AND CAST(e as int4) in (:categories)&quot;\r\n    )\r\n    List&lt;Long&gt; yest(List&lt;Long&gt; categories);\r\n\r\nHope this helps someone in the future. :)","title":"How to CAST twice an element in a row JPA","body":"<p>I found the solution to this:</p>\n<ol>\n<li>I saved from casting each element twice by using <code>json_array_elements_text</code> instead of <code>json_array_elements</code>, the first one returns the values already as Strings. The second one was producing this error message: <code>No dialect for mapping 1111</code> due to a bad cast syntax made by me. This thanks to the wonderful suggestion from @AdrianKlaver</li>\n<li>Doing <code>select d.data</code> seemed not to work, because it was returning an unknown data type for Hibernate, instead I returned <code>d.id</code>because I was really expecting each categoryId as Long type.</li>\n<li>Used this <code>CAST(e as int4)</code> instead of this <code>as Integer</code></li>\n<li>Removed an extra @Param (id) of my <strong>yest()</strong> method</li>\n</ol>\n<p>The final query is as shown below:</p>\n<pre><code>@Query(\n        nativeQuery = true,\n        value = &quot;SELECT distinct d.id FROM myScheme.myTable d, myScheme.mySecondTable g &quot; +\n                &quot;,json_array_elements_text(d.data-&gt;&gt;'categorys') e &quot; +\n                &quot;where d.data-&gt;&gt;'categorys' is not null &quot; +\n                &quot;AND CAST(e as int4) in (g.id_product_category_magento) &quot; +\n                &quot;AND CAST(e as int4) in (:categories)&quot;\n)\nList&lt;Long&gt; yest(List&lt;Long&gt; categories);\n</code></pre>\n<p>Hope this helps someone in the future. :)</p>\n"}],"owner":{"account_id":15201372,"reputation":11,"user_id":10969269,"display_name":"Eduardojls"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665940899,"creation_date":1665853681,"question_id":74081466,"body_markdown":"I&#39;ve done a query with PostgreSQL that retrieves certain data as I expected: (It works)\r\n\r\n``` sql\r\nSELECT distinct d.data \r\nFROM myScheme.myTable d, myScheme.mySecondTable g, json_array_elements(d.data-&gt;&gt;&#39;categorys&#39;) e \r\nwhere d.data-&gt;&gt;&#39;categorys&#39; is not null \r\nAND e::text::int in (g.id_product_category_magento)\r\nAND e::text::int IN (21718, 17);\r\n```\r\n\r\nThe problem is when I try to do the same query with Java using JPA. This is not worked script:\r\n\r\n``` java\r\n@Query(\r\n    nativeQuery = true,\r\n    value = &quot;SELECT DISTINC d.data &quot; +\r\n        &quot;FROM myScheme.myTable d, myScheme.mySecondTable g, &quot; +\r\n        &quot;json_array_elements(d.data-&gt;&gt;&#39;categorys&#39;) e &quot; +\r\n        &quot;where d.id = :id AND d.data-&gt;&gt;&#39;categorys&#39; is not null &quot; +\r\n        &quot;AND CAST(CAST(e as text) as Integer) in (g.id_product_category_magento) &quot; +\r\n        &quot;AND CAST(CAST(e as text) as Integer) IN (:categories)&quot;\r\n)\r\nList&lt;ServiceDefinition&gt; yest(Set&lt;Long&gt; categories, @Param(&quot;id&quot;) Long id);\r\n```\r\n\r\nThe stack trace throws the following error message: \r\n\r\n```\r\nNo dialect for Mapping JDBC 1111\r\n```\r\n\r\nThings to keep in mind:\r\n\r\n - b.data -&gt;&gt; &#39;categorys&#39; is an array of Strings that contains string values such as: [&#39;123&#39;, &#39;456&#39;, &#39;789&#39;] and should return each one of this values.\r\n\r\nPd: I&#39;m not sure if this is the right way to cast a value twice: `AND CAST(CAST(e as text) as Integer)`.","title":"How to CAST twice an element in a row JPA","body":"<p>I've done a query with PostgreSQL that retrieves certain data as I expected: (It works)</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT distinct d.data \nFROM myScheme.myTable d, myScheme.mySecondTable g, json_array_elements(d.data-&gt;&gt;'categorys') e \nwhere d.data-&gt;&gt;'categorys' is not null \nAND e::text::int in (g.id_product_category_magento)\nAND e::text::int IN (21718, 17);\n</code></pre>\n<p>The problem is when I try to do the same query with Java using JPA. This is not worked script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(\n    nativeQuery = true,\n    value = &quot;SELECT DISTINC d.data &quot; +\n        &quot;FROM myScheme.myTable d, myScheme.mySecondTable g, &quot; +\n        &quot;json_array_elements(d.data-&gt;&gt;'categorys') e &quot; +\n        &quot;where d.id = :id AND d.data-&gt;&gt;'categorys' is not null &quot; +\n        &quot;AND CAST(CAST(e as text) as Integer) in (g.id_product_category_magento) &quot; +\n        &quot;AND CAST(CAST(e as text) as Integer) IN (:categories)&quot;\n)\nList&lt;ServiceDefinition&gt; yest(Set&lt;Long&gt; categories, @Param(&quot;id&quot;) Long id);\n</code></pre>\n<p>The stack trace throws the following error message:</p>\n<pre><code>No dialect for Mapping JDBC 1111\n</code></pre>\n<p>Things to keep in mind:</p>\n<ul>\n<li>b.data -&gt;&gt; 'categorys' is an array of Strings that contains string values such as: ['123', '456', '789'] and should return each one of this values.</li>\n</ul>\n<p>Pd: I'm not sure if this is the right way to cast a value twice: <code>AND CAST(CAST(e as text) as Integer)</code>.</p>\n"},{"tags":["java","list","collections","duplicates"],"comments":[{"owner":{"account_id":2539,"reputation":48109,"user_id":3542,"display_name":"Rob"},"score":1,"creation_date":1225980287,"post_id":268672,"comment_id":123587,"body_markdown":"Why does it need to implement List? Sets are iterable, like lists, so I suppose the receiving method is enforcing List for some other reason.","body":"Why does it need to implement List? Sets are iterable, like lists, so I suppose the receiving method is enforcing List for some other reason."},{"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"score":0,"creation_date":1225980830,"post_id":268672,"comment_id":123600,"body_markdown":"@Rob That&#39;s right, it&#39;s an external demand, and the data structure includes a hell of a lot more than one List.","body":"@Rob That&#39;s right, it&#39;s an external demand, and the data structure includes a hell of a lot more than one List."},{"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"score":0,"creation_date":1457064925,"post_id":268672,"comment_id":59246601,"body_markdown":"If the user wants a LIST, then it&#39;s clear that needs methods of the LIST interface that are not present um the SET interface...","body":"If the user wants a LIST, then it&#39;s clear that needs methods of the LIST interface that are not present um the SET interface..."}],"answers":[{"tags":[],"owner":{"account_id":8891,"reputation":3425,"user_id":16193,"accept_rate":88,"display_name":"Daniel Hiller"},"down_vote_count":9,"up_vote_count":15,"is_accepted":false,"score":6,"last_activity_date":1511387519,"creation_date":1225978375,"answer_id":268691,"question_id":268672,"body_markdown":"Why not encapsulate a set with a list, sort like:\r\n\r\n    new ArrayList( new LinkedHashSet() )\r\n\r\nThis leaves the other implementation for someone who is a real master of Collections ;-)","title":"Is there a no-duplicate List implementation out there?","body":"<p>Why not encapsulate a set with a list, sort like:</p>\n\n<pre><code>new ArrayList( new LinkedHashSet() )\n</code></pre>\n\n<p>This leaves the other implementation for someone who is a real master of Collections ;-)</p>\n"},{"tags":[],"owner":{"account_id":16211,"reputation":41,"user_id":35082,"display_name":"Hauch"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1506597358,"creation_date":1225978548,"answer_id":268700,"question_id":268672,"body_markdown":"The [documentation for collection interfaces][1] says:\r\n\r\n&gt; Set — a collection that cannot contain duplicate elements.  \r\n&gt; List — an ordered collection (sometimes called a sequence). Lists can contain duplicate elements.\r\n\r\nSo if you don&#39;t want duplicates, you probably shouldn&#39;t use a list.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/collections/interfaces/index.html","title":"Is there a no-duplicate List implementation out there?","body":"<p>The <a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/index.html\" rel=\"nofollow noreferrer\">documentation for collection interfaces</a> says:</p>\n\n<blockquote>\n  <p>Set — a collection that cannot contain duplicate elements.<br>\n  List — an ordered collection (sometimes called a sequence). Lists can contain duplicate elements.</p>\n</blockquote>\n\n<p>So if you don't want duplicates, you probably shouldn't use a list.</p>\n"},{"tags":[],"owner":{"account_id":5292,"reputation":5876,"user_id":8434,"display_name":"Calum"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1506596001,"creation_date":1225978722,"answer_id":268713,"question_id":268672,"body_markdown":"There&#39;s no Java collection in the standard library to do this. [`LinkedHashSet&lt;E&gt;`][1] preserves ordering similarly to a `List`, though, so if you wrap your set in a `List` when you want to use it as a `List` you&#39;ll get the semantics you want.\r\n\r\nAlternatively, the [Commons Collections][2] (or `commons-collections4`, for the generic version) has a `List` which does what you want already: [`SetUniqueList`][3] / [`SetUniqueList&lt;E&gt;`][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/LinkedHashSet.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/\r\n  [3]: https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/index.html?org/apache/commons/collections/list/SetUniqueList.html\r\n  [4]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/SetUniqueList.html","title":"Is there a no-duplicate List implementation out there?","body":"<p>There's no Java collection in the standard library to do this. <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/LinkedHashSet.html\" rel=\"noreferrer\"><code>LinkedHashSet&lt;E&gt;</code></a> preserves ordering similarly to a <code>List</code>, though, so if you wrap your set in a <code>List</code> when you want to use it as a <code>List</code> you'll get the semantics you want.</p>\n\n<p>Alternatively, the <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Commons Collections</a> (or <code>commons-collections4</code>, for the generic version) has a <code>List</code> which does what you want already: <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/index.html?org/apache/commons/collections/list/SetUniqueList.html\" rel=\"noreferrer\"><code>SetUniqueList</code></a> / <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/SetUniqueList.html\" rel=\"noreferrer\"><code>SetUniqueList&lt;E&gt;</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506597229,"creation_date":1225978851,"answer_id":268719,"question_id":268672,"body_markdown":"Off the top of my head, lists allow duplicates. You could quickly implement a `UniqueArrayList` and override all the `add` / `insert` functions to check for `contains()` before you call the inherited methods. For personal use, you could only implement the `add` method you use, and override the others to throw an exception in case future programmers try to use the list in a different manner.","title":"Is there a no-duplicate List implementation out there?","body":"<p>Off the top of my head, lists allow duplicates. You could quickly implement a <code>UniqueArrayList</code> and override all the <code>add</code> / <code>insert</code> functions to check for <code>contains()</code> before you call the inherited methods. For personal use, you could only implement the <code>add</code> method you use, and override the others to throw an exception in case future programmers try to use the list in a different manner.</p>\n"},{"tags":[],"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"down_vote_count":5,"up_vote_count":17,"is_accepted":false,"score":12,"last_activity_date":1311748778,"creation_date":1225980951,"answer_id":268818,"question_id":268672,"body_markdown":"So here&#39;s what I did eventually. I hope this helps someone else.\r\n\r\n\tclass NoDuplicatesList&lt;E&gt; extends LinkedList&lt;E&gt; {\r\n\t\t@Override\r\n\t\tpublic boolean add(E e) {\r\n\t\t\tif (this.contains(e)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn super.add(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic boolean addAll(Collection&lt;? extends E&gt; collection) {\r\n\t\t\tCollection&lt;E&gt; copy = new LinkedList&lt;E&gt;(collection);\r\n\t\t\tcopy.removeAll(this);\r\n\t\t\treturn super.addAll(copy);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic boolean addAll(int index, Collection&lt;? extends E&gt; collection) {\r\n\t\t\tCollection&lt;E&gt; copy = new LinkedList&lt;E&gt;(collection);\r\n\t\t\tcopy.removeAll(this);\r\n\t\t\treturn super.addAll(index, copy);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void add(int index, E element) {\r\n\t\t\tif (this.contains(element)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsuper.add(index, element);\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n","title":"Is there a no-duplicate List implementation out there?","body":"<p>So here's what I did eventually. I hope this helps someone else.</p>\n\n<pre><code>class NoDuplicatesList&lt;E&gt; extends LinkedList&lt;E&gt; {\n    @Override\n    public boolean add(E e) {\n        if (this.contains(e)) {\n            return false;\n        }\n        else {\n            return super.add(e);\n        }\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends E&gt; collection) {\n        Collection&lt;E&gt; copy = new LinkedList&lt;E&gt;(collection);\n        copy.removeAll(this);\n        return super.addAll(copy);\n    }\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends E&gt; collection) {\n        Collection&lt;E&gt; copy = new LinkedList&lt;E&gt;(collection);\n        copy.removeAll(this);\n        return super.addAll(index, copy);\n    }\n\n    @Override\n    public void add(int index, E element) {\n        if (this.contains(element)) {\n            return;\n        }\n        else {\n            super.add(index, element);\n        }\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1225988904,"creation_date":1225988904,"answer_id":269324,"question_id":268672,"body_markdown":"You should seriously consider dhiller&#39;s answer:\r\n\r\n 1. Instead of worrying about adding your objects to a duplicate-less List, add them to a Set (any implementation), which will by nature filter out the duplicates.\r\n 2. When you need to call the method that requires a List, wrap it in a `new ArrayList(set)` (or a `new LinkedList(set)`, whatever).\r\n\r\nI think that the solution you posted with the `NoDuplicatesList` has some issues, mostly with the `contains()` method, plus your class does not handle checking for duplicates in the Collection passed to your `addAll()` method.","title":"Is there a no-duplicate List implementation out there?","body":"<p>You should seriously consider dhiller's answer:</p>\n\n<ol>\n<li>Instead of worrying about adding your objects to a duplicate-less List, add them to a Set (any implementation), which will by nature filter out the duplicates.</li>\n<li>When you need to call the method that requires a List, wrap it in a <code>new ArrayList(set)</code> (or a <code>new LinkedList(set)</code>, whatever).</li>\n</ol>\n\n<p>I think that the solution you posted with the <code>NoDuplicatesList</code> has some issues, mostly with the <code>contains()</code> method, plus your class does not handle checking for duplicates in the Collection passed to your <code>addAll()</code> method.</p>\n"},{"tags":[],"owner":{"display_name":"Mohammed Sleem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582750244,"creation_date":1248209441,"answer_id":1161673,"question_id":268672,"body_markdown":"I needed something like that, so I went to the _commons collections_ and used the `SetUniqueList`, but when I ran some performance test, I found that it seems not optimized comparing to the case if I want to use a `Set` and obtain an `Array` using the `Set.toArray()` method. \r\n\r\nThe `SetUniqueTest` took _20:1 time_ to fill and then traverse _100,000 Strings_ comparing to the other implementation, which is a big deal difference.\r\n\r\nSo, if you worry about the performance, I recommend you to use the **Set and Get an &lt;E&gt; Array** instead of using the `SetUniqueList`, unless you really need the logic of the `SetUniqueList`, then you&#39;ll need to check other solutions...\r\n\r\n**Testing code main method**:\r\n\r\n  \r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n    SetUniqueList pq = SetUniqueList.decorate(new ArrayList());\r\n    Set s = new TreeSet();\r\n\r\n    long t1 = 0L;\r\n    long t2 = 0L;\r\n    String t;\r\n\r\n\r\n    t1 = System.nanoTime();\r\n    for (int i = 0; i &lt; 200000; i++) {\r\n        pq.add(&quot;a&quot; + Math.random());\r\n    }\r\n    while (!pq.isEmpty()) {\r\n        t = (String) pq.remove(0);\r\n    }\r\n    t1 = System.nanoTime() - t1;\r\n\r\n    t2 = System.nanoTime();\r\n    for (int i = 0; i &lt; 200000; i++) {\r\n        s.add(&quot;a&quot; + Math.random());\r\n    }\r\n    \r\n    s.clear();\r\n    String[] d = (String[]) s.toArray(new String[0]);\r\n    s.clear();\r\n    for (int i = 0; i &lt; d.length; i++) {\r\n        t = d[i];\r\n\r\n    }\r\n    t2 = System.nanoTime() - t2;\r\n\r\n    System.out.println((double)t1/1000/1000/1000); //seconds\r\n    System.out.println((double)t2/1000/1000/1000); //seconds\r\n    System.out.println(((double) t1) / t2);        //comparing results\r\n\r\n}\r\n\r\nRegards,\r\n[Mohammed Sleem](http://abusleem.net/blog)\r\n\r\n","title":"Is there a no-duplicate List implementation out there?","body":"<p>I needed something like that, so I went to the <em>commons collections</em> and used the <code>SetUniqueList</code>, but when I ran some performance test, I found that it seems not optimized comparing to the case if I want to use a <code>Set</code> and obtain an <code>Array</code> using the <code>Set.toArray()</code> method. </p>\n\n<p>The <code>SetUniqueTest</code> took <em>20:1 time</em> to fill and then traverse <em>100,000 Strings</em> comparing to the other implementation, which is a big deal difference.</p>\n\n<p>So, if you worry about the performance, I recommend you to use the <strong>Set and Get an  Array</strong> instead of using the <code>SetUniqueList</code>, unless you really need the logic of the <code>SetUniqueList</code>, then you'll need to check other solutions...</p>\n\n<p><strong>Testing code main method</strong>:</p>\n\n<pre><code>public static void main(String[] args) {\n\n\nSetUniqueList pq = SetUniqueList.decorate(new ArrayList());\nSet s = new TreeSet();\n\nlong t1 = 0L;\nlong t2 = 0L;\nString t;\n\n\nt1 = System.nanoTime();\nfor (int i = 0; i &lt; 200000; i++) {\n    pq.add(\"a\" + Math.random());\n}\nwhile (!pq.isEmpty()) {\n    t = (String) pq.remove(0);\n}\nt1 = System.nanoTime() - t1;\n\nt2 = System.nanoTime();\nfor (int i = 0; i &lt; 200000; i++) {\n    s.add(\"a\" + Math.random());\n}\n\ns.clear();\nString[] d = (String[]) s.toArray(new String[0]);\ns.clear();\nfor (int i = 0; i &lt; d.length; i++) {\n    t = d[i];\n\n}\nt2 = System.nanoTime() - t2;\n\nSystem.out.println((double)t1/1000/1000/1000); //seconds\nSystem.out.println((double)t2/1000/1000/1000); //seconds\nSystem.out.println(((double) t1) / t2);        //comparing results\n</code></pre>\n\n<p>}</p>\n\n<p>Regards,\n<a href=\"http://abusleem.net/blog\" rel=\"nofollow noreferrer\">Mohammed Sleem</a></p>\n"},{"tags":[],"owner":{"account_id":957900,"reputation":7,"user_id":982873,"display_name":"Jonathan"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1317928936,"creation_date":1317928936,"answer_id":7679371,"question_id":268672,"body_markdown":"I just made my own UniqueList in my own little library like this:\r\n\r\n    package com.bprog.collections;//my own little set of useful utilities and classes\r\n\r\n    import java.util.HashSet;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    /**\r\n    *\r\n    * @author Jonathan\r\n    */\r\n    public class UniqueList {\r\n    \r\n    private HashSet masterSet = new HashSet();\r\n    private ArrayList growableUniques;\r\n    private Object[] returnable;\r\n\r\n    public UniqueList() {\r\n        growableUniques = new ArrayList();\r\n    }\r\n\r\n    public UniqueList(int size) {\r\n        growableUniques = new ArrayList(size);\r\n    }\r\n\r\n    public void add(Object thing) {\r\n        if (!masterSet.contains(thing)) {\r\n            masterSet.add(thing);\r\n            growableUniques.add(thing);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Casts to an ArrayList of unique values\r\n     * @return \r\n     */\r\n    public List getList(){\r\n        return growableUniques;\r\n    }\r\n    \r\n    public Object get(int index) {\r\n        return growableUniques.get(index);\r\n    }\r\n\r\n    public Object[] toObjectArray() {\r\n        int size = growableUniques.size();\r\n        returnable = new Object[size];\r\n        for (int i = 0; i &lt; size; i++) {\r\n            returnable[i] = growableUniques.get(i);\r\n        }\r\n        return returnable;\r\n        }\r\n    }\r\n\r\nI have a TestCollections class that looks like this:\r\n\r\n    package com.bprog.collections;\r\n    import com.bprog.out.Out;\r\n    /**\r\n    *\r\n    * @author Jonathan\r\n    */\r\n    public class TestCollections {\r\n        public static void main(String[] args){\r\n            UniqueList ul = new UniqueList();\r\n            ul.add(&quot;Test&quot;);\r\n            ul.add(&quot;Test&quot;);\r\n            ul.add(&quot;Not a copy&quot;);\r\n            ul.add(&quot;Test&quot;); \r\n            //should only contain two things\r\n            Object[] content = ul.toObjectArray();\r\n            Out.pl(&quot;Array Content&quot;,content);\r\n        }\r\n    }\r\n\r\nWorks fine. All it does is it adds to a set if it does not have it already and there&#39;s an Arraylist that is returnable, as well as an object array.\r\n","title":"Is there a no-duplicate List implementation out there?","body":"<p>I just made my own UniqueList in my own little library like this:</p>\n\n<pre><code>package com.bprog.collections;//my own little set of useful utilities and classes\n\nimport java.util.HashSet;\nimport java.util.ArrayList;\nimport java.util.List;\n/**\n*\n* @author Jonathan\n*/\npublic class UniqueList {\n\nprivate HashSet masterSet = new HashSet();\nprivate ArrayList growableUniques;\nprivate Object[] returnable;\n\npublic UniqueList() {\n    growableUniques = new ArrayList();\n}\n\npublic UniqueList(int size) {\n    growableUniques = new ArrayList(size);\n}\n\npublic void add(Object thing) {\n    if (!masterSet.contains(thing)) {\n        masterSet.add(thing);\n        growableUniques.add(thing);\n    }\n}\n\n/**\n * Casts to an ArrayList of unique values\n * @return \n */\npublic List getList(){\n    return growableUniques;\n}\n\npublic Object get(int index) {\n    return growableUniques.get(index);\n}\n\npublic Object[] toObjectArray() {\n    int size = growableUniques.size();\n    returnable = new Object[size];\n    for (int i = 0; i &lt; size; i++) {\n        returnable[i] = growableUniques.get(i);\n    }\n    return returnable;\n    }\n}\n</code></pre>\n\n<p>I have a TestCollections class that looks like this:</p>\n\n<pre><code>package com.bprog.collections;\nimport com.bprog.out.Out;\n/**\n*\n* @author Jonathan\n*/\npublic class TestCollections {\n    public static void main(String[] args){\n        UniqueList ul = new UniqueList();\n        ul.add(\"Test\");\n        ul.add(\"Test\");\n        ul.add(\"Not a copy\");\n        ul.add(\"Test\"); \n        //should only contain two things\n        Object[] content = ul.toObjectArray();\n        Out.pl(\"Array Content\",content);\n    }\n}\n</code></pre>\n\n<p>Works fine. All it does is it adds to a set if it does not have it already and there's an Arraylist that is returnable, as well as an object array.</p>\n"},{"tags":[],"owner":{"account_id":1105583,"reputation":29,"user_id":1097044,"display_name":"neoreeprast"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1506597148,"creation_date":1326460063,"answer_id":8851072,"question_id":268672,"body_markdown":"in `add` method, why not using `HashSet.add()` to check duplicates instead of `HashSet.consist()`.\r\n`HashSet.add()` will return `true` if no duplicate and `false` otherwise.","title":"Is there a no-duplicate List implementation out there?","body":"<p>in <code>add</code> method, why not using <code>HashSet.add()</code> to check duplicates instead of <code>HashSet.consist()</code>.\n<code>HashSet.add()</code> will return <code>true</code> if no duplicate and <code>false</code> otherwise.</p>\n"},{"tags":[],"owner":{"account_id":4377363,"reputation":241,"user_id":3570018,"display_name":"user3570018"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1654841273,"creation_date":1398360984,"answer_id":23275958,"question_id":268672,"body_markdown":"Here is what I did and it works.\r\n\r\nAssuming I have an `ArrayList` to work with the first thing I did was created a new `LinkedHashSet`.\r\n\r\n    LinkedHashSet&lt;E&gt; hashSet = new LinkedHashSet&lt;E&gt;()\r\n\r\nThen I attempt to add my new element to the `LinkedHashSet`.  The add method does not alter the `LinkedHasSet` and returns false if the new element is a duplicate.  So this becomes a condition I can test before adding to the `ArrayList`. \r\n\r\n    if (hashSet.add(E)) arrayList.add(E);\r\n\r\nThis is a simple and elegant way to prevent duplicates from being added to an array list.  If you want you can encapsulate it in and override of the add method in a class that extends the `ArrayList`.  Just remember to deal with `addAll` by looping through the elements and calling the add method. ","title":"Is there a no-duplicate List implementation out there?","body":"<p>Here is what I did and it works.</p>\n<p>Assuming I have an <code>ArrayList</code> to work with the first thing I did was created a new <code>LinkedHashSet</code>.</p>\n<pre><code>LinkedHashSet&lt;E&gt; hashSet = new LinkedHashSet&lt;E&gt;()\n</code></pre>\n<p>Then I attempt to add my new element to the <code>LinkedHashSet</code>.  The add method does not alter the <code>LinkedHasSet</code> and returns false if the new element is a duplicate.  So this becomes a condition I can test before adding to the <code>ArrayList</code>.</p>\n<pre><code>if (hashSet.add(E)) arrayList.add(E);\n</code></pre>\n<p>This is a simple and elegant way to prevent duplicates from being added to an array list.  If you want you can encapsulate it in and override of the add method in a class that extends the <code>ArrayList</code>.  Just remember to deal with <code>addAll</code> by looping through the elements and calling the add method.</p>\n"},{"tags":[],"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665940646,"creation_date":1457069524,"answer_id":35788695,"question_id":268672,"body_markdown":"My lastest implementation: https://github.com/marcolopes/dma/blob/master/org.dma.java/src/org/dma/java/util/UniqueArrayList.java\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.LinkedHashSet;\r\n\r\n    /**\r\n     * Extends &lt;tt&gt;ArrayList&lt;/tt&gt; and guarantees no duplicate elements\r\n     */\r\n    public class UniqueArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n\r\n    \tprivate static final long serialVersionUID = 1L;\r\n\r\n    \tpublic UniqueArrayList(int initialCapacity) {\r\n    \t\tsuper(initialCapacity);\r\n    \t}\r\n\r\n    \tpublic UniqueArrayList() {\r\n    \t\tsuper();\r\n    \t}\r\n\r\n    \tpublic UniqueArrayList(T[] array) {\r\n    \t\tthis(Arrays.asList(array));\r\n    \t}\r\n\r\n    \tpublic UniqueArrayList(Collection&lt;? extends T&gt; col) {\r\n    \t\taddAll(col);\r\n    \t}\r\n\r\n\r\n    \t@Override\r\n    \tpublic void add(int index, T e) {\r\n    \t\tif (!contains(e)) super.add(index, e);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean add(T e) {\r\n    \t\treturn contains(e) ? false : super.add(e);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean addAll(Collection&lt;? extends T&gt; col) {\r\n    \t\tCollection set=new LinkedHashSet(this);\r\n    \t\tset.addAll(col);\r\n    \t\tclear();\r\n    \t\treturn super.addAll(set);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic boolean addAll(int index, Collection&lt;? extends T&gt; col) {\r\n    \t\tCollection set=new LinkedHashSet(subList(0, index));\r\n    \t\tset.addAll(col);\r\n    \t\tset.addAll(subList(index, size()));\r\n    \t\tclear();\r\n    \t\treturn super.addAll(set);\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic T set(int index, T e) {\r\n    \t\treturn contains(e) ? null : super.set(index, e);\r\n    \t}\r\n\r\n    \t/** Ensures element.equals(o) */\r\n    \t@Override\r\n    \tpublic int indexOf(Object o) {\r\n    \t\tint index=0;\r\n    \t\tfor(T element: this){\r\n    \t\t\tif (element.equals(o)) return index;\r\n    \t\t\tindex++;\r\n    \t\t}return -1;\r\n    \t}\r\n\r\n\r\n    }","title":"Is there a no-duplicate List implementation out there?","body":"<p>My lastest implementation: <a href=\"https://github.com/marcolopes/dma/blob/master/org.dma.java/src/org/dma/java/util/UniqueArrayList.java\" rel=\"nofollow noreferrer\">https://github.com/marcolopes/dma/blob/master/org.dma.java/src/org/dma/java/util/UniqueArrayList.java</a></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.LinkedHashSet;\n\n/**\n * Extends &lt;tt&gt;ArrayList&lt;/tt&gt; and guarantees no duplicate elements\n */\npublic class UniqueArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n    private static final long serialVersionUID = 1L;\n\n    public UniqueArrayList(int initialCapacity) {\n        super(initialCapacity);\n    }\n\n    public UniqueArrayList() {\n        super();\n    }\n\n    public UniqueArrayList(T[] array) {\n        this(Arrays.asList(array));\n    }\n\n    public UniqueArrayList(Collection&lt;? extends T&gt; col) {\n        addAll(col);\n    }\n\n\n    @Override\n    public void add(int index, T e) {\n        if (!contains(e)) super.add(index, e);\n    }\n\n    @Override\n    public boolean add(T e) {\n        return contains(e) ? false : super.add(e);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends T&gt; col) {\n        Collection set=new LinkedHashSet(this);\n        set.addAll(col);\n        clear();\n        return super.addAll(set);\n    }\n\n    @Override\n    public boolean addAll(int index, Collection&lt;? extends T&gt; col) {\n        Collection set=new LinkedHashSet(subList(0, index));\n        set.addAll(col);\n        set.addAll(subList(index, size()));\n        clear();\n        return super.addAll(set);\n    }\n\n    @Override\n    public T set(int index, T e) {\n        return contains(e) ? null : super.set(index, e);\n    }\n\n    /** Ensures element.equals(o) */\n    @Override\n    public int indexOf(Object o) {\n        int index=0;\n        for(T element: this){\n            if (element.equals(o)) return index;\n            index++;\n        }return -1;\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23523861,"reputation":1,"user_id":17570655,"display_name":"GerNi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638446220,"creation_date":1638442855,"answer_id":70198218,"question_id":268672,"body_markdown":"What about this?\r\nJust check the list before adding with a contains for an already existing object\r\n\r\n    while (searchResult != null &amp;&amp; searchResult.hasMore()) {\r\n        SearchResult nextElement = searchResult.nextElement();\r\n        Attributes attributes = nextElement.getAttributes();\r\n\r\n        String stringName = getAttributeStringValue(attributes, SearchAttribute.*attributeName*);\r\n       \r\n       if(!List.contains(stringName)){\r\n        List.add(stringName);\r\n       }\r\n    }\r\n\r\n","title":"Is there a no-duplicate List implementation out there?","body":"<p>What about this?\nJust check the list before adding with a contains for an already existing object</p>\n<pre><code>while (searchResult != null &amp;&amp; searchResult.hasMore()) {\n    SearchResult nextElement = searchResult.nextElement();\n    Attributes attributes = nextElement.getAttributes();\n\n    String stringName = getAttributeStringValue(attributes, SearchAttribute.*attributeName*);\n   \n   if(!List.contains(stringName)){\n    List.add(stringName);\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2047,"reputation":8017,"user_id":2819,"accept_rate":67,"display_name":"Yuval"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215479,"favorite_count":0,"down_vote_count":0,"up_vote_count":102,"accepted_answer_id":268713,"answer_count":12,"score":102,"last_activity_date":1665940646,"creation_date":1225977941,"question_id":268672,"body_markdown":"I know about [`SortedSet`][1], but in my case I need something that implements `List`, and not `Set`. So is there an implementation out there, in the API or elsewhere?\r\n\r\nIt shouldn&#39;t be hard to implement myself, but I figured why not ask people here first?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/SortedSet.html","title":"Is there a no-duplicate List implementation out there?","body":"<p>I know about <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/SortedSet.html\" rel=\"noreferrer\"><code>SortedSet</code></a>, but in my case I need something that implements <code>List</code>, and not <code>Set</code>. So is there an implementation out there, in the API or elsewhere?</p>\n\n<p>It shouldn't be hard to implement myself, but I figured why not ask people here first?</p>\n"},{"tags":["java","database","hibernate","view","primary-key"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665719151,"post_id":74061710,"comment_id":130768939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1988337,"reputation":598,"user_id":1782997,"display_name":"Attila T"},"score":1,"creation_date":1665766901,"post_id":74061710,"comment_id":130782561,"body_markdown":"If your domain object has to be an `@Entity` then I don&#39;t think you have any other option than try to identify a set of columns as a composite key. If this is not possible or your domain object doesn&#39;t have to be an entity then the solution depends on the technology stack you&#39;re using, i.e. here&#39;s one that&#39;s using [Spring Data JPA Projections](https://www.baeldung.com/spring-data-jpa-projections).","body":"If your domain object has to be an <code>@Entity</code> then I don&#39;t think you have any other option than try to identify a set of columns as a composite key. If this is not possible or your domain object doesn&#39;t have to be an entity then the solution depends on the technology stack you&#39;re using, i.e. here&#39;s one that&#39;s using <a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">Spring Data JPA Projections</a>."}],"answers":[{"tags":[],"owner":{"account_id":16839049,"reputation":21,"user_id":15363575,"display_name":"Mefistofeles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665940567,"creation_date":1665940567,"answer_id":74089228,"question_id":74061710,"body_markdown":"I ended up using a composite key using the IdClass annotation:\r\nhttps://www.baeldung.com/jpa-composite-primary-keys","title":"Java Hibernate entity of a View without an ID","body":"<p>I ended up using a composite key using the IdClass annotation:\n<a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-composite-primary-keys</a></p>\n"}],"owner":{"account_id":16839049,"reputation":21,"user_id":15363575,"display_name":"Mefistofeles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665940567,"creation_date":1665694527,"question_id":74061710,"body_markdown":"First of all, **I did search this question**, but every answer was simply &quot;add the ID to the view&quot;, which isn&#39;t possible in my case.\r\n\r\nTo elaborate, I have a backend written in Java, and I&#39;m using Hibernate. I need to recover data from a view with several columns, none of which are unique, which means I can&#39;t use them as an ID. Given that Hibernate demands that an @Entity have a field with an @Id annotation, this is a problem.\r\n\r\nI cannot modify the view.\r\n\r\nSo, what would be the best solution? My current idea is to write a new IdClass to use as a composite PK.","title":"Java Hibernate entity of a View without an ID","body":"<p>First of all, <strong>I did search this question</strong>, but every answer was simply &quot;add the ID to the view&quot;, which isn't possible in my case.</p>\n<p>To elaborate, I have a backend written in Java, and I'm using Hibernate. I need to recover data from a view with several columns, none of which are unique, which means I can't use them as an ID. Given that Hibernate demands that an @Entity have a field with an @Id annotation, this is a problem.</p>\n<p>I cannot modify the view.</p>\n<p>So, what would be the best solution? My current idea is to write a new IdClass to use as a composite PK.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1665940457,"post_id":74089192,"comment_id":130811738,"body_markdown":"Your app does not have access to the contents of `Documents/` on Android 11+, except for files that your app placed there. Rather than create your own file-selection UI, use `ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument` for a system-supplied one that *does* work with `Documents/`.","body":"Your app does not have access to the contents of <code>Documents&#47;</code> on Android 11+, except for files that your app placed there. Rather than create your own file-selection UI, use <code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code> for a system-supplied one that <i>does</i> work with <code>Documents&#47;</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665940709,"post_id":74089192,"comment_id":130811795,"body_markdown":"`After creating this directory, I have write the code below` If you created a directory then that directory is empty. So i do not understand that you are listing files after that as you will certainly have a zero items list.","body":"<code>After creating this directory, I have write the code below</code> If you created a directory then that directory is empty. So i do not understand that you are listing files after that as you will certainly have a zero items list."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1665940836,"post_id":74089192,"comment_id":130811826,"body_markdown":"And what do you mean with &#39;a custom file path&#39;?","body":"And what do you mean with &#39;a custom file path&#39;?"},{"owner":{"account_id":19554901,"reputation":21,"user_id":14309554,"display_name":"Sk Rijaul"},"score":0,"creation_date":1666188822,"post_id":74089192,"comment_id":130877104,"body_markdown":"@blackapps the created a folder named &quot;App Name&quot; inside &quot;document&quot;. And the file path of downloaded pdf is &quot;/storage/emulated/0/Documents/AppName/xyz.pdf&quot;. How can we show all PDFs from &quot;App Name&quot; folder to a recyclerView??","body":"@blackapps the created a folder named &quot;App Name&quot; inside &quot;document&quot;. And the file path of downloaded pdf is &quot;/storage/emulated/0/Documents/AppName/xyz.pdf&quot;. How can we show all PDFs from &quot;App Name&quot; folder to a recyclerView??"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1666195076,"post_id":74089192,"comment_id":130879766,"body_markdown":"Uf you could react to the point to my comments first..","body":"Uf you could react to the point to my comments first.."}],"owner":{"account_id":19554901,"reputation":21,"user_id":14309554,"display_name":"Sk Rijaul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665940323,"creation_date":1665940323,"question_id":74089192,"body_markdown":"I want to retrive pdf files from a custom file path and show them all recyclerview.\r\nMy Code is Here,\r\n\r\n \r\n\r\n    public static final File PDF_DIRECTORY =\r\n                new File(Environment.DIRECTORY_DOCUMENTS + File.separator + &quot;/AppName/&quot;);\r\n    \r\n    \r\n       File file;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                file = new File(Environment.DIRECTORY_DOCUMENTS, &quot;/AppName/&quot;);\r\n            } else {\r\n                file = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/AppName&quot;);\r\n            }\r\n    \r\n            if (!file.exists()) {\r\n                file.mkdirs();\r\n            }\r\n\r\nAfter creating this directory, I have write the code below,\r\n\r\n    private void getPdf(View view) {\r\n    \r\n            new Thread(() -&gt; {\r\n                PDFModel pdfModel;\r\n                allFiles = PDF_DIRECTORY.listFiles();\r\n    \r\n                if (allFiles != null) {\r\n    \r\n                    try {\r\n    \r\n                        Arrays.sort(allFiles, (o1, o2) -&gt; Long.compare(o2.lastModified(), o1.lastModified()));\r\n    \r\n                        for (File file : allFiles) {\r\n                            if (file.getName().endsWith(&quot;.pdf&quot;)) {\r\n                                pdfModel = new PDFModel(\r\n                                        file.getAbsolutePath());\r\n                                pdfModelArrayList.add(pdfModel);\r\n                            }\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    handler.post(() -&gt; {\r\n                        if (pdfModelArrayList.size() &lt;= 0) {\r\n    \r\n    } else {\r\n                            //           noResultSwipeImage.setVisibility(View.GONE);\r\n                        }\r\n    \r\n                        pdfAdapter = new PdfAdapter(pdfModelArrayList, view.getContext());\r\n                        recyclerView.setAdapter(pdfAdapter);\r\n                        recyclerView.setHasFixedSize(true);\r\n                        pdfAdapter.notifyDataSetChanged();\r\n    \r\n                    });\r\n    \r\n                } else {\r\n                    \r\n                }\r\n    \r\n    \r\n            }).start();\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    private void getStatusScope(View view) {\r\n    \r\n    \r\n            ContentResolver cr = requireActivity().getContentResolver();\r\n            Uri uri = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n    \r\n            String[] projection = {MediaStore.Files.FileColumns._ID, MediaStore.Files.FileColumns.DISPLAY_NAME};\r\n            String selection = MediaStore.Files.FileColumns.MEDIA_TYPE + &quot;=&quot;\r\n                    + MediaStore.Files.FileColumns.MEDIA_TYPE;\r\n            String[] selectionArgs = null;\r\n            String selectionMimeType = MediaStore.Files.FileColumns.MIME_TYPE + &quot;=?&quot;;\r\n            String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n            String[] selectionArgsPdf = new String[]{mimeType};\r\n    \r\n            Cursor c = cr.query(uri, projection, selectionMimeType, selectionArgsPdf, null);\r\n            if (c != null) {\r\n                while (c.moveToNext()) {\r\n                    PDFModel whatsappstatusmodel = new PDFModel(c.getString(0));\r\n                    pdfModelArrayList.add(whatsappstatusmodel);\r\n                }\r\n                c.close();\r\n            }\r\n    \r\n            if (pdfModelArrayList.size() &lt;= 0) {\r\n      //Do Something Here\r\n            } else {\r\n            \r\n                pdfAdapter = new PdfAdapter(pdfModelArrayList, view.getContext());\r\n                recyclerView.setAdapter(pdfAdapter);\r\n                recyclerView.setHasFixedSize(true);\r\n                pdfAdapter.notifyDataSetChanged();\r\n            }\r\n    \r\n        }\r\n\r\n\r\n\r\n\r\n\r\nBut this code does not work! This code returns a zero-item array list, actually, I&#39;m a little confused about android scope storage, can anyone give me an example code or give me any idea about this?\r\n","title":"how to retrieve pdf files from a an custom file path, which will work perfectly on every version of android?","body":"<p>I want to retrive pdf files from a custom file path and show them all recyclerview.\nMy Code is Here,</p>\n<pre><code>public static final File PDF_DIRECTORY =\n            new File(Environment.DIRECTORY_DOCUMENTS + File.separator + &quot;/AppName/&quot;);\n\n\n   File file;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            file = new File(Environment.DIRECTORY_DOCUMENTS, &quot;/AppName/&quot;);\n        } else {\n            file = new File(Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/AppName&quot;);\n        }\n\n        if (!file.exists()) {\n            file.mkdirs();\n        }\n</code></pre>\n<p>After creating this directory, I have write the code below,</p>\n<pre><code>private void getPdf(View view) {\n\n        new Thread(() -&gt; {\n            PDFModel pdfModel;\n            allFiles = PDF_DIRECTORY.listFiles();\n\n            if (allFiles != null) {\n\n                try {\n\n                    Arrays.sort(allFiles, (o1, o2) -&gt; Long.compare(o2.lastModified(), o1.lastModified()));\n\n                    for (File file : allFiles) {\n                        if (file.getName().endsWith(&quot;.pdf&quot;)) {\n                            pdfModel = new PDFModel(\n                                    file.getAbsolutePath());\n                            pdfModelArrayList.add(pdfModel);\n                        }\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n                handler.post(() -&gt; {\n                    if (pdfModelArrayList.size() &lt;= 0) {\n\n} else {\n                        //           noResultSwipeImage.setVisibility(View.GONE);\n                    }\n\n                    pdfAdapter = new PdfAdapter(pdfModelArrayList, view.getContext());\n                    recyclerView.setAdapter(pdfAdapter);\n                    recyclerView.setHasFixedSize(true);\n                    pdfAdapter.notifyDataSetChanged();\n\n                });\n\n            } else {\n                \n            }\n\n\n        }).start();\n\n\n    }\n\n\nprivate void getStatusScope(View view) {\n\n\n        ContentResolver cr = requireActivity().getContentResolver();\n        Uri uri = MediaStore.Files.getContentUri(&quot;external&quot;);\n\n        String[] projection = {MediaStore.Files.FileColumns._ID, MediaStore.Files.FileColumns.DISPLAY_NAME};\n        String selection = MediaStore.Files.FileColumns.MEDIA_TYPE + &quot;=&quot;\n                + MediaStore.Files.FileColumns.MEDIA_TYPE;\n        String[] selectionArgs = null;\n        String selectionMimeType = MediaStore.Files.FileColumns.MIME_TYPE + &quot;=?&quot;;\n        String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n        String[] selectionArgsPdf = new String[]{mimeType};\n\n        Cursor c = cr.query(uri, projection, selectionMimeType, selectionArgsPdf, null);\n        if (c != null) {\n            while (c.moveToNext()) {\n                PDFModel whatsappstatusmodel = new PDFModel(c.getString(0));\n                pdfModelArrayList.add(whatsappstatusmodel);\n            }\n            c.close();\n        }\n\n        if (pdfModelArrayList.size() &lt;= 0) {\n  //Do Something Here\n        } else {\n        \n            pdfAdapter = new PdfAdapter(pdfModelArrayList, view.getContext());\n            recyclerView.setAdapter(pdfAdapter);\n            recyclerView.setHasFixedSize(true);\n            pdfAdapter.notifyDataSetChanged();\n        }\n\n    }\n</code></pre>\n<p>But this code does not work! This code returns a zero-item array list, actually, I'm a little confused about android scope storage, can anyone give me an example code or give me any idea about this?</p>\n"},{"tags":["java","service-provider"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665940222,"post_id":74089126,"comment_id":130811692,"body_markdown":"As far as I can tell, that code does what the docs claim: it returns the cached and instantiated providers first, and then uses an iterator to look up the rest. A [mre] would help.","body":"As far as I can tell, that code does what the docs claim: it returns the cached and instantiated providers first, and then uses an iterator to look up the rest. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help."},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1665940355,"post_id":74089126,"comment_id":130811715,"body_markdown":"But the providers are instantiated (and cached) during bootstrap, so why is the config null when they&#39;re used (via the serve() method)?","body":"But the providers are instantiated (and cached) during bootstrap, so why is the config null when they&#39;re used (via the serve() method)?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1665940560,"post_id":74089126,"comment_id":130811759,"body_markdown":"As I said, provide a [mre] we can compile and run to see what happens.","body":"As I said, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> we can compile and run to see what happens."},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1665940643,"post_id":74089126,"comment_id":130811782,"body_markdown":"Sure, composing it right now. Thanks!","body":"Sure, composing it right now. Thanks!"},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":1,"creation_date":1665941853,"post_id":74089126,"comment_id":130812029,"body_markdown":"@MarkRotteveel I just created a MVP and it is working as expected. The above code was a part of a large codebase, and the problem seems to be somewhere else. I&#39;ll dig more and update! Thank you for the quick help regardless :)","body":"@MarkRotteveel I just created a MVP and it is working as expected. The above code was a part of a large codebase, and the problem seems to be somewhere else. I&#39;ll dig more and update! Thank you for the quick help regardless :)"}],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665940134,"creation_date":1665939881,"question_id":74089126,"body_markdown":"Say I have a service:\r\n\r\n```\r\npublic interface Svc {\r\n    public void init(Config config);\r\n    public void service();\r\n}\r\n```\r\nAnd its implementation:\r\n```\r\npublic class MySvc implements Svc {\r\n    private Config config = null;\r\n    public void init(Config config) {\r\n        this.config = config;\r\n    }\r\n    public void service() {\r\n       if (config == null) {\r\n           System.err.println(&quot;null config&quot;);\r\n       }\r\n    }\r\n}\r\n```\r\n\r\nOn application bootstrap, I do:\r\n\r\n```\r\npublic void bootstrap() {\r\n    //initialise all providers\r\n    serviceLoader.iterator().forEach(svcImpl -&gt; svcImpl.init(config));\r\n}\r\n```\r\n\r\nNow, at some other point in my code, I do (with the same `serviceLoader` object):\r\n\r\n```\r\nserviceLoader.iterator().forEach(svcImpl -&gt; svcImpl.serve());\r\n```\r\n\r\nIt prints `null config`\r\n\r\nThe docs for `iterator` say:\r\n\r\n&gt; Caching: The iterator returned by this method first yields all of the\r\n&gt; elements of the provider cache, in the order that they were loaded. It\r\n&gt; then lazily loads and instantiates any remaining service providers,\r\n&gt; adding each one to the cache in turn. If this loader&#39;s provider caches\r\n&gt; are cleared by invoking the reload method then existing iterators for\r\n&gt; this service loader should be discarded. The hasNext and next methods\r\n&gt; of the iterator throw ConcurrentModificationException if used after\r\n&gt; the provider cache has been cleared.\r\n\r\nI was of the understanding that the iterator could keep returning cached instances of the objects as per the code, but this doesn&#39;t seem to be the case here:\r\n\r\n```\r\n@Override\r\npublic S next() {\r\n    checkReloadCount();\r\n    S next;\r\n    if (index &lt; instantiatedProviders.size()) {\r\n        next = instantiatedProviders.get(index);\r\n    } else {\r\n        next = lookupIterator1.next().get();\r\n        instantiatedProviders.add(next);\r\n    }\r\n    index++;\r\n    return next;\r\n}\r\n```","title":"Java Service Loader Instance Caching","body":"<p>Say I have a service:</p>\n<pre><code>public interface Svc {\n    public void init(Config config);\n    public void service();\n}\n</code></pre>\n<p>And its implementation:</p>\n<pre><code>public class MySvc implements Svc {\n    private Config config = null;\n    public void init(Config config) {\n        this.config = config;\n    }\n    public void service() {\n       if (config == null) {\n           System.err.println(&quot;null config&quot;);\n       }\n    }\n}\n</code></pre>\n<p>On application bootstrap, I do:</p>\n<pre><code>public void bootstrap() {\n    //initialise all providers\n    serviceLoader.iterator().forEach(svcImpl -&gt; svcImpl.init(config));\n}\n</code></pre>\n<p>Now, at some other point in my code, I do (with the same <code>serviceLoader</code> object):</p>\n<pre><code>serviceLoader.iterator().forEach(svcImpl -&gt; svcImpl.serve());\n</code></pre>\n<p>It prints <code>null config</code></p>\n<p>The docs for <code>iterator</code> say:</p>\n<blockquote>\n<p>Caching: The iterator returned by this method first yields all of the\nelements of the provider cache, in the order that they were loaded. It\nthen lazily loads and instantiates any remaining service providers,\nadding each one to the cache in turn. If this loader's provider caches\nare cleared by invoking the reload method then existing iterators for\nthis service loader should be discarded. The hasNext and next methods\nof the iterator throw ConcurrentModificationException if used after\nthe provider cache has been cleared.</p>\n</blockquote>\n<p>I was of the understanding that the iterator could keep returning cached instances of the objects as per the code, but this doesn't seem to be the case here:</p>\n<pre><code>@Override\npublic S next() {\n    checkReloadCount();\n    S next;\n    if (index &lt; instantiatedProviders.size()) {\n        next = instantiatedProviders.get(index);\n    } else {\n        next = lookupIterator1.next().get();\n        instantiatedProviders.add(next);\n    }\n    index++;\n    return next;\n}\n</code></pre>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1285350215,"creation_date":1285349899,"answer_id":3789584,"question_id":3789555,"body_markdown":"This is not a bug.  The values are correct.\r\n\r\nYou are getting the bounds of each screen, and then you are getting the X and Y coordinates of each bound, which is the coordinate of the upper-left corner.  &lt;code&gt;GraphicsConfiguration.getBounds()&lt;/code&gt; returns a &lt;code&gt;Rectangle&lt;/code&gt; defining the screen boundaries. &lt;code&gt;Rectangle.getX()&lt;/code&gt; and &lt;code&gt;Rectangle.getY()&lt;/code&gt; return the coordinates of the upper-left corner of the rectangle.  &lt;code&gt;Rectangle.getWidth()&lt;/code&gt; and &lt;code&gt;Rectangle.getHeight()&lt;/code&gt; return the size.\r\n\r\nYou have two monitors.  Here are the boundaries of each monitor:\r\n\r\n&lt;pre&gt;\r\n1: X = 0   , Y = 0, Width = 1920, Height = 1080\r\n2: X = 1920, Y = 0, Width = 1280, Height = 1080\r\n&lt;/pre&gt;","title":"Java Swing; Problems with Java GraphicsConfiguration.getBounds() returning 0","body":"<p>This is not a bug.  The values are correct.</p>\n\n<p>You are getting the bounds of each screen, and then you are getting the X and Y coordinates of each bound, which is the coordinate of the upper-left corner.  <code>GraphicsConfiguration.getBounds()</code> returns a <code>Rectangle</code> defining the screen boundaries. <code>Rectangle.getX()</code> and <code>Rectangle.getY()</code> return the coordinates of the upper-left corner of the rectangle.  <code>Rectangle.getWidth()</code> and <code>Rectangle.getHeight()</code> return the size.</p>\n\n<p>You have two monitors.  Here are the boundaries of each monitor:</p>\n\n<pre>\n1: X = 0   , Y = 0, Width = 1920, Height = 1080\n2: X = 1920, Y = 0, Width = 1280, Height = 1080\n</pre>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938994,"creation_date":1665937531,"answer_id":74088822,"question_id":3789555,"body_markdown":"On Windows 10/Java 8 the ratio of `text scaling factors` goes into coordinates of secondary screens.\r\n\r\nE.g. Two screens, widths 1920 + 1600 with common border line, both text scaling 125%\r\n\r\n`Bounds java.awt.Rectangle[x=0,y=0,width=1920,height=1080]`\r\n&lt;br&gt;`Bounds java.awt.Rectangle[x=1920,y=174,width=1600,height=900]`\r\n\r\nNow, when the text scaling of the second screen is changed to 100%, I get\r\n\r\n`Bounds java.awt.Rectangle[x=0,y=0,width=1920,height=1080]`\r\n&lt;br&gt;`Bounds java.awt.Rectangle[x=2400,y=218,width=2000,height=1125]` .\r\n\r\nThe bounds of the second screen appear scaled by 125%. This is to be considered, \r\ne.g. when capturing all screens, which independent from text scaling will produce a section\r\n\r\n`Bounds java.awt.Rectangle[x=1920,y=174,width=1600,height=900]` \r\n\r\nfor the secondary screen.\r\n\r\n&lt;h1&gt;EDIT&lt;/h1&gt;\r\n\r\n`GraphicDevice.getDisplayMode().getWidth()` delivers the text-scale-invariant value 1600 for the second screen and so the correcting factor for the rectangles reported by `GraphicsConfiguration.getBounds()`","title":"Java Swing; Problems with Java GraphicsConfiguration.getBounds() returning 0","body":"<p>On Windows 10/Java 8 the ratio of <code>text scaling factors</code> goes into coordinates of secondary screens.</p>\n<p>E.g. Two screens, widths 1920 + 1600 with common border line, both text scaling 125%</p>\n<p><code>Bounds java.awt.Rectangle[x=0,y=0,width=1920,height=1080]</code>\n<br><code>Bounds java.awt.Rectangle[x=1920,y=174,width=1600,height=900]</code></p>\n<p>Now, when the text scaling of the second screen is changed to 100%, I get</p>\n<p><code>Bounds java.awt.Rectangle[x=0,y=0,width=1920,height=1080]</code>\n<br><code>Bounds java.awt.Rectangle[x=2400,y=218,width=2000,height=1125]</code> .</p>\n<p>The bounds of the second screen appear scaled by 125%. This is to be considered,\ne.g. when capturing all screens, which independent from text scaling will produce a section</p>\n<p><code>Bounds java.awt.Rectangle[x=1920,y=174,width=1600,height=900]</code></p>\n<p>for the secondary screen.</p>\n<h1>EDIT</h1>\n<p><code>GraphicDevice.getDisplayMode().getWidth()</code> delivers the text-scale-invariant value 1600 for the second screen and so the correcting factor for the rectangles reported by <code>GraphicsConfiguration.getBounds()</code></p>\n"}],"owner":{"display_name":"user402642"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3789584,"answer_count":2,"score":2,"last_activity_date":1665938994,"creation_date":1285349620,"question_id":3789555,"body_markdown":"It seems that the .getBounds() method of the GraphicsConfiguration class is not reporting the correct values.\r\n\r\n     \r\n\r\n       GraphicsDevice[] gdArr = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices();\r\n\r\n            int width = 0;\r\n            for (GraphicsDevice gd : gdArr)\r\n            {\r\n                if (gd.getType() == gd.TYPE_RASTER_SCREEN)                                                \r\n                    System.out.println(&quot;Value is: &quot; + gd.getDefaultConfiguration().getBounds().getX());                \r\n            }            \r\n\r\nI have two monitors: running 1920 * 1080 and 1280 * 1080.\r\n\r\nI get the following values:\r\n\r\nfor .getX() I get:\r\n\r\n    Value = 1920\r\n    Value = 0\r\n\r\nfor .getY() I get:\r\n\r\n    Value = 0\r\n    Value = 0\r\n\r\nI&#39;m running on a Linux platform with Nvidia&#39;s Twinview.  Is this a bug outside of Swing?","title":"Java Swing; Problems with Java GraphicsConfiguration.getBounds() returning 0","body":"<p>It seems that the .getBounds() method of the GraphicsConfiguration class is not reporting the correct values.</p>\n\n<pre><code>   GraphicsDevice[] gdArr = GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices();\n\n        int width = 0;\n        for (GraphicsDevice gd : gdArr)\n        {\n            if (gd.getType() == gd.TYPE_RASTER_SCREEN)                                                \n                System.out.println(\"Value is: \" + gd.getDefaultConfiguration().getBounds().getX());                \n        }            \n</code></pre>\n\n<p>I have two monitors: running 1920 * 1080 and 1280 * 1080.</p>\n\n<p>I get the following values:</p>\n\n<p>for .getX() I get:</p>\n\n<pre><code>Value = 1920\nValue = 0\n</code></pre>\n\n<p>for .getY() I get:</p>\n\n<pre><code>Value = 0\nValue = 0\n</code></pre>\n\n<p>I'm running on a Linux platform with Nvidia's Twinview.  Is this a bug outside of Swing?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"score":0,"creation_date":1665943511,"post_id":74088611,"comment_id":130812430,"body_markdown":"Hi, I am assuming that your query does not work, but could you explain what is failing explicitly.","body":"Hi, I am assuming that your query does not work, but could you explain what is failing explicitly."},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1665980386,"post_id":74088611,"comment_id":130818023,"body_markdown":"what is data type of `variables` field ? is it nested or object? can you please post your index mapping ?","body":"what is data type of <code>variables</code> field ? is it nested or object? can you please post your index mapping ?"}],"owner":{"account_id":1605331,"reputation":23,"user_id":3147473,"display_name":"user3147473"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665938976,"creation_date":1665936029,"question_id":74088611,"body_markdown":"I am using Java to perform queries on Elasticsearch, via the ElasticSearchClient. As there are big variables returned, I would like to only retrieve the ones that are relevant but the variables in _source are nested.\r\n\r\nBelow is a sample index response (multiple indexes can be returned with same _source structure)\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;_index&quot;: &quot;kn-tas-20200630&quot;,\r\n        &quot;_type&quot;: &quot;_doc&quot;,\r\n        &quot;_id&quot;: &quot;1122334455&quot;,\r\n        &quot;_score&quot;: null,\r\n        &quot;_source&quot;: {\r\n            &quot;variables&quot;: [\r\n                {\r\n                    &quot;rawValue&quot;: &quot;DEFH&quot;,\r\n                    &quot;name&quot;: &quot;MANAGER&quot;\r\n                },\r\n                {\r\n                    &quot;rawValue&quot;: &quot;ABCD&quot;,\r\n                    &quot;name&quot;: &quot;EMPLOYEE&quot;\r\n                },\r\n                {\r\n                    &quot;rawValue&quot;: &quot;[{\\&quot;rowId\\&quot;:102030,\\&quot;rowType\\&quot;:\\&quot;SIM\\&quot;}]&quot;,\r\n                    &quot;name&quot;: &quot;extData&quot;\r\n                }\r\n            ]\r\n        },\r\n        &quot;sort&quot;: [\r\n            1665735632119\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nI would like to create a query using SearchSourceBuilder to query ES and only retrieve the following:\r\n\r\n - Get the rawValue by name (I provide Manager, I get &quot;DFEH&quot;)\r\n - Get the rowType value (I provide extData + row Type, I get &quot;SIM&quot;)\r\n\r\nBelow is my query:\r\n\r\n```json\r\n{\r\n    &quot;from&quot;: 0,\r\n    &quot;size&quot;: 100,\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                    &quot;terms&quot;: {\r\n                        &quot;prcKey&quot;: [\r\n                            &quot;K-112&quot;\r\n                        ],\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                }\r\n            ],\r\n            &quot;must_not&quot;: [\r\n                {\r\n                    &quot;exists&quot;: {\r\n                        &quot;field&quot;: &quot;endDate&quot;,\r\n                        &quot;boost&quot;: 1.0\r\n                    }\r\n                },\r\n                {\r\n                    &quot;term&quot;: {\r\n                        &quot;personInCharge&quot;: {\r\n                            &quot;value&quot;: &quot;ABC&quot;,\r\n                            &quot;boost&quot;: 1.0\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            &quot;adjust_pure_negative&quot;: true,\r\n            &quot;boost&quot;: 1.0\r\n        }\r\n    },\r\n    &quot;_source&quot;: {\r\n        &quot;includes&quot;: [\r\n            &quot;variables.name&quot;,\r\n            &quot;variables.rawValue&quot;\r\n        ],\r\n        &quot;excludes&quot;: []\r\n    },\r\n    &quot;sort&quot;: [\r\n        {\r\n            &quot;createTime&quot;: {\r\n                &quot;order&quot;: &quot;desc&quot;\r\n            }\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nHow can I fix my query? I tried using nested queries but without any luck.\r\n","title":"Searching _source and returning only needed fields using Java","body":"<p>I am using Java to perform queries on Elasticsearch, via the ElasticSearchClient. As there are big variables returned, I would like to only retrieve the ones that are relevant but the variables in _source are nested.</p>\n<p>Below is a sample index response (multiple indexes can be returned with same _source structure)</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;_index&quot;: &quot;kn-tas-20200630&quot;,\n        &quot;_type&quot;: &quot;_doc&quot;,\n        &quot;_id&quot;: &quot;1122334455&quot;,\n        &quot;_score&quot;: null,\n        &quot;_source&quot;: {\n            &quot;variables&quot;: [\n                {\n                    &quot;rawValue&quot;: &quot;DEFH&quot;,\n                    &quot;name&quot;: &quot;MANAGER&quot;\n                },\n                {\n                    &quot;rawValue&quot;: &quot;ABCD&quot;,\n                    &quot;name&quot;: &quot;EMPLOYEE&quot;\n                },\n                {\n                    &quot;rawValue&quot;: &quot;[{\\&quot;rowId\\&quot;:102030,\\&quot;rowType\\&quot;:\\&quot;SIM\\&quot;}]&quot;,\n                    &quot;name&quot;: &quot;extData&quot;\n                }\n            ]\n        },\n        &quot;sort&quot;: [\n            1665735632119\n        ]\n    }\n]\n</code></pre>\n<p>I would like to create a query using SearchSourceBuilder to query ES and only retrieve the following:</p>\n<ul>\n<li>Get the rawValue by name (I provide Manager, I get &quot;DFEH&quot;)</li>\n<li>Get the rowType value (I provide extData + row Type, I get &quot;SIM&quot;)</li>\n</ul>\n<p>Below is my query:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;from&quot;: 0,\n    &quot;size&quot;: 100,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;terms&quot;: {\n                        &quot;prcKey&quot;: [\n                            &quot;K-112&quot;\n                        ],\n                        &quot;boost&quot;: 1.0\n                    }\n                }\n            ],\n            &quot;must_not&quot;: [\n                {\n                    &quot;exists&quot;: {\n                        &quot;field&quot;: &quot;endDate&quot;,\n                        &quot;boost&quot;: 1.0\n                    }\n                },\n                {\n                    &quot;term&quot;: {\n                        &quot;personInCharge&quot;: {\n                            &quot;value&quot;: &quot;ABC&quot;,\n                            &quot;boost&quot;: 1.0\n                        }\n                    }\n                }\n            ],\n            &quot;adjust_pure_negative&quot;: true,\n            &quot;boost&quot;: 1.0\n        }\n    },\n    &quot;_source&quot;: {\n        &quot;includes&quot;: [\n            &quot;variables.name&quot;,\n            &quot;variables.rawValue&quot;\n        ],\n        &quot;excludes&quot;: []\n    },\n    &quot;sort&quot;: [\n        {\n            &quot;createTime&quot;: {\n                &quot;order&quot;: &quot;desc&quot;\n            }\n        }\n    ]\n}\n</code></pre>\n<p>How can I fix my query? I tried using nested queries but without any luck.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1665810828,"post_id":74074851,"comment_id":130790418,"body_markdown":"what version of Elasticsearch is your cluster running on? Could it be that it&#39;s version 8? Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17","body":"what version of Elasticsearch is your cluster running on? Could it be that it&#39;s version 8? Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17"},{"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"score":0,"creation_date":1665831190,"post_id":74074851,"comment_id":130793552,"body_markdown":"@P.J.Meisch just one word, you are &quot;hero&quot;. I also checked some of your answers and was hoping answer from you, you did, and you saved my life. I used spring-boot-starter-data-elasticsearch 2.7.3 and downgraded es to 7.17.6 and it worked. Thanks again. If you do this comment as an answer than I can check as the correct answer","body":"@P.J.Meisch just one word, you are &quot;hero&quot;. I also checked some of your answers and was hoping answer from you, you did, and you saved my life. I used spring-boot-starter-data-elasticsearch 2.7.3 and downgraded es to 7.17.6 and it worked. Thanks again. If you do this comment as an answer than I can check as the correct answer"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665938735,"creation_date":1665938735,"answer_id":74088980,"question_id":74074851,"body_markdown":"Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17, this is problematic when running against an Elasticsearch cluster in version 8. Youhave basically two options:\r\n\r\n1. Downgrade your cluster to version 7.17.6 (the latest 7.17 currently available) i f this is possible.\r\n\r\n2. You can try and see if setting the compatibility headers (see the [Spring Data Elasticsearch documentation section 5.3.1](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration) for more info). This **should** work, but I encountered cases where the response from the cluster still wasn&#39;t readable with a 7.17 client. - I had issues opened with Elasticsearch and they were resolved, but there still might be hidden traps.","title":"How to use stable RestHighLevelClient with Elasticsearch?","body":"<p>Spring Data Elasticsearch 4.4 (which is pulled in by Spring Boot 2.7.3) is build with the Elasticsearch libraries in version 7.17, this is problematic when running against an Elasticsearch cluster in version 8. Youhave basically two options:</p>\n<ol>\n<li><p>Downgrade your cluster to version 7.17.6 (the latest 7.17 currently available) i f this is possible.</p>\n</li>\n<li><p>You can try and see if setting the compatibility headers (see the <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.clients.configuration\" rel=\"nofollow noreferrer\">Spring Data Elasticsearch documentation section 5.3.1</a> for more info). This <strong>should</strong> work, but I encountered cases where the response from the cluster still wasn't readable with a 7.17 client. - I had issues opened with Elasticsearch and they were resolved, but there still might be hidden traps.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74088980,"answer_count":1,"score":0,"last_activity_date":1665938735,"creation_date":1665781457,"question_id":74074851,"body_markdown":"I have searched for so many posts but I couldn&#39;t find a proper way to use Elastic Search with spring boot application because I am totally new to elastic search.\r\n\r\nMy only dependency is:\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nMy config class is:\r\n\r\n    import org.elasticsearch.client.RestHighLevelClient;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.client.ClientConfiguration;\r\n    import org.springframework.data.elasticsearch.client.RestClients;\r\n    import org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\r\n    import org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    \r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;com.backend.repository.elasticsearchrepository&quot;)\r\n    @ComponentScan(basePackages = {&quot;com.backend.model.elasticsearchmodel&quot;})\r\n    public class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\r\n    \r\n        @Value(&quot;${spring.elasticsearch.url}&quot;)\r\n        public String elasticsearchUrl;\r\n    \r\n        @Value(&quot;${spring.elasticsearch.username}&quot;)\r\n        public String username;\r\n    \r\n        @Value(&quot;${spring.elasticsearch.password}&quot;)\r\n        public String password;\r\n    \r\n    \r\n        @Bean\r\n        @Override\r\n        public RestHighLevelClient elasticsearchClient() {\r\n            final ClientConfiguration config = ClientConfiguration.builder()\r\n                    .connectedTo(elasticsearchUrl)\r\n                    .withBasicAuth(username, password)\r\n                    .build();\r\n    \r\n            return RestClients.create(config).rest();\r\n        }\r\n    }\r\nHere RestHighLevelClient is shown as deprecated. And my repository class is:\r\n\r\n    package com.backend.repository.elasticsearchrepository;\r\n    \r\n    import com.backend.model.elasticsearchmodel.EsOffice;\r\n    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n    \r\n    import java.util.UUID;\r\n    \r\n    public interface ESOfficeRepository extends ElasticsearchRepository&lt;EsOffice, UUID&gt; {\r\n    }\r\n\r\nWhen I call the methods of this repository then it works fine but while storing the data it is returning error message even if it adds the data successfully.\r\n\r\n    2022-10-15 00:00:15.608 ERROR 51607 --- [nio-8080-exec-2] c.a.a.exception.GlobalExceptionHandler   : Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is java.lang.RuntimeException: Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}\r\n\r\nWhich POM dependency + what kind of repository should I use and How can I configure it in my config file ? I need these 3 that compatible with each other ?","title":"How to use stable RestHighLevelClient with Elasticsearch?","body":"<p>I have searched for so many posts but I couldn't find a proper way to use Elastic Search with spring boot application because I am totally new to elastic search.</p>\n<p>My only dependency is:\n\norg.springframework.boot\nspring-boot-starter-data-elasticsearch\n2.7.3\n</p>\n<p>My config class is:</p>\n<pre><code>import org.elasticsearch.client.RestHighLevelClient;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\nimport org.springframework.data.elasticsearch.client.RestClients;\nimport org.springframework.data.elasticsearch.config.AbstractElasticsearchConfiguration;\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n\n@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.backend.repository.elasticsearchrepository&quot;)\n@ComponentScan(basePackages = {&quot;com.backend.model.elasticsearchmodel&quot;})\npublic class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\n\n    @Value(&quot;${spring.elasticsearch.url}&quot;)\n    public String elasticsearchUrl;\n\n    @Value(&quot;${spring.elasticsearch.username}&quot;)\n    public String username;\n\n    @Value(&quot;${spring.elasticsearch.password}&quot;)\n    public String password;\n\n\n    @Bean\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n        final ClientConfiguration config = ClientConfiguration.builder()\n                .connectedTo(elasticsearchUrl)\n                .withBasicAuth(username, password)\n                .build();\n\n        return RestClients.create(config).rest();\n    }\n}\n</code></pre>\n<p>Here RestHighLevelClient is shown as deprecated. And my repository class is:</p>\n<pre><code>package com.backend.repository.elasticsearchrepository;\n\nimport com.backend.model.elasticsearchmodel.EsOffice;\nimport org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n\nimport java.util.UUID;\n\npublic interface ESOfficeRepository extends ElasticsearchRepository&lt;EsOffice, UUID&gt; {\n}\n</code></pre>\n<p>When I call the methods of this repository then it works fine but while storing the data it is returning error message even if it adds the data successfully.</p>\n<pre><code>2022-10-15 00:00:15.608 ERROR 51607 --- [nio-8080-exec-2] c.a.a.exception.GlobalExceptionHandler   : Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}; nested exception is java.lang.RuntimeException: Unable to parse response body for Response{requestLine=POST /office/_doc?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}\n</code></pre>\n<p>Which POM dependency + what kind of repository should I use and How can I configure it in my config file ? I need these 3 that compatible with each other ?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":18331959,"reputation":776,"user_id":13350278,"display_name":"Mohamed Elgazar"},"score":0,"creation_date":1665922533,"post_id":74087022,"comment_id":130807918,"body_markdown":"You could use a for loop to iterate through the second half of the string, and if the character is &#39;h&#39;, change it to &#39;t&#39;, and vice versa.","body":"You could use a for loop to iterate through the second half of the string, and if the character is &#39;h&#39;, change it to &#39;t&#39;, and vice versa."}],"answers":[{"tags":[],"owner":{"account_id":18331959,"reputation":776,"user_id":13350278,"display_name":"Mohamed Elgazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665922720,"creation_date":1665922720,"answer_id":74087040,"question_id":74087022,"body_markdown":"This program splits a string into two halves, then swaps the first and second characters of the second half.\r\npublic class Tollring3 {\r\n\r\n       public static void main(String args[]) \r\n        { \r\n          \r\n           String base = &quot;httthhhtth&quot;;\r\n          int half = base.length()/2;\r\n           // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\r\n           String first = base.substring(0, half);\r\n           String second = base.substring(half);\r\n           System.out.println(&quot;Actual String :- &quot;+base);\r\n           System.out.println(first);\r\n           System.out.println(second);\r\n           char[] c = second.toCharArray();\r\n    \r\n        // Replace with a &quot;swap&quot; function, if desired:\r\n        char temp = c[0];\r\n        c[0] = c[1];\r\n        c[1] = temp;\r\n    \r\n        String swappedString = new String(c);\r\n        System.out.println(swappedString);\r\n        } \r\n    }","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>This program splits a string into two halves, then swaps the first and second characters of the second half.\npublic class Tollring3 {</p>\n<pre><code>   public static void main(String args[]) \n    { \n      \n       String base = &quot;httthhhtth&quot;;\n      int half = base.length()/2;\n       // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\n       String first = base.substring(0, half);\n       String second = base.substring(half);\n       System.out.println(&quot;Actual String :- &quot;+base);\n       System.out.println(first);\n       System.out.println(second);\n       char[] c = second.toCharArray();\n\n    // Replace with a &quot;swap&quot; function, if desired:\n    char temp = c[0];\n    c[0] = c[1];\n    c[1] = temp;\n\n    String swappedString = new String(c);\n    System.out.println(swappedString);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938428,"creation_date":1665923085,"answer_id":74087086,"question_id":74087022,"body_markdown":"To do the replacement you need to iterate on the chars and use `if` to test what char it is\r\n\r\n    String base = &quot;httthhhtth&quot;;\r\n    System.out.println(base);\r\n\r\n    char[] c = base.toCharArray();\r\n    for (int i = c.length / 2; i &lt; c.length; ++i) {\r\n        if (c[i] == &#39;h&#39;) {\r\n            c[i] = &#39;t&#39;;\r\n        } else if (c[i] == &#39;t&#39;) {\r\n            c[i] = &#39;h&#39;;\r\n        }\r\n    }\r\n\r\n    String swappedString = new String(c);\r\n    System.out.println(swappedString);\r\n\r\n&lt;!-- --&gt;\r\n\r\n    httthhhtth\r\n    httthtthht\r\n","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>To do the replacement you need to iterate on the chars and use <code>if</code> to test what char it is</p>\n<pre><code>String base = &quot;httthhhtth&quot;;\nSystem.out.println(base);\n\nchar[] c = base.toCharArray();\nfor (int i = c.length / 2; i &lt; c.length; ++i) {\n    if (c[i] == 'h') {\n        c[i] = 't';\n    } else if (c[i] == 't') {\n        c[i] = 'h';\n    }\n}\n\nString swappedString = new String(c);\nSystem.out.println(swappedString);\n</code></pre>\n\n<pre><code>httthhhtth\nhttthtthht\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665925770,"creation_date":1665925770,"answer_id":74087378,"question_id":74087022,"body_markdown":"You can define the `swap` function as follows:\r\n\r\n    String swap(String str) {\r\n        char[] arr = str.toCharArray();\r\n        char[] result = new char[arr.length];\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            result[i] = arr[i] == &#39;h&#39; ? &#39;t&#39; : arr[i] == &#39;t&#39; ? &#39;h&#39; : arr[i];\r\n    \r\n        return new String(result);\r\n    }\r\nIn the function, we have\r\n\r\n 1. split the given string (second half) into a `char` array, `arr`.\r\n 2. created another `char` array, `result` of the same size.\r\n 3. iterates `arr` to store each character from `arr` into `result` while swapping `h` and `t` with each other.\r\n 4. finally returned a new `String` created out of `result`.\r\n\r\n**Full demo**:\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            String base = &quot;httthhhtth&quot;;\r\n            int half = base.length() / 2;\r\n            // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\r\n            String first = base.substring(0, half);\r\n            String second = base.substring(half);\r\n            System.out.println(&quot;Actual String :- &quot; + base);\r\n            System.out.println(first);\r\n            System.out.println(second);\r\n    \r\n            String swappedString = swap(second);\r\n            System.out.println(swappedString);\r\n        }\r\n    \r\n        static String swap(String str) {\r\n            char[] arr = str.toCharArray();\r\n            char[] result = new char[arr.length];\r\n            for (int i = 0; i &lt; arr.length; i++)\r\n                result[i] = arr[i] == &#39;h&#39; ? &#39;t&#39; : arr[i] == &#39;t&#39; ? &#39;h&#39; : arr[i];\r\n    \r\n            return new String(result);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    Actual String :- httthhhtth\r\n    httth\r\n    hhtth\r\n    tthht\r\n\r\n \r\n\r\n","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>You can define the <code>swap</code> function as follows:</p>\n<pre><code>String swap(String str) {\n    char[] arr = str.toCharArray();\n    char[] result = new char[arr.length];\n    for (int i = 0; i &lt; arr.length; i++)\n        result[i] = arr[i] == 'h' ? 't' : arr[i] == 't' ? 'h' : arr[i];\n\n    return new String(result);\n}\n</code></pre>\n<p>In the function, we have</p>\n<ol>\n<li>split the given string (second half) into a <code>char</code> array, <code>arr</code>.</li>\n<li>created another <code>char</code> array, <code>result</code> of the same size.</li>\n<li>iterates <code>arr</code> to store each character from <code>arr</code> into <code>result</code> while swapping <code>h</code> and <code>t</code> with each other.</li>\n<li>finally returned a new <code>String</code> created out of <code>result</code>.</li>\n</ol>\n<p><strong>Full demo</strong>:</p>\n<pre><code>public class Main {\n    public static void main(String args[]) {\n        String base = &quot;httthhhtth&quot;;\n        int half = base.length() / 2;\n        // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\n        String first = base.substring(0, half);\n        String second = base.substring(half);\n        System.out.println(&quot;Actual String :- &quot; + base);\n        System.out.println(first);\n        System.out.println(second);\n\n        String swappedString = swap(second);\n        System.out.println(swappedString);\n    }\n\n    static String swap(String str) {\n        char[] arr = str.toCharArray();\n        char[] result = new char[arr.length];\n        for (int i = 0; i &lt; arr.length; i++)\n            result[i] = arr[i] == 'h' ? 't' : arr[i] == 't' ? 'h' : arr[i];\n\n        return new String(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>Actual String :- httthhhtth\nhttth\nhhtth\ntthht\n</code></pre>\n"}],"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1665938428,"creation_date":1665922487,"question_id":74087022,"body_markdown":"I managed to split the string but how can I swap h with t and t with h in second half of string ?\r\n\r\n    public class Tollring3 {\r\n    \r\n       public static void main(String args[]) \r\n        { \r\n          \r\n           String base = &quot;httthhhtth&quot;;\r\n          int half = base.length()/2;\r\n           // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\r\n           String first = base.substring(0, half);\r\n           String second = base.substring(half);\r\n           System.out.println(&quot;Actual String :- &quot;+base);\r\n           System.out.println(first);\r\n           System.out.println(second);\r\n           char[] c = second.toCharArray();\r\n    \r\n        // Replace with a &quot;swap&quot; function, if desired:\r\n        char temp = c[0];\r\n        c[0] = c[1];\r\n        c[1] = temp;\r\n    \r\n        String swappedString = new String(c);\r\n        System.out.println(swappedString);\r\n        } \r\n    }\r\n\r\nHow to swap h with t and t with h in second half of string","title":"Created a string in Java, S = &quot;httthhhtth&quot;. Split it in a half and change second half &#39;H&#39; into &#39;T&#39; and &#39;T&#39; into &#39;H&#39;","body":"<p>I managed to split the string but how can I swap h with t and t with h in second half of string ?</p>\n<pre><code>public class Tollring3 {\n\n   public static void main(String args[]) \n    { \n      \n       String base = &quot;httthhhtth&quot;;\n      int half = base.length()/2;\n       // int half = base.length() % 2 == 0 ? base.length()/2 : base.length()/2 + 1;\n       String first = base.substring(0, half);\n       String second = base.substring(half);\n       System.out.println(&quot;Actual String :- &quot;+base);\n       System.out.println(first);\n       System.out.println(second);\n       char[] c = second.toCharArray();\n\n    // Replace with a &quot;swap&quot; function, if desired:\n    char temp = c[0];\n    c[0] = c[1];\n    c[1] = temp;\n\n    String swappedString = new String(c);\n    System.out.println(swappedString);\n    } \n}\n</code></pre>\n<p>How to swap h with t and t with h in second half of string</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1417198217,"post_id":27193955,"comment_id":42873436,"body_markdown":"your are abusing a cast here. `(number1 % 2)` is using the ascii code of number1, not its value. For example if `number1` is `&quot;1&quot;`, `(number1 % 2)` is `(49 % 2)` not `(1 % 2)`. But you are lucky, `0` has ascii code 48.","body":"your are abusing a cast here. <code>(number1 % 2)</code> is using the ascii code of number1, not its value. For example if <code>number1</code> is <code>&quot;1&quot;</code>, <code>(number1 % 2)</code> is <code>(49 % 2)</code> not <code>(1 % 2)</code>. But you are lucky, <code>0</code> has ascii code 48."},{"owner":{"account_id":5342688,"reputation":55,"user_id":4259189,"display_name":"Louie Morris"},"score":0,"creation_date":1417198245,"post_id":27193955,"comment_id":42873448,"body_markdown":"What does that mean? :/","body":"What does that mean? :/"},{"owner":{"account_id":5342688,"reputation":55,"user_id":4259189,"display_name":"Louie Morris"},"score":0,"creation_date":1417198482,"post_id":27193955,"comment_id":42873539,"body_markdown":"Ok, thanks, but could you try to answer my question please","body":"Ok, thanks, but could you try to answer my question please"},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":0,"creation_date":1417198517,"post_id":27193955,"comment_id":42873551,"body_markdown":"Wouldn&#39;t it be easier to check if one digit is not odd instead of if all the digits are odd?","body":"Wouldn&#39;t it be easier to check if one digit is not odd instead of if all the digits are odd?"},{"owner":{"account_id":5360530,"reputation":193,"user_id":4271928,"display_name":"Ensar Hatipoglu"},"score":0,"creation_date":1417198592,"post_id":27193955,"comment_id":42873587,"body_markdown":"Check out the code in this other thread: http://stackoverflow.com/questions/19129509/how-can-i-count-the-number-of-odd-evens-and-zeros-in-a-multiple-digit-number-i","body":"Check out the code in this other thread: <a href=\"http://stackoverflow.com/questions/19129509/how-can-i-count-the-number-of-odd-evens-and-zeros-in-a-multiple-digit-number-i\" title=\"how can i count the number of odd evens and zeros in a multiple digit number i\">stackoverflow.com/questions/19129509/&hellip;</a>"},{"owner":{"account_id":1013036,"reputation":20197,"user_id":1025201,"display_name":"mprabhat"},"score":0,"creation_date":1417198608,"post_id":27193955,"comment_id":42873596,"body_markdown":"Instead of getting individual char from String, get the digit itself, see [this](http://stackoverflow.com/questions/2051817/return-first-digit-of-an-integer). It speaks about first char but you can use it for others too","body":"Instead of getting individual char from String, get the digit itself, see <a href=\"http://stackoverflow.com/questions/2051817/return-first-digit-of-an-integer\">this</a>. It speaks about first char but you can use it for others too"}],"answers":[{"tags":[],"owner":{"account_id":2972927,"reputation":1413,"user_id":2524630,"display_name":"David.Jones"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665938398,"creation_date":1417198417,"answer_id":27194042,"question_id":27193955,"body_markdown":"I&#39;ve just rearranged some of your logic, and added a couple continue statements. You were very close, you just needed to rearrange some things.  \r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        boolean yesno = true;\r\n        while (yens == true) {\r\n            System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n            try {\r\n                int number = scan.nextInt();\r\n                int length = String.valueOf(number).length();\r\n\r\n                if (length == 5) {\r\n                    String digits = String.valueOf(number);\r\n                    char number1 = digits.charAt(0);\r\n                    char number2 = digits.charAt(1);\r\n                    char number3 = digits.charAt(2);\r\n                    char number4 = digits.charAt(3);\r\n                    char number5 = digits.charAt(4);\r\n\r\n                    if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\r\n                        System.out.println(&quot;All of the numbers are odd...&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;Not all of the numbers are odd...&quot;);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;You did not enter a 5 digit number! Try again...&quot;);\r\n                    continue;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;That was not a number! Try again...&quot;);\r\n                //A newline might still be stuck in the scanner, so clear it\r\n                scan.nextLine();\r\n                continue;\r\n            }\r\n            try {\r\n                System.out.println(&quot;Would you like to enter another number? (Y/N)&quot;);\r\n\r\n                char letter = scan.next().charAt(0);\r\n                if (letter == &#39;Y&#39; || letter == &#39;y&#39;) {\r\n                    continue;\r\n                } else if (letter == &#39;N&#39; || letter == &#39;n&#39;) {\r\n                    yesno = false;\r\n                } else {\r\n                    System.out.println(&quot;I will take that as a no!&quot;);\r\n                    yesno = false;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;You did not enter a letter...&quot;);\r\n                scan.nextLine();\r\n            }\r\n        }\r\n        System.out.println(&quot;Goodbye!&quot;);\r\n    }\r\n\r\n\r\nBy the way, you have a lot of other issues in the code that should be addressed, but I simply answered the question that you asked, making the execution return the to top of the loop after an exception is thrown.\r\n","title":"Enter a number, That was not a number, please try again","body":"<p>I've just rearranged some of your logic, and added a couple continue statements. You were very close, you just needed to rearrange some things.</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    \n    boolean yesno = true;\n    while (yens == true) {\n        System.out.println(&quot;Enter a 5 digit number...&quot;);\n        try {\n            int number = scan.nextInt();\n            int length = String.valueOf(number).length();\n\n            if (length == 5) {\n                String digits = String.valueOf(number);\n                char number1 = digits.charAt(0);\n                char number2 = digits.charAt(1);\n                char number3 = digits.charAt(2);\n                char number4 = digits.charAt(3);\n                char number5 = digits.charAt(4);\n\n                if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\n                    System.out.println(&quot;All of the numbers are odd...&quot;);\n                } else {\n                    System.out.println(&quot;Not all of the numbers are odd...&quot;);\n                }\n            } else {\n                System.out.println(&quot;You did not enter a 5 digit number! Try again...&quot;);\n                continue;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;That was not a number! Try again...&quot;);\n            //A newline might still be stuck in the scanner, so clear it\n            scan.nextLine();\n            continue;\n        }\n        try {\n            System.out.println(&quot;Would you like to enter another number? (Y/N)&quot;);\n\n            char letter = scan.next().charAt(0);\n            if (letter == 'Y' || letter == 'y') {\n                continue;\n            } else if (letter == 'N' || letter == 'n') {\n                yesno = false;\n            } else {\n                System.out.println(&quot;I will take that as a no!&quot;);\n                yesno = false;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;You did not enter a letter...&quot;);\n            scan.nextLine();\n        }\n    }\n    System.out.println(&quot;Goodbye!&quot;);\n}\n</code></pre>\n<p>By the way, you have a lot of other issues in the code that should be addressed, but I simply answered the question that you asked, making the execution return the to top of the loop after an exception is thrown.</p>\n"}],"owner":{"account_id":5342688,"reputation":55,"user_id":4259189,"display_name":"Louie Morris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":27194042,"answer_count":1,"score":1,"last_activity_date":1665938398,"creation_date":1417197956,"question_id":27193955,"body_markdown":"basically what I am trying to do is: \r\n\r\n&gt; Get the user to enter a 5 digit number. If all of the digits in the\r\n&gt; number are Odd, it will print out &quot;All of the digits are odd&quot; and if\r\n&gt; all of the digits are not Odd, then it will print out &quot;Not all of the\r\n&gt; digits are odd&quot;, and then it will ask the user if they want to Enter a\r\n&gt; new Number by pressing Y or N and then it will ask them for another 5\r\n&gt; digit number and repeat.\r\n\r\nHere is my problem: \r\n\r\nWhen a user does not enter a 5 digit number, E.G enters a string/character, then I want it to say &quot;That was not a number, please try again&quot;, I tried to do this with try and catch, I can make it so it says try again, but I am unsure on how to make the code return back to the beginning after an error has been thrown. Sorry I am bad at java :-/\r\nI also have this problem when user does not enter Y or N and enter a number.\r\n\r\ncode:\r\n-----\r\n\r\n    package veryoddnumber;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class VeryOddNumber {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n            boolean yesno;\r\n            do {\r\n    \r\n                try {\r\n                    int number = scan.nextInt();\r\n                    int length = String.valueOf(number).length();\r\n    \r\n                    if (length == 5) {\r\n                        String digits = String.valueOf(number);\r\n                        char number1 = digits.charAt(0);\r\n                        char number2 = digits.charAt(1);\r\n                        char number3 = digits.charAt(2);\r\n                        char number4 = digits.charAt(3);\r\n                        char number5 = digits.charAt(4);\r\n    \r\n                        if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\r\n                            System.out.println(&quot;All of the numbers are odd...&quot;);\r\n                        } else {\r\n                            System.out.println(&quot;Not all of the numbers are odd...&quot;);\r\n                        }\r\n    \r\n                        System.out.println(&quot;Would you like to enter another number? (Y/N)&quot;);\r\n    \r\n                    } else {\r\n                        System.out.println(&quot;You did not enter a 5 digit number! Try again...&quot;);\r\n                        System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;That was not a number! Try again...&quot;);\r\n    \r\n                }\r\n                try {\r\n    \r\n                    char letter = scan.next().charAt(0);\r\n                    if (letter == &#39;Y&#39; || letter == &#39;y&#39;) {\r\n                        yesno = true;\r\n                    } else if (letter == &#39;N&#39; || letter == &#39;n&#39;) {\r\n                        break;\r\n                    } else {\r\n                        System.out.println(&quot;I will take that as a no!&quot;);\r\n                        break;\r\n                    }\r\n                    System.out.println(&quot;Enter a 5 digit number...&quot;);\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;You did not enter a letter...&quot;);\r\n    \r\n                }\r\n            } while (yesno = true);\r\n            System.out.println(&quot;Goodbye!&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Enter a number, That was not a number, please try again","body":"<p>basically what I am trying to do is: </p>\n\n<blockquote>\n  <p>Get the user to enter a 5 digit number. If all of the digits in the\n  number are Odd, it will print out \"All of the digits are odd\" and if\n  all of the digits are not Odd, then it will print out \"Not all of the\n  digits are odd\", and then it will ask the user if they want to Enter a\n  new Number by pressing Y or N and then it will ask them for another 5\n  digit number and repeat.</p>\n</blockquote>\n\n<p>Here is my problem: </p>\n\n<p>When a user does not enter a 5 digit number, E.G enters a string/character, then I want it to say \"That was not a number, please try again\", I tried to do this with try and catch, I can make it so it says try again, but I am unsure on how to make the code return back to the beginning after an error has been thrown. Sorry I am bad at java :-/\nI also have this problem when user does not enter Y or N and enter a number.</p>\n\n<h2>code:</h2>\n\n<pre><code>package veryoddnumber;\n\nimport java.util.*;\n\npublic class VeryOddNumber {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(\"Enter a 5 digit number...\");\n        boolean yesno;\n        do {\n\n            try {\n                int number = scan.nextInt();\n                int length = String.valueOf(number).length();\n\n                if (length == 5) {\n                    String digits = String.valueOf(number);\n                    char number1 = digits.charAt(0);\n                    char number2 = digits.charAt(1);\n                    char number3 = digits.charAt(2);\n                    char number4 = digits.charAt(3);\n                    char number5 = digits.charAt(4);\n\n                    if (number1 % 2 != 0 &amp;&amp; number2 % 2 != 0 &amp;&amp; number3 % 2 != 0 &amp;&amp; number4 % 2 != 0 &amp;&amp; number5 % 2 != 0) {\n                        System.out.println(\"All of the numbers are odd...\");\n                    } else {\n                        System.out.println(\"Not all of the numbers are odd...\");\n                    }\n\n                    System.out.println(\"Would you like to enter another number? (Y/N)\");\n\n                } else {\n                    System.out.println(\"You did not enter a 5 digit number! Try again...\");\n                    System.out.println(\"Enter a 5 digit number...\");\n                }\n            } catch (Exception e) {\n                System.out.println(\"That was not a number! Try again...\");\n\n            }\n            try {\n\n                char letter = scan.next().charAt(0);\n                if (letter == 'Y' || letter == 'y') {\n                    yesno = true;\n                } else if (letter == 'N' || letter == 'n') {\n                    break;\n                } else {\n                    System.out.println(\"I will take that as a no!\");\n                    break;\n                }\n                System.out.println(\"Enter a 5 digit number...\");\n            } catch (Exception e) {\n                System.out.println(\"You did not enter a letter...\");\n\n            }\n        } while (yesno = true);\n        System.out.println(\"Goodbye!\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java","graph","adjacency-matrix"],"comments":[{"owner":{"account_id":1032580,"reputation":4177,"user_id":1040597,"accept_rate":91,"display_name":"Saeid"},"score":1,"creation_date":1476505741,"post_id":40054451,"comment_id":67385424,"body_markdown":"https://en.wikipedia.org/wiki/Shortest_path_problem","body":"<a href=\"https://en.wikipedia.org/wiki/Shortest_path_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Shortest_path_problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":9441766,"reputation":21,"user_id":7021977,"display_name":"Mike Wern"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665938300,"creation_date":1476504801,"answer_id":40054871,"question_id":40054451,"body_markdown":"I figured it out.\r\nBasically I made an array to keep track of my Edges: \r\n\r\n    private Edge [] edges;\r\n\r\nThen I populated the array with my graph edges.\r\nNow, in my distance method I just find the edge with the give To and From Nodes, and extract it&#39;s value which is the distance I&#39;m looking for :)\r\n\r\n    public int distance(Node from, Node to) {\r\n\r\n        for(Edge edge: edges){\r\n            if(edge.getFrom().equals(from) &amp;&amp; edge.getTo().equals(to)){\r\n                return edge.getValue();\r\n            }\r\n        }\r\n        return 1;\r\n    }\r\n\r\nI must have thought about this simple solution earlier!","title":"Calculate distance between nodes in AdjacencyMatrix","body":"<p>I figured it out.\nBasically I made an array to keep track of my Edges:</p>\n<pre><code>private Edge [] edges;\n</code></pre>\n<p>Then I populated the array with my graph edges.\nNow, in my distance method I just find the edge with the give To and From Nodes, and extract it's value which is the distance I'm looking for :)</p>\n<pre><code>public int distance(Node from, Node to) {\n\n    for(Edge edge: edges){\n        if(edge.getFrom().equals(from) &amp;&amp; edge.getTo().equals(to)){\n            return edge.getValue();\n        }\n    }\n    return 1;\n}\n</code></pre>\n<p>I must have thought about this simple solution earlier!</p>\n"}],"owner":{"account_id":9441766,"reputation":21,"user_id":7021977,"display_name":"Mike Wern"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1290,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":40054871,"answer_count":1,"score":0,"last_activity_date":1665938300,"creation_date":1476500039,"question_id":40054451,"body_markdown":"I have implemented AdjacencyMatrix in java, but I am having hard time implementing the distance() method to be able to find the distance between two nodes.\r\nAny idea how I an do that?\r\nI have tried a lot of things but I don&#39;t seem to be able to get right answer.\r\n\r\nHere&#39;s my implementation\r\n\r\n    public class AdjacencyMatrix implements Representation {\r\n    private Node[] nodes;\r\n    private int[][] adjacencyMatrix;\r\n    private int numberOfNodes =0;\r\n\r\n\r\n    public AdjacencyMatrix(File file) {\r\n\r\n        Scanner inFile;\r\n        int numNodes;\r\n        try {\r\n            inFile = new Scanner(file);\r\n            numNodes = Integer.parseInt(inFile.nextLine());\r\n\r\n            adjacencyMatrix = new int[20][20];\r\n\r\n            nodes = new Node[20];\r\n            String[] line;\r\n\r\n            while (inFile.hasNextLine()) {\r\n                line = inFile.nextLine().split(&quot;:&quot;);\r\n                Node from = new Node(Integer.parseInt(line[0]));\r\n                Node to = new Node(Integer.parseInt(line[1]));\r\n                int value = Integer.parseInt(line[2]);\r\n\r\n                if(!Arrays.asList(nodes).contains(from))\r\n                    addNode(from);\r\n                if(!Arrays.asList(nodes).contains(to))\r\n                    addNode(to);\r\n\r\n\r\n                addEdge(new Edge(from, to, value));\r\n\r\n            }\r\n\r\n\r\n        } catch (FileNotFoundException e) {\r\n            System.out.print(e.getCause());\r\n        }\r\n    }\r\n    public AdjacencyMatrix() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean adjacent(Node x, Node y) {\r\n        int fromIndex = findIndex(x);\r\n        int toIndex = findIndex(y);\r\n\r\n        if(adjacencyMatrix[fromIndex][toIndex] == 1 || adjacencyMatrix[toIndex][fromIndex] ==1){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Node&gt; neighbors(Node x) {\r\n        ArrayList&lt;Node&gt; neighbors = new ArrayList&lt;&gt;();\r\n        int fromIndex = findIndex(x);\r\n        if(x.getData().toString().equals(&quot;4&quot;)) {\r\n            System.out.println(&quot;FromIndex is: &quot; + fromIndex);\r\n        }\r\n\r\n        if(x.getData().toString().equals(&quot;4&quot;)){\r\n            for(int i =0; i &lt; nodes.length; ++i){\r\n\r\n                System.out.println(nodes[i] + &quot; &quot;);\r\n            }\r\n        }\r\n\r\n         for (int i = 0; i &lt;= numberOfNodes; i++){\r\n            if(adjacencyMatrix[fromIndex][i] == 1){\r\n\r\n                    neighbors.add(nodes[i]);\r\n                    if(x.getData().toString().equals(&quot;4&quot;)) {\r\n                    System.out.println(&quot;Match!: &quot; + i);\r\n                    System.out.println(&quot;Adding NODE: &quot; + nodes[i]);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        int [] nums = new int[neighbors.size()];\r\n        for(int i =0; i &lt; nums.length; ++i){\r\n            nums[i] = Integer.parseInt(neighbors.get(i).getData().toString());\r\n        }\r\n        Arrays.sort(nums);\r\n        ArrayList&lt;Node&gt; newNeighbors = new ArrayList&lt;&gt;();\r\n        for(int i =0; i &lt; nums.length; ++i){\r\n            newNeighbors.add(new Node(nums[i]));\r\n        }\r\n        return newNeighbors;\r\n    }\r\n\r\n    @Override\r\n    public boolean addNode(Node x) {\r\n        if(Arrays.asList(nodes).contains(x)){\r\n            return false;\r\n        }\r\n\r\n\r\n        nodes[numberOfNodes] = x;\r\n\r\n        for (int i = 0; i &lt;= numberOfNodes; i++){\r\n\r\n            adjacencyMatrix[numberOfNodes][i] = 0;\r\n            adjacencyMatrix[i][numberOfNodes] = 0;\r\n        }\r\n        numberOfNodes++;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean removeNode(Node x) {\r\n\r\n        if (!Arrays.asList(nodes).contains(x)) {\r\n            return false;\r\n        }\r\n        for (int k = 0; k &lt; numberOfNodes; k++) {\r\n            if (x.equals(nodes[k])) {\r\n\r\n                //decrement the number of nodes\r\n                numberOfNodes--;\r\n\r\n                for (int i = k; i &lt; numberOfNodes; i++) {\r\n                    nodes[i] = nodes[i + 1];\r\n                }\r\n\r\n                for (int i = k; i &lt; numberOfNodes; i++) {\r\n                    for (int j = 0; j &lt;= numberOfNodes; j++) {\r\n                        adjacencyMatrix[i][j] = adjacencyMatrix[i + 1][j];\r\n                    }\r\n                }\r\n\r\n                for (int i = k; i &lt; numberOfNodes; i++) {\r\n                    for (int j = 0; j &lt; numberOfNodes; j++) {\r\n                        adjacencyMatrix[j][i] = adjacencyMatrix[j][i + 1];\r\n                    }\r\n                }\r\n            }\r\n\r\n            //\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean addEdge(Edge x){\r\n\r\n        int from = Integer.parseInt(x.getFrom().getData().toString());\r\n        int to = Integer.parseInt(x.getTo().getData().toString());\r\n        int fromIndex = findIndex(x.getFrom());\r\n        int toIndex = findIndex(x.getTo());\r\n\r\n        if(from == 4){\r\n            System.out.println(&quot;Adding adjecent to 4 -&gt; &quot; + to);\r\n\r\n        }\r\n        if(adjacencyMatrix[fromIndex][toIndex] == 1 ){\r\n            return false;\r\n        }\r\n\r\n        adjacencyMatrix[fromIndex][toIndex] = 1;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean removeEdge(Edge x) {\r\n        int from = Integer.parseInt(x.getFrom().getData().toString());\r\n        int to = Integer.parseInt(x.getTo().getData().toString());\r\n        int fromIndex = findIndex(x.getFrom());\r\n        int toIndex = findIndex(x.getTo());\r\n\r\n        if(adjacencyMatrix[fromIndex][toIndex] == 0 &amp;&amp; adjacencyMatrix[toIndex][fromIndex] ==0){\r\n            return false;\r\n        }\r\n\r\n        adjacencyMatrix[fromIndex][toIndex] = 0;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public int distance(Node from, Node to) {\r\n        return 0;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Optional&lt;Node&gt; getNode(int index) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;Node&gt; getNodes() {\r\n\r\n        return Arrays.asList(nodes);\r\n    }\r\n\r\n    public int findIndex(Node node)\r\n    {\r\n        for (int i = 0; i &lt; numberOfNodes; ++i)\r\n            if (nodes[i].equals(node))\r\n                return i;\r\n        return -1;\r\n    }}\r\n\r\nAll my methods are working except distance().\r\nI am returning 0 in the distance() method since I don&#39;t know how to implement it correctly.\r\nAny help would be greatly appreciated.\r\n","title":"Calculate distance between nodes in AdjacencyMatrix","body":"<p>I have implemented AdjacencyMatrix in java, but I am having hard time implementing the distance() method to be able to find the distance between two nodes.\nAny idea how I an do that?\nI have tried a lot of things but I don't seem to be able to get right answer.</p>\n\n<p>Here's my implementation</p>\n\n<pre><code>public class AdjacencyMatrix implements Representation {\nprivate Node[] nodes;\nprivate int[][] adjacencyMatrix;\nprivate int numberOfNodes =0;\n\n\npublic AdjacencyMatrix(File file) {\n\n    Scanner inFile;\n    int numNodes;\n    try {\n        inFile = new Scanner(file);\n        numNodes = Integer.parseInt(inFile.nextLine());\n\n        adjacencyMatrix = new int[20][20];\n\n        nodes = new Node[20];\n        String[] line;\n\n        while (inFile.hasNextLine()) {\n            line = inFile.nextLine().split(\":\");\n            Node from = new Node(Integer.parseInt(line[0]));\n            Node to = new Node(Integer.parseInt(line[1]));\n            int value = Integer.parseInt(line[2]);\n\n            if(!Arrays.asList(nodes).contains(from))\n                addNode(from);\n            if(!Arrays.asList(nodes).contains(to))\n                addNode(to);\n\n\n            addEdge(new Edge(from, to, value));\n\n        }\n\n\n    } catch (FileNotFoundException e) {\n        System.out.print(e.getCause());\n    }\n}\npublic AdjacencyMatrix() {\n\n}\n\n@Override\npublic boolean adjacent(Node x, Node y) {\n    int fromIndex = findIndex(x);\n    int toIndex = findIndex(y);\n\n    if(adjacencyMatrix[fromIndex][toIndex] == 1 || adjacencyMatrix[toIndex][fromIndex] ==1){\n        return true;\n    }\n    return false;\n}\n\n@Override\npublic List&lt;Node&gt; neighbors(Node x) {\n    ArrayList&lt;Node&gt; neighbors = new ArrayList&lt;&gt;();\n    int fromIndex = findIndex(x);\n    if(x.getData().toString().equals(\"4\")) {\n        System.out.println(\"FromIndex is: \" + fromIndex);\n    }\n\n    if(x.getData().toString().equals(\"4\")){\n        for(int i =0; i &lt; nodes.length; ++i){\n\n            System.out.println(nodes[i] + \" \");\n        }\n    }\n\n     for (int i = 0; i &lt;= numberOfNodes; i++){\n        if(adjacencyMatrix[fromIndex][i] == 1){\n\n                neighbors.add(nodes[i]);\n                if(x.getData().toString().equals(\"4\")) {\n                System.out.println(\"Match!: \" + i);\n                System.out.println(\"Adding NODE: \" + nodes[i]);\n            }\n        }\n\n    }\n\n    int [] nums = new int[neighbors.size()];\n    for(int i =0; i &lt; nums.length; ++i){\n        nums[i] = Integer.parseInt(neighbors.get(i).getData().toString());\n    }\n    Arrays.sort(nums);\n    ArrayList&lt;Node&gt; newNeighbors = new ArrayList&lt;&gt;();\n    for(int i =0; i &lt; nums.length; ++i){\n        newNeighbors.add(new Node(nums[i]));\n    }\n    return newNeighbors;\n}\n\n@Override\npublic boolean addNode(Node x) {\n    if(Arrays.asList(nodes).contains(x)){\n        return false;\n    }\n\n\n    nodes[numberOfNodes] = x;\n\n    for (int i = 0; i &lt;= numberOfNodes; i++){\n\n        adjacencyMatrix[numberOfNodes][i] = 0;\n        adjacencyMatrix[i][numberOfNodes] = 0;\n    }\n    numberOfNodes++;\n    return true;\n}\n\n@Override\npublic boolean removeNode(Node x) {\n\n    if (!Arrays.asList(nodes).contains(x)) {\n        return false;\n    }\n    for (int k = 0; k &lt; numberOfNodes; k++) {\n        if (x.equals(nodes[k])) {\n\n            //decrement the number of nodes\n            numberOfNodes--;\n\n            for (int i = k; i &lt; numberOfNodes; i++) {\n                nodes[i] = nodes[i + 1];\n            }\n\n            for (int i = k; i &lt; numberOfNodes; i++) {\n                for (int j = 0; j &lt;= numberOfNodes; j++) {\n                    adjacencyMatrix[i][j] = adjacencyMatrix[i + 1][j];\n                }\n            }\n\n            for (int i = k; i &lt; numberOfNodes; i++) {\n                for (int j = 0; j &lt; numberOfNodes; j++) {\n                    adjacencyMatrix[j][i] = adjacencyMatrix[j][i + 1];\n                }\n            }\n        }\n\n        //\n\n    }\n    return true;\n}\n\n\n@Override\npublic boolean addEdge(Edge x){\n\n    int from = Integer.parseInt(x.getFrom().getData().toString());\n    int to = Integer.parseInt(x.getTo().getData().toString());\n    int fromIndex = findIndex(x.getFrom());\n    int toIndex = findIndex(x.getTo());\n\n    if(from == 4){\n        System.out.println(\"Adding adjecent to 4 -&gt; \" + to);\n\n    }\n    if(adjacencyMatrix[fromIndex][toIndex] == 1 ){\n        return false;\n    }\n\n    adjacencyMatrix[fromIndex][toIndex] = 1;\n    return true;\n}\n\n@Override\npublic boolean removeEdge(Edge x) {\n    int from = Integer.parseInt(x.getFrom().getData().toString());\n    int to = Integer.parseInt(x.getTo().getData().toString());\n    int fromIndex = findIndex(x.getFrom());\n    int toIndex = findIndex(x.getTo());\n\n    if(adjacencyMatrix[fromIndex][toIndex] == 0 &amp;&amp; adjacencyMatrix[toIndex][fromIndex] ==0){\n        return false;\n    }\n\n    adjacencyMatrix[fromIndex][toIndex] = 0;\n    return true;\n}\n\n@Override\npublic int distance(Node from, Node to) {\n    return 0;\n}\n\n\n@Override\npublic Optional&lt;Node&gt; getNode(int index) {\n    return null;\n}\n\n@Override\npublic Collection&lt;Node&gt; getNodes() {\n\n    return Arrays.asList(nodes);\n}\n\npublic int findIndex(Node node)\n{\n    for (int i = 0; i &lt; numberOfNodes; ++i)\n        if (nodes[i].equals(node))\n            return i;\n    return -1;\n}}\n</code></pre>\n\n<p>All my methods are working except distance().\nI am returning 0 in the distance() method since I don't know how to implement it correctly.\nAny help would be greatly appreciated.</p>\n"},{"tags":["java","swagger"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1664639319,"post_id":73919599,"comment_id":130519987,"body_markdown":"You are missing vital information here. Start with providing the stacktrace of your application and not a screenshot showing the error at the swagger ui.","body":"You are missing vital information here. Start with providing the stacktrace of your application and not a screenshot showing the error at the swagger ui."}],"answers":[{"tags":[],"owner":{"account_id":26501274,"reputation":11,"user_id":20138177,"display_name":"Ashwini Bedwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938195,"creation_date":1665938195,"answer_id":74088907,"question_id":73919599,"body_markdown":"The swagger version was incompatible with Jackson-databind(2.13.2.1). So, updated the swagger version too.","title":"JAVA -Getting &quot;Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet&quot; while accessing swagger UI","body":"<p>The swagger version was incompatible with Jackson-databind(2.13.2.1). So, updated the swagger version too.</p>\n"}],"owner":{"account_id":26501274,"reputation":11,"user_id":20138177,"display_name":"Ashwini Bedwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665938195,"creation_date":1664638320,"question_id":73919599,"body_markdown":"[refer this screenshot to see error][1]** Java - Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet**\r\n\r\nGetting this error while accessing the swagger UI. Earlier it was working fine but after upgrading Jackson-databind.jar along with its dependencies Jackson core and Jackson annotation jars from 2.10.5 to 2.13.4(also tried with versions 2.13.2.1 and 2.13.2.2)after this change unable to access swagger UI. \r\n(I have installed my build using ocp setup so, there all the pods are up and running)\r\n\r\n\r\nswagger jar version= 1.5.16\r\n\r\nLogs:\r\n\r\n[10/2/22 22:51:25:961 GMT] 00000041 com.ibm.ws.webcontainer.webapp                               E SRVE0315E: An exception occurred: java.lang.Throwable: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\r\n        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5117)\r\n        at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:316)\r\n        at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\r\n        at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:281)\r\n        at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1184)\r\n        at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:453)\r\n        at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:412)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\r\n        at com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:514)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:584)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:968)\r\n        at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1057)\r\n        at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:245)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.lang.Thread.run(Thread.java:822)\r\nCaused by: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:368)\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:601)\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\r\n        at com.ibm.cdb.api.rest.config.RespHeaderAddFilter.doFilter(RespHeaderAddFilter.java:48)\r\n        at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\r\n        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\r\n        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5059)\r\n        ... 18 more\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.apache.cxf.jaxrs.spring.JAXRSServerFactoryBeanDefinitionParser$SpringJAXRSServerFactoryBean---1032362584&#39;: Invocation of init method failed; nested exception is java.util.ServiceConfigurationError: io.swagger.jaxrs.ext.SwaggerExtension: Provider org.apache.cxf.jaxrs.swagger.JaxRs2Extension could not be instantiated\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\r\n        at org\r\n\r\n  [1]: https://i.stack.imgur.com/IjU5w.png\r\n","title":"JAVA -Getting &quot;Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet&quot; while accessing swagger UI","body":"<p><a href=\"https://i.stack.imgur.com/IjU5w.png\" rel=\"nofollow noreferrer\">refer this screenshot to see error</a>** Java - Error 500: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet**</p>\n<p>Getting this error while accessing the swagger UI. Earlier it was working fine but after upgrading Jackson-databind.jar along with its dependencies Jackson core and Jackson annotation jars from 2.10.5 to 2.13.4(also tried with versions 2.13.2.1 and 2.13.2.2)after this change unable to access swagger UI.\n(I have installed my build using ocp setup so, there all the pods are up and running)</p>\n<p>swagger jar version= 1.5.16</p>\n<p>Logs:</p>\n<p>[10/2/22 22:51:25:961 GMT] 00000041 com.ibm.ws.webcontainer.webapp                               E SRVE0315E: An exception occurred: java.lang.Throwable: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\nat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5117)\nat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:316)\nat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\nat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:281)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1184)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:453)\nat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:412)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\nat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\nat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:514)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:584)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:968)\nat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1057)\nat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:245)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.lang.Thread.run(Thread.java:822)\nCaused by: javax.servlet.ServletException: SRVE0207E: Uncaught initialization exception created by servlet\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.init(ServletWrapper.java:368)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:601)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\nat com.ibm.cdb.api.rest.config.RespHeaderAddFilter.doFilter(RespHeaderAddFilter.java:48)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\nat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\nat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5059)\n... 18 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.apache.cxf.jaxrs.spring.JAXRSServerFactoryBeanDefinitionParser$SpringJAXRSServerFactoryBean---1032362584': Invocation of init method failed; nested exception is java.util.ServiceConfigurationError: io.swagger.jaxrs.ext.SwaggerExtension: Provider org.apache.cxf.jaxrs.swagger.JaxRs2Extension could not be instantiated\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\nat org</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1437120171,"post_id":31470948,"comment_id":50907628,"body_markdown":"Tags don&#39;t go in titles. I&#39;ve fixed the title for you -- removed the tag, added the `new String[]` bit so people don&#39;t drive-by-downvote for not reading the `String.valueOf` docs. (That said, [the documentation](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-) *does* tell you exactly what the second part of your question asks.)","body":"Tags don&#39;t go in titles. I&#39;ve fixed the title for you -- removed the tag, added the <code>new String[]</code> bit so people don&#39;t drive-by-downvote for not reading the <code>String.valueOf</code> docs. (That said, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-\" rel=\"nofollow noreferrer\">the documentation</a> <i>does</i> tell you exactly what the second part of your question asks.)"},{"owner":{"account_id":6627476,"reputation":1182,"user_id":5126604,"accept_rate":82,"display_name":"BabbevDan"},"score":0,"creation_date":1437120312,"post_id":31470948,"comment_id":50907692,"body_markdown":"Thanks, I am new here :)","body":"Thanks, I am new here :)"},{"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"score":0,"creation_date":1437120667,"post_id":31470948,"comment_id":50907865,"body_markdown":"I have no idea why the code is doing what it is doing? String.valueOf(x)  takes the object/int/long etc x and turns it into a string, as the value of x is hardcoded why didn&#39;t they just String[] strArray = new String[] {&quot;1&quot;};","body":"I have no idea why the code is doing what it is doing? String.valueOf(x)  takes the object/int/long etc x and turns it into a string, as the value of x is hardcoded why didn&#39;t they just String[] strArray = new String[] {&quot;1&quot;};"},{"owner":{"account_id":6627476,"reputation":1182,"user_id":5126604,"accept_rate":82,"display_name":"BabbevDan"},"score":0,"creation_date":1437120803,"post_id":31470948,"comment_id":50907933,"body_markdown":"I hardcoded it for clearness. In the original code it is a variable.","body":"I hardcoded it for clearness. In the original code it is a variable."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1437120370,"creation_date":1437120370,"answer_id":31471091,"question_id":31470948,"body_markdown":"This:\n\n    String[] strArray = new String[]{\n        // ...\n    };\n\n...creates a `String` array and initializes it with the entries in the `{...}` part. In your case, there&#39;s only one entry.\n\n&gt; Why String is created like an object and what does\n&gt;\n&gt; `valueOf(1);`\n\nAs [the documentation will tell you](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-), `String.valueOf(int)` creates a string representation of the integer value you pass in.\n\nSo what that code does is create an array of `String` with one entry, `&quot;1&quot;`, in it. It&#39;s unclear why the author would have written `String.valueOf(1)` rather than simply `&quot;1&quot;`.","title":"What does this new String[] and String.value() code mean?","body":"<p>This:</p>\n<pre><code>String[] strArray = new String[]{\n    // ...\n};\n</code></pre>\n<p>...creates a <code>String</code> array and initializes it with the entries in the <code>{...}</code> part. In your case, there's only one entry.</p>\n<blockquote>\n<p>Why String is created like an object and what does</p>\n<p><code>valueOf(1);</code></p>\n</blockquote>\n<p>As <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-int-\" rel=\"nofollow noreferrer\">the documentation will tell you</a>, <code>String.valueOf(int)</code> creates a string representation of the integer value you pass in.</p>\n<p>So what that code does is create an array of <code>String</code> with one entry, <code>&quot;1&quot;</code>, in it. It's unclear why the author would have written <code>String.valueOf(1)</code> rather than simply <code>&quot;1&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":6299828,"reputation":615,"user_id":4894814,"accept_rate":38,"display_name":"Christophe Schutz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437120501,"creation_date":1437120501,"answer_id":31471121,"question_id":31470948,"body_markdown":"    String.valueOf(...)\r\n\r\nis a method that parses an object or a primitive, and creates a String representation of that object. For example the integer 1 will be converted to the string &quot;1&quot; (as in your example).\r\n\r\n---------------------------------\r\n\r\n    String[] strArray = new String[]{\r\n           String.valueOf(1)\r\n      };\r\n\r\n\r\nmeans that we instantiate an array of Strings (basically an array that contains multiple Strings), and we add a String containing &quot;1&quot; in it (see my explanation above).","title":"What does this new String[] and String.value() code mean?","body":"<pre><code>String.valueOf(...)\n</code></pre>\n\n<p>is a method that parses an object or a primitive, and creates a String representation of that object. For example the integer 1 will be converted to the string \"1\" (as in your example).</p>\n\n<hr>\n\n<pre><code>String[] strArray = new String[]{\n       String.valueOf(1)\n  };\n</code></pre>\n\n<p>means that we instantiate an array of Strings (basically an array that contains multiple Strings), and we add a String containing \"1\" in it (see my explanation above).</p>\n"},{"tags":[],"owner":{"account_id":4813898,"reputation":337,"user_id":3886537,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665938085,"creation_date":1437120581,"answer_id":31471142,"question_id":31470948,"body_markdown":"The code snippet in the question looks like wrong. and I hope it should be as follows. \r\n\r\n      String[] s= new String[]{\r\n\t\t           String.valueOf(1)\r\n\t\t      };\r\n\r\nString.valueOf(1) &quot;Returns the string representation of the int argument&quot;.\r\n\r\nthe values is returned from  &quot; String.valueOf(1)&quot; is assigned to the string array object. The value &quot;1&quot; will be stored in the 0th index. \r\n","title":"What does this new String[] and String.value() code mean?","body":"<p>The code snippet in the question looks like wrong. and I hope it should be as follows.</p>\n<pre><code>  String[] s= new String[]{\n               String.valueOf(1)\n          };\n</code></pre>\n<p>String.valueOf(1) &quot;Returns the string representation of the int argument&quot;.</p>\n<p>the values is returned from  &quot; String.valueOf(1)&quot; is assigned to the string array object. The value &quot;1&quot; will be stored in the 0th index.</p>\n"}],"owner":{"account_id":6627476,"reputation":1182,"user_id":5126604,"accept_rate":82,"display_name":"BabbevDan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3148,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":31471091,"answer_count":3,"score":3,"last_activity_date":1665938085,"creation_date":1437119814,"question_id":31470948,"body_markdown":"I am doing some Android development and I encountered this:\r\n\r\n \r\n\r\n           String[] strArray = new String[]{\r\n               String.valueOf(1)\r\n          };\r\n\r\nWhy String is created like an object and what does \r\n\r\n    valueOf(1)\r\nactually set here ?","title":"What does this new String[] and String.value() code mean?","body":"<p>I am doing some Android development and I encountered this:</p>\n\n<pre><code>       String[] strArray = new String[]{\n           String.valueOf(1)\n      };\n</code></pre>\n\n<p>Why String is created like an object and what does </p>\n\n<pre><code>valueOf(1)\n</code></pre>\n\n<p>actually set here ?</p>\n"},{"tags":["java","java-time","datetime-parsing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1502293986,"post_id":45595169,"comment_id":78150355,"body_markdown":"That&#39;s not a `LocalDateTime`, that&#39;s only a `LocalTime`.","body":"That&#39;s not a <code>LocalDateTime</code>, that&#39;s only a <code>LocalTime</code>."},{"owner":{"account_id":11149481,"reputation":213,"user_id":8183195,"accept_rate":67,"display_name":"SVCS1994"},"score":0,"creation_date":1502295053,"post_id":45595169,"comment_id":78151006,"body_markdown":"I apologize. Let me rephrase that.","body":"I apologize. Let me rephrase that."}],"answers":[{"tags":[],"owner":{"account_id":1490931,"reputation":410,"user_id":1398030,"display_name":"Madhawa Gunasekara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502294187,"creation_date":1502294187,"answer_id":45595483,"question_id":45595169,"body_markdown":"Hope this will help you. I think you could do it using **DateTimeFormatter** and **LocalDateTime** parsing like below example.\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEEE, MMM d, yyyy HH:mm:ss a&quot;);\r\n\r\n        String date = &quot;Tuesday, Aug 13, 2017 12:10:56 PM&quot;;\r\n        LocalDateTime localDateTime = LocalDateTime.parse(date,  formatter);\r\n        System.out.println(localDateTime);\r\n        System.out.println(formatter.format(localDateTime));\r\n\r\n\r\nOutput\r\n======\r\n\r\n2017-08-13T12:10:56\r\n\r\nTuesday, Aug 13, 2017 12:10:56 PM\r\n\r\n\r\nSimilar posts would be https://stackoverflow.com/questions/39637618/java-8-trying-to-convert-string-to-localdatetime","title":"How to convert a given time (String) to a LocalTime?","body":"<p>Hope this will help you. I think you could do it using <strong>DateTimeFormatter</strong> and <strong>LocalDateTime</strong> parsing like below example.</p>\n\n<pre><code>    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"EEEE, MMM d, yyyy HH:mm:ss a\");\n\n    String date = \"Tuesday, Aug 13, 2017 12:10:56 PM\";\n    LocalDateTime localDateTime = LocalDateTime.parse(date,  formatter);\n    System.out.println(localDateTime);\n    System.out.println(formatter.format(localDateTime));\n</code></pre>\n\n<h1>Output</h1>\n\n<p>2017-08-13T12:10:56</p>\n\n<p>Tuesday, Aug 13, 2017 12:10:56 PM</p>\n\n<p>Similar posts would be <a href=\"https://stackoverflow.com/questions/39637618/java-8-trying-to-convert-string-to-localdatetime\">Java 8 - Trying to convert String to LocalDateTime</a></p>\n"},{"tags":[],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1502344235,"creation_date":1502294433,"answer_id":45595565,"question_id":45595169,"body_markdown":"If you want to parse time only, you should try parsing to `LocalTime`. Following is the code to implement this:\r\n\r\n    DateTimeFormatter parseFormat = new DateTimeFormatterBuilder().appendPattern(&quot;hh[:mm]a&quot;).toFormatter();\r\n\tLocalTime localTime = LocalTime.parse(timeValue, parseFormat);","title":"How to convert a given time (String) to a LocalTime?","body":"<p>If you want to parse time only, you should try parsing to <code>LocalTime</code>. Following is the code to implement this:</p>\n\n<pre><code>DateTimeFormatter parseFormat = new DateTimeFormatterBuilder().appendPattern(\"hh[:mm]a\").toFormatter();\nLocalTime localTime = LocalTime.parse(timeValue, parseFormat);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7605325"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1502295496,"creation_date":1502295496,"answer_id":45595908,"question_id":45595169,"body_markdown":"Just use a `java.time.format.DateTimeFormatter`:\r\n\r\n    DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;);\r\n    LocalTime localTime = LocalTime.parse(&quot;10AM&quot;, parser);\r\n\r\nExplaining the pattern:\r\n\r\n- `h`: am/pm hour of day (from 1 to 12), with 1 or 2 digits\r\n- `[]`: delimiters for optional section (everything inside it is optional)\r\n- `:mm`: a `:` character followed by minutes with 2 digits\r\n- `a`: designator for AM/PM\r\n\r\nThis works for all your inputs.","title":"How to convert a given time (String) to a LocalTime?","body":"<p>Just use a <code>java.time.format.DateTimeFormatter</code>:</p>\n\n<pre><code>DateTimeFormatter parser = DateTimeFormatter.ofPattern(\"h[:mm]a\");\nLocalTime localTime = LocalTime.parse(\"10AM\", parser);\n</code></pre>\n\n<p>Explaining the pattern:</p>\n\n<ul>\n<li><code>h</code>: am/pm hour of day (from 1 to 12), with 1 or 2 digits</li>\n<li><code>[]</code>: delimiters for optional section (everything inside it is optional)</li>\n<li><code>:mm</code>: a <code>:</code> character followed by minutes with 2 digits</li>\n<li><code>a</code>: designator for AM/PM</li>\n</ul>\n\n<p>This works for all your inputs.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665938078,"creation_date":1665938078,"answer_id":74088892,"question_id":45595169,"body_markdown":"The solution provided in the [accepted answer](https://stackoverflow.com/a/45595908/10819573) works only if you execute it on a machine with `ENGLISH` as the default `Locale`; it will fail otherwise. \r\n\r\n[Never use `SimpleDateFormat` or `DateTimeFormatter` without a Locale](https://stackoverflow.com/a/65544056/10819573) because they are `Locale`-sensitive. Use the following one to avoid failure due to the default `Locale` not matching the input.\r\n\r\n    DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\r\n            Stream.of(\r\n                    &quot;10AM&quot;,\r\n                    &quot;12:30PM&quot;,\r\n                    &quot;2:47PM&quot;,\r\n                    &quot;1:09AM&quot;,\r\n                    &quot;5PM&quot;\r\n            )\r\n            .map(s -&gt; LocalTime.parse(s, parser))\r\n            .forEach(System.out::println);\r\n    \r\n            // See how it can fail with other locales\r\n            // Assuming the default Locale of the system is Locale.CHINA,\r\n            // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;) will automatically be turned into\r\n            // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA) causig the parsing to\r\n            // fail\r\n            DateTimeFormatter errorProneParser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA);\r\n            LocalTime localTime = LocalTime.parse(&quot;10AM&quot;, errorProneParser);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    10:00\r\n    12:30\r\n    14:47\r\n    01:09\r\n    17:00\r\n    Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;10AM&#39; could not be parsed at index 2\r\n            at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\r\n            at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\r\n            at java.base/java.time.LocalTime.parse(LocalTime.java:465)\r\n            at Main.main(Main.java:24)\r\n\r\n","title":"How to convert a given time (String) to a LocalTime?","body":"<p>The solution provided in the <a href=\"https://stackoverflow.com/a/45595908/10819573\">accepted answer</a> works only if you execute it on a machine with <code>ENGLISH</code> as the default <code>Locale</code>; it will fail otherwise.</p>\n<p><a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a Locale</a> because they are <code>Locale</code>-sensitive. Use the following one to avoid failure due to the default <code>Locale</code> not matching the input.</p>\n<pre><code>DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String args[]) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.ENGLISH);\n        Stream.of(\n                &quot;10AM&quot;,\n                &quot;12:30PM&quot;,\n                &quot;2:47PM&quot;,\n                &quot;1:09AM&quot;,\n                &quot;5PM&quot;\n        )\n        .map(s -&gt; LocalTime.parse(s, parser))\n        .forEach(System.out::println);\n\n        // See how it can fail with other locales\n        // Assuming the default Locale of the system is Locale.CHINA,\n        // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;) will automatically be turned into\n        // DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA) causig the parsing to\n        // fail\n        DateTimeFormatter errorProneParser = DateTimeFormatter.ofPattern(&quot;h[:mm]a&quot;, Locale.CHINA);\n        LocalTime localTime = LocalTime.parse(&quot;10AM&quot;, errorProneParser);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>10:00\n12:30\n14:47\n01:09\n17:00\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '10AM' could not be parsed at index 2\n        at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052)\n        at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954)\n        at java.base/java.time.LocalTime.parse(LocalTime.java:465)\n        at Main.main(Main.java:24)\n</code></pre>\n"}],"owner":{"account_id":11149481,"reputation":213,"user_id":8183195,"accept_rate":67,"display_name":"SVCS1994"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6089,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45595908,"answer_count":4,"score":10,"last_activity_date":1665938078,"creation_date":1502293303,"question_id":45595169,"body_markdown":"I will be asking a user to enter a specific time: 10AM, 12:30PM, 2:47PM, 1:09AM, 5PM, etc.\r\nI will be using a `Scanner` to get the user&#39;s input. \r\n\r\nHow can I parse/convert that `String` to a `LocalTime` object? Is there any built-in function in Java that will allow me to do that?\r\n","title":"How to convert a given time (String) to a LocalTime?","body":"<p>I will be asking a user to enter a specific time: 10AM, 12:30PM, 2:47PM, 1:09AM, 5PM, etc.\nI will be using a <code>Scanner</code> to get the user's input. </p>\n\n<p>How can I parse/convert that <code>String</code> to a <code>LocalTime</code> object? Is there any built-in function in Java that will allow me to do that?</p>\n"},{"tags":["java","spring","spring-boot","http-live-streaming"],"answers":[{"tags":[],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665937968,"creation_date":1665937968,"answer_id":74088875,"question_id":74073454,"body_markdown":"Current solution is to have the client buffer streaming A/V until 32K bytes are buffered, and then I defined a `POST` endpoint in Spring Boot that accepts a `MultipartFile` in the request body (the 32K bytes).\r\n\r\nThe Java code in that resource endpoint then invokes an `@Async` service method that uses [ffmpeg-cli-wrapper](https://github.com/bramp/ffmpeg-cli-wrapper) to append the bytes in the `MultipartFile` to the end of an MP4 file I&#39;m storing in S3.\r\n\r\nThis is working but I will continue to tweak the buffer size until I have a size/configuration that is a careful balance of POST requests (the client sending chunks of the livestream as `MultipartFiles`) and video processing efficiency.","title":"Uploading and live video stream to a Spring Boot endpoint, by example","body":"<p>Current solution is to have the client buffer streaming A/V until 32K bytes are buffered, and then I defined a <code>POST</code> endpoint in Spring Boot that accepts a <code>MultipartFile</code> in the request body (the 32K bytes).</p>\n<p>The Java code in that resource endpoint then invokes an <code>@Async</code> service method that uses <a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">ffmpeg-cli-wrapper</a> to append the bytes in the <code>MultipartFile</code> to the end of an MP4 file I'm storing in S3.</p>\n<p>This is working but I will continue to tweak the buffer size until I have a size/configuration that is a careful balance of POST requests (the client sending chunks of the livestream as <code>MultipartFiles</code>) and video processing efficiency.</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74088875,"answer_count":1,"score":1,"last_activity_date":1665937968,"creation_date":1665772341,"question_id":74073454,"body_markdown":"I am interested in building a Spring Boot (Java 11) web service that has a controller/resource that exposes an API endpoint for accepting **streaming video**. Particularly I am interested in accomplishing this over HTTP/HLS. The idea is that clients could livestream a video feed to this endpoint, and the endpoint would be doing realtime video processing on it.\r\n\r\nWhen you Google &quot;java spring streaming video&quot; you get a bazillion hits for either:\r\n\r\n- Writing a Spring controller/resource (endpoint) that accepts a **single** (already recorded; a.k.a. **not live**) video file upload as a `MultiPartFile`; or\r\n- Writing a Spring controller/resource (endpoint) that downloads and streams a video by range of bytes, as a `MultiPartFile`; a.k.a. a streaming download to a video player on the client-side\r\n\r\n**But this isn&#39;t what I want.** I am curious to see how a client would livestream a video (byte after byte) to a service endpoint so that the video&#39;s `byte[]` is being constantly read and processed server-side. Maybe I want to run AI/ML detections on the video, or do some type of image/graphics processing. The application doesn&#39;t really matter, all I am curious here is how to write a Spring Boot endpoint to handle a livestream video feed from client to server (livestream upload).\r\n\r\nWould the client just send the livestream in &quot;chunks&quot; or batches of `MultiPartFile` payloads? Either way, there don&#39;t appear to be any guides on how to do this in Spring, and I&#39;m sure its definitely something that Spring could handle. **Any ideas?**","title":"Uploading and live video stream to a Spring Boot endpoint, by example","body":"<p>I am interested in building a Spring Boot (Java 11) web service that has a controller/resource that exposes an API endpoint for accepting <strong>streaming video</strong>. Particularly I am interested in accomplishing this over HTTP/HLS. The idea is that clients could livestream a video feed to this endpoint, and the endpoint would be doing realtime video processing on it.</p>\n<p>When you Google &quot;java spring streaming video&quot; you get a bazillion hits for either:</p>\n<ul>\n<li>Writing a Spring controller/resource (endpoint) that accepts a <strong>single</strong> (already recorded; a.k.a. <strong>not live</strong>) video file upload as a <code>MultiPartFile</code>; or</li>\n<li>Writing a Spring controller/resource (endpoint) that downloads and streams a video by range of bytes, as a <code>MultiPartFile</code>; a.k.a. a streaming download to a video player on the client-side</li>\n</ul>\n<p><strong>But this isn't what I want.</strong> I am curious to see how a client would livestream a video (byte after byte) to a service endpoint so that the video's <code>byte[]</code> is being constantly read and processed server-side. Maybe I want to run AI/ML detections on the video, or do some type of image/graphics processing. The application doesn't really matter, all I am curious here is how to write a Spring Boot endpoint to handle a livestream video feed from client to server (livestream upload).</p>\n<p>Would the client just send the livestream in &quot;chunks&quot; or batches of <code>MultiPartFile</code> payloads? Either way, there don't appear to be any guides on how to do this in Spring, and I'm sure its definitely something that Spring could handle. <strong>Any ideas?</strong></p>\n"},{"tags":["java","saxparser"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665928456,"post_id":74087360,"comment_id":130809039,"body_markdown":"No recent experience with xml, but https://www.oracle.com/technical-resources/articles/wang-whitespace.html mentions some `.preserveWhitespace()` method. Coud make `.toString()` method work?","body":"No recent experience with xml, but <a href=\"https://www.oracle.com/technical-resources/articles/wang-whitespace.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/wang-whitespace.html</a> mentions some <code>.preserveWhitespace()</code> method. Coud make <code>.toString()</code> method work?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665929465,"post_id":74087360,"comment_id":130809274,"body_markdown":"*if i trim the final data, tagB fail the expect (&quot;:&quot;)* Why? The colon would remain...","body":"<i>if i trim the final data, tagB fail the expect (&quot;:&quot;)</i> Why? The colon would remain..."},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665929906,"post_id":74087360,"comment_id":130809375,"body_markdown":"@zapl i readed this article, but i don&#39;t have oracle xml, i&#39;m using javax.xml.parsers.SAXParser and not have .preserveWhitespace()","body":"@zapl i readed this article, but i don&#39;t have oracle xml, i&#39;m using javax.xml.parsers.SAXParser and not have .preserveWhitespace()"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665929973,"post_id":74087360,"comment_id":130809385,"body_markdown":"@g00se, because i want &quot;  :  &quot;, ( due spaces before and after colon) if i trim i have &quot;:&quot;","body":"@g00se, because i want &quot;  :  &quot;, ( due spaces before and after colon) if i trim i have &quot;:&quot;"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665930557,"post_id":74087360,"comment_id":130809505,"body_markdown":"oops, didn&#39;t know there was another one, maybe overriding the [ignorableWhitespace](https://docs.oracle.com/javase/7/docs/api/org/xml/sax/helpers/DefaultHandler.html#ignorableWhitespace(char[],%20int,%20int)) method helps instead. Xml and whitespace is kind of tricky :/ There&#39;s also maybe a way via CDATA: https://stackoverflow.com/a/27481570/995891","body":"oops, didn&#39;t know there was another one, maybe overriding the <a href=\"https://docs.oracle.com/javase/7/docs/api/org/xml/sax/helpers/DefaultHandler.html#ignorableWhitespace(char%5B%5D,%20int,%20int)\" rel=\"nofollow noreferrer\">ignorableWhitespace</a> method helps instead. Xml and whitespace is kind of tricky :/ There&#39;s also maybe a way via CDATA: <a href=\"https://stackoverflow.com/a/27481570/995891\">stackoverflow.com/a/27481570/995891</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665931164,"post_id":74087360,"comment_id":130809656,"body_markdown":"I&#39;m confused. You say *fail the expect (&quot;:&quot;)* so if you &quot;expect&quot; it, in what way does it fail? And if you want space surrounding the colon why *would* you trim in the first place and not leave it as is? Also I have to say that it&#39;s not really about xml at this point. &quot;Ignorable whitespace&quot; is to do with metadata and markup. Your whitespace is data (part of the content).","body":"I&#39;m confused. You say <i>fail the expect (&quot;:&quot;)</i> so if you &quot;expect&quot; it, in what way does it fail? And if you want space surrounding the colon why <i>would</i> you trim in the first place and not leave it as is? Also I have to say that it&#39;s not really about xml at this point. &quot;Ignorable whitespace&quot; is to do with metadata and markup. Your whitespace is data (part of the content)."},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665932140,"post_id":74087360,"comment_id":130809869,"body_markdown":"@g00se sorry, there is a problem with format of my post... my expect have to be &quot;  :  &quot; ( due spaces before and after colon)","body":"@g00se sorry, there is a problem with format of my post... my expect have to be &quot;  :  &quot; ( due spaces before and after colon)"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665932210,"post_id":74087360,"comment_id":130809882,"body_markdown":"@zapl i receive xml file from various external provider, and i cannot ask to put CDATA :\\","body":"@zapl i receive xml file from various external provider, and i cannot ask to put CDATA :\\"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665932334,"post_id":74087360,"comment_id":130809906,"body_markdown":"OK. Still confused. You &quot;expect&quot; `&quot; : &quot; `But that&#39;s precisely what I get out of your basic code, so I still don&#39;t see what the problem is..?","body":"OK. Still confused. You &quot;expect&quot; <code>&quot; : &quot; </code>But that&#39;s precisely what I get out of your basic code, so I still don&#39;t see what the problem is..?"},{"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"score":0,"creation_date":1665932720,"post_id":74087360,"comment_id":130810000,"body_markdown":"@g00se, i try to clarify the result of code posted above is `tagA=&quot;\\n    190&quot;, tagB=&quot;\\n      :  &quot;, tagC=&quot;\\n\\t2019-07-02&quot;` - so tagA and tagC not good. If i make a trim() the result is `tagA=&quot;190&quot;, tagB=&quot;:&quot;, tagC=&quot;2019-07-02&quot;` - so tagB not good","body":"@g00se, i try to clarify the result of code posted above is <code>tagA=&quot;\\n    190&quot;, tagB=&quot;\\n      :  &quot;, tagC=&quot;\\n\\t2019-07-02&quot;</code> - so tagA and tagC not good. If i make a trim() the result is <code>tagA=&quot;190&quot;, tagB=&quot;:&quot;, tagC=&quot;2019-07-02&quot;</code> - so tagB not good"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665933349,"post_id":74087360,"comment_id":130810149,"body_markdown":"Please see simplified code posted as answer. Please use the test.xml file you posted, with a different path to it if necessary","body":"Please see simplified code posted as answer. Please use the test.xml file you posted, with a different path to it if necessary"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665933470,"creation_date":1665933470,"answer_id":74088268,"question_id":74087360,"body_markdown":"There is really no problem with your requirement to preserve the whitespace in your data:\r\n\r\n    import java.io.*;\r\n    import javax.xml.parsers.*;\r\n    import org.xml.sax.helpers.*;\r\n    import org.xml.sax.*;\r\n    \r\n    public class FurmaxXmlHandler extends DefaultHandler {\r\n    \r\n        private boolean isTextNode = false;\r\n        private boolean collect = false;\r\n        private StringBuilder textNode = new StringBuilder();\r\n    \r\n        @Override\r\n        public void characters(char[] ch, int start, int length) throws SAXException {\r\n            if (collect) {\r\n                textNode.append(ch, start, length);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\r\n            if (&quot;tagB&quot;.equals(qName)) {\r\n                collect = true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void endElement(String uri, String localName, String name) throws SAXException {\r\n            // Delegate to active handlers and deletes them if they are finished...\r\n            if (&quot;tagB&quot;.equals(name)) {\r\n                collect = false;\r\n                System.out.printf(&quot;tagB = &#39;%s&#39;%n&quot;, textNode.toString());\r\n                textNode.setLength(0);\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                File file = new File(&quot;test.xml&quot;);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser saxParser = factory.newSAXParser();\r\n                XMLReader reader = saxParser.getXMLReader();\r\n                FurmaxXmlHandler handler = new FurmaxXmlHandler();\r\n                reader.setContentHandler(handler);\r\n                InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\r\n                reader.parse(inputSource);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Sax Parser preserve space in content","body":"<p>There is really no problem with your requirement to preserve the whitespace in your data:</p>\n<pre><code>import java.io.*;\nimport javax.xml.parsers.*;\nimport org.xml.sax.helpers.*;\nimport org.xml.sax.*;\n\npublic class FurmaxXmlHandler extends DefaultHandler {\n\n    private boolean isTextNode = false;\n    private boolean collect = false;\n    private StringBuilder textNode = new StringBuilder();\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n        if (collect) {\n            textNode.append(ch, start, length);\n        }\n    }\n\n    @Override\n    public void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\n        if (&quot;tagB&quot;.equals(qName)) {\n            collect = true;\n        }\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String name) throws SAXException {\n        // Delegate to active handlers and deletes them if they are finished...\n        if (&quot;tagB&quot;.equals(name)) {\n            collect = false;\n            System.out.printf(&quot;tagB = '%s'%n&quot;, textNode.toString());\n            textNode.setLength(0);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;test.xml&quot;);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser saxParser = factory.newSAXParser();\n            XMLReader reader = saxParser.getXMLReader();\n            FurmaxXmlHandler handler = new FurmaxXmlHandler();\n            reader.setContentHandler(handler);\n            InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\n            reader.parse(inputSource);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665937881,"creation_date":1665936385,"answer_id":74088666,"question_id":74087360,"body_markdown":"i tested with\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;main&gt;\r\n        &lt;tagA&gt;190&lt;/tagA&gt;\r\n        &lt;tagB&gt;  :  &lt;/tagB&gt;\r\n    \t&lt;tagc&gt;2019-07-02&lt;/tagc&gt;\r\n    \t&lt;tagc&gt;2018-07-02&lt;/tagc&gt;\r\n    \t&lt;fatherA&gt;\r\n    \t&lt;tagd attribute1=&quot; ciao &quot;&gt;2018-07-02&lt;/tagd&gt;\r\n    \t&lt;/fatherA&gt;\r\n        &lt;tagf&gt;&lt;/tagf&gt;\r\n    &lt;/main&gt;\r\n\r\nwith\r\n\r\n    public class FurmaxXmlHandler2 extends DefaultHandler {\r\n\r\n\tprivate StringBuilder textNode = new StringBuilder();\r\n\tprivate String currentElement = &quot;&quot;;\r\n\tprivate String workElement = &quot;&quot;;\r\n\r\n\t@Override\r\n\tpublic void characters(char[] ch, int start, int length) throws SAXException {\r\n\t\tif (workElement.equals(currentElement)) {\r\n\t\t\ttextNode.append(ch, start, length);\r\n\t\t} else {\r\n\t\t\tworkElement = currentElement;\r\n\t\t\ttextNode = new StringBuilder();\r\n\t\t\ttextNode.append(ch, start, length);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\r\n\t\tcurrentElement = qName;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void endElement(String uri, String localName, String name) throws SAXException {\r\n\t\t// Delegate to active handlers and deletes them if they are finished...\r\n\t\tString data = &quot;&quot;;\r\n\t\tif (currentElement.equals(workElement)) {\r\n\t\t\tdata = textNode.toString();\r\n\t\t}\r\n\t\tcurrentElement = &quot;&quot;;\r\n\t\tworkElement = &quot;&quot;;\r\n\t\tSystem.out.printf(&quot;%s = &#39;%s&#39;%n&quot;, name, data);\r\n\t\ttextNode.setLength(0);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tFile file = new File(&quot;test.xml&quot;);\r\n\t\t\tSAXParserFactory factory = SAXParserFactory.newInstance();\r\n\t\t\tSAXParser saxParser = factory.newSAXParser();\r\n\t\t\tXMLReader reader = saxParser.getXMLReader();\r\n\t\t\tFurmaxXmlHandler2 handler = new FurmaxXmlHandler2();\r\n\t\t\treader.setContentHandler(handler);\r\n\t\t\tInputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\r\n\t\t\treader.parse(inputSource);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nresult:\r\n\r\n    tagA = &#39;190&#39;\r\n    tagB = &#39;  :  &#39;\r\n    tagc = &#39;2019-07-02&#39;\r\n    tagc = &#39;2018-07-02&#39;\r\n    tagd = &#39;2018-07-02&#39;\r\n    fatherA = &#39;\r\n    \t&#39;\r\n    tagf = &#39;&#39;\r\n    main = &#39;\r\n    &#39;\r\n\r\nwhat do you think ?\r\n","title":"Sax Parser preserve space in content","body":"<p>i tested with</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;main&gt;\n    &lt;tagA&gt;190&lt;/tagA&gt;\n    &lt;tagB&gt;  :  &lt;/tagB&gt;\n    &lt;tagc&gt;2019-07-02&lt;/tagc&gt;\n    &lt;tagc&gt;2018-07-02&lt;/tagc&gt;\n    &lt;fatherA&gt;\n    &lt;tagd attribute1=&quot; ciao &quot;&gt;2018-07-02&lt;/tagd&gt;\n    &lt;/fatherA&gt;\n    &lt;tagf&gt;&lt;/tagf&gt;\n&lt;/main&gt;\n</code></pre>\n<p>with</p>\n<pre><code>public class FurmaxXmlHandler2 extends DefaultHandler {\n\nprivate StringBuilder textNode = new StringBuilder();\nprivate String currentElement = &quot;&quot;;\nprivate String workElement = &quot;&quot;;\n\n@Override\npublic void characters(char[] ch, int start, int length) throws SAXException {\n    if (workElement.equals(currentElement)) {\n        textNode.append(ch, start, length);\n    } else {\n        workElement = currentElement;\n        textNode = new StringBuilder();\n        textNode.append(ch, start, length);\n    }\n}\n\n@Override\npublic void startElement(String uri, String localName, String qName, Attributes a) throws SAXException {\n    currentElement = qName;\n}\n\n@Override\npublic void endElement(String uri, String localName, String name) throws SAXException {\n    // Delegate to active handlers and deletes them if they are finished...\n    String data = &quot;&quot;;\n    if (currentElement.equals(workElement)) {\n        data = textNode.toString();\n    }\n    currentElement = &quot;&quot;;\n    workElement = &quot;&quot;;\n    System.out.printf(&quot;%s = '%s'%n&quot;, name, data);\n    textNode.setLength(0);\n}\n\npublic static void main(String[] args) {\n    try {\n        File file = new File(&quot;test.xml&quot;);\n        SAXParserFactory factory = SAXParserFactory.newInstance();\n        SAXParser saxParser = factory.newSAXParser();\n        XMLReader reader = saxParser.getXMLReader();\n        FurmaxXmlHandler2 handler = new FurmaxXmlHandler2();\n        reader.setContentHandler(handler);\n        InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\n        reader.parse(inputSource);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>result:</p>\n<pre><code>tagA = '190'\ntagB = '  :  '\ntagc = '2019-07-02'\ntagc = '2018-07-02'\ntagd = '2018-07-02'\nfatherA = '\n    '\ntagf = ''\nmain = '\n'\n</code></pre>\n<p>what do you think ?</p>\n"}],"owner":{"account_id":7295627,"reputation":57,"user_id":5560592,"display_name":"ilmagowalter"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1665937881,"creation_date":1665925595,"question_id":74087360,"body_markdown":"I have a file xml like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;main&gt;\r\n        &lt;tagA&gt;190&lt;/tagA&gt;\r\n        &lt;tagB&gt;  :  &lt;/tagB&gt;\r\n    \t&lt;tagc&gt;2019-07-02&lt;/tagc&gt;\r\n    &lt;/main&gt;\r\n\r\nnote that before tagA and tagB there are four spaces &quot;    &quot;, before tagC there is tab &quot;\\t&quot;\r\n\r\ni want preserve spaces in tagB content, so the expect are\r\n\r\n    tagA &quot;190&quot;\r\n    tagB &quot;  :  &quot;\r\n    tagC &quot;2019-07-02&quot;\r\n\r\nMy code:\r\n\r\n    public class FurmaxXmlHandler extends DefaultHandler {\r\n    \r\n    \tprivate boolean isTextNode = false;\r\n    \tprivate StringBuilder textNode = new StringBuilder();\r\n    \r\n    \t@Override\r\n    \tpublic void characters(char[] ch, int start, int length) throws SAXException {\r\n    \r\n    \t\tisTextNode = true;\r\n    \t\ttextNode.append(ch, start, length);\r\n    \t\t// to test only\r\n    \t\tStringBuilder tempBuilder = new StringBuilder();\r\n    \t\ttempBuilder.append(ch, start, length);\r\n    \t\tString temp = tempBuilder.toString();\r\n    \t\tSystem.out.println(&quot;single call characters -&gt; &quot; + temp + &quot;&lt;-&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void endElement(String uri, String localName, String name) throws SAXException {\r\n    \t\t// Delegate to active handlers and deletes them if they are finished...\r\n    \r\n    \t\tif (isTextNode) {\r\n    \t\t\tString data = textNode.toString();\r\n    \t\t\tSystem.out.println(&quot;value of &quot; + name + &quot; -&gt;&quot; + data + &quot;&lt;-&quot;);\r\n    \t\t\ttextNode = new StringBuilder();\r\n    \t\t\tisTextNode = false;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tFile file = new File(\r\n    \t\t\t\t\t&quot;C:\\\\Workspace\\\\Progetti\\\\ProveJavaGradle\\\\src\\\\main\\\\java\\\\it\\\\furmax\\\\xml\\\\test.xml&quot;);\r\n    \t\t\tSAXParserFactory factory = SAXParserFactory.newInstance();\r\n    \t\t\tSAXParser saxParser = factory.newSAXParser();\r\n    \t\t\tXMLReader reader = saxParser.getXMLReader();\r\n    \t\t\tFurmaxXmlHandler handler = new FurmaxXmlHandler();\r\n    \t\t\treader.setContentHandler(handler);\r\n    \t\t\tInputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\r\n    \t\t\treader.parse(inputSource);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    single call characters -&gt;\r\n        &lt;-\r\n    single call characters -&gt;190&lt;-\r\n    value of tagA -&gt;\r\n        190&lt;-\r\n    single call characters -&gt;\r\n        &lt;-\r\n    single call characters -&gt;  :  &lt;-\r\n    value of tagB -&gt;\r\n          :  &lt;-\r\n    single call characters -&gt;\r\n    \t&lt;-\r\n    single call characters -&gt;2019-07-02&lt;-\r\n    value of tagc -&gt;\r\n    \t2019-07-02&lt;-\r\n    single call characters -&gt;\r\n    &lt;-\r\n    value of main -&gt;\r\n    &lt;-\r\n\r\nlike you see, for single tag there are more of one call of method characters, each containing some text ( &quot;\\n&quot; ot ohers ), and the final content of tag is concatenation of all.\r\n\r\n1) if i trim the final data, tagB fail the expect\r\n2) if i don&#39;t trim the final data, tagA and tagB fail the expect\r\n\r\nFurthermore I tried to change textNode with List&lt;String&gt; where add every characters call and on endelement i get the last... BUT... in a more big file i have some case with the content split in more characters call ( view image ), so i can get only the last element\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ZneM.png\r\n\r\n\r\n\r\nlast idea is linearize all file before parse, but i have to work with very big file, i no have idea how make this safe\r\n\r\n","title":"Sax Parser preserve space in content","body":"<p>I have a file xml like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;main&gt;\n    &lt;tagA&gt;190&lt;/tagA&gt;\n    &lt;tagB&gt;  :  &lt;/tagB&gt;\n    &lt;tagc&gt;2019-07-02&lt;/tagc&gt;\n&lt;/main&gt;\n</code></pre>\n<p>note that before tagA and tagB there are four spaces &quot;    &quot;, before tagC there is tab &quot;\\t&quot;</p>\n<p>i want preserve spaces in tagB content, so the expect are</p>\n<pre><code>tagA &quot;190&quot;\ntagB &quot;  :  &quot;\ntagC &quot;2019-07-02&quot;\n</code></pre>\n<p>My code:</p>\n<pre><code>public class FurmaxXmlHandler extends DefaultHandler {\n\n    private boolean isTextNode = false;\n    private StringBuilder textNode = new StringBuilder();\n\n    @Override\n    public void characters(char[] ch, int start, int length) throws SAXException {\n\n        isTextNode = true;\n        textNode.append(ch, start, length);\n        // to test only\n        StringBuilder tempBuilder = new StringBuilder();\n        tempBuilder.append(ch, start, length);\n        String temp = tempBuilder.toString();\n        System.out.println(&quot;single call characters -&gt; &quot; + temp + &quot;&lt;-&quot;);\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String name) throws SAXException {\n        // Delegate to active handlers and deletes them if they are finished...\n\n        if (isTextNode) {\n            String data = textNode.toString();\n            System.out.println(&quot;value of &quot; + name + &quot; -&gt;&quot; + data + &quot;&lt;-&quot;);\n            textNode = new StringBuilder();\n            isTextNode = false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n\n        try {\n            File file = new File(\n                    &quot;C:\\\\Workspace\\\\Progetti\\\\ProveJavaGradle\\\\src\\\\main\\\\java\\\\it\\\\furmax\\\\xml\\\\test.xml&quot;);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser saxParser = factory.newSAXParser();\n            XMLReader reader = saxParser.getXMLReader();\n            FurmaxXmlHandler handler = new FurmaxXmlHandler();\n            reader.setContentHandler(handler);\n            InputSource inputSource = new InputSource(new InputStreamReader(new FileInputStream(file)));\n            reader.parse(inputSource);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>single call characters -&gt;\n    &lt;-\nsingle call characters -&gt;190&lt;-\nvalue of tagA -&gt;\n    190&lt;-\nsingle call characters -&gt;\n    &lt;-\nsingle call characters -&gt;  :  &lt;-\nvalue of tagB -&gt;\n      :  &lt;-\nsingle call characters -&gt;\n    &lt;-\nsingle call characters -&gt;2019-07-02&lt;-\nvalue of tagc -&gt;\n    2019-07-02&lt;-\nsingle call characters -&gt;\n&lt;-\nvalue of main -&gt;\n&lt;-\n</code></pre>\n<p>like you see, for single tag there are more of one call of method characters, each containing some text ( &quot;\\n&quot; ot ohers ), and the final content of tag is concatenation of all.</p>\n<ol>\n<li>if i trim the final data, tagB fail the expect</li>\n<li>if i don't trim the final data, tagA and tagB fail the expect</li>\n</ol>\n<p>Furthermore I tried to change textNode with List where add every characters call and on endelement i get the last... BUT... in a more big file i have some case with the content split in more characters call ( view image ), so i can get only the last element</p>\n<p><a href=\"https://i.stack.imgur.com/1ZneM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZneM.png\" alt=\"enter image description here\" /></a></p>\n<p>last idea is linearize all file before parse, but i have to work with very big file, i no have idea how make this safe</p>\n"},{"tags":["java","kotlin","singleton"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665934897,"creation_date":1665934897,"answer_id":74088446,"question_id":74088167,"body_markdown":"`object` declares a singleton. Unlike Kotlin, you cannot use a type name to refer to its instance in Java. Therefore, the Kotlin compiler translates the singleton instance to a field called `INSTANCE` instead, so you can do:\r\n\r\n    MySet.INSTANCE.contains(foo);\r\n\r\nin Java.\r\n\r\nWhile you can probably find `INSTANCE` by chance, just by using the auto-complete in IntelliJ, the only place where I could find this officially documented is in the [Calling Kotlin from Java][1] page at the bottom of [this section][2], which talks about calling static methods.\r\n\r\n&gt;     object Obj {\r\n&gt;         @JvmStatic fun callStatic() {}\r\n&gt;         fun callNonStatic() {}\r\n&gt;     }\r\n&gt; \r\n&gt; In Java:\r\n&gt; \r\n&gt; \r\n&gt;     Obj.callStatic(); // works fine\r\n&gt;     Obj.callNonStatic(); // error\r\n&gt;     Obj.INSTANCE.callNonStatic(); // works, a call through the singleton instance\r\n&gt;     Obj.INSTANCE.callStatic(); // works too\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html\r\n  [2]: https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods","title":"How to refer to a Kotlin delegating singleton object from Java?","body":"<p><code>object</code> declares a singleton. Unlike Kotlin, you cannot use a type name to refer to its instance in Java. Therefore, the Kotlin compiler translates the singleton instance to a field called <code>INSTANCE</code> instead, so you can do:</p>\n<pre><code>MySet.INSTANCE.contains(foo);\n</code></pre>\n<p>in Java.</p>\n<p>While you can probably find <code>INSTANCE</code> by chance, just by using the auto-complete in IntelliJ, the only place where I could find this officially documented is in the <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">Calling Kotlin from Java</a> page at the bottom of <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">this section</a>, which talks about calling static methods.</p>\n<blockquote>\n<pre><code>object Obj {\n    @JvmStatic fun callStatic() {}\n    fun callNonStatic() {}\n}\n</code></pre>\n<p>In Java:</p>\n<pre><code>Obj.callStatic(); // works fine\nObj.callNonStatic(); // error\nObj.INSTANCE.callNonStatic(); // works, a call through the singleton instance\nObj.INSTANCE.callStatic(); // works too\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74088446,"answer_count":1,"score":0,"last_activity_date":1665937120,"creation_date":1665932683,"question_id":74088167,"body_markdown":"I have a Kotlin object that delegates it&#39;s implementation, in my case to `MutableSet&lt;String&gt;` like so: \r\n\r\n```kotlin\r\nobject MySet : MutableSet&lt;String&gt; by TreeSet&lt;String&gt;() {\r\n\r\n    init {...}\r\n\r\n}\r\n```\r\n\r\n\r\nIn Java I&#39;d like to say something like `MySet.contains`. How can I do that?","title":"How to refer to a Kotlin delegating singleton object from Java?","body":"<p>I have a Kotlin object that delegates it's implementation, in my case to <code>MutableSet&lt;String&gt;</code> like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object MySet : MutableSet&lt;String&gt; by TreeSet&lt;String&gt;() {\n\n    init {...}\n\n}\n</code></pre>\n<p>In Java I'd like to say something like <code>MySet.contains</code>. How can I do that?</p>\n"},{"tags":["java","frequency","linear-search","frequency-distribution","symbol-table"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1665810221,"post_id":74076755,"comment_id":130790362,"body_markdown":"Prints *always* 1 because: *never* `st.containsKey(key)`!","body":"Prints <i>always</i> 1 because: <i>never</i> <code>st.containsKey(key)</code>!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1665812485,"post_id":74076755,"comment_id":130790617,"body_markdown":"[Edit] your question and post sample data from file `RandomInt.txt`","body":"<a href=\"https://stackoverflow.com/posts/74076755/edit\">Edit</a> your question and post sample data from file <code>RandomInt.txt</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665814290,"post_id":74076755,"comment_id":130790826,"body_markdown":"The only keys you add to `st` are the descriptions of the ranges, so you are never going to find the numbers you read from the file, even when one appears more than once.","body":"The only keys you add to <code>st</code> are the descriptions of the ranges, so you are never going to find the numbers you read from the file, even when one appears more than once."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1665818487,"post_id":74076755,"comment_id":130791404,"body_markdown":"for this specific case I would use an array for the counters: if you divide the number by `10` you almost directly get the index for such an array (some caution needed since the first range starts with `10`)","body":"for this specific case I would use an array for the counters: if you divide the number by <code>10</code> you almost directly get the index for such an array (some caution needed since the first range starts with <code>10</code>)"},{"owner":{"account_id":26628684,"reputation":1,"user_id":20246209,"display_name":"V01D"},"score":0,"creation_date":1665936805,"post_id":74076755,"comment_id":130810914,"body_markdown":"I managed to count the frequency of each integer in the file. But, I can&#39;t seem to get the range part working","body":"I managed to count the frequency of each integer in the file. But, I can&#39;t seem to get the range part working"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665828380,"creation_date":1665828380,"answer_id":74078511,"question_id":74076755,"body_markdown":"As @user16320675 says, you should probably do something numeric with arrays. See the following as a fairly kludgy fix as the use of strings for something essentially numeric is not really appropriate. Instead of just `st.contains(key)` you could call `st.contains(keyInRange(key))` - the following:\r\n\r\n    public static String keyInRange(String key) {\r\n        final String[] RANGES = {\r\n            &quot;&quot;,\r\n            &quot;10 to 19&quot;,\r\n            &quot;20 to 29&quot;,\r\n            &quot;30 to 39&quot;,\r\n            &quot;40 to 49&quot;,\r\n            &quot;50 to 59&quot;\r\n        };\r\n        return RANGES[Integer.parseInt(key) / 10];\r\n    }\r\nbut beware, because you&#39;re currently `put`ting in all ranges irrespective of key for some reason.","title":"How do I count the frequency of an item in a given range?","body":"<p>As @user16320675 says, you should probably do something numeric with arrays. See the following as a fairly kludgy fix as the use of strings for something essentially numeric is not really appropriate. Instead of just <code>st.contains(key)</code> you could call <code>st.contains(keyInRange(key))</code> - the following:</p>\n<pre><code>public static String keyInRange(String key) {\n    final String[] RANGES = {\n        &quot;&quot;,\n        &quot;10 to 19&quot;,\n        &quot;20 to 29&quot;,\n        &quot;30 to 39&quot;,\n        &quot;40 to 49&quot;,\n        &quot;50 to 59&quot;\n    };\n    return RANGES[Integer.parseInt(key) / 10];\n}\n</code></pre>\n<p>but beware, because you're currently <code>put</code>ting in all ranges irrespective of key for some reason.</p>\n"}],"owner":{"account_id":26628684,"reputation":1,"user_id":20246209,"display_name":"V01D"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665937113,"creation_date":1665809271,"question_id":74076755,"body_markdown":"I&#39;ve been given a lab where I&#39;m supposed to create a program that reads a file with 1000 random integers between 10 to 59 inclusive and generate a frequency table like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe ranges are 10 to 19, 20 to 29, 30 to 39, 40 to 49, and 50 to 59.\r\nHere is a sample from the RandomInt.txt:\r\n50\r\n11\r\n55\r\n12\r\n20\r\n13\r\n53\r\n34\r\n19\r\n39\r\n58\r\n58\r\n24\r\n59\r\n28\r\n10\r\n52\r\n18\r\n55\r\n59\r\n28\r\n29\r\n54\r\n\r\nI&#39;ve been successful at reading all the integers in a file, but for some reason my result for the frequency part is just 1 for every category. How do I put each integer in a range and count them all together within that range?\r\nSo far, here is my updated code that counts the frequency of each integer:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class Demo3 \r\n{\r\n\tpublic static void main(String[] args) throws FileNotFoundException \r\n\t{\r\n\t\tFile file = new File(&quot;RandomInt.txt&quot;);\r\n\t\tScanner sc = new Scanner(file);\t\r\n\t\tSequentialSearchST&lt;String, Integer&gt; st = new SequentialSearchST&lt;String, Integer&gt;();\r\n\t\t\r\n        \r\n        int dataSet = 0;\r\n\t\twhile(sc.hasNext())\r\n\t\t{\r\n\t\t\tString key = sc.next();\r\n\t\t\tdataSet++;\r\n\t\t\t\r\n\t\t\tif(st.contains(key))\r\n\t\t\t{\r\n\t\t\t\tst.put(key, st.get(key) + 1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tst.put(key, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (String s : st.keys())\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Integer: &quot; + s + &quot; Frequency: &quot; + st.get(s));\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Data Set Size: &quot; + dataSet);\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/jrXlW.png","title":"How do I count the frequency of an item in a given range?","body":"<p>I've been given a lab where I'm supposed to create a program that reads a file with 1000 random integers between 10 to 59 inclusive and generate a frequency table like this:</p>\n<p><a href=\"https://i.stack.imgur.com/jrXlW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jrXlW.png\" alt=\"enter image description here\" /></a></p>\n<p>The ranges are 10 to 19, 20 to 29, 30 to 39, 40 to 49, and 50 to 59.\nHere is a sample from the RandomInt.txt:\n50\n11\n55\n12\n20\n13\n53\n34\n19\n39\n58\n58\n24\n59\n28\n10\n52\n18\n55\n59\n28\n29\n54</p>\n<p>I've been successful at reading all the integers in a file, but for some reason my result for the frequency part is just 1 for every category. How do I put each integer in a range and count them all together within that range?\nSo far, here is my updated code that counts the frequency of each integer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.*;\n\npublic class Demo3 \n{\n    public static void main(String[] args) throws FileNotFoundException \n    {\n        File file = new File(&quot;RandomInt.txt&quot;);\n        Scanner sc = new Scanner(file); \n        SequentialSearchST&lt;String, Integer&gt; st = new SequentialSearchST&lt;String, Integer&gt;();\n        \n        \n        int dataSet = 0;\n        while(sc.hasNext())\n        {\n            String key = sc.next();\n            dataSet++;\n            \n            if(st.contains(key))\n            {\n                st.put(key, st.get(key) + 1);\n            }\n            else\n            {\n                st.put(key, 1);\n            }\n        }\n        \n        for (String s : st.keys())\n        {\n            System.out.println(&quot;Integer: &quot; + s + &quot; Frequency: &quot; + st.get(s));\n        }\n        System.out.println(&quot;Data Set Size: &quot; + dataSet);\n        \n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","combinations","permutation"],"answers":[{"tags":[],"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665936046,"creation_date":1665936046,"answer_id":74088612,"question_id":74083841,"body_markdown":"My Coach in Interview Kickstart helped me found out the problem in my code.  His/Her finding is \r\n&quot;In the if condition of for loop, You have written if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1))) but it should be if (i != pos &amp;&amp; (arr.get(i) == arr.get(pos) || (i &gt; 0 &amp;&amp; arr.get(i) == arr.get(i-1)))) to handle the duplicate elements correctly.&quot;\r\n\r\nI have converted the fix to what I can understand better -\r\n\r\nif (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))\r\n\r\nEarlier I missed the case arr.get(i) == arr.get(pos).\r\n\r\nThe correct solution is\r\n\r\n        import java.util.*; \r\n        \r\n        public class test {\r\n              static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\r\n                    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n                    Collections.sort(arr);\r\n                    helper(arr, 0, res);\r\n                    return res;\r\n                }\r\n                \r\n            static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\r\n                int n=arr.size();\r\n                if(pos&gt;=n){\r\n                    res.add(new ArrayList&lt;Integer&gt;(arr));\r\n                    return;\r\n                }\r\n                \r\n                for(int i=pos; i&lt;n; i++){\r\n                    if (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))\r\n                        continue;\r\n                    \r\n                    Collections.swap(arr, pos, i);\r\n                    helper(arr, pos+1, res);\r\n                    Collections.swap(arr, pos, i);\r\n                }\r\n            }\r\n        // Driver code\r\n        public static void main(String args[])\r\n        {\r\n            ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\r\n            for(var v:get_permutations(arr)){\r\n                System.out.println(v);\r\n            }\r\n        }\r\n    }","title":"Comparing neighboring integer does not work in Permute Array of Integers Duplicates Allowed","body":"<p>My Coach in Interview Kickstart helped me found out the problem in my code.  His/Her finding is\n&quot;In the if condition of for loop, You have written if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1))) but it should be if (i != pos &amp;&amp; (arr.get(i) == arr.get(pos) || (i &gt; 0 &amp;&amp; arr.get(i) == arr.get(i-1)))) to handle the duplicate elements correctly.&quot;</p>\n<p>I have converted the fix to what I can understand better -</p>\n<p>if (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))</p>\n<p>Earlier I missed the case arr.get(i) == arr.get(pos).</p>\n<p>The correct solution is</p>\n<pre><code>    import java.util.*; \n    \n    public class test {\n          static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\n                ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n                Collections.sort(arr);\n                helper(arr, 0, res);\n                return res;\n            }\n            \n        static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\n            int n=arr.size();\n            if(pos&gt;=n){\n                res.add(new ArrayList&lt;Integer&gt;(arr));\n                return;\n            }\n            \n            for(int i=pos; i&lt;n; i++){\n                if (i &gt; pos &amp;&amp; (arr.get(i) == arr.get(pos) || arr.get(i) == arr.get(i-1)))\n                    continue;\n                \n                Collections.swap(arr, pos, i);\n                helper(arr, pos+1, res);\n                Collections.swap(arr, pos, i);\n            }\n        }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\n        for(var v:get_permutations(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":114004,"reputation":1554,"user_id":299990,"accept_rate":88,"display_name":"Don"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74088612,"answer_count":1,"score":1,"last_activity_date":1665936046,"creation_date":1665879152,"question_id":74083841,"body_markdown":"Given an array of numbers with possible duplicates, return all of its permutations in any order.\r\n\r\nIt works when I use a HashSet to skip duplicates.  \r\n\r\n        package test;\r\n    \r\n    import java.util.*; \r\n    \r\n    public class test {\r\n    \t  static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\r\n    \t        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n    \t        //Collections.sort(arr);\r\n    \t        helper(arr, 0, res);\r\n    \t        return res;\r\n    \t    }\r\n    \t    \r\n    \t    static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\r\n    \t        int n=arr.size();\r\n    \t        if(pos&gt;=n){\r\n    \t            res.add(new ArrayList&lt;Integer&gt;(arr));\r\n    \t            return;\r\n    \t        }\r\n    \t        \r\n    \t        Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n    \t        for(int i=pos; i&lt;n; i++){\r\n    \t            //if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \r\n    \t            if(!set.add(arr.get(i)))\r\n    \t                continue;\r\n    \t            \r\n    \t            Collections.swap(arr, pos, i);\r\n    \t            helper(arr, pos+1, res);\r\n    \t            Collections.swap(arr, pos, i);\r\n    \t        }\r\n    \t    }\r\n    \t// Driver code\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\r\n    \t\tfor(var v:get_permutations(arr)){\r\n    \t\t\tSystem.out.println(v);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHowever, if I sorted the array and skipped the duplicates by comparing neighboring integer, it does not work for some test cases such as [3,3,8,8,9,9,9].\r\n\r\n\r\n        import java.util.*; \r\n        \r\n        public class test {\r\n        \t  static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\r\n        \t        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\r\n        \t        Collections.sort(arr);\r\n        \t        helper(arr, 0, res);\r\n        \t        return res;\r\n        \t    }\r\n        \t    \r\n    \t    static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\r\n    \t        int n=arr.size();\r\n    \t        if(pos&gt;=n){\r\n    \t            res.add(new ArrayList&lt;Integer&gt;(arr));\r\n    \t            return;\r\n    \t        }\r\n    \t        \r\n    \t        //Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\r\n    \t        for(int i=pos; i&lt;n; i++){\r\n    \t            if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \r\n    \t            //if(!set.add(arr.get(i)))\r\n    \t                continue;\r\n    \t            \r\n    \t            Collections.swap(arr, pos, i);\r\n    \t            helper(arr, pos+1, res);\r\n    \t            Collections.swap(arr, pos, i);\r\n    \t        }\r\n    \t    }\r\n    \t// Driver code\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\r\n    \t\tfor(var v:get_permutations(arr)){\r\n    \t\t\tSystem.out.println(v);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThis is opposite to [subset solution][1].\r\n\r\nThe outputs highlighted in red part are the problem.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat did I miss here? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74083916/using-hashset-to-filter-duplicates-does-not-work-in-subsets-with-duplicate-probl\r\n  [2]: https://i.stack.imgur.com/gt1VL.png","title":"Comparing neighboring integer does not work in Permute Array of Integers Duplicates Allowed","body":"<p>Given an array of numbers with possible duplicates, return all of its permutations in any order.</p>\n<p>It works when I use a HashSet to skip duplicates.</p>\n<pre><code>    package test;\n\nimport java.util.*; \n\npublic class test {\n      static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\n            ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n            //Collections.sort(arr);\n            helper(arr, 0, res);\n            return res;\n        }\n        \n        static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\n            int n=arr.size();\n            if(pos&gt;=n){\n                res.add(new ArrayList&lt;Integer&gt;(arr));\n                return;\n            }\n            \n            Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n            for(int i=pos; i&lt;n; i++){\n                //if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \n                if(!set.add(arr.get(i)))\n                    continue;\n                \n                Collections.swap(arr, pos, i);\n                helper(arr, pos+1, res);\n                Collections.swap(arr, pos, i);\n            }\n        }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\n        for(var v:get_permutations(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n<p>However, if I sorted the array and skipped the duplicates by comparing neighboring integer, it does not work for some test cases such as [3,3,8,8,9,9,9].</p>\n<pre><code>    import java.util.*; \n    \n    public class test {\n          static ArrayList&lt;ArrayList&lt;Integer&gt;&gt; get_permutations(ArrayList&lt;Integer&gt; arr) {\n                ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res=new ArrayList&lt;&gt;();\n                Collections.sort(arr);\n                helper(arr, 0, res);\n                return res;\n            }\n            \n        static void helper(ArrayList&lt;Integer&gt; arr, int pos, ArrayList&lt;ArrayList&lt;Integer&gt;&gt; res){\n            int n=arr.size();\n            if(pos&gt;=n){\n                res.add(new ArrayList&lt;Integer&gt;(arr));\n                return;\n            }\n            \n            //Set&lt;Integer&gt; set=new HashSet&lt;&gt;();\n            for(int i=pos; i&lt;n; i++){\n                if(i&gt;pos&amp;&amp;arr.get(i).equals(arr.get(i-1)))  \n                //if(!set.add(arr.get(i)))\n                    continue;\n                \n                Collections.swap(arr, pos, i);\n                helper(arr, pos+1, res);\n                Collections.swap(arr, pos, i);\n            }\n        }\n    // Driver code\n    public static void main(String args[])\n    {\n        ArrayList&lt;Integer&gt; arr= new ArrayList&lt;&gt;(Arrays.asList(3,3,8,8,9,9,9));\n        for(var v:get_permutations(arr)){\n            System.out.println(v);\n        }\n    }\n}\n</code></pre>\n<p>This is opposite to <a href=\"https://stackoverflow.com/questions/74083916/using-hashset-to-filter-duplicates-does-not-work-in-subsets-with-duplicate-probl\">subset solution</a>.</p>\n<p>The outputs highlighted in red part are the problem.</p>\n<p><a href=\"https://i.stack.imgur.com/gt1VL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gt1VL.png\" alt=\"enter image description here\" /></a></p>\n<p>What did I miss here?</p>\n"},{"tags":["java","postgresql","spring-boot","r2dbc"],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665934937,"creation_date":1665934937,"question_id":74088456,"body_markdown":"How to parse `infinity` in R2JDBC?  Getting the following error\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;infinity&#39; could not be parsed at index 0\r\n    \tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]\r\n    \tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]\r\n    \tat io.r2dbc.postgresql.codec.PostgresqlDateTimeFormatter.parse(PostgresqlDateTimeFormatter.java:103","title":"How to parse Postgresql &#39;Infinity&#39; timestamp in R2JDBC?","body":"<p>How to parse <code>infinity</code> in R2JDBC?  Getting the following error</p>\n<pre><code>java.time.format.DateTimeParseException: Text 'infinity' could not be parsed at index 0\n    at java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2052) ~[na:na]\n    at java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1954) ~[na:na]\n    at io.r2dbc.postgresql.codec.PostgresqlDateTimeFormatter.parse(PostgresqlDateTimeFormatter.java:103\n</code></pre>\n"},{"tags":["java","spock"],"comments":[{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1665878327,"post_id":74081050,"comment_id":130802318,"body_markdown":"Please give us more information about your setup, such as what build tool you are using to build and run the tests. Is it Gradle, Maven, Ant. or something else?","body":"Please give us more information about your setup, such as what build tool you are using to build and run the tests. Is it Gradle, Maven, Ant. or something else?"},{"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"score":0,"creation_date":1665945596,"post_id":74081050,"comment_id":130812836,"body_markdown":"I would suggest to do a `reporTest` task in gradle that depends on the `test` task and does whatever you need, e.g., zip up the results and upload them somewhere or send a slack message, and then just run that task.","body":"I would suggest to do a <code>reporTest</code> task in gradle that depends on the <code>test</code> task and does whatever you need, e.g., zip up the results and upload them somewhere or send a slack message, and then just run that task."}],"owner":{"account_id":4118510,"reputation":223,"user_id":3379502,"accept_rate":22,"display_name":"user3379502"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665934478,"creation_date":1665850097,"question_id":74081050,"body_markdown":"All, I have a test suite developed using spock-groovy framework. The output of this is a set of html files. I have a requirement to run this test as part of a docker container on cloud. After the test execution, I would like to get a summary of the test results and also a link of the html files to view the details of these results.\r\nIs there a library already available for parsing the test results for spock? How can I get this done using Java from the app running in the container?\r\n\r\nBuild tool: `gradle`.\r\n\r\nI created the docker container using the Dockerfile. The entrypoint for this docker container is a shell script which sets required variables and then executes the command `gradle clean test...`. \r\n\r\nFew issues I am trying to resolve:\r\n1. The container is able to execute the tests but I am unable to get the results out of that container. I am trying the approach as mentioned in point 2 below to get the results out of the container.\r\n2. I have added `def cleanupSpec() {....}` method where I am trying to send a notification to slack channel. As I see from inside the container, this step is not getting executed. When I run this app locally, I am able to see the notification being sent. ","title":"Parsing through spock test results","body":"<p>All, I have a test suite developed using spock-groovy framework. The output of this is a set of html files. I have a requirement to run this test as part of a docker container on cloud. After the test execution, I would like to get a summary of the test results and also a link of the html files to view the details of these results.\nIs there a library already available for parsing the test results for spock? How can I get this done using Java from the app running in the container?</p>\n<p>Build tool: <code>gradle</code>.</p>\n<p>I created the docker container using the Dockerfile. The entrypoint for this docker container is a shell script which sets required variables and then executes the command <code>gradle clean test...</code>.</p>\n<p>Few issues I am trying to resolve:</p>\n<ol>\n<li>The container is able to execute the tests but I am unable to get the results out of that container. I am trying the approach as mentioned in point 2 below to get the results out of the container.</li>\n<li>I have added <code>def cleanupSpec() {....}</code> method where I am trying to send a notification to slack channel. As I see from inside the container, this step is not getting executed. When I run this app locally, I am able to see the notification being sent.</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1665813484,"post_id":74077041,"comment_id":130790741,"body_markdown":"Variable `answer` is a `String`. You are trying to compare a `String` to a `char`. You cannot do that in Java. Try: `if (&quot;Y&quot;.equalsIgnoreCase(answer))`","body":"Variable <code>answer</code> is a <code>String</code>. You are trying to compare a <code>String</code> to a <code>char</code>. You cannot do that in Java. Try: <code>if (&quot;Y&quot;.equalsIgnoreCase(answer))</code>"}],"answers":[{"tags":[],"owner":{"account_id":25783273,"reputation":97,"user_id":19528572,"display_name":"Tharindu Lakshan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1665818824,"creation_date":1665814424,"answer_id":74077138,"question_id":74077041,"body_markdown":"Since the answer variable is not stored as a string, change its variable type to char.\r\nAlso, use the following code to get the letter entered by the user.\r\n\r\n    answer = scan.next().charAt(0);\r\n\r\nUse the following\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class FullName {\r\n\t    public static void main(String[]args) {\r\n\t\t    String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\r\n\t    \tString in;  // checks for input\r\n\t\t    char answer;  // checks for condition, YES OR NO\r\n\t\t    boolean ask;    // use as a loop switch\r\n\t\t\r\n\t\t    Scanner scan = new Scanner(System.in);\r\n\t\t\r\n\t    \tdo {\r\n\t\t    \tSystem.out.print(&quot;Please indicate your full name: &quot;);\r\n\t\t    \tin = scan.nextLine();\r\n\t\t    \t//ask = scan.hasNext(in);\r\n\t\t    \tString str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\r\n\t\t        System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\r\n\t\t    \tanswer = scan.next().charAt(0);\r\n\t\t    \tif(answer==&#39;y&#39; || answer==&#39;Y&#39;) {\r\n\t\t\t    \task = true;\r\n\t\t\t    } else {\r\n\t\t\t    \task = false;\r\n\t\t\t    }\r\n\t\t    \tscan.nextLine();\r\n\t    \t} while(ask == true);\r\n\t    }\r\n    }\r\n","title":"How can I create an interactive program that ask for user&#39;s full name and display it everytime he wants to try again?","body":"<p>Since the answer variable is not stored as a string, change its variable type to char.\nAlso, use the following code to get the letter entered by the user.</p>\n<pre><code>answer = scan.next().charAt(0);\n</code></pre>\n<p>Use the following</p>\n<pre><code>import java.util.Scanner;\n\npublic class FullName {\n    public static void main(String[]args) {\n        String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\n        String in;  // checks for input\n        char answer;  // checks for condition, YES OR NO\n        boolean ask;    // use as a loop switch\n    \n        Scanner scan = new Scanner(System.in);\n    \n        do {\n            System.out.print(&quot;Please indicate your full name: &quot;);\n            in = scan.nextLine();\n            //ask = scan.hasNext(in);\n            String str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\n            System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\n            answer = scan.next().charAt(0);\n            if(answer=='y' || answer=='Y') {\n                ask = true;\n            } else {\n                ask = false;\n            }\n            scan.nextLine();\n        } while(ask == true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665819598,"creation_date":1665818847,"answer_id":74077529,"question_id":74077041,"body_markdown":"Let&#39;s just focus on these lines:\r\n\r\n        String answer;\r\n        ...\r\n        answer = scan.next();\r\n        if (answer == &#39;y&#39; || answer == &#39;Y&#39;) {\r\n\r\n1.  You will notice that I have tweaked the the style to make it more readable and consist with common Java style rules.\r\n\r\n2.  You will notice that I have fixed a compilation error by changing `Next()` to `next()`.\r\n\r\nBut now for the interesting part:\r\n\r\n      answer == &#39;y&#39; || answer == &#39;Y&#39;\r\n\r\nWhat you are trying to do here is test if the user is trying to reply in the affirmative or the negative; i.e. a response to your `&quot;(Y/N)&quot; question.\r\n\r\nThere are both technical and logical problems in the way you are doing it.  The technical problem is that `answer == &#39;y&#39;` tries to compare a `String` and a `char` using `==`.  Java doesn&#39;t allow that.  \r\n  \r\n  - This is what the compilation error about &quot;bad operand types for `==`&quot; is saying.\r\n  - `String` and `char` are different types.\r\n  - `&#39;Y&#39;` and `&quot;Y&quot;` are not the same value.\r\n  - Expressions of the form &quot;string == char&quot; or &quot;char == string&quot; are not allowed.\r\n  - You shouldn&#39;t compare strings using `==` anyway; see https://stackoverflow.com/questions/513832.\r\n\r\nSo if you were just going to compare (one character) `String` with a `char`, there are a few ways to do it; e.g.\r\n\r\n    answer.charAt(0) == &#39;y&#39; \r\n\r\nor \r\n\r\n    Character.toString(&#39;y&#39;).equals(answer)\r\n\r\n(In this context `charAt(0)` is safe.  You are using the default `Scanner` delimiter, so `next()` is going to return a `String` with length of at least 1.)\r\n\r\nBut it would be simpler to do a `String` to `String` comparison:\r\n\r\n    answer.equals(&quot;y&quot;) \r\n\r\nor \r\n   \r\n    &quot;y&quot;.equals(answer)\r\n\r\nThe latter has the advantage *in some contexts* that `&quot;y&quot;` can never be `null` so you will avoid possible NPEs.\r\n\r\nNow for the logical problem.  You have asked the user to respond to a `(Y/N)` question.  But you are actually using `Scanner` to read a word (loosely speaking) so you may get one character, or more than one.  Also, you are assuming that if the answer is not `y` or `Y`, then that means &quot;no&quot;.  But what if the user enters `&quot;yes&quot;` ... or `&quot;fish&quot;`?  There are more possible answers to consider than the ones that you are expecting.\r\n\r\nIf I was marking this exercise, I would deduct a mark or two (out of ten) for not properly validating the user&#39;s input.  ","title":"How can I create an interactive program that ask for user&#39;s full name and display it everytime he wants to try again?","body":"<p>Let's just focus on these lines:</p>\n<pre><code>    String answer;\n    ...\n    answer = scan.next();\n    if (answer == 'y' || answer == 'Y') {\n</code></pre>\n<ol>\n<li><p>You will notice that I have tweaked the the style to make it more readable and consist with common Java style rules.</p>\n</li>\n<li><p>You will notice that I have fixed a compilation error by changing <code>Next()</code> to <code>next()</code>.</p>\n</li>\n</ol>\n<p>But now for the interesting part:</p>\n<pre><code>  answer == 'y' || answer == 'Y'\n</code></pre>\n<p>What you are trying to do here is test if the user is trying to reply in the affirmative or the negative; i.e. a response to your `&quot;(Y/N)&quot; question.</p>\n<p>There are both technical and logical problems in the way you are doing it.  The technical problem is that <code>answer == 'y'</code> tries to compare a <code>String</code> and a <code>char</code> using <code>==</code>.  Java doesn't allow that.</p>\n<ul>\n<li>This is what the compilation error about &quot;bad operand types for <code>==</code>&quot; is saying.</li>\n<li><code>String</code> and <code>char</code> are different types.</li>\n<li><code>'Y'</code> and <code>&quot;Y&quot;</code> are not the same value.</li>\n<li>Expressions of the form &quot;string == char&quot; or &quot;char == string&quot; are not allowed.</li>\n<li>You shouldn't compare strings using <code>==</code> anyway; see <a href=\"https://stackoverflow.com/questions/513832\">How do I compare strings in Java?</a>.</li>\n</ul>\n<p>So if you were just going to compare (one character) <code>String</code> with a <code>char</code>, there are a few ways to do it; e.g.</p>\n<pre><code>answer.charAt(0) == 'y' \n</code></pre>\n<p>or</p>\n<pre><code>Character.toString('y').equals(answer)\n</code></pre>\n<p>(In this context <code>charAt(0)</code> is safe.  You are using the default <code>Scanner</code> delimiter, so <code>next()</code> is going to return a <code>String</code> with length of at least 1.)</p>\n<p>But it would be simpler to do a <code>String</code> to <code>String</code> comparison:</p>\n<pre><code>answer.equals(&quot;y&quot;) \n</code></pre>\n<p>or</p>\n<pre><code>&quot;y&quot;.equals(answer)\n</code></pre>\n<p>The latter has the advantage <em>in some contexts</em> that <code>&quot;y&quot;</code> can never be <code>null</code> so you will avoid possible NPEs.</p>\n<p>Now for the logical problem.  You have asked the user to respond to a <code>(Y/N)</code> question.  But you are actually using <code>Scanner</code> to read a word (loosely speaking) so you may get one character, or more than one.  Also, you are assuming that if the answer is not <code>y</code> or <code>Y</code>, then that means &quot;no&quot;.  But what if the user enters <code>&quot;yes&quot;</code> ... or <code>&quot;fish&quot;</code>?  There are more possible answers to consider than the ones that you are expecting.</p>\n<p>If I was marking this exercise, I would deduct a mark or two (out of ten) for not properly validating the user's input.</p>\n"}],"owner":{"account_id":19534879,"reputation":25,"user_id":14293869,"display_name":"Joshua Partido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74077529,"answer_count":2,"score":-1,"last_activity_date":1665933562,"creation_date":1665813253,"question_id":74077041,"body_markdown":"My code looks like this; it get&#39;s an error on line 18 \r\n\r\n&gt; error: bad operand types for binary operator &#39;==&#39; if(answer==&#39;y&#39;||answer==&#39;Y&#39;) {\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FullName {\r\n\r\n    public static void main(String[]args) {\r\n        String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\r\n        String in;  // checks for input\r\n        String answer;  // checks for condition, YES OR NO\r\n        boolean ask;    // use as a loop switch\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        do {\r\n            System.out.println(&quot;Please indicate your full name: &quot;);\r\n            in = scan.nextLine();\r\n            ask = scan.hasNext(in);\r\n            String str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\r\n            System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\r\n            answer = scan.Next();\r\n            if(answer==&#39;y&#39; || answer==&#39;Y&#39;) {\r\n                ask = true;\r\n            } else {\r\n                ask = false;\r\n            }\r\n        } while(ask == true);\r\n    }\r\n}\r\n```","title":"How can I create an interactive program that ask for user&#39;s full name and display it everytime he wants to try again?","body":"<p>My code looks like this; it get's an error on line 18</p>\n<blockquote>\n<p>error: bad operand types for binary operator '==' if(answer=='y'||answer=='Y') {</p>\n</blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class FullName {\n\n    public static void main(String[]args) {\n        String firstName = &quot; &quot;, middleName = &quot; &quot;, lastName = &quot; &quot;;\n        String in;  // checks for input\n        String answer;  // checks for condition, YES OR NO\n        boolean ask;    // use as a loop switch\n        \n        Scanner scan = new Scanner(System.in);\n        \n        do {\n            System.out.println(&quot;Please indicate your full name: &quot;);\n            in = scan.nextLine();\n            ask = scan.hasNext(in);\n            String str = String.format(&quot;My name is %s %s %s &quot;, firstName, middleName, lastName);\n            System.out.println(&quot;Do you want to try again? (Y/N )&quot;);\n            answer = scan.Next();\n            if(answer=='y' || answer=='Y') {\n                ask = true;\n            } else {\n                ask = false;\n            }\n        } while(ask == true);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","intellij-idea","sbt"],"answers":[{"tags":[],"owner":{"account_id":189125,"reputation":771,"user_id":428273,"accept_rate":30,"display_name":"Muton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665933528,"creation_date":1665933206,"answer_id":74088227,"question_id":74086869,"body_markdown":"You are defining the `spark-sql` dependency as `provided` so by default it will not be in the classpath when you execute the code locally.\r\n\r\nYou can either remove the provided scope if your intention is to just test things out or alternatively you can setup your IDE to include the provided dependencies also. In IntelliJ, this can be done from the run configuration options.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$ in scala","body":"<p>You are defining the <code>spark-sql</code> dependency as <code>provided</code> so by default it will not be in the classpath when you execute the code locally.</p>\n<p>You can either remove the provided scope if your intention is to just test things out or alternatively you can setup your IDE to include the provided dependencies also. In IntelliJ, this can be done from the run configuration options.</p>\n"}],"owner":{"account_id":26639068,"reputation":11,"user_id":20255044,"display_name":"llD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665933528,"creation_date":1665921066,"question_id":74086869,"body_markdown":"I have built a Spark project with SBT, Scala in intelliJ and written the code:\r\n```\r\nimport org.apache.spark.sql.SparkSession\r\nobject Main {\r\n  def main(args: Array[String]): Unit = {\r\n    val spark =\r\n      SparkSession\r\n        .builder()\r\n      .master(&quot;local[1]&quot;)\r\n      .appName(&quot;SparkByExample&quot;)\r\n      .getOrCreate();\r\n\r\n  }\r\n}\r\n```\r\nand get the error :\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$\r\n\tat com.bigdata.Main$.main(Main.scala:6)\r\n\tat com.bigdata.Main.main(Main.scala)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession$\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 2 more\r\n```\r\n\r\nmy bulid.stb :\r\n```\r\nThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\r\n\r\nThisBuild / scalaVersion := &quot;2.12.15&quot;\r\n\r\n// https://mvnrepository.com/artifact/org.apache.spark/spark-sql\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.0&quot; % &quot;provided&quot;\r\n\r\n// https://mvnrepository.com/artifact/org.apache.spark/spark-core\r\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.0&quot;\r\n\r\n\r\nlazy val root = (project in file(&quot;.&quot;))\r\n  .settings(\r\n    name := &quot;untitled&quot;,\r\n    idePackagePrefix := Some(&quot;com.bigdata&quot;)\r\n  )\r\n\r\n```\r\nI see SPARK_HOME in path and it is fine\r\nI tried to open another project and still has the problem  ","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$ in scala","body":"<p>I have built a Spark project with SBT, Scala in intelliJ and written the code:</p>\n<pre><code>import org.apache.spark.sql.SparkSession\nobject Main {\n  def main(args: Array[String]): Unit = {\n    val spark =\n      SparkSession\n        .builder()\n      .master(&quot;local[1]&quot;)\n      .appName(&quot;SparkByExample&quot;)\n      .getOrCreate();\n\n  }\n}\n</code></pre>\n<p>and get the error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession$\n    at com.bigdata.Main$.main(Main.scala:6)\n    at com.bigdata.Main.main(Main.scala)\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession$\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 2 more\n</code></pre>\n<p>my bulid.stb :</p>\n<pre><code>ThisBuild / version := &quot;0.1.0-SNAPSHOT&quot;\n\nThisBuild / scalaVersion := &quot;2.12.15&quot;\n\n// https://mvnrepository.com/artifact/org.apache.spark/spark-sql\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.0&quot; % &quot;provided&quot;\n\n// https://mvnrepository.com/artifact/org.apache.spark/spark-core\nlibraryDependencies += &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.0&quot;\n\n\nlazy val root = (project in file(&quot;.&quot;))\n  .settings(\n    name := &quot;untitled&quot;,\n    idePackagePrefix := Some(&quot;com.bigdata&quot;)\n  )\n\n</code></pre>\n<p>I see SPARK_HOME in path and it is fine\nI tried to open another project and still has the problem</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":19097920,"reputation":89,"user_id":13946806,"display_name":"Nili"},"score":0,"creation_date":1665856395,"post_id":74081667,"comment_id":130798772,"body_markdown":"Can you post the code where you use this class cause it seems fine?","body":"Can you post the code where you use this class cause it seems fine?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665871685,"post_id":74081667,"comment_id":130801610,"body_markdown":"Post an [mre] demonstrating the problem. We should be able to copy/paste/compile/test to see the problem. In addition to the above we need to see how you create the frame and add the LabeledComponent to the frame. Code should be in a single source file.","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile/test to see the problem. In addition to the above we need to see how you create the frame and add the LabeledComponent to the frame. Code should be in a single source file."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1665873049,"post_id":74081667,"comment_id":130801758,"body_markdown":"*IllegalArgumentException* - and what does the full message say?","body":"<i>IllegalArgumentException</i> - and what does the full message say?"}],"answers":[{"tags":[],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665933389,"creation_date":1665933373,"answer_id":74088254,"question_id":74081667,"body_markdown":"new JSlider(1, 10, 21); causes IllegalArgumentException because JSlider Constructor takes minvalue, maxvalue and value. 21 is out of bounds.","title":"Adding JComponent with JLabel to another JPanel causes IllegalArgumentException","body":"<p>new JSlider(1, 10, 21); causes IllegalArgumentException because JSlider Constructor takes minvalue, maxvalue and value. 21 is out of bounds.</p>\n"}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665933389,"creation_date":1665855417,"question_id":74081667,"body_markdown":"I was wondering how to label my buttons, sliders, etc. properly, so I came up with a solution that I found to be quiet good since I&#39;m new to gui development.\r\n\r\nThis class below should allow me to label any JComponent and set the label position to North,East,South or West of the JComponent.\r\n\r\nUnfortunately `new LabeledComponent&lt;&gt;(&quot;Depth&quot;, new JSlider(1, 10, 21), LabeledComponent.LabelPosition.North);` runs into an IllegalArgumentException but why?\r\n\r\nIs there something wrong with the Generics ?\r\n\r\n\r\n        public class LabeledComponent&lt;E extends JComponent&gt; extends JPanel {\r\n    \r\n        public enum LabelPosition {\r\n            North,\r\n            South,\r\n            East,\r\n            West\r\n        }\r\n    \r\n        public LabeledComponent(String label, E component, LabelPosition position) {\r\n            JLabel label1 = new JLabel(label);\r\n            switch (position) {\r\n                case North -&gt; {\r\n                    setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n                    add(label1);\r\n                    add(component);\r\n                }\r\n                case South -&gt; {\r\n                    setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\r\n                    add(component);\r\n                    add(label1);\r\n                }\r\n                case East -&gt; {\r\n                    setLayout(new FlowLayout());\r\n                    add(component);\r\n                    add(label1);\r\n                }\r\n                case West -&gt; {\r\n                    setLayout(new FlowLayout());\r\n                    add(label1);\r\n                    add(component);\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Adding JComponent with JLabel to another JPanel causes IllegalArgumentException","body":"<p>I was wondering how to label my buttons, sliders, etc. properly, so I came up with a solution that I found to be quiet good since I'm new to gui development.</p>\n<p>This class below should allow me to label any JComponent and set the label position to North,East,South or West of the JComponent.</p>\n<p>Unfortunately <code>new LabeledComponent&lt;&gt;(&quot;Depth&quot;, new JSlider(1, 10, 21), LabeledComponent.LabelPosition.North);</code> runs into an IllegalArgumentException but why?</p>\n<p>Is there something wrong with the Generics ?</p>\n<pre><code>    public class LabeledComponent&lt;E extends JComponent&gt; extends JPanel {\n\n    public enum LabelPosition {\n        North,\n        South,\n        East,\n        West\n    }\n\n    public LabeledComponent(String label, E component, LabelPosition position) {\n        JLabel label1 = new JLabel(label);\n        switch (position) {\n            case North -&gt; {\n                setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n                add(label1);\n                add(component);\n            }\n            case South -&gt; {\n                setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n                add(component);\n                add(label1);\n            }\n            case East -&gt; {\n                setLayout(new FlowLayout());\n                add(component);\n                add(label1);\n            }\n            case West -&gt; {\n                setLayout(new FlowLayout());\n                add(label1);\n                add(component);\n            }\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-scrollview"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665929716,"post_id":74087757,"comment_id":130809325,"body_markdown":"Please provide code as [formatted text](https://meta.stackoverflow.com/a/285557/12567365), not as screenshots. If you have not already done so, take a look at [ask] and try to [edit] your question to provide a [mre].","body":"Please provide code as <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">formatted text</a>, not as screenshots. If you have not already done so, take a look at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and try to <a href=\"https://stackoverflow.com/posts/74087757/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665929814,"post_id":74087757,"comment_id":130809352,"body_markdown":"You can also read the guidance provided in [How do I ask and answer homework questions?](https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions) if this is a school assignment (but even if it isn&#39;t, the guidance is still worth reading).","body":"You can also read the guidance provided in <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions?</a> if this is a school assignment (but even if it isn&#39;t, the guidance is still worth reading)."}],"owner":{"account_id":25997193,"reputation":1,"user_id":19708356,"display_name":"Joshua Musa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665933318,"creation_date":1665928966,"question_id":74087757,"body_markdown":"I have been trying to make an application for a school but I ran into some problems. I am trying to make the User Details page scrollable but the constraint layout stacks up at the top: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/apHXl.png\r\n\r\n```XML\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;ScrollView android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:background=&quot;#9F9F9F&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;250dp&quot;\r\n            android:background=&quot;@drawable/user_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/userprofile&quot;\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:background=&quot;@drawable/no_profile_pic&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.27&quot;\r\n            android:contentDescription=&quot;User Profile&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userprofilename&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Loading...&quot;\r\n            android:text=&quot;Loading...&quot;\r\n            android:textSize=&quot;17sp&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.45&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/background&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_image&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_profile&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userid&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loding...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg2&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.63&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_class&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_baseline_class_24&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userclass&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loding...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg3&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.74&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_dob&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_birthday&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/userdob&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loding...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg4&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.85&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_num&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_mobile&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/usernum&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loading...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:id=&quot;@+id/bg5&quot;\r\n            android:layout_width=&quot;380dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/button_bg&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.96&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/ic_gender&quot;\r\n            android:layout_width=&quot;25dp&quot;\r\n            android:layout_height=&quot;25dp&quot;\r\n            android:background=&quot;@drawable/ic_gender&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/usergender&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:text=&quot;Loading...&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_marginStart=&quot;80dp&quot;\r\n            android:gravity=&quot;center_vertical&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot;/&gt;\r\n\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_nav&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#9F9F9F&quot;\r\n            android:paddingLeft=&quot;20dp&quot;\r\n            android:paddingRight=&quot;20dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nI have tried using minHeight but it doesn&#39;t give me my desired result. I have also watch many tutorials on how to create a scrollable view but none have answered my question.","title":"Constraint layout stacks at the top when using scrollview","body":"<p>I have been trying to make an application for a school but I ran into some problems. I am trying to make the User Details page scrollable but the constraint layout stacks up at the top:</p>\n<p><a href=\"https://i.stack.imgur.com/apHXl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/apHXl.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;ScrollView android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:background=&quot;#9F9F9F&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;250dp&quot;\n            android:background=&quot;@drawable/user_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/userprofile&quot;\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;\n            android:background=&quot;@drawable/no_profile_pic&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.27&quot;\n            android:contentDescription=&quot;User Profile&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userprofilename&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;Loading...&quot;\n            android:text=&quot;Loading...&quot;\n            android:textSize=&quot;17sp&quot;\n            app:layout_constraintVertical_bias=&quot;0.45&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/background&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_image&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_profile&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userid&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loding...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/background&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/background&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/background&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/background&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg2&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.63&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_class&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_baseline_class_24&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userclass&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loding...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg2&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg2&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg2&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg3&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.74&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_dob&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_birthday&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/userdob&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loding...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg3&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg3&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg3&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg3&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg4&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.85&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_num&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_mobile&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/usernum&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loading...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg4&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg4&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg4&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg4&quot;/&gt;\n\n        &lt;View\n            android:id=&quot;@+id/bg5&quot;\n            android:layout_width=&quot;380dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:background=&quot;@drawable/button_bg&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.96&quot; /&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/ic_gender&quot;\n            android:layout_width=&quot;25dp&quot;\n            android:layout_height=&quot;25dp&quot;\n            android:background=&quot;@drawable/ic_gender&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg2&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/usergender&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:text=&quot;Loading...&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:layout_marginStart=&quot;80dp&quot;\n            android:gravity=&quot;center_vertical&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.05&quot;\n            app:layout_constraintVertical_bias=&quot;0.52&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/bg5&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/bg5&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/bg5&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/bg5&quot;/&gt;\n\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=&quot;@+id/bottom_nav&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;#9F9F9F&quot;\n            android:paddingLeft=&quot;20dp&quot;\n            android:paddingRight=&quot;20dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n<p>I have tried using minHeight but it doesn't give me my desired result. I have also watch many tutorials on how to create a scrollable view but none have answered my question.</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver"],"comments":[{"owner":{"account_id":18121436,"reputation":786,"user_id":13177404,"display_name":"mkhurmi"},"score":0,"creation_date":1588191199,"post_id":61510633,"comment_id":108809069,"body_markdown":"did you really want to check the flow or just want to download the pdf? For that you can use DesiredCapabilities.","body":"did you really want to check the flow or just want to download the pdf? For that you can use DesiredCapabilities."},{"owner":{"account_id":2907292,"reputation":2568,"user_id":2492264,"accept_rate":64,"display_name":"Archit Arora"},"score":0,"creation_date":1588191364,"post_id":61510633,"comment_id":108809152,"body_markdown":"I have to check the flow and interact with this window","body":"I have to check the flow and interact with this window"}],"owner":{"account_id":2907292,"reputation":2568,"user_id":2492264,"accept_rate":64,"display_name":"Archit Arora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1951,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1665932402,"creation_date":1588190437,"question_id":61510633,"body_markdown":"I have a print button in my application. This print button opens a PDF in a new window. On top of this window is the Print icon that can be clicked to open a Chrome&#39;s print preview window where one can select &quot;Save as PDF&quot; option to save the PDF file.\r\n\r\nI would like to test this flow in selenium. \r\n\r\n--- I click the Print button on my webpage. This opens a new Chrome window with the PDF\r\n \r\n    driver.findElement(By.cssSelector(&quot;ID&quot;)).click();\r\n\r\n--- I switch to the newly opened Chrome window\r\n\r\n    driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\r\n\r\nI can see in the Logs that selenium is indeed switching to the new window.\r\n\r\n--- I try to get the element &lt;viewer-pdf-toolbar&gt; of the new Chrome window opened \r\n\r\n    driver.findElement(By.cssSelector(&quot;viewer-pdf-toolbar&quot;))\r\n\r\nThis is where the issue is. Selenium is unable to interact with this newly opened window and cant find this element. When I inspect the newly opened window I see the following DOM structure -\r\n\r\n    &lt;body&gt; \r\n        &lt;viewer-pdf-toolbar id=&quot;toolbar&quot;&gt;&lt;/viewer-pdf-toolbar&gt;\r\n        &lt;div id=&quot;sizer&quot; style=&quot;width: 735px; height: 1092px;&quot;&gt;&lt;/div&gt;\r\n        &lt;viewer-password-screen id=&quot;password-screen&quot;&gt;&lt;/viewer-password-screen&gt;\r\n        ...\r\n        ..\r\n        .\r\n    &lt;/div&gt;\r\n\r\nThe element I&#39;m looking for does exist in the DOM structure and I can access it via Console but I cant access it using Selenium. You can view this DOM by opening any PDF file in Chrome browser and inspecting the window. \r\nAny ideas why this is happening?\r\n\r\nNote : When the new window loads, for a second or two it shows &quot;Printing, Please wait&quot; and then the PDF loaded. Not sure if this information is relevant to the problem here.\r\n\r\nAdditional Information -\r\n\r\nIn debug mode, after the Driver has switched to the new PDF window I evaluated - `driver.getCurrentUrl()` - this URL is the correct URL as displayed in the address bar of the preview window. This means that my driver is on the correct window.\r\n\r\nBut when I execute `driver.getPageSource` - I get the following output\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body style=&quot;height: 100%; width: 100%; overflow: hidden; margin:0px; background-color: rgb(82, 86, 89);&quot;&gt;\r\n    &lt;embed name=&quot;XXXXXXD474B71424EC89403FB4FA75CF&quot; style=&quot;position:absolute; left: 0; top: 0;&quot; width=&quot;100%&quot; height=&quot;100%&quot; src=&quot;about:blank&quot; type=&quot;application/pdf&quot; internalid=&quot;XXXXXXD474B71424EC89403FB4FA75CF&quot;&gt;&lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nSo the `driver` sees this as the page source whereas when I do an `inspect` on the same window I see a different DOM. Why is this happening? Is Chrome replacing the `&lt;embed&gt;` tag with the final DOM? How can selenium be made aware of this change?\r\n\r\n\r\nPlease help!","title":"Unable to access Elements of Chrome&#39;s PDF preview window using Selenium","body":"<p>I have a print button in my application. This print button opens a PDF in a new window. On top of this window is the Print icon that can be clicked to open a Chrome's print preview window where one can select \"Save as PDF\" option to save the PDF file.</p>\n\n<p>I would like to test this flow in selenium. </p>\n\n<p>--- I click the Print button on my webpage. This opens a new Chrome window with the PDF</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"ID\")).click();\n</code></pre>\n\n<p>--- I switch to the newly opened Chrome window</p>\n\n<pre><code>driver.switchTo().window(driver.getWindowHandles().toArray()[1].toString());\n</code></pre>\n\n<p>I can see in the Logs that selenium is indeed switching to the new window.</p>\n\n<p>--- I try to get the element  of the new Chrome window opened </p>\n\n<pre><code>driver.findElement(By.cssSelector(\"viewer-pdf-toolbar\"))\n</code></pre>\n\n<p>This is where the issue is. Selenium is unable to interact with this newly opened window and cant find this element. When I inspect the newly opened window I see the following DOM structure -</p>\n\n<pre><code>&lt;body&gt; \n    &lt;viewer-pdf-toolbar id=\"toolbar\"&gt;&lt;/viewer-pdf-toolbar&gt;\n    &lt;div id=\"sizer\" style=\"width: 735px; height: 1092px;\"&gt;&lt;/div&gt;\n    &lt;viewer-password-screen id=\"password-screen\"&gt;&lt;/viewer-password-screen&gt;\n    ...\n    ..\n    .\n&lt;/div&gt;\n</code></pre>\n\n<p>The element I'm looking for does exist in the DOM structure and I can access it via Console but I cant access it using Selenium. You can view this DOM by opening any PDF file in Chrome browser and inspecting the window. \nAny ideas why this is happening?</p>\n\n<p>Note : When the new window loads, for a second or two it shows \"Printing, Please wait\" and then the PDF loaded. Not sure if this information is relevant to the problem here.</p>\n\n<p>Additional Information -</p>\n\n<p>In debug mode, after the Driver has switched to the new PDF window I evaluated - <code>driver.getCurrentUrl()</code> - this URL is the correct URL as displayed in the address bar of the preview window. This means that my driver is on the correct window.</p>\n\n<p>But when I execute <code>driver.getPageSource</code> - I get the following output</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body style=\"height: 100%; width: 100%; overflow: hidden; margin:0px; background-color: rgb(82, 86, 89);\"&gt;\n&lt;embed name=\"XXXXXXD474B71424EC89403FB4FA75CF\" style=\"position:absolute; left: 0; top: 0;\" width=\"100%\" height=\"100%\" src=\"about:blank\" type=\"application/pdf\" internalid=\"XXXXXXD474B71424EC89403FB4FA75CF\"&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So the <code>driver</code> sees this as the page source whereas when I do an <code>inspect</code> on the same window I see a different DOM. Why is this happening? Is Chrome replacing the <code>&lt;embed&gt;</code> tag with the final DOM? How can selenium be made aware of this change?</p>\n\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":1,"creation_date":1665930815,"post_id":74087719,"comment_id":130809570,"body_markdown":"You should add your curl/postman request to the question.","body":"You should add your curl/postman request to the question."}],"answers":[{"tags":[],"owner":{"account_id":26308422,"reputation":126,"user_id":19972444,"display_name":"Neos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665929851,"creation_date":1665929851,"answer_id":74087862,"question_id":74087719,"body_markdown":"as far as i understand , you since you are passing a path variable you should try the url with a adding an id that exists in your database , else there is a property that specifies the initial base url for your application when it runs in a server server.servlet.context-path=/api for Spring 2.X versions and spring.data.rest.basePath=/api With Spring Boot 1.2+ (&lt;2.0). \r\nso to avoid redundant &quot;api&quot; in your path your request mapping should be @RequestMapping(&quot;/user&quot;). \r\nPlease let me know if this helped \r\n","title":"How to Build a Spring Boot REST API with Java?","body":"<p>as far as i understand , you since you are passing a path variable you should try the url with a adding an id that exists in your database , else there is a property that specifies the initial base url for your application when it runs in a server server.servlet.context-path=/api for Spring 2.X versions and spring.data.rest.basePath=/api With Spring Boot 1.2+ (&lt;2.0).\nso to avoid redundant &quot;api&quot; in your path your request mapping should be @RequestMapping(&quot;/user&quot;).\nPlease let me know if this helped</p>\n"}],"owner":{"account_id":20687710,"reputation":21,"user_id":15189779,"display_name":"Khaled El Attar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74087862,"answer_count":1,"score":-1,"last_activity_date":1665932090,"creation_date":1665928603,"question_id":74087719,"body_markdown":"When I try to send any request with the API of this project by path(for example, http://localhost:8082/api/user), the result is always 404Not Found in postman.\r\n\r\nwhy ???\r\n\r\n**file.propertise**\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/user\r\nspring.datasource.username = user\r\nspring.datasource.password = user\r\nspring.jpa.hibernate.ddl-auto = update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\nserver.port = 8082\r\n```\r\n\r\n**User Model**\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String name;\r\n}\r\n```\r\n\r\n**Repository Classes**\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\r\n```\r\n\r\n\r\n**Controller**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; findAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; findUserById(@PathVariable(value = &quot;id&quot;) long id) {\r\n        Optional&lt;User&gt; user = userRepository.findById(id);\r\n\r\n        if(user.isPresent()) {\r\n            return ResponseEntity.ok().body(user.get());\r\n        } else {\r\n            return ResponseEntity.notFound().build();\r\n        }\r\n    }\r\n\r\n    @PostMapping\r\n    public User saveUser(@Validated @RequestBody User user) {\r\n        return userRepository.save(user);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to Build a Spring Boot REST API with Java?","body":"<p>When I try to send any request with the API of this project by path(for example, http://localhost:8082/api/user), the result is always 404Not Found in postman.</p>\n<p>why ???</p>\n<p><strong>file.propertise</strong></p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/user\nspring.datasource.username = user\nspring.datasource.password = user\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nserver.port = 8082\n</code></pre>\n<p><strong>User Model</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String name;\n}\n</code></pre>\n<p><strong>Repository Classes</strong></p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; {}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @GetMapping\n    public List&lt;User&gt; findAllUsers() {\n        return userRepository.findAll();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; findUserById(@PathVariable(value = &quot;id&quot;) long id) {\n        Optional&lt;User&gt; user = userRepository.findById(id);\n\n        if(user.isPresent()) {\n            return ResponseEntity.ok().body(user.get());\n        } else {\n            return ResponseEntity.notFound().build();\n        }\n    }\n\n    @PostMapping\n    public User saveUser(@Validated @RequestBody User user) {\n        return userRepository.save(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","binary","decimal","converters"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665931317,"post_id":74087991,"comment_id":130809695,"body_markdown":"*doesn&#39;t work* is not an error description. Please explain what it means","body":"<i>doesn&#39;t work</i> is not an error description. Please explain what it means"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1665931341,"post_id":74087991,"comment_id":130809704,"body_markdown":"`System.out.println(Integer.toBinaryString(x) + &quot; or &quot; + Integer.toString(x, 2));`","body":"<code>System.out.println(Integer.toBinaryString(x) + &quot; or &quot; + Integer.toString(x, 2));</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665931909,"post_id":74087991,"comment_id":130809818,"body_markdown":"What you&#39;re doing doesn&#39;t actually make sense. You give your method an ```int```  and return an ```int``` . ```int``` doesn&#39;t have a format (binary, decimal, octal etc.) - that&#39;s a string thing. You should be returning a ```String```","body":"What you&#39;re doing doesn&#39;t actually make sense. You give your method an <code>int</code>  and return an <code>int</code> . <code>int</code> doesn&#39;t have a format (binary, decimal, octal etc.) - that&#39;s a string thing. You should be returning a <code>String</code>"},{"owner":{"account_id":18056451,"reputation":315,"user_id":13124794,"display_name":"odaiwa"},"score":0,"creation_date":1665933245,"post_id":74087991,"comment_id":130810125,"body_markdown":"Does this answer your question? [Converting Decimal to Binary Java](https://stackoverflow.com/questions/14784630/converting-decimal-to-binary-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14784630/converting-decimal-to-binary-java\">Converting Decimal to Binary Java</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665933748,"post_id":74087991,"comment_id":130810220,"body_markdown":"...and actually you&#39;re producing a *different* number. Entering 8 will give you 1000 (one thousand, not binary 8)","body":"...and actually you&#39;re producing a <i>different</i> number. Entering 8 will give you 1000 (one thousand, not binary 8)"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1665935270,"post_id":74087991,"comment_id":130810572,"body_markdown":"Converting decimal to binary doesn&#39;t convert an int to an int.  It converts a string to a string.","body":"Converting decimal to binary doesn&#39;t convert an int to an int.  It converts a string to a string."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665960923,"post_id":74087991,"comment_id":130815654,"body_markdown":"If your toBinary routine is to work as you expect, you can just collapnse it to `int toBinary(int num) { return num; }` --- because all you&#39;re attempting to do (and getting it wrong) is to split a number into digits, here base 2, and then combining those digits into a number.","body":"If your toBinary routine is to work as you expect, you can just collapnse it to <code>int toBinary(int num) { return num; }</code> --- because all you&#39;re attempting to do (and getting it wrong) is to split a number into digits, here base 2, and then combining those digits into a number."}],"owner":{"account_id":25283554,"reputation":11,"user_id":19111003,"display_name":"Noa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1665931156,"creation_date":1665931156,"question_id":74087991,"body_markdown":"I am trying to convert a decimal number to binary but the code I&#39;ve written doesn&#39;t work in all test cases.\r\nHere&#39;s the code:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Converter{\r\n    public static int toBinary(int num) {\r\n        String binary=&quot;&quot;;\r\n        while (num&gt;0){\r\n            binary = (num%2)+binary;\r\n            num /=2;\r\n        }\r\n        int bin = Integer.parseInt(binary);\r\n        return bin;\r\n    }\r\n}\r\n\r\npublic class Program {\r\n    public static void main(String[ ] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int x = sc.nextInt();\r\n        System.out.print(Converter.toBinary(x));\r\n    }\r\n}\r\n```\r\nI would be grateful if somebody could tell me what&#39;s wrong.\r\n\r\n","title":"How to convert Decimal to Binary in Java?","body":"<p>I am trying to convert a decimal number to binary but the code I've written doesn't work in all test cases.\nHere's the code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Converter{\n    public static int toBinary(int num) {\n        String binary=&quot;&quot;;\n        while (num&gt;0){\n            binary = (num%2)+binary;\n            num /=2;\n        }\n        int bin = Integer.parseInt(binary);\n        return bin;\n    }\n}\n\npublic class Program {\n    public static void main(String[ ] args) {\n        Scanner sc = new Scanner(System.in);\n        int x = sc.nextInt();\n        System.out.print(Converter.toBinary(x));\n    }\n}\n</code></pre>\n<p>I would be grateful if somebody could tell me what's wrong.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9036,"page":956,"page_size":100}
