{"items":[{"tags":["java","java-package"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1676283172,"post_id":75434481,"comment_id":133099195,"body_markdown":"You need the full package name in a package declaration, so `package highest-level-package-name.sub-package-name;`","body":"You need the full package name in a package declaration, so <code>package highest-level-package-name.sub-package-name;</code>"}],"answers":[{"comments":[{"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"score":0,"creation_date":1676284089,"post_id":75434558,"comment_id":133099413,"body_markdown":"Thanks for the answer!!! But what does this statement means, &quot;Consequently, package-visibility also does not carry over to sub- or parent-packages.&quot;?","body":"Thanks for the answer!!! But what does this statement means, &quot;Consequently, package-visibility also does not carry over to sub- or parent-packages.&quot;?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1676284176,"post_id":75434558,"comment_id":133099439,"body_markdown":"When you use package-visibility (the fourth visibility next to `public`, `protected` and `private`), it will only apply to the current package and not to sub- or parent-packages. So a package-visible field in a parent-package will not be visible to a class in a sub-package or vice versa.","body":"When you use package-visibility (the fourth visibility next to <code>public</code>, <code>protected</code> and <code>private</code>), it will only apply to the current package and not to sub- or parent-packages. So a package-visible field in a parent-package will not be visible to a class in a sub-package or vice versa."},{"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"score":0,"creation_date":1676286000,"post_id":75434558,"comment_id":133099937,"body_markdown":"I have sometimes seen this statement: `package test.pkg`. Why `.pkg`, why not simply package name?","body":"I have sometimes seen this statement: <code>package test.pkg</code>. Why <code>.pkg</code>, why not simply package name?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1676287311,"post_id":75434558,"comment_id":133100280,"body_markdown":"i havent seen that yet - but u are free to name ur packages whatever u want.","body":"i havent seen that yet - but u are free to name ur packages whatever u want."}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676283772,"creation_date":1676283433,"answer_id":75434558,"question_id":75434481,"body_markdown":"## Example ##\r\n\r\nYou are only supposed to write a **single** `package` statement, with the **full name** of the package. So if you have a directory hierarchy for your packages like:\r\n\r\n```java\r\nfoo/\r\n└─ bar/\r\n   └─ baz/\r\n      └─ Test.java\r\n```\r\n\r\nYour `Test.java` file would have a statement like:\r\n\r\n```java\r\npackage foo.bar.baz;\r\n```\r\n\r\n## Nested packages ##\r\n\r\nJava itself actually has **no concept of nested packages**.\r\n\r\nAs far as the language is concerned,\r\n* `foo`,\r\n* `foo.bar` and\r\n* `foo.bar.baz`\r\n\r\nare considered three **independent packages**. *Sub-packages* or *parent-packages* are not a thing to Java.\r\n\r\nConsequently, _package-visibility_ also does **not carry over** to *sub-* or *parent-packages*.","title":"How to write package-statements for nested packages?","body":"<h2>Example</h2>\n<p>You are only supposed to write a <strong>single</strong> <code>package</code> statement, with the <strong>full name</strong> of the package. So if you have a directory hierarchy for your packages like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>foo/\n└─ bar/\n   └─ baz/\n      └─ Test.java\n</code></pre>\n<p>Your <code>Test.java</code> file would have a statement like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package foo.bar.baz;\n</code></pre>\n<h2>Nested packages</h2>\n<p>Java itself actually has <strong>no concept of nested packages</strong>.</p>\n<p>As far as the language is concerned,</p>\n<ul>\n<li><code>foo</code>,</li>\n<li><code>foo.bar</code> and</li>\n<li><code>foo.bar.baz</code></li>\n</ul>\n<p>are considered three <strong>independent packages</strong>. <em>Sub-packages</em> or <em>parent-packages</em> are not a thing to Java.</p>\n<p>Consequently, <em>package-visibility</em> also does <strong>not carry over</strong> to <em>sub-</em> or <em>parent-packages</em>.</p>\n"}],"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75434558,"answer_count":1,"score":1,"last_activity_date":1676283772,"creation_date":1676283080,"question_id":75434481,"body_markdown":"If I have a class in a sub-package like `sub-package-name`, which is in a parent-package like `higher-level-package-name`, do I just write\r\n\r\n    package &quot;sub-package-name&quot;;\r\n\r\nOr also add the parent-package, maybe like\r\n\r\n    package &quot;sub-package-name&quot;;\r\n    package &quot;higher-level-package-name&quot;;","title":"How to write package-statements for nested packages?","body":"<p>If I have a class in a sub-package like <code>sub-package-name</code>, which is in a parent-package like <code>higher-level-package-name</code>, do I just write</p>\n<pre><code>package &quot;sub-package-name&quot;;\n</code></pre>\n<p>Or also add the parent-package, maybe like</p>\n<pre><code>package &quot;sub-package-name&quot;;\npackage &quot;higher-level-package-name&quot;;\n</code></pre>\n"},{"tags":["java","itext","itext7"],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676283650,"creation_date":1676283650,"question_id":75434593,"body_markdown":"I have a PDF document with fillable fields; I need to resave it without them. I have tried to do it the following way:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        PdfWriter writer = new PdfWriter(os);\r\n        PdfDocument document = new PdfDocument(reader, writer);\r\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\r\n        acroForm.flattenFields();\r\n        document.close();\r\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\r\n    }\r\n```\r\nThis approach is not suitable for me because the values from these fields stay in the document, but I need to remove all data (fields and their values).\r\nThen I tried to do it the next way:\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        PdfWriter writer = new PdfWriter(os);\r\n        PdfDocument document = new PdfDocument(reader, writer);\r\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\r\n        if(acroForm.hasXfaForm())\r\n            acroForm.removeXfaForm();\r\n        document.close();\r\n        System.out.println(os.size());\r\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\r\n    }\r\n```\r\nIt is also not suitable for me because the condition ```if(acroForm.hasXfaForm())``` has returned ```false```.\r\n\r\nCan anyone suggest to me how can I save a PDF without fillable fields and their values?","title":"How to save a pdf ignoring fillable fields","body":"<p>I have a PDF document with fillable fields; I need to resave it without them. I have tried to do it the following way:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PdfWriter writer = new PdfWriter(os);\n        PdfDocument document = new PdfDocument(reader, writer);\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\n        acroForm.flattenFields();\n        document.close();\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\n    }\n</code></pre>\n<p>This approach is not suitable for me because the values from these fields stay in the document, but I need to remove all data (fields and their values).\nThen I tried to do it the next way:</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PdfWriter writer = new PdfWriter(os);\n        PdfDocument document = new PdfDocument(reader, writer);\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\n        if(acroForm.hasXfaForm())\n            acroForm.removeXfaForm();\n        document.close();\n        System.out.println(os.size());\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\n    }\n</code></pre>\n<p>It is also not suitable for me because the condition <code>if(acroForm.hasXfaForm())</code> has returned <code>false</code>.</p>\n<p>Can anyone suggest to me how can I save a PDF without fillable fields and their values?</p>\n"},{"tags":["java","ios","selenium","instruments","appium"],"answers":[{"comments":[{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":0,"creation_date":1437145338,"post_id":31464511,"comment_id":50922994,"body_markdown":"We can get only the webdriver logs not the appium logs.Anyhow I&#39;ve found a solution","body":"We can get only the webdriver logs not the appium logs.Anyhow I&#39;ve found a solution"}],"tags":[],"owner":{"account_id":5532679,"reputation":112,"user_id":4392168,"display_name":"amk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437080750,"creation_date":1437080750,"answer_id":31464511,"question_id":31455145,"body_markdown":"Just writing a possible solution without having the code we use at hand, notice this is what we have done on our nodes running in a windows machine, but it may work for Appium aswell. AFAIK there is an IOSDriver which you instance, that driver extends from RemoteWebDriver which has an overridable log method (don&#39;t remember the name). You may extend the IOSDriver class and override that logging method so that you can log wherever you want using the log library you like.","title":"How to get Appium Server logs","body":"<p>Just writing a possible solution without having the code we use at hand, notice this is what we have done on our nodes running in a windows machine, but it may work for Appium aswell. AFAIK there is an IOSDriver which you instance, that driver extends from RemoteWebDriver which has an overridable log method (don't remember the name). You may extend the IOSDriver class and override that logging method so that you can log wherever you want using the log library you like.</p>\n"},{"comments":[{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":0,"creation_date":1437145120,"post_id":31468455,"comment_id":50922861,"body_markdown":"Thanks.Anyhow check the answer I&#39;ve implemented the second option","body":"Thanks.Anyhow check the answer I&#39;ve implemented the second option"}],"tags":[],"owner":{"account_id":3911305,"reputation":1530,"user_id":3236557,"accept_rate":80,"display_name":"Kirill"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437107733,"creation_date":1437107733,"answer_id":31468455,"question_id":31455145,"body_markdown":"From official [documentation][1]:  \r\n\r\n - You can specify file path where you want to store logs using appium flag `-g` or `--log` and later filter it by `[INST]` maybe? \r\n - Also you can send log output to HTTP listener using flag `-G` or `--webhook` like that: `--webhook localhost:9876`. I don&#39;t know how it works though, but would like to know!\r\n - There is flag `--log-timestamp` which turns on timestamps in console output (by default it is to `false`). I&#39;d recommend to enable it :)\r\n\r\n  [1]: http://appium.io/slate/en/master/?ruby#server-flags","title":"How to get Appium Server logs","body":"<p>From official <a href=\"http://appium.io/slate/en/master/?ruby#server-flags\" rel=\"nofollow\">documentation</a>:  </p>\n\n<ul>\n<li>You can specify file path where you want to store logs using appium flag <code>-g</code> or <code>--log</code> and later filter it by <code>[INST]</code> maybe? </li>\n<li>Also you can send log output to HTTP listener using flag <code>-G</code> or <code>--webhook</code> like that: <code>--webhook localhost:9876</code>. I don't know how it works though, but would like to know!</li>\n<li>There is flag <code>--log-timestamp</code> which turns on timestamps in console output (by default it is to <code>false</code>). I'd recommend to enable it :)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1437145084,"creation_date":1437145084,"answer_id":31478765,"question_id":31455145,"body_markdown":"\r\nAs said by @Kirill Zhukov.\r\n\r\nAlso you can send log output to HTTP listener using flag `-G` or `--webhook` like that: `--webhook localhost:9876`.\r\n\r\nIf you&#39;re using UI you have to enable this Log to webhook\r\n\r\n![enter image description here][1]\r\n\r\nI have created a simple Socket server to listen to the logs and it works perfectly.Use this server to get the logs as per your need.The below code will print the logs in the console\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.logging.Level;\r\n\r\n    import java.util.logging.Logger;\r\n    \r\n    public class Server extends Thread {\r\n\r\n    private static ServerSocket socket;\r\n    private static String home = &quot;./&quot;;\r\n    private static int port = 9876;\r\n    private static boolean isAlive = true;\r\n    private static final Server server = new Server();\r\n\r\n    public static Server getServer(String[] args) {\r\n        if (args.length == 2) {\r\n            home = args[1];\r\n        }\r\n        port = Integer.parseInt(args[0]);\r\n        return server;\r\n    }\r\n\r\n    private Server() {\r\n\r\n    }\r\n\r\n    public static Server getServer() {\r\n        return server;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            if (socket != null) {\r\n                if (!socket.isClosed()) {\r\n                    if (port == getPort()) {\r\n                        System.err.println(&quot;Server active at the Same Port! &quot;);\r\n                    } else {\r\n                        close();\r\n                    }\r\n                }\r\n            }\r\n            socket = new ServerSocket(port);\r\n            port = socket.getLocalPort();\r\n            System.out.println(&quot;Server accepting connections on port :&quot; + port);\r\n            socket.setReceiveBufferSize(146988);\r\n            handlleRequest();\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Could not start server: &quot; + e.getMessage());\r\n            port = 0;\r\n            run();\r\n        }\r\n    }\r\n\r\n    public int getPort() {\r\n        return socket == null ? 0 : port;\r\n    }\r\n\r\n    public String getPortS() {\r\n        return String.valueOf(port);\r\n    }\r\n\r\n    public void Stop() {\r\n        isAlive = false;\r\n    }\r\n\r\n    public void handlleRequest() {\r\n        while (isAlive) {\r\n            System.out.println(&quot;Test&quot;);\r\n            try (Socket connection = socket.accept()) {\r\n                display(connection);\r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void display(Socket connection) {\r\n        try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\r\n            String line = in.readLine();\r\n            while (in.ready() &amp;&amp; line != null) {\r\n                System.out.println(line);\r\n                line = in.readLine();\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Server.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        if (socket != null &amp;&amp; !socket.isClosed()) {\r\n            isAlive = false;\r\n            socket.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        args = new String[]{&quot;9876&quot;, &quot;./&quot;};\r\n        Server f = Server.getServer(args);\r\n        f.start();\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dLkFs.png","title":"How to get Appium Server logs","body":"<p>As said by @Kirill Zhukov.</p>\n\n<p>Also you can send log output to HTTP listener using flag <code>-G</code> or <code>--webhook</code> like that: <code>--webhook localhost:9876</code>.</p>\n\n<p>If you're using UI you have to enable this Log to webhook</p>\n\n<p><img src=\"https://i.stack.imgur.com/dLkFs.png\" alt=\"enter image description here\"></p>\n\n<p>I have created a simple Socket server to listen to the logs and it works perfectly.Use this server to get the logs as per your need.The below code will print the logs in the console</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.logging.Level;\n\nimport java.util.logging.Logger;\n\npublic class Server extends Thread {\n\nprivate static ServerSocket socket;\nprivate static String home = \"./\";\nprivate static int port = 9876;\nprivate static boolean isAlive = true;\nprivate static final Server server = new Server();\n\npublic static Server getServer(String[] args) {\n    if (args.length == 2) {\n        home = args[1];\n    }\n    port = Integer.parseInt(args[0]);\n    return server;\n}\n\nprivate Server() {\n\n}\n\npublic static Server getServer() {\n    return server;\n}\n\n@Override\npublic void run() {\n    try {\n        if (socket != null) {\n            if (!socket.isClosed()) {\n                if (port == getPort()) {\n                    System.err.println(\"Server active at the Same Port! \");\n                } else {\n                    close();\n                }\n            }\n        }\n        socket = new ServerSocket(port);\n        port = socket.getLocalPort();\n        System.out.println(\"Server accepting connections on port :\" + port);\n        socket.setReceiveBufferSize(146988);\n        handlleRequest();\n    } catch (IOException e) {\n        System.err.println(\"Could not start server: \" + e.getMessage());\n        port = 0;\n        run();\n    }\n}\n\npublic int getPort() {\n    return socket == null ? 0 : port;\n}\n\npublic String getPortS() {\n    return String.valueOf(port);\n}\n\npublic void Stop() {\n    isAlive = false;\n}\n\npublic void handlleRequest() {\n    while (isAlive) {\n        System.out.println(\"Test\");\n        try (Socket connection = socket.accept()) {\n            display(connection);\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n}\n\npublic void display(Socket connection) {\n    try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\n        String line = in.readLine();\n        while (in.ready() &amp;&amp; line != null) {\n            System.out.println(line);\n            line = in.readLine();\n        }\n    } catch (IOException ex) {\n        Logger.getLogger(Server.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n\npublic void close() throws IOException {\n    if (socket != null &amp;&amp; !socket.isClosed()) {\n        isAlive = false;\n        socket.close();\n    }\n}\n\npublic static void main(String[] args) {\n    args = new String[]{\"9876\", \"./\"};\n    Server f = Server.getServer(args);\n    f.start();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25496206,"reputation":11,"user_id":19290223,"display_name":"DireWolfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676283089,"creation_date":1676283089,"answer_id":75434484,"question_id":31455145,"body_markdown":"There is one more option, you can start the appium server from the Editor.\r\nWrite a custom function, to start and stop the server from you&#39;re test, While doing so you can see the server logs in the console - in runtime.\r\nand after test completion. Logs can be captured and converted to any other formats from the editor.  \r\n\r\nAddon: If you schedule the CI/CD through Jenkins, Logs will also be a part of the report. \r\n\r\n\r\nRefer to below Code to start appiumserver Automatically:\r\npublic void startNewAppiumServer() {\r\n\r\n\t\tAppiumDriverLocalService service = new AppiumServiceBuilder()\r\n\t\t\t\t.withAppiumJS(new File(\r\n\t\t\t\t\t\t&quot;C:\\\\Users\\\\John\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\r\n\t\t\t\t.withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\r\n\t\tthis.service = service;\r\n\t\tservice.start();\r\n\t}","title":"How to get Appium Server logs","body":"<p>There is one more option, you can start the appium server from the Editor.\nWrite a custom function, to start and stop the server from you're test, While doing so you can see the server logs in the console - in runtime.\nand after test completion. Logs can be captured and converted to any other formats from the editor.</p>\n<p>Addon: If you schedule the CI/CD through Jenkins, Logs will also be a part of the report.</p>\n<p>Refer to below Code to start appiumserver Automatically:\npublic void startNewAppiumServer() {</p>\n<pre><code>    AppiumDriverLocalService service = new AppiumServiceBuilder()\n            .withAppiumJS(new File(\n                    &quot;C:\\\\Users\\\\John\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\n            .withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\n    this.service = service;\n    service.start();\n}\n</code></pre>\n"}],"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20357,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31478765,"answer_count":4,"score":5,"last_activity_date":1676283089,"creation_date":1437052205,"question_id":31455145,"body_markdown":"Is there any way to get the Appium server logs in the test script like\r\n\r\n     driver.manage().logs().get(&quot;appium server&quot;);\r\n\r\nor redirect the appium server logs to console\r\n\r\nMy main purpose is to get the Instrumentation Logs alone not all logs\r\n\r\n     info: [debug] [INST]  instrument logs","title":"How to get Appium Server logs","body":"<p>Is there any way to get the Appium server logs in the test script like</p>\n\n<pre><code> driver.manage().logs().get(\"appium server\");\n</code></pre>\n\n<p>or redirect the appium server logs to console</p>\n\n<p>My main purpose is to get the Instrumentation Logs alone not all logs</p>\n\n<pre><code> info: [debug] [INST]  instrument logs\n</code></pre>\n"},{"tags":["java","xml","spring-boot","jackson","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676282721,"creation_date":1676282721,"answer_id":75434425,"question_id":75434326,"body_markdown":"Make changes in the config class to set the default wrapper to false.\r\n\r\n    @Component\r\n    public class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\r\n    \t@Override\r\n    \tpublic void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n    \t\tjacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\r\n    \t\tjacksonObjectMapperBuilder.defaultUseWrapper(false);  //This was missing before\r\n    \t}\r\n    }","title":"Annotation based XML Marshalling in Spring Boot","body":"<p>Make changes in the config class to set the default wrapper to false.</p>\n<pre><code>@Component\npublic class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\n        jacksonObjectMapperBuilder.defaultUseWrapper(false);  //This was missing before\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75434425,"answer_count":1,"score":0,"last_activity_date":1676282721,"creation_date":1676282123,"question_id":75434326,"body_markdown":"In my spring boot application, I have below DTO class\r\n\r\n    @Data\r\n    public clsss Feed {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String title;\r\n    \t\r\n    \t@Builder\r\n    \t@XmlRootElement(name = &quot;feeds&quot;)\r\n    \tpublic static class Feeds {\r\n    \t\t@XmlElement(name = &quot;feed&quot;)\r\n    \t\t@Singular\r\n    \t\tprivate List&lt;Feed&gt; feeds;\r\n    \t}\r\n    }\r\n\r\nMy config class as below\r\n\r\n    @Component\r\n    public class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\r\n    \t@Override\r\n    \tpublic void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n    \t\tjacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\r\n    \t}\r\n    }\r\n\r\nDAO class implementation as below\r\n\r\n    public Feeds getAll() {\r\n    \tString sqlQuery = &quot;SELECT * FROM feed WHERE trash = 0&quot;;\r\n    \treturn Feeds.builder().feeds(namedParameterJdbcTemplate.query(sqlQuery, new BeanPropertyRowMapper&lt;&gt;(Feed.class))).build();\r\n    }\r\n\r\nUsing my ReST API, XML response I am receiving as below:\r\n\r\n    &lt;feeds&gt;\r\n    \t&lt;feed&gt;\r\n    \t\t&lt;feed&gt;\r\n    \t\t\t&lt;id&gt;1&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Val1&lt;/name&gt;\r\n    \t\t\t&lt;title&gt;Title1&lt;/title&gt;\r\n    \t\t&lt;/feed&gt;\r\n    \t\t&lt;feed&gt;\r\n    \t\t\t&lt;id&gt;2&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Val2&lt;/name&gt;\r\n    \t\t\t&lt;title&gt;Title2&lt;/title&gt;\r\n    \t\t&lt;/feed&gt;\r\n    \t&lt;/feed&gt;\r\n    &lt;/feeds&gt;\r\n\r\nI want to remove `&lt;feed&gt;` which comes as a wrapper element. **Desired output is as below**:\r\n\r\n    &lt;feeds&gt;\r\n    \t&lt;feed&gt;\r\n    \t\t&lt;id&gt;1&lt;/id&gt;\r\n    \t\t&lt;name&gt;Val1&lt;/name&gt;\r\n    \t\t&lt;title&gt;Title1&lt;/title&gt;\r\n    \t&lt;/feed&gt;\r\n    \t&lt;feed&gt;\r\n    \t\t&lt;id&gt;2&lt;/id&gt;\r\n    \t\t&lt;name&gt;Val2&lt;/name&gt;\r\n    \t\t&lt;title&gt;Title2&lt;/title&gt;\r\n    \t&lt;/feed&gt;\r\n    &lt;/feeds&gt;\r\n\r\n","title":"Annotation based XML Marshalling in Spring Boot","body":"<p>In my spring boot application, I have below DTO class</p>\n<pre><code>@Data\npublic clsss Feed {\n    private int id;\n    private String name;\n    private String title;\n    \n    @Builder\n    @XmlRootElement(name = &quot;feeds&quot;)\n    public static class Feeds {\n        @XmlElement(name = &quot;feed&quot;)\n        @Singular\n        private List&lt;Feed&gt; feeds;\n    }\n}\n</code></pre>\n<p>My config class as below</p>\n<pre><code>@Component\npublic class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\n    }\n}\n</code></pre>\n<p>DAO class implementation as below</p>\n<pre><code>public Feeds getAll() {\n    String sqlQuery = &quot;SELECT * FROM feed WHERE trash = 0&quot;;\n    return Feeds.builder().feeds(namedParameterJdbcTemplate.query(sqlQuery, new BeanPropertyRowMapper&lt;&gt;(Feed.class))).build();\n}\n</code></pre>\n<p>Using my ReST API, XML response I am receiving as below:</p>\n<pre><code>&lt;feeds&gt;\n    &lt;feed&gt;\n        &lt;feed&gt;\n            &lt;id&gt;1&lt;/id&gt;\n            &lt;name&gt;Val1&lt;/name&gt;\n            &lt;title&gt;Title1&lt;/title&gt;\n        &lt;/feed&gt;\n        &lt;feed&gt;\n            &lt;id&gt;2&lt;/id&gt;\n            &lt;name&gt;Val2&lt;/name&gt;\n            &lt;title&gt;Title2&lt;/title&gt;\n        &lt;/feed&gt;\n    &lt;/feed&gt;\n&lt;/feeds&gt;\n</code></pre>\n<p>I want to remove <code>&lt;feed&gt;</code> which comes as a wrapper element. <strong>Desired output is as below</strong>:</p>\n<pre><code>&lt;feeds&gt;\n    &lt;feed&gt;\n        &lt;id&gt;1&lt;/id&gt;\n        &lt;name&gt;Val1&lt;/name&gt;\n        &lt;title&gt;Title1&lt;/title&gt;\n    &lt;/feed&gt;\n    &lt;feed&gt;\n        &lt;id&gt;2&lt;/id&gt;\n        &lt;name&gt;Val2&lt;/name&gt;\n        &lt;title&gt;Title2&lt;/title&gt;\n    &lt;/feed&gt;\n&lt;/feeds&gt;\n</code></pre>\n"},{"tags":["java","android","camera","photo"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676227771,"post_id":75429299,"comment_id":133090814,"body_markdown":"That is an undocumented `Intent` extra AFAICT. There is no requirement for any camera app to support it. If you need this degree of control over the camera, you will need to implement the camera UI yourself, using something like CameraX.","body":"That is an undocumented <code>Intent</code> extra AFAICT. There is no requirement for any camera app to support it. If you need this degree of control over the camera, you will need to implement the camera UI yourself, using something like CameraX."}],"answers":[{"tags":[],"owner":{"account_id":26307879,"reputation":21,"user_id":19971998,"display_name":"ByteMaster"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676282307,"creation_date":1676236273,"answer_id":75430204,"question_id":75429299,"body_markdown":"This code is for launching the camera application and capturing an image, but it&#39;s not guaranteed that it will always open the front camera. The line\r\n```java\r\ntakePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\r\n```\r\n\r\nis an attempt to specify that the front camera should be used, but not all camera applications support this extra. To ensure that the front camera is opened, you need to handle the camera access in your own code using the Android Camera API.\r\n\r\nI&#39;ll share an example right below:\r\n```java\r\n    private Camera camera;\r\n    private int cameraId = 0;\r\n    public void openFrontCamera() {\r\n    \r\n    int numberOfCameras = Camera.getNumberOfCameras();\r\n    for (int i = 0; i &lt; numberOfCameras; i++) {\r\n        Camera.CameraInfo info = new Camera.CameraInfo();\r\n        Camera.getCameraInfo(i, info);\r\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n            cameraId = i;\r\n            break;\r\n        }\r\n    }    \r\n    camera = Camera.open(cameraId);\r\n```","title":"how open front camera in android java","body":"<p>This code is for launching the camera application and capturing an image, but it's not guaranteed that it will always open the front camera. The line</p>\n<pre class=\"lang-java prettyprint-override\"><code>takePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\n</code></pre>\n<p>is an attempt to specify that the front camera should be used, but not all camera applications support this extra. To ensure that the front camera is opened, you need to handle the camera access in your own code using the Android Camera API.</p>\n<p>I'll share an example right below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Camera camera;\n    private int cameraId = 0;\n    public void openFrontCamera() {\n    \n    int numberOfCameras = Camera.getNumberOfCameras();\n    for (int i = 0; i &lt; numberOfCameras; i++) {\n        Camera.CameraInfo info = new Camera.CameraInfo();\n        Camera.getCameraInfo(i, info);\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n            cameraId = i;\n            break;\n        }\n    }    \n    camera = Camera.open(cameraId);\n</code></pre>\n"}],"owner":{"account_id":27768289,"reputation":1,"user_id":21199179,"display_name":"Ouriel Bennathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676282307,"creation_date":1676227025,"question_id":75429299,"body_markdown":"I want to open front camera, this code open camera but not front:\r\n\r\n    Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    takePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\r\n    startActivityForResult(takePicture, 1);","title":"how open front camera in android java","body":"<p>I want to open front camera, this code open camera but not front:</p>\n<pre><code>Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\ntakePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\nstartActivityForResult(takePicture, 1);\n</code></pre>\n"},{"tags":["java","quarkus","resteasy","quarkus-rest-client"],"answers":[{"comments":[{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":0,"creation_date":1652882920,"post_id":72288729,"comment_id":127714990,"body_markdown":"Thanks, can you explain why is it a difference between registering ClientRequestFilter and for example ContainerRequestFilter which needs a build item ?","body":"Thanks, can you explain why is it a difference between registering ClientRequestFilter and for example ContainerRequestFilter which needs a build item ?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1652888393,"post_id":72288729,"comment_id":127717476,"body_markdown":"Can you elaborate a little more on the quesion? I don&#39;t really understand what you are asking","body":"Can you elaborate a little more on the quesion? I don&#39;t really understand what you are asking"},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":0,"creation_date":1653483894,"post_id":72288729,"comment_id":127863224,"body_markdown":"Why is there a BuiltItem for a ContainerRequestFilter and not for a ClientRequestFilter ?","body":"Why is there a BuiltItem for a ContainerRequestFilter and not for a ClientRequestFilter ?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1653630481,"post_id":72288729,"comment_id":127901825,"body_markdown":"Because the latter is never needed","body":"Because the latter is never needed"},{"owner":{"account_id":68925,"reputation":2901,"user_id":200841,"accept_rate":86,"display_name":"Gregor Petrin"},"score":0,"creation_date":1674549180,"post_id":72288729,"comment_id":132731923,"body_markdown":"But if I am writing a QuarkusApplication, I can have a ClientRequestFilter registered in the application that will modify requests without annotating the interfaces (which aren&#39;t under my control - I could inherit from them, but I rather wouldn&#39;t have that boilerplate code), whereas I&#39;m not sure I can do that with code coming from an extension?","body":"But if I am writing a QuarkusApplication, I can have a ClientRequestFilter registered in the application that will modify requests without annotating the interfaces (which aren&#39;t under my control - I could inherit from them, but I rather wouldn&#39;t have that boilerplate code), whereas I&#39;m not sure I can do that with code coming from an extension?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1674563865,"post_id":72288729,"comment_id":132736410,"body_markdown":"You can certainly open an issue asking for the feature","body":"You can certainly open an issue asking for the feature"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652874868,"creation_date":1652874868,"answer_id":72288729,"question_id":72273760,"body_markdown":"`ClientRequestFilter` for the REST Client are registered  via `@RegisterProvider`, so no build item is needed","title":"Quarkus Resteasy reactive missing builditem?","body":"<p><code>ClientRequestFilter</code> for the REST Client are registered  via <code>@RegisterProvider</code>, so no build item is needed</p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676281512,"creation_date":1676281512,"answer_id":75434238,"question_id":72273760,"body_markdown":"I had a similar issue; I wanted to use an extension to instrument an application and add request and response filters. For the `ContainerResponseFilter`, I used a `ContainerResponseFilterBuildItem` to register it. \r\n\r\nFor the `ClientRequestFilter`, I was a bit stuck. I eventually had success using a `RegisterProviderAnnotationInstanceBuildItem`. What this process is doing is an extension-side version of what the manual process would be; find classes annotated with `@RestClient`, and add a `@RegisterProvider(ClientFilter.class)`: \r\n\r\n```\r\n    private static final DotName CLIENT_FILTER = DotName.createSimple(ClientFilter.class.getName());\r\n    private static final DotName REGISTER_REST_CLIENT = DotName.createSimple(&quot;org.eclipse.microprofile.rest.client.inject.RegisterRestClient&quot;);\r\n\r\n\r\n    @BuildStep\r\n    void clientFilterSupport(CombinedIndexBuildItem indexBuildItem, BuildProducer&lt;GeneratedBeanBuildItem&gt; generatedBean,\r\n                             BuildProducer&lt;RegisterProviderAnnotationInstanceBuildItem&gt; producer) {\r\n\r\n        Collection&lt;AnnotationInstance&gt; instances = indexBuildItem.getIndex().getAnnotations(REGISTER_REST_CLIENT);\r\n        for (AnnotationInstance instance : instances) {\r\n\r\n            final AnnotationValue valueAttr = createClassValue(CLIENT_FILTER);\r\n\r\n            String targetClass = instance.target().asClass().name().toString();\r\n            producer.produce(new RegisterProviderAnnotationInstanceBuildItem(targetClass, AnnotationInstance.create(\r\n                    DotNames.REGISTER_PROVIDER, instance.target(), List.of(valueAttr))));\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe helper for making annotation values is just\r\n\r\n```\r\n    private AnnotationValue createClassValue(DotName filter) {\r\n        return AnnotationValue.createClassValue(&quot;value&quot;,\r\n                Type.create(filter, Type.Kind.CLASS));\r\n    }\r\n```\r\n\r\nI also told CDI about the filter:\r\n\r\n```\r\n    @BuildStep\r\n    void beans(BuildProducer&lt;AdditionalBeanBuildItem&gt; producer) {\r\n          producer.produce(AdditionalBeanBuildItem.unremovableOf(ClientFilter.class));\r\n    }\r\n```","title":"Quarkus Resteasy reactive missing builditem?","body":"<p>I had a similar issue; I wanted to use an extension to instrument an application and add request and response filters. For the <code>ContainerResponseFilter</code>, I used a <code>ContainerResponseFilterBuildItem</code> to register it.</p>\n<p>For the <code>ClientRequestFilter</code>, I was a bit stuck. I eventually had success using a <code>RegisterProviderAnnotationInstanceBuildItem</code>. What this process is doing is an extension-side version of what the manual process would be; find classes annotated with <code>@RestClient</code>, and add a <code>@RegisterProvider(ClientFilter.class)</code>:</p>\n<pre><code>    private static final DotName CLIENT_FILTER = DotName.createSimple(ClientFilter.class.getName());\n    private static final DotName REGISTER_REST_CLIENT = DotName.createSimple(&quot;org.eclipse.microprofile.rest.client.inject.RegisterRestClient&quot;);\n\n\n    @BuildStep\n    void clientFilterSupport(CombinedIndexBuildItem indexBuildItem, BuildProducer&lt;GeneratedBeanBuildItem&gt; generatedBean,\n                             BuildProducer&lt;RegisterProviderAnnotationInstanceBuildItem&gt; producer) {\n\n        Collection&lt;AnnotationInstance&gt; instances = indexBuildItem.getIndex().getAnnotations(REGISTER_REST_CLIENT);\n        for (AnnotationInstance instance : instances) {\n\n            final AnnotationValue valueAttr = createClassValue(CLIENT_FILTER);\n\n            String targetClass = instance.target().asClass().name().toString();\n            producer.produce(new RegisterProviderAnnotationInstanceBuildItem(targetClass, AnnotationInstance.create(\n                    DotNames.REGISTER_PROVIDER, instance.target(), List.of(valueAttr))));\n        }\n    }\n\n</code></pre>\n<p>The helper for making annotation values is just</p>\n<pre><code>    private AnnotationValue createClassValue(DotName filter) {\n        return AnnotationValue.createClassValue(&quot;value&quot;,\n                Type.create(filter, Type.Kind.CLASS));\n    }\n</code></pre>\n<p>I also told CDI about the filter:</p>\n<pre><code>    @BuildStep\n    void beans(BuildProducer&lt;AdditionalBeanBuildItem&gt; producer) {\n          producer.produce(AdditionalBeanBuildItem.unremovableOf(ClientFilter.class));\n    }\n</code></pre>\n"}],"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72288729,"answer_count":2,"score":1,"last_activity_date":1676281512,"creation_date":1652789113,"question_id":72273760,"body_markdown":"I am upgrading my extension to quarkus 2.9.0 and migrating to resteasy reactive.\r\n\r\nSome of existing builditems in resteasy classic do not exist anymore in reactive implementation. I was using `ResteasyJaxrsProviderBuildItem` to record an `ExceptionMapper` and a `ClientRequestFilter`.\r\n\r\nFor my `ExceptionMapper`, I use now an `ExceptionMapperBuildItem` without any problem. But for my `ClientRequestFilter`, I do not know which builditem i have to choose (there is no such a ClientRequestFilterBuildItem)\r\n\r\nMaybe am I missing something obvious ? Thanks","title":"Quarkus Resteasy reactive missing builditem?","body":"<p>I am upgrading my extension to quarkus 2.9.0 and migrating to resteasy reactive.</p>\n<p>Some of existing builditems in resteasy classic do not exist anymore in reactive implementation. I was using <code>ResteasyJaxrsProviderBuildItem</code> to record an <code>ExceptionMapper</code> and a <code>ClientRequestFilter</code>.</p>\n<p>For my <code>ExceptionMapper</code>, I use now an <code>ExceptionMapperBuildItem</code> without any problem. But for my <code>ClientRequestFilter</code>, I do not know which builditem i have to choose (there is no such a ClientRequestFilterBuildItem)</p>\n<p>Maybe am I missing something obvious ? Thanks</p>\n"},{"tags":["java","oauth-2.0","keycloak","jbpm","businesscentral"],"owner":{"account_id":27772447,"reputation":1,"user_id":21202516,"display_name":"Liudmila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676281436,"creation_date":1676281436,"question_id":75434222,"body_markdown":"I&#39;m deploying jbpm (7.57.0.Final)in docker with authorization via keycloak and google. I can log in to BuissnesCentral with my Google account through Keycloak, and I see my email in the top right corner. However, when I create a human task and write my email in the Actor field, jbpm does not show me the task in the Task &amp; TaskInbox section. \r\n[actor not define](https://i.stack.imgur.com/gUJJY.png) \r\nAnd initiator is unknown (but must be my email)\r\n[initiator is unknown](https://i.stack.imgur.com/ixp1Y.png)\r\nAt the same time, I can see in the TaskReport that the task has been assigned to me. \r\n[TaskReport section](https://i.stack.imgur.com/qkIJx.png)\r\nAs I understand it, jbpm does not recognize me as a user and does not map my email. How to solve this problem?\r\nI&#39;ve tried creating a role in keycloak and the same group in jbpm - it doesn&#39;t work for me.\r\n\r\nI tried to map the keyclock role to the jbpm group. I tried to create a default user role and an Administrators role, as advised in other topics - it does not work. I tried to assign the task to any default jbpm user - but I can&#39;t log in with the credentials of these users in jbpm after keyclock integration.","title":"JBPM + KeyCloak + Google auth does not map the user after authorization","body":"<p>I'm deploying jbpm (7.57.0.Final)in docker with authorization via keycloak and google. I can log in to BuissnesCentral with my Google account through Keycloak, and I see my email in the top right corner. However, when I create a human task and write my email in the Actor field, jbpm does not show me the task in the Task &amp; TaskInbox section.\n<a href=\"https://i.stack.imgur.com/gUJJY.png\" rel=\"nofollow noreferrer\">actor not define</a>\nAnd initiator is unknown (but must be my email)\n<a href=\"https://i.stack.imgur.com/ixp1Y.png\" rel=\"nofollow noreferrer\">initiator is unknown</a>\nAt the same time, I can see in the TaskReport that the task has been assigned to me.\n<a href=\"https://i.stack.imgur.com/qkIJx.png\" rel=\"nofollow noreferrer\">TaskReport section</a>\nAs I understand it, jbpm does not recognize me as a user and does not map my email. How to solve this problem?\nI've tried creating a role in keycloak and the same group in jbpm - it doesn't work for me.</p>\n<p>I tried to map the keyclock role to the jbpm group. I tried to create a default user role and an Administrators role, as advised in other topics - it does not work. I tried to assign the task to any default jbpm user - but I can't log in with the credentials of these users in jbpm after keyclock integration.</p>\n"},{"tags":["java","scala","apache-spark","google-cloud-platform"],"owner":{"account_id":11762207,"reputation":117,"user_id":8607900,"display_name":"Aavash Bhandari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676281411,"creation_date":1676278009,"question_id":75433644,"body_markdown":"I am trying to run a java based spark application on the DataProcCluster, \r\nSpark version that I use in my project: Spark 2.4.8\r\nDataProcCluster Spark version Spark 2.4.8\r\nWhen I run it I get the following error:\r\n\r\n```\r\nApplication application_1676252836684_0013 failed 2 times due to AM Container for appattempt_1676252836684_0013_000002 exited with exitCode: 13\r\nFailing this attempt.Diagnostics: [2023-02-13 08:39:33.239]Exception from container-launch.\r\nContainer id: container_1676252836684_0013_02_000001\r\nExit code: 13\r\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nonnected to master\r\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\r\norg.apache.spark.SparkException: Exception thrown in awaitResult:\r\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\r\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\r\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nonnected to master\r\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\r\norg.apache.spark.SparkException: Exception thrown in awaitResult:\r\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\r\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\r\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\nFor more detailed output, check the application tracking page: http://spark-cluster-m:8188/applicationhistory/app/application_1676252836684_0013 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n```\r\n\r\nWhat is causing the error? How to solve this error?\r\nI have added the MetricsSystem too explicitly. However, It is said that when initializing the spark automatically starts the MetricSystem. I am still clueless about what is wrong here!\r\nMy apache spark config is as follows:\r\n\r\n```SparkConf config = new SparkConf().setAppName(&quot;ANN-SCL-FIN&quot;).set(&quot;spark.locality.wait&quot;, &quot;0&quot;)\r\n\t\t\t\t.set(&quot;spark.submit.deployMode&quot;, &quot;cluster&quot;).set(&quot;spark.driver.maxResultSize&quot;, &quot;6g&quot;)\r\n\t\t\t\t.set(&quot;spark.executor.memory&quot;, &quot;6g&quot;).setMaster(&quot;spark://35.194.176.13:8188&quot;).set(&quot;spark.cores.max&quot;, &quot;8&quot;)\r\n\t\t\t\t.set(&quot;spark.blockManager.port&quot;, &quot;10025&quot;).set(&quot;spark.driver.blockManager.port&quot;, &quot;10026&quot;)\r\n\t\t\t\t.set(&quot;spark.driver.port&quot;, &quot;10027&quot;).set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;)\r\n\t\t\t\t.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\r\n\t\t\tJavaSparkContext jscontext = new JavaSparkContext(config);\r\n\t\tSecurityManager securityMgr = new SecurityManager(config, null, null);\r\n\t\tMetricsSystem metricsSystem = MetricsSystem.createMetricsSystem(&quot;GraphNetworkSCLAlgorithm&quot;, config,\r\n\t\t\t\tsecurityMgr);\r\n\t\tmetricsSystem.start(true);\r\n```","title":"&quot;spark-submit&quot; in DataProcCluster not running the jobs","body":"<p>I am trying to run a java based spark application on the DataProcCluster,\nSpark version that I use in my project: Spark 2.4.8\nDataProcCluster Spark version Spark 2.4.8\nWhen I run it I get the following error:</p>\n<pre><code>Application application_1676252836684_0013 failed 2 times due to AM Container for appattempt_1676252836684_0013_000002 exited with exitCode: 13\nFailing this attempt.Diagnostics: [2023-02-13 08:39:33.239]Exception from container-launch.\nContainer id: container_1676252836684_0013_02_000001\nExit code: 13\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nonnected to master\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\norg.apache.spark.SparkException: Exception thrown in awaitResult:\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nonnected to master\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\norg.apache.spark.SparkException: Exception thrown in awaitResult:\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\nFor more detailed output, check the application tracking page: http://spark-cluster-m:8188/applicationhistory/app/application_1676252836684_0013 Then click on links to logs of each attempt.\n. Failing the application.\n</code></pre>\n<p>What is causing the error? How to solve this error?\nI have added the MetricsSystem too explicitly. However, It is said that when initializing the spark automatically starts the MetricSystem. I am still clueless about what is wrong here!\nMy apache spark config is as follows:</p>\n<pre><code>                .set(&quot;spark.submit.deployMode&quot;, &quot;cluster&quot;).set(&quot;spark.driver.maxResultSize&quot;, &quot;6g&quot;)\n                .set(&quot;spark.executor.memory&quot;, &quot;6g&quot;).setMaster(&quot;spark://35.194.176.13:8188&quot;).set(&quot;spark.cores.max&quot;, &quot;8&quot;)\n                .set(&quot;spark.blockManager.port&quot;, &quot;10025&quot;).set(&quot;spark.driver.blockManager.port&quot;, &quot;10026&quot;)\n                .set(&quot;spark.driver.port&quot;, &quot;10027&quot;).set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;)\n                .set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\n            JavaSparkContext jscontext = new JavaSparkContext(config);\n        SecurityManager securityMgr = new SecurityManager(config, null, null);\n        MetricsSystem metricsSystem = MetricsSystem.createMetricsSystem(&quot;GraphNetworkSCLAlgorithm&quot;, config,\n                securityMgr);\n        metricsSystem.start(true);\n</code></pre>\n"},{"tags":["java","spring-boot","minio"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1676281449,"post_id":75434160,"comment_id":133098692,"body_markdown":"Yes, that is how it works. You cannot / must not save the presigned url in the database. Instead your application needs to generate a presigned url whenever someone wants to see the image. All you can save in the database is the key / object name.","body":"Yes, that is how it works. You cannot / must not save the presigned url in the database. Instead your application needs to generate a presigned url whenever someone wants to see the image. All you can save in the database is the key / object name."}],"owner":{"account_id":10089677,"reputation":9,"user_id":7457050,"display_name":"shamil khalid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676281396,"creation_date":1676281096,"question_id":75434160,"body_markdown":"I use java in my application. I use minio server to for file server. When I upload my file to the minio server, I save the url of the same file in the database. But after 7 days the same url is not working. I am using project in localhost and minio server free. I don&#39;t want to end the expiration date as 7 days. I want to show for life.\r\n \r\n\r\n    public Boolean uploadFile(List&lt;MultipartFile&gt; multipartFiles, \r\n    Product product) {\r\n        LinkedList&lt;AppFile&gt; appFiles = new LinkedList&lt;&gt;();\r\n        multipartFiles.forEach(multipartFile -&gt; {\r\n\r\n            String fileName = multipartFile.getOriginalFilename();\r\n            String ext = FileNameUtils.getExtension(fileName);\r\n            AppFile appFile = new AppFile();\r\n            appFile.setName(fileName);\r\n            appFile.setExt(ext);\r\n            appFile.setDateCreated(new Date());\r\n            appFile.setUserId(UUID.randomUUID().toString());\r\n            appFile.setUuid(UUID.randomUUID().toString());  \r\n\r\n            try {\r\n                UUID uuid = UUID.randomUUID();\r\n                // save minio server\r\n                minioClient.putObject(PutObjectArgs.builder()\r\n                        .bucket(bucketName)\r\n                        .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\r\n                        .stream(multipartFile.getInputStream(), multipartFile.getSize(), -1)\r\n                        .contentType(multipartFile.getContentType())\r\n                        .build());\r\n\r\n                // file url\r\n                String url = minioClient.getPresignedObjectUrl(GetPresignedObjectUrlArgs.builder()\r\n                        .method(Method.GET)\r\n                        .bucket(bucketName)\r\n                        .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\r\n                        .build());\r\n                appFile.setUrl(url);\r\n                appFile.setProductId(product);\r\n                appFiles.add(appFile);\r\n            } catch (Exception e) {\r\n                throw new FileException(EnumFile.FILE_CAN_NOT_ADDED.getName() + &quot; &quot; + e.getMessage());\r\n            }\r\n            appFileRepository.saveAll(appFiles);\r\n        });\r\n        return true;\r\n    }\r\n\r\n\r\n","title":"Expiry must be minimum 1 second to maximum 7 days in minio server","body":"<p>I use java in my application. I use minio server to for file server. When I upload my file to the minio server, I save the url of the same file in the database. But after 7 days the same url is not working. I am using project in localhost and minio server free. I don't want to end the expiration date as 7 days. I want to show for life.</p>\n<pre><code>public Boolean uploadFile(List&lt;MultipartFile&gt; multipartFiles, \nProduct product) {\n    LinkedList&lt;AppFile&gt; appFiles = new LinkedList&lt;&gt;();\n    multipartFiles.forEach(multipartFile -&gt; {\n\n        String fileName = multipartFile.getOriginalFilename();\n        String ext = FileNameUtils.getExtension(fileName);\n        AppFile appFile = new AppFile();\n        appFile.setName(fileName);\n        appFile.setExt(ext);\n        appFile.setDateCreated(new Date());\n        appFile.setUserId(UUID.randomUUID().toString());\n        appFile.setUuid(UUID.randomUUID().toString());  \n\n        try {\n            UUID uuid = UUID.randomUUID();\n            // save minio server\n            minioClient.putObject(PutObjectArgs.builder()\n                    .bucket(bucketName)\n                    .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\n                    .stream(multipartFile.getInputStream(), multipartFile.getSize(), -1)\n                    .contentType(multipartFile.getContentType())\n                    .build());\n\n            // file url\n            String url = minioClient.getPresignedObjectUrl(GetPresignedObjectUrlArgs.builder()\n                    .method(Method.GET)\n                    .bucket(bucketName)\n                    .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\n                    .build());\n            appFile.setUrl(url);\n            appFile.setProductId(product);\n            appFiles.add(appFile);\n        } catch (Exception e) {\n            throw new FileException(EnumFile.FILE_CAN_NOT_ADDED.getName() + &quot; &quot; + e.getMessage());\n        }\n        appFileRepository.saveAll(appFiles);\n    });\n    return true;\n}\n</code></pre>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1676275576,"post_id":75432898,"comment_id":133097157,"body_markdown":"According to [syntax diagram](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/img_text/single_table_insert.html) `returning` is only possible for `values` clause, not for subquery.","body":"According to <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/img_text/single_table_insert.html\" rel=\"nofollow noreferrer\">syntax diagram</a> <code>returning</code> is only possible for <code>values</code> clause, not for subquery."}],"answers":[{"comments":[{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1676274801,"post_id":75433030,"comment_id":133097002,"body_markdown":"i do not use the values keyword , but directly use the SELECT key word to fetch from another table. I have tried inserts with values keyword and returning it works, but it doesnt work for the above query i have mentioned. i am wondering whether the returning part is read as a part of the second query which causes the error .. do u know a way around?","body":"i do not use the values keyword , but directly use the SELECT key word to fetch from another table. I have tried inserts with values keyword and returning it works, but it doesnt work for the above query i have mentioned. i am wondering whether the returning part is read as a part of the second query which causes the error .. do u know a way around?"},{"owner":{"account_id":11672949,"reputation":195,"user_id":9149706,"display_name":"максим ильин"},"score":0,"creation_date":1676276408,"post_id":75433030,"comment_id":133097358,"body_markdown":"Use type for construction: insert RETURNING  bulk collect INTO type","body":"Use type for construction: insert RETURNING  bulk collect INTO type"},{"owner":{"account_id":11672949,"reputation":195,"user_id":9149706,"display_name":"максим ильин"},"score":0,"creation_date":1676276839,"post_id":75433030,"comment_id":133097460,"body_markdown":"Give parametr type in java code","body":"Give parametr type in java code"},{"owner":{"account_id":11672949,"reputation":195,"user_id":9149706,"display_name":"максим ильин"},"score":0,"creation_date":1676276983,"post_id":75433030,"comment_id":133097496,"body_markdown":"You better not use this construct. you make life difficult for yourself.","body":"You better not use this construct. you make life difficult for yourself."},{"owner":{"account_id":11672949,"reputation":195,"user_id":9149706,"display_name":"максим ильин"},"score":0,"creation_date":1676277064,"post_id":75433030,"comment_id":133097519,"body_markdown":"give one request to java, and you&#39;re done","body":"give one request to java, and you&#39;re done"}],"tags":[],"owner":{"account_id":11672949,"reputation":195,"user_id":9149706,"display_name":"максим ильин"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676273899,"creation_date":1676273899,"answer_id":75433030,"question_id":75432898,"body_markdown":"there is no such method, you can return the value to a variable : `INSERT INTO &lt;table&gt; VALUES (&lt;values&gt;) RETURNING ID into &lt;variable&gt;`","title":"Oracle get the IDs of the inserted record","body":"<p>there is no such method, you can return the value to a variable : <code>INSERT INTO &lt;table&gt; VALUES (&lt;values&gt;) RETURNING ID into &lt;variable&gt;</code></p>\n"},{"comments":[{"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"score":0,"creation_date":1676274691,"post_id":75433050,"comment_id":133096967,"body_markdown":"execute update do not return the result set but only an int value which tells me no of rows inserted right ? thats why i have used exeucteQuery since it returns me the result set . Is my raw query wrong ? i have added an out param to it with returning","body":"execute update do not return the result set but only an int value which tells me no of rows inserted right ? thats why i have used exeucteQuery since it returns me the result set . Is my raw query wrong ? i have added an out param to it with returning"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1676306433,"post_id":75433050,"comment_id":133106446,"body_markdown":"The ID of the inserted row will be in the OUT parameter that you will have to &quot;stmt.getXXX(N)&quot;, not the result of the executeUpdate function.","body":"The ID of the inserted row will be in the OUT parameter that you will have to &quot;stmt.getXXX(N)&quot;, not the result of the executeUpdate function."}],"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676274114,"creation_date":1676274114,"answer_id":75433050,"question_id":75432898,"body_markdown":"For INSERT/UPDATE/DELETE, you must use &quot;executeUpdate&quot; not &quot;executeQuery&quot;. To get back the inserted PK you can use &quot;INSERT ... RETURNING column_name INTO ?&quot; in an anonymous block or in a procedure &quot;INTO an_OUT_param&quot;. In both cases, you must register an OUT parameter in the Java code. ","title":"Oracle get the IDs of the inserted record","body":"<p>For INSERT/UPDATE/DELETE, you must use &quot;executeUpdate&quot; not &quot;executeQuery&quot;. To get back the inserted PK you can use &quot;INSERT ... RETURNING column_name INTO ?&quot; in an anonymous block or in a procedure &quot;INTO an_OUT_param&quot;. In both cases, you must register an OUT parameter in the Java code.</p>\n"},{"tags":[],"owner":{"account_id":17404044,"reputation":728,"user_id":21139120,"display_name":"Bogdan Dincescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676280992,"creation_date":1676280992,"answer_id":75434142,"question_id":75432898,"body_markdown":"That returning clause makes sense only inside a pl/sql block, and not in some SQL statement sent from Java or some other client. That is why it doesn&#39;t work.\r\nA pl/sql block means basically somethign like below:\r\n\r\n    Declare \r\n      /* variable declarations as needed*/\r\n      v_ret number;\r\n    begin\r\n      /* several SQL statements as needed*/\r\n      insert into x_table (... /* list of columns*/\r\n      ) values (\r\n      /* values to insert*/&#39;\r\n      x_id\r\n      ...\r\n      ) returning x_id into v_ret;     \r\n    end;\r\n\r\nI never recall having used returning with an insert select. Why? Because that select may possibly return no rows whatsoever or may return several rows. How could that work then with a simple variable? \r\nIn case a DML (could be insert select or could be even an update or delete) may affect several rows you should use returning bulk collect, like in the example at https://doyensys.com/blogs/returning-clause-with-bulk-collect/\r\n","title":"Oracle get the IDs of the inserted record","body":"<p>That returning clause makes sense only inside a pl/sql block, and not in some SQL statement sent from Java or some other client. That is why it doesn't work.\nA pl/sql block means basically somethign like below:</p>\n<pre><code>Declare \n  /* variable declarations as needed*/\n  v_ret number;\nbegin\n  /* several SQL statements as needed*/\n  insert into x_table (... /* list of columns*/\n  ) values (\n  /* values to insert*/'\n  x_id\n  ...\n  ) returning x_id into v_ret;     \nend;\n</code></pre>\n<p>I never recall having used returning with an insert select. Why? Because that select may possibly return no rows whatsoever or may return several rows. How could that work then with a simple variable?\nIn case a DML (could be insert select or could be even an update or delete) may affect several rows you should use returning bulk collect, like in the example at <a href=\"https://doyensys.com/blogs/returning-clause-with-bulk-collect/\" rel=\"nofollow noreferrer\">https://doyensys.com/blogs/returning-clause-with-bulk-collect/</a></p>\n"}],"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75433050,"answer_count":3,"score":2,"last_activity_date":1676280992,"creation_date":1676272854,"question_id":75432898,"body_markdown":"I have the below query \r\n\r\n    insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\r\n    select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  \r\n    where status in (2, 3, 4) and active = 1 order by fund_id\r\n\r\nI want to get the IDs of inserted records returned to me \r\n\r\nI have tried below methods without success \r\n\r\n    insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\r\n    select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  \r\n    where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1\r\n\r\ntried with the returning key word it did not work (table has an ID column which is not an auto generated or auto incremented column , neither it is the primary key) \r\n\r\nSecondly in my java program I use prepared statements \r\n\r\n    String sql = &quot;insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id&quot;;\r\n    try (PreparedStatement preparedStatement = conn.prepareStatement(sql,new String[] {&quot;ID&quot;})) {\r\n                    preparedStatement.setFetchSize(fetchSize);\r\n                    ResultSet rs1 =preparedStatement.executeQuery();\r\n                    if (rs1.next()) {\r\n                        System.out.println(rs1.getString(&quot;ID&quot;));\r\n                    }\r\n    }\r\n\r\n\r\nAbove also fails with the below error \r\n\r\n    Caused by: Error : 933, Position : 233, Sql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1 , OriginalSql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO ?, Error Msg = ORA-00933: SQL command not properly ended\r\n\r\nAny input on this will be highly appreciated \r\n\r\nI just want to get the IDs of the inserted records via prepared statements immediately back. my table column is named ID (ID is neither auto generated, nor the primary key)\r\n\r\n","title":"Oracle get the IDs of the inserted record","body":"<p>I have the below query</p>\n<pre><code>insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\nselect fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  \nwhere status in (2, 3, 4) and active = 1 order by fund_id\n</code></pre>\n<p>I want to get the IDs of inserted records returned to me</p>\n<p>I have tried below methods without success</p>\n<pre><code>insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\nselect fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  \nwhere status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1\n</code></pre>\n<p>tried with the returning key word it did not work (table has an ID column which is not an auto generated or auto incremented column , neither it is the primary key)</p>\n<p>Secondly in my java program I use prepared statements</p>\n<pre><code>String sql = &quot;insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id&quot;;\ntry (PreparedStatement preparedStatement = conn.prepareStatement(sql,new String[] {&quot;ID&quot;})) {\n                preparedStatement.setFetchSize(fetchSize);\n                ResultSet rs1 =preparedStatement.executeQuery();\n                if (rs1.next()) {\n                    System.out.println(rs1.getString(&quot;ID&quot;));\n                }\n}\n</code></pre>\n<p>Above also fails with the below error</p>\n<pre><code>Caused by: Error : 933, Position : 233, Sql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1 , OriginalSql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO ?, Error Msg = ORA-00933: SQL command not properly ended\n</code></pre>\n<p>Any input on this will be highly appreciated</p>\n<p>I just want to get the IDs of the inserted records via prepared statements immediately back. my table column is named ID (ID is neither auto generated, nor the primary key)</p>\n"},{"tags":["java","api","server","mocking"],"comments":[{"owner":{"account_id":7031916,"reputation":1939,"user_id":5387290,"display_name":"de_classified"},"score":0,"creation_date":1676265332,"post_id":75432085,"comment_id":133095530,"body_markdown":"Yes, you can use Java REST API calls to connect to the server and then the front-end for passing the data. What have you attempted so far?","body":"Yes, you can use Java REST API calls to connect to the server and then the front-end for passing the data. What have you attempted so far?"},{"owner":{"account_id":26127740,"reputation":11,"user_id":19818933,"display_name":"Rafig Mammadzada"},"score":0,"creation_date":1676275414,"post_id":75432085,"comment_id":133097125,"body_markdown":"what do you mean? I think you misunderstood requirements","body":"what do you mean? I think you misunderstood requirements"},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676275782,"post_id":75432085,"comment_id":133097196,"body_markdown":"I would consider using wiremock for this purpose.\nhttps://www.baeldung.com/introduction-to-wiremock","body":"I would consider using wiremock for this purpose. <a href=\"https://www.baeldung.com/introduction-to-wiremock\" rel=\"nofollow noreferrer\">baeldung.com/introduction-to-wiremock</a>"}],"answers":[{"tags":[],"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676280678,"creation_date":1676280678,"answer_id":75434088,"question_id":75432085,"body_markdown":"Well, a simple mock server in your case can be build by - \r\n\r\n1. Get the signatures &amp; input/output payloads of your Microservices api&#39;s that are not yet developed. If the signatures &amp; payloads are not yet defined, you need to get in a huddle with stakeholders to articulate them first\r\n2. Simulate the input/output jsons and place them in a folder structure having the mapping in folder naming conventions\r\n3. Write a simple Spring Boot Webservices component, with Swagger enabled. Your Spring endpoints can refer the json folders &amp; return the example jsons. Swagger will allow you to publish an API listing url for consumption by respective teams.","title":"Real time request/response server (Java)","body":"<p>Well, a simple mock server in your case can be build by -</p>\n<ol>\n<li>Get the signatures &amp; input/output payloads of your Microservices api's that are not yet developed. If the signatures &amp; payloads are not yet defined, you need to get in a huddle with stakeholders to articulate them first</li>\n<li>Simulate the input/output jsons and place them in a folder structure having the mapping in folder naming conventions</li>\n<li>Write a simple Spring Boot Webservices component, with Swagger enabled. Your Spring endpoints can refer the json folders &amp; return the example jsons. Swagger will allow you to publish an API listing url for consumption by respective teams.</li>\n</ol>\n"}],"owner":{"account_id":26127740,"reputation":11,"user_id":19818933,"display_name":"Rafig Mammadzada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676294562,"answer_count":1,"score":1,"last_activity_date":1676280678,"creation_date":1676265118,"question_id":75432085,"body_markdown":"I need to write a service which will be acting as a real time mock server. We have multiple microservices and some of them are not ready. That is why I got a task to write this kind of service using java. But the main challenge for me is that it should create response upon requests in real time, so this service should mock APIs in real time without new deploy.\r\n\r\nArchitecture can be built on API calls which will set request and response, and those requests and responses will be used later. \r\n\r\nOr it can read from some folder requests and responses in .json format files and mock APIs.\r\n\r\nI am not sure did I explained my question clearly. Appreciate any kind of help.\r\n\r\nI haven&#39;t tried something, but I saw [Mockoon](https://mockoon.com) has this functionality. It is written in python. ","title":"Real time request/response server (Java)","body":"<p>I need to write a service which will be acting as a real time mock server. We have multiple microservices and some of them are not ready. That is why I got a task to write this kind of service using java. But the main challenge for me is that it should create response upon requests in real time, so this service should mock APIs in real time without new deploy.</p>\n<p>Architecture can be built on API calls which will set request and response, and those requests and responses will be used later.</p>\n<p>Or it can read from some folder requests and responses in .json format files and mock APIs.</p>\n<p>I am not sure did I explained my question clearly. Appreciate any kind of help.</p>\n<p>I haven't tried something, but I saw <a href=\"https://mockoon.com\" rel=\"nofollow noreferrer\">Mockoon</a> has this functionality. It is written in python.</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1583426546,"post_id":60550049,"comment_id":107121395,"body_markdown":"Are you using [spring-boot-starter-data-elasticsearch](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-elasticsearch)?","body":"Are you using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-elasticsearch\" rel=\"nofollow noreferrer\">spring-boot-starter-data-elasticsearch</a>?"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1583501737,"post_id":60550049,"comment_id":107148888,"body_markdown":"No, I use `spring-data-elasticsearch` of `org.springframework.data` version `3.2.5.RELEASE`. Do you recommend trying the spring boot starter?","body":"No, I use <code>spring-data-elasticsearch</code> of <code>org.springframework.data</code> version <code>3.2.5.RELEASE</code>. Do you recommend trying the spring boot starter?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1583529259,"post_id":60550049,"comment_id":107161334,"body_markdown":"This idle connection problems seems to come up from time to time; I will create a ticket for a feature to be handle this.","body":"This idle connection problems seems to come up from time to time; I will create a ticket for a feature to be handle this."},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1583590748,"post_id":60550049,"comment_id":107172302,"body_markdown":"@P.J.Meisch Wow, that would be awesome!","body":"@P.J.Meisch Wow, that would be awesome!"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1583661262,"post_id":60550049,"comment_id":107186221,"body_markdown":"what if you configure @Retryable to be triggered by the `org.springframework.data.elasticsearch.ElasticsearchException` class?","body":"what if you configure @Retryable to be triggered by the <code>org.springframework.data.elasticsearch.ElasticsearchExceptio&zwnj;&#8203;n</code> class?"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1583668466,"post_id":60550049,"comment_id":107187875,"body_markdown":"@P.J.Meisch please check out the Update section I just added. In the past I have also tried including `org.springframework.data.elasticsearch.ElasticsearchException` in the `@Retryable` without any effect. Now I know why.","body":"@P.J.Meisch please check out the Update section I just added. In the past I have also tried including <code>org.springframework.data.elasticsearch.ElasticsearchExceptio&zwnj;&#8203;n</code> in the <code>@Retryable</code> without any effect. Now I know why."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1583684268,"post_id":60550049,"comment_id":107191933,"body_markdown":"And after removing the @Repository annotation the repository still works? Exception translation does not swallow an exception, it translates implementation based exceptions into Spring Data exceptions where possible. I rather think that Spring Retry conflicts with Spring Data repository logic as it seems that retry does it&#39;s own aop stuff","body":"And after removing the @Repository annotation the repository still works? Exception translation does not swallow an exception, it translates implementation based exceptions into Spring Data exceptions where possible. I rather think that Spring Retry conflicts with Spring Data repository logic as it seems that retry does it&#39;s own aop stuff"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1584355513,"post_id":60550049,"comment_id":107402571,"body_markdown":"@P.J.Meisch Yeah, it still works. I was only able to handle this properly by wrapping the code in a try/catch block. I would appreciate it, if Spring Data Elasticsaerch had it own connection retry mechanism or would keep the connections alive somehow.","body":"@P.J.Meisch Yeah, it still works. I was only able to handle this properly by wrapping the code in a try/catch block. I would appreciate it, if Spring Data Elasticsaerch had it own connection retry mechanism or would keep the connections alive somehow."},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1584612367,"post_id":60550049,"comment_id":107491564,"body_markdown":"@P.J.Meisch it seems that it was the `@Retryable` though, that prevented that issue from occurring.","body":"@P.J.Meisch it seems that it was the <code>@Retryable</code> though, that prevented that issue from occurring."}],"answers":[{"comments":[{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1586847475,"post_id":60817453,"comment_id":108270664,"body_markdown":"`@Retryable` seems to be more elegant and lower-cost solution , why did you go with keep-alive unnecessary  calls ?","body":"<code>@Retryable</code> seems to be more elegant and lower-cost solution , why did you go with keep-alive unnecessary  calls ?"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1586935806,"post_id":60817453,"comment_id":108308263,"body_markdown":"@Alexander.Furer it didn&#39;t work reliably. I couldn&#39;t find out why, but neither the try/catch nor the `@Retryable` was able to catch the exception. In my opinion, sending a request each 30 minutes isn&#39;t that high costly in comparision, especially when you consider the price of exceptions and their stack traces!","body":"@Alexander.Furer it didn&#39;t work reliably. I couldn&#39;t find out why, but neither the try/catch nor the <code>@Retryable</code> was able to catch the exception. In my opinion, sending a request each 30 minutes isn&#39;t that high costly in comparision, especially when you consider the price of exceptions and their stack traces!"},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1586949264,"post_id":60817453,"comment_id":108315142,"body_markdown":"It&#39;s not about sending request once in 30 minutes.. It&#39;s about keeping connection you don&#39;t need which might be expensive for server","body":"It&#39;s not about sending request once in 30 minutes.. It&#39;s about keeping connection you don&#39;t need which might be expensive for server"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1586964280,"post_id":60817453,"comment_id":108324296,"body_markdown":"@Alexander.Furer ah ok. Could you please elaborate how expensive it is for the server to keep up the connection?","body":"@Alexander.Furer ah ok. Could you please elaborate how expensive it is for the server to keep up the connection?"},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1586974728,"post_id":60817453,"comment_id":108330668,"body_markdown":"Depends : NIO or not. But your question is probably rhetorical - so, never mind.","body":"Depends : NIO or not. But your question is probably rhetorical - so, never mind."}],"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584980270,"creation_date":1584980270,"answer_id":60817453,"question_id":60550049,"body_markdown":"I finally found an easily viable workaround. I let Spring execute a scheduled task which executes the count method of the relevant ElasticsearchRepositories. By that means, the connection is kept alive so that no Exceptions can occur due to the system being idle for too long.\r\n\r\nThe code looks as follows:\r\n```\r\n@Component\r\n@Slf4j\r\npublic class ElasticsearchConnectionTester {\r\n\r\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\r\n\r\n    @Autowired\r\n    public ElasticsearchConnectionTester(SportsFacilityViewRepository sportsFacilityViewRepository) {\r\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\r\n    }\r\n\r\n    @Scheduled(fixedRate = 1800000, initialDelay = 1800000)\r\n    public void keepConnectionAlive() {\r\n        log.debug(&quot;Trying to ping Elasticsearch&quot;);\r\n        try {\r\n            final long noOfSportsFacilities = sportsFacilityViewRepository.count();\r\n            log.debug(&quot;Ping succeeded for SportsFacilityViewRepository, it contains {} entities&quot;, noOfSportsFacilities);\r\n        } catch (Exception e) {\r\n            log.debug(&quot;Ping failed for SportsFacilityViewRepository&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe logging is optional, but it provides the necessary insight whether the chosen rate for the scheduled job is sufficient.","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<p>I finally found an easily viable workaround. I let Spring execute a scheduled task which executes the count method of the relevant ElasticsearchRepositories. By that means, the connection is kept alive so that no Exceptions can occur due to the system being idle for too long.</p>\n\n<p>The code looks as follows:</p>\n\n<pre><code>@Component\n@Slf4j\npublic class ElasticsearchConnectionTester {\n\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\n\n    @Autowired\n    public ElasticsearchConnectionTester(SportsFacilityViewRepository sportsFacilityViewRepository) {\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\n    }\n\n    @Scheduled(fixedRate = 1800000, initialDelay = 1800000)\n    public void keepConnectionAlive() {\n        log.debug(\"Trying to ping Elasticsearch\");\n        try {\n            final long noOfSportsFacilities = sportsFacilityViewRepository.count();\n            log.debug(\"Ping succeeded for SportsFacilityViewRepository, it contains {} entities\", noOfSportsFacilities);\n        } catch (Exception e) {\n            log.debug(\"Ping failed for SportsFacilityViewRepository\");\n        }\n    }\n}\n</code></pre>\n\n<p>The logging is optional, but it provides the necessary insight whether the chosen rate for the scheduled job is sufficient.</p>\n"},{"tags":[],"owner":{"account_id":13764396,"reputation":21,"user_id":9933300,"display_name":"WENPIN1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667473544,"creation_date":1666972904,"answer_id":74237977,"question_id":60550049,"body_markdown":"Here&#39;s some configuration:\r\n\r\n```java\r\n @Configuration\r\n public class ElasticSearchConfig extendsAbstractElasticsearchConfiguration {\r\n    @Value(&quot;${spring.elasticsearch.rest.uris}&quot;)\r\n    private String uris;\r\n\r\n    @Value(&quot;${spring.elasticsearch.rest.username:#{\\&quot;\\&quot;}}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${spring.elasticsearch.rest.password:#{\\&quot;\\&quot;}}&quot;)\r\n    private String password;\r\n\r\n    @Override\r\n    public RestHighLevelClient elasticsearchClient() {\r\n\r\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(uris)\r\n                .withBasicAuth(username, password)\r\n                .withHttpClientConfigurer(clientBuilder -&gt; {\r\n                    clientBuilder.setKeepAliveStrategy((httpResponse, httpContext) -&gt; 1000 * 60);\r\n                    return clientBuilder;\r\n                })\r\n                .build();\r\n        return RestClients.create(clientConfiguration).rest();\r\n\r\n    }\r\n\r\n}\r\n```","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<p>Here's some configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Configuration\n public class ElasticSearchConfig extendsAbstractElasticsearchConfiguration {\n    @Value(&quot;${spring.elasticsearch.rest.uris}&quot;)\n    private String uris;\n\n    @Value(&quot;${spring.elasticsearch.rest.username:#{\\&quot;\\&quot;}}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.elasticsearch.rest.password:#{\\&quot;\\&quot;}}&quot;)\n    private String password;\n\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(uris)\n                .withBasicAuth(username, password)\n                .withHttpClientConfigurer(clientBuilder -&gt; {\n                    clientBuilder.setKeepAliveStrategy((httpResponse, httpContext) -&gt; 1000 * 60);\n                    return clientBuilder;\n                })\n                .build();\n        return RestClients.create(clientConfiguration).rest();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14370752,"reputation":1,"user_id":10380585,"display_name":"StanZhao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676280664,"creation_date":1676280664,"answer_id":75434080,"question_id":60550049,"body_markdown":"Maybe you can config the client like this:\r\n\r\n```\r\n    @Override\r\n    @Bean\r\n    public RestHighLevelClient elasticsearchClient() {\r\n\r\n        // Connect to elastic search in https://app.bonsai.io/\r\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(hostAndPort)\r\n                .withBasicAuth(userName, pwd)\r\n                // config the connect\r\n                .withConnectTimeout(5000)\r\n                .withSocketTimeout(60000)\r\n                .build();\r\n\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n```","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<p>Maybe you can config the client like this:</p>\n<pre><code>    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n\n        // Connect to elastic search in https://app.bonsai.io/\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(hostAndPort)\n                .withBasicAuth(userName, pwd)\n                // config the connect\n                .withConnectTimeout(5000)\n                .withSocketTimeout(60000)\n                .build();\n\n        return RestClients.create(clientConfiguration).rest();\n    }\n</code></pre>\n"}],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5849,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676280664,"creation_date":1583425939,"question_id":60550049,"body_markdown":"Summary\r\n----------\r\nWhen my Spring Boot app has been idle for a while, calling the `search` method of an `ElasticsearchRepository` (which uses the `RestHighLevelClient` for the underlying ES connection) results in a `java.io.IOException: Connection reset by peer` being thrown.    \r\n  \r\n----------------------\r\n\r\nDetailed problem\r\n--------------------\r\nI have a Spring Boot app (version `2.2.4.RELEASE`) and an ElasticSearch (version `6.8.6`). For communication with the ES instance I use Spring Data Elasticsearch (version `3.2.5.RELEASE`), to be specific I use an `ElasticsearchRepository`. \r\n\r\n\r\n\r\n\r\nMy ES configuration class looks as follows: \r\n\r\n```\r\n@Configuration\r\n@EnableElasticsearchRepositories\r\npublic class ElasticsearchConfiguration {\r\n\r\n    private final RestHighLevelClient restHighLevelClient;\r\n\r\n    @Autowired\r\n    public ElasticsearchConfiguration(RestHighLevelClient restHighLevelClient) {\r\n        this.restHighLevelClient = restHighLevelClient;\r\n    }\r\n\r\n    @Bean\r\n    public ElasticsearchRestTemplate elasticsearchTemplate() {\r\n        return new ElasticsearchRestTemplate(restHighLevelClient);\r\n    }\r\n\r\n}\r\n```  \r\n\r\nI have got an REST endpoint which triggers a lookup in the ES by calling the below method:\r\n```\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class SportsFacilityViewFilterService {\r\n\r\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\r\n\r\n    @Autowired\r\n    public SportsFacilityViewFilterService(SportsFacilityViewRepository sportsFacilityViewRepository) {\r\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\r\n    }\r\n\r\n    /**\r\n     * Retrieves all {@link SportsFacilityView}s stored in the search index that match the given filter parameters.\r\n     *\r\n     * @param activity filter parameter.\r\n     * @param city     filter parameter.\r\n     * @param date     filter parameter.\r\n     * @param capacity filter parameter.\r\n     * @return {@code List&lt;SportsFacilityView&gt;} the filtered sports facilities in a display optimized format.\r\n     */\r\n    @Retryable(include = IOException.class, maxAttempts = 1, backoff = @Backoff(delay = 15))\r\n    @Transactional(readOnly = true)\r\n    public List&lt;SportsFacilityView&gt; filterSportsFacilities(final String activity, final Integer capacity,\r\n                                                           final String city, final LocalDate date) {\r\n        // Use filter query to retrieve sports facility views\r\n        final NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n            .withFilter(buildFilterQuery(activity, capacity, city))\r\n            .withPageable(PageRequest.of(0, 50))\r\n            .withSort(new FieldSortBuilder(&quot;vendorName&quot;).order(SortOrder.ASC))\r\n            .build();\r\n        final List&lt;SportsFacilityView&gt; sportsFacilities = Lists.newArrayList(sportsFacilityViewRepository.search(searchQuery));\r\n\r\n        // Post-process filter results\r\n        removeClosedSportsFacilities(sportsFacilities, date);\r\n        updateMinimumPrice(sportsFacilities, date);\r\n\r\n        // Return\r\n        return sportsFacilities;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI defined the `SportsFacilityViewRepository` as follows:\r\n```\r\n@Repository\r\npublic interface SportsFacilityViewRepository extends ElasticsearchRepository&lt;SportsFacilityView, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nThis code works perfectly fine, but when the system has been idle for a while, the following exception is thrown when invoking the above illustrated method:\r\n\r\n```\r\norg.springframework.data.elasticsearch.ElasticsearchException: Error for search request with scroll: SearchRequest{searchType=DFS_QUERY_THEN_FETCH, indices=[sportsfacility], indicesOptions=IndicesOptions[ignore_unavailable=false, allow_no_indices=true, expand_wildcards_open=true, expand_wildcards_closed=false, allow_aliases_to_multiple_indices=true, forbid_closed_indices=true, ignore_aliases=false, ignore_throttled=true], types=[sportsfacilityview], routing=&#39;null&#39;, preference=&#39;null&#39;, requestCache=null, scroll=null, maxConcurrentShardRequests=0, batchedReduceSize=512, preFilterShardSize=128, allowPartialSearchResults=null, localClusterAlias=null, getOrCreateAbsoluteStartMillis=-1, source={&quot;from&quot;:0,&quot;size&quot;:50,&quot;post_filter&quot;:{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;term&quot;:{&quot;address.city&quot;:{&quot;value&quot;:&quot;K&#246;ln&quot;,&quot;boost&quot;:1.0}}}],&quot;adjust_pure_negative&quot;:true,&quot;boost&quot;:1.0}},&quot;version&quot;:true,&quot;sort&quot;:[{&quot;vendorName&quot;:{&quot;order&quot;:&quot;asc&quot;}}]}}\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1153) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:381) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:376) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:147) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.search(AbstractElasticsearchRepository.java:259) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at sun.reflect.GeneratedMethodAccessor260.invoke(Unknown Source) ~[na:na]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\r\n        at sun.reflect.GeneratedMethodAccessor259.invoke(Unknown Source) ~[na:na]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\r\n        at com.myapp.service.SportsFacilityViewFilterService.filterSportsFacilities(SportsFacilityViewFilterService.java:74) ~[app/:na]\r\n        at com.myapp.service.SportsFacilityViewFilterService$$FastClassBySpringCGLIB$$d9ad847c.invoke(&lt;generated&gt;) ~[app/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$$Lambda$1117.00000000674D8570.proceedWithInvocation(Unknown Source) ~[na:na]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.myapp.service.SportsFacilityViewFilterService$$EnhancerBySpringCGLIB$$492633ab.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\r\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController.filterSportsFacilities(SportsFacilityFilterController.java:42) ~[app/:na]\r\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$FastClassBySpringCGLIB$$13529b2a.invoke(&lt;generated&gt;) ~[app/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$EnhancerBySpringCGLIB$$221bc350.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\r\n        at sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source) ~[na:na]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_222]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_222]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at java.lang.Thread.run(Thread.java:819) [na:1.8.0_222]\r\nCaused by: java.io.IOException: Connection reset by peer\r\n        at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:964) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:233) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1764) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1734) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1696) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1092) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1151) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        ... 108 common frames omitted\r\nCaused by: java.io.IOException: Connection reset by peer\r\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[na:1.8.0_222]\r\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[na:1.8.0_222]\r\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[na:1.8.0_222]\r\n        at sun.nio.ch.IOUtil.read(IOUtil.java:197) ~[na:1.8.0_222]\r\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380) ~[na:1.8.0_222]\r\n        at org.apache.http.impl.nio.reactor.SessionInputBufferImpl.fill(SessionInputBufferImpl.java:231) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.codecs.AbstractMessageParser.fillBuffer(AbstractMessageParser.java:136) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:241) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) ~[httpasyncclient-4.1.4.jar:4.1.4]\r\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) ~[httpasyncclient-4.1.4.jar:4.1.4]\r\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        ... 1 common frames omitted\r\n```\r\n\r\nI tried forcing a retry by annotating the method with `@Retryable`, but unfortunately this appears to be ignored, despite being picked up in other places of the program.\r\n\r\nCan somebody please explain why I get this exception and how I can prevent it from occurring?\r\n\r\nUpdate\r\n--------------\r\n\r\nRemoving the `@Repository` annotation from `SportsFacilityViewRepository` made it possible to `try/catch` the code, respectively automatically retry by means of the `@Retryable` annotation. Obviously, the [Spring Exception Translation mechanism][1] applied due to the `@Repository` annotation being present prevented a `try/catch` block and Spring Retry to catch the exception that was shown on the console.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#orm-exception-translation","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<h2>Summary</h2>\n\n<p>When my Spring Boot app has been idle for a while, calling the <code>search</code> method of an <code>ElasticsearchRepository</code> (which uses the <code>RestHighLevelClient</code> for the underlying ES connection) results in a <code>java.io.IOException: Connection reset by peer</code> being thrown.    </p>\n\n<hr>\n\n<h2>Detailed problem</h2>\n\n<p>I have a Spring Boot app (version <code>2.2.4.RELEASE</code>) and an ElasticSearch (version <code>6.8.6</code>). For communication with the ES instance I use Spring Data Elasticsearch (version <code>3.2.5.RELEASE</code>), to be specific I use an <code>ElasticsearchRepository</code>. </p>\n\n<p>My ES configuration class looks as follows: </p>\n\n<pre><code>@Configuration\n@EnableElasticsearchRepositories\npublic class ElasticsearchConfiguration {\n\n    private final RestHighLevelClient restHighLevelClient;\n\n    @Autowired\n    public ElasticsearchConfiguration(RestHighLevelClient restHighLevelClient) {\n        this.restHighLevelClient = restHighLevelClient;\n    }\n\n    @Bean\n    public ElasticsearchRestTemplate elasticsearchTemplate() {\n        return new ElasticsearchRestTemplate(restHighLevelClient);\n    }\n\n}\n</code></pre>\n\n<p>I have got an REST endpoint which triggers a lookup in the ES by calling the below method:</p>\n\n<pre><code>@Service\n@Transactional(readOnly = true)\npublic class SportsFacilityViewFilterService {\n\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\n\n    @Autowired\n    public SportsFacilityViewFilterService(SportsFacilityViewRepository sportsFacilityViewRepository) {\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\n    }\n\n    /**\n     * Retrieves all {@link SportsFacilityView}s stored in the search index that match the given filter parameters.\n     *\n     * @param activity filter parameter.\n     * @param city     filter parameter.\n     * @param date     filter parameter.\n     * @param capacity filter parameter.\n     * @return {@code List&lt;SportsFacilityView&gt;} the filtered sports facilities in a display optimized format.\n     */\n    @Retryable(include = IOException.class, maxAttempts = 1, backoff = @Backoff(delay = 15))\n    @Transactional(readOnly = true)\n    public List&lt;SportsFacilityView&gt; filterSportsFacilities(final String activity, final Integer capacity,\n                                                           final String city, final LocalDate date) {\n        // Use filter query to retrieve sports facility views\n        final NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withFilter(buildFilterQuery(activity, capacity, city))\n            .withPageable(PageRequest.of(0, 50))\n            .withSort(new FieldSortBuilder(\"vendorName\").order(SortOrder.ASC))\n            .build();\n        final List&lt;SportsFacilityView&gt; sportsFacilities = Lists.newArrayList(sportsFacilityViewRepository.search(searchQuery));\n\n        // Post-process filter results\n        removeClosedSportsFacilities(sportsFacilities, date);\n        updateMinimumPrice(sportsFacilities, date);\n\n        // Return\n        return sportsFacilities;\n    }\n\n}\n</code></pre>\n\n<p>I defined the <code>SportsFacilityViewRepository</code> as follows:</p>\n\n<pre><code>@Repository\npublic interface SportsFacilityViewRepository extends ElasticsearchRepository&lt;SportsFacilityView, Long&gt; {\n\n}\n</code></pre>\n\n<p>This code works perfectly fine, but when the system has been idle for a while, the following exception is thrown when invoking the above illustrated method:</p>\n\n<pre><code>org.springframework.data.elasticsearch.ElasticsearchException: Error for search request with scroll: SearchRequest{searchType=DFS_QUERY_THEN_FETCH, indices=[sportsfacility], indicesOptions=IndicesOptions[ignore_unavailable=false, allow_no_indices=true, expand_wildcards_open=true, expand_wildcards_closed=false, allow_aliases_to_multiple_indices=true, forbid_closed_indices=true, ignore_aliases=false, ignore_throttled=true], types=[sportsfacilityview], routing='null', preference='null', requestCache=null, scroll=null, maxConcurrentShardRequests=0, batchedReduceSize=512, preFilterShardSize=128, allowPartialSearchResults=null, localClusterAlias=null, getOrCreateAbsoluteStartMillis=-1, source={\"from\":0,\"size\":50,\"post_filter\":{\"bool\":{\"filter\":[{\"term\":{\"address.city\":{\"value\":\"Köln\",\"boost\":1.0}}}],\"adjust_pure_negative\":true,\"boost\":1.0}},\"version\":true,\"sort\":[{\"vendorName\":{\"order\":\"asc\"}}]}}\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1153) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:381) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:376) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:147) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.search(AbstractElasticsearchRepository.java:259) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at sun.reflect.GeneratedMethodAccessor260.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\n        at sun.reflect.GeneratedMethodAccessor259.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\n        at com.myapp.service.SportsFacilityViewFilterService.filterSportsFacilities(SportsFacilityViewFilterService.java:74) ~[app/:na]\n        at com.myapp.service.SportsFacilityViewFilterService$$FastClassBySpringCGLIB$$d9ad847c.invoke(&lt;generated&gt;) ~[app/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$$Lambda$1117.00000000674D8570.proceedWithInvocation(Unknown Source) ~[na:na]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.myapp.service.SportsFacilityViewFilterService$$EnhancerBySpringCGLIB$$492633ab.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController.filterSportsFacilities(SportsFacilityFilterController.java:42) ~[app/:na]\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$FastClassBySpringCGLIB$$13529b2a.invoke(&lt;generated&gt;) ~[app/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$EnhancerBySpringCGLIB$$221bc350.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\n        at sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_222]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_222]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at java.lang.Thread.run(Thread.java:819) [na:1.8.0_222]\nCaused by: java.io.IOException: Connection reset by peer\n        at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:964) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:233) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1764) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1734) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1696) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1092) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1151) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        ... 108 common frames omitted\nCaused by: java.io.IOException: Connection reset by peer\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[na:1.8.0_222]\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[na:1.8.0_222]\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[na:1.8.0_222]\n        at sun.nio.ch.IOUtil.read(IOUtil.java:197) ~[na:1.8.0_222]\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380) ~[na:1.8.0_222]\n        at org.apache.http.impl.nio.reactor.SessionInputBufferImpl.fill(SessionInputBufferImpl.java:231) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.codecs.AbstractMessageParser.fillBuffer(AbstractMessageParser.java:136) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:241) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) ~[httpasyncclient-4.1.4.jar:4.1.4]\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) ~[httpasyncclient-4.1.4.jar:4.1.4]\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        ... 1 common frames omitted\n</code></pre>\n\n<p>I tried forcing a retry by annotating the method with <code>@Retryable</code>, but unfortunately this appears to be ignored, despite being picked up in other places of the program.</p>\n\n<p>Can somebody please explain why I get this exception and how I can prevent it from occurring?</p>\n\n<h2>Update</h2>\n\n<p>Removing the <code>@Repository</code> annotation from <code>SportsFacilityViewRepository</code> made it possible to <code>try/catch</code> the code, respectively automatically retry by means of the <code>@Retryable</code> annotation. Obviously, the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#orm-exception-translation\" rel=\"nofollow noreferrer\">Spring Exception Translation mechanism</a> applied due to the <code>@Repository</code> annotation being present prevented a <code>try/catch</code> block and Spring Retry to catch the exception that was shown on the console.</p>\n"},{"tags":["java","record","mapstruct","mapper"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1676281306,"post_id":75426357,"comment_id":133098654,"body_markdown":"What version of mapstruct are you using?","body":"What version of mapstruct are you using?"}],"answers":[{"tags":[],"owner":{"account_id":7323201,"reputation":1,"user_id":5578509,"display_name":"Mahdi GH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676280490,"creation_date":1676279783,"answer_id":75433935,"question_id":75426357,"body_markdown":"**The issue:**\r\n\r\nI have the same issue, based on its [Github][1] source code, Mapstruct uses setters and getters for collections to find property name and remove 3 first characters to find property name.\r\n\r\n**Solutions:**\r\n\r\n 1. Write a custom mapper in an abstract class mapper\r\n 2. Put a getter method for your collection in java record\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct","title":"name of List field gets truncated when mapping to record","body":"<p><strong>The issue:</strong></p>\n<p>I have the same issue, based on its <a href=\"https://github.com/mapstruct/mapstruct\" rel=\"nofollow noreferrer\">Github</a> source code, Mapstruct uses setters and getters for collections to find property name and remove 3 first characters to find property name.</p>\n<p><strong>Solutions:</strong></p>\n<ol>\n<li>Write a custom mapper in an abstract class mapper</li>\n<li>Put a getter method for your collection in java record</li>\n</ol>\n"}],"owner":{"account_id":8476172,"reputation":524,"user_id":6357366,"display_name":"Omid Rostami"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676280490,"creation_date":1676198077,"question_id":75426357,"body_markdown":"I have an issue where field names get truncated when:\r\nthe field has an generic type (I tried List&lt;&gt;, Set&lt;&gt; and I am suspecting that custom types should fail as well) the target is a java record\r\n\r\nTo reproduce create ClassA and ClassB like this:\r\n\r\n```\r\npublic class ClassA {\r\n\r\n\tprivate String someString;\r\n\tprivate List&lt;String&gt; stringList;\r\n\r\n\tpublic String getSomeString() { return someString; }\r\n\tpublic void setSomeString(String someString) { this.someString = someString; }\r\n\tpublic List&lt;String&gt; getStringList() { return stringList; }\r\n\tpublic void setStringList(List&lt;String&gt; stringList) { this.stringList = stringList; }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic record ClassB(\r\n\tString someString,\r\n\tList&lt;String&gt; stringList\r\n) {};\r\n```\r\n\r\nThen create the following mapper:\r\n\r\n```\r\n@Mapper\r\npublic interface ABMapper {\r\n  ClassA bToA(ClassB classB);\r\n  ClassB aToB(ClassA classA);\r\n}\r\n\r\n```\r\nYou&#39;ll get a compiler error (pointing to the aToB function) that says: Unmapped target property: &quot;ingList&quot;.\r\nObviously the first 3 letters of &quot;stringList&quot; have been dropped when mapping into a record.\r\n\r\nI expect the correct result.","title":"name of List field gets truncated when mapping to record","body":"<p>I have an issue where field names get truncated when:\nthe field has an generic type (I tried List&lt;&gt;, Set&lt;&gt; and I am suspecting that custom types should fail as well) the target is a java record</p>\n<p>To reproduce create ClassA and ClassB like this:</p>\n<pre><code>public class ClassA {\n\n    private String someString;\n    private List&lt;String&gt; stringList;\n\n    public String getSomeString() { return someString; }\n    public void setSomeString(String someString) { this.someString = someString; }\n    public List&lt;String&gt; getStringList() { return stringList; }\n    public void setStringList(List&lt;String&gt; stringList) { this.stringList = stringList; }\n\n}\n</code></pre>\n<pre><code>public record ClassB(\n    String someString,\n    List&lt;String&gt; stringList\n) {};\n</code></pre>\n<p>Then create the following mapper:</p>\n<pre><code>@Mapper\npublic interface ABMapper {\n  ClassA bToA(ClassB classB);\n  ClassB aToB(ClassA classA);\n}\n\n</code></pre>\n<p>You'll get a compiler error (pointing to the aToB function) that says: Unmapped target property: &quot;ingList&quot;.\nObviously the first 3 letters of &quot;stringList&quot; have been dropped when mapping into a record.</p>\n<p>I expect the correct result.</p>\n"},{"tags":["java","proguard"],"owner":{"account_id":14598934,"reputation":11,"user_id":10543751,"display_name":"dongge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676280429,"creation_date":1676280429,"question_id":75434036,"body_markdown":"I want to use proguard to obfuscate one module in a multi-module project and it doesn&#39;t run after obfuscation\r\n**The pom of the module needs to be obfuscated pom.xml :**\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\r\n                &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${proguard.maven.plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;proguard&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;proguardVersion&gt;${proguard.version}&lt;/proguardVersion&gt;\r\n                    &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\r\n                    &lt;outjar&gt;${project.build.finalName}-hx.jar&lt;/outjar&gt;\r\n                    &lt;obfuscate&gt;true&lt;/obfuscate&gt;\r\n                    &lt;options&gt;\r\n                        &lt;option&gt;-dontshrink&lt;/option&gt;\r\n                        &lt;option&gt;-dontoptimize&lt;/option&gt;\r\n                        &lt;option&gt;-useuniqueclassmembernames&lt;/option&gt;\r\n\r\n                        &lt;option&gt;-adaptclassstrings&lt;/option&gt;\r\n                        &lt;option&gt;-dontusemixedcaseclassnames&lt;/option&gt;\r\n                        &lt;option&gt;-keepattributes\r\n                            Exceptions,\r\n                            InnerClasses,\r\n                            Signature,\r\n                            Deprecated,\r\n                            SourceFile,\r\n                            LineNumberTable,\r\n                            *Annotation*,\r\n                            EnclosingMethod\r\n                        &lt;/option&gt;\r\n                        &lt;option&gt;-keepnames interface **&lt;/option&gt;\r\n                        &lt;option&gt;-keepparameternames&lt;/option&gt;\r\n                        &lt;option&gt;-keep\r\n                            class com.ctcc.core.SSCSApplication {\r\n                            public static void main(java.lang.String[]);\r\n                            }\r\n                        &lt;/option&gt;\r\n                        &lt;option&gt;-ignorewarnings&lt;/option&gt;\r\n                        &lt;option&gt;-keep interface * extends * { *; }&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.config.xxxxx&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.config.yyyyy&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.config.zzzzz&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.config.ccccc&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.config.ddddd&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.filter.LoggingBodyFilter&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.xxx.core.mapper.** { *; }&lt;/option&gt;\r\n                        &lt;option&gt;-keep class com.fasterxml.jackson.** { *; }&lt;/option&gt;\r\n                        &lt;option&gt;-keep class org.json.JSONObject.** {** put(java.lang.String,java.util.Map);}&lt;/option&gt;\r\n                        &lt;option&gt;-keep class org.gitlab4j.**&lt;/option&gt;\r\n                        &lt;option&gt;-keepclassmembers class * {\r\n                            @org.springframework.context.annotation.Bean *;\r\n                            @org.springframework.beans.factory.annotation.Autowired *;\r\n                            @org.springframework.beans.factory.annotation.Value *;\r\n                            }\r\n                        &lt;/option&gt;\r\n                        &lt;option&gt;-dontwarn com.fasterxml.jackson.databind.**&lt;/option&gt;\r\n                        &lt;option&gt;-dontwarn com.fasterxml.jackson.**&lt;/option&gt;\r\n                    &lt;/options&gt;\r\n                    &lt;injarNotExistsSkip&gt;true&lt;/injarNotExistsSkip&gt;\r\n                    &lt;libs&gt;\r\n                        &lt;lib&gt;${java.home}/jmods/java.base.jmod&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}/jmods/java.datatransfer.jmod&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}/jmods/java.prefs.jmod&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}/jmods/java.xml.jmod&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}/jmods/java.desktop.jmod&lt;/lib&gt;\r\n                        &lt;lib&gt;${java.home}/jmods/&lt;/lib&gt;\r\n                    &lt;/libs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\r\n                        &lt;version&gt;${proguard.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.xxx.core.SSCSApplication&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n           \r\n        &lt;/plugins&gt;\r\n\r\n       \r\n    &lt;/build&gt;\r\n\r\n**After the package：**\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInternal structure in the obfuscated jar：\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**java -jar core-0.0.1-SNAPSHOT-hx.jar：**\r\nThere is no main manifest attribute in core-0.0.1-SNAPSHOT-hx.jar\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X8M4c.png\r\n  [2]: https://i.stack.imgur.com/GXdSn.png\r\n  [3]: https://i.stack.imgur.com/prSyV.png","title":"Use proguard to obfuscate one module in a multi-module project","body":"<p>I want to use proguard to obfuscate one module in a multi-module project and it doesn't run after obfuscation\n<strong>The pom of the module needs to be obfuscated pom.xml :</strong></p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.github.wvengen&lt;/groupId&gt;\n            &lt;artifactId&gt;proguard-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${proguard.maven.plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;proguard&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;proguardVersion&gt;${proguard.version}&lt;/proguardVersion&gt;\n                &lt;injar&gt;${project.build.finalName}.jar&lt;/injar&gt;\n                &lt;outjar&gt;${project.build.finalName}-hx.jar&lt;/outjar&gt;\n                &lt;obfuscate&gt;true&lt;/obfuscate&gt;\n                &lt;options&gt;\n                    &lt;option&gt;-dontshrink&lt;/option&gt;\n                    &lt;option&gt;-dontoptimize&lt;/option&gt;\n                    &lt;option&gt;-useuniqueclassmembernames&lt;/option&gt;\n\n                    &lt;option&gt;-adaptclassstrings&lt;/option&gt;\n                    &lt;option&gt;-dontusemixedcaseclassnames&lt;/option&gt;\n                    &lt;option&gt;-keepattributes\n                        Exceptions,\n                        InnerClasses,\n                        Signature,\n                        Deprecated,\n                        SourceFile,\n                        LineNumberTable,\n                        *Annotation*,\n                        EnclosingMethod\n                    &lt;/option&gt;\n                    &lt;option&gt;-keepnames interface **&lt;/option&gt;\n                    &lt;option&gt;-keepparameternames&lt;/option&gt;\n                    &lt;option&gt;-keep\n                        class com.ctcc.core.SSCSApplication {\n                        public static void main(java.lang.String[]);\n                        }\n                    &lt;/option&gt;\n                    &lt;option&gt;-ignorewarnings&lt;/option&gt;\n                    &lt;option&gt;-keep interface * extends * { *; }&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.config.xxxxx&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.config.yyyyy&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.config.zzzzz&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.config.ccccc&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.config.ddddd&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.filter.LoggingBodyFilter&lt;/option&gt;\n                    &lt;option&gt;-keep class com.xxx.core.mapper.** { *; }&lt;/option&gt;\n                    &lt;option&gt;-keep class com.fasterxml.jackson.** { *; }&lt;/option&gt;\n                    &lt;option&gt;-keep class org.json.JSONObject.** {** put(java.lang.String,java.util.Map);}&lt;/option&gt;\n                    &lt;option&gt;-keep class org.gitlab4j.**&lt;/option&gt;\n                    &lt;option&gt;-keepclassmembers class * {\n                        @org.springframework.context.annotation.Bean *;\n                        @org.springframework.beans.factory.annotation.Autowired *;\n                        @org.springframework.beans.factory.annotation.Value *;\n                        }\n                    &lt;/option&gt;\n                    &lt;option&gt;-dontwarn com.fasterxml.jackson.databind.**&lt;/option&gt;\n                    &lt;option&gt;-dontwarn com.fasterxml.jackson.**&lt;/option&gt;\n                &lt;/options&gt;\n                &lt;injarNotExistsSkip&gt;true&lt;/injarNotExistsSkip&gt;\n                &lt;libs&gt;\n                    &lt;lib&gt;${java.home}/jmods/java.base.jmod&lt;/lib&gt;\n                    &lt;lib&gt;${java.home}/jmods/java.datatransfer.jmod&lt;/lib&gt;\n                    &lt;lib&gt;${java.home}/jmods/java.prefs.jmod&lt;/lib&gt;\n                    &lt;lib&gt;${java.home}/jmods/java.xml.jmod&lt;/lib&gt;\n                    &lt;lib&gt;${java.home}/jmods/java.desktop.jmod&lt;/lib&gt;\n                    &lt;lib&gt;${java.home}/jmods/&lt;/lib&gt;\n                &lt;/libs&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.guardsquare&lt;/groupId&gt;\n                    &lt;artifactId&gt;proguard-base&lt;/artifactId&gt;\n                    &lt;version&gt;${proguard.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n            &lt;/configuration&gt;\n\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.xxx.core.SSCSApplication&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n       \n    &lt;/plugins&gt;\n\n   \n&lt;/build&gt;\n</code></pre>\n<p><strong>After the package：</strong>\n<a href=\"https://i.stack.imgur.com/X8M4c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8M4c.png\" alt=\"enter image description here\" /></a></p>\n<p>Internal structure in the obfuscated jar：\n<a href=\"https://i.stack.imgur.com/prSyV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prSyV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>java -jar core-0.0.1-SNAPSHOT-hx.jar：</strong>\nThere is no main manifest attribute in core-0.0.1-SNAPSHOT-hx.jar</p>\n"},{"tags":["java","android","gradle","classnotfoundexception"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1473010008,"post_id":39319495,"comment_id":65971235,"body_markdown":"Did you try uninstalling the app from the device and clean, rebuild, then reinstall?","body":"Did you try uninstalling the app from the device and clean, rebuild, then reinstall?"},{"owner":{"account_id":8920333,"reputation":361,"user_id":6657161,"display_name":"user6657161"},"score":0,"creation_date":1473010209,"post_id":39319495,"comment_id":65971304,"body_markdown":"Copy your code from all xmls and java files, create a new project and paste your code into it. It should work.","body":"Copy your code from all xmls and java files, create a new project and paste your code into it. It should work."}],"answers":[{"tags":[],"owner":{"account_id":5871175,"reputation":540,"user_id":4623462,"display_name":"Alvin Zachariah"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1473082068,"creation_date":1473082068,"answer_id":39331674,"question_id":39319495,"body_markdown":"Had the same problem . I had a built version of the app installed in my adb device . The app began to run without any problem after uninstalling the built version  ","title":"ClassNotFoundException: unable to run app","body":"<p>Had the same problem . I had a built version of the app installed in my adb device . The app began to run without any problem after uninstalling the built version  </p>\n"}],"owner":{"account_id":9044599,"reputation":2242,"user_id":6737471,"accept_rate":77,"display_name":"pz64_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2858,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":39331674,"answer_count":1,"score":5,"last_activity_date":1676280134,"creation_date":1473009188,"question_id":39319495,"body_markdown":"Unable to run app. The app successfully compiles, but crashes with this exception\r\n\r\n                            \r\n\r\n    FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 15209\r\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.example.myapplication.MainActivity&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.myapplication-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2426)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2601)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:178)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1470)\r\n        at android.os.Handler.dispatchMessage(Handler.java:111)\r\n        at android.os.Looper.loop(Looper.java:194)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5637)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n        Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.example.myapplication.MainActivity&quot; on path: DexPathList[[zip file &quot;/data com.example.myapplication-2/base.apk&quot;],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1071)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2601)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:178)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1470)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:111)&#160;\r\n        at android.os.Looper.loop(Looper.java:194)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5637)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)&#160;\r\n        Suppressed: java.lang.ClassNotFoundException: com.example.myapplication.MainActivity\r\n        at java.lang.Class.classForName(Native Method)\r\n        at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\r\n        at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\r\n        ... 13 more\r\n        Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\r\n\r\n\r\nThis was my first experience. I&#39;ve done several projects without any errors.\r\nI also tried rebuild and clean.\r\nI tried these posts, but to no use:\r\n\r\nhttps://stackoverflow.com/questions/28644256/class-not-found-error-but-class-definitely-exists\r\n\r\nhttps://stackoverflow.com/questions/6147241/android-app-classnotfoundexception-for-main-activity\r\n\r\n\r\n","title":"ClassNotFoundException: unable to run app","body":"<p>Unable to run app. The app successfully compiles, but crashes with this exception</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.myapplication, PID: 15209\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.myapplication/com.example.myapplication.MainActivity}: java.lang.ClassNotFoundException: Didn't find class \"com.example.myapplication.MainActivity\" on path: DexPathList[[zip file \"/data/app/com.example.myapplication-2/base.apk\"],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2426)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2601)\n    at android.app.ActivityThread.access$800(ActivityThread.java:178)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1470)\n    at android.os.Handler.dispatchMessage(Handler.java:111)\n    at android.os.Looper.loop(Looper.java:194)\n    at android.app.ActivityThread.main(ActivityThread.java:5637)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n    Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.example.myapplication.MainActivity\" on path: DexPathList[[zip file \"/data com.example.myapplication-2/base.apk\"],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\n    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1071)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2601) \n    at android.app.ActivityThread.access$800(ActivityThread.java:178) \n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1470) \n    at android.os.Handler.dispatchMessage(Handler.java:111) \n    at android.os.Looper.loop(Looper.java:194) \n    at android.app.ActivityThread.main(ActivityThread.java:5637) \n    at java.lang.reflect.Method.invoke(Native Method) \n    at java.lang.reflect.Method.invoke(Method.java:372) \n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:960) \n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755) \n    Suppressed: java.lang.ClassNotFoundException: com.example.myapplication.MainActivity\n    at java.lang.Class.classForName(Native Method)\n    at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n    at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n    ... 13 more\n    Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\n</code></pre>\n\n<p>This was my first experience. I've done several projects without any errors.\nI also tried rebuild and clean.\nI tried these posts, but to no use:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28644256/class-not-found-error-but-class-definitely-exists\">Class not found error, but class definitely exists</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6147241/android-app-classnotfoundexception-for-main-activity\">Android app ClassNotFoundException for main activity</a></p>\n"},{"tags":["java","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1676273221,"post_id":75432030,"comment_id":133096709,"body_markdown":"This seems to be a problem of WPS Office. Microsoft Excel will not throw that warning. You fix it by clicking [x] Do not report again.","body":"This seems to be a problem of WPS Office. Microsoft Excel will not throw that warning. You fix it by clicking [x] Do not report again."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676279869,"creation_date":1676278201,"answer_id":75433673,"question_id":75432030,"body_markdown":"This warning message is from WPS Office only. Microsoft Excel will not throw that warning. \r\n\r\nThe reason is missing fonts which WPS Office needs to show some equations inserted via Equation Editor. See [Write an equation or formula](https://support.microsoft.com/en-us/office/write-an-equation-or-formula-1d01cabc-ceb1-458d-bc70-7f9737722702) or [How to insert equations in WPS Spreadsheet](https://www.wps.com/academy/how-to-insert-equations-in-wps-spreadsheet/1863989/).\r\n\r\nOnly those equations are meant by the message. It has nothing to do with spreadsheet cell formulas like `=SUM(A1:A100)` or similar.\r\n\r\nYou fix it by clicking [x] Do not report again. \r\n\r\nOr you might install the missed fonts. See https://askubuntu.com/questions/861588/wps-office-equation-editor.","title":"How to fix &quot;Some formula symbols might not be displayed correctly due to missing fonts Symbol, Windings...&quot; for an XLSX generated with Apache POI","body":"<p>This warning message is from WPS Office only. Microsoft Excel will not throw that warning.</p>\n<p>The reason is missing fonts which WPS Office needs to show some equations inserted via Equation Editor. See <a href=\"https://support.microsoft.com/en-us/office/write-an-equation-or-formula-1d01cabc-ceb1-458d-bc70-7f9737722702\" rel=\"nofollow noreferrer\">Write an equation or formula</a> or <a href=\"https://www.wps.com/academy/how-to-insert-equations-in-wps-spreadsheet/1863989/\" rel=\"nofollow noreferrer\">How to insert equations in WPS Spreadsheet</a>.</p>\n<p>Only those equations are meant by the message. It has nothing to do with spreadsheet cell formulas like <code>=SUM(A1:A100)</code> or similar.</p>\n<p>You fix it by clicking [x] Do not report again.</p>\n<p>Or you might install the missed fonts. See <a href=\"https://askubuntu.com/questions/861588/wps-office-equation-editor\">https://askubuntu.com/questions/861588/wps-office-equation-editor</a>.</p>\n"}],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1550,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75433673,"answer_count":1,"score":1,"last_activity_date":1676279869,"creation_date":1676264343,"question_id":75432030,"body_markdown":"I have the following code:\r\n\r\n        XSSFFont font = createFont(workBook);\r\n        font.setColor(IndexedColors.WHITE.getIndex());\r\n        font.setFontName(&quot;Arial&quot;);\r\n        font.setBold(true);\r\n\r\n        XSSFColor BLUE_WAVE = new XSSFColor(new byte[]{ (byte) 60,\r\n                                                        (byte) 120,\r\n                                                        (byte) 216 },\r\n                                            new DefaultIndexedColorMap());\r\n        \r\n        CellStyle style = workBook.createCellStyle();\r\n        style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n        style.setFillForegroundColor(BLUE_WAVE);\r\n        style.setFont(createHeaderFont(workBook));\r\n\r\n        XSSFCell cell = row.createCell(cellIndex);\r\n        cell.setCellType(cellType);\r\n        cell.setCellStyle(style);\r\n        \r\n        // ...\r\n        // Popuplation of cells goes here\r\n        // ...\r\n\r\nAs illustrated above, the cells have a style. I am not using any fancy fonts. My code generates an `.xlsx` file successfully without any errors. When I try opening it using WPS office (under Ubuntu), it shows the following warning (and then loads the file normally):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThere are no formulas in the `xlsx` file.\r\n\r\nI have the following Gradle dependencies:\r\n\r\n    implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\r\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\r\n\r\nI&#39;m not sure how to debug and fix this. I don&#39;t want it to be showing any warnings in WPS or any other office application. Any ideas would be highly appreciated!\r\n\r\n  [1]: https://i.stack.imgur.com/8Omjp.png\r\n","title":"How to fix &quot;Some formula symbols might not be displayed correctly due to missing fonts Symbol, Windings...&quot; for an XLSX generated with Apache POI","body":"<p>I have the following code:</p>\n<pre><code>    XSSFFont font = createFont(workBook);\n    font.setColor(IndexedColors.WHITE.getIndex());\n    font.setFontName(&quot;Arial&quot;);\n    font.setBold(true);\n\n    XSSFColor BLUE_WAVE = new XSSFColor(new byte[]{ (byte) 60,\n                                                    (byte) 120,\n                                                    (byte) 216 },\n                                        new DefaultIndexedColorMap());\n    \n    CellStyle style = workBook.createCellStyle();\n    style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n    style.setFillForegroundColor(BLUE_WAVE);\n    style.setFont(createHeaderFont(workBook));\n\n    XSSFCell cell = row.createCell(cellIndex);\n    cell.setCellType(cellType);\n    cell.setCellStyle(style);\n    \n    // ...\n    // Popuplation of cells goes here\n    // ...\n</code></pre>\n<p>As illustrated above, the cells have a style. I am not using any fancy fonts. My code generates an <code>.xlsx</code> file successfully without any errors. When I try opening it using WPS office (under Ubuntu), it shows the following warning (and then loads the file normally):</p>\n<p><a href=\"https://i.stack.imgur.com/8Omjp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Omjp.png\" alt=\"enter image description here\" /></a></p>\n<p>There are no formulas in the <code>xlsx</code> file.</p>\n<p>I have the following Gradle dependencies:</p>\n<pre><code>implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\nimplementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\n</code></pre>\n<p>I'm not sure how to debug and fix this. I don't want it to be showing any warnings in WPS or any other office application. Any ideas would be highly appreciated!</p>\n"},{"tags":["java","arraylist","telegram-bot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676240730,"post_id":75430543,"comment_id":133093024,"body_markdown":"Off topic, you are adding a new `Buddy` for each existing item in `users`.","body":"Off topic, you are adding a new <code>Buddy</code> for each existing item in <code>users</code>."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676279714,"post_id":75430688,"comment_id":133098223,"body_markdown":"The alternative is to explicitly use the list iterator and add it through the list iterator.","body":"The alternative is to explicitly use the list iterator and add it through the list iterator."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676242587,"creation_date":1676242587,"answer_id":75430688,"question_id":75430543,"body_markdown":"You are iterating through users:\r\n\r\n    for (Buddy user : users) {\r\n\r\nwhile changing the users list:\r\n\r\n    buddy = new Buddy(name, chatId);\r\n    users.add(buddy);\r\n\r\n== `ConcurrentModificationException`\r\n\r\nYou have to add the user, if not found, after you have finished the for loop.","title":"Telegram bot Java ConcurrentModificationException","body":"<p>You are iterating through users:</p>\n<pre><code>for (Buddy user : users) {\n</code></pre>\n<p>while changing the users list:</p>\n<pre><code>buddy = new Buddy(name, chatId);\nusers.add(buddy);\n</code></pre>\n<p>== <code>ConcurrentModificationException</code></p>\n<p>You have to add the user, if not found, after you have finished the for loop.</p>\n"}],"owner":{"account_id":21657393,"reputation":3,"user_id":15976954,"display_name":"kikichs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676279671,"accepted_answer_id":75430688,"answer_count":1,"score":0,"last_activity_date":1676279724,"creation_date":1676240188,"question_id":75430543,"body_markdown":"I want that after writing any message, the user gets into the list. The first time it works, but as soon as another user writes, for some reason it shows null.\r\n\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n            getLogs(update);\r\n            addUser(update.getMessage().getChat().getUserName(), update.getMessage().getChatId());\r\n        }\r\n    }\r\n\r\n    private void addUser(String name, long chatId) {\r\n        Buddy buddy;\r\n        if (!users.isEmpty()) {\r\n            for (Buddy user : users) {\r\n                if (name.equals(user.getName()) &amp;&amp; chatId == user.getNameId()) {\r\n                    System.out.println(&quot;Exists&quot;);\r\n                } else {\r\n                    buddy = new Buddy(name, chatId);\r\n                    users.add(buddy);\r\n                }\r\n            }\r\n        } else {\r\n            users.add(new Buddy(name, chatId));\r\n        }\r\n        System.out.println(users.toString());\r\n    }\r\n\r\nI expected that after writing from any user, a unique Buddy would be added to the list, but for some reason this did not happen.\r\n\r\nCatching such a mistake: `java.util.ConcurrentModificationException: null`","title":"Telegram bot Java ConcurrentModificationException","body":"<p>I want that after writing any message, the user gets into the list. The first time it works, but as soon as another user writes, for some reason it shows null.</p>\n<pre><code>@Override\npublic void onUpdateReceived(Update update) {\n    if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n        getLogs(update);\n        addUser(update.getMessage().getChat().getUserName(), update.getMessage().getChatId());\n    }\n}\n\nprivate void addUser(String name, long chatId) {\n    Buddy buddy;\n    if (!users.isEmpty()) {\n        for (Buddy user : users) {\n            if (name.equals(user.getName()) &amp;&amp; chatId == user.getNameId()) {\n                System.out.println(&quot;Exists&quot;);\n            } else {\n                buddy = new Buddy(name, chatId);\n                users.add(buddy);\n            }\n        }\n    } else {\n        users.add(new Buddy(name, chatId));\n    }\n    System.out.println(users.toString());\n}\n</code></pre>\n<p>I expected that after writing from any user, a unique Buddy would be added to the list, but for some reason this did not happen.</p>\n<p>Catching such a mistake: <code>java.util.ConcurrentModificationException: null</code></p>\n"},{"tags":["javascript","java","jquery","rest"],"comments":[{"owner":{"account_id":2897575,"reputation":14167,"user_id":7867822,"display_name":"Anurag Srivastava"},"score":0,"creation_date":1583659084,"post_id":60586001,"comment_id":107185821,"body_markdown":"This answer in the attached question should help you https://stackoverflow.com/a/39515978/7867822. Are you sure you are trying it out correctly?","body":"This answer in the attached question should help you <a href=\"https://stackoverflow.com/a/39515978/7867822\">stackoverflow.com/a/39515978/7867822</a>. Are you sure you are trying it out correctly?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1583661045,"post_id":60586001,"comment_id":107186181,"body_markdown":"Don&#39;t use AJAX. Also a PDF is not a text, it&#39;s binary content.","body":"Don&#39;t use AJAX. Also a PDF is not a text, it&#39;s binary content."},{"owner":{"account_id":17154752,"reputation":66,"user_id":12415914,"display_name":"Lirzae"},"score":0,"creation_date":1583661772,"post_id":60586001,"comment_id":107186339,"body_markdown":"@oliver what would you suggest me to use to get the content?","body":"@oliver what would you suggest me to use to get the content?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1583662271,"post_id":60586001,"comment_id":107186432,"body_markdown":"You can just use a `&lt;a&gt;` tag.","body":"You can just use a <code>&lt;a&gt;</code> tag."}],"answers":[{"tags":[],"owner":{"account_id":21248541,"reputation":1,"user_id":15631009,"display_name":"Yasaman Soleymani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676279681,"creation_date":1634587913,"answer_id":69622033,"question_id":60586001,"body_markdown":"you can use this method if you want to show and download PDF in ReactJs \r\n```\r\n axios.get(exportUrl, {responseType:&#39;blob&#39;})\r\n        .then(response =&gt; {\r\n            // Create blob link to download\r\n            var blob = new Blob([response.data], { type: &#39;application/pdf&#39; });\r\n\r\n            var URL = window.URL || window.webkitURL;\r\n            const url = window.URL.createObjectURL(blob);\r\n            const link = document.createElement(&#39;a&#39;);\r\n            link.target   = &#39;_blank&#39;;\r\n            link.href = url;\r\n            link.setAttribute(    //if you just want to preview pdf and dont want download delete this three lines \r\n               &#39;download&#39;,\r\n               `Factor.pdf`,\r\n             );\r\n        \r\n            // Append to html link element page\r\n            document.body.appendChild(link);\r\n        \r\n            // Start download\r\n            link.click();\r\n        \r\n            // Clean up and remove the link\r\n            link.parentNode.removeChild(link);\r\n            URL.revokeObjectURL(url);\r\n\r\n        })\r\n    }\r\n```","title":"Download PDF From Rest API","body":"<p>you can use this method if you want to show and download PDF in ReactJs</p>\n<pre><code> axios.get(exportUrl, {responseType:'blob'})\n        .then(response =&gt; {\n            // Create blob link to download\n            var blob = new Blob([response.data], { type: 'application/pdf' });\n\n            var URL = window.URL || window.webkitURL;\n            const url = window.URL.createObjectURL(blob);\n            const link = document.createElement('a');\n            link.target   = '_blank';\n            link.href = url;\n            link.setAttribute(    //if you just want to preview pdf and dont want download delete this three lines \n               'download',\n               `Factor.pdf`,\n             );\n        \n            // Append to html link element page\n            document.body.appendChild(link);\n        \n            // Start download\n            link.click();\n        \n            // Clean up and remove the link\n            link.parentNode.removeChild(link);\n            URL.revokeObjectURL(url);\n\n        })\n    }\n</code></pre>\n"}],"owner":{"account_id":17154752,"reputation":66,"user_id":12415914,"display_name":"Lirzae"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676279681,"creation_date":1583658721,"question_id":60586001,"body_markdown":"I have the following text that i get from java with a get request.\r\n**GET:  http://localhost:8101/raportet/Cinema.jasper**\r\n\r\n    %PDF-1.4\r\n    %&#226;&#227;&#207;&#211;\r\n    3 0 obj\r\n    &lt;&lt;/Filter/FlateDecode/Length 1644&gt;&gt;stream\r\n    xœ&#189;œ]S&#219;F\u0014†&#239;&#253;+&#246;2&#189;ˆ&#178;_&#250;&#234;U&#221;`Rh\u0002\u0014;&#233;tz&#161;`aD&#252;‘\bH†&#223;•\u0014&#199;\r\n    8&#239;J&#248;5&#227;\u0001&#179; &#244;\u001C\u001D&#233;&lt;^\u001DY&#254;&lt;&#248;}20‘ˆ&#195;HL&#166;ƒ&#209;d&#240;&#215;@‹&#227;&#234;&#183;JH&#247;&#168;&#190;&#199;&#169;\u0016“&#197;&#224;&#213;&#161;\u0012JŠ&#201;&#229;&#224;&#197; \r\n    ..............\r\n\r\nI want to download this file in frontend using js. \r\nI tried a lot of methods but i cannot download it. Is there any method i can do it.\r\nI&#39;ve almost the same problem as this: https://stackoverflow.com/questions/2805330/opening-pdf-string-in-new-window-with-javascript#","title":"Download PDF From Rest API","body":"<p>I have the following text that i get from java with a get request.\n<strong>GET:  <a href=\"http://localhost:8101/raportet/Cinema.jasper\" rel=\"nofollow noreferrer\">http://localhost:8101/raportet/Cinema.jasper</a></strong></p>\n\n<pre><code>%PDF-1.4\n%âãÏÓ\n3 0 obj\n&lt;&lt;/Filter/FlateDecode/Length 1644&gt;&gt;stream\nxœ½œ]SÛF†ïý+ö2½ˆ²_úêUÝ`Rh;étz¡`aDü‘H†ß•Ç\n8ïJø5ã³ ôé&lt;^Yþ&lt;ø}20‘ˆÃHL¦ƒÑdð×@‹ãê·JH÷¨¾Ç©“ÅàÕ¡JŠÉåàÅ \n..............\n</code></pre>\n\n<p>I want to download this file in frontend using js. \nI tried a lot of methods but i cannot download it. Is there any method i can do it.\nI've almost the same problem as this: <a href=\"https://stackoverflow.com/questions/2805330/opening-pdf-string-in-new-window-with-javascript#\">Opening PDF String in new window with javascript</a></p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1473750189,"post_id":39459898,"comment_id":66248490,"body_markdown":"I&#39;ve created [DATAMONGO-1491](https://jira.spring.io/browse/DATAMONGO-1491) to add support for `$filter`.","body":"I&#39;ve created <a href=\"https://jira.spring.io/browse/DATAMONGO-1491\" rel=\"nofollow noreferrer\">DATAMONGO-1491</a> to add support for <code>$filter</code>."},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473754711,"post_id":39459898,"comment_id":66250912,"body_markdown":"Thanks Christoph. I hope to find a workaround until it&#39;s implemented","body":"Thanks Christoph. I hope to find a workaround until it&#39;s implemented"},{"owner":{"account_id":3510974,"reputation":539,"user_id":2935292,"accept_rate":54,"display_name":"Marvin"},"score":0,"creation_date":1674646445,"post_id":39459898,"comment_id":132757655,"body_markdown":"As of Spring Boot 3 (maybe also Spring Boot 2.x) the `$filter` is supported. In the [AggregationTest](https://github.com/spring-projects/spring-data-mongodb/blob/4c77763cd39abf2a2d7e199778016728b45d79fc/spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/aggregation/AggregationTests.java) class in the spring-data-mongodb repository you&#39;ll find some examples.","body":"As of Spring Boot 3 (maybe also Spring Boot 2.x) the <code>$filter</code> is supported. In the <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4c77763cd39abf2a2d7e199778016728b45d79fc/spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/aggregation/AggregationTests.java\" rel=\"nofollow noreferrer\">AggregationTest</a> class in the spring-data-mongodb repository you&#39;ll find some examples."}],"answers":[{"comments":[{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":1,"creation_date":1473760264,"post_id":39465971,"comment_id":66254193,"body_markdown":"That looks exactly what I need. The only problem is that interface AggregationExpression is not public, if I&#39;m not missing something...","body":"That looks exactly what I need. The only problem is that interface AggregationExpression is not public, if I&#39;m not missing something..."},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473764513,"post_id":39465971,"comment_id":66256644,"body_markdown":"I&#39;ve created https://jira.spring.io/browse/DATAMONGO-1492 suggesting that the interface should be public. I&#39;m still searching for a way to implement your suggestion...","body":"I&#39;ve created <a href=\"https://jira.spring.io/browse/DATAMONGO-1492\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAMONGO-1492</a> suggesting that the interface should be public. I&#39;m still searching for a way to implement your suggestion..."},{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1473765313,"post_id":39465971,"comment_id":66257077,"body_markdown":"doh... my bad - that one should be public - thanks for filing the issue! Since `AggregationExpression` is package private you could add the package `org.springframework.data.mongodb.core.aggregation` to your project and create a public class/interface `FilterExpression` implementing/extending `AggregationExpression` within that package. Then just use that one from there.","body":"doh... my bad - that one should be public - thanks for filing the issue! Since <code>AggregationExpression</code> is package private you could add the package <code>org.springframework.data.mongodb.core.aggregation</code> to your project and create a public class/interface <code>FilterExpression</code> implementing/extending <code>AggregationExpression</code> within that package. Then just use that one from there."},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473770450,"post_id":39465971,"comment_id":66260147,"body_markdown":"I&#39;m getting closer... this is my implementation:\n`public class FilterExpression implements AggregationExpression {\n    // private fields and constructor omitted for brevity\n    @Override\n    public DBObject toDbObject( AggregationOperationContext context ) {\n        DBObject filterExpression = new BasicDBObject();\n        filterExpression.put(&quot;input&quot;, input);\n        filterExpression.put(&quot;as&quot;, as);\n        filterExpression.put(&quot;cond&quot;, cond);\n        return new BasicDBObject(&quot;$filter&quot;, filterExpression);\n    }\n}`","body":"I&#39;m getting closer... this is my implementation: <code>public class FilterExpression implements AggregationExpression {     &#47;&#47; private fields and constructor omitted for brevity     @Override     public DBObject toDbObject( AggregationOperationContext context ) {         DBObject filterExpression = new BasicDBObject();         filterExpression.put(&quot;input&quot;, input);         filterExpression.put(&quot;as&quot;, as);         filterExpression.put(&quot;cond&quot;, cond);         return new BasicDBObject(&quot;$filter&quot;, filterExpression);     } }</code>"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473770613,"post_id":39465971,"comment_id":66260249,"body_markdown":"The expression seems correct (invoking the toDBObject() and a toJson() produces: &quot;{ &quot;$filter&quot; : { &quot;input&quot; : &quot;$answer_list&quot;, &quot;as&quot; : &quot;answer&quot;, &quot;cond&quot; : { &quot;$eq2&quot; : [&quot;$$answer.question&quot;, 2] } } }&quot;) but I&#39;m getting thi exception:\n`org.springframework.data.mapping.PropertyReferenceException: No property answer found for type Opinion!\n\tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:77)\n...`","body":"The expression seems correct (invoking the toDBObject() and a toJson() produces: &quot;{ &quot;$filter&quot; : { &quot;input&quot; : &quot;$answer_list&quot;, &quot;as&quot; : &quot;answer&quot;, &quot;cond&quot; : { &quot;$eq2&quot; : [&quot;$$answer.question&quot;, 2] } } }&quot;) but I&#39;m getting thi exception: <code>org.springframework.data.mapping.PropertyReferenceException: No property answer found for type Opinion! \tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(Propert&zwnj;&#8203;yPath.java:77) ...</code>"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473770760,"post_id":39465971,"comment_id":66260342,"body_markdown":"I get the same exception with this code:\n`            project( &quot;answer_list&quot; ).and( &quot;answer_list&quot; ).project( &quot;filter&quot;, &quot;$answer_list&quot;, &quot;answer&quot;,\n                            new BasicDBObject(&quot;$eq2&quot;, Arrays.&lt;Object&gt; asList(&quot;$$answer.question&quot;, 2)) ),`","body":"I get the same exception with this code: `            project( &quot;answer_list&quot; ).and( &quot;answer_list&quot; ).project( &quot;filter&quot;, &quot;$answer_list&quot;, &quot;answer&quot;,                             new BasicDBObject(&quot;$eq2&quot;, Arrays.&lt;Object&gt; asList(&quot;$$answer.question&quot;, 2)) ),`"},{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1473771178,"post_id":39465971,"comment_id":66260597,"body_markdown":"got a bit of code at hand I can run/debug? A gist with a failing testcase maybe?","body":"got a bit of code at hand I can run/debug? A gist with a failing testcase maybe?"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473781021,"post_id":39465971,"comment_id":66267148,"body_markdown":"I&#39;ve create a GitHub repository: https://github.com/optimalab/filterExpressionTest\nIf I&#39;ve done everything correctly you should just run mvn test","body":"I&#39;ve create a GitHub repository: <a href=\"https://github.com/optimalab/filterExpressionTest\" rel=\"nofollow noreferrer\">github.com/optimalab/filterExpressionTest</a> If I&#39;ve done everything correctly you should just run mvn test"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473782901,"post_id":39465971,"comment_id":66268288,"body_markdown":"I&#39;m playing with the demo project... leaving just the project I&#39;ve successfully run the query by removing the &quot;answer_list&quot; in the project call. Maybe it&#39;s a problem related to the double reference to the same field?","body":"I&#39;m playing with the demo project... leaving just the project I&#39;ve successfully run the query by removing the &quot;answer_list&quot; in the project call. Maybe it&#39;s a problem related to the double reference to the same field?"},{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1473835149,"post_id":39465971,"comment_id":66286324,"body_markdown":"Hi thanks for sharing the code - please try the following for project `project().andInclude(Fields.from(Fields.field(&quot;answer_list&quot;, &quot;answerList&quot;))).and(expression).as(&quot;profile&quot;)`. Still the aggregation does not  return any result, but that seems to be another issue as I tried running the snipped in the comment against the test data on the console which also did not return anything.","body":"Hi thanks for sharing the code - please try the following for project <code>project().andInclude(Fields.from(Fields.field(&quot;answer_list&quot;, &quot;answerList&quot;))).and(expression).as(&quot;profile&quot;)</code>. Still the aggregation does not  return any result, but that seems to be another issue as I tried running the snipped in the comment against the test data on the console which also did not return anything."},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473843145,"post_id":39465971,"comment_id":66290649,"body_markdown":"The generated query has a problem: the alias for the addInclude is not correct. `{ &quot;$project&quot; : { &quot;answer_list&quot; : &quot;$answer_list&quot;` should be `{ &quot;$project&quot; : { &quot;answerList&quot; : &quot;$answer_list&quot;`","body":"The generated query has a problem: the alias for the addInclude is not correct. <code>{ &quot;$project&quot; : { &quot;answer_list&quot; : &quot;$answer_list&quot;</code> should be <code>{ &quot;$project&quot; : { &quot;answerList&quot; : &quot;$answer_list&quot;</code>"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473846616,"post_id":39465971,"comment_id":66292757,"body_markdown":"The cause could be the call `Fields.field(&quot;answer_list&quot;, &quot;answerList&quot;)`. The documentation says the first parameter is the name (alias), the second is the target. Bu if I invert the parameters i get the PropertyReferenceError again","body":"The cause could be the call <code>Fields.field(&quot;answer_list&quot;, &quot;answerList&quot;)</code>. The documentation says the first parameter is the name (alias), the second is the target. Bu if I invert the parameters i get the PropertyReferenceError again"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473848345,"post_id":39465971,"comment_id":66293808,"body_markdown":"Digging the code I found something strange in org.springframework.data.mapping.PropertyPath, line 259. There&#39;s a splitter on &#39;_&#39; char for looking the existsing properties, so &quot;answer_list&quot; become [&quot;answer&quot;, &quot;list&quot;], and then it fails &#39;cause the field &quot;answer&quot; is not found. Why is there this splitter?","body":"Digging the code I found something strange in org.springframework.data.mapping.PropertyPath, line 259. There&#39;s a splitter on &#39;_&#39; char for looking the existsing properties, so &quot;answer_list&quot; become [&quot;answer&quot;, &quot;list&quot;], and then it fails &#39;cause the field &quot;answer&quot; is not found. Why is there this splitter?"},{"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"score":0,"creation_date":1473850806,"post_id":39465971,"comment_id":66295171,"body_markdown":"Ok, I finally solved the issue: you last suggestion was correct. Fields.field(&quot;answer_list&quot;, &quot;answerList&quot;) is right, &#39;cause the target should be the mapped field name (answerList). Maybe this should be highlighted in the docs? So I had to correct the references in the group section. I updated the git repository for future references. Thanks for your precious help!!","body":"Ok, I finally solved the issue: you last suggestion was correct. Fields.field(&quot;answer_list&quot;, &quot;answerList&quot;) is right, &#39;cause the target should be the mapped field name (answerList). Maybe this should be highlighted in the docs? So I had to correct the references in the group section. I updated the git repository for future references. Thanks for your precious help!!"},{"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"score":0,"creation_date":1474523786,"post_id":39465971,"comment_id":66567296,"body_markdown":"By resolving [DATAMONGO-1492](https://jira.spring.io/browse/DATAMONGO-1492) you should be able to directly use `AggregationExpression` as it is `public` now. The change has been applied to: 1.8.5 (Gosling SR5), 1.9.3 (Hopper SR3) and 1.10 RC1 (Ingalls)","body":"By resolving <a href=\"https://jira.spring.io/browse/DATAMONGO-1492\" rel=\"nofollow noreferrer\">DATAMONGO-1492</a> you should be able to directly use <code>AggregationExpression</code> as it is <code>public</code> now. The change has been applied to: 1.8.5 (Gosling SR5), 1.9.3 (Hopper SR3) and 1.10 RC1 (Ingalls)"}],"tags":[],"owner":{"account_id":1523925,"reputation":6521,"user_id":1422818,"display_name":"Christoph Strobl"},"comment_count":15,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1473756978,"creation_date":1473756978,"answer_id":39465971,"question_id":39459898,"body_markdown":"You can workaround this issue by providing your own `AggregationExpression`.\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    ProjectionOperation agg = Aggregation.project() //\r\n  \r\n          .and(new AggregationExpression() {\r\n  \r\n            @Override\r\n            public DBObject toDbObject(AggregationOperationContext context) {\r\n  \r\n              DBObject filterExpression = new BasicDBObject();\r\n              filterExpression.put(&quot;input&quot;, &quot;$answer_list&quot;);\r\n              filterExpression.put(&quot;as&quot;, &quot;answer&quot;);\r\n              filterExpression.put(&quot;cond&quot;, new BasicDBObject(&quot;$eq2&quot;, Arrays.&lt;Object&gt; asList(&quot;$$answer.question&quot;, 2)));\r\n  \r\n              return new BasicDBObject(&quot;$filter&quot;, filterExpression);\r\n            }\r\n          }).as(&quot;profile&quot;);","title":"Does Spring Data MongoDb support $filter array aggregations operator?","body":"<p>You can workaround this issue by providing your own <code>AggregationExpression</code>.</p>\n\n\n\n<pre><code>ProjectionOperation agg = Aggregation.project() //\n\n      .and(new AggregationExpression() {\n\n        @Override\n        public DBObject toDbObject(AggregationOperationContext context) {\n\n          DBObject filterExpression = new BasicDBObject();\n          filterExpression.put(\"input\", \"$answer_list\");\n          filterExpression.put(\"as\", \"answer\");\n          filterExpression.put(\"cond\", new BasicDBObject(\"$eq2\", Arrays.&lt;Object&gt; asList(\"$$answer.question\", 2)));\n\n          return new BasicDBObject(\"$filter\", filterExpression);\n        }\n      }).as(\"profile\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9227009,"reputation":1342,"user_id":6854489,"accept_rate":100,"display_name":"takanuva15"},"score":1,"creation_date":1643385291,"post_id":62518383,"comment_id":125333438,"body_markdown":"I like this answer better. However, please include static imports you are using in your answer. For anyone else, the valueOf() operator comes from here: `import static org.springframework.data.mongodb.core.aggregation.ComparisonOperators.valueOf;`","body":"I like this answer better. However, please include static imports you are using in your answer. For anyone else, the valueOf() operator comes from here: <code>import static org.springframework.data.mongodb.core.aggregation.Comparison&zwnj;&#8203;Operators.valueOf;</code>"},{"owner":{"account_id":3510974,"reputation":539,"user_id":2935292,"accept_rate":54,"display_name":"Marvin"},"score":0,"creation_date":1674646299,"post_id":62518383,"comment_id":132757621,"body_markdown":"In the [AggregationTest](https://github.com/spring-projects/spring-data-mongodb/blob/4c77763cd39abf2a2d7e199778016728b45d79fc/spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/aggregation/AggregationTests.java) class in the spring-data-mongodb repository you&#39;ll find more examples. E.g. for for filtering within a project see [here](https://github.com/spring-projects/spring-data-mongodb/blob/4c77763cd39abf2a2d7e199778016728b45d79fc/spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/aggregation/AggregationTests.java#L1686).","body":"In the <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4c77763cd39abf2a2d7e199778016728b45d79fc/spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/aggregation/AggregationTests.java\" rel=\"nofollow noreferrer\">AggregationTest</a> class in the spring-data-mongodb repository you&#39;ll find more examples. E.g. for for filtering within a project see <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4c77763cd39abf2a2d7e199778016728b45d79fc/spring-data-mongodb/src/test/java/org/springframework/data/mongodb/core/aggregation/AggregationTests.java#L1686\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":8061851,"reputation":425,"user_id":6077161,"display_name":"Anshul"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676279525,"creation_date":1592840885,"answer_id":62518383,"question_id":39459898,"body_markdown":"There is one more alternative using `Aggregation`\r\n\r\n    import static org.springframework.data.mongodb.core.aggregation.ComparisonOperators.valueOf;\r\n\r\n        Aggregation aggregation = newAggregation(\r\n    \t\t\t\t               project()\r\n    \t\t\t\t               .and(filter(&quot;answer_list&quot;)\r\n    \t\t\t\t               .as(&quot;answer&quot;)\r\n    \t\t\t\t           .by(valueOf(&quot;answer.question&quot;).equalToValue(2)))\r\n    \t\t\t\t               .as(&quot;profile&quot;));\r\n    \tAggregationResults&lt;OutputType&gt; profile = mongoTemplate.aggregate(aggregation, InputType.class, OutputType.class);\r\n\r\nI may not be able to answer your question correctly but I just wanted to give another approach for aggregation as there are lesser number of examples using `Aggregation`. \r\n\r\nIn `project()` you can specify keys you want in your response, as its a varargs method","title":"Does Spring Data MongoDb support $filter array aggregations operator?","body":"<p>There is one more alternative using <code>Aggregation</code></p>\n<pre><code>import static org.springframework.data.mongodb.core.aggregation.ComparisonOperators.valueOf;\n\n    Aggregation aggregation = newAggregation(\n                               project()\n                               .and(filter(&quot;answer_list&quot;)\n                               .as(&quot;answer&quot;)\n                           .by(valueOf(&quot;answer.question&quot;).equalToValue(2)))\n                               .as(&quot;profile&quot;));\n    AggregationResults&lt;OutputType&gt; profile = mongoTemplate.aggregate(aggregation, InputType.class, OutputType.class);\n</code></pre>\n<p>I may not be able to answer your question correctly but I just wanted to give another approach for aggregation as there are lesser number of examples using <code>Aggregation</code>.</p>\n<p>In <code>project()</code> you can specify keys you want in your response, as its a varargs method</p>\n"}],"owner":{"account_id":5340918,"reputation":83,"user_id":4258068,"display_name":"optimalab"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39465971,"answer_count":2,"score":0,"last_activity_date":1676279525,"creation_date":1473720811,"question_id":39459898,"body_markdown":"I&#39;m trying to implement in Spring Data using MongoTemplate the following working mongoDb query:\r\n\r\n    db.answers.aggregate([\r\n            { &quot;$match&quot; : { &quot;object_id&quot; : &quot;1&quot; } },\r\n            { &quot;$project&quot;: { &#39;answer_list&#39;: 1, &#39;profile&#39;: { $filter : { input: &#39;$answer_list&#39;, as: &#39;answer&#39;, cond: { $eq: [ &#39;$$answer.question&#39;, 2 ] } } } } },\r\n            { &quot;$unwind&quot; : &quot;$profile&quot;},\r\n            { &quot;$unwind&quot; : &quot;$answer_list&quot;},\r\n            { &quot;$group&quot; : { &quot;_id&quot; : { &quot;question&quot; : &quot;$answer_list.question&quot;, &quot;answer&quot; : &quot;$answer_list.answer&quot;, &quot;criteria&quot; : &quot;$profile.answer&quot;}, &quot;count&quot; : { &quot;$sum&quot; : 1 } } },\r\n            { &quot;$sort&quot; : { &quot;_id.question&quot; : 1, &quot;_id.answer&quot; : 1 } }\r\n    ]);\r\n\r\nThe collection has this structure:\r\n\r\n    {\r\n    &quot;_id&quot; : ObjectId(&quot;...&quot;),\r\n    &quot;object_id&quot; : ObjectId(&quot;...&quot;),\r\n    &quot;answer_list&quot; : [ \r\n        {\r\n            &quot;question&quot; : NumberLong(0),\r\n            &quot;answer&quot; : NumberLong(0)\r\n        }, \r\n        {\r\n            &quot;question&quot; : NumberLong(1),\r\n            &quot;answer&quot; : NumberLong(2)\r\n        }, \r\n        {\r\n            &quot;question&quot; : NumberLong(2),\r\n            &quot;answer&quot; : NumberLong(2)\r\n        }\r\n    ]}\r\n\r\nWhat I&#39;m trying to do here is a report on a simple survey submission data. The question is &quot;How did the users that answered 0 to the first question answer to the second question?&quot;\r\nI spent all day searching the SpringData Mongo Db docs but I found nothing.\r\nCan anyone help?\r\n\r\nTIA","title":"Does Spring Data MongoDb support $filter array aggregations operator?","body":"<p>I'm trying to implement in Spring Data using MongoTemplate the following working mongoDb query:</p>\n\n<pre><code>db.answers.aggregate([\n        { \"$match\" : { \"object_id\" : \"1\" } },\n        { \"$project\": { 'answer_list': 1, 'profile': { $filter : { input: '$answer_list', as: 'answer', cond: { $eq: [ '$$answer.question', 2 ] } } } } },\n        { \"$unwind\" : \"$profile\"},\n        { \"$unwind\" : \"$answer_list\"},\n        { \"$group\" : { \"_id\" : { \"question\" : \"$answer_list.question\", \"answer\" : \"$answer_list.answer\", \"criteria\" : \"$profile.answer\"}, \"count\" : { \"$sum\" : 1 } } },\n        { \"$sort\" : { \"_id.question\" : 1, \"_id.answer\" : 1 } }\n]);\n</code></pre>\n\n<p>The collection has this structure:</p>\n\n<pre><code>{\n\"_id\" : ObjectId(\"...\"),\n\"object_id\" : ObjectId(\"...\"),\n\"answer_list\" : [ \n    {\n        \"question\" : NumberLong(0),\n        \"answer\" : NumberLong(0)\n    }, \n    {\n        \"question\" : NumberLong(1),\n        \"answer\" : NumberLong(2)\n    }, \n    {\n        \"question\" : NumberLong(2),\n        \"answer\" : NumberLong(2)\n    }\n]}\n</code></pre>\n\n<p>What I'm trying to do here is a report on a simple survey submission data. The question is \"How did the users that answered 0 to the first question answer to the second question?\"\nI spent all day searching the SpringData Mongo Db docs but I found nothing.\nCan anyone help?</p>\n\n<p>TIA</p>\n"},{"tags":["java","multithreading","memory-leaks","jersey-2.0"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1469667627,"post_id":38570732,"comment_id":64636178,"body_markdown":"Looks like something that you may want to file as an issue with jersey. As an aside its recommended to reuse `Client` instances in an application as they are expensive to create","body":"Looks like something that you may want to file as an issue with jersey. As an aside its recommended to reuse <code>Client</code> instances in an application as they are expensive to create"}],"answers":[{"comments":[{"owner":{"account_id":3216824,"reputation":311,"user_id":2715285,"display_name":"Yordan Boev"},"score":0,"creation_date":1469527755,"post_id":38571742,"comment_id":64562168,"body_markdown":"Hey Rob, I am thankful for your interest in my problem. I am familiar how Finalizer and GC work in a JVM. The problem is that the Objects that reside in the Finalizer queue are not mine and not directly created from me, but though Jersey. I am simply following Jersey&#39;s examples and best practices in a multi-threaded environment and it is not working. The starvation of the Finalizer thread is very unlikely to be the problem, because CPU usage stays under 100% for a good amount of time and even the lowest priority threads should get execution time. Nevertheless, I will look more into it. Thanks!","body":"Hey Rob, I am thankful for your interest in my problem. I am familiar how Finalizer and GC work in a JVM. The problem is that the Objects that reside in the Finalizer queue are not mine and not directly created from me, but though Jersey. I am simply following Jersey&#39;s examples and best practices in a multi-threaded environment and it is not working. The starvation of the Finalizer thread is very unlikely to be the problem, because CPU usage stays under 100% for a good amount of time and even the lowest priority threads should get execution time. Nevertheless, I will look more into it. Thanks!"},{"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"score":0,"creation_date":1469544726,"post_id":38571742,"comment_id":64574551,"body_markdown":"@YordanBoev As I mentioned in the answer, you should figure out what the Finalizer thread is doing. Taking a series of thread dumps (or pausing that thread in the debugger) and seeing what that particular thread is doing, whether it is making progress, usually observed running a particular class&#39; finalize method, waiting for a lock, etc.","body":"@YordanBoev As I mentioned in the answer, you should figure out what the Finalizer thread is doing. Taking a series of thread dumps (or pausing that thread in the debugger) and seeing what that particular thread is doing, whether it is making progress, usually observed running a particular class&#39; finalize method, waiting for a lock, etc."}],"tags":[],"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469460315,"creation_date":1469460315,"answer_id":38571742,"question_id":38570732,"body_markdown":"While I am not familiar with Eclipse MAT and what it is showing you, it is proper behavior for some objects to go through the Finalizer queue.\r\n\r\nUnder normal circumstances, any object that overrides the `finalize` method will be queued for finalization (which consists of calling the `finalize` method). The general idea is that when the garbage collector identifies an object as unreachable, it looks to see if the `finalize` method is overridden and has not yet been called. If `finalize` is defined and has not yet been called, then the object is queued for finalization, otherwise the memory is collected.\r\n\r\nThe finalizer appears to be implemented as a queue that is serviced by a single thread. The thread processes each object in the queue by calling `finalize`. After the call to `finalize` completes, the object is removed from the queue.\r\n\r\nSubsequently, when the garbage collector again determines that the object is unreachable, it will find that `finalize` is overridden, but has already been called. The member is collected.\r\n\r\nNote that using this feature delays collection of garbage. And while it is a convenient way to clean up an object, the JVM does not guarantee when or even if the `finalize` method will be called.\r\n\r\nOne related risk is &quot;finalizer starvation.&quot; You mention &quot;growing&quot; so perhaps this is an issue you are facing. If you create enough garbage that requires finalization and if that finalization takes too long, you can actually run out of memory because the single finalizer queue cannot keep up. There are a number of ways to deal with this situation:\r\n\r\n - Make execution of `finalize` complete (infinite loops are bad) and quickly.\r\n - Avoid synchronization in `finalize`.\r\n - Make the Finalizer thread have the highest execution priority. This can be accomplished by creating a garbage instance that changes the thread priority in the finalizer - create one of these during app initialization.\r\n\r\nIf you are seeing starvation, use a thread dump to see what the Finalizer thread is working on.","title":"Jersey 2.x leaking memory (Finalizer) with simple POST call (Multithreaded)","body":"<p>While I am not familiar with Eclipse MAT and what it is showing you, it is proper behavior for some objects to go through the Finalizer queue.</p>\n\n<p>Under normal circumstances, any object that overrides the <code>finalize</code> method will be queued for finalization (which consists of calling the <code>finalize</code> method). The general idea is that when the garbage collector identifies an object as unreachable, it looks to see if the <code>finalize</code> method is overridden and has not yet been called. If <code>finalize</code> is defined and has not yet been called, then the object is queued for finalization, otherwise the memory is collected.</p>\n\n<p>The finalizer appears to be implemented as a queue that is serviced by a single thread. The thread processes each object in the queue by calling <code>finalize</code>. After the call to <code>finalize</code> completes, the object is removed from the queue.</p>\n\n<p>Subsequently, when the garbage collector again determines that the object is unreachable, it will find that <code>finalize</code> is overridden, but has already been called. The member is collected.</p>\n\n<p>Note that using this feature delays collection of garbage. And while it is a convenient way to clean up an object, the JVM does not guarantee when or even if the <code>finalize</code> method will be called.</p>\n\n<p>One related risk is \"finalizer starvation.\" You mention \"growing\" so perhaps this is an issue you are facing. If you create enough garbage that requires finalization and if that finalization takes too long, you can actually run out of memory because the single finalizer queue cannot keep up. There are a number of ways to deal with this situation:</p>\n\n<ul>\n<li>Make execution of <code>finalize</code> complete (infinite loops are bad) and quickly.</li>\n<li>Avoid synchronization in <code>finalize</code>.</li>\n<li>Make the Finalizer thread have the highest execution priority. This can be accomplished by creating a garbage instance that changes the thread priority in the finalizer - create one of these during app initialization.</li>\n</ul>\n\n<p>If you are seeing starvation, use a thread dump to see what the Finalizer thread is working on.</p>\n"},{"comments":[{"owner":{"account_id":27772393,"reputation":1,"user_id":21202467,"display_name":"Nasir Mushtaq"},"score":0,"creation_date":1676279155,"post_id":75433827,"comment_id":133098101,"body_markdown":"Create only one client and reuse that","body":"Create only one client and reuse that"},{"owner":{"account_id":22836830,"reputation":1684,"user_id":16984466,"display_name":"Lucas Grugru"},"score":0,"creation_date":1676557170,"post_id":75433827,"comment_id":133163825,"body_markdown":"Who is Paul Samsotha ? What answer ?","body":"Who is Paul Samsotha ? What answer ?"}],"tags":[],"owner":{"account_id":27772393,"reputation":1,"user_id":21202467,"display_name":"Nasir Mushtaq"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676279114,"creation_date":1676279114,"answer_id":75433827,"question_id":38570732,"body_markdown":"Was facing the same issue,  Paul Samsotha&#39;s answer helped. Creating Client loads jersey jars and JARFile in java overrides finalize method putting lot of overhead on finalizer thread.","title":"Jersey 2.x leaking memory (Finalizer) with simple POST call (Multithreaded)","body":"<p>Was facing the same issue,  Paul Samsotha's answer helped. Creating Client loads jersey jars and JARFile in java overrides finalize method putting lot of overhead on finalizer thread.</p>\n"}],"owner":{"account_id":3216824,"reputation":311,"user_id":2715285,"display_name":"Yordan Boev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676279114,"creation_date":1469457637,"question_id":38570732,"body_markdown":"The following simple Jersey call is leaking Objects into the Finalizer queue:\r\n    &lt;code&gt;\r\n\r\n    public boolean startExperiment(Experiment experiment) {\r\n            final Client client = ClientBuilder.newClient();\r\n            Response response = null;\r\n            RunDescriptor runDescr = experiment.getRunDescriptor();\r\n            try {\r\n                final WebTarget webTarget = client.target(ExperimentController.getInstance().getRunnerUrl()).path(&quot;runs&quot;).path(&quot;startNewAsyncrun&quot;);\r\n                response = webTarget.request().post(Entity.entity(runDescr, MediaType.APPLICATION_JSON));\r\n                if (response != null &amp;&amp; response.getStatusInfo().getStatusCode() != Status.CREATED.getStatusCode()) {\r\n                    System.out.println(&quot;Error, Run not created! Response Info: &quot; + response.getStatusInfo());\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            } finally {\r\n                if(response != null) {\r\n                    response.close();\r\n                }\r\n                client.close();\r\n            }\r\n    \r\n        }\r\nJersey versions with which I tested: 2.18, 2.20, 2.22.2, 2.23.1. The code is run from multiple threads (each thread running it once every minute, for example). Also closing Response and Client should not be necessary, added it jsut in case to test if it would help.\r\nEclipse MAT shows Finalizer queue to be growing with Objects of type: \r\n\r\n* sun.security.ssl.SSLSocketImplementation\r\n* java.io.FileInputStream\r\n* sun.net.www.protocol.https.DelegateHttpsURLConnection\r\n* org.glassfish.jersey.client.ClientRuntime\r\n* ZipFileInflaterInputStream\r\n\r\nAny help or thoughts on the matter is really appreciated!\r\n  ","title":"Jersey 2.x leaking memory (Finalizer) with simple POST call (Multithreaded)","body":"<p>The following simple Jersey call is leaking Objects into the Finalizer queue:\n    <code></p>\n\n<pre>public boolean startExperiment(Experiment experiment) {\n        final Client client = ClientBuilder.newClient();\n        Response response = null;\n        RunDescriptor runDescr = experiment.getRunDescriptor();\n        try {\n            final WebTarget webTarget = client.target(ExperimentController.getInstance().getRunnerUrl()).path(\"runs\").path(\"startNewAsyncrun\");\n            response = webTarget.request().post(Entity.entity(runDescr, MediaType.APPLICATION_JSON));\n            if (response != null &amp;&amp; response.getStatusInfo().getStatusCode() != Status.CREATED.getStatusCode()) {\n                System.out.println(\"Error, Run not created! Response Info: \" + response.getStatusInfo());\n                return false;\n            } else {\n                return true;\n            }\n        } finally {\n            if(response != null) {\n                response.close();\n            }\n            client.close();\n        }\n\n    }\n</code></pre>\n\n<p>Jersey versions with which I tested: 2.18, 2.20, 2.22.2, 2.23.1. The code is run from multiple threads (each thread running it once every minute, for example). Also closing Response and Client should not be necessary, added it jsut in case to test if it would help.\nEclipse MAT shows Finalizer queue to be growing with Objects of type: </p>\n\n<ul>\n<li>sun.security.ssl.SSLSocketImplementation</li>\n<li>java.io.FileInputStream</li>\n<li>sun.net.www.protocol.https.DelegateHttpsURLConnection</li>\n<li>org.glassfish.jersey.client.ClientRuntime</li>\n<li>ZipFileInflaterInputStream</li>\n</ul>\n\n<p>Any help or thoughts on the matter is really appreciated!</p>\n"},{"tags":["java","windows","conda","virtualenv"],"answers":[{"comments":[{"owner":{"account_id":24271449,"reputation":33,"user_id":18219418,"display_name":"Himu R"},"score":0,"creation_date":1676331269,"post_id":75433767,"comment_id":133112400,"body_markdown":"Thank you. I am trying to enable the switch of Java version only while in a specific Conda env. So, I don&#39;t need to change the java version back and forth by running .bat or manually tweaking system env, every time such need arise.  I, perhaps need to tweak activate.bat under the environment. However, I&#39;d like to make sure that attempting to do so don&#39;t break the Conda. It&#39;d be nice to find where in Conda a program (.bat, or .exe) refer to Java environment variable. Thank you in advance for further help.","body":"Thank you. I am trying to enable the switch of Java version only while in a specific Conda env. So, I don&#39;t need to change the java version back and forth by running .bat or manually tweaking system env, every time such need arise.  I, perhaps need to tweak activate.bat under the environment. However, I&#39;d like to make sure that attempting to do so don&#39;t break the Conda. It&#39;d be nice to find where in Conda a program (.bat, or .exe) refer to Java environment variable. Thank you in advance for further help."},{"owner":{"account_id":24271449,"reputation":33,"user_id":18219418,"display_name":"Himu R"},"score":0,"creation_date":1676331568,"post_id":75433767,"comment_id":133112436,"body_markdown":"I am assuming that Conda activate &lt;name_of_venv&gt; fires conda_activate.bat and conda_deactivate.bat is fired just before the environment is deactivated. Can you confirm that?","body":"I am assuming that Conda activate &lt;name_of_venv&gt; fires conda_activate.bat and conda_deactivate.bat is fired just before the environment is deactivated. Can you confirm that?"},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1676342987,"post_id":75433767,"comment_id":133113923,"body_markdown":"I am not sure how conda fires in Windows. But you can write a conda_activate.bat /conda_deactivate.bat etc and add the set JAVA_HOME followed by conda command. That would ensure that the conda uses the proper java.","body":"I am not sure how conda fires in Windows. But you can write a conda_activate.bat /conda_deactivate.bat etc and add the set JAVA_HOME followed by conda command. That would ensure that the conda uses the proper java."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676278760,"creation_date":1676278760,"answer_id":75433767,"question_id":75431671,"body_markdown":"You need to keep multiple batch files to set the correct JAVA version in your windows computer. \r\n\r\nYour java11 batch script might look like \r\n\r\n       set JAVA_HOME=C:\\Program Files\\Microsoft\\jdk-11\\\r\n       echo Java 11.\r\n\r\nAnd java17 batch script should look like \r\n\r\n\r\n\r\n       set JAVA_HOME=C:\\Program Files\\Microsoft\\jdk-17.0.5.8-hotspot\\\r\n       echo Java 11 activated.\r\n    \r\nNow when you want to switch between these two just run the batch script for the version of java you want.\r\n\r\nTo enable conda to use the jdk11, you can add another conda batch script that invokes the java11 batch script before staring conda. \r\n\r\nThis is the standard way of managing multiple Java versions in windows. ","title":"Desired Verson of JDK in conda environment","body":"<p>You need to keep multiple batch files to set the correct JAVA version in your windows computer.</p>\n<p>Your java11 batch script might look like</p>\n<pre><code>   set JAVA_HOME=C:\\Program Files\\Microsoft\\jdk-11\\\n   echo Java 11.\n</code></pre>\n<p>And java17 batch script should look like</p>\n<pre><code>   set JAVA_HOME=C:\\Program Files\\Microsoft\\jdk-17.0.5.8-hotspot\\\n   echo Java 11 activated.\n</code></pre>\n<p>Now when you want to switch between these two just run the batch script for the version of java you want.</p>\n<p>To enable conda to use the jdk11, you can add another conda batch script that invokes the java11 batch script before staring conda.</p>\n<p>This is the standard way of managing multiple Java versions in windows.</p>\n"}],"owner":{"account_id":24271449,"reputation":33,"user_id":18219418,"display_name":"Himu R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676278760,"creation_date":1676258658,"question_id":75431671,"body_markdown":"My Conda Environment is reading a wrong version of JDK.\r\n\r\nI have JDK 11 and JDK 17 Installed on Windows.\r\n\r\nI have JAVA_HOME and Path Variables pointing to JDK 17.\r\n\r\nI.E. JAVA_HOME=C:\\\\Program Files\\\\Microsoft\\\\jdk-17.0.5.8-hotspot\\\\\r\n\r\nAND\r\n\r\n%JAVA_HOME% is in path\r\n\r\nUnderstandably, Virtual Environment in Conda is picking up java from jdk-17 at C:\\\\Program Files\\\\Microsoft\\\\.\r\n\r\n**\\_**\\_\r\n\r\nI would like to be able to make at least one of the virtual environments of Conda see version of java from jdk-11.\r\n\r\nPlease Help ...\r\n\r\n\\_\\_\r\n\r\nNote: JDK-11 is installed and is readable (but not while the JAVA_HOME is pointing to jdk-17).\r\n\r\nYes, I can change the JAVA_HOME to point to jdk-11 and make Conda virtual environment point to jdk-11.\r\n\r\nHowever, I&#39;d like to make only the Conda virtual environment point to jdk-11, while still keeping the JAVA_HOME to point to jdk-17, for the rest of the programming environments.","title":"Desired Verson of JDK in conda environment","body":"<p>My Conda Environment is reading a wrong version of JDK.</p>\n<p>I have JDK 11 and JDK 17 Installed on Windows.</p>\n<p>I have JAVA_HOME and Path Variables pointing to JDK 17.</p>\n<p>I.E. JAVA_HOME=C:\\Program Files\\Microsoft\\jdk-17.0.5.8-hotspot\\</p>\n<p>AND</p>\n<p>%JAVA_HOME% is in path</p>\n<p>Understandably, Virtual Environment in Conda is picking up java from jdk-17 at C:\\Program Files\\Microsoft\\.</p>\n<p><strong>_</strong>_</p>\n<p>I would like to be able to make at least one of the virtual environments of Conda see version of java from jdk-11.</p>\n<p>Please Help ...</p>\n<p>__</p>\n<p>Note: JDK-11 is installed and is readable (but not while the JAVA_HOME is pointing to jdk-17).</p>\n<p>Yes, I can change the JAVA_HOME to point to jdk-11 and make Conda virtual environment point to jdk-11.</p>\n<p>However, I'd like to make only the Conda virtual environment point to jdk-11, while still keeping the JAVA_HOME to point to jdk-17, for the rest of the programming environments.</p>\n"},{"tags":["java","android","handler"],"answers":[{"tags":[],"owner":{"account_id":22214177,"reputation":152,"user_id":16452868,"display_name":"mantissa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676276961,"creation_date":1676276961,"answer_id":75433466,"question_id":75433373,"body_markdown":"you can implement a callback interface in MainActivity, which the member class can use to notify MainActivity when the HTTP response has been received. This way, MainActivity can start the next activity in response to the callback.\r\nsmth like this:\r\n\r\n    public class MyClass {\r\n    private Callback callback;\r\n    \r\n    public void makeHttpRequest() {\r\n        // Make the HTTP request here\r\n        \r\n        // Call the callback when the response has been received\r\n        callback.onResponseReceived();\r\n        }\r\n     }\r\nIn your main activity:\r\n\r\n    @Override\r\n    public void onResponseReceived() {\r\n        // Start the next activity here\r\n    }\r\n\r\n\r\n","title":"How can I access MainActivity from a thread which is inside a member class?","body":"<p>you can implement a callback interface in MainActivity, which the member class can use to notify MainActivity when the HTTP response has been received. This way, MainActivity can start the next activity in response to the callback.\nsmth like this:</p>\n<pre><code>public class MyClass {\nprivate Callback callback;\n\npublic void makeHttpRequest() {\n    // Make the HTTP request here\n    \n    // Call the callback when the response has been received\n    callback.onResponseReceived();\n    }\n }\n</code></pre>\n<p>In your main activity:</p>\n<pre><code>@Override\npublic void onResponseReceived() {\n    // Start the next activity here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18695102,"reputation":1,"user_id":13628593,"display_name":"jelly Dowidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676278281,"creation_date":1676278281,"answer_id":75433682,"question_id":75433373,"body_markdown":"you can Create a constructor in your member class that takes a MainActivity instance as a parameter\r\n\r\n\r\n    public class MyMemberClass {\r\n    \r\n        private MainActivity mActivity;\r\n        public MyMemberClass(MainActivity activity) {\r\n            mActivity = activity;\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\n2. then pass the MainActivity instance to the member class when you create an instance of it\r\n\r\n    MyMemberClass myMember = new MyMemberClass(this);\r\n\r\nInside your member class, create a thread and pass the MainActivity instance to it:\r\n\r\n    public void startThread() {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Access MainActivity instance here\r\n                mActivity.doSomething();\r\n            }\r\n        }).start();\r\n    }\r\n\r\n\r\n\r\nand if you want to use handler its also a good approach to use\r\n\r\n","title":"How can I access MainActivity from a thread which is inside a member class?","body":"<p>you can Create a constructor in your member class that takes a MainActivity instance as a parameter</p>\n<pre><code>public class MyMemberClass {\n\n    private MainActivity mActivity;\n    public MyMemberClass(MainActivity activity) {\n        mActivity = activity;\n    }\n\n    // ...\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>then pass the MainActivity instance to the member class when you create an instance of it</p>\n<p>MyMemberClass myMember = new MyMemberClass(this);</p>\n</li>\n</ol>\n<p>Inside your member class, create a thread and pass the MainActivity instance to it:</p>\n<pre><code>public void startThread() {\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            // Access MainActivity instance here\n            mActivity.doSomething();\n        }\n    }).start();\n}\n</code></pre>\n<p>and if you want to use handler its also a good approach to use</p>\n"}],"owner":{"account_id":11117567,"reputation":125,"user_id":13604412,"display_name":"1amroff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75433466,"answer_count":2,"score":0,"last_activity_date":1676278281,"creation_date":1676276338,"question_id":75433373,"body_markdown":"I have a MainActivity in my app. When a user clicks on a button this activity instantiates a class which will carry out the Http request. But this Http request is send inside a Runnable.\r\n\r\nI want to start another activity when there is a response for that Http request. So I need a handler for sending messages from thread. How can I implement this? How can I access MainActivity from a thread inside a member object?\r\n\r\nI think that I should create a handler in MainActivity and pass it to the instantiated member class as a property. Then when the thread send the message, this message will be received by MainActivity. But I&#39;m not sure this is the correct approach.","title":"How can I access MainActivity from a thread which is inside a member class?","body":"<p>I have a MainActivity in my app. When a user clicks on a button this activity instantiates a class which will carry out the Http request. But this Http request is send inside a Runnable.</p>\n<p>I want to start another activity when there is a response for that Http request. So I need a handler for sending messages from thread. How can I implement this? How can I access MainActivity from a thread inside a member object?</p>\n<p>I think that I should create a handler in MainActivity and pass it to the instantiated member class as a property. Then when the thread send the message, this message will be received by MainActivity. But I'm not sure this is the correct approach.</p>\n"},{"tags":["java","xml","spring","eclipse","pom.xml"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676271942,"post_id":75432431,"comment_id":133096457,"body_markdown":"According to the screenshots your Eclipse is pretty old and a couple of releases behind. Please upgrade.","body":"According to the screenshots your Eclipse is pretty old and a couple of releases behind. Please upgrade."},{"owner":{"account_id":27771216,"reputation":1,"user_id":21201464,"display_name":"jang"},"score":0,"creation_date":1676272903,"post_id":75432431,"comment_id":133096634,"body_markdown":"@howlger thx! I upgraded but same error occurred...","body":"@howlger thx! I upgraded but same error occurred..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1676273875,"post_id":75432431,"comment_id":133096826,"body_markdown":"Your question is still about a quite old Eclipse. Please make sure that the software you are using is up to date before asking a question. Please go to the _Error Log_ view, select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_. The errors seems to be caused by the `net.harawata.mybatipse` plugin. Can you reproduce the error with the current Eclipse without additional plugins and with a fresh workspace?","body":"Your question is still about a quite old Eclipse. Please make sure that the software you are using is up to date before asking a question. Please go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>. The errors seems to be caused by the <code>net.harawata.mybatipse</code> plugin. Can you reproduce the error with the current Eclipse without additional plugins and with a fresh workspace?"},{"owner":{"account_id":27771216,"reputation":1,"user_id":21201464,"display_name":"jang"},"score":0,"creation_date":1676278198,"post_id":75432431,"comment_id":133097837,"body_markdown":"@howlger yes sure! I added [reproduce error] at the bottom of Body. Thank you for taking the time.","body":"@howlger yes sure! I added [reproduce error] at the bottom of Body. Thank you for taking the time."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676281639,"post_id":75432431,"comment_id":133098739,"body_markdown":"There are two things. There are errors in your `pom.xml` in line 189 and 8 about incorrect livecycle mappings. The other thing is the internal error you get. Please focus of one thing only. For the first thing, show a [minimal `pom.xml` with which the issue can reproduced](https://stackoverflow.com/help/minimal-reproducible-example) in the current version of Eclipse without additional plugins. For the other thing, in the current Eclipse, go to the _Error Log_ view, select the error, hit Ctrl+C and paste it into your question formatted as _Sample Code_.","body":"There are two things. There are errors in your <code>pom.xml</code> in line 189 and 8 about incorrect livecycle mappings. The other thing is the internal error you get. Please focus of one thing only. For the first thing, show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal <code>pom.xml</code> with which the issue can reproduced</a> in the current version of Eclipse without additional plugins. For the other thing, in the current Eclipse, go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1676302653,"post_id":75432431,"comment_id":133105118,"body_markdown":"If the Project Explorer can not render itself, your installation is broken in some way, and that has to be addressed first.","body":"If the Project Explorer can not render itself, your installation is broken in some way, and that has to be addressed first."},{"owner":{"account_id":27771216,"reputation":1,"user_id":21201464,"display_name":"jang"},"score":0,"creation_date":1676341852,"post_id":75432431,"comment_id":133113818,"body_markdown":"I just imported project and Project Explorer can render itself. Thank you all, I appreciate it.","body":"I just imported project and Project Explorer can render itself. Thank you all, I appreciate it."}],"owner":{"account_id":27771216,"reputation":1,"user_id":21201464,"display_name":"jang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676278014,"creation_date":1676269095,"question_id":75432431,"body_markdown":"After change some codes at pom.xml, this error has occurred when I launch workspace:\r\n[![https://i.stack.imgur.com/jnytg.png][1]][1]\r\n\r\nand then other few more errors show up.\r\nBesides, Project Explorer doesn&#39;t show up:\r\n[![https://i.stack.imgur.com/j742E.png][2]][2]\r\n\r\n    An error has occurred. See error log for more details.\r\n    java.lang.NullPointerException\r\n    \r\n    The &#39;net.harawata.mybatipse.XmlMapperHyperlinkDetector&#39; extension from plug-in &#39;net.harawata.mybatipse&#39; to the &#39;org.eclipse.ui.workbench.texteditor.hyperlinkDetectors&#39; extension point failed to load the hyperlink detector.\r\n    Plug-in &quot;net.harawata.mybatipse&quot; was unable to instantiate class &quot;net.harawata.mybatipse.hyperlink.XmlHyperlinkDetector&quot;.\r\n    org/eclipse/jdt/core/IJavaElement\r\n    \r\n    The &#39;org.eclipse.jst.jsp.ui.internal.hyperlink.XMLJavaHyperlinkDetector&#39; extension from plug-in &#39;org.eclipse.jst.jsp.ui&#39; to the &#39;org.eclipse.ui.workbench.texteditor.hyperlinkDetectors&#39; extension point failed to load the hyperlink detector.\r\n    Plug-in &quot;org.eclipse.jst.jsp.ui&quot; was unable to instantiate class &quot;org.eclipse.jst.jsp.ui.internal.hyperlink.XMLJavaHyperlinkDetector&quot;.\r\n    org/eclipse/jst/jsp/core/internal/java/JSPTranslation\r\n    \r\n    An internal error occurred during: &quot;Compute launch button tooltip&quot;.\r\n    org/eclipse/jdt/core/JavaModelException\r\n    \r\n    An internal error occurred during: &quot;Initializing Boot Validation Enabler&quot;.\r\n    org/eclipse/jdt/core/IElementChangedListener\r\n\r\nI also tried to add\r\n`-Dcom.ibm.icu.util.TimeZone.DefaultTimeZoneType=ICU` in `eclipse.ini`\r\n\r\n\r\n[reproudce error]\r\n\r\n\r\n[![https://i.stack.imgur.com/DrIey.png][3]][3]\r\n[![https://i.stack.imgur.com/5beAx.png][4]][4]\r\n\r\n\r\n    Multiple annotations found at this line:\r\n\t- Project configurator &quot;org.maven.ide.eclipse.configuration.wtp.configurator&quot; required by plugin execution &quot;org.apache.maven.plugins:maven-war-plugin:2.2:war (execution: default-war, phase: package)&quot; is not available. To enable full functionality, install the \r\n\t project configurator and run Maven-&gt;Update Project Configuration.\r\n\t- Project configurator &quot;org.maven.ide.eclipse.configuration.wtp.overlay.configurator&quot; required by plugin execution &quot;org.apache.maven.plugins:maven-war-plugin:2.2:war (execution: default-war, phase: package)&quot; is not available. To enable full functionality, \r\n\t install the project configurator and run Maven-&gt;Update Project Configuration.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jnytg.png\r\n  [2]: https://i.stack.imgur.com/j742E.png\r\n  [3]: https://i.stack.imgur.com/DrIey.png\r\n  [4]: https://i.stack.imgur.com/5beAx.png","title":"An internal error occurred during: &quot;Loading referenced grammars&quot;. org/eclipse/jdt/core/IElementChangedListener","body":"<p>After change some codes at pom.xml, this error has occurred when I launch workspace:\n<a href=\"https://i.stack.imgur.com/jnytg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jnytg.png\" alt=\"https://i.stack.imgur.com/jnytg.png\" /></a></p>\n<p>and then other few more errors show up.\nBesides, Project Explorer doesn't show up:\n<a href=\"https://i.stack.imgur.com/j742E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j742E.png\" alt=\"https://i.stack.imgur.com/j742E.png\" /></a></p>\n<pre><code>An error has occurred. See error log for more details.\njava.lang.NullPointerException\n\nThe 'net.harawata.mybatipse.XmlMapperHyperlinkDetector' extension from plug-in 'net.harawata.mybatipse' to the 'org.eclipse.ui.workbench.texteditor.hyperlinkDetectors' extension point failed to load the hyperlink detector.\nPlug-in &quot;net.harawata.mybatipse&quot; was unable to instantiate class &quot;net.harawata.mybatipse.hyperlink.XmlHyperlinkDetector&quot;.\norg/eclipse/jdt/core/IJavaElement\n\nThe 'org.eclipse.jst.jsp.ui.internal.hyperlink.XMLJavaHyperlinkDetector' extension from plug-in 'org.eclipse.jst.jsp.ui' to the 'org.eclipse.ui.workbench.texteditor.hyperlinkDetectors' extension point failed to load the hyperlink detector.\nPlug-in &quot;org.eclipse.jst.jsp.ui&quot; was unable to instantiate class &quot;org.eclipse.jst.jsp.ui.internal.hyperlink.XMLJavaHyperlinkDetector&quot;.\norg/eclipse/jst/jsp/core/internal/java/JSPTranslation\n\nAn internal error occurred during: &quot;Compute launch button tooltip&quot;.\norg/eclipse/jdt/core/JavaModelException\n\nAn internal error occurred during: &quot;Initializing Boot Validation Enabler&quot;.\norg/eclipse/jdt/core/IElementChangedListener\n</code></pre>\n<p>I also tried to add\n<code>-Dcom.ibm.icu.util.TimeZone.DefaultTimeZoneType=ICU</code> in <code>eclipse.ini</code></p>\n<p>[reproudce error]</p>\n<p><a href=\"https://i.stack.imgur.com/DrIey.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DrIey.png\" alt=\"https://i.stack.imgur.com/DrIey.png\" /></a>\n<a href=\"https://i.stack.imgur.com/5beAx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5beAx.png\" alt=\"https://i.stack.imgur.com/5beAx.png\" /></a></p>\n<pre><code>Multiple annotations found at this line:\n- Project configurator &quot;org.maven.ide.eclipse.configuration.wtp.configurator&quot; required by plugin execution &quot;org.apache.maven.plugins:maven-war-plugin:2.2:war (execution: default-war, phase: package)&quot; is not available. To enable full functionality, install the \n project configurator and run Maven-&gt;Update Project Configuration.\n- Project configurator &quot;org.maven.ide.eclipse.configuration.wtp.overlay.configurator&quot; required by plugin execution &quot;org.apache.maven.plugins:maven-war-plugin:2.2:war (execution: default-war, phase: package)&quot; is not available. To enable full functionality, \n install the project configurator and run Maven-&gt;Update Project Configuration.\n</code></pre>\n"},{"tags":["java","json","spring-boot","jackson","json-deserialization"],"answers":[{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1676252884,"post_id":75401034,"comment_id":133094316,"body_markdown":"You should summarise what information a link provides as links to external sites can break","body":"You should summarise what information a link provides as links to external sites can break"}],"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676277867,"creation_date":1675957544,"answer_id":75401034,"question_id":75397587,"body_markdown":"It seems that ObjectMapper is not ignoring null values when serializing objects. So when creating he object mapper use the setSerializationInclusion(Include.NON_NULL) method call to tell the ObjectMapper to ignore the null values:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setSerializationInclusion(Include.NON_NULL);\r\n\r\nYou can find the details [here][1]\r\n\r\nEdit: added the summarization of the solution as [moken][2] suggested in comments.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-ignore-null-fields\r\n  [2]: https://stackoverflow.com/users/13664137/moken","title":"@JsonView does not filter fields","body":"<p>It seems that ObjectMapper is not ignoring null values when serializing objects. So when creating he object mapper use the setSerializationInclusion(Include.NON_NULL) method call to tell the ObjectMapper to ignore the null values:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n<p>You can find the details <a href=\"https://www.baeldung.com/jackson-ignore-null-fields\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Edit: added the summarization of the solution as <a href=\"https://stackoverflow.com/users/13664137/moken\">moken</a> suggested in comments.</p>\n"}],"owner":{"account_id":27743220,"reputation":13,"user_id":21179226,"display_name":"Issatay Tleuov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75401034,"answer_count":1,"score":0,"last_activity_date":1676277867,"creation_date":1675940106,"question_id":75397587,"body_markdown":"I have problem while deserializing JSON to Java Object. I have models and views as shown below:\r\n\r\n```\r\npublic class View {\r\n    public static class CreateIpSuccessResponse {}\r\n    public static class CreateIpErrorResponse {}\r\n}\r\n```\r\n\r\nI use this views in this classes:\r\n\r\nRoot class:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CreateIpResponse {\r\n    @JsonProperty(value = &quot;pResponseCode&quot;)\r\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\r\n    private Object pResponseCode;\r\n    @JsonProperty(value = &quot;pResponse&quot;)\r\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\r\n    private CreateIpPResponse createIpPResponse;\r\n}\r\n```\r\n\r\nFirst subclass:\r\n\r\n```\r\n@Data\r\npublic class CreateIpPResponse {\r\n    @JsonProperty(&quot;Status&quot;)\r\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\r\n    private String status;\r\n    @JsonProperty(&quot;Result&quot;)\r\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\r\n    private CreateIpResult result;\r\n    @JsonProperty(&quot;responseCode&quot;)\r\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\r\n    private String responseCode;\r\n}\r\n```\r\n\r\nSecond subclass:\r\n\r\n```\r\n@Data\r\npublic class CreateIpResult {\r\n    @JsonProperty(value = &quot;partyid&quot;)\r\n    @JsonView(View.CreateIpSuccessResponse.class)\r\n    private String partyId;\r\n\r\n    @JsonProperty(value = &quot;Error&quot;)\r\n    @JsonView(View.CreateIpErrorResponse.class)\r\n    private String error;\r\n}\r\n```\r\n\r\nExample of my json deserialization:\r\n\r\n```\r\n    public CreateIpResponse createIp(CreateIpRequest createIpRequest) throws IOException, SQLException {\r\n        String pRequest = new ObjectMapper().writer().withDefaultPrettyPrinter().writeValueAsString(createIpRequest);\r\n        Map&lt;String, Object&gt; response = openAccountRepository.callProcedure(pRequest, &quot;createClientIP&quot;);\r\n        BigDecimal responseCode = (BigDecimal) response.get(&quot;pResponseCode&quot;);\r\n        if (responseCode.equals(new BigDecimal(&quot;200&quot;))) {\r\n            return mapper\r\n                    .readerWithView(View.CreateIpSuccessResponse.class)\r\n                    .forType(CreateIpResponse.class)\r\n                    .readValue(mapper.writeValueAsString(response));\r\n        } else {\r\n            return mapper\r\n                    .readerWithView(View.CreateIpErrorResponse.class)\r\n                    .forType(CreateIpResponse.class)\r\n                    .readValue(mapper.writeValueAsString(response));\r\n        }\r\n    }\r\n```\r\n\r\nWhen I deserialize ***CreateIpSuccessResponse*** view, I expect:\r\n\r\n```\r\n{\r\n    &quot;pResponseCode&quot;: 200,\r\n    &quot;pResponse&quot;: {\r\n        &quot;Status&quot;: &quot;OK&quot;,\r\n        &quot;Result&quot;: {\r\n            &quot;partyid&quot;: &quot;98493305&quot;\r\n        },\r\n        &quot;responseCode&quot;: &quot;200&quot;\r\n    }\r\n}\r\n```\r\n\r\nBut I get:\r\n\r\n```\r\n{\r\n    &quot;pResponseCode&quot;: 200,\r\n    &quot;pResponse&quot;: {\r\n        &quot;Status&quot;: &quot;OK&quot;,\r\n        &quot;Result&quot;: {\r\n            &quot;partyid&quot;: &quot;98493305&quot;,\r\n            &quot;Error&quot;: null\r\n        },\r\n        &quot;responseCode&quot;: &quot;200&quot;\r\n    }\r\n}\r\n```\r\n\r\nand vice versa, when I deserialize ***CreateIpErrorResponse*** view, I expect:\r\n\r\n```\r\n{\r\n    &quot;pResponseCode&quot;: 400,\r\n    &quot;pResponse&quot;: {\r\n        &quot;Status&quot;: &quot;Error&quot;,\r\n        &quot;Result&quot;: {\r\n            &quot;Error&quot;: &quot;Некорректная дата выпуска&quot;\r\n        },\r\n        &quot;responseCode&quot;: &quot;200&quot;\r\n    }\r\n}\r\n```\r\n\r\nBut I get:\r\n\r\n```\r\n{\r\n    &quot;pResponseCode&quot;: 400,\r\n    &quot;pResponse&quot;: {\r\n        &quot;Status&quot;: &quot;Error&quot;,\r\n        &quot;Result&quot;: {\r\n            &quot;partyid&quot;: null,\r\n            &quot;Error&quot;: &quot;Некорректная дата выпуска&quot;\r\n        },\r\n        &quot;responseCode&quot;: &quot;200&quot;\r\n    }\r\n}\r\n```\r\n\r\nMy question is why i don\\`t getting result that i need?","title":"@JsonView does not filter fields","body":"<p>I have problem while deserializing JSON to Java Object. I have models and views as shown below:</p>\n<pre><code>public class View {\n    public static class CreateIpSuccessResponse {}\n    public static class CreateIpErrorResponse {}\n}\n</code></pre>\n<p>I use this views in this classes:</p>\n<p>Root class:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CreateIpResponse {\n    @JsonProperty(value = &quot;pResponseCode&quot;)\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\n    private Object pResponseCode;\n    @JsonProperty(value = &quot;pResponse&quot;)\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\n    private CreateIpPResponse createIpPResponse;\n}\n</code></pre>\n<p>First subclass:</p>\n<pre><code>@Data\npublic class CreateIpPResponse {\n    @JsonProperty(&quot;Status&quot;)\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\n    private String status;\n    @JsonProperty(&quot;Result&quot;)\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\n    private CreateIpResult result;\n    @JsonProperty(&quot;responseCode&quot;)\n    @JsonView({View.CreateIpSuccessResponse.class, View.CreateIpErrorResponse.class})\n    private String responseCode;\n}\n</code></pre>\n<p>Second subclass:</p>\n<pre><code>@Data\npublic class CreateIpResult {\n    @JsonProperty(value = &quot;partyid&quot;)\n    @JsonView(View.CreateIpSuccessResponse.class)\n    private String partyId;\n\n    @JsonProperty(value = &quot;Error&quot;)\n    @JsonView(View.CreateIpErrorResponse.class)\n    private String error;\n}\n</code></pre>\n<p>Example of my json deserialization:</p>\n<pre><code>    public CreateIpResponse createIp(CreateIpRequest createIpRequest) throws IOException, SQLException {\n        String pRequest = new ObjectMapper().writer().withDefaultPrettyPrinter().writeValueAsString(createIpRequest);\n        Map&lt;String, Object&gt; response = openAccountRepository.callProcedure(pRequest, &quot;createClientIP&quot;);\n        BigDecimal responseCode = (BigDecimal) response.get(&quot;pResponseCode&quot;);\n        if (responseCode.equals(new BigDecimal(&quot;200&quot;))) {\n            return mapper\n                    .readerWithView(View.CreateIpSuccessResponse.class)\n                    .forType(CreateIpResponse.class)\n                    .readValue(mapper.writeValueAsString(response));\n        } else {\n            return mapper\n                    .readerWithView(View.CreateIpErrorResponse.class)\n                    .forType(CreateIpResponse.class)\n                    .readValue(mapper.writeValueAsString(response));\n        }\n    }\n</code></pre>\n<p>When I deserialize <em><strong>CreateIpSuccessResponse</strong></em> view, I expect:</p>\n<pre><code>{\n    &quot;pResponseCode&quot;: 200,\n    &quot;pResponse&quot;: {\n        &quot;Status&quot;: &quot;OK&quot;,\n        &quot;Result&quot;: {\n            &quot;partyid&quot;: &quot;98493305&quot;\n        },\n        &quot;responseCode&quot;: &quot;200&quot;\n    }\n}\n</code></pre>\n<p>But I get:</p>\n<pre><code>{\n    &quot;pResponseCode&quot;: 200,\n    &quot;pResponse&quot;: {\n        &quot;Status&quot;: &quot;OK&quot;,\n        &quot;Result&quot;: {\n            &quot;partyid&quot;: &quot;98493305&quot;,\n            &quot;Error&quot;: null\n        },\n        &quot;responseCode&quot;: &quot;200&quot;\n    }\n}\n</code></pre>\n<p>and vice versa, when I deserialize <em><strong>CreateIpErrorResponse</strong></em> view, I expect:</p>\n<pre><code>{\n    &quot;pResponseCode&quot;: 400,\n    &quot;pResponse&quot;: {\n        &quot;Status&quot;: &quot;Error&quot;,\n        &quot;Result&quot;: {\n            &quot;Error&quot;: &quot;Некорректная дата выпуска&quot;\n        },\n        &quot;responseCode&quot;: &quot;200&quot;\n    }\n}\n</code></pre>\n<p>But I get:</p>\n<pre><code>{\n    &quot;pResponseCode&quot;: 400,\n    &quot;pResponse&quot;: {\n        &quot;Status&quot;: &quot;Error&quot;,\n        &quot;Result&quot;: {\n            &quot;partyid&quot;: null,\n            &quot;Error&quot;: &quot;Некорректная дата выпуска&quot;\n        },\n        &quot;responseCode&quot;: &quot;200&quot;\n    }\n}\n</code></pre>\n<p>My question is why i don`t getting result that i need?</p>\n"},{"tags":["java","android","android-studio","flutter","sdk"],"answers":[{"tags":[],"owner":{"account_id":2914299,"reputation":9061,"user_id":2497859,"display_name":"Omatt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676277539,"creation_date":1676277539,"answer_id":75433565,"question_id":59403343,"body_markdown":"Setting `JAVA_OPTS` causes issues on using JDK versions lower than 11 as mentioned on this [issue thread][1]. Removing this should resolve the issue. Another workaround to prevent similar issues is to use the [JDK bundled][2] with Android Studio.\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/39549\r\n  [2]: https://developer.android.com/studio/intro/studio-config#jdk","title":"Android Studio SDKmanager Error: Could not find or load main class","body":"<p>Setting <code>JAVA_OPTS</code> causes issues on using JDK versions lower than 11 as mentioned on this <a href=\"https://github.com/flutter/flutter/issues/39549\" rel=\"nofollow noreferrer\">issue thread</a>. Removing this should resolve the issue. Another workaround to prevent similar issues is to use the <a href=\"https://developer.android.com/studio/intro/studio-config#jdk\" rel=\"nofollow noreferrer\">JDK bundled</a> with Android Studio.</p>\n"}],"owner":{"account_id":17342011,"reputation":31,"user_id":12562401,"display_name":"Help Please"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1213,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676277539,"creation_date":1576730077,"question_id":59403343,"body_markdown":"Currently I am trying to set up my Android Studio environment for Flutter and I am unable to update sdkmanager or else I would obtain the following errors :\r\n\r\n![Error: Could not find or load main class][1]\r\n\r\nThis error affects the rest of my tools folder (sdkmanager,avdmanager, basically any .bat I run within that folder) as well. \r\n\r\n**What I have tried:**\r\n\r\n - Clean installed and reinstalled Android Studio numerous times\r\n - Uninstalled and reinstalled Java numerous times (Version 13)\r\n - Change parts of my sdkmanager.bat and android.bat based on the other stack overflow questions--since this did not work, I reverted them back to the original code\r\n - Run as admin with command prompt and powershell\r\n - Installed JDK 8 because Flutter doesn’t like other versions of Java\r\n - Changed my environmental variables -these are the variables in relation to Android Studio and Java as of now\r\n\r\nCLASSPATH - %JAVA_HOME%\\lib;\r\n\r\nJAVA_HOME - C:\\Program Files\\Java\\jdk-13.0.1\r\n\r\nPATH - C:\\Users\\[username]\\AppData\\Local\\Android;C:\\Program Files\\Java\\jdk-13.0.1\\bin;C:\\Windows\\system32;C:\\Users\\[username]\\Documents\\flutter\\bin;C:\\Program Files\\Git\\git-cmd.exe;\r\n\r\n**Updates**\r\n\r\nFor majority of the .bat files, %JAVA_OPTS% is causing the issue, I’ve tried to set a JAVA_OPTS variable but that does not help\r\n\r\n**Solution**\r\n\r\nI deleted %JAVA_OPTS% from the .bat file and it seems that was the issue, but I don’t think I’m supposed to delete that part.\r\n\r\n  [1]: https://i.stack.imgur.com/0m2g5.png","title":"Android Studio SDKmanager Error: Could not find or load main class","body":"<p>Currently I am trying to set up my Android Studio environment for Flutter and I am unable to update sdkmanager or else I would obtain the following errors :</p>\n<p><img src=\"https://i.stack.imgur.com/0m2g5.png\" alt=\"Error: Could not find or load main class\" /></p>\n<p>This error affects the rest of my tools folder (sdkmanager,avdmanager, basically any .bat I run within that folder) as well.</p>\n<p><strong>What I have tried:</strong></p>\n<ul>\n<li>Clean installed and reinstalled Android Studio numerous times</li>\n<li>Uninstalled and reinstalled Java numerous times (Version 13)</li>\n<li>Change parts of my sdkmanager.bat and android.bat based on the other stack overflow questions--since this did not work, I reverted them back to the original code</li>\n<li>Run as admin with command prompt and powershell</li>\n<li>Installed JDK 8 because Flutter doesn’t like other versions of Java</li>\n<li>Changed my environmental variables -these are the variables in relation to Android Studio and Java as of now</li>\n</ul>\n<p>CLASSPATH - %JAVA_HOME%\\lib;</p>\n<p>JAVA_HOME - C:\\Program Files\\Java\\jdk-13.0.1</p>\n<p>PATH - C:\\Users[username]\\AppData\\Local\\Android;C:\\Program Files\\Java\\jdk-13.0.1\\bin;C:\\Windows\\system32;C:\\Users[username]\\Documents\\flutter\\bin;C:\\Program Files\\Git\\git-cmd.exe;</p>\n<p><strong>Updates</strong></p>\n<p>For majority of the .bat files, %JAVA_OPTS% is causing the issue, I’ve tried to set a JAVA_OPTS variable but that does not help</p>\n<p><strong>Solution</strong></p>\n<p>I deleted %JAVA_OPTS% from the .bat file and it seems that was the issue, but I don’t think I’m supposed to delete that part.</p>\n"},{"tags":["java","graphics","png","bufferedimage","premultiplied-alpha"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1676277614,"post_id":75427459,"comment_id":133097678,"body_markdown":"I think the problem is that `setRGB` expects the input to be in non-premultiplied form regardless of the destination image type. So you need to un-multiply the pixels.","body":"I think the problem is that <code>setRGB</code> expects the input to be in non-premultiplied form regardless of the destination image type. So you need to un-multiply the pixels."}],"answers":[{"comments":[{"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"score":1,"creation_date":1676302437,"post_id":75433534,"comment_id":133105050,"body_markdown":"And that worked. Wow. Thanks. I never thought to just shove the array in there manually like that","body":"And that worked. Wow. Thanks. I never thought to just shove the array in there manually like that"}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676277364,"creation_date":1676277364,"answer_id":75433534,"question_id":75427459,"body_markdown":"The JavaDoc for `BufferedImage.setRGB(...)` says:\r\n\r\n&gt; Sets an array of integer pixels in the default RGB color model (TYPE_INT_ARGB) and default sRGB color space, into a portion of the image data.\r\n\r\nThis means that your input data `argbInts` needs to be in *non-premultiplied form*, regardless of the destination image type. It&#39;s of course possible to un-multiply the input pixel data before passing it to the `setRGB` method, but it&#39;s a bit tedious for an array with packed ints, so I leave that as an exercise for the reader... &#128521; \r\n\r\nInstead, it is much easier to just change the image to `TYPE_INT_ARGB_PRE` and set the pixel data directly with the original premultiplied pixels, like this:\r\n\r\n```java\r\nBufferedImage screenshot = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB_PRE);\r\n\r\n// Safe cast for  TYPE_INT_*\r\nint[] imageData = ((DataBufferInt) screenshot.getRaster().getDataBuffer()).getData(); \r\nSystem.arraycopy(argbInts, 0, imageData, 0, argbInts.length));\r\n\r\ntry {\r\n    ImageIO.write(screenshot, &quot;PNG&quot;, file);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n","title":"Render premultiplied data to transparent PNG file in Java","body":"<p>The JavaDoc for <code>BufferedImage.setRGB(...)</code> says:</p>\n<blockquote>\n<p>Sets an array of integer pixels in the default RGB color model (TYPE_INT_ARGB) and default sRGB color space, into a portion of the image data.</p>\n</blockquote>\n<p>This means that your input data <code>argbInts</code> needs to be in <em>non-premultiplied form</em>, regardless of the destination image type. It's of course possible to un-multiply the input pixel data before passing it to the <code>setRGB</code> method, but it's a bit tedious for an array with packed ints, so I leave that as an exercise for the reader... 😉</p>\n<p>Instead, it is much easier to just change the image to <code>TYPE_INT_ARGB_PRE</code> and set the pixel data directly with the original premultiplied pixels, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage screenshot = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB_PRE);\n\n// Safe cast for  TYPE_INT_*\nint[] imageData = ((DataBufferInt) screenshot.getRaster().getDataBuffer()).getData(); \nSystem.arraycopy(argbInts, 0, imageData, 0, argbInts.length));\n\ntry {\n    ImageIO.write(screenshot, &quot;PNG&quot;, file);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":1058531,"reputation":1108,"user_id":1060673,"accept_rate":42,"display_name":"yesbutmaybeno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75433534,"answer_count":1,"score":0,"last_activity_date":1676277364,"creation_date":1676209915,"question_id":75427459,"body_markdown":"Long story short I have premultiplied Texture. I grab a FrameBuffer, clear it with (0,0,0,0), set the blend mode to `glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA)`, and render the Texture. Then I grab the pixels `glReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, byteBufferPixels);` and use that:\r\n\r\n    BufferedImage screenshot = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n    screenshot.setRGB(0, 0, width, height, argbInts, 0, width);\r\n    try {\r\n    \tImageIO.write(screenshot, &quot;png&quot;, file);\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nI also have tried `BufferedImage.TYPE_INT_ARGB_PRE` with no change.\r\n\r\nThe result is this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow do I get a nice transparent PNG file out of premultiplied pixel data in OpenGL?\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DmYfr.jpg","title":"Render premultiplied data to transparent PNG file in Java","body":"<p>Long story short I have premultiplied Texture. I grab a FrameBuffer, clear it with (0,0,0,0), set the blend mode to <code>glBlendFunc(GL_ONE, GL_ONE_MINUS_SRC_ALPHA)</code>, and render the Texture. Then I grab the pixels <code>glReadPixels(0, 0, width, height, GL_RGBA, GL_UNSIGNED_BYTE, byteBufferPixels);</code> and use that:</p>\n<pre><code>BufferedImage screenshot = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\nscreenshot.setRGB(0, 0, width, height, argbInts, 0, width);\ntry {\n    ImageIO.write(screenshot, &quot;png&quot;, file);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I also have tried <code>BufferedImage.TYPE_INT_ARGB_PRE</code> with no change.</p>\n<p>The result is this:</p>\n<p><a href=\"https://i.stack.imgur.com/DmYfr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DmYfr.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How do I get a nice transparent PNG file out of premultiplied pixel data in OpenGL?</p>\n<p>Thanks!</p>\n"},{"tags":["java","jpa","querydsl"],"owner":{"account_id":3658481,"reputation":47,"user_id":3775410,"display_name":"user3775410"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676277231,"creation_date":1676277231,"question_id":75433512,"body_markdown":"I want to execute the below query using querydsl. Is it possible?\r\nI don&#39;t know how to use jsonb_build_array function in querydsl.\r\n\r\n    [Postgresql Query]\r\n    select * from book_info where categories @&gt; jsonb_build_array(&#39;Fantasy&#39;)\r\n\r\n    [Entity Class]\r\n    @Table(name = &quot;book_info&quot;)\r\n    public class BookInfo {\r\n        @Type(type = &quot;jsonb&quot;)\r\n        @Column(name = &quot;categories&quot;)\r\n        private Set&lt;String&gt; categories;\r\n    }","title":"use jsonb_build_array postgres function in querydsl","body":"<p>I want to execute the below query using querydsl. Is it possible?\nI don't know how to use jsonb_build_array function in querydsl.</p>\n<pre><code>[Postgresql Query]\nselect * from book_info where categories @&gt; jsonb_build_array('Fantasy')\n\n[Entity Class]\n@Table(name = &quot;book_info&quot;)\npublic class BookInfo {\n    @Type(type = &quot;jsonb&quot;)\n    @Column(name = &quot;categories&quot;)\n    private Set&lt;String&gt; categories;\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1471297507,"post_id":38963338,"comment_id":65281853,"body_markdown":"Why is &quot;iterate&quot; *ugly*?","body":"Why is &quot;iterate&quot; <i>ugly</i>?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1471297562,"post_id":38963338,"comment_id":65281876,"body_markdown":"Streams and indexing don&#39;t mix well.  You&#39;re usually better off falling back to an old-style loop at that point.","body":"Streams and indexing don&#39;t mix well.  You&#39;re usually better off falling back to an old-style loop at that point."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1471298116,"post_id":38963338,"comment_id":65282081,"body_markdown":"@Andreas The thing I like about streams is the separation of the collection-related logic from the specific thing being asked. In this case, there are a ton of different questions that could be asked that only vary from the core `Function&lt;T, Boolean&gt;`, so it feels like there should be a way to handle that that abstracts it from the general collection logic.","body":"@Andreas The thing I like about streams is the separation of the collection-related logic from the specific thing being asked. In this case, there are a ton of different questions that could be asked that only vary from the core <code>Function&lt;T, Boolean&gt;</code>, so it feels like there should be a way to handle that that abstracts it from the general collection logic."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1471298276,"post_id":38963338,"comment_id":65282134,"body_markdown":"What prevents you from using a `Function&lt;T, Boolean&gt;` in an `if` statement inside a `for` loop? Why do you want to use `Function&lt;T, Boolean&gt;` when you have `Predicate&lt;T&gt;`?","body":"What prevents you from using a <code>Function&lt;T, Boolean&gt;</code> in an <code>if</code> statement inside a <code>for</code> loop? Why do you want to use <code>Function&lt;T, Boolean&gt;</code> when you have <code>Predicate&lt;T&gt;</code>?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1471298990,"post_id":38963338,"comment_id":65282399,"body_markdown":"@Andreas Because there you&#39;re manually describing all of the structure-related code, rather than having that compartmentalized. To the other question, I just forgot that `Predicate` was a thing.","body":"@Andreas Because there you&#39;re manually describing all of the structure-related code, rather than having that compartmentalized. To the other question, I just forgot that <code>Predicate</code> was a thing."},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":6,"creation_date":1541783503,"post_id":38963338,"comment_id":93347476,"body_markdown":"Neat Java 11 solution: `int index = users.stream().map(User::getName).takeWhile(not(username::equals)).count(); `","body":"Neat Java 11 solution: <code>int index = users.stream().map(User::getName).takeWhile(not(username::eq&zwnj;&#8203;uals)).count(); </code>"}],"answers":[{"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1471297095,"post_id":38963399,"comment_id":65281694,"body_markdown":"That works. I could also skip the pair by just looking up the user with the given index in the filter operation... not sure if that&#39;s better or worse.","body":"That works. I could also skip the pair by just looking up the user with the given index in the filter operation... not sure if that&#39;s better or worse."},{"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"score":0,"creation_date":1471297193,"post_id":38963399,"comment_id":65281735,"body_markdown":"@EdwardPeters It&#39;s definitely better. At least that eliminates additional memory traffic","body":"@EdwardPeters It&#39;s definitely better. At least that eliminates additional memory traffic"},{"owner":{"account_id":1677047,"reputation":5886,"user_id":1542319,"accept_rate":100,"display_name":"Sergey Tselovalnikov"},"score":6,"creation_date":1471297575,"post_id":38963399,"comment_id":65281880,"body_markdown":"@vsminkov, You should be careful here. Nobody said that the list has O(1) access.","body":"@vsminkov, You should be careful here. Nobody said that the list has O(1) access."},{"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"score":2,"creation_date":1471297808,"post_id":38963399,"comment_id":65281954,"body_markdown":"@SerCe fair enough. the other option is to implement custom spliterator like protonpack does. I&#39;ll put a note","body":"@SerCe fair enough. the other option is to implement custom spliterator like protonpack does. I&#39;ll put a note"}],"tags":[],"owner":{"account_id":3915513,"reputation":10992,"user_id":3239417,"display_name":"vsminkov"},"comment_count":4,"down_vote_count":0,"up_vote_count":127,"is_accepted":true,"score":127,"last_activity_date":1471298025,"creation_date":1471296788,"answer_id":38963399,"question_id":38963338,"body_markdown":"Occasionally there is no pythonic `zipWithIndex` in java. So I came across something like that:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    OptionalInt indexOpt = IntStream.range(0, users.size())\r\n         .filter(i -&gt; searchName.equals(users.get(i)))\r\n         .findFirst();\r\n\r\nAlternatively you can use `zipWithIndex` from [protonpack][1] library\r\n\r\n  [1]: https://github.com/poetix/protonpack\r\n\r\n_**Note**_\r\n\r\n_That solution may be time-consuming if users.get is not constant time operation._","title":"Stream Way to get index of first element matching boolean","body":"<p>Occasionally there is no pythonic <code>zipWithIndex</code> in java. So I came across something like that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>OptionalInt indexOpt = IntStream.range(0, users.size())\n     .filter(i -&gt; searchName.equals(users.get(i)))\n     .findFirst();\n</code></pre>\n\n<p>Alternatively you can use <code>zipWithIndex</code> from <a href=\"https://github.com/poetix/protonpack\" rel=\"noreferrer\">protonpack</a> library</p>\n\n<p><em><strong>Note</strong></em></p>\n\n<p><em>That solution may be time-consuming if users.get is not constant time operation.</em></p>\n"},{"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1471296872,"post_id":38963403,"comment_id":65281603,"body_markdown":"That gets me the user, but not the index","body":"That gets me the user, but not the index"},{"owner":{"account_id":2466763,"reputation":2434,"user_id":2149673,"accept_rate":20,"display_name":"AmanSinghal"},"score":1,"creation_date":1471297555,"post_id":38963403,"comment_id":65281871,"body_markdown":"Agree with you, can you please help me with suggestions to handle that use case here.","body":"Agree with you, can you please help me with suggestions to handle that use case here."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":14,"creation_date":1471298009,"post_id":38963403,"comment_id":65282038,"body_markdown":"Instead of `get()`, use `orElse(-1)`, as other index-of operations do.","body":"Instead of <code>get()</code>, use <code>orElse(-1)</code>, as other index-of operations do."},{"owner":{"account_id":2466763,"reputation":2434,"user_id":2149673,"accept_rate":20,"display_name":"AmanSinghal"},"score":0,"creation_date":1471298145,"post_id":38963403,"comment_id":65282094,"body_markdown":"but the code will crash here users.get(userInd). getName() if returned user is null. Do stream API takes care of NullPointerexception also ?","body":"but the code will crash here users.get(userInd). getName() if returned user is null. Do stream API takes care of NullPointerexception also ?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":2,"creation_date":1471299644,"post_id":38963403,"comment_id":65282654,"body_markdown":"@AmanSinghal IMO, you shouldn&#39;t have null values in lists, but empty lists or lists that are missing a requested name make sense. If you get an NPE because someone put a null value into a list, that&#39;s their fault","body":"@AmanSinghal IMO, you shouldn&#39;t have null values in lists, but empty lists or lists that are missing a requested name make sense. If you get an NPE because someone put a null value into a list, that&#39;s their fault"}],"tags":[],"owner":{"account_id":2466763,"reputation":2434,"user_id":2149673,"accept_rate":20,"display_name":"AmanSinghal"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1587807257,"creation_date":1471296817,"answer_id":38963403,"question_id":38963338,"body_markdown":"Try This:\r\n\r\n    IntStream.range(0, users.size())\r\n        .filter(userInd-&gt; users.get(userInd).getName().equals(username))\r\n        .findFirst()\r\n        .getAsInt();","title":"Stream Way to get index of first element matching boolean","body":"<p>Try This:</p>\n\n<pre><code>IntStream.range(0, users.size())\n    .filter(userInd-&gt; users.get(userInd).getName().equals(username))\n    .findFirst()\n    .getAsInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1677047,"reputation":5886,"user_id":1542319,"accept_rate":100,"display_name":"Sergey Tselovalnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1471297488,"creation_date":1471297488,"answer_id":38963536,"question_id":38963338,"body_markdown":"You can try [StreamEx][1] library made by [Tagir Valeev][2]. That library has a convenient #indexOf method.\r\n\r\nThis is a simple example:\r\n\r\n    List&lt;User&gt; users = asList(new User(&quot;Vas&quot;), new User(&quot;Innokenty&quot;), new User(&quot;WAT&quot;));\r\n    long index = StreamEx.of(users)\r\n            .indexOf(user -&gt; user.name.equals(&quot;Innokenty&quot;))\r\n            .getAsLong();\r\n    System.out.println(index);\r\n\r\n\r\n  [1]: https://github.com/amaembo/streamex\r\n  [2]: https://github.com/amaembo","title":"Stream Way to get index of first element matching boolean","body":"<p>You can try <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library made by <a href=\"https://github.com/amaembo\" rel=\"noreferrer\">Tagir Valeev</a>. That library has a convenient #indexOf method.</p>\n\n<p>This is a simple example:</p>\n\n<pre><code>List&lt;User&gt; users = asList(new User(\"Vas\"), new User(\"Innokenty\"), new User(\"WAT\"));\nlong index = StreamEx.of(users)\n        .indexOf(user -&gt; user.name.equals(\"Innokenty\"))\n        .getAsLong();\nSystem.out.println(index);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"score":0,"creation_date":1639609129,"post_id":57224760,"comment_id":124395870,"body_markdown":"This a dangerous approach, as streams, depending on the source, can be processed in parallel, in which case the index can be completely off. You should add `.sequential()` before `.peek()` to make this reliable.","body":"This a dangerous approach, as streams, depending on the source, can be processed in parallel, in which case the index can be completely off. You should add <code>.sequential()</code> before <code>.peek()</code> to make this reliable."}],"tags":[],"owner":{"account_id":2972186,"reputation":61,"user_id":2524018,"display_name":"hibour"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1564163208,"creation_date":1564162764,"answer_id":57224760,"question_id":38963338,"body_markdown":"A solution without any external library\r\n```\r\nAtomicInteger i = new AtomicInteger(); // any mutable integer wrapper\r\nint index = users.stream()\r\n    .peek(v -&gt; i.incrementAndGet())\r\n    .anyMatch(user -&gt; user.getName().equals(username)) ? // your predicate\r\n    i.get() - 1 : -1;\r\n```\r\npeek increment index i while predicate is false hence when predicate is true i is 1 more than matched predicate =&gt; ```i.get() -1 ```","title":"Stream Way to get index of first element matching boolean","body":"<p>A solution without any external library</p>\n\n<pre><code>AtomicInteger i = new AtomicInteger(); // any mutable integer wrapper\nint index = users.stream()\n    .peek(v -&gt; i.incrementAndGet())\n    .anyMatch(user -&gt; user.getName().equals(username)) ? // your predicate\n    i.get() - 1 : -1;\n</code></pre>\n\n<p>peek increment index i while predicate is false hence when predicate is true i is 1 more than matched predicate => <code>i.get() -1</code></p>\n"},{"comments":[{"owner":{"account_id":1077854,"reputation":735,"user_id":1075613,"display_name":"user1075613"},"score":3,"creation_date":1606531348,"post_id":58682544,"comment_id":114995360,"body_markdown":"the most readable solution and chances guava - like commons-lang - is already in your POM ;) More elegant than an IntStream IMHO!","body":"the most readable solution and chances guava - like commons-lang - is already in your POM ;) More elegant than an IntStream IMHO!"}],"tags":[],"owner":{"account_id":371476,"reputation":35019,"user_id":720030,"display_name":"karmakaze"},"comment_count":1,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1572800626,"creation_date":1572800626,"answer_id":58682544,"question_id":38963338,"body_markdown":"Using Guava library: `int index = \r\n  Iterables.indexOf(users, u -&gt; searchName.equals(u.getName()))`","title":"Stream Way to get index of first element matching boolean","body":"<p>Using Guava library: <code>int index = \n  Iterables.indexOf(users, u -&gt; searchName.equals(u.getName()))</code></p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572802182,"creation_date":1572802182,"answer_id":58682784,"question_id":38963338,"body_markdown":"There is the `detectIndex` method in the [Eclipse Collections][1] library which takes a `Predicate`.\r\n\r\n    int index = ListIterate.detectIndex(users, user -&gt; username.equals(user.getName()));\r\n\r\nIf you have a method on `User` class which returns `boolean` if `username` matches you can use the following:\r\n\r\n    int index = ListIterate.detectIndexWith(users, User::named, username);\r\n\r\nNote: I a committer for Eclipse Collections\r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections","title":"Stream Way to get index of first element matching boolean","body":"<p>There is the <code>detectIndex</code> method in the <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> library which takes a <code>Predicate</code>.</p>\n\n<pre><code>int index = ListIterate.detectIndex(users, user -&gt; username.equals(user.getName()));\n</code></pre>\n\n<p>If you have a method on <code>User</code> class which returns <code>boolean</code> if <code>username</code> matches you can use the following:</p>\n\n<pre><code>int index = ListIterate.detectIndexWith(users, User::named, username);\n</code></pre>\n\n<p>Note: I a committer for Eclipse Collections</p>\n"},{"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1675520008,"post_id":75345034,"comment_id":132948664,"body_markdown":"So manually re-adding imperative index incrementing is IMO a bad mix of paradigms - at that point you would be better off falling back to an old school for loop. The goal here was to do this in a functional way, in line with the (at the time new(er)) monadic constructs added with Java 8. I&#39;m surprised zipWithIndex still hasn&#39;t been introduced, as that&#39;s what I&#39;d use in any other language.","body":"So manually re-adding imperative index incrementing is IMO a bad mix of paradigms - at that point you would be better off falling back to an old school for loop. The goal here was to do this in a functional way, in line with the (at the time new(er)) monadic constructs added with Java 8. I&#39;m surprised zipWithIndex still hasn&#39;t been introduced, as that&#39;s what I&#39;d use in any other language."}],"tags":[],"owner":{"account_id":23783761,"reputation":1,"user_id":17796115,"display_name":"Shivam "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675514492,"creation_date":1675513106,"answer_id":75345034,"question_id":38963338,"body_markdown":"**Find If present then Return result based on that.**\r\n1. Find out if element is present or not.\r\n2. If present return index else return -1\r\n    \r\n```\r\n    AtomicInteger index = new AtomicInteger();\r\n    int result =  Arrays.stream(nums)\r\n                         .peek((num) -&gt; index.incrementAndGet())\r\n                         .filter(num -&gt; num == target)\r\n                         .findFirst()\r\n                         .orElse(-1);\r\n    return result == -1 ? result : index.get()-1;\r\n```\r\n```\r\nAtomicInteger index = new AtomicInteger();\r\n```\r\n&gt; Is starting from 1 so we want to get index so we are subtracting 1\r\n&gt; from index\r\n\r\n\r\n**More Shorter**\r\n```\r\nreturn Arrays.stream(nums)\r\n                     .peek((num) -&gt; index.incrementAndGet())\r\n                     .filter(num -&gt; num == target)\r\n                     .findFirst()\r\n                     .orElse(-1) == -1 ? -1 : index.get()-1;\r\n```\r\n    \r\n\r\n   ","title":"Stream Way to get index of first element matching boolean","body":"<p><strong>Find If present then Return result based on that.</strong></p>\n<ol>\n<li>Find out if element is present or not.</li>\n<li>If present return index else return -1</li>\n</ol>\n<pre><code>    AtomicInteger index = new AtomicInteger();\n    int result =  Arrays.stream(nums)\n                         .peek((num) -&gt; index.incrementAndGet())\n                         .filter(num -&gt; num == target)\n                         .findFirst()\n                         .orElse(-1);\n    return result == -1 ? result : index.get()-1;\n</code></pre>\n<pre><code>AtomicInteger index = new AtomicInteger();\n</code></pre>\n<blockquote>\n<p>Is starting from 1 so we want to get index so we are subtracting 1\nfrom index</p>\n</blockquote>\n<p><strong>More Shorter</strong></p>\n<pre><code>return Arrays.stream(nums)\n                     .peek((num) -&gt; index.incrementAndGet())\n                     .filter(num -&gt; num == target)\n                     .findFirst()\n                     .orElse(-1) == -1 ? -1 : index.get()-1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27731121,"reputation":1,"user_id":21169602,"display_name":"Shivani"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676276255,"creation_date":1675827131,"answer_id":75381131,"question_id":38963338,"body_markdown":"Ways to all the index\r\nIterate over the index and get all the index\r\n\r\n    IntStream.range(0, list.size())\r\n                    .filter(i -&gt; Objects.equals(list.get(i), target)).forEach(System.out::println);","title":"Stream Way to get index of first element matching boolean","body":"<p>Ways to all the index\nIterate over the index and get all the index</p>\n<pre><code>IntStream.range(0, list.size())\n                .filter(i -&gt; Objects.equals(list.get(i), target)).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138850,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":38963399,"answer_count":8,"score":96,"last_activity_date":1676276255,"creation_date":1471296472,"question_id":38963338,"body_markdown":"I have a `List&lt;Users&gt;`. I want to get the index of the (first) user in the stream with a particular username. I don&#39;t want to actually require the `User` to be `.equals()` to some described `User`, just to have the same username. \r\n\r\nI can think of ugly ways to do this (iterate and count), but it feels like there should be a nice way to do this, probably by using Streams. So far the best I have is:\r\n\r\n    int index = users.stream()\r\n        .map(user -&gt; user.getName())\r\n        .collect(Collectors.toList())\r\n        .indexOf(username);\r\n\r\nWhich isn&#39;t the worst code I&#39;ve ever written, but it&#39;s not great. It&#39;s also not that flexible, as it relies on there being a mapping function to a type with a `.equals()` function that describes the property you&#39;re looking for; I&#39;d much rather have something that could work for arbitrary `Function&lt;T, Boolean&gt;`\r\n\r\nAnyone know how?\r\n","title":"Stream Way to get index of first element matching boolean","body":"<p>I have a <code>List&lt;Users&gt;</code>. I want to get the index of the (first) user in the stream with a particular username. I don't want to actually require the <code>User</code> to be <code>.equals()</code> to some described <code>User</code>, just to have the same username. </p>\n\n<p>I can think of ugly ways to do this (iterate and count), but it feels like there should be a nice way to do this, probably by using Streams. So far the best I have is:</p>\n\n<pre><code>int index = users.stream()\n    .map(user -&gt; user.getName())\n    .collect(Collectors.toList())\n    .indexOf(username);\n</code></pre>\n\n<p>Which isn't the worst code I've ever written, but it's not great. It's also not that flexible, as it relies on there being a mapping function to a type with a <code>.equals()</code> function that describes the property you're looking for; I'd much rather have something that could work for arbitrary <code>Function&lt;T, Boolean&gt;</code></p>\n\n<p>Anyone know how?</p>\n"},{"tags":["java","websocket","socket.io"],"answers":[{"comments":[{"owner":{"account_id":27714860,"reputation":11,"user_id":21156794,"display_name":"SL Thang"},"score":0,"creation_date":1676428282,"post_id":75433345,"comment_id":133133633,"body_markdown":"Thanks so much for your comment. But i tried to download dependency org.java-websocket version 1.3.0 and look like no luck because dependency not found.\nCould you share me the full of code. Because i could not try with above code. Something failed at loading class like Draft_17()","body":"Thanks so much for your comment. But i tried to download dependency org.java-websocket version 1.3.0 and look like no luck because dependency not found. Could you share me the full of code. Because i could not try with above code. Something failed at loading class like Draft_17()"},{"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"score":0,"creation_date":1676528304,"post_id":75433345,"comment_id":133155623,"body_markdown":"The classes like Draft_17 or WebSocketClient are found in the underlying jar fetched from above Maven dependancy.  You can check out https://mvnrepository.com/artifact/org.java-websocket/Java-WebSocket/1.3.0 and see that dependancy exists in Maven repo. There are many versions available. Try any of it, it should work.","body":"The classes like Draft_17 or WebSocketClient are found in the underlying jar fetched from above Maven dependancy.  You can check out <a href=\"https://mvnrepository.com/artifact/org.java-websocket/Java-WebSocket/1.3.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.java-websocket/Java-WebSocket&zwnj;&#8203;/&hellip;</a> and see that dependancy exists in Maven repo. There are many versions available. Try any of it, it should work."}],"tags":[],"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676276179,"creation_date":1676276179,"answer_id":75433345,"question_id":75360368,"body_markdown":"Chats are typically facilitated through web sockets over http, assuming you want to build a chat system that runs over the internet.\r\n\r\nI have a working program written that can establish a connection and send/receive messages from the Chat Server.  \r\n\r\nAs a prerequisite you need a third party library. \r\n\r\n    &lt;dependency&gt;\r\n\t &lt;groupId&gt;org.java-websocket&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t   \r\n\r\nAlso accompanied is the piece of client code that can send headers, get acknowledgement for connections and send/receive json messages\r\n\r\n\r\n    public class ChatWebSocketClient extends WebSocketClient{\r\n\r\n\tpublic ChatWebSocketClient(URI serverURI, Map&lt;String, String&gt; headers) {\r\n\t\t super(serverURI, new Draft_17(), headers, 0);\r\n\t\t\t\r\n\t\t   \r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onOpen(ServerHandshake handshakedata) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onMessage(String message) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onClose(int code, String reason, boolean remote) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onError(Exception ex) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) throws Exception {\r\n\t\tMap&lt;String, String&gt; headers = new HashMap();\r\n\t\theaders.put(&quot;header1&quot;, &quot;value1 for header1&quot;);\r\n\t\t\r\n\t\tChatWebSocketClient client = new ChatWebSocketClient(new URI(&quot;Remote_Chat_EndPoint&quot;), headers);\r\n\t\t\r\n\t\tTrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\treturn new java.security.cert.X509Certificate[]{};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}};\r\n\t\t\r\n\t\tSSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n        client.setWebSocketFactory(new DefaultSSLWebSocketClientFactory(sc));\r\n\t\tclient.connect();\r\n\t\t\r\n\t\tclient.send(&quot;{\\&quot;key\\&quot;:\\&quot;Hello World\\&quot;}&quot;);\r\n\t}\r\n\r\n    }","title":"Connect socket server then send message using JAVA","body":"<p>Chats are typically facilitated through web sockets over http, assuming you want to build a chat system that runs over the internet.</p>\n<p>I have a working program written that can establish a connection and send/receive messages from the Chat Server.</p>\n<p>As a prerequisite you need a third party library.</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.java-websocket&lt;/groupId&gt;\n    &lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0&lt;/version&gt;\n&lt;/dependency&gt;      \n</code></pre>\n<p>Also accompanied is the piece of client code that can send headers, get acknowledgement for connections and send/receive json messages</p>\n<pre><code>public class ChatWebSocketClient extends WebSocketClient{\n\npublic ChatWebSocketClient(URI serverURI, Map&lt;String, String&gt; headers) {\n     super(serverURI, new Draft_17(), headers, 0);\n        \n       \n    \n}\n\n@Override\npublic void onOpen(ServerHandshake handshakedata) {\n    // TODO Auto-generated method stub\n    \n}\n\n@Override\npublic void onMessage(String message) {\n    // TODO Auto-generated method stub\n    \n}\n\n@Override\npublic void onClose(int code, String reason, boolean remote) {\n    // TODO Auto-generated method stub\n    \n}\n\n@Override\npublic void onError(Exception ex) {\n    // TODO Auto-generated method stub\n    \n}\n\npublic static void main(String args[]) throws Exception {\n    Map&lt;String, String&gt; headers = new HashMap();\n    headers.put(&quot;header1&quot;, &quot;value1 for header1&quot;);\n    \n    ChatWebSocketClient client = new ChatWebSocketClient(new URI(&quot;Remote_Chat_EndPoint&quot;), headers);\n    \n    TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n        \n        @Override\n        public X509Certificate[] getAcceptedIssuers() {\n            // TODO Auto-generated method stub\n            return new java.security.cert.X509Certificate[]{};\n        }\n        \n        @Override\n        public void checkServerTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n            // TODO Auto-generated method stub\n            \n        }\n        \n        @Override\n        public void checkClientTrusted(X509Certificate[] arg0, String arg1) throws CertificateException {\n            // TODO Auto-generated method stub\n            \n        }\n    }};\n    \n    SSLContext sc = SSLContext.getInstance(&quot;TLS&quot;);\n    sc.init(null, trustAllCerts, new java.security.SecureRandom());\n    client.setWebSocketFactory(new DefaultSSLWebSocketClientFactory(sc));\n    client.connect();\n    \n    client.send(&quot;{\\&quot;key\\&quot;:\\&quot;Hello World\\&quot;}&quot;);\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":27714860,"reputation":11,"user_id":21156794,"display_name":"SL Thang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676276179,"creation_date":1675680850,"question_id":75360368,"body_markdown":"I&#39;m using Postman to test Chat feature (socket.io technology with version 2).\r\nCurrently, i have to implement Chat test cases using Java.\r\n\r\n**Postman request information:**   \r\n\r\n1\\. Socket server: https://hc-socketio-example.xyz   \r\n\r\n2\\. Header.authorization: xxx   \r\n\r\n3\\. Header.source: app   \r\n\r\n4\\. Message.text with JSON format:\r\n\r\n```\r\n{   &quot;ticketId&quot;: &quot;63bcc910c22293b4b0495fe4&quot;,   &quot;content&quot;: &quot;test &quot;,   &quot;type&quot;: &quot;text&quot;}\r\n```\r\n\r\n**My Java code to connect socket server:**\r\n\r\n        URI uri = URI.create(&quot;https://hc-socket.unibag.xyz&quot;);\r\n        // @formatter:off\r\n        IO.Options options = IO.Options.builder().build();\r\n    \r\n        // @formatter:on\r\n        Socket socket = IO.socket(uri, options);\r\n        socket.on(Socket.EVENT_CONNECT, new Emitter.Listener() {\r\n            @Override\r\n            public void call(Object... args) {\r\n                System.out.println(&quot;Connected to server...&quot;);\r\n            }\r\n        });\r\n        socket.connect();\r\n\r\n**My issues need the help:**\r\n\r\n1. Look like my code gets wrong because no String &quot;Connected to server...&quot; printed.\r\n2. I don&#39;t know the way to set the header or request: &quot;authentication&quot;, &quot;source&quot;\r\n3. I&#39;m not sure the way to send JSON message like above:\r\n\r\nCOULD SOMEONE TAKE A LOOK AND GIVE ME THE ADVISE IN ORDER I COULD FIX MY CODE?\r\nTHANKS A LOT IN ADVANCE.\r\n\r\nI tried researching on the internet some examples but no luck. I&#39;m confusing about the way to send socket request.","title":"Connect socket server then send message using JAVA","body":"<p>I'm using Postman to test Chat feature (socket.io technology with version 2).\nCurrently, i have to implement Chat test cases using Java.</p>\n<p><strong>Postman request information:</strong></p>\n<p>1. Socket server: <a href=\"https://hc-socketio-example.xyz\" rel=\"nofollow noreferrer\">https://hc-socketio-example.xyz</a></p>\n<p>2. Header.authorization: xxx</p>\n<p>3. Header.source: app</p>\n<p>4. Message.text with JSON format:</p>\n<pre><code>{   &quot;ticketId&quot;: &quot;63bcc910c22293b4b0495fe4&quot;,   &quot;content&quot;: &quot;test &quot;,   &quot;type&quot;: &quot;text&quot;}\n</code></pre>\n<p><strong>My Java code to connect socket server:</strong></p>\n<pre><code>    URI uri = URI.create(&quot;https://hc-socket.unibag.xyz&quot;);\n    // @formatter:off\n    IO.Options options = IO.Options.builder().build();\n\n    // @formatter:on\n    Socket socket = IO.socket(uri, options);\n    socket.on(Socket.EVENT_CONNECT, new Emitter.Listener() {\n        @Override\n        public void call(Object... args) {\n            System.out.println(&quot;Connected to server...&quot;);\n        }\n    });\n    socket.connect();\n</code></pre>\n<p><strong>My issues need the help:</strong></p>\n<ol>\n<li>Look like my code gets wrong because no String &quot;Connected to server...&quot; printed.</li>\n<li>I don't know the way to set the header or request: &quot;authentication&quot;, &quot;source&quot;</li>\n<li>I'm not sure the way to send JSON message like above:</li>\n</ol>\n<p>COULD SOMEONE TAKE A LOOK AND GIVE ME THE ADVISE IN ORDER I COULD FIX MY CODE?\nTHANKS A LOT IN ADVANCE.</p>\n<p>I tried researching on the internet some examples but no luck. I'm confusing about the way to send socket request.</p>\n"},{"tags":["java","passwords","cryptographic-hash-function"],"comments":[{"owner":{"account_id":80424,"reputation":5540,"user_id":227442,"accept_rate":80,"display_name":"YGL"},"score":0,"creation_date":1274216603,"post_id":2860943,"comment_id":2905450,"body_markdown":"Better to use the SHA family of hash functions.\nhttp://en.wikipedia.org/wiki/MD5 (although nothing is perfect)","body":"Better to use the SHA family of hash functions. <a href=\"http://en.wikipedia.org/wiki/MD5\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/MD5</a> (although nothing is perfect)"},{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":11,"creation_date":1353481282,"post_id":2860943,"comment_id":18456145,"body_markdown":"@YGL this is actually not a recombination nowadays with GPU attacks being so cheap, SHA family is actually a very bad choice for password hashing (too fast) even with salt. Use bcrypt, scrypt or PBKDF2","body":"@YGL this is actually not a recombination nowadays with GPU attacks being so cheap, SHA family is actually a very bad choice for password hashing (too fast) even with salt. Use bcrypt, scrypt or PBKDF2"},{"owner":{"account_id":117234,"reputation":39175,"user_id":4561314,"accept_rate":53,"display_name":"stackoverflowuser2010"},"score":11,"creation_date":1428988985,"post_id":2860943,"comment_id":47383676,"body_markdown":"Why was this question closed? This is a question for a real engineering problem, and the answers are invaluable. The OP is not asking for a library, he is asking how to solve the engineering problem.","body":"Why was this question closed? This is a question for a real engineering problem, and the answers are invaluable. The OP is not asking for a library, he is asking how to solve the engineering problem."},{"owner":{"account_id":117234,"reputation":39175,"user_id":4561314,"accept_rate":53,"display_name":"stackoverflowuser2010"},"score":12,"creation_date":1428989525,"post_id":2860943,"comment_id":47383822,"body_markdown":"Just amazing. This question has 52 upvotes, and someone decides to close it as &quot;off-topic&quot;.","body":"Just amazing. This question has 52 upvotes, and someone decides to close it as &quot;off-topic&quot;."},{"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"score":1,"creation_date":1429036967,"post_id":2860943,"comment_id":47412303,"body_markdown":"Yeah, I&#39;ve posted on Meta about this issue of closings before, got beaten up pretty badly though.","body":"Yeah, I&#39;ve posted on Meta about this issue of closings before, got beaten up pretty badly though."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":9,"creation_date":1438263363,"post_id":2860943,"comment_id":51386661,"body_markdown":"This question should be re-opened. It&#39;s a question about how to write a program to solve the problem described (password authentication), with a short code solution. Seeing the trigger word &quot;library&quot; doesn&#39;t justify reflexively closing a question; he&#39;s not asking for a library recommendation, he&#39;s asking how to hash passwords. Edit: There, fixed it.","body":"This question should be re-opened. It&#39;s a question about how to write a program to solve the problem described (password authentication), with a short code solution. Seeing the trigger word &quot;library&quot; doesn&#39;t justify reflexively closing a question; he&#39;s not asking for a library recommendation, he&#39;s asking how to hash passwords. Edit: There, fixed it."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1274215056,"creation_date":1274215056,"answer_id":2860966,"question_id":2860943,"body_markdown":"BCrypt is a very good library, and there is a [Java port][1] of it.\r\n\r\n\r\n  [1]: http://www.mindrot.org/projects/jBCrypt/","title":"How can I hash a password in Java?","body":"<p>BCrypt is a very good library, and there is a <a href=\"http://www.mindrot.org/projects/jBCrypt/\" rel=\"noreferrer\">Java port</a> of it.</p>\n"},{"comments":[{"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"score":3,"creation_date":1274215435,"post_id":2860972,"comment_id":2905279,"body_markdown":"How would you hash the password at login without storing salt in database?","body":"How would you hash the password at login without storing salt in database?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":9,"creation_date":1274215468,"post_id":2860972,"comment_id":2905283,"body_markdown":"Using the username as the salt is not a fatal flaw, but it&#39;s nowhere near as good as using a salt from a cryptographic RNG. And there is absolutely no problem storing the salt in the database. The salt is not secret.","body":"Using the username as the salt is not a fatal flaw, but it&#39;s nowhere near as good as using a salt from a cryptographic RNG. And there is absolutely no problem storing the salt in the database. The salt is not secret."},{"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"score":1,"creation_date":1274215663,"post_id":2860972,"comment_id":2905311,"body_markdown":"Wouldn&#39;t the username and e-mail also be stored in the database?","body":"Wouldn&#39;t the username and e-mail also be stored in the database?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1274217123,"post_id":2860972,"comment_id":2905512,"body_markdown":"@ZZ Coder, @erickson correct, I somehow assumed that it will be one salt for all passwords, which would lead to an easily computable rainbow table.","body":"@ZZ Coder, @erickson correct, I somehow assumed that it will be one salt for all passwords, which would lead to an easily computable rainbow table."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":14,"creation_date":1274236622,"post_id":2860972,"comment_id":2906998,"body_markdown":"One problem with using the username (or other ID like email) as a salt is that you can&#39;t then change the ID without having the user also set a new password.","body":"One problem with using the username (or other ID like email) as a salt is that you can&#39;t then change the ID without having the user also set a new password."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1441839970,"post_id":2860972,"comment_id":52841577,"body_markdown":"Bad idea, you need a salt and work factor. Both are missing from this &quot;protocol&quot;.","body":"Bad idea, you need a salt and work factor. Both are missing from this &quot;protocol&quot;."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1444748991,"post_id":2860972,"comment_id":54027287,"body_markdown":"@MaartenBodewes agreed. Changing the answer","body":"@MaartenBodewes agreed. Changing the answer"},{"owner":{"account_id":2042955,"reputation":1341,"user_id":1823710,"accept_rate":59,"display_name":"qualebs"},"score":0,"creation_date":1500407099,"post_id":2860972,"comment_id":77319983,"body_markdown":"@erickson `The salt is not secret` if salt is not a secret, wouldn&#39;t an attacker who steals the password also steal the salt and simply concatenate it to all passwords that he guesses? What kind of security does the salt add to the whole processes? Please help me understand.","body":"@erickson <code>The salt is not secret</code> if salt is not a secret, wouldn&#39;t an attacker who steals the password also steal the salt and simply concatenate it to all passwords that he guesses? What kind of security does the salt add to the whole processes? Please help me understand."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":8,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1444749064,"creation_date":1274215086,"answer_id":2860972,"question_id":2860943,"body_markdown":"You can comput hashes using [`MessageDigest`][1], but this is wrong in terms of security. Hashes are not to be used for storing passwords, as they are easily breakable. \r\n\r\nYou should use another algorithm like bcrypt, PBKDF2 and scrypt to store you passwords. [See here][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/security/MessageDigest.html\r\n  [2]: http://techblog.bozho.net/bcrypt-salt-its-the-bare-minimum/","title":"How can I hash a password in Java?","body":"<p>You can comput hashes using <a href=\"http://java.sun.com/javase/6/docs/api/java/security/MessageDigest.html\" rel=\"nofollow noreferrer\"><code>MessageDigest</code></a>, but this is wrong in terms of security. Hashes are not to be used for storing passwords, as they are easily breakable. </p>\n\n<p>You should use another algorithm like bcrypt, PBKDF2 and scrypt to store you passwords. <a href=\"http://techblog.bozho.net/bcrypt-salt-its-the-bare-minimum/\" rel=\"nofollow noreferrer\">See here</a>.</p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":3,"creation_date":1274216913,"post_id":2860978,"comment_id":2905490,"body_markdown":"Just keep in mind that for password hashing, slower is better. You should use thousands of iterations of the hash function as a &quot;key strengthening&quot; technique. Also, salt is imperative.","body":"Just keep in mind that for password hashing, slower is better. You should use thousands of iterations of the hash function as a &quot;key strengthening&quot; technique. Also, salt is imperative."},{"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"score":0,"creation_date":1274217424,"post_id":2860978,"comment_id":2905554,"body_markdown":"I was under the impression that multiple iterations of a quality hashing algorithm would produce about the same security as one iteration since the length of bytes would still be the same?","body":"I was under the impression that multiple iterations of a quality hashing algorithm would produce about the same security as one iteration since the length of bytes would still be the same?"},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1274217528,"post_id":2860978,"comment_id":2905572,"body_markdown":"@erickson It would be better to slow down attackers explicitly.","body":"@erickson It would be better to slow down attackers explicitly."},{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1274217657,"post_id":2860978,"comment_id":2905587,"body_markdown":"Yeah, but hashing the hashe&#39;s hash ..., is more secure. Let&#39;s say you hash &quot;a&quot; to &quot;b&quot; and &quot;b&quot; to &quot;c&quot;. Someone could be able to get somehow (though not uniquely) the value &quot;b&quot; but he will unlikely get the original value &quot;a&quot; as he does not know how many times you hashed your intial value.","body":"Yeah, but hashing the hashe&#39;s hash ..., is more secure. Let&#39;s say you hash &quot;a&quot; to &quot;b&quot; and &quot;b&quot; to &quot;c&quot;. Someone could be able to get somehow (though not uniquely) the value &quot;b&quot; but he will unlikely get the original value &quot;a&quot; as he does not know how many times you hashed your intial value."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1274217848,"post_id":2860978,"comment_id":2905607,"body_markdown":"@deamon - &quot;Slow them down explicitly?&quot; What does that mean?","body":"@deamon - &quot;Slow them down explicitly?&quot; What does that mean?"},{"owner":{"account_id":41869,"reputation":437,"user_id":121833,"display_name":"zckman"},"score":6,"creation_date":1274250393,"post_id":2860978,"comment_id":2907934,"body_markdown":"About key strengthening: Salts exist to make precomputed hashes unusable. But attackers do not have to precompute. Attackers can just hash strings + salt &quot;on the fly&quot; until they find the right one. But if you iterate thousands of times for your hashes they will have to do the same. Your server will not be impacted much by 10k iterations as it doesn&#39;t happen that often. Attackers will need 10k times the computing power.","body":"About key strengthening: Salts exist to make precomputed hashes unusable. But attackers do not have to precompute. Attackers can just hash strings + salt &quot;on the fly&quot; until they find the right one. But if you iterate thousands of times for your hashes they will have to do the same. Your server will not be impacted much by 10k iterations as it doesn&#39;t happen that often. Attackers will need 10k times the computing power."},{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":2,"creation_date":1353482877,"post_id":2860978,"comment_id":18456662,"body_markdown":"@Simon today MD5 is considered useless for password hashing as it can be cracked in seconds using GPU brute force / dictionary attacks. See here: http://codahale.com/how-to-safely-store-a-password/","body":"@Simon today MD5 is considered useless for password hashing as it can be cracked in seconds using GPU brute force / dictionary attacks. See here: <a href=\"http://codahale.com/how-to-safely-store-a-password/\" rel=\"nofollow noreferrer\">codahale.com/how-to-safely-store-a-password</a>"},{"owner":{"account_id":2042955,"reputation":1341,"user_id":1823710,"accept_rate":59,"display_name":"qualebs"},"score":0,"creation_date":1500407503,"post_id":2860978,"comment_id":77320221,"body_markdown":"@zockman you have demystified a concept that had me puzzled ever since I first heard salt and hashing in one sentence. Makes much sense now thanks. +1","body":"@zockman you have demystified a concept that had me puzzled ever since I first heard salt and hashing in one sentence. Makes much sense now thanks. +1"}],"tags":[],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"comment_count":8,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1594200781,"creation_date":1274215107,"answer_id":2860978,"question_id":2860943,"body_markdown":"Here you have two links for MD5 hashing and other hash methods:\r\n\r\nJavadoc API: &lt;https://docs.oracle.com/javase/1.5.0/docs/api/java/security/MessageDigest.html&gt;\r\n\r\nTutorial: &lt;http://www.twmacinta.com/myjava/fast_md5.php&gt;","title":"How can I hash a password in Java?","body":"<p>Here you have two links for MD5 hashing and other hash methods:</p>\n<p>Javadoc API: <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/security/MessageDigest.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/api/java/security/MessageDigest.html</a></p>\n<p>Tutorial: <a href=\"http://www.twmacinta.com/myjava/fast_md5.php\" rel=\"nofollow noreferrer\">http://www.twmacinta.com/myjava/fast_md5.php</a></p>\n"},{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1274217269,"post_id":2861019,"comment_id":2905540,"body_markdown":"Because SSHA doesn&#39;t iterate the hash function, it is too fast. This allows attackers to try passwords more quickly. Better algorithms like Bcrypt, PBBKDF1, and PBKDF2 use &quot;key strengthening&quot; techniques to slow attackers to the point where a password should expire before they can brute force even an 8-letter password space.","body":"Because SSHA doesn&#39;t iterate the hash function, it is too fast. This allows attackers to try passwords more quickly. Better algorithms like Bcrypt, PBBKDF1, and PBKDF2 use &quot;key strengthening&quot; techniques to slow attackers to the point where a password should expire before they can brute force even an 8-letter password space."},{"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"score":0,"creation_date":1274217552,"post_id":2861019,"comment_id":2905575,"body_markdown":"The problem with all these mechanisms is that you don&#39;t get client support. The problem with hashed password is that you can&#39;t support password hashed with another algorithms. With ssha, at least all the LDAP clients support it.","body":"The problem with all these mechanisms is that you don&#39;t get client support. The problem with hashed password is that you can&#39;t support password hashed with another algorithms. With ssha, at least all the LDAP clients support it."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1353602692,"post_id":2861019,"comment_id":18503624,"body_markdown":"It is not &quot;most secure&quot; it is merely &quot;pretty compatible&quot;. bcrypt/scrypt are way more ressource intensitive.","body":"It is not &quot;most secure&quot; it is merely &quot;pretty compatible&quot;. bcrypt/scrypt are way more ressource intensitive."}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":3,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1274215391,"creation_date":1274215391,"answer_id":2861019,"question_id":2860943,"body_markdown":"Among all the standard hash schemes, LDAP ssha is the most secure one to use,\r\n\r\nhttp://www.openldap.org/faq/data/cache/347.html\r\n\r\nI would just follow the algorithms specified there and use MessageDigest to do the hash.\r\n\r\nYou need to store the salt in your database as you suggested.\r\n ","title":"How can I hash a password in Java?","body":"<p>Among all the standard hash schemes, LDAP ssha is the most secure one to use,</p>\n\n<p><a href=\"http://www.openldap.org/faq/data/cache/347.html\" rel=\"nofollow noreferrer\">http://www.openldap.org/faq/data/cache/347.html</a></p>\n\n<p>I would just follow the algorithms specified there and use MessageDigest to do the hash.</p>\n\n<p>You need to store the salt in your database as you suggested.</p>\n"},{"comments":[{"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"score":12,"creation_date":1274271663,"post_id":2861125,"comment_id":2909908,"body_markdown":"You may want to be a bit wary of byte to hex conversions with `BigInteger`: leading zeros are removed. That&#39;s ok for quick debug, but I have seen bugs in production code due to that effect.","body":"You may want to be a bit wary of byte to hex conversions with <code>BigInteger</code>: leading zeros are removed. That&#39;s ok for quick debug, but I have seen bugs in production code due to that effect."},{"owner":{"account_id":19417,"reputation":37980,"user_id":45525,"accept_rate":83,"display_name":"Synesso"},"score":0,"creation_date":1295584905,"post_id":2861125,"comment_id":5259967,"body_markdown":"Thanks for this (+1). I&#39;m constrained to Java 5. Is PBEWithHmacSHA1AndDESede a sufficiently strong algo?","body":"Thanks for this (+1). I&#39;m constrained to Java 5. Is PBEWithHmacSHA1AndDESede a sufficiently strong algo?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1353527137,"post_id":2861125,"comment_id":18477274,"body_markdown":"Yes, it&#39;s true that these salt and hash values should be treated as numbers, not strings, for repeatable results.","body":"Yes, it&#39;s true that these salt and hash values should be treated as numbers, not strings, for repeatable results."},{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":24,"creation_date":1366828835,"post_id":2861125,"comment_id":23162869,"body_markdown":"@thomas-pornin&#39;s highlights why we need a *library*, not a code block that&#39;s *almost* there. Scary that the accepted answer does not answer the question on such an important topic.","body":"@thomas-pornin&#39;s highlights why we need a <i>library</i>, not a code block that&#39;s <i>almost</i> there. Scary that the accepted answer does not answer the question on such an important topic."},{"owner":{"account_id":1530336,"reputation":550,"user_id":1427671,"display_name":"iwan.z"},"score":10,"creation_date":1415019959,"post_id":2861125,"comment_id":42020361,"body_markdown":"Use the algorithm PBKDF2WithHmacSHA512 starting with Java 8. It is a bit stronger.","body":"Use the algorithm PBKDF2WithHmacSHA512 starting with Java 8. It is a bit stronger."},{"owner":{"account_id":1530336,"reputation":550,"user_id":1427671,"display_name":"iwan.z"},"score":0,"creation_date":1415167972,"post_id":2861125,"comment_id":42085369,"body_markdown":"@erickson I am nor very much into what the best algorithm is. But I checked what algorithms are available in which Java versions. Hope that helps:","body":"@erickson I am nor very much into what the best algorithm is. But I checked what algorithms are available in which Java versions. Hope that helps:"},{"owner":{"account_id":1530336,"reputation":550,"user_id":1427671,"display_name":"iwan.z"},"score":1,"creation_date":1415168819,"post_id":2861125,"comment_id":42085665,"body_markdown":"Note, existing algs are not deleted in later versions:\njava_4:PBEWithMD5AndDES,DESede,DES\njava_5/6/7:PBKDF2WithHmacSHA1,PBE (only in Java 5),PBEWithSHA1AndRC2_40,PBEWithSHA1And,PBEWithMD5AndTriple\njava_8:PBEWithHmacSHA224AndAES_128, PBEWithHmacSHA384AndAES_128, PBEWithHmacSHA512AndAES_128, RC4_40, PBKDF2WithHmacSHA256, PBEWithHmacSHA1AndAES_128, RC4_128, PBKDF2WithHmacSHA224, PBEWithHmacSHA256AndAES_256, RC2_128, PBEWithHmacSHA224AndAES_256, PBEWithHmacSHA384AndAES_256,PBEWithHmacSHA512AndAES_256,PBKDF2WithHmacSHA512,PBEWithHmacSHA256AndAES_128, PBKDF2WithHmacSHA384,PBEWithHmacSHA1AndAES_256","body":"Note, existing algs are not deleted in later versions: java_4:PBEWithMD5AndDES,DESede,DES java_5/6/7:PBKDF2WithHmacSHA1,PBE (only in Java 5),PBEWithSHA1AndRC2_40,PBEWithSHA1And,PBEWithMD5AndTriple java_8:PBEWithHmacSHA224AndAES_128, PBEWithHmacSHA384AndAES_128, PBEWithHmacSHA512AndAES_128, RC4_40, PBKDF2WithHmacSHA256, PBEWithHmacSHA1AndAES_128, RC4_128, PBKDF2WithHmacSHA224, PBEWithHmacSHA256AndAES_256, RC2_128, PBEWithHmacSHA224AndAES_256, PBEWithHmacSHA384AndAES_256,PBEWithHmacSHA512AndAES_256,PBKD&zwnj;&#8203;F2WithHmacSHA512,PBE&zwnj;&#8203;WithHmacSHA256AndAES&zwnj;&#8203;_128, PBKDF2WithHmacSHA384,PBEWithHmacSHA1AndAES_256"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1438263919,"post_id":2861125,"comment_id":51387106,"body_markdown":"@ThomasPornin Replaced hex by `BigInteger` with padded base-64.","body":"@ThomasPornin Replaced hex by <code>BigInteger</code> with padded base-64."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1438264518,"post_id":2861125,"comment_id":51387599,"body_markdown":"@iwan.z In an HMAC, NIST suggests that SHA-1 will provide 128 bits of security, while SHA-224 or SHA-256 provide at least 192 and 256 bits, respectively. Match those algorithms with the AES key length you want to generate. Of course key derivation doesn&#39;t create entropy. It would be hard for a person to pick and remember a password for AES-256.","body":"@iwan.z In an HMAC, NIST suggests that SHA-1 will provide 128 bits of security, while SHA-224 or SHA-256 provide at least 192 and 256 bits, respectively. Match those algorithms with the AES key length you want to generate. Of course key derivation doesn&#39;t create entropy. It would be hard for a person to pick and remember a password for AES-256."},{"owner":{"display_name":"user5268786"},"score":0,"creation_date":1451400880,"post_id":2861125,"comment_id":56767715,"body_markdown":"How we can compare two hash values with same SALT? Thanks, Neha","body":"How we can compare two hash values with same SALT? Thanks, Neha"},{"owner":{"account_id":6070679,"reputation":1367,"user_id":4739608,"accept_rate":86,"display_name":"Errol Green"},"score":0,"creation_date":1465782796,"post_id":2861125,"comment_id":63029135,"body_markdown":"@erickson Is the password token to be stored on the server side or client side?","body":"@erickson Is the password token to be stored on the server side or client side?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1465835756,"post_id":2861125,"comment_id":63055906,"body_markdown":"@ErrolGreen The token is stored at the server, and should be associated with the user identity. For example, a user table with id, login name and/or email address, and token. When someone logs in with login and password, lookup the stored token with the login and pass that to the `authenticate()` method with the password.","body":"@ErrolGreen The token is stored at the server, and should be associated with the user identity. For example, a user table with id, login name and/or email address, and token. When someone logs in with login and password, lookup the stored token with the login and pass that to the <code>authenticate()</code> method with the password."},{"owner":{"account_id":2846782,"reputation":417,"user_id":2444937,"accept_rate":50,"display_name":"The Tosters"},"score":2,"creation_date":1479850437,"post_id":2861125,"comment_id":68730196,"body_markdown":"@erickson Sorry to dig up this post, but I spent some time analysing this code. I wonder why in method `authenticate(char[] password, String token)\n ` you changed `if` into `|=` operator? Is there any benefit in this? It looks like only effect will be longer execution time, or I miss something?","body":"@erickson Sorry to dig up this post, but I spent some time analysing this code. I wonder why in method <code>authenticate(char[] password, String token)  </code> you changed <code>if</code> into <code>|=</code> operator? Is there any benefit in this? It looks like only effect will be longer execution time, or I miss something?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":5,"creation_date":1479850852,"post_id":2861125,"comment_id":68730385,"body_markdown":"@TheTosters Yes, the execution time will be longer for *incorrect* passwords; more specifically, wrong passwords will take the same time as correct passwords. It prevents [timing attacks,](https://en.wikipedia.org/wiki/Timing_attack) although I confess I can&#39;t think of a practical way to exploit such a vulnerability in this case. But you don&#39;t cut corners. Just because I can&#39;t see it, doesn&#39;t mean a more devious mind won&#39;t.","body":"@TheTosters Yes, the execution time will be longer for <i>incorrect</i> passwords; more specifically, wrong passwords will take the same time as correct passwords. It prevents <a href=\"https://en.wikipedia.org/wiki/Timing_attack\" rel=\"nofollow noreferrer\">timing attacks,</a> although I confess I can&#39;t think of a practical way to exploit such a vulnerability in this case. But you don&#39;t cut corners. Just because I can&#39;t see it, doesn&#39;t mean a more devious mind won&#39;t."},{"owner":{"account_id":51705,"reputation":21173,"user_id":154527,"accept_rate":100,"display_name":"Alain O&#39;Dea"},"score":0,"creation_date":1511624231,"post_id":2861125,"comment_id":81930160,"body_markdown":"@TheTosters using short-circuit comparison will make it faster, but also make movie-style password cracks possible. The attacker will be able to crack the password one character at a time by observing the time difference in failed auths. This attack is practical on real systems. Time difference is only one example of an oracle permitting faster cryptanalysis. Use validated cryptosystems unmodified and read their usage docs carefully to be confident that you aren’t accidentally breaking them.","body":"@TheTosters using short-circuit comparison will make it faster, but also make movie-style password cracks possible. The attacker will be able to crack the password one character at a time by observing the time difference in failed auths. This attack is practical on real systems. Time difference is only one example of an oracle permitting faster cryptanalysis. Use validated cryptosystems unmodified and read their usage docs carefully to be confident that you aren’t accidentally breaking them."},{"owner":{"account_id":4956497,"reputation":576,"user_id":3988931,"accept_rate":80,"display_name":"Boris"},"score":1,"creation_date":1512968194,"post_id":2861125,"comment_id":82453304,"body_markdown":"@erickson Upvotes for you sir and thanks for your patience! I drew boxes as you said, if we copy salt from 0 to salt.length (0 to 1), we copy the byte in hash[0] position. Then we copy dk from salt.length to dk.length - 1 to dk.length we get a correct copy. The base-64 encoding threw me off. When I print the encoded versions, the last char of the salt is gone unless I do +1. With +1 and hash one byte longer: dk: RA, salt: Qw, hash: QwBE. Without +1: and hash one byte smaller: dk: RA, salt: Qw, hash: Q0Q. But we don&#39;t need to see Qw and base64 encodes RA and Qw to Q0Q. Cheers and thanks!","body":"@erickson Upvotes for you sir and thanks for your patience! I drew boxes as you said, if we copy salt from 0 to salt.length (0 to 1), we copy the byte in hash[0] position. Then we copy dk from salt.length to dk.length - 1 to dk.length we get a correct copy. The base-64 encoding threw me off. When I print the encoded versions, the last char of the salt is gone unless I do +1. With +1 and hash one byte longer: dk: RA, salt: Qw, hash: QwBE. Without +1: and hash one byte smaller: dk: RA, salt: Qw, hash: Q0Q. But we don&#39;t need to see Qw and base64 encodes RA and Qw to Q0Q. Cheers and thanks!"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1512979998,"post_id":2861125,"comment_id":82457469,"body_markdown":"@Boris That&#39;s it. With base-64, each character represents 6 bits of input, so each input byte is sort of smeared out over *two* characters in the output. Adding one byte of input will either add two characters to the output length (the first byte of a &quot;block&quot;), or modify the last character and add one more (the second and third bytes of a block). But each bit has its place and nothing is lost.","body":"@Boris That&#39;s it. With base-64, each character represents 6 bits of input, so each input byte is sort of smeared out over <i>two</i> characters in the output. Adding one byte of input will either add two characters to the output length (the first byte of a &quot;block&quot;), or modify the last character and add one more (the second and third bytes of a block). But each bit has its place and nothing is lost."},{"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"score":0,"creation_date":1584353637,"post_id":2861125,"comment_id":107401764,"body_markdown":"Sir, thanks for this example, can I have a question.. I dont know how to use this class. I first hash password using hash() method, and store it in database with login. Then every time user visits page and wants log in, I use authenticate() method, with input password and hash stored in database.. However every time authenticate() method returns false..","body":"Sir, thanks for this example, can I have a question.. I dont know how to use this class. I first hash password using hash() method, and store it in database with login. Then every time user visits page and wants log in, I use authenticate() method, with input password and hash stored in database.. However every time authenticate() method returns false.."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1584386460,"post_id":2861125,"comment_id":107416429,"body_markdown":"@10101101 It sounds like you are using it correctly. Can you give an example of a password and the corresponding hash? In addition, here is a sample password and token that you can use for testing: `1ixrvSfjhPqd` / `$31$16$VKx6w7TTTyO8H504Ajxk6BOW034fSyZYhuayMVsf2P8`. Try storing that token in your database and see if you can login then. If so, it suggests that your enrollment process is broken. Of course, if you set that password on an account, the stored token will be different, since a different salt will be used.","body":"@10101101 It sounds like you are using it correctly. Can you give an example of a password and the corresponding hash? In addition, here is a sample password and token that you can use for testing: <code>1ixrvSfjhPqd</code> / <code>$31$16$VKx6w7TTTyO8H504Ajxk6BOW034fSyZYhuayMVsf2P8</code>. Try storing that token in your database and see if you can login then. If so, it suggests that your enrollment process is broken. Of course, if you set that password on an account, the stored token will be different, since a different salt will be used."},{"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"score":0,"creation_date":1584387576,"post_id":2861125,"comment_id":107416864,"body_markdown":"@erickson Thanks for help, manually write that token to database, and when input provided password in login, unfortunately same result","body":"@erickson Thanks for help, manually write that token to database, and when input provided password in login, unfortunately same result"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1584387738,"post_id":2861125,"comment_id":107416929,"body_markdown":"@10101101 Okay. Do you have a test password and hash for me to test?","body":"@10101101 Okay. Do you have a test password and hash for me to test?"},{"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"score":0,"creation_date":1584388093,"post_id":2861125,"comment_id":107417080,"body_markdown":"@erickson Yes, for example this hash: $31$16$AAnNmTEJQ98dQit8fyv-mMsGul7TFDGXMvE8IgzwqXg  ,  and this password: haslo  , I also tried same password with this hash: $31$16$ztuLbvMZjaDgmlsv1gttVZUiLNzvz8uVxb7YcIHpK2o","body":"@erickson Yes, for example this hash: $31$16$AAnNmTEJQ98dQit8fyv-mMsGul7TFDGXMvE8IgzwqXg  ,  and this password: haslo  , I also tried same password with this hash: $31$16$ztuLbvMZjaDgmlsv1gttVZUiLNzvz8uVxb7YcIHpK2o"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1584394625,"post_id":2861125,"comment_id":107419287,"body_markdown":"@10101101 The `authenticate()` method returns `true` when I pass `haslo` for a password and each of those hashes. Examine the value of your inputs and outputs right at the method, with a debugger or log statements (but don&#39;t log passwords in a production system). It looks like something is wrong downstream from the `authenticate()` call.","body":"@10101101 The <code>authenticate()</code> method returns <code>true</code> when I pass <code>haslo</code> for a password and each of those hashes. Examine the value of your inputs and outputs right at the method, with a debugger or log statements (but don&#39;t log passwords in a production system). It looks like something is wrong downstream from the <code>authenticate()</code> call."},{"owner":{"account_id":2862907,"reputation":193,"user_id":2457774,"accept_rate":100,"display_name":"10101101"},"score":0,"creation_date":1584645303,"post_id":2861125,"comment_id":107507543,"body_markdown":"@erickson Yes Sir it works :D I dont know what happend, I didnt changed anything in code, only added some system outs prints.. and the next day it suddenly started working! Thank You from a bottom of my heart.","body":"@erickson Yes Sir it works :D I dont know what happend, I didnt changed anything in code, only added some system outs prints.. and the next day it suddenly started working! Thank You from a bottom of my heart."},{"owner":{"account_id":4196374,"reputation":1397,"user_id":3437688,"accept_rate":60,"display_name":"Barrosy"},"score":0,"creation_date":1670775090,"post_id":2861125,"comment_id":131946248,"body_markdown":"What is `random` defined on line 2 of first code block in provided answer? When you provide an answer, could you please elaborate on what you are doing?","body":"What is <code>random</code> defined on line 2 of first code block in provided answer? When you provide an answer, could you please elaborate on what you are doing?"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1670865989,"post_id":2861125,"comment_id":131967207,"body_markdown":"@Barrosy That is meant as a snippet, with a detailed explanation in as following code. Your comment was helpful, but your edit introduced a potential vulnerability by using `Random` in place of `SecureRandom`, as demonstrated in the complete example.","body":"@Barrosy That is meant as a snippet, with a detailed explanation in as following code. Your comment was helpful, but your edit introduced a potential vulnerability by using <code>Random</code> in place of <code>SecureRandom</code>, as demonstrated in the complete example."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":26,"down_vote_count":2,"up_vote_count":170,"is_accepted":true,"score":168,"last_activity_date":1670865624,"creation_date":1274216300,"answer_id":2861125,"question_id":2860943,"body_markdown":"You can actually use a facility built in to the Java runtime to do this. The SunJCE in Java 6 supports PBKDF2, which is a good algorithm to use for password hashing.\r\n\r\n    SecureRandom random = new SecureRandom();\r\n    byte[] salt = new byte[16];\r\n    random.nextBytes(salt);\r\n    KeySpec spec = new PBEKeySpec(&quot;password&quot;.toCharArray(), salt, 65536, 128);\r\n    SecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n    byte[] hash = f.generateSecret(spec).getEncoded();\r\n    Base64.Encoder enc = Base64.getEncoder();\r\n    System.out.printf(&quot;salt: %s%n&quot;, enc.encodeToString(salt));\r\n    System.out.printf(&quot;hash: %s%n&quot;, enc.encodeToString(hash));\r\n\r\nHere&#39;s a utility class that you can use for PBKDF2 password authentication:\r\n\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    \r\n    /**\r\n     * Hash passwords for storage, and test passwords against password tokens.\r\n     * \r\n     * Instances of this class can be used concurrently by multiple threads.\r\n     *  \r\n     * @author erickson\r\n     * @see &lt;a href=&quot;http://stackoverflow.com/a/2861125/3474&quot;&gt;StackOverflow&lt;/a&gt;\r\n     */\r\n    public final class PasswordAuthentication\r\n    {\r\n    \r\n      /**\r\n       * Each token produced by this class uses this identifier as a prefix.\r\n       */\r\n      public static final String ID = &quot;$31$&quot;;\r\n    \r\n      /**\r\n       * The minimum recommended cost, used by default\r\n       */\r\n      public static final int DEFAULT_COST = 16;\r\n    \r\n      private static final String ALGORITHM = &quot;PBKDF2WithHmacSHA1&quot;;\r\n    \r\n      private static final int SIZE = 128;\r\n    \r\n      private static final Pattern layout = Pattern.compile(&quot;\\\\$31\\\\$(\\\\d\\\\d?)\\\\$(.{43})&quot;);\r\n    \r\n      private final SecureRandom random;\r\n    \r\n      private final int cost;\r\n    \r\n      public PasswordAuthentication()\r\n      {\r\n        this(DEFAULT_COST);\r\n      }\r\n    \r\n      /**\r\n       * Create a password manager with a specified cost\r\n       * \r\n       * @param cost the exponential computational cost of hashing a password, 0 to 30\r\n       */\r\n      public PasswordAuthentication(int cost)\r\n      {\r\n        iterations(cost); /* Validate cost */\r\n        this.cost = cost;\r\n        this.random = new SecureRandom();\r\n      }\r\n    \r\n      private static int iterations(int cost)\r\n      {\r\n        if ((cost &lt; 0) || (cost &gt; 30))\r\n          throw new IllegalArgumentException(&quot;cost: &quot; + cost);\r\n        return 1 &lt;&lt; cost;\r\n      }\r\n    \r\n      /**\r\n       * Hash a password for storage.\r\n       * \r\n       * @return a secure authentication token to be stored for later authentication \r\n       */\r\n      public String hash(char[] password)\r\n      {\r\n        byte[] salt = new byte[SIZE / 8];\r\n        random.nextBytes(salt);\r\n        byte[] dk = pbkdf2(password, salt, 1 &lt;&lt; cost);\r\n        byte[] hash = new byte[salt.length + dk.length];\r\n        System.arraycopy(salt, 0, hash, 0, salt.length);\r\n        System.arraycopy(dk, 0, hash, salt.length, dk.length);\r\n        Base64.Encoder enc = Base64.getUrlEncoder().withoutPadding();\r\n        return ID + cost + &#39;$&#39; + enc.encodeToString(hash);\r\n      }\r\n    \r\n      /**\r\n       * Authenticate with a password and a stored password token.\r\n       * \r\n       * @return true if the password and token match\r\n       */\r\n      public boolean authenticate(char[] password, String token)\r\n      {\r\n        Matcher m = layout.matcher(token);\r\n        if (!m.matches())\r\n          throw new IllegalArgumentException(&quot;Invalid token format&quot;);\r\n        int iterations = iterations(Integer.parseInt(m.group(1)));\r\n        byte[] hash = Base64.getUrlDecoder().decode(m.group(2));\r\n        byte[] salt = Arrays.copyOfRange(hash, 0, SIZE / 8);\r\n        byte[] check = pbkdf2(password, salt, iterations);\r\n        int zero = 0;\r\n        for (int idx = 0; idx &lt; check.length; ++idx)\r\n          zero |= hash[salt.length + idx] ^ check[idx];\r\n        return zero == 0;\r\n      }\r\n    \r\n      private static byte[] pbkdf2(char[] password, byte[] salt, int iterations)\r\n      {\r\n        KeySpec spec = new PBEKeySpec(password, salt, iterations, SIZE);\r\n        try {\r\n          SecretKeyFactory f = SecretKeyFactory.getInstance(ALGORITHM);\r\n          return f.generateSecret(spec).getEncoded();\r\n        }\r\n        catch (NoSuchAlgorithmException ex) {\r\n          throw new IllegalStateException(&quot;Missing algorithm: &quot; + ALGORITHM, ex);\r\n        }\r\n        catch (InvalidKeySpecException ex) {\r\n          throw new IllegalStateException(&quot;Invalid SecretKeyFactory&quot;, ex);\r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Hash a password in an immutable {@code String}. \r\n       * \r\n       * &lt;p&gt;Passwords should be stored in a {@code char[]} so that it can be filled \r\n       * with zeros after use instead of lingering on the heap and elsewhere.\r\n       * \r\n       * @deprecated Use {@link #hash(char[])} instead\r\n       */\r\n      @Deprecated\r\n      public String hash(String password)\r\n      {\r\n        return hash(password.toCharArray());\r\n      }\r\n    \r\n      /**\r\n       * Authenticate with a password in an immutable {@code String} and a stored \r\n       * password token. \r\n       * \r\n       * @deprecated Use {@link #authenticate(char[],String)} instead.\r\n       * @see #hash(String)\r\n       */\r\n      @Deprecated\r\n      public boolean authenticate(String password, String token)\r\n      {\r\n        return authenticate(password.toCharArray(), token);\r\n      }\r\n    \r\n    }\r\n\r\n","title":"How can I hash a password in Java?","body":"<p>You can actually use a facility built in to the Java runtime to do this. The SunJCE in Java 6 supports PBKDF2, which is a good algorithm to use for password hashing.</p>\n<pre><code>SecureRandom random = new SecureRandom();\nbyte[] salt = new byte[16];\nrandom.nextBytes(salt);\nKeySpec spec = new PBEKeySpec(&quot;password&quot;.toCharArray(), salt, 65536, 128);\nSecretKeyFactory f = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\nbyte[] hash = f.generateSecret(spec).getEncoded();\nBase64.Encoder enc = Base64.getEncoder();\nSystem.out.printf(&quot;salt: %s%n&quot;, enc.encodeToString(salt));\nSystem.out.printf(&quot;hash: %s%n&quot;, enc.encodeToString(hash));\n</code></pre>\n<p>Here's a utility class that you can use for PBKDF2 password authentication:</p>\n<pre><code>import java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.PBEKeySpec;\n\n/**\n * Hash passwords for storage, and test passwords against password tokens.\n * \n * Instances of this class can be used concurrently by multiple threads.\n *  \n * @author erickson\n * @see &lt;a href=&quot;http://stackoverflow.com/a/2861125/3474&quot;&gt;StackOverflow&lt;/a&gt;\n */\npublic final class PasswordAuthentication\n{\n\n  /**\n   * Each token produced by this class uses this identifier as a prefix.\n   */\n  public static final String ID = &quot;$31$&quot;;\n\n  /**\n   * The minimum recommended cost, used by default\n   */\n  public static final int DEFAULT_COST = 16;\n\n  private static final String ALGORITHM = &quot;PBKDF2WithHmacSHA1&quot;;\n\n  private static final int SIZE = 128;\n\n  private static final Pattern layout = Pattern.compile(&quot;\\\\$31\\\\$(\\\\d\\\\d?)\\\\$(.{43})&quot;);\n\n  private final SecureRandom random;\n\n  private final int cost;\n\n  public PasswordAuthentication()\n  {\n    this(DEFAULT_COST);\n  }\n\n  /**\n   * Create a password manager with a specified cost\n   * \n   * @param cost the exponential computational cost of hashing a password, 0 to 30\n   */\n  public PasswordAuthentication(int cost)\n  {\n    iterations(cost); /* Validate cost */\n    this.cost = cost;\n    this.random = new SecureRandom();\n  }\n\n  private static int iterations(int cost)\n  {\n    if ((cost &lt; 0) || (cost &gt; 30))\n      throw new IllegalArgumentException(&quot;cost: &quot; + cost);\n    return 1 &lt;&lt; cost;\n  }\n\n  /**\n   * Hash a password for storage.\n   * \n   * @return a secure authentication token to be stored for later authentication \n   */\n  public String hash(char[] password)\n  {\n    byte[] salt = new byte[SIZE / 8];\n    random.nextBytes(salt);\n    byte[] dk = pbkdf2(password, salt, 1 &lt;&lt; cost);\n    byte[] hash = new byte[salt.length + dk.length];\n    System.arraycopy(salt, 0, hash, 0, salt.length);\n    System.arraycopy(dk, 0, hash, salt.length, dk.length);\n    Base64.Encoder enc = Base64.getUrlEncoder().withoutPadding();\n    return ID + cost + '$' + enc.encodeToString(hash);\n  }\n\n  /**\n   * Authenticate with a password and a stored password token.\n   * \n   * @return true if the password and token match\n   */\n  public boolean authenticate(char[] password, String token)\n  {\n    Matcher m = layout.matcher(token);\n    if (!m.matches())\n      throw new IllegalArgumentException(&quot;Invalid token format&quot;);\n    int iterations = iterations(Integer.parseInt(m.group(1)));\n    byte[] hash = Base64.getUrlDecoder().decode(m.group(2));\n    byte[] salt = Arrays.copyOfRange(hash, 0, SIZE / 8);\n    byte[] check = pbkdf2(password, salt, iterations);\n    int zero = 0;\n    for (int idx = 0; idx &lt; check.length; ++idx)\n      zero |= hash[salt.length + idx] ^ check[idx];\n    return zero == 0;\n  }\n\n  private static byte[] pbkdf2(char[] password, byte[] salt, int iterations)\n  {\n    KeySpec spec = new PBEKeySpec(password, salt, iterations, SIZE);\n    try {\n      SecretKeyFactory f = SecretKeyFactory.getInstance(ALGORITHM);\n      return f.generateSecret(spec).getEncoded();\n    }\n    catch (NoSuchAlgorithmException ex) {\n      throw new IllegalStateException(&quot;Missing algorithm: &quot; + ALGORITHM, ex);\n    }\n    catch (InvalidKeySpecException ex) {\n      throw new IllegalStateException(&quot;Invalid SecretKeyFactory&quot;, ex);\n    }\n  }\n\n  /**\n   * Hash a password in an immutable {@code String}. \n   * \n   * &lt;p&gt;Passwords should be stored in a {@code char[]} so that it can be filled \n   * with zeros after use instead of lingering on the heap and elsewhere.\n   * \n   * @deprecated Use {@link #hash(char[])} instead\n   */\n  @Deprecated\n  public String hash(String password)\n  {\n    return hash(password.toCharArray());\n  }\n\n  /**\n   * Authenticate with a password in an immutable {@code String} and a stored \n   * password token. \n   * \n   * @deprecated Use {@link #authenticate(char[],String)} instead.\n   * @see #hash(String)\n   */\n  @Deprecated\n  public boolean authenticate(String password, String token)\n  {\n    return authenticate(password.toCharArray(), token);\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"score":0,"creation_date":1274217308,"post_id":2861146,"comment_id":2905545,"body_markdown":"Thats actually what I was using.  But since we decided not to use Shiro, there was some concern about the inefficiency of having to include the whole Shiro library for just that one package.","body":"Thats actually what I was using.  But since we decided not to use Shiro, there was some concern about the inefficiency of having to include the whole Shiro library for just that one package."},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1274217961,"post_id":2861146,"comment_id":2905623,"body_markdown":"I don&#39;t know of a library made up of just a password hashing utility. You&#39;re probably better off rolling your own if dependencies are a concern. The answer by erickson looks pretty good to me. Or just copy the code from that OWASP link I referenced if you&#39;d rather use SHA in a secure manner.","body":"I don&#39;t know of a library made up of just a password hashing utility. You&#39;re probably better off rolling your own if dependencies are a concern. The answer by erickson looks pretty good to me. Or just copy the code from that OWASP link I referenced if you&#39;d rather use SHA in a secure manner."}],"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1274216460,"creation_date":1274216460,"answer_id":2861146,"question_id":2860943,"body_markdown":"You can use the [Shiro][2] library&#39;s (formerly [JSecurity][3]) [implementation][4] of what is described by [OWASP][1]. \r\n\r\nIt also looks like the JASYPT library has a [similar utility][5].\r\n\r\n  [1]: http://www.owasp.org/index.php/Hashing_Java &quot;OWASP&quot;\r\n  [2]: https://cwiki.apache.org/confluence/display/SHIRO/Index &quot;Shiro&quot;\r\n  [3]: http://www.jsecurity.org/ &quot;JSecurity&quot;\r\n  [4]: http://www.jsecurity.org/api/org/jsecurity/crypto/hash/package-summary.html &quot;JSecurity Hashing Utilities&quot;\r\n  [5]: http://www.jasypt.org/api/jasypt/apidocs/org/jasypt/digest/StandardStringDigester.html &quot;JASYPT Hashing&quot;","title":"How can I hash a password in Java?","body":"<p>You can use the <a href=\"https://cwiki.apache.org/confluence/display/SHIRO/Index\" rel=\"noreferrer\" title=\"Shiro\">Shiro</a> library's (formerly <a href=\"http://www.jsecurity.org/\" rel=\"noreferrer\" title=\"JSecurity\">JSecurity</a>) <a href=\"http://www.jsecurity.org/api/org/jsecurity/crypto/hash/package-summary.html\" rel=\"noreferrer\" title=\"JSecurity Hashing Utilities\">implementation</a> of what is described by <a href=\"http://www.owasp.org/index.php/Hashing_Java\" rel=\"noreferrer\" title=\"OWASP\">OWASP</a>. </p>\n\n<p>It also looks like the JASYPT library has a <a href=\"http://www.jasypt.org/api/jasypt/apidocs/org/jasypt/digest/StandardStringDigester.html\" rel=\"noreferrer\" title=\"JASYPT Hashing\">similar utility</a>.</p>\n"},{"comments":[{"owner":{"account_id":2489368,"reputation":3189,"user_id":2730399,"accept_rate":92,"display_name":"Azsgy"},"score":0,"creation_date":1553701916,"post_id":10580455,"comment_id":97484965,"body_markdown":"it&#39;s worth noting that SHA512 isn&#39;t better than SHA256 (for this purpose) just because the number is bigger.","body":"it&#39;s worth noting that SHA512 isn&#39;t better than SHA256 (for this purpose) just because the number is bigger."}],"tags":[],"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443036929,"creation_date":1336986892,"answer_id":10580455,"question_id":2860943,"body_markdown":"Fully agree with Erickson that **PBKDF2** is the answer.\r\n\r\nIf you don&#39;t have that option, or only need to use a hash, Apache Commons DigestUtils is much easier than getting JCE code right:\r\nhttps://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html\r\n\r\nIf you use a hash, go with sha256 or sha512. This page has good recommendations on password handling and hashing (note it doesn&#39;t recommend hashing for password handling):\r\nhttp://www.daemonology.net/blog/2009-06-11-cryptographic-right-answers.html","title":"How can I hash a password in Java?","body":"<p>Fully agree with Erickson that <strong>PBKDF2</strong> is the answer.</p>\n\n<p>If you don't have that option, or only need to use a hash, Apache Commons DigestUtils is much easier than getting JCE code right:\n<a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html\" rel=\"nofollow\">https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/DigestUtils.html</a></p>\n\n<p>If you use a hash, go with sha256 or sha512. This page has good recommendations on password handling and hashing (note it doesn't recommend hashing for password handling):\n<a href=\"http://www.daemonology.net/blog/2009-06-11-cryptographic-right-answers.html\" rel=\"nofollow\">http://www.daemonology.net/blog/2009-06-11-cryptographic-right-answers.html</a></p>\n"},{"tags":[],"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1353483532,"creation_date":1353482680,"answer_id":13488256,"question_id":2860943,"body_markdown":"In addition to bcrypt and PBKDF2 mentioned in other answers, I would recommend looking at [scrypt][1] \r\n\r\nMD5 and SHA-1 are not recommended as they are relatively fast thus using &quot;rent per hour&quot; distributed computing (e.g. EC2) or a modern high end GPU one can &quot;crack&quot; passwords using brute force / dictionary attacks in relatively low costs and reasonable time.\r\n\r\nIf you must use them, then at least iterate the algorithm a predefined significant amount of times (1000+).\r\n\r\n- See here for more: https://security.stackexchange.com/questions/211/how-to-securely-hash-passwords\r\n\r\n- And here: http://codahale.com/how-to-safely-store-a-password/ (criticizes SHA family, MD5 etc for password hashing purposes)\r\n- And here: http://www.unlimitednovelty.com/2012/03/dont-use-bcrypt.html (criticizes bcrypt and recommends scrypt and PBKDF2)\r\n\r\n\r\n  [1]: http://www.tarsnap.com/scrypt.html","title":"How can I hash a password in Java?","body":"<p>In addition to bcrypt and PBKDF2 mentioned in other answers, I would recommend looking at <a href=\"http://www.tarsnap.com/scrypt.html\" rel=\"nofollow noreferrer\">scrypt</a> </p>\n\n<p>MD5 and SHA-1 are not recommended as they are relatively fast thus using \"rent per hour\" distributed computing (e.g. EC2) or a modern high end GPU one can \"crack\" passwords using brute force / dictionary attacks in relatively low costs and reasonable time.</p>\n\n<p>If you must use them, then at least iterate the algorithm a predefined significant amount of times (1000+).</p>\n\n<ul>\n<li><p>See here for more: <a href=\"https://security.stackexchange.com/questions/211/how-to-securely-hash-passwords\">https://security.stackexchange.com/questions/211/how-to-securely-hash-passwords</a></p></li>\n<li><p>And here: <a href=\"http://codahale.com/how-to-safely-store-a-password/\" rel=\"nofollow noreferrer\">http://codahale.com/how-to-safely-store-a-password/</a> (criticizes SHA family, MD5 etc for password hashing purposes)</p></li>\n<li>And here: <a href=\"http://www.unlimitednovelty.com/2012/03/dont-use-bcrypt.html\" rel=\"nofollow noreferrer\">http://www.unlimitednovelty.com/2012/03/dont-use-bcrypt.html</a> (criticizes bcrypt and recommends scrypt and PBKDF2)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"score":0,"creation_date":1499251075,"post_id":44909229,"comment_id":76823153,"body_markdown":"@zaph I edited the answer to be more objective. Please be aware that the NIST recommendation may not always be the best choice (see [here](https://en.wikipedia.org/wiki/National_Institute_of_Standards_and_Technology#Controversial_Backdoored_NIST_Standard) for an example) - of course this is true for anything that is recommended somewhere else as well. Therefore I do think this answer provides a value to this question.","body":"@zaph I edited the answer to be more objective. Please be aware that the NIST recommendation may not always be the best choice (see <a href=\"https://en.wikipedia.org/wiki/National_Institute_of_Standards_and_Technology#Controversial_Backdoored_NIST_Standard\" rel=\"nofollow noreferrer\">here</a> for an example) - of course this is true for anything that is recommended somewhere else as well. Therefore I do think this answer provides a value to this question."}],"tags":[],"owner":{"account_id":2851272,"reputation":1349,"user_id":2448440,"accept_rate":50,"display_name":"Qw3ry"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1499250644,"creation_date":1499180483,"answer_id":44909229,"question_id":2860943,"body_markdown":"While the [NIST recommendation PBKDF2][4] has already been mentioned, I&#39;d like to point out that there was a public [password hashing competition][1] that ran from 2013 to 2015. In the end, **[Argon2][2]** was chosen as the recommended password hashing function.\r\n\r\nThere is a fairly well adopted [Java binding][3] for the original (native C) library that you can use.\r\n\r\nIn the average use-case, I don&#39;t think it does matter from a security perspective if you choose PBKDF2 over Argon2 or vice-versa. If you have strong security requirements, I recommend considering Argon2 in your evaluation.\r\n\r\nFor further information on the security of password hashing functions see [security.se][5].\r\n\r\n[1]: https://password-hashing.net/\r\n[2]: https://github.com/p-h-c/phc-winner-argon2\r\n[3]: https://github.com/phxql/argon2-jvm\r\n[4]: https://stackoverflow.com/a/2861125/2448440\r\n[5]: https://security.stackexchange.com/a/31846/152511","title":"How can I hash a password in Java?","body":"<p>While the <a href=\"https://stackoverflow.com/a/2861125/2448440\">NIST recommendation PBKDF2</a> has already been mentioned, I'd like to point out that there was a public <a href=\"https://password-hashing.net/\" rel=\"noreferrer\">password hashing competition</a> that ran from 2013 to 2015. In the end, <strong><a href=\"https://github.com/p-h-c/phc-winner-argon2\" rel=\"noreferrer\">Argon2</a></strong> was chosen as the recommended password hashing function.</p>\n\n<p>There is a fairly well adopted <a href=\"https://github.com/phxql/argon2-jvm\" rel=\"noreferrer\">Java binding</a> for the original (native C) library that you can use.</p>\n\n<p>In the average use-case, I don't think it does matter from a security perspective if you choose PBKDF2 over Argon2 or vice-versa. If you have strong security requirements, I recommend considering Argon2 in your evaluation.</p>\n\n<p>For further information on the security of password hashing functions see <a href=\"https://security.stackexchange.com/a/31846/152511\">security.se</a>.</p>\n"},{"tags":[],"owner":{"account_id":61679,"reputation":6221,"user_id":183704,"accept_rate":60,"display_name":"BuZZ-dEE"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1572455408,"creation_date":1552169206,"answer_id":55082443,"question_id":2860943,"body_markdown":"You could use [Spring Security][1] [Crypto][2] (has only [2 optional compile dependencies][3]), which supports [PBKDF2][4], [BCrypt][5], [SCrypt][6] and [Argon2][7] password encryption.\r\n\r\n```java\r\nArgon2PasswordEncoder argon2PasswordEncoder = new Argon2PasswordEncoder();\r\nString aCryptedPassword = argon2PasswordEncoder.encode(&quot;password&quot;);\r\nboolean passwordIsValid = argon2PasswordEncoder.matches(&quot;password&quot;, aCryptedPassword);\r\n```\r\n\r\n```java\r\nSCryptPasswordEncoder sCryptPasswordEncoder = new SCryptPasswordEncoder();\r\nString sCryptedPassword = sCryptPasswordEncoder.encode(&quot;password&quot;);\r\nboolean passwordIsValid = sCryptPasswordEncoder.matches(&quot;password&quot;, sCryptedPassword);\r\n```\r\n\r\n```java\r\nBCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\r\nString bCryptedPassword = bCryptPasswordEncoder.encode(&quot;password&quot;);\r\nboolean passwordIsValid = bCryptPasswordEncoder.matches(&quot;password&quot;, bCryptedPassword);\r\n```\r\n\r\n```java\r\nPbkdf2PasswordEncoder pbkdf2PasswordEncoder = new Pbkdf2PasswordEncoder();\r\nString pbkdf2CryptedPassword = pbkdf2PasswordEncoder.encode(&quot;password&quot;);\r\nboolean passwordIsValid = pbkdf2PasswordEncoder.matches(&quot;password&quot;, pbkdf2CryptedPassword);\r\n```\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-security\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/reference/htmlsingle/#crypto\r\n  [3]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-crypto/5.1.4.RELEASE\r\n  [4]: https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/api/org/springframework/security/crypto/password/Pbkdf2PasswordEncoder.html\r\n  [5]: https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/api/org/springframework/security/crypto/bcrypt/package-frame.html\r\n  [6]: https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/api/org/springframework/security/crypto/scrypt/SCryptPasswordEncoder.html\r\n  [7]: https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/api/org/springframework/security/crypto/argon2/Argon2PasswordEncoder.html","title":"How can I hash a password in Java?","body":"<p>You could use <a href=\"https://spring.io/projects/spring-security\" rel=\"noreferrer\">Spring Security</a> <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/reference/htmlsingle/#crypto\" rel=\"noreferrer\">Crypto</a> (has only <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-crypto/5.1.4.RELEASE\" rel=\"noreferrer\">2 optional compile dependencies</a>), which supports <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/api/org/springframework/security/crypto/password/Pbkdf2PasswordEncoder.html\" rel=\"noreferrer\">PBKDF2</a>, <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/api/org/springframework/security/crypto/bcrypt/package-frame.html\" rel=\"noreferrer\">BCrypt</a>, <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/api/org/springframework/security/crypto/scrypt/SCryptPasswordEncoder.html\" rel=\"noreferrer\">SCrypt</a> and <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/api/org/springframework/security/crypto/argon2/Argon2PasswordEncoder.html\" rel=\"noreferrer\">Argon2</a> password encryption.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Argon2PasswordEncoder argon2PasswordEncoder = new Argon2PasswordEncoder();\nString aCryptedPassword = argon2PasswordEncoder.encode(\"password\");\nboolean passwordIsValid = argon2PasswordEncoder.matches(\"password\", aCryptedPassword);\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>SCryptPasswordEncoder sCryptPasswordEncoder = new SCryptPasswordEncoder();\nString sCryptedPassword = sCryptPasswordEncoder.encode(\"password\");\nboolean passwordIsValid = sCryptPasswordEncoder.matches(\"password\", sCryptedPassword);\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>BCryptPasswordEncoder bCryptPasswordEncoder = new BCryptPasswordEncoder();\nString bCryptedPassword = bCryptPasswordEncoder.encode(\"password\");\nboolean passwordIsValid = bCryptPasswordEncoder.matches(\"password\", bCryptedPassword);\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>Pbkdf2PasswordEncoder pbkdf2PasswordEncoder = new Pbkdf2PasswordEncoder();\nString pbkdf2CryptedPassword = pbkdf2PasswordEncoder.encode(\"password\");\nboolean passwordIsValid = pbkdf2PasswordEncoder.matches(\"password\", pbkdf2CryptedPassword);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7242901,"reputation":180,"user_id":5525895,"accept_rate":76,"display_name":"duldi"},"score":1,"creation_date":1591406972,"post_id":58172369,"comment_id":110052943,"body_markdown":"I&#39;m open to being corrected, but I think you shouldn&#39;t use random numbers when hashing. This is so that your hash function remains deterministic; that is if you hash a string multiple times you will always get the same hash value back for that string.","body":"I&#39;m open to being corrected, but I think you shouldn&#39;t use random numbers when hashing. This is so that your hash function remains deterministic; that is if you hash a string multiple times you will always get the same hash value back for that string."}],"tags":[],"owner":{"account_id":16798397,"reputation":1,"user_id":12144330,"display_name":"سحنون المالكى"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569863353,"creation_date":1569863353,"answer_id":58172369,"question_id":2860943,"body_markdown":"i leaned that from a video on udemy and edited to be stronger random password\r\n\r\n  \r\n  \r\n\t\r\n    }\r\n    \r\n    private String pass() {\r\n    \t\tString passswet=&quot;1234567890zxcvbbnmasdfghjklop[iuytrtewq@#$%^&amp;*&quot; ;\r\n    \t\t\r\n    \t\tchar icon1;\r\n    \t\tchar[] t=new char[20];\r\n    \t\r\n    \t\t int rand1=(int)(Math.random()*6)+38;//to make a random within the range of special characters\r\n    \t\t\t\r\n    \t\t\ticon1=passswet.charAt(rand1);//will produce char with a special character\r\n    \t\t\t\r\n    \t\tint i=0;\r\n    \t\twhile( i &lt;11) {\r\n    \t\t\t \r\n    \t\t\t int rand=(int)(Math.random()*passswet.length());\r\n    \t\t\t //notice (int) as the original value of Math&gt;random() is double\r\n    \t\t\t \r\n    \t\t\t t[i] =passswet.charAt(rand);\r\n    \t\t\t\r\n    \t\t\t i++;\r\n    \t\t\t\tt[10]=icon1;\r\n    //to replace the specified item with icon1\r\n    \t\t }\r\n    \t\treturn new String(t);\r\n    }\r\n    \r\n    \r\n     \r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \t \r\n    \t\r\n     \r\n\r\n","title":"How can I hash a password in Java?","body":"<p>i leaned that from a video on udemy and edited to be stronger random password</p>\n\n<pre><code>}\n\nprivate String pass() {\n        String passswet=\"1234567890zxcvbbnmasdfghjklop[iuytrtewq@#$%^&amp;*\" ;\n\n        char icon1;\n        char[] t=new char[20];\n\n         int rand1=(int)(Math.random()*6)+38;//to make a random within the range of special characters\n\n            icon1=passswet.charAt(rand1);//will produce char with a special character\n\n        int i=0;\n        while( i &lt;11) {\n\n             int rand=(int)(Math.random()*passswet.length());\n             //notice (int) as the original value of Math&gt;random() is double\n\n             t[i] =passswet.charAt(rand);\n\n             i++;\n                t[10]=icon1;\n//to replace the specified item with icon1\n         }\n        return new String(t);\n}\n\n\n\n\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":319529,"reputation":2605,"user_id":637338,"accept_rate":50,"display_name":"user637338"},"score":0,"creation_date":1657605763,"post_id":62369258,"comment_id":128843941,"body_markdown":"I just want to say, this is so well written and it works out of the box like you describe.  Thank you.","body":"I just want to say, this is so well written and it works out of the box like you describe.  Thank you."}],"tags":[],"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604051894,"creation_date":1592116978,"answer_id":62369258,"question_id":2860943,"body_markdown":"As of 2020, the most reliable password hashing algorithm in use, most likely to optimise its strength given any hardware, is **Argon2id** or **Argon2i** but not its Spring implementation.\r\n\r\nThe PBKDF2 standard includes the the CPU-greedy/computationally-expensive feature of the block cipher BCRYPT algo, and add its [ stream cipher][1] capability. PBKDF2 was overwhelmed by the memory exponentially-greedy SCRYPT then by the side-channel-attack-resistant Argon2\r\n\r\nArgon2 provides the necessary calibration tool to find optimized strength parameters given a target hashing time and the hardware used.\r\n\r\n - *Argon2i* is specialized in memory greedy hashing\r\n - *Argon2d* is specialized in CPU greedy hashing\r\n - *Argon2id* use both methods.\r\n\r\nMemory greedy hashing would help against GPU use for cracking.\r\n\r\nSpring security/Bouncy Castle implementation is not optimized and relatively week given what attacker could use.\r\ncf: Spring doc [Argon2][2] and [Scrypt][3] \r\n\r\n&gt; The currently implementation uses Bouncy castle which does not exploit\r\n&gt; parallelism/optimizations that password crackers will, so there is an\r\n&gt; unnecessary asymmetry between attacker and defender.\r\n\r\nThe most credible implementation in use for java is [mkammerer][4]&#39;s one, \r\n\r\na wrapper jar/library of the [official native implementation][5] written in C. \r\n\r\nIt is well written and simple to use.\r\n\r\nThe embedded version provides native builds for Linux, windows and OSX.\r\n\r\nAs an example, it is used by jpmorganchase in its [tessera][6] security project used to secure [Quorum][7], its Ethereum cryptocurency implementation.\r\n\r\n\r\nHere is an example:\r\n\r\n        final char[] password = &quot;a4e9y2tr0ngAnd7on6P&#224;&#167;&#167;M&#176;RD&quot;.toCharArray();\r\n        byte[] salt = new byte[128];\r\n        new SecureRandom().nextBytes(salt);\r\n        final Argon2Advanced argon2 = Argon2Factory.createAdvanced(Argon2Factory.Argon2Types.ARGON2id);\r\n        byte[] hash = argon2.rawHash(10, 1048576, 4, password, salt);\r\n(see [tessera][8])\r\n\r\nDeclare the lib in your POM:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;de.mkammerer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;argon2-jvm&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nor with gradle:\r\n\r\n    compile &#39;de.mkammerer:argon2-jvm:2.7&#39;\r\n\r\n*Calibration* may be performed using  [de.mkammerer.argon2.Argon2Helper#findIterations][9]\r\n\r\nSCRYPT and Pbkdf2 algorithm might also be calibrated by writing some simple benchmark, but current minimal safe iterations values, will require higher hashing times.\r\n\r\n\r\n  [1]: https://crypto.stackexchange.com/questions/42499/can-i-use-pbkdf2-as-a-stream-cipher\r\n  [2]: https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/api/org/springframework/security/crypto/argon2/Argon2PasswordEncoder.html\r\n  [3]: https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/api/org/springframework/security/crypto/scrypt/SCryptPasswordEncoder.html\r\n  [4]: https://github.com/phxql/argon2-jvm\r\n  [5]: https://github.com/P-H-C/phc-winner-argon2/releases/tag/20190702\r\n  [6]: https://github.com/jpmorganchase/tessera\r\n  [7]: https://github.com/jpmorganchase/quorum/\r\n  [8]: https://github.com/jpmorganchase/tessera/blob/master/argon2/src/main/java/com/quorum/tessera/argon2/Argon2Impl.java#L34\r\n  [9]: https://github.com/phxql/argon2-jvm/blob/master/src/main/java/de/mkammerer/argon2/Argon2Helper.java","title":"How can I hash a password in Java?","body":"<p>As of 2020, the most reliable password hashing algorithm in use, most likely to optimise its strength given any hardware, is <strong>Argon2id</strong> or <strong>Argon2i</strong> but not its Spring implementation.</p>\n<p>The PBKDF2 standard includes the the CPU-greedy/computationally-expensive feature of the block cipher BCRYPT algo, and add its <a href=\"https://crypto.stackexchange.com/questions/42499/can-i-use-pbkdf2-as-a-stream-cipher\"> stream cipher</a> capability. PBKDF2 was overwhelmed by the memory exponentially-greedy SCRYPT then by the side-channel-attack-resistant Argon2</p>\n<p>Argon2 provides the necessary calibration tool to find optimized strength parameters given a target hashing time and the hardware used.</p>\n<ul>\n<li><em>Argon2i</em> is specialized in memory greedy hashing</li>\n<li><em>Argon2d</em> is specialized in CPU greedy hashing</li>\n<li><em>Argon2id</em> use both methods.</li>\n</ul>\n<p>Memory greedy hashing would help against GPU use for cracking.</p>\n<p>Spring security/Bouncy Castle implementation is not optimized and relatively week given what attacker could use.\ncf: Spring doc <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/api/org/springframework/security/crypto/argon2/Argon2PasswordEncoder.html\" rel=\"nofollow noreferrer\">Argon2</a> and <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/api/org/springframework/security/crypto/scrypt/SCryptPasswordEncoder.html\" rel=\"nofollow noreferrer\">Scrypt</a></p>\n<blockquote>\n<p>The currently implementation uses Bouncy castle which does not exploit\nparallelism/optimizations that password crackers will, so there is an\nunnecessary asymmetry between attacker and defender.</p>\n</blockquote>\n<p>The most credible implementation in use for java is <a href=\"https://github.com/phxql/argon2-jvm\" rel=\"nofollow noreferrer\">mkammerer</a>'s one,</p>\n<p>a wrapper jar/library of the <a href=\"https://github.com/P-H-C/phc-winner-argon2/releases/tag/20190702\" rel=\"nofollow noreferrer\">official native implementation</a> written in C.</p>\n<p>It is well written and simple to use.</p>\n<p>The embedded version provides native builds for Linux, windows and OSX.</p>\n<p>As an example, it is used by jpmorganchase in its <a href=\"https://github.com/jpmorganchase/tessera\" rel=\"nofollow noreferrer\">tessera</a> security project used to secure <a href=\"https://github.com/jpmorganchase/quorum/\" rel=\"nofollow noreferrer\">Quorum</a>, its Ethereum cryptocurency implementation.</p>\n<p>Here is an example:</p>\n<pre><code>    final char[] password = &quot;a4e9y2tr0ngAnd7on6Pà§§M°RD&quot;.toCharArray();\n    byte[] salt = new byte[128];\n    new SecureRandom().nextBytes(salt);\n    final Argon2Advanced argon2 = Argon2Factory.createAdvanced(Argon2Factory.Argon2Types.ARGON2id);\n    byte[] hash = argon2.rawHash(10, 1048576, 4, password, salt);\n</code></pre>\n<p>(see <a href=\"https://github.com/jpmorganchase/tessera/blob/master/argon2/src/main/java/com/quorum/tessera/argon2/Argon2Impl.java#L34\" rel=\"nofollow noreferrer\">tessera</a>)</p>\n<p>Declare the lib in your POM:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;de.mkammerer&lt;/groupId&gt;\n    &lt;artifactId&gt;argon2-jvm&lt;/artifactId&gt;\n    &lt;version&gt;2.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or with gradle:</p>\n<pre><code>compile 'de.mkammerer:argon2-jvm:2.7'\n</code></pre>\n<p><em>Calibration</em> may be performed using  <a href=\"https://github.com/phxql/argon2-jvm/blob/master/src/main/java/de/mkammerer/argon2/Argon2Helper.java\" rel=\"nofollow noreferrer\">de.mkammerer.argon2.Argon2Helper#findIterations</a></p>\n<p>SCRYPT and Pbkdf2 algorithm might also be calibrated by writing some simple benchmark, but current minimal safe iterations values, will require higher hashing times.</p>\n"},{"tags":[],"owner":{"account_id":22415217,"reputation":185,"user_id":16623378,"display_name":"Quốc H&#249;ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662520501,"creation_date":1662520501,"answer_id":73629702,"question_id":2860943,"body_markdown":"Here is my simple `PasswordHasher` class that I made:\r\n```java\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.KeySpec;\r\nimport java.util.Arrays;\r\n\r\npublic class PasswordHasher {\r\n    private static final String ALGO = &quot;PBKDF2WithHmacSHA1&quot;;\r\n    private static final byte[] SALT = {\r\n            8, 8, 8, 8, 2,\r\n            8, 7, 7, 7, 2,\r\n            1, 1, 1, 1, 2,\r\n            11\r\n    };\r\n    private static final int ITERATION_COUNT = 1000;\r\n    private static final int KEY_LENGTH = 128;\r\n\r\n    private SecretKeyFactory mFactory;\r\n\r\n    byte[] hashPassword(String password) {\r\n        SecretKeyFactory factory = getFactory();\r\n\r\n        if (factory != null) {\r\n            try {\r\n                KeySpec spec = new PBEKeySpec(password.toCharArray(), SALT, ITERATION_COUNT, KEY_LENGTH);\r\n                return factory.generateSecret(spec).getEncoded();\r\n            } catch (InvalidKeySpecException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    boolean verifyPassword(String password, byte[] expectedHashResult) {\r\n        byte[] hashedPassword = hashPassword(password);\r\n        if (hashedPassword == null) {\r\n            // Log fail result\r\n            return false;\r\n        }\r\n        return Arrays.equals(hashedPassword, expectedHashResult);\r\n    }\r\n\r\n    private SecretKeyFactory getFactory() {\r\n        if (mFactory == null) {\r\n            try {\r\n                mFactory = SecretKeyFactory.getInstance(ALGO);\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return mFactory;\r\n    }\r\n}\r\n```","title":"How can I hash a password in Java?","body":"<p>Here is my simple <code>PasswordHasher</code> class that I made:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.PBEKeySpec;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Arrays;\n\npublic class PasswordHasher {\n    private static final String ALGO = &quot;PBKDF2WithHmacSHA1&quot;;\n    private static final byte[] SALT = {\n            8, 8, 8, 8, 2,\n            8, 7, 7, 7, 2,\n            1, 1, 1, 1, 2,\n            11\n    };\n    private static final int ITERATION_COUNT = 1000;\n    private static final int KEY_LENGTH = 128;\n\n    private SecretKeyFactory mFactory;\n\n    byte[] hashPassword(String password) {\n        SecretKeyFactory factory = getFactory();\n\n        if (factory != null) {\n            try {\n                KeySpec spec = new PBEKeySpec(password.toCharArray(), SALT, ITERATION_COUNT, KEY_LENGTH);\n                return factory.generateSecret(spec).getEncoded();\n            } catch (InvalidKeySpecException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n\n    boolean verifyPassword(String password, byte[] expectedHashResult) {\n        byte[] hashedPassword = hashPassword(password);\n        if (hashedPassword == null) {\n            // Log fail result\n            return false;\n        }\n        return Arrays.equals(hashedPassword, expectedHashResult);\n    }\n\n    private SecretKeyFactory getFactory() {\n        if (mFactory == null) {\n            try {\n                mFactory = SecretKeyFactory.getInstance(ALGO);\n            } catch (NoSuchAlgorithmException e) {\n                e.printStackTrace();\n            }\n        }\n        return mFactory;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27771970,"reputation":11,"user_id":21202100,"display_name":"pt7092 "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676275627,"creation_date":1676275586,"answer_id":75433250,"question_id":2860943,"body_markdown":"    import java.security.MessageDigest;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import java.util.Base64;\r\n    import java.util.Properties;\r\n    public class Main{\r\n        public static void main(String[]a]{\r\n        \r\n    //enter code here\r\n    \r\n    }\r\n       \r\n    \tpublic static String hashPassword(String password) {\r\n    \t\ttry {\r\n    \t\t\tMessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n    \t\t\tbyte[] hash = md.digest(password.getBytes());\r\n    \t\t\treturn Base64.getEncoder().encodeToString(hash);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\nhashPassword is the method that returns a hashed value when we pass a String as its parameter.\r\nMessageDigest is the class that provides the interface for hashing password\r\ngetInstance is used to get the instance of a hashing algorithm such as MD-5,SHA 216,SHA-512 and so on.\r\nThe hashed Sting is in the forn of -byte []\r\nIn the return statement we convert the byte using ToString.","title":"How can I hash a password in Java?","body":"<pre><code>import java.security.MessageDigest;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.Base64;\nimport java.util.Properties;\npublic class Main{\n    public static void main(String[]a]{\n    \n//enter code here\n\n}\n   \n    public static String hashPassword(String password) {\n        try {\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\n            byte[] hash = md.digest(password.getBytes());\n            return Base64.getEncoder().encodeToString(hash);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>hashPassword is the method that returns a hashed value when we pass a String as its parameter.\nMessageDigest is the class that provides the interface for hashing password\ngetInstance is used to get the instance of a hashing algorithm such as MD-5,SHA 216,SHA-512 and so on.\nThe hashed Sting is in the forn of -byte []\nIn the return statement we convert the byte using ToString.</p>\n"}],"owner":{"account_id":30782,"reputation":49002,"user_id":84131,"accept_rate":92,"display_name":"Chris Dutrow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201380,"favorite_count":0,"down_vote_count":2,"up_vote_count":203,"accepted_answer_id":2861125,"answer_count":14,"score":201,"last_activity_date":1676275627,"creation_date":1274214916,"question_id":2860943,"body_markdown":"I need to hash passwords for storage in a database. How can I do this in Java?\r\n\r\nI was hoping to take the plain text password, add a random salt, then store the salt and the hashed password in the database.\r\n\r\nThen when a user wanted to log in, I could take their submitted password, add the random salt from their account information, hash it and see if it equates to the stored hash password with their account information.","title":"How can I hash a password in Java?","body":"<p>I need to hash passwords for storage in a database. How can I do this in Java?</p>\n\n<p>I was hoping to take the plain text password, add a random salt, then store the salt and the hashed password in the database.</p>\n\n<p>Then when a user wanted to log in, I could take their submitted password, add the random salt from their account information, hash it and see if it equates to the stored hash password with their account information.</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676277566,"post_id":75433181,"comment_id":133097660,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27771945,"reputation":1,"user_id":21202081,"display_name":"zzzomieeGeeky"},"score":0,"creation_date":1676621785,"post_id":75433181,"comment_id":133177843,"body_markdown":"Thank you for your response. \nI have solved that issue .","body":"Thank you for your response.  I have solved that issue ."}],"owner":{"account_id":27771945,"reputation":1,"user_id":21202081,"display_name":"zzzomieeGeeky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676275129,"creation_date":1676275129,"question_id":75433181,"body_markdown":"Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration \r\n\r\nI have added all the necessary dependencies.I have got no compilation error but runtime error is happening.","title":"Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfigure","body":"<p>Error processing condition on org.springframework.boot.autoconfigure.security.servlet.SpringBootWebSecurityConfiguration$SecurityFilterChainConfiguration</p>\n<p>I have added all the necessary dependencies.I have got no compilation error but runtime error is happening.</p>\n"},{"tags":["java","logstash","logback"],"owner":{"account_id":155248,"reputation":213,"user_id":371764,"accept_rate":29,"display_name":"sergej"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676274947,"creation_date":1676274947,"question_id":75433157,"body_markdown":"Markers are logged in the field tags as an array in a String.\r\n\r\n    &lt;appender name=&quot;JSON_CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n\t\t\t\t\t&lt;customFields&gt;{\r\n\t\t\t\t\t\t&quot;marker&quot;:&quot;%tags[0]&quot;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t&lt;/customFields&gt;\r\n\t\t\t\t\t&lt;includeMdc&gt;true&lt;/includeMdc&gt;\r\n\t\t\t\t&lt;/encoder&gt;\r\n\t\t\t&lt;/appender&gt;\r\n\r\nIs there a way to change the name of &quot;tags&quot; to marker? And only log the first marker?\r\n\r\nThanks","title":"LogstashEncoder: markers logged as tags","body":"<p>Markers are logged in the field tags as an array in a String.</p>\n<pre><code>&lt;appender name=&quot;JSON_CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;customFields&gt;{\n                    &quot;marker&quot;:&quot;%tags[0]&quot;\n                    }\n                &lt;/customFields&gt;\n                &lt;includeMdc&gt;true&lt;/includeMdc&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n</code></pre>\n<p>Is there a way to change the name of &quot;tags&quot; to marker? And only log the first marker?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1676258976,"post_id":75431536,"comment_id":133094876,"body_markdown":"Use map instead of flatMap","body":"Use map instead of flatMap"},{"owner":{"account_id":12387710,"reputation":85,"user_id":9030675,"display_name":"EdgarHan"},"score":0,"creation_date":1676259121,"post_id":75431536,"comment_id":133094891,"body_markdown":"@Alex The result is the same with the map","body":"@Alex The result is the same with the map"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1676263864,"post_id":75431536,"comment_id":133095372,"body_markdown":"also not sure why you need `&lt;A, String, A&gt;`. try to remove it","body":"also not sure why you need <code>&lt;A, String, A&gt;</code>. try to remove it"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676269836,"post_id":75431536,"comment_id":133096096,"body_markdown":"what toAfunc(entry.getKey(), entry.getValue()) does? share the code","body":"what toAfunc(entry.getKey(), entry.getValue()) does? share the code"},{"owner":{"account_id":12387710,"reputation":85,"user_id":9030675,"display_name":"EdgarHan"},"score":0,"creation_date":1676271354,"post_id":75431536,"comment_id":133096355,"body_markdown":"@Alex if remove ```&lt;A, String, A&gt;``` can&#39;t show type in ```toMap```, x is inferenced object.","body":"@Alex if remove <code>&lt;A, String, A&gt;</code> can&#39;t show type in <code>toMap</code>, x is inferenced object."},{"owner":{"account_id":12387710,"reputation":85,"user_id":9030675,"display_name":"EdgarHan"},"score":0,"creation_date":1676271435,"post_id":75431536,"comment_id":133096371,"body_markdown":"@kerbermeister ```toAfunc(entry.getKey(), entry.getValue())```just business logic, transform to A class.","body":"@kerbermeister <code>toAfunc(entry.getKey(), entry.getValue())</code>just business logic, transform to A class."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676273003,"post_id":75431536,"comment_id":133096655,"body_markdown":"you can also remove the filter as Null is not allowed in reactive streams, you will never have null in the stream, reactor will throw a NullPointerException","body":"you can also remove the filter as Null is not allowed in reactive streams, you will never have null in the stream, reactor will throw a NullPointerException"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1676274573,"post_id":75431536,"comment_id":133096940,"body_markdown":"@Toerktumlare the filter is applied to a non-reactive stream within the flatMap, so a null is possible.","body":"@Toerktumlare the filter is applied to a non-reactive stream within the flatMap, so a null is possible."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676284435,"post_id":75431536,"comment_id":133099514,"body_markdown":"Ah my misstake! Carry on, nothing to see here","body":"Ah my misstake! Carry on, nothing to see here"}],"answers":[{"tags":[],"owner":{"account_id":2050836,"reputation":75,"user_id":1829898,"display_name":"Prachit Raorane"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1676265842,"creation_date":1676265842,"answer_id":75432143,"question_id":75431536,"body_markdown":"It seems like the compiler is unable to infer the correct type for the result of the Collectors.toMap operation. To solve this issue, you can explicitly specify the type of the returned map\r\n\r\n```\r\nprivate Mono&lt;Map&lt;String, A&gt;&gt; resolve(Mono&lt;Map&lt;String, List&lt;B&gt;&gt;&gt; bMapMono) {\r\n    return bMapMono.flatMap(bMap -&gt; bMap.entrySet().stream()\r\n                                                 .map(entry -&gt; toAfunc(entry.getKey(), entry.getValue()))\r\n                                                 .filter(Objects::nonNull)\r\n                                                 .collect(Collectors.toMap(x -&gt; x.getStringKey(), Function.identity(), (a, b) -&gt; a, HashMap::new)));\r\n}\r\n```\r\n\r\nIn this code, HashMap::new is used to create a new instance of a HashMap, which is used as the result of the Collectors.toMap operation.\r\n\r\nThis should resolve the issue and allow the compiler to correctly infer the type of the returned Mono.","title":"Losing return Type information When Mono flatmap collecting","body":"<p>It seems like the compiler is unable to infer the correct type for the result of the Collectors.toMap operation. To solve this issue, you can explicitly specify the type of the returned map</p>\n<pre><code>private Mono&lt;Map&lt;String, A&gt;&gt; resolve(Mono&lt;Map&lt;String, List&lt;B&gt;&gt;&gt; bMapMono) {\n    return bMapMono.flatMap(bMap -&gt; bMap.entrySet().stream()\n                                                 .map(entry -&gt; toAfunc(entry.getKey(), entry.getValue()))\n                                                 .filter(Objects::nonNull)\n                                                 .collect(Collectors.toMap(x -&gt; x.getStringKey(), Function.identity(), (a, b) -&gt; a, HashMap::new)));\n}\n</code></pre>\n<p>In this code, HashMap::new is used to create a new instance of a HashMap, which is used as the result of the Collectors.toMap operation.</p>\n<p>This should resolve the issue and allow the compiler to correctly infer the type of the returned Mono.</p>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676274455,"creation_date":1676272154,"answer_id":75432803,"question_id":75431536,"body_markdown":"I was able to reproduce the error in IntelliJ. It seems as though the lambda in your Mono::flatMap is returning a Map, while what you want to return is a Mono. While you could solve the issue by wrapping the lambda result in a mono, you might want to consider using the reactor-methods which support what you might be trying to achieve with your stream. Consider the following:\r\n\r\n```\r\n        return bMapMono.flatMapIterable(Map::entrySet)\r\n                .mapNotNull(entry -&gt; toAfunc(entry.getKey(), entry.getValue()))\r\n                .collect(Collectors.toMap(A::getStringKey, Function.identity()));\r\n\r\n```","title":"Losing return Type information When Mono flatmap collecting","body":"<p>I was able to reproduce the error in IntelliJ. It seems as though the lambda in your Mono::flatMap is returning a Map, while what you want to return is a Mono. While you could solve the issue by wrapping the lambda result in a mono, you might want to consider using the reactor-methods which support what you might be trying to achieve with your stream. Consider the following:</p>\n<pre><code>        return bMapMono.flatMapIterable(Map::entrySet)\n                .mapNotNull(entry -&gt; toAfunc(entry.getKey(), entry.getValue()))\n                .collect(Collectors.toMap(A::getStringKey, Function.identity()));\n\n</code></pre>\n"}],"owner":{"account_id":12387710,"reputation":85,"user_id":9030675,"display_name":"EdgarHan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75432803,"answer_count":2,"score":0,"last_activity_date":1676274455,"creation_date":1676256501,"question_id":75431536,"body_markdown":"I wrote code like below using Reactor\r\n\r\n```\r\n\tprivate Mono&lt;Map&lt;String, A&gt;&gt; resolve(Mono&lt;Map&lt;String, List&lt;B&gt;&gt;&gt; bMapMono) {\r\n\t\treturn bMapMono.flatMap(bMap -&gt; bMap.entrySet().stream()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .map(entry -&gt; toAfunc(entry.getKey(), entry.getValue()))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .filter(Objects::nonNull)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t .collect(Collectors.&lt;A, String, A&gt;toMap(x -&gt; x.getStringKey(), Function.identity())));\r\n\t}\r\n```\r\n\r\nBut it display error in compiler intellij\r\n\r\nlike this\r\n\r\n```\r\nRequired type: Mono &lt;Map&lt;String, A&gt;&gt; \r\nProvided: Mono &lt;Object&gt;\r\n````\r\n\r\nHow can I solve this?","title":"Losing return Type information When Mono flatmap collecting","body":"<p>I wrote code like below using Reactor</p>\n<pre><code>    private Mono&lt;Map&lt;String, A&gt;&gt; resolve(Mono&lt;Map&lt;String, List&lt;B&gt;&gt;&gt; bMapMono) {\n        return bMapMono.flatMap(bMap -&gt; bMap.entrySet().stream()\n                                                     .map(entry -&gt; toAfunc(entry.getKey(), entry.getValue()))\n                                                     .filter(Objects::nonNull)\n                                                     .collect(Collectors.&lt;A, String, A&gt;toMap(x -&gt; x.getStringKey(), Function.identity())));\n    }\n</code></pre>\n<p>But it display error in compiler intellij</p>\n<p>like this</p>\n<pre><code>Required type: Mono &lt;Map&lt;String, A&gt;&gt; \nProvided: Mono &lt;Object&gt;\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","spring","elasticsearch"],"owner":{"account_id":5233974,"reputation":291,"user_id":4183230,"accept_rate":62,"display_name":"This is temp display name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1676274111,"creation_date":1659396276,"question_id":73200489,"body_markdown":"I have a native elasticsearch query (in form of a JSON). It&#39;s quite complicated, so I don&#39;t want to rewrite it into Java code. \r\n\r\n``` json\r\n{\r\n   &quot;query&quot;: {\r\n       &quot;bool&quot;: { ... }\r\n   },\r\n   &quot;sort&quot;: {\r\n       &quot;_script&quot;: { ... }\r\n   }\r\n}\r\n```\r\n\r\nHow to execute such native query using `spring-data-elasticsearch` client (without @Repository and @Query annotations)? `Query query = StringQuery.builder(&quot;json here&quot;).withSort(...).build()` doesn&#39;t work, because it doesn&#39;t support custom sorting mechanisms (by script).\r\n\r\nI&#39;ve tried using NativeSearchQuery, but I find it impossible to pass perfectly valid native query. \r\n\r\n``` java\r\nNativeSearchQueryBuilder()\r\n    .withQuery(QueryBuilders.queryStringQuery(&quot;query from above&quot;))\r\n    .withSorts(/* sorted by script */)\r\n    .build()\r\n// results in &quot;Failed to parse query&quot; error.\r\n```","title":"Spring-data-elasticsearch run native JSON query","body":"<p>I have a native elasticsearch query (in form of a JSON). It's quite complicated, so I don't want to rewrite it into Java code.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;query&quot;: {\n       &quot;bool&quot;: { ... }\n   },\n   &quot;sort&quot;: {\n       &quot;_script&quot;: { ... }\n   }\n}\n</code></pre>\n<p>How to execute such native query using <code>spring-data-elasticsearch</code> client (without @Repository and @Query annotations)? <code>Query query = StringQuery.builder(&quot;json here&quot;).withSort(...).build()</code> doesn't work, because it doesn't support custom sorting mechanisms (by script).</p>\n<p>I've tried using NativeSearchQuery, but I find it impossible to pass perfectly valid native query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>NativeSearchQueryBuilder()\n    .withQuery(QueryBuilders.queryStringQuery(&quot;query from above&quot;))\n    .withSorts(/* sorted by script */)\n    .build()\n// results in &quot;Failed to parse query&quot; error.\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673095477,"creation_date":1673095477,"answer_id":75040438,"question_id":75040195,"body_markdown":"You can use the `zip` static operator which may take more than one source publisher (it would be the `Author` and `Publisher`) and combine the results in a `Tuple2` then map the result in-place to a `BookInfo` object.\r\n\r\n    bookService.getBook(tenantId, bookId)\r\n           .flatMap(book -&gt; Mono.zip(authorService.getAuthor(tenantId, book.getAuthorId()), publisherService.getPublisher(tenantId, book.getPublisherId()))\r\n                   .map(tuple -&gt; new BookInfo(book, tuple.getT1(), tupple.getT2()))\r\n           );\r\n\r\nYou may optionally make both `authService` and `publisherServie` `subscribeOn` a different scheduler to have results computed in parallel:\r\n","title":"Zip Mono with 2 other Monos","body":"<p>You can use the <code>zip</code> static operator which may take more than one source publisher (it would be the <code>Author</code> and <code>Publisher</code>) and combine the results in a <code>Tuple2</code> then map the result in-place to a <code>BookInfo</code> object.</p>\n<pre><code>bookService.getBook(tenantId, bookId)\n       .flatMap(book -&gt; Mono.zip(authorService.getAuthor(tenantId, book.getAuthorId()), publisherService.getPublisher(tenantId, book.getPublisherId()))\n               .map(tuple -&gt; new BookInfo(book, tuple.getT1(), tupple.getT2()))\n       );\n</code></pre>\n<p>You may optionally make both <code>authService</code> and <code>publisherServie</code> <code>subscribeOn</code> a different scheduler to have results computed in parallel:</p>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676274032,"creation_date":1673095726,"answer_id":75040468,"question_id":75040195,"body_markdown":"You can use `Mono.zip` inside `flatMap()`\r\n\r\n&lt;!-- language: java --&gt;\r\n     getBook(tenantId, bookId).flatMap(book -&gt;\r\n                    Mono.zip(\r\n                            Mono.just(book),\r\n                            getAuthor(tenantId, book.getAuthorId()),\r\n                            getPublisher(tenantId, book.getPublisherId())\r\n                    )\r\n            ).map(tuple -&gt; {\r\n                tuple.getT1(); // book\r\n                tuple.getT2(); // author\r\n                tuple.getT3(); // publisher\r\n                // ... build BookInfo here and return\r\n            })\r\n\r\n`flatMap()` operator is async by it&#39;s nature","title":"Zip Mono with 2 other Monos","body":"<p>You can use <code>Mono.zip</code> inside <code>flatMap()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> getBook(tenantId, bookId).flatMap(book -&gt;\n                Mono.zip(\n                        Mono.just(book),\n                        getAuthor(tenantId, book.getAuthorId()),\n                        getPublisher(tenantId, book.getPublisherId())\n                )\n        ).map(tuple -&gt; {\n            tuple.getT1(); // book\n            tuple.getT2(); // author\n            tuple.getT3(); // publisher\n            // ... build BookInfo here and return\n        })\n</code></pre>\n<p><code>flatMap()</code> operator is async by it's nature</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676274032,"creation_date":1673093221,"question_id":75040195,"body_markdown":"I need to get information about a `Book`, `Author` and `Publisher`.\r\n\r\nThe `Book` contains information about the `Author` and `Publisher`.\r\n\r\nI&#39;m getting the `BookInfo` using the following method:\r\n\r\n```\r\nbookService.getBook( tenantId, bookId )\r\n           .zipWhen( book -&gt; authorService.getAuthor( tenantId, book.getAuthorId() ) )\r\n           .zipWhen( tuple -&gt; publisherService.getPublisher( tenantId, tupple.getT1().getPublisherId() ) )\r\n           .map( tuple -&gt; new BookInfo( tupple.getT1().getT1(), tupple.getT1().getT2(), tupple.getT2() ) );\r\n```\r\n\r\nI&#39;m using `zipWhen` to share the `Book` to the other method calls but as you can see it&#39;s a mess since at the end I get a tuple with another tuple inside.\r\n\r\nIs there a better way of doing this?\r\n\r\nWould even be possible to call the `authorService` and the `publisherService` in parallel?","title":"Zip Mono with 2 other Monos","body":"<p>I need to get information about a <code>Book</code>, <code>Author</code> and <code>Publisher</code>.</p>\n<p>The <code>Book</code> contains information about the <code>Author</code> and <code>Publisher</code>.</p>\n<p>I'm getting the <code>BookInfo</code> using the following method:</p>\n<pre><code>bookService.getBook( tenantId, bookId )\n           .zipWhen( book -&gt; authorService.getAuthor( tenantId, book.getAuthorId() ) )\n           .zipWhen( tuple -&gt; publisherService.getPublisher( tenantId, tupple.getT1().getPublisherId() ) )\n           .map( tuple -&gt; new BookInfo( tupple.getT1().getT1(), tupple.getT1().getT2(), tupple.getT2() ) );\n</code></pre>\n<p>I'm using <code>zipWhen</code> to share the <code>Book</code> to the other method calls but as you can see it's a mess since at the end I get a tuple with another tuple inside.</p>\n<p>Is there a better way of doing this?</p>\n<p>Would even be possible to call the <code>authorService</code> and the <code>publisherService</code> in parallel?</p>\n"},{"tags":["java","jsonschema","json-schema-validator"],"answers":[{"tags":[],"owner":{"account_id":80583,"reputation":1756,"user_id":227785,"display_name":"Clemens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676273874,"creation_date":1676273874,"answer_id":75433026,"question_id":75432657,"body_markdown":"First, the null type also needs to be set in quotes: `&quot;type&quot;: [ &quot;object&quot;, &quot;null&quot; ]`\r\n\r\nRegarding your second requirement. I am afraid you need to check that at least one of the properties is set:\r\n\r\n    &quot;anyOf&quot;: [\r\n      { &quot;properties&quot;: &quot;empName&quot;: { &quot;type&quot;: &quot;object&quot; } },\r\n      { &quot;properties&quot;: &quot;empAge&quot;: { &quot;type&quot;: &quot;object&quot; } },\r\n      { &quot;properties&quot;: &quot;empAddress&quot;: { &quot;type&quot;: &quot;object&quot; } },\r\n      { &quot;properties&quot;: &quot;empContact&quot;: { &quot;type&quot;: &quot;object&quot; } }\r\n    ]\r\n\r\n","title":"jsonSchema object check for not null","body":"<p>First, the null type also needs to be set in quotes: <code>&quot;type&quot;: [ &quot;object&quot;, &quot;null&quot; ]</code></p>\n<p>Regarding your second requirement. I am afraid you need to check that at least one of the properties is set:</p>\n<pre><code>&quot;anyOf&quot;: [\n  { &quot;properties&quot;: &quot;empName&quot;: { &quot;type&quot;: &quot;object&quot; } },\n  { &quot;properties&quot;: &quot;empAge&quot;: { &quot;type&quot;: &quot;object&quot; } },\n  { &quot;properties&quot;: &quot;empAddress&quot;: { &quot;type&quot;: &quot;object&quot; } },\n  { &quot;properties&quot;: &quot;empContact&quot;: { &quot;type&quot;: &quot;object&quot; } }\n]\n</code></pre>\n"}],"owner":{"account_id":15204851,"reputation":21,"user_id":16687260,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75433026,"answer_count":1,"score":1,"last_activity_date":1676273874,"creation_date":1676271025,"question_id":75432657,"body_markdown":"Below is my json schema to validate payload for my java post api\r\nI need to make sure that for Employee Object not all properties should be null. Any one can be null but not all can be null.\r\nFor example below employee object has 4 properties - empName, empAge, empAddress, empContact\r\nAll 4 of these should not be null anytime. 1 or 2 or 3 out of 4 can be null. But not all 4 can be null. How can i check that ?\r\n\r\n       &quot;employee&quot; :\r\n        {\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;default&quot;: {},\r\n           &quot;properties&quot;: {\r\n            &quot;empName&quot;: {\r\n                  &quot;type&quot; : [&quot;object&quot;, null]  // null is allowed\r\n            },\r\n            &quot;empAge&quot;: {\r\n                  &quot;type&quot; : [&quot;object&quot;, null] // null is allowed\r\n            },\r\n            &quot;empAddress&quot;: {\r\n                   &quot;type&quot; : [&quot;object&quot;, null]  // null is allowed\r\n            },\r\n            &quot;empContact&quot;: {\r\n                   &quot;type&quot; : [&quot;object&quot;, null]  // null is allowed\r\n              } \r\n           }\r\n        }   \r\n\r\ntried using `anyOf &amp; other jsonSchema validations` but didn&#39;t worked","title":"jsonSchema object check for not null","body":"<p>Below is my json schema to validate payload for my java post api\nI need to make sure that for Employee Object not all properties should be null. Any one can be null but not all can be null.\nFor example below employee object has 4 properties - empName, empAge, empAddress, empContact\nAll 4 of these should not be null anytime. 1 or 2 or 3 out of 4 can be null. But not all 4 can be null. How can i check that ?</p>\n<pre><code>   &quot;employee&quot; :\n    {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;default&quot;: {},\n       &quot;properties&quot;: {\n        &quot;empName&quot;: {\n              &quot;type&quot; : [&quot;object&quot;, null]  // null is allowed\n        },\n        &quot;empAge&quot;: {\n              &quot;type&quot; : [&quot;object&quot;, null] // null is allowed\n        },\n        &quot;empAddress&quot;: {\n               &quot;type&quot; : [&quot;object&quot;, null]  // null is allowed\n        },\n        &quot;empContact&quot;: {\n               &quot;type&quot; : [&quot;object&quot;, null]  // null is allowed\n          } \n       }\n    }   \n</code></pre>\n<p>tried using <code>anyOf &amp; other jsonSchema validations</code> but didn't worked</p>\n"},{"tags":["java","eclipse","maven","build"],"answers":[{"comments":[{"owner":{"account_id":14583282,"reputation":649,"user_id":10532966,"display_name":"Mohammed Javad"},"score":0,"creation_date":1546595422,"post_id":54036392,"comment_id":94908223,"body_markdown":"So no solution for this issue?","body":"So no solution for this issue?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1546596858,"post_id":54036392,"comment_id":94908980,"body_markdown":"The solution is to reconfigure the firewall or proxy. If you are inside a company, you probably need to speak to the administrators of the network. Alternatively, they could set up a Nexus/Artifactory that is outside the firewall to proxy MavenCentral, and give you access to that Nexus/Artifactory.","body":"The solution is to reconfigure the firewall or proxy. If you are inside a company, you probably need to speak to the administrators of the network. Alternatively, they could set up a Nexus/Artifactory that is outside the firewall to proxy MavenCentral, and give you access to that Nexus/Artifactory."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546594981,"creation_date":1546594981,"answer_id":54036392,"question_id":54036294,"body_markdown":"The problem is most likely that you cannot reach MavenCentral. This is often an issue with the firewall or proxy that your company (or you) are using.","title":"Unresolveable build extension: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6","body":"<p>The problem is most likely that you cannot reach MavenCentral. This is often an issue with the firewall or proxy that your company (or you) are using.</p>\n"},{"tags":[],"owner":{"account_id":11816044,"reputation":31,"user_id":8646228,"display_name":"Marc.S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676273468,"creation_date":1676273468,"answer_id":75432973,"question_id":54036294,"body_markdown":"If you happen to stumble here with this same problem, one solution is to add .m2/settings.xml in your home directory with the proxy configuration:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n    &lt;proxies&gt;\r\n\t\t&lt;proxy&gt;\r\n\t\t\t&lt;id&gt;http&lt;/id&gt;\r\n\t\t\t&lt;active&gt;true&lt;/active&gt;\r\n\t\t\t&lt;protocol&gt;http&lt;/protocol&gt;\r\n\t\t\t&lt;host&gt;myproxy.com&lt;/host&gt;\r\n\t\t\t&lt;port&gt;8010&lt;/port&gt;\r\n\t\t\t&lt;nonProxyHosts&gt;myStuff.com|localhost&lt;/nonProxyHosts&gt;\r\n\t\t&lt;/proxy&gt;\r\n\t\t&lt;proxy&gt;\r\n\t\t\t&lt;id&gt;https&lt;/id&gt;\r\n\t\t\t&lt;active&gt;true&lt;/active&gt;\r\n\t\t\t&lt;protocol&gt;https&lt;/protocol&gt;\r\n\t\t\t&lt;host&gt;myproxy.com&lt;/host&gt;\r\n\t\t\t&lt;port&gt;8010&lt;/port&gt;\r\n\t\t\t&lt;nonProxyHosts&gt;myStuff.com|localhost&lt;/nonProxyHosts&gt;\r\n\t\t&lt;/proxy&gt;\r\n\t&lt;/proxies&gt;\r\n&lt;/settings&gt;\r\n```\r\n(xml and settings tags for reference if you don&#39;t already have settings.xml)","title":"Unresolveable build extension: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6","body":"<p>If you happen to stumble here with this same problem, one solution is to add .m2/settings.xml in your home directory with the proxy configuration:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n    &lt;proxies&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;http&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;http&lt;/protocol&gt;\n            &lt;host&gt;myproxy.com&lt;/host&gt;\n            &lt;port&gt;8010&lt;/port&gt;\n            &lt;nonProxyHosts&gt;myStuff.com|localhost&lt;/nonProxyHosts&gt;\n        &lt;/proxy&gt;\n        &lt;proxy&gt;\n            &lt;id&gt;https&lt;/id&gt;\n            &lt;active&gt;true&lt;/active&gt;\n            &lt;protocol&gt;https&lt;/protocol&gt;\n            &lt;host&gt;myproxy.com&lt;/host&gt;\n            &lt;port&gt;8010&lt;/port&gt;\n            &lt;nonProxyHosts&gt;myStuff.com|localhost&lt;/nonProxyHosts&gt;\n        &lt;/proxy&gt;\n    &lt;/proxies&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>(xml and settings tags for reference if you don't already have settings.xml)</p>\n"}],"owner":{"account_id":14583282,"reputation":649,"user_id":10532966,"display_name":"Mohammed Javad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5625,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676273468,"creation_date":1546594576,"question_id":54036294,"body_markdown":"I am trying to build the project `jbpm-designer` which I cloned from the following repository\r\n\r\nhttps://github.com/kiegroup/jbpm-designer.git\r\n\r\nWhile building this project it throws the following errors. How to resolve this issue?\r\n\r\nStack trace:\r\n\r\n\r\n     The project org.jbpm:jbpm-designer:7.16.0-SNAPSHOT (C:\\Users\\mohammed.javad\\Desktop\\jbpm-designer-master\\pom.xml) has 3 errors\r\n    [ERROR]     Unresolveable build extension: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6 or one of its dependencies could not be resolved: Failed to collect dependencies for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6 (): Failed to read artifact descriptor for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6: Could not transfer artifact org.apache.maven.wagon:wagon-webdav-jackrabbit:pom:1.0-beta-6 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version -&gt; [Help 2]\r\n    org.apache.maven.plugin.PluginResolutionException: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6 or one of its dependencies could not be resolved: Failed to collect dependencies for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6 ()\r\n            at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:211)\r\n            at org.apache.maven.project.DefaultProjectBuildingHelper.resolveExtensionArtifacts(DefaultProjectBuildingHelper.java:377)\r\n            at org.apache.maven.project.DefaultProjectBuildingHelper.createProjectRealm(DefaultProjectBuildingHelper.java:237)\r\n            at org.apache.maven.project.DefaultModelBuildingListener.buildExtensionsAssembled(DefaultModelBuildingListener.java:106)\r\n            at org.apache.maven.model.building.ModelBuildingEventCatapult$1.fire(ModelBuildingEventCatapult.java:43)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.fireEvent(DefaultModelBuilder.java:1041)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:391)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:374)\r\n            at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:536)\r\n            at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:328)\r\n            at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:632)\r\n            at org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:581)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:233)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.sonatype.aether.collection.DependencyCollectionException: Failed to collect dependencies for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6 ()\r\n            at org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:202)\r\n            at org.sonatype.aether.impl.internal.DefaultRepositorySystem.collectDependencies(DefaultRepositorySystem.java:345)\r\n            at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:199)\r\n            ... 24 more\r\n    Caused by: org.sonatype.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6\r\n            at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:282)\r\n            at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:172)\r\n            at org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:196)\r\n            ... 26 more\r\n    Caused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.apache.maven.wagon:wagon-webdav-jackrabbit:pom:1.0-beta-6 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:220)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:197)\r\n            at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:267)\r\n            ... 28 more\r\n    Caused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.apache.maven.wagon:wagon-webdav-jackrabbit:pom:1.0-beta-6 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:949)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:940)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:695)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:689)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector.get(WagonRepositoryConnector.java:445)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:460)\r\n            ... 31 more\r\n    Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Received fatal alert: protocol_version\r\n            at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)\r\n            at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\r\n            at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\r\n            at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:608)\r\n            at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:64)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: protocol_version\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n            at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n            at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n            at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n            at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301)\r\n            at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\r\n            at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\r\n            at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)\r\n            ... 8 more\r\n    [ERROR]     Non-resolvable import POM: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version @ org.kie:kie-parent:7.16.0-SNAPSHOT, D:\\repo\\org\\kie\\kie-parent\\7.16.0-SNAPSHOT\\kie-parent-7.16.0-SNAPSHOT.pom, line 2506, column 19 -&gt; [Help 3]\r\n    org.apache.maven.model.resolution.UnresolvableModelException: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:159)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagement(DefaultModelBuilder.java:942)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:403)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:374)\r\n            at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:536)\r\n            at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:328)\r\n            at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:632)\r\n            at org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:581)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:233)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:220)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:197)\r\n            at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:323)\r\n            at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:155)\r\n            ... 20 more\r\n    Caused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:949)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:940)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:695)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:689)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector.get(WagonRepositoryConnector.java:445)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:460)\r\n            ... 24 more\r\n    Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Received fatal alert: protocol_version\r\n            at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)\r\n            at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\r\n            at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\r\n            at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:608)\r\n            at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:64)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: protocol_version\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n            at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n            at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n            at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n            at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301)\r\n            at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\r\n            at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\r\n            at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)\r\n            ... 8 more\r\n    [ERROR]     Non-resolvable import POM: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version @ org.jboss.integration-platform:jboss-integration-platform-bom:8.3.2.Final, D:\\repo\\org\\jboss\\integration-platform\\jboss-integration-platform-bom\\8.3.2.Final\\jboss-integration-platform-bom-8.3.2.Final.pom, line 2057, column 19 -&gt; [Help 3]\r\n    org.apache.maven.model.resolution.UnresolvableModelException: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:159)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagement(DefaultModelBuilder.java:942)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:403)\r\n            at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:374)\r\n            at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:536)\r\n            at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:328)\r\n            at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:632)\r\n            at org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:581)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:233)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:606)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n    Caused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:220)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:197)\r\n            at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:323)\r\n            at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:155)\r\n            ... 20 more\r\n    Caused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:949)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:940)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:695)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:689)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector.get(WagonRepositoryConnector.java:445)\r\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:460)\r\n            ... 24 more\r\n    Caused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Received fatal alert: protocol_version\r\n            at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)\r\n            at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\r\n            at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\r\n            at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\r\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:608)\r\n            at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:64)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: javax.net.ssl.SSLException: Received fatal alert: protocol_version\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\r\n            at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n            at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n            at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n            at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n            at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n            at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n            at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n            at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301)\r\n            at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\r\n            at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\r\n            at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)\r\n            ... 8 more\r\n    [ERROR]\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n    [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\r\n    [ERROR] [Help 3] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\r\n\r\n","title":"Unresolveable build extension: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6","body":"<p>I am trying to build the project <code>jbpm-designer</code> which I cloned from the following repository</p>\n\n<p><a href=\"https://github.com/kiegroup/jbpm-designer.git\" rel=\"nofollow noreferrer\">https://github.com/kiegroup/jbpm-designer.git</a></p>\n\n<p>While building this project it throws the following errors. How to resolve this issue?</p>\n\n<p>Stack trace:</p>\n\n<pre><code> The project org.jbpm:jbpm-designer:7.16.0-SNAPSHOT (C:\\Users\\mohammed.javad\\Desktop\\jbpm-designer-master\\pom.xml) has 3 errors\n[ERROR]     Unresolveable build extension: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6 or one of its dependencies could not be resolved: Failed to collect dependencies for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6 (): Failed to read artifact descriptor for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6: Could not transfer artifact org.apache.maven.wagon:wagon-webdav-jackrabbit:pom:1.0-beta-6 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version -&gt; [Help 2]\norg.apache.maven.plugin.PluginResolutionException: Plugin org.apache.maven.wagon:wagon-webdav-jackrabbit:1.0-beta-6 or one of its dependencies could not be resolved: Failed to collect dependencies for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6 ()\n        at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:211)\n        at org.apache.maven.project.DefaultProjectBuildingHelper.resolveExtensionArtifacts(DefaultProjectBuildingHelper.java:377)\n        at org.apache.maven.project.DefaultProjectBuildingHelper.createProjectRealm(DefaultProjectBuildingHelper.java:237)\n        at org.apache.maven.project.DefaultModelBuildingListener.buildExtensionsAssembled(DefaultModelBuildingListener.java:106)\n        at org.apache.maven.model.building.ModelBuildingEventCatapult$1.fire(ModelBuildingEventCatapult.java:43)\n        at org.apache.maven.model.building.DefaultModelBuilder.fireEvent(DefaultModelBuilder.java:1041)\n        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:391)\n        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:374)\n        at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:536)\n        at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:328)\n        at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:632)\n        at org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:581)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:233)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.sonatype.aether.collection.DependencyCollectionException: Failed to collect dependencies for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6 ()\n        at org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:202)\n        at org.sonatype.aether.impl.internal.DefaultRepositorySystem.collectDependencies(DefaultRepositorySystem.java:345)\n        at org.apache.maven.plugin.internal.DefaultPluginDependenciesResolver.resolve(DefaultPluginDependenciesResolver.java:199)\n        ... 24 more\nCaused by: org.sonatype.aether.resolution.ArtifactDescriptorException: Failed to read artifact descriptor for org.apache.maven.wagon:wagon-webdav-jackrabbit:jar:1.0-beta-6\n        at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:282)\n        at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.readArtifactDescriptor(DefaultArtifactDescriptorReader.java:172)\n        at org.sonatype.aether.impl.internal.DefaultDependencyCollector.collectDependencies(DefaultDependencyCollector.java:196)\n        ... 26 more\nCaused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.apache.maven.wagon:wagon-webdav-jackrabbit:pom:1.0-beta-6 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:220)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:197)\n        at org.apache.maven.repository.internal.DefaultArtifactDescriptorReader.loadPom(DefaultArtifactDescriptorReader.java:267)\n        ... 28 more\nCaused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.apache.maven.wagon:wagon-webdav-jackrabbit:pom:1.0-beta-6 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:949)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:940)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:695)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:689)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector.get(WagonRepositoryConnector.java:445)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:460)\n        ... 31 more\nCaused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Received fatal alert: protocol_version\n        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)\n        at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\n        at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\n        at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:608)\n        at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:64)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.net.ssl.SSLException: Received fatal alert: protocol_version\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n        at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301)\n        at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\n        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)\n        ... 8 more\n[ERROR]     Non-resolvable import POM: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version @ org.kie:kie-parent:7.16.0-SNAPSHOT, D:\\repo\\org\\kie\\kie-parent\\7.16.0-SNAPSHOT\\kie-parent-7.16.0-SNAPSHOT.pom, line 2506, column 19 -&gt; [Help 3]\norg.apache.maven.model.resolution.UnresolvableModelException: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:159)\n        at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagement(DefaultModelBuilder.java:942)\n        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:403)\n        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:374)\n        at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:536)\n        at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:328)\n        at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:632)\n        at org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:581)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:233)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:220)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:197)\n        at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:323)\n        at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:155)\n        ... 20 more\nCaused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.wildfly.swarm:bom:pom:2018.3.3 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:949)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:940)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:695)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:689)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector.get(WagonRepositoryConnector.java:445)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:460)\n        ... 24 more\nCaused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Received fatal alert: protocol_version\n        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)\n        at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\n        at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\n        at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:608)\n        at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:64)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.net.ssl.SSLException: Received fatal alert: protocol_version\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n        at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301)\n        at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\n        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)\n        ... 8 more\n[ERROR]     Non-resolvable import POM: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version @ org.jboss.integration-platform:jboss-integration-platform-bom:8.3.2.Final, D:\\repo\\org\\jboss\\integration-platform\\jboss-integration-platform-bom\\8.3.2.Final\\jboss-integration-platform-bom-8.3.2.Final.pom, line 2057, column 19 -&gt; [Help 3]\norg.apache.maven.model.resolution.UnresolvableModelException: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:159)\n        at org.apache.maven.model.building.DefaultModelBuilder.importDependencyManagement(DefaultModelBuilder.java:942)\n        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:403)\n        at org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:374)\n        at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:536)\n        at org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:328)\n        at org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:632)\n        at org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:581)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:233)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:541)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:220)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifact(DefaultArtifactResolver.java:197)\n        at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveArtifact(DefaultRepositorySystem.java:323)\n        at org.apache.maven.project.ProjectModelResolver.resolveModel(ProjectModelResolver.java:155)\n        ... 20 more\nCaused by: org.sonatype.aether.transfer.ArtifactTransferException: Could not transfer artifact org.jboss.arquillian.selenium:selenium-bom:pom:3.13.0 from/to central (https://repo.maven.apache.org/maven2): Error transferring file: Received fatal alert: protocol_version\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:949)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:940)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:695)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.flush(WagonRepositoryConnector.java:689)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector.get(WagonRepositoryConnector.java:445)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:460)\n        ... 24 more\nCaused by: org.apache.maven.wagon.TransferFailedException: Error transferring file: Received fatal alert: protocol_version\n        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:143)\n        at org.apache.maven.wagon.StreamWagon.getInputStream(StreamWagon.java:116)\n        at org.apache.maven.wagon.StreamWagon.getIfNewer(StreamWagon.java:88)\n        at org.apache.maven.wagon.StreamWagon.get(StreamWagon.java:61)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:608)\n        at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:64)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: javax.net.ssl.SSLException: Received fatal alert: protocol_version\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)\n        at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n        at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n        at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n        at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n        at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301)\n        at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:468)\n        at sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:338)\n        at org.apache.maven.wagon.providers.http.LightweightHttpWagon.fillInputData(LightweightHttpWagon.java:115)\n        ... 8 more\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n[ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException\n[ERROR] [Help 3] http://cwiki.apache.org/confluence/display/MAVEN/UnresolvableModelException\n</code></pre>\n"},{"tags":["java","datetime","time","milliseconds"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676247486,"post_id":75430947,"comment_id":133093761,"body_markdown":"`Duration.between(LocalDateTime.now(), LocalDateTime.now().plusMinutes(10)).toMillis()` ?","body":"<code>Duration.between(LocalDateTime.now(), LocalDateTime.now().plusMinutes(10)).toMillis()</code> ?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1676247664,"post_id":75430947,"comment_id":133093781,"body_markdown":"The number of milliseconds to 10 minutes from now is 1000 * 60 * 10.","body":"The number of milliseconds to 10 minutes from now is 1000 * 60 * 10."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676265941,"post_id":75430947,"comment_id":133095589,"body_markdown":"@undefinedsymbol Correct. Or more self-explanatory: `Duration.ofMinutes(10).toMillis()` (yields 600 000).","body":"@undefinedsymbol Correct. Or more self-explanatory: <code>Duration.ofMinutes(10).toMillis()</code> (yields 600 000)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676266204,"post_id":75430947,"comment_id":133095611,"body_markdown":"Sorry, this is not clear. The future time, is that &quot;in 10 minutes&quot; or is it 2014/10/29 18:10:45 (except the latter is not in the future)? Do you want to know how many milliseconds are between now and that time, the fraction of second of that time (the three digits after the decimal point), or the milliseconds since the epoch (some 13 digit value)?","body":"Sorry, this is not clear. The future time, is that &quot;in 10 minutes&quot; or is it 2014/10/29 18:10:45 (except the latter is not in the future)? Do you want to know how many milliseconds are between now and that time, the fraction of second of that time (the three digits after the decimal point), or the milliseconds since the epoch (some 13 digit value)?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1676266460,"post_id":75430947,"comment_id":133095640,"body_markdown":"You cannot use `LocalDateTime`for a point in time. Use `Instant` or `ZonedDateTime`. (And please forget all about the `Calendar` class, it is so cumbersome to work with and thankfully long outdated.)","body":"You cannot use <code>LocalDateTime</code>for a point in time. Use <code>Instant</code> or <code>ZonedDateTime</code>. (And please forget all about the <code>Calendar</code> class, it is so cumbersome to work with and thankfully long outdated.)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676267983,"post_id":75430947,"comment_id":133095815,"body_markdown":"Did you perhaps mean to ask for `Instant.now().plus(10, ChronoUnit.MINUTES).toEpochMilli()`? Just now it yielded 1676268575957.","body":"Did you perhaps mean to ask for <code>Instant.now().plus(10, ChronoUnit.MINUTES).toEpochMilli()</code>? Just now it yielded 1676268575957."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676276747,"post_id":75430947,"comment_id":133097435,"body_markdown":"I still don’t know what this question is asking, and yet is has got two upvotes? I understand nothing.","body":"I still don’t know what this question is asking, and yet is has got two upvotes? I understand nothing."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676277026,"post_id":75432778,"comment_id":133097505,"body_markdown":"Thanks for the information that since Java 19 `Thread.sleep()` accepts a `Duration`. That’s nifty. For earlier versions my way would be `TimeUnit.MINUTES.sleep(10);`.","body":"Thanks for the information that since Java 19 <code>Thread.sleep()</code> accepts a <code>Duration</code>. That’s nifty. For earlier versions my way would be <code>TimeUnit.MINUTES.sleep(10);</code>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676272357,"creation_date":1676271984,"answer_id":75432778,"question_id":75430947,"body_markdown":"# tl;dr\r\n\r\n&gt; wait 10 minutes\r\n\r\n    Thread.sleep( Duration.ofMinutes( 10 ) )\r\n\r\n\r\n# Avoid `LocalDateTime` for your purpose\r\n\r\n&gt;LocalDateTime.now();\r\n\r\nI cannot imagine a scenario where calling `LocalDateTime.now` is the right thing to do.\r\n\r\nThat class cannot represent a moment, a point on the timeline. It lacks the context of a time zone or offset-from-UTC.\r\n\r\n# Improper syntax\r\n\r\n&gt;myfuturedateasdate.setTime(LocalDateTime);\r\n\r\n(a) Do not needlessly mix the terrible legacy date-time classes such as `Calendar` with their replacements, the modern *java.time* classes defined in JSR 310. \r\n\r\n(b) You cannot pass the name of a class like `LocalDateTime` as an argument. Not legal Java syntax. \r\n\r\n(c) Before posting here, try to clean up your code to compile (if practicable). \r\n\r\n# `Duration`\r\n\r\n&gt; wait 10 minutes until a future time.\r\n\r\nIn Java 19+, pass a [`Duration`][1] to [`Thread.sleep`][2].\r\n\r\n```java\r\nDuration duration = Duration.ofMinutes( 10 ) ;\r\nThread.sleep( duration ) ;\r\n```\r\n\r\nIn earlier Java, pass a count of [milliseconds][3] to [`Thread.sleep`][4].\r\n\r\n```java\r\nDuration duration = Duration.ofMinutes( 10 ) ;\r\nThread.sleep( duration.toMillis() ) ;\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(java.time.Duration)\r\n  [3]: https://en.wikipedia.org/wiki/Millisecond\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(long)","title":"How to get the number of milliseconds to future time in java?","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>wait 10 minutes</p>\n</blockquote>\n<pre><code>Thread.sleep( Duration.ofMinutes( 10 ) )\n</code></pre>\n<h1>Avoid <code>LocalDateTime</code> for your purpose</h1>\n<blockquote>\n<p>LocalDateTime.now();</p>\n</blockquote>\n<p>I cannot imagine a scenario where calling <code>LocalDateTime.now</code> is the right thing to do.</p>\n<p>That class cannot represent a moment, a point on the timeline. It lacks the context of a time zone or offset-from-UTC.</p>\n<h1>Improper syntax</h1>\n<blockquote>\n<p>myfuturedateasdate.setTime(LocalDateTime);</p>\n</blockquote>\n<p>(a) Do not needlessly mix the terrible legacy date-time classes such as <code>Calendar</code> with their replacements, the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>(b) You cannot pass the name of a class like <code>LocalDateTime</code> as an argument. Not legal Java syntax.</p>\n<p>(c) Before posting here, try to clean up your code to compile (if practicable).</p>\n<h1><code>Duration</code></h1>\n<blockquote>\n<p>wait 10 minutes until a future time.</p>\n</blockquote>\n<p>In Java 19+, pass a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(java.time.Duration)\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration duration = Duration.ofMinutes( 10 ) ;\nThread.sleep( duration ) ;\n</code></pre>\n<p>In earlier Java, pass a count of <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> to <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>Thread.sleep</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Duration duration = Duration.ofMinutes( 10 ) ;\nThread.sleep( duration.toMillis() ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676272972,"creation_date":1676272972,"answer_id":75432915,"question_id":75430947,"body_markdown":"I would avoid working with `LocalTime` or `LocalDateTime` only for sake of measuring time differences. There is a temporal class `Instant` representing an instantaneous point of time regardless of the place. For measuring a temporal difference, use `Duration` for time-based calculations and `Period` for date-based calculations.\r\n\r\n```java\r\nfinal Instant now = Instant.now();                       // timestamp\r\nfinal Instant future = now.plus(10, ChronoUnit.MINUTES); // timestamp + 10 mins\r\nfinal Duration duration = Duration.between(now, future); // difference (Duration)\r\nlong result = duration.toMillis();                       // difference (millis)\r\n\r\nSystem.out.println(result);                              // 600000\r\n```","title":"How to get the number of milliseconds to future time in java?","body":"<p>I would avoid working with <code>LocalTime</code> or <code>LocalDateTime</code> only for sake of measuring time differences. There is a temporal class <code>Instant</code> representing an instantaneous point of time regardless of the place. For measuring a temporal difference, use <code>Duration</code> for time-based calculations and <code>Period</code> for date-based calculations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Instant now = Instant.now();                       // timestamp\nfinal Instant future = now.plus(10, ChronoUnit.MINUTES); // timestamp + 10 mins\nfinal Duration duration = Duration.between(now, future); // difference (Duration)\nlong result = duration.toMillis();                       // difference (millis)\n\nSystem.out.println(result);                              // 600000\n</code></pre>\n"}],"owner":{"account_id":12489083,"reputation":599,"user_id":9091289,"display_name":"Roboman Robo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676312177,"answer_count":2,"score":1,"last_activity_date":1676272972,"creation_date":1676246542,"question_id":75430947,"body_markdown":"How can I get the milliseconds to a future time in java?\r\n\r\nThe idea is to be able to wait 10 minutes until a future time.\r\n\r\nThe code so far: \r\n\r\n\r\n    LocalDateTime now = LocalDateTime.now();\r\n    //int year = now.getYear();\r\n    //int month = now.getMonthValue();\r\n    //int day = now.getDayOfMonth();\r\n    //int hour = now.getHour();\r\n    //int minute = now.getMinute();\r\n    //int second = now.getSecond();\r\n    //int millis = now.get(ChronoField.MILLI_OF_SECOND); // Note: no direct getter available.\r\n    \r\n    //String myfuturedateasstring = &quot;2014/10/29 18:10:45&quot;;\r\n    //SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    //Date myfuturedateasdate = sdf.parse(myDate);\r\n    \r\n    int timeintervaldelay = 10;\r\n    \r\n    Calendar myfuturedateasdate = Calendar. getInstance();\r\n    myfuturedateasdate.setTime(LocalDateTime);\r\n         \r\n    myfuturedateasdate.set(Calendar.MILLISECOND, timeintervaldelay );\r\n    long futuredateinmilliseconds = myfuturedateasdate.getTime();\r\n    \r\n    \r\n    //var date1 = new Date(&quot;7/11/2010&quot;);\r\n    //var date2 = new Date(&quot;12/12/2010&quot;);\r\n    long millisecondstostartin = Math.abs(futuredateinmilliseconds - millis);\r\n    //var diffmilliseconds = Math.ceil(timeDiff / (1000 * 3600 * 24)); \r\n    System.out.println(millisecondstostartin);","title":"How to get the number of milliseconds to future time in java?","body":"<p>How can I get the milliseconds to a future time in java?</p>\n<p>The idea is to be able to wait 10 minutes until a future time.</p>\n<p>The code so far:</p>\n<pre><code>LocalDateTime now = LocalDateTime.now();\n//int year = now.getYear();\n//int month = now.getMonthValue();\n//int day = now.getDayOfMonth();\n//int hour = now.getHour();\n//int minute = now.getMinute();\n//int second = now.getSecond();\n//int millis = now.get(ChronoField.MILLI_OF_SECOND); // Note: no direct getter available.\n\n//String myfuturedateasstring = &quot;2014/10/29 18:10:45&quot;;\n//SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\n//Date myfuturedateasdate = sdf.parse(myDate);\n\nint timeintervaldelay = 10;\n\nCalendar myfuturedateasdate = Calendar. getInstance();\nmyfuturedateasdate.setTime(LocalDateTime);\n     \nmyfuturedateasdate.set(Calendar.MILLISECOND, timeintervaldelay );\nlong futuredateinmilliseconds = myfuturedateasdate.getTime();\n\n\n//var date1 = new Date(&quot;7/11/2010&quot;);\n//var date2 = new Date(&quot;12/12/2010&quot;);\nlong millisecondstostartin = Math.abs(futuredateinmilliseconds - millis);\n//var diffmilliseconds = Math.ceil(timeDiff / (1000 * 3600 * 24)); \nSystem.out.println(millisecondstostartin);\n</code></pre>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":25246919,"reputation":1,"user_id":19080043,"display_name":"Naveen-125-code"},"score":0,"creation_date":1676273513,"post_id":75432910,"comment_id":133096764,"body_markdown":"check this link please\nhttps://stackoverflow.com/questions/18805455/setting-default-values-to-null-fields-when-mapping-with-jackson","body":"check this link please <a href=\"https://stackoverflow.com/questions/18805455/setting-default-values-to-null-fields-when-mapping-with-jackson\" title=\"setting default values to null fields when mapping with jackson\">stackoverflow.com/questions/18805455/&hellip;</a>"},{"owner":{"account_id":27771696,"reputation":1,"user_id":21201866,"display_name":"김효성"},"score":0,"creation_date":1676277723,"post_id":75432910,"comment_id":133097700,"body_markdown":"You&#39;re saying there&#39;s no implementation of what I want yet, right?","body":"You&#39;re saying there&#39;s no implementation of what I want yet, right?"}],"owner":{"account_id":27771696,"reputation":1,"user_id":21201866,"display_name":"김효성"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676272927,"creation_date":1676272927,"question_id":75432910,"body_markdown":"Is there any annotation to let us get another value if original value is null?\r\n```\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ToString\r\npublic class SomeDto extends BaseDto {\r\n\r\n    private BigDecimal a;\r\n\r\n    @GetOrAlternative(alternative = &quot;a&quot;)\r\n    private BigDecimal b;\r\n```\r\nFor example, I want to get value a if b is null on above code.\r\nI want to use that like dto.getBOrAlternative().\r\nIs that possible?\r\nIf that is not possible, how can I implement that?\r\n\r\nI tried to make custom annotation and processor following this: https://www.happykoo.net/@happykoo/posts/256\r\nHowever, it didn&#39;t work. I think it is because that is not a field level.","title":"How can I get another value like @Getter of lombok?","body":"<p>Is there any annotation to let us get another value if original value is null?</p>\n<pre><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class SomeDto extends BaseDto {\n\n    private BigDecimal a;\n\n    @GetOrAlternative(alternative = &quot;a&quot;)\n    private BigDecimal b;\n</code></pre>\n<p>For example, I want to get value a if b is null on above code.\nI want to use that like dto.getBOrAlternative().\nIs that possible?\nIf that is not possible, how can I implement that?</p>\n<p>I tried to make custom annotation and processor following this: <a href=\"https://www.happykoo.net/@happykoo/posts/256\" rel=\"nofollow noreferrer\">https://www.happykoo.net/@happykoo/posts/256</a>\nHowever, it didn't work. I think it is because that is not a field level.</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":25935367,"reputation":23,"user_id":19655755,"display_name":"Iqra Riaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676272883,"creation_date":1676272883,"question_id":75432903,"body_markdown":"I want a horizontal Calendar like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFor creating a Horizontal Calender I have tried a few libraries like \r\n`implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;`.\r\nBut I am not able to access and customize an intemView.\r\n\r\nFirstly clear me that can we access the itemView of `devs.mulham.horizontalcalendar.HorizontalCalendarView`, if yes then how and if not then how can I create my customer horizontal calendar in Java, Android studio?\r\n\r\nPlease help me out with this. Thank You!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/prxOP.png","title":"Create Horizontal View Calendar in Android Studio Java","body":"<p>I want a horizontal Calendar like this:</p>\n<p><a href=\"https://i.stack.imgur.com/prxOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/prxOP.png\" alt=\"enter image description here\" /></a></p>\n<p>For creating a Horizontal Calender I have tried a few libraries like\n<code>implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'</code>.\nBut I am not able to access and customize an intemView.</p>\n<p>Firstly clear me that can we access the itemView of <code>devs.mulham.horizontalcalendar.HorizontalCalendarView</code>, if yes then how and if not then how can I create my customer horizontal calendar in Java, Android studio?</p>\n<p>Please help me out with this. Thank You!</p>\n"},{"tags":["java","android","printing","bluetooth","zebra-printers"],"comments":[{"owner":{"account_id":10171439,"reputation":290,"user_id":7511614,"accept_rate":20,"display_name":"nethra gowda"},"score":0,"creation_date":1629900880,"post_id":48329288,"comment_id":121810076,"body_markdown":"Have you resolved this error?","body":"Have you resolved this error?"},{"owner":{"account_id":1335565,"reputation":191,"user_id":1278416,"display_name":"Aniket"},"score":0,"creation_date":1673708378,"post_id":48329288,"comment_id":132560439,"body_markdown":"Have you resolved the issue/error? I am facing the same in my project. Able to discover,  but unable to connect it.","body":"Have you resolved the issue/error? I am facing the same in my project. Able to discover,  but unable to connect it."}],"answers":[{"tags":[],"owner":{"account_id":2563547,"reputation":24517,"user_id":2224186,"display_name":"Kevin Lynch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676272242,"creation_date":1676272242,"answer_id":75432817,"question_id":48329288,"body_markdown":"I had this exact issue. try clearing the accepted hosts list and then connecting again. You will be prompted to accept the new host again. Once this is done you should be able to successfully send read/write commands to the device.","title":"Unable to Open Connection to Zebra Printer","body":"<p>I had this exact issue. try clearing the accepted hosts list and then connecting again. You will be prompted to accept the new host again. Once this is done you should be able to successfully send read/write commands to the device.</p>\n"}],"owner":{"account_id":6328862,"reputation":105,"user_id":4914384,"accept_rate":86,"display_name":"motoko96"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676272242,"creation_date":1516305218,"question_id":48329288,"body_markdown":"I am currently in the process of creating an android application that requires the ability to print tickets/receipts from a mobile printer. The organization I am currently with has decided to purchase android tablets that are currently running 7.0 as well as Zebra Mobile Printers (ZQ510).  We determined that using the BluetoothConnectionInsecure would be the best method of connecting and printing with these printers, since the application will be used on a multitude of tablets each connecting to their own printers.\r\n\r\nAlthough we were able to successfully connect and print on the previous version of the application which was designed to work with android devices running 5.0 and above, it seems that the current version of our application is unable to establish a connection with the printer. \r\n\r\nI&#39;ve looked through stack for a similar error, but was unable to find any. If there is one similar to mine that exists, I would appreciate a link.\r\n\r\nhttps://stackoverflow.com/questions/36262106/zebra-printer-connection-failed-read-failed-socket-might-closed-or-timeout-re\r\n\r\nHere is the stack trace of the error: \r\n```\r\n01-18 14:24:08.332 9048-9165/marist.edu.mets_issue_ticket W/System.err: com.zebra.sdk.comm.ConnectionException: Could not connect to device: read failed, socket might closed or timeout, read ret: -1\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.ConnectionA.open(Unknown Source)\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.BluetoothConnection.open(Unknown Source)\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at marist.edu.mets_issue_ticket_helpers.BluetoothUnsecurePrint$1.run(BluetoothUnsecurePrint.java:308)\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at java.lang.Thread.run(Thread.java:761)\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err: Caused by: com.zebra.sdk.comm.ConnectionException: read failed, socket might closed or timeout, read ret: -1\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.internal.BluetoothInsecureZebraConnectorImpl.tryPublicApiWay(Unknown Source)\r\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.internal.BluetoothInsecureZebraConnectorImpl.open(Unknown Source)\r\n```\r\n\r\nThe method I am currently using to establish connection with the printer is as follows:\r\n\r\nCreating an intent to search for discoverable devices, then passing that intent to my Bluetooth class:\r\n\r\n    Intent discoverableIntent =\r\n                    new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n            discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\r\n\r\n            BluetoothUnsecurePrint bluetoothUnsecurePrint = new BluetoothUnsecurePrint(resultMap,violationResults,getActivity(), theTicketNumber, discoverableIntent);\r\n            bluetoothUnsecurePrint.print();\r\n\r\nGather the list of devices found and grab MAC address of devices already paired to the tablet:\r\n\r\n        public void print(){\r\n        //ask user to allow device to be discoverable by paired printer, display dialog box\r\n     discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\r\n        userActivity.startActivity(discoverableIntent);\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter().getAddress();\r\n\r\n        BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        if (mBluetoothAdapter == null) {\r\n            // Device does not support Bluetooth\r\n        }\r\n\r\n        Set&lt;BluetoothDevice&gt; pairedDevices = mBluetoothAdapter.getBondedDevices();\r\n\r\n        if (pairedDevices.size() &gt; 0) {\r\n            // There are paired devices. Get the name and address of each paired device.\r\n            for (BluetoothDevice device : pairedDevices) {\r\n                String deviceHardwareAddress = device.getAddress(); // MAC address\r\n                sendZplOverBluetooth(deviceHardwareAddress);\r\n\r\n                Log.d(TAG,device.getAddress()+ device.getName()+device.getBondState());\r\n\r\n                Intent ticketFinishedIntent = new Intent(userActivity, OffendingVehicleSearch.class);\r\n                userActivity.startActivity(ticketFinishedIntent);\r\n            }\r\n        }\r\n    }\r\n\r\nUsing the bluetooth mac address to establish a connection to the printer and then print the written data.\r\n\r\n    private void sendZplOverBluetooth(final String theBtMacAddress) {\r\n\r\n        new Thread(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    // Instantiate insecure connection for given Bluetooth&amp;reg; MAC Address.\r\n                    Connection thePrinterConn = new BluetoothConnectionInsecure(theBtMacAddress);\r\n\r\n                    // Initialize\r\n                    Looper.prepare();\r\n                    Log.d(TAG,thePrinterConn.getSimpleConnectionName());\r\n\r\n                    // Open the connection - physical connection is established here.\r\n                    thePrinterConn.open();\r\n                    Log.d(TAG, String.valueOf(thePrinterConn.bytesAvailable()));\r\n                    // Send the data to printer as a byte array.\r\n                    thePrinterConn.write(generateZPL().getBytes());\r\n\r\n                    // Make sure the data got to the printer before closing the connection\r\n                    Thread.sleep(500);\r\n\r\n                    // Close the insecure connection to release resources.\r\n                    thePrinterConn.close();\r\n\r\n                    Looper.myLooper().quit();\r\n                } catch (Exception e) {\r\n                    // Handle communications error here.\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n\r\nI did come across some other semi-related forum posts concerning possible new permissions needed for the manifest file, however it looks like those permissions do not make a difference in the connection error.\r\n\r\n\r\n&lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nPlease let me know if any other information is needed.","title":"Unable to Open Connection to Zebra Printer","body":"<p>I am currently in the process of creating an android application that requires the ability to print tickets/receipts from a mobile printer. The organization I am currently with has decided to purchase android tablets that are currently running 7.0 as well as Zebra Mobile Printers (ZQ510).  We determined that using the BluetoothConnectionInsecure would be the best method of connecting and printing with these printers, since the application will be used on a multitude of tablets each connecting to their own printers.</p>\n\n<p>Although we were able to successfully connect and print on the previous version of the application which was designed to work with android devices running 5.0 and above, it seems that the current version of our application is unable to establish a connection with the printer. </p>\n\n<p>I've looked through stack for a similar error, but was unable to find any. If there is one similar to mine that exists, I would appreciate a link.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36262106/zebra-printer-connection-failed-read-failed-socket-might-closed-or-timeout-re\">Zebra printer connection failed “read failed, socket might closed or timeout, read ret: -1”</a></p>\n\n<p>Here is the stack trace of the error: \n<code>\n01-18 14:24:08.332 9048-9165/marist.edu.mets_issue_ticket W/System.err: com.zebra.sdk.comm.ConnectionException: Could not connect to device: read failed, socket might closed or timeout, read ret: -1\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.ConnectionA.open(Unknown Source)\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.BluetoothConnection.open(Unknown Source)\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at marist.edu.mets_issue_ticket_helpers.BluetoothUnsecurePrint$1.run(BluetoothUnsecurePrint.java:308)\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at java.lang.Thread.run(Thread.java:761)\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err: Caused by: com.zebra.sdk.comm.ConnectionException: read failed, socket might closed or timeout, read ret: -1\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.internal.BluetoothInsecureZebraConnectorImpl.tryPublicApiWay(Unknown Source)\n01-18 14:24:08.333 9048-9165/marist.edu.mets_issue_ticket W/System.err:     at com.zebra.sdk.comm.internal.BluetoothInsecureZebraConnectorImpl.open(Unknown Source)\n</code></p>\n\n<p>The method I am currently using to establish connection with the printer is as follows:</p>\n\n<p>Creating an intent to search for discoverable devices, then passing that intent to my Bluetooth class:</p>\n\n<pre><code>Intent discoverableIntent =\n                new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n        discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\n\n        BluetoothUnsecurePrint bluetoothUnsecurePrint = new BluetoothUnsecurePrint(resultMap,violationResults,getActivity(), theTicketNumber, discoverableIntent);\n        bluetoothUnsecurePrint.print();\n</code></pre>\n\n<p>Gather the list of devices found and grab MAC address of devices already paired to the tablet:</p>\n\n<pre><code>    public void print(){\n    //ask user to allow device to be discoverable by paired printer, display dialog box\n discoverableIntent.putExtra(BluetoothAdapter.EXTRA_DISCOVERABLE_DURATION, 300);\n    userActivity.startActivity(discoverableIntent);\n    bluetoothAdapter = BluetoothAdapter.getDefaultAdapter().getAddress();\n\n    BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (mBluetoothAdapter == null) {\n        // Device does not support Bluetooth\n    }\n\n    Set&lt;BluetoothDevice&gt; pairedDevices = mBluetoothAdapter.getBondedDevices();\n\n    if (pairedDevices.size() &gt; 0) {\n        // There are paired devices. Get the name and address of each paired device.\n        for (BluetoothDevice device : pairedDevices) {\n            String deviceHardwareAddress = device.getAddress(); // MAC address\n            sendZplOverBluetooth(deviceHardwareAddress);\n\n            Log.d(TAG,device.getAddress()+ device.getName()+device.getBondState());\n\n            Intent ticketFinishedIntent = new Intent(userActivity, OffendingVehicleSearch.class);\n            userActivity.startActivity(ticketFinishedIntent);\n        }\n    }\n}\n</code></pre>\n\n<p>Using the bluetooth mac address to establish a connection to the printer and then print the written data.</p>\n\n<pre><code>private void sendZplOverBluetooth(final String theBtMacAddress) {\n\n    new Thread(new Runnable() {\n        public void run() {\n            try {\n                // Instantiate insecure connection for given Bluetooth&amp;reg; MAC Address.\n                Connection thePrinterConn = new BluetoothConnectionInsecure(theBtMacAddress);\n\n                // Initialize\n                Looper.prepare();\n                Log.d(TAG,thePrinterConn.getSimpleConnectionName());\n\n                // Open the connection - physical connection is established here.\n                thePrinterConn.open();\n                Log.d(TAG, String.valueOf(thePrinterConn.bytesAvailable()));\n                // Send the data to printer as a byte array.\n                thePrinterConn.write(generateZPL().getBytes());\n\n                // Make sure the data got to the printer before closing the connection\n                Thread.sleep(500);\n\n                // Close the insecure connection to release resources.\n                thePrinterConn.close();\n\n                Looper.myLooper().quit();\n            } catch (Exception e) {\n                // Handle communications error here.\n                e.printStackTrace();\n            }\n        }\n    }).start();\n}\n</code></pre>\n\n<p>I did come across some other semi-related forum posts concerning possible new permissions needed for the manifest file, however it looks like those permissions do not make a difference in the connection error.</p>\n\n<p>\n    </p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH_ADMIN\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n\n&lt;uses-feature android:name=\"android.hardware.camera2.full\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>Please let me know if any other information is needed.</p>\n"},{"tags":["java","csv","boolean","pipe"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676270799,"post_id":75432614,"comment_id":133096269,"body_markdown":"What is `documents`?","body":"What is <code>documents</code>?"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1676271004,"post_id":75432614,"comment_id":133096298,"body_markdown":"@kiner_shah documents is where the value is stored, I posted above for reference","body":"@kiner_shah documents is where the value is stored, I posted above for reference"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676271068,"post_id":75432614,"comment_id":133096306,"body_markdown":"Is it an array of strings?","body":"Is it an array of strings?"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1676271540,"post_id":75432614,"comment_id":133096391,"body_markdown":"@kiner_shah I don&#39;t think so it is a Array of String, I am just new to java, my apology","body":"@kiner_shah I don&#39;t think so it is a Array of String, I am just new to java, my apology"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1676271703,"post_id":75432614,"comment_id":133096419,"body_markdown":"Is this the whole code needed for reproducing the issue?","body":"Is this the whole code needed for reproducing the issue?"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1676271859,"post_id":75432614,"comment_id":133096449,"body_markdown":"@kiner_shah yes, Iam getting an error at the line String flag = documents[5].trim();","body":"@kiner_shah yes, Iam getting an error at the line String flag = documents[5].trim();"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676272189,"post_id":75432614,"comment_id":133096512,"body_markdown":"Erm ... no it isn&#39;t!  I can&#39;t see where you are creating and initializing (reading) `documents` and that will be where the actual problem is.  The exception is simply saying that `documents` doesn&#39;t have a `documents[5]` which means that `documents.length` is smaller than 6.","body":"Erm ... no it isn&#39;t!  I can&#39;t see where you are creating and initializing (reading) <code>documents</code> and that will be where the actual problem is.  The exception is simply saying that <code>documents</code> doesn&#39;t have a <code>documents[5]</code> which means that <code>documents.length</code> is smaller than 6."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676272270,"post_id":75432614,"comment_id":133096522,"body_markdown":"Yes `String[]` **does** mean array of `String`.","body":"Yes <code>String[]</code> <b>does</b> mean array of <code>String</code>."},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1676272782,"post_id":75432614,"comment_id":133096609,"body_markdown":"@StephenC should I replace the value documents[5] to [6]? I thought that document always starts at 0 that&#39;s why I set it to 5 since the length is 6","body":"@StephenC should I replace the value documents[5] to [6]? I thought that document always starts at 0 that&#39;s why I set it to 5 since the length is 6"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1676274720,"post_id":75432614,"comment_id":133096981,"body_markdown":"No.  Think about it.  If 5 is too large, then 6 is also too large!!  What you really need to do is look at the code that is creating / initializing / reading the value that ends up as `documents`.  Hint: read the javadocs for the `ArrayIndexOutOfBoundsException` exception.  Find out what it *means*.   Clearly the length is NOT 6.","body":"No.  Think about it.  If 5 is too large, then 6 is also too large!!  What you really need to do is look at the code that is creating / initializing / reading the value that ends up as <code>documents</code>.  Hint: read the javadocs for the <code>ArrayIndexOutOfBoundsException</code> exception.  Find out what it <i>means</i>.   Clearly the length is NOT 6."},{"owner":{"account_id":226474,"reputation":3182,"user_id":487545,"accept_rate":82,"display_name":"mauretto"},"score":0,"creation_date":1676275810,"post_id":75432614,"comment_id":133097208,"body_markdown":"&quot;12|&quot;User&quot;|&quot;park&quot;|&quot;0.0&quot;|&quot;20230217&quot;|&quot;&quot; : it seems that a double quote is missing ( after 12, before | )","body":"&quot;12|&quot;User&quot;|&quot;park&quot;|&quot;0.0&quot;|&quot;20230217&quot;|&quot;&quot; : it seems that a double quote is missing ( after 12, before | )"},{"owner":{"account_id":10351262,"reputation":116,"user_id":13566128,"display_name":"Notron"},"score":0,"creation_date":1676276535,"post_id":75432614,"comment_id":133097388,"body_markdown":"I would suggest to first print documents array, and see the elements that you have in that array, that would give an idea if everything is working as expected.","body":"I would suggest to first print documents array, and see the elements that you have in that array, that would give an idea if everything is working as expected."},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1676279768,"post_id":75432614,"comment_id":133098243,"body_markdown":"@Notron I get the expected value after I insert data on index[5], and it seems right. But when empty string on index[5], it gives an ArrayIndexOutOfBoundsException","body":"@Notron I get the expected value after I insert data on index[5], and it seems right. But when empty string on index[5], it gives an ArrayIndexOutOfBoundsException"},{"owner":{"account_id":10351262,"reputation":116,"user_id":13566128,"display_name":"Notron"},"score":0,"creation_date":1676282033,"post_id":75432614,"comment_id":133098861,"body_markdown":"@Euphoria then it seems that when you have empy string you are not adding that to the list, can you show how you are adding elements to documents array ? (since I can&#39;t see that in the above code)","body":"@Euphoria then it seems that when you have empy string you are not adding that to the list, can you show how you are adding elements to documents array ? (since I can&#39;t see that in the above code)"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1676303259,"post_id":75432614,"comment_id":133105329,"body_markdown":"Thanks All! Problem solved by getting the length of documents and use null condition for the if(documents.length &gt; 5){ \nif(documents[5] != null){\n if(!flag.isEmpty()){\n    if(flag.trim().equalsIgnoreCase(&quot;false&quot;)){\n            documentExtract.setFlag(false);\n    }else{\n        documentExtract.setFlag(true);\n            }\n}else{\n    documentExtract.setFlag(false);\n}\n        \nreturn documentExtract;","body":"Thanks All! Problem solved by getting the length of documents and use null condition for the if(documents.length &gt; 5){  if(documents[5] != null){  if(!flag.isEmpty()){     if(flag.trim().equalsIgnoreCase(&quot;false&quot;)){             documentExtract.setFlag(false);     }else{         documentExtract.setFlag(true);             } }else{     documentExtract.setFlag(false); }          return documentExtract;"}],"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676279335,"answer_count":0,"score":0,"last_activity_date":1676271810,"creation_date":1676270690,"question_id":75432614,"body_markdown":"can someone help me to solve this issue? Not so sure why I am getting **Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 5**\r\n\r\nhere is the document index I have where the flag is located\r\n\r\nData.csv\r\n```\r\ndocID, docName, docAddress, docPayment, docDate, docFlag\r\n&quot;12|&quot;User&quot;|&quot;park&quot;|&quot;0.0&quot;|&quot;20230217&quot;|&quot;&quot;\r\n```\r\n\r\n\r\n\r\n```\r\nprivate DocumentExtract builExtract(String[] documents){\r\n\tif(documents== null || documents.length &lt;= 0){\r\n\t\treturn null;\r\n}\r\n\r\nDocumentExtract documentExtract= new DocumentExtract();\t\t\r\nString flag = documents[5].trim();\r\n\r\nif(!flag.isEmpty()){\r\n\tif(flag.trim().equalsIgnoreCase(&quot;false&quot;)){\r\n        \tdocumentExtract.setFlag(false);\r\n\t}else{\r\n\t\tdocumentExtract.setFlag(true);\r\n        \t}\r\n}else{\r\n\tdocumentExtract.setFlag(false);\r\n}\r\n\t\t\r\nreturn documentExtract;\r\n```\r\n\r\nDocumentExtract() class \r\n```\r\nprivate Boolean flag;\r\n\r\npublic Boolean getFlag() {\r\n\t\treturn flag;\r\n\t}\r\npublic void setFlag(Boolean flag) {\r\n\t\tthis.flag= flag;\r\n\t}\r\n```\r\n\r\nHope to learn from people here too, your reply will be highly appreciate","title":"Why am I getting Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 5","body":"<p>can someone help me to solve this issue? Not so sure why I am getting <strong>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 5</strong></p>\n<p>here is the document index I have where the flag is located</p>\n<p>Data.csv</p>\n<pre><code>docID, docName, docAddress, docPayment, docDate, docFlag\n&quot;12|&quot;User&quot;|&quot;park&quot;|&quot;0.0&quot;|&quot;20230217&quot;|&quot;&quot;\n</code></pre>\n<pre><code>private DocumentExtract builExtract(String[] documents){\n    if(documents== null || documents.length &lt;= 0){\n        return null;\n}\n\nDocumentExtract documentExtract= new DocumentExtract();     \nString flag = documents[5].trim();\n\nif(!flag.isEmpty()){\n    if(flag.trim().equalsIgnoreCase(&quot;false&quot;)){\n            documentExtract.setFlag(false);\n    }else{\n        documentExtract.setFlag(true);\n            }\n}else{\n    documentExtract.setFlag(false);\n}\n        \nreturn documentExtract;\n</code></pre>\n<p>DocumentExtract() class</p>\n<pre><code>private Boolean flag;\n\npublic Boolean getFlag() {\n        return flag;\n    }\npublic void setFlag(Boolean flag) {\n        this.flag= flag;\n    }\n</code></pre>\n<p>Hope to learn from people here too, your reply will be highly appreciate</p>\n"},{"tags":["java","activiti","workflow-engine"],"owner":{"account_id":5070784,"reputation":47,"user_id":4069591,"display_name":"meteoriteliu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676271171,"creation_date":1676271171,"question_id":75432683,"body_markdown":"I&#39;m working on application using the workflow engine Activiti and plan to setup multi-instance for this application. is there any thing to consider for Activiti when it becomes multi-instance? \r\n\r\nfor example there is timer event can be set that after some given time period, task A will complete and move to task B. if it is multi-instance setup, which instance will handle the above processing? or there is some setting to specify a instance to handle time-related event? ","title":"how to setup application of Activiti for multi-instance","body":"<p>I'm working on application using the workflow engine Activiti and plan to setup multi-instance for this application. is there any thing to consider for Activiti when it becomes multi-instance?</p>\n<p>for example there is timer event can be set that after some given time period, task A will complete and move to task B. if it is multi-instance setup, which instance will handle the above processing? or there is some setting to specify a instance to handle time-related event?</p>\n"},{"tags":["java","maven","intellij-idea","syntax-highlighting"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1540499222,"post_id":52997476,"comment_id":92899958,"body_markdown":"It looks like you are using some custom editor color scheme. Does it help if you [switch it back to Darcula](https://i.imgur.com/h10FuJA.png)?","body":"It looks like you are using some custom editor color scheme. Does it help if you <a href=\"https://i.imgur.com/h10FuJA.png\" rel=\"nofollow noreferrer\">switch it back to Darcula</a>?"},{"owner":{"account_id":13635926,"reputation":321,"user_id":9836960,"display_name":"Evandro Teixeira"},"score":0,"creation_date":1540499675,"post_id":52997476,"comment_id":92900133,"body_markdown":"No, it doesn&#39;t. In fact, i was using Darcula and getting the same error. I tried switching through different color schemes, but nothing changed in the highlighting beyond the colors.","body":"No, it doesn&#39;t. In fact, i was using Darcula and getting the same error. I tried switching through different color schemes, but nothing changed in the highlighting beyond the colors."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1540499834,"post_id":52997476,"comment_id":92900217,"body_markdown":"All the features work in the editor, only the colors are not default. Darcula looks [like this](https://i.imgur.com/iP1D79R.png). You may have some third-party plug-in installed which overrides IDE themes/colors.","body":"All the features work in the editor, only the colors are not default. Darcula looks <a href=\"https://i.imgur.com/iP1D79R.png\" rel=\"nofollow noreferrer\">like this</a>. You may have some third-party plug-in installed which overrides IDE themes/colors."},{"owner":{"account_id":13635926,"reputation":321,"user_id":9836960,"display_name":"Evandro Teixeira"},"score":1,"creation_date":1540499914,"post_id":52997476,"comment_id":92900249,"body_markdown":"Well, i&#39;ve found a solution. By reseting the Java inspections checkbox, it turned on the syntax highlighting back for all themes but this. Anyway, now i can go back to work. Thanks so much for the hint!","body":"Well, i&#39;ve found a solution. By reseting the Java inspections checkbox, it turned on the syntax highlighting back for all themes but this. Anyway, now i can go back to work. Thanks so much for the hint!"},{"owner":{"account_id":13635926,"reputation":321,"user_id":9836960,"display_name":"Evandro Teixeira"},"score":0,"creation_date":1540500151,"post_id":52997476,"comment_id":92900335,"body_markdown":"About Darkula, sorry for not specifying : the theme in the print is not Darkula, is some downloaded &quot;DK Monokai&quot;.  I used darkula once, them tried to change the themes hopping that it would solve the syntax problem.  The Inspections checkbox was the way to go.","body":"About Darkula, sorry for not specifying : the theme in the print is not Darkula, is some downloaded &quot;DK Monokai&quot;.  I used darkula once, them tried to change the themes hopping that it would solve the syntax problem.  The Inspections checkbox was the way to go."}],"answers":[{"comments":[{"owner":{"account_id":13635926,"reputation":321,"user_id":9836960,"display_name":"Evandro Teixeira"},"score":0,"creation_date":1540500482,"post_id":52997634,"comment_id":92900482,"body_markdown":"Hey there. As i said in the comments above, the problem was related to the &quot;DK Monokai&quot; theme (must have been downloaded somewhere, i can&#39;t remember) and somehow, reseting the Settings -&gt; Editor -&gt; Inspections checkbox for Java worked for all themes but this one. Anyway, thanks for the help!","body":"Hey there. As i said in the comments above, the problem was related to the &quot;DK Monokai&quot; theme (must have been downloaded somewhere, i can&#39;t remember) and somehow, reseting the Settings -&gt; Editor -&gt; Inspections checkbox for Java worked for all themes but this one. Anyway, thanks for the help!"},{"owner":{"account_id":1950637,"reputation":167,"user_id":1754807,"display_name":"Profiterole"},"score":0,"creation_date":1596129221,"post_id":52997634,"comment_id":111719657,"body_markdown":"I don&#39;t think it was a theme related issue, I was doing a clean install with the default dark theme and I had the same issue, and I also fixed it thanks to the inspections checkbox for Java and Scala.","body":"I don&#39;t think it was a theme related issue, I was doing a clean install with the default dark theme and I had the same issue, and I also fixed it thanks to the inspections checkbox for Java and Scala."}],"tags":[],"owner":{"account_id":9483025,"reputation":74,"user_id":7050283,"display_name":"Giovanni Esposito"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540499918,"creation_date":1540499410,"answer_id":52997634,"question_id":52997476,"body_markdown":"It could be possible that you have changed the IntelliJ appearance or the shortcuts?\r\n\r\nFor appearance check the configuration, File -&gt; Settings -&gt; Appearance &amp; Behavior -&gt; Appearance\r\n\r\nFor shortcuts, File -&gt; Settings -&gt; Keymaps\r\n\r\nFor editor settings, File -&gt; Settings -&gt; Editor -&gt; Code Style -&gt; Java\r\n\r\nPlease, let me know if this works for you","title":"Intellij missing syntax highlighting for Java","body":"<p>It could be possible that you have changed the IntelliJ appearance or the shortcuts?</p>\n\n<p>For appearance check the configuration, File -> Settings -> Appearance &amp; Behavior -> Appearance</p>\n\n<p>For shortcuts, File -> Settings -> Keymaps</p>\n\n<p>For editor settings, File -> Settings -> Editor -> Code Style -> Java</p>\n\n<p>Please, let me know if this works for you</p>\n"},{"tags":[],"owner":{"account_id":13635926,"reputation":321,"user_id":9836960,"display_name":"Evandro Teixeira"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1540500698,"creation_date":1540500698,"answer_id":52997930,"question_id":52997476,"body_markdown":"As i said in the comments above, the problem was related to the &quot;DK Monokai&quot; theme (must have been downloaded somewhere, i can&#39;t remember) and somehow, resetting the Settings -&gt; Editor -&gt; Inspections checkbox for Java worked for all themes but this one. Thanks everyone for the help. ","title":"Intellij missing syntax highlighting for Java","body":"<p>As i said in the comments above, the problem was related to the \"DK Monokai\" theme (must have been downloaded somewhere, i can't remember) and somehow, resetting the Settings -> Editor -> Inspections checkbox for Java worked for all themes but this one. Thanks everyone for the help. </p>\n"},{"tags":[],"owner":{"account_id":20951459,"reputation":1,"user_id":15393033,"display_name":"Ammaar Isaacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676271099,"creation_date":1676271099,"answer_id":75432668,"question_id":52997476,"body_markdown":"For me, disabling power saving mode in Intellij IDEA did the trick.","title":"Intellij missing syntax highlighting for Java","body":"<p>For me, disabling power saving mode in Intellij IDEA did the trick.</p>\n"}],"owner":{"account_id":13635926,"reputation":321,"user_id":9836960,"display_name":"Evandro Teixeira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11123,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52997930,"answer_count":3,"score":4,"last_activity_date":1676271099,"creation_date":1540498763,"question_id":52997476,"body_markdown":"I&#39;m really desperate to find a solution for this. For some weird reason, IDEA is not showing a complete syntax highlighting for my Java code. I already tried changing the &quot;sources root&quot;, checking power mod, deleting the .ignore plugin, but i still getting this odd look on my code. \r\nI&#39;ve imported it as a maven project through the pom.xml file.\r\n\r\n[![screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AxYtF.png","title":"Intellij missing syntax highlighting for Java","body":"<p>I'm really desperate to find a solution for this. For some weird reason, IDEA is not showing a complete syntax highlighting for my Java code. I already tried changing the \"sources root\", checking power mod, deleting the .ignore plugin, but i still getting this odd look on my code. \nI've imported it as a maven project through the pom.xml file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AxYtF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AxYtF.png\" alt=\"screenshot\"></a></p>\n"},{"tags":["java","string","pool"],"comments":[{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1326111712,"post_id":8788143,"comment_id":119244509,"body_markdown":"Refer following links: https://stackoverflow.com/questions/1881922/questions-about-javas-string-pool https://stackoverflow.com/questions/3653255/some-queries-regarding-java-string-pool https://stackoverflow.com/questions/5457146/regarding-java-string-constant-pool and, you&#39;ll get your answer. In one sentence, the answer is `to use JVM memory cleaverly`","body":"Refer following links: <a href=\"https://stackoverflow.com/questions/1881922/questions-about-javas-string-pool\" title=\"questions about javas string pool\">stackoverflow.com/questions/1881922/&hellip;</a> <a href=\"https://stackoverflow.com/questions/3653255/some-queries-regarding-java-string-pool\" title=\"some queries regarding java string pool\">stackoverflow.com/questions/3653255/&hellip;</a> <a href=\"https://stackoverflow.com/questions/5457146/regarding-java-string-constant-pool\" title=\"regarding java string constant pool\">stackoverflow.com/questions/5457146/&hellip;</a> and, you&#39;ll get your answer. In one sentence, the answer is <code>to use JVM memory cleaverly</code>"},{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":0,"creation_date":1326112316,"post_id":8788143,"comment_id":10960928,"body_markdown":"Think about what will you do if you want to create an immutable class by yourself.","body":"Think about what will you do if you want to create an immutable class by yourself."},{"owner":{"account_id":400932,"reputation":2006,"user_id":767200,"accept_rate":61,"display_name":"Amol Ghotankar"},"score":0,"creation_date":1326173056,"post_id":8788143,"comment_id":10977271,"body_markdown":"Well my question is - there are so many other immutable classes in java then why java designers decided to make String Pool. Is it a feature to help performance or was it the need of Java Design?","body":"Well my question is - there are so many other immutable classes in java then why java designers decided to make String Pool. Is it a feature to help performance or was it the need of Java Design?"}],"answers":[{"comments":[{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":0,"creation_date":1411017807,"post_id":8788275,"comment_id":40545911,"body_markdown":"**Double is also immutable, and there is no pool of Doubles** Nice pick.. :) Thanks","body":"<b>Double is also immutable, and there is no pool of Doubles</b> Nice pick.. :) Thanks"},{"owner":{"account_id":4891295,"reputation":237,"user_id":4031919,"display_name":"James"},"score":0,"creation_date":1411566295,"post_id":8788275,"comment_id":40751245,"body_markdown":"What do you mean by &quot;String literals a program makes&quot;? Are you saying that JVM internally generates many similar Strings even when the application doesn&#39;t work with text and doesn&#39;t create many String objects explicitly?","body":"What do you mean by &quot;String literals a program makes&quot;? Are you saying that JVM internally generates many similar Strings even when the application doesn&#39;t work with text and doesn&#39;t create many String objects explicitly?"},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1411578994,"post_id":8788275,"comment_id":40759137,"body_markdown":"No, what I&#39;m saying is precisely the inverse thing: if 200 classes use the String literal `&quot;&quot;` in their code, only one instance is created, stored in the string pool, and shared by all the classes.","body":"No, what I&#39;m saying is precisely the inverse thing: if 200 classes use the String literal <code>&quot;&quot;</code> in their code, only one instance is created, stored in the string pool, and shared by all the classes."}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1326111272,"creation_date":1326111272,"answer_id":8788275,"question_id":8788143,"body_markdown":"A pool is possible because the strings are immutable. But the immutability of the String hasn&#39;t been decided only because of this pool. Immutability has numerous other benefits. BTW, a `Double` is also immutable, and there is no pool of Doubles.\r\n\r\nThe need for the String pool is to reduce the memory needed to hold all the String literals (and the interned Strings) a program uses, since these literals have a good chance of being used many times, in many places of the program. Instead of having thousands of copies of the same String literal, you just have thousand references to the same String, which reduces the memory usage.\r\n\r\nNote that the String class is not different from other classes: it holds its own char array. It may also share it with other String instances, though, when substring is called.","title":"String POOL in java","body":"<p>A pool is possible because the strings are immutable. But the immutability of the String hasn't been decided only because of this pool. Immutability has numerous other benefits. BTW, a <code>Double</code> is also immutable, and there is no pool of Doubles.</p>\n\n<p>The need for the String pool is to reduce the memory needed to hold all the String literals (and the interned Strings) a program uses, since these literals have a good chance of being used many times, in many places of the program. Instead of having thousands of copies of the same String literal, you just have thousand references to the same String, which reduces the memory usage.</p>\n\n<p>Note that the String class is not different from other classes: it holds its own char array. It may also share it with other String instances, though, when substring is called.</p>\n"},{"comments":[{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":0,"creation_date":1326111600,"post_id":8788316,"comment_id":10960743,"body_markdown":"The compiler has nothing to do with this, actually. Literals are put in the class file, and are resolved by the pool when the class is loaded.","body":"The compiler has nothing to do with this, actually. Literals are put in the class file, and are resolved by the pool when the class is loaded."},{"owner":{"account_id":352656,"reputation":11806,"user_id":689853,"accept_rate":84,"display_name":"Harinder"},"score":1,"creation_date":1326111688,"post_id":8788316,"comment_id":10960771,"body_markdown":"so what u r saying is that the strings in the pool are not referred if a match is found?","body":"so what u r saying is that the strings in the pool are not referred if a match is found?"}],"tags":[],"owner":{"account_id":352656,"reputation":11806,"user_id":689853,"accept_rate":84,"display_name":"Harinder"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1326111473,"creation_date":1326111473,"answer_id":8788316,"question_id":8788143,"body_markdown":"When we compiler see&#39;s that a new String literal has to be created,it first check&#39;s the pool for an identical string,if found no new String literal is created,the existing String is referred.","title":"String POOL in java","body":"<p>When we compiler see's that a new String literal has to be created,it first check's the pool for an identical string,if found no new String literal is created,the existing String is referred.</p>\n"},{"comments":[{"owner":{"account_id":170188,"reputation":11294,"user_id":396730,"accept_rate":90,"display_name":"Philipp Wendler"},"score":0,"creation_date":1326190053,"post_id":8801214,"comment_id":10980830,"body_markdown":"This is not really a security reason. The File class would just need to copy the string with the file name into a new String object if strings were mutable in Java. Its only a performance feature that this copying is not needed (and a convenience feature for programmers that they can&#39;t forget the needed copying).","body":"This is not really a security reason. The File class would just need to copy the string with the file name into a new String object if strings were mutable in Java. Its only a performance feature that this copying is not needed (and a convenience feature for programmers that they can&#39;t forget the needed copying)."}],"tags":[],"owner":{"account_id":1013422,"reputation":2174,"user_id":1025525,"accept_rate":68,"display_name":"Punith Raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326188789,"creation_date":1326188789,"answer_id":8801214,"question_id":8788143,"body_markdown":"the benifit of making string as immutable was for the security feature. Read below\r\n\r\nWhy String has been made immutable in Java?\r\n\r\nThough, performance is also a reason (assuming you are already aware of the internal String pool maintained for making sure that the same String object is used more than once without having to create/re-claim it those many times), but the main reason why String has been made immutable in Java is &#39;Security&#39;. Surprised? Let&#39;s understand why.\r\n\r\nSuppose you need to open a secure file which requires the users to authenticate themselves. Let&#39;s say there are two users named &#39;user1&#39; and &#39;user2&#39; and they have their own password files &#39;password1&#39; and &#39;password2&#39;, respectively. Obviously &#39;user2&#39; should not have access to &#39;password1&#39; file.\r\n\r\nAs we know the filenames in Java are specified by using Strings. Even if you create a &#39;File&#39; object, you pass the name of the file as a String only and that String is maintained inside the File object as one of its members.\r\n\r\nHad String been mutable, &#39;user1&#39; could have logged into using his credentials and then somehow could have managed to change the name of his password filename (a String object) from &#39;password1&#39; to &#39;password2&#39; before JVM actually places the native OS system call to open the file. This would have allowed &#39;user1&#39; to open user2&#39;s password file. Understandably it would have resulted into a big security flaw in Java. I understand there are so many &#39;could have&#39;s here, but you would certainly agree that it would have opened a door to allow developers messing up the security of many resources either intentionally or un-intentionally.\r\n\r\nWith Strings being immutable, JVM can be sure that the filename instance member of the corresponding File object would keep pointing to same unchanged &quot;filename&quot; String object. The &#39;filename&#39; instance member being a &#39;final&#39; in the File class can anyway not be modified to point to any other String object specifying any other file than the intended one (i.e., the one which was used to create the File object).","title":"String POOL in java","body":"<p>the benifit of making string as immutable was for the security feature. Read below</p>\n\n<p>Why String has been made immutable in Java?</p>\n\n<p>Though, performance is also a reason (assuming you are already aware of the internal String pool maintained for making sure that the same String object is used more than once without having to create/re-claim it those many times), but the main reason why String has been made immutable in Java is 'Security'. Surprised? Let's understand why.</p>\n\n<p>Suppose you need to open a secure file which requires the users to authenticate themselves. Let's say there are two users named 'user1' and 'user2' and they have their own password files 'password1' and 'password2', respectively. Obviously 'user2' should not have access to 'password1' file.</p>\n\n<p>As we know the filenames in Java are specified by using Strings. Even if you create a 'File' object, you pass the name of the file as a String only and that String is maintained inside the File object as one of its members.</p>\n\n<p>Had String been mutable, 'user1' could have logged into using his credentials and then somehow could have managed to change the name of his password filename (a String object) from 'password1' to 'password2' before JVM actually places the native OS system call to open the file. This would have allowed 'user1' to open user2's password file. Understandably it would have resulted into a big security flaw in Java. I understand there are so many 'could have's here, but you would certainly agree that it would have opened a door to allow developers messing up the security of many resources either intentionally or un-intentionally.</p>\n\n<p>With Strings being immutable, JVM can be sure that the filename instance member of the corresponding File object would keep pointing to same unchanged \"filename\" String object. The 'filename' instance member being a 'final' in the File class can anyway not be modified to point to any other String object specifying any other file than the intended one (i.e., the one which was used to create the File object).</p>\n"},{"tags":[],"owner":{"account_id":18145107,"reputation":643,"user_id":13198513,"display_name":"Bogdan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676271072,"creation_date":1613428817,"answer_id":66216316,"question_id":8788143,"body_markdown":"&gt; What was the need to make String POOL?\r\n\r\nWhen created, a String object is stored in  heap, and the String literal, that is sent in the constructor, is stored in SP. Thats why using String objects is not a good practice. Becused it creates two objects.\r\n\r\n    String str = new String(&quot;stackoverflow&quot;);\r\n\r\nAbove str is saved in heap with the reference str, and String literal from the constructor -&quot;stackoverflow&quot; - is stored in String Pool. And that is bad for performance. Two objects are created.\r\n\r\nThe flow: Creating a String literal -&gt; JVM looks for the value in the String Pool as to find whether same value exists or not (no object to be returned) -&gt; The value is not find -&gt; The String literal is created  as a new object (internally with the new keyword) -&gt; But now is not sent to the heap , it is send instead in String Pool. \r\n\r\nThe difference consist where the object is created using new keyword. If it is created by the programmer, it send the object in the heap, directly, without delay. If it is created internally it is sent to String Poll. This is done by the method intern(). intern() is invoke internally when declaring a String literal. And this method is searching SP for identical value as to return the reference of an existing String object or/and to send the object to the SP. \r\n\r\nWhen creating a String obj with new, intern() is not invoked and the object is stored in heap. But you can call intern() on String obj&#39;s: String str = new String().intern(); now the str object will be stored in SP.\r\nex:\r\n\r\n    String s1 = new String(&quot;hello&quot;).intern();\r\n    String s2 = &quot;hello&quot;;\r\n    System.out.println(s1 == s2); // true , because now s1 is in SP","title":"String POOL in java","body":"<blockquote>\n<p>What was the need to make String POOL?</p>\n</blockquote>\n<p>When created, a String object is stored in  heap, and the String literal, that is sent in the constructor, is stored in SP. Thats why using String objects is not a good practice. Becused it creates two objects.</p>\n<pre><code>String str = new String(&quot;stackoverflow&quot;);\n</code></pre>\n<p>Above str is saved in heap with the reference str, and String literal from the constructor -&quot;stackoverflow&quot; - is stored in String Pool. And that is bad for performance. Two objects are created.</p>\n<p>The flow: Creating a String literal -&gt; JVM looks for the value in the String Pool as to find whether same value exists or not (no object to be returned) -&gt; The value is not find -&gt; The String literal is created  as a new object (internally with the new keyword) -&gt; But now is not sent to the heap , it is send instead in String Pool.</p>\n<p>The difference consist where the object is created using new keyword. If it is created by the programmer, it send the object in the heap, directly, without delay. If it is created internally it is sent to String Poll. This is done by the method intern(). intern() is invoke internally when declaring a String literal. And this method is searching SP for identical value as to return the reference of an existing String object or/and to send the object to the SP.</p>\n<p>When creating a String obj with new, intern() is not invoked and the object is stored in heap. But you can call intern() on String obj's: String str = new String().intern(); now the str object will be stored in SP.\nex:</p>\n<pre><code>String s1 = new String(&quot;hello&quot;).intern();\nString s2 = &quot;hello&quot;;\nSystem.out.println(s1 == s2); // true , because now s1 is in SP\n</code></pre>\n"}],"owner":{"account_id":400932,"reputation":2006,"user_id":767200,"accept_rate":61,"display_name":"Amol Ghotankar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4290,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":8788275,"answer_count":4,"score":11,"last_activity_date":1676271072,"creation_date":1326110644,"question_id":8788143,"body_markdown":"Java has string pool, due to which objects of string class are immutable.\r\n\r\nBut my question stands -\r\n\r\n**What was the need to make String POOL?**\r\n\r\nWhy string class was not kept like other class to hold its own values?\r\n\r\nIs internally JVM need some strings or is this a performance benefit. If yes how?\r\n\r\n","title":"String POOL in java","body":"<p>Java has string pool, due to which objects of string class are immutable.</p>\n\n<p>But my question stands -</p>\n\n<p><strong>What was the need to make String POOL?</strong></p>\n\n<p>Why string class was not kept like other class to hold its own values?</p>\n\n<p>Is internally JVM need some strings or is this a performance benefit. If yes how?</p>\n"},{"tags":["java","junit","assert"],"comments":[{"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"score":0,"creation_date":1270684571,"post_id":2596493,"comment_id":2605074,"body_markdown":"Why are you creating a new Thread in this test? I mean, why the h@$! would you want to create Threads in a unit test?","body":"Why are you creating a new Thread in this test? I mean, why the h@$! would you want to create Threads in a unit test?"},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1270685866,"post_id":2596493,"comment_id":2605159,"body_markdown":"@Cem I have a set of (initial) tests I&#39;m developing off of and one of them (attempts) to detect a race condition(the 3 lines I say to ignore become relevant for this discussion). Is there a better way to do race condition testing? Do I need to move to another tool for this kind of test?","body":"@Cem I have a set of (initial) tests I&#39;m developing off of and one of them (attempts) to detect a race condition(the 3 lines I say to ignore become relevant for this discussion). Is there a better way to do race condition testing? Do I need to move to another tool for this kind of test?"},{"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"score":0,"creation_date":1270694053,"post_id":2596493,"comment_id":2605691,"body_markdown":"You can&#39;t really test for race conditions with unit tests, especially  by creating threads to simulate situations.\n\nEven on this example you gave, you&#39;re checking that the counter better be 2 when the 2nd thread is running. Even though you create the threads in order they&#39;re not necessarily going to run at the same order. Also, the threads can get preempted between the time you call increment and get so there is already a race condition in your test. Every once in a blue moon it will pass or fail.\n\nUnit tests should be more deterministic that this.","body":"You can&#39;t really test for race conditions with unit tests, especially  by creating threads to simulate situations.  Even on this example you gave, you&#39;re checking that the counter better be 2 when the 2nd thread is running. Even though you create the threads in order they&#39;re not necessarily going to run at the same order. Also, the threads can get preempted between the time you call increment and get so there is already a race condition in your test. Every once in a blue moon it will pass or fail.  Unit tests should be more deterministic that this."},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":3,"creation_date":1270780580,"post_id":2596493,"comment_id":2614636,"body_markdown":"Granted the specific assertions were a little naive, but the unit tests are incredibly effective in catching a significant portion of race/contention issues for my specific situation.","body":"Granted the specific assertions were a little naive, but the unit tests are incredibly effective in catching a significant portion of race/contention issues for my specific situation."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1270683595,"post_id":2596530,"comment_id":2604998,"body_markdown":"*&quot;You should synchronize the threads correctly ...&quot;* in this example, the simple way is for the main thread to call `join()` on the child thread ... and get rid of the `sleep(5000)` call.","body":"<i>&quot;You should synchronize the threads correctly ...&quot;</i> in this example, the simple way is for the main thread to call <code>join()</code> on the child thread ... and get rid of the <code>sleep(5000)</code> call."},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1270685360,"post_id":2596530,"comment_id":2605126,"body_markdown":"The sleep call smelled a little, but I didn&#39;t dwell on it since it was unit test code, but I will most certainly use the correct way now that I know.","body":"The sleep call smelled a little, but I didn&#39;t dwell on it since it was unit test code, but I will most certainly use the correct way now that I know."},{"owner":{"account_id":165393,"reputation":1496,"user_id":388803,"display_name":"eregon"},"score":1,"creation_date":1522188603,"post_id":2596530,"comment_id":86052303,"body_markdown":"FWIW `exc` doesn&#39;t need to be volatile, since Thread.join() synchronizes the state of the joined thread with the joining thread.","body":"FWIW <code>exc</code> doesn&#39;t need to be volatile, since Thread.join() synchronizes the state of the joined thread with the joining thread."},{"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"score":1,"creation_date":1522327982,"post_id":2596530,"comment_id":86120621,"body_markdown":"@eregon: You are right. The happens-before relationship is well established with this data member. Fixed.","body":"@eregon: You are right. The happens-before relationship is well established with this data member. Fixed."}],"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":4,"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1676270740,"creation_date":1270681894,"answer_id":2596530,"question_id":2596493,"body_markdown":"The JUnit framework captures only assertion errors in the main thread running the test. It is not aware of exceptions from within new spawn threads. \r\nIn order to do it right, you should communicate the thread&#39;s termination state to the main thread. You should synchronize the threads correctly, and use some kind of shared variable to indicate the nested thread&#39;s outcome.\r\n\r\nEDIT:\r\n\r\nHere is a generic solution that can help:\r\n\r\n    class AsynchTester{\r\n    \tprivate Thread thread;\r\n    \tprivate AssertionError exc; \r\n    \r\n    \tpublic AsynchTester(final Runnable runnable){\r\n    \t\tthread = new Thread(() -&gt;\r\n    \t\t\t{\r\n    \t\t\t\ttry{\t\t\t\r\n    \t\t\t\t\trunnable.run();\r\n    \t\t\t\t}catch(AssertionError e) {\r\n    \t\t\t\t\texc = e;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t);\r\n    \t}\r\n    \t\r\n    \tpublic void start(){\r\n    \t\tthread.start();\r\n    \t}\r\n    \t\r\n    \tpublic void test() throws InterruptedException {\r\n    \t\tthread.join();\r\n    \t\tif (exc != null)\r\n    \t\t\tthrow exc;\r\n    \t}\r\n    }\r\n\r\nYou should pass it the runnable in the constructor, and then you simply call start() to activate, and test() to validate. The test method will wait if necessary, and will throw the assertion error in the main thread&#39;s context.","title":"junit assert in thread throws exception","body":"<p>The JUnit framework captures only assertion errors in the main thread running the test. It is not aware of exceptions from within new spawn threads.\nIn order to do it right, you should communicate the thread's termination state to the main thread. You should synchronize the threads correctly, and use some kind of shared variable to indicate the nested thread's outcome.</p>\n<p>EDIT:</p>\n<p>Here is a generic solution that can help:</p>\n<pre><code>class AsynchTester{\n    private Thread thread;\n    private AssertionError exc; \n\n    public AsynchTester(final Runnable runnable){\n        thread = new Thread(() -&gt;\n            {\n                try{            \n                    runnable.run();\n                }catch(AssertionError e) {\n                    exc = e;\n                }\n            }\n        );\n    }\n    \n    public void start(){\n        thread.start();\n    }\n    \n    public void test() throws InterruptedException {\n        thread.join();\n        if (exc != null)\n            throw exc;\n    }\n}\n</code></pre>\n<p>You should pass it the runnable in the constructor, and then you simply call start() to activate, and test() to validate. The test method will wait if necessary, and will throw the assertion error in the main thread's context.</p>\n"},{"tags":[],"owner":{"account_id":225930,"reputation":5037,"user_id":486688,"accept_rate":67,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1663697616,"creation_date":1288027639,"answer_id":4017201,"question_id":2596493,"body_markdown":"Where multiple worker threads are concerned, such as in the original question, simply joining one of them is not sufficient. Ideally, you&#39;ll want to wait for all worker threads to complete while still reporting assertion failures back to the main thread, such as in Eyal&#39;s answer.\r\n\r\nHere&#39;s a simple example of how to do this using my [ConcurrentUnit][1]:\r\n\r\n    public class MyTest extends ConcurrentTestCase {\r\n        @Test\r\n        public void testComplex() throws Throwable {\r\n            int loops = 10;\r\n            for (int i = 0; i &lt; loops; i++) {\r\n                new Thread(new Runnable() {\r\n                    public void run() {\r\n                        threadAssertEquals(1, 1);\r\n                        resume();\r\n                    }\r\n                }).start();\r\n            }\r\n\r\n            threadWait(100, loops); // Wait for 10 resume calls\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://github.com/jhalterman/concurrentunit","title":"junit assert in thread throws exception","body":"<p>Where multiple worker threads are concerned, such as in the original question, simply joining one of them is not sufficient. Ideally, you'll want to wait for all worker threads to complete while still reporting assertion failures back to the main thread, such as in Eyal's answer.</p>\n<p>Here's a simple example of how to do this using my <a href=\"http://github.com/jhalterman/concurrentunit\" rel=\"nofollow noreferrer\">ConcurrentUnit</a>:</p>\n<pre><code>public class MyTest extends ConcurrentTestCase {\n    @Test\n    public void testComplex() throws Throwable {\n        int loops = 10;\n        for (int i = 0; i &lt; loops; i++) {\n            new Thread(new Runnable() {\n                public void run() {\n                    threadAssertEquals(1, 1);\n                    resume();\n                }\n            }).start();\n        }\n\n        threadWait(100, loops); // Wait for 10 resume calls\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354658949,"creation_date":1354658949,"answer_id":13712829,"question_id":2596493,"body_markdown":"I ended up using this pattern it work with both Runnables and Threads. It is largely inspired from the answer of @Eyal Schneider:\r\n\r\n    private final class ThreadUnderTestWrapper extends ThreadUnderTest {\r\n        private Exception ex;\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                super.run();\r\n            } catch ( Exception ex ) {\r\n                this.ex = ex;\r\n            }\r\n        }\r\n\r\n        public Exception getException() throws InterruptedException {\r\n            super.join(); // use runner.join here if you use a runnable. \r\n            return ex;\r\n        }\r\n    }","title":"junit assert in thread throws exception","body":"<p>I ended up using this pattern it work with both Runnables and Threads. It is largely inspired from the answer of @Eyal Schneider:</p>\n\n<pre><code>private final class ThreadUnderTestWrapper extends ThreadUnderTest {\n    private Exception ex;\n\n    @Override\n    public void run() {\n        try {\n            super.run();\n        } catch ( Exception ex ) {\n            this.ex = ex;\n        }\n    }\n\n    public Exception getException() throws InterruptedException {\n        super.join(); // use runner.join here if you use a runnable. \n        return ex;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37431,"reputation":837,"user_id":107013,"accept_rate":80,"display_name":"MyKey_"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1479202237,"creation_date":1479200760,"answer_id":40605786,"question_id":2596493,"body_markdown":"A small improvement to [Eyal Schneider&#39;s answer](https://stackoverflow.com/a/2596530/107013):  \r\nThe [`ExecutorService`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html) allows to submit a `Callable` and any thrown Exceptions or Errors are rethrown by the returned `Future`.  \r\nConsequently, the test can be written as: \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Test\r\n    public void test() throws Exception {\r\n      ExecutorService es = Executors.newSingleThreadExecutor();\r\n      Future&lt;?&gt; future = es.submit(() -&gt; {\r\n        testSomethingThatMightThrowAssertionErrors();\r\n        return null;\r\n      });\r\n      \r\n      future.get(); // This will rethrow Exceptions and Errors as ExecutionException\r\n    }","title":"junit assert in thread throws exception","body":"<p>A small improvement to <a href=\"https://stackoverflow.com/a/2596530/107013\">Eyal Schneider's answer</a>:<br>\nThe <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\"><code>ExecutorService</code></a> allows to submit a <code>Callable</code> and any thrown Exceptions or Errors are rethrown by the returned <code>Future</code>.<br>\nConsequently, the test can be written as: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws Exception {\n  ExecutorService es = Executors.newSingleThreadExecutor();\n  Future&lt;?&gt; future = es.submit(() -&gt; {\n    testSomethingThatMightThrowAssertionErrors();\n    return null;\n  });\n\n  future.get(); // This will rethrow Exceptions and Errors as ExecutionException\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12999216,"reputation":11,"user_id":9395830,"display_name":"Riki Gomez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547216507,"creation_date":1547215733,"answer_id":54148162,"question_id":2596493,"body_markdown":"JUnit throws AssertionError that extends of Throwable, it has the same parent of Exception. You can catch the  fail assert of the thread, then save in a static field and finally check in the main thread if the other thread has failed some assert.\r\n\r\nFirst, create the static field\r\n\r\n    private volatile static Throwable excepcionTE = null;\r\n    \r\nSecond, wrap the asserts in a try/catch and catch AssertionError\r\n\r\n            try\r\n        {\r\n          assertTrue(&quot;&quot;, mensaje.contains(&quot;1234&quot;));\r\n        }\r\n        catch (AssertionError e)\r\n        {\r\n          excepcionTE = e;\r\n          throw e;\r\n        }\r\n\r\nAnd finally, check in the main thread that field\r\n\r\n     if (excepcionTE != null)\r\n    {\r\n      excepcionTE.printStackTrace();\r\n      fail(&quot;Se ha producido una excepcion en el servidor TE: &quot;\r\n          + excepcionTE.getMessage());\r\n    }\r\n\r\n","title":"junit assert in thread throws exception","body":"<p>JUnit throws AssertionError that extends of Throwable, it has the same parent of Exception. You can catch the  fail assert of the thread, then save in a static field and finally check in the main thread if the other thread has failed some assert.</p>\n\n<p>First, create the static field</p>\n\n<pre><code>private volatile static Throwable excepcionTE = null;\n</code></pre>\n\n<p>Second, wrap the asserts in a try/catch and catch AssertionError</p>\n\n<pre><code>        try\n    {\n      assertTrue(\"\", mensaje.contains(\"1234\"));\n    }\n    catch (AssertionError e)\n    {\n      excepcionTE = e;\n      throw e;\n    }\n</code></pre>\n\n<p>And finally, check in the main thread that field</p>\n\n<pre><code> if (excepcionTE != null)\n{\n  excepcionTE.printStackTrace();\n  fail(\"Se ha producido una excepcion en el servidor TE: \"\n      + excepcionTE.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370361,"reputation":4141,"user_id":1305745,"accept_rate":89,"display_name":"cavpollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675613825,"creation_date":1675613825,"answer_id":75353724,"question_id":2596493,"body_markdown":"I was looking for a simple and readable solution. Inspired by Eyal Schneider and Riki Gomez&#39;s answer, I&#39;ve come up with this:\r\n\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n\r\n    public class ThreadExceptionTest {\r\n        private static Throwable failedThreadException;\r\n    \r\n        @BeforeEach\r\n        public void setup() {\r\n            failedThreadException = null;\r\n        }\r\n\r\n        @Test\r\n        public void threadTest() {\r\n            final Thread thread = new Thread(() -&gt; codeThatMayFail(...));\r\n\r\n            thread.start();\r\n\r\n            // We have to join before we check for exceptions, \r\n            //   otherwise we might check before the Thread even finished.\r\n            thread.join();\r\n\r\n            if (failedThreadException != null) {\r\n                fail(&quot;The thread failed with an exception&quot;, failedThreadException);\r\n            }\r\n        }\r\n    \r\n        private void codeThatMayFail(...) {\r\n            try {\r\n                // Code that may throw the exception\r\n                // ...\r\n            } catch (Exception e) {\r\n                failedThreadException = e;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSo, you can achieve the desired result with the help of a `static` variable. The thread runs as usual, and all you have to do is store the exception you are interested in on the `static` variable. Just don&#39;t forget to reset its value to `null` before every test, or you may run into trouble on subsequent tests on the same Class.\r\n\r\n**Final note:** If you are planning on running multiple Threads on the same test, and it is expected for them to run the same blocks of code simultaneously, I would advice to make the `static` variable `volatile` so that updates to the variable propagate predictably to other threads:\r\n\r\n    private volatile static Throwable failedThreadException;","title":"junit assert in thread throws exception","body":"<p>I was looking for a simple and readable solution. Inspired by Eyal Schneider and Riki Gomez's answer, I've come up with this:</p>\n<pre><code>import org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\n\npublic class ThreadExceptionTest {\n    private static Throwable failedThreadException;\n\n    @BeforeEach\n    public void setup() {\n        failedThreadException = null;\n    }\n\n    @Test\n    public void threadTest() {\n        final Thread thread = new Thread(() -&gt; codeThatMayFail(...));\n\n        thread.start();\n\n        // We have to join before we check for exceptions, \n        //   otherwise we might check before the Thread even finished.\n        thread.join();\n\n        if (failedThreadException != null) {\n            fail(&quot;The thread failed with an exception&quot;, failedThreadException);\n        }\n    }\n\n    private void codeThatMayFail(...) {\n        try {\n            // Code that may throw the exception\n            // ...\n        } catch (Exception e) {\n            failedThreadException = e;\n        }\n    }\n}\n</code></pre>\n<p>So, you can achieve the desired result with the help of a <code>static</code> variable. The thread runs as usual, and all you have to do is store the exception you are interested in on the <code>static</code> variable. Just don't forget to reset its value to <code>null</code> before every test, or you may run into trouble on subsequent tests on the same Class.</p>\n<p><strong>Final note:</strong> If you are planning on running multiple Threads on the same test, and it is expected for them to run the same blocks of code simultaneously, I would advice to make the <code>static</code> variable <code>volatile</code> so that updates to the variable propagate predictably to other threads:</p>\n<pre><code>private volatile static Throwable failedThreadException;\n</code></pre>\n"}],"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28708,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":2596530,"answer_count":6,"score":30,"last_activity_date":1676270740,"creation_date":1270681368,"question_id":2596493,"body_markdown":"What am I doing wrong that an exception is thrown instead of showing a failure, or should I not have assertions inside threads?\r\n\r\n     @Test\r\n     public void testComplex() throws InterruptedException {\r\n      int loops = 10;\r\n      for (int i = 0; i &lt; loops; i++) {\r\n       final int j = i;\r\n       new Thread() {\r\n        @Override\r\n        public void run() {\r\n         ApiProxy.setEnvironmentForCurrentThread(env);//ignore this\r\n         new CounterFactory().getCounter(&quot;test&quot;).increment();//ignore this too\r\n         int count2 = new CounterFactory().getCounter(&quot;test&quot;).getCount();//ignore\r\n         assertEquals(j, count2);//here be exceptions thrown. this is line 75\r\n        }\r\n       }.start();\r\n      }\r\n      Thread.sleep(5 * 1000);\r\n      assertEquals(loops, new CounterFactory().getCounter(&quot;test&quot;).getCount());\r\n    }\r\n\r\n\r\nStackTrace\r\n\r\n    Exception in thread &quot;Thread-26&quot; junit.framework.AssertionFailedError: expected:&lt;5&gt; but was:&lt;6&gt;\r\n    \tat junit.framework.Assert.fail(Assert.java:47)\r\n    \tat junit.framework.Assert.failNotEquals(Assert.java:277)\r\n    \tat junit.framework.Assert.assertEquals(Assert.java:64)\r\n    \tat junit.framework.Assert.assertEquals(Assert.java:195)\r\n    \tat junit.framework.Assert.assertEquals(Assert.java:201)\r\n    \tat com.bitdual.server.dao.ShardedCounterTest$3.run(ShardedCounterTest.java:77)","title":"junit assert in thread throws exception","body":"<p>What am I doing wrong that an exception is thrown instead of showing a failure, or should I not have assertions inside threads?</p>\n\n<pre><code> @Test\n public void testComplex() throws InterruptedException {\n  int loops = 10;\n  for (int i = 0; i &lt; loops; i++) {\n   final int j = i;\n   new Thread() {\n    @Override\n    public void run() {\n     ApiProxy.setEnvironmentForCurrentThread(env);//ignore this\n     new CounterFactory().getCounter(\"test\").increment();//ignore this too\n     int count2 = new CounterFactory().getCounter(\"test\").getCount();//ignore\n     assertEquals(j, count2);//here be exceptions thrown. this is line 75\n    }\n   }.start();\n  }\n  Thread.sleep(5 * 1000);\n  assertEquals(loops, new CounterFactory().getCounter(\"test\").getCount());\n}\n</code></pre>\n\n<p>StackTrace</p>\n\n<pre><code>Exception in thread \"Thread-26\" junit.framework.AssertionFailedError: expected:&lt;5&gt; but was:&lt;6&gt;\n    at junit.framework.Assert.fail(Assert.java:47)\n    at junit.framework.Assert.failNotEquals(Assert.java:277)\n    at junit.framework.Assert.assertEquals(Assert.java:64)\n    at junit.framework.Assert.assertEquals(Assert.java:195)\n    at junit.framework.Assert.assertEquals(Assert.java:201)\n    at com.bitdual.server.dao.ShardedCounterTest$3.run(ShardedCounterTest.java:77)\n</code></pre>\n"},{"tags":["java","apigee"],"answers":[{"comments":[{"owner":{"account_id":1263581,"reputation":615,"user_id":1221358,"accept_rate":69,"display_name":"diaryfolio"},"score":1,"creation_date":1676472888,"post_id":75432517,"comment_id":133143856,"body_markdown":"thank you. I did find in the same place and found that the password had bad character created to an UTF-8 issue","body":"thank you. I did find in the same place and found that the password had bad character created to an UTF-8 issue"}],"tags":[],"owner":{"account_id":18676685,"reputation":527,"user_id":21196122,"display_name":"Robina Mirbahar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676269813,"creation_date":1676269813,"answer_id":75432517,"question_id":75332708,"body_markdown":"The above error shows the password is passed as a &quot;&quot;/etc&quot; instead of a numerical value, the system is unable to parse it as an integer.\r\n\r\nFor the Message Processor service, SSL key password configuration is failing it is used as an integer. check the SSL key password configuration in the **/opt/apigee/edge-message-processor/conf** directory.\r\n","title":"Apigee edge-message-processor Error while starting up","body":"<p>The above error shows the password is passed as a &quot;&quot;/etc&quot; instead of a numerical value, the system is unable to parse it as an integer.</p>\n<p>For the Message Processor service, SSL key password configuration is failing it is used as an integer. check the SSL key password configuration in the <strong>/opt/apigee/edge-message-processor/conf</strong> directory.</p>\n"}],"owner":{"account_id":1263581,"reputation":615,"user_id":1221358,"accept_rate":69,"display_name":"diaryfolio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75432517,"answer_count":1,"score":1,"last_activity_date":1676269813,"creation_date":1675409458,"question_id":75332708,"body_markdown":"We are trying to deploy APIGEE in a 5 node model and all other components seems correct except  `edge-message-processor-4.50.00-0.0`\r\nThe configs are standard and stored in `/opt/apigee/edge-message-processor/conf`\r\n\r\nThe error shows as below\r\n\r\n```\r\n2023-02-03 07:19:04,028  main ERROR KERNEL.DEPLOYMENT - ServiceDeployer.startService() : ServiceDeployer.deploy() : Got a life cycle exception while starting service [MessageProcessorService, For input string: &quot;/etc&quot;] : {}\r\njava.lang.NumberFormatException: For input string: &quot;/etc&quot;\r\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.lang.Integer.parseInt(Integer.java:569)\r\n        at org.eclipse.jetty.util.security.Password.deobfuscate(Password.java:191)\r\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.getSslKeyPassword(MessageProcessorServiceImpl.java:618)\r\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.registerHttpServer(MessageProcessorServiceImpl.java:510)\r\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.start(MessageProcessorServiceImpl.java:271)\r\n        at com.apigee.kernel.service.deployment.ServiceDeployer.startService(ServiceDeployer.java:210)\r\n        at com.apigee.kernel.service.deployment.ServiceDeployer.deploy(ServiceDeployer.java:77)\r\n        at com.apigee.kernel.MicroKernel.deployAll(MicroKernel.java:244)\r\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:157)\r\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:152)\r\n        at com.apigee.kernel.MicroKernel.main(MicroKernel.java:101)\r\n2023-02-03 07:19:04,032  main ERROR KERNEL - MicroKernel.deployAll() : MicroKernel.deployAll() : Error in deploying the deployment : MessageProcessorService\r\ncom.apigee.kernel.exceptions.spi.UncheckedException: Starting of Service MessageProcessorService failed unexpectedly\r\n        at com.apigee.kernel.service.deployment.ServiceDeployer.getUncheckedException(ServiceDeployer.java:236)\r\n        at com.apigee.kernel.service.deployment.ServiceDeployer.startService(ServiceDeployer.java:219)\r\n        at com.apigee.kernel.service.deployment.ServiceDeployer.deploy(ServiceDeployer.java:77)\r\n        at com.apigee.kernel.MicroKernel.deployAll(MicroKernel.java:244)\r\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:157)\r\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:152)\r\n        at com.apigee.kernel.MicroKernel.main(MicroKernel.java:101)\r\nCaused by: java.lang.NumberFormatException: For input string: &quot;/etc&quot;\r\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.lang.Integer.parseInt(Integer.java:569)\r\n        at org.eclipse.jetty.util.security.Password.deobfuscate(Password.java:191)\r\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.getSslKeyPassword(MessageProcessorServiceImpl.java:618)\r\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.registerHttpServer(MessageProcessorServiceImpl.java:510)\r\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.start(MessageProcessorServiceImpl.java:271)\r\n        at com.apigee.kernel.service.deployment.ServiceDeployer.startService(ServiceDeployer.java:210)\r\n        ... 5 common frames omitted\r\n2023-02-03 07:19:04,033  Thread-1 INFO  KERNEL - ShutdownHook.run() : ShutdownHook.run : System shutdown in progress...\r\n```\r\n\r\nOther info\r\n```\r\n&gt;&gt; echo $PATH\r\n/usr/lib/jvm/jre/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/apigee/apigee-adminapi-4.50.00-0.0.604/bin:/opt/apigee/apigee-service/bin:/root/bin\r\n\r\n\r\n&gt;&gt; cat /opt/apigee/etc/defaults.sh\r\n\r\nJAVA_HOME=/usr/lib/jvm/jre\r\nexport JAVA_HOME\r\nPATH=$JAVA_HOME/bin:$PATH\r\nMIN_PASSWORD_LENGTH=8\r\nJVM_OPTS=&quot;$JVM_OPTS -Djava.rmi.server.hostname=ip-10-164-156-123.eu-west-1.compute.internal&quot;\r\n```\r\n\r\nAnyone have seen similar errors?","title":"Apigee edge-message-processor Error while starting up","body":"<p>We are trying to deploy APIGEE in a 5 node model and all other components seems correct except  <code>edge-message-processor-4.50.00-0.0</code>\nThe configs are standard and stored in <code>/opt/apigee/edge-message-processor/conf</code></p>\n<p>The error shows as below</p>\n<pre><code>2023-02-03 07:19:04,028  main ERROR KERNEL.DEPLOYMENT - ServiceDeployer.startService() : ServiceDeployer.deploy() : Got a life cycle exception while starting service [MessageProcessorService, For input string: &quot;/etc&quot;] : {}\njava.lang.NumberFormatException: For input string: &quot;/etc&quot;\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.lang.Integer.parseInt(Integer.java:569)\n        at org.eclipse.jetty.util.security.Password.deobfuscate(Password.java:191)\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.getSslKeyPassword(MessageProcessorServiceImpl.java:618)\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.registerHttpServer(MessageProcessorServiceImpl.java:510)\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.start(MessageProcessorServiceImpl.java:271)\n        at com.apigee.kernel.service.deployment.ServiceDeployer.startService(ServiceDeployer.java:210)\n        at com.apigee.kernel.service.deployment.ServiceDeployer.deploy(ServiceDeployer.java:77)\n        at com.apigee.kernel.MicroKernel.deployAll(MicroKernel.java:244)\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:157)\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:152)\n        at com.apigee.kernel.MicroKernel.main(MicroKernel.java:101)\n2023-02-03 07:19:04,032  main ERROR KERNEL - MicroKernel.deployAll() : MicroKernel.deployAll() : Error in deploying the deployment : MessageProcessorService\ncom.apigee.kernel.exceptions.spi.UncheckedException: Starting of Service MessageProcessorService failed unexpectedly\n        at com.apigee.kernel.service.deployment.ServiceDeployer.getUncheckedException(ServiceDeployer.java:236)\n        at com.apigee.kernel.service.deployment.ServiceDeployer.startService(ServiceDeployer.java:219)\n        at com.apigee.kernel.service.deployment.ServiceDeployer.deploy(ServiceDeployer.java:77)\n        at com.apigee.kernel.MicroKernel.deployAll(MicroKernel.java:244)\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:157)\n        at com.apigee.kernel.MicroKernel.start(MicroKernel.java:152)\n        at com.apigee.kernel.MicroKernel.main(MicroKernel.java:101)\nCaused by: java.lang.NumberFormatException: For input string: &quot;/etc&quot;\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.lang.Integer.parseInt(Integer.java:569)\n        at org.eclipse.jetty.util.security.Password.deobfuscate(Password.java:191)\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.getSslKeyPassword(MessageProcessorServiceImpl.java:618)\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.registerHttpServer(MessageProcessorServiceImpl.java:510)\n        at com.apigee.messaging.configuration.MessageProcessorServiceImpl.start(MessageProcessorServiceImpl.java:271)\n        at com.apigee.kernel.service.deployment.ServiceDeployer.startService(ServiceDeployer.java:210)\n        ... 5 common frames omitted\n2023-02-03 07:19:04,033  Thread-1 INFO  KERNEL - ShutdownHook.run() : ShutdownHook.run : System shutdown in progress...\n</code></pre>\n<p>Other info</p>\n<pre><code>&gt;&gt; echo $PATH\n/usr/lib/jvm/jre/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/apigee/apigee-adminapi-4.50.00-0.0.604/bin:/opt/apigee/apigee-service/bin:/root/bin\n\n\n&gt;&gt; cat /opt/apigee/etc/defaults.sh\n\nJAVA_HOME=/usr/lib/jvm/jre\nexport JAVA_HOME\nPATH=$JAVA_HOME/bin:$PATH\nMIN_PASSWORD_LENGTH=8\nJVM_OPTS=&quot;$JVM_OPTS -Djava.rmi.server.hostname=ip-10-164-156-123.eu-west-1.compute.internal&quot;\n</code></pre>\n<p>Anyone have seen similar errors?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":3,"creation_date":1676260473,"post_id":75431738,"comment_id":133095029,"body_markdown":"how about adding configuration annotation to MyServiceFactory class ?","body":"how about adding configuration annotation to MyServiceFactory class ?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676279466,"post_id":75431738,"comment_id":133098169,"body_markdown":"Why not add `@Service` and/or `@Component` to the factory? Then you don&#39;t need to use XML config.","body":"Why not add <code>@Service</code> and/or <code>@Component</code> to the factory? Then you don&#39;t need to use XML config."}],"answers":[{"tags":[],"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676269241,"creation_date":1676269241,"answer_id":75432452,"question_id":75431738,"body_markdown":"you can do like this without adding the xml coding.  \r\n\r\n```java\r\n@Configuration\r\npublic class MyServiceFactory {\r\n\r\n    @Bean\r\n    MyService myService() {\r\n        return new MyService() {\r\n                @Override\r\n                public void doSomething() {\r\n                    \r\n                }\r\n            }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Controller\r\npublic class MyController {\r\n    @Autowired\r\n    private MyService myService;\r\n\r\n    public void execute() {\r\n        myService.doSomething();\r\n    }\r\n}\r\n```","title":"Does SpringBoot have some mechanism to simplify factory injection?","body":"<p>you can do like this without adding the xml coding.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyServiceFactory {\n\n    @Bean\n    MyService myService() {\n        return new MyService() {\n                @Override\n                public void doSomething() {\n                    \n                }\n            }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MyController {\n    @Autowired\n    private MyService myService;\n\n    public void execute() {\n        myService.doSomething();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20401440,"reputation":1,"user_id":14967070,"display_name":"amit kumar Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676269362,"creation_date":1676269362,"answer_id":75432469,"question_id":75431738,"body_markdown":"You can manually ask Spring to Autowire it.\r\n\r\nHave your factory implement ApplicationContextAware. Then provide the following implementation in your factory:`@Override\r\n    public void setApplicationContext(final ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }`\r\n\r\nand then do the following after creating your bean:\r\n\r\n    YourBean bean = new YourBean();\r\n    applicationContext.getAutowireCapableBeanFactory().autowireBean(bean);\r\n    bean.init(); //If it has an init() method.","title":"Does SpringBoot have some mechanism to simplify factory injection?","body":"<p>You can manually ask Spring to Autowire it.</p>\n<p>Have your factory implement ApplicationContextAware. Then provide the following implementation in your factory:<code>@Override public void setApplicationContext(final ApplicationContext applicationContext) { this.applicationContext = applicationContext; }</code></p>\n<p>and then do the following after creating your bean:</p>\n<pre><code>YourBean bean = new YourBean();\napplicationContext.getAutowireCapableBeanFactory().autowireBean(bean);\nbean.init(); //If it has an init() method.\n</code></pre>\n"}],"owner":{"account_id":27770432,"reputation":3,"user_id":21200796,"display_name":"Selene"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75432452,"answer_count":2,"score":0,"last_activity_date":1676269362,"creation_date":1676259759,"question_id":75431738,"body_markdown":"Factory injection in Spring\r\n```\r\n//XML\r\n&lt;bean id=&quot;bar&quot; factory-bean=&quot;barFactory&quot; factory-method=&quot;getInstance&quot;/&gt;\r\n//Java\r\n\r\n```\r\n\r\nHow do you do dependency injection with only interfaces and factory classes and no configuration classes ？\r\n\r\n\r\n```\r\n//Service\r\npublic interface MyService {\r\n    void doSomething();\r\n}\r\n\r\n//ServiceFactory\r\npublic class MyServiceFactory {\r\n    MyService getInstance() {\r\n        //...\r\n    }\r\n}\r\n\r\n//Controller\r\n@Controller\r\npublic class MyController {\r\n    @Autowired\r\n    private MyService myService;\r\n}\r\n```\r\n","title":"Does SpringBoot have some mechanism to simplify factory injection?","body":"<p>Factory injection in Spring</p>\n<pre><code>//XML\n&lt;bean id=&quot;bar&quot; factory-bean=&quot;barFactory&quot; factory-method=&quot;getInstance&quot;/&gt;\n//Java\n\n</code></pre>\n<p>How do you do dependency injection with only interfaces and factory classes and no configuration classes ？</p>\n<pre><code>//Service\npublic interface MyService {\n    void doSomething();\n}\n\n//ServiceFactory\npublic class MyServiceFactory {\n    MyService getInstance() {\n        //...\n    }\n}\n\n//Controller\n@Controller\npublic class MyController {\n    @Autowired\n    private MyService myService;\n}\n</code></pre>\n"},{"tags":["java","spring","asynchronous","tomcat","completable-future"],"owner":{"account_id":14760861,"reputation":31,"user_id":10660224,"display_name":"genzr"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1676305336,"answer_count":0,"score":3,"last_activity_date":1676269313,"creation_date":1676265050,"question_id":75432080,"body_markdown":"As I understand it, it is somewhat common practice in API development to return a CompletableFuture as a response type to an API request in situations where the requests could take quite some time to process. \r\n\r\nHanding off to ForkJoinPool threads, for example, would be done in order to free up request handling threads that would otherwise be blocked for the full duration of the request, allowing them to continue servicing more requests. \r\n\r\nConsider this example:\r\n\r\n    @GetMapping(&quot;/hello-world&quot;)\r\n    public CompletableFuture&lt;String&gt; helloWorld() {\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n            //take 5 seconds to respond with Hello World\r\n            try {\r\n                Thread.sleep(5000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;Hello World&quot;;\r\n        });     \r\n    }\r\n\r\nA tomcat request processing thread would handle the request and respond with the CompletableFuture. However, a ForkJoinPool thread would be responsible for handling the processing of the CompletableFuture itself.\r\n\r\nFrom the client&#39;s perspective, the request to retrieve the String &quot;Hello World&quot; is &#39;pending&#39; and then finally resolves after 5 seconds... But the response does indeed contain the String &quot;Hello World&quot;.\r\n\r\nI was expecting the response to the client to be immediate *without* the resolved &quot;Hello World&quot; string seeing as the CompletableFuture was returned immediately by the request processing thread. \r\n\r\nAs I understand it, the request processing thread was released almost immediately. So, How and what is responsible for getting the String &quot;Hello World&quot; back to the client? Is it the ForkJoinPool thread?\r\n\r\nThere must be some HTTP protocol magic to keep the connection between the client and the server active until the ForkJoinPool thread finally resolves the CompletableFuture?\r\n\r\nWhat am I missing in my understanding... Please learn me in the ways of async programming...","title":"When returning CompletableFuture in an API request. How and what actually returns the result of the CompletableFuture to the client?","body":"<p>As I understand it, it is somewhat common practice in API development to return a CompletableFuture as a response type to an API request in situations where the requests could take quite some time to process.</p>\n<p>Handing off to ForkJoinPool threads, for example, would be done in order to free up request handling threads that would otherwise be blocked for the full duration of the request, allowing them to continue servicing more requests.</p>\n<p>Consider this example:</p>\n<pre><code>@GetMapping(&quot;/hello-world&quot;)\npublic CompletableFuture&lt;String&gt; helloWorld() {\n    return CompletableFuture.supplyAsync(() -&gt; {\n        //take 5 seconds to respond with Hello World\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        return &quot;Hello World&quot;;\n    });     \n}\n</code></pre>\n<p>A tomcat request processing thread would handle the request and respond with the CompletableFuture. However, a ForkJoinPool thread would be responsible for handling the processing of the CompletableFuture itself.</p>\n<p>From the client's perspective, the request to retrieve the String &quot;Hello World&quot; is 'pending' and then finally resolves after 5 seconds... But the response does indeed contain the String &quot;Hello World&quot;.</p>\n<p>I was expecting the response to the client to be immediate <em>without</em> the resolved &quot;Hello World&quot; string seeing as the CompletableFuture was returned immediately by the request processing thread.</p>\n<p>As I understand it, the request processing thread was released almost immediately. So, How and what is responsible for getting the String &quot;Hello World&quot; back to the client? Is it the ForkJoinPool thread?</p>\n<p>There must be some HTTP protocol magic to keep the connection between the client and the server active until the ForkJoinPool thread finally resolves the CompletableFuture?</p>\n<p>What am I missing in my understanding... Please learn me in the ways of async programming...</p>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1676298185,"post_id":75432458,"comment_id":133103474,"body_markdown":"Thanks @Koedit (+1) for an amazing answer -- one last quick followup question, all the examples I see finish up by running a `JavaRDD#collect` -- is that typically the final method called prior to closing down the Spar context (`ctx.stop()`)? I assume its the final call to all the executors/workers to send back their results for aggregating on the Driver-side? Thanks again!","body":"Thanks @Koedit (+1) for an amazing answer -- one last quick followup question, all the examples I see finish up by running a <code>JavaRDD#collect</code> -- is that typically the final method called prior to closing down the Spar context (<code>ctx.stop()</code>)? I assume its the final call to all the executors/workers to send back their results for aggregating on the Driver-side? Thanks again!"},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1676318300,"post_id":75432458,"comment_id":133109713,"body_markdown":"You&#39;re welcome! Calling `collect` on an RDD is not necessarily the typical operation to end on. In fact, doing this on actually big datasets will be problematic. Calling `collect` will send all the data that is distributed in the executors onto the driver, in a non-distributed object. Very often you can get out-of-memory errors in your driver after calling `collect`. Everything is dependent on the use case, but I would definitely not say that ending with `collect` is a typical way to end your code with.","body":"You&#39;re welcome! Calling <code>collect</code> on an RDD is not necessarily the typical operation to end on. In fact, doing this on actually big datasets will be problematic. Calling <code>collect</code> will send all the data that is distributed in the executors onto the driver, in a non-distributed object. Very often you can get out-of-memory errors in your driver after calling <code>collect</code>. Everything is dependent on the use case, but I would definitely not say that ending with <code>collect</code> is a typical way to end your code with."}],"tags":[],"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676269281,"creation_date":1676269281,"answer_id":75432458,"question_id":75431046,"body_markdown":"In general, the lines of Spark code that you write are not executed line-by-line by Spark.\r\n\r\nBefore actually executing this code, Spark turns it into an execution plan with something called the [Catalyst Optimizer][1]. This will also make a bunch of optimizations, for example:\r\n\r\n- predicate pushdown of filters\r\n- rewriting joins more efficiently\r\n- adding necessary filters for operations not to fail\r\n- removing unnecessary operations (for example removing a sort operation if the max nr. of rows is 1)\r\n- ...\r\n\r\nThis means that you can&#39;t exactly reason about code in the same way as with classically compiled/interpreted code: your code will get rewritten/optimized by  the Catalyst optimizer.\r\n\r\nBut still, it can help to think about your lines of code in the way that your question is asked. So I&#39;ll give you a very rough answer. In general:\r\n\r\n- Driver:\r\n  - Keeps track of the execution of your whole program.\r\n  - Non distributed tasks happen on here: creating your spark context, keeping track of for loops, ...\r\n  - Will send over tasks to each executor for distributed operations\r\n- Executor:\r\n  - Distributed operations happen on here: Any kind of Spark transformation on RDDs/Dataframes/Datasets like `map`, `flatMap`, `filter`, `join`, ... The driver does send tasks to each executor to do these operations (so in a sense there is some activity on the driver even for these operations)\r\n- Both:\r\n  - Spark actions. These are operations where you ask for some result of a calculation on distributed datasets (RDDs, Dataframes, Datasets) to go back to the driver. For example: `collect`, `count`, `take`, `show`, ... In your case, the result of `collect` ends up back on the driver.\r\n\r\nSo, you could say (but it would not be entirely correct, remember that a bunch of optimizations happen) that:\r\n- All your code until `ctx` instantiation happens on the driver.\r\n- Then, all the RDD operations happen on the driver/executor (driver send tasks to executors and executors do the work).\r\n- Then, when you do your `collect`, the executors send over all of the data to the driver.\r\n- From then on, the rest happens on the driver\r\n\r\n\r\n  [1]: https://www.databricks.com/glossary/catalyst-optimizer","title":"Understanding Spark code flow execution across driver and cluster","body":"<p>In general, the lines of Spark code that you write are not executed line-by-line by Spark.</p>\n<p>Before actually executing this code, Spark turns it into an execution plan with something called the <a href=\"https://www.databricks.com/glossary/catalyst-optimizer\" rel=\"nofollow noreferrer\">Catalyst Optimizer</a>. This will also make a bunch of optimizations, for example:</p>\n<ul>\n<li>predicate pushdown of filters</li>\n<li>rewriting joins more efficiently</li>\n<li>adding necessary filters for operations not to fail</li>\n<li>removing unnecessary operations (for example removing a sort operation if the max nr. of rows is 1)</li>\n<li>...</li>\n</ul>\n<p>This means that you can't exactly reason about code in the same way as with classically compiled/interpreted code: your code will get rewritten/optimized by  the Catalyst optimizer.</p>\n<p>But still, it can help to think about your lines of code in the way that your question is asked. So I'll give you a very rough answer. In general:</p>\n<ul>\n<li>Driver:\n<ul>\n<li>Keeps track of the execution of your whole program.</li>\n<li>Non distributed tasks happen on here: creating your spark context, keeping track of for loops, ...</li>\n<li>Will send over tasks to each executor for distributed operations</li>\n</ul>\n</li>\n<li>Executor:\n<ul>\n<li>Distributed operations happen on here: Any kind of Spark transformation on RDDs/Dataframes/Datasets like <code>map</code>, <code>flatMap</code>, <code>filter</code>, <code>join</code>, ... The driver does send tasks to each executor to do these operations (so in a sense there is some activity on the driver even for these operations)</li>\n</ul>\n</li>\n<li>Both:\n<ul>\n<li>Spark actions. These are operations where you ask for some result of a calculation on distributed datasets (RDDs, Dataframes, Datasets) to go back to the driver. For example: <code>collect</code>, <code>count</code>, <code>take</code>, <code>show</code>, ... In your case, the result of <code>collect</code> ends up back on the driver.</li>\n</ul>\n</li>\n</ul>\n<p>So, you could say (but it would not be entirely correct, remember that a bunch of optimizations happen) that:</p>\n<ul>\n<li>All your code until <code>ctx</code> instantiation happens on the driver.</li>\n<li>Then, all the RDD operations happen on the driver/executor (driver send tasks to executors and executors do the work).</li>\n<li>Then, when you do your <code>collect</code>, the executors send over all of the data to the driver.</li>\n<li>From then on, the rest happens on the driver</li>\n</ul>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75432458,"answer_count":1,"score":0,"last_activity_date":1676269281,"creation_date":1676248155,"question_id":75431046,"body_markdown":"Learning Apache Spark (Java API) and trying to understand what code executes on the Driver versus what code executes on the remote Spark Cluster.\r\n\r\nGiven the following code snippet from [this Baeldung article](https://www.baeldung.com/apache-spark):\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    if (args.length &lt; 1) {\r\n        System.err.println(&quot;Usage: JavaWordCount &lt;file&gt;&quot;);\r\n        System.exit(1);\r\n    }\r\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;JavaWordCount&quot;);\r\n    JavaSparkContext ctx = new JavaSparkContext(sparkConf);\r\n    JavaRDD&lt;String&gt; lines = ctx.textFile(args[0], 1);\r\n\r\n    JavaRDD&lt;String&gt; words \r\n      = lines.flatMap(s -&gt; Arrays.asList(SPACE.split(s)).iterator());\r\n    JavaPairRDD&lt;String, Integer&gt; ones \r\n      = words.mapToPair(word -&gt; new Tuple2&lt;&gt;(word, 1));\r\n    JavaPairRDD&lt;String, Integer&gt; counts \r\n      = ones.reduceByKey((Integer i1, Integer i2) -&gt; i1 + i2);\r\n\r\n    List&lt;Tuple2&lt;String, Integer&gt;&gt; output = counts.collect();\r\n    for (Tuple2&lt;?, ?&gt; tuple : output) {\r\n        System.out.println(tuple._1() + &quot;: &quot; + tuple._2());\r\n    }\r\n    ctx.stop();\r\n}\r\n```\r\n\r\nIs everything in between the `ctx` instantiation to the `ctx.stop()` somehow _ported_ over from the Driver&#39;s JVM to the Spark cluster? Or just all the `JavaRDD` operations?","title":"Understanding Spark code flow execution across driver and cluster","body":"<p>Learning Apache Spark (Java API) and trying to understand what code executes on the Driver versus what code executes on the remote Spark Cluster.</p>\n<p>Given the following code snippet from <a href=\"https://www.baeldung.com/apache-spark\" rel=\"nofollow noreferrer\">this Baeldung article</a>:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    if (args.length &lt; 1) {\n        System.err.println(&quot;Usage: JavaWordCount &lt;file&gt;&quot;);\n        System.exit(1);\n    }\n    SparkConf sparkConf = new SparkConf().setAppName(&quot;JavaWordCount&quot;);\n    JavaSparkContext ctx = new JavaSparkContext(sparkConf);\n    JavaRDD&lt;String&gt; lines = ctx.textFile(args[0], 1);\n\n    JavaRDD&lt;String&gt; words \n      = lines.flatMap(s -&gt; Arrays.asList(SPACE.split(s)).iterator());\n    JavaPairRDD&lt;String, Integer&gt; ones \n      = words.mapToPair(word -&gt; new Tuple2&lt;&gt;(word, 1));\n    JavaPairRDD&lt;String, Integer&gt; counts \n      = ones.reduceByKey((Integer i1, Integer i2) -&gt; i1 + i2);\n\n    List&lt;Tuple2&lt;String, Integer&gt;&gt; output = counts.collect();\n    for (Tuple2&lt;?, ?&gt; tuple : output) {\n        System.out.println(tuple._1() + &quot;: &quot; + tuple._2());\n    }\n    ctx.stop();\n}\n</code></pre>\n<p>Is everything in between the <code>ctx</code> instantiation to the <code>ctx.stop()</code> somehow <em>ported</em> over from the Driver's JVM to the Spark cluster? Or just all the <code>JavaRDD</code> operations?</p>\n"},{"tags":["java","oop","architecture","implementation"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1676034179,"post_id":75411410,"comment_id":133060940,"body_markdown":"Dir and File should be part of the same package, which then grants the required access.  &#39;package access&#39; is, loosely speaking, about the same as protected access but for classes in the same package rather than for descendent classes.","body":"Dir and File should be part of the same package, which then grants the required access.  &#39;package access&#39; is, loosely speaking, about the same as protected access but for classes in the same package rather than for descendent classes."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676034371,"post_id":75411410,"comment_id":133060992,"body_markdown":"Since every `Dir` has a list of `childrenDirectories`, it’s weird that you say a `Dir` should not have a `parentDirectory`. And speaking of file systems of operating systems, directories *are* files and have all of their attributes.","body":"Since every <code>Dir</code> has a list of <code>childrenDirectories</code>, it’s weird that you say a <code>Dir</code> should not have a <code>parentDirectory</code>. And speaking of file systems of operating systems, directories <i>are</i> files and have all of their attributes."}],"answers":[{"tags":[],"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676269086,"creation_date":1676269086,"answer_id":75432430,"question_id":75411410,"body_markdown":"A File &amp; a Directory are essentially the same as they share most of the attributes and behaviour. So it may not make sense to model them as separate entities. \r\n\r\nKeeping it simple, a tree like structure may be the way to go - \r\n\r\n    public class FileNode {\r\n    \t\r\n    \tList&lt;FileNode&gt; children;\r\n    \t\r\n    \tFileNode parent;\r\n    \t\r\n    \t\r\n    \tpublic void deleteSelf() {\r\n    \t\t/**\r\n    \t\t * Should be good enough to delete self and children, if children are applicable\r\n    \t\t * (Make sure your equals/hashCode are appropriately defined)\r\n    \t\t */\r\n    \t\tgetParent().getChildren().remove(this);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic boolean isDir() {\r\n    \t\t//Make a default call to the java.io.filesystem to figure this out.\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic List&lt;FileNode&gt; getChildren() {\r\n    \t\treturn children;\r\n    \t}\r\n    \r\n    \tpublic void setChildren(List&lt;FileNode&gt; children) {\r\n    \t\tthis.children = children;\r\n    \t}\r\n    \r\n    \tpublic FileNode getParent() {\r\n    \t\treturn parent;\r\n    \t}\r\n    \r\n    \tpublic void setParent(FileNode parent) {\r\n    \t\tthis.parent = parent;\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n\r\nHere FileNode is both a File &amp; Dir. ","title":"How to handle concurrent changes in objects of different classes in Java (or how might I improve my design :)","body":"<p>A File &amp; a Directory are essentially the same as they share most of the attributes and behaviour. So it may not make sense to model them as separate entities.</p>\n<p>Keeping it simple, a tree like structure may be the way to go -</p>\n<pre><code>public class FileNode {\n    \n    List&lt;FileNode&gt; children;\n    \n    FileNode parent;\n    \n    \n    public void deleteSelf() {\n        /**\n         * Should be good enough to delete self and children, if children are applicable\n         * (Make sure your equals/hashCode are appropriately defined)\n         */\n        getParent().getChildren().remove(this);\n        \n    }\n    \n    public boolean isDir() {\n        //Make a default call to the java.io.filesystem to figure this out.\n        return false;\n    }\n\n    public List&lt;FileNode&gt; getChildren() {\n        return children;\n    }\n\n    public void setChildren(List&lt;FileNode&gt; children) {\n        this.children = children;\n    }\n\n    public FileNode getParent() {\n        return parent;\n    }\n\n    public void setParent(FileNode parent) {\n        this.parent = parent;\n    }\n    \n    \n\n}\n</code></pre>\n<p>Here FileNode is both a File &amp; Dir.</p>\n"}],"owner":{"account_id":16011339,"reputation":11,"user_id":11555403,"display_name":"falagan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676269086,"creation_date":1676033622,"question_id":75411410,"body_markdown":"I am trying to implement a directory tree in java. I need to implement two different classes: `Dir` and `File`. Each directory object, of type `Dir`, contains a collection with the files it contains, and another one with its children directories, implemented as follows:\r\n```\r\npublic class Dir {\r\n  private List&lt;Dir&gt; childrenDirectories;\r\n  private List&lt;File&gt; files;\r\n}\r\n```\r\nEach file object, of type `File`, contains its parent directory:\r\n```\r\npublic class File {\r\n  private Dir parentDirectory\r\n}\r\n```\r\nI would not like for these attributes to be accessed to from `main()`, as this would open up the possibility for someone to improperly manipulate these attributes. This would require their visibility, as well as their getters&#39; and setters&#39;, to be set to protected or private.\r\nNow, for the consistency of the tree structure, when a file is inserted into a directory (through a method `Dir.put(File)`), two things need to happen: the file should be included in the list `Dir.files`, and the directory into the attribute `File.parentDirectory`.\r\nMy problem with this implementation is that there is no place where both `Dir.files` and `File.parentDirectory` are visible, and so the method `Dir.put(File)` cannot exist anywhere. I guess this is a problem with my design, but I fail to come up with something better.\r\nAny help would be greatly appreciated.\r\n\r\nA design that came to mind is to set `File.parentDirectory` as protected, and make the class `Dir` extend the class `File`. This would make this attribute visible from inside `Dir`, and the method `Dir.put(File)` could then access it.\r\nThere are a couple of problems that come to mind with this implementation:\r\nFirst, and least critical, a directory is not a type of file (I don&#39;t think). I understand inheritance in a program has to correspond to a reality, and this one would not.\r\nAlso, each `Dir` object would have an attribute `parentDirectory` (inherited from the `File` class), which would be unused. This is wasteful, especially when you consider that, once implemented properly, a `File` object would have many other attributes I can&#39;t use in a `Dir` object.\r\nFinally, and most importantly, this offers the possibility for a method inside `Dir` to access protected attributes and methods of the `File` class, but not the other way around, which is a problem I will run into when I try to implement, for example, a function `File.delete()`, which should remove the file from the directory it is in.","title":"How to handle concurrent changes in objects of different classes in Java (or how might I improve my design :)","body":"<p>I am trying to implement a directory tree in java. I need to implement two different classes: <code>Dir</code> and <code>File</code>. Each directory object, of type <code>Dir</code>, contains a collection with the files it contains, and another one with its children directories, implemented as follows:</p>\n<pre><code>public class Dir {\n  private List&lt;Dir&gt; childrenDirectories;\n  private List&lt;File&gt; files;\n}\n</code></pre>\n<p>Each file object, of type <code>File</code>, contains its parent directory:</p>\n<pre><code>public class File {\n  private Dir parentDirectory\n}\n</code></pre>\n<p>I would not like for these attributes to be accessed to from <code>main()</code>, as this would open up the possibility for someone to improperly manipulate these attributes. This would require their visibility, as well as their getters' and setters', to be set to protected or private.\nNow, for the consistency of the tree structure, when a file is inserted into a directory (through a method <code>Dir.put(File)</code>), two things need to happen: the file should be included in the list <code>Dir.files</code>, and the directory into the attribute <code>File.parentDirectory</code>.\nMy problem with this implementation is that there is no place where both <code>Dir.files</code> and <code>File.parentDirectory</code> are visible, and so the method <code>Dir.put(File)</code> cannot exist anywhere. I guess this is a problem with my design, but I fail to come up with something better.\nAny help would be greatly appreciated.</p>\n<p>A design that came to mind is to set <code>File.parentDirectory</code> as protected, and make the class <code>Dir</code> extend the class <code>File</code>. This would make this attribute visible from inside <code>Dir</code>, and the method <code>Dir.put(File)</code> could then access it.\nThere are a couple of problems that come to mind with this implementation:\nFirst, and least critical, a directory is not a type of file (I don't think). I understand inheritance in a program has to correspond to a reality, and this one would not.\nAlso, each <code>Dir</code> object would have an attribute <code>parentDirectory</code> (inherited from the <code>File</code> class), which would be unused. This is wasteful, especially when you consider that, once implemented properly, a <code>File</code> object would have many other attributes I can't use in a <code>Dir</code> object.\nFinally, and most importantly, this offers the possibility for a method inside <code>Dir</code> to access protected attributes and methods of the <code>File</code> class, but not the other way around, which is a problem I will run into when I try to implement, for example, a function <code>File.delete()</code>, which should remove the file from the directory it is in.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676268912,"creation_date":1676267905,"answer_id":75432315,"question_id":75431348,"body_markdown":"There is a `Iframe` you have to first switch to it like below \r\n\r\n    driver.switchTo().frame(&quot;iframeId&quot;);\r\n\r\n***OR*** \r\n\r\n    driver.switchTo().frame(&quot;iframeName&quot;);\r\n\r\nOnce you switch to the frame than perform the click like below.\r\n\r\n\r\n    public static void invokeBroser() throws InterruptedException {\r\n                \r\n                    WebDriver driver = new FirefoxDriver();\r\n    \r\n                    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                    \r\n                    NgWebDriver ngWebDriver = new NgWebDriver(js);\r\n                    ngWebDriver.waitForAngularRequestsToFinish();\r\n                    \r\n                    driver.get(&quot;https://www.parfumo.net&quot;);\r\n                    driver.manage().window().maximize();\r\n                    \r\n                    Thread.sleep(3000);\r\n                 // Initialize and wait till element(link) became clickable - timeout in 60 seconds\r\n                    WebDriverWait w = (WebDriverWait) new WebDriverWait(driver, Duration.ofSeconds(600));\r\n    \r\n    driver.switchTo().frame(&quot;sp_message_iframe_737779&quot;);\r\n    \r\n    w.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),&#39;Accept*&#39;)]&quot;)));\r\n                          \r\n        }\r\n\r\nYou can switch back to the main document like below:\r\n\r\n    driver.switchTo().defaultContent();","title":"selenium java NGWebdriver","body":"<p>There is a <code>Iframe</code> you have to first switch to it like below</p>\n<pre><code>driver.switchTo().frame(&quot;iframeId&quot;);\n</code></pre>\n<p><em><strong>OR</strong></em></p>\n<pre><code>driver.switchTo().frame(&quot;iframeName&quot;);\n</code></pre>\n<p>Once you switch to the frame than perform the click like below.</p>\n<pre><code>public static void invokeBroser() throws InterruptedException {\n            \n                WebDriver driver = new FirefoxDriver();\n\n                JavascriptExecutor js = (JavascriptExecutor) driver;\n                \n                NgWebDriver ngWebDriver = new NgWebDriver(js);\n                ngWebDriver.waitForAngularRequestsToFinish();\n                \n                driver.get(&quot;https://www.parfumo.net&quot;);\n                driver.manage().window().maximize();\n                \n                Thread.sleep(3000);\n             // Initialize and wait till element(link) became clickable - timeout in 60 seconds\n                WebDriverWait w = (WebDriverWait) new WebDriverWait(driver, Duration.ofSeconds(600));\n\ndriver.switchTo().frame(&quot;sp_message_iframe_737779&quot;);\n\nw.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),'Accept*')]&quot;)));\n                      \n    }\n</code></pre>\n<p>You can switch back to the main document like below:</p>\n<pre><code>driver.switchTo().defaultContent();\n</code></pre>\n"}],"owner":{"account_id":7143439,"reputation":1,"user_id":5460123,"display_name":"henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676268912,"creation_date":1676253419,"question_id":75431348,"body_markdown":"I have tried everything to login into one site using Selenium webdriver java, but there is one &quot;window&quot;, which I don&#39;t know how to call it , that I couldn&#39;t find one way to click in order to access it.  Here, I open the firefox browser and lend on the parfumo.net webpage. The site loads &quot;one window&quot; with cookies settings...\r\n```\r\npublic static void invokeBroser() throws InterruptedException {\r\n\t\t\t\r\n\t\t        WebDriver driver = new FirefoxDriver();\r\n\r\n\t\t        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n\t\t        \r\n\t\t        NgWebDriver ngWebDriver = new NgWebDriver(js);\r\n\t\t        ngWebDriver.waitForAngularRequestsToFinish();\r\n\t\t        \r\n\t\t        driver.get(&quot;https://www.parfumo.net&quot;);\r\n\t\t        driver.manage().window().maximize();\r\n\t\t        \r\n\t\t        Thread.sleep(3000);\r\n\t\t     // Initialize and wait till element(link) became clickable - timeout in 60 seconds\r\n\t\t        WebDriverWait w = (WebDriverWait) new WebDriverWait(driver, Duration.ofSeconds(600));\r\n\t\t        \r\n\t\t        w.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),&#39;Accept*&#39;)]&quot;)));\r\n\r\n\r\n\t\t    \t\t  \r\n\t}\r\n```\r\n","title":"selenium java NGWebdriver","body":"<p>I have tried everything to login into one site using Selenium webdriver java, but there is one &quot;window&quot;, which I don't know how to call it , that I couldn't find one way to click in order to access it.  Here, I open the firefox browser and lend on the parfumo.net webpage. The site loads &quot;one window&quot; with cookies settings...</p>\n<pre><code>public static void invokeBroser() throws InterruptedException {\n            \n                WebDriver driver = new FirefoxDriver();\n\n                JavascriptExecutor js = (JavascriptExecutor) driver;\n                \n                NgWebDriver ngWebDriver = new NgWebDriver(js);\n                ngWebDriver.waitForAngularRequestsToFinish();\n                \n                driver.get(&quot;https://www.parfumo.net&quot;);\n                driver.manage().window().maximize();\n                \n                Thread.sleep(3000);\n             // Initialize and wait till element(link) became clickable - timeout in 60 seconds\n                WebDriverWait w = (WebDriverWait) new WebDriverWait(driver, Duration.ofSeconds(600));\n                \n                w.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[contains(text(),'Accept*')]&quot;)));\n\n\n                      \n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","microservices"],"comments":[{"owner":{"account_id":147833,"reputation":8013,"user_id":359226,"accept_rate":97,"display_name":"Garis M Suero"},"score":0,"creation_date":1533314739,"post_id":51676756,"comment_id":90317133,"body_markdown":"there is not `com.techprimers.stock.dbservice.repository` package in your project. Or at least the beans you are trying to use are not part of it.","body":"there is not <code>com.techprimers.stock.dbservice.repository</code> package in your project. Or at least the beans you are trying to use are not part of it."}],"answers":[{"comments":[{"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"score":0,"creation_date":1533315421,"post_id":51676847,"comment_id":90317399,"body_markdown":"You also missed to add `@Autowired` in your controller constructor.","body":"You also missed to add <code>@Autowired</code> in your controller constructor."},{"owner":{"account_id":14088012,"reputation":31,"user_id":10177269,"display_name":"Abhishek Jagwani"},"score":0,"creation_date":1533322092,"post_id":51676847,"comment_id":90320154,"body_markdown":"The version in the dependency still causes a problem\nIt throws an error as\nDependency &#39;javax.xml.bind:jaxb-api:2.2.11&#39; not found less... (Ctrl+F1) \nInspection info: Inspects a Maven model for resolution problems","body":"The version in the dependency still causes a problem It throws an error as Dependency &#39;javax.xml.bind:jaxb-api:2.2.11&#39; not found less... (Ctrl+F1)  Inspection info: Inspects a Maven model for resolution problems"},{"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"score":0,"creation_date":1533322778,"post_id":51676847,"comment_id":90320457,"body_markdown":"I&#39;m not sure from where you are getting &#39;javax.xml.bind:jaxb-api:2.2.11&#39;. I&#39;ve asked to add version 2.30","body":"I&#39;m not sure from where you are getting &#39;javax.xml.bind:jaxb-api:2.2.11&#39;. I&#39;ve asked to add version 2.30"},{"owner":{"account_id":14088012,"reputation":31,"user_id":10177269,"display_name":"Abhishek Jagwani"},"score":0,"creation_date":1533323074,"post_id":51676847,"comment_id":90320574,"body_markdown":"Sorry it was a type. I did 2.3.0 but the main error is the same.\nOr do we need to find PersistenceContext dependency coming from different JARs and need to remove the extra dependencies?","body":"Sorry it was a type. I did 2.3.0 but the main error is the same. Or do we need to find PersistenceContext dependency coming from different JARs and need to remove the extra dependencies?"}],"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533316853,"creation_date":1533314220,"answer_id":51676847,"question_id":51676756,"body_markdown":"In spring configuration, you have declared the base package of your jpa repositories in &quot;com.techprimers.stock.dbservice.repository&quot;  \r\n`@EnableJpaRepositories(basePackages = &quot;com.techprimers.stock.dbservice.repository&quot;)`\r\n\r\nBut from the repository code, actually it is inside package &quot;com.example.dbservice.repository&quot;\r\n\r\nSo change the base package in configuration like:\r\n\r\n    @EnableJpaRepositories(basePackages = &quot;com.example.dbservice.repository&quot;)\r\n    @SpringBootApplication\r\n    public class DbServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DbServiceApplication.class, args);\r\n        }\r\n    }\r\n\r\nUpdate:\r\nNow the error is for jaxb components missing, java.xml.bind was part of java till jdk 8 and is deprecated from 9. Add following in your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    ","title":"org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name. Couldn&#39;t get my springboot application running","body":"<p>In spring configuration, you have declared the base package of your jpa repositories in \"com.techprimers.stock.dbservice.repository\"<br>\n<code>@EnableJpaRepositories(basePackages = \"com.techprimers.stock.dbservice.repository\")</code></p>\n\n<p>But from the repository code, actually it is inside package \"com.example.dbservice.repository\"</p>\n\n<p>So change the base package in configuration like:</p>\n\n<pre><code>@EnableJpaRepositories(basePackages = \"com.example.dbservice.repository\")\n@SpringBootApplication\npublic class DbServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DbServiceApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Update:\nNow the error is for jaxb components missing, java.xml.bind was part of java till jdk 8 and is deprecated from 9. Add following in your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6282937,"reputation":13,"user_id":4883280,"display_name":"Ali mjz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676268906,"creation_date":1676268906,"answer_id":75432406,"question_id":51676756,"body_markdown":"I did check your project as far as I could, and I found some problems related to your code which might help you to reduce the problem.\r\n1. Remove the hibernate core dependency as it is not necessary since you added JPA dependency and it already contains the hibernate-core dependency.\r\n2. Which java version you are using? some part of hibernate components are not compatible with java 8/11 . \r\n3. Use @EntityScan, so entities could be easily find in the correct directory.","title":"org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name. Couldn&#39;t get my springboot application running","body":"<p>I did check your project as far as I could, and I found some problems related to your code which might help you to reduce the problem.</p>\n<ol>\n<li>Remove the hibernate core dependency as it is not necessary since you added JPA dependency and it already contains the hibernate-core dependency.</li>\n<li>Which java version you are using? some part of hibernate components are not compatible with java 8/11 .</li>\n<li>Use @EntityScan, so entities could be easily find in the correct directory.</li>\n</ol>\n"}],"owner":{"account_id":14088012,"reputation":31,"user_id":10177269,"display_name":"Abhishek Jagwani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676268906,"creation_date":1533313783,"question_id":51676756,"body_markdown":"I am new to Microservices and started building one with a simple Get and Post implementations. I am getting an error about bean creation and unsatisfied Dependency Exception. Please find my code attached.\r\nAny help is appreciated. \r\nThanks in advance.\r\n\r\n **DbServiceApplication.java(under package com.example.dbservice)**\r\n\r\n\r\n    package com.example.dbservice;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    @EnableJpaRepositories(basePackages = &quot;com.example.dbservice.repository&quot;)\r\n    @SpringBootApplication\r\n    public class DbServiceApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DbServiceApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**QuotesRepository.java (under package com.example.dbservice.repository)**\r\n\r\n    package com.example.dbservice.repository;\r\n    \r\n    import com.example.dbservice.model.Quote;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface QuotesRepositpory extends JpaRepository&lt;Quote, Integer&gt; {\r\n        List&lt;Quote&gt; findByUserName(String username);\r\n    }\r\n\r\n\r\n**DbServiceResource (under repository com.example.dbservice.resource)**\r\n\r\n    package com.example.dbservice.resource;\r\n    \r\n    \r\n    import com.example.dbservice.model.Quote;\r\n    import com.example.dbservice.model.Quotes;\r\n    import com.example.dbservice.repository.QuotesRepositpory;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/rest/db&quot;)\r\n    public class DbServiceResource {\r\n    \r\n        private QuotesRepositpory quotesRepository;\r\n    \r\n        public DbServiceResource(QuotesRepositpory quotesRepository) {\r\n            this.quotesRepository = quotesRepository;\r\n        }\r\n    \r\n        @GetMapping(&quot;/{username}&quot;)\r\n        public List&lt;String&gt; getQuotes(@PathVariable(&quot;username&quot;)\r\n                                      final String username){\r\n    \r\n            return quotesRepository.findByUserName(username)\r\n                    .stream()\r\n                    .map(Quote::getQuote)\r\n                    .collect(Collectors.toList());\r\n    \r\n        }\r\n    \r\n    \r\n        @PostMapping(&quot;/add&quot;)\r\n        public List&lt;String&gt; add(@RequestBody final Quotes quotes){\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n**pom.xml Dependencies**\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n\r\n\r\n**Error Stack trace**\r\n\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.0.4.RELEASE)\r\n    \r\n    2018-08-03 12:02:21.462  INFO 10968 --- [           main] c.t.s.dbservice.DbServiceApplication     : Starting DbServiceApplication on JAGWANIA01 with PID 10968 (C:\\Users\\jagwania\\Desktop\\db-service\\target\\classes started by jagwania in C:\\Users\\jagwania\\Desktop\\db-service)\r\n    2018-08-03 12:02:21.469  INFO 10968 --- [           main] c.t.s.dbservice.DbServiceApplication     : No active profile set, falling back to default profiles: default\r\n    2018-08-03 12:02:21.675  INFO 10968 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5c86a017: startup date [Fri Aug 03 12:02:21 CDT 2018]; root of context hierarchy\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.springframework.cglib.core.ReflectUtils$1 (file:/C:/Users/jagwania/.m2/repository/org/springframework/spring-core/5.0.8.RELEASE/spring-core-5.0.8.RELEASE.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n    WARNING: Please consider reporting this to the maintainers of org.springframework.cglib.core.ReflectUtils$1\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    2018-08-03 12:02:24.991  INFO 10968 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc6bebb7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2018-08-03 12:02:25.877  INFO 10968 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8300 (http)\r\n    2018-08-03 12:02:25.936  INFO 10968 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2018-08-03 12:02:25.936  INFO 10968 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.32\r\n    2018-08-03 12:02:25.960  INFO 10968 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\\Program Files\\Java\\jdk-10.0.2\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\RSA SecurID Token Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files\\MongoDB\\Server\\4.0\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files\\Geth;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\bin;C:\\Program Files\\Java\\jdk-10.0.2\\bin;C:\\Program Files\\apache-maven-3.5.4-bin\\apache-maven-3.5.4\\bin;C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;C:\\Users\\jagwania\\AppData\\Roaming\\npm;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;.]\r\n    2018-08-03 12:02:26.255  INFO 10968 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2018-08-03 12:02:26.255  INFO 10968 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4587 ms\r\n    2018-08-03 12:02:26.433  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\r\n    2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n    2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n    2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n    2018-08-03 12:02:26.802  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    2018-08-03 12:02:27.352  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2018-08-03 12:02:27.448  INFO 10968 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    2018-08-03 12:02:27.487  INFO 10968 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: default\r\n    \t...]\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    Fri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n    2018-08-03 12:02:27.894  INFO 10968 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}\r\n    2018-08-03 12:02:27.898  INFO 10968 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2018-08-03 12:02:27.928  WARN 10968 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    2018-08-03 12:02:27.928  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2018-08-03 12:02:27.964  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2018-08-03 12:02:27.969  INFO 10968 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2018-08-03 12:02:27.993  INFO 10968 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-08-03 12:02:28.005 ERROR 10968 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\r\n    \tat com.example.dbservice.DbServiceApplication.main(DbServiceApplication.java:12) [classes/:na]\r\n    Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n    \tat org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:209) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\r\n    \t... 16 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499) ~[na:na]\r\n    \t... 27 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1","title":"org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name. Couldn&#39;t get my springboot application running","body":"<p>I am new to Microservices and started building one with a simple Get and Post implementations. I am getting an error about bean creation and unsatisfied Dependency Exception. Please find my code attached.\nAny help is appreciated. \nThanks in advance.</p>\n\n<p><strong>DbServiceApplication.java(under package com.example.dbservice)</strong></p>\n\n<pre><code>package com.example.dbservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@EnableJpaRepositories(basePackages = \"com.example.dbservice.repository\")\n@SpringBootApplication\npublic class DbServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DbServiceApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>QuotesRepository.java (under package com.example.dbservice.repository)</strong></p>\n\n<pre><code>package com.example.dbservice.repository;\n\nimport com.example.dbservice.model.Quote;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Repository\npublic interface QuotesRepositpory extends JpaRepository&lt;Quote, Integer&gt; {\n    List&lt;Quote&gt; findByUserName(String username);\n}\n</code></pre>\n\n<p><strong>DbServiceResource (under repository com.example.dbservice.resource)</strong></p>\n\n<pre><code>package com.example.dbservice.resource;\n\n\nimport com.example.dbservice.model.Quote;\nimport com.example.dbservice.model.Quotes;\nimport com.example.dbservice.repository.QuotesRepositpory;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@RestController\n@RequestMapping(\"/rest/db\")\npublic class DbServiceResource {\n\n    private QuotesRepositpory quotesRepository;\n\n    public DbServiceResource(QuotesRepositpory quotesRepository) {\n        this.quotesRepository = quotesRepository;\n    }\n\n    @GetMapping(\"/{username}\")\n    public List&lt;String&gt; getQuotes(@PathVariable(\"username\")\n                                  final String username){\n\n        return quotesRepository.findByUserName(username)\n                .stream()\n                .map(Quote::getQuote)\n                .collect(Collectors.toList());\n\n    }\n\n\n    @PostMapping(\"/add\")\n    public List&lt;String&gt; add(@RequestBody final Quotes quotes){\n        return null;\n    }\n\n}\n</code></pre>\n\n<p><strong>pom.xml Dependencies</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>Error Stack trace</strong></p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.0.4.RELEASE)\n\n2018-08-03 12:02:21.462  INFO 10968 --- [           main] c.t.s.dbservice.DbServiceApplication     : Starting DbServiceApplication on JAGWANIA01 with PID 10968 (C:\\Users\\jagwania\\Desktop\\db-service\\target\\classes started by jagwania in C:\\Users\\jagwania\\Desktop\\db-service)\n2018-08-03 12:02:21.469  INFO 10968 --- [           main] c.t.s.dbservice.DbServiceApplication     : No active profile set, falling back to default profiles: default\n2018-08-03 12:02:21.675  INFO 10968 --- [           main] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5c86a017: startup date [Fri Aug 03 12:02:21 CDT 2018]; root of context hierarchy\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.springframework.cglib.core.ReflectUtils$1 (file:/C:/Users/jagwania/.m2/repository/org/springframework/spring-core/5.0.8.RELEASE/spring-core-5.0.8.RELEASE.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of org.springframework.cglib.core.ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2018-08-03 12:02:24.991  INFO 10968 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cc6bebb7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2018-08-03 12:02:25.877  INFO 10968 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8300 (http)\n2018-08-03 12:02:25.936  INFO 10968 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2018-08-03 12:02:25.936  INFO 10968 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.32\n2018-08-03 12:02:25.960  INFO 10968 --- [ost-startStop-1] o.a.catalina.core.AprLifecycleListener   : The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [C:\\Program Files\\Java\\jdk-10.0.2\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files (x86)\\RSA SecurID Token Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\nodejs\\;C:\\Program Files\\MongoDB\\Server\\4.0\\bin;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\Program Files\\Geth;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\bin;C:\\Program Files\\Java\\jdk-10.0.2\\bin;C:\\Program Files\\apache-maven-3.5.4-bin\\apache-maven-3.5.4\\bin;C:\\Program Files\\MySQL\\MySQL Server 8.0\\bin;C:\\Users\\jagwania\\AppData\\Roaming\\npm;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;.]\n2018-08-03 12:02:26.255  INFO 10968 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2018-08-03 12:02:26.255  INFO 10968 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4587 ms\n2018-08-03 12:02:26.433  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\n2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2018-08-03 12:02:26.441  INFO 10968 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2018-08-03 12:02:26.802  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2018-08-03 12:02:27.352  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2018-08-03 12:02:27.448  INFO 10968 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2018-08-03 12:02:27.487  INFO 10968 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\nFri Aug 03 12:02:27 CDT 2018 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n2018-08-03 12:02:27.894  INFO 10968 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}\n2018-08-03 12:02:27.898  INFO 10968 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2018-08-03 12:02:27.928  WARN 10968 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n2018-08-03 12:02:27.928  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2018-08-03 12:02:27.964  INFO 10968 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2018-08-03 12:02:27.969  INFO 10968 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2018-08-03 12:02:27.993  INFO 10968 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-08-03 12:02:28.005 ERROR 10968 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1258) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) [spring-boot-2.0.4.RELEASE.jar:2.0.4.RELEASE]\n    at com.example.dbservice.DbServiceApplication.main(DbServiceApplication.java:12) [classes/:na]\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n    at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:209) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:164) ~[hibernate-core-5.2.17.Final.jar:5.2.17.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695) ~[spring-beans-5.0.8.RELEASE.jar:5.0.8.RELEASE]\n    ... 16 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:499) ~[na:na]\n    ... 27 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","json","spring-boot","swagger"],"comments":[{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":0,"creation_date":1554121604,"post_id":55454965,"comment_id":97623484,"body_markdown":"From the stack trace, it is saying &quot;no String-argument constructor&quot; so the post body is being interpreted as string and not as Json.","body":"From the stack trace, it is saying &quot;no String-argument constructor&quot; so the post body is being interpreted as string and not as Json."},{"owner":{"account_id":2412971,"reputation":150,"user_id":2107663,"display_name":"Daffy"},"score":0,"creation_date":1554122272,"post_id":55454965,"comment_id":97623888,"body_markdown":"How do I fix it ? I tried @jsoncreator annotator before the constructor public DataExport(...), still no luck.","body":"How do I fix it ? I tried @jsoncreator annotator before the constructor public DataExport(...), still no luck."},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1554124188,"post_id":55454965,"comment_id":97625033,"body_markdown":"Can you please show how you&#39;re sending the json on swagger?","body":"Can you please show how you&#39;re sending the json on swagger?"},{"owner":{"account_id":2412971,"reputation":150,"user_id":2107663,"display_name":"Daffy"},"score":0,"creation_date":1554125431,"post_id":55454965,"comment_id":97625804,"body_markdown":"@MadhuBhat I have attached the screenshot at the end of my post.","body":"@MadhuBhat I have attached the screenshot at the end of my post."},{"owner":{"account_id":3793595,"reputation":2392,"user_id":3149444,"accept_rate":56,"display_name":"Perimosh"},"score":0,"creation_date":1554125857,"post_id":55454965,"comment_id":97626074,"body_markdown":"Try to check the curl command from your swagger call. Using Chrome, open the developers console in your browser, and check the network tab, you will be able to export the http call to a curl command. Then you can compare the curl command with the postman call. If postman works, then your problem is not in your code. Or rather, maybe is in your code but around the swagger annotations","body":"Try to check the curl command from your swagger call. Using Chrome, open the developers console in your browser, and check the network tab, you will be able to export the http call to a curl command. Then you can compare the curl command with the postman call. If postman works, then your problem is not in your code. Or rather, maybe is in your code but around the swagger annotations"},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1554126163,"post_id":55454965,"comment_id":97626273,"body_markdown":"Remove the `&quot;string&quot;` value for aLocation on the swagger ui and try once.","body":"Remove the <code>&quot;string&quot;</code> value for aLocation on the swagger ui and try once."}],"answers":[{"comments":[{"owner":{"account_id":2412971,"reputation":150,"user_id":2107663,"display_name":"Daffy"},"score":0,"creation_date":1554126334,"post_id":55456512,"comment_id":97626392,"body_markdown":"Thank you so much. This worked. I was passing my default location through my configuration.xml directly through my controller. After removing it and making some changes to DataExport.java it worked,","body":"Thank you so much. This worked. I was passing my default location through my configuration.xml directly through my controller. After removing it and making some changes to DataExport.java it worked,"}],"tags":[],"owner":{"account_id":15648480,"reputation":106,"user_id":11290270,"display_name":"lmoal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554125871,"creation_date":1554125871,"answer_id":55456512,"question_id":55454965,"body_markdown":"Your screenshot show that you have two body, which can&#39;t be [done][1].\r\n\r\nI don&#39;t know what you&#39;re trying to do, but just for test remove the field aLocation, and it will be OK.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27189730/multiple-requestbody-values-in-one-controller-method","title":"How do I resolve com.fasterxml.jackson.databind.exc.MismatchedInputException?","body":"<p>Your screenshot show that you have two body, which can't be <a href=\"https://stackoverflow.com/questions/27189730/multiple-requestbody-values-in-one-controller-method\">done</a>.</p>\n\n<p>I don't know what you're trying to do, but just for test remove the field aLocation, and it will be OK.</p>\n"}],"owner":{"account_id":2412971,"reputation":150,"user_id":2107663,"display_name":"Daffy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55456512,"answer_count":1,"score":1,"last_activity_date":1676265912,"creation_date":1554121150,"question_id":55454965,"body_markdown":"I&#39;m getting the below error while trying to post a request through Swagger. This works fine when I do it through Postman. \r\n\r\nI&#39;m using springBootVersion = &#39;2.1.0.RELEASE&#39;, swaggerVersion = &#39;2.9.2&#39;.\r\n\r\nThis is my Json mapping class.\r\nDataExport.java\r\n```\r\n@XmlRootElement(name = &quot;DataExport&quot;)\r\npublic class DataExport\r\n{\r\n  @JsonProperty(&quot;engineName&quot;)\r\n  private String engineName;\r\n\r\n  @JsonProperty(&quot;searchQuery&quot;)\r\n  private String searchQuery;\r\n\r\n  public DataExport()\r\n  {\r\n    super();\r\n  }\r\n\r\n  public DataExport(String aEngineName, String aSearchQuery)\r\n  {\r\n    super();\r\n    this.engineName = aEngineName;\r\n    this.searchQuery = aSearchQuery;\r\n  }\r\n```\r\n\r\nRestController.java\r\n```\r\n@RequestMapping(value = &quot;/export&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.TEXT_PLAIN_VALUE)\r\n  @ApiOperation(authorizations = {\r\n      @Authorization(value = &quot;oauth&quot;) }, value = &quot;Initiates the job for export&quot;, response = String.class)\r\n  @ApiResponses({ @ApiResponse(code = 200, message = &quot;Request accepted.&quot;),\r\n      @ApiResponse(code = 500, message = &quot;The export could not be started due to an internal server error.&quot;) })\r\n  public String getJobId(@RequestBody DataExport aDataExport, HttpServletResponse aResponse,\r\n      @Value(&quot;${com.xyz.dataexportmodule.defaultfilelocation}&quot;) final String aLocation)\r\n      throws Exception\r\n  {\r\n    LOG.info(&quot;Initializing export for Engine {} and Query {}&quot;, aDataExport.getEngineName(),\r\n        aDataExport.getSearchQuery());\r\n\r\n    String exportLocation = aLocation\r\n....\r\n```\r\n\r\nI want to pass this JSON\r\n{\r\n\t&quot;engineName&quot;:&quot;ABC&quot;,\r\n\t&quot;searchQuery&quot;:&quot;*&quot;\r\n\t\r\n}\r\n\r\nBut I&#39;m getting this error:\r\n\r\n```\r\n2019-04-01 13:42:05,022 [https-jsse-nio-8443-exec-19] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct an instance of `com.xyz.dataexportmodule.persistence.entity.DataExport` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;string&#39;); \r\nnested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct an instance of `com.xyz.dataexportmodule.persistence.entity.DataExport` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;string&#39;)\r\n at [Source: (PushbackInputStream); line: 1, column: 1]]\r\n```\r\n\r\nI&#39;m unable to figure out what is the issue, somebody please help.\r\n\r\nP.s: My Swagger Screenshot\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7TWQX.png\r\n\r\nSolution: After making these changes in DataExport class and removing Location variable in REST controller method, this issue got resolved.\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@ApiModel(value = &quot;Data Export&quot;, description = &quot;A JSON object corresponding to Data Export entity.&quot;)\r\npublic class DataExport\r\n{\r\n  private String mEngineName;\r\n\r\n  private String mSearchQuery;\r\n\r\n  /**\r\n   * Default CTor.\r\n   */\r\n  public DataExport()\r\n  {\r\n  }\r\n\r\n  @JsonCreator\r\n  public DataExport(@JsonProperty(&quot;engineName&quot;) String aEngineName,\r\n      @JsonProperty(&quot;searchQuery&quot;) String aSearchQuery)\r\n  {\r\n    mEngineName = aEngineName;\r\n    mSearchQuery = aSearchQuery;\r\n  }\r\n```","title":"How do I resolve com.fasterxml.jackson.databind.exc.MismatchedInputException?","body":"<p>I'm getting the below error while trying to post a request through Swagger. This works fine when I do it through Postman.</p>\n<p>I'm using springBootVersion = '2.1.0.RELEASE', swaggerVersion = '2.9.2'.</p>\n<p>This is my Json mapping class.\nDataExport.java</p>\n<pre><code>@XmlRootElement(name = &quot;DataExport&quot;)\npublic class DataExport\n{\n  @JsonProperty(&quot;engineName&quot;)\n  private String engineName;\n\n  @JsonProperty(&quot;searchQuery&quot;)\n  private String searchQuery;\n\n  public DataExport()\n  {\n    super();\n  }\n\n  public DataExport(String aEngineName, String aSearchQuery)\n  {\n    super();\n    this.engineName = aEngineName;\n    this.searchQuery = aSearchQuery;\n  }\n</code></pre>\n<p>RestController.java</p>\n<pre><code>@RequestMapping(value = &quot;/export&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.TEXT_PLAIN_VALUE)\n  @ApiOperation(authorizations = {\n      @Authorization(value = &quot;oauth&quot;) }, value = &quot;Initiates the job for export&quot;, response = String.class)\n  @ApiResponses({ @ApiResponse(code = 200, message = &quot;Request accepted.&quot;),\n      @ApiResponse(code = 500, message = &quot;The export could not be started due to an internal server error.&quot;) })\n  public String getJobId(@RequestBody DataExport aDataExport, HttpServletResponse aResponse,\n      @Value(&quot;${com.xyz.dataexportmodule.defaultfilelocation}&quot;) final String aLocation)\n      throws Exception\n  {\n    LOG.info(&quot;Initializing export for Engine {} and Query {}&quot;, aDataExport.getEngineName(),\n        aDataExport.getSearchQuery());\n\n    String exportLocation = aLocation\n....\n</code></pre>\n<p>I want to pass this JSON\n{\n&quot;engineName&quot;:&quot;ABC&quot;,\n&quot;searchQuery&quot;:&quot;*&quot;</p>\n<p>}</p>\n<p>But I'm getting this error:</p>\n<pre><code>2019-04-01 13:42:05,022 [https-jsse-nio-8443-exec-19] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct an instance of `com.xyz.dataexportmodule.persistence.entity.DataExport` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('string'); \nnested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct an instance of `com.xyz.dataexportmodule.persistence.entity.DataExport` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('string')\n at [Source: (PushbackInputStream); line: 1, column: 1]]\n</code></pre>\n<p>I'm unable to figure out what is the issue, somebody please help.</p>\n<p>P.s: My Swagger Screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/7TWQX.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Solution: After making these changes in DataExport class and removing Location variable in REST controller method, this issue got resolved.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@ApiModel(value = &quot;Data Export&quot;, description = &quot;A JSON object corresponding to Data Export entity.&quot;)\npublic class DataExport\n{\n  private String mEngineName;\n\n  private String mSearchQuery;\n\n  /**\n   * Default CTor.\n   */\n  public DataExport()\n  {\n  }\n\n  @JsonCreator\n  public DataExport(@JsonProperty(&quot;engineName&quot;) String aEngineName,\n      @JsonProperty(&quot;searchQuery&quot;) String aSearchQuery)\n  {\n    mEngineName = aEngineName;\n    mSearchQuery = aSearchQuery;\n  }\n</code></pre>\n"},{"tags":["java","class","wolfram-mathematica","series"],"comments":[{"owner":{"account_id":8874722,"reputation":2853,"user_id":6627323,"display_name":"James"},"score":1,"creation_date":1469335967,"post_id":38548862,"comment_id":64489102,"body_markdown":"Can you just use an if statement and check if i is even? if(i%2==0){use minus}else{use plus}?","body":"Can you just use an if statement and check if i is even? if(i%2==0){use minus}else{use plus}?"},{"owner":{"account_id":4168927,"reputation":801,"user_id":3417226,"display_name":"Loki"},"score":1,"creation_date":1469336318,"post_id":38548862,"comment_id":64489151,"body_markdown":"Use Math.pow(-1,i-1) in your loop","body":"Use Math.pow(-1,i-1) in your loop"},{"owner":{"account_id":6298957,"reputation":966,"user_id":6495588,"accept_rate":86,"display_name":"iamgr007"},"score":0,"creation_date":1469337693,"post_id":38548862,"comment_id":64489338,"body_markdown":"just add  Math.pow(-1,i-1) as @LokeshAgrawal said!","body":"just add  Math.pow(-1,i-1) as @LokeshAgrawal said!"},{"owner":{"account_id":5117157,"reputation":1291,"user_id":4101906,"display_name":"Rahmat Waisi"},"score":0,"creation_date":1469337808,"post_id":38548862,"comment_id":64489353,"body_markdown":"where did you use `Scanner` class in this code?","body":"where did you use <code>Scanner</code> class in this code?"}],"answers":[{"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1469337254,"post_id":38548909,"comment_id":64489284,"body_markdown":"Wouldn&#39;t `int sign=1`, `sum += sign * (int)d;`, and `sign = -sign;` be easier?","body":"Wouldn&#39;t <code>int sign=1</code>, <code>sum += sign * (int)d;</code>, and <code>sign = -sign;</code> be easier?"},{"owner":{"account_id":5117157,"reputation":1291,"user_id":4101906,"display_name":"Rahmat Waisi"},"score":0,"creation_date":1469337697,"post_id":38548909,"comment_id":64489339,"body_markdown":"@Andreas please check my answer, if it needs edit, please do it.","body":"@Andreas please check my answer, if it needs edit, please do it."}],"tags":[],"owner":{"account_id":5117157,"reputation":1291,"user_id":4101906,"display_name":"Rahmat Waisi"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1469338097,"creation_date":1469336562,"answer_id":38548909,"question_id":38548862,"body_markdown":"you should do some steps:\r\n\r\n&lt;h2&gt;First way&lt;/h2&gt;\r\n- use a `boolean` and name it as `SIGN`\r\n - change it&#39;s value each time you reach end of loop to determine sign based on 1 or 0 (true or false)\r\n     - if `sign` was `true` use `+`\r\n     - if `sign` was `false` use `-`\r\n\r\n- increase `i` in for loop twice (`i+=2`) each time, so values of `i` will be `1, 3, 5, ...`\r\n&lt;hr&gt;\r\n\r\n\r\n    int n=10;int sum=0;int x=2;\r\n    \r\n    double d=0.00;\r\n    boolean sign = true;\r\n    for(int i=1; i&lt;=n ; i+=2 ){\r\n    \td=Math.pow(x,i);\r\n    \tsum += ((sign)?(int)d:(-1*(int)d));\r\n    \tsign = !sign;\r\n    }\r\n\r\n\r\n&lt;h2&gt;Second way&lt;/h2&gt;\r\n\r\n- use an `integer` and name it as `SIGN`\r\n - change it&#39;s value each time you reach end of loop to determine sign based on 1 or -1.\r\n- since it has the same type as the iterator variable, you can define it in the loop.\r\n\r\n&lt;hr&gt;\r\n\r\n\r\n\r\n    int n=10;int sum=0;int x=2;\r\n    \r\n    for (int i = 1, sign = 1; i &lt;= n; i += 2, sign = -sign) {\r\n    \tsum += sign * (int)Math.pow(x, i);\r\n    }\r\n\r\n","title":"Using Scanner class in java to print X1-X3+X5....n","body":"<p>you should do some steps:</p>\n\n<h2>First way</h2>\n\n<ul>\n<li><p>use a <code>boolean</code> and name it as <code>SIGN</code></p>\n\n<ul>\n<li>change it's value each time you reach end of loop to determine sign based on 1 or 0 (true or false)\n\n<ul>\n<li>if <code>sign</code> was <code>true</code> use <code>+</code></li>\n<li>if <code>sign</code> was <code>false</code> use <code>-</code></li>\n</ul></li>\n</ul></li>\n<li><p>increase <code>i</code> in for loop twice (<code>i+=2</code>) each time, so values of <code>i</code> will be <code>1, 3, 5, ...</code></p></li>\n</ul>\n\n<hr>\n\n<pre><code>int n=10;int sum=0;int x=2;\n\ndouble d=0.00;\nboolean sign = true;\nfor(int i=1; i&lt;=n ; i+=2 ){\n    d=Math.pow(x,i);\n    sum += ((sign)?(int)d:(-1*(int)d));\n    sign = !sign;\n}\n</code></pre>\n\n<h2>Second way</h2>\n\n<ul>\n<li>use an <code>integer</code> and name it as <code>SIGN</code>\n\n<ul>\n<li>change it's value each time you reach end of loop to determine sign based on 1 or -1.</li>\n</ul></li>\n<li>since it has the same type as the iterator variable, you can define it in the loop.</li>\n</ul>\n\n<hr>\n\n<pre><code>int n=10;int sum=0;int x=2;\n\nfor (int i = 1, sign = 1; i &lt;= n; i += 2, sign = -sign) {\n    sum += sign * (int)Math.pow(x, i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8839240,"reputation":345,"user_id":6602205,"display_name":"sept08"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469342374,"creation_date":1469342374,"answer_id":38549440,"question_id":38548862,"body_markdown":"you can input parameters by `Scanner` and change the sign by `Math.pow(-1,n)`.\r\ncode is as follows.\r\n\r\n    int sum = 0;\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.println(&quot;please enter n:&quot;);\r\n    int n = input.nextInt();\r\n    System.out.println(&quot;please enter x:&quot;);\r\n    int x = input.nextInt();\r\n    for(int i = 1; i &lt;= n; i += 2){\r\n        sum += (int)Math.pow(-1, (i-1)/2) * Math.pow(x, i);\r\n    }\r\n\r\n","title":"Using Scanner class in java to print X1-X3+X5....n","body":"<p>you can input parameters by <code>Scanner</code> and change the sign by <code>Math.pow(-1,n)</code>.\ncode is as follows.</p>\n\n<pre><code>int sum = 0;\nScanner input = new Scanner(System.in);\nSystem.out.println(\"please enter n:\");\nint n = input.nextInt();\nSystem.out.println(\"please enter x:\");\nint x = input.nextInt();\nfor(int i = 1; i &lt;= n; i += 2){\n    sum += (int)Math.pow(-1, (i-1)/2) * Math.pow(x, i);\n}\n</code></pre>\n"}],"owner":{"account_id":8652507,"reputation":21,"user_id":6477704,"display_name":"Mohammad Taha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2614,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1676265264,"creation_date":1469335791,"question_id":38548862,"body_markdown":"I was trying to print the following series: \r\nX&lt;sup&gt;1&lt;/sup&gt;-X&lt;sup&gt;3&lt;/sup&gt;+X&lt;sup&gt;5&lt;/sup&gt;-X&lt;sup&gt;7&lt;/sup&gt;.......X&lt;sup&gt;n&lt;/sup&gt;\r\n\r\nI have done everything but struck on changing the sign.  \r\nAnybody has idea?\r\n\r\nHere is the code:\r\n\r\n \r\n    int n=10;int sum=0;int x=2;\r\n\r\n    double d=0.00;\r\n    for(int i=1;i&lt;=n;i++){\r\n\t\td = Math.pow(x,i);\r\n\t\tsum = sum + (int)d;\r\n\t}\r\n","title":"Using Scanner class in java to print X1-X3+X5....n","body":"<p>I was trying to print the following series: \nX<sup>1</sup>-X<sup>3</sup>+X<sup>5</sup>-X<sup>7</sup>.......X<sup>n</sup></p>\n\n<p>I have done everything but struck on changing the sign.<br>\nAnybody has idea?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>int n=10;int sum=0;int x=2;\n\ndouble d=0.00;\nfor(int i=1;i&lt;=n;i++){\n    d = Math.pow(x,i);\n    sum = sum + (int)d;\n}\n</code></pre>\n"},{"tags":["java","if-statement","printing","boolean","system.out"],"comments":[{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":0,"creation_date":1382737510,"post_id":19599880,"comment_id":29092736,"body_markdown":"Unrelated to the exact issue, but I take it that you meant to actually print out the number of items, not just &quot;Items&quot; or &quot;Item&quot;.","body":"Unrelated to the exact issue, but I take it that you meant to actually print out the number of items, not just &quot;Items&quot; or &quot;Item&quot;."}],"answers":[{"comments":[{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":1,"creation_date":1382737936,"post_id":19599898,"comment_id":29092880,"body_markdown":"@mohamedghassar\nDon&#39;t forget to click on the checkmark if you found this answer to be helpful, though I recognize you cannot do so for another 5 minutes or so.","body":"@mohamedghassar Don&#39;t forget to click on the checkmark if you found this answer to be helpful, though I recognize you cannot do so for another 5 minutes or so."}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":1,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1382737450,"creation_date":1382737450,"answer_id":19599898,"question_id":19599880,"body_markdown":"You can&#39;t write an `if` statement inside an expression like that.\r\n\r\nHowever, you can use [Java&#39;s ternary operator `?:`][1] (scroll down about half way in the linked page) to embed a conditional expression:\r\n\r\n    System.out.println(&quot;The list has: &quot; +  ((array.size() &gt; 1) ? &quot;items&quot; : &quot;item&quot;));\r\n\r\nThe format is:\r\n\r\n    booleanCondition ? valueIfTrue : valueIfFalse\r\n\r\n[1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html","title":"if statement inside the print statement?","body":"<p>You can't write an <code>if</code> statement inside an expression like that.</p>\n\n<p>However, you can use <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\">Java's ternary operator <code>?:</code></a> (scroll down about half way in the linked page) to embed a conditional expression:</p>\n\n<pre><code>System.out.println(\"The list has: \" +  ((array.size() &gt; 1) ? \"items\" : \"item\"));\n</code></pre>\n\n<p>The format is:</p>\n\n<pre><code>booleanCondition ? valueIfTrue : valueIfFalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20534694,"reputation":1,"user_id":15071084,"display_name":"tech kid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676264787,"creation_date":1676264787,"answer_id":75432059,"question_id":19599880,"body_markdown":"we Do this like\r\n\r\n&gt; ***System.out.println(20 &gt; 30 &quot;yes&quot;:&quot;no&quot;);***\r\n&gt; \r\n&gt; \r\n&gt;                   ***conditon iftrue : iffalse***","title":"if statement inside the print statement?","body":"<p>we Do this like</p>\n<blockquote>\n<p><em><strong>System.out.println(20 &gt; 30 &quot;yes&quot;:&quot;no&quot;);</strong></em></p>\n<pre><code>              ***conditon iftrue : iffalse***\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":3486984,"reputation":119,"user_id":2917642,"accept_rate":33,"display_name":"mohamed ghassar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31311,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":19599898,"answer_count":2,"score":6,"last_activity_date":1676264787,"creation_date":1382737365,"question_id":19599880,"body_markdown":"How can I write an if statement inside the print statement?\r\n\r\n\r\n    public boolean checkEmpty()\r\n    {\r\n        if(array.isEmpty)\r\n        {\r\n            Sytem.out.println(&quot;The List is empty&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;The list has: &quot; +  if(array.size() &gt; 1)) {&quot;Items&quot;} + else {&quot;item&quot;} );\r\n        }\r\n    }\r\n\r\n ","title":"if statement inside the print statement?","body":"<p>How can I write an if statement inside the print statement?</p>\n\n<pre><code>public boolean checkEmpty()\n{\n    if(array.isEmpty)\n    {\n        Sytem.out.println(\"The List is empty\");\n    }\n    else\n    {\n        System.out.println(\"The list has: \" +  if(array.size() &gt; 1)) {\"Items\"} + else {\"item\"} );\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","encryption","rgb"],"answers":[{"tags":[],"owner":{"account_id":19683976,"reputation":15,"user_id":19394678,"display_name":"Schoggi_23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676263648,"creation_date":1676263648,"answer_id":75431975,"question_id":75305487,"body_markdown":"Here is the correct solution to this problem with a well commented explanation:\r\n\r\n         public static byte[] convertImgData2DToByte(BufferedImage image) {\r\n          \r\n                int width = image.getWidth(); // Width\r\n                int height = image.getHeight(); // Height\r\n                int[][] result = new int[height][width]; // 2D array initialization \r\n        \r\n                /* \r\n                Nested for-loop that iterates through\r\n                every position in img and stores the pixel data from each\r\n                into the 2D int array\r\n                 */\r\n                for (int row = 0; row &lt; height; row++) {\r\n                    for (int col = 0; col &lt; width; col++) {\r\n                        result[row][col] = image.getRGB(col, row);\r\n                    }\r\n                }\r\n    \r\n            /*\r\n            Step 2. Convert the resulting 2D array of rgb values \r\n            into a byte array. This way it can encrypted.\r\n             */\r\n            int sizeOfResult = 0; // Initialization \r\n            for (int i = 0; i &lt; result.length; i++) { // Counts each row length to find total number of ints\r\n                sizeOfResult += result[i].length;\r\n            }\r\n    \r\n            ByteBuffer byteBuffer = ByteBuffer.allocate(sizeOfResult * 4); // Memory allocation (each int requires 4 bytes)\r\n            IntBuffer intBuffer = byteBuffer.asIntBuffer(); // Holds same memory allocation as byteBuffer\r\n    \r\n            for (int i = 0; i &lt; result.length; i++) { // Loops through again to store every int into the intBuffer\r\n                intBuffer.put(result[i]);\r\n            }\r\n    \r\n            byte[] buffer = byteBuffer.array(); // Final byte representation \r\n    \r\n            return buffer; // Return value for ImageEncryption class","title":"Image Encryption: Convert Image Pixel Data into Byte Values","body":"<p>Here is the correct solution to this problem with a well commented explanation:</p>\n<pre><code>     public static byte[] convertImgData2DToByte(BufferedImage image) {\n      \n            int width = image.getWidth(); // Width\n            int height = image.getHeight(); // Height\n            int[][] result = new int[height][width]; // 2D array initialization \n    \n            /* \n            Nested for-loop that iterates through\n            every position in img and stores the pixel data from each\n            into the 2D int array\n             */\n            for (int row = 0; row &lt; height; row++) {\n                for (int col = 0; col &lt; width; col++) {\n                    result[row][col] = image.getRGB(col, row);\n                }\n            }\n\n        /*\n        Step 2. Convert the resulting 2D array of rgb values \n        into a byte array. This way it can encrypted.\n         */\n        int sizeOfResult = 0; // Initialization \n        for (int i = 0; i &lt; result.length; i++) { // Counts each row length to find total number of ints\n            sizeOfResult += result[i].length;\n        }\n\n        ByteBuffer byteBuffer = ByteBuffer.allocate(sizeOfResult * 4); // Memory allocation (each int requires 4 bytes)\n        IntBuffer intBuffer = byteBuffer.asIntBuffer(); // Holds same memory allocation as byteBuffer\n\n        for (int i = 0; i &lt; result.length; i++) { // Loops through again to store every int into the intBuffer\n            intBuffer.put(result[i]);\n        }\n\n        byte[] buffer = byteBuffer.array(); // Final byte representation \n\n        return buffer; // Return value for ImageEncryption class\n</code></pre>\n"}],"owner":{"account_id":19683976,"reputation":15,"user_id":19394678,"display_name":"Schoggi_23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75431975,"answer_count":1,"score":1,"last_activity_date":1676263648,"creation_date":1675223670,"question_id":75305487,"body_markdown":"I&#39;m attempting to encrypt the content of a file, in this case a png, and not the actual file itself. This way I can see the difference between ECB and CBC encrpytion (example photos [here:](https://github.com/robertdavidgraham/ecb-penguin). \r\n\r\nMy intuition: I&#39;m unsure if this is the best or even correct approach but my logic is to take the pixel data from the png and store it into an array. Then take the array and convert to a byte array. This way I can encrypt it using either ecb or cbc and then simply reverse the process afterwards. \r\n\r\n**My attempted code:** Is this conversion correct and if not, how would I correctly convert them? I suspect it&#39;s incorrect because somewhere in this conversion the rgb values are getting messed up and that&#39;s why the ecb implementation fails to draw an outline. \r\n\r\n            // 1. Store rgb values into array\r\n            int w = image.getWidth(); // width\r\n            int h = image.getHeight(); // height\r\n            int total_pixels = (h*w);\r\n            Color[] colors = new Color[total_pixels];\r\n            int i = 0;\r\n            for (int x = 0; x &lt; w; x++) {\r\n                for (int y = 0; y &lt; h; y++) {\r\n                    colors[i] = new Color(image.getRGB(x, y));\r\n                    i++;\r\n                } // end inner for-loop\r\n            } // end outer for-loop\r\n            \r\n            // 2. Convert int array into byte array for encryption\r\n            ByteBuffer byteBuffer = ByteBuffer.allocate(colors.length * 4);        \r\n            IntBuffer intBuffer = byteBuffer.asIntBuffer();\r\n            intBuffer.put(total_pixels); // This does not except colors as input and is the wrong variable but using it to show what&#39;s happening\r\n            byte[] toBeEnc = byteBuffer.array();\r\n\r\n**After encryption and reversing my process:**\r\n\r\n[ECB: Incorrect output, should have a rough outline of the penguin like in the github link attached](https://i.stack.imgur.com/rsS38.png)\r\n\r\n[CBC: This is actually correct given the nature of cbc encryption](https://i.stack.imgur.com/VCGaY.jpg)\r\n\r\n**Additional Code after encryption:** I know this reversal is also probably incorrect but I figured if I can get the inital conversion correct, I will be able to fix this.\r\n           \r\n\r\n\r\n            byte[] encBytes = cipher.doFinal(toBeEnc);//encrypted byte array\r\n           \r\n            // 4. Convert byte array back to int array\r\n            IntBuffer intBuf = ByteBuffer.wrap(encBytes).order(ByteOrder.LITTLE_ENDIAN).asIntBuffer();\r\n            int[] encArray = new int[intBuf.remaining()];\r\n            intBuf.get(encArray);\r\n\r\n            // 5. Convert int array into file format\r\n            DataBuffer rgbData = new DataBufferInt(encArray, encArray.length);\r\n            WritableRaster raster = Raster.createPackedRaster(rgbData, w, h, w, new int[]{0xff0000, 0xff00, 0xff},null);\r\n            ColorModel colorModel = new DirectColorModel(24, 0xff0000, 0xff00, 0xff);\r\n            BufferedImage img = new BufferedImage(colorModel, raster, false, null);\r\n            String fileName = &quot;C:\\\\Users\\\\Mark Case\\\\Pictures\\\\Saved Pictures\\\\tux-enc.png&quot;;\r\n            ImageIO.write(img, &quot;png&quot;, new File(fileName));","title":"Image Encryption: Convert Image Pixel Data into Byte Values","body":"<p>I'm attempting to encrypt the content of a file, in this case a png, and not the actual file itself. This way I can see the difference between ECB and CBC encrpytion (example photos <a href=\"https://github.com/robertdavidgraham/ecb-penguin\" rel=\"nofollow noreferrer\">here:</a>.</p>\n<p>My intuition: I'm unsure if this is the best or even correct approach but my logic is to take the pixel data from the png and store it into an array. Then take the array and convert to a byte array. This way I can encrypt it using either ecb or cbc and then simply reverse the process afterwards.</p>\n<p><strong>My attempted code:</strong> Is this conversion correct and if not, how would I correctly convert them? I suspect it's incorrect because somewhere in this conversion the rgb values are getting messed up and that's why the ecb implementation fails to draw an outline.</p>\n<pre><code>        // 1. Store rgb values into array\n        int w = image.getWidth(); // width\n        int h = image.getHeight(); // height\n        int total_pixels = (h*w);\n        Color[] colors = new Color[total_pixels];\n        int i = 0;\n        for (int x = 0; x &lt; w; x++) {\n            for (int y = 0; y &lt; h; y++) {\n                colors[i] = new Color(image.getRGB(x, y));\n                i++;\n            } // end inner for-loop\n        } // end outer for-loop\n        \n        // 2. Convert int array into byte array for encryption\n        ByteBuffer byteBuffer = ByteBuffer.allocate(colors.length * 4);        \n        IntBuffer intBuffer = byteBuffer.asIntBuffer();\n        intBuffer.put(total_pixels); // This does not except colors as input and is the wrong variable but using it to show what's happening\n        byte[] toBeEnc = byteBuffer.array();\n</code></pre>\n<p><strong>After encryption and reversing my process:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/rsS38.png\" rel=\"nofollow noreferrer\">ECB: Incorrect output, should have a rough outline of the penguin like in the github link attached</a></p>\n<p><a href=\"https://i.stack.imgur.com/VCGaY.jpg\" rel=\"nofollow noreferrer\">CBC: This is actually correct given the nature of cbc encryption</a></p>\n<p><strong>Additional Code after encryption:</strong> I know this reversal is also probably incorrect but I figured if I can get the inital conversion correct, I will be able to fix this.</p>\n<pre><code>        byte[] encBytes = cipher.doFinal(toBeEnc);//encrypted byte array\n       \n        // 4. Convert byte array back to int array\n        IntBuffer intBuf = ByteBuffer.wrap(encBytes).order(ByteOrder.LITTLE_ENDIAN).asIntBuffer();\n        int[] encArray = new int[intBuf.remaining()];\n        intBuf.get(encArray);\n\n        // 5. Convert int array into file format\n        DataBuffer rgbData = new DataBufferInt(encArray, encArray.length);\n        WritableRaster raster = Raster.createPackedRaster(rgbData, w, h, w, new int[]{0xff0000, 0xff00, 0xff},null);\n        ColorModel colorModel = new DirectColorModel(24, 0xff0000, 0xff00, 0xff);\n        BufferedImage img = new BufferedImage(colorModel, raster, false, null);\n        String fileName = &quot;C:\\\\Users\\\\Mark Case\\\\Pictures\\\\Saved Pictures\\\\tux-enc.png&quot;;\n        ImageIO.write(img, &quot;png&quot;, new File(fileName));\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676262992,"creation_date":1676262992,"answer_id":75431930,"question_id":75414005,"body_markdown":"When you do the group aggregation, the pipeline that gets generated is mostly\r\n\r\n    { &quot;$group&quot; : { &quot;_id&quot; : &quot;$name&quot;, &quot;check_count&quot; : { &quot;$sum&quot; : 1}}}\r\n\r\nSo, the result of the group stage will have `_id` as the field, not `name`.\r\nSubsequent, stage should use `_id` field.\r\n\r\n    Aggregation.project().and(&quot;_id&quot;).as(&quot;name&quot;).and(&quot;check_count&quot;).as(&quot;check_count&quot;);","title":"Aggregation Java MongoDB with MongoTemplate not return group value","body":"<p>When you do the group aggregation, the pipeline that gets generated is mostly</p>\n<pre><code>{ &quot;$group&quot; : { &quot;_id&quot; : &quot;$name&quot;, &quot;check_count&quot; : { &quot;$sum&quot; : 1}}}\n</code></pre>\n<p>So, the result of the group stage will have <code>_id</code> as the field, not <code>name</code>.\nSubsequent, stage should use <code>_id</code> field.</p>\n<pre><code>Aggregation.project().and(&quot;_id&quot;).as(&quot;name&quot;).and(&quot;check_count&quot;).as(&quot;check_count&quot;);\n</code></pre>\n"}],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75431930,"answer_count":1,"score":0,"last_activity_date":1676263096,"creation_date":1676048150,"question_id":75414005,"body_markdown":"In my Spring Controller I cannot figure out how to retrieve correctly the result of a MongoDB with MongoTemplate aggregation. Below is the code from my Controller class:\r\n\r\n    Aggregation aggregation = Aggregation.newAggregation(\r\n                        Aggregation.match(Criteria.where(&quot;modality&quot;).is(&quot;check&quot;)),\r\n                        Aggregation.group(&quot;name&quot;).count().as(&quot;check_count&quot;),\r\n                        Aggregation.project(&quot;name&quot;).and(&quot;check_count&quot;).as(&quot;check_count&quot;)\r\n                );\r\n                AggregationResults&lt;Response&gt; res = mongoTemplate.aggregate(aggregation, &quot;user&quot;, Response.class);\r\n\r\nBelow the simple class of User and Response:\r\n\r\n    @Document(collection = &quot;user&quot;)\r\n    class User{\r\n         @Id\r\n        private String id;\r\n    \tprivate String name;\r\n    \tprivate String modality;\r\n    \r\n       //constructor and get/set\r\n    }\r\n\r\n\r\n    class Response{\r\n    \tprivate String name;\r\n    \tprivate string check_count;\r\n    \r\n    //constructor and get/set\r\n    }\r\n\r\n\r\nSo I retrieve correctly my response but I do not see the name, that is always null:\r\n\r\n    {\r\n        &quot;user&quot;: [\r\n            {\r\n                &quot;name&quot;: null,\r\n                &quot;check_count&quot;: 61\r\n            },\r\n            {\r\n                &quot;name&quot;: null,\r\n                &quot;check_count&quot;: 15\r\n            },...\r\n\r\nWhat is wrong in my Aggregation.group ? Thanks","title":"Aggregation Java MongoDB with MongoTemplate not return group value","body":"<p>In my Spring Controller I cannot figure out how to retrieve correctly the result of a MongoDB with MongoTemplate aggregation. Below is the code from my Controller class:</p>\n<pre><code>Aggregation aggregation = Aggregation.newAggregation(\n                    Aggregation.match(Criteria.where(&quot;modality&quot;).is(&quot;check&quot;)),\n                    Aggregation.group(&quot;name&quot;).count().as(&quot;check_count&quot;),\n                    Aggregation.project(&quot;name&quot;).and(&quot;check_count&quot;).as(&quot;check_count&quot;)\n            );\n            AggregationResults&lt;Response&gt; res = mongoTemplate.aggregate(aggregation, &quot;user&quot;, Response.class);\n</code></pre>\n<p>Below the simple class of User and Response:</p>\n<pre><code>@Document(collection = &quot;user&quot;)\nclass User{\n     @Id\n    private String id;\n    private String name;\n    private String modality;\n\n   //constructor and get/set\n}\n\n\nclass Response{\n    private String name;\n    private string check_count;\n\n//constructor and get/set\n}\n</code></pre>\n<p>So I retrieve correctly my response but I do not see the name, that is always null:</p>\n<pre><code>{\n    &quot;user&quot;: [\n        {\n            &quot;name&quot;: null,\n            &quot;check_count&quot;: 61\n        },\n        {\n            &quot;name&quot;: null,\n            &quot;check_count&quot;: 15\n        },...\n</code></pre>\n<p>What is wrong in my Aggregation.group ? Thanks</p>\n"},{"tags":["java","string","object","static","final"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1676056029,"post_id":75414847,"comment_id":133067642,"body_markdown":"What do you mean by _inline the string_? `FOO` and the return value of `func1()` are references to objects. Both of those will evaluate to the same reference value.","body":"What do you mean by <i>inline the string</i>? <code>FOO</code> and the return value of <code>func1()</code> are references to objects. Both of those will evaluate to the same reference value."},{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":0,"creation_date":1676262266,"post_id":75414847,"comment_id":133095218,"body_markdown":"@SotiriosDelimanolis I have been told that String constants of this type are essentially inlined by the compiler. If this is not true, then please tell me that.","body":"@SotiriosDelimanolis I have been told that String constants of this type are essentially inlined by the compiler. If this is not true, then please tell me that."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1676266995,"post_id":75414847,"comment_id":133095704,"body_markdown":"How do you define _inline_?","body":"How do you define <i>inline</i>?"},{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":0,"creation_date":1676273182,"post_id":75414847,"comment_id":133096698,"body_markdown":"@SotiriosDelimanolis I was told that `if(func1() == FOO)` becomes `if(func1() == &quot;foo&quot;)` - as if the string is copied in as text (which makes me worry it&#39;s a different string object). Note: I am aware that optimizing compilers will make it the same object, my question is does the language spec guarantee this.","body":"@SotiriosDelimanolis I was told that <code>if(func1() == FOO)</code> becomes <code>if(func1() == &quot;foo&quot;)</code> - as if the string is copied in as text (which makes me worry it&#39;s a different string object). Note: I am aware that optimizing compilers will make it the same object, my question is does the language spec guarantee this."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1676302526,"post_id":75414847,"comment_id":133105077,"body_markdown":"Yes, Java does replace the use of [constant variables](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.29) with their value, eg. https://stackoverflow.com/questions/5173372/java-static-final-values-replaced-in-code-when-compiling. But this doesn&#39;t matter here, because the String value is interned anyway.","body":"Yes, Java does replace the use of <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">constant variables</a> with their value, eg. <a href=\"https://stackoverflow.com/questions/5173372/java-static-final-values-replaced-in-code-when-compiling\" title=\"java static final values replaced in code when compiling\">stackoverflow.com/questions/5173372/&hellip;</a>. But this doesn&#39;t matter here, because the String value is interned anyway."}],"answers":[{"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1676054337,"post_id":75414912,"comment_id":133067221,"body_markdown":"https://imgur.com/a/2J6M0Qx testing it, I was correct. It does return true.","body":"<a href=\"https://imgur.com/a/2J6M0Qx\" rel=\"nofollow noreferrer\">imgur.com/a/2J6M0Qx</a> testing it, I was correct. It does return true."},{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":0,"creation_date":1676054950,"post_id":75414912,"comment_id":133067387,"body_markdown":"I know it returns true in current compilers, but does the language guarantee that a string pool is used? Is that an implementation artifact, or something the language requires?","body":"I know it returns true in current compilers, but does the language guarantee that a string pool is used? Is that an implementation artifact, or something the language requires?"},{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1676055059,"post_id":75414912,"comment_id":133067416,"body_markdown":"@Ariel generally, it&#39;s not required for an jvm implementation to use a string pool, which is why it&#39;s generally not recommended to use == anywhere near strings. It saves performance tho, so you&#39;ll find virtually no jvm that doesn&#39;t use a string pool","body":"@Ariel generally, it&#39;s not required for an jvm implementation to use a string pool, which is why it&#39;s generally not recommended to use == anywhere near strings. It saves performance tho, so you&#39;ll find virtually no jvm that doesn&#39;t use a string pool"}],"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676054437,"creation_date":1676054128,"answer_id":75414912,"question_id":75414847,"body_markdown":"As far as I am aware, this will return true. When making strings using the literal &quot;, the string pool will return an instance of an existing string with the specified content, if it exists.\r\n\r\nIn this case, the code compiles to:\r\n```java\r\npublic String func1() {\r\n    return &quot;foo&quot;;\r\n}\r\n\r\nif (func1() == &quot;foo&quot;) ...\r\n```\r\nThe literals are the same, which means that the string instance resulting from the literals will also be the same, making == yield true.","title":"Comparing static final String using ==","body":"<p>As far as I am aware, this will return true. When making strings using the literal &quot;, the string pool will return an instance of an existing string with the specified content, if it exists.</p>\n<p>In this case, the code compiles to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String func1() {\n    return &quot;foo&quot;;\n}\n\nif (func1() == &quot;foo&quot;) ...\n</code></pre>\n<p>The literals are the same, which means that the string instance resulting from the literals will also be the same, making == yield true.</p>\n"},{"comments":[{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":0,"creation_date":1676058209,"post_id":75415330,"comment_id":133068159,"body_markdown":"Is user16320675&#39;s answer wrong?","body":"Is user16320675&#39;s answer wrong?"},{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":0,"creation_date":1676262170,"post_id":75415330,"comment_id":133095209,"body_markdown":"I have edited it to clarify that it&#39;s a separate class - the consts are actually a completely separate library, included as a dependency.","body":"I have edited it to clarify that it&#39;s a separate class - the consts are actually a completely separate library, included as a dependency."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676298705,"post_id":75415330,"comment_id":133103679,"body_markdown":"The other answer only returned false because the value of FOO was changed to some other String so the references were different. Well of course that will return false.  But imo, that is not what you asked or implied.  And it also would not make it a constant, as indicated by the `static final` declaration (and you did identity it as a constant).  So the answer is that your code above will always return true.","body":"The other answer only returned false because the value of FOO was changed to some other String so the references were different. Well of course that will return false.  But imo, that is not what you asked or implied.  And it also would not make it a constant, as indicated by the <code>static final</code> declaration (and you did identity it as a constant).  So the answer is that your code above will always return true."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676057166,"creation_date":1676057166,"answer_id":75415330,"question_id":75414847,"body_markdown":"Yes it will always return true.  But  static has nothing to do with it. It would always return true even if declared as an instance field.  And using `String FOO = new String(&quot;foo&quot;)` would also return true because in all cases you are returning the same instance from `func1()` so you are basically doing:\r\n```\r\nSystem.out.println(FOO == FOO);\r\n```\r\nThe difficulty is when you want to compare multiple `different` instances of `&quot;foo&quot;` to FOO.\r\n```\r\nString FOO = new String(&quot;foo&quot;); // static or not\r\npublic String func1() {\r\n    return &quot;foo&quot;;\r\n}\r\nSystem.out.println(func1() == FOO);\r\n```\r\nPrints false since &quot;foo&quot; is a string literal and as such is put in the string pool and FOO is not.  So you&#39;re comparing a string pool reference to some other reference of the same String.\r\n```\r\nSystem.out.println(new String(&quot;foo&quot;) == new String(&quot;foo&quot;)); //false- different refs\r\nSystem.out.println(&quot;foo&quot; == &quot;foo&quot;); // true - same refs via string pool\r\n```\r\nprints\r\n```\r\nfalse\r\ntrue\r\n```\r\nRemember, the same String literals always return the same reference.\r\n```\r\nSystem.out.println(System.identityHashCode(&quot;foo&quot;));\r\nSystem.out.println(System.identityHashCode(&quot;foo&quot;));\r\nSystem.out.println(System.identityHashCode(&quot;foo&quot;));\r\nSystem.out.println(System.identityHashCode(&quot;bar&quot;));\r\nSystem.out.println(System.identityHashCode(&quot;bar&quot;));\r\nSystem.out.println(System.identityHashCode(&quot;bar&quot;));\r\n```\r\nprints something like\r\n```\r\n1995265320\r\n1995265320\r\n1995265320\r\n746292446\r\n746292446\r\n746292446\r\n","title":"Comparing static final String using ==","body":"<p>Yes it will always return true.  But  static has nothing to do with it. It would always return true even if declared as an instance field.  And using <code>String FOO = new String(&quot;foo&quot;)</code> would also return true because in all cases you are returning the same instance from <code>func1()</code> so you are basically doing:</p>\n<pre><code>System.out.println(FOO == FOO);\n</code></pre>\n<p>The difficulty is when you want to compare multiple <code>different</code> instances of <code>&quot;foo&quot;</code> to FOO.</p>\n<pre><code>String FOO = new String(&quot;foo&quot;); // static or not\npublic String func1() {\n    return &quot;foo&quot;;\n}\nSystem.out.println(func1() == FOO);\n</code></pre>\n<p>Prints false since &quot;foo&quot; is a string literal and as such is put in the string pool and FOO is not.  So you're comparing a string pool reference to some other reference of the same String.</p>\n<pre><code>System.out.println(new String(&quot;foo&quot;) == new String(&quot;foo&quot;)); //false- different refs\nSystem.out.println(&quot;foo&quot; == &quot;foo&quot;); // true - same refs via string pool\n</code></pre>\n<p>prints</p>\n<pre><code>false\ntrue\n</code></pre>\n<p>Remember, the same String literals always return the same reference.</p>\n<pre><code>System.out.println(System.identityHashCode(&quot;foo&quot;));\nSystem.out.println(System.identityHashCode(&quot;foo&quot;));\nSystem.out.println(System.identityHashCode(&quot;foo&quot;));\nSystem.out.println(System.identityHashCode(&quot;bar&quot;));\nSystem.out.println(System.identityHashCode(&quot;bar&quot;));\nSystem.out.println(System.identityHashCode(&quot;bar&quot;));\n</code></pre>\n<p>prints something like</p>\n<pre><code>1995265320\n1995265320\n1995265320\n746292446\n746292446\n746292446\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676059705,"creation_date":1676057771,"answer_id":75415427,"question_id":75414847,"body_markdown":"No, it is not guaranteed that it will always return `true`.\r\n\r\nThe compiler does indeed *inline* the `static final` field. Well, not sure if we can call that *inline* - the value will be added to the constant pool of the class(es) using it, kind of avoiding to have to access it from the original class. So, if the test is in a different file as the constant and the function, the value of the constant can be changed without re-compiling the file doing the test. In this case it will return `false`.\r\n\r\nNotes:\r\n* this also affects other type of *constants*, like `int` or `double`;\r\n* If (re-)compiling all files, that will never happen, it will always result in `true`.\r\n* can easily happen when updating some library and its public part was changed (it should not)\r\n* (obviously?) if all usages of the *constant* are in the same file, it will never return `false` (it will always be compiled together)\r\n* even using `equals()` it will return `false` if all involved files are not re-compiled!\r\n\r\n-----\r\n\r\nSimple to test:\r\n\r\nHolder.java:\r\n```` \r\npublic class Holder {\r\n    public static final String FOO = &quot;foo&quot;;\r\n    public static String func() { return FOO; }\r\n}\r\n````\r\n\r\nMain.java:  \r\n````\r\npublic class Main {\r\n  public static void main(String... args) {\r\n    System.out.println(Holder.func() == HolderB.FOO);\r\n   // or\r\n    System.out.println(Holder.func().equals(HolderB.FOO));\r\n  }\r\n}\r\n```` \r\n\r\n* Compile both files - `true` will be output;\r\n* change to `... FOO = &quot;bar&quot;;`;\r\n* compile **only** `Holder.java` - output will be `false`.","title":"Comparing static final String using ==","body":"<p>No, it is not guaranteed that it will always return <code>true</code>.</p>\n<p>The compiler does indeed <em>inline</em> the <code>static final</code> field. Well, not sure if we can call that <em>inline</em> - the value will be added to the constant pool of the class(es) using it, kind of avoiding to have to access it from the original class. So, if the test is in a different file as the constant and the function, the value of the constant can be changed without re-compiling the file doing the test. In this case it will return <code>false</code>.</p>\n<p>Notes:</p>\n<ul>\n<li>this also affects other type of <em>constants</em>, like <code>int</code> or <code>double</code>;</li>\n<li>If (re-)compiling all files, that will never happen, it will always result in <code>true</code>.</li>\n<li>can easily happen when updating some library and its public part was changed (it should not)</li>\n<li>(obviously?) if all usages of the <em>constant</em> are in the same file, it will never return <code>false</code> (it will always be compiled together)</li>\n<li>even using <code>equals()</code> it will return <code>false</code> if all involved files are not re-compiled!</li>\n</ul>\n<hr />\n<p>Simple to test:</p>\n<p>Holder.java:</p>\n<pre><code>public class Holder {\n    public static final String FOO = &quot;foo&quot;;\n    public static String func() { return FOO; }\n}\n</code></pre>\n<p>Main.java:</p>\n<pre><code>public class Main {\n  public static void main(String... args) {\n    System.out.println(Holder.func() == HolderB.FOO);\n   // or\n    System.out.println(Holder.func().equals(HolderB.FOO));\n  }\n}\n</code></pre>\n<ul>\n<li>Compile both files - <code>true</code> will be output;</li>\n<li>change to <code>... FOO = &quot;bar&quot;;</code>;</li>\n<li>compile <strong>only</strong> <code>Holder.java</code> - output will be <code>false</code>.</li>\n</ul>\n"}],"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1676155009,"answer_count":3,"score":-1,"last_activity_date":1676262102,"creation_date":1676053718,"question_id":75414847,"body_markdown":"    package foo.library;\r\n\r\n    public class Consts {\r\n      public static final String FOO = &quot;foo&quot;;\r\n    }\r\n\r\n----\r\n\r\n    package bar.code;\r\n\r\n    public class codeFuncs {    \r\n      public String func1() {\r\n        return FOO;\r\n      }\r\n    \r\n      if(func1() == FOO) ....\r\n    }\r\n\r\n(The const is in a library included as a dependency.)\r\n\r\nIs this guaranteed by Java to always return true? Or can the compiler inline the string, and not intern/memoize the string, and then it might return false, since the compiler created two different objects?\r\n\r\nOr does the static final guarantee that it uses the defined String Object, and it won&#39;t inline the text?","title":"Comparing static final String using ==","body":"<pre><code>package foo.library;\n\npublic class Consts {\n  public static final String FOO = &quot;foo&quot;;\n}\n</code></pre>\n<hr />\n<pre><code>package bar.code;\n\npublic class codeFuncs {    \n  public String func1() {\n    return FOO;\n  }\n\n  if(func1() == FOO) ....\n}\n</code></pre>\n<p>(The const is in a library included as a dependency.)</p>\n<p>Is this guaranteed by Java to always return true? Or can the compiler inline the string, and not intern/memoize the string, and then it might return false, since the compiler created two different objects?</p>\n<p>Or does the static final guarantee that it uses the defined String Object, and it won't inline the text?</p>\n"},{"tags":["java","rest","apache-camel","swagger"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1592284273,"post_id":62397377,"comment_id":110362181,"body_markdown":"What version of Camel do you use?","body":"What version of Camel do you use?"},{"owner":{"account_id":1184689,"reputation":71,"user_id":1158897,"display_name":"TheBitMuncher"},"score":0,"creation_date":1592422927,"post_id":62397377,"comment_id":110423849,"body_markdown":"2.21.0.fuse-760027-redhat-00001","body":"2.21.0.fuse-760027-redhat-00001"}],"answers":[{"tags":[],"owner":{"account_id":197773,"reputation":944,"user_id":442050,"accept_rate":58,"display_name":"Akvel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652891941,"creation_date":1652891941,"answer_id":72292977,"question_id":62397377,"body_markdown":"I have same problem. As I can figure out this setter support only simple types (string, float etc). Below sources from org.apache.camel.swagger.RestSwaggerReader:\r\n\r\n    if (isArray) {\r\n    if (param.getArrayType() != null) {\r\n        if (param.getArrayType().equalsIgnoreCase(&quot;string&quot;)) {\r\n            defineItems(serializableParameter, allowableValues, new StringProperty(), String.class);\r\n        }\r\n        if (param.getArrayType().equalsIgnoreCase(&quot;int&quot;)\r\n                || param.getArrayType().equalsIgnoreCase(&quot;integer&quot;)) {\r\n            defineItems(serializableParameter, allowableValues, new IntegerProperty(),\r\n                    Integer.class);\r\n        }\r\n        if (param.getArrayType().equalsIgnoreCase(&quot;long&quot;)) {\r\n            defineItems(serializableParameter, allowableValues, new LongProperty(), Long.class);\r\n        }\r\n        if (param.getArrayType().equalsIgnoreCase(&quot;float&quot;)) {\r\n            defineItems(serializableParameter, allowableValues, new FloatProperty(), Float.class);\r\n        }\r\n        if (param.getArrayType().equalsIgnoreCase(&quot;double&quot;)) {\r\n            defineItems(serializableParameter, allowableValues, new DoubleProperty(), Double.class);\r\n        }\r\n        if (param.getArrayType().equalsIgnoreCase(&quot;boolean&quot;)) {\r\n            defineItems(serializableParameter, allowableValues, new BooleanProperty(),\r\n                    Boolean.class);\r\n        }\r\n    }\r\n","title":"How to display camel rest parameter List of Objects with Swagger","body":"<p>I have same problem. As I can figure out this setter support only simple types (string, float etc). Below sources from org.apache.camel.swagger.RestSwaggerReader:</p>\n<pre><code>if (isArray) {\nif (param.getArrayType() != null) {\n    if (param.getArrayType().equalsIgnoreCase(&quot;string&quot;)) {\n        defineItems(serializableParameter, allowableValues, new StringProperty(), String.class);\n    }\n    if (param.getArrayType().equalsIgnoreCase(&quot;int&quot;)\n            || param.getArrayType().equalsIgnoreCase(&quot;integer&quot;)) {\n        defineItems(serializableParameter, allowableValues, new IntegerProperty(),\n                Integer.class);\n    }\n    if (param.getArrayType().equalsIgnoreCase(&quot;long&quot;)) {\n        defineItems(serializableParameter, allowableValues, new LongProperty(), Long.class);\n    }\n    if (param.getArrayType().equalsIgnoreCase(&quot;float&quot;)) {\n        defineItems(serializableParameter, allowableValues, new FloatProperty(), Float.class);\n    }\n    if (param.getArrayType().equalsIgnoreCase(&quot;double&quot;)) {\n        defineItems(serializableParameter, allowableValues, new DoubleProperty(), Double.class);\n    }\n    if (param.getArrayType().equalsIgnoreCase(&quot;boolean&quot;)) {\n        defineItems(serializableParameter, allowableValues, new BooleanProperty(),\n                Boolean.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10433981,"reputation":11,"user_id":7692900,"display_name":"alps_ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676262050,"creation_date":1676262050,"answer_id":75431885,"question_id":62397377,"body_markdown":"you can convert it to string first and then use JacksonDataFormat by specifying Pojo class.\r\n\r\n`.convertBodyTo(String.class).unmarshal(new JacksonDataFormat(Pojo[].class))`","title":"How to display camel rest parameter List of Objects with Swagger","body":"<p>you can convert it to string first and then use JacksonDataFormat by specifying Pojo class.</p>\n<p><code>.convertBodyTo(String.class).unmarshal(new JacksonDataFormat(Pojo[].class))</code></p>\n"}],"owner":{"account_id":1184689,"reputation":71,"user_id":1158897,"display_name":"TheBitMuncher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676262050,"creation_date":1592256705,"question_id":62397377,"body_markdown":"How can one have **camel-swagger-java** scan a camel rest api route and represent a rest endpoint parameter that is a list of pojo objects where those pojos have json properties?\r\n\r\nWhen attempting to use List&lt;SamplePojo&gt; or SamplePojo[] as the camel rest endpoint body, both `.type(SamplePojo[].class)` and `.typeList(SamplePojo.class)` are used by camel-swagger-java to produce an api page that shows the body just being a string instead of showing json for all the properties in the SamplePojo class.\r\n\r\nThere is an .arrayType method that can be used on route parameters, but there isn&#39;t mention of what should be specified:  .arrayType(&quot;whatHere?&quot;)\r\n\r\nAttempts using it below have swagger showing the type as just a string, not the json properties:\r\n\r\n`.arrayType(SamplePojo.class.getName())`\r\n\r\n*RestOperationParamDefinition*:\r\n```\r\n/**\r\n * Sets the Swagger Parameter array type.\r\n * Required if data type is &quot;array&quot;. Describes the type of items in the array.\r\n */\r\npublic void setArrayType(String arrayType) {\r\n\tthis.arrayType = arrayType;\r\n}\r\n```\t\r\n\t\r\n\t\r\n\r\nSomeone asked this without a resolution:\r\n\r\nhttps://camel.465427.n5.nabble.com/How-to-get-long-and-array-data-types-working-in-camel-swagger-java-td5775343.html\r\n\r\nThere are camel examples for swagger, but not with a List&lt;MyPojo&gt; param example:\r\n\r\nhttps://github.com/Talend/apache-camel/blob/master/examples/camel-example-swagger-cdi/src/main/java/org/apache/camel/example/cdi/UserRouteBuilder.java","title":"How to display camel rest parameter List of Objects with Swagger","body":"<p>How can one have <strong>camel-swagger-java</strong> scan a camel rest api route and represent a rest endpoint parameter that is a list of pojo objects where those pojos have json properties?</p>\n\n<p>When attempting to use List or SamplePojo[] as the camel rest endpoint body, both <code>.type(SamplePojo[].class)</code> and <code>.typeList(SamplePojo.class)</code> are used by camel-swagger-java to produce an api page that shows the body just being a string instead of showing json for all the properties in the SamplePojo class.</p>\n\n<p>There is an .arrayType method that can be used on route parameters, but there isn't mention of what should be specified:  .arrayType(\"whatHere?\")</p>\n\n<p>Attempts using it below have swagger showing the type as just a string, not the json properties:</p>\n\n<p><code>.arrayType(SamplePojo.class.getName())</code></p>\n\n<p><em>RestOperationParamDefinition</em>:</p>\n\n<pre><code>/**\n * Sets the Swagger Parameter array type.\n * Required if data type is \"array\". Describes the type of items in the array.\n */\npublic void setArrayType(String arrayType) {\n    this.arrayType = arrayType;\n}\n</code></pre>\n\n<p>Someone asked this without a resolution:</p>\n\n<p><a href=\"https://camel.465427.n5.nabble.com/How-to-get-long-and-array-data-types-working-in-camel-swagger-java-td5775343.html\" rel=\"nofollow noreferrer\">https://camel.465427.n5.nabble.com/How-to-get-long-and-array-data-types-working-in-camel-swagger-java-td5775343.html</a></p>\n\n<p>There are camel examples for swagger, but not with a List param example:</p>\n\n<p><a href=\"https://github.com/Talend/apache-camel/blob/master/examples/camel-example-swagger-cdi/src/main/java/org/apache/camel/example/cdi/UserRouteBuilder.java\" rel=\"nofollow noreferrer\">https://github.com/Talend/apache-camel/blob/master/examples/camel-example-swagger-cdi/src/main/java/org/apache/camel/example/cdi/UserRouteBuilder.java</a></p>\n"},{"tags":["java","intellij-idea","gradle","intellij-14"],"answers":[{"tags":[],"owner":{"account_id":2569354,"reputation":3845,"user_id":2228484,"accept_rate":33,"display_name":"mushfek0001"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1436958953,"creation_date":1427793754,"answer_id":29365046,"question_id":29356796,"body_markdown":"Try manually setting a JDK from `File &gt; Project Structure &gt; Project &gt; Project SDK`, Then rebuild.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>Try manually setting a JDK from <code>File &gt; Project Structure &gt; Project &gt; Project SDK</code>, Then rebuild.</p>\n"},{"tags":[],"owner":{"account_id":53478,"reputation":15554,"user_id":159874,"display_name":"4ndrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1427991882,"creation_date":1427991578,"answer_id":29417705,"question_id":29356796,"body_markdown":"I&#39;ve solved this issue by putting gradle.properties file in the same dir as build.gradle with exact path to my JDK:\r\n\r\n    org.gradle.java.home = C:/Dev/JDK\r\n\r\nActually it is not a correct solution, probably it should be fixed in IDE, I see in IDEA logs something like (when I executing gradle task of already imported project):\r\n\r\n    INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Dev/JDK\r\n\r\nBut when I going to import gradle module to the project I don&#39;t see such kind of message, probably IDEA passes link to bundled JRE which is actually not a JDK.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>I've solved this issue by putting gradle.properties file in the same dir as build.gradle with exact path to my JDK:</p>\n\n<pre><code>org.gradle.java.home = C:/Dev/JDK\n</code></pre>\n\n<p>Actually it is not a correct solution, probably it should be fixed in IDE, I see in IDEA logs something like (when I executing gradle task of already imported project):</p>\n\n<pre><code>INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Dev/JDK\n</code></pre>\n\n<p>But when I going to import gradle module to the project I don't see such kind of message, probably IDEA passes link to bundled JRE which is actually not a JDK.</p>\n"},{"tags":[],"owner":{"account_id":2196775,"reputation":1128,"user_id":1942209,"display_name":"Pradyumna Swain"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1429157075,"creation_date":1429157075,"answer_id":29665141,"question_id":29356796,"body_markdown":"The problem lies in Intellij IDEA itself. If you go to Intellij installed directory, you will find a **jre** directory where it&#39;s searching for the above said **java.exe**. But the problem here is there is no **bin** directory here instead another **jre** directory available.So, solution is upfront. copy all the contents from inner **jre** directory and put it in outer **jre** directory. ","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>The problem lies in Intellij IDEA itself. If you go to Intellij installed directory, you will find a <strong>jre</strong> directory where it's searching for the above said <strong>java.exe</strong>. But the problem here is there is no <strong>bin</strong> directory here instead another <strong>jre</strong> directory available.So, solution is upfront. copy all the contents from inner <strong>jre</strong> directory and put it in outer <strong>jre</strong> directory. </p>\n"},{"comments":[{"owner":{"account_id":287794,"reputation":7339,"user_id":587836,"accept_rate":61,"display_name":"JerryKur"},"score":5,"creation_date":1446577166,"post_id":29897690,"comment_id":54797402,"body_markdown":"Segii was right about my issue.  But IMHO the problem is in the Intellij installer.  It needs to have a question that let&#39;s you select from 32 bit (Idea.exe) and 64 bit (idea64.exe) executables.  Also, the installer should be able to inspect your system and determine if it is a 32 bit or 64 bit OS and select the appropriate .EXE as the default.  That would ensure any shortcuts created by the installed pointed to the likely correct version.","body":"Segii was right about my issue.  But IMHO the problem is in the Intellij installer.  It needs to have a question that let&#39;s you select from 32 bit (Idea.exe) and 64 bit (idea64.exe) executables.  Also, the installer should be able to inspect your system and determine if it is a 32 bit or 64 bit OS and select the appropriate .EXE as the default.  That would ensure any shortcuts created by the installed pointed to the likely correct version."},{"owner":{"account_id":330135,"reputation":4446,"user_id":654070,"accept_rate":62,"display_name":"Will Calderwood"},"score":0,"creation_date":1449219911,"post_id":29897690,"comment_id":55921415,"body_markdown":"After installing, my IntelliJ Idea shortcut was pointing to the 32bit exe. I updated the shortcut and that solved the problem.","body":"After installing, my IntelliJ Idea shortcut was pointing to the 32bit exe. I updated the shortcut and that solved the problem."},{"owner":{"account_id":121712,"reputation":5127,"user_id":315001,"accept_rate":88,"display_name":"arviman"},"score":0,"creation_date":1453143251,"post_id":29897690,"comment_id":57463245,"body_markdown":"Weird, 64 bit IdeaJ doesn&#39;t start up.","body":"Weird, 64 bit IdeaJ doesn&#39;t start up."},{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1587852838,"post_id":29897690,"comment_id":108674077,"body_markdown":"this doesn&#39;t answer anything, idk why it&#39;s the main answer. the one below is much better.","body":"this doesn&#39;t answer anything, idk why it&#39;s the main answer. the one below is much better."}],"tags":[],"owner":{"account_id":311240,"reputation":22247,"user_id":624706,"display_name":"Sergii Pechenizkyi"},"comment_count":4,"down_vote_count":6,"up_vote_count":82,"is_accepted":true,"score":76,"last_activity_date":1478107028,"creation_date":1430142675,"answer_id":29897690,"question_id":29356796,"body_markdown":"IDEA comes in 2 versions: 32bit and 64bit. \r\n\r\nYour `JAVA_HOME` is 64bit version of Java so you have to run 64bit version of the IDEA `...\\IntelliJ\\IntelliJ IDEA Community Edition 14.1.2\\bin\\idea64.exe`. \r\n\r\nOtherwise, you can provide 32bit JDK or tweak the behaviour with IDEA settings\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>IDEA comes in 2 versions: 32bit and 64bit. </p>\n\n<p>Your <code>JAVA_HOME</code> is 64bit version of Java so you have to run 64bit version of the IDEA <code>...\\IntelliJ\\IntelliJ IDEA Community Edition 14.1.2\\bin\\idea64.exe</code>. </p>\n\n<p>Otherwise, you can provide 32bit JDK or tweak the behaviour with IDEA settings\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a></p>\n"},{"tags":[],"owner":{"account_id":449002,"reputation":23329,"user_id":843542,"accept_rate":69,"display_name":"Eric Francis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431701706,"creation_date":1430748668,"answer_id":30032296,"question_id":29356796,"body_markdown":"**UPDATE** I believe this issue has been fixed as of 14.1.3\r\n\r\nRelated bug links: \r\n\r\n - [Intellij 14.1 cannot Import correctly Module with Gradle][2]\r\n\r\nThat said, I was able to get by using @Sergii Pechenizkyi&#39;s answer; however, it seems like this problem has a few different solutions.\r\n\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-138454","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p><strong>UPDATE</strong> I believe this issue has been fixed as of 14.1.3</p>\n\n<p>Related bug links: </p>\n\n<ul>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-138454\" rel=\"nofollow\">Intellij 14.1 cannot Import correctly Module with Gradle</a></li>\n</ul>\n\n<p>That said, I was able to get by using @Sergii Pechenizkyi's answer; however, it seems like this problem has a few different solutions.</p>\n"},{"comments":[{"owner":{"account_id":211502,"reputation":2136,"user_id":463706,"accept_rate":92,"display_name":"JoeHz"},"score":0,"creation_date":1456383910,"post_id":35092501,"comment_id":58923509,"body_markdown":"This was driving me up a tree! Your answer made perfect sense of it all though: Gradle had been trying to find the java.exe in the Android SDK (as if!).","body":"This was driving me up a tree! Your answer made perfect sense of it all though: Gradle had been trying to find the java.exe in the Android SDK (as if!)."},{"owner":{"account_id":1278287,"reputation":1129,"user_id":1233031,"display_name":"mergenchik"},"score":0,"creation_date":1552641922,"post_id":35092501,"comment_id":97096478,"body_markdown":"in my case this answer solved my problem, thank you for your answer!","body":"in my case this answer solved my problem, thank you for your answer!"}],"tags":[],"owner":{"account_id":2755390,"reputation":464,"user_id":2483716,"accept_rate":40,"display_name":"user39950"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1454095637,"creation_date":1454095637,"answer_id":35092501,"question_id":29356796,"body_markdown":"This can be fixed by setting the **Project** SDK in Module settings to a JDK (as opposed to the **Module** SDK (which shall be *Android* SDK)","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>This can be fixed by setting the <strong>Project</strong> SDK in Module settings to a JDK (as opposed to the <strong>Module</strong> SDK (which shall be <em>Android</em> SDK)</p>\n"},{"comments":[{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":4,"creation_date":1546611157,"post_id":36539783,"comment_id":94916076,"body_markdown":"I think this is the only answer that is actually related to &quot;intellij gradle plugin&quot;. All other answers are irrelevant.","body":"I think this is the only answer that is actually related to &quot;intellij gradle plugin&quot;. All other answers are irrelevant."}],"tags":[],"owner":{"account_id":4970409,"reputation":75241,"user_id":3998402,"accept_rate":71,"display_name":"humazed"},"comment_count":1,"down_vote_count":2,"up_vote_count":217,"is_accepted":false,"score":215,"last_activity_date":1514673956,"creation_date":1460348306,"answer_id":36539783,"question_id":29356796,"body_markdown":"In my case the answers above didn&#39;t work.\r\nHere&#39;s what work for me:\r\nI needed to change Gradle JVM to point to the actual JDK:\r\n[![Image showing IntelliJ Settings window][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/86YRk.png","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>In my case the answers above didn't work.\nHere's what work for me:\nI needed to change Gradle JVM to point to the actual JDK:\n<a href=\"https://i.stack.imgur.com/86YRk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/86YRk.png\" alt=\"Image showing IntelliJ Settings window\"></a></p>\n"},{"tags":[],"owner":{"account_id":9016091,"reputation":11,"user_id":6718911,"display_name":"user6718911"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471284363,"creation_date":1471284363,"answer_id":38960473,"question_id":29356796,"body_markdown":"Upgrading IntelliJ UE from v14.1.1 to 14.1.7 worked for me.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>Upgrading IntelliJ UE from v14.1.1 to 14.1.7 worked for me.</p>\n"},{"tags":[],"owner":{"account_id":9960173,"reputation":11,"user_id":7369766,"display_name":"user7369766"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483452311,"creation_date":1483452311,"answer_id":41445306,"question_id":29356796,"body_markdown":"It is not working on the Mac as of 16.3. The SDK was set correctly in Project Settings and the Gradle dialog box no longer allows you to select the JDK. The only solution that worked was creating the gradle.properties file.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>It is not working on the Mac as of 16.3. The SDK was set correctly in Project Settings and the Gradle dialog box no longer allows you to select the JDK. The only solution that worked was creating the gradle.properties file.</p>\n"},{"tags":[],"owner":{"account_id":2312155,"reputation":65,"user_id":2030053,"display_name":"DenverDave"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484947243,"creation_date":1484947243,"answer_id":41772532,"question_id":29356796,"body_markdown":"On OSX 10.12.x, Intellij v16.3, I had to go into: \r\n\r\n 1. ~/Library/Preferences/IntelliJIdea2016.3\r\n 2. Create a file called: idea.jdk\r\n 3. Add the following to it: /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk (or whatever JDK you have installed\r\n\r\nThis was a fix I&#39;ve had to do in v16 of Intellij found on jetbrains site. At one point I had to remove it, on the upgrade to 16.3 I had to add it back.\r\n[https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under][1]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>On OSX 10.12.x, Intellij v16.3, I had to go into: </p>\n\n<ol>\n<li>~/Library/Preferences/IntelliJIdea2016.3</li>\n<li>Create a file called: idea.jdk</li>\n<li>Add the following to it: /Library/Java/JavaVirtualMachines/jdk1.8.0_65.jdk (or whatever JDK you have installed</li>\n</ol>\n\n<p>This was a fix I've had to do in v16 of Intellij found on jetbrains site. At one point I had to remove it, on the upgrade to 16.3 I had to add it back.\n<a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/206544879-Selecting-the-JDK-version-the-IDE-will-run-under</a></p>\n"},{"tags":[],"owner":{"account_id":10081736,"reputation":1651,"user_id":7451779,"display_name":"Haider Malik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485037188,"creation_date":1485037188,"answer_id":41785156,"question_id":29356796,"body_markdown":"I encountered the same problem for quite a while and no matter how many forums I looked at it just did not solve the problem.\r\n\r\nLong story short, I found out my antivirus quarantined the java.exe file. So I advise you to open your antivirus and restore the Java.exe file then relaunch android studios.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>I encountered the same problem for quite a while and no matter how many forums I looked at it just did not solve the problem.</p>\n\n<p>Long story short, I found out my antivirus quarantined the java.exe file. So I advise you to open your antivirus and restore the Java.exe file then relaunch android studios.</p>\n"},{"tags":[],"owner":{"account_id":2988956,"reputation":157,"user_id":2536992,"display_name":"Kristopher Noronha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530206053,"creation_date":1530206053,"answer_id":51088342,"question_id":29356796,"body_markdown":"in IntelliJ 2018.1, I ran into this problem because my project SDK was set to Kotlin instead of a JDK. So, despite having a Kotlin project, it would only build if the SDK is a JDK.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>in IntelliJ 2018.1, I ran into this problem because my project SDK was set to Kotlin instead of a JDK. So, despite having a Kotlin project, it would only build if the SDK is a JDK.</p>\n"},{"tags":[],"owner":{"account_id":11253033,"reputation":17925,"user_id":8253662,"display_name":"Mahesh Jamdade"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1542819662,"creation_date":1542819662,"answer_id":53417142,"question_id":29356796,"body_markdown":"I tried this and it worked for me flawlessly.\r\ngo To SETTING--&gt;SEARCH &#39;Gradle&#39;---&gt; and choose Gradle JVM and choose the option Use JAVA_HOME C:\\ProgramFiles\\Java\\JDK\\1.8 \r\nhope this helps someone.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>I tried this and it worked for me flawlessly.\ngo To SETTING-->SEARCH 'Gradle'---> and choose Gradle JVM and choose the option Use JAVA_HOME C:\\ProgramFiles\\Java\\JDK\\1.8 \nhope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":13976236,"reputation":578,"user_id":10093595,"display_name":"Akanksha gore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574236449,"creation_date":1574236449,"answer_id":58949272,"question_id":29356796,"body_markdown":"After trying all above solution nothing worked for me. Then i looked whether the &quot;Use project jdk&quot; path for java is correct. To look it under \r\n***File-&gt;settings-&gt;gradle-&gt; gradle jvm***\r\nI found that jdk got updated and gradle was using old jdk version. \r\nSo, solution was to update Project jdk path for java in intellij.\r\n***File-&gt;project structure-&gt;Platform setting-&gt;SDK***, here ***update your right jdk path.*** thus the problem got solved for me.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>After trying all above solution nothing worked for me. Then i looked whether the \"Use project jdk\" path for java is correct. To look it under \n<strong><em>File->settings->gradle-> gradle jvm</em></strong>\nI found that jdk got updated and gradle was using old jdk version. \nSo, solution was to update Project jdk path for java in intellij.\n<strong><em>File->project structure->Platform setting->SDK</em></strong>, here <strong><em>update your right jdk path.</em></strong> thus the problem got solved for me.</p>\n"},{"comments":[{"owner":{"account_id":505047,"reputation":2471,"user_id":1101509,"display_name":"Andrea Lazzarotto"},"score":3,"creation_date":1654537499,"post_id":69798519,"comment_id":128109290,"body_markdown":"To clarify: this refers to the .gradle folder in the user&#39;s home directory, not in the project. Thanks for the tip.","body":"To clarify: this refers to the .gradle folder in the user&#39;s home directory, not in the project. Thanks for the tip."},{"owner":{"account_id":5249236,"reputation":151,"user_id":4961757,"display_name":"Vagnerlandio Nunes"},"score":1,"creation_date":1674621847,"post_id":69798519,"comment_id":132751532,"body_markdown":"Right in the bull&#39;s-eye, thanks!","body":"Right in the bull&#39;s-eye, thanks!"},{"owner":{"account_id":2395348,"reputation":188,"user_id":2094249,"display_name":"tbigby"},"score":2,"creation_date":1683074202,"post_id":69798519,"comment_id":134309756,"body_markdown":"In my case, I noticed specifically that the `JAVA_HOME` was in the file `.gradle\\daemon\\6.9.2\\registry.bin`. Deleting that file and `registry.bin.lock` resolved the Java Home issue I had.","body":"In my case, I noticed specifically that the <code>JAVA_HOME</code> was in the file <code>.gradle\\daemon\\6.9.2\\registry.bin</code>. Deleting that file and <code>registry.bin.lock</code> resolved the Java Home issue I had."}],"tags":[],"owner":{"account_id":22660515,"reputation":591,"user_id":16833668,"display_name":"Umamad"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1635777628,"creation_date":1635777628,"answer_id":69798519,"question_id":29356796,"body_markdown":"In my case I **delete &quot;.gradle&quot; folder** and let android studio and react native download it again then problem get solved ...\r\nNotice: I&#39;m using windows","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>In my case I <strong>delete &quot;.gradle&quot; folder</strong> and let android studio and react native download it again then problem get solved ...\nNotice: I'm using windows</p>\n"},{"comments":[{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":0,"creation_date":1672587862,"post_id":70745421,"comment_id":132309296,"body_markdown":"Here, the folder is in `C:\\Users\\USERNAME\\.gradle`.","body":"Here, the folder is in <code>C:\\Users\\USERNAME\\.gradle</code>."}],"tags":[],"owner":{"account_id":13458637,"reputation":17,"user_id":13896034,"display_name":"Hiren Vadalia"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642441124,"creation_date":1642441124,"answer_id":70745421,"question_id":29356796,"body_markdown":"in my case I had to delete cached java directory from Program Files/Common Files folder. This directory had previous java executa ble cached. Deleting this folder allowed system to recognize latest java executable","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>in my case I had to delete cached java directory from Program Files/Common Files folder. This directory had previous java executa ble cached. Deleting this folder allowed system to recognize latest java executable</p>\n"},{"tags":[],"owner":{"account_id":26011160,"reputation":11,"user_id":19720200,"display_name":"user19720200"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659978551,"creation_date":1659978551,"answer_id":73281673,"question_id":29356796,"body_markdown":"Had JDK 18, installed 17, and uninstalled 18. Then the error popped up.\r\nNone of the solutions above worked.\r\nThe quick fix was to delete other java folders in C:\\Program Files\\Java.\r\nThat&#39;s it!","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>Had JDK 18, installed 17, and uninstalled 18. Then the error popped up.\nNone of the solutions above worked.\nThe quick fix was to delete other java folders in C:\\Program Files\\Java.\nThat's it!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1664786989,"post_id":73892069,"comment_id":130543300,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73892069/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":944602,"reputation":596,"user_id":972102,"display_name":"Condemateguadua"},"score":0,"creation_date":1681494318,"post_id":73892069,"comment_id":134071171,"body_markdown":"This is a good clue !!!","body":"This is a good clue !!!"}],"tags":[],"owner":{"account_id":26478823,"reputation":21,"user_id":20118352,"display_name":"Muhammad Asif"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664437986,"creation_date":1664437986,"answer_id":73892069,"question_id":29356796,"body_markdown":"This solution works for me\r\n\r\n[So it seems Gradle keeps its own registry. There was a file called ./gradle/daemon/7.2/registry.bin in my user directory that was caching the invalid jdk path and once I deleted it I was able to build.][1]\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/gradle-is-trying-to-use-a-jdk-that-has-been-uninstalled-from-my-system/43202","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>This solution works for me</p>\n<p><a href=\"https://discuss.gradle.org/t/gradle-is-trying-to-use-a-jdk-that-has-been-uninstalled-from-my-system/43202\" rel=\"nofollow noreferrer\">So it seems Gradle keeps its own registry. There was a file called ./gradle/daemon/7.2/registry.bin in my user directory that was caching the invalid jdk path and once I deleted it I was able to build.</a></p>\n"},{"comments":[{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":0,"creation_date":1674559416,"post_id":75108943,"comment_id":132735000,"body_markdown":"In my case the `jre` folder already existed. So I deleted it and then did `mklink /D &quot;jre&quot; &quot;jbr&quot;`. Note that all require Administrator permissions.","body":"In my case the <code>jre</code> folder already existed. So I deleted it and then did <code>mklink &#47;D &quot;jre&quot; &quot;jbr&quot;</code>. Note that all require Administrator permissions."},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1675175238,"post_id":75108943,"comment_id":132868959,"body_markdown":"@WebViewer I don&#39;t understand what you did differently from Nicks.","body":"@WebViewer I don&#39;t understand what you did differently from Nicks."},{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":0,"creation_date":1675318647,"post_id":75108943,"comment_id":132904028,"body_markdown":"@TheincredibleJan You&#39;re right. I only notice now that Nicks also instructs to remove the `jre` folder. BTW, this was only one of several fixes I had to do in order to revive my dev env [after upgrading from Android Studio 2021.3.1 to 2022.1.1](https://stackoverflow.com/a/75221722/2597758)","body":"@TheincredibleJan You&#39;re right. I only notice now that Nicks also instructs to remove the <code>jre</code> folder. BTW, this was only one of several fixes I had to do in order to revive my dev env <a href=\"https://stackoverflow.com/a/75221722/2597758\">after upgrading from Android Studio 2021.3.1 to 2022.1.1</a>"},{"owner":{"account_id":5462636,"reputation":351,"user_id":4344236,"display_name":"jayesh saha"},"score":0,"creation_date":1675834296,"post_id":75108943,"comment_id":133011220,"body_markdown":"`cmd /c mklink /D &quot;jre&quot; &quot;jbr&quot;`\n\non powershell after deleting jre folder.","body":"<code>cmd &#47;c mklink &#47;D &quot;jre&quot; &quot;jbr&quot;</code>  on powershell after deleting jre folder."},{"owner":{"account_id":18001447,"reputation":1776,"user_id":13083321,"display_name":"soulflavacrew"},"score":0,"creation_date":1678889106,"post_id":75108943,"comment_id":133620528,"body_markdown":"This one worked!\nIf somebody is facing &quot;access denied&quot; -&gt; run cmd.exe as admin","body":"This one worked! If somebody is facing &quot;access denied&quot; -&gt; run cmd.exe as admin"},{"owner":{"account_id":12345870,"reputation":130,"user_id":9006847,"display_name":"bingo"},"score":0,"creation_date":1681556366,"post_id":75108943,"comment_id":134077668,"body_markdown":"I&#39;ve now had this problem with two consecutive android studio updates, 2022.2.1 flamingo aswell.","body":"I&#39;ve now had this problem with two consecutive android studio updates, 2022.2.1 flamingo aswell."}],"tags":[],"owner":{"account_id":8396970,"reputation":3276,"user_id":6303688,"accept_rate":71,"display_name":"Nicks"},"comment_count":6,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1673611406,"creation_date":1673611406,"answer_id":75108943,"question_id":29356796,"body_markdown":"If someone faces this error after Android Studio update to **Android Studio Electric Eel | 2022.1.1** than simply follow following steps:\r\n\r\nGo To android studio directory (Default C:\\Program Files\\Android\\Android Studio)\r\nremove jre folder\r\nrun cmd as administrator\r\n\r\ncd C:\\Program Files\\Android\\Android Studio\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;\r\nThanks to this [link][1]\r\n\r\n\r\n  [1]: https://github.com/flutter/flutter/issues/106674#issuecomment-1381685888","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>If someone faces this error after Android Studio update to <strong>Android Studio Electric Eel | 2022.1.1</strong> than simply follow following steps:</p>\n<p>Go To android studio directory (Default C:\\Program Files\\Android\\Android Studio)\nremove jre folder\nrun cmd as administrator</p>\n<p>cd C:\\Program Files\\Android\\Android Studio\nmklink /D &quot;jre&quot; &quot;jbr&quot;\nThanks to this <a href=\"https://github.com/flutter/flutter/issues/106674#issuecomment-1381685888\" rel=\"noreferrer\">link</a></p>\n"},{"comments":[{"owner":{"account_id":1866615,"reputation":4191,"user_id":1690017,"accept_rate":38,"display_name":"David"},"score":0,"creation_date":1673755575,"post_id":75120353,"comment_id":132567579,"body_markdown":"mklink /D &quot;jre&quot; &quot;jbr&quot; what does this do?","body":"mklink /D &quot;jre&quot; &quot;jbr&quot; what does this do?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673863323,"post_id":75120353,"comment_id":132584419,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75120353/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27528099,"reputation":1,"user_id":21007079,"display_name":"Vedant Kadam"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673720996,"creation_date":1673720977,"answer_id":75120353,"question_id":29356796,"body_markdown":"If someone faces this error after Android Studio update to Android Studio Electric Eel | 2022.1.1 than simply follow following steps:\r\n\r\nGo To android studio directory (Default C:\\Program Files\\Android\\Android Studio) remove jre folder run cmd as administrator\r\n\r\ncd C:\\Program Files\\Android\\Android Studio \r\n\r\n\r\nmklink /D &quot;jre&quot; &quot;jbr&quot;","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>If someone faces this error after Android Studio update to Android Studio Electric Eel | 2022.1.1 than simply follow following steps:</p>\n<p>Go To android studio directory (Default C:\\Program Files\\Android\\Android Studio) remove jre folder run cmd as administrator</p>\n<p>cd C:\\Program Files\\Android\\Android Studio</p>\n<p>mklink /D &quot;jre&quot; &quot;jbr&quot;</p>\n"},{"tags":[],"owner":{"account_id":1866615,"reputation":4191,"user_id":1690017,"accept_rate":38,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673756347,"creation_date":1673756347,"answer_id":75122898,"question_id":29356796,"body_markdown":"If you get this error after updating Android Studio Electric Eel the jre location changed, before there was a &quot;jre&quot; folder in the Android Studio folder, now its called &quot;jbr&quot; so you must update your system environment variables to this new path and restart Android.","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>If you get this error after updating Android Studio Electric Eel the jre location changed, before there was a &quot;jre&quot; folder in the Android Studio folder, now its called &quot;jbr&quot; so you must update your system environment variables to this new path and restart Android.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1674256649,"post_id":75166001,"comment_id":132683587,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75166001/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25798740,"reputation":31,"user_id":19541521,"display_name":"mohammad khorram"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674081561,"creation_date":1674081561,"answer_id":75166001,"question_id":29356796,"body_markdown":"If someone faces this error after the Android Studio update to Android Studio Electric Eel | 2022.1.1 then simply follow the following steps:\r\n\r\n1. Go To the Android studio directory (Default C:\\Program Files\\Android\\Android Studio)\r\n**2. Just you need to copy all content of jbr folder to jre folder.**","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>If someone faces this error after the Android Studio update to Android Studio Electric Eel | 2022.1.1 then simply follow the following steps:</p>\n<ol>\n<li>Go To the Android studio directory (Default C:\\Program Files\\Android\\Android Studio)\n<strong>2. Just you need to copy all content of jbr folder to jre folder.</strong></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":23126618,"reputation":104,"user_id":17232308,"display_name":"Vishwajeet Singh Shekhawat"},"score":0,"creation_date":1674475028,"post_id":75209144,"comment_id":132714530,"body_markdown":"use above config if your java SDK is 19.0.2","body":"use above config if your java SDK is 19.0.2"}],"tags":[],"owner":{"account_id":23126618,"reputation":104,"user_id":17232308,"display_name":"Vishwajeet Singh Shekhawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674474939,"creation_date":1674474939,"answer_id":75209144,"question_id":29356796,"body_markdown":"\r\n\r\n&gt;\r\n\r\n    when you update your java sdk then its happen you must change lots of config. file but make sure you always put same kind of config in every file config . In  my case i upgrade my java SDK tp 19.0.2 `\r\n    \r\n    \r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.10&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n    \r\n            classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    \r\n        }\r\n    }","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<blockquote>\n</blockquote>\n<pre><code>when you update your java sdk then its happen you must change lots of config. file but make sure you always put same kind of config in every file config . In  my case i upgrade my java SDK tp 19.0.2 `\n\n\nbuildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n\n        classpath 'com.android.tools.build:gradle:7.0.0'\n        classpath 'com.google.gms:google-services:4.3.5'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22799338,"reputation":23,"user_id":16952325,"display_name":"Gankplank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674585100,"creation_date":1674585100,"answer_id":75225783,"question_id":29356796,"body_markdown":"Open the **C:\\Program Files\\Android\\Android Studio\\jbr** and copy all of the folders and files and paste to **C:\\Program Files\\Android\\Android Studio\\jre**\r\n\r\nDefine the JDK on Users env , in path -&gt; **C:\\Program Files\\Java\\jdk-19\\bin** , define with path root in users path ,\r\n\r\nDefine JDK on System env , in system path define without \\bin root , like that -&gt; **C:\\Program Files\\Java\\jdk-19** , it will be okey ","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>Open the <strong>C:\\Program Files\\Android\\Android Studio\\jbr</strong> and copy all of the folders and files and paste to <strong>C:\\Program Files\\Android\\Android Studio\\jre</strong></p>\n<p>Define the JDK on Users env , in path -&gt; <strong>C:\\Program Files\\Java\\jdk-19\\bin</strong> , define with path root in users path ,</p>\n<p>Define JDK on System env , in system path define without \\bin root , like that -&gt; <strong>C:\\Program Files\\Java\\jdk-19</strong> , it will be okey</p>\n"}],"owner":{"account_id":449002,"reputation":23329,"user_id":843542,"accept_rate":69,"display_name":"Eric Francis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115281,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":29897690,"answer_count":24,"score":111,"last_activity_date":1676261901,"creation_date":1427751458,"question_id":29356796,"body_markdown":"Similar to:  \r\n- https://stackoverflow.com/questions/28032764/intellij-14-the-supplied-javahome-seems-to-be-invalid  \r\n- https://stackoverflow.com/questions/22749200/android-studio-supplied-javahome-is-not-a-valid-folder  \r\n\r\nHowever, I am trying to use my `JAVA_HOME` variable which is set to `C:\\Program Files\\Java\\jdk1.8.0_40`\r\n\r\nI do not understand why intellij is looking for the JDK inside of its install directory.\r\n\r\nIn intellij:\r\n\r\n    Executing external task &#39;bootRun&#39;...\r\n    The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 14.1\\jre\\bin\\java.exe\r\n    External task execution finished &#39;bootRun&#39;.\r\n\r\n---\r\n\r\n\r\n    C:\\&gt;java -version\r\n    java version &quot;1.8.0_40&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_40-b25)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)\r\n\r\n\r\n---\r\n\r\n    C:&gt;env\r\n    ...\r\n    JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_40\r\n    ...\r\n\r\n\r\n","title":"IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid","body":"<p>Similar to:<br>\n- <a href=\"https://stackoverflow.com/questions/28032764/intellij-14-the-supplied-javahome-seems-to-be-invalid\">Intellij 14 the supplied javaHome seems to be invalid</a><br>\n- <a href=\"https://stackoverflow.com/questions/22749200/android-studio-supplied-javahome-is-not-a-valid-folder\">Android Studio - supplied javaHome is not a valid folder</a>  </p>\n\n<p>However, I am trying to use my <code>JAVA_HOME</code> variable which is set to <code>C:\\Program Files\\Java\\jdk1.8.0_40</code></p>\n\n<p>I do not understand why intellij is looking for the JDK inside of its install directory.</p>\n\n<p>In intellij:</p>\n\n<pre><code>Executing external task 'bootRun'...\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA 14.1\\jre\\bin\\java.exe\nExternal task execution finished 'bootRun'.\n</code></pre>\n\n<hr>\n\n<pre><code>C:\\&gt;java -version\njava version \"1.8.0_40\"\nJava(TM) SE Runtime Environment (build 1.8.0_40-b25)\nJava HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)\n</code></pre>\n\n<hr>\n\n<pre><code>C:&gt;env\n...\nJAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_40\n...\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","maven","jpa"],"comments":[{"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"score":1,"creation_date":1676208422,"post_id":75427230,"comment_id":133087274,"body_markdown":"Problem is that spring is unable to detect JPA repositories. Can you try creating a configuration class and annotate it with `@Configuration` and `@EnableJpaRepositories(basePackages = {&quot;&lt;repositories package name&gt;&quot;})`. Remove the `@EnableJpaRepositories` annotation on entity class.","body":"Problem is that spring is unable to detect JPA repositories. Can you try creating a configuration class and annotate it with <code>@Configuration</code> and <code>@EnableJpaRepositories(basePackages = {&quot;&lt;repositories package name&gt;&quot;})</code>. Remove the <code>@EnableJpaRepositories</code> annotation on entity class."},{"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"score":0,"creation_date":1676304928,"post_id":75427230,"comment_id":133105940,"body_markdown":"where I have to add that annotation and what is the differences between basePackage and repository package ?","body":"where I have to add that annotation and what is the differences between basePackage and repository package ?"},{"owner":{"account_id":18121848,"reputation":121,"user_id":20852825,"display_name":"shanmukha vangaru"},"score":0,"creation_date":1676438643,"post_id":75427230,"comment_id":133134854,"body_markdown":"Have a look at this [link](https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa). Hope it clarify&#39;s your doubts :)","body":"Have a look at this <a href=\"https://www.baeldung.com/the-persistence-layer-with-spring-data-jpa\" rel=\"nofollow noreferrer\">link</a>. Hope it clarify&#39;s your doubts :)"}],"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676261674,"creation_date":1676207670,"question_id":75427230,"body_markdown":"I&#39;m new to coding and I was creating a sample springboot application. In get mapping I wanted to display all the items. I&#39;m using JAVAX persistence. but I&#39;m getting an error like\r\n\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;homeController&#39; defined in file [C:\\Users\\TheCanner\\Desktop\\exchangers\\exchangers\\target\\classes\\com\\ecommerce\\exchangers\\controller\\HomeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;itemServiceImpl&#39; defined in file [C:\\Users\\TheCanner\\Desktop\\exchangers\\exchangers\\target\\classes\\com\\ecommerce\\exchangers\\Servises\\impl\\ItemServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;itemsRepo&#39; defined in com.ecommerce.exchangers.repository.ItemsRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.ecommerce.exchangers.entity.Items&quot;\r\n\r\n\r\n\r\nController file\r\n\r\n    package com.ecommerce.exchangers.controller;\r\n    \r\n    import com.ecommerce.exchangers.Servises.ItemService;\r\n    import com.ecommerce.exchangers.payload.ItemsDto;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/&quot;)\r\n\r\n    public class HomeController {\r\n\r\n        private ItemService itemService;\r\n\r\n        public HomeController(ItemService itemService) {\r\n            this.itemService = itemService;\r\n        }\r\n    \r\n        @PostMapping(&quot;home&quot;)\r\n        public ResponseEntity&lt;ItemsDto&gt; addItem(@RequestBody ItemsDto itemsDto){\r\n            return new ResponseEntity&lt;&gt;(itemService.addItem(itemsDto), HttpStatus.CREATED);\r\n        }\r\n\r\n    }\r\n\r\n\r\nEntity file\r\n\r\n    package com.ecommerce.exchangers.entity;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n    import javax.persistence.*;\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @EnableJpaRepositories\r\n    @Table(name = &quot;Items&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;itemId&quot; }) })\r\n\r\n    public class Items {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tprivate Integer itemId;\r\n\r\n    \t@Column(name = &quot;Item Category&quot;, nullable = false)\r\n\tprivate Integer itemPrice;\r\n\r\n\t@Column(name = &quot;Item Category&quot;, nullable = false)\r\n\tprivate Double itemRating;\r\n\r\n\t@Column(name = &quot;Item Category&quot;, nullable = false)\r\n\tprivate String itemName;\r\n\r\n\t@Column(name = &quot;Item Category&quot;, nullable = false)\r\n\tprivate String itemCategory;\r\n    }\r\n\r\npayload file\r\n\r\n    package com.ecommerce.exchangers.payload;\r\n\r\n    import lombok.Data;\r\n\r\n    @Data\r\n\r\n    public class ItemsDto {\r\n        private int itemId;\r\n        private int itemPrice;\r\n        private double itemRating;\r\n        private String itemName;\r\n        private String itemCategory;\r\n\r\n    }\r\n\r\nrepository file\r\n\r\n    package com.ecommerce.exchangers.repository;\r\n\r\n    import com.ecommerce.exchangers.entity.Items;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface ItemsRepo extends JpaRepository&lt;Items,Integer&gt; {\r\n    }\r\n\r\nservice impl file\r\n\r\n    package com.ecommerce.exchangers.Servises.impl;\r\n\r\n    import com.ecommerce.exchangers.Servises.ItemService;\r\n    import com.ecommerce.exchangers.entity.Items;\r\n    import com.ecommerce.exchangers.payload.ItemsDto;\r\n    import com.ecommerce.exchangers.repository.ItemsRepo;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    public class ItemServiceImpl implements ItemService {\r\n\r\n        private ItemsRepo itemsRepo;\r\n\r\n        public ItemServiceImpl(ItemsRepo itemsRepo) {\r\n            this.itemsRepo = itemsRepo;\r\n        }\r\n\r\n    // Here you have to convert entity into  DTO\r\n        private ItemsDto mapToDTO(Items items){\r\n            ItemsDto itemsDto = new ItemsDto();\r\n           itemsDto.setItemId(items.getItemId());\r\n           itemsDto.setItemName(items.getItemName());\r\n           itemsDto.setItemCategory(items.getItemCategory());\r\n           itemsDto.setItemPrice(items.getItemPrice());\r\n           itemsDto.setItemRating(items.getItemRating());\r\n           return itemsDto;\r\n        }\r\n    // Here you have to convert entity into  DTO\r\n        private Items mapToEntity(ItemsDto itemsDto){\r\n            Items items = new Items();\r\n            items.setItemId(itemsDto.getItemId());\r\n            items.setItemName(itemsDto.getItemName());\r\n            items.setItemCategory(itemsDto.getItemCategory());\r\n            items.setItemPrice(itemsDto.getItemPrice());\r\n            items.setItemRating(itemsDto.getItemRating());\r\n            return items;\r\n        }\r\n\r\n        @Override\r\n        public ItemsDto addItem(ItemsDto itemsDto) {\r\n            Items newItem;\r\n            newItem = mapToEntity(itemsDto);\r\n            Items newItem2 = itemsRepo.save(newItem);\r\n            ItemsDto DtoResponse;\r\n            DtoResponse = mapToDTO(newItem2);\r\n            return DtoResponse;\r\n        }\r\n    }\r\n\r\nServises file\r\n\r\n    package com.ecommerce.exchangers.Servises;\r\n\r\n    import com.ecommerce.exchangers.payload.ItemsDto;\r\n\r\n    public interface ItemService {\r\n        ItemsDto addItem(ItemsDto itemsDto);\r\n    }\r\n\r\nspringBootApplication file\r\n\r\n    package com.ecommerce.exchangers;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class ExchangersApplication {\r\n\r\n    \t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(ExchangersApplication.class, args);\r\n\t    }\r\n\r\n    }\r\n\r\n\r\napplication.properties file\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/ecommproj?useSSL=false&amp;serverTimezone=UTC\r\n\r\n    spring.datasource.username = root\r\n    spring.datasource.password = root\r\n\r\n    #hibernate property\r\n    #MySQL5InnoDBDialect\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n    #Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\nPOM\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-    instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t    &lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t    &lt;/parent&gt;\r\n\t    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;exchangers&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;name&gt;exchangers&lt;/name&gt;\r\n\t    &lt;description&gt;Demo project using Spring Boot Rest API, MySQL and Kafka (JVM)&lt;/description&gt;\r\n\t    &lt;properties&gt;\r\n\t\t    &lt;java.version&gt;17&lt;/java.version&gt;\r\n\t    &lt;/properties&gt;\r\n\t    &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.2&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-integration-http&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-integration-ws&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t    &lt;optional&gt;true&lt;/optional&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t    &lt;optional&gt;true&lt;/optional&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-integration-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.3.1&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\r\n\t    &lt;build&gt;\r\n\t\t    &lt;plugins&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;configuration&gt;\r\n\t\t\t\t\t    &lt;excludes&gt;\r\n\t\t\t\t\t\t    &lt;exclude&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t    &lt;/exclude&gt;\r\n\t\t\t\t\t    &lt;/excludes&gt;\r\n\t\t\t\t    &lt;/configuration&gt;\r\n\t\t\t    &lt;/plugin&gt;\r\n\t\t    &lt;/plugins&gt;\r\n\t    &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nerrors are like this ( and I also mentioned that above)\r\n[![enter image description here](https://i.stack.imgur.com/avfj8.png)](https://i.stack.imgur.com/avfj8.png)\r\n[![enter image description here](https://i.stack.imgur.com/boQIH.png)](https://i.stack.imgur.com/boQIH.png)\r\n","title":"Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.Unsat","body":"<p>I'm new to coding and I was creating a sample springboot application. In get mapping I wanted to display all the items. I'm using JAVAX persistence. but I'm getting an error like</p>\n<p>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'homeController' defined in file [C:\\Users\\TheCanner\\Desktop\\exchangers\\exchangers\\target\\classes\\com\\ecommerce\\exchangers\\controller\\HomeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'itemServiceImpl' defined in file [C:\\Users\\TheCanner\\Desktop\\exchangers\\exchangers\\target\\classes\\com\\ecommerce\\exchangers\\Servises\\impl\\ItemServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'itemsRepo' defined in com.ecommerce.exchangers.repository.ItemsRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.ecommerce.exchangers.entity.Items&quot;</p>\n<p>Controller file</p>\n<pre><code>package com.ecommerce.exchangers.controller;\n\nimport com.ecommerce.exchangers.Servises.ItemService;\nimport com.ecommerce.exchangers.payload.ItemsDto;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/&quot;)\n\npublic class HomeController {\n\n    private ItemService itemService;\n\n    public HomeController(ItemService itemService) {\n        this.itemService = itemService;\n    }\n\n    @PostMapping(&quot;home&quot;)\n    public ResponseEntity&lt;ItemsDto&gt; addItem(@RequestBody ItemsDto itemsDto){\n        return new ResponseEntity&lt;&gt;(itemService.addItem(itemsDto), HttpStatus.CREATED);\n    }\n\n}\n</code></pre>\n<p>Entity file</p>\n<pre><code>package com.ecommerce.exchangers.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport javax.persistence.*;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@EnableJpaRepositories\n@Table(name = &quot;Items&quot;, uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;itemId&quot; }) })\n\npublic class Items {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer itemId;\n\n    @Column(name = &quot;Item Category&quot;, nullable = false)\nprivate Integer itemPrice;\n\n@Column(name = &quot;Item Category&quot;, nullable = false)\nprivate Double itemRating;\n\n@Column(name = &quot;Item Category&quot;, nullable = false)\nprivate String itemName;\n\n@Column(name = &quot;Item Category&quot;, nullable = false)\nprivate String itemCategory;\n}\n</code></pre>\n<p>payload file</p>\n<pre><code>package com.ecommerce.exchangers.payload;\n\nimport lombok.Data;\n\n@Data\n\npublic class ItemsDto {\n    private int itemId;\n    private int itemPrice;\n    private double itemRating;\n    private String itemName;\n    private String itemCategory;\n\n}\n</code></pre>\n<p>repository file</p>\n<pre><code>package com.ecommerce.exchangers.repository;\n\nimport com.ecommerce.exchangers.entity.Items;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ItemsRepo extends JpaRepository&lt;Items,Integer&gt; {\n}\n</code></pre>\n<p>service impl file</p>\n<pre><code>package com.ecommerce.exchangers.Servises.impl;\n\nimport com.ecommerce.exchangers.Servises.ItemService;\nimport com.ecommerce.exchangers.entity.Items;\nimport com.ecommerce.exchangers.payload.ItemsDto;\nimport com.ecommerce.exchangers.repository.ItemsRepo;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ItemServiceImpl implements ItemService {\n\n    private ItemsRepo itemsRepo;\n\n    public ItemServiceImpl(ItemsRepo itemsRepo) {\n        this.itemsRepo = itemsRepo;\n    }\n\n// Here you have to convert entity into  DTO\n    private ItemsDto mapToDTO(Items items){\n        ItemsDto itemsDto = new ItemsDto();\n       itemsDto.setItemId(items.getItemId());\n       itemsDto.setItemName(items.getItemName());\n       itemsDto.setItemCategory(items.getItemCategory());\n       itemsDto.setItemPrice(items.getItemPrice());\n       itemsDto.setItemRating(items.getItemRating());\n       return itemsDto;\n    }\n// Here you have to convert entity into  DTO\n    private Items mapToEntity(ItemsDto itemsDto){\n        Items items = new Items();\n        items.setItemId(itemsDto.getItemId());\n        items.setItemName(itemsDto.getItemName());\n        items.setItemCategory(itemsDto.getItemCategory());\n        items.setItemPrice(itemsDto.getItemPrice());\n        items.setItemRating(itemsDto.getItemRating());\n        return items;\n    }\n\n    @Override\n    public ItemsDto addItem(ItemsDto itemsDto) {\n        Items newItem;\n        newItem = mapToEntity(itemsDto);\n        Items newItem2 = itemsRepo.save(newItem);\n        ItemsDto DtoResponse;\n        DtoResponse = mapToDTO(newItem2);\n        return DtoResponse;\n    }\n}\n</code></pre>\n<p>Servises file</p>\n<pre><code>package com.ecommerce.exchangers.Servises;\n\nimport com.ecommerce.exchangers.payload.ItemsDto;\n\npublic interface ItemService {\n    ItemsDto addItem(ItemsDto itemsDto);\n}\n</code></pre>\n<p>springBootApplication file</p>\n<pre><code>package com.ecommerce.exchangers;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class ExchangersApplication {\n\n        public static void main(String[] args) {\n        SpringApplication.run(ExchangersApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>application.properties file</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/ecommproj?useSSL=false&amp;serverTimezone=UTC\n\nspring.datasource.username = root\nspring.datasource.password = root\n\n#hibernate property\n#MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n\n#Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-    instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ecommerce&lt;/groupId&gt;\n    &lt;artifactId&gt;exchangers&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;exchangers&lt;/name&gt;\n    &lt;description&gt;Demo project using Spring Boot Rest API, MySQL and Kafka (JVM)&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-http&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-ws&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>errors are like this ( and I also mentioned that above)\n<a href=\"https://i.stack.imgur.com/avfj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avfj8.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/boQIH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/boQIH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","yaml"],"comments":[{"owner":{"account_id":13042074,"reputation":349,"user_id":9425136,"display_name":"James Conway"},"score":0,"creation_date":1547304267,"post_id":49383037,"comment_id":95151131,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/54160205/parse-a-list-of-objects-from-yaml-file","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/54160205/parse-a-list-of-objects-from-yaml-file\" title=\"parse a list of objects from yaml file\">stackoverflow.com/questions/54160205/&hellip;</a>"},{"owner":{"account_id":13042074,"reputation":349,"user_id":9425136,"display_name":"James Conway"},"score":1,"creation_date":1547304283,"post_id":49383037,"comment_id":95151136,"body_markdown":"Possible duplicate of [Parse a List of objects from YAML file](https://stackoverflow.com/questions/54160205/parse-a-list-of-objects-from-yaml-file)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/54160205/parse-a-list-of-objects-from-yaml-file\">Parse a List of objects from YAML file</a>"}],"answers":[{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521547779,"creation_date":1521547282,"answer_id":49383680,"question_id":49383037,"body_markdown":"Use `@JsonProperty` with data from resonse i.e `@JsonProperty(&quot;Network&quot;).` \r\n\r\n    @JsonProperty(&quot;Network&quot;)\r\n    private List&lt;RoadNetwork&gt; roadnetwork;\r\n    //getter and setter","title":"Convert Yaml file to java objects","body":"<p>Use <code>@JsonProperty</code> with data from resonse i.e <code>@JsonProperty(\"Network\").</code> </p>\n\n<pre><code>@JsonProperty(\"Network\")\nprivate List&lt;RoadNetwork&gt; roadnetwork;\n//getter and setter\n</code></pre>\n"}],"owner":{"account_id":13183587,"reputation":21,"user_id":9522303,"display_name":"Rama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8440,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676260540,"creation_date":1521545300,"question_id":49383037,"body_markdown":"I have the Yaml File like below\r\n\r\n    Network:\r\n       Input 1:\r\n          - profile : &quot;1&quot;\r\n          - size: 2\r\n       Input 2:\r\n          - profile : &quot;1&quot;\r\n          - size: 3\r\n       Input 1:\r\n          - profile :&quot;2&quot;\r\n          - size:100\r\n       Input 2:\r\n          - name :&quot;N&quot;\r\n          - source: &quot;test&quot;\r\n\r\nand am using the below dependency to convert it to class objects\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.dataformat.yaml.YAMLFactory;\r\n    \r\n    \r\n    ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\n    Tiles tiles = mapper.readValue(new File(args[0]), Tiles.class);\r\n\r\n\r\nMy Tiles class is like below\r\n\r\n        public class Tiles {\r\n        \r\n          @JsonProperty\r\n          private Network network;\r\n          public Network getNetwork() {\r\n            return network;\r\n          }\r\n          public void setNetwork(Network network) {\r\n            this.network = network;\r\n          }\r\n          }\r\n    public class Network {\r\n    \r\n      public Network() {\r\n        super();\r\n      }\r\n    \r\n      @JsonProperty\r\n      private List&lt;String&gt; input;\r\n    \r\n      public List&lt;String&gt; getInput() {\r\n        return input;\r\n      }\r\n    \r\n      public void setInput(List&lt;String&gt; input) {\r\n        this.input= input;\r\n      }\r\n\r\nbut when parsing the YAML file using `ObjectMapper` I get an exception, e.g.     `com.fasterxml.jackson.databind.JsonMappingException:`\r\n\r\nI want to process the YAML file sequentially even though the Input is replaced by different names, I mean\r\nI have to get Input 1 then Input 2 then so on\r\n\r\nany help is appreciated.\r\n\r\nThanks in advance\r\n\r\n\r\n","title":"Convert Yaml file to java objects","body":"<p>I have the Yaml File like below</p>\n<pre><code>Network:\n   Input 1:\n      - profile : &quot;1&quot;\n      - size: 2\n   Input 2:\n      - profile : &quot;1&quot;\n      - size: 3\n   Input 1:\n      - profile :&quot;2&quot;\n      - size:100\n   Input 2:\n      - name :&quot;N&quot;\n      - source: &quot;test&quot;\n</code></pre>\n<p>and am using the below dependency to convert it to class objects</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.yaml.YAMLFactory;\n\n\nObjectMapper mapper = new ObjectMapper(new YAMLFactory());\nTiles tiles = mapper.readValue(new File(args[0]), Tiles.class);\n</code></pre>\n<p>My Tiles class is like below</p>\n<pre><code>    public class Tiles {\n    \n      @JsonProperty\n      private Network network;\n      public Network getNetwork() {\n        return network;\n      }\n      public void setNetwork(Network network) {\n        this.network = network;\n      }\n      }\npublic class Network {\n\n  public Network() {\n    super();\n  }\n\n  @JsonProperty\n  private List&lt;String&gt; input;\n\n  public List&lt;String&gt; getInput() {\n    return input;\n  }\n\n  public void setInput(List&lt;String&gt; input) {\n    this.input= input;\n  }\n</code></pre>\n<p>but when parsing the YAML file using <code>ObjectMapper</code> I get an exception, e.g.     <code>com.fasterxml.jackson.databind.JsonMappingException:</code></p>\n<p>I want to process the YAML file sequentially even though the Input is replaced by different names, I mean\nI have to get Input 1 then Input 2 then so on</p>\n<p>any help is appreciated.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","json","spring-boot","api","amadeus"],"answers":[{"comments":[{"owner":{"account_id":7846328,"reputation":3,"user_id":5931280,"display_name":"Steve Donovan"},"score":1,"creation_date":1658483479,"post_id":73078128,"comment_id":129067880,"body_markdown":"Thanks very much for the quick fix - I found the bug last night and was going to raise PR today. I noticed the property wasn&#39;t missing from FlightOfferSearch class but had the wrong name - ie didn&#39;t match the JSON schema.\nAgain, thank you!","body":"Thanks very much for the quick fix - I found the bug last night and was going to raise PR today. I noticed the property wasn&#39;t missing from FlightOfferSearch class but had the wrong name - ie didn&#39;t match the JSON schema. Again, thank you!"}],"tags":[],"owner":{"account_id":25325988,"reputation":36,"user_id":19146642,"display_name":"LIU Xianqi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658560246,"creation_date":1658482143,"answer_id":73078128,"question_id":73054712,"body_markdown":"This is an issue caused by *Amadeus Java SDK*, I just created a [PR][1] for this issue which has been merged, thus I believe a new patched version will be released soon. \r\n\r\nAdditionally, if you wonder what the problem exact is, you can take a look at the following: \r\n\r\nAs you said in the problem, when you use string body to call this API, it works. \r\nBut when you use the `offer` object to call, it fails.\r\n\r\nIn that case, we can try to compare the differences between `offer` and the string you used before.\r\n\r\nIf you enable Amadeus Java SDK `debug` mode, then reproduce this issue again, you will see the log information which describes this error very clearly\r\n\r\n```\r\nJul 22, 2022 11:06:56 AM com.amadeus.HTTPClient log\r\nINFO: Response(statusCode=400, parsed=true, result={&quot;errors&quot;:[{&quot;code&quot;:32171,&quot;title&quot;:&quot;MANDATORY DATA MISSING&quot;,&quot;detail&quot;:&quot;type needed&quot;,&quot;source&quot;:{&quot;pointer&quot;:&quot;/data/flightOffers[0]/price/additionalServices[0]/type&quot;},&quot;status&quot;:400}]}`,...)\r\n```\r\n\r\nThe information above means the `offer` object we passed is missing the \r\n`type` data.\r\n\r\nThus, we need to add the `type` property into the `resource.FlightOfferSearch.Price.AdditionalService` resource model class.\r\n\r\n  [1]: https://github.com/amadeus4dev/amadeus-java/pull/182","title":"amadeus api : offer pricing call produces 400 - type needed","body":"<p>This is an issue caused by <em>Amadeus Java SDK</em>, I just created a <a href=\"https://github.com/amadeus4dev/amadeus-java/pull/182\" rel=\"nofollow noreferrer\">PR</a> for this issue which has been merged, thus I believe a new patched version will be released soon.</p>\n<p>Additionally, if you wonder what the problem exact is, you can take a look at the following:</p>\n<p>As you said in the problem, when you use string body to call this API, it works.\nBut when you use the <code>offer</code> object to call, it fails.</p>\n<p>In that case, we can try to compare the differences between <code>offer</code> and the string you used before.</p>\n<p>If you enable Amadeus Java SDK <code>debug</code> mode, then reproduce this issue again, you will see the log information which describes this error very clearly</p>\n<pre><code>Jul 22, 2022 11:06:56 AM com.amadeus.HTTPClient log\nINFO: Response(statusCode=400, parsed=true, result={&quot;errors&quot;:[{&quot;code&quot;:32171,&quot;title&quot;:&quot;MANDATORY DATA MISSING&quot;,&quot;detail&quot;:&quot;type needed&quot;,&quot;source&quot;:{&quot;pointer&quot;:&quot;/data/flightOffers[0]/price/additionalServices[0]/type&quot;},&quot;status&quot;:400}]}`,...)\n</code></pre>\n<p>The information above means the <code>offer</code> object we passed is missing the\n<code>type</code> data.</p>\n<p>Thus, we need to add the <code>type</code> property into the <code>resource.FlightOfferSearch.Price.AdditionalService</code> resource model class.</p>\n"}],"owner":{"account_id":7846328,"reputation":3,"user_id":5931280,"display_name":"Steve Donovan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73078128,"answer_count":1,"score":0,"last_activity_date":1676260488,"creation_date":1658332480,"question_id":73054712,"body_markdown":"I&#39;m calling the offer price API and receiving a 400 with a &quot;type needed&quot; message.\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.amadeus.exceptions.ClientException: [400]\r\ntype needed\r\n\r\nThe call via postman API succeeds (https://test.api.amadeus.com/v1/shopping/flight-offers/pricing), so I take the body used in that, and send it via java API call where I receive the error.\r\n\r\nThis is on test env.\r\n\r\nhttps://test.api.amadeus.com/v1/shopping/flight-offers/pricing\r\n\r\nThe body sent (which is taken from the working postman example):\r\n```\r\n{\r\n  &quot;type&quot;: &quot;flight-offer&quot;,\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;source&quot;: &quot;GDS&quot;,\r\n  &quot;instantTicketingRequired&quot;: false,\r\n  &quot;nonHomogeneous&quot;: false,\r\n  &quot;oneWay&quot;: false,\r\n  &quot;lastTicketingDate&quot;: &quot;2022-11-01&quot;,\r\n  &quot;numberOfBookableSeats&quot;: 9,\r\n  &quot;itineraries&quot;: [\r\n    {\r\n      &quot;duration&quot;: &quot;PT1H20M&quot;,\r\n      &quot;segments&quot;: [\r\n        {\r\n          &quot;departure&quot;: {\r\n            &quot;iataCode&quot;: &quot;LHR&quot;,\r\n            &quot;terminal&quot;: &quot;4&quot;,\r\n            &quot;at&quot;: &quot;2022-11-01T06:25:00&quot;\r\n          },\r\n          &quot;arrival&quot;: {\r\n            &quot;iataCode&quot;: &quot;CDG&quot;,\r\n            &quot;terminal&quot;: &quot;2E&quot;,\r\n            &quot;at&quot;: &quot;2022-11-01T08:45:00&quot;\r\n          },\r\n          &quot;carrierCode&quot;: &quot;AF&quot;,\r\n          &quot;number&quot;: &quot;1381&quot;,\r\n          &quot;aircraft&quot;: {\r\n            &quot;code&quot;: &quot;320&quot;\r\n          },\r\n          &quot;operating&quot;: {\r\n            &quot;carrierCode&quot;: &quot;AF&quot;\r\n          },\r\n          &quot;duration&quot;: &quot;PT1H20M&quot;,\r\n          &quot;id&quot;: &quot;1&quot;,\r\n          &quot;numberOfStops&quot;: 0,\r\n          &quot;blacklistedInEU&quot;: false\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;duration&quot;: &quot;PT1H20M&quot;,\r\n      &quot;segments&quot;: [\r\n        {\r\n          &quot;departure&quot;: {\r\n            &quot;iataCode&quot;: &quot;CDG&quot;,\r\n            &quot;terminal&quot;: &quot;2E&quot;,\r\n            &quot;at&quot;: &quot;2022-11-05T18:00:00&quot;\r\n          },\r\n          &quot;arrival&quot;: {\r\n            &quot;iataCode&quot;: &quot;LHR&quot;,\r\n            &quot;terminal&quot;: &quot;4&quot;,\r\n            &quot;at&quot;: &quot;2022-11-05T18:20:00&quot;\r\n          },\r\n          &quot;carrierCode&quot;: &quot;AF&quot;,\r\n          &quot;number&quot;: &quot;1180&quot;,\r\n          &quot;aircraft&quot;: {\r\n            &quot;code&quot;: &quot;319&quot;\r\n          },\r\n          &quot;operating&quot;: {\r\n            &quot;carrierCode&quot;: &quot;AF&quot;\r\n          },\r\n          &quot;duration&quot;: &quot;PT1H20M&quot;,\r\n          &quot;id&quot;: &quot;6&quot;,\r\n          &quot;numberOfStops&quot;: 0,\r\n          &quot;blacklistedInEU&quot;: false\r\n        }\r\n      ]\r\n    }\r\n  ],\r\n  &quot;price&quot;: {\r\n    &quot;currency&quot;: &quot;EUR&quot;,\r\n    &quot;total&quot;: &quot;255.30&quot;,\r\n    &quot;base&quot;: &quot;48.00&quot;,\r\n    &quot;fees&quot;: [\r\n      {\r\n        &quot;amount&quot;: &quot;0.00&quot;,\r\n        &quot;type&quot;: &quot;SUPPLIER&quot;\r\n      },\r\n      {\r\n        &quot;amount&quot;: &quot;0.00&quot;,\r\n        &quot;type&quot;: &quot;TICKETING&quot;\r\n      }\r\n    ],\r\n    &quot;grandTotal&quot;: &quot;255.30&quot;,\r\n    &quot;additionalServices&quot;: [\r\n      {\r\n        &quot;amount&quot;: &quot;50.00&quot;,\r\n        &quot;type&quot;: &quot;CHECKED_BAGS&quot;\r\n      }\r\n    ]\r\n  },\r\n  &quot;pricingOptions&quot;: {\r\n    &quot;fareType&quot;: [\r\n      &quot;PUBLISHED&quot;\r\n    ],\r\n    &quot;includedCheckedBagsOnly&quot;: false\r\n  },\r\n  &quot;validatingAirlineCodes&quot;: [\r\n    &quot;AF&quot;\r\n  ],\r\n  &quot;travelerPricings&quot;: [\r\n    {\r\n      &quot;travelerId&quot;: &quot;1&quot;,\r\n      &quot;fareOption&quot;: &quot;STANDARD&quot;,\r\n      &quot;travelerType&quot;: &quot;ADULT&quot;,\r\n      &quot;price&quot;: {\r\n        &quot;currency&quot;: &quot;EUR&quot;,\r\n        &quot;total&quot;: &quot;127.65&quot;,\r\n        &quot;base&quot;: &quot;24.00&quot;\r\n      },\r\n      &quot;fareDetailsBySegment&quot;: [\r\n        {\r\n          &quot;segmentId&quot;: &quot;1&quot;,\r\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\r\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\r\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\r\n          &quot;class&quot;: &quot;G&quot;,\r\n          &quot;includedCheckedBags&quot;: {\r\n            &quot;quantity&quot;: 0\r\n          }\r\n        },\r\n        {\r\n          &quot;segmentId&quot;: &quot;6&quot;,\r\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\r\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\r\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\r\n          &quot;class&quot;: &quot;G&quot;,\r\n          &quot;includedCheckedBags&quot;: {\r\n            &quot;quantity&quot;: 0\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;travelerId&quot;: &quot;2&quot;,\r\n      &quot;fareOption&quot;: &quot;STANDARD&quot;,\r\n      &quot;travelerType&quot;: &quot;ADULT&quot;,\r\n      &quot;price&quot;: {\r\n        &quot;currency&quot;: &quot;EUR&quot;,\r\n        &quot;total&quot;: &quot;127.65&quot;,\r\n        &quot;base&quot;: &quot;24.00&quot;\r\n      },\r\n      &quot;fareDetailsBySegment&quot;: [\r\n        {\r\n          &quot;segmentId&quot;: &quot;1&quot;,\r\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\r\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\r\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\r\n          &quot;class&quot;: &quot;G&quot;,\r\n          &quot;includedCheckedBags&quot;: {\r\n            &quot;quantity&quot;: 0\r\n          }\r\n        },\r\n        {\r\n          &quot;segmentId&quot;: &quot;6&quot;,\r\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\r\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\r\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\r\n          &quot;class&quot;: &quot;G&quot;,\r\n          &quot;includedCheckedBags&quot;: {\r\n            &quot;quantity&quot;: 0\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nJava API call I make couldn&#39;t be simpler:\r\n```\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.amadeus/amadeus-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amadeus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;amadeus-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n```\r\n    @PostMapping(&quot;/confirm&quot;)\r\n    public ResponseEntity&lt;FlightPrice&gt; confirm(@RequestBody FlightOfferSearch search) throws ResponseException {\r\n        return ResponseEntity.ok(amadeusConnector.confirm(search));\r\n    }\r\n```\r\n```\r\n    public FlightPrice confirm(FlightOfferSearch offer) throws ResponseException {\r\n        return amadeus.shopping.flightOffersSearch.pricing.post(offer);\r\n    }\r\n```\r\n","title":"amadeus api : offer pricing call produces 400 - type needed","body":"<p>I'm calling the offer price API and receiving a 400 with a &quot;type needed&quot; message.</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.amadeus.exceptions.ClientException: [400]\ntype needed</p>\n</blockquote>\n<p>The call via postman API succeeds (<a href=\"https://test.api.amadeus.com/v1/shopping/flight-offers/pricing\" rel=\"nofollow noreferrer\">https://test.api.amadeus.com/v1/shopping/flight-offers/pricing</a>), so I take the body used in that, and send it via java API call where I receive the error.</p>\n<p>This is on test env.</p>\n<p><a href=\"https://test.api.amadeus.com/v1/shopping/flight-offers/pricing\" rel=\"nofollow noreferrer\">https://test.api.amadeus.com/v1/shopping/flight-offers/pricing</a></p>\n<p>The body sent (which is taken from the working postman example):</p>\n<pre><code>{\n  &quot;type&quot;: &quot;flight-offer&quot;,\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;source&quot;: &quot;GDS&quot;,\n  &quot;instantTicketingRequired&quot;: false,\n  &quot;nonHomogeneous&quot;: false,\n  &quot;oneWay&quot;: false,\n  &quot;lastTicketingDate&quot;: &quot;2022-11-01&quot;,\n  &quot;numberOfBookableSeats&quot;: 9,\n  &quot;itineraries&quot;: [\n    {\n      &quot;duration&quot;: &quot;PT1H20M&quot;,\n      &quot;segments&quot;: [\n        {\n          &quot;departure&quot;: {\n            &quot;iataCode&quot;: &quot;LHR&quot;,\n            &quot;terminal&quot;: &quot;4&quot;,\n            &quot;at&quot;: &quot;2022-11-01T06:25:00&quot;\n          },\n          &quot;arrival&quot;: {\n            &quot;iataCode&quot;: &quot;CDG&quot;,\n            &quot;terminal&quot;: &quot;2E&quot;,\n            &quot;at&quot;: &quot;2022-11-01T08:45:00&quot;\n          },\n          &quot;carrierCode&quot;: &quot;AF&quot;,\n          &quot;number&quot;: &quot;1381&quot;,\n          &quot;aircraft&quot;: {\n            &quot;code&quot;: &quot;320&quot;\n          },\n          &quot;operating&quot;: {\n            &quot;carrierCode&quot;: &quot;AF&quot;\n          },\n          &quot;duration&quot;: &quot;PT1H20M&quot;,\n          &quot;id&quot;: &quot;1&quot;,\n          &quot;numberOfStops&quot;: 0,\n          &quot;blacklistedInEU&quot;: false\n        }\n      ]\n    },\n    {\n      &quot;duration&quot;: &quot;PT1H20M&quot;,\n      &quot;segments&quot;: [\n        {\n          &quot;departure&quot;: {\n            &quot;iataCode&quot;: &quot;CDG&quot;,\n            &quot;terminal&quot;: &quot;2E&quot;,\n            &quot;at&quot;: &quot;2022-11-05T18:00:00&quot;\n          },\n          &quot;arrival&quot;: {\n            &quot;iataCode&quot;: &quot;LHR&quot;,\n            &quot;terminal&quot;: &quot;4&quot;,\n            &quot;at&quot;: &quot;2022-11-05T18:20:00&quot;\n          },\n          &quot;carrierCode&quot;: &quot;AF&quot;,\n          &quot;number&quot;: &quot;1180&quot;,\n          &quot;aircraft&quot;: {\n            &quot;code&quot;: &quot;319&quot;\n          },\n          &quot;operating&quot;: {\n            &quot;carrierCode&quot;: &quot;AF&quot;\n          },\n          &quot;duration&quot;: &quot;PT1H20M&quot;,\n          &quot;id&quot;: &quot;6&quot;,\n          &quot;numberOfStops&quot;: 0,\n          &quot;blacklistedInEU&quot;: false\n        }\n      ]\n    }\n  ],\n  &quot;price&quot;: {\n    &quot;currency&quot;: &quot;EUR&quot;,\n    &quot;total&quot;: &quot;255.30&quot;,\n    &quot;base&quot;: &quot;48.00&quot;,\n    &quot;fees&quot;: [\n      {\n        &quot;amount&quot;: &quot;0.00&quot;,\n        &quot;type&quot;: &quot;SUPPLIER&quot;\n      },\n      {\n        &quot;amount&quot;: &quot;0.00&quot;,\n        &quot;type&quot;: &quot;TICKETING&quot;\n      }\n    ],\n    &quot;grandTotal&quot;: &quot;255.30&quot;,\n    &quot;additionalServices&quot;: [\n      {\n        &quot;amount&quot;: &quot;50.00&quot;,\n        &quot;type&quot;: &quot;CHECKED_BAGS&quot;\n      }\n    ]\n  },\n  &quot;pricingOptions&quot;: {\n    &quot;fareType&quot;: [\n      &quot;PUBLISHED&quot;\n    ],\n    &quot;includedCheckedBagsOnly&quot;: false\n  },\n  &quot;validatingAirlineCodes&quot;: [\n    &quot;AF&quot;\n  ],\n  &quot;travelerPricings&quot;: [\n    {\n      &quot;travelerId&quot;: &quot;1&quot;,\n      &quot;fareOption&quot;: &quot;STANDARD&quot;,\n      &quot;travelerType&quot;: &quot;ADULT&quot;,\n      &quot;price&quot;: {\n        &quot;currency&quot;: &quot;EUR&quot;,\n        &quot;total&quot;: &quot;127.65&quot;,\n        &quot;base&quot;: &quot;24.00&quot;\n      },\n      &quot;fareDetailsBySegment&quot;: [\n        {\n          &quot;segmentId&quot;: &quot;1&quot;,\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\n          &quot;class&quot;: &quot;G&quot;,\n          &quot;includedCheckedBags&quot;: {\n            &quot;quantity&quot;: 0\n          }\n        },\n        {\n          &quot;segmentId&quot;: &quot;6&quot;,\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\n          &quot;class&quot;: &quot;G&quot;,\n          &quot;includedCheckedBags&quot;: {\n            &quot;quantity&quot;: 0\n          }\n        }\n      ]\n    },\n    {\n      &quot;travelerId&quot;: &quot;2&quot;,\n      &quot;fareOption&quot;: &quot;STANDARD&quot;,\n      &quot;travelerType&quot;: &quot;ADULT&quot;,\n      &quot;price&quot;: {\n        &quot;currency&quot;: &quot;EUR&quot;,\n        &quot;total&quot;: &quot;127.65&quot;,\n        &quot;base&quot;: &quot;24.00&quot;\n      },\n      &quot;fareDetailsBySegment&quot;: [\n        {\n          &quot;segmentId&quot;: &quot;1&quot;,\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\n          &quot;class&quot;: &quot;G&quot;,\n          &quot;includedCheckedBags&quot;: {\n            &quot;quantity&quot;: 0\n          }\n        },\n        {\n          &quot;segmentId&quot;: &quot;6&quot;,\n          &quot;cabin&quot;: &quot;ECONOMY&quot;,\n          &quot;fareBasis&quot;: &quot;GS50OALG&quot;,\n          &quot;brandedFare&quot;: &quot;LIGHT2&quot;,\n          &quot;class&quot;: &quot;G&quot;,\n          &quot;includedCheckedBags&quot;: {\n            &quot;quantity&quot;: 0\n          }\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>Java API call I make couldn't be simpler:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.amadeus/amadeus-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amadeus&lt;/groupId&gt;\n            &lt;artifactId&gt;amadeus-java&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>    @PostMapping(&quot;/confirm&quot;)\n    public ResponseEntity&lt;FlightPrice&gt; confirm(@RequestBody FlightOfferSearch search) throws ResponseException {\n        return ResponseEntity.ok(amadeusConnector.confirm(search));\n    }\n</code></pre>\n<pre><code>    public FlightPrice confirm(FlightOfferSearch offer) throws ResponseException {\n        return amadeus.shopping.flightOffersSearch.pricing.post(offer);\n    }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":1,"creation_date":1369993165,"post_id":16854055,"comment_id":24306723,"body_markdown":"Why *negative* lookahead if you want to match it?","body":"Why <i>negative</i> lookahead if you want to match it?"},{"owner":{"account_id":1233688,"reputation":125,"user_id":1197747,"accept_rate":100,"display_name":"sore-spot"},"score":0,"creation_date":1370854612,"post_id":16854055,"comment_id":24597854,"body_markdown":"Maybe I am wrong but I thought you used negative if its not allowed to contain the matched pattern? My issue is I only wanted to pass in a pattern with out doing anything else. This pattern only accepts a string that does not contain the strings mentioned.","body":"Maybe I am wrong but I thought you used negative if its not allowed to contain the matched pattern? My issue is I only wanted to pass in a pattern with out doing anything else. This pattern only accepts a string that does not contain the strings mentioned."}],"answers":[{"comments":[{"owner":{"account_id":232333,"reputation":21533,"user_id":497106,"display_name":"Patashu"},"score":1,"creation_date":1369992705,"post_id":16854112,"comment_id":24306473,"body_markdown":"I have a question. It works, but why? Is it because the .* in the lookahead is greedy, attempts to consume the whole string, then continually drops one character and tries to match the lookahead at every possible point?","body":"I have a question. It works, but why? Is it because the .* in the lookahead is greedy, attempts to consume the whole string, then continually drops one character and tries to match the lookahead at every possible point?"},{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":1,"creation_date":1369992845,"post_id":16854112,"comment_id":24306548,"body_markdown":"@Patashu with `.*` it eats every character in string.i.e it goes at the end..then it backtracks 1 by 1 to match `(pack(et)? ?station)`..","body":"@Patashu with <code>.*</code> it eats every character in string.i.e it goes at the end..then it backtracks 1 by 1 to match <code>(pack(et)? ?station)</code>.."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1369992860,"post_id":16854112,"comment_id":24306559,"body_markdown":"It doesn&#39;t consume the input if it means *not* matching","body":"It doesn&#39;t consume the input if it means <i>not</i> matching"},{"owner":{"account_id":10843,"reputation":330387,"user_id":20670,"accept_rate":100,"display_name":"Tim Pietzcker"},"score":0,"creation_date":1369992886,"post_id":16854112,"comment_id":24306570,"body_markdown":"(Currently, this doesn&#39;t exclude `Paketstation`. You could make the `c` optional at the expense of false positive matches like `Pakstation`, or reintroduce the original alternation.","body":"(Currently, this doesn&#39;t exclude <code>Paketstation</code>. You could make the <code>c</code> optional at the expense of false positive matches like <code>Pakstation</code>, or reintroduce the original alternation."},{"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"score":0,"creation_date":1369992989,"post_id":16854112,"comment_id":24306623,"body_markdown":"@TimPietzcker yes..indeed sir..you are right..edited the ans..thanks","body":"@TimPietzcker yes..indeed sir..you are right..edited the ans..thanks"}],"tags":[],"owner":{"account_id":294495,"reputation":32500,"user_id":598420,"accept_rate":91,"display_name":"Anirudha"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1369993301,"creation_date":1369992582,"answer_id":16854112,"question_id":16854055,"body_markdown":"This is what you are looking for\r\n\r\n    (?i)^(?=.*(pack ?station|paket ?station)).{1,26}$\r\n\r\nYou were missing `.*` in lookahead.\r\n\r\nAlso if you want to match it,using **positive lookahead** would be more clearer..","title":"Negative Lookahead pattern which matches no matter where it is in a string","body":"<p>This is what you are looking for</p>\n\n<pre><code>(?i)^(?=.*(pack ?station|paket ?station)).{1,26}$\n</code></pre>\n\n<p>You were missing <code>.*</code> in lookahead.</p>\n\n<p>Also if you want to match it,using <strong>positive lookahead</strong> would be more clearer..</p>\n"}],"owner":{"account_id":1233688,"reputation":125,"user_id":1197747,"accept_rate":100,"display_name":"sore-spot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16854112,"answer_count":1,"score":0,"last_activity_date":1676258612,"creation_date":1369992425,"question_id":16854055,"body_markdown":"This is linked to https://stackoverflow.com/q/16809700/1197747 but it is a different question.\r\n\r\nI was wondering if there was anyway to ignore the beginning of a string or if a Negative Lookahead only works from left too right and needs a starting point? Every thing I have tried seems to always find a match.\r\n\r\nThe current pattern I am using is \r\n\r\n    (?i)^(?!pack ?station|paket ?station).*$\r\n\r\nThis works fine for &quot;packstation foo bar&quot;, but if I want to match &quot;foo packstation bar&quot; then it does not work.\r\n\r\nThe string can only be a max of 26 characters and if it contains the strings below then I would like to match it.\r\n\r\n - packstation - ( packstation | Packstation | PACKSTATION )\r\n - pack station - ( pack station | Pack station | pack Station | Pack Station | PACK STATION )\r\n - paketstation - ( paketstation | Paketstation | PAKETSTATION )\r\n - paket station - ( paket station | Paket station| paket Station| Paket Station | PAKET STATION )","title":"Negative Lookahead pattern which matches no matter where it is in a string","body":"<p>This is linked to <a href=\"https://stackoverflow.com/q/16809700/1197747\">Ignoring case for a whole pattern of strings</a> but it is a different question.</p>\n\n<p>I was wondering if there was anyway to ignore the beginning of a string or if a Negative Lookahead only works from left too right and needs a starting point? Every thing I have tried seems to always find a match.</p>\n\n<p>The current pattern I am using is </p>\n\n<pre><code>(?i)^(?!pack ?station|paket ?station).*$\n</code></pre>\n\n<p>This works fine for \"packstation foo bar\", but if I want to match \"foo packstation bar\" then it does not work.</p>\n\n<p>The string can only be a max of 26 characters and if it contains the strings below then I would like to match it.</p>\n\n<ul>\n<li>packstation - ( packstation | Packstation | PACKSTATION )</li>\n<li>pack station - ( pack station | Pack station | pack Station | Pack Station | PACK STATION )</li>\n<li>paketstation - ( paketstation | Paketstation | PAKETSTATION )</li>\n<li>paket station - ( paket station | Paket station| paket Station| Paket Station | PAKET STATION )</li>\n</ul>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22568914,"reputation":1,"user_id":16755402,"display_name":"Mani Kandan"},"score":0,"creation_date":1676289258,"post_id":75431570,"comment_id":133100745,"body_markdown":"I found answer on this link - https://stackoverflow.com/questions/32641280/how-to-add-text-to-the-video-in-android","body":"I found answer on this link - <a href=\"https://stackoverflow.com/questions/32641280/how-to-add-text-to-the-video-in-android\" title=\"how to add text to the video in android\">stackoverflow.com/questions/32641280/&hellip;</a>"}],"owner":{"account_id":22568914,"reputation":1,"user_id":16755402,"display_name":"Mani Kandan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676257038,"creation_date":1676257038,"question_id":75431570,"body_markdown":"I have set app permission, capturing video, saving video file. Here what I have do it. Chronometer displayed during the recording like as I have to also displayed on the output video file. Kindly advise me to do that.\r\n\r\nI think Grafika is old one and not usable. ","title":"How embed chronometer in recorded video Android studio","body":"<p>I have set app permission, capturing video, saving video file. Here what I have do it. Chronometer displayed during the recording like as I have to also displayed on the output video file. Kindly advise me to do that.</p>\n<p>I think Grafika is old one and not usable.</p>\n"},{"tags":["java","android","android-studio","sharedpreferences"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":2,"creation_date":1676260040,"post_id":75431490,"comment_id":133094983,"body_markdown":"It would be better for you to adopt [SQLite](https://developer.android.com/training/data-storage/sqlite) for saving objects. But if you insist using SharedPreferences, you can [create a custom SharedPreferences helper class](https://stackoverflow.com/questions/46763570/custom-sharedpreferences-class) and [serialize your object using Gson](https://stackoverflow.com/questions/5816695/android-sharedpreferences-with-serializable-object) before saving.","body":"It would be better for you to adopt <a href=\"https://developer.android.com/training/data-storage/sqlite\" rel=\"nofollow noreferrer\">SQLite</a> for saving objects. But if you insist using SharedPreferences, you can <a href=\"https://stackoverflow.com/questions/46763570/custom-sharedpreferences-class\">create a custom SharedPreferences helper class</a> and <a href=\"https://stackoverflow.com/questions/5816695/android-sharedpreferences-with-serializable-object\">serialize your object using Gson</a> before saving."}],"owner":{"account_id":27769949,"reputation":1,"user_id":21200408,"display_name":"lee07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676255637,"creation_date":1676255637,"question_id":75431490,"body_markdown":"This code is only for testing, how to save existing client data when the save button is clicked and can still be used to view, update and delete using shared preferences so that when the application exits the data is not lost, here&#39;s the code:\r\n\r\n```\r\npackage com.test.data;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\nimport android.view.LayoutInflater;\r\nimport android.widget.TextView;\r\nimport android.content.SharedPreferences;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport android.view.Gravity;\r\n\r\nclass Client {\r\n\tprivate String clientID;\r\n    private String clientName;\r\n    private String clientAddress;\r\n    private String clientEmail;\r\n    private String clientPhone;\r\n\r\n    public Client(String clientID, String clientName, String clientAddres, String clientEmail, String clientPhone) {\r\n        this.clientID = clientID;\r\n\t\tthis.clientName = clientName;\r\n        this.clientAddress = clientAddres;\r\n        this.clientEmail = clientEmail;\r\n        this.clientPhone = clientPhone;\r\n    }\r\n\r\n\tpublic String getclientID() {\r\n\t\treturn clientID;\r\n\t}\r\n\t\r\n\tpublic void setclientID(String clientID) {\r\n\t\tthis.clientID = clientID;\r\n\t}\r\n\t\r\n    public String getclientName() {\r\n        return clientName;\r\n    }\r\n\r\n    public void setclieantName(String clientName) {\r\n        this.clientName = clientName;\r\n    }\r\n\r\n    public String getclientAddress() {\r\n        return clientAddress;\r\n    }\r\n\r\n    public void setclientAddress(String clientAddress) {\r\n        this.clientAddress = clientAddress;\r\n    }\r\n\r\n    public String getclientEmail() {\r\n        return getclientEmail();\r\n    }\r\n\r\n    public void setclientEmail(String clientEmail) {\r\n        this.clientEmail = clientEmail;\r\n    }\r\n\r\n    public String getclientPhone() {\r\n        return clientPhone;\r\n    }\r\n\r\n    public void setclientPhone(String clientPhone) {\r\n        this.clientPhone = clientPhone;\r\n    }\r\n}\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private EditText etclientID, etclientName, etclientAddress, etclientEmail, etclientPhone;\r\n    private Button btnSave, btnShow, btnUpdate, btnDelete;\r\n\t\r\n    private List&lt;Client&gt; listClient = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\t\tetclientID = findViewById(R.id.et_id_client);\r\n        etclientName = findViewById(R.id.et_nama_client);\r\n        etclientAddress = findViewById(R.id.et_waktu_pendaftaran);\r\n        etclientEmail = findViewById(R.id.et_jenis_perkara);\r\n        etclientPhone = findViewById(R.id.et_status_perkara);\r\n\r\n        btnSave = findViewById(R.id.btn_simpan);\r\n        btnShow = findViewById(R.id.btn_lihat);\r\n        btnUpdate = findViewById(R.id.btn_update);\r\n        btnDelete = findViewById(R.id.btn_hapus);\r\n\r\n        btnSave.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\tsaveClient();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\r\n\t\t\r\n        btnShow.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\tshowClient();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n        btnUpdate.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\tupdateClient();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n        btnDelete.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\tdeleteClient();\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    private void saveClient() {\r\n\t\tLayoutInflater inflater = getLayoutInflater();\r\n\t\tView layout = inflater.inflate(R.layout.toast_layout, null);\r\n\t\tTextView text = layout.findViewById(R.id.text);\r\n\t\t\r\n\t\tString clientID = etclientID.getText().toString();\r\n\t\tString clientName = etclientName.getText().toString();\r\n\t\tString clientAddress = etclientAddress.getText().toString();\r\n\t\tString clientEmail = etclientEmail.getText().toString();\r\n\t\tString clientPhone = etclientPhone.getText().toString();\r\n\r\n\t\tboolean isIdExists = false;\r\n\t\tfor (Client client : listClient) {\r\n\t\t\tif (client.getclientID().equals(clientID)) {\r\n\t\t\t\tisIdExists = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isIdExists) {\r\n\t\t\ttext.setText(&quot;Client ID is already in use&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t\t} else {\r\n\t\t\tlistClient.add(new Client(clientID, clientName, clientAddress, clientEmail, clientPhone));\r\n\t\t\ttext.setText(&quot;Data saved successfully&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t}\r\n}\r\n\t\r\n\tprivate void showClient() {\r\n\t\tLayoutInflater inflater = getLayoutInflater();\r\n\t\tView layout = inflater.inflate(R.layout.toast_layout, null);\r\n\t\tTextView text = layout.findViewById(R.id.text);\r\n\t\t\r\n\t\tString clientID = etclientID.getText().toString();\r\n\t\tboolean found = false;\r\n\t\tfor (Client client : listClient) {\r\n\t\t\tif (client.getclientID().equals(clientID)) {\r\n\t\t\t\ttext.setText(&quot;Client ID : &quot; + client.getclientID() + &quot;\\nClient Name : &quot; + client.getclientName() + &quot;\\nClient Address : &quot; + client.getclientAddress() + &quot;\\nClient Email : &quot; + client.getclientAddress() + &quot;\\nClient Phone : &quot; + client.getclientPhone());\r\n\t\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\t\ttoast.setGravity(Gravity.TOP, 0,30);\r\n\t\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\t\ttoast.setView(layout);\r\n\t\t\t\ttoast.show();\r\n\t\t\t\tfound = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!found) {\r\n\t\t\ttext.setText(&quot;Data with id &quot; + clientID + &quot; not found&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void updateClient() {\r\n\t\tLayoutInflater inflater = getLayoutInflater();\r\n\t\tView layout = inflater.inflate(R.layout.toast_layout, null);\r\n\t\tTextView text = layout.findViewById(R.id.text);\r\n\t\t\r\n\t\tString clientID = etclientID.getText().toString();\r\n\t\tString clientName = etclientName.getText().toString();\r\n\t\tString clientAddress = etclientAddress.getText().toString();\r\n\t\tString clientEmail = etclientEmail.getText().toString();\r\n\t\tString clientPhone = etclientPhone.getText().toString();\r\n\r\n\t\tboolean isUpdated = false;\r\n\r\n\t\tfor (Client client : listClient) {\r\n\t\t\tif (client.getclientID().equals(clientID)) {\r\n\t\t\t\tclient.setclieantName(clientName);\r\n\t\t\t\tclient.setclientAddress(clientAddress);\r\n\t\t\t\tclient.setclientEmail(clientEmail);\r\n\t\t\t\tclient.setclientPhone(clientPhone);\r\n\t\t\t\tisUpdated = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isUpdated) {\r\n\t\t\ttext.setText(&quot;Data successfully updated&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t\t} else {\r\n\t\t\ttext.setText(&quot;Data not found&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void deleteClient() {\r\n\t\tLayoutInflater inflater = getLayoutInflater();\r\n\t\tView layout = inflater.inflate(R.layout.toast_layout, null);\r\n\t\tTextView text = layout.findViewById(R.id.text);\r\n\t\t\r\n\t\tString clientID = etclientID.getText().toString();\r\n\r\n\t\tint index = -1;\r\n\t\tfor (int i = 0; i &lt; listClient.size(); i++) {\r\n\t\t\tif (listClient.get(i).getclientID().equals(clientID)) {\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (index != -1) {\r\n\t\t\tlistClient.remove(index);\r\n\t\t\ttext.setText(&quot;Data berhasil dihapus&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t\t} else {\r\n\t\t\ttext.setText(&quot;Data deleted successfully&quot;);\r\n\t\t\tToast toast = new Toast(getApplicationContext());\r\n\t\t\ttoast.setGravity(Gravity.TOP, 0, 30);\r\n\t\t\ttoast.setDuration(Toast.LENGTH_SHORT);\r\n\t\t\ttoast.setView(layout);\r\n\t\t\ttoast.show();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI want the data not to be lost when I exit the application, when I enter the application again the data can still be used per id, all functions saveclient, showclient, updateclient, deleteclient can still be used, maybe someone can help.","title":"How to use shared prefrences to save data per id","body":"<p>This code is only for testing, how to save existing client data when the save button is clicked and can still be used to view, update and delete using shared preferences so that when the application exits the data is not lost, here's the code:</p>\n<pre><code>package com.test.data;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\nimport android.view.LayoutInflater;\nimport android.widget.TextView;\nimport android.content.SharedPreferences;\nimport java.util.ArrayList;\nimport java.util.List;\nimport android.view.Gravity;\n\nclass Client {\n    private String clientID;\n    private String clientName;\n    private String clientAddress;\n    private String clientEmail;\n    private String clientPhone;\n\n    public Client(String clientID, String clientName, String clientAddres, String clientEmail, String clientPhone) {\n        this.clientID = clientID;\n        this.clientName = clientName;\n        this.clientAddress = clientAddres;\n        this.clientEmail = clientEmail;\n        this.clientPhone = clientPhone;\n    }\n\n    public String getclientID() {\n        return clientID;\n    }\n    \n    public void setclientID(String clientID) {\n        this.clientID = clientID;\n    }\n    \n    public String getclientName() {\n        return clientName;\n    }\n\n    public void setclieantName(String clientName) {\n        this.clientName = clientName;\n    }\n\n    public String getclientAddress() {\n        return clientAddress;\n    }\n\n    public void setclientAddress(String clientAddress) {\n        this.clientAddress = clientAddress;\n    }\n\n    public String getclientEmail() {\n        return getclientEmail();\n    }\n\n    public void setclientEmail(String clientEmail) {\n        this.clientEmail = clientEmail;\n    }\n\n    public String getclientPhone() {\n        return clientPhone;\n    }\n\n    public void setclientPhone(String clientPhone) {\n        this.clientPhone = clientPhone;\n    }\n}\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private EditText etclientID, etclientName, etclientAddress, etclientEmail, etclientPhone;\n    private Button btnSave, btnShow, btnUpdate, btnDelete;\n    \n    private List&lt;Client&gt; listClient = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        etclientID = findViewById(R.id.et_id_client);\n        etclientName = findViewById(R.id.et_nama_client);\n        etclientAddress = findViewById(R.id.et_waktu_pendaftaran);\n        etclientEmail = findViewById(R.id.et_jenis_perkara);\n        etclientPhone = findViewById(R.id.et_status_perkara);\n\n        btnSave = findViewById(R.id.btn_simpan);\n        btnShow = findViewById(R.id.btn_lihat);\n        btnUpdate = findViewById(R.id.btn_update);\n        btnDelete = findViewById(R.id.btn_hapus);\n\n        btnSave.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    saveClient();\n                }\n            });\n        \n        \n        btnShow.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    showClient();\n                }\n            });\n\n        btnUpdate.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    updateClient();\n                }\n            });\n\n        btnDelete.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    deleteClient();\n                }\n            });\n    }\n\n    private void saveClient() {\n        LayoutInflater inflater = getLayoutInflater();\n        View layout = inflater.inflate(R.layout.toast_layout, null);\n        TextView text = layout.findViewById(R.id.text);\n        \n        String clientID = etclientID.getText().toString();\n        String clientName = etclientName.getText().toString();\n        String clientAddress = etclientAddress.getText().toString();\n        String clientEmail = etclientEmail.getText().toString();\n        String clientPhone = etclientPhone.getText().toString();\n\n        boolean isIdExists = false;\n        for (Client client : listClient) {\n            if (client.getclientID().equals(clientID)) {\n                isIdExists = true;\n                break;\n            }\n        }\n\n        if (isIdExists) {\n            text.setText(&quot;Client ID is already in use&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n        } else {\n            listClient.add(new Client(clientID, clientName, clientAddress, clientEmail, clientPhone));\n            text.setText(&quot;Data saved successfully&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n    }\n}\n    \n    private void showClient() {\n        LayoutInflater inflater = getLayoutInflater();\n        View layout = inflater.inflate(R.layout.toast_layout, null);\n        TextView text = layout.findViewById(R.id.text);\n        \n        String clientID = etclientID.getText().toString();\n        boolean found = false;\n        for (Client client : listClient) {\n            if (client.getclientID().equals(clientID)) {\n                text.setText(&quot;Client ID : &quot; + client.getclientID() + &quot;\\nClient Name : &quot; + client.getclientName() + &quot;\\nClient Address : &quot; + client.getclientAddress() + &quot;\\nClient Email : &quot; + client.getclientAddress() + &quot;\\nClient Phone : &quot; + client.getclientPhone());\n                Toast toast = new Toast(getApplicationContext());\n                toast.setGravity(Gravity.TOP, 0,30);\n                toast.setDuration(Toast.LENGTH_SHORT);\n                toast.setView(layout);\n                toast.show();\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            text.setText(&quot;Data with id &quot; + clientID + &quot; not found&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n        }\n    }\n\n    private void updateClient() {\n        LayoutInflater inflater = getLayoutInflater();\n        View layout = inflater.inflate(R.layout.toast_layout, null);\n        TextView text = layout.findViewById(R.id.text);\n        \n        String clientID = etclientID.getText().toString();\n        String clientName = etclientName.getText().toString();\n        String clientAddress = etclientAddress.getText().toString();\n        String clientEmail = etclientEmail.getText().toString();\n        String clientPhone = etclientPhone.getText().toString();\n\n        boolean isUpdated = false;\n\n        for (Client client : listClient) {\n            if (client.getclientID().equals(clientID)) {\n                client.setclieantName(clientName);\n                client.setclientAddress(clientAddress);\n                client.setclientEmail(clientEmail);\n                client.setclientPhone(clientPhone);\n                isUpdated = true;\n                break;\n            }\n        }\n\n        if (isUpdated) {\n            text.setText(&quot;Data successfully updated&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n        } else {\n            text.setText(&quot;Data not found&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n        }\n    }\n\n    private void deleteClient() {\n        LayoutInflater inflater = getLayoutInflater();\n        View layout = inflater.inflate(R.layout.toast_layout, null);\n        TextView text = layout.findViewById(R.id.text);\n        \n        String clientID = etclientID.getText().toString();\n\n        int index = -1;\n        for (int i = 0; i &lt; listClient.size(); i++) {\n            if (listClient.get(i).getclientID().equals(clientID)) {\n                index = i;\n                break;\n            }\n        }\n\n        if (index != -1) {\n            listClient.remove(index);\n            text.setText(&quot;Data berhasil dihapus&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n        } else {\n            text.setText(&quot;Data deleted successfully&quot;);\n            Toast toast = new Toast(getApplicationContext());\n            toast.setGravity(Gravity.TOP, 0, 30);\n            toast.setDuration(Toast.LENGTH_SHORT);\n            toast.setView(layout);\n            toast.show();\n        }\n    }\n}\n</code></pre>\n<p>I want the data not to be lost when I exit the application, when I enter the application again the data can still be used per id, all functions saveclient, showclient, updateclient, deleteclient can still be used, maybe someone can help.</p>\n"},{"tags":["java","command-line","process","minecraft"],"comments":[{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1676186682,"post_id":75425197,"comment_id":133084313,"body_markdown":"What command is it exactly? Can you start other GUI programs like Notepad or Firefox?","body":"What command is it exactly? Can you start other GUI programs like Notepad or Firefox?"},{"owner":{"account_id":19578442,"reputation":29,"user_id":14328040,"display_name":"larryr1"},"score":0,"creation_date":1676244175,"post_id":75425197,"comment_id":133093425,"body_markdown":"@JosephSible-ReinstateMonica I have added a link to the command. Other GUI programs work correctly.","body":"@JosephSible-ReinstateMonica I have added a link to the command. Other GUI programs work correctly."},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1676245178,"post_id":75425197,"comment_id":133093529,"body_markdown":"@user14328040 &quot;Error, this is a private paste or is pending moderation. If this paste belongs to you, please login to Pastebin to view it.&quot; Why can&#39;t you just edit the command directly into your question?","body":"@user14328040 &quot;Error, this is a private paste or is pending moderation. If this paste belongs to you, please login to Pastebin to view it.&quot; Why can&#39;t you just edit the command directly into your question?"},{"owner":{"account_id":19578442,"reputation":29,"user_id":14328040,"display_name":"larryr1"},"score":0,"creation_date":1676253137,"post_id":75425197,"comment_id":133094339,"body_markdown":"@JosephSible-ReinstateMonica When I created the question, pasting my command resulted in the code block taking up a full screen height of text but it appears to stay on one line now, probably due to a formatting error. Sorry about that. It&#39;s there, now. My paste also appears to be &quot;Pending Moderation&quot; for some reason.","body":"@JosephSible-ReinstateMonica When I created the question, pasting my command resulted in the code block taking up a full screen height of text but it appears to stay on one line now, probably due to a formatting error. Sorry about that. It&#39;s there, now. My paste also appears to be &quot;Pending Moderation&quot; for some reason."},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1676253309,"post_id":75425197,"comment_id":133094352,"body_markdown":"When you tried with the overload that takes an array of strings, did you do it like `Runtime.getRuntime.exec(new String[] {&quot;java&quot;, &quot;-Dox.name=Windows 10&quot;, ...});` or like `Runtime.getRuntime.exec(new String[] {&quot;java&quot;, &quot;\\&quot;-Dox.name=Windows 10\\&quot;&quot;, ...});`?","body":"When you tried with the overload that takes an array of strings, did you do it like <code>Runtime.getRuntime.exec(new String[] {&quot;java&quot;, &quot;-Dox.name=Windows 10&quot;, ...});</code> or like <code>Runtime.getRuntime.exec(new String[] {&quot;java&quot;, &quot;\\&quot;-Dox.name=Windows 10\\&quot;&quot;, ...});</code>?"},{"owner":{"account_id":19578442,"reputation":29,"user_id":14328040,"display_name":"larryr1"},"score":1,"creation_date":1676254304,"post_id":75425197,"comment_id":133094441,"body_markdown":"@JosephSible-ReinstateMonica It&#39;s being processed as `new String[] {&quot;java&quot;, &quot;\\&quot;-Dox.name=Windows 10\\&quot;&quot;, ...});` because of how it was reading from my configuration file. After removing the wrapping quotes from the lines in my configuration file it works! Thanks for your help, I&#39;ll answer my question.","body":"@JosephSible-ReinstateMonica It&#39;s being processed as <code>new String[] {&quot;java&quot;, &quot;\\&quot;-Dox.name=Windows 10\\&quot;&quot;, ...});</code> because of how it was reading from my configuration file. After removing the wrapping quotes from the lines in my configuration file it works! Thanks for your help, I&#39;ll answer my question."}],"answers":[{"tags":[],"owner":{"account_id":19578442,"reputation":29,"user_id":14328040,"display_name":"larryr1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676254540,"creation_date":1676254540,"answer_id":75431419,"question_id":75425197,"body_markdown":"When reading from my configuration file, some lines (and thus some arguments) had wrapping quotes. As such, they were being read into the arguments String array as `new String[] {&quot;java&quot;, &quot;\\&quot;-Dos.name=Windows 10\\&quot;&quot;, ...};`.\r\n\r\nRemoving the wrapping quotes from my arguments solved the issue, resulting in the arguments then being constructed as `new String[] {&quot;java, &quot;-Dos.name=Windows 10&quot;, ...}`.","title":"Why does my custom Minecraft launcher not correctly start processes?","body":"<p>When reading from my configuration file, some lines (and thus some arguments) had wrapping quotes. As such, they were being read into the arguments String array as <code>new String[] {&quot;java&quot;, &quot;\\&quot;-Dos.name=Windows 10\\&quot;&quot;, ...};</code>.</p>\n<p>Removing the wrapping quotes from my arguments solved the issue, resulting in the arguments then being constructed as <code>new String[] {&quot;java, &quot;-Dos.name=Windows 10&quot;, ...}</code>.</p>\n"}],"owner":{"account_id":19578442,"reputation":29,"user_id":14328040,"display_name":"larryr1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75431419,"answer_count":1,"score":0,"last_activity_date":1676254540,"creation_date":1676181913,"question_id":75425197,"body_markdown":"Since my school computers blocks unknown apps or `.exe` files but have Java installed, I wrote my own launch system that I can use instead of the regular Minecraft launcher.\r\n\r\nThis works great. The launcher gives you a command to paste back into Powershell ISE (the only unblocked terminal) to start the game. However, I feel the non-tech-savvy people would have a hard time with this so I&#39;m trying to make my program launch the game itself.\r\n\r\nI&#39;m using the following code:\r\n```java\r\ntry {\r\n    /*ProcessBuilder procbuilder = new ProcessBuilder(processArgs);\r\n     procbuilder.inheritIO();\r\n     procbuilder.start();*/\r\n     Runtime.getRuntime().exec(command).waitFor();\r\n} catch (java.io.IOException | java.lang.InterruptedException e) {\r\n     System.out.println(&quot;Exception while starting Minecraft: &quot; + e);\r\n}\r\n```\r\n\r\nMy `command` variable is *always* a valid Java command that works when pasted into a terminal. I have a template file that my program reads from and replaces some placeholders (for directories, session-specific arguments and such).\r\n\r\nI am able to use `exec()` to run other programs just fine. The following code works as expected:\r\n```java\r\nRuntime.getRuntime().exec(&quot;notepad.exe abc.txt&quot;);\r\n// or\r\nRuntime.getRuntime.exec(new String[] {&quot;notepad.exe&quot;, &quot;abc.txt&quot;});\r\n```\r\nI have passed my command and arguments the same way as demonstrated.\r\n\r\nWhy does this code cause Minecraft to not display a window of any kind? Using ProcessExplorer, I can see that the process was created and spun off but, as opposed to pasting the command in a terminal, never shows the game window or any sort of indication it&#39;s running. **Why does Java not run this correctly as opposed to entering the same command into a terminal?** FWIW, ProcessExplorer shows that the process I tried to start *does* have the correct arguments, but clearly something is different.\r\n\r\nPer request, I have pasted the full command I&#39;m trying to run.\r\n```\r\njava &quot;-Dox.name=Windows 10&quot; &quot;-Dos.version=10.0&quot; &quot;-Djava.library.path=C:\\Users\\myuser\\Desktop\\MC1-12-2\\javaLibraries\\&quot; &quot;-Dminecraft.launcher.brand=sidecraft&quot; &quot;-Dminecraft.launcher.version=2.3.592&quot; &quot;-Dminecraft.client.jar=C:\\Users\\myuser\\Desktop\\MC1-12-2\\version\\1.12.2.jar&quot; -cp &quot;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\patchy\\1.3.9\\patchy-1.3.9.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\oshi-project\\oshi-core\\1.1\\oshi-core-1.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\dev\\jna\\jna\\4.4.0\\jna-4.4.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\dev\\jna\\platform\\3.4.0\\platform-3.4.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\ibm\\icu\\icu4j-core-mojang\\51.2\\icu4j-core-mojang-51.2.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\sf\\jopt-simple\\jopt-simple\\5.0.3\\jopt-simple-5.0.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\codecjorbis\\20101023\\codecjorbis-20101023.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\codecwav\\20101023\\codecwav-20101023.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\libraryjavasound\\20101123\\libraryjavasound-20101123.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\librarylwjglopenal\\20100824\\librarylwjglopenal-20100824.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\soundsystem\\20120107\\soundsystem-20120107.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\io\\netty\\netty-all\\4.1.9.Final\\netty-all-4.1.9.Final.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\google\\guava\\guava\\21.0\\guava-21.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\commons\\commons-lang3\\3.5\\commons-lang3-3.5.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\commons-io\\commons-io\\2.5\\commons-io-2.5.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\commons-codec\\commons-codec\\1.10\\commons-codec-1.10.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\jinput\\jinput\\2.0.5\\jinput-2.0.5.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\jutils\\jutils\\1.0.0\\jutils-1.0.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\google\\code\\gson\\gson\\2.8.0\\gson-2.8.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\authlib\\1.5.25\\authlib-1.5.25.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\realms\\1.10.22\\realms-1.10.22.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\commons\\commons-compress\\1.8.1\\commons-compress-1.8.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\httpcomponents\\httpclient\\4.3.3\\httpclient-4.3.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\commons-logging\\commons-logging\\1.1.3\\commons-logging-1.1.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\httpcomponents\\httpcore\\4.3.2\\httpcore-4.3.2.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\it\\unimi\\dsi\\fastutil\\7.1.0\\fastutil-7.1.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\logging\\log4j\\log4j-api\\2.8.1\\log4j-api-2.8.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\logging\\log4j\\log4j-core\\2.8.1\\log4j-core-2.8.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\lwjgl\\lwjgl\\lwjgl\\2.9.4-nightly-20150209\\lwjgl-2.9.4-nightly-20150209.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\lwjgl\\lwjgl\\lwjgl_util\\2.9.4-nightly-20150209\\lwjgl_util-2.9.4-nightly-20150209.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\text2speech\\1.10.3\\text2speech-1.10.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\version\\1.12.2.jar&quot; -Xmx2G -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=32M &quot;-Dlog4j.configurationFile=C:\\Users\\myuser\\Desktop\\MC1-12-2\\version\\client-1.12.xml&quot; net.minecraft.client.main.Main --version 1.12.2 --accessToken NO_TOKEN --gamedir C:\\Users\\myuser\\Desktop\\MC1-12-2 --assetsDir C:\\Users\\myuser\\Desktop\\MC1-12-2\\assets --assetIndex 1.12 --uuid 4290304c-2bb5-4f73-b5cc-1e545bd766a1 --userType msa --versionType release\r\n```","title":"Why does my custom Minecraft launcher not correctly start processes?","body":"<p>Since my school computers blocks unknown apps or <code>.exe</code> files but have Java installed, I wrote my own launch system that I can use instead of the regular Minecraft launcher.</p>\n<p>This works great. The launcher gives you a command to paste back into Powershell ISE (the only unblocked terminal) to start the game. However, I feel the non-tech-savvy people would have a hard time with this so I'm trying to make my program launch the game itself.</p>\n<p>I'm using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    /*ProcessBuilder procbuilder = new ProcessBuilder(processArgs);\n     procbuilder.inheritIO();\n     procbuilder.start();*/\n     Runtime.getRuntime().exec(command).waitFor();\n} catch (java.io.IOException | java.lang.InterruptedException e) {\n     System.out.println(&quot;Exception while starting Minecraft: &quot; + e);\n}\n</code></pre>\n<p>My <code>command</code> variable is <em>always</em> a valid Java command that works when pasted into a terminal. I have a template file that my program reads from and replaces some placeholders (for directories, session-specific arguments and such).</p>\n<p>I am able to use <code>exec()</code> to run other programs just fine. The following code works as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runtime.getRuntime().exec(&quot;notepad.exe abc.txt&quot;);\n// or\nRuntime.getRuntime.exec(new String[] {&quot;notepad.exe&quot;, &quot;abc.txt&quot;});\n</code></pre>\n<p>I have passed my command and arguments the same way as demonstrated.</p>\n<p>Why does this code cause Minecraft to not display a window of any kind? Using ProcessExplorer, I can see that the process was created and spun off but, as opposed to pasting the command in a terminal, never shows the game window or any sort of indication it's running. <strong>Why does Java not run this correctly as opposed to entering the same command into a terminal?</strong> FWIW, ProcessExplorer shows that the process I tried to start <em>does</em> have the correct arguments, but clearly something is different.</p>\n<p>Per request, I have pasted the full command I'm trying to run.</p>\n<pre><code>java &quot;-Dox.name=Windows 10&quot; &quot;-Dos.version=10.0&quot; &quot;-Djava.library.path=C:\\Users\\myuser\\Desktop\\MC1-12-2\\javaLibraries\\&quot; &quot;-Dminecraft.launcher.brand=sidecraft&quot; &quot;-Dminecraft.launcher.version=2.3.592&quot; &quot;-Dminecraft.client.jar=C:\\Users\\myuser\\Desktop\\MC1-12-2\\version\\1.12.2.jar&quot; -cp &quot;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\patchy\\1.3.9\\patchy-1.3.9.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\oshi-project\\oshi-core\\1.1\\oshi-core-1.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\dev\\jna\\jna\\4.4.0\\jna-4.4.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\dev\\jna\\platform\\3.4.0\\platform-3.4.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\ibm\\icu\\icu4j-core-mojang\\51.2\\icu4j-core-mojang-51.2.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\sf\\jopt-simple\\jopt-simple\\5.0.3\\jopt-simple-5.0.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\codecjorbis\\20101023\\codecjorbis-20101023.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\codecwav\\20101023\\codecwav-20101023.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\libraryjavasound\\20101123\\libraryjavasound-20101123.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\librarylwjglopenal\\20100824\\librarylwjglopenal-20100824.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\paulscode\\soundsystem\\20120107\\soundsystem-20120107.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\io\\netty\\netty-all\\4.1.9.Final\\netty-all-4.1.9.Final.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\google\\guava\\guava\\21.0\\guava-21.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\commons\\commons-lang3\\3.5\\commons-lang3-3.5.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\commons-io\\commons-io\\2.5\\commons-io-2.5.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\commons-codec\\commons-codec\\1.10\\commons-codec-1.10.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\jinput\\jinput\\2.0.5\\jinput-2.0.5.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\net\\java\\jutils\\jutils\\1.0.0\\jutils-1.0.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\google\\code\\gson\\gson\\2.8.0\\gson-2.8.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\authlib\\1.5.25\\authlib-1.5.25.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\realms\\1.10.22\\realms-1.10.22.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\commons\\commons-compress\\1.8.1\\commons-compress-1.8.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\httpcomponents\\httpclient\\4.3.3\\httpclient-4.3.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\commons-logging\\commons-logging\\1.1.3\\commons-logging-1.1.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\httpcomponents\\httpcore\\4.3.2\\httpcore-4.3.2.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\it\\unimi\\dsi\\fastutil\\7.1.0\\fastutil-7.1.0.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\logging\\log4j\\log4j-api\\2.8.1\\log4j-api-2.8.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\apache\\logging\\log4j\\log4j-core\\2.8.1\\log4j-core-2.8.1.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\lwjgl\\lwjgl\\lwjgl\\2.9.4-nightly-20150209\\lwjgl-2.9.4-nightly-20150209.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\org\\lwjgl\\lwjgl\\lwjgl_util\\2.9.4-nightly-20150209\\lwjgl_util-2.9.4-nightly-20150209.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\libraries\\com\\mojang\\text2speech\\1.10.3\\text2speech-1.10.3.jar;C:\\Users\\myuser\\Desktop\\MC1-12-2\\version\\1.12.2.jar&quot; -Xmx2G -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=32M &quot;-Dlog4j.configurationFile=C:\\Users\\myuser\\Desktop\\MC1-12-2\\version\\client-1.12.xml&quot; net.minecraft.client.main.Main --version 1.12.2 --accessToken NO_TOKEN --gamedir C:\\Users\\myuser\\Desktop\\MC1-12-2 --assetsDir C:\\Users\\myuser\\Desktop\\MC1-12-2\\assets --assetIndex 1.12 --uuid 4290304c-2bb5-4f73-b5cc-1e545bd766a1 --userType msa --versionType release\n</code></pre>\n"},{"tags":["java","spring","cors"],"comments":[{"owner":{"account_id":2021661,"reputation":62048,"user_id":2541573,"accept_rate":100,"display_name":"jub0bs"},"score":0,"creation_date":1676287931,"post_id":75430884,"comment_id":133100421,"body_markdown":"How are you stacking the auth filter with respect to the CORS one? The CORS one needs to come first, since CORS-preflight requests are not authenticated. Add a https://stackoverflow.com/help/minimal-reproducible-example.","body":"How are you stacking the auth filter with respect to the CORS one? The CORS one needs to come first, since CORS-preflight requests are not authenticated. Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>."}],"owner":{"account_id":25743094,"reputation":13,"user_id":19496782,"display_name":"noxi3534"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676253276,"creation_date":1676245527,"question_id":75430884,"body_markdown":"I feel like I tried everything and I&#39;m really about to give up on Java lol.\r\nI&#39;ve tried fixing it by adding access-control-allow-origin to server response, changing headers type, playing around with cors settings... current are:\r\n\r\n    @Configuration\r\n    public class CorsConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n    \r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;*&quot;)\r\n                    .allowedMethods(&quot;*&quot;)\r\n                    .allowedHeaders(&quot;*&quot;)\r\n                    .allowCredentials(true);\r\n        }\r\n    }\r\n\r\nMiddleware (filter) to make sure user is an Admin (by reading Headers &#39;authorization&#39;):\r\n\r\n        @Component\r\n        public class AuthAdmin extends OncePerRequestFilter {\r\n            private static final String[] excluded_urls = {\r\n                &quot;/user/**&quot;, &quot;/product/**&quot;\r\n            };\r\n            AntPathMatcher pathMatcher = new AntPathMatcher();\r\n        \r\n            @Override\r\n            protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\r\n                                            FilterChain filterChain) throws ServletException, IOException {\r\n                // response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n                System.out.println(&quot;Headers: &quot;+ request.getHeader(&quot;Authorization&quot;));\r\n    // output: &#39;Headers: null&#39;\r\n\r\nI make the request with axios in javascript:\r\n\r\n      axios.get(`${SERVER_URL}/service`, {\r\n                headers: { &#39;Authorization&#39;: `Bearer ${localStorage.getItem(&#39;token&#39;)}` }\r\n            })....\r\n\r\nwhich results in CORS error and authorization headers showing up as null. This is the error:\r\n\r\n`Access to XMLHttpRequest at &#39;http://localhost:8080/service&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.`\r\n\r\n**but if I add:**\r\n\r\n```response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);```,\r\n\r\n**it results in:** `The &#39;Access-Control-Allow-Origin&#39; header contains multiple values &#39;*, *&#39;, but only one is allowed`.\r\nI have no idea why it is still not working. What can I do?\r\nIf I disable the filter then every request goes through just fine, along with headers so its the filter that breaks it.","title":"doFilterInternal results in CORS Origin error","body":"<p>I feel like I tried everything and I'm really about to give up on Java lol.\nI've tried fixing it by adding access-control-allow-origin to server response, changing headers type, playing around with cors settings... current are:</p>\n<pre><code>@Configuration\npublic class CorsConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .allowCredentials(true);\n    }\n}\n</code></pre>\n<p>Middleware (filter) to make sure user is an Admin (by reading Headers 'authorization'):</p>\n<pre><code>    @Component\n    public class AuthAdmin extends OncePerRequestFilter {\n        private static final String[] excluded_urls = {\n            &quot;/user/**&quot;, &quot;/product/**&quot;\n        };\n        AntPathMatcher pathMatcher = new AntPathMatcher();\n    \n        @Override\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response,\n                                        FilterChain filterChain) throws ServletException, IOException {\n            // response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n            System.out.println(&quot;Headers: &quot;+ request.getHeader(&quot;Authorization&quot;));\n// output: 'Headers: null'\n</code></pre>\n<p>I make the request with axios in javascript:</p>\n<pre><code>  axios.get(`${SERVER_URL}/service`, {\n            headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }\n        })....\n</code></pre>\n<p>which results in CORS error and authorization headers showing up as null. This is the error:</p>\n<p><code>Access to XMLHttpRequest at 'http://localhost:8080/service' from origin 'http://localhost:3000' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n<p><strong>but if I add:</strong></p>\n<p><code>response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);</code>,</p>\n<p><strong>it results in:</strong> <code>The 'Access-Control-Allow-Origin' header contains multiple values '*, *', but only one is allowed</code>.\nI have no idea why it is still not working. What can I do?\nIf I disable the filter then every request goes through just fine, along with headers so its the filter that breaks it.</p>\n"},{"tags":["java","jackson"],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676252663,"creation_date":1676241101,"question_id":75430604,"body_markdown":"I am trying to create a custom jackson serializer that will be applied to all classes if a certain criteria has been met. If not I would like to use the default serializer for that class. \r\n\r\nDoes anyone know if this is possible and how. Can I make the serializer for Object like this `public class ObjectSerializer extends StdSerializer&lt;Object&gt; {` and then just put `@JsonSerialize(using = ObjectSerializer.class)` on all classes?\r\n\r\nStill, even if that&#39;s possible I don&#39;t know how to invoke default serializer for the concrete class if the condition hasn&#39;t been met","title":"Custom jackson serializer for all classes","body":"<p>I am trying to create a custom jackson serializer that will be applied to all classes if a certain criteria has been met. If not I would like to use the default serializer for that class.</p>\n<p>Does anyone know if this is possible and how. Can I make the serializer for Object like this <code>public class ObjectSerializer extends StdSerializer&lt;Object&gt; {</code> and then just put <code>@JsonSerialize(using = ObjectSerializer.class)</code> on all classes?</p>\n<p>Still, even if that's possible I don't know how to invoke default serializer for the concrete class if the condition hasn't been met</p>\n"},{"tags":["java","spring","spring-boot","rest","rabbitmq"],"owner":{"account_id":11387294,"reputation":13,"user_id":8348623,"display_name":"bchird"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676252467,"creation_date":1676235495,"question_id":75430140,"body_markdown":"Can we consume messages with a delay on consumers side, rather than adding a delay on producers side while publishing a message. Can we place a delay in rabbitMQ listener so that during consumption of message, we can only consume after 2 seconds for example [given the message is already in queue]. Is there any specific configuration in spring boot rabbitMQ to set a delay on consumer&#39;s side. ","title":"Can we delay the message in rabbitmq listener spring boot during consumption","body":"<p>Can we consume messages with a delay on consumers side, rather than adding a delay on producers side while publishing a message. Can we place a delay in rabbitMQ listener so that during consumption of message, we can only consume after 2 seconds for example [given the message is already in queue]. Is there any specific configuration in spring boot rabbitMQ to set a delay on consumer's side.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"score":0,"creation_date":1676249950,"post_id":75431096,"comment_id":133093965,"body_markdown":"would you mind provide me the example? I am trying this but still compilation issue:public static &lt;R, A, T, K, V&gt; \n\tR listToMap(List&lt;T&gt; inputList, \n\t\t\tFunction&lt;? super T, ? extends K&gt; keyMapper, \n\t\t\tFunction&lt;? super T, ? extends V&gt; valueMapper)\n\t{\n\t\tCollector c = Collectors.toMap(keyMapper, valueMapper);\n\t\treturn inputList.stream()\n\t\t\t\t.collect(c);\n\t\t\n\t\t\n\t}","body":"would you mind provide me the example? I am trying this but still compilation issue:public static &lt;R, A, T, K, V&gt;  \tR listToMap(List&lt;T&gt; inputList,  \t\t\tFunction&lt;? super T, ? extends K&gt; keyMapper,  \t\t\tFunction&lt;? super T, ? extends V&gt; valueMapper) \t{ \t\tCollector c = Collectors.toMap(keyMapper, valueMapper); \t\treturn inputList.stream() \t\t\t\t.collect(c); \t\t \t\t \t}"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1676250224,"post_id":75431096,"comment_id":133094001,"body_markdown":"Why are you using a raw Collector?","body":"Why are you using a raw Collector?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676251012,"post_id":75431096,"comment_id":133094083,"body_markdown":"@bluemountain There was no reason to add `R` or `A` to the type parameters. You already have all the necessary generic information. Part of the problem is that `c` is declared to be a **raw** `Collector`. You need to parameterize it. My answer goes into more detail.","body":"@bluemountain There was no reason to add <code>R</code> or <code>A</code> to the type parameters. You already have all the necessary generic information. Part of the problem is that <code>c</code> is declared to be a <b>raw</b> <code>Collector</code>. You need to parameterize it. My answer goes into more detail."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1676251377,"post_id":75431096,"comment_id":133094133,"body_markdown":"This whole helper seems pretty pointless.","body":"This whole helper seems pretty pointless."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676252119,"post_id":75431096,"comment_id":133094227,"body_markdown":"@shmosel Eh, maybe. If this pattern is used many times throughout the code (or other projects), then I can see making this helper method.","body":"@shmosel Eh, maybe. If this pattern is used many times throughout the code (or other projects), then I can see making this helper method."}],"answers":[{"comments":[{"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"score":0,"creation_date":1676251553,"post_id":75431168,"comment_id":133094153,"body_markdown":"I think we are getting close. Now we have the listToMap method fixed. However, I am getting issue on this line when I am trying to invoke that method, it is complaining here Student::getName, Student::getActivites saying &quot;The type Student does not define getName(T) that is applicable here&quot; and &quot;The type Student does not define getActivites(T) that is applicable here&quot;","body":"I think we are getting close. Now we have the listToMap method fixed. However, I am getting issue on this line when I am trying to invoke that method, it is complaining here Student::getName, Student::getActivites saying &quot;The type Student does not define getName(T) that is applicable here&quot; and &quot;The type Student does not define getActivites(T) that is applicable here&quot;"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676251954,"post_id":75431168,"comment_id":133094201,"body_markdown":"@bluemountain I added a minimal example using the `listToMap` method. Note I made `Student` a record, so the &quot;getters&quot; are named e.g., `name()` instead of `getName()`, but that&#39;s mostly immaterial. You can see it gives what you want. If you&#39;re still having issues, then please describe the error you&#39;re getting.","body":"@bluemountain I added a minimal example using the <code>listToMap</code> method. Note I made <code>Student</code> a record, so the &quot;getters&quot; are named e.g., <code>name()</code> instead of <code>getName()</code>, but that&#39;s mostly immaterial. You can see it gives what you want. If you&#39;re still having issues, then please describe the error you&#39;re getting."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676252124,"post_id":75431168,"comment_id":133094228,"body_markdown":"One should also consider to handle the case if the input happens to produce duplicate keys (i.e. if there are two equal names, for the given example ) the above will throw `java.lang.IllegalStateException: Duplicate key`","body":"One should also consider to handle the case if the input happens to produce duplicate keys (i.e. if there are two equal names, for the given example ) the above will throw <code>java.lang.IllegalStateException: Duplicate key</code>"},{"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"score":0,"creation_date":1676252342,"post_id":75431168,"comment_id":133094255,"body_markdown":"Excellent. it worked and all the errors are gone now. Thanks so much for your help.","body":"Excellent. it worked and all the errors are gone now. Thanks so much for your help."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1676252364,"post_id":75431168,"comment_id":133094256,"body_markdown":"@Eritrean That&#39;s true. Though the fix for that is to use the `toMap` overload that accepts a `BinaryOperator` (the &quot;merge function&quot;). Unless there is a way the OP wants to merge duplicate keys in all cases, that means adding a `BinaryOperator` argument to the `listToMap` method (possibly via an overload). And at that point, I&#39;m of the opinion that creating this helper method loses any benefits it may have been providing. It&#39;d be better to just stream-and-collect &quot;directly&quot;, given the `Collectors` class is already essentially a utility class (i.e., nothing but helper methods).","body":"@Eritrean That&#39;s true. Though the fix for that is to use the <code>toMap</code> overload that accepts a <code>BinaryOperator</code> (the &quot;merge function&quot;). Unless there is a way the OP wants to merge duplicate keys in all cases, that means adding a <code>BinaryOperator</code> argument to the <code>listToMap</code> method (possibly via an overload). And at that point, I&#39;m of the opinion that creating this helper method loses any benefits it may have been providing. It&#39;d be better to just stream-and-collect &quot;directly&quot;, given the <code>Collectors</code> class is already essentially a utility class (i.e., nothing but helper methods)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676282553,"post_id":75431168,"comment_id":133099017,"body_markdown":"I don’t think that this utility class had a benefit in the first place. Being able to write `listToMap(StudentDatabase.getAllStudents(), Student::getName, Student::getActivites)` instead of `StudentDatabase.getAllStudents().stream() .collect(toMap(Student::getName, Student::getActivites))` does not look like an improvement at all.","body":"I don’t think that this utility class had a benefit in the first place. Being able to write <code>listToMap(StudentDatabase.getAllStudents(), Student::getName, Student::getActivites)</code> instead of <code>StudentDatabase.getAllStudents().stream() .collect(toMap(Student::getName, Student::getActivites))</code> does not look like an improvement at all."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676308206,"post_id":75431168,"comment_id":133107002,"body_markdown":"@Holger The only benefit I see is that the `listToMap` name possibly makes it clearer what is happening at first glance, but that&#39;s really up to the person/team writing the code. Though personally, I would not create this utility class either.","body":"@Holger The only benefit I see is that the <code>listToMap</code> name possibly makes it clearer what is happening at first glance, but that&#39;s really up to the person/team writing the code. Though personally, I would not create this utility class either."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676308631,"post_id":75431168,"comment_id":133107131,"body_markdown":"The only additional information, the `listToMap` name provides, is that `getAllStudents()` returns a `List`, as the “`toMap`” is contained in the stream operation as well. But that’s the information I don’t care about, as the whole operation would also work if `getAllStudents()` returned a different `Collection` type, like a `Set`, or anything else that has an appropriate `stream()` method. Granted, the stream operation has slightly more syntactic elements, on the other hand, those elements are easier to read if you’re used to left-to-right writing systems, in contrast to the nested invocation","body":"The only additional information, the <code>listToMap</code> name provides, is that <code>getAllStudents()</code> returns a <code>List</code>, as the “<code>toMap</code>” is contained in the stream operation as well. But that’s the information I don’t care about, as the whole operation would also work if <code>getAllStudents()</code> returned a different <code>Collection</code> type, like a <code>Set</code>, or anything else that has an appropriate <code>stream()</code> method. Granted, the stream operation has slightly more syntactic elements, on the other hand, those elements are easier to read if you’re used to left-to-right writing systems, in contrast to the nested invocation"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676315139,"post_id":75431168,"comment_id":133108994,"body_markdown":"@Holger The difference is the `toMap` is _first_ rather than _last_. That may matter to someone regarding readability. And the OP could change it to `Collection` (or even `Iterable`, which would add more justification to the helper method). Though, again, I think it&#39;s opinion-based whether or not to create the above helper. The cost is about 10-30 minutes of time (including unit tests), so if the developer/team thinks it&#39;s useful, I say let them.","body":"@Holger The difference is the <code>toMap</code> is <i>first</i> rather than <i>last</i>. That may matter to someone regarding readability. And the OP could change it to <code>Collection</code> (or even <code>Iterable</code>, which would add more justification to the helper method). Though, again, I think it&#39;s opinion-based whether or not to create the above helper. The cost is about 10-30 minutes of time (including unit tests), so if the developer/team thinks it&#39;s useful, I say let them."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676251889,"creation_date":1676250356,"answer_id":75431168,"question_id":75431096,"body_markdown":"There&#39;s a couple of problems with the current code:\r\n\r\n1. The `Collector` interface is generic. You should parameterize it like you&#39;re doing for all the other generic types in the code. See [What is a raw type and why shouldn&#39;t we use it?][1] for more information.\r\n\r\n2. You&#39;ve defined the return type as `Map&lt;K, List&lt;V&gt;&gt;`. That would seem to indicate you&#39;re trying to implement a grouping operation. However, there are three other parts of your code indicating otherwise:\r\n\r\n    * You use `Collectors#toMap(Function,Function)`\r\n\r\n    * Your `valueMapper` maps to `V`, not `List&lt;V&gt;`\r\n\r\n    * You call `listToMap` with `Student::getActivities` as an argument for the `valueMapper`, and I can only assume that method returns a **list** of activities (or some other collection).\r\n\r\n    So, given all that, you should change the return type to `Map&lt;K, V&gt;`. That gives the caller full control over the value type of the map, rather than forcing them to use a list. But if you _are_ trying to implement a grouping operation, and you always want the value type to be a `List&lt;V&gt;`, then consider using `Collectors#groupingBy(Function,Collector)` instead.\r\n\r\nFixing those two things will give you something like:\r\n\r\n```lang-java\r\npublic static &lt;T, K, V&gt; Map&lt;K, V&gt; listToMap(\r\n        List&lt;T&gt; list,\r\n        Function&lt;? super T, ? extends K&gt; keyMapper,\r\n        Function&lt;? super T, ? extends V&gt; valueMapper) {\r\n    Collector&lt;T, ?, Map&lt;K, V&gt;&gt; collector = Collectors.toMap(keyMapper, valueMapper);\r\n    return list.stream().collect(collector);\r\n}\r\n```\r\n\r\nAnd here&#39;s a minimal example using the above:\r\n\r\n```lang-java\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public record Student(String name, List&lt;String&gt; activities) {}\r\n\r\n    public static &lt;T, K, V&gt; Map&lt;K, V&gt; listToMap(\r\n            List&lt;T&gt; list, \r\n            Function&lt;? super T, ? extends K&gt; keyMapper, \r\n            Function&lt;? super T, ? extends V&gt; valueMapper) {\r\n        Collector&lt;T, ?, Map&lt;K, V&gt;&gt; collector = Collectors.toMap(keyMapper, valueMapper);\r\n        return list.stream().collect(collector);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Student&gt; students = List.of(\r\n            new Student(&quot;John&quot;, List.of(&quot;Piano&quot;, &quot;Running&quot;)),\r\n            new Student(&quot;Jane&quot;, List.of(&quot;Soccer&quot;, &quot;Video Games&quot;)),\r\n            new Student(&quot;Bob&quot;, List.of(&quot;Snowboarding&quot;))\r\n        );\r\n        Map&lt;String, List&lt;String&gt;&gt; map = listToMap(students, Student::name, Student::activities);\r\n        System.out.println(map);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\n{Bob=[Snowboarding], John=[Piano, Running], Jane=[Soccer, Video Games]}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/q/2770321/6395627","title":"Java Collection Utils using Java Stream API","body":"<p>There's a couple of problems with the current code:</p>\n<ol>\n<li><p>The <code>Collector</code> interface is generic. You should parameterize it like you're doing for all the other generic types in the code. See <a href=\"https://stackoverflow.com/q/2770321/6395627\">What is a raw type and why shouldn't we use it?</a> for more information.</p>\n</li>\n<li><p>You've defined the return type as <code>Map&lt;K, List&lt;V&gt;&gt;</code>. That would seem to indicate you're trying to implement a grouping operation. However, there are three other parts of your code indicating otherwise:</p>\n<ul>\n<li><p>You use <code>Collectors#toMap(Function,Function)</code></p>\n</li>\n<li><p>Your <code>valueMapper</code> maps to <code>V</code>, not <code>List&lt;V&gt;</code></p>\n</li>\n<li><p>You call <code>listToMap</code> with <code>Student::getActivities</code> as an argument for the <code>valueMapper</code>, and I can only assume that method returns a <strong>list</strong> of activities (or some other collection).</p>\n</li>\n</ul>\n<p>So, given all that, you should change the return type to <code>Map&lt;K, V&gt;</code>. That gives the caller full control over the value type of the map, rather than forcing them to use a list. But if you <em>are</em> trying to implement a grouping operation, and you always want the value type to be a <code>List&lt;V&gt;</code>, then consider using <code>Collectors#groupingBy(Function,Collector)</code> instead.</p>\n</li>\n</ol>\n<p>Fixing those two things will give you something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T, K, V&gt; Map&lt;K, V&gt; listToMap(\n        List&lt;T&gt; list,\n        Function&lt;? super T, ? extends K&gt; keyMapper,\n        Function&lt;? super T, ? extends V&gt; valueMapper) {\n    Collector&lt;T, ?, Map&lt;K, V&gt;&gt; collector = Collectors.toMap(keyMapper, valueMapper);\n    return list.stream().collect(collector);\n}\n</code></pre>\n<p>And here's a minimal example using the above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public record Student(String name, List&lt;String&gt; activities) {}\n\n    public static &lt;T, K, V&gt; Map&lt;K, V&gt; listToMap(\n            List&lt;T&gt; list, \n            Function&lt;? super T, ? extends K&gt; keyMapper, \n            Function&lt;? super T, ? extends V&gt; valueMapper) {\n        Collector&lt;T, ?, Map&lt;K, V&gt;&gt; collector = Collectors.toMap(keyMapper, valueMapper);\n        return list.stream().collect(collector);\n    }\n\n    public static void main(String[] args) {\n        List&lt;Student&gt; students = List.of(\n            new Student(&quot;John&quot;, List.of(&quot;Piano&quot;, &quot;Running&quot;)),\n            new Student(&quot;Jane&quot;, List.of(&quot;Soccer&quot;, &quot;Video Games&quot;)),\n            new Student(&quot;Bob&quot;, List.of(&quot;Snowboarding&quot;))\n        );\n        Map&lt;String, List&lt;String&gt;&gt; map = listToMap(students, Student::name, Student::activities);\n        System.out.println(map);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{Bob=[Snowboarding], John=[Piano, Running], Jane=[Soccer, Video Games]}\n</code></pre>\n"}],"owner":{"account_id":15769918,"reputation":45,"user_id":11379260,"display_name":"blue mountain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75431168,"answer_count":1,"score":1,"last_activity_date":1676251889,"creation_date":1676249180,"question_id":75431096,"body_markdown":"I am trying to write my own CollectionUtils helper class that other application will use. Here is my first method\r\n\r\n```public class CollectionUtils {\r\n\t\r\n\tpublic static &lt;T, K, V&gt; \r\n\tMap&lt;K, List&lt;V&gt;&gt; listToMap(List&lt;T&gt; inputList, \r\n\t\t\tFunction&lt;? super T, ? extends K&gt; keyMapper, \r\n\t\t\tFunction&lt;? super T, ? extends V&gt; valueMapper)\r\n\t{\r\n\t\tCollector c = Collectors.toMap(keyMapper, valueMapper);\r\n\t\treturn inputList.stream()\r\n\t\t\t\t.collect(c);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void test()\r\n\t{\r\n\t\t// trying to get a Map&lt;String, List&lt;String&gt;&gt; showing student&#39;s name and their activities.\r\n\t\tlistToMap(StudentDatabase.getAllStudents(), Student::getName, Student::getActivites);\r\n\t}\r\n```\r\n\r\nHowever, I am getting lots of compilation error that I do not understand how to solve. Can I get some help here?\r\nIs there any third party library that already does that (but it has to be using java stream api) I can use so that I do not need to write my own?\t\r\n\r\n\r\nI tried above and having compilation issue.","title":"Java Collection Utils using Java Stream API","body":"<p>I am trying to write my own CollectionUtils helper class that other application will use. Here is my first method</p>\n<pre><code>    \n    public static &lt;T, K, V&gt; \n    Map&lt;K, List&lt;V&gt;&gt; listToMap(List&lt;T&gt; inputList, \n            Function&lt;? super T, ? extends K&gt; keyMapper, \n            Function&lt;? super T, ? extends V&gt; valueMapper)\n    {\n        Collector c = Collectors.toMap(keyMapper, valueMapper);\n        return inputList.stream()\n                .collect(c);\n        \n        \n    }\n    \n    public void test()\n    {\n        // trying to get a Map&lt;String, List&lt;String&gt;&gt; showing student's name and their activities.\n        listToMap(StudentDatabase.getAllStudents(), Student::getName, Student::getActivites);\n    }\n</code></pre>\n<p>However, I am getting lots of compilation error that I do not understand how to solve. Can I get some help here?\nIs there any third party library that already does that (but it has to be using java stream api) I can use so that I do not need to write my own?</p>\n<p>I tried above and having compilation issue.</p>\n"},{"tags":["java","android","video-thumbnails"],"comments":[{"owner":{"account_id":11103824,"reputation":70,"user_id":8151644,"display_name":"CCT"},"score":0,"creation_date":1676257057,"post_id":75430897,"comment_id":133094694,"body_markdown":"Where are you changing the value of thumbnail?  I don&#39;t see anywhere where it is set","body":"Where are you changing the value of thumbnail?  I don&#39;t see anywhere where it is set"},{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":0,"creation_date":1676257336,"post_id":75430897,"comment_id":133094724,"body_markdown":"@CCT I guess is in the `Adapter#onBindView` call. `Glide.with(context).load(new File(videoList.get(position).getPath())).into(holder.thumbnail);`.","body":"@CCT I guess is in the <code>Adapter#onBindView</code> call. <code>Glide.with(context).load(new File(videoList.get(position).getPath())).into(holder.thumbna&zwnj;&#8203;il);</code>."},{"owner":{"account_id":11103824,"reputation":70,"user_id":8151644,"display_name":"CCT"},"score":0,"creation_date":1676257831,"post_id":75430897,"comment_id":133094770,"body_markdown":"You might try MediaMetadataRetriever, for audio files I use metatdataRetriever.getEmbeddedPicture() to get the album art","body":"You might try MediaMetadataRetriever, for audio files I use metatdataRetriever.getEmbeddedPicture() to get the album art"},{"owner":{"account_id":16279773,"reputation":1,"user_id":11756065,"display_name":"Cleevens"},"score":0,"creation_date":1676258519,"post_id":75430897,"comment_id":133094836,"body_markdown":"Could you show me an example please?","body":"Could you show me an example please?"}],"owner":{"account_id":16279773,"reputation":1,"user_id":11756065,"display_name":"Cleevens"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676251312,"creation_date":1676245732,"question_id":75430897,"body_markdown":"I am working on a video player app. I&#39;m able to retrieve all folders containing video files on the phone and also I displayed the title and the duration for each video in each folders but the thumbnail for each video doesn&#39;t display. \r\n\r\nthis the model class. \r\n```\r\npackage com.example.videoplayer;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.database.Cursor;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class VideoFilesActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    private ArrayList&lt;MediaFiles&gt; videoFilesArraylist = new ArrayList&lt;&gt;();\r\n    VideoFilesAdapter videoFilesAdapter;\r\n    String folder_name;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_files);\r\n        folder_name = getIntent().getStringExtra(&quot;foldername&quot;);\r\n        getSupportActionBar().setTitle(folder_name);\r\n        recyclerView = findViewById(R.id.videos_rv);\r\n\r\n        showVideoFiles();\r\n    }\r\n\r\n    private void showVideoFiles() {\r\n        videoFilesArraylist = fetchMedia(folder_name);\r\n        videoFilesAdapter = new VideoFilesAdapter(videoFilesArraylist, this);\r\n        recyclerView.setAdapter(videoFilesAdapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this, RecyclerView.VERTICAL, false));\r\n        videoFilesAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n    @SuppressLint(&quot;Range&quot;)\r\n    private ArrayList&lt;MediaFiles&gt; fetchMedia(String folderName) {\r\n        ArrayList&lt;MediaFiles&gt; videoFiles = new ArrayList&lt;&gt;();\r\n        Uri uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n        String selection = MediaStore.Video.Media.DATA + &quot; like?&quot;;\r\n        String [] selectionArg = new String[]{&quot;%&quot; + folderName + &quot;%&quot;};\r\n        Cursor cursor = getContentResolver().query(uri, null, selection, selectionArg, null);\r\n\r\n        if(cursor != null &amp;&amp; cursor.moveToNext()){\r\n            do{\r\n                String id = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media._ID));\r\n                String title = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.TITLE));\r\n                String displayName = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DISPLAY_NAME));\r\n                String size = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.SIZE));\r\n                String duration = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DURATION));\r\n                String path = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DATA));\r\n                String dateAdded = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DATE_ADDED));\r\n\r\n                MediaFiles mediaFiles = new MediaFiles(id, title, displayName, size, duration, path, dateAdded);\r\n\r\n                videoFiles.add(mediaFiles);\r\n            }while(cursor.moveToNext());\r\n        }\r\n\r\n        return videoFiles;\r\n    }\r\n}\r\n```\r\n\r\nthis is the adapter\r\n```\r\npackage com.example.videoplayer;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.io.File;\r\nimport java.util.ArrayList;\r\n\r\npublic class VideoFilesAdapter extends RecyclerView.Adapter&lt;VideoFilesAdapter.ViewHolder&gt; {\r\n\r\n    private ArrayList&lt;MediaFiles&gt; videoList;\r\n    private Context context;\r\n\r\n    public VideoFilesAdapter(ArrayList&lt;MediaFiles&gt; videoList, Context context) {\r\n        this.videoList = videoList;\r\n        this.context = context;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.video_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.videoName.setText(videoList.get(position).getDisplayName());\r\n        String size = videoList.get(position).getSize();\r\n        holder.videoSize.setText(android.text.format.Formatter.formatFileSize(context, Long.parseLong(size)));\r\n        //Video duration in milliseconds\r\n        double videoDuration_in_ms = Double.parseDouble(videoList.get(position).getDuration());\r\n        holder.videoDuration.setText(timeConversion((long) videoDuration_in_ms));\r\n\r\n        // Getting the thumbnail\r\n        Glide.with(context).load(new File(videoList.get(position).getPath())).into(holder.thumbnail);\r\n\r\n        holder.menu_more.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(context, &quot;Menu more&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, VideoPlayerActivity.class);\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return videoList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView thumbnail;\r\n        ImageView menu_more;\r\n        TextView videoName;\r\n        TextView videoSize;\r\n        TextView videoDuration;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            thumbnail = itemView.findViewById(R.id.thumbnail);\r\n            menu_more = itemView.findViewById(R.id.video_menu_more);\r\n            videoName = itemView.findViewById(R.id.video_name);\r\n            videoSize = itemView.findViewById(R.id.video_size);\r\n            videoDuration = itemView.findViewById(R.id.video_duration);\r\n        }\r\n    }\r\n    //Convert from millisecond to minute and second\r\n    public String timeConversion(long value){\r\n        String videoTime;\r\n        int duration = (int) value;\r\n\r\n        //convert milliseonds to hour\r\n        int hours = (duration/3600000);\r\n\r\n        //convert milliseonds to minutes\r\n        int minutes = (duration/60000) % 60000;\r\n\r\n        //convert milliseonds to seconds\r\n        int seconds = (duration % 60000) / 60000;\r\n\r\n        if(hours &gt; 0){\r\n            videoTime = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\r\n        } else {\r\n            videoTime = String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n        }\r\n\r\n        return videoTime;\r\n    }\r\n}\r\n```\r\nthis is the MediaFiles class\r\n```\r\npackage com.example.videoplayer;\r\n\r\npublic class MediaFiles {\r\n    private String id;\r\n    private String title;\r\n    private String displayName;\r\n    private String size;\r\n    private String duration;\r\n    private String path;\r\n    private String dateAdded;\r\n\r\n    public MediaFiles(String id, String title, String displayName, String size, String duration, String path, String dateAdded) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.displayName = displayName;\r\n        this.size = size;\r\n        this.duration = duration;\r\n        this.path = path;\r\n        this.dateAdded = dateAdded;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDisplayName() {\r\n        return displayName;\r\n    }\r\n\r\n    public void setDisplayName(String displayName) {\r\n        this.displayName = displayName;\r\n    }\r\n\r\n    public String getSize() {\r\n        return size;\r\n    }\r\n\r\n    public void setSize(String size) {\r\n        this.size = size;\r\n    }\r\n\r\n    public String getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    public void setDuration(String duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    public String getPath() {\r\n        return path;\r\n    }\r\n\r\n    public void setPath(String path) {\r\n        this.path = path;\r\n    }\r\n\r\n    public String getDateAdded() {\r\n        return dateAdded;\r\n    }\r\n\r\n    public void setDateAdded(String dateAdded) {\r\n        this.dateAdded = dateAdded;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI looked for some solutions and I found that one possible solution is to downgrade my targetSdk and compileSdk version. But it still does not appear.","title":"The Video Thumbnails are not showing up in my recyclerView","body":"<p>I am working on a video player app. I'm able to retrieve all folders containing video files on the phone and also I displayed the title and the duration for each video in each folders but the thumbnail for each video doesn't display.</p>\n<p>this the model class.</p>\n<pre><code>package com.example.videoplayer;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.annotation.SuppressLint;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\n\nimport java.util.ArrayList;\n\npublic class VideoFilesActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    private ArrayList&lt;MediaFiles&gt; videoFilesArraylist = new ArrayList&lt;&gt;();\n    VideoFilesAdapter videoFilesAdapter;\n    String folder_name;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_files);\n        folder_name = getIntent().getStringExtra(&quot;foldername&quot;);\n        getSupportActionBar().setTitle(folder_name);\n        recyclerView = findViewById(R.id.videos_rv);\n\n        showVideoFiles();\n    }\n\n    private void showVideoFiles() {\n        videoFilesArraylist = fetchMedia(folder_name);\n        videoFilesAdapter = new VideoFilesAdapter(videoFilesArraylist, this);\n        recyclerView.setAdapter(videoFilesAdapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this, RecyclerView.VERTICAL, false));\n        videoFilesAdapter.notifyDataSetChanged();\n    }\n\n    @SuppressLint(&quot;Range&quot;)\n    private ArrayList&lt;MediaFiles&gt; fetchMedia(String folderName) {\n        ArrayList&lt;MediaFiles&gt; videoFiles = new ArrayList&lt;&gt;();\n        Uri uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n        String selection = MediaStore.Video.Media.DATA + &quot; like?&quot;;\n        String [] selectionArg = new String[]{&quot;%&quot; + folderName + &quot;%&quot;};\n        Cursor cursor = getContentResolver().query(uri, null, selection, selectionArg, null);\n\n        if(cursor != null &amp;&amp; cursor.moveToNext()){\n            do{\n                String id = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media._ID));\n                String title = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.TITLE));\n                String displayName = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DISPLAY_NAME));\n                String size = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.SIZE));\n                String duration = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DURATION));\n                String path = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DATA));\n                String dateAdded = cursor.getString(cursor.getColumnIndex(MediaStore.Video.Media.DATE_ADDED));\n\n                MediaFiles mediaFiles = new MediaFiles(id, title, displayName, size, duration, path, dateAdded);\n\n                videoFiles.add(mediaFiles);\n            }while(cursor.moveToNext());\n        }\n\n        return videoFiles;\n    }\n}\n</code></pre>\n<p>this is the adapter</p>\n<pre><code>package com.example.videoplayer;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.io.File;\nimport java.util.ArrayList;\n\npublic class VideoFilesAdapter extends RecyclerView.Adapter&lt;VideoFilesAdapter.ViewHolder&gt; {\n\n    private ArrayList&lt;MediaFiles&gt; videoList;\n    private Context context;\n\n    public VideoFilesAdapter(ArrayList&lt;MediaFiles&gt; videoList, Context context) {\n        this.videoList = videoList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.video_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.videoName.setText(videoList.get(position).getDisplayName());\n        String size = videoList.get(position).getSize();\n        holder.videoSize.setText(android.text.format.Formatter.formatFileSize(context, Long.parseLong(size)));\n        //Video duration in milliseconds\n        double videoDuration_in_ms = Double.parseDouble(videoList.get(position).getDuration());\n        holder.videoDuration.setText(timeConversion((long) videoDuration_in_ms));\n\n        // Getting the thumbnail\n        Glide.with(context).load(new File(videoList.get(position).getPath())).into(holder.thumbnail);\n\n        holder.menu_more.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(context, &quot;Menu more&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, VideoPlayerActivity.class);\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return videoList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView thumbnail;\n        ImageView menu_more;\n        TextView videoName;\n        TextView videoSize;\n        TextView videoDuration;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            thumbnail = itemView.findViewById(R.id.thumbnail);\n            menu_more = itemView.findViewById(R.id.video_menu_more);\n            videoName = itemView.findViewById(R.id.video_name);\n            videoSize = itemView.findViewById(R.id.video_size);\n            videoDuration = itemView.findViewById(R.id.video_duration);\n        }\n    }\n    //Convert from millisecond to minute and second\n    public String timeConversion(long value){\n        String videoTime;\n        int duration = (int) value;\n\n        //convert milliseonds to hour\n        int hours = (duration/3600000);\n\n        //convert milliseonds to minutes\n        int minutes = (duration/60000) % 60000;\n\n        //convert milliseonds to seconds\n        int seconds = (duration % 60000) / 60000;\n\n        if(hours &gt; 0){\n            videoTime = String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds);\n        } else {\n            videoTime = String.format(&quot;%02d:%02d&quot;, minutes, seconds);\n        }\n\n        return videoTime;\n    }\n}\n</code></pre>\n<p>this is the MediaFiles class</p>\n<pre><code>package com.example.videoplayer;\n\npublic class MediaFiles {\n    private String id;\n    private String title;\n    private String displayName;\n    private String size;\n    private String duration;\n    private String path;\n    private String dateAdded;\n\n    public MediaFiles(String id, String title, String displayName, String size, String duration, String path, String dateAdded) {\n        this.id = id;\n        this.title = title;\n        this.displayName = displayName;\n        this.size = size;\n        this.duration = duration;\n        this.path = path;\n        this.dateAdded = dateAdded;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDisplayName() {\n        return displayName;\n    }\n\n    public void setDisplayName(String displayName) {\n        this.displayName = displayName;\n    }\n\n    public String getSize() {\n        return size;\n    }\n\n    public void setSize(String size) {\n        this.size = size;\n    }\n\n    public String getDuration() {\n        return duration;\n    }\n\n    public void setDuration(String duration) {\n        this.duration = duration;\n    }\n\n    public String getPath() {\n        return path;\n    }\n\n    public void setPath(String path) {\n        this.path = path;\n    }\n\n    public String getDateAdded() {\n        return dateAdded;\n    }\n\n    public void setDateAdded(String dateAdded) {\n        this.dateAdded = dateAdded;\n    }\n}\n\n</code></pre>\n<p>I looked for some solutions and I found that one possible solution is to downgrade my targetSdk and compileSdk version. But it still does not appear.</p>\n"},{"tags":["java","json","spring-boot","jackson","gson"],"comments":[{"owner":{"account_id":14037723,"reputation":205,"user_id":10140004,"display_name":"Pete"},"score":0,"creation_date":1675786110,"post_id":75375984,"comment_id":133001673,"body_markdown":"The 2 jsons are different object structures. Id create a separate java class that represents the structure that i want my json to emulate, then transform that to json.","body":"The 2 jsons are different object structures. Id create a separate java class that represents the structure that i want my json to emulate, then transform that to json."},{"owner":{"account_id":13278032,"reputation":11,"user_id":21166276,"display_name":"Aditya Raj"},"score":0,"creation_date":1675789451,"post_id":75375984,"comment_id":133002769,"body_markdown":"I&#39;m sorry, I messed up the required output. The entire &quot;Required Output&quot; should be inside square brackets as well.","body":"I&#39;m sorry, I messed up the required output. The entire &quot;Required Output&quot; should be inside square brackets as well."}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676251171,"creation_date":1676251171,"answer_id":75431206,"question_id":75375984,"body_markdown":"You could solve this with two separate model classes, one for the original structure and one for the transformed one. For simplicity I call them `OriginalModel` and `TransformedModel` below, you should probably pick more meaningful names. The following code uses Gson but you can probably achieve something similar with Jackson as well.\r\n```java\r\nclass OriginalModel {\r\n    String action;\r\n    MyObjectData myObject;\r\n}\r\n\r\nclass TransformedModel {\r\n    String action;\r\n    List&lt;MyObjectData&gt; myObject;\r\n\r\n    public TransformedModel(String action, List&lt;MyObjectData&gt; myObject) {\r\n        this.action = action;\r\n        this.myObject = myObject;\r\n    }\r\n}\r\n\r\nclass MyObjectData {\r\n    String name;\r\n    String description;\r\n}\r\n```\r\nIf you declare these classes as nested classes you should make them `static`.\r\n\r\nThen you can first parse the JSON data with the original model class, manually create the desired result structure using the transformed class and serialize that to JSON:\r\n```java\r\nGson gson = new Gson();\r\nList&lt;OriginalModel&gt; originalData = gson.fromJson(json, new TypeToken&lt;List&lt;OriginalModel&gt;&gt;() {});\r\n\r\n// Group MyObjectData objects by action name\r\n// Uses LinkedHashMap to preserve order\r\nMap&lt;String, List&lt;MyObjectData&gt;&gt; actionsMap = new LinkedHashMap&lt;&gt;();\r\nfor (OriginalModel model : originalData) {\r\n    actionsMap.computeIfAbsent(model.action, k -&gt; new ArrayList&lt;&gt;())\r\n        .add(model.myObject);\r\n}\r\n\r\nList&lt;TransformedModel&gt; transformedData = new ArrayList&lt;&gt;();\r\nfor (Map.Entry&lt;String, List&lt;MyObjectData&gt;&gt; entry : actionsMap.entrySet()) {\r\n    transformedData.add(new TransformedModel(entry.getKey(), entry.getValue()));\r\n}\r\n\r\nString transformedJson = gson.toJson(transformedData);\r\n```","title":"Deserialize JSON with repeating keys to a list inside Java Object","body":"<p>You could solve this with two separate model classes, one for the original structure and one for the transformed one. For simplicity I call them <code>OriginalModel</code> and <code>TransformedModel</code> below, you should probably pick more meaningful names. The following code uses Gson but you can probably achieve something similar with Jackson as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OriginalModel {\n    String action;\n    MyObjectData myObject;\n}\n\nclass TransformedModel {\n    String action;\n    List&lt;MyObjectData&gt; myObject;\n\n    public TransformedModel(String action, List&lt;MyObjectData&gt; myObject) {\n        this.action = action;\n        this.myObject = myObject;\n    }\n}\n\nclass MyObjectData {\n    String name;\n    String description;\n}\n</code></pre>\n<p>If you declare these classes as nested classes you should make them <code>static</code>.</p>\n<p>Then you can first parse the JSON data with the original model class, manually create the desired result structure using the transformed class and serialize that to JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new Gson();\nList&lt;OriginalModel&gt; originalData = gson.fromJson(json, new TypeToken&lt;List&lt;OriginalModel&gt;&gt;() {});\n\n// Group MyObjectData objects by action name\n// Uses LinkedHashMap to preserve order\nMap&lt;String, List&lt;MyObjectData&gt;&gt; actionsMap = new LinkedHashMap&lt;&gt;();\nfor (OriginalModel model : originalData) {\n    actionsMap.computeIfAbsent(model.action, k -&gt; new ArrayList&lt;&gt;())\n        .add(model.myObject);\n}\n\nList&lt;TransformedModel&gt; transformedData = new ArrayList&lt;&gt;();\nfor (Map.Entry&lt;String, List&lt;MyObjectData&gt;&gt; entry : actionsMap.entrySet()) {\n    transformedData.add(new TransformedModel(entry.getKey(), entry.getValue()));\n}\n\nString transformedJson = gson.toJson(transformedData);\n</code></pre>\n"}],"owner":{"account_id":13278032,"reputation":11,"user_id":21166276,"display_name":"Aditya Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676251171,"creation_date":1675785676,"question_id":75375984,"body_markdown":"If an &quot;action&quot; key-value pair is repeated, I want to append each associated &quot;myObject&quot; to a list as shown below. Is there a way to achieve this using GSON or JACKSON? Unfortunately, there is no option to edit the input JSON. If the ask is not clear, please let me know.\r\n\r\nInput\r\n```\r\n[\r\n  {\r\n    myObject: {\r\n      name: &quot;foo&quot;,\r\n      description: &quot;bar&quot;\r\n    },\r\n    action: &quot;create&quot;,\r\n  },\r\n  {\r\n    myObject: {\r\n      name: &quot;baz&quot;,\r\n      description: &quot;qux&quot;\r\n    },\r\n    action: &quot;create&quot;,\r\n  },\r\n];\r\n```\r\n\r\nRequired Output\r\n```\r\n{\r\n    &quot;action&quot;: &quot;create&quot;,\r\n    &quot;myObject&quot;: [\r\n        {\r\n          name: &quot;foo&quot;,\r\n          description: &quot;bar&quot;\r\n        },\r\n        {\r\n          name: &quot;baz&quot;,\r\n          description: &quot;qux&quot;\r\n        },\r\n    ]\r\n};\r\n```\r\n\r\nI am new to JSON parsing in Java and unfortunately haven&#39;t found a use case like mine on StackOverflow. I have tried configuring my ObjectMapper like so -\r\n```\r\nnew ObjectMapper().configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n```\r\nand using \r\n```\r\n@JsonAnySetter\r\n```\r\nannotation, but haven&#39;t gotten them to work yet.","title":"Deserialize JSON with repeating keys to a list inside Java Object","body":"<p>If an &quot;action&quot; key-value pair is repeated, I want to append each associated &quot;myObject&quot; to a list as shown below. Is there a way to achieve this using GSON or JACKSON? Unfortunately, there is no option to edit the input JSON. If the ask is not clear, please let me know.</p>\n<p>Input</p>\n<pre><code>[\n  {\n    myObject: {\n      name: &quot;foo&quot;,\n      description: &quot;bar&quot;\n    },\n    action: &quot;create&quot;,\n  },\n  {\n    myObject: {\n      name: &quot;baz&quot;,\n      description: &quot;qux&quot;\n    },\n    action: &quot;create&quot;,\n  },\n];\n</code></pre>\n<p>Required Output</p>\n<pre><code>{\n    &quot;action&quot;: &quot;create&quot;,\n    &quot;myObject&quot;: [\n        {\n          name: &quot;foo&quot;,\n          description: &quot;bar&quot;\n        },\n        {\n          name: &quot;baz&quot;,\n          description: &quot;qux&quot;\n        },\n    ]\n};\n</code></pre>\n<p>I am new to JSON parsing in Java and unfortunately haven't found a use case like mine on StackOverflow. I have tried configuring my ObjectMapper like so -</p>\n<pre><code>new ObjectMapper().configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n</code></pre>\n<p>and using</p>\n<pre><code>@JsonAnySetter\n</code></pre>\n<p>annotation, but haven't gotten them to work yet.</p>\n"},{"tags":["java","servlets","path","jetty","guice"],"owner":{"account_id":10977947,"reputation":23,"user_id":8066070,"display_name":"Anzu67"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676250870,"creation_date":1676250870,"question_id":75431195,"body_markdown":"I am using Guice and jetty-servlet to create an API.\r\nI am trying to define the path to access the resources in my ServetModule. I can do it just find using serve, but have trouble with serveRegex. Somehow when I do the regex.\r\nWhat am I missing?\r\n\r\nhere is my Servet Module:\r\n\r\n    import com.google.inject.Scopes; import com.google.inject.servlet.ServletModule;\r\n    \r\n    public class ServletsModule extends ServletModule {\r\n        \r\n        @Override\r\n        protected void configureServlets() {\r\n            bind(DeviceServlet.class).in(Scopes.SINGLETON);\r\n            serve(&quot;/v1/device-management&quot;, &quot;/v1/device-management/&quot; ).with(DeviceServlet.class);\r\n        \r\n            bind(PolicyServlet.class).in(Scopes.SINGLETON);\r\n            serveRegex(&quot;/v1/policy-management/?&quot;, &quot;/v1/policy-management/get/?[0-9]{0,5}&quot;,\r\n                    &quot;/v1/policy-management/delete/?[0-9]{0,5}&quot;).with(PolicyServlet.class);\r\n        \r\n            bind(LoginServlet.class).in(Scopes.SINGLETON);\r\n            serve(&quot;/v1/login&quot;).with(LoginServlet.class);\r\n        }\r\n    }\r\n\r\nhere is the example curl request that succeeds (to reach the device-management endpoint) and fails (to reach a policy-management endpoint):\r\n\r\n\\``curl -k ``https://localhost:8443/v1/device-management`\r\n\r\n`empty response as expected`\r\n\r\n`curl -k ``https://localhost:8443/v1/device-management/`\r\n\r\n`empty response as expected`\r\n\r\n`curl -k ``https://localhost:8443/v1/policy-management`\r\n\r\n`expected empty response but got the following:`\r\n\r\n        Error 404 Not Found\r\n    \r\n    \r\n        &lt;h2&gt;HTTP ERROR 404 Not Found&lt;/h2&gt;\r\n        \r\n            URI:/v1/policy-management\r\n            STATUS:404\r\n            MESSAGE:Not Found\r\n            SERVLET:org.eclipse.jetty.servlet.ServletHandler$Default404Servlet-3632be31\r\n        \r\n        &lt;hr/&gt;&lt;a href=&quot;https://eclipse.org/jetty&quot;&gt;Powered by Jetty:// 9.4.48.v20220622&lt;/a&gt;&lt;hr/&gt;\r\n\r\n` `","title":"Java servlets: Binding path to com.google.inject.servlet.ServletModule using regexes","body":"<p>I am using Guice and jetty-servlet to create an API.\nI am trying to define the path to access the resources in my ServetModule. I can do it just find using serve, but have trouble with serveRegex. Somehow when I do the regex.\nWhat am I missing?</p>\n<p>here is my Servet Module:</p>\n<pre><code>import com.google.inject.Scopes; import com.google.inject.servlet.ServletModule;\n\npublic class ServletsModule extends ServletModule {\n    \n    @Override\n    protected void configureServlets() {\n        bind(DeviceServlet.class).in(Scopes.SINGLETON);\n        serve(&quot;/v1/device-management&quot;, &quot;/v1/device-management/&quot; ).with(DeviceServlet.class);\n    \n        bind(PolicyServlet.class).in(Scopes.SINGLETON);\n        serveRegex(&quot;/v1/policy-management/?&quot;, &quot;/v1/policy-management/get/?[0-9]{0,5}&quot;,\n                &quot;/v1/policy-management/delete/?[0-9]{0,5}&quot;).with(PolicyServlet.class);\n    \n        bind(LoginServlet.class).in(Scopes.SINGLETON);\n        serve(&quot;/v1/login&quot;).with(LoginServlet.class);\n    }\n}\n</code></pre>\n<p>here is the example curl request that succeeds (to reach the device-management endpoint) and fails (to reach a policy-management endpoint):</p>\n<p>``curl -k ``https://localhost:8443/v1/device-management`</p>\n<p><code>empty response as expected</code></p>\n<p><code>curl -k ``https://localhost:8443/v1/device-management/</code></p>\n<p><code>empty response as expected</code></p>\n<p><code>curl -k ``https://localhost:8443/v1/policy-management</code></p>\n<p><code>expected empty response but got the following:</code></p>\n<pre><code>    Error 404 Not Found\n\n\n    &lt;h2&gt;HTTP ERROR 404 Not Found&lt;/h2&gt;\n    \n        URI:/v1/policy-management\n        STATUS:404\n        MESSAGE:Not Found\n        SERVLET:org.eclipse.jetty.servlet.ServletHandler$Default404Servlet-3632be31\n    \n    &lt;hr/&gt;&lt;a href=&quot;https://eclipse.org/jetty&quot;&gt;Powered by Jetty:// 9.4.48.v20220622&lt;/a&gt;&lt;hr/&gt;\n</code></pre>\n<p><code> </code></p>\n"},{"tags":["java","mockito","junit4","powermock","powermockito"],"answers":[{"tags":[],"owner":{"account_id":13811146,"reputation":1,"user_id":9968867,"display_name":"pelaeza8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676250710,"creation_date":1676250533,"answer_id":75431176,"question_id":75429286,"body_markdown":"You should be using [Mockito][1] not [PowerMock][2]. PowerMock should be used to\r\n\r\n&gt; enable mocking of static methods, constructors, final classes and methods, private methods, removal of static initializers and more\r\n\r\nThe examples that you provided do not imply the need for these features.\r\n\r\nUsing Mockito we can mock the `execute()` call like this: \r\n\r\n```java\r\n@Test\r\npublic void testLogin() throws Exception {\r\n    // Setup\r\n    CloseableHttpClient httpClient = mock(CloseableHttpClient.class);\r\n    CloseableHttpResponse response = mock(CloseableHttpResponse.class);\r\n    when(httpClient.execute(any(HttpPost.class), any(HttpClientContext.class))).thenReturn(response);\r\n\r\n    MainTest mainTest = new MainTest(httpClient);\r\n\r\n    // Execute\r\n    mainTest.login();\r\n\r\n    // Assert\r\n    ...\r\n}\r\n\r\n```\r\nNote that the example assumes that the constructor of `MainTest` calls the superclass `Test` to instantiate the `CloseableHttpClient` and any other potential instance fields. \r\n\r\n  [1]: https://site.mockito.org/\r\n  [2]: https://powermock.github.io/","title":"Not getting how to write power mock test cases for below use case","body":"<p>You should be using <a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a> not <a href=\"https://powermock.github.io/\" rel=\"nofollow noreferrer\">PowerMock</a>. PowerMock should be used to</p>\n<blockquote>\n<p>enable mocking of static methods, constructors, final classes and methods, private methods, removal of static initializers and more</p>\n</blockquote>\n<p>The examples that you provided do not imply the need for these features.</p>\n<p>Using Mockito we can mock the <code>execute()</code> call like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testLogin() throws Exception {\n    // Setup\n    CloseableHttpClient httpClient = mock(CloseableHttpClient.class);\n    CloseableHttpResponse response = mock(CloseableHttpResponse.class);\n    when(httpClient.execute(any(HttpPost.class), any(HttpClientContext.class))).thenReturn(response);\n\n    MainTest mainTest = new MainTest(httpClient);\n\n    // Execute\n    mainTest.login();\n\n    // Assert\n    ...\n}\n\n</code></pre>\n<p>Note that the example assumes that the constructor of <code>MainTest</code> calls the superclass <code>Test</code> to instantiate the <code>CloseableHttpClient</code> and any other potential instance fields.</p>\n"}],"owner":{"account_id":9719237,"reputation":5,"user_id":7208484,"display_name":"JohnD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676250710,"creation_date":1676226938,"question_id":75429286,"body_markdown":"I am having one java code scenario but not getting how to write power mock test cases for that.\r\n\r\n    Class Test {\r\n    ClosableHttpClient c;\r\n    }\r\n    \r\n    Class MainTest extends Test{\r\n      // code for httpPost and clientContext object \r\n    \r\n       public void login(){\r\n          //code \r\n          c.execute(httpPost, clientContext);\r\n       }\r\n    }\r\n\r\nThe code I have written is calling the execute in real time which I don&#39;t want \r\n\r\n    @Test\r\n    public void testLogin4() throws Exception{\r\n        MainTest mainTest = PowerMockito.spy(new MainTest());\r\n        Test test = PowerMockito.mock(Test.class);\r\n        PowerMockito.whenNew(Test.class).withNoArguments().thenReturn(test);\r\n\r\n        CloseableHttpClient client = PowerMockito.mock(CloseableHttpClient.class);\r\n        HttpPost httpPost = PowerMockito.mock(HttpPost.class);\r\n        HttpClientContext httpClientContext = PowerMockito.mock(HttpClientContext.class);\r\n        CloseableHttpResponse responsetest = PowerMockito.mock(CloseableHttpResponse.class);\r\n       // PowerMockito.when(httpClient.execute(Mockito.any(HttpPost.class), Mockito.any(HttpClientContext.class))).thenReturn(responsetest);\r\n        mainTest.login();\r\n    }\r\n\r\nAny suggestions ","title":"Not getting how to write power mock test cases for below use case","body":"<p>I am having one java code scenario but not getting how to write power mock test cases for that.</p>\n<pre><code>Class Test {\nClosableHttpClient c;\n}\n\nClass MainTest extends Test{\n  // code for httpPost and clientContext object \n\n   public void login(){\n      //code \n      c.execute(httpPost, clientContext);\n   }\n}\n</code></pre>\n<p>The code I have written is calling the execute in real time which I don't want</p>\n<pre><code>@Test\npublic void testLogin4() throws Exception{\n    MainTest mainTest = PowerMockito.spy(new MainTest());\n    Test test = PowerMockito.mock(Test.class);\n    PowerMockito.whenNew(Test.class).withNoArguments().thenReturn(test);\n\n    CloseableHttpClient client = PowerMockito.mock(CloseableHttpClient.class);\n    HttpPost httpPost = PowerMockito.mock(HttpPost.class);\n    HttpClientContext httpClientContext = PowerMockito.mock(HttpClientContext.class);\n    CloseableHttpResponse responsetest = PowerMockito.mock(CloseableHttpResponse.class);\n   // PowerMockito.when(httpClient.execute(Mockito.any(HttpPost.class), Mockito.any(HttpClientContext.class))).thenReturn(responsetest);\n    mainTest.login();\n}\n</code></pre>\n<p>Any suggestions</p>\n"},{"tags":["java","web","jar","webgoat"],"comments":[{"owner":{"account_id":17010702,"reputation":13,"user_id":12316883,"display_name":"bitsexcel"},"score":0,"creation_date":1676247241,"post_id":75430981,"comment_id":133093745,"body_markdown":"In the folder where the .jar file is located, no file has been created where that information is stored!","body":"In the folder where the .jar file is located, no file has been created where that information is stored!"}],"owner":{"account_id":17010702,"reputation":13,"user_id":12316883,"display_name":"bitsexcel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676247175,"creation_date":1676247175,"question_id":75430981,"body_markdown":"I&#39;m trying to understand how it stores user information and passwords, from a .jar file.\r\n\r\n    java -Dfile.encoding=UTF-8 -Dwebgoat.port=8080 -Dwebwolf.port=9090 -jar webgoat-2023.3.jar\r\n\r\nAfter closing the cmd and running the command again, the user still exists. I have not yet restarted the computer to check if the data still persists.\r\nBut it does call my attention because I&#39;m trying to do something like this for a Web App that I&#39;m developing.\r\n\r\nCan you suggest me how to store data from a web and executed from a .jar file","title":"WebGoat data saved","body":"<p>I'm trying to understand how it stores user information and passwords, from a .jar file.</p>\n<pre><code>java -Dfile.encoding=UTF-8 -Dwebgoat.port=8080 -Dwebwolf.port=9090 -jar webgoat-2023.3.jar\n</code></pre>\n<p>After closing the cmd and running the command again, the user still exists. I have not yet restarted the computer to check if the data still persists.\nBut it does call my attention because I'm trying to do something like this for a Web App that I'm developing.</p>\n<p>Can you suggest me how to store data from a web and executed from a .jar file</p>\n"},{"tags":["java","weka"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675948500,"post_id":75397461,"comment_id":133039923,"body_markdown":"[Please do not upload images of code/data/errors](//meta.stackoverflow.com/q/285551). Instead, please post them [using a code block](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks). Instead, please use code blocks for that. Aside from that, did you try increasing the maximum heap space using `-Xmx`?","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors</a>. Instead, please post them <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">using a code block</a>. Instead, please use code blocks for that. Aside from that, did you try increasing the maximum heap space using <code>-Xmx</code>?"},{"owner":{"account_id":25300399,"reputation":1,"user_id":19124724,"display_name":"free accountsuad"},"score":0,"creation_date":1675949429,"post_id":75397461,"comment_id":133040238,"body_markdown":"I tried, but I didn&#39;t know what the correct to place Xmx, should I put it in CL or in weka.ini?","body":"I tried, but I didn&#39;t know what the correct to place Xmx, should I put it in CL or in weka.ini?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675958026,"post_id":75397461,"comment_id":133043508,"body_markdown":"Is there any place for jvm arguments/VM args or something similar? Do you execute a `java` command anywhere? Normally, it&#39;s `java -Xmx2G &lt;other parts of command&gt;` or similar. Alternatively, you could try adding it (e.g. `-Xmx2G` for a heap size of 2GB) to the `JAVA_OPTS` environment variable","body":"Is there any place for jvm arguments/VM args or something similar? Do you execute a <code>java</code> command anywhere? Normally, it&#39;s <code>java -Xmx2G &lt;other parts of command&gt;</code> or similar. Alternatively, you could try adding it (e.g. <code>-Xmx2G</code> for a heap size of 2GB) to the <code>JAVA_OPTS</code> environment variable"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675958065,"post_id":75397461,"comment_id":133043524,"body_markdown":"Also see [Increase heap size in java for weka](https://stackoverflow.com/q/8662781) - Does that help?","body":"Also see <a href=\"https://stackoverflow.com/q/8662781\">Increase heap size in java for weka</a> - Does that help?"}],"answers":[{"tags":[],"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676246204,"creation_date":1676246204,"answer_id":75430931,"question_id":75397461,"body_markdown":"Set the `_JAVA_OPTIONS` environment variable as per [OutOfMemoryException](https://waikato.github.io/weka-wiki/faqs/OutOfMemoryException/) FAQ on the [Weka wiki](https://waikato.github.io/weka-wiki/).\r\n\r\nFor setting environment variables on Windows, please see here:\r\n* [Windows 10](https://www.alphr.com/environment-variables-windows-10/)\r\n* [Windows 11](https://www.alphr.com/set-environment-variables-windows-11/)","title":"How to increse heap size in weka 3-8-6","body":"<p>Set the <code>_JAVA_OPTIONS</code> environment variable as per <a href=\"https://waikato.github.io/weka-wiki/faqs/OutOfMemoryException/\" rel=\"nofollow noreferrer\">OutOfMemoryException</a> FAQ on the <a href=\"https://waikato.github.io/weka-wiki/\" rel=\"nofollow noreferrer\">Weka wiki</a>.</p>\n<p>For setting environment variables on Windows, please see here:</p>\n<ul>\n<li><a href=\"https://www.alphr.com/environment-variables-windows-10/\" rel=\"nofollow noreferrer\">Windows 10</a></li>\n<li><a href=\"https://www.alphr.com/set-environment-variables-windows-11/\" rel=\"nofollow noreferrer\">Windows 11</a></li>\n</ul>\n"}],"owner":{"account_id":25300399,"reputation":1,"user_id":19124724,"display_name":"free accountsuad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676246204,"creation_date":1675939447,"question_id":75397461,"body_markdown":"I face issues when I want to do the &quot;cluster function&quot;\r\nin weka. When I click the start button, it shows like this\r\n\r\n[enter image description here](https://i.stack.imgur.com/GTmWq.png)\r\n\r\nI searched on google the solutions, mostly is outdated due to old version or I didn&#39;t unerstand it, how I can increase it\r\n\r\n\r\nNote: I installed last version of weka \r\n ","title":"How to increse heap size in weka 3-8-6","body":"<p>I face issues when I want to do the &quot;cluster function&quot;\nin weka. When I click the start button, it shows like this</p>\n<p><a href=\"https://i.stack.imgur.com/GTmWq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I searched on google the solutions, mostly is outdated due to old version or I didn't unerstand it, how I can increase it</p>\n<p>Note: I installed last version of weka</p>\n"},{"tags":["java","jenkins-pipeline","testcontainers","dynalite"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1676246340,"post_id":75430868,"comment_id":133093656,"body_markdown":"That is not a fatal error, just TC tries to find `.testcontainers.properties`  file in user&#39;s home directory and fails.","body":"That is not a fatal error, just TC tries to find <code>.testcontainers.properties</code>  file in user&#39;s home directory and fails."},{"owner":{"account_id":17560311,"reputation":266,"user_id":12738660,"display_name":"mamo"},"score":0,"creation_date":1676247637,"post_id":75430868,"comment_id":133093777,"body_markdown":"The files in picture are inside your project right? Try to add `.testcontainers.properties` inside /root folder, the warning should disappear","body":"The files in picture are inside your project right? Try to add <code>.testcontainers.properties</code> inside /root folder, the warning should disappear"},{"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"score":0,"creation_date":1676272549,"post_id":75430868,"comment_id":133096571,"body_markdown":"While I agree that it&#39;s not fatal error, maven is unable to execute tests in Jenkins. I believed there might be a simple solution where I can specify the correct path to my config file, which are located in target/test-classes/testcontainers.properties.","body":"While I agree that it&#39;s not fatal error, maven is unable to execute tests in Jenkins. I believed there might be a simple solution where I can specify the correct path to my config file, which are located in target/test-classes/testcontainers.properties."}],"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676245891,"creation_date":1676245208,"question_id":75430868,"body_markdown":"Recently I expirienced problem with testcontainers. \r\nI am using \r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynalite&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.6&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nPart from test class:\r\n\r\n```\r\n    @Rule\r\n    public DynaliteContainer dynamoDB2 =\r\n            new DynaliteContainer(DockerImageName.parse(&quot;harbor-main.test.com/teamb/dynalite&quot;).withTag(&quot;v1.2.1-1&quot;)\r\n                    .asCompatibleSubstituteFor(&quot;quay.io/testcontainers/dynalite&quot;));\r\n```\r\n\r\nI can successfully run tests in IDE, but in Jenkins I get following:\r\n```\r\n 23/02/13 00:26:29 WARN TestcontainersConfiguration: \r\nAttempted to read Testcontainers configuration file at file:/root/.testcontainers.properties but the file was not found. \r\nException message: FileNotFoundException: /root/.testcontainers.properties \r\n(No such file or directory)\r\n\r\n```\r\n\r\nI have properties file in classpath as well: \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nnwf1.png\r\n\r\nIs there any way to override config file path?","title":"Testcontainers with Dynalite in Jenkins","body":"<p>Recently I expirienced problem with testcontainers.\nI am using</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;dynalite&lt;/artifactId&gt;\n            &lt;version&gt;1.17.6&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Part from test class:</p>\n<pre><code>    @Rule\n    public DynaliteContainer dynamoDB2 =\n            new DynaliteContainer(DockerImageName.parse(&quot;harbor-main.test.com/teamb/dynalite&quot;).withTag(&quot;v1.2.1-1&quot;)\n                    .asCompatibleSubstituteFor(&quot;quay.io/testcontainers/dynalite&quot;));\n</code></pre>\n<p>I can successfully run tests in IDE, but in Jenkins I get following:</p>\n<pre><code> 23/02/13 00:26:29 WARN TestcontainersConfiguration: \nAttempted to read Testcontainers configuration file at file:/root/.testcontainers.properties but the file was not found. \nException message: FileNotFoundException: /root/.testcontainers.properties \n(No such file or directory)\n\n</code></pre>\n<p>I have properties file in classpath as well:\n<a href=\"https://i.stack.imgur.com/Nnwf1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nnwf1.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to override config file path?</p>\n"},{"tags":["java","csv","arraylist"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676064002,"post_id":75416081,"comment_id":133069487,"body_markdown":"How are the two `Choices.txt` and `Students.csv` files related to each other? Does they have the same row count? What means __&quot;choices only goes halfway and the count is incorrect&quot;__ Only haif of the file content is included? Only first half of result is correct? Can you share a sample data of your files containing 3 or 4 lines each and the expected output?","body":"How are the two <code>Choices.txt</code> and <code>Students.csv</code> files related to each other? Does they have the same row count? What means <b>&quot;choices only goes halfway and the count is incorrect&quot;</b> Only haif of the file content is included? Only first half of result is correct? Can you share a sample data of your files containing 3 or 4 lines each and the expected output?"},{"owner":{"account_id":9342655,"reputation":11,"user_id":6934875,"display_name":"ILoveMusic"},"score":0,"creation_date":1676064987,"post_id":75416081,"comment_id":133069693,"body_markdown":"@Eritrean I updated the post like you said.","body":"@Eritrean I updated the post like you said."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676065439,"post_id":75416081,"comment_id":133069783,"body_markdown":"This code doesn’t group the choices into pairs, so when you call  `choices.get(i)`, that retrieves the wrong option for any value of `i` greater than `0`.","body":"This code doesn’t group the choices into pairs, so when you call  <code>choices.get(i)</code>, that retrieves the wrong option for any value of <code>i</code> greater than <code>0</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676065544,"post_id":75416081,"comment_id":133069802,"body_markdown":"It also doesn’t count anything when the answer is `1`.","body":"It also doesn’t count anything when the answer is <code>1</code>."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676065652,"post_id":75416081,"comment_id":133069824,"body_markdown":"You have 99 items in choises.txt but each student has only a record of 49 ints representing the choices. Why do you expect to get a value for all available choices?","body":"You have 99 items in choises.txt but each student has only a record of 49 ints representing the choices. Why do you expect to get a value for all available choices?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676065704,"post_id":75416081,"comment_id":133069838,"body_markdown":"Hint: you can calculate the correct position in the `choices` array given the value of `i` and the value of `answers[i]`. Try doing it in paper first until you see the pattern, then convert that to code.","body":"Hint: you can calculate the correct position in the <code>choices</code> array given the value of <code>i</code> and the value of <code>answers[i]</code>. Try doing it in paper first until you see the pattern, then convert that to code."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676066037,"post_id":75416081,"comment_id":133069923,"body_markdown":"I am assuming `Danny F,1,0,0,1,`  is interpreted as that the student has choosen only `PC` and `Winter` from `PC Coke Pepsi Winter` if we take the first 4 inputs into account. Is that correct?","body":"I am assuming <code>Danny F,1,0,0,1,</code>  is interpreted as that the student has choosen only <code>PC</code> and <code>Winter</code> from <code>PC Coke Pepsi Winter</code> if we take the first 4 inputs into account. Is that correct?"},{"owner":{"account_id":9342655,"reputation":11,"user_id":6934875,"display_name":"ILoveMusic"},"score":0,"creation_date":1676066347,"post_id":75416081,"comment_id":133070000,"body_markdown":"@Eritrean My bad, I misplaced MAC, so it should be 100 choices now. Also, yes it would be binary choices so Danny chose PC, Coke, Winter, and batman.","body":"@Eritrean My bad, I misplaced MAC, so it should be 100 choices now. Also, yes it would be binary choices so Danny chose PC, Coke, Winter, and batman."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1676067869,"post_id":75416081,"comment_id":133070326,"body_markdown":"Okay, so 0 = choosen and 1 = not chosen? But still, with the input `Danny F,1,0,0,1,0,0,1` and `Mac PC Coke Pepsi Winter Summer Batman`  the result I would expect is [PC Coke Winter Summer] without Batman. And you still have only 50 integers per line which dose not correspond to the total possible count of 100 choises.","body":"Okay, so 0 = choosen and 1 = not chosen? But still, with the input <code>Danny F,1,0,0,1,0,0,1</code> and <code>Mac PC Coke Pepsi Winter Summer Batman</code>  the result I would expect is [PC Coke Winter Summer] without Batman. And you still have only 50 integers per line which dose not correspond to the total possible count of 100 choises."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676070916,"post_id":75416081,"comment_id":133070828,"body_markdown":"@Eritrean there are 50 pairs, and each student chooses one option from each pair. 0 = first option, 1 = second option.","body":"@Eritrean there are 50 pairs, and each student chooses one option from each pair. 0 = first option, 1 = second option."}],"answers":[{"comments":[{"owner":{"account_id":9342655,"reputation":11,"user_id":6934875,"display_name":"ILoveMusic"},"score":0,"creation_date":1676242981,"post_id":75419749,"comment_id":133093283,"body_markdown":"Thank you for helping me understand where my logic went wrong. I can&#39;t use your code, but I think I understand how to approach the problem now! Thank you!","body":"Thank you for helping me understand where my logic went wrong. I can&#39;t use your code, but I think I understand how to approach the problem now! Thank you!"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676113728,"creation_date":1676113728,"answer_id":75419749,"question_id":75416081,"body_markdown":"There are two issues in your approach: \r\n1) You are checking only the case `if (answers[i] == 0)` you need an else part to handle the case where that is not true, i.e where `answers[i] == 1`\r\n2) your `answers` array is only half the size of your `choices` list and the `ith` index in the array holds information about the `i * 2` and `i * 2 + 1` choices. But at the moment you associate the `ith` index of `answers` with the `ith` index of your choices list.\r\n\r\nChange the code in the inner loop of your `classSummary` method from:\r\n\r\n    public static void classSummary() {\r\n        for (Student student : data) {\r\n            int[] answers = student.getAnswers();\r\n            for (int i = 0; i &lt; answers.length; i++) {\r\n                if (answers[i] == 0) {\r\n                    choices.get(i).setCount(choices.get(i).getCount() + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nto\r\n\r\n    public static void classSummary() {\r\n        for (Student student : data) {\r\n            int[] answers = student.getAnswers();\r\n            for (int i = 0; i &lt; answers.length; i++) {\r\n                if (answers[i] == 0) {\r\n                    choices.get(i * 2).setCount(choices.get(i * 2).getCount() + 1);\r\n                } else {\r\n                    choices.get(i * 2 + 1).setCount(choices.get(i * 2 + 1).getCount() + 1);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Summary function not sorting .csv data entirely","body":"<p>There are two issues in your approach:</p>\n<ol>\n<li>You are checking only the case <code>if (answers[i] == 0)</code> you need an else part to handle the case where that is not true, i.e where <code>answers[i] == 1</code></li>\n<li>your <code>answers</code> array is only half the size of your <code>choices</code> list and the <code>ith</code> index in the array holds information about the <code>i * 2</code> and <code>i * 2 + 1</code> choices. But at the moment you associate the <code>ith</code> index of <code>answers</code> with the <code>ith</code> index of your choices list.</li>\n</ol>\n<p>Change the code in the inner loop of your <code>classSummary</code> method from:</p>\n<pre><code>public static void classSummary() {\n    for (Student student : data) {\n        int[] answers = student.getAnswers();\n        for (int i = 0; i &lt; answers.length; i++) {\n            if (answers[i] == 0) {\n                choices.get(i).setCount(choices.get(i).getCount() + 1);\n            }\n        }\n    }\n}\n</code></pre>\n<p>to</p>\n<pre><code>public static void classSummary() {\n    for (Student student : data) {\n        int[] answers = student.getAnswers();\n        for (int i = 0; i &lt; answers.length; i++) {\n            if (answers[i] == 0) {\n                choices.get(i * 2).setCount(choices.get(i * 2).getCount() + 1);\n            } else {\n                choices.get(i * 2 + 1).setCount(choices.get(i * 2 + 1).getCount() + 1);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676115253,"creation_date":1676115253,"answer_id":75419901,"question_id":75416081,"body_markdown":"You could even shorten the code that @Eritrean suggested to:\r\n``` lang-java\r\npublic static void classSummary() {\r\n  for (Student student : data) {\r\n    int[] answers = student.getAnswers();\r\n    for (int i = 0; i &lt; answers.length; i++) {\r\n      int index = i * 2 + answers[i];\r\n      choices.get(index).setCount(choices.get(index) + 1);\r\n    }\r\n  }\r\n}\r\n```\r\nBut you really should validate the inputs of that text file with the answers like:\r\n```\r\nwhile (inFile2.hasNextLine()) {\r\n  String line = inFile2.nextLine();\r\n  String[] x = line.split(&quot;,&quot;);\r\n  String name = x[0];\r\n  int[] answers = new int[x.length - 1];\r\n  for (int i = 1; i &lt; x.length; i++) {\r\n    answers[i - 1] = x[i].trim().equals(&quot;0&quot;) ? 0 : 1;\r\n  }\r\n  Student student = new Student(name, answers);\r\n  data.add(student);\r\n}\r\n```\r\nAnd you could either use a `Map&lt;Integer&gt;` instead of the `ArrayList&lt;Choices&gt;` (this means you would not need to implement the whole `Choices` class). In that case you either use a `HashMap` if the order of choices does not matter in the result, or a `LinkedHashMap` if the order of choices shall be kept in the order they appear in the input file.\r\n\r\nOr you implement a method `increment` in your `Choices` class to improve the readability of your code:\r\n``` lang-java\r\nstatic class Choices {\r\n  // ... existing parts go here\r\n  void increment() {\r\n    count++;\r\n  }\r\n}\r\n```\r\nInstead of `choices.get(index).setCount(choices.get(index) + 1);` you would then only write `choices.get(index).increment();`","title":"Summary function not sorting .csv data entirely","body":"<p>You could even shorten the code that @Eritrean suggested to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void classSummary() {\n  for (Student student : data) {\n    int[] answers = student.getAnswers();\n    for (int i = 0; i &lt; answers.length; i++) {\n      int index = i * 2 + answers[i];\n      choices.get(index).setCount(choices.get(index) + 1);\n    }\n  }\n}\n</code></pre>\n<p>But you really should validate the inputs of that text file with the answers like:</p>\n<pre><code>while (inFile2.hasNextLine()) {\n  String line = inFile2.nextLine();\n  String[] x = line.split(&quot;,&quot;);\n  String name = x[0];\n  int[] answers = new int[x.length - 1];\n  for (int i = 1; i &lt; x.length; i++) {\n    answers[i - 1] = x[i].trim().equals(&quot;0&quot;) ? 0 : 1;\n  }\n  Student student = new Student(name, answers);\n  data.add(student);\n}\n</code></pre>\n<p>And you could either use a <code>Map&lt;Integer&gt;</code> instead of the <code>ArrayList&lt;Choices&gt;</code> (this means you would not need to implement the whole <code>Choices</code> class). In that case you either use a <code>HashMap</code> if the order of choices does not matter in the result, or a <code>LinkedHashMap</code> if the order of choices shall be kept in the order they appear in the input file.</p>\n<p>Or you implement a method <code>increment</code> in your <code>Choices</code> class to improve the readability of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Choices {\n  // ... existing parts go here\n  void increment() {\n    count++;\n  }\n}\n</code></pre>\n<p>Instead of <code>choices.get(index).setCount(choices.get(index) + 1);</code> you would then only write <code>choices.get(index).increment();</code></p>\n"}],"owner":{"account_id":9342655,"reputation":11,"user_id":6934875,"display_name":"ILoveMusic"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676245874,"creation_date":1676062949,"question_id":75416081,"body_markdown":"I have a .csv that has data that looks like so:\r\nFirst name Last initial,1/0,1/0,....\r\n\r\nIt is either a 1 or 0 depending on the persons choice from a txt file that contains 50 pairs of choices. \r\nE.g. Apple \r\n     Pear\r\n     Dog\r\n     Cat\r\n\r\nMy issue is that my method (classSummary) that keeps count of how many people select the choices only goes halfway and the count is incorrect. \r\n\r\nHere is my code as it stands, and any advice would be much appreciated:\r\n\r\n\r\n\r\n\r\n       public static void classSummary() {\r\n        for (Student student : data) {\r\n            int[] answers = student.getAnswers();\r\n            for (int i = 0; i &lt; answers.length; i++) {\r\n                if (answers[i] == 0) {\r\n                    choices.get(i).setCount(choices.get(i).getCount() + 1);\r\n                }","title":"Summary function not sorting .csv data entirely","body":"<p>I have a .csv that has data that looks like so:\nFirst name Last initial,1/0,1/0,....</p>\n<p>It is either a 1 or 0 depending on the persons choice from a txt file that contains 50 pairs of choices.\nE.g. Apple\nPear\nDog\nCat</p>\n<p>My issue is that my method (classSummary) that keeps count of how many people select the choices only goes halfway and the count is incorrect.</p>\n<p>Here is my code as it stands, and any advice would be much appreciated:</p>\n<pre><code>   public static void classSummary() {\n    for (Student student : data) {\n        int[] answers = student.getAnswers();\n        for (int i = 0; i &lt; answers.length; i++) {\n            if (answers[i] == 0) {\n                choices.get(i).setCount(choices.get(i).getCount() + 1);\n            }\n</code></pre>\n"},{"tags":["java","web-services","rest","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":4926071,"reputation":2556,"user_id":3967289,"accept_rate":60,"display_name":"H W"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1444289559,"creation_date":1444289559,"answer_id":33009397,"question_id":33008425,"body_markdown":"Turns out that this is really easy:\r\n\r\n    public Customer customerDetail(Exchange exchange){\r\n        String id = exchange.getIn().getHeader(&quot;id&quot;).toString();\r\n        return getCustomer(id);\r\n    }","title":"using Path Variables in Apache Camel Rest","body":"<p>Turns out that this is really easy:</p>\n\n<pre><code>public Customer customerDetail(Exchange exchange){\n    String id = exchange.getIn().getHeader(\"id\").toString();\n    return getCustomer(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10433981,"reputation":11,"user_id":7692900,"display_name":"alps_ren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676245607,"creation_date":1676245607,"answer_id":75430891,"question_id":33008425,"body_markdown":"`${header.id}` works.\r\n\r\ntry using log:\r\n`.log(LoggingLevel.INFO, &quot;${header.id}&quot;);`","title":"using Path Variables in Apache Camel Rest","body":"<p><code>${header.id}</code> works.</p>\n<p>try using log:\n<code>.log(LoggingLevel.INFO, &quot;${header.id}&quot;);</code></p>\n"}],"owner":{"account_id":4926071,"reputation":2556,"user_id":3967289,"accept_rate":60,"display_name":"H W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8751,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1676245607,"creation_date":1444286634,"question_id":33008425,"body_markdown":"How can i access PathVariables in the Apache Camel Rest module?\r\n\r\nI defined a route like this (following &quot;using base path&quot; from the [documentation][1]):\r\n\r\n    rest(&quot;/customers/&quot;)\r\n    .get(&quot;/{id}&quot;).to(&quot;direct:customerDetail&quot;)\r\n\r\nHow can i get a hold on the `{id}`-Parameter in the following route?\r\n\r\nBasically i would like to know what camel offers instead of `@PathVariable` (see following example)\r\n\r\n    @RequestMapping(value=&quot;/customers/{id}&quot;, method = RequestMethod.GET)\r\n\tpublic Customer customerDetail(@PathVariable String cId) {\r\n\t\treturn getCustomer(cId);\r\n\t}\r\n\r\n  [1]: http://camel.apache.org/rest-dsl.html","title":"using Path Variables in Apache Camel Rest","body":"<p>How can i access PathVariables in the Apache Camel Rest module?</p>\n\n<p>I defined a route like this (following \"using base path\" from the <a href=\"http://camel.apache.org/rest-dsl.html\" rel=\"noreferrer\">documentation</a>):</p>\n\n<pre><code>rest(\"/customers/\")\n.get(\"/{id}\").to(\"direct:customerDetail\")\n</code></pre>\n\n<p>How can i get a hold on the <code>{id}</code>-Parameter in the following route?</p>\n\n<p>Basically i would like to know what camel offers instead of <code>@PathVariable</code> (see following example)</p>\n\n<pre><code>@RequestMapping(value=\"/customers/{id}\", method = RequestMethod.GET)\npublic Customer customerDetail(@PathVariable String cId) {\n    return getCustomer(cId);\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":17654608,"reputation":43,"user_id":12814480,"display_name":"Didrik.B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676244698,"creation_date":1676215979,"answer_id":75428131,"question_id":75426567,"body_markdown":"Found a solution, I left out something in the question that I didn&#39;t think would have a say in the matter (And I&#39;m still not sure why it does).\r\n\r\nBefore the `findViewById(R.id.noVolunOrgsFound);` was a function, and in that function was a button assigned to use the TextView (the one that was null). Not sure how the button makes the TextView null, but apparently it did. \r\n        \r\n\r\n    initializeDbSettingsLay();\r\n\r\n    volunDbRecycler = findViewById(R.id.volunOrgRecycler);\r\n    volunDbListLay = findViewById(R.id.volunOrgListLay);\r\n    notVsAccWarning = findViewById(R.id.notVsAccWarning);\r\n    noVolunOrgsFound = findViewById(R.id.noVolunOrgsFound);\r\n\r\n\r\nMoving the function after the `findViewById(R.id.noVolunOrgsFound);`, it now wasn&#39;t null anymore. Not sure why the button either made it null or not properly find the view, since it worked on the other layouts that also is used in that button function. Only the TextView became null. I&#39;d like to say that the TextView can&#39;t be assigned after the ClickListener has been created, but generally values can be changed later, and so did the other views. So I&#39;m not sure why it failed with the TextView.\r\n\r\nHere is the function:\r\n\r\n\r\n\r\n\r\n    private void initializeDbSettingsLay() {\r\n    \r\n        ...\r\n    \r\n        vsSettingsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n    \r\n                userSettingsBtn.setBackgroundTintList(ColorStateList.valueOf(Color.WHITE));\r\n                dbSettingsBtn.setBackgroundTintList(ColorStateList.valueOf(Color.WHITE));\r\n                vsSettingsBtn.setBackgroundTintList(ColorStateList.valueOf(ActivityUser.this.getColor(R.color.slight_gray)));\r\n                userSettingsLay.setVisibility(View.GONE);\r\n                dbSettingsLay.setVisibility(View.GONE);\r\n                vsSettingsLay.setVisibility(View.VISIBLE);\r\n    \r\n                learnMoreVsLay.setVisibility(View.GONE);\r\n                learnMoreVsBtn.setText(&quot;Learn more&quot;);\r\n    \r\n    \r\n                if (currentUserModel == null || currentUserModel.getVolunAccount() == null) {\r\n                    volunDbListLay.setVisibility(View.GONE);\r\n                    notVsAccWarning.setVisibility(View.VISIBLE);\r\n                } else {\r\n    \r\n                    volunDbListLay.setVisibility(View.VISIBLE);\r\n                    notVsAccWarning.setVisibility(View.GONE);\r\n                    loadVolunOrgList();\r\n                }\r\n            }\r\n        });\r\n    \r\n        ...\r\n    \r\n    }\r\n\r\n\r\n    private void loadVolunOrgList() {\r\n\r\n        if (currentUserModel == null || currentUserModel.getVolunAccount() == null || currentUserModel.getOrgsList() == null || currentUserModel.getOrgsList().isEmpty()) {\r\n            return;\r\n        }\r\n\r\n\r\n        List&lt;OrganisationModel&gt; orgList = currentUserModel.getOrgDataList();\r\n\r\n        if (orgList.size() == 0) {\r\n            noVolunOrgsFound.setVisibility(View.VISIBLE);\r\n            return;\r\n        }\r\n\r\n\r\n        noVolunOrgsFound.setVisibility(View.GONE);\r\n\r\n        //Removing both noVolunOrgsFound.setVisibility() above from this function, the rest of the code then worked \\/\r\n\r\n        UserIntegrAdapter orgAdapter = new UserIntegrAdapter(orgList, this, getSupportFragmentManager());\r\n        volunDbRecycler.setAdapter(orgAdapter);\r\n        volunDbRecycler.setLayoutManager(new LinearLayoutManager(ActivityUser.this));\r\n    }\r\n","title":"Only one of multiple views fails with findViewById()","body":"<p>Found a solution, I left out something in the question that I didn't think would have a say in the matter (And I'm still not sure why it does).</p>\n<p>Before the <code>findViewById(R.id.noVolunOrgsFound);</code> was a function, and in that function was a button assigned to use the TextView (the one that was null). Not sure how the button makes the TextView null, but apparently it did.</p>\n<pre><code>initializeDbSettingsLay();\n\nvolunDbRecycler = findViewById(R.id.volunOrgRecycler);\nvolunDbListLay = findViewById(R.id.volunOrgListLay);\nnotVsAccWarning = findViewById(R.id.notVsAccWarning);\nnoVolunOrgsFound = findViewById(R.id.noVolunOrgsFound);\n</code></pre>\n<p>Moving the function after the <code>findViewById(R.id.noVolunOrgsFound);</code>, it now wasn't null anymore. Not sure why the button either made it null or not properly find the view, since it worked on the other layouts that also is used in that button function. Only the TextView became null. I'd like to say that the TextView can't be assigned after the ClickListener has been created, but generally values can be changed later, and so did the other views. So I'm not sure why it failed with the TextView.</p>\n<p>Here is the function:</p>\n<pre><code>private void initializeDbSettingsLay() {\n\n    ...\n\n    vsSettingsBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            userSettingsBtn.setBackgroundTintList(ColorStateList.valueOf(Color.WHITE));\n            dbSettingsBtn.setBackgroundTintList(ColorStateList.valueOf(Color.WHITE));\n            vsSettingsBtn.setBackgroundTintList(ColorStateList.valueOf(ActivityUser.this.getColor(R.color.slight_gray)));\n            userSettingsLay.setVisibility(View.GONE);\n            dbSettingsLay.setVisibility(View.GONE);\n            vsSettingsLay.setVisibility(View.VISIBLE);\n\n            learnMoreVsLay.setVisibility(View.GONE);\n            learnMoreVsBtn.setText(&quot;Learn more&quot;);\n\n\n            if (currentUserModel == null || currentUserModel.getVolunAccount() == null) {\n                volunDbListLay.setVisibility(View.GONE);\n                notVsAccWarning.setVisibility(View.VISIBLE);\n            } else {\n\n                volunDbListLay.setVisibility(View.VISIBLE);\n                notVsAccWarning.setVisibility(View.GONE);\n                loadVolunOrgList();\n            }\n        }\n    });\n\n    ...\n\n}\n\n\nprivate void loadVolunOrgList() {\n\n    if (currentUserModel == null || currentUserModel.getVolunAccount() == null || currentUserModel.getOrgsList() == null || currentUserModel.getOrgsList().isEmpty()) {\n        return;\n    }\n\n\n    List&lt;OrganisationModel&gt; orgList = currentUserModel.getOrgDataList();\n\n    if (orgList.size() == 0) {\n        noVolunOrgsFound.setVisibility(View.VISIBLE);\n        return;\n    }\n\n\n    noVolunOrgsFound.setVisibility(View.GONE);\n\n    //Removing both noVolunOrgsFound.setVisibility() above from this function, the rest of the code then worked \\/\n\n    UserIntegrAdapter orgAdapter = new UserIntegrAdapter(orgList, this, getSupportFragmentManager());\n    volunDbRecycler.setAdapter(orgAdapter);\n    volunDbRecycler.setLayoutManager(new LinearLayoutManager(ActivityUser.this));\n}\n</code></pre>\n"}],"owner":{"account_id":17654608,"reputation":43,"user_id":12814480,"display_name":"Didrik.B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676244698,"creation_date":1676200397,"question_id":75426567,"body_markdown":"I&#39;m trying to reference a TextView from a layout. It works for all other views but for this specific one it returns null. Doing it the same way for all the views, so I can&#39;t see why it wouldn&#39;t work on this one.\r\n\r\nImportant to mention is that the layout file showed here is included into b_user_list. All views referenced from within the include works, except for one.\r\n\r\n\r\nb_user_list.xml:\r\n\r\n    &lt;include\r\n        android:id=&quot;@+id/showUserLay&quot;\r\n        layout=&quot;@layout/c_show_front_layout&quot;\r\n        ... /&gt;\r\n\r\n\r\nc_show_front_layout.xml:\r\n\r\n    \r\n    \r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        android:id=&quot;@+id/volunDbListLay&quot; \r\n        ... &gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView932&quot;\r\n            ... /&gt;\r\n        \r\n        &lt;View\r\n            android:id=&quot;@+id/divider522&quot;\r\n            ... /&gt;\r\n        \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/volunDbRecycler&quot;\r\n            ... /&gt;\r\n        \r\n        &lt;TextView\r\n            android:id=&quot;@+id/noVolunOrgsFound&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;No organizations found.&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/volunDbRecycler&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/volunDbRecycler&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/volunDbRecycler&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/volunDbRecycler&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n\r\nActivityUser.java:\r\n\r\n    private ConstraintLayout settErrorLay; \r\n    private TextView errorTxt; \r\n    private TextView errorClose;\r\n    \r\n    private TextView noVolunOrgsFound;\r\n    private RecyclerView volunDbRecycler;\r\n    private ConstraintLayout volunDbListLay, notVsAccWarning;\r\n    \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.b_user_list);\r\n    \r\n        ...\r\n    \r\n        settErrorLay = findViewById(R.id.userIntegrErrorLay);\r\n        errorClose = findViewById(R.id.closeUserIntegrErrorTxt);\r\n    \r\n        ...\r\n    \r\n    \r\n        if (errorClose != null &amp;&amp; settErrorLay != null) { \r\n            // Checks if includeView show_front_layout.xml worked\r\n    \r\n            volunDbRecycler = findViewById(R.id.volunDbRecycler);\r\n            volunDbListLay = findViewById(R.id.volunDbListLay);\r\n            notVsAccWarning = findViewById(R.id.notVsAccWarning);\r\n            noVolunOrgsFound = findViewById(R.id.noVolunOrgsFound);\r\n    \r\n            ...\r\n        }\r\n    \r\n        ...\r\n    }\r\n    \r\n    ...\r\n\r\nI found a way to reference the view, but obviously not the proper way. I ran through all the children of the parent view, and when the id match I add it as the view. Then it didn&#39;t return null:\r\n\r\n    if (noVolunOrgsFound == null) { \r\n        for (int i = 0; i &lt; volunDbListLay.getChildCount(); i++) {\r\n            if (volunDbListLay.getChildAt(i).getId() == R.id.noVolunOrgsFound) {\r\n                noVolunOrgsFound = (TextView) volunDbListLay.getChildAt(i);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSo I have ran out of ideas for why this doesn&#39;t work. It can&#39;t be the \\&lt;include\\&gt; since the other sibling views works, the id is the same both in the layout and java, and it works with by finding it within the children of the parent, just not with findViewById(). \r\n\r\n\r\n\r\n**EDIT**: I posted an answer that seemed to be solving the problem, but now I just have the same problem with a RecyclerView. This time, it didn&#39;t work to manually loop through the views of the parent and checking when the child view id match the RecyclerView&#39;s id..\r\n\r\nIs there a limit to how many views can be loaded or referenced in Java or something?","title":"Only one of multiple views fails with findViewById()","body":"<p>I'm trying to reference a TextView from a layout. It works for all other views but for this specific one it returns null. Doing it the same way for all the views, so I can't see why it wouldn't work on this one.</p>\n<p>Important to mention is that the layout file showed here is included into b_user_list. All views referenced from within the include works, except for one.</p>\n<p>b_user_list.xml:</p>\n<pre><code>&lt;include\n    android:id=&quot;@+id/showUserLay&quot;\n    layout=&quot;@layout/c_show_front_layout&quot;\n    ... /&gt;\n</code></pre>\n<p>c_show_front_layout.xml:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout \n    android:id=&quot;@+id/volunDbListLay&quot; \n    ... &gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView932&quot;\n        ... /&gt;\n    \n    &lt;View\n        android:id=&quot;@+id/divider522&quot;\n        ... /&gt;\n    \n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/volunDbRecycler&quot;\n        ... /&gt;\n    \n    &lt;TextView\n        android:id=&quot;@+id/noVolunOrgsFound&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;No organizations found.&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/volunDbRecycler&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/volunDbRecycler&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/volunDbRecycler&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/volunDbRecycler&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>ActivityUser.java:</p>\n<pre><code>private ConstraintLayout settErrorLay; \nprivate TextView errorTxt; \nprivate TextView errorClose;\n\nprivate TextView noVolunOrgsFound;\nprivate RecyclerView volunDbRecycler;\nprivate ConstraintLayout volunDbListLay, notVsAccWarning;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.b_user_list);\n\n    ...\n\n    settErrorLay = findViewById(R.id.userIntegrErrorLay);\n    errorClose = findViewById(R.id.closeUserIntegrErrorTxt);\n\n    ...\n\n\n    if (errorClose != null &amp;&amp; settErrorLay != null) { \n        // Checks if includeView show_front_layout.xml worked\n\n        volunDbRecycler = findViewById(R.id.volunDbRecycler);\n        volunDbListLay = findViewById(R.id.volunDbListLay);\n        notVsAccWarning = findViewById(R.id.notVsAccWarning);\n        noVolunOrgsFound = findViewById(R.id.noVolunOrgsFound);\n\n        ...\n    }\n\n    ...\n}\n\n...\n</code></pre>\n<p>I found a way to reference the view, but obviously not the proper way. I ran through all the children of the parent view, and when the id match I add it as the view. Then it didn't return null:</p>\n<pre><code>if (noVolunOrgsFound == null) { \n    for (int i = 0; i &lt; volunDbListLay.getChildCount(); i++) {\n        if (volunDbListLay.getChildAt(i).getId() == R.id.noVolunOrgsFound) {\n            noVolunOrgsFound = (TextView) volunDbListLay.getChildAt(i);\n        }\n    }\n}\n</code></pre>\n<p>So I have ran out of ideas for why this doesn't work. It can't be the &lt;include&gt; since the other sibling views works, the id is the same both in the layout and java, and it works with by finding it within the children of the parent, just not with findViewById().</p>\n<p><strong>EDIT</strong>: I posted an answer that seemed to be solving the problem, but now I just have the same problem with a RecyclerView. This time, it didn't work to manually loop through the views of the parent and checking when the child view id match the RecyclerView's id..</p>\n<p>Is there a limit to how many views can be loaded or referenced in Java or something?</p>\n"},{"tags":["java","eclipse","apple-m1"],"comments":[{"owner":{"account_id":24932241,"reputation":1,"user_id":18799201,"display_name":"Hunter Marlette"},"score":0,"creation_date":1676208174,"post_id":75427220,"comment_id":133087226,"body_markdown":"I used homebrew to install &quot;zulu&quot; which is the cask for Java 19.0.2 AzulJDK, which allowed the program to run in terminal just fine (minus the red button issue that persists) but eclipse still does not run properly at all. Do I need to do something to make eclipse use AzulJDK instead of OpenJDK?","body":"I used homebrew to install &quot;zulu&quot; which is the cask for Java 19.0.2 AzulJDK, which allowed the program to run in terminal just fine (minus the red button issue that persists) but eclipse still does not run properly at all. Do I need to do something to make eclipse use AzulJDK instead of OpenJDK?"},{"owner":{"account_id":24932241,"reputation":1,"user_id":18799201,"display_name":"Hunter Marlette"},"score":0,"creation_date":1676210303,"post_id":75427220,"comment_id":133087565,"body_markdown":"I figured out how to update eclipse to run the new version of Java and this link was incredibly helpful for anyone else experiencing this issue: [link](https://marco.dev/change-the-jre-jdk-in-eclipse-on-mac-os-x-and-access-the-sources)","body":"I figured out how to update eclipse to run the new version of Java and this link was incredibly helpful for anyone else experiencing this issue: <a href=\"https://marco.dev/change-the-jre-jdk-in-eclipse-on-mac-os-x-and-access-the-sources\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676272947,"post_id":75427220,"comment_id":133096645,"body_markdown":"When using native libraries via JNI, the libraries and the Java VM must be of the same architecture, including 32 bit or 64 bit. In the properties _Java &gt; Installed JREs_ you have configure the JDKs to be used in your project (_Project &gt; Properties_). It should work with JDK/Java VM of any vendor, but, as said before, the native libraries must match the architecture of the Java VM (and on a M1 mac you can run at least  x86_64 and AArch64 Java VMs).","body":"When using native libraries via JNI, the libraries and the Java VM must be of the same architecture, including 32 bit or 64 bit. In the properties <i>Java &gt; Installed JREs</i> you have configure the JDKs to be used in your project (<i>Project &gt; Properties</i>). It should work with JDK/Java VM of any vendor, but, as said before, the native libraries must match the architecture of the Java VM (and on a M1 mac you can run at least  x86_64 and AArch64 Java VMs)."}],"owner":{"account_id":24932241,"reputation":1,"user_id":18799201,"display_name":"Hunter Marlette"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676244625,"creation_date":1676207599,"question_id":75427220,"body_markdown":"I am getting this error on my M1 Mac. I am running a simple GUI program in Eclipse for a class and getting the error: &quot;Bad JNI lookup accessibilityHitTest&quot; followed by 32 lines of red messages and &quot;Exception in thread &quot;AppKit Thread&quot; java.lang.NoSuchMethodError: accessibilityHitTest&quot;. I installed Java OpenJDK 17.0.1 through Homebrew, which is the up-to-date version according to homebrew. I do not know how to program in Java and this is my first class learning the language so I am a bit over my head at the moment, but this is the in-class example code that is supposed to be very simple so I am beyond confused as to why this is happening. Thank you to anyone that can provide any help in this situation!\r\n\r\nThis is what I get from the console window:\r\n\r\n```\r\n2023-02-12 07:50:17.847 java[10456:90865] Bad JNI lookup accessibilityHitTest\r\n2023-02-12 07:50:17.849 java[10456:90865] (\r\n\t0   libawt_lwawt.dylib                  0x000000010dcfc7d1 -[JavaComponentAccessibility accessibilityHitTest:withEnv:] + 153\r\n\t1   libawt_lwawt.dylib                  0x000000010dcad7e2 -[AWTView accessibilityHitTest:] + 179\r\n\t2   AppKit                              0x00007ff81322ff47 -[NSWindow(NSWindowAccessibility) accessibilityHitTest:] + 302\r\n\t3   AppKit                              0x00007ff812cfe5ad -[NSApplication(NSApplicationAccessibility) accessibilityHitTest:] + 285\r\n\t4   AppKit                              0x00007ff812cbf46b CopyElementAtPosition + 138\r\n\t5   HIServices                          0x00007ff8150cb505 _AXXMIGCopyElementAtPosition + 402\r\n\t6   HIServices                          0x00007ff8150ed194 _XCopyElementAtPosition + 355\r\n\t7   HIServices                          0x00007ff8150aa5a9 mshMIGPerform + 182\r\n\t8   CoreFoundation                      0x00007ff80f8483f8 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 41\r\n\t9   CoreFoundation                      0x00007ff80f848337 __CFRunLoopDoSource1 + 536\r\n\t10  CoreFoundation                      0x00007ff80f846fb6 __CFRunLoopRun + 2749\r\n\t11  CoreFoundation                      0x00007ff80f845e7f CFRunLoopRunSpecific + 560\r\n\t12  HIToolbox                           0x00007ff8196d8766 RunCurrentEventLoopInMode + 292\r\n\t13  HIToolbox                           0x00007ff8196d8576 ReceiveNextEventCommon + 679\r\n\t14  HIToolbox                           0x00007ff8196d82b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70\r\n\t15  AppKit                              0x00007ff8128d1293 _DPSNextEvent + 909\r\n\t16  AppKit                              0x00007ff8128d0114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219\r\n\t17  libosxapp.dylib                     0x000000010d920653 -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:] + 121\r\n\t18  AppKit                              0x00007ff8128c2757 -[NSApplication run] + 586\r\n\t19  libosxapp.dylib                     0x000000010d920431 +[NSApplicationAWT runAWTLoopWithApp:] + 165\r\n\t20  libawt_lwawt.dylib                  0x000000010dd047a1 +[AWTStarter starter:headless:] + 496\r\n\t21  libosxapp.dylib                     0x000000010d921f73 +[ThreadUtilities invokeBlockCopy:] + 15\r\n\t22  Foundation                          0x00007ff8105fd190 __NSThreadPerformPerform + 177\r\n\t23  CoreFoundation                      0x00007ff80f847ed1 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\r\n\t24  CoreFoundation                      0x00007ff80f847e80 __CFRunLoopDoSource0 + 157\r\n\t25  CoreFoundation                      0x00007ff80f847c4e __CFRunLoopDoSources0 + 212\r\n\t26  CoreFoundation                      0x00007ff80f8468a8 __CFRunLoopRun + 943\r\n\t27  CoreFoundation                      0x00007ff80f845e7f CFRunLoopRunSpecific + 560\r\n\t28  libjli.dylib                        0x000000010d3a989d CreateExecutionEnvironment + 381\r\n\t29  libjli.dylib                        0x000000010d3a5b45 JLI_Launch + 1253\r\n\t30  java                                0x0000000104dd1c15 main + 363\r\n\t31  dyld                                0x0000000205073310 start + 2432\r\n)\r\nException in thread &quot;AppKit Thread&quot; java.lang.NoSuchMethodError: accessibilityHitTest\r\nHello from the actionPerformed() method!\r\nThe button has been pressed.\r\n```\r\n\r\nBelow is the code I am trying to get to work. It does launch a basic GUI with all three fields but gives me the above-mentioned error whenever I press the button or type into the text box. Also, for some weird reason, the button does not show up as red, but the text box is highlighted in yellow. The java.awt.Color library appears to be working because it is correct for the text box but no matter what I do to get the button to show up in a color it remains a white background. The color chosen is arbitrary and all works for the text box but nothing whatsoever with the button. \r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class MyFirstGUI implements ActionListener\r\n{\r\npublic static void main(String[] args)\r\n  {\r\n  new MyFirstGUI(); // load self!\r\n  }\r\n\r\nJFrame     window    = new JFrame(&quot;This is my first GUI program&quot;);\r\nJButton    button    = new JButton(&quot;Push me!&quot;);\r\nJTextField textField = new JTextField(&quot;Enter data here and press ENTER.&quot;);\r\nJTextArea  textArea  = new JTextArea(&quot;Info presented to user here.&quot;);\r\n\r\npublic MyFirstGUI() // CONSTRUCTOR (called by the &quot;new&quot; loader)\r\n  {\r\n  System.out.println(&quot;Hi from MyFirstGUI constructor!&quot;);\r\n  // Build the GUI\r\n  window.getContentPane().add(button, &quot;North&quot;);  // top area \r\n  window.getContentPane().add(textArea,&quot;Center&quot;);// middle area\r\n  window.getContentPane().add(textField,&quot;South&quot;);// bottom area\r\n  window.setLocation(500,0); // x,y in &quot;pixels&quot; y=0 is top of window\r\n  window.setSize(500,500); // x,y\r\n  button.setBackground(Color.red);\r\n  textField.setBackground(Color.yellow);\r\n  textArea.setEditable(false); // keep cursor out\r\n  window.setVisible(true); // show it!\r\n  window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n  button.addActionListener(this);   // call me when pushed!\r\n  textField.addActionListener(this);// call me when ENTER key! \r\n  } \r\n\r\npublic void actionPerformed(ActionEvent ae)\r\n  {\r\n  if (ae.getSource() == button)\r\n     {\r\n     System.out.println(&quot;Button was pushed!&quot;);\r\n     }\r\n  if (ae.getSource() == textField)\r\n     {\r\n     System.out.println(&quot;TextField had data entry!&quot;);\r\n     String input = textField.getText();\r\n     textField.setText(&quot;&quot;); // clear!\r\n     textArea.setText(input); \r\n     }\r\n\r\n  }\r\n} \r\n```\r\n\r\n\r\n\r\nI have updated every possible piece of software and compared this to what I get on my Intel-based Mac. The issue is mostly solved using all the same software on that computer so this leads me to believe there is an issue running OpenJDK Java 17.0.1 on M1 Macs. \r\n\r\n\r\nPossible complications to consider: \r\n- Is it that I am using an M1 Mac? This is what I think is the main concern…\r\n\tIf I run this on my old 2016 intel Mac running macOS Monterey 12.6.3 (the newest it can run) I can get it to run the GUI without error (but the red button still shows up white). \r\n    How can I get this to run properly on my M1 Mac?!? It is nice that I can get it running on my old laptop but it doesn&#39;t help solve the issue. \r\n\r\n- My professor is ancient and is probably using an older version of Java, if this is the case is there’d reason an older version of java would cause this problem? \r\n\tThis is just a question, I have no way of testing this. \r\n\r\n- Is this something to do with my software versions?\r\n\tI updated to MacOS 13.2 Ventura and have updated home-brew, java, and eclipse. I do not think this is the issue but I am using pretty basic java software and simple code so I am not sure how many issues there could be.\r\n \r\n- Is it something to do with Eclipse? \r\n\tI tested this by running the application in terminal and it acted exactly the same. The correct information displays on the GUI but no red button and the same error is happening. \r\n\r\n\r\n","title":"java.lang.NoSuchMethodError: accessibilityHitTest","body":"<p>I am getting this error on my M1 Mac. I am running a simple GUI program in Eclipse for a class and getting the error: &quot;Bad JNI lookup accessibilityHitTest&quot; followed by 32 lines of red messages and &quot;Exception in thread &quot;AppKit Thread&quot; java.lang.NoSuchMethodError: accessibilityHitTest&quot;. I installed Java OpenJDK 17.0.1 through Homebrew, which is the up-to-date version according to homebrew. I do not know how to program in Java and this is my first class learning the language so I am a bit over my head at the moment, but this is the in-class example code that is supposed to be very simple so I am beyond confused as to why this is happening. Thank you to anyone that can provide any help in this situation!</p>\n<p>This is what I get from the console window:</p>\n<pre><code>2023-02-12 07:50:17.847 java[10456:90865] Bad JNI lookup accessibilityHitTest\n2023-02-12 07:50:17.849 java[10456:90865] (\n    0   libawt_lwawt.dylib                  0x000000010dcfc7d1 -[JavaComponentAccessibility accessibilityHitTest:withEnv:] + 153\n    1   libawt_lwawt.dylib                  0x000000010dcad7e2 -[AWTView accessibilityHitTest:] + 179\n    2   AppKit                              0x00007ff81322ff47 -[NSWindow(NSWindowAccessibility) accessibilityHitTest:] + 302\n    3   AppKit                              0x00007ff812cfe5ad -[NSApplication(NSApplicationAccessibility) accessibilityHitTest:] + 285\n    4   AppKit                              0x00007ff812cbf46b CopyElementAtPosition + 138\n    5   HIServices                          0x00007ff8150cb505 _AXXMIGCopyElementAtPosition + 402\n    6   HIServices                          0x00007ff8150ed194 _XCopyElementAtPosition + 355\n    7   HIServices                          0x00007ff8150aa5a9 mshMIGPerform + 182\n    8   CoreFoundation                      0x00007ff80f8483f8 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 41\n    9   CoreFoundation                      0x00007ff80f848337 __CFRunLoopDoSource1 + 536\n    10  CoreFoundation                      0x00007ff80f846fb6 __CFRunLoopRun + 2749\n    11  CoreFoundation                      0x00007ff80f845e7f CFRunLoopRunSpecific + 560\n    12  HIToolbox                           0x00007ff8196d8766 RunCurrentEventLoopInMode + 292\n    13  HIToolbox                           0x00007ff8196d8576 ReceiveNextEventCommon + 679\n    14  HIToolbox                           0x00007ff8196d82b3 _BlockUntilNextEventMatchingListInModeWithFilter + 70\n    15  AppKit                              0x00007ff8128d1293 _DPSNextEvent + 909\n    16  AppKit                              0x00007ff8128d0114 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 1219\n    17  libosxapp.dylib                     0x000000010d920653 -[NSApplicationAWT nextEventMatchingMask:untilDate:inMode:dequeue:] + 121\n    18  AppKit                              0x00007ff8128c2757 -[NSApplication run] + 586\n    19  libosxapp.dylib                     0x000000010d920431 +[NSApplicationAWT runAWTLoopWithApp:] + 165\n    20  libawt_lwawt.dylib                  0x000000010dd047a1 +[AWTStarter starter:headless:] + 496\n    21  libosxapp.dylib                     0x000000010d921f73 +[ThreadUtilities invokeBlockCopy:] + 15\n    22  Foundation                          0x00007ff8105fd190 __NSThreadPerformPerform + 177\n    23  CoreFoundation                      0x00007ff80f847ed1 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 17\n    24  CoreFoundation                      0x00007ff80f847e80 __CFRunLoopDoSource0 + 157\n    25  CoreFoundation                      0x00007ff80f847c4e __CFRunLoopDoSources0 + 212\n    26  CoreFoundation                      0x00007ff80f8468a8 __CFRunLoopRun + 943\n    27  CoreFoundation                      0x00007ff80f845e7f CFRunLoopRunSpecific + 560\n    28  libjli.dylib                        0x000000010d3a989d CreateExecutionEnvironment + 381\n    29  libjli.dylib                        0x000000010d3a5b45 JLI_Launch + 1253\n    30  java                                0x0000000104dd1c15 main + 363\n    31  dyld                                0x0000000205073310 start + 2432\n)\nException in thread &quot;AppKit Thread&quot; java.lang.NoSuchMethodError: accessibilityHitTest\nHello from the actionPerformed() method!\nThe button has been pressed.\n</code></pre>\n<p>Below is the code I am trying to get to work. It does launch a basic GUI with all three fields but gives me the above-mentioned error whenever I press the button or type into the text box. Also, for some weird reason, the button does not show up as red, but the text box is highlighted in yellow. The java.awt.Color library appears to be working because it is correct for the text box but no matter what I do to get the button to show up in a color it remains a white background. The color chosen is arbitrary and all works for the text box but nothing whatsoever with the button.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class MyFirstGUI implements ActionListener\n{\npublic static void main(String[] args)\n  {\n  new MyFirstGUI(); // load self!\n  }\n\nJFrame     window    = new JFrame(&quot;This is my first GUI program&quot;);\nJButton    button    = new JButton(&quot;Push me!&quot;);\nJTextField textField = new JTextField(&quot;Enter data here and press ENTER.&quot;);\nJTextArea  textArea  = new JTextArea(&quot;Info presented to user here.&quot;);\n\npublic MyFirstGUI() // CONSTRUCTOR (called by the &quot;new&quot; loader)\n  {\n  System.out.println(&quot;Hi from MyFirstGUI constructor!&quot;);\n  // Build the GUI\n  window.getContentPane().add(button, &quot;North&quot;);  // top area \n  window.getContentPane().add(textArea,&quot;Center&quot;);// middle area\n  window.getContentPane().add(textField,&quot;South&quot;);// bottom area\n  window.setLocation(500,0); // x,y in &quot;pixels&quot; y=0 is top of window\n  window.setSize(500,500); // x,y\n  button.setBackground(Color.red);\n  textField.setBackground(Color.yellow);\n  textArea.setEditable(false); // keep cursor out\n  window.setVisible(true); // show it!\n  window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n  button.addActionListener(this);   // call me when pushed!\n  textField.addActionListener(this);// call me when ENTER key! \n  } \n\npublic void actionPerformed(ActionEvent ae)\n  {\n  if (ae.getSource() == button)\n     {\n     System.out.println(&quot;Button was pushed!&quot;);\n     }\n  if (ae.getSource() == textField)\n     {\n     System.out.println(&quot;TextField had data entry!&quot;);\n     String input = textField.getText();\n     textField.setText(&quot;&quot;); // clear!\n     textArea.setText(input); \n     }\n\n  }\n} \n</code></pre>\n<p>I have updated every possible piece of software and compared this to what I get on my Intel-based Mac. The issue is mostly solved using all the same software on that computer so this leads me to believe there is an issue running OpenJDK Java 17.0.1 on M1 Macs.</p>\n<p>Possible complications to consider:</p>\n<ul>\n<li><p>Is it that I am using an M1 Mac? This is what I think is the main concern…\nIf I run this on my old 2016 intel Mac running macOS Monterey 12.6.3 (the newest it can run) I can get it to run the GUI without error (but the red button still shows up white).\nHow can I get this to run properly on my M1 Mac?!? It is nice that I can get it running on my old laptop but it doesn't help solve the issue.</p>\n</li>\n<li><p>My professor is ancient and is probably using an older version of Java, if this is the case is there’d reason an older version of java would cause this problem?\nThis is just a question, I have no way of testing this.</p>\n</li>\n<li><p>Is this something to do with my software versions?\nI updated to MacOS 13.2 Ventura and have updated home-brew, java, and eclipse. I do not think this is the issue but I am using pretty basic java software and simple code so I am not sure how many issues there could be.</p>\n</li>\n<li><p>Is it something to do with Eclipse?\nI tested this by running the application in terminal and it acted exactly the same. The correct information displays on the GUI but no red button and the same error is happening.</p>\n</li>\n</ul>\n"},{"tags":["java","android","locale"],"answers":[{"comments":[{"owner":{"account_id":10642439,"reputation":1398,"user_id":8040128,"display_name":"Zakhar Rodionov"},"score":0,"creation_date":1662044014,"post_id":65066663,"comment_id":129919803,"body_markdown":"Important note, be sure to use ActivityCompat.recreate(activity). Otherwise, on android less than 8, after recreate() the keyboard will stop working.","body":"Important note, be sure to use ActivityCompat.recreate(activity). Otherwise, on android less than 8, after recreate() the keyboard will stop working."},{"owner":{"account_id":19669644,"reputation":51,"user_id":14399143,"display_name":"digrec"},"score":0,"creation_date":1682695250,"post_id":65066663,"comment_id":134261082,"body_markdown":"If you need to resolve strings via application context on API &lt; 33, then this is your only option. Unfortunately, the new `AppCompatDelegate.setApplicationLocales(locale)` API works only with activity context: https://issuetracker.google.com/issues/243457462.","body":"If you need to resolve strings via application context on API &lt; 33, then this is your only option. Unfortunately, the new <code>AppCompatDelegate.setApplicationLocales(locale)</code> API works only with activity context: <a href=\"https://issuetracker.google.com/issues/243457462\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/243457462</a>."},{"owner":{"account_id":5182587,"reputation":8980,"user_id":4147849,"accept_rate":50,"display_name":"Muntashir Akon"},"score":1,"creation_date":1682788948,"post_id":65066663,"comment_id":134271739,"body_markdown":"@digrec: After the last update, I ended up implementing much of the functionalities of `AppCompatDelegate` myself because writing workarounds for a class that suppose to help the devs wasn&#39;t really helping. You can find it here: https://github.com/MuntashirAkon/AppManager/blob/master/app/src/main/java/io/github/muntashirakon/AppManager/utils/appearance/AppearanceUtils.java. I can add a permissible license if anybody needs it.","body":"@digrec: After the last update, I ended up implementing much of the functionalities of <code>AppCompatDelegate</code> myself because writing workarounds for a class that suppose to help the devs wasn&#39;t really helping. You can find it here: <a href=\"https://github.com/MuntashirAkon/AppManager/blob/master/app/src/main/java/io/github/muntashirakon/AppManager/utils/appearance/AppearanceUtils.java\" rel=\"nofollow noreferrer\">github.com/MuntashirAkon/AppManager/blob/master/app/src/main&zwnj;&#8203;/&hellip;</a>. I can add a permissible license if anybody needs it."}],"tags":[],"owner":{"account_id":5182587,"reputation":8980,"user_id":4147849,"accept_rate":50,"display_name":"Muntashir Akon"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676244084,"creation_date":1606695722,"answer_id":65066663,"question_id":64557129,"body_markdown":"A blog article, [how to change the language on Android at runtime and don’t go mad][1], addressed the issue (along with others) and the author created a library called [Lingver][2] to solve the issues.\r\n\r\n**EDIT (13 Feb 2023):** AndroidX Appcompat library 1.6.0 introduced an [option][3] to change locale dynamically. However, as of today, it can only apply locale for activities only. I&#39;ve rewritten the class to support the library, but be aware that you can&#39;t use the automatic handling of languages provided with the library because it requires the app to initialise first. So, why use the library? For two reasons:\r\n\r\n1. Compatibility with Android 13\r\n2. It greatly simplifies a few things as the library can access the delegate class.\r\n\r\n**EDIT (3 Jun 2022):** Lingver library has completely failed to address a few issues and appears to be inactive for some time. After a thorough investigation, I have came up with my own implementation: (You can copy the code below under the terms of either Apache-2.0 or GPL-3.0-or-later license)\r\n\r\n**LangUtils.java**\r\n```java\r\npublic final class LangUtils {\r\n    public static final String LANG_AUTO = &quot;auto&quot;;\r\n    public static final String LANG_DEFAULT = &quot;en&quot;;\r\n\r\n    private static ArrayMap&lt;String, Locale&gt; sLocaleMap;\r\n\r\n    public static void setAppLanguages(@NonNull Context context) {\r\n        if (sLocaleMap == null) sLocaleMap = new ArrayMap&lt;&gt;();\r\n        Resources res = context.getResources();\r\n        Configuration conf = res.getConfiguration();\r\n        // Assume that there is an array called language_key which contains all the supported language tags\r\n        String[] locales = context.getResources().getStringArray(R.array.languages_key);\r\n        Locale appDefaultLocale = Locale.forLanguageTag(LANG_DEFAULT);\r\n\r\n        for (String locale : locales) {\r\n            conf.setLocale(Locale.forLanguageTag(locale));\r\n            Context ctx = context.createConfigurationContext(conf);\r\n            String langTag = ctx.getString(R.string._lang_tag);\r\n\r\n            if (LANG_AUTO.equals(locale)) {\r\n                sLocaleMap.put(LANG_AUTO, null);\r\n            } else if (LANG_DEFAULT.equals(langTag)) {\r\n                sLocaleMap.put(LANG_DEFAULT, appDefaultLocale);\r\n            } else sLocaleMap.put(locale, ConfigurationCompat.getLocales(conf).get(0));\r\n        }\r\n    }\r\n\r\n    @NonNull\r\n    public static ArrayMap&lt;String, Locale&gt; getAppLanguages(@NonNull Context context) {\r\n        if (sLocaleMap == null) setAppLanguages(context);\r\n        return sLocaleMap;\r\n    }\r\n\r\n    @NonNull\r\n    public static Locale getFromPreference(@NonNull Context context) {\r\n        if (BuildCompat.isAtLeastT()) {\r\n            Locale locale = AppCompatDelegate.getApplicationLocales().getFirstMatch(getAppLanguages(context).keySet()\r\n                    .toArray(new String[0]));\r\n            if (locale != null) {\r\n                return locale;\r\n            }\r\n        }\r\n        // Fall-back to shared preferences\r\n        String language = // TODO: Fetch current language from the shared preferences\r\n        Locale locale = getAppLanguages(context).get(language);\r\n        if (locale != null) {\r\n            return locale;\r\n        }\r\n        // Load from system configuration\r\n        Configuration conf = Resources.getSystem().getConfiguration();\r\n        //noinspection deprecation\r\n        return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N ? conf.getLocales().get(0) : conf.locale;\r\n    }\r\n\r\n    private static Locale applyLocale(Context context) {\r\n        return applyLocale(context, LangUtils.getFromPreference(context));\r\n    }\r\n\r\n    public static Locale applyLocale(@NonNull Context context, @NonNull Locale locale) {\r\n        AppCompatDelegate.setApplicationLocales(LocaleListCompat.create(locale));\r\n        updateResources(context.getApplicationContext(), locale);\r\n        return locale;\r\n    }\r\n\r\n    private static void updateResources(@NonNull Context context, @NonNull Locale locale) {\r\n        Locale.setDefault(locale);\r\n\r\n        Resources res = context.getResources();\r\n        Configuration conf = res.getConfiguration();\r\n        //noinspection deprecation\r\n        Locale current = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N ? conf.getLocales().get(0) : conf.locale;\r\n\r\n        if (current == locale) {\r\n            return;\r\n        }\r\n\r\n        conf = new Configuration(conf);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            setLocaleApi24(conf, locale);\r\n        } else {\r\n            conf.setLocale(locale);\r\n        }\r\n        //noinspection deprecation\r\n        res.updateConfiguration(conf, res.getDisplayMetrics());\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.N)\r\n    private static void setLocaleApi24(@NonNull Configuration config, @NonNull Locale locale) {\r\n        LocaleList defaultLocales = LocaleList.getDefault();\r\n        LinkedHashSet&lt;Locale&gt; locales = new LinkedHashSet&lt;&gt;(defaultLocales.size() + 1);\r\n        // Bring the target locale to the front of the list\r\n        // There&#39;s a hidden API, but it&#39;s not currently used here.\r\n        locales.add(locale);\r\n        for (int i = 0; i &lt; defaultLocales.size(); ++i) {\r\n            locales.add(defaultLocales.get(i));\r\n        }\r\n        config.setLocales(new LocaleList(locales.toArray(new Locale[0])));\r\n    }\r\n}\r\n```\r\n\r\n**MyApplication.java**\r\n```java\r\npublic class MyApplication extends Application {\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        LangUtils.applyLocale(this);\r\n    }\r\n}\r\n```\r\n\r\nIn your preference where you are changing the language, you can simply apply the locale like this:\r\n```\r\nLangUtils.applyLocale(context, newLocale);\r\n```\r\n\r\n**Activites that use Android WebView**\r\nAfter loading the webview via `Activity.findViewById()` you can add the following line immediately:\r\n```java\r\n// Fix locale issue due to WebView (https://issuetracker.google.com/issues/37113860)\r\nLangUtils.applyLocale(context);\r\n```\r\n\r\n[1]: https://proandroiddev.com/change-language-programmatically-at-runtime-on-android-5e6bc15c758\r\n[2]: https://github.com/YarikSOffice/lingver\r\n[3]: https://developer.android.com/reference/androidx/appcompat/app/AppCompatDelegate#setApplicationLocales(androidx.core.os.LocaleListCompat)","title":"Android - Change application locale programmatically","body":"<p>A blog article, <a href=\"https://proandroiddev.com/change-language-programmatically-at-runtime-on-android-5e6bc15c758\" rel=\"nofollow noreferrer\">how to change the language on Android at runtime and don’t go mad</a>, addressed the issue (along with others) and the author created a library called <a href=\"https://github.com/YarikSOffice/lingver\" rel=\"nofollow noreferrer\">Lingver</a> to solve the issues.</p>\n<p><strong>EDIT (13 Feb 2023):</strong> AndroidX Appcompat library 1.6.0 introduced an <a href=\"https://developer.android.com/reference/androidx/appcompat/app/AppCompatDelegate#setApplicationLocales(androidx.core.os.LocaleListCompat)\" rel=\"nofollow noreferrer\">option</a> to change locale dynamically. However, as of today, it can only apply locale for activities only. I've rewritten the class to support the library, but be aware that you can't use the automatic handling of languages provided with the library because it requires the app to initialise first. So, why use the library? For two reasons:</p>\n<ol>\n<li>Compatibility with Android 13</li>\n<li>It greatly simplifies a few things as the library can access the delegate class.</li>\n</ol>\n<p><strong>EDIT (3 Jun 2022):</strong> Lingver library has completely failed to address a few issues and appears to be inactive for some time. After a thorough investigation, I have came up with my own implementation: (You can copy the code below under the terms of either Apache-2.0 or GPL-3.0-or-later license)</p>\n<p><strong>LangUtils.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class LangUtils {\n    public static final String LANG_AUTO = &quot;auto&quot;;\n    public static final String LANG_DEFAULT = &quot;en&quot;;\n\n    private static ArrayMap&lt;String, Locale&gt; sLocaleMap;\n\n    public static void setAppLanguages(@NonNull Context context) {\n        if (sLocaleMap == null) sLocaleMap = new ArrayMap&lt;&gt;();\n        Resources res = context.getResources();\n        Configuration conf = res.getConfiguration();\n        // Assume that there is an array called language_key which contains all the supported language tags\n        String[] locales = context.getResources().getStringArray(R.array.languages_key);\n        Locale appDefaultLocale = Locale.forLanguageTag(LANG_DEFAULT);\n\n        for (String locale : locales) {\n            conf.setLocale(Locale.forLanguageTag(locale));\n            Context ctx = context.createConfigurationContext(conf);\n            String langTag = ctx.getString(R.string._lang_tag);\n\n            if (LANG_AUTO.equals(locale)) {\n                sLocaleMap.put(LANG_AUTO, null);\n            } else if (LANG_DEFAULT.equals(langTag)) {\n                sLocaleMap.put(LANG_DEFAULT, appDefaultLocale);\n            } else sLocaleMap.put(locale, ConfigurationCompat.getLocales(conf).get(0));\n        }\n    }\n\n    @NonNull\n    public static ArrayMap&lt;String, Locale&gt; getAppLanguages(@NonNull Context context) {\n        if (sLocaleMap == null) setAppLanguages(context);\n        return sLocaleMap;\n    }\n\n    @NonNull\n    public static Locale getFromPreference(@NonNull Context context) {\n        if (BuildCompat.isAtLeastT()) {\n            Locale locale = AppCompatDelegate.getApplicationLocales().getFirstMatch(getAppLanguages(context).keySet()\n                    .toArray(new String[0]));\n            if (locale != null) {\n                return locale;\n            }\n        }\n        // Fall-back to shared preferences\n        String language = // TODO: Fetch current language from the shared preferences\n        Locale locale = getAppLanguages(context).get(language);\n        if (locale != null) {\n            return locale;\n        }\n        // Load from system configuration\n        Configuration conf = Resources.getSystem().getConfiguration();\n        //noinspection deprecation\n        return Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N ? conf.getLocales().get(0) : conf.locale;\n    }\n\n    private static Locale applyLocale(Context context) {\n        return applyLocale(context, LangUtils.getFromPreference(context));\n    }\n\n    public static Locale applyLocale(@NonNull Context context, @NonNull Locale locale) {\n        AppCompatDelegate.setApplicationLocales(LocaleListCompat.create(locale));\n        updateResources(context.getApplicationContext(), locale);\n        return locale;\n    }\n\n    private static void updateResources(@NonNull Context context, @NonNull Locale locale) {\n        Locale.setDefault(locale);\n\n        Resources res = context.getResources();\n        Configuration conf = res.getConfiguration();\n        //noinspection deprecation\n        Locale current = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N ? conf.getLocales().get(0) : conf.locale;\n\n        if (current == locale) {\n            return;\n        }\n\n        conf = new Configuration(conf);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            setLocaleApi24(conf, locale);\n        } else {\n            conf.setLocale(locale);\n        }\n        //noinspection deprecation\n        res.updateConfiguration(conf, res.getDisplayMetrics());\n    }\n\n    @RequiresApi(Build.VERSION_CODES.N)\n    private static void setLocaleApi24(@NonNull Configuration config, @NonNull Locale locale) {\n        LocaleList defaultLocales = LocaleList.getDefault();\n        LinkedHashSet&lt;Locale&gt; locales = new LinkedHashSet&lt;&gt;(defaultLocales.size() + 1);\n        // Bring the target locale to the front of the list\n        // There's a hidden API, but it's not currently used here.\n        locales.add(locale);\n        for (int i = 0; i &lt; defaultLocales.size(); ++i) {\n            locales.add(defaultLocales.get(i));\n        }\n        config.setLocales(new LocaleList(locales.toArray(new Locale[0])));\n    }\n}\n</code></pre>\n<p><strong>MyApplication.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApplication extends Application {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        LangUtils.applyLocale(this);\n    }\n}\n</code></pre>\n<p>In your preference where you are changing the language, you can simply apply the locale like this:</p>\n<pre><code>LangUtils.applyLocale(context, newLocale);\n</code></pre>\n<p><strong>Activites that use Android WebView</strong>\nAfter loading the webview via <code>Activity.findViewById()</code> you can add the following line immediately:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Fix locale issue due to WebView (https://issuetracker.google.com/issues/37113860)\nLangUtils.applyLocale(context);\n</code></pre>\n"}],"owner":{"account_id":5182587,"reputation":8980,"user_id":4147849,"accept_rate":50,"display_name":"Muntashir Akon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7232,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":65066663,"answer_count":1,"score":6,"last_activity_date":1676244084,"creation_date":1603810751,"question_id":64557129,"body_markdown":"Changing locale inside an Android app was never been easy. With `androidx.appcompat:appcompat:1.3.0-alpha02`, it seems that changing locale in an application has become much more difficult than I imagined. It appears that activity context and application context behaves very differently. If I change the locale of activities using a common `BaseActivity` (like below), it will work for the corresponding activity.\r\n\r\n**BaseActivity.java**\r\n```java\r\npublic class BaseActivity extends AppCompatActivity {\r\n    private Locale currentLocale;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        currentLocale = LangUtils.updateLanguage(this);\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context newBase) {\r\n        super.attachBaseContext(LangUtils.attachBaseContext(newBase));\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (currentLocale != LangUtils.getLocaleByLanguage(this)) recreate();\r\n    }\r\n}\r\n```\r\n\r\nBut I need to change the locale of application context as well as this is only limited to activities. To do that, I can easily override `Application#attachBaseContext()` to update locale just as above.\r\n\r\n**MyApplication.java**\r\n```java\r\npublic class MyApplication extends Application {\r\n    private static MyApplication instance;\r\n\r\n    @NonNull\r\n    public static MyApplication getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    @NonNull\r\n    public static Context getContext() {\r\n        return instance.getBaseContext();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        instance = this;\r\n        super.onCreate();\r\n    }\r\n\r\n    @Override\r\n    protected void attachBaseContext(Context base) {\r\n        super.attachBaseContext(LangUtils.attachBaseContext(base));\r\n    }\r\n}\r\n```\r\n\r\nWhile this successfully changes the locale of the application context, the activity context no longer respects the custom locale (regardless of whether I extend each activity from `BaseActivity` or not). Weird.\r\n\r\n**LangUtils.java**\r\n```java\r\npublic final class LangUtils {\r\n    public static final String LANG_AUTO = &quot;auto&quot;;\r\n\r\n    private static Map&lt;String, Locale&gt; sLocaleMap;\r\n    private static Locale sDefaultLocale;\r\n\r\n    static {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            sDefaultLocale = LocaleList.getDefault().get(0);\r\n        } else sDefaultLocale = Locale.getDefault();\r\n    }\r\n\r\n    public static Locale updateLanguage(@NonNull Context context) {\r\n        Resources resources = context.getResources();\r\n        Configuration config = resources.getConfiguration();\r\n        Locale currentLocale = getLocaleByLanguage(context);\r\n        config.setLocale(currentLocale);\r\n        DisplayMetrics dm = resources.getDisplayMetrics();\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.N){\r\n            context.getApplicationContext().createConfigurationContext(config);\r\n        } else {\r\n            resources.updateConfiguration(config, dm);\r\n        }\r\n        return currentLocale;\r\n    }\r\n\r\n    public static Locale getLocaleByLanguage(Context context) {\r\n        // Get language from shared preferences\r\n        String language = AppPref.getNewInstance(context).getString(AppPref.PrefKey.PREF_CUSTOM_LOCALE_STR);\r\n        if (sLocaleMap == null) {\r\n            String[] languages = context.getResources().getStringArray(R.array.languages_key);\r\n            sLocaleMap = new HashMap&lt;&gt;(languages.length);\r\n            for (String lang : languages) {\r\n                if (LANG_AUTO.equals(lang)) {\r\n                    sLocaleMap.put(LANG_AUTO, sDefaultLocale);\r\n                } else {\r\n                    String[] langComponents = lang.split(&quot;-&quot;, 2);\r\n                    if (langComponents.length == 1) {\r\n                        sLocaleMap.put(lang, new Locale(langComponents[0]));\r\n                    } else if (langComponents.length == 2) {\r\n                        sLocaleMap.put(lang, new Locale(langComponents[0], langComponents[1]));\r\n                    } else {\r\n                        Log.d(&quot;LangUtils&quot;, &quot;Invalid language: &quot; + lang);\r\n                        sLocaleMap.put(LANG_AUTO, sDefaultLocale);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Locale locale = sLocaleMap.get(language);\r\n        return locale != null ? locale : sDefaultLocale;\r\n    }\r\n\r\n    public static Context attachBaseContext(Context context) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            return updateResources(context);\r\n        } else {\r\n            return context;\r\n        }\r\n    }\r\n\r\n    @TargetApi(Build.VERSION_CODES.N)\r\n    private static Context updateResources(@NonNull Context context) {\r\n        Resources resources = context.getResources();\r\n        Locale locale = getLocaleByLanguage(context);\r\n        Configuration configuration = resources.getConfiguration();\r\n        configuration.setLocale(locale);\r\n        configuration.setLocales(new LocaleList(locale));\r\n        return context.createConfigurationContext(configuration);\r\n    }\r\n}\r\n```\r\n\r\nTherefore, my conclusions are:\r\n1. If locale is set in the application context, regardless of whether you set activity context or not, locale will be set to application context only and not to activity (or any other) context.\r\n2. If locale isn&#39;t set in the application context but set in the activity context, the locale will be set to the activity context.\r\n\r\nThe workarounds that I can think of are:\r\n1. Set locale in the activity context and use them everywhere. But notifications, etc. will not work if there isn&#39;t any opened activity.\r\n2. Set locale in the application context and use it everywhere. But it means that you cannot take advantage of `Context#getResources()` for an activity.\r\n\r\n**EDIT(30 Oct 2020):** Some people have suggested using a `ContextWrapper`. I&#39;ve tried using one (like below) but still the same issue. As soon as I wrap the application context using the context wrapper, locale stops working for activities and fragments. Nothing changes.\r\n\r\n```java\r\n\r\npublic class MyContextWrapper extends ContextWrapper {\r\n    public MyContextWrapper(Context base) {\r\n        super(base);\r\n    }\r\n\r\n    @NonNull\r\n    public static ContextWrapper wrap(@NonNull Context context) {\r\n        Resources res = context.getResources();\r\n        Configuration configuration = res.getConfiguration();\r\n        Locale locale = LangUtils.getLocaleByLanguage(context);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n            configuration.setLocale(locale);\r\n            LocaleList localeList = new LocaleList(locale);\r\n            LocaleList.setDefault(localeList);\r\n            configuration.setLocales(localeList);\r\n        } else {\r\n            configuration.setLocale(locale);\r\n            DisplayMetrics dm = res.getDisplayMetrics();\r\n            res.updateConfiguration(configuration, dm);\r\n        }\r\n        configuration.setLayoutDirection(locale);\r\n        context = context.createConfigurationContext(configuration);\r\n        return new MyContextWrapper(context);\r\n    }\r\n}\r\n```","title":"Android - Change application locale programmatically","body":"<p>Changing locale inside an Android app was never been easy. With <code>androidx.appcompat:appcompat:1.3.0-alpha02</code>, it seems that changing locale in an application has become much more difficult than I imagined. It appears that activity context and application context behaves very differently. If I change the locale of activities using a common <code>BaseActivity</code> (like below), it will work for the corresponding activity.</p>\n<p><strong>BaseActivity.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseActivity extends AppCompatActivity {\n    private Locale currentLocale;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        currentLocale = LangUtils.updateLanguage(this);\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    protected void attachBaseContext(Context newBase) {\n        super.attachBaseContext(LangUtils.attachBaseContext(newBase));\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (currentLocale != LangUtils.getLocaleByLanguage(this)) recreate();\n    }\n}\n</code></pre>\n<p>But I need to change the locale of application context as well as this is only limited to activities. To do that, I can easily override <code>Application#attachBaseContext()</code> to update locale just as above.</p>\n<p><strong>MyApplication.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApplication extends Application {\n    private static MyApplication instance;\n\n    @NonNull\n    public static MyApplication getInstance() {\n        return instance;\n    }\n\n    @NonNull\n    public static Context getContext() {\n        return instance.getBaseContext();\n    }\n\n    @Override\n    public void onCreate() {\n        instance = this;\n        super.onCreate();\n    }\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(LangUtils.attachBaseContext(base));\n    }\n}\n</code></pre>\n<p>While this successfully changes the locale of the application context, the activity context no longer respects the custom locale (regardless of whether I extend each activity from <code>BaseActivity</code> or not). Weird.</p>\n<p><strong>LangUtils.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class LangUtils {\n    public static final String LANG_AUTO = &quot;auto&quot;;\n\n    private static Map&lt;String, Locale&gt; sLocaleMap;\n    private static Locale sDefaultLocale;\n\n    static {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            sDefaultLocale = LocaleList.getDefault().get(0);\n        } else sDefaultLocale = Locale.getDefault();\n    }\n\n    public static Locale updateLanguage(@NonNull Context context) {\n        Resources resources = context.getResources();\n        Configuration config = resources.getConfiguration();\n        Locale currentLocale = getLocaleByLanguage(context);\n        config.setLocale(currentLocale);\n        DisplayMetrics dm = resources.getDisplayMetrics();\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.N){\n            context.getApplicationContext().createConfigurationContext(config);\n        } else {\n            resources.updateConfiguration(config, dm);\n        }\n        return currentLocale;\n    }\n\n    public static Locale getLocaleByLanguage(Context context) {\n        // Get language from shared preferences\n        String language = AppPref.getNewInstance(context).getString(AppPref.PrefKey.PREF_CUSTOM_LOCALE_STR);\n        if (sLocaleMap == null) {\n            String[] languages = context.getResources().getStringArray(R.array.languages_key);\n            sLocaleMap = new HashMap&lt;&gt;(languages.length);\n            for (String lang : languages) {\n                if (LANG_AUTO.equals(lang)) {\n                    sLocaleMap.put(LANG_AUTO, sDefaultLocale);\n                } else {\n                    String[] langComponents = lang.split(&quot;-&quot;, 2);\n                    if (langComponents.length == 1) {\n                        sLocaleMap.put(lang, new Locale(langComponents[0]));\n                    } else if (langComponents.length == 2) {\n                        sLocaleMap.put(lang, new Locale(langComponents[0], langComponents[1]));\n                    } else {\n                        Log.d(&quot;LangUtils&quot;, &quot;Invalid language: &quot; + lang);\n                        sLocaleMap.put(LANG_AUTO, sDefaultLocale);\n                    }\n                }\n            }\n        }\n        Locale locale = sLocaleMap.get(language);\n        return locale != null ? locale : sDefaultLocale;\n    }\n\n    public static Context attachBaseContext(Context context) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            return updateResources(context);\n        } else {\n            return context;\n        }\n    }\n\n    @TargetApi(Build.VERSION_CODES.N)\n    private static Context updateResources(@NonNull Context context) {\n        Resources resources = context.getResources();\n        Locale locale = getLocaleByLanguage(context);\n        Configuration configuration = resources.getConfiguration();\n        configuration.setLocale(locale);\n        configuration.setLocales(new LocaleList(locale));\n        return context.createConfigurationContext(configuration);\n    }\n}\n</code></pre>\n<p>Therefore, my conclusions are:</p>\n<ol>\n<li>If locale is set in the application context, regardless of whether you set activity context or not, locale will be set to application context only and not to activity (or any other) context.</li>\n<li>If locale isn't set in the application context but set in the activity context, the locale will be set to the activity context.</li>\n</ol>\n<p>The workarounds that I can think of are:</p>\n<ol>\n<li>Set locale in the activity context and use them everywhere. But notifications, etc. will not work if there isn't any opened activity.</li>\n<li>Set locale in the application context and use it everywhere. But it means that you cannot take advantage of <code>Context#getResources()</code> for an activity.</li>\n</ol>\n<p><strong>EDIT(30 Oct 2020):</strong> Some people have suggested using a <code>ContextWrapper</code>. I've tried using one (like below) but still the same issue. As soon as I wrap the application context using the context wrapper, locale stops working for activities and fragments. Nothing changes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MyContextWrapper extends ContextWrapper {\n    public MyContextWrapper(Context base) {\n        super(base);\n    }\n\n    @NonNull\n    public static ContextWrapper wrap(@NonNull Context context) {\n        Resources res = context.getResources();\n        Configuration configuration = res.getConfiguration();\n        Locale locale = LangUtils.getLocaleByLanguage(context);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            configuration.setLocale(locale);\n            LocaleList localeList = new LocaleList(locale);\n            LocaleList.setDefault(localeList);\n            configuration.setLocales(localeList);\n        } else {\n            configuration.setLocale(locale);\n            DisplayMetrics dm = res.getDisplayMetrics();\n            res.updateConfiguration(configuration, dm);\n        }\n        configuration.setLayoutDirection(locale);\n        context = context.createConfigurationContext(configuration);\n        return new MyContextWrapper(context);\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jackson","xml-parsing","nested-lists"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676232110,"post_id":75429642,"comment_id":133091604,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676239859,"creation_date":1676239456,"answer_id":75430488,"question_id":75429642,"body_markdown":"Use Powershell.  Below will input xml in to table.  Than you can use Group-Object or Sort-Object.  The NotePropertyName is a hash.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n    using assembly System.Xml.Linq\r\n\r\n    $Filename = &quot;c:\\temp\\test.xml&quot;\r\n\r\n    $albums = [System.Collections.ArrayList]::new()  \r\n\r\n    $xDoc = [System.Xml.Linq.XDocument]::Load($Filename)\r\n    foreach($cd in $xDoc.Descendants(&quot;CD&quot;))\r\n    {\r\n       $newAlbum = New-Object -TypeName psobject\r\n       \r\n       $title = $cd.Element(&quot;TITLE&quot;).Value\r\n       $newAlbum | Add-Member -NotePropertyName Title -NotePropertyValue $title\r\n\r\n       $artist = $cd.Element(&quot;ARTIST&quot;).Value\r\n       $newAlbum | Add-Member -NotePropertyName Artist -NotePropertyValue $artist   \r\n       \r\n       $country = $cd.Element(&quot;COUNTRY&quot;).Value\r\n       $newAlbum | Add-Member -NotePropertyName Country -NotePropertyValue $country   \r\n       \r\n       $company = $cd.Element(&quot;COMPANY&quot;).Value\r\n       $newAlbum | Add-Member -NotePropertyName Company -NotePropertyValue $company   \r\n       \r\n       $price = [decimal]$cd.Element(&quot;PRICE&quot;).Value\r\n       $newAlbum | Add-Member -NotePropertyName Price -NotePropertyValue $price\r\n         \r\n       $year = [int]$cd.Element(&quot;YEAR&quot;).Value\r\n       $newAlbum | Add-Member -NotePropertyName Year -NotePropertyValue $year\r\n\r\n\r\n       $albums.Add($newAlbum) | Out-Null\r\n    }\r\n    Write-Host &quot;All Albums&quot;\r\n    $albums | Format-Table\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Get object from field list of xml","body":"<p>Use Powershell.  Below will input xml in to table.  Than you can use Group-Object or Sort-Object.  The NotePropertyName is a hash.</p>\n<pre><code>using assembly System.Xml.Linq\n\n$Filename = &quot;c:\\temp\\test.xml&quot;\n\n$albums = [System.Collections.ArrayList]::new()  \n\n$xDoc = [System.Xml.Linq.XDocument]::Load($Filename)\nforeach($cd in $xDoc.Descendants(&quot;CD&quot;))\n{\n   $newAlbum = New-Object -TypeName psobject\n   \n   $title = $cd.Element(&quot;TITLE&quot;).Value\n   $newAlbum | Add-Member -NotePropertyName Title -NotePropertyValue $title\n\n   $artist = $cd.Element(&quot;ARTIST&quot;).Value\n   $newAlbum | Add-Member -NotePropertyName Artist -NotePropertyValue $artist   \n   \n   $country = $cd.Element(&quot;COUNTRY&quot;).Value\n   $newAlbum | Add-Member -NotePropertyName Country -NotePropertyValue $country   \n   \n   $company = $cd.Element(&quot;COMPANY&quot;).Value\n   $newAlbum | Add-Member -NotePropertyName Company -NotePropertyValue $company   \n   \n   $price = [decimal]$cd.Element(&quot;PRICE&quot;).Value\n   $newAlbum | Add-Member -NotePropertyName Price -NotePropertyValue $price\n     \n   $year = [int]$cd.Element(&quot;YEAR&quot;).Value\n   $newAlbum | Add-Member -NotePropertyName Year -NotePropertyValue $year\n\n\n   $albums.Add($newAlbum) | Out-Null\n}\nWrite-Host &quot;All Albums&quot;\n$albums | Format-Table\n</code></pre>\n"}],"owner":{"account_id":26313726,"reputation":1,"user_id":19976848,"display_name":"Nikita Zakharov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676239859,"creation_date":1676230286,"question_id":75429642,"body_markdown":"Please suggest the best solution.\r\nThere is the following xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;CATALOG&gt;\r\n    &lt;CD&gt;\r\n        &lt;TITLE&gt;Empire Burlesque&lt;/TITLE&gt;\r\n        &lt;ARTIST&gt;Bob Dylan&lt;/ARTIST&gt;\r\n        &lt;COUNTRY&gt;USA&lt;/COUNTRY&gt;\r\n        &lt;COMPANY&gt;Columbia&lt;/COMPANY&gt;\r\n        &lt;PRICE&gt;10.90&lt;/PRICE&gt;\r\n        &lt;YEAR&gt;1985&lt;/YEAR&gt;\r\n    &lt;/CD&gt;\r\n    &lt;CD&gt;\r\n        &lt;TITLE&gt;Hide your heart&lt;/TITLE&gt;\r\n        &lt;ARTIST&gt;Bonnie Tyler&lt;/ARTIST&gt;\r\n        &lt;COUNTRY&gt;UK&lt;/COUNTRY&gt;\r\n        &lt;COMPANY&gt;CBS Records&lt;/COMPANY&gt;\r\n        &lt;PRICE&gt;9.90&lt;/PRICE&gt;\r\n        &lt;YEAR&gt;1988&lt;/YEAR&gt;\r\n    &lt;/CD&gt;\r\n    &lt;CD&gt;\r\n        &lt;TITLE&gt;Greatest Hits&lt;/TITLE&gt;\r\n        &lt;ARTIST&gt;Dolly Parton&lt;/ARTIST&gt;\r\n        &lt;COUNTRY&gt;USA&lt;/COUNTRY&gt;\r\n        &lt;COMPANY&gt;RCA&lt;/COMPANY&gt;\r\n        &lt;PRICE&gt;9.90&lt;/PRICE&gt;\r\n        &lt;YEAR&gt;1982&lt;/YEAR&gt;\r\n    &lt;/CD&gt;\r\n    &lt;CD&gt;\r\n        &lt;TITLE&gt;Still got the blues&lt;/TITLE&gt;\r\n        &lt;ARTIST&gt;Gary Moore&lt;/ARTIST&gt;\r\n        &lt;COUNTRY&gt;UK&lt;/COUNTRY&gt;\r\n        &lt;COMPANY&gt;Virgin records&lt;/COMPANY&gt;\r\n        &lt;PRICE&gt;10.20&lt;/PRICE&gt;\r\n        &lt;YEAR&gt;1990&lt;/YEAR&gt;\r\n    &lt;/CD&gt;\r\n    &lt;CD&gt;\r\n        &lt;TITLE&gt;Eros&lt;/TITLE&gt;\r\n        &lt;ARTIST&gt;Eros Ramazzotti&lt;/ARTIST&gt;\r\n        &lt;COUNTRY&gt;EU&lt;/COUNTRY&gt;\r\n        &lt;COMPANY&gt;BMG&lt;/COMPANY&gt;\r\n        &lt;PRICE&gt;9.90&lt;/PRICE&gt;\r\n        &lt;YEAR&gt;1997&lt;/YEAR&gt;\r\n    &lt;/CD&gt;\r\n    &lt;CD&gt;\r\n        &lt;TITLE&gt;One night only&lt;/TITLE&gt;\r\n        &lt;ARTIST&gt;Bee Gees&lt;/ARTIST&gt;\r\n        &lt;COUNTRY&gt;UK&lt;/COUNTRY&gt;\r\n        &lt;COMPANY&gt;Polydor&lt;/COMPANY&gt;\r\n        &lt;PRICE&gt;10.90&lt;/PRICE&gt;\r\n        &lt;YEAR&gt;1998&lt;/YEAR&gt;\r\n    &lt;/CD&gt;\r\n&lt;/CATALOG&gt;\r\n```\r\n\r\nalso have 5 classes: Catalog, Cd, Album, Artist, Country, Registry\r\n\r\nHow can i get object of Registry with filled fields:\r\n\r\n```\r\npublic class Registry {\r\n\r\n    private List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\r\n}\r\n\r\npublic class Country {\r\n    private String name; // &lt;COUNTRY&gt;...&lt;/COUNTRY&gt;\r\n    private List&lt;Artist&gt; artists = new ArrayList&lt;&gt;();\r\n}\r\n\r\npublic class Artist {\r\n    private String name; // &lt;ARTIST&gt;...&lt;/ARTIST&gt;\r\n    private List&lt;Album&gt; albums = new ArrayList&lt;&gt;();\r\n}\r\n\r\npublic class Album {\r\n    private String name; // &lt;TITLE&gt;...&lt;/TITLE&gt;\r\n    private int year; // &lt;YEAR&gt;...&lt;/YEAR&gt;\r\n}\r\n```\r\n\r\nAnd\r\n\r\n- public class Catalog {\r\n-     @JacksonXmlProperty(localName = &quot;CD&quot;)\r\n-     @JacksonXmlElementWrapper(useWrapping = false)\r\n- private List&lt;Cd&gt; cds;\r\n- \r\n- public List&lt;Cd&gt; getCds() {\r\n- return cds;\r\n-     }\r\n- }\r\n- \r\n- public class Cd {\r\n-     @JsonProperty(&quot;TITLE&quot;) // Album name\r\n- private String title;\r\n- \r\n-     @JsonProperty(&quot;ARTIST&quot;) // Artist name\r\n- private String artist;\r\n- \r\n-     @JsonProperty(&quot;COUNTRY&quot;) // Country name\r\n- private String country;\r\n- \r\n-     @JsonProperty(&quot;COMPANY&quot;)\r\n- private String company;\r\n- \r\n-     @JsonProperty(&quot;PRICE&quot;)\r\n- private double price;\r\n- \r\n-     @JsonProperty(&quot;YEAR&quot;)  // Album year\r\n- private int year;\r\n- }\r\n\r\n\r\n","title":"Get object from field list of xml","body":"<p>Please suggest the best solution.\nThere is the following xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;CATALOG&gt;\n    &lt;CD&gt;\n        &lt;TITLE&gt;Empire Burlesque&lt;/TITLE&gt;\n        &lt;ARTIST&gt;Bob Dylan&lt;/ARTIST&gt;\n        &lt;COUNTRY&gt;USA&lt;/COUNTRY&gt;\n        &lt;COMPANY&gt;Columbia&lt;/COMPANY&gt;\n        &lt;PRICE&gt;10.90&lt;/PRICE&gt;\n        &lt;YEAR&gt;1985&lt;/YEAR&gt;\n    &lt;/CD&gt;\n    &lt;CD&gt;\n        &lt;TITLE&gt;Hide your heart&lt;/TITLE&gt;\n        &lt;ARTIST&gt;Bonnie Tyler&lt;/ARTIST&gt;\n        &lt;COUNTRY&gt;UK&lt;/COUNTRY&gt;\n        &lt;COMPANY&gt;CBS Records&lt;/COMPANY&gt;\n        &lt;PRICE&gt;9.90&lt;/PRICE&gt;\n        &lt;YEAR&gt;1988&lt;/YEAR&gt;\n    &lt;/CD&gt;\n    &lt;CD&gt;\n        &lt;TITLE&gt;Greatest Hits&lt;/TITLE&gt;\n        &lt;ARTIST&gt;Dolly Parton&lt;/ARTIST&gt;\n        &lt;COUNTRY&gt;USA&lt;/COUNTRY&gt;\n        &lt;COMPANY&gt;RCA&lt;/COMPANY&gt;\n        &lt;PRICE&gt;9.90&lt;/PRICE&gt;\n        &lt;YEAR&gt;1982&lt;/YEAR&gt;\n    &lt;/CD&gt;\n    &lt;CD&gt;\n        &lt;TITLE&gt;Still got the blues&lt;/TITLE&gt;\n        &lt;ARTIST&gt;Gary Moore&lt;/ARTIST&gt;\n        &lt;COUNTRY&gt;UK&lt;/COUNTRY&gt;\n        &lt;COMPANY&gt;Virgin records&lt;/COMPANY&gt;\n        &lt;PRICE&gt;10.20&lt;/PRICE&gt;\n        &lt;YEAR&gt;1990&lt;/YEAR&gt;\n    &lt;/CD&gt;\n    &lt;CD&gt;\n        &lt;TITLE&gt;Eros&lt;/TITLE&gt;\n        &lt;ARTIST&gt;Eros Ramazzotti&lt;/ARTIST&gt;\n        &lt;COUNTRY&gt;EU&lt;/COUNTRY&gt;\n        &lt;COMPANY&gt;BMG&lt;/COMPANY&gt;\n        &lt;PRICE&gt;9.90&lt;/PRICE&gt;\n        &lt;YEAR&gt;1997&lt;/YEAR&gt;\n    &lt;/CD&gt;\n    &lt;CD&gt;\n        &lt;TITLE&gt;One night only&lt;/TITLE&gt;\n        &lt;ARTIST&gt;Bee Gees&lt;/ARTIST&gt;\n        &lt;COUNTRY&gt;UK&lt;/COUNTRY&gt;\n        &lt;COMPANY&gt;Polydor&lt;/COMPANY&gt;\n        &lt;PRICE&gt;10.90&lt;/PRICE&gt;\n        &lt;YEAR&gt;1998&lt;/YEAR&gt;\n    &lt;/CD&gt;\n&lt;/CATALOG&gt;\n</code></pre>\n<p>also have 5 classes: Catalog, Cd, Album, Artist, Country, Registry</p>\n<p>How can i get object of Registry with filled fields:</p>\n<pre><code>public class Registry {\n\n    private List&lt;Country&gt; countries = new ArrayList&lt;&gt;();\n}\n\npublic class Country {\n    private String name; // &lt;COUNTRY&gt;...&lt;/COUNTRY&gt;\n    private List&lt;Artist&gt; artists = new ArrayList&lt;&gt;();\n}\n\npublic class Artist {\n    private String name; // &lt;ARTIST&gt;...&lt;/ARTIST&gt;\n    private List&lt;Album&gt; albums = new ArrayList&lt;&gt;();\n}\n\npublic class Album {\n    private String name; // &lt;TITLE&gt;...&lt;/TITLE&gt;\n    private int year; // &lt;YEAR&gt;...&lt;/YEAR&gt;\n}\n</code></pre>\n<p>And</p>\n<ul>\n<li>public class Catalog {</li>\n<li>\n<pre><code>@JacksonXmlProperty(localName = &quot;CD&quot;)\n</code></pre>\n</li>\n<li>\n<pre><code>@JacksonXmlElementWrapper(useWrapping = false)\n</code></pre>\n</li>\n<li>private List cds;</li>\n<li></li>\n<li>public List getCds() {</li>\n<li>return cds;</li>\n<li>\n<pre><code>}\n</code></pre>\n</li>\n<li>}</li>\n<li></li>\n<li>public class Cd {</li>\n<li>\n<pre><code>@JsonProperty(&quot;TITLE&quot;) // Album name\n</code></pre>\n</li>\n<li>private String title;</li>\n<li></li>\n<li>\n<pre><code>@JsonProperty(&quot;ARTIST&quot;) // Artist name\n</code></pre>\n</li>\n<li>private String artist;</li>\n<li></li>\n<li>\n<pre><code>@JsonProperty(&quot;COUNTRY&quot;) // Country name\n</code></pre>\n</li>\n<li>private String country;</li>\n<li></li>\n<li>\n<pre><code>@JsonProperty(&quot;COMPANY&quot;)\n</code></pre>\n</li>\n<li>private String company;</li>\n<li></li>\n<li>\n<pre><code>@JsonProperty(&quot;PRICE&quot;)\n</code></pre>\n</li>\n<li>private double price;</li>\n<li></li>\n<li>\n<pre><code>@JsonProperty(&quot;YEAR&quot;)  // Album year\n</code></pre>\n</li>\n<li>private int year;</li>\n<li>}</li>\n</ul>\n"},{"tags":["java","java-11","jdeps"],"comments":[{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1591847750,"post_id":62291424,"comment_id":110213113,"body_markdown":"Is `lib` an actual directory with your dependencies?","body":"Is <code>lib</code> an actual directory with your dependencies?"},{"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"score":0,"creation_date":1591861647,"post_id":62291424,"comment_id":110217735,"body_markdown":"No. That&#39;s why I&#39;m asking what should I do instead. It&#39;s a maven project","body":"No. That&#39;s why I&#39;m asking what should I do instead. It&#39;s a maven project"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1591870596,"post_id":62291424,"comment_id":110222147,"body_markdown":"How about [maven-jdeps-plugin](https://maven.apache.org/plugins/maven-jdeps-plugin/)? Can you try it?","body":"How about <a href=\"https://maven.apache.org/plugins/maven-jdeps-plugin/\" rel=\"nofollow noreferrer\">maven-jdeps-plugin</a>? Can you try it?"},{"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"score":0,"creation_date":1592043342,"post_id":62291424,"comment_id":110286261,"body_markdown":"@ZhekaKozlov, I&#39;ll try thanks!","body":"@ZhekaKozlov, I&#39;ll try thanks!"}],"answers":[{"comments":[{"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"score":0,"creation_date":1609012224,"post_id":62359298,"comment_id":115730713,"body_markdown":"after running the steps I see that from some dependencies not found still exists: spring-boot-2.4.0.jar -&gt; java.base spring-boot-2.4.0.jar -&gt; java.desktop spring-boot-2.4.0.jar -&gt; java.management spring-boot-2.4.0.jar -&gt; java.xml spring-boot-2.4.0.jar -&gt; not found. what does this means?","body":"after running the steps I see that from some dependencies not found still exists: spring-boot-2.4.0.jar -&gt; java.base spring-boot-2.4.0.jar -&gt; java.desktop spring-boot-2.4.0.jar -&gt; java.management spring-boot-2.4.0.jar -&gt; java.xml spring-boot-2.4.0.jar -&gt; not found. what does this means?"},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1647302873,"post_id":62359298,"comment_id":126332898,"body_markdown":"Output is too big, cmd do not accept to paste it","body":"Output is too big, cmd do not accept to paste it"},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1647335066,"post_id":62359298,"comment_id":126339229,"body_markdown":"@FARS How about Powershell? Can you try from there? Also, you can do it from Linux","body":"@FARS How about Powershell? Can you try from there? Also, you can do it from Linux"}],"tags":[],"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1592048770,"creation_date":1592048770,"answer_id":62359298,"question_id":62291424,"body_markdown":"For a Maven project, you can do it like this:\r\n\r\n 1. Run `mvn dependency:build-classpath`\r\n 2. Copy the output of the maven-dependency-plugin (the line after &quot;Dependencies classpath:&quot;)\r\n 3. Run `jdeps -cp &lt;paste output here&gt; -s -recursive myjar.jar`","title":"jdeps returns &quot;not found&quot;","body":"<p>For a Maven project, you can do it like this:</p>\n\n<ol>\n<li>Run <code>mvn dependency:build-classpath</code></li>\n<li>Copy the output of the maven-dependency-plugin (the line after \"Dependencies classpath:\")</li>\n<li>Run <code>jdeps -cp &lt;paste output here&gt; -s -recursive myjar.jar</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16567032,"reputation":785,"user_id":11971304,"display_name":"mahee96"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676239763,"creation_date":1676239763,"answer_id":75430512,"question_id":62291424,"body_markdown":"It is due to **Bug** in Jdeps and has been the same since JDK 8 at least.\r\n\r\nYou can see the actual Path parser checks if the -cp/-classpath argument list contains **&quot;dir/.*&quot;** format and **not &quot;dir/*&quot;** format as advertised by the docs, examples and the API&#39;s javadoc.\r\n\r\n[JdepsConfiguration.java:599](https://github.com/adoptium/jdk11u/blob/ebac392d65ab085369ae1b33cc7601d574778d0f/src/jdk.jdeps/share/classes/com/sun/tools/jdeps/JdepsConfiguration.java#L599)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/kCvxq.png\r\n\r\n","title":"jdeps returns &quot;not found&quot;","body":"<p>It is due to <strong>Bug</strong> in Jdeps and has been the same since JDK 8 at least.</p>\n<p>You can see the actual Path parser checks if the -cp/-classpath argument list contains <strong>&quot;dir/.*&quot;</strong> format and <strong>not &quot;dir/*&quot;</strong> format as advertised by the docs, examples and the API's javadoc.</p>\n<p><a href=\"https://github.com/adoptium/jdk11u/blob/ebac392d65ab085369ae1b33cc7601d574778d0f/src/jdk.jdeps/share/classes/com/sun/tools/jdeps/JdepsConfiguration.java#L599\" rel=\"nofollow noreferrer\">JdepsConfiguration.java:599</a></p>\n<p><a href=\"https://i.stack.imgur.com/kCvxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kCvxq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14196201,"reputation":2340,"user_id":10255450,"display_name":"IsaacLevon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3014,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62359298,"answer_count":2,"score":4,"last_activity_date":1676239763,"creation_date":1591735020,"question_id":62291424,"body_markdown":"I&#39;m following this [tutorial][1] which tries to minimize the JVM memory footprint by building a minimal JVM.\r\n\r\nWhen I&#39;m running `jdeps -s myjar.jar` I&#39;m getting:\r\n\r\n\r\n    myjar.jar -&gt; java.base\r\n    myjar.jar -&gt; java.logging\r\n    myjar.jar -&gt; not found\r\n\r\nIn the tutorial he solves this by running another command.\r\n\r\n    jdeps -cp &#39;lib/*&#39; -recursive -s myjar.jar\r\n\r\nI tried this but I&#39;m getting the same result.\r\n\r\nHow to run it correctly?\r\n\r\n\r\n  [1]: https://medium.com/hotels-com-technology/honey-i-shrank-the-java-image-9f737aef8963","title":"jdeps returns &quot;not found&quot;","body":"<p>I'm following this <a href=\"https://medium.com/hotels-com-technology/honey-i-shrank-the-java-image-9f737aef8963\" rel=\"nofollow noreferrer\">tutorial</a> which tries to minimize the JVM memory footprint by building a minimal JVM.</p>\n\n<p>When I'm running <code>jdeps -s myjar.jar</code> I'm getting:</p>\n\n<pre><code>myjar.jar -&gt; java.base\nmyjar.jar -&gt; java.logging\nmyjar.jar -&gt; not found\n</code></pre>\n\n<p>In the tutorial he solves this by running another command.</p>\n\n<pre><code>jdeps -cp 'lib/*' -recursive -s myjar.jar\n</code></pre>\n\n<p>I tried this but I'm getting the same result.</p>\n\n<p>How to run it correctly?</p>\n"},{"tags":["java","configuration","apache-commons"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676239590,"post_id":75430451,"comment_id":133092856,"body_markdown":"The [tests](https://github.com/apache/commons-configuration/blob/master/src/test/java/org/apache/commons/configuration2/tree/TestNodeTreeWalker.java) may help.","body":"The <a href=\"https://github.com/apache/commons-configuration/blob/master/src/test/java/org/apache/commons/configuration2/tree/TestNodeTreeWalker.java\" rel=\"nofollow noreferrer\">tests</a> may help."},{"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"score":1,"creation_date":1676308416,"post_id":75430451,"comment_id":133107061,"body_markdown":"Thanks. This grumpy old man longs for the old days where there was documentation other than unit tests &#128516;","body":"Thanks. This grumpy old man longs for the old days where there was documentation other than unit tests 😄"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1676308727,"post_id":75430451,"comment_id":133107163,"body_markdown":"Understood - tests can sometimes be a bit cryptic (to me, anyway). They are focused on testing (of course) and not necessarily on explaining.","body":"Understood - tests can sometimes be a bit cryptic (to me, anyway). They are focused on testing (of course) and not necessarily on explaining."}],"owner":{"account_id":1000824,"reputation":1501,"user_id":1015703,"accept_rate":96,"display_name":"David H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676239116,"creation_date":1676239116,"question_id":75430451,"body_markdown":"It seems that one can walk a Commons hierarchical configuration using a NodeTreeWalker (walkDFS and walkBFS methods), but I am unable to find anywhere a description or example of how to do this.  The JavaDocs are not enough.\r\n\r\nHas anyone gotten this to work, and would you share?\r\n","title":"Apache Commons Configuration - NodeTreeWalker example?","body":"<p>It seems that one can walk a Commons hierarchical configuration using a NodeTreeWalker (walkDFS and walkBFS methods), but I am unable to find anywhere a description or example of how to do this.  The JavaDocs are not enough.</p>\n<p>Has anyone gotten this to work, and would you share?</p>\n"},{"tags":["javascript","java","android","android-studio","browser"],"comments":[{"owner":{"account_id":10777679,"reputation":123,"user_id":7929094,"display_name":"Pascal"},"score":0,"creation_date":1611859532,"post_id":65943142,"comment_id":116593104,"body_markdown":"Have you added the intent filter to your activity?","body":"Have you added the intent filter to your activity?"},{"owner":{"account_id":20573095,"reputation":1,"user_id":15100990,"display_name":"Jhon Rey Adame"},"score":0,"creation_date":1611887346,"post_id":65943142,"comment_id":116601152,"body_markdown":"Yes. I already added an intent filter.","body":"Yes. I already added an intent filter."},{"owner":{"account_id":10777679,"reputation":123,"user_id":7929094,"display_name":"Pascal"},"score":0,"creation_date":1611903393,"post_id":65943142,"comment_id":116604472,"body_markdown":"You have to remove the autoVerify tag.","body":"You have to remove the autoVerify tag."},{"owner":{"account_id":20573095,"reputation":1,"user_id":15100990,"display_name":"Jhon Rey Adame"},"score":0,"creation_date":1611918966,"post_id":65943142,"comment_id":116610410,"body_markdown":"I try, but it doesn&#39;t work.","body":"I try, but it doesn&#39;t work."},{"owner":{"account_id":20573095,"reputation":1,"user_id":15100990,"display_name":"Jhon Rey Adame"},"score":0,"creation_date":1611919008,"post_id":65943142,"comment_id":116610424,"body_markdown":"I think this code is wrong or not working: Intent intent = getIntent();\n    String action = intent.getAction();\n    String type = intent.getType();\n\n    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n        if (&quot;text/plain&quot;.equals(type)) {\n            String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n                if (sharedText != null) {\n                    // Update UI to reflect text being shared\n                    webview1.loadUrl(action);\n                }\n            }\n        }","body":"I think this code is wrong or not working: Intent intent = getIntent();     String action = intent.getAction();     String type = intent.getType();      if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {         if (&quot;text/plain&quot;.equals(type)) {             String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);                 if (sharedText != null) {                     // Update UI to reflect text being shared                     webview1.loadUrl(action);                 }             }         }"}],"answers":[{"tags":[],"owner":{"account_id":18703037,"reputation":3,"user_id":13634838,"display_name":"الصياد اليماني"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676238761,"creation_date":1676237881,"answer_id":75430348,"question_id":65943142,"body_markdown":"**AndroidManifest.xml**\r\nAdd access to the Internet\r\n\r\n    ...\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    ...\r\n    &lt;application\r\n    ....\r\n\r\nAt the activity that will open when sharing add\r\n\r\n            &lt;activity\r\n            android:name=&quot;.MyActivity&quot;\r\n            ...&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n----------\r\n\r\n\r\n**MyActivity.java**\r\nFirst, make sure that there is a share to your application\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ...\r\n        Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            Toast.makeText(this, type+&quot;&quot;, Toast.LENGTH_SHORT).show();\r\n            if (&quot;text/plain&quot;.equals(type)) handleSendText(intent);\r\n            \r\n        }\r\n        ...\r\n    }\r\n\r\nProcess the data after confirming it and show it\r\n\r\n        private void handleSendText(Intent intent) {\r\n        String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n        if (sharedText == null) return;\r\n        WebView webview1 = findViewById(R.id.webview1);\r\n        webview1.getSettings().setJavaScriptEnabled(true);\r\n        webview1.loadUrl(sharedText);\r\n    }\r\n\r\n\r\n----------\r\n[for more information][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/sharing/receive","title":"How to receive website url from other apps, such as Google","body":"<p><strong>AndroidManifest.xml</strong>\nAdd access to the Internet</p>\n<pre><code>...\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n...\n&lt;application\n....\n</code></pre>\n<p>At the activity that will open when sharing add</p>\n<pre><code>        &lt;activity\n        android:name=&quot;.MyActivity&quot;\n        ...&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.SEND&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n            &lt;data android:mimeType=&quot;text/plain&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<hr />\n<p><strong>MyActivity.java</strong>\nFirst, make sure that there is a share to your application</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    Intent intent = getIntent();\n    String action = intent.getAction();\n    String type = intent.getType();\n    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n        Toast.makeText(this, type+&quot;&quot;, Toast.LENGTH_SHORT).show();\n        if (&quot;text/plain&quot;.equals(type)) handleSendText(intent);\n        \n    }\n    ...\n}\n</code></pre>\n<p>Process the data after confirming it and show it</p>\n<pre><code>    private void handleSendText(Intent intent) {\n    String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n    if (sharedText == null) return;\n    WebView webview1 = findViewById(R.id.webview1);\n    webview1.getSettings().setJavaScriptEnabled(true);\n    webview1.loadUrl(sharedText);\n}\n</code></pre>\n<hr />\n<p><a href=\"https://developer.android.com/training/sharing/receive\" rel=\"nofollow noreferrer\">for more information</a></p>\n"}],"owner":{"account_id":20573095,"reputation":1,"user_id":15100990,"display_name":"Jhon Rey Adame"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676238761,"creation_date":1611858497,"question_id":65943142,"body_markdown":"I&#39;m a new developer. Can someone help me on how to receive website URLs from other apps? My app is currently my default browser, but my problem is that, I don&#39;t know how to receive the website URL.\r\n\r\n[Here&#39;s the preview of the app.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0EscL.png\r\n\r\n    Intent intent = getIntent();\r\n        String action = intent.getAction();\r\n        String type = intent.getType();\r\n\r\n        if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\r\n            if (&quot;text/plain&quot;.equals(type)) {\r\n                String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\r\n\t\t\t\t\tif (sharedText != null) {\r\n\t\t\t\t\t\t// Update UI to reflect text being shared\r\n\t\t\t\t\t\twebview1.loadUrl(action);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n            }\r\n\r\nI try to use the code above but it doesn&#39;t work.\r\n\r\nAlso, I don&#39;t know how to detect when a user clicks the &#39;done&#39; or &#39;go&#39; button in the edittext on the status bar above (see the pic).\r\n\r\nI tried this code, but my app keeps closing:\r\n\r\n    edittext.setOnEditorActionListener(new OnEditorActionListener() {\r\n        public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n            if ((event != null &amp;&amp; (event.getKeyCode() == KeyEvent.KEYCODE_ENTER)) || (actionId == EditorInfo.IME_ACTION_DONE)) {\r\n               //do what you want on the press of &#39;done&#39;\r\n               submit.performClick();\r\n            }    \r\n            return false;\r\n        }\r\n    });\r\n\r\nPlease help me.\r\n\r\nEdit:\r\nI already added an intent filter:\r\n\r\n\r\n&lt;/activity&gt;\r\n\r\n\t\t&lt;activity\r\n            android:name=&quot;.ReceiveUrlActivity&quot;\r\n\t\t\tandroid:configChanges=&quot;orientation|keyboardHidden&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n\t\t\tandroid:windowSoftInputMode=&quot;stateHidden&quot; &gt;\r\n            &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; \r\n\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n\t\t\t\t&lt;data android:scheme=&quot;http&quot;/&gt; \r\n\r\n\t\t\t\t&lt;data android:scheme=&quot;https&quot;/&gt;\r\n\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;","title":"How to receive website url from other apps, such as Google","body":"<p>I'm a new developer. Can someone help me on how to receive website URLs from other apps? My app is currently my default browser, but my problem is that, I don't know how to receive the website URL.</p>\n<p><a href=\"https://i.stack.imgur.com/0EscL.png\" rel=\"nofollow noreferrer\">Here's the preview of the app.</a></p>\n<pre><code>Intent intent = getIntent();\n    String action = intent.getAction();\n    String type = intent.getType();\n\n    if (Intent.ACTION_SEND.equals(action) &amp;&amp; type != null) {\n        if (&quot;text/plain&quot;.equals(type)) {\n            String sharedText = intent.getStringExtra(Intent.EXTRA_TEXT);\n                if (sharedText != null) {\n                    // Update UI to reflect text being shared\n                    webview1.loadUrl(action);\n                }\n            }\n        }\n</code></pre>\n<p>I try to use the code above but it doesn't work.</p>\n<p>Also, I don't know how to detect when a user clicks the 'done' or 'go' button in the edittext on the status bar above (see the pic).</p>\n<p>I tried this code, but my app keeps closing:</p>\n<pre><code>edittext.setOnEditorActionListener(new OnEditorActionListener() {\n    public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n        if ((event != null &amp;&amp; (event.getKeyCode() == KeyEvent.KEYCODE_ENTER)) || (actionId == EditorInfo.IME_ACTION_DONE)) {\n           //do what you want on the press of 'done'\n           submit.performClick();\n        }    \n        return false;\n    }\n});\n</code></pre>\n<p>Please help me.</p>\n<p>Edit:\nI already added an intent filter:</p>\n\n<pre><code>    &lt;activity\n        android:name=&quot;.ReceiveUrlActivity&quot;\n        android:configChanges=&quot;orientation|keyboardHidden&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:windowSoftInputMode=&quot;stateHidden&quot; &gt;\n        &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; \n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n            &lt;data android:scheme=&quot;http&quot;/&gt; \n\n            &lt;data android:scheme=&quot;https&quot;/&gt;\n\n        &lt;/intent-filter&gt;\n\n    &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","sql","spring-boot","jpa"],"comments":[{"owner":{"account_id":13737609,"reputation":50,"user_id":12114118,"display_name":"Vikram"},"score":1,"creation_date":1676256806,"post_id":75430410,"comment_id":133094660,"body_markdown":"Please look at this thread it might help https://stackoverflow.com/questions/25362540/like-query-in-spring-jparepository","body":"Please look at this thread it might help <a href=\"https://stackoverflow.com/questions/25362540/like-query-in-spring-jparepository\" title=\"like query in spring jparepository\">stackoverflow.com/questions/25362540/&hellip;</a>"},{"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"score":0,"creation_date":1676281905,"post_id":75430410,"comment_id":133098827,"body_markdown":"that would work only without annotation @Convert. That&#39;s the problem. How can I query that if my List is saved in db as varchar String elements","body":"that would work only without annotation @Convert. That&#39;s the problem. How can I query that if my List is saved in db as varchar String elements"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676304985,"post_id":75430410,"comment_id":133105960,"body_markdown":"The List&lt;String&gt; is for your application and doesn&#39;t represent the data as it is in the database anyway. So if you want to be able to treat &#39;ids&#39; as a string, map it like one. You can handle the conversion to/from String-&gt;List&lt;String&gt; yourself in the application using your converter in an accessor method on the String property set for JPA to use, while your application only ever deal with the data as a List&lt;String&gt; property. PS like using &#39;1&#39; is going to pick up 100, 51 etc. You&#39;ll want to use more strict regex patterns that match your delimiters if you need to look for specific values","body":"The List&lt;String&gt; is for your application and doesn&#39;t represent the data as it is in the database anyway. So if you want to be able to treat &#39;ids&#39; as a string, map it like one. You can handle the conversion to/from String-&gt;List&lt;String&gt; yourself in the application using your converter in an accessor method on the String property set for JPA to use, while your application only ever deal with the data as a List&lt;String&gt; property. PS like using &#39;1&#39; is going to pick up 100, 51 etc. You&#39;ll want to use more strict regex patterns that match your delimiters if you need to look for specific values"}],"owner":{"account_id":16658426,"reputation":13,"user_id":12039078,"display_name":"MichalWds"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676238653,"creation_date":1676238653,"question_id":75430410,"body_markdown":"I have Entity called `MyEntity`, one of the fields is List&lt;String&gt; ids;\r\nI&#39;m storing it in database as separated coma values, like `1,2,3` thanks to \r\n```\r\n@Convert(converter = StringListConverter.class)\r\nprivate List&lt;String&gt; ids = new ArrayList&lt;&gt;();\r\n\r\n```\r\nI want to retrieve `MyEntity` from database specific id in mentioned list. Let&#39;s say number `1`. I did something like this below. Just for testing. \r\n \r\n```\r\nList&lt;MyEntity&gt; al = trainingPlanRepository.findAll();\r\nList&lt;MyEntity&gt; as = al.stream().filter(me -&gt; me.getIds().contains(&quot;1&quot;)).collect(Collectors.toList());\r\n\r\n```\r\nI would prefer to create custom query to get that but because of the conversion I can not handle it. (miss match type). \r\nWhen I&#39;m using db tool to handle my tables, below query works fine to achieve that, but it won&#39;t work as a custom jpa @Query.\r\n`select * from my_entity where ids like &#39;%1%&#39;;` \r\n\r\n\r\n","title":"Custom query to retrieve element from the converted List to String. JPA","body":"<p>I have Entity called <code>MyEntity</code>, one of the fields is List ids;\nI'm storing it in database as separated coma values, like <code>1,2,3</code> thanks to</p>\n<pre><code>@Convert(converter = StringListConverter.class)\nprivate List&lt;String&gt; ids = new ArrayList&lt;&gt;();\n\n</code></pre>\n<p>I want to retrieve <code>MyEntity</code> from database specific id in mentioned list. Let's say number <code>1</code>. I did something like this below. Just for testing.</p>\n<pre><code>List&lt;MyEntity&gt; al = trainingPlanRepository.findAll();\nList&lt;MyEntity&gt; as = al.stream().filter(me -&gt; me.getIds().contains(&quot;1&quot;)).collect(Collectors.toList());\n\n</code></pre>\n<p>I would prefer to create custom query to get that but because of the conversion I can not handle it. (miss match type).\nWhen I'm using db tool to handle my tables, below query works fine to achieve that, but it won't work as a custom jpa @Query.\n<code>select * from my_entity where ids like '%1%';</code></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1524233366,"post_id":49942751,"comment_id":86903263,"body_markdown":"Have a look at [animate between activities](https://developer.android.com/training/animation/overview.html#animate_between_activities)","body":"Have a look at <a href=\"https://developer.android.com/training/animation/overview.html#animate_between_activities\" rel=\"nofollow noreferrer\">animate between activities</a>"},{"owner":{"account_id":13407172,"reputation":21,"user_id":9674862,"display_name":"Flo Lecointe"},"score":0,"creation_date":1524466647,"post_id":49942751,"comment_id":86966016,"body_markdown":"So you&#39;re sugesting to do [this](https://developer.android.com/training/transitions/start-activity.html#start-with-element) and the shared element would be the progress bar ?","body":"So you&#39;re sugesting to do <a href=\"https://developer.android.com/training/transitions/start-activity.html#start-with-element\" rel=\"nofollow noreferrer\">this</a> and the shared element would be the progress bar ?"}],"owner":{"account_id":13407172,"reputation":21,"user_id":9674862,"display_name":"Flo Lecointe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676238023,"creation_date":1524230829,"question_id":49942751,"body_markdown":"I know there are other threads talking about this, but they didn&#39;t help in my case. I have a list of buttons and each leads to a different mapActivity. For now, I&#39;ve been inspired by the code made by Android Studio for LoginActivity which also has a ProgressBar. The list of buttons disappears and the progressBar starts to show, but then stops because HomeActivity.onPause is launched and the onCreate of myMap activity is also launch but the app is frozen on the blocked progressBar. About a moment, my map activity is visible. How can I make the progress bar spin during this?\r\n\r\n    package com.example.florian.myapplication.Activities;\r\n     \r\n    import android.animation.Animator;\r\n    import android.animation.AnimatorListenerAdapter;\r\n    import android.annotation.TargetApi;\r\n    import android.content.ActivityNotFoundException;\r\n    import android.content.Intent;\r\n    import android.database.Cursor;\r\n    import android.os.AsyncTask;\r\n    import android.os.Build;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.ProgressBar;\r\n     \r\n    import com.example.florian.myapplication.Activities.MapsActivities.MainActivity;\r\n    import com.example.florian.myapplication.Activities.MapsActivities.MainActivityRec;\r\n    import com.example.florian.myapplication.Activities.MapsActivities.MainActivityRel;\r\n    import com.example.florian.myapplication.R;\r\n     \r\n    public class HomeActivity extends AppCompatActivity {\r\n     \r\n        private ChangeActivityTask changeTask;\r\n     \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n     \r\n            Button obsPonctButton = (Button) findViewById(R.id.obs_ponc_button);\r\n            obsPonctButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    showProgress(true);\r\n                    changeTask = new ChangeActivityTask(false);\r\n                    changeTask.execute((Void) null);\r\n                }\r\n            });\r\n     \r\n            Button protocoleButton = (Button) findViewById(R.id.protocole_button);\r\n            protocoleButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    showProgress(true);\r\n                    changeTask = new ChangeActivityTask(false);\r\n                    changeTask.execute((Void) null);\r\n                }\r\n            });\r\n     \r\n            Button releveBouton = (Button) findViewById(R.id.relev&#233;_button);\r\n            releveBouton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    showProgress(true);\r\n                    changeTask = new ChangeActivityTask(false);\r\n                    changeTask.execute((Void) null);\r\n                }\r\n            });\r\n     \r\n            Button syncButton = (Button) findViewById(R.id.sync_button);\r\n            syncButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    synchroniserMission();\r\n                }\r\n            });\r\n        }\r\n     \r\n        @Override\r\n        protected void onRestart() {\r\n            super.onRestart();\r\n            showProgress(false);\r\n        }\r\n     \r\n        public Intent generateIntent (boolean isReleveActivity){\r\n            Intent intent;\r\n            if(isReleveActivity)\r\n                intent = new Intent(HomeActivity.this,MainActivityRel.class);\r\n            else\r\n                intent = new Intent(HomeActivity.this,MainActivityRec.class);\r\n            return intent;\r\n        }\r\n     \r\n        /**\r\n         * Shows the progress UI and hides the login form.\r\n         */\r\n        @TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)\r\n        private void showProgress(final boolean show) {\r\n            // On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow\r\n            // for very easy animations. If available, use these APIs to fade-in\r\n            // the progress spinner.\r\n            final LinearLayout buttonList = (LinearLayout) findViewById(R.id.buttonList);\r\n            final ProgressBar mProgressView = (ProgressBar) findViewById(R.id.action_progress);\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\r\n                int shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime);\r\n     \r\n                buttonList.setVisibility(show ? View.GONE : View.VISIBLE);\r\n                buttonList.animate().setDuration(shortAnimTime).alpha(\r\n                        show ? 0 : 1).setListener(new AnimatorListenerAdapter() {\r\n                    @Override\r\n                    public void onAnimationEnd(Animator animation) {\r\n                        buttonList.setVisibility(show ? View.GONE : View.VISIBLE);\r\n                    }\r\n                });\r\n     \r\n                mProgressView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n                mProgressView.animate().setDuration(shortAnimTime).alpha(\r\n                        show ? 1 : 0).setListener(new AnimatorListenerAdapter() {\r\n                    @Override\r\n                    public void onAnimationEnd(Animator animation) {\r\n                        mProgressView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n                    }\r\n                });\r\n            } else {\r\n                // The ViewPropertyAnimator APIs are not available, so simply show\r\n                // and hide the relevant UI components.\r\n                mProgressView.setVisibility(show ? View.VISIBLE : View.GONE);\r\n                buttonList.setVisibility(show ? View.GONE : View.VISIBLE);\r\n            }\r\n        }\r\n     \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n            Log.w(&quot;Bienvenue&quot;, &quot;dans le onpause&quot;);\r\n        }\r\n     \r\n        private void synchroniserMission(){\r\n     \r\n        }\r\n        public class ChangeActivityTask extends AsyncTask&lt;Void, Void, Boolean&gt; {\r\n     \r\n            private final boolean isReleveActivity;\r\n     \r\n            private Intent intent;\r\n     \r\n            ChangeActivityTask(boolean isReleveActivity) {\r\n                this.isReleveActivity = isReleveActivity;\r\n            }\r\n     \r\n            @Override\r\n            protected Boolean doInBackground(Void... params) {\r\n                // TODO: attempt authentication against a network service.\r\n                intent = generateIntent(isReleveActivity);\r\n                startActivity(intent);\r\n                return true;\r\n            }\r\n     \r\n            @Override\r\n            protected void onPostExecute(final Boolean success) {\r\n                showProgress(false);\r\n            }\r\n     \r\n            @Override\r\n            protected void onCancelled() {\r\n                showProgress(false);\r\n            }\r\n     \r\n     \r\n        }\r\n    }\r\n\r\nI hope I&#39;m being clear and you can help me through this.","title":"Progress bar between activities Android Studio","body":"<p>I know there are other threads talking about this, but they didn't help in my case. I have a list of buttons and each leads to a different mapActivity. For now, I've been inspired by the code made by Android Studio for LoginActivity which also has a ProgressBar. The list of buttons disappears and the progressBar starts to show, but then stops because HomeActivity.onPause is launched and the onCreate of myMap activity is also launch but the app is frozen on the blocked progressBar. About a moment, my map activity is visible. How can I make the progress bar spin during this?</p>\n<pre><code>package com.example.florian.myapplication.Activities;\n \nimport android.animation.Animator;\nimport android.animation.AnimatorListenerAdapter;\nimport android.annotation.TargetApi;\nimport android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.ProgressBar;\n \nimport com.example.florian.myapplication.Activities.MapsActivities.MainActivity;\nimport com.example.florian.myapplication.Activities.MapsActivities.MainActivityRec;\nimport com.example.florian.myapplication.Activities.MapsActivities.MainActivityRel;\nimport com.example.florian.myapplication.R;\n \npublic class HomeActivity extends AppCompatActivity {\n \n    private ChangeActivityTask changeTask;\n \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n \n        Button obsPonctButton = (Button) findViewById(R.id.obs_ponc_button);\n        obsPonctButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showProgress(true);\n                changeTask = new ChangeActivityTask(false);\n                changeTask.execute((Void) null);\n            }\n        });\n \n        Button protocoleButton = (Button) findViewById(R.id.protocole_button);\n        protocoleButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showProgress(true);\n                changeTask = new ChangeActivityTask(false);\n                changeTask.execute((Void) null);\n            }\n        });\n \n        Button releveBouton = (Button) findViewById(R.id.relevé_button);\n        releveBouton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                showProgress(true);\n                changeTask = new ChangeActivityTask(false);\n                changeTask.execute((Void) null);\n            }\n        });\n \n        Button syncButton = (Button) findViewById(R.id.sync_button);\n        syncButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                synchroniserMission();\n            }\n        });\n    }\n \n    @Override\n    protected void onRestart() {\n        super.onRestart();\n        showProgress(false);\n    }\n \n    public Intent generateIntent (boolean isReleveActivity){\n        Intent intent;\n        if(isReleveActivity)\n            intent = new Intent(HomeActivity.this,MainActivityRel.class);\n        else\n            intent = new Intent(HomeActivity.this,MainActivityRec.class);\n        return intent;\n    }\n \n    /**\n     * Shows the progress UI and hides the login form.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB_MR2)\n    private void showProgress(final boolean show) {\n        // On Honeycomb MR2 we have the ViewPropertyAnimator APIs, which allow\n        // for very easy animations. If available, use these APIs to fade-in\n        // the progress spinner.\n        final LinearLayout buttonList = (LinearLayout) findViewById(R.id.buttonList);\n        final ProgressBar mProgressView = (ProgressBar) findViewById(R.id.action_progress);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.HONEYCOMB_MR2) {\n            int shortAnimTime = getResources().getInteger(android.R.integer.config_shortAnimTime);\n \n            buttonList.setVisibility(show ? View.GONE : View.VISIBLE);\n            buttonList.animate().setDuration(shortAnimTime).alpha(\n                    show ? 0 : 1).setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    buttonList.setVisibility(show ? View.GONE : View.VISIBLE);\n                }\n            });\n \n            mProgressView.setVisibility(show ? View.VISIBLE : View.GONE);\n            mProgressView.animate().setDuration(shortAnimTime).alpha(\n                    show ? 1 : 0).setListener(new AnimatorListenerAdapter() {\n                @Override\n                public void onAnimationEnd(Animator animation) {\n                    mProgressView.setVisibility(show ? View.VISIBLE : View.GONE);\n                }\n            });\n        } else {\n            // The ViewPropertyAnimator APIs are not available, so simply show\n            // and hide the relevant UI components.\n            mProgressView.setVisibility(show ? View.VISIBLE : View.GONE);\n            buttonList.setVisibility(show ? View.GONE : View.VISIBLE);\n        }\n    }\n \n    @Override\n    protected void onPause() {\n        super.onPause();\n        Log.w(&quot;Bienvenue&quot;, &quot;dans le onpause&quot;);\n    }\n \n    private void synchroniserMission(){\n \n    }\n    public class ChangeActivityTask extends AsyncTask&lt;Void, Void, Boolean&gt; {\n \n        private final boolean isReleveActivity;\n \n        private Intent intent;\n \n        ChangeActivityTask(boolean isReleveActivity) {\n            this.isReleveActivity = isReleveActivity;\n        }\n \n        @Override\n        protected Boolean doInBackground(Void... params) {\n            // TODO: attempt authentication against a network service.\n            intent = generateIntent(isReleveActivity);\n            startActivity(intent);\n            return true;\n        }\n \n        @Override\n        protected void onPostExecute(final Boolean success) {\n            showProgress(false);\n        }\n \n        @Override\n        protected void onCancelled() {\n            showProgress(false);\n        }\n \n \n    }\n}\n</code></pre>\n<p>I hope I'm being clear and you can help me through this.</p>\n"},{"tags":["java","sql","spring","spring-boot","jdbc"],"answers":[{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1676215269,"post_id":75424174,"comment_id":133088415,"body_markdown":"The POM (https://github.com/danvega/hello-jdbc/blob/master/pom.xml) doesn&#39;t specify a JDBC version for the H2 dependency, and I&#39;m not watching the whole of that video just to find out which version it actually uses.","body":"The POM (<a href=\"https://github.com/danvega/hello-jdbc/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/danvega/hello-jdbc/blob/master/pom.xml</a>) doesn&#39;t specify a JDBC version for the H2 dependency, and I&#39;m not watching the whole of that video just to find out which version it actually uses."}],"tags":[],"owner":{"account_id":7210332,"reputation":121,"user_id":5504676,"display_name":"Alexander G Casta&#241;eda Est&#233;vez"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676237810,"creation_date":1676161162,"answer_id":75424174,"question_id":75424086,"body_markdown":"Your project must be using a version of H2 with a bug. Compare the dependency version of your H2 database with the one used in the tutorial project.\r\n\r\nUse &quot;mvn dependency:tree&quot; and search for it.","title":"Java Springboot program resulting to org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement when building","body":"<p>Your project must be using a version of H2 with a bug. Compare the dependency version of your H2 database with the one used in the tutorial project.</p>\n<p>Use &quot;mvn dependency:tree&quot; and search for it.</p>\n"},{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1676215086,"post_id":75424251,"comment_id":133088380,"body_markdown":"That might fix the syntax error with the schema creation script, but as you&#39;re removing the `identity` functionality from the `course_id` column, could this not cause problems elsewhere? If the Java app expects IDs to be automatically generated, your change would just cause another problem later on. Would it not be better to use `GENERATED ALWAYS AS IDENTITY` or `GENERATED BY DEFAULT AS IDENTITY` (https://www.h2database.com/html/grammar.html#column_definition) instead? Also, when you do post answers it&#39;s helpful to explain what change or changes you made and to which files.","body":"That might fix the syntax error with the schema creation script, but as you&#39;re removing the <code>identity</code> functionality from the <code>course_id</code> column, could this not cause problems elsewhere? If the Java app expects IDs to be automatically generated, your change would just cause another problem later on. Would it not be better to use <code>GENERATED ALWAYS AS IDENTITY</code> or <code>GENERATED BY DEFAULT AS IDENTITY</code> (<a href=\"https://www.h2database.com/html/grammar.html#column_definition\" rel=\"nofollow noreferrer\">h2database.com/html/grammar.html#column_definition</a>) instead? Also, when you do post answers it&#39;s helpful to explain what change or changes you made and to which files."},{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1676286499,"post_id":75424251,"comment_id":133100080,"body_markdown":"Thank you for the comment, I do agree on your point. But since the question was limited to the purpose of moving forward with the tutorial. I&#39;ve mentioned likewise.","body":"Thank you for the comment, I do agree on your point. But since the question was limited to the purpose of moving forward with the tutorial. I&#39;ve mentioned likewise."}],"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676162424,"creation_date":1676162424,"answer_id":75424251,"question_id":75424086,"body_markdown":"Looks like there is a syntax issue with the script. You may use the following query.\r\n\r\n    CREATE TABLE course (\r\n        course_id integer NOT NULL,\r\n        title varchar(80) NOT NULL,         -- Course Title\r\n        description varchar(500) NOT NULL,  -- Course Description\r\n        link varchar(255) NOT NULL,         -- Course landing page link\r\n        CONSTRAINT pk_course_course_id PRIMARY KEY (course_id)\r\n    );","title":"Java Springboot program resulting to org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement when building","body":"<p>Looks like there is a syntax issue with the script. You may use the following query.</p>\n<pre><code>CREATE TABLE course (\n    course_id integer NOT NULL,\n    title varchar(80) NOT NULL,         -- Course Title\n    description varchar(500) NOT NULL,  -- Course Description\n    link varchar(255) NOT NULL,         -- Course landing page link\n    CONSTRAINT pk_course_course_id PRIMARY KEY (course_id)\n);\n</code></pre>\n"}],"owner":{"account_id":27344222,"reputation":15,"user_id":20854393,"display_name":"jma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676237810,"creation_date":1676159692,"question_id":75424086,"body_markdown":"I am currently following [this tutorial](https://www.youtube.com/watch?v=0uLqdBpYAVA) about Spring JDBC Template, and was about to run the program for the first time (around @11:30). However, I have encountered an error and when I tried to build the project it says this:\r\n\r\n```\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.298 s &lt;&lt;&lt; FAILURE! - in com.jdbctempl.CourseplatformApplicationTests\r\n[ERROR] contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.beans.factory.BeanCreationException:\r\nError creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguratio\r\nn.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of UR\r\nL [file:/C:/Practice/0500%20-%20Spring%20(Boot)/04_JDBCTemplate-Spring/courseplatform/target/classes/schema.sql]: CREATE TABLE course ( course_id integer identity NOT NULL, title varch\r\nar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) ); nested exception is org.h2.jdbc.JdbcSQLSyntaxE\r\nrrorException: Syntax error in SQL statement &quot;CREATE TABLE course ( course_id integer [*]identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(\r\n255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) )&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_I\r\nNCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL stat\r\nement:\r\nCREATE TABLE course ( course_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRI\r\nMARY KEY (course_id) ) [42001-214]\r\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException:\r\nFailed to execute SQL script statement #1 of URL [file:/C:/Practice/0500%20-%20Spring%20(Boot)/04_JDBCTemplate-Spring/courseplatform/target/classes/schema.sql]: CREATE TABLE course ( c\r\nourse_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) );\r\n nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;CREATE TABLE course ( course_id integer [*]identity NOT NULL, title varchar(80) NOT NULL, d\r\nescription varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) )&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAUL\r\nT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHE\r\nCK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\r\nCREATE TABLE course ( course_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRI\r\nMARY KEY (course_id) ) [42001-214]\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException:\r\nSyntax error in SQL statement &quot;CREATE TABLE course ( course_id integer [*]identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, \r\nCONSTRAINT pk_course_course_id PRIMARY KEY (course_id) )&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAU\r\nLT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\r\nCREATE TABLE course ( course_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRI\r\nMARY KEY (course_id) ) [42001-214]\r\n\r\n```\r\n\r\n\r\nI have tried to copy his exact sql files from https://github.com/danvega/hello-jdbc but still didn&#39;t work.","title":"Java Springboot program resulting to org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement when building","body":"<p>I am currently following <a href=\"https://www.youtube.com/watch?v=0uLqdBpYAVA\" rel=\"nofollow noreferrer\">this tutorial</a> about Spring JDBC Template, and was about to run the program for the first time (around @11:30). However, I have encountered an error and when I tried to build the project it says this:</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.298 s &lt;&lt;&lt; FAILURE! - in com.jdbctempl.CourseplatformApplicationTests\n[ERROR] contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguratio\nn.class]: Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of UR\nL [file:/C:/Practice/0500%20-%20Spring%20(Boot)/04_JDBCTemplate-Spring/courseplatform/target/classes/schema.sql]: CREATE TABLE course ( course_id integer identity NOT NULL, title varch\nar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) ); nested exception is org.h2.jdbc.JdbcSQLSyntaxE\nrrorException: Syntax error in SQL statement &quot;CREATE TABLE course ( course_id integer [*]identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(\n255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) )&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_I\nNCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL stat\nement:\nCREATE TABLE course ( course_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRI\nMARY KEY (course_id) ) [42001-214]\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException:\nFailed to execute SQL script statement #1 of URL [file:/C:/Practice/0500%20-%20Spring%20(Boot)/04_JDBCTemplate-Spring/courseplatform/target/classes/schema.sql]: CREATE TABLE course ( c\nourse_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) );\n nested exception is org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;CREATE TABLE course ( course_id integer [*]identity NOT NULL, title varchar(80) NOT NULL, d\nescription varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRIMARY KEY (course_id) )&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAUL\nT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHE\nCK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\nCREATE TABLE course ( course_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRI\nMARY KEY (course_id) ) [42001-214]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException:\nSyntax error in SQL statement &quot;CREATE TABLE course ( course_id integer [*]identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, \nCONSTRAINT pk_course_course_id PRIMARY KEY (course_id) )&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAU\nLT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\nCREATE TABLE course ( course_id integer identity NOT NULL, title varchar(80) NOT NULL, description varchar(500) NOT NULL, link varchar(255) NOT NULL, CONSTRAINT pk_course_course_id PRI\nMARY KEY (course_id) ) [42001-214]\n\n</code></pre>\n<p>I have tried to copy his exact sql files from <a href=\"https://github.com/danvega/hello-jdbc\" rel=\"nofollow noreferrer\">https://github.com/danvega/hello-jdbc</a> but still didn't work.</p>\n"},{"tags":["java","selenium"],"answers":[{"comments":[{"owner":{"account_id":5461244,"reputation":1293,"user_id":4343294,"accept_rate":74,"display_name":"pik4"},"score":3,"creation_date":1510231390,"post_id":47202077,"comment_id":81352634,"body_markdown":"Should give more context for your answer.","body":"Should give more context for your answer."},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1620172026,"post_id":47202077,"comment_id":119121213,"body_markdown":"Isn&#39;t it mentioned question itself?","body":"Isn&#39;t it mentioned question itself?"}],"tags":[],"owner":{"account_id":9721549,"reputation":1,"user_id":7812671,"display_name":"Joy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510232647,"creation_date":1510231073,"answer_id":47202077,"question_id":42198564,"body_markdown":"You can try:\r\n\r\n    Actions dragAndDrop= new Actions(driver);\r\n\tdragAndDrop.clickAndHold(DragFrom).moveToElement(DragTo).release().build().perform();\r\n    ","title":"Drag and Drop in selenium java","body":"<p>You can try:</p>\n\n<pre><code>Actions dragAndDrop= new Actions(driver);\ndragAndDrop.clickAndHold(DragFrom).moveToElement(DragTo).release().build().perform();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4945970,"reputation":832,"user_id":3981312,"accept_rate":40,"display_name":"mancocapac"},"score":0,"creation_date":1532112954,"post_id":50499307,"comment_id":89868031,"body_markdown":"@dhanush-jha I believe this is the correct answer you were looking for, please mark it as answered or let me know how I can correct it.","body":"@dhanush-jha I believe this is the correct answer you were looking for, please mark it as answered or let me know how I can correct it."}],"tags":[],"owner":{"account_id":4945970,"reputation":832,"user_id":3981312,"accept_rate":40,"display_name":"mancocapac"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527123187,"creation_date":1527122357,"answer_id":50499307,"question_id":42198564,"body_markdown":"First WebDriver/Selenium DragAndDrop does not appear to work anymore, at best it goes between working and not working depending on release of drivers, browsers and selenium. I do not find that any of the java workarounds actually work.\r\n\r\n    clickAndHold() moveToElement() release()  // solutions don&#39;t work\r\n\r\nI put together a working Java example after viewing the below mentioned sites. My solution is using rcorreia&#39;s javascript\r\n\r\n[Elemental Selenium Drag N Drop](http://the-internet.herokuapp.com/drag_and_drop) - example app for testing Drag N Drop\r\n[rcorreia/drag_and_drop_helper.js](https://gist.github.com/rcorreia/2362544) - rcorreia&#39;s javascript helper code\r\n\r\n[RomanIsko/elemental-selenium-tips](https://github.com/RomanIsko/elemental-selenium-tips/blob/master/39-drag-and-drop/csharp/DragAndDrop.cs) - a csharp implementation\r\n\r\nI figured out how to integrate the javascript file by looking at romanisko csharp code.\r\n\r\n    JSDriver.ExecuteScript(dnd_javascript + &quot;$(&#39;#column-a&#39;).simulateDragDrop({ dropTarget: &#39;#column-b&#39;});&quot;);\r\n\r\nFrom the above I came up with the following Java Solution:\r\n\r\nDragAndDropJsHelper.java\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class DragAndDropJsHelper {\r\n        Logger log = LogManager.getLogger(DragAndDropJsHelper.class.getName());\r\n    \r\n        String dragndrop_js = null;\r\n    \r\n        public DragAndDropJsHelper(String jsFile) throws IOException {\r\n            // the javascript file must be read into a single string no line breaks\r\n            try (BufferedReader br = Files.newBufferedReader(Paths.get(getURIFromURL(jsFile)))) {\r\n                dragndrop_js = br\r\n                        .lines()\r\n                        .collect(Collectors.joining(&quot; &quot;));\r\n            } catch (IOException e) {\r\n                log.error(e.getMessage());\r\n            }\r\n        }\r\n    \r\n        // helper method, I&#39;m using maven my js file is in src/test/resources\r\n        @SuppressWarnings(&quot;finally&quot;)\r\n        private URI getURIFromURL(String fileName) {\r\n            URI uri = null;\r\n            try {\r\n                URL url = this.getClass().getClassLoader().getResource(fileName);\r\n                uri = url.toURI();\r\n            } catch (URISyntaxException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                return uri;\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Solution from elemental-selenium-tips\r\n         * https://github.com/tourdedave/elemental-selenium-tips/blob/master/39-drag-and-drop/csharp/DragAndDrop.cs\r\n         * JSDriver.ExecuteScript(dnd_javascript + &quot;$(&#39;#column-a&#39;).simulateDragDrop({\r\n         * dropTarget: &#39;#column-b&#39;});&quot;);\r\n         * \r\n         * NOTE: Seems fragile, not sure if this works for XPATH or other src/dst type strings\r\n         * TODO: would be good if it worked with WebElement, or BY\r\n         * \r\n         * @param driver\r\n         * @param src\r\n         *            - css string for source element\r\n         * @param dst\r\n         *            - css string for destination element\r\n         */\r\n        public void dragDrop(WebDriver driver, String src, String dst) {\r\n            String js = String.format(&quot;$(&#39;%s&#39;).simulateDragDrop({ dropTarget: &#39;%s&#39;});&quot;,src,dst);\r\n            JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n            jse.executeScript(dragndrop_js + js);\r\n        }\r\n        \r\n    }\r\n\r\nPart of my DragAndDropTest.java\r\n\r\n    @Test\r\n    public void dragAtoBTest() {\r\n        try {\r\n            WebElement weA = driver.findElement(DragNDropPage.COLUMN_A);\r\n            WebElement weB = driver.findElement(DragNDropPage.COLUMN_B);\r\n            DragAndDropJsHelper ddh = new DragAndDropJsHelper(&quot;drag_and_drop_helper.js&quot;);\r\n\r\n            ddh.dragDrop(driver, &quot;#column-a&quot;, &quot;#column-b&quot;);\r\n\r\n            log.info(&quot;wait for opacity to change 1, indicating move complete&quot;);\r\n            wait.until(ExpectedConditions.attributeToBe(weA, &quot;opacity&quot;, &quot;1&quot;));\r\n            assertThat(weA.findElement(page.columnHeader).getText(), containsString(&quot;B&quot;));\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            log.error(e);\r\n            Assert.fail(&quot;FAILED validLoginTest&quot;);\r\n        }\r\n    }\r\nNOTE: Using the drag_and_drop.js requires the src and dst to be css selector strings, I don&#39;t know if xpath would work. It would be nicer if \r\nit would handle WebElement and/or BY for input parameters. Unfortunately, my javascript is not deep enough to make that modification.\r\n\r\nsee also:\r\n\r\n[Selenium Actions drag and drop not working on chrome browser](https://github.com/SeleniumHQ/selenium/issues/3269)\r\n\r\n[Drag and drop support for an object via Gwen DSL](https://github.com/gwen-interpreter/gwen-web/issues/42)\r\n","title":"Drag and Drop in selenium java","body":"<p>First WebDriver/Selenium DragAndDrop does not appear to work anymore, at best it goes between working and not working depending on release of drivers, browsers and selenium. I do not find that any of the java workarounds actually work.</p>\n\n<pre><code>clickAndHold() moveToElement() release()  // solutions don't work\n</code></pre>\n\n<p>I put together a working Java example after viewing the below mentioned sites. My solution is using rcorreia's javascript</p>\n\n<p><a href=\"http://the-internet.herokuapp.com/drag_and_drop\" rel=\"nofollow noreferrer\">Elemental Selenium Drag N Drop</a> - example app for testing Drag N Drop\n<a href=\"https://gist.github.com/rcorreia/2362544\" rel=\"nofollow noreferrer\">rcorreia/drag_and_drop_helper.js</a> - rcorreia's javascript helper code</p>\n\n<p><a href=\"https://github.com/RomanIsko/elemental-selenium-tips/blob/master/39-drag-and-drop/csharp/DragAndDrop.cs\" rel=\"nofollow noreferrer\">RomanIsko/elemental-selenium-tips</a> - a csharp implementation</p>\n\n<p>I figured out how to integrate the javascript file by looking at romanisko csharp code.</p>\n\n<pre><code>JSDriver.ExecuteScript(dnd_javascript + \"$('#column-a').simulateDragDrop({ dropTarget: '#column-b'});\");\n</code></pre>\n\n<p>From the above I came up with the following Java Solution:</p>\n\n<p>DragAndDropJsHelper.java</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Collectors;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class DragAndDropJsHelper {\n    Logger log = LogManager.getLogger(DragAndDropJsHelper.class.getName());\n\n    String dragndrop_js = null;\n\n    public DragAndDropJsHelper(String jsFile) throws IOException {\n        // the javascript file must be read into a single string no line breaks\n        try (BufferedReader br = Files.newBufferedReader(Paths.get(getURIFromURL(jsFile)))) {\n            dragndrop_js = br\n                    .lines()\n                    .collect(Collectors.joining(\" \"));\n        } catch (IOException e) {\n            log.error(e.getMessage());\n        }\n    }\n\n    // helper method, I'm using maven my js file is in src/test/resources\n    @SuppressWarnings(\"finally\")\n    private URI getURIFromURL(String fileName) {\n        URI uri = null;\n        try {\n            URL url = this.getClass().getClassLoader().getResource(fileName);\n            uri = url.toURI();\n        } catch (URISyntaxException e) {\n            e.printStackTrace();\n        } finally {\n            return uri;\n        }\n    }\n\n    /**\n     * Solution from elemental-selenium-tips\n     * https://github.com/tourdedave/elemental-selenium-tips/blob/master/39-drag-and-drop/csharp/DragAndDrop.cs\n     * JSDriver.ExecuteScript(dnd_javascript + \"$('#column-a').simulateDragDrop({\n     * dropTarget: '#column-b'});\");\n     * \n     * NOTE: Seems fragile, not sure if this works for XPATH or other src/dst type strings\n     * TODO: would be good if it worked with WebElement, or BY\n     * \n     * @param driver\n     * @param src\n     *            - css string for source element\n     * @param dst\n     *            - css string for destination element\n     */\n    public void dragDrop(WebDriver driver, String src, String dst) {\n        String js = String.format(\"$('%s').simulateDragDrop({ dropTarget: '%s'});\",src,dst);\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\n        jse.executeScript(dragndrop_js + js);\n    }\n\n}\n</code></pre>\n\n<p>Part of my DragAndDropTest.java</p>\n\n<pre><code>@Test\npublic void dragAtoBTest() {\n    try {\n        WebElement weA = driver.findElement(DragNDropPage.COLUMN_A);\n        WebElement weB = driver.findElement(DragNDropPage.COLUMN_B);\n        DragAndDropJsHelper ddh = new DragAndDropJsHelper(\"drag_and_drop_helper.js\");\n\n        ddh.dragDrop(driver, \"#column-a\", \"#column-b\");\n\n        log.info(\"wait for opacity to change 1, indicating move complete\");\n        wait.until(ExpectedConditions.attributeToBe(weA, \"opacity\", \"1\"));\n        assertThat(weA.findElement(page.columnHeader).getText(), containsString(\"B\"));\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        log.error(e);\n        Assert.fail(\"FAILED validLoginTest\");\n    }\n}\n</code></pre>\n\n<p>NOTE: Using the drag_and_drop.js requires the src and dst to be css selector strings, I don't know if xpath would work. It would be nicer if \nit would handle WebElement and/or BY for input parameters. Unfortunately, my javascript is not deep enough to make that modification.</p>\n\n<p>see also:</p>\n\n<p><a href=\"https://github.com/SeleniumHQ/selenium/issues/3269\" rel=\"nofollow noreferrer\">Selenium Actions drag and drop not working on chrome browser</a></p>\n\n<p><a href=\"https://github.com/gwen-interpreter/gwen-web/issues/42\" rel=\"nofollow noreferrer\">Drag and drop support for an object via Gwen DSL</a></p>\n"},{"comments":[{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1620090678,"post_id":65993791,"comment_id":119092852,"body_markdown":"Where is resources/drag_and_drop.js?","body":"Where is resources/drag_and_drop.js?"},{"owner":{"account_id":13356819,"reputation":227,"user_id":9640080,"display_name":"Rester Test"},"score":1,"creation_date":1620124339,"post_id":65993791,"comment_id":119102022,"body_markdown":"Here https://github.com/isolderea/Selenium-Recipes/tree/master/resources","body":"Here <a href=\"https://github.com/isolderea/Selenium-Recipes/tree/master/resources\" rel=\"nofollow noreferrer\">github.com/isolderea/Selenium-Recipes/tree/master/resources</a>"}],"tags":[],"owner":{"account_id":13356819,"reputation":227,"user_id":9640080,"display_name":"Rester Test"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612187074,"creation_date":1612187074,"answer_id":65993791,"question_id":42198564,"body_markdown":"So this thing made me crazy for a couple of days but I have found an answer.\r\n\r\nMade a video about it\r\n\r\nhttps://www.youtube.com/watch?v=hOprGzKBD9I&amp;feature=youtu.be\r\n\r\nTo explain also in words/code what needs to be done\r\n\r\n1 - You need to import an external JS file resources/drag_and_drop.js\r\n2 - After you need to run make a function that will execute JS\r\n\r\nBelow is mine - \r\n* This method implement the drag and drop action use selenium webdriver\r\n* The strings need to be CSS Locations\r\n    \r\n\r\n\r\n        public void dragIT (String Fromlocator, String ToLocator) \r\n        \r\n\r\n\r\n        String filePath = &quot;resources/drag_and_drop.js&quot;;\r\n        StringBuffer buffer = new StringBuffer();\r\n\r\n        String line;\r\n        BufferedReader br = new BufferedReader(new FileReader(filePath));\r\n        while((line = br.readLine())!=null)\r\n            buffer.append(line);\r\n\r\n        String javaScript = buffer.toString();\r\n        String commandToExecute =  &quot;$(&#39;&quot;+Fromlocator+&quot;&#39;).simulateDragDrop({ dropTarget: &#39;&quot;+ToLocator+&quot;&#39;});&quot;;\r\n\r\n        javaScript = javaScript + commandToExecute;\r\n        ((JavascriptExecutor)driver).executeScript(javaScript)   }","title":"Drag and Drop in selenium java","body":"<p>So this thing made me crazy for a couple of days but I have found an answer.</p>\n<p>Made a video about it</p>\n<p><a href=\"https://www.youtube.com/watch?v=hOprGzKBD9I&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=hOprGzKBD9I&amp;feature=youtu.be</a></p>\n<p>To explain also in words/code what needs to be done</p>\n<p>1 - You need to import an external JS file resources/drag_and_drop.js\n2 - After you need to run make a function that will execute JS</p>\n<p>Below is mine -</p>\n<ul>\n<li><p>This method implement the drag and drop action use selenium webdriver</p>\n</li>\n<li><p>The strings need to be CSS Locations</p>\n<pre><code>  public void dragIT (String Fromlocator, String ToLocator) \n\n\n\n  String filePath = &quot;resources/drag_and_drop.js&quot;;\n  StringBuffer buffer = new StringBuffer();\n\n  String line;\n  BufferedReader br = new BufferedReader(new FileReader(filePath));\n  while((line = br.readLine())!=null)\n      buffer.append(line);\n\n  String javaScript = buffer.toString();\n  String commandToExecute =  &quot;$('&quot;+Fromlocator+&quot;').simulateDragDrop({ dropTarget: '&quot;+ToLocator+&quot;'});&quot;;\n\n  javaScript = javaScript + commandToExecute;\n  ((JavascriptExecutor)driver).executeScript(javaScript)   }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":904283,"reputation":432,"user_id":970082,"accept_rate":86,"display_name":"Sasha Kolsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676237561,"creation_date":1676236864,"answer_id":75430256,"question_id":42198564,"body_markdown":"Apparently this applies in some cases (when HTML5 draggable attribute is used).\r\nHere is what I found: https://elementalselenium.com/tips/39-drag-and-drop\r\n\r\nHere is my solution, I modified the javascript file a bit, so it will make use of `executeScript` optional `args` and not use string concatenation.\r\n\r\n\r\n```\r\nvar source = arguments[0];\r\nvar target = arguments[1];\r\n(function( $ ) {\r\n    $.fn.simulateDragDrop = function(options) {\r\n        return this.each(function() {\r\n            new $.simulateDragDrop(this, options);\r\n        });\r\n    };\r\n    $.simulateDragDrop = function(elem, options) {\r\n        this.options = options;\r\n        this.simulateEvent(elem, options);\r\n    };\r\n    $.extend($.simulateDragDrop.prototype, {\r\n        simulateEvent: function(elem, options) {\r\n            /*Simulating drag start*/\r\n            var type = &#39;dragstart&#39;;\r\n            var event = this.createEvent(type);\r\n            this.dispatchEvent(elem, type, event);\r\n\r\n            /*Simulating drop*/\r\n            type = &#39;drop&#39;;\r\n            var dropEvent = this.createEvent(type, {});\r\n            dropEvent.dataTransfer = event.dataTransfer;\r\n            this.dispatchEvent($(options.dropTarget)[0], type, dropEvent);\r\n\r\n            /*Simulating drag end*/\r\n            type = &#39;dragend&#39;;\r\n            var dragEndEvent = this.createEvent(type, {});\r\n            dragEndEvent.dataTransfer = event.dataTransfer;\r\n            this.dispatchEvent(elem, type, dragEndEvent);\r\n        },\r\n        createEvent: function(type) {\r\n            var event = document.createEvent(&quot;CustomEvent&quot;);\r\n            event.initCustomEvent(type, true, true, null);\r\n            event.dataTransfer = {\r\n                data: {\r\n                },\r\n                setData: function(type, val){\r\n                        this.data[type] = val;\r\n                },\r\n                getData: function(type){\r\n                        return this.data[type];\r\n                }\r\n            };\r\n            return event;\r\n        },\r\n        dispatchEvent: function(elem, type, event) {\r\n            if(elem.dispatchEvent) {\r\n                elem.dispatchEvent(event);\r\n            }else if( elem.fireEvent ) {\r\n                elem.fireEvent(&quot;on&quot;+type, event);\r\n            }\r\n        }\r\n    });\r\n})(jQuery);\r\n$(source).simulateDragDrop({ dropTarget: target});\r\n```\r\n\r\nWith this, you can simple call it with parameters now:\r\n\r\nExcerpt from **Java** test method:\r\n---------\r\n```\r\nJavascriptExecutor js = (JavascriptExecutor) getDriver();\r\nString script = Utils.readFileContents(&quot;/dragAndDrop.js&quot;);\r\n\r\n// First Drag &amp; Drop\r\njs. executeScript(script, dndPage.getColumnA(), dndPage.getColumnB());\r\nassertThat(dndPage.getColumnAHeaderText()).isEqualTo(&quot;B&quot;);\r\nassertThat(dndPage.getColumnBHeaderText()).isEqualTo(&quot;A&quot;);\r\n```\r\n\r\nHope this helps someone.","title":"Drag and Drop in selenium java","body":"<p>Apparently this applies in some cases (when HTML5 draggable attribute is used).\nHere is what I found: <a href=\"https://elementalselenium.com/tips/39-drag-and-drop\" rel=\"nofollow noreferrer\">https://elementalselenium.com/tips/39-drag-and-drop</a></p>\n<p>Here is my solution, I modified the javascript file a bit, so it will make use of <code>executeScript</code> optional <code>args</code> and not use string concatenation.</p>\n<pre><code>var source = arguments[0];\nvar target = arguments[1];\n(function( $ ) {\n    $.fn.simulateDragDrop = function(options) {\n        return this.each(function() {\n            new $.simulateDragDrop(this, options);\n        });\n    };\n    $.simulateDragDrop = function(elem, options) {\n        this.options = options;\n        this.simulateEvent(elem, options);\n    };\n    $.extend($.simulateDragDrop.prototype, {\n        simulateEvent: function(elem, options) {\n            /*Simulating drag start*/\n            var type = 'dragstart';\n            var event = this.createEvent(type);\n            this.dispatchEvent(elem, type, event);\n\n            /*Simulating drop*/\n            type = 'drop';\n            var dropEvent = this.createEvent(type, {});\n            dropEvent.dataTransfer = event.dataTransfer;\n            this.dispatchEvent($(options.dropTarget)[0], type, dropEvent);\n\n            /*Simulating drag end*/\n            type = 'dragend';\n            var dragEndEvent = this.createEvent(type, {});\n            dragEndEvent.dataTransfer = event.dataTransfer;\n            this.dispatchEvent(elem, type, dragEndEvent);\n        },\n        createEvent: function(type) {\n            var event = document.createEvent(&quot;CustomEvent&quot;);\n            event.initCustomEvent(type, true, true, null);\n            event.dataTransfer = {\n                data: {\n                },\n                setData: function(type, val){\n                        this.data[type] = val;\n                },\n                getData: function(type){\n                        return this.data[type];\n                }\n            };\n            return event;\n        },\n        dispatchEvent: function(elem, type, event) {\n            if(elem.dispatchEvent) {\n                elem.dispatchEvent(event);\n            }else if( elem.fireEvent ) {\n                elem.fireEvent(&quot;on&quot;+type, event);\n            }\n        }\n    });\n})(jQuery);\n$(source).simulateDragDrop({ dropTarget: target});\n</code></pre>\n<p>With this, you can simple call it with parameters now:</p>\n<h2>Excerpt from <strong>Java</strong> test method:</h2>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) getDriver();\nString script = Utils.readFileContents(&quot;/dragAndDrop.js&quot;);\n\n// First Drag &amp; Drop\njs. executeScript(script, dndPage.getColumnA(), dndPage.getColumnB());\nassertThat(dndPage.getColumnAHeaderText()).isEqualTo(&quot;B&quot;);\nassertThat(dndPage.getColumnBHeaderText()).isEqualTo(&quot;A&quot;);\n</code></pre>\n<p>Hope this helps someone.</p>\n"}],"owner":{"account_id":10221828,"reputation":27,"user_id":7545789,"accept_rate":40,"display_name":"Dhanush jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1676237561,"creation_date":1486970523,"question_id":42198564,"body_markdown":"I try to drag and drop the content into search-textbox in selenium,but it perform drag operation but it not drop it into search-textbox.so my question is how to drop into textbox.\r\n  \r\n    driver.get(&quot;http://stackoverflow.com/questions/42159265/drag-and-drop-content-into-textbox-by-using-selenium&quot;);\t\t\t\t    \r\n    WebElement from = driver.findElement(By.xpath(&quot;//*[@id=&#39;qinfo&#39;]/tbody/tr[1]/td[2]/p/b&quot;));\r\n\tActions builder = new Actions(driver);\r\n\t\t\tbuilder.doubleClick(from).perform();\r\n\t\t\tThread.sleep(1000);\r\n\r\n\tWebElement to = driver.findElement(By.name(&quot;q&quot;));\r\n\tAction dragAndDrop = builder.clickAndHold(from).moveToElement(to).release(to).build();\r\n\t    \tdragAndDrop.perform();","title":"Drag and Drop in selenium java","body":"<p>I try to drag and drop the content into search-textbox in selenium,but it perform drag operation but it not drop it into search-textbox.so my question is how to drop into textbox.</p>\n\n<pre><code>driver.get(\"http://stackoverflow.com/questions/42159265/drag-and-drop-content-into-textbox-by-using-selenium\");                 \nWebElement from = driver.findElement(By.xpath(\"//*[@id='qinfo']/tbody/tr[1]/td[2]/p/b\"));\nActions builder = new Actions(driver);\n        builder.doubleClick(from).perform();\n        Thread.sleep(1000);\n\nWebElement to = driver.findElement(By.name(\"q\"));\nAction dragAndDrop = builder.clickAndHold(from).moveToElement(to).release(to).build();\n        dragAndDrop.perform();\n</code></pre>\n"},{"tags":["java","spring-boot","graphql","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676179378,"post_id":75425003,"comment_id":133083768,"body_markdown":"Have a look at the heap dump and see what still has a reference to the Book instances.","body":"Have a look at the heap dump and see what still has a reference to the Book instances."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1676195250,"post_id":75425003,"comment_id":133085290,"body_markdown":"Nobody can find the cause of the (probable) memory leak in your code based on the information you have provided.  So I have found you a duplink to help you to find the leak for yourself.","body":"Nobody can find the cause of the (probable) memory leak in your code based on the information you have provided.  So I have found you a duplink to help you to find the leak for yourself."}],"owner":{"account_id":12877421,"reputation":51,"user_id":10338562,"display_name":"Farinaz Kiani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676195145,"answer_count":0,"score":0,"last_activity_date":1676237293,"creation_date":1676178408,"question_id":75425003,"body_markdown":"I am using java 17 and Spring Boot for GraphQL and experiencing a Java Heap Space OutOfMemoryError when handling large response payloads.\r\n\r\nAs you know spring provides an annotation-based programming model for GraphQL and my handlers look like this:\r\n\r\n    @QueryMapping\r\n    public Mono&lt;Book&gt; bookById(@Argument Long id) {\r\n        // ...\r\n    }\r\n    \r\n\r\nThe instances of my handler&#39;s return type (Book) are not being cleared from the heap even after a GC run.\r\n\r\nThe **pom file** looks like this:\r\n\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\t\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;r2dbc-mssql&lt;/artifactId&gt;\r\n            &lt;version&gt;${io.r2dbc.mssql.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;graphql-java-extended-scalars&lt;/artifactId&gt;\r\n            &lt;version&gt;${graphql.extended.scalars.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.commons.text.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-dataloader&lt;/artifactId&gt;\r\n            &lt;version&gt;${com.graphql.java.dataloader.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\r\n            &lt;version&gt;${com.googlecode.html.sanitizer.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons.io.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.spark.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\n\r\nWhat could be the reason for this issue and how can I resolve it?","title":"What could be causing a &#39;java.lang.outOfMemoryError: java heap space&#39; error in a Spring Boot GraphQL application","body":"<p>I am using java 17 and Spring Boot for GraphQL and experiencing a Java Heap Space OutOfMemoryError when handling large response payloads.</p>\n<p>As you know spring provides an annotation-based programming model for GraphQL and my handlers look like this:</p>\n<pre><code>@QueryMapping\npublic Mono&lt;Book&gt; bookById(@Argument Long id) {\n    // ...\n}\n</code></pre>\n<p>The instances of my handler's return type (Book) are not being cleared from the heap even after a GC run.</p>\n<p>The <strong>pom file</strong> looks like this:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n        &lt;artifactId&gt;r2dbc-mssql&lt;/artifactId&gt;\n        &lt;version&gt;${io.r2dbc.mssql.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;graphql-java-extended-scalars&lt;/artifactId&gt;\n        &lt;version&gt;${graphql.extended.scalars.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;${org.apache.commons.text.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n        &lt;artifactId&gt;java-dataloader&lt;/artifactId&gt;\n        &lt;version&gt;${com.graphql.java.dataloader.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\n        &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\n        &lt;version&gt;${com.googlecode.html.sanitizer.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;${commons.io.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${org.apache.spark.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n        &lt;version&gt;${org.apache.spark.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>What could be the reason for this issue and how can I resolve it?</p>\n"},{"tags":["java","jpa","equals","hashcode","equalsverifier"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676208336,"post_id":75427207,"comment_id":133087259,"body_markdown":"Your hashcode implementation is quite unusual. It will yield the same value for all instances. While this is allowed, it is not recommended, because hashmaps will perform worse when your class is used as key type.","body":"Your hashcode implementation is quite unusual. It will yield the same value for all instances. While this is allowed, it is not recommended, because hashmaps will perform worse when your class is used as key type."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1676208551,"post_id":75427207,"comment_id":133087299,"body_markdown":"Does this answer your question? [Best implementation for hashCode method for a collection](https://stackoverflow.com/questions/113511/best-implementation-for-hashcode-method-for-a-collection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/113511/best-implementation-for-hashcode-method-for-a-collection\">Best implementation for hashCode method for a collection</a>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1676221781,"post_id":75427207,"comment_id":133089627,"body_markdown":"[your implementation of #equals seems to be wrong](https://stackoverflow.com/a/74730796/3426309)","body":"<a href=\"https://stackoverflow.com/a/74730796/3426309\">your implementation of #equals seems to be wrong</a>"},{"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"score":0,"creation_date":1676236146,"post_id":75427207,"comment_id":133092256,"body_markdown":"@Hulk, please take a look on this article https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/ here is described why I use this variant of hashcode. The main point that it&#39;s JPA Entity and when the same classes have the same hashcode then they simply will be in one bucket but in meanwhile comparison will be provided by equals. And one more thing if hashcodes of two entities are the same it doesn&#39;t mean that entities are equal. But if xEntity.equals(yEntity) = true it does mean that entities are equal and their hashcodes too.","body":"@Hulk, please take a look on this article <a href=\"https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/\" rel=\"nofollow noreferrer\">thorben-janssen.com/&hellip;</a> here is described why I use this variant of hashcode. The main point that it&#39;s JPA Entity and when the same classes have the same hashcode then they simply will be in one bucket but in meanwhile comparison will be provided by equals. And one more thing if hashcodes of two entities are the same it doesn&#39;t mean that entities are equal. But if xEntity.equals(yEntity) = true it does mean that entities are equal and their hashcodes too."}],"answers":[{"comments":[{"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"score":0,"creation_date":1676236681,"post_id":75428675,"comment_id":133092357,"body_markdown":"thank you for your answer! And some another question: what do you think of using if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false; instead of if (!(o instanceof User user)) return false; ? why EqualsVerifier doesn&#39;t allow such variant?","body":"thank you for your answer! And some another question: what do you think of using if (o == null || Hibernate.getClass(this) != Hibernate.getClass(o)) return false; instead of if (!(o instanceof User user)) return false; ? why EqualsVerifier doesn&#39;t allow such variant?"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1676271165,"post_id":75428675,"comment_id":133096325,"body_markdown":"I&#39;m not familiar with that idiom, but it looks like you&#39;d have to use `.usingGetClass()` to make it work.","body":"I&#39;m not familiar with that idiom, but it looks like you&#39;d have to use <code>.usingGetClass()</code> to make it work."}],"tags":[],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676221321,"creation_date":1676221321,"answer_id":75428675,"question_id":75427207,"body_markdown":"Disclaimer: I&#39;m the creator and maintainer of EqualsVerifier.\r\n\r\nYou have to `.suppress(Warning.STRICT_HASHCODE)` in this case, because EqualsVerifier doesn&#39;t recognise this by default.\r\n\r\nI&#39;m aware of the best practices you cite, and I&#39;ve considered enforcing them in EqualsVerifier, but I decided against it for now.","title":"Equals Verifier fails with error related to hashcode check for JPA entity","body":"<p>Disclaimer: I'm the creator and maintainer of EqualsVerifier.</p>\n<p>You have to <code>.suppress(Warning.STRICT_HASHCODE)</code> in this case, because EqualsVerifier doesn't recognise this by default.</p>\n<p>I'm aware of the best practices you cite, and I've considered enforcing them in EqualsVerifier, but I decided against it for now.</p>\n"}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676236988,"creation_date":1676207440,"question_id":75427207,"body_markdown":"Given we have such class:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    private Integer age;\r\n\r\n    @Override\r\n    public final boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof User user)) return false;\r\n\r\n        return Objects.equals(id, user.id);\r\n    }\r\n\r\n    @Override\r\n    public final int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n}\r\n```\r\nWhen I test it via EqualsVerifier (https://jqno.nl/equalsverifier/) I get an error:\r\n```\r\njava.lang.AssertionError: EqualsVerifier found a problem in class com.example.model.User.\r\n-&gt; Significant fields: equals relies on id, but hashCode does not.\r\n  com.example.model.User@e11ecfa has hashCode 236055802\r\n  com.example.model.User@e11ecfa has hashCode 236055802\r\n```\r\n\r\nWhy I getting this error while using constant in hashcode is a best practice according to:\r\n1. https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/\r\n2. https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\r\n\r\nYes, I can suppress this error by .suppress(Warning.STRICT_HASHCODE) option. But looks like this behaviour should be used by EqualsVerifier by default. Or maybe I&#39;m wrong?","title":"Equals Verifier fails with error related to hashcode check for JPA entity","body":"<p>Given we have such class:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\npublic class User {\n    @Id\n    private Long id;\n\n    private String name;\n\n    private Integer age;\n\n    @Override\n    public final boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof User user)) return false;\n\n        return Objects.equals(id, user.id);\n    }\n\n    @Override\n    public final int hashCode() {\n        return getClass().hashCode();\n    }\n}\n</code></pre>\n<p>When I test it via EqualsVerifier (<a href=\"https://jqno.nl/equalsverifier/\" rel=\"nofollow noreferrer\">https://jqno.nl/equalsverifier/</a>) I get an error:</p>\n<pre><code>java.lang.AssertionError: EqualsVerifier found a problem in class com.example.model.User.\n-&gt; Significant fields: equals relies on id, but hashCode does not.\n  com.example.model.User@e11ecfa has hashCode 236055802\n  com.example.model.User@e11ecfa has hashCode 236055802\n</code></pre>\n<p>Why I getting this error while using constant in hashcode is a best practice according to:</p>\n<ol>\n<li><a href=\"https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/ultimate-guide-to-implementing-equals-and-hashcode-with-hibernate/</a></li>\n<li><a href=\"https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-implement-equals-and-hashcode-using-the-jpa-entity-identifier/</a></li>\n</ol>\n<p>Yes, I can suppress this error by .suppress(Warning.STRICT_HASHCODE) option. But looks like this behaviour should be used by EqualsVerifier by default. Or maybe I'm wrong?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","google-chrome-headless"],"answers":[{"comments":[{"owner":{"account_id":14187734,"reputation":47,"user_id":10249246,"display_name":"bici"},"score":0,"creation_date":1676279311,"post_id":75430259,"comment_id":133098142,"body_markdown":"Hi and thanks for the reply, I added that line to wait (for 10 seconds), but I&#39;m getting the exception, ```Expected condition failed: waiting for number of open windows to be 2```","body":"Hi and thanks for the reply, I added that line to wait (for 10 seconds), but I&#39;m getting the exception, <code>Expected condition failed: waiting for number of open windows to be 2</code>"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676283109,"post_id":75430259,"comment_id":133099177,"body_markdown":"So second window isn&#39;t opened and the two window handles you observe in non-headless mode is something else.","body":"So second window isn&#39;t opened and the two window handles you observe in non-headless mode is something else."},{"owner":{"account_id":14187734,"reputation":47,"user_id":10249246,"display_name":"bici"},"score":0,"creation_date":1676288933,"post_id":75430259,"comment_id":133100663,"body_markdown":"Second window is the print window in non-headless mode, i can interact with it. But in the headless mode it just isn&#39;t there even though the button is clicked, or its there but chromeDriver just doesn&#39;t see it.","body":"Second window is the print window in non-headless mode, i can interact with it. But in the headless mode it just isn&#39;t there even though the button is clicked, or its there but chromeDriver just doesn&#39;t see it."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676236874,"creation_date":1676236874,"answer_id":75430259,"question_id":75429185,"body_markdown":"Before you invoke `getWindowHandles()` ensure that the second window handle is present inducing [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for [_`numberOfWindowsToBe(n)`_](https://stackoverflow.com/a/49031245/7429447) as follows:\r\n\r\n\tnew WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.numberOfWindowsToBe(2));\r\n\tSystem.out.println(chromeDriver.getWindowHandles());","title":"ChromeDriver doesn&#39;t see Chrome Print Dialog Box only in headless mode","body":"<p>Before you invoke <code>getWindowHandles()</code> ensure that the second window handle is present inducing <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for <a href=\"https://stackoverflow.com/a/49031245/7429447\"><em><code>numberOfWindowsToBe(n)</code></em></a> as follows:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(5)).until(ExpectedConditions.numberOfWindowsToBe(2));\nSystem.out.println(chromeDriver.getWindowHandles());\n</code></pre>\n"}],"owner":{"account_id":14187734,"reputation":47,"user_id":10249246,"display_name":"bici"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676236874,"creation_date":1676225849,"question_id":75429185,"body_markdown":"I&#39;m having issues with running chrome driver in headless mode and interacting with Print Dialog box. It seems that headless chrome doesn&#39;t even open Print Dialog Box.\r\n\r\nHere is my code for clicking on Save As Pdf button \r\n\r\n\r\n```java\r\n    private static void clickOnSaveAsPdf() {\r\n        WebElement saveAsPdfButton = chromeDriver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[3]/div[1]/main/div/div/div[1]/div[3]/div/button[2]&quot;));\r\n        saveAsPdfButton.click();\r\n    }\r\n```\r\n\r\nThis part of code above is executed without issues every time. So the issues start when i try to switch windows and focus on print dialog box. When I execute this line of code:\r\n\r\n```System.out.println(chromeDriver.getWindowHandles());```\r\n\r\nI get different results when in headless and when in non-headless.\r\n\r\nIn non-headless mode result I&#39;m getting is: ```[CDwindow-55CA15B96D8DB58A454CC30B30F0F970, CDwindow-8CB30AB28BC2E8BCDE395BAA9F7B9101]```\r\n\r\nBut in headless mode, result I&#39;m getting is: ```[CDwindow-15ED0AA78CE73CA53CA71E6FB2A94998]```\r\n\r\nSo, obviously, headless chrome doesn&#39;t see print dialog box. Is there any way I can access it? Here is the method that starts ChromeDriver, with its options and prefs:\r\n\r\n```java\r\n    public static void runChromeDriver() {\r\n        String chromeDriverPath = &quot;/home/nemanja/Downloads/chromedriver_linux64/chromedriver&quot;;\r\n\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;--headless&quot;);\r\n        options.addArguments(&quot;--window-size=1920, 1080&quot;);\r\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n\r\n        HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\r\n        prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n        prefs.put(&quot;download.default_directory&quot;, getFullPathToTempDirectory());\r\n        prefs.put(&quot;download.prompt_for_download&quot;, false);\r\n        prefs.put(&quot;download.directory_upgrade&quot;, true);\r\n        prefs.put(&quot;plugins.always_open_pdf_externally&quot;, true);\r\n\r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n        chromeDriver = new ChromeDriver(options);\r\n    }\r\n```\r\n\r\nSome further info, I&#39;m using Java 17, ChromeDriver v111 and my OS is Ubuntu 22.04.","title":"ChromeDriver doesn&#39;t see Chrome Print Dialog Box only in headless mode","body":"<p>I'm having issues with running chrome driver in headless mode and interacting with Print Dialog box. It seems that headless chrome doesn't even open Print Dialog Box.</p>\n<p>Here is my code for clicking on Save As Pdf button</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static void clickOnSaveAsPdf() {\n        WebElement saveAsPdfButton = chromeDriver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[3]/div[1]/main/div/div/div[1]/div[3]/div/button[2]&quot;));\n        saveAsPdfButton.click();\n    }\n</code></pre>\n<p>This part of code above is executed without issues every time. So the issues start when i try to switch windows and focus on print dialog box. When I execute this line of code:</p>\n<p><code>System.out.println(chromeDriver.getWindowHandles());</code></p>\n<p>I get different results when in headless and when in non-headless.</p>\n<p>In non-headless mode result I'm getting is: <code>[CDwindow-55CA15B96D8DB58A454CC30B30F0F970, CDwindow-8CB30AB28BC2E8BCDE395BAA9F7B9101]</code></p>\n<p>But in headless mode, result I'm getting is: <code>[CDwindow-15ED0AA78CE73CA53CA71E6FB2A94998]</code></p>\n<p>So, obviously, headless chrome doesn't see print dialog box. Is there any way I can access it? Here is the method that starts ChromeDriver, with its options and prefs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void runChromeDriver() {\n        String chromeDriverPath = &quot;/home/nemanja/Downloads/chromedriver_linux64/chromedriver&quot;;\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--window-size=1920, 1080&quot;);\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n\n        HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n\n        prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n        prefs.put(&quot;download.default_directory&quot;, getFullPathToTempDirectory());\n        prefs.put(&quot;download.prompt_for_download&quot;, false);\n        prefs.put(&quot;download.directory_upgrade&quot;, true);\n        prefs.put(&quot;plugins.always_open_pdf_externally&quot;, true);\n\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\n\n        chromeDriver = new ChromeDriver(options);\n    }\n</code></pre>\n<p>Some further info, I'm using Java 17, ChromeDriver v111 and my OS is Ubuntu 22.04.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jackson"],"comments":[{"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"score":0,"creation_date":1474498148,"post_id":39627170,"comment_id":66560925,"body_markdown":"Can you add an example of current serialization and desire? You can always annotate your bean to use a custom serialization and Spring-Boot will use it.","body":"Can you add an example of current serialization and desire? You can always annotate your bean to use a custom serialization and Spring-Boot will use it."},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1474498278,"post_id":39627170,"comment_id":66560959,"body_markdown":"@jbarrueta my classes are in a jar file and I cannot add annotations on them. I&#39;m using Jackson mixins for serialization","body":"@jbarrueta my classes are in a jar file and I cannot add annotations on them. I&#39;m using Jackson mixins for serialization"},{"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"score":0,"creation_date":1474498417,"post_id":39627170,"comment_id":66560997,"body_markdown":"This might help you: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper","body":"This might help you: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-spring-mvc.html#howto-customize-the-jackson-objectmapper\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1474649162,"post_id":39627170,"comment_id":66633106,"body_markdown":"@PunterVicky - the default serialization is Jersey via Jackson, so anything that is Jersey via Jackson is applicable and exactly the same. The *answers* are just links to the documenatation **you have not read yourself** and just link only answers with some minimal explination of what the links represent and thus very low quality.","body":"@PunterVicky - the default serialization is Jersey via Jackson, so anything that is Jersey via Jackson is applicable and exactly the same. The <i>answers</i> are just links to the documenatation <b>you have not read yourself</b> and just link only answers with some minimal explination of what the links represent and thus very low quality."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1474650904,"post_id":39627170,"comment_id":66633992,"body_markdown":"*Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. [See: How to create a Minimal, Complete, and Verifiable example.](http://stackoverflow.com/help/mcve)*","body":"<i>Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. <a href=\"http://stackoverflow.com/help/mcve\">See: How to create a Minimal, Complete, and Verifiable example.</a></i>"}],"answers":[{"comments":[{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1474560972,"post_id":39635496,"comment_id":66591638,"body_markdown":"Thanks @Lakatos. I updated the mixins but still doesn&#39;t take effect. I have updated the code in my original post.","body":"Thanks @Lakatos. I updated the mixins but still doesn&#39;t take effect. I have updated the code in my original post."},{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1474647570,"post_id":39635496,"comment_id":66632264,"body_markdown":"I implemented this in a separate program and this works great. However when I used it in my app , it didn&#39;t return the formatted date. I am extending classes from few jars which are using EnableMvc annotation. I am suspecting this causing serialization from being performed.","body":"I implemented this in a separate program and this works great. However when I used it in my app , it didn&#39;t return the formatted date. I am extending classes from few jars which are using EnableMvc annotation. I am suspecting this causing serialization from being performed."}],"tags":[],"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1676236869,"creation_date":1474537166,"answer_id":39635496,"question_id":39627170,"body_markdown":"You can customize the Jackson serializer in a spring boot application in a lot of ways. Please consider checking the documentation regarding jackson [in the spring boot reference guide](https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto.html#howto.spring-mvc.customize-jackson-objectmapper).\r\n\r\nYou can configure a custom serializer by using **Jackson2ObjectMapperBuilder**.\r\n\r\nhttp://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#serializerByType-java.lang.Class-com.fasterxml.jackson.databind.JsonSerializer-","title":"Spring Boot - Custom JSON Serialization","body":"<p>You can customize the Jackson serializer in a spring boot application in a lot of ways. Please consider checking the documentation regarding jackson <a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/howto.html#howto.spring-mvc.customize-jackson-objectmapper\" rel=\"nofollow noreferrer\">in the spring boot reference guide</a>.</p>\n<p>You can configure a custom serializer by using <strong>Jackson2ObjectMapperBuilder</strong>.</p>\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#serializerByType-java.lang.Class-com.fasterxml.jackson.databind.JsonSerializer-\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html#serializerByType-java.lang.Class-com.fasterxml.jackson.databind.JsonSerializer-</a></p>\n"},{"comments":[{"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"score":0,"creation_date":1474544976,"post_id":39636534,"comment_id":66580188,"body_markdown":"Thanks @dimuha. But I have multiple date fields each having different format.","body":"Thanks @dimuha. But I have multiple date fields each having different format."}],"tags":[],"owner":{"account_id":3249015,"reputation":1171,"user_id":2739813,"display_name":"dmytro"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1474539908,"creation_date":1474539908,"answer_id":39636534,"question_id":39627170,"body_markdown":"You can customize date format (as I understand it&#39;s the main reason of your post) by setting property\r\n\r\n    spring.jackson.date-format= \r\n    # Date format string or a fully-qualified date format class name.\r\n    For instance `yyyy-MM-dd HH:mm:ss`.\r\n\r\n","title":"Spring Boot - Custom JSON Serialization","body":"<p>You can customize date format (as I understand it's the main reason of your post) by setting property</p>\n\n<pre><code>spring.jackson.date-format= \n# Date format string or a fully-qualified date format class name.\nFor instance `yyyy-MM-dd HH:mm:ss`.\n</code></pre>\n"}],"owner":{"account_id":1035149,"reputation":16298,"user_id":1042646,"accept_rate":78,"display_name":"Punter Vicky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50373,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1474644804,"accepted_answer_id":39635496,"answer_count":2,"score":6,"last_activity_date":1676236869,"creation_date":1474494837,"question_id":39627170,"body_markdown":"I generally use mixins to perform custom serialization and deserialization when using Jackson Library. My RestController in Spring Boot app has methods similar to one listed below. I guess Spring Boot uses Jackson to serialize the VerifyAccountResponse into string. However this converts my calendar / date objects into a long value when they are converted to String. I am able to convert them into appropriate format by using custom serializer. However I am having to change the return type into an object after serialization. Is there a way to retain the same signature and add custom serializer to default serialization performed by Spring Boot.\r\n\r\n    @RequestMapping(value =&quot;verifyAccount&quot;, method = RequestMethod.POST, produces=MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;VerifyAccountResponse&gt; verifyAccount(@RequestBody VerifyAccountRequest request) {\r\n    \r\n        VerifyAccountResponse response = service.verifyAccount(request);\r\n    \r\n        return new ResponseEntity&lt;VerifyAccountResponse&gt;(response, HttpStatus.OK);\r\n    }\r\n\r\n\r\n\r\nEDIT:\r\n\r\n    Updated the below based on the answers , but mixin doesn&#39;t seem to take effect -\r\n    \r\n    @Bean\r\n    public Jackson2ObjectMapperBuilder objectMapperBuilder() {\r\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n        \r\n        builder.mixIn(ConnectStatus.class, com.datacast.service.util.DateFormatSerializerMixin.class);\r\n        \r\n        return builder;\r\n    }\r\n\r\n\r\nEDIT 2:\r\n\r\nI created a simple spring boot project to  test this out and this works fine. But when I use this approach in my larger project , the date conversion is not happening. Could there be anything overriding Jackson2ObjectMapperBuilder ?\r\n","title":"Spring Boot - Custom JSON Serialization","body":"<p>I generally use mixins to perform custom serialization and deserialization when using Jackson Library. My RestController in Spring Boot app has methods similar to one listed below. I guess Spring Boot uses Jackson to serialize the VerifyAccountResponse into string. However this converts my calendar / date objects into a long value when they are converted to String. I am able to convert them into appropriate format by using custom serializer. However I am having to change the return type into an object after serialization. Is there a way to retain the same signature and add custom serializer to default serialization performed by Spring Boot.</p>\n\n<pre><code>@RequestMapping(value =\"verifyAccount\", method = RequestMethod.POST, produces=MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;VerifyAccountResponse&gt; verifyAccount(@RequestBody VerifyAccountRequest request) {\n\n    VerifyAccountResponse response = service.verifyAccount(request);\n\n    return new ResponseEntity&lt;VerifyAccountResponse&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<pre><code>Updated the below based on the answers , but mixin doesn't seem to take effect -\n\n@Bean\npublic Jackson2ObjectMapperBuilder objectMapperBuilder() {\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n\n    builder.mixIn(ConnectStatus.class, com.datacast.service.util.DateFormatSerializerMixin.class);\n\n    return builder;\n}\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>I created a simple spring boot project to  test this out and this works fine. But when I use this approach in my larger project , the date conversion is not happening. Could there be anything overriding Jackson2ObjectMapperBuilder ?</p>\n"},{"tags":["java","collections","guava"],"answers":[{"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":4,"creation_date":1305727522,"post_id":6045960,"comment_id":6994668,"body_markdown":"...or just use Guava&#39;s Multimaps!","body":"...or just use Guava&#39;s Multimaps!"},{"owner":{"account_id":5565916,"reputation":711,"user_id":4413241,"accept_rate":43,"display_name":"javapalava"},"score":0,"creation_date":1425813819,"post_id":6045960,"comment_id":46107932,"body_markdown":"Hi Bozho - I found this question because I&#39;m trying to do something similar, and your answer is really helpful. Would you be able to elaborate on how you would go about initialising a set and then converting it to a HashMap when you add objects to it?","body":"Hi Bozho - I found this question because I&#39;m trying to do something similar, and your answer is really helpful. Would you be able to elaborate on how you would go about initialising a set and then converting it to a HashMap when you add objects to it?"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305727223,"creation_date":1305727223,"answer_id":6045960,"question_id":6045943,"body_markdown":"You can put `null` values. It is allowed by `HashMap`\r\n\r\nYou can also use a `Set` initially, and check it for the key, and then fill the map.","title":"adding a key to HashMap without the value?","body":"<p>You can put <code>null</code> values. It is allowed by <code>HashMap</code></p>\n\n<p>You can also use a <code>Set</code> initially, and check it for the key, and then fill the map.</p>\n"},{"tags":[],"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1453383767,"creation_date":1305727463,"answer_id":6046027,"question_id":6045943,"body_markdown":"Since you&#39;re using a `Map&lt;String, List&lt;Object&gt;&gt;`, you&#39;re ***really*** looking for a [multimap][1]. I highly recommend using a third-party library such as Google Guava for this - see [Guava&#39;s `Multimaps`][2].\r\n\r\n    Multimap&lt;String, Object&gt; myMultimap = ArrayListMultimap.create();\r\n    \r\n    // fill it\r\n    myMultimap.put(&quot;hello&quot;, &quot;hola&quot;);\r\n    myMultimap.put(&quot;hello&quot;, &quot;buongiorno&quot;);\r\n    myMultimap.put(&quot;hello&quot;, &quot;สวัสดี&quot;);\r\n    \r\n    // retrieve\r\n    List&lt;String&gt; greetings = myMultimap.get(&quot;hello&quot;);\r\n                          // [&quot;hola&quot;, &quot;buongiorno&quot;, &quot;สวัสดี&quot;]\r\n                          \r\n----\r\n\r\nJava 8 update: I&#39;m no longer convinced that every `Map&lt;K, SomeCollection&lt;V&gt;&gt;` should be rewritten as a multimap. These days it&#39;s quite easy to get what you need without Guava, thanks to [`Map#computeIfAbsent()`][3].\r\n\r\n    Map&lt;String, List&lt;Object&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n    \r\n    // fill it\r\n    myMap.computeIfAbsent(&quot;hello&quot;, ignored -&gt; new ArrayList&lt;&gt;())\r\n      .addAll(Arrays.asList(&quot;hola&quot;, &quot;buongiorno&quot;, &quot;สวัสดี&quot;);\r\n    \r\n    // retrieve\r\n    List&lt;String&gt; greetings = myMap.get(&quot;hello&quot;);\r\n                          // [&quot;hola&quot;, &quot;buongiorno&quot;, &quot;สวัสดี&quot;]\r\n    \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Multimap\r\n  [2]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimaps.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-","title":"adding a key to HashMap without the value?","body":"<p>Since you're using a <code>Map&lt;String, List&lt;Object&gt;&gt;</code>, you're <strong><em>really</em></strong> looking for a <a href=\"http://en.wikipedia.org/wiki/Multimap\" rel=\"noreferrer\">multimap</a>. I highly recommend using a third-party library such as Google Guava for this - see <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimaps.html\" rel=\"noreferrer\">Guava's <code>Multimaps</code></a>.</p>\n\n<pre><code>Multimap&lt;String, Object&gt; myMultimap = ArrayListMultimap.create();\n\n// fill it\nmyMultimap.put(\"hello\", \"hola\");\nmyMultimap.put(\"hello\", \"buongiorno\");\nmyMultimap.put(\"hello\", \"สวัสดี\");\n\n// retrieve\nList&lt;String&gt; greetings = myMultimap.get(\"hello\");\n                      // [\"hola\", \"buongiorno\", \"สวัสดี\"]\n</code></pre>\n\n<hr>\n\n<p>Java 8 update: I'm no longer convinced that every <code>Map&lt;K, SomeCollection&lt;V&gt;&gt;</code> should be rewritten as a multimap. These days it's quite easy to get what you need without Guava, thanks to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"noreferrer\"><code>Map#computeIfAbsent()</code></a>.</p>\n\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; myMap = new HashMap&lt;&gt;();\n\n// fill it\nmyMap.computeIfAbsent(\"hello\", ignored -&gt; new ArrayList&lt;&gt;())\n  .addAll(Arrays.asList(\"hola\", \"buongiorno\", \"สวัสดี\");\n\n// retrieve\nList&lt;String&gt; greetings = myMap.get(\"hello\");\n                      // [\"hola\", \"buongiorno\", \"สวัสดี\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61630,"reputation":38257,"user_id":183579,"accept_rate":68,"display_name":"Richard H"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305727467,"creation_date":1305727467,"answer_id":6046030,"question_id":6045943,"body_markdown":"I&#39;m not sure you want to do this. You can store `null` as a value for a key, but if you do how will be able to tell, when you do a `.get(&quot;key&quot;)` whether the key exists or if it does exist but with a `null` value? Anyway, see the [docs][1]. \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html#put%28K,%20V%29","title":"adding a key to HashMap without the value?","body":"<p>I'm not sure you want to do this. You can store <code>null</code> as a value for a key, but if you do how will be able to tell, when you do a <code>.get(\"key\")</code> whether the key exists or if it does exist but with a <code>null</code> value? Anyway, see the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html#put%28K,%20V%29\" rel=\"nofollow\">docs</a>. </p>\n"},{"comments":[{"owner":{"account_id":18769,"reputation":1732,"user_id":43356,"display_name":"sarumont"},"score":1,"creation_date":1305736755,"post_id":6046058,"comment_id":6997516,"body_markdown":"If you add `null`, you can test with containsKey().","body":"If you add <code>null</code>, you can test with containsKey()."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1305737911,"post_id":6046058,"comment_id":6997827,"body_markdown":"@sarumont - sure, but you have to *know* that only this method works for the map. I&#39;d be surprised if a map returns `map.get(&quot;key&quot;) == null` and `map.contains(&quot;key&quot;) == true`...","body":"@sarumont - sure, but you have to <i>know</i> that only this method works for the map. I&#39;d be surprised if a map returns <code>map.get(&quot;key&quot;) == null</code> and <code>map.contains(&quot;key&quot;) == true</code>..."},{"owner":{"account_id":18769,"reputation":1732,"user_id":43356,"display_name":"sarumont"},"score":0,"creation_date":1305740550,"post_id":6046058,"comment_id":6998645,"body_markdown":"it works with java.util.HashMap, at least. `map.put( &quot;foo&quot;, null )` yields true for `map.containsKey( &quot;foo&quot; )` and null for `map.get( &quot;foo&quot; )`","body":"it works with java.util.HashMap, at least. <code>map.put( &quot;foo&quot;, null )</code> yields true for <code>map.containsKey( &quot;foo&quot; )</code> and null for <code>map.get( &quot;foo&quot; )</code>"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1305746786,"post_id":6046058,"comment_id":7000540,"body_markdown":"@sarumont - sure: and exactly *that* behaviour would surprise me (in real code) ;)","body":"@sarumont - sure: and exactly <i>that</i> behaviour would surprise me (in real code) ;)"},{"owner":{"account_id":18769,"reputation":1732,"user_id":43356,"display_name":"sarumont"},"score":0,"creation_date":1305749752,"post_id":6046058,"comment_id":7001320,"body_markdown":"Oh, I see what you meant now. :) I would also be surprised, but not overly so - I&#39;ve unfortunately seen worse. ;)","body":"Oh, I see what you meant now. :) I would also be surprised, but not overly so - I&#39;ve unfortunately seen worse. ;)"}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305727639,"creation_date":1305727639,"answer_id":6046058,"question_id":6045943,"body_markdown":"Yes, it was confusing enough ;) I don&#39;t get *why* you want to store keys without values instead just putting empty arraylists instead of `null`.\r\n\r\nAdding `null` may be a problem, because if you call \r\n\r\n    map.get(&quot;somekey&quot;);\r\n\r\nand receive a `null`, then you do not know, if the key is not found or if it is present but maps to `null`...","title":"adding a key to HashMap without the value?","body":"<p>Yes, it was confusing enough ;) I don't get <em>why</em> you want to store keys without values instead just putting empty arraylists instead of <code>null</code>.</p>\n\n<p>Adding <code>null</code> may be a problem, because if you call </p>\n\n<pre><code>map.get(\"somekey\");\n</code></pre>\n\n<p>and receive a <code>null</code>, then you do not know, if the key is not found or if it is present but maps to <code>null</code>...</p>\n"},{"tags":[],"owner":{"account_id":14413192,"reputation":35,"user_id":10411346,"display_name":"Suri Chitti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541492659,"creation_date":1541492659,"answer_id":53168187,"question_id":6045943,"body_markdown":"    //This program should answer your questions\r\n    import java.util.*;\r\n    public class attemptAddingtoHashMap { //Start of program\r\n    \r\n    //MAIN METHOD #################################################\r\n      \r\n    public static void main(String args[]) {  //main begins\r\n    \r\n    Map&lt;String, ArrayList&lt;Object&gt;&gt; hmTrial = new HashMap&lt;String, ArrayList&lt;Object&gt;&gt;(); \r\n    \r\n    ArrayList alTrial = new ArrayList();//No values now\r\n    \r\n    if (hmTrial.containsKey(&quot;first&quot;)) {\r\n    hmTrial.put(&quot;first&quot;, alTrial); }\r\n    \r\n    else {hmTrial.put(&quot;first&quot;,alTrial);}\r\n    //in either case, alTrial, an ArrayList was mapped to the string &quot;first&quot;\r\n    //if you choose to, you can also add objects to alTrial later\r\n    System.out.println(&quot;hmTrial is &quot; + hmTrial); //empty now\r\n    alTrial.add(&quot;h&quot;);\r\n    alTrial.add(&quot;e&quot;);\r\n    alTrial.add(&quot;l&quot;);\r\n    alTrial.add(&quot;l&quot;);\r\n    alTrial.add(&quot;o&quot;);\r\n    System.out.println(&quot;hmTrial is &quot; + hmTrial);//populated now\r\n    \r\n       } //end of main\r\n    //#############################################################################################################\r\n    \r\n    } //end of class\r\n    \r\n    //Note - removing objects from alTrial will remove the from the hashmap\r\n    //You can copy, paste and run this code on https://ide.geeksforgeeks.org/\r\n    \r\n","title":"adding a key to HashMap without the value?","body":"<pre><code>//This program should answer your questions\nimport java.util.*;\npublic class attemptAddingtoHashMap { //Start of program\n\n//MAIN METHOD #################################################\n\npublic static void main(String args[]) {  //main begins\n\nMap&lt;String, ArrayList&lt;Object&gt;&gt; hmTrial = new HashMap&lt;String, ArrayList&lt;Object&gt;&gt;(); \n\nArrayList alTrial = new ArrayList();//No values now\n\nif (hmTrial.containsKey(\"first\")) {\nhmTrial.put(\"first\", alTrial); }\n\nelse {hmTrial.put(\"first\",alTrial);}\n//in either case, alTrial, an ArrayList was mapped to the string \"first\"\n//if you choose to, you can also add objects to alTrial later\nSystem.out.println(\"hmTrial is \" + hmTrial); //empty now\nalTrial.add(\"h\");\nalTrial.add(\"e\");\nalTrial.add(\"l\");\nalTrial.add(\"l\");\nalTrial.add(\"o\");\nSystem.out.println(\"hmTrial is \" + hmTrial);//populated now\n\n   } //end of main\n//#############################################################################################################\n\n} //end of class\n\n//Note - removing objects from alTrial will remove the from the hashmap\n//You can copy, paste and run this code on https://ide.geeksforgeeks.org/\n</code></pre>\n"}],"owner":{"account_id":221289,"reputation":33511,"user_id":479180,"accept_rate":81,"display_name":"LuxuryMode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58447,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":6046027,"answer_count":5,"score":17,"last_activity_date":1676236698,"creation_date":1305727189,"question_id":6045943,"body_markdown":"Is there a way to add a key to a HashMap without also adding a value? I know it seems strange, but I have a `HashMap&lt;String, ArrayList&lt;Object&gt;&gt;` amd I want to first be able to create keys as needed and then check if a certain key exists and, if so, put the appropriate value, namely the `ArrayList&lt;Object&gt;`\r\n\r\nWas that confusing enough?\r\n\r\n","title":"adding a key to HashMap without the value?","body":"<p>Is there a way to add a key to a HashMap without also adding a value? I know it seems strange, but I have a <code>HashMap&lt;String, ArrayList&lt;Object&gt;&gt;</code> amd I want to first be able to create keys as needed and then check if a certain key exists and, if so, put the appropriate value, namely the <code>ArrayList&lt;Object&gt;</code></p>\n\n<p>Was that confusing enough?</p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673714016,"creation_date":1673714016,"answer_id":75119503,"question_id":75118375,"body_markdown":"Best embed one flow chart block into one new agent type and put Enter and Exit blocks around it. Then, instantiate 10 of them (or whatever the data says) and make the actual agents visit these flow chart agents one by one.\r\n\r\nSee the help on how to use Enter and Exit blocks ","title":"Anylogic simultanious number of flowchart parts","body":"<p>Best embed one flow chart block into one new agent type and put Enter and Exit blocks around it. Then, instantiate 10 of them (or whatever the data says) and make the actual agents visit these flow chart agents one by one.</p>\n<p>See the help on how to use Enter and Exit blocks</p>\n"}],"owner":{"account_id":27527886,"reputation":55,"user_id":21006896,"display_name":"FroggyJoggy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75119503,"answer_count":1,"score":0,"last_activity_date":1676236687,"creation_date":1673703703,"question_id":75118375,"body_markdown":"I want to add a number of short flowcharts parts which aren&#39;t special in a row. The flowchart are in a separate agent named Seperateflowchart. Via Excel I want to read in the number of flowchart parts in a row. If I read in 10, the flowchart part in the image is added 10 times in a row between my source and sink in the main. \r\n\r\nWell I basically don&#39;t have a good idea.","title":"Anylogic simultanious number of flowchart parts","body":"<p>I want to add a number of short flowcharts parts which aren't special in a row. The flowchart are in a separate agent named Seperateflowchart. Via Excel I want to read in the number of flowchart parts in a row. If I read in 10, the flowchart part in the image is added 10 times in a row between my source and sink in the main.</p>\n<p>Well I basically don't have a good idea.</p>\n"},{"tags":["java","android","performance","camera","android-camera2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676269394,"post_id":75430214,"comment_id":133096022,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":8000417,"reputation":61,"user_id":6035442,"display_name":"Muhammad Usman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676236399,"creation_date":1676236399,"question_id":75430214,"body_markdown":"How to use Camera2 and CameraX libraries to open android phone cameras faster using java programing language?\r\n\r\nI&#39;m using this lib     **implementation &#39;androidx.camera:camera-core:1.2.1&#39;**\r\n\r\nI&#39;m trying to implement camera functionality to open my phone camera using a latest library of google on the latest devices and open faster.","title":"How to use CameraX and Camera2 in android using java language?","body":"<p>How to use Camera2 and CameraX libraries to open android phone cameras faster using java programing language?</p>\n<p>I'm using this lib     <strong>implementation 'androidx.camera:camera-core:1.2.1'</strong></p>\n<p>I'm trying to implement camera functionality to open my phone camera using a latest library of google on the latest devices and open faster.</p>\n"},{"tags":["java","junit5","archunit"],"answers":[{"comments":[{"owner":{"account_id":371657,"reputation":2612,"user_id":720297,"accept_rate":73,"display_name":"Aldian"},"score":0,"creation_date":1676237731,"post_id":75430127,"comment_id":133092548,"body_markdown":"Hi, and thanks for your help! How would it look like in the hypothetical case where I would wish to allow `now()` and forbid `now(clock)`?","body":"Hi, and thanks for your help! How would it look like in the hypothetical case where I would wish to allow <code>now()</code> and forbid <code>now(clock)</code>?"},{"owner":{"account_id":371657,"reputation":2612,"user_id":720297,"accept_rate":73,"display_name":"Aldian"},"score":0,"creation_date":1676237954,"post_id":75430127,"comment_id":133092599,"body_markdown":"nvm, I just understood, you would have `.callMethod(LocalDateTime.class, &quot;now&quot; , Clock.class)`","body":"nvm, I just understood, you would have <code>.callMethod(LocalDateTime.class, &quot;now&quot; , Clock.class)</code>"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1676244928,"post_id":75430127,"comment_id":133093504,"body_markdown":"Right: `callMethod(LocalDateTime.class, &quot;now&quot;, Clock.class)` selects calls to `LocalDateTime.now` with exactly one `Clock` parameter.","body":"Right: <code>callMethod(LocalDateTime.class, &quot;now&quot;, Clock.class)</code> selects calls to <code>LocalDateTime.now</code> with exactly one <code>Clock</code> parameter."}],"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676235383,"creation_date":1676235383,"answer_id":75430127,"question_id":75430000,"body_markdown":"Using an IDE with code completion, you can browse the fluent API by starting with `noClasses().should().`… and looking at the suggestions. (Instead of `classes`/`noClasses`, you may also find other [`ArchRuleDefinition`](https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/syntax/ArchRuleDefinition.html)s like `fields`/`noFields` or `codeUnits`/`noCodeUnits` useful).\r\n\r\nIn your case, you might discover [`callMethod`](https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/syntax/elements/ClassesShould.html#callMethod(java.lang.Class,java.lang.String,java.lang.Class...)), where the provided method parameter types allow you to distinguish `LocalDateTime.now()` from `LocalDateTime.now(clock)`:\r\n\r\n\r\n```java\r\n@ArchTest\r\nArchRule no_LocalDateTime_now_without_clock = com.tngtech.archunit.lang.syntax.ArchRuleDefinition\r\n     .noClasses()\r\n     .should().callMethod(LocalDateTime.class, &quot;now&quot; /* without parameters */)\r\n     .because(&quot;we want to use `LocalDateTime.now(clock)` instead&quot;);\r\n```","title":"Ensure no LocalDateTime.now() with no arguments with Archunit, but accept LocalDateTime.now(clock)","body":"<p>Using an IDE with code completion, you can browse the fluent API by starting with <code>noClasses().should().</code>… and looking at the suggestions. (Instead of <code>classes</code>/<code>noClasses</code>, you may also find other <a href=\"https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/syntax/ArchRuleDefinition.html\" rel=\"nofollow noreferrer\"><code>ArchRuleDefinition</code></a>s like <code>fields</code>/<code>noFields</code> or <code>codeUnits</code>/<code>noCodeUnits</code> useful).</p>\n<p>In your case, you might discover <a href=\"https://javadoc.io/static/com.tngtech.archunit/archunit/1.0.1/com/tngtech/archunit/lang/syntax/elements/ClassesShould.html#callMethod(java.lang.Class,java.lang.String,java.lang.Class...)\" rel=\"nofollow noreferrer\"><code>callMethod</code></a>, where the provided method parameter types allow you to distinguish <code>LocalDateTime.now()</code> from <code>LocalDateTime.now(clock)</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nArchRule no_LocalDateTime_now_without_clock = com.tngtech.archunit.lang.syntax.ArchRuleDefinition\n     .noClasses()\n     .should().callMethod(LocalDateTime.class, &quot;now&quot; /* without parameters */)\n     .because(&quot;we want to use `LocalDateTime.now(clock)` instead&quot;);\n</code></pre>\n"}],"owner":{"account_id":371657,"reputation":2612,"user_id":720297,"accept_rate":73,"display_name":"Aldian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75430127,"answer_count":1,"score":0,"last_activity_date":1676235383,"creation_date":1676233934,"question_id":75430000,"body_markdown":"I am pretty new to Archunit and I am struggling to find in the docs how to make a rule that allow usage of `LocalDateTime.now(clock)` but forbids usage of `LocalDateTime.now()` (no argument)\r\n\r\nAny Idea?","title":"Ensure no LocalDateTime.now() with no arguments with Archunit, but accept LocalDateTime.now(clock)","body":"<p>I am pretty new to Archunit and I am struggling to find in the docs how to make a rule that allow usage of <code>LocalDateTime.now(clock)</code> but forbids usage of <code>LocalDateTime.now()</code> (no argument)</p>\n<p>Any Idea?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9569,"page":654,"page_size":100}
